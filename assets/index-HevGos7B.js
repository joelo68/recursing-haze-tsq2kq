function JV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function zs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ub={exports:{}},uf={};var VN;function e9(){if(VN)return uf;VN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return uf.Fragment=e,uf.jsx=n,uf.jsxs=n,uf}var UN;function t9(){return UN||(UN=1,Ub.exports=e9()),Ub.exports}var m=t9(),Bb={exports:{}},Ke={};var BN;function n9(){if(BN)return Ke;BN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function O(q,Y,X){this.props=q,this.context=Y,this.refs=E,this.updater=X||A}O.prototype.isReactComponent={},O.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},O.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function M(){}M.prototype=O.prototype;function R(q,Y,X){this.props=q,this.context=Y,this.refs=E,this.updater=X||A}var $=R.prototype=new M;$.constructor=R,S($,O.prototype),$.isPureReactComponent=!0;var k=Array.isArray;function z(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function I(q,Y,X){var re=X.ref;return{$$typeof:t,type:q,key:Y,ref:re!==void 0?re:null,props:X}}function L(q,Y){return I(q.type,Y,q.props)}function D(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function B(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(X){return Y[X]})}var V=/\/+/g;function ue(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):Y.toString(36)}function be(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(z,z):(q.status="pending",q.then(function(Y){q.status==="pending"&&(q.status="fulfilled",q.value=Y)},function(Y){q.status==="pending"&&(q.status="rejected",q.reason=Y)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function K(q,Y,X,re,Se){var se=typeof q;(se==="undefined"||se==="boolean")&&(q=null);var we=!1;if(q===null)we=!0;else switch(se){case"bigint":case"string":case"number":we=!0;break;case"object":switch(q.$$typeof){case t:case e:we=!0;break;case p:return we=q._init,K(we(q._payload),Y,X,re,Se)}}if(we)return Se=Se(q),we=re===""?"."+ue(q,0):re,k(Se)?(X="",we!=null&&(X=we.replace(V,"$&/")+"/"),K(Se,Y,X,"",function(je){return je})):Se!=null&&(D(Se)&&(Se=L(Se,X+(Se.key==null||q&&q.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+we)),Y.push(Se)),1;we=0;var Re=re===""?".":re+":";if(k(q))for(var ae=0;ae<q.length;ae++)re=q[ae],se=Re+ue(re,ae),we+=K(re,Y,X,se,Se);else if(ae=_(q),typeof ae=="function")for(q=ae.call(q),ae=0;!(re=q.next()).done;)re=re.value,se=Re+ue(re,ae++),we+=K(re,Y,X,se,Se);else if(se==="object"){if(typeof q.then=="function")return K(be(q),Y,X,re,Se);throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return we}function Z(q,Y,X){if(q==null)return q;var re=[],Se=0;return K(q,re,"","",function(se){return Y.call(X,se,Se++)}),re}function de(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(X){(q._status===0||q._status===-1)&&(q._status=1,q._result=X)},function(X){(q._status===0||q._status===-1)&&(q._status=2,q._result=X)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var he=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ce={map:Z,forEach:function(q,Y,X){Z(q,function(){Y.apply(this,arguments)},X)},count:function(q){var Y=0;return Z(q,function(){Y++}),Y},toArray:function(q){return Z(q,function(Y){return Y})||[]},only:function(q){if(!D(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ke.Activity=g,Ke.Children=ce,Ke.Component=O,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=R,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Ke.cache=function(q){return function(){return q.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(q,Y,X){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var re=S({},q.props),Se=q.key;if(Y!=null)for(se in Y.key!==void 0&&(Se=""+Y.key),Y)!j.call(Y,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&Y.ref===void 0||(re[se]=Y[se]);var se=arguments.length-2;if(se===1)re.children=X;else if(1<se){for(var we=Array(se),Re=0;Re<se;Re++)we[Re]=arguments[Re+2];re.children=we}return I(q.type,Se,re)},Ke.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Ke.createElement=function(q,Y,X){var re,Se={},se=null;if(Y!=null)for(re in Y.key!==void 0&&(se=""+Y.key),Y)j.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Se[re]=Y[re]);var we=arguments.length-2;if(we===1)Se.children=X;else if(1<we){for(var Re=Array(we),ae=0;ae<we;ae++)Re[ae]=arguments[ae+2];Se.children=Re}if(q&&q.defaultProps)for(re in we=q.defaultProps,we)Se[re]===void 0&&(Se[re]=we[re]);return I(q,se,Se)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(q){return{$$typeof:u,render:q}},Ke.isValidElement=D,Ke.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:de}},Ke.memo=function(q,Y){return{$$typeof:h,type:q,compare:Y===void 0?null:Y}},Ke.startTransition=function(q){var Y=N.T,X={};N.T=X;try{var re=q(),Se=N.S;Se!==null&&Se(X,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(z,he)}catch(se){he(se)}finally{Y!==null&&X.types!==null&&(Y.types=X.types),N.T=Y}},Ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ke.use=function(q){return N.H.use(q)},Ke.useActionState=function(q,Y,X){return N.H.useActionState(q,Y,X)},Ke.useCallback=function(q,Y){return N.H.useCallback(q,Y)},Ke.useContext=function(q){return N.H.useContext(q)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(q,Y){return N.H.useDeferredValue(q,Y)},Ke.useEffect=function(q,Y){return N.H.useEffect(q,Y)},Ke.useEffectEvent=function(q){return N.H.useEffectEvent(q)},Ke.useId=function(){return N.H.useId()},Ke.useImperativeHandle=function(q,Y,X){return N.H.useImperativeHandle(q,Y,X)},Ke.useInsertionEffect=function(q,Y){return N.H.useInsertionEffect(q,Y)},Ke.useLayoutEffect=function(q,Y){return N.H.useLayoutEffect(q,Y)},Ke.useMemo=function(q,Y){return N.H.useMemo(q,Y)},Ke.useOptimistic=function(q,Y){return N.H.useOptimistic(q,Y)},Ke.useReducer=function(q,Y,X){return N.H.useReducer(q,Y,X)},Ke.useRef=function(q){return N.H.useRef(q)},Ke.useState=function(q){return N.H.useState(q)},Ke.useSyncExternalStore=function(q,Y,X){return N.H.useSyncExternalStore(q,Y,X)},Ke.useTransition=function(){return N.H.useTransition()},Ke.version="19.2.3",Ke}var $N;function Hu(){return $N||($N=1,Bb.exports=n9()),Bb.exports}var w=Hu();const wk=zs(w),r9=JV({__proto__:null,default:wk},[w]);var $b={exports:{}},df={},qb={exports:{}},Fb={};var qN;function i9(){return qN||(qN=1,(function(t){function e(K,Z){var de=K.length;K.push(Z);e:for(;0<de;){var he=de-1>>>1,ce=K[he];if(0<i(ce,Z))K[he]=Z,K[de]=ce,de=he;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],de=K.pop();if(de!==Z){K[0]=de;e:for(var he=0,ce=K.length,q=ce>>>1;he<q;){var Y=2*(he+1)-1,X=K[Y],re=Y+1,Se=K[re];if(0>i(X,de))re<ce&&0>i(Se,X)?(K[he]=Se,K[re]=de,he=re):(K[he]=X,K[Y]=de,he=Y);else if(re<ce&&0>i(Se,de))K[he]=Se,K[re]=de,he=re;else break e}}return Z}function i(K,Z){var de=K.sortIndex-Z.sortIndex;return de!==0?de:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,b=3,_=!1,A=!1,S=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function $(K){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=K)r(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(h)}}function k(K){if(S=!1,$(K),!A)if(n(d)!==null)A=!0,z||(z=!0,B());else{var Z=n(h);Z!==null&&be(k,Z.startTime-K)}}var z=!1,N=-1,j=5,I=-1;function L(){return E?!0:!(t.unstable_now()-I<j)}function D(){if(E=!1,z){var K=t.unstable_now();I=K;var Z=!0;try{e:{A=!1,S&&(S=!1,M(N),N=-1),_=!0;var de=b;try{t:{for($(K),g=n(d);g!==null&&!(g.expirationTime>K&&L());){var he=g.callback;if(typeof he=="function"){g.callback=null,b=g.priorityLevel;var ce=he(g.expirationTime<=K);if(K=t.unstable_now(),typeof ce=="function"){g.callback=ce,$(K),Z=!0;break t}g===n(d)&&r(d),$(K)}else r(d);g=n(d)}if(g!==null)Z=!0;else{var q=n(h);q!==null&&be(k,q.startTime-K),Z=!1}}break e}finally{g=null,b=de,_=!1}Z=void 0}}finally{Z?B():z=!1}}}var B;if(typeof R=="function")B=function(){R(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ue=V.port2;V.port1.onmessage=D,B=function(){ue.postMessage(null)}}else B=function(){O(D,0)};function be(K,Z){N=O(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var de=b;b=Z;try{return K()}finally{b=de}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=b;b=K;try{return Z()}finally{b=de}},t.unstable_scheduleCallback=function(K,Z,de){var he=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?he+de:he):de=he,K){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=de+ce,K={id:p++,callback:Z,priorityLevel:K,startTime:de,expirationTime:ce,sortIndex:-1},de>he?(K.sortIndex=de,e(h,K),n(d)===null&&K===n(h)&&(S?(M(N),N=-1):S=!0,be(k,de-he))):(K.sortIndex=ce,e(d,K),A||_||(A=!0,z||(z=!0,B()))),K},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(K){var Z=b;return function(){var de=b;b=Z;try{return K.apply(this,arguments)}finally{b=de}}}})(Fb)),Fb}var FN;function a9(){return FN||(FN=1,qb.exports=i9()),qb.exports}var Hb={exports:{}},fr={};var HN;function s9(){if(HN)return fr;HN=1;var t=Hu();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fr.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,p)},fr.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},fr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},fr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},fr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},fr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},fr.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},fr.requestFormReset=function(d){r.d.r(d)},fr.unstable_batchedUpdates=function(d,h){return d(h)},fr.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},fr.useFormStatus=function(){return l.H.useHostTransitionStatus()},fr.version="19.2.3",fr}var KN;function Sk(){if(KN)return Hb.exports;KN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hb.exports=s9(),Hb.exports}var GN;function o9(){if(GN)return df;GN=1;var t=a9(),e=Hu(),n=Sk();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,f=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return d(y),a;if(x===f)return d(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==f.return)c=y,f=x;else{for(var C=!1,U=y.child;U;){if(U===c){C=!0,c=y,f=x;break}if(U===f){C=!0,f=y,c=x;break}U=U.sibling}if(!C){for(U=x.child;U;){if(U===c){C=!0,c=x,f=y;break}if(U===f){C=!0,f=x,c=y;break}U=U.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case z:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case R:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case $:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:ue(a.type)||"Memo";case j:o=a._payload,a=a._init;try{return ue(a(o))}catch{}}return null}var be=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},he=[],ce=-1;function q(a){return{current:a}}function Y(a){0>ce||(a.current=he[ce],he[ce]=null,ce--)}function X(a,o){ce++,he[ce]=a.current,a.current=o}var re=q(null),Se=q(null),se=q(null),we=q(null);function Re(a,o){switch(X(se,o),X(Se,a),X(re,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?lN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=lN(o),a=cN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(re),X(re,a)}function ae(){Y(re),Y(Se),Y(se)}function je(a){a.memoizedState!==null&&X(we,a);var o=re.current,c=cN(o,a.type);o!==c&&(X(Se,a),X(re,c))}function Ue(a){Se.current===a&&(Y(re),Y(Se)),we.current===a&&(Y(we),sf._currentValue=de)}var xe,xt;function Fe(a){if(xe===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",xt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+a+xt}var Lt=!1;function Bt(a,o){if(!a||Lt)return"";Lt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(le){var ie=le}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(le){ie=le}a.call(ge.prototype)}}else{try{throw Error()}catch(le){ie=le}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),C=x[0],U=x[1];if(C&&U){var G=C.split(`
`),ne=U.split(`
`);for(y=f=0;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;if(f===G.length||y===ne.length)for(f=G.length-1,y=ne.length-1;1<=f&&0<=y&&G[f]!==ne[y];)y--;for(;1<=f&&0<=y;f--,y--)if(G[f]!==ne[y]){if(f!==1||y!==1)do if(f--,y--,0>y||G[f]!==ne[y]){var fe=`
`+G[f].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=f&&0<=y);break}}}finally{Lt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Fe(c):""}function Bn(a,o){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==o&&o!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return Bt(a.type,!1);case 11:return Bt(a.type.render,!1);case 1:return Bt(a.type,!0);case 31:return Fe("Activity");default:return""}}function _r(a){try{var o="",c=null;do o+=Bn(a,c),c=a,a=a.return;while(a);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ze=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,wr=t.unstable_cancelCallback,Fa=t.unstable_shouldYield,Ws=t.unstable_requestPaint,un=t.unstable_now,Wr=t.unstable_getCurrentPriorityLevel,zi=t.unstable_ImmediatePriority,Vi=t.unstable_UserBlockingPriority,Xr=t.unstable_NormalPriority,Ha=t.unstable_LowPriority,ia=t.unstable_IdlePriority,Ka=t.log,Ga=t.unstable_setDisableYieldValue,Zn=null,Zt=null;function dr(a){if(typeof Ka=="function"&&Ga(a),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Zn,a)}catch{}}var $t=Math.clz32?Math.clz32:Qs,Xs=Math.log,aa=Math.LN2;function Qs(a){return a>>>=0,a===0?32:31-(Xs(a)/aa|0)|0}var Sr=256,Ui=262144,ve=4194304;function H(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function _e(a,o,c){var f=a.pendingLanes;if(f===0)return 0;var y=0,x=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var U=f&134217727;return U!==0?(f=U&~x,f!==0?y=H(f):(C&=U,C!==0?y=H(C):c||(c=U&~a,c!==0&&(y=H(c))))):(U=f&~x,U!==0?y=H(U):C!==0?y=H(C):c||(c=f&~a,c!==0&&(y=H(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function Ee(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Je(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _t(){var a=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),a}function Qr(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Er(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function cl(a,o,c,f,y,x){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var U=a.entanglements,G=a.expirationTimes,ne=a.hiddenUpdates;for(c=C&~c;0<c;){var fe=31-$t(c),ge=1<<fe;U[fe]=0,G[fe]=-1;var ie=ne[fe];if(ie!==null)for(ne[fe]=null,fe=0;fe<ie.length;fe++){var le=ie[fe];le!==null&&(le.lane&=-536870913)}c&=~ge}f!==0&&Ar(a,f,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(C&~o))}function Ar(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-$t(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function ul(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var f=31-$t(c),y=1<<f;y&o|a[f]&o&&(a[f]|=o),c&=~y}}function dl(a,o){var c=o&-o;return c=(c&42)!==0?1:Ya(c),(c&(a.suspendedLanes|o))!==0?0:c}function Ya(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ye(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function tn(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:PN(a.type))}function vn(a,o){var c=Z.p;try{return Z.p=a,o()}finally{Z.p=c}}var Bi=Math.random().toString(36).slice(2),yn="__reactFiber$"+Bi,$n="__reactProps$"+Bi,sa="__reactContainer$"+Bi,_c="__reactEvents$"+Bi,Ky="__reactListeners$"+Bi,Zh="__reactHandles$"+Bi,Jh="__reactResources$"+Bi,oa="__reactMarker$"+Bi;function wc(a){delete a[yn],delete a[$n],delete a[_c],delete a[Ky],delete a[Zh]}function la(a){var o=a[yn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[sa]||c[yn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=gN(a);a!==null;){if(c=a[yn])return c;a=gN(a)}return o}a=c,c=a.parentNode}return null}function mi(a){if(a=a[yn]||a[sa]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Zr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ca(a){var o=a[Jh];return o||(o=a[Jh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bn(a){a[oa]=!0}var fd=new Set,hd={};function ua(a,o){da(a,o),da(a+"Capture",o)}function da(a,o){for(hd[a]=o,a=0;a<o.length;a++)fd.add(o[a])}var md=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pd={},gd={};function em(a){return Ze.call(gd,a)?!0:Ze.call(pd,a)?!1:md.test(a)?gd[a]=!0:(pd[a]=!0,!1)}function Sc(a,o,c){if(em(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Jr(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function xn(a,o,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+f)}}function qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Zs(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vd(a,o,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,x=f.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,x.call(this,C)}}),Object.defineProperty(a,o,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function wt(a){if(!a._valueTracker){var o=Zs(a)?"checked":"value";a._valueTracker=vd(a,o,""+a[o])}}function fl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return a&&(f=Zs(a)?a.checked?"true":"false":a.value),a=f,a!==c?(o.setValue(a),!0):!1}function fa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var hl=/[\n"\\]/g;function Mr(a){return a.replace(hl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ec(a,o,c,f,y,x,C,U){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),o!=null?C==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+qn(o)):a.value!==""+qn(o)&&(a.value=""+qn(o)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),o!=null?yd(a,C,qn(o)):c!=null?yd(a,C,qn(c)):f!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+qn(U):a.removeAttribute("name")}function tm(a,o,c,f,y,x,C,U){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){wt(a);return}c=c!=null?""+qn(c):"",o=o!=null?""+qn(o):c,U||o===a.value||(a.value=o),a.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=U?a.checked:!!f,a.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),wt(a)}function yd(a,o,c){o==="number"&&fa(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Js(a,o,c,f){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&f&&(a[c].defaultSelected=!0)}else{for(c=""+qn(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function nm(a,o,c){if(o!=null&&(o=""+qn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+qn(c):""}function eo(a,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(r(92));if(be(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=qn(o),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),wt(a)}function Lr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var rm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(a,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,c):typeof c!="number"||c===0||rm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function xd(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&bd(a,y,f)}else for(var x in o)o.hasOwnProperty(x)&&bd(a,x,o[x])}function Ac(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tc(a){return to.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function $i(){}var _d=null;function pi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var no=null,ha=null;function ml(a){var o=mi(a);if(o&&(a=o.stateNode)){var c=a[$n]||null;e:switch(a=o.stateNode,o.type){case"input":if(Ec(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Mr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==a&&f.form===a.form){var y=f[$n]||null;if(!y)throw Error(r(90));Ec(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===a.form&&fl(f)}break e;case"textarea":nm(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Js(a,!!c.multiple,o,!1)}}}var Nc=!1;function ro(a,o,c){if(Nc)return a(o,c);Nc=!0;try{var f=a(o);return f}finally{if(Nc=!1,(no!==null||ha!==null)&&(Qm(),no&&(o=no,a=ha,ha=no=null,ml(o),a)))for(o=0;o<a.length;o++)ml(a[o])}}function qi(a,o){var c=a.stateNode;if(c===null)return null;var f=c[$n]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=!1;if(gi)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){pl=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{pl=!1}var ma=null,wd=null,gl=null;function Sd(){if(gl)return gl;var a,o=wd,c=o.length,f,y="value"in ma?ma.value:ma.textContent,x=y.length;for(a=0;a<c&&o[a]===y[a];a++);var C=c-a;for(f=1;f<=C&&o[c-f]===y[x-f];f++);return gl=y.slice(a,1<f?1-f:void 0)}function vl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Wa(){return!0}function Fi(){return!1}function Jn(a){function o(c,f,y,x,C){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(c=a[U],this[U]=c?c(x):x[U]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Wa:Fi,this.isPropagationStopped=Fi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),o}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Jn(Xa),io=g({},Xa,{view:0,detail:0}),Ed=Jn(io),ao,jc,ga,Cc=g({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ga&&(ga&&a.type==="mousemove"?(ao=a.screenX-ga.screenX,jc=a.screenY-ga.screenY):jc=ao=0,ga=a),ao)},movementY:function(a){return"movementY"in a?a.movementY:jc}}),Ad=Jn(Cc),yl=g({},Cc,{dataTransfer:0}),am=Jn(yl),sm=g({},io,{relatedTarget:0}),bl=Jn(sm),Td=g({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),om=Jn(Td),Oc=g({},Xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),lm=Jn(Oc),cm=g({},Xa,{data:0}),va=Jn(cm),um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=fm[a])?!!o[a]:!1}function so(){return hm}var Tr=g({},io,{key:function(a){if(a.key){var o=um[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=vl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?dm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(a){return a.type==="keypress"?vl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?vl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),mm=Jn(Tr),pm=g({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=Jn(pm),v=g({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),T=Jn(v),P=g({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=Jn(P),J=g({},Cc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=Jn(J),Ae=g({},Xa,{newState:0,oldState:0}),We=Jn(Ae),dn=[9,13,27,32],pt=gi&&"CompositionEvent"in window,Gt=null;gi&&"documentMode"in document&&(Gt=document.documentMode);var vi=gi&&"TextEvent"in window&&!Gt,ya=gi&&(!pt||Gt&&8<Gt&&11>=Gt),Hi=" ",Ki=!1;function xl(a,o){switch(a){case"keyup":return dn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ic(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Pc=!1;function Sz(a,o){switch(a){case"compositionend":return Ic(o);case"keypress":return o.which!==32?null:(Ki=!0,Hi);case"textInput":return a=o.data,a===Hi&&Ki?null:a;default:return null}}function Ez(a,o){if(Pc)return a==="compositionend"||!pt&&xl(a,o)?(a=Sd(),gl=wd=ma=null,Pc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ya&&o.locale!=="ko"?null:o.data;default:return null}}var Az={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Az[a.type]:o==="textarea"}function xA(a,o,c,f){no?ha?ha.push(f):ha=[f]:no=f,o=ip(o,"onChange"),0<o.length&&(c=new pa("onChange","change",null,c,f),a.push({event:c,listeners:o}))}var Nd=null,jd=null;function Tz(a){nN(a,0)}function gm(a){var o=Zr(a);if(fl(o))return a}function _A(a,o){if(a==="change")return o}var wA=!1;if(gi){var Gy;if(gi){var Yy="oninput"in document;if(!Yy){var SA=document.createElement("div");SA.setAttribute("oninput","return;"),Yy=typeof SA.oninput=="function"}Gy=Yy}else Gy=!1;wA=Gy&&(!document.documentMode||9<document.documentMode)}function EA(){Nd&&(Nd.detachEvent("onpropertychange",AA),jd=Nd=null)}function AA(a){if(a.propertyName==="value"&&gm(jd)){var o=[];xA(o,jd,a,pi(a)),ro(Tz,o)}}function Nz(a,o,c){a==="focusin"?(EA(),Nd=o,jd=c,Nd.attachEvent("onpropertychange",AA)):a==="focusout"&&EA()}function jz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gm(jd)}function Cz(a,o){if(a==="click")return gm(o)}function Oz(a,o){if(a==="input"||a==="change")return gm(o)}function Iz(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ei=typeof Object.is=="function"?Object.is:Iz;function Cd(a,o){if(ei(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Ze.call(o,y)||!ei(a[y],o[y]))return!1}return!0}function TA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function NA(a,o){var c=TA(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=o&&f>=o)return{node:c,offset:o-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=TA(c)}}function jA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?jA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function CA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=fa(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=fa(a.document)}return o}function Wy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Pz=gi&&"documentMode"in document&&11>=document.documentMode,Rc=null,Xy=null,Od=null,Qy=!1;function OA(a,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qy||Rc==null||Rc!==fa(f)||(f=Rc,"selectionStart"in f&&Wy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Od&&Cd(Od,f)||(Od=f,f=ip(Xy,"onSelect"),0<f.length&&(o=new pa("onSelect","select",null,o,c),a.push({event:o,listeners:f}),o.target=Rc)))}function _l(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var kc={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionrun:_l("Transition","TransitionRun"),transitionstart:_l("Transition","TransitionStart"),transitioncancel:_l("Transition","TransitionCancel"),transitionend:_l("Transition","TransitionEnd")},Zy={},IA={};gi&&(IA=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function wl(a){if(Zy[a])return Zy[a];if(!kc[a])return a;var o=kc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in IA)return Zy[a]=o[c];return a}var PA=wl("animationend"),RA=wl("animationiteration"),kA=wl("animationstart"),Rz=wl("transitionrun"),kz=wl("transitionstart"),Dz=wl("transitioncancel"),DA=wl("transitionend"),MA=new Map,Jy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jy.push("scrollEnd");function Gi(a,o){MA.set(a,o),ua(o,[a])}var vm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},yi=[],Dc=0,e0=0;function ym(){for(var a=Dc,o=e0=Dc=0;o<a;){var c=yi[o];yi[o++]=null;var f=yi[o];yi[o++]=null;var y=yi[o];yi[o++]=null;var x=yi[o];if(yi[o++]=null,f!==null&&y!==null){var C=f.pending;C===null?y.next=y:(y.next=C.next,C.next=y),f.pending=y}x!==0&&LA(c,y,x)}}function bm(a,o,c,f){yi[Dc++]=a,yi[Dc++]=o,yi[Dc++]=c,yi[Dc++]=f,e0|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function t0(a,o,c,f){return bm(a,o,c,f),xm(a)}function Sl(a,o){return bm(a,null,null,o),xm(a)}function LA(a,o,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,f=x.alternate,f!==null&&(f.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&o!==null&&(y=31-$t(c),a=x.hiddenUpdates,f=a[y],f===null?a[y]=[o]:f.push(o),o.lane=c|536870912),x):null}function xm(a){if(50<Zd)throw Zd=0,ub=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Mc={};function Mz(a,o,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(a,o,c,f){return new Mz(a,o,c,f)}function n0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Za(a,o){var c=a.alternate;return c===null?(c=ti(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function zA(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function _m(a,o,c,f,y,x){var C=0;if(f=a,typeof a=="function")n0(a)&&(C=1);else if(typeof a=="string")C=BV(a,c,re.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=ti(31,c,o,y),a.elementType=I,a.lanes=x,a;case S:return El(c.children,y,x,o);case E:C=8,y|=24;break;case O:return a=ti(12,c,o,y|2),a.elementType=O,a.lanes=x,a;case k:return a=ti(13,c,o,y),a.elementType=k,a.lanes=x,a;case z:return a=ti(19,c,o,y),a.elementType=z,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:C=10;break e;case M:C=9;break e;case $:C=11;break e;case N:C=14;break e;case j:C=16,f=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),f=null}return o=ti(C,c,o,y),o.elementType=a,o.type=f,o.lanes=x,o}function El(a,o,c,f){return a=ti(7,a,f,o),a.lanes=c,a}function r0(a,o,c){return a=ti(6,a,null,o),a.lanes=c,a}function VA(a){var o=ti(18,null,null,0);return o.stateNode=a,o}function i0(a,o,c){return o=ti(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var UA=new WeakMap;function bi(a,o){if(typeof a=="object"&&a!==null){var c=UA.get(a);return c!==void 0?c:(o={value:a,source:o,stack:_r(o)},UA.set(a,o),o)}return{value:a,source:o,stack:_r(o)}}var Lc=[],zc=0,wm=null,Id=0,xi=[],_i=0,oo=null,ba=1,xa="";function Ja(a,o){Lc[zc++]=Id,Lc[zc++]=wm,wm=a,Id=o}function BA(a,o,c){xi[_i++]=ba,xi[_i++]=xa,xi[_i++]=oo,oo=a;var f=ba;a=xa;var y=32-$t(f)-1;f&=~(1<<y),c+=1;var x=32-$t(o)+y;if(30<x){var C=y-y%5;x=(f&(1<<C)-1).toString(32),f>>=C,y-=C,ba=1<<32-$t(o)+y|c<<y|f,xa=x+a}else ba=1<<x|c<<y|f,xa=a}function a0(a){a.return!==null&&(Ja(a,1),BA(a,1,0))}function s0(a){for(;a===wm;)wm=Lc[--zc],Lc[zc]=null,Id=Lc[--zc],Lc[zc]=null;for(;a===oo;)oo=xi[--_i],xi[_i]=null,xa=xi[--_i],xi[_i]=null,ba=xi[--_i],xi[_i]=null}function $A(a,o){xi[_i++]=ba,xi[_i++]=xa,xi[_i++]=oo,ba=o.id,xa=o.overflow,oo=a}var er=null,qt=null,lt=!1,lo=null,wi=!1,o0=Error(r(519));function co(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pd(bi(o,a)),o0}function qA(a){var o=a.stateNode,c=a.type,f=a.memoizedProps;switch(o[yn]=a,o[$n]=f,c){case"dialog":tt("cancel",o),tt("close",o);break;case"iframe":case"object":case"embed":tt("load",o);break;case"video":case"audio":for(c=0;c<ef.length;c++)tt(ef[c],o);break;case"source":tt("error",o);break;case"img":case"image":case"link":tt("error",o),tt("load",o);break;case"details":tt("toggle",o);break;case"input":tt("invalid",o),tm(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":tt("invalid",o);break;case"textarea":tt("invalid",o),eo(o,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||sN(o.textContent,c)?(f.popover!=null&&(tt("beforetoggle",o),tt("toggle",o)),f.onScroll!=null&&tt("scroll",o),f.onScrollEnd!=null&&tt("scrollend",o),f.onClick!=null&&(o.onclick=$i),o=!0):o=!1,o||co(a,!0)}function FA(a){for(er=a.return;er;)switch(er.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:er=er.return}}function Vc(a){if(a!==er)return!1;if(!lt)return FA(a),lt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Ab(a.type,a.memoizedProps)),c=!c),c&&qt&&co(a),FA(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));qt=pN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));qt=pN(a)}else o===27?(o=qt,Eo(a.type)?(a=Ob,Ob=null,qt=a):qt=o):qt=er?Ei(a.stateNode.nextSibling):null;return!0}function Al(){qt=er=null,lt=!1}function l0(){var a=lo;return a!==null&&(Br===null?Br=a:Br.push.apply(Br,a),lo=null),a}function Pd(a){lo===null?lo=[a]:lo.push(a)}var c0=q(null),Tl=null,es=null;function uo(a,o,c){X(c0,o._currentValue),o._currentValue=c}function ts(a){a._currentValue=c0.current,Y(c0)}function u0(a,o,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===c)break;a=a.return}}function d0(a,o,c,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var C=y.child;x=x.firstContext;e:for(;x!==null;){var U=x;x=y;for(var G=0;G<o.length;G++)if(U.context===o[G]){x.lanes|=c,U=x.alternate,U!==null&&(U.lanes|=c),u0(x.return,c,a),f||(C=null);break e}x=U.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,x=C.alternate,x!==null&&(x.lanes|=c),u0(C,c,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Uc(a,o,c,f){a=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var U=y.type;ei(y.pendingProps.value,C.value)||(a!==null?a.push(U):a=[U])}}else if(y===we.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(sf):a=[sf])}y=y.return}a!==null&&d0(o,a,c,f),o.flags|=262144}function Sm(a){for(a=a.firstContext;a!==null;){if(!ei(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Nl(a){Tl=a,es=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function tr(a){return HA(Tl,a)}function Em(a,o){return Tl===null&&Nl(a),HA(a,o)}function HA(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},es===null){if(a===null)throw Error(r(308));es=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else es=es.next=o;return c}var Lz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},zz=t.unstable_scheduleCallback,Vz=t.unstable_NormalPriority,_n={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function f0(){return{controller:new Lz,data:new Map,refCount:0}}function Rd(a){a.refCount--,a.refCount===0&&zz(Vz,function(){a.controller.abort()})}var kd=null,h0=0,Bc=0,$c=null;function Uz(a,o){if(kd===null){var c=kd=[];h0=0,Bc=gb(),$c={status:"pending",value:void 0,then:function(f){c.push(f)}}}return h0++,o.then(KA,KA),o}function KA(){if(--h0===0&&kd!==null){$c!==null&&($c.status="fulfilled");var a=kd;kd=null,Bc=0,$c=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Bz(a,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var GA=K.S;K.S=function(a,o){O2=un(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Uz(a,o),GA!==null&&GA(a,o)};var jl=q(null);function m0(){var a=jl.current;return a!==null?a:Rt.pooledCache}function Am(a,o){o===null?X(jl,jl.current):X(jl,o.pool)}function YA(){var a=m0();return a===null?null:{parent:_n._currentValue,pool:a}}var qc=Error(r(460)),p0=Error(r(474)),Tm=Error(r(542)),Nm={then:function(){}};function WA(a){return a=a.status,a==="fulfilled"||a==="rejected"}function XA(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then($i,$i),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ZA(a),a;default:if(typeof o.status=="string")o.then($i,$i);else{if(a=Rt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ZA(a),a}throw Ol=o,qc}}function Cl(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ol=c,qc):c}}var Ol=null;function QA(){if(Ol===null)throw Error(r(459));var a=Ol;return Ol=null,a}function ZA(a){if(a===qc||a===Tm)throw Error(r(483))}var Fc=null,Dd=0;function jm(a){var o=Dd;return Dd+=1,Fc===null&&(Fc=[]),XA(Fc,a,o)}function Md(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Cm(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function JA(a){function o(Q,W){if(a){var te=Q.deletions;te===null?(Q.deletions=[W],Q.flags|=16):te.push(W)}}function c(Q,W){if(!a)return null;for(;W!==null;)o(Q,W),W=W.sibling;return null}function f(Q){for(var W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function y(Q,W){return Q=Za(Q,W),Q.index=0,Q.sibling=null,Q}function x(Q,W,te){return Q.index=te,a?(te=Q.alternate,te!==null?(te=te.index,te<W?(Q.flags|=67108866,W):te):(Q.flags|=67108866,W)):(Q.flags|=1048576,W)}function C(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function U(Q,W,te,pe){return W===null||W.tag!==6?(W=r0(te,Q.mode,pe),W.return=Q,W):(W=y(W,te),W.return=Q,W)}function G(Q,W,te,pe){var Me=te.type;return Me===S?fe(Q,W,te.props.children,pe,te.key):W!==null&&(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===j&&Cl(Me)===W.type)?(W=y(W,te.props),Md(W,te),W.return=Q,W):(W=_m(te.type,te.key,te.props,null,Q.mode,pe),Md(W,te),W.return=Q,W)}function ne(Q,W,te,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=i0(te,Q.mode,pe),W.return=Q,W):(W=y(W,te.children||[]),W.return=Q,W)}function fe(Q,W,te,pe,Me){return W===null||W.tag!==7?(W=El(te,Q.mode,pe,Me),W.return=Q,W):(W=y(W,te),W.return=Q,W)}function ge(Q,W,te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=r0(""+W,Q.mode,te),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return te=_m(W.type,W.key,W.props,null,Q.mode,te),Md(te,W),te.return=Q,te;case A:return W=i0(W,Q.mode,te),W.return=Q,W;case j:return W=Cl(W),ge(Q,W,te)}if(be(W)||B(W))return W=El(W,Q.mode,te,null),W.return=Q,W;if(typeof W.then=="function")return ge(Q,jm(W),te);if(W.$$typeof===R)return ge(Q,Em(Q,W),te);Cm(Q,W)}return null}function ie(Q,W,te,pe){var Me=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Me!==null?null:U(Q,W,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return te.key===Me?G(Q,W,te,pe):null;case A:return te.key===Me?ne(Q,W,te,pe):null;case j:return te=Cl(te),ie(Q,W,te,pe)}if(be(te)||B(te))return Me!==null?null:fe(Q,W,te,pe,null);if(typeof te.then=="function")return ie(Q,W,jm(te),pe);if(te.$$typeof===R)return ie(Q,W,Em(Q,te),pe);Cm(Q,te)}return null}function le(Q,W,te,pe,Me){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Q=Q.get(te)||null,U(W,Q,""+pe,Me);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:return Q=Q.get(pe.key===null?te:pe.key)||null,G(W,Q,pe,Me);case A:return Q=Q.get(pe.key===null?te:pe.key)||null,ne(W,Q,pe,Me);case j:return pe=Cl(pe),le(Q,W,te,pe,Me)}if(be(pe)||B(pe))return Q=Q.get(te)||null,fe(W,Q,pe,Me,null);if(typeof pe.then=="function")return le(Q,W,te,jm(pe),Me);if(pe.$$typeof===R)return le(Q,W,te,Em(W,pe),Me);Cm(W,pe)}return null}function Ie(Q,W,te,pe){for(var Me=null,ft=null,De=W,Qe=W=0,it=null;De!==null&&Qe<te.length;Qe++){De.index>Qe?(it=De,De=null):it=De.sibling;var ht=ie(Q,De,te[Qe],pe);if(ht===null){De===null&&(De=it);break}a&&De&&ht.alternate===null&&o(Q,De),W=x(ht,W,Qe),ft===null?Me=ht:ft.sibling=ht,ft=ht,De=it}if(Qe===te.length)return c(Q,De),lt&&Ja(Q,Qe),Me;if(De===null){for(;Qe<te.length;Qe++)De=ge(Q,te[Qe],pe),De!==null&&(W=x(De,W,Qe),ft===null?Me=De:ft.sibling=De,ft=De);return lt&&Ja(Q,Qe),Me}for(De=f(De);Qe<te.length;Qe++)it=le(De,Q,Qe,te[Qe],pe),it!==null&&(a&&it.alternate!==null&&De.delete(it.key===null?Qe:it.key),W=x(it,W,Qe),ft===null?Me=it:ft.sibling=it,ft=it);return a&&De.forEach(function(Co){return o(Q,Co)}),lt&&Ja(Q,Qe),Me}function ze(Q,W,te,pe){if(te==null)throw Error(r(151));for(var Me=null,ft=null,De=W,Qe=W=0,it=null,ht=te.next();De!==null&&!ht.done;Qe++,ht=te.next()){De.index>Qe?(it=De,De=null):it=De.sibling;var Co=ie(Q,De,ht.value,pe);if(Co===null){De===null&&(De=it);break}a&&De&&Co.alternate===null&&o(Q,De),W=x(Co,W,Qe),ft===null?Me=Co:ft.sibling=Co,ft=Co,De=it}if(ht.done)return c(Q,De),lt&&Ja(Q,Qe),Me;if(De===null){for(;!ht.done;Qe++,ht=te.next())ht=ge(Q,ht.value,pe),ht!==null&&(W=x(ht,W,Qe),ft===null?Me=ht:ft.sibling=ht,ft=ht);return lt&&Ja(Q,Qe),Me}for(De=f(De);!ht.done;Qe++,ht=te.next())ht=le(De,Q,Qe,ht.value,pe),ht!==null&&(a&&ht.alternate!==null&&De.delete(ht.key===null?Qe:ht.key),W=x(ht,W,Qe),ft===null?Me=ht:ft.sibling=ht,ft=ht);return a&&De.forEach(function(ZV){return o(Q,ZV)}),lt&&Ja(Q,Qe),Me}function Ct(Q,W,te,pe){if(typeof te=="object"&&te!==null&&te.type===S&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case _:e:{for(var Me=te.key;W!==null;){if(W.key===Me){if(Me=te.type,Me===S){if(W.tag===7){c(Q,W.sibling),pe=y(W,te.props.children),pe.return=Q,Q=pe;break e}}else if(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===j&&Cl(Me)===W.type){c(Q,W.sibling),pe=y(W,te.props),Md(pe,te),pe.return=Q,Q=pe;break e}c(Q,W);break}else o(Q,W);W=W.sibling}te.type===S?(pe=El(te.props.children,Q.mode,pe,te.key),pe.return=Q,Q=pe):(pe=_m(te.type,te.key,te.props,null,Q.mode,pe),Md(pe,te),pe.return=Q,Q=pe)}return C(Q);case A:e:{for(Me=te.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){c(Q,W.sibling),pe=y(W,te.children||[]),pe.return=Q,Q=pe;break e}else{c(Q,W);break}else o(Q,W);W=W.sibling}pe=i0(te,Q.mode,pe),pe.return=Q,Q=pe}return C(Q);case j:return te=Cl(te),Ct(Q,W,te,pe)}if(be(te))return Ie(Q,W,te,pe);if(B(te)){if(Me=B(te),typeof Me!="function")throw Error(r(150));return te=Me.call(te),ze(Q,W,te,pe)}if(typeof te.then=="function")return Ct(Q,W,jm(te),pe);if(te.$$typeof===R)return Ct(Q,W,Em(Q,te),pe);Cm(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,W!==null&&W.tag===6?(c(Q,W.sibling),pe=y(W,te),pe.return=Q,Q=pe):(c(Q,W),pe=r0(te,Q.mode,pe),pe.return=Q,Q=pe),C(Q)):c(Q,W)}return function(Q,W,te,pe){try{Dd=0;var Me=Ct(Q,W,te,pe);return Fc=null,Me}catch(De){if(De===qc||De===Tm)throw De;var ft=ti(29,De,null,Q.mode);return ft.lanes=pe,ft.return=Q,ft}}}var Il=JA(!0),eT=JA(!1),fo=!1;function g0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function v0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ho(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function mo(a,o,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(gt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=xm(a),LA(a,null,c),o}return bm(a,f,o,c),xm(a)}function Ld(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,c|=f,o.lanes=c,ul(a,c)}}function y0(a,o){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var b0=!1;function zd(){if(b0){var a=$c;if(a!==null)throw a}}function Vd(a,o,c,f){b0=!1;var y=a.updateQueue;fo=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var G=U,ne=G.next;G.next=null,C===null?x=ne:C.next=ne,C=G;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,U=fe.lastBaseUpdate,U!==C&&(U===null?fe.firstBaseUpdate=ne:U.next=ne,fe.lastBaseUpdate=G))}if(x!==null){var ge=y.baseState;C=0,fe=ne=G=null,U=x;do{var ie=U.lane&-536870913,le=ie!==U.lane;if(le?(rt&ie)===ie:(f&ie)===ie){ie!==0&&ie===Bc&&(b0=!0),fe!==null&&(fe=fe.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Ie=a,ze=U;ie=o;var Ct=c;switch(ze.tag){case 1:if(Ie=ze.payload,typeof Ie=="function"){ge=Ie.call(Ct,ge,ie);break e}ge=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ze.payload,ie=typeof Ie=="function"?Ie.call(Ct,ge,ie):Ie,ie==null)break e;ge=g({},ge,ie);break e;case 2:fo=!0}}ie=U.callback,ie!==null&&(a.flags|=64,le&&(a.flags|=8192),le=y.callbacks,le===null?y.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:U.tag,payload:U.payload,callback:U.callback,next:null},fe===null?(ne=fe=le,G=ge):fe=fe.next=le,C|=ie;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;le=U,U=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);fe===null&&(G=ge),y.baseState=G,y.firstBaseUpdate=ne,y.lastBaseUpdate=fe,x===null&&(y.shared.lanes=0),bo|=C,a.lanes=C,a.memoizedState=ge}}function tT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function nT(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)tT(c[a],o)}var Hc=q(null),Om=q(0);function rT(a,o){a=us,X(Om,a),X(Hc,o),us=a|o.baseLanes}function x0(){X(Om,us),X(Hc,Hc.current)}function _0(){us=Om.current,Y(Hc),Y(Om)}var ni=q(null),Si=null;function po(a){var o=a.alternate;X(fn,fn.current&1),X(ni,a),Si===null&&(o===null||Hc.current!==null||o.memoizedState!==null)&&(Si=a)}function w0(a){X(fn,fn.current),X(ni,a),Si===null&&(Si=a)}function iT(a){a.tag===22?(X(fn,fn.current),X(ni,a),Si===null&&(Si=a)):go()}function go(){X(fn,fn.current),X(ni,ni.current)}function ri(a){Y(ni),Si===a&&(Si=null),Y(fn)}var fn=q(0);function Im(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||jb(c)||Cb(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ns=0,Xe=null,Nt=null,wn=null,Pm=!1,Kc=!1,Pl=!1,Rm=0,Ud=0,Gc=null,$z=0;function nn(){throw Error(r(321))}function S0(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!ei(a[c],o[c]))return!1;return!0}function E0(a,o,c,f,y,x){return ns=x,Xe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=a===null||a.memoizedState===null?BT:V0,Pl=!1,x=c(f,y),Pl=!1,Kc&&(x=sT(o,c,f,y)),aT(a),x}function aT(a){K.H=qd;var o=Nt!==null&&Nt.next!==null;if(ns=0,wn=Nt=Xe=null,Pm=!1,Ud=0,Gc=null,o)throw Error(r(300));a===null||Sn||(a=a.dependencies,a!==null&&Sm(a)&&(Sn=!0))}function sT(a,o,c,f){Xe=a;var y=0;do{if(Kc&&(Gc=null),Ud=0,Kc=!1,25<=y)throw Error(r(301));if(y+=1,wn=Nt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=$T,x=o(c,f)}while(Kc);return x}function qz(){var a=K.H,o=a.useState()[0];return o=typeof o.then=="function"?Bd(o):o,a=a.useState()[0],(Nt!==null?Nt.memoizedState:null)!==a&&(Xe.flags|=1024),o}function A0(){var a=Rm!==0;return Rm=0,a}function T0(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function N0(a){if(Pm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Pm=!1}ns=0,wn=Nt=Xe=null,Kc=!1,Ud=Rm=0,Gc=null}function Nr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Xe.memoizedState=wn=a:wn=wn.next=a,wn}function hn(){if(Nt===null){var a=Xe.alternate;a=a!==null?a.memoizedState:null}else a=Nt.next;var o=wn===null?Xe.memoizedState:wn.next;if(o!==null)wn=o,Nt=a;else{if(a===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Nt=a,a={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},wn===null?Xe.memoizedState=wn=a:wn=wn.next=a}return wn}function km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bd(a){var o=Ud;return Ud+=1,Gc===null&&(Gc=[]),a=XA(Gc,a,o),o=Xe,(wn===null?o.memoizedState:wn.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?BT:V0),a}function Dm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Bd(a);if(a.$$typeof===R)return tr(a)}throw Error(r(438,String(a)))}function j0(a){var o=null,c=Xe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=Xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=km(),Xe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),f=0;f<a;f++)c[f]=L;return o.index++,c}function rs(a,o){return typeof o=="function"?o(a):o}function Mm(a){var o=hn();return C0(o,Nt,a)}function C0(a,o,c){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var y=a.baseQueue,x=f.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}o.baseQueue=y=x,f.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{o=y.next;var U=C=null,G=null,ne=o,fe=!1;do{var ge=ne.lane&-536870913;if(ge!==ne.lane?(rt&ge)===ge:(ns&ge)===ge){var ie=ne.revertLane;if(ie===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ge===Bc&&(fe=!0);else if((ns&ie)===ie){ne=ne.next,ie===Bc&&(fe=!0);continue}else ge={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(U=G=ge,C=x):G=G.next=ge,Xe.lanes|=ie,bo|=ie;ge=ne.action,Pl&&c(x,ge),x=ne.hasEagerState?ne.eagerState:c(x,ge)}else ie={lane:ge,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(U=G=ie,C=x):G=G.next=ie,Xe.lanes|=ge,bo|=ge;ne=ne.next}while(ne!==null&&ne!==o);if(G===null?C=x:G.next=U,!ei(x,a.memoizedState)&&(Sn=!0,fe&&(c=$c,c!==null)))throw c;a.memoizedState=x,a.baseState=C,a.baseQueue=G,f.lastRenderedState=x}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function O0(a){var o=hn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do x=a(x,C.action),C=C.next;while(C!==y);ei(x,o.memoizedState)||(Sn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function oT(a,o,c){var f=Xe,y=hn(),x=lt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!ei((Nt||y).memoizedState,c);if(C&&(y.memoizedState=c,Sn=!0),y=y.queue,R0(uT.bind(null,f,y,a),[a]),y.getSnapshot!==o||C||wn!==null&&wn.memoizedState.tag&1){if(f.flags|=2048,Yc(9,{destroy:void 0},cT.bind(null,f,y,c,o),null),Rt===null)throw Error(r(349));x||(ns&127)!==0||lT(f,o,c)}return c}function lT(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Xe.updateQueue,o===null?(o=km(),Xe.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function cT(a,o,c,f){o.value=c,o.getSnapshot=f,dT(o)&&fT(a)}function uT(a,o,c){return c(function(){dT(o)&&fT(a)})}function dT(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!ei(a,c)}catch{return!0}}function fT(a){var o=Sl(a,2);o!==null&&$r(o,a,2)}function I0(a){var o=Nr();if(typeof a=="function"){var c=a;if(a=c(),Pl){dr(!0);try{c()}finally{dr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},o}function hT(a,o,c,f){return a.baseState=c,C0(a,Nt,typeof f=="function"?f:rs)}function Fz(a,o,c,f,y){if(Vm(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};K.T!==null?c(!0):x.isTransition=!1,f(x),c=o.pending,c===null?(x.next=o.pending=x,mT(o,x)):(x.next=c.next,o.pending=c.next=x)}}function mT(a,o){var c=o.action,f=o.payload,y=a.state;if(o.isTransition){var x=K.T,C={};K.T=C;try{var U=c(y,f),G=K.S;G!==null&&G(C,U),pT(a,o,U)}catch(ne){P0(a,o,ne)}finally{x!==null&&C.types!==null&&(x.types=C.types),K.T=x}}else try{x=c(y,f),pT(a,o,x)}catch(ne){P0(a,o,ne)}}function pT(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){gT(a,o,f)},function(f){return P0(a,o,f)}):gT(a,o,c)}function gT(a,o,c){o.status="fulfilled",o.value=c,vT(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,mT(a,c)))}function P0(a,o,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,vT(o),o=o.next;while(o!==f)}a.action=null}function vT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function yT(a,o){return o}function bT(a,o){if(lt){var c=Rt.formState;if(c!==null){e:{var f=Xe;if(lt){if(qt){t:{for(var y=qt,x=wi;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ei(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){qt=Ei(y.nextSibling),f=y.data==="F!";break e}}co(f)}f=!1}f&&(o=c[0])}}return c=Nr(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yT,lastRenderedState:o},c.queue=f,c=zT.bind(null,Xe,f),f.dispatch=c,f=I0(!1),x=z0.bind(null,Xe,!1,f.queue),f=Nr(),y={state:o,dispatch:null,action:a,pending:null},f.queue=y,c=Fz.bind(null,Xe,y,x,c),y.dispatch=c,f.memoizedState=a,[o,c,!1]}function xT(a){var o=hn();return _T(o,Nt,a)}function _T(a,o,c){if(o=C0(a,o,yT)[0],a=Mm(rs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Bd(o)}catch(C){throw C===qc?Tm:C}else f=o;o=hn();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(Xe.flags|=2048,Yc(9,{destroy:void 0},Hz.bind(null,y,c),null)),[f,x,a]}function Hz(a,o){a.action=o}function wT(a){var o=hn(),c=Nt;if(c!==null)return _T(o,c,a);hn(),o=o.memoizedState,c=hn();var f=c.queue.dispatch;return c.memoizedState=a,[o,f,!1]}function Yc(a,o,c,f){return a={tag:a,create:c,deps:f,inst:o,next:null},o=Xe.updateQueue,o===null&&(o=km(),Xe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,o.lastEffect=a),a}function ST(){return hn().memoizedState}function Lm(a,o,c,f){var y=Nr();Xe.flags|=a,y.memoizedState=Yc(1|o,{destroy:void 0},c,f===void 0?null:f)}function zm(a,o,c,f){var y=hn();f=f===void 0?null:f;var x=y.memoizedState.inst;Nt!==null&&f!==null&&S0(f,Nt.memoizedState.deps)?y.memoizedState=Yc(o,x,c,f):(Xe.flags|=a,y.memoizedState=Yc(1|o,x,c,f))}function ET(a,o){Lm(8390656,8,a,o)}function R0(a,o){zm(2048,8,a,o)}function Kz(a){Xe.flags|=4;var o=Xe.updateQueue;if(o===null)o=km(),Xe.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function AT(a){var o=hn().memoizedState;return Kz({ref:o,nextImpl:a}),function(){if((gt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function TT(a,o){return zm(4,2,a,o)}function NT(a,o){return zm(4,4,a,o)}function jT(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function CT(a,o,c){c=c!=null?c.concat([a]):null,zm(4,4,jT.bind(null,o,a),c)}function k0(){}function OT(a,o){var c=hn();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&S0(o,f[1])?f[0]:(c.memoizedState=[a,o],a)}function IT(a,o){var c=hn();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&S0(o,f[1]))return f[0];if(f=a(),Pl){dr(!0);try{a()}finally{dr(!1)}}return c.memoizedState=[f,o],f}function D0(a,o,c){return c===void 0||(ns&1073741824)!==0&&(rt&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=P2(),Xe.lanes|=a,bo|=a,c)}function PT(a,o,c,f){return ei(c,o)?c:Hc.current!==null?(a=D0(a,c,f),ei(a,o)||(Sn=!0),a):(ns&42)===0||(ns&1073741824)!==0&&(rt&261930)===0?(Sn=!0,a.memoizedState=c):(a=P2(),Xe.lanes|=a,bo|=a,o)}function RT(a,o,c,f,y){var x=Z.p;Z.p=x!==0&&8>x?x:8;var C=K.T,U={};K.T=U,z0(a,!1,o,c);try{var G=y(),ne=K.S;if(ne!==null&&ne(U,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var fe=Bz(G,f);$d(a,o,fe,si(a))}else $d(a,o,f,si(a))}catch(ge){$d(a,o,{then:function(){},status:"rejected",reason:ge},si())}finally{Z.p=x,C!==null&&U.types!==null&&(C.types=U.types),K.T=C}}function Gz(){}function M0(a,o,c,f){if(a.tag!==5)throw Error(r(476));var y=kT(a).queue;RT(a,y,o,de,c===null?Gz:function(){return DT(a),c(f)})}function kT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:de},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function DT(a){var o=kT(a);o.next===null&&(o=a.alternate.memoizedState),$d(a,o.next.queue,{},si())}function L0(){return tr(sf)}function MT(){return hn().memoizedState}function LT(){return hn().memoizedState}function Yz(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=si();a=ho(c);var f=mo(o,a,c);f!==null&&($r(f,o,c),Ld(f,o,c)),o={cache:f0()},a.payload=o;return}o=o.return}}function Wz(a,o,c){var f=si();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vm(a)?VT(o,c):(c=t0(a,o,c,f),c!==null&&($r(c,a,f),UT(c,o,f)))}function zT(a,o,c){var f=si();$d(a,o,c,f)}function $d(a,o,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Vm(a))VT(o,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var C=o.lastRenderedState,U=x(C,c);if(y.hasEagerState=!0,y.eagerState=U,ei(U,C))return bm(a,o,y,0),Rt===null&&ym(),!1}catch{}if(c=t0(a,o,y,f),c!==null)return $r(c,a,f),UT(c,o,f),!0}return!1}function z0(a,o,c,f){if(f={lane:2,revertLane:gb(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Vm(a)){if(o)throw Error(r(479))}else o=t0(a,c,f,2),o!==null&&$r(o,a,2)}function Vm(a){var o=a.alternate;return a===Xe||o!==null&&o===Xe}function VT(a,o){Kc=Pm=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function UT(a,o,c){if((c&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,c|=f,o.lanes=c,ul(a,c)}}var qd={readContext:tr,use:Dm,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};qd.useEffectEvent=nn;var BT={readContext:tr,use:Dm,useCallback:function(a,o){return Nr().memoizedState=[a,o===void 0?null:o],a},useContext:tr,useEffect:ET,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Lm(4194308,4,jT.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Lm(4194308,4,a,o)},useInsertionEffect:function(a,o){Lm(4,2,a,o)},useMemo:function(a,o){var c=Nr();o=o===void 0?null:o;var f=a();if(Pl){dr(!0);try{a()}finally{dr(!1)}}return c.memoizedState=[f,o],f},useReducer:function(a,o,c){var f=Nr();if(c!==void 0){var y=c(o);if(Pl){dr(!0);try{c(o)}finally{dr(!1)}}}else y=o;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=Wz.bind(null,Xe,a),[f.memoizedState,a]},useRef:function(a){var o=Nr();return a={current:a},o.memoizedState=a},useState:function(a){a=I0(a);var o=a.queue,c=zT.bind(null,Xe,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:k0,useDeferredValue:function(a,o){var c=Nr();return D0(c,a,o)},useTransition:function(){var a=I0(!1);return a=RT.bind(null,Xe,a.queue,!0,!1),Nr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var f=Xe,y=Nr();if(lt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Rt===null)throw Error(r(349));(rt&127)!==0||lT(f,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,ET(uT.bind(null,f,x,a),[a]),f.flags|=2048,Yc(9,{destroy:void 0},cT.bind(null,f,x,c,o),null),c},useId:function(){var a=Nr(),o=Rt.identifierPrefix;if(lt){var c=xa,f=ba;c=(f&~(1<<32-$t(f)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Rm++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=$z++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:L0,useFormState:bT,useActionState:bT,useOptimistic:function(a){var o=Nr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=z0.bind(null,Xe,!0,c),c.dispatch=o,[a,o]},useMemoCache:j0,useCacheRefresh:function(){return Nr().memoizedState=Yz.bind(null,Xe)},useEffectEvent:function(a){var o=Nr(),c={impl:a};return o.memoizedState=c,function(){if((gt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},V0={readContext:tr,use:Dm,useCallback:OT,useContext:tr,useEffect:R0,useImperativeHandle:CT,useInsertionEffect:TT,useLayoutEffect:NT,useMemo:IT,useReducer:Mm,useRef:ST,useState:function(){return Mm(rs)},useDebugValue:k0,useDeferredValue:function(a,o){var c=hn();return PT(c,Nt.memoizedState,a,o)},useTransition:function(){var a=Mm(rs)[0],o=hn().memoizedState;return[typeof a=="boolean"?a:Bd(a),o]},useSyncExternalStore:oT,useId:MT,useHostTransitionStatus:L0,useFormState:xT,useActionState:xT,useOptimistic:function(a,o){var c=hn();return hT(c,Nt,a,o)},useMemoCache:j0,useCacheRefresh:LT};V0.useEffectEvent=AT;var $T={readContext:tr,use:Dm,useCallback:OT,useContext:tr,useEffect:R0,useImperativeHandle:CT,useInsertionEffect:TT,useLayoutEffect:NT,useMemo:IT,useReducer:O0,useRef:ST,useState:function(){return O0(rs)},useDebugValue:k0,useDeferredValue:function(a,o){var c=hn();return Nt===null?D0(c,a,o):PT(c,Nt.memoizedState,a,o)},useTransition:function(){var a=O0(rs)[0],o=hn().memoizedState;return[typeof a=="boolean"?a:Bd(a),o]},useSyncExternalStore:oT,useId:MT,useHostTransitionStatus:L0,useFormState:wT,useActionState:wT,useOptimistic:function(a,o){var c=hn();return Nt!==null?hT(c,Nt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:j0,useCacheRefresh:LT};$T.useEffectEvent=AT;function U0(a,o,c,f){o=a.memoizedState,c=c(f,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var B0={enqueueSetState:function(a,o,c){a=a._reactInternals;var f=si(),y=ho(f);y.payload=o,c!=null&&(y.callback=c),o=mo(a,y,f),o!==null&&($r(o,a,f),Ld(o,a,f))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var f=si(),y=ho(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=mo(a,y,f),o!==null&&($r(o,a,f),Ld(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=si(),f=ho(c);f.tag=2,o!=null&&(f.callback=o),o=mo(a,f,c),o!==null&&($r(o,a,c),Ld(o,a,c))}};function qT(a,o,c,f,y,x,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,x,C):o.prototype&&o.prototype.isPureReactComponent?!Cd(c,f)||!Cd(y,x):!0}function FT(a,o,c,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==a&&B0.enqueueReplaceState(o,o.state,null)}function Rl(a,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function HT(a){vm(a)}function KT(a){console.error(a)}function GT(a){vm(a)}function Um(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function YT(a,o,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function $0(a,o,c){return c=ho(c),c.tag=3,c.payload={element:null},c.callback=function(){Um(a,o)},c}function WT(a){return a=ho(a),a.tag=3,a}function XT(a,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=f.value;a.payload=function(){return y(x)},a.callback=function(){YT(o,c,f)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){YT(o,c,f),typeof y!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var U=f.stack;this.componentDidCatch(f.value,{componentStack:U!==null?U:""})})}function Xz(a,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&Uc(o,c,y,!0),c=ni.current,c!==null){switch(c.tag){case 31:case 13:return Si===null?Zm():c.alternate===null&&rn===0&&(rn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===Nm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),hb(a,f,y)),!1;case 22:return c.flags|=65536,f===Nm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),hb(a,f,y)),!1}throw Error(r(435,c.tag))}return hb(a,f,y),Zm(),!1}if(lt)return o=ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==o0&&(a=Error(r(422),{cause:f}),Pd(bi(a,c)))):(f!==o0&&(o=Error(r(423),{cause:f}),Pd(bi(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=bi(f,c),y=$0(a.stateNode,f,y),y0(a,y),rn!==4&&(rn=2)),!1;var x=Error(r(520),{cause:f});if(x=bi(x,c),Qd===null?Qd=[x]:Qd.push(x),rn!==4&&(rn=2),o===null)return!0;f=bi(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=$0(c.stateNode,f,a),y0(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xo===null||!xo.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=WT(y),XT(y,a,c,f),y0(c,y),!1}c=c.return}while(c!==null);return!1}var q0=Error(r(461)),Sn=!1;function nr(a,o,c,f){o.child=a===null?eT(o,null,c,f):Il(o,a.child,c,f)}function QT(a,o,c,f,y){c=c.render;var x=o.ref;if("ref"in f){var C={};for(var U in f)U!=="ref"&&(C[U]=f[U])}else C=f;return Nl(o),f=E0(a,o,c,C,x,y),U=A0(),a!==null&&!Sn?(T0(a,o,y),is(a,o,y)):(lt&&U&&a0(o),o.flags|=1,nr(a,o,f,y),o.child)}function ZT(a,o,c,f,y){if(a===null){var x=c.type;return typeof x=="function"&&!n0(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,JT(a,o,x,f,y)):(a=_m(c.type,null,f,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!Q0(a,y)){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:Cd,c(C,f)&&a.ref===o.ref)return is(a,o,y)}return o.flags|=1,a=Za(x,f),a.ref=o.ref,a.return=o,o.child=a}function JT(a,o,c,f,y){if(a!==null){var x=a.memoizedProps;if(Cd(x,f)&&a.ref===o.ref)if(Sn=!1,o.pendingProps=f=x,Q0(a,y))(a.flags&131072)!==0&&(Sn=!0);else return o.lanes=a.lanes,is(a,o,y)}return F0(a,o,c,f,y)}function e2(a,o,c,f){var y=f.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(f=o.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~x}else f=0,o.child=null;return t2(a,o,x,c,f)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Am(o,x!==null?x.cachePool:null),x!==null?rT(o,x):x0(),iT(o);else return f=o.lanes=536870912,t2(a,o,x!==null?x.baseLanes|c:c,c,f)}else x!==null?(Am(o,x.cachePool),rT(o,x),go(),o.memoizedState=null):(a!==null&&Am(o,null),x0(),go());return nr(a,o,y,c),o.child}function Fd(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function t2(a,o,c,f,y){var x=m0();return x=x===null?null:{parent:_n._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Am(o,null),x0(),iT(o),a!==null&&Uc(a,o,f,!0),o.childLanes=y,null}function Bm(a,o){return o=qm({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function n2(a,o,c){return Il(o,a.child,null,c),a=Bm(o,o.pendingProps),a.flags|=2,ri(o),o.memoizedState=null,a}function Qz(a,o,c){var f=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(lt){if(f.mode==="hidden")return a=Bm(o,f),o.lanes=536870912,Fd(null,a);if(w0(o),(a=qt)?(a=mN(a,wi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:oo!==null?{id:ba,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},c=VA(a),c.return=o,o.child=c,er=o,qt=null)):a=null,a===null)throw co(o);return o.lanes=536870912,null}return Bm(o,f)}var x=a.memoizedState;if(x!==null){var C=x.dehydrated;if(w0(o),y)if(o.flags&256)o.flags&=-257,o=n2(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Sn||Uc(a,o,c,!1),y=(c&a.childLanes)!==0,Sn||y){if(f=Rt,f!==null&&(C=dl(f,c),C!==0&&C!==x.retryLane))throw x.retryLane=C,Sl(a,C),$r(f,a,C),q0;Zm(),o=n2(a,o,c)}else a=x.treeContext,qt=Ei(C.nextSibling),er=o,lt=!0,lo=null,wi=!1,a!==null&&$A(o,a),o=Bm(o,f),o.flags|=4096;return o}return a=Za(a.child,{mode:f.mode,children:f.children}),a.ref=o.ref,o.child=a,a.return=o,a}function $m(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function F0(a,o,c,f,y){return Nl(o),c=E0(a,o,c,f,void 0,y),f=A0(),a!==null&&!Sn?(T0(a,o,y),is(a,o,y)):(lt&&f&&a0(o),o.flags|=1,nr(a,o,c,y),o.child)}function r2(a,o,c,f,y,x){return Nl(o),o.updateQueue=null,c=sT(o,f,c,y),aT(a),f=A0(),a!==null&&!Sn?(T0(a,o,x),is(a,o,x)):(lt&&f&&a0(o),o.flags|=1,nr(a,o,c,x),o.child)}function i2(a,o,c,f,y){if(Nl(o),o.stateNode===null){var x=Mc,C=c.contextType;typeof C=="object"&&C!==null&&(x=tr(C)),x=new c(f,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=B0,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=f,x.state=o.memoizedState,x.refs={},g0(o),C=c.contextType,x.context=typeof C=="object"&&C!==null?tr(C):Mc,x.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(U0(o,c,C,f),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&B0.enqueueReplaceState(x,x.state,null),Vd(o,f,x,y),zd(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){x=o.stateNode;var U=o.memoizedProps,G=Rl(c,U);x.props=G;var ne=x.context,fe=c.contextType;C=Mc,typeof fe=="object"&&fe!==null&&(C=tr(fe));var ge=c.getDerivedStateFromProps;fe=typeof ge=="function"||typeof x.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,fe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(U||ne!==C)&&FT(o,x,f,C),fo=!1;var ie=o.memoizedState;x.state=ie,Vd(o,f,x,y),zd(),ne=o.memoizedState,U||ie!==ne||fo?(typeof ge=="function"&&(U0(o,c,ge,f),ne=o.memoizedState),(G=fo||qT(o,c,G,f,ie,ne,C))?(fe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ne),x.props=f,x.state=ne,x.context=C,f=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{x=o.stateNode,v0(a,o),C=o.memoizedProps,fe=Rl(c,C),x.props=fe,ge=o.pendingProps,ie=x.context,ne=c.contextType,G=Mc,typeof ne=="object"&&ne!==null&&(G=tr(ne)),U=c.getDerivedStateFromProps,(ne=typeof U=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==ge||ie!==G)&&FT(o,x,f,G),fo=!1,ie=o.memoizedState,x.state=ie,Vd(o,f,x,y),zd();var le=o.memoizedState;C!==ge||ie!==le||fo||a!==null&&a.dependencies!==null&&Sm(a.dependencies)?(typeof U=="function"&&(U0(o,c,U,f),le=o.memoizedState),(fe=fo||qT(o,c,fe,f,ie,le,G)||a!==null&&a.dependencies!==null&&Sm(a.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,le,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,le,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&ie===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&ie===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=le),x.props=f,x.state=le,x.context=G,f=fe):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&ie===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&ie===a.memoizedState||(o.flags|=1024),f=!1)}return x=f,$m(a,o),f=(o.flags&128)!==0,x||f?(x=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&f?(o.child=Il(o,a.child,null,y),o.child=Il(o,null,c,y)):nr(a,o,c,y),o.memoizedState=x.state,a=o.child):a=is(a,o,y),a}function a2(a,o,c,f){return Al(),o.flags|=256,nr(a,o,c,f),o.child}var H0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function K0(a){return{baseLanes:a,cachePool:YA()}}function G0(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=ai),a}function s2(a,o,c){var f=o.pendingProps,y=!1,x=(o.flags&128)!==0,C;if((C=x)||(C=a!==null&&a.memoizedState===null?!1:(fn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,a===null){if(lt){if(y?po(o):go(),(a=qt)?(a=mN(a,wi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:oo!==null?{id:ba,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},c=VA(a),c.return=o,o.child=c,er=o,qt=null)):a=null,a===null)throw co(o);return Cb(a)?o.lanes=32:o.lanes=536870912,null}var U=f.children;return f=f.fallback,y?(go(),y=o.mode,U=qm({mode:"hidden",children:U},y),f=El(f,y,c,null),U.return=o,f.return=o,U.sibling=f,o.child=U,f=o.child,f.memoizedState=K0(c),f.childLanes=G0(a,C,c),o.memoizedState=H0,Fd(null,f)):(po(o),Y0(o,U))}var G=a.memoizedState;if(G!==null&&(U=G.dehydrated,U!==null)){if(x)o.flags&256?(po(o),o.flags&=-257,o=W0(a,o,c)):o.memoizedState!==null?(go(),o.child=a.child,o.flags|=128,o=null):(go(),U=f.fallback,y=o.mode,f=qm({mode:"visible",children:f.children},y),U=El(U,y,c,null),U.flags|=2,f.return=o,U.return=o,f.sibling=U,o.child=f,Il(o,a.child,null,c),f=o.child,f.memoizedState=K0(c),f.childLanes=G0(a,C,c),o.memoizedState=H0,o=Fd(null,f));else if(po(o),Cb(U)){if(C=U.nextSibling&&U.nextSibling.dataset,C)var ne=C.dgst;C=ne,f=Error(r(419)),f.stack="",f.digest=C,Pd({value:f,source:null,stack:null}),o=W0(a,o,c)}else if(Sn||Uc(a,o,c,!1),C=(c&a.childLanes)!==0,Sn||C){if(C=Rt,C!==null&&(f=dl(C,c),f!==0&&f!==G.retryLane))throw G.retryLane=f,Sl(a,f),$r(C,a,f),q0;jb(U)||Zm(),o=W0(a,o,c)}else jb(U)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,qt=Ei(U.nextSibling),er=o,lt=!0,lo=null,wi=!1,a!==null&&$A(o,a),o=Y0(o,f.children),o.flags|=4096);return o}return y?(go(),U=f.fallback,y=o.mode,G=a.child,ne=G.sibling,f=Za(G,{mode:"hidden",children:f.children}),f.subtreeFlags=G.subtreeFlags&65011712,ne!==null?U=Za(ne,U):(U=El(U,y,c,null),U.flags|=2),U.return=o,f.return=o,f.sibling=U,o.child=f,Fd(null,f),f=o.child,U=a.child.memoizedState,U===null?U=K0(c):(y=U.cachePool,y!==null?(G=_n._currentValue,y=y.parent!==G?{parent:G,pool:G}:y):y=YA(),U={baseLanes:U.baseLanes|c,cachePool:y}),f.memoizedState=U,f.childLanes=G0(a,C,c),o.memoizedState=H0,Fd(a.child,f)):(po(o),c=a.child,a=c.sibling,c=Za(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,a!==null&&(C=o.deletions,C===null?(o.deletions=[a],o.flags|=16):C.push(a)),o.child=c,o.memoizedState=null,c)}function Y0(a,o){return o=qm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function qm(a,o){return a=ti(22,a,null,o),a.lanes=0,a}function W0(a,o,c){return Il(o,a.child,null,c),a=Y0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function o2(a,o,c){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),u0(a.return,o,c)}function X0(a,o,c,f,y,x){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:x}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=c,C.tailMode=y,C.treeForkCount=x)}function l2(a,o,c){var f=o.pendingProps,y=f.revealOrder,x=f.tail;f=f.children;var C=fn.current,U=(C&2)!==0;if(U?(C=C&1|2,o.flags|=128):C&=1,X(fn,C),nr(a,o,f,c),f=lt?Id:0,!U&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&o2(a,c,o);else if(a.tag===19)o2(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&Im(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),X0(o,!1,y,c,x,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Im(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}X0(o,!0,c,null,x,f);break;case"together":X0(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function is(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),bo|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Uc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=Za(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Za(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Q0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Sm(a)))}function Zz(a,o,c){switch(o.tag){case 3:Re(o,o.stateNode.containerInfo),uo(o,_n,a.memoizedState.cache),Al();break;case 27:case 5:je(o);break;case 4:Re(o,o.stateNode.containerInfo);break;case 10:uo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,w0(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(po(o),o.flags|=128,null):(c&o.child.childLanes)!==0?s2(a,o,c):(po(o),a=is(a,o,c),a!==null?a.sibling:null);po(o);break;case 19:var y=(a.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(Uc(a,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return l2(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),X(fn,fn.current),f)break;return null;case 22:return o.lanes=0,e2(a,o,c,o.pendingProps);case 24:uo(o,_n,a.memoizedState.cache)}return is(a,o,c)}function c2(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Sn=!0;else{if(!Q0(a,c)&&(o.flags&128)===0)return Sn=!1,Zz(a,o,c);Sn=(a.flags&131072)!==0}else Sn=!1,lt&&(o.flags&1048576)!==0&&BA(o,Id,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(a=Cl(o.elementType),o.type=a,typeof a=="function")n0(a)?(f=Rl(a,f),o.tag=1,o=i2(null,o,a,f,c)):(o.tag=0,o=F0(null,o,a,f,c));else{if(a!=null){var y=a.$$typeof;if(y===$){o.tag=11,o=QT(null,o,a,f,c);break e}else if(y===N){o.tag=14,o=ZT(null,o,a,f,c);break e}}throw o=ue(a)||a,Error(r(306,o,""))}}return o;case 0:return F0(a,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=Rl(f,o.pendingProps),i2(a,o,f,y,c);case 3:e:{if(Re(o,o.stateNode.containerInfo),a===null)throw Error(r(387));f=o.pendingProps;var x=o.memoizedState;y=x.element,v0(a,o),Vd(o,f,null,c);var C=o.memoizedState;if(f=C.cache,uo(o,_n,f),f!==x.cache&&d0(o,[_n],c,!0),zd(),f=C.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=a2(a,o,f,c);break e}else if(f!==y){y=bi(Error(r(424)),o),Pd(y),o=a2(a,o,f,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,qt=Ei(a.firstChild),er=o,lt=!0,lo=null,wi=!0,c=eT(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Al(),f===y){o=is(a,o,c);break e}nr(a,o,f,c)}o=o.child}return o;case 26:return $m(a,o),a===null?(c=xN(o.type,null,o.pendingProps,null))?o.memoizedState=c:lt||(c=o.type,a=o.pendingProps,f=ap(se.current).createElement(c),f[yn]=o,f[$n]=a,rr(f,c,a),bn(f),o.stateNode=f):o.memoizedState=xN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return je(o),a===null&&lt&&(f=o.stateNode=vN(o.type,o.pendingProps,se.current),er=o,wi=!0,y=qt,Eo(o.type)?(Ob=y,qt=Ei(f.firstChild)):qt=y),nr(a,o,o.pendingProps.children,c),$m(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&lt&&((y=f=qt)&&(f=jV(f,o.type,o.pendingProps,wi),f!==null?(o.stateNode=f,er=o,qt=Ei(f.firstChild),wi=!1,y=!0):y=!1),y||co(o)),je(o),y=o.type,x=o.pendingProps,C=a!==null?a.memoizedProps:null,f=x.children,Ab(y,x)?f=null:C!==null&&Ab(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=E0(a,o,qz,null,null,c),sf._currentValue=y),$m(a,o),nr(a,o,f,c),o.child;case 6:return a===null&&lt&&((a=c=qt)&&(c=CV(c,o.pendingProps,wi),c!==null?(o.stateNode=c,er=o,qt=null,a=!0):a=!1),a||co(o)),null;case 13:return s2(a,o,c);case 4:return Re(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=Il(o,null,f,c):nr(a,o,f,c),o.child;case 11:return QT(a,o,o.type,o.pendingProps,c);case 7:return nr(a,o,o.pendingProps,c),o.child;case 8:return nr(a,o,o.pendingProps.children,c),o.child;case 12:return nr(a,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,uo(o,o.type,f.value),nr(a,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Nl(o),y=tr(y),f=f(y),o.flags|=1,nr(a,o,f,c),o.child;case 14:return ZT(a,o,o.type,o.pendingProps,c);case 15:return JT(a,o,o.type,o.pendingProps,c);case 19:return l2(a,o,c);case 31:return Qz(a,o,c);case 22:return e2(a,o,c,o.pendingProps);case 24:return Nl(o),f=tr(_n),a===null?(y=m0(),y===null&&(y=Rt,x=f0(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:f,cache:y},g0(o),uo(o,_n,y)):((a.lanes&c)!==0&&(v0(a,o),Vd(o,null,null,c),zd()),y=a.memoizedState,x=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),uo(o,_n,f)):(f=x.cache,uo(o,_n,f),f!==y.cache&&d0(o,[_n],c,!0))),nr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function as(a){a.flags|=4}function Z0(a,o,c,f,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(M2())a.flags|=8192;else throw Ol=Nm,p0}else a.flags&=-16777217}function u2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!AN(o))if(M2())a.flags|=8192;else throw Ol=Nm,p0}function Fm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?_t():536870912,a.lanes|=o,Zc|=o)}function Hd(a,o){if(!lt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Ft(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=c,o}function Jz(a,o,c){var f=o.pendingProps;switch(s0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Ft(o),null;case 3:return c=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),ts(_n),ae(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Vc(o)?as(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,l0())),Ft(o),null;case 26:var y=o.type,x=o.memoizedState;return a===null?(as(o),x!==null?(Ft(o),u2(o,x)):(Ft(o),Z0(o,y,null,f,c))):x?x!==a.memoizedState?(as(o),Ft(o),u2(o,x)):(Ft(o),o.flags&=-16777217):(a=a.memoizedProps,a!==f&&as(o),Ft(o),Z0(o,y,a,f,c)),null;case 27:if(Ue(o),c=se.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&as(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Ft(o),null}a=re.current,Vc(o)?qA(o):(a=vN(y,f,c),o.stateNode=a,as(o))}return Ft(o),null;case 5:if(Ue(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&as(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Ft(o),null}if(x=re.current,Vc(o))qA(o);else{var C=ap(se.current);switch(x){case 1:x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=C.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?x.multiple=!0:f.size&&(x.size=f.size);break;default:x=typeof f.is=="string"?C.createElement(y,{is:f.is}):C.createElement(y)}}x[yn]=o,x[$n]=f;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)x.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=x;e:switch(rr(x,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&as(o)}}return Ft(o),Z0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&as(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(a=se.current,Vc(o)){if(a=o.stateNode,c=o.memoizedProps,f=null,y=er,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[yn]=o,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||sN(a.nodeValue,c)),a||co(o,!0)}else a=ap(a).createTextNode(f),a[yn]=o,o.stateNode=a}return Ft(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(f=Vc(o),c!==null){if(a===null){if(!f)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[yn]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),a=!1}else c=l0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ri(o),o):(ri(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ft(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Vc(o),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[yn]=o}else Al(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),y=!1}else y=l0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ri(o),o):(ri(o),null)}return ri(o),(o.flags&128)!==0?(o.lanes=c,o):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==y&&(f.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Fm(o,o.updateQueue),Ft(o),null);case 4:return ae(),a===null&&xb(o.stateNode.containerInfo),Ft(o),null;case 10:return ts(o.type),Ft(o),null;case 19:if(Y(fn),f=o.memoizedState,f===null)return Ft(o),null;if(y=(o.flags&128)!==0,x=f.rendering,x===null)if(y)Hd(f,!1);else{if(rn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Im(a),x!==null){for(o.flags|=128,Hd(f,!1),a=x.updateQueue,o.updateQueue=a,Fm(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)zA(c,a),c=c.sibling;return X(fn,fn.current&1|2),lt&&Ja(o,f.treeForkCount),o.child}a=a.sibling}f.tail!==null&&un()>Wm&&(o.flags|=128,y=!0,Hd(f,!1),o.lanes=4194304)}else{if(!y)if(a=Im(x),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Fm(o,a),Hd(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!lt)return Ft(o),null}else 2*un()-f.renderingStartTime>Wm&&c!==536870912&&(o.flags|=128,y=!0,Hd(f,!1),o.lanes=4194304);f.isBackwards?(x.sibling=o.child,o.child=x):(a=f.last,a!==null?a.sibling=x:o.child=x,f.last=x)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=un(),a.sibling=null,c=fn.current,X(fn,y?c&1|2:c&1),lt&&Ja(o,f.treeForkCount),a):(Ft(o),null);case 22:case 23:return ri(o),_0(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),c=o.updateQueue,c!==null&&Fm(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),a!==null&&Y(jl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ts(_n),Ft(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function eV(a,o){switch(s0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ts(_n),ae(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ue(o),null;case 31:if(o.memoizedState!==null){if(ri(o),o.alternate===null)throw Error(r(340));Al()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ri(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Al()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Y(fn),null;case 4:return ae(),null;case 10:return ts(o.type),null;case 22:case 23:return ri(o),_0(),a!==null&&Y(jl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ts(_n),null;case 25:return null;default:return null}}function d2(a,o){switch(s0(o),o.tag){case 3:ts(_n),ae();break;case 26:case 27:case 5:Ue(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&ri(o);break;case 13:ri(o);break;case 19:Y(fn);break;case 10:ts(o.type);break;case 22:case 23:ri(o),_0(),a!==null&&Y(jl);break;case 24:ts(_n)}}function Kd(a,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&a)===a){f=void 0;var x=c.create,C=c.inst;f=x(),C.destroy=f}c=c.next}while(c!==y)}}catch(U){Et(o,o.return,U)}}function vo(a,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var x=y.next;f=x;do{if((f.tag&a)===a){var C=f.inst,U=C.destroy;if(U!==void 0){C.destroy=void 0,y=o;var G=c,ne=U;try{ne()}catch(fe){Et(y,G,fe)}}}f=f.next}while(f!==x)}}catch(fe){Et(o,o.return,fe)}}function f2(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{nT(o,c)}catch(f){Et(a,a.return,f)}}}function h2(a,o,c){c.props=Rl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){Et(a,o,f)}}function Gd(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(y){Et(a,o,y)}}function _a(a,o){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){Et(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Et(a,o,y)}else c.current=null}function m2(a){var o=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){Et(a,a.return,y)}}function J0(a,o,c){try{var f=a.stateNode;wV(f,a.type,c,o),f[$n]=o}catch(y){Et(a,a.return,y)}}function p2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Eo(a.type)||a.tag===4}function eb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||p2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Eo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function tb(a,o,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=$i));else if(f!==4&&(f===27&&Eo(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(tb(a,o,c),a=a.sibling;a!==null;)tb(a,o,c),a=a.sibling}function Hm(a,o,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(f!==4&&(f===27&&Eo(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Hm(a,o,c),a=a.sibling;a!==null;)Hm(a,o,c),a=a.sibling}function g2(a){var o=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);rr(o,f,c),o[yn]=a,o[$n]=c}catch(x){Et(a,a.return,x)}}var ss=!1,En=!1,nb=!1,v2=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function tV(a,o){if(a=a.containerInfo,Sb=fp,a=CA(a),Wy(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,U=-1,G=-1,ne=0,fe=0,ge=a,ie=null;t:for(;;){for(var le;ge!==c||y!==0&&ge.nodeType!==3||(U=C+y),ge!==x||f!==0&&ge.nodeType!==3||(G=C+f),ge.nodeType===3&&(C+=ge.nodeValue.length),(le=ge.firstChild)!==null;)ie=ge,ge=le;for(;;){if(ge===a)break t;if(ie===c&&++ne===y&&(U=C),ie===x&&++fe===f&&(G=C),(le=ge.nextSibling)!==null)break;ge=ie,ie=ge.parentNode}ge=le}c=U===-1||G===-1?null:{start:U,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Eb={focusedElem:a,selectionRange:c},fp=!1,Fn=o;Fn!==null;)if(o=Fn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Fn=a;else for(;Fn!==null;){switch(o=Fn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,f=c.stateNode;try{var Ie=Rl(c.type,y);a=f.getSnapshotBeforeUpdate(Ie,x),f.__reactInternalSnapshotBeforeUpdate=a}catch(ze){Et(c,c.return,ze)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Nb(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Nb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Fn=a;break}Fn=o.return}}function y2(a,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:ls(a,c),f&4&&Kd(5,c);break;case 1:if(ls(a,c),f&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(C){Et(c,c.return,C)}else{var y=Rl(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Et(c,c.return,C)}}f&64&&f2(c),f&512&&Gd(c,c.return);break;case 3:if(ls(a,c),f&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{nT(a,o)}catch(C){Et(c,c.return,C)}}break;case 27:o===null&&f&4&&g2(c);case 26:case 5:ls(a,c),o===null&&f&4&&m2(c),f&512&&Gd(c,c.return);break;case 12:ls(a,c);break;case 31:ls(a,c),f&4&&_2(a,c);break;case 13:ls(a,c),f&4&&w2(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=uV.bind(null,c),OV(a,c))));break;case 22:if(f=c.memoizedState!==null||ss,!f){o=o!==null&&o.memoizedState!==null||En,y=ss;var x=En;ss=f,(En=o)&&!x?cs(a,c,(c.subtreeFlags&8772)!==0):ls(a,c),ss=y,En=x}break;case 30:break;default:ls(a,c)}}function b2(a){var o=a.alternate;o!==null&&(a.alternate=null,b2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&wc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Yt=null,zr=!1;function os(a,o,c){for(c=c.child;c!==null;)x2(a,o,c),c=c.sibling}function x2(a,o,c){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Zn,c)}catch{}switch(c.tag){case 26:En||_a(c,o),os(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:En||_a(c,o);var f=Yt,y=zr;Eo(c.type)&&(Yt=c.stateNode,zr=!1),os(a,o,c),nf(c.stateNode),Yt=f,zr=y;break;case 5:En||_a(c,o);case 6:if(f=Yt,y=zr,Yt=null,os(a,o,c),Yt=f,zr=y,Yt!==null)if(zr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(c.stateNode)}catch(x){Et(c,o,x)}else try{Yt.removeChild(c.stateNode)}catch(x){Et(c,o,x)}break;case 18:Yt!==null&&(zr?(a=Yt,fN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),su(a)):fN(Yt,c.stateNode));break;case 4:f=Yt,y=zr,Yt=c.stateNode.containerInfo,zr=!0,os(a,o,c),Yt=f,zr=y;break;case 0:case 11:case 14:case 15:vo(2,c,o),En||vo(4,c,o),os(a,o,c);break;case 1:En||(_a(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&h2(c,o,f)),os(a,o,c);break;case 21:os(a,o,c);break;case 22:En=(f=En)||c.memoizedState!==null,os(a,o,c),En=f;break;default:os(a,o,c)}}function _2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{su(a)}catch(c){Et(o,o.return,c)}}}function w2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{su(a)}catch(c){Et(o,o.return,c)}}function nV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new v2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new v2),o;default:throw Error(r(435,a.tag))}}function Km(a,o){var c=nV(a);o.forEach(function(f){if(!c.has(f)){c.add(f);var y=dV.bind(null,a,f);f.then(y,y)}})}function Vr(a,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],x=a,C=o,U=C;e:for(;U!==null;){switch(U.tag){case 27:if(Eo(U.type)){Yt=U.stateNode,zr=!1;break e}break;case 5:Yt=U.stateNode,zr=!1;break e;case 3:case 4:Yt=U.stateNode.containerInfo,zr=!0;break e}U=U.return}if(Yt===null)throw Error(r(160));x2(x,C,y),Yt=null,zr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)S2(o,a),o=o.sibling}var Yi=null;function S2(a,o){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vr(o,a),Ur(a),f&4&&(vo(3,a,a.return),Kd(3,a),vo(5,a,a.return));break;case 1:Vr(o,a),Ur(a),f&512&&(En||c===null||_a(c,c.return)),f&64&&ss&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Yi;if(Vr(o,a),Ur(a),f&512&&(En||c===null||_a(c,c.return)),f&4){var x=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":x=y.getElementsByTagName("title")[0],(!x||x[oa]||x[yn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(f),y.head.insertBefore(x,y.querySelector("head > title"))),rr(x,f,c),x[yn]=a,bn(x),f=x;break e;case"link":var C=SN("link","href",y).get(f+(c.href||""));if(C){for(var U=0;U<C.length;U++)if(x=C[U],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(U,1);break t}}x=y.createElement(f),rr(x,f,c),y.head.appendChild(x);break;case"meta":if(C=SN("meta","content",y).get(f+(c.content||""))){for(U=0;U<C.length;U++)if(x=C[U],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(U,1);break t}}x=y.createElement(f),rr(x,f,c),y.head.appendChild(x);break;default:throw Error(r(468,f))}x[yn]=a,bn(x),f=x}a.stateNode=f}else EN(y,a.type,a.stateNode);else a.stateNode=wN(y,f,a.memoizedProps);else x!==f?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,f===null?EN(y,a.type,a.stateNode):wN(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&J0(a,a.memoizedProps,c.memoizedProps)}break;case 27:Vr(o,a),Ur(a),f&512&&(En||c===null||_a(c,c.return)),c!==null&&f&4&&J0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Vr(o,a),Ur(a),f&512&&(En||c===null||_a(c,c.return)),a.flags&32){y=a.stateNode;try{Lr(y,"")}catch(Ie){Et(a,a.return,Ie)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,J0(a,y,c!==null?c.memoizedProps:y)),f&1024&&(nb=!0);break;case 6:if(Vr(o,a),Ur(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(Ie){Et(a,a.return,Ie)}}break;case 3:if(lp=null,y=Yi,Yi=sp(o.containerInfo),Vr(o,a),Yi=y,Ur(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{su(o.containerInfo)}catch(Ie){Et(a,a.return,Ie)}nb&&(nb=!1,E2(a));break;case 4:f=Yi,Yi=sp(a.stateNode.containerInfo),Vr(o,a),Ur(a),Yi=f;break;case 12:Vr(o,a),Ur(a);break;case 31:Vr(o,a),Ur(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Km(a,f)));break;case 13:Vr(o,a),Ur(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ym=un()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Km(a,f)));break;case 22:y=a.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,ne=ss,fe=En;if(ss=ne||y,En=fe||G,Vr(o,a),En=fe,ss=ne,Ur(a),f&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||G||ss||En||kl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){G=c=o;try{if(x=G.stateNode,y)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{U=G.stateNode;var ge=G.memoizedProps.style,ie=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;U.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ie){Et(G,G.return,Ie)}}}else if(o.tag===6){if(c===null){G=o;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(Ie){Et(G,G.return,Ie)}}}else if(o.tag===18){if(c===null){G=o;try{var le=G.stateNode;y?hN(le,!0):hN(G.stateNode,!1)}catch(Ie){Et(G,G.return,Ie)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Km(a,c))));break;case 19:Vr(o,a),Ur(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Km(a,f)));break;case 30:break;case 21:break;default:Vr(o,a),Ur(a)}}function Ur(a){var o=a.flags;if(o&2){try{for(var c,f=a.return;f!==null;){if(p2(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=eb(a);Hm(a,x,y);break;case 5:var C=c.stateNode;c.flags&32&&(Lr(C,""),c.flags&=-33);var U=eb(a);Hm(a,U,C);break;case 3:case 4:var G=c.stateNode.containerInfo,ne=eb(a);tb(a,ne,G);break;default:throw Error(r(161))}}catch(fe){Et(a,a.return,fe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function E2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;E2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ls(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)y2(a,o.alternate,o),o=o.sibling}function kl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:vo(4,o,o.return),kl(o);break;case 1:_a(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&h2(o,o.return,c),kl(o);break;case 27:nf(o.stateNode);case 26:case 5:_a(o,o.return),kl(o);break;case 22:o.memoizedState===null&&kl(o);break;case 30:kl(o);break;default:kl(o)}a=a.sibling}}function cs(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=a,x=o,C=x.flags;switch(x.tag){case 0:case 11:case 15:cs(y,x,c),Kd(4,x);break;case 1:if(cs(y,x,c),f=x,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ne){Et(f,f.return,ne)}if(f=x,y=f.updateQueue,y!==null){var U=f.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)tT(G[y],U)}catch(ne){Et(f,f.return,ne)}}c&&C&64&&f2(x),Gd(x,x.return);break;case 27:g2(x);case 26:case 5:cs(y,x,c),c&&f===null&&C&4&&m2(x),Gd(x,x.return);break;case 12:cs(y,x,c);break;case 31:cs(y,x,c),c&&C&4&&_2(y,x);break;case 13:cs(y,x,c),c&&C&4&&w2(y,x);break;case 22:x.memoizedState===null&&cs(y,x,c),Gd(x,x.return);break;case 30:break;default:cs(y,x,c)}o=o.sibling}}function rb(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Rd(c))}function ib(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Rd(a))}function Wi(a,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)A2(a,o,c,f),o=o.sibling}function A2(a,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Wi(a,o,c,f),y&2048&&Kd(9,o);break;case 1:Wi(a,o,c,f);break;case 3:Wi(a,o,c,f),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Rd(a)));break;case 12:if(y&2048){Wi(a,o,c,f),a=o.stateNode;try{var x=o.memoizedProps,C=x.id,U=x.onPostCommit;typeof U=="function"&&U(C,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){Et(o,o.return,G)}}else Wi(a,o,c,f);break;case 31:Wi(a,o,c,f);break;case 13:Wi(a,o,c,f);break;case 23:break;case 22:x=o.stateNode,C=o.alternate,o.memoizedState!==null?x._visibility&2?Wi(a,o,c,f):Yd(a,o):x._visibility&2?Wi(a,o,c,f):(x._visibility|=2,Wc(a,o,c,f,(o.subtreeFlags&10256)!==0||!1)),y&2048&&rb(C,o);break;case 24:Wi(a,o,c,f),y&2048&&ib(o.alternate,o);break;default:Wi(a,o,c,f)}}function Wc(a,o,c,f,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,C=o,U=c,G=f,ne=C.flags;switch(C.tag){case 0:case 11:case 15:Wc(x,C,U,G,y),Kd(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?Wc(x,C,U,G,y):Yd(x,C):(fe._visibility|=2,Wc(x,C,U,G,y)),y&&ne&2048&&rb(C.alternate,C);break;case 24:Wc(x,C,U,G,y),y&&ne&2048&&ib(C.alternate,C);break;default:Wc(x,C,U,G,y)}o=o.sibling}}function Yd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,f=o,y=f.flags;switch(f.tag){case 22:Yd(c,f),y&2048&&rb(f.alternate,f);break;case 24:Yd(c,f),y&2048&&ib(f.alternate,f);break;default:Yd(c,f)}o=o.sibling}}var Wd=8192;function Xc(a,o,c){if(a.subtreeFlags&Wd)for(a=a.child;a!==null;)T2(a,o,c),a=a.sibling}function T2(a,o,c){switch(a.tag){case 26:Xc(a,o,c),a.flags&Wd&&a.memoizedState!==null&&$V(c,Yi,a.memoizedState,a.memoizedProps);break;case 5:Xc(a,o,c);break;case 3:case 4:var f=Yi;Yi=sp(a.stateNode.containerInfo),Xc(a,o,c),Yi=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Wd,Wd=16777216,Xc(a,o,c),Wd=f):Xc(a,o,c));break;default:Xc(a,o,c)}}function N2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Xd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Fn=f,C2(f,a)}N2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)j2(a),a=a.sibling}function j2(a){switch(a.tag){case 0:case 11:case 15:Xd(a),a.flags&2048&&vo(9,a,a.return);break;case 3:Xd(a);break;case 12:Xd(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Gm(a)):Xd(a);break;default:Xd(a)}}function Gm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Fn=f,C2(f,a)}N2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:vo(8,o,o.return),Gm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Gm(o));break;default:Gm(o)}a=a.sibling}}function C2(a,o){for(;Fn!==null;){var c=Fn;switch(c.tag){case 0:case 11:case 15:vo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Rd(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Fn=f;else e:for(c=a;Fn!==null;){f=Fn;var y=f.sibling,x=f.return;if(b2(f),f===c){Fn=null;break e}if(y!==null){y.return=x,Fn=y;break e}Fn=x}}}var rV={getCacheForType:function(a){var o=tr(_n),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return tr(_n).controller.signal}},iV=typeof WeakMap=="function"?WeakMap:Map,gt=0,Rt=null,et=null,rt=0,St=0,ii=null,yo=!1,Qc=!1,ab=!1,us=0,rn=0,bo=0,Dl=0,sb=0,ai=0,Zc=0,Qd=null,Br=null,ob=!1,Ym=0,O2=0,Wm=1/0,Xm=null,xo=null,In=0,_o=null,Jc=null,ds=0,lb=0,cb=null,I2=null,Zd=0,ub=null;function si(){return(gt&2)!==0&&rt!==0?rt&-rt:K.T!==null?gb():tn()}function P2(){if(ai===0)if((rt&536870912)===0||lt){var a=Ui;Ui<<=1,(Ui&3932160)===0&&(Ui=262144),ai=a}else ai=536870912;return a=ni.current,a!==null&&(a.flags|=32),ai}function $r(a,o,c){(a===Rt&&(St===2||St===9)||a.cancelPendingCommit!==null)&&(eu(a,0),wo(a,rt,ai,!1)),Er(a,c),((gt&2)===0||a!==Rt)&&(a===Rt&&((gt&2)===0&&(Dl|=c),rn===4&&wo(a,rt,ai,!1)),wa(a))}function R2(a,o,c){if((gt&6)!==0)throw Error(r(327));var f=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Ee(a,o),y=f?oV(a,o):fb(a,o,!0),x=f;do{if(y===0){Qc&&!f&&wo(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!aV(c)){y=fb(a,o,!1),x=!1;continue}if(y===2){if(x=o,a.errorRecoveryDisabledLanes&x)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var U=a;y=Qd;var G=U.current.memoizedState.isDehydrated;if(G&&(eu(U,C).flags|=256),C=fb(U,C,!1),C!==2){if(ab&&!G){U.errorRecoveryDisabledLanes|=x,Dl|=x,y=4;break e}x=Br,Br=y,x!==null&&(Br===null?Br=x:Br.push.apply(Br,x))}y=C}if(x=!1,y!==2)continue}}if(y===1){eu(a,0),wo(a,o,0,!0);break}e:{switch(f=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:wo(f,o,ai,!yo);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Ym+300-un(),10<y)){if(wo(f,o,ai,!yo),_e(f,0,!0)!==0)break e;ds=o,f.timeoutHandle=uN(k2.bind(null,f,c,Br,Xm,ob,o,ai,Dl,Zc,yo,x,"Throttled",-0,0),y);break e}k2(f,c,Br,Xm,ob,o,ai,Dl,Zc,yo,x,null,-0,0)}}break}while(!0);wa(a)}function k2(a,o,c,f,y,x,C,U,G,ne,fe,ge,ie,le){if(a.timeoutHandle=-1,ge=o.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$i},T2(o,x,ge);var Ie=(x&62914560)===x?Ym-un():(x&4194048)===x?O2-un():0;if(Ie=qV(ge,Ie),Ie!==null){ds=x,a.cancelPendingCommit=Ie($2.bind(null,a,o,x,c,f,y,C,U,G,fe,ge,null,ie,le)),wo(a,x,C,!ne);return}}$2(a,o,x,c,f,y,C,U,G)}function aV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],x=y.getSnapshot;y=y.value;try{if(!ei(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function wo(a,o,c,f){o&=~sb,o&=~Dl,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var y=o;0<y;){var x=31-$t(y),C=1<<x;f[x]=-1,y&=~C}c!==0&&Ar(a,c,o)}function Qm(){return(gt&6)===0?(Jd(0),!1):!0}function db(){if(et!==null){if(St===0)var a=et.return;else a=et,es=Tl=null,N0(a),Fc=null,Dd=0,a=et;for(;a!==null;)d2(a.alternate,a),a=a.return;et=null}}function eu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,AV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ds=0,db(),Rt=a,et=c=Za(a.current,null),rt=o,St=0,ii=null,yo=!1,Qc=Ee(a,o),ab=!1,Zc=ai=sb=Dl=bo=rn=0,Br=Qd=null,ob=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var y=31-$t(f),x=1<<y;o|=a[y],f&=~x}return us=o,ym(),c}function D2(a,o){Xe=null,K.H=qd,o===qc||o===Tm?(o=QA(),St=3):o===p0?(o=QA(),St=4):St=o===q0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ii=o,et===null&&(rn=1,Um(a,bi(o,a.current)))}function M2(){var a=ni.current;return a===null?!0:(rt&4194048)===rt?Si===null:(rt&62914560)===rt||(rt&536870912)!==0?a===Si:!1}function L2(){var a=K.H;return K.H=qd,a===null?qd:a}function z2(){var a=K.A;return K.A=rV,a}function Zm(){rn=4,yo||(rt&4194048)!==rt&&ni.current!==null||(Qc=!0),(bo&134217727)===0&&(Dl&134217727)===0||Rt===null||wo(Rt,rt,ai,!1)}function fb(a,o,c){var f=gt;gt|=2;var y=L2(),x=z2();(Rt!==a||rt!==o)&&(Xm=null,eu(a,o)),o=!1;var C=rn;e:do try{if(St!==0&&et!==null){var U=et,G=ii;switch(St){case 8:db(),C=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(o=!0);var ne=St;if(St=0,ii=null,tu(a,U,G,ne),c&&Qc){C=0;break e}break;default:ne=St,St=0,ii=null,tu(a,U,G,ne)}}sV(),C=rn;break}catch(fe){D2(a,fe)}while(!0);return o&&a.shellSuspendCounter++,es=Tl=null,gt=f,K.H=y,K.A=x,et===null&&(Rt=null,rt=0,ym()),C}function sV(){for(;et!==null;)V2(et)}function oV(a,o){var c=gt;gt|=2;var f=L2(),y=z2();Rt!==a||rt!==o?(Xm=null,Wm=un()+500,eu(a,o)):Qc=Ee(a,o);e:do try{if(St!==0&&et!==null){o=et;var x=ii;t:switch(St){case 1:St=0,ii=null,tu(a,o,x,1);break;case 2:case 9:if(WA(x)){St=0,ii=null,U2(o);break}o=function(){St!==2&&St!==9||Rt!==a||(St=7),wa(a)},x.then(o,o);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:WA(x)?(St=0,ii=null,U2(o)):(St=0,ii=null,tu(a,o,x,7));break;case 5:var C=null;switch(et.tag){case 26:C=et.memoizedState;case 5:case 27:var U=et;if(C?AN(C):U.stateNode.complete){St=0,ii=null;var G=U.sibling;if(G!==null)et=G;else{var ne=U.return;ne!==null?(et=ne,Jm(ne)):et=null}break t}}St=0,ii=null,tu(a,o,x,5);break;case 6:St=0,ii=null,tu(a,o,x,6);break;case 8:db(),rn=6;break e;default:throw Error(r(462))}}lV();break}catch(fe){D2(a,fe)}while(!0);return es=Tl=null,K.H=f,K.A=y,gt=c,et!==null?0:(Rt=null,rt=0,ym(),rn)}function lV(){for(;et!==null&&!Fa();)V2(et)}function V2(a){var o=c2(a.alternate,a,us);a.memoizedProps=a.pendingProps,o===null?Jm(a):et=o}function U2(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=r2(c,o,o.pendingProps,o.type,void 0,rt);break;case 11:o=r2(c,o,o.pendingProps,o.type.render,o.ref,rt);break;case 5:N0(o);default:d2(c,o),o=et=zA(o,us),o=c2(c,o,us)}a.memoizedProps=a.pendingProps,o===null?Jm(a):et=o}function tu(a,o,c,f){es=Tl=null,N0(o),Fc=null,Dd=0;var y=o.return;try{if(Xz(a,y,o,c,rt)){rn=1,Um(a,bi(c,a.current)),et=null;return}}catch(x){if(y!==null)throw et=y,x;rn=1,Um(a,bi(c,a.current)),et=null;return}o.flags&32768?(lt||f===1?a=!0:Qc||(rt&536870912)!==0?a=!1:(yo=a=!0,(f===2||f===9||f===3||f===6)&&(f=ni.current,f!==null&&f.tag===13&&(f.flags|=16384))),B2(o,a)):Jm(o)}function Jm(a){var o=a;do{if((o.flags&32768)!==0){B2(o,yo);return}a=o.return;var c=Jz(o.alternate,o,us);if(c!==null){et=c;return}if(o=o.sibling,o!==null){et=o;return}et=o=a}while(o!==null);rn===0&&(rn=5)}function B2(a,o){do{var c=eV(a.alternate,a);if(c!==null){c.flags&=32767,et=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){et=a;return}et=a=c}while(a!==null);rn=6,et=null}function $2(a,o,c,f,y,x,C,U,G){a.cancelPendingCommit=null;do ep();while(In!==0);if((gt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=e0,cl(a,c,x,C,U,G),a===Rt&&(et=Rt=null,rt=0),Jc=o,_o=a,ds=c,lb=x,cb=y,I2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,fV(Xr,function(){return G2(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,y=Z.p,Z.p=2,C=gt,gt|=4;try{tV(a,o,c)}finally{gt=C,Z.p=y,K.T=f}}In=1,q2(),F2(),H2()}}function q2(){if(In===1){In=0;var a=_o,o=Jc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var f=Z.p;Z.p=2;var y=gt;gt|=4;try{S2(o,a);var x=Eb,C=CA(a.containerInfo),U=x.focusedElem,G=x.selectionRange;if(C!==U&&U&&U.ownerDocument&&jA(U.ownerDocument.documentElement,U)){if(G!==null&&Wy(U)){var ne=G.start,fe=G.end;if(fe===void 0&&(fe=ne),"selectionStart"in U)U.selectionStart=ne,U.selectionEnd=Math.min(fe,U.value.length);else{var ge=U.ownerDocument||document,ie=ge&&ge.defaultView||window;if(ie.getSelection){var le=ie.getSelection(),Ie=U.textContent.length,ze=Math.min(G.start,Ie),Ct=G.end===void 0?ze:Math.min(G.end,Ie);!le.extend&&ze>Ct&&(C=Ct,Ct=ze,ze=C);var Q=NA(U,ze),W=NA(U,Ct);if(Q&&W&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var te=ge.createRange();te.setStart(Q.node,Q.offset),le.removeAllRanges(),ze>Ct?(le.addRange(te),le.extend(W.node,W.offset)):(te.setEnd(W.node,W.offset),le.addRange(te))}}}}for(ge=[],le=U;le=le.parentNode;)le.nodeType===1&&ge.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ge.length;U++){var pe=ge[U];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}fp=!!Sb,Eb=Sb=null}finally{gt=y,Z.p=f,K.T=c}}a.current=o,In=2}}function F2(){if(In===2){In=0;var a=_o,o=Jc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var f=Z.p;Z.p=2;var y=gt;gt|=4;try{y2(a,o.alternate,o)}finally{gt=y,Z.p=f,K.T=c}}In=3}}function H2(){if(In===4||In===3){In=0,Ws();var a=_o,o=Jc,c=ds,f=I2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?In=5:(In=0,Jc=_o=null,K2(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(xo=null),Ye(c),o=o.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Zn,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=K.T,y=Z.p,Z.p=2,K.T=null;try{for(var x=a.onRecoverableError,C=0;C<f.length;C++){var U=f[C];x(U.value,{componentStack:U.stack})}}finally{K.T=o,Z.p=y}}(ds&3)!==0&&ep(),wa(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===ub?Zd++:(Zd=0,ub=a):Zd=0,Jd(0)}}function K2(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Rd(o)))}function ep(){return q2(),F2(),H2(),G2()}function G2(){if(In!==5)return!1;var a=_o,o=lb;lb=0;var c=Ye(ds),f=K.T,y=Z.p;try{Z.p=32>c?32:c,K.T=null,c=cb,cb=null;var x=_o,C=ds;if(In=0,Jc=_o=null,ds=0,(gt&6)!==0)throw Error(r(331));var U=gt;if(gt|=4,j2(x.current),A2(x,x.current,C,c),gt=U,Jd(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Zn,x)}catch{}return!0}finally{Z.p=y,K.T=f,K2(a,o)}}function Y2(a,o,c){o=bi(c,o),o=$0(a.stateNode,o,2),a=mo(a,o,2),a!==null&&(Er(a,2),wa(a))}function Et(a,o,c){if(a.tag===3)Y2(a,a,c);else for(;o!==null;){if(o.tag===3){Y2(o,a,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(xo===null||!xo.has(f))){a=bi(c,a),c=WT(2),f=mo(o,c,2),f!==null&&(XT(c,f,o,a),Er(f,2),wa(f));break}}o=o.return}}function hb(a,o,c){var f=a.pingCache;if(f===null){f=a.pingCache=new iV;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(ab=!0,y.add(c),a=cV.bind(null,a,o,c),o.then(a,a))}function cV(a,o,c){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Rt===a&&(rt&c)===c&&(rn===4||rn===3&&(rt&62914560)===rt&&300>un()-Ym?(gt&2)===0&&eu(a,0):sb|=c,Zc===rt&&(Zc=0)),wa(a)}function W2(a,o){o===0&&(o=_t()),a=Sl(a,o),a!==null&&(Er(a,o),wa(a))}function uV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),W2(a,c)}function dV(a,o){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),W2(a,c)}function fV(a,o){return Pt(a,o)}var tp=null,nu=null,mb=!1,np=!1,pb=!1,So=0;function wa(a){a!==nu&&a.next===null&&(nu===null?tp=nu=a:nu=nu.next=a),np=!0,mb||(mb=!0,mV())}function Jd(a,o){if(!pb&&np){pb=!0;do for(var c=!1,f=tp;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var x=0;else{var C=f.suspendedLanes,U=f.pingedLanes;x=(1<<31-$t(42|a)+1)-1,x&=y&~(C&~U),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,J2(f,x))}else x=rt,x=_e(f,f===Rt?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Ee(f,x)||(c=!0,J2(f,x));f=f.next}while(c);pb=!1}}function hV(){X2()}function X2(){np=mb=!1;var a=0;So!==0&&EV()&&(a=So);for(var o=un(),c=null,f=tp;f!==null;){var y=f.next,x=Q2(f,o);x===0?(f.next=null,c===null?tp=y:c.next=y,y===null&&(nu=c)):(c=f,(a!==0||(x&3)!==0)&&(np=!0)),f=y}In!==0&&In!==5||Jd(a),So!==0&&(So=0)}function Q2(a,o){for(var c=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var C=31-$t(x),U=1<<C,G=y[C];G===-1?((U&c)===0||(U&f)!==0)&&(y[C]=Je(U,o)):G<=o&&(a.expiredLanes|=U),x&=~U}if(o=Rt,c=rt,c=_e(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===o&&(St===2||St===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&wr(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ee(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(f!==null&&wr(f),Ye(c)){case 2:case 8:c=Vi;break;case 32:c=Xr;break;case 268435456:c=ia;break;default:c=Xr}return f=Z2.bind(null,a),c=Pt(c,f),a.callbackPriority=o,a.callbackNode=c,o}return f!==null&&f!==null&&wr(f),a.callbackPriority=2,a.callbackNode=null,2}function Z2(a,o){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(ep()&&a.callbackNode!==c)return null;var f=rt;return f=_e(a,a===Rt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(R2(a,f,o),Q2(a,un()),a.callbackNode!=null&&a.callbackNode===c?Z2.bind(null,a):null)}function J2(a,o){if(ep())return null;R2(a,o,!0)}function mV(){TV(function(){(gt&6)!==0?Pt(zi,hV):X2()})}function gb(){if(So===0){var a=Bc;a===0&&(a=Sr,Sr<<=1,(Sr&261888)===0&&(Sr=256)),So=a}return So}function eN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Tc(""+a)}function tN(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function pV(a,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var x=eN((y[$n]||null).action),C=f.submitter;C&&(o=(o=C[$n]||null)?eN(o.formAction):C.getAttribute("formAction"),o!==null&&(x=o,C=null));var U=new pa("action","action",null,f,y);a.push({event:U,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(So!==0){var G=C?tN(y,C):new FormData(y);M0(c,{pending:!0,data:G,method:y.method,action:x},null,G)}}else typeof x=="function"&&(U.preventDefault(),G=C?tN(y,C):new FormData(y),M0(c,{pending:!0,data:G,method:y.method,action:x},x,G))},currentTarget:y}]})}}for(var vb=0;vb<Jy.length;vb++){var yb=Jy[vb],gV=yb.toLowerCase(),vV=yb[0].toUpperCase()+yb.slice(1);Gi(gV,"on"+vV)}Gi(PA,"onAnimationEnd"),Gi(RA,"onAnimationIteration"),Gi(kA,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Rz,"onTransitionRun"),Gi(kz,"onTransitionStart"),Gi(Dz,"onTransitionCancel"),Gi(DA,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ef));function nN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],y=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var C=f.length-1;0<=C;C--){var U=f[C],G=U.instance,ne=U.currentTarget;if(U=U.listener,G!==x&&y.isPropagationStopped())break e;x=U,y.currentTarget=ne;try{x(y)}catch(fe){vm(fe)}y.currentTarget=null,x=G}else for(C=0;C<f.length;C++){if(U=f[C],G=U.instance,ne=U.currentTarget,U=U.listener,G!==x&&y.isPropagationStopped())break e;x=U,y.currentTarget=ne;try{x(y)}catch(fe){vm(fe)}y.currentTarget=null,x=G}}}}function tt(a,o){var c=o[_c];c===void 0&&(c=o[_c]=new Set);var f=a+"__bubble";c.has(f)||(rN(o,a,2,!1),c.add(f))}function bb(a,o,c){var f=0;o&&(f|=4),rN(c,a,f,o)}var rp="_reactListening"+Math.random().toString(36).slice(2);function xb(a){if(!a[rp]){a[rp]=!0,fd.forEach(function(c){c!=="selectionchange"&&(yV.has(c)||bb(c,!1,a),bb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[rp]||(o[rp]=!0,bb("selectionchange",!1,o))}}function rN(a,o,c,f){switch(PN(o)){case 2:var y=KV;break;case 8:y=GV;break;default:y=Db}c=y.bind(null,o,c,a),y=void 0,!pl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function _b(a,o,c,f,y){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var U=f.stateNode.containerInfo;if(U===y)break;if(C===4)for(C=f.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;U!==null;){if(C=la(U),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){f=x=C;continue e}U=U.parentNode}}f=f.return}ro(function(){var ne=x,fe=pi(c),ge=[];e:{var ie=MA.get(a);if(ie!==void 0){var le=pa,Ie=a;switch(a){case"keypress":if(vl(c)===0)break e;case"keydown":case"keyup":le=mm;break;case"focusin":Ie="focus",le=bl;break;case"focusout":Ie="blur",le=bl;break;case"beforeblur":case"afterblur":le=bl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=T;break;case PA:case RA:case kA:le=om;break;case DA:le=F;break;case"scroll":case"scrollend":le=Ed;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Qa;break;case"toggle":case"beforetoggle":le=We}var ze=(o&4)!==0,Ct=!ze&&(a==="scroll"||a==="scrollend"),Q=ze?ie!==null?ie+"Capture":null:ie;ze=[];for(var W=ne,te;W!==null;){var pe=W;if(te=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||te===null||Q===null||(pe=qi(W,Q),pe!=null&&ze.push(tf(W,pe,te))),Ct)break;W=W.return}0<ze.length&&(ie=new le(ie,Ie,null,c,fe),ge.push({event:ie,listeners:ze}))}}if((o&7)===0){e:{if(ie=a==="mouseover"||a==="pointerover",le=a==="mouseout"||a==="pointerout",ie&&c!==_d&&(Ie=c.relatedTarget||c.fromElement)&&(la(Ie)||Ie[sa]))break e;if((le||ie)&&(ie=fe.window===fe?fe:(ie=fe.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Ie=c.relatedTarget||c.toElement,le=ne,Ie=Ie?la(Ie):null,Ie!==null&&(Ct=s(Ie),ze=Ie.tag,Ie!==Ct||ze!==5&&ze!==27&&ze!==6)&&(Ie=null)):(le=null,Ie=ne),le!==Ie)){if(ze=Ad,pe="onMouseLeave",Q="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(ze=Qa,pe="onPointerLeave",Q="onPointerEnter",W="pointer"),Ct=le==null?ie:Zr(le),te=Ie==null?ie:Zr(Ie),ie=new ze(pe,W+"leave",le,c,fe),ie.target=Ct,ie.relatedTarget=te,pe=null,la(fe)===ne&&(ze=new ze(Q,W+"enter",Ie,c,fe),ze.target=te,ze.relatedTarget=Ct,pe=ze),Ct=pe,le&&Ie)t:{for(ze=bV,Q=le,W=Ie,te=0,pe=Q;pe;pe=ze(pe))te++;pe=0;for(var Me=W;Me;Me=ze(Me))pe++;for(;0<te-pe;)Q=ze(Q),te--;for(;0<pe-te;)W=ze(W),pe--;for(;te--;){if(Q===W||W!==null&&Q===W.alternate){ze=Q;break t}Q=ze(Q),W=ze(W)}ze=null}else ze=null;le!==null&&iN(ge,ie,le,ze,!1),Ie!==null&&Ct!==null&&iN(ge,Ct,Ie,ze,!0)}}e:{if(ie=ne?Zr(ne):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var ft=_A;else if(bA(ie))if(wA)ft=Oz;else{ft=jz;var De=Nz}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&Ac(ne.elementType)&&(ft=_A):ft=Cz;if(ft&&(ft=ft(a,ne))){xA(ge,ft,c,fe);break e}De&&De(a,ie,ne),a==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&yd(ie,"number",ie.value)}switch(De=ne?Zr(ne):window,a){case"focusin":(bA(De)||De.contentEditable==="true")&&(Rc=De,Xy=ne,Od=null);break;case"focusout":Od=Xy=Rc=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,OA(ge,c,fe);break;case"selectionchange":if(Pz)break;case"keydown":case"keyup":OA(ge,c,fe)}var Qe;if(pt)e:{switch(a){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Pc?xl(a,c)&&(it="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(it="onCompositionStart");it&&(ya&&c.locale!=="ko"&&(Pc||it!=="onCompositionStart"?it==="onCompositionEnd"&&Pc&&(Qe=Sd()):(ma=fe,wd="value"in ma?ma.value:ma.textContent,Pc=!0)),De=ip(ne,it),0<De.length&&(it=new va(it,a,null,c,fe),ge.push({event:it,listeners:De}),Qe?it.data=Qe:(Qe=Ic(c),Qe!==null&&(it.data=Qe)))),(Qe=vi?Sz(a,c):Ez(a,c))&&(it=ip(ne,"onBeforeInput"),0<it.length&&(De=new va("onBeforeInput","beforeinput",null,c,fe),ge.push({event:De,listeners:it}),De.data=Qe)),pV(ge,a,ne,c,fe)}nN(ge,o)})}function tf(a,o,c){return{instance:a,listener:o,currentTarget:c}}function ip(a,o){for(var c=o+"Capture",f=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=qi(a,c),y!=null&&f.unshift(tf(a,y,x)),y=qi(a,o),y!=null&&f.push(tf(a,y,x))),a.tag===3)return f;a=a.return}return[]}function bV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function iN(a,o,c,f,y){for(var x=o._reactName,C=[];c!==null&&c!==f;){var U=c,G=U.alternate,ne=U.stateNode;if(U=U.tag,G!==null&&G===f)break;U!==5&&U!==26&&U!==27||ne===null||(G=ne,y?(ne=qi(c,x),ne!=null&&C.unshift(tf(c,ne,G))):y||(ne=qi(c,x),ne!=null&&C.push(tf(c,ne,G)))),c=c.return}C.length!==0&&a.push({event:o,listeners:C})}var xV=/\r\n?/g,_V=/\u0000|\uFFFD/g;function aN(a){return(typeof a=="string"?a:""+a).replace(xV,`
`).replace(_V,"")}function sN(a,o){return o=aN(o),aN(a)===o}function jt(a,o,c,f,y,x){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Lr(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Lr(a,""+f);break;case"className":Jr(a,"class",f);break;case"tabIndex":Jr(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(a,c,f);break;case"style":xd(a,f,x);break;case"data":if(o!=="object"){Jr(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Tc(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&jt(a,o,"name",y.name,y,null),jt(a,o,"formEncType",y.formEncType,y,null),jt(a,o,"formMethod",y.formMethod,y,null),jt(a,o,"formTarget",y.formTarget,y,null)):(jt(a,o,"encType",y.encType,y,null),jt(a,o,"method",y.method,y,null),jt(a,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Tc(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=$i);break;case"onScroll":f!=null&&tt("scroll",a);break;case"onScrollEnd":f!=null&&tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=Tc(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":tt("beforetoggle",a),tt("toggle",a),Sc(a,"popover",f);break;case"xlinkActuate":xn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":xn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":xn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":xn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":xn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":xn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":xn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":xn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":xn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Sc(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=im.get(c)||c,Sc(a,c,f))}}function wb(a,o,c,f,y,x){switch(c){case"style":xd(a,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof f=="string"?Lr(a,f):(typeof f=="number"||typeof f=="bigint")&&Lr(a,""+f);break;case"onScroll":f!=null&&tt("scroll",a);break;case"onScrollEnd":f!=null&&tt("scrollend",a);break;case"onClick":f!=null&&(a.onclick=$i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=a[$n]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,y),typeof f=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,f,y);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):Sc(a,c,f)}}}function rr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",a),tt("load",a);var f=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var C=c[x];if(C!=null)switch(x){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,x,C,c,null)}}y&&jt(a,o,"srcSet",c.srcSet,c,null),f&&jt(a,o,"src",c.src,c,null);return;case"input":tt("invalid",a);var U=x=C=y=null,G=null,ne=null;for(f in c)if(c.hasOwnProperty(f)){var fe=c[f];if(fe!=null)switch(f){case"name":y=fe;break;case"type":C=fe;break;case"checked":G=fe;break;case"defaultChecked":ne=fe;break;case"value":x=fe;break;case"defaultValue":U=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:jt(a,o,f,fe,c,null)}}tm(a,x,U,G,ne,C,y,!1);return;case"select":tt("invalid",a),f=C=x=null;for(y in c)if(c.hasOwnProperty(y)&&(U=c[y],U!=null))switch(y){case"value":x=U;break;case"defaultValue":C=U;break;case"multiple":f=U;default:jt(a,o,y,U,c,null)}o=x,c=C,a.multiple=!!f,o!=null?Js(a,!!f,o,!1):c!=null&&Js(a,!!f,c,!0);return;case"textarea":tt("invalid",a),x=y=f=null;for(C in c)if(c.hasOwnProperty(C)&&(U=c[C],U!=null))switch(C){case"value":f=U;break;case"defaultValue":y=U;break;case"children":x=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:jt(a,o,C,U,c,null)}eo(a,f,y,x);return;case"option":for(G in c)c.hasOwnProperty(G)&&(f=c[G],f!=null)&&(G==="selected"?a.selected=f&&typeof f!="function"&&typeof f!="symbol":jt(a,o,G,f,c,null));return;case"dialog":tt("beforetoggle",a),tt("toggle",a),tt("cancel",a),tt("close",a);break;case"iframe":case"object":tt("load",a);break;case"video":case"audio":for(f=0;f<ef.length;f++)tt(ef[f],a);break;case"image":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"embed":case"source":case"link":tt("error",a),tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in c)if(c.hasOwnProperty(ne)&&(f=c[ne],f!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,ne,f,c,null)}return;default:if(Ac(o)){for(fe in c)c.hasOwnProperty(fe)&&(f=c[fe],f!==void 0&&wb(a,o,fe,f,c,void 0));return}}for(U in c)c.hasOwnProperty(U)&&(f=c[U],f!=null&&jt(a,o,U,f,c,null))}function wV(a,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,C=null,U=null,G=null,ne=null,fe=null;for(le in c){var ge=c[le];if(c.hasOwnProperty(le)&&ge!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":G=ge;default:f.hasOwnProperty(le)||jt(a,o,le,null,f,ge)}}for(var ie in f){var le=f[ie];if(ge=c[ie],f.hasOwnProperty(ie)&&(le!=null||ge!=null))switch(ie){case"type":x=le;break;case"name":y=le;break;case"checked":ne=le;break;case"defaultChecked":fe=le;break;case"value":C=le;break;case"defaultValue":U=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==ge&&jt(a,o,ie,le,f,ge)}}Ec(a,C,U,G,ne,fe,x,y);return;case"select":le=C=U=ie=null;for(x in c)if(G=c[x],c.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":le=G;default:f.hasOwnProperty(x)||jt(a,o,x,null,f,G)}for(y in f)if(x=f[y],G=c[y],f.hasOwnProperty(y)&&(x!=null||G!=null))switch(y){case"value":ie=x;break;case"defaultValue":U=x;break;case"multiple":C=x;default:x!==G&&jt(a,o,y,x,f,G)}o=U,c=C,f=le,ie!=null?Js(a,!!c,ie,!1):!!f!=!!c&&(o!=null?Js(a,!!c,o,!0):Js(a,!!c,c?[]:"",!1));return;case"textarea":le=ie=null;for(U in c)if(y=c[U],c.hasOwnProperty(U)&&y!=null&&!f.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:jt(a,o,U,null,f,y)}for(C in f)if(y=f[C],x=c[C],f.hasOwnProperty(C)&&(y!=null||x!=null))switch(C){case"value":ie=y;break;case"defaultValue":le=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&jt(a,o,C,y,f,x)}nm(a,ie,le);return;case"option":for(var Ie in c)ie=c[Ie],c.hasOwnProperty(Ie)&&ie!=null&&!f.hasOwnProperty(Ie)&&(Ie==="selected"?a.selected=!1:jt(a,o,Ie,null,f,ie));for(G in f)ie=f[G],le=c[G],f.hasOwnProperty(G)&&ie!==le&&(ie!=null||le!=null)&&(G==="selected"?a.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":jt(a,o,G,ie,f,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in c)ie=c[ze],c.hasOwnProperty(ze)&&ie!=null&&!f.hasOwnProperty(ze)&&jt(a,o,ze,null,f,ie);for(ne in f)if(ie=f[ne],le=c[ne],f.hasOwnProperty(ne)&&ie!==le&&(ie!=null||le!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:jt(a,o,ne,ie,f,le)}return;default:if(Ac(o)){for(var Ct in c)ie=c[Ct],c.hasOwnProperty(Ct)&&ie!==void 0&&!f.hasOwnProperty(Ct)&&wb(a,o,Ct,void 0,f,ie);for(fe in f)ie=f[fe],le=c[fe],!f.hasOwnProperty(fe)||ie===le||ie===void 0&&le===void 0||wb(a,o,fe,ie,f,le);return}}for(var Q in c)ie=c[Q],c.hasOwnProperty(Q)&&ie!=null&&!f.hasOwnProperty(Q)&&jt(a,o,Q,null,f,ie);for(ge in f)ie=f[ge],le=c[ge],!f.hasOwnProperty(ge)||ie===le||ie==null&&le==null||jt(a,o,ge,ie,f,le)}function oN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],x=y.transferSize,C=y.initiatorType,U=y.duration;if(x&&U&&oN(C)){for(C=0,U=y.responseEnd,f+=1;f<c.length;f++){var G=c[f],ne=G.startTime;if(ne>U)break;var fe=G.transferSize,ge=G.initiatorType;fe&&oN(ge)&&(G=G.responseEnd,C+=fe*(G<U?1:(U-ne)/(G-ne)))}if(--f,o+=8*(x+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Sb=null,Eb=null;function ap(a){return a.nodeType===9?a:a.ownerDocument}function lN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Ab(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Tb=null;function EV(){var a=window.event;return a&&a.type==="popstate"?a===Tb?!1:(Tb=a,!0):(Tb=null,!1)}var uN=typeof setTimeout=="function"?setTimeout:void 0,AV=typeof clearTimeout=="function"?clearTimeout:void 0,dN=typeof Promise=="function"?Promise:void 0,TV=typeof queueMicrotask=="function"?queueMicrotask:typeof dN<"u"?function(a){return dN.resolve(null).then(a).catch(NV)}:uN;function NV(a){setTimeout(function(){throw a})}function Eo(a){return a==="head"}function fN(a,o){var c=o,f=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(y),su(o);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")nf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,nf(c);for(var x=c.firstChild;x;){var C=x.nextSibling,U=x.nodeName;x[oa]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=C}}else c==="body"&&nf(a.ownerDocument.body);c=y}while(c);su(o)}function hN(a,o){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function Nb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Nb(c),wc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function jV(a,o,c,f){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[oa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ei(a.nextSibling),a===null)break}return null}function CV(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ei(a.nextSibling),a===null))return null;return a}function mN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ei(a.nextSibling),a===null))return null;return a}function jb(a){return a.data==="$?"||a.data==="$~"}function Cb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function OV(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Ei(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Ob=null;function pN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Ei(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function gN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function vN(a,o,c){switch(o=ap(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function nf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);wc(a)}var Ai=new Map,yN=new Set;function sp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var fs=Z.d;Z.d={f:IV,r:PV,D:RV,C:kV,L:DV,m:MV,X:zV,S:LV,M:VV};function IV(){var a=fs.f(),o=Qm();return a||o}function PV(a){var o=mi(a);o!==null&&o.tag===5&&o.type==="form"?DT(o):fs.r(a)}var ru=typeof document>"u"?null:document;function bN(a,o,c){var f=ru;if(f&&typeof o=="string"&&o){var y=Mr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),yN.has(y)||(yN.add(y),a={rel:a,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),rr(o,"link",a),bn(o),f.head.appendChild(o)))}}function RV(a){fs.D(a),bN("dns-prefetch",a,null)}function kV(a,o){fs.C(a,o),bN("preconnect",a,o)}function DV(a,o,c){fs.L(a,o,c);var f=ru;if(f&&a&&o){var y='link[rel="preload"][as="'+Mr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Mr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Mr(c.imageSizes)+'"]')):y+='[href="'+Mr(a)+'"]';var x=y;switch(o){case"style":x=iu(a);break;case"script":x=au(a)}Ai.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Ai.set(x,a),f.querySelector(y)!==null||o==="style"&&f.querySelector(rf(x))||o==="script"&&f.querySelector(af(x))||(o=f.createElement("link"),rr(o,"link",a),bn(o),f.head.appendChild(o)))}}function MV(a,o){fs.m(a,o);var c=ru;if(c&&a){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Mr(f)+'"][href="'+Mr(a)+'"]',x=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=au(a)}if(!Ai.has(x)&&(a=g({rel:"modulepreload",href:a},o),Ai.set(x,a),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(af(x)))return}f=c.createElement("link"),rr(f,"link",a),bn(f),c.head.appendChild(f)}}}function LV(a,o,c){fs.S(a,o,c);var f=ru;if(f&&a){var y=ca(f).hoistableStyles,x=iu(a);o=o||"default";var C=y.get(x);if(!C){var U={loading:0,preload:null};if(C=f.querySelector(rf(x)))U.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Ai.get(x))&&Ib(a,c);var G=C=f.createElement("link");bn(G),rr(G,"link",a),G._p=new Promise(function(ne,fe){G.onload=ne,G.onerror=fe}),G.addEventListener("load",function(){U.loading|=1}),G.addEventListener("error",function(){U.loading|=2}),U.loading|=4,op(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:U},y.set(x,C)}}}function zV(a,o){fs.X(a,o);var c=ru;if(c&&a){var f=ca(c).hoistableScripts,y=au(a),x=f.get(y);x||(x=c.querySelector(af(y)),x||(a=g({src:a,async:!0},o),(o=Ai.get(y))&&Pb(a,o),x=c.createElement("script"),bn(x),rr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function VV(a,o){fs.M(a,o);var c=ru;if(c&&a){var f=ca(c).hoistableScripts,y=au(a),x=f.get(y);x||(x=c.querySelector(af(y)),x||(a=g({src:a,async:!0,type:"module"},o),(o=Ai.get(y))&&Pb(a,o),x=c.createElement("script"),bn(x),rr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function xN(a,o,c,f){var y=(y=se.current)?sp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=iu(c.href),c=ca(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=iu(c.href);var x=ca(y).hoistableStyles,C=x.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,C),(x=y.querySelector(rf(a)))&&!x._p&&(C.instance=x,C.state.loading=5),Ai.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ai.set(a,c),x||UV(y,a,c,C.state))),o&&f===null)throw Error(r(528,""));return C}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=au(c),c=ca(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function iu(a){return'href="'+Mr(a)+'"'}function rf(a){return'link[rel="stylesheet"]['+a+"]"}function _N(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function UV(a,o,c,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),rr(o,"link",c),bn(o),a.head.appendChild(o))}function au(a){return'[src="'+Mr(a)+'"]'}function af(a){return"script[async]"+a}function wN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+Mr(c.href)+'"]');if(f)return o.instance=f,bn(f),f;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),bn(f),rr(f,"style",y),op(f,c.precedence,a),o.instance=f;case"stylesheet":y=iu(c.href);var x=a.querySelector(rf(y));if(x)return o.state.loading|=4,o.instance=x,bn(x),x;f=_N(c),(y=Ai.get(y))&&Ib(f,y),x=(a.ownerDocument||a).createElement("link"),bn(x);var C=x;return C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),rr(x,"link",f),o.state.loading|=4,op(x,c.precedence,a),o.instance=x;case"script":return x=au(c.src),(y=a.querySelector(af(x)))?(o.instance=y,bn(y),y):(f=c,(y=Ai.get(x))&&(f=g({},c),Pb(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),bn(y),rr(y,"link",f),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,op(f,c.precedence,a));return o.instance}function op(a,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,x=y,C=0;C<f.length;C++){var U=f[C];if(U.dataset.precedence===o)x=U;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Ib(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Pb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var lp=null;function SN(a,o,c){if(lp===null){var f=new Map,y=lp=new Map;y.set(c,f)}else y=lp,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[oa]||x[yn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(o)||"";C=a+C;var U=f.get(C);U?U.push(x):f.set(C,[x])}}return f}function EN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function BV(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function AN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function $V(a,o,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=iu(f.href),x=o.querySelector(rf(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=cp.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,bn(x);return}x=o.ownerDocument||o,f=_N(f),(y=Ai.get(y))&&Ib(f,y),x=x.createElement("link"),bn(x);var C=x;C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),rr(x,"link",f),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=cp.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var Rb=0;function qV(a,o){return a.stylesheets&&a.count===0&&dp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&dp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Rb===0&&(Rb=62500*SV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&dp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Rb?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function cp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var up=null;function dp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,up=new Map,o.forEach(FV,a),up=null,cp.call(a))}function FV(a,o){if(!(o.state.loading&4)){var c=up.get(a);if(c)var f=c.get(null);else{c=new Map,up.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var C=y[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),f=C)}f&&c.set(null,f)}y=o.instance,C=y.getAttribute("data-precedence"),x=c.get(C)||f,x===f&&c.set(null,y),c.set(C,y),this.count++,f=cp.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var sf={$$typeof:R,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function HV(a,o,c,f,y,x,C,U,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function TN(a,o,c,f,y,x,C,U,G,ne,fe,ge){return a=new HV(a,o,c,C,G,ne,fe,ge,U),o=1,x===!0&&(o|=24),x=ti(3,null,null,o),a.current=x,x.stateNode=a,o=f0(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:f,isDehydrated:c,cache:o},g0(x),a}function NN(a){return a?(a=Mc,a):Mc}function jN(a,o,c,f,y,x){y=NN(y),f.context===null?f.context=y:f.pendingContext=y,f=ho(o),f.payload={element:c},x=x===void 0?null:x,x!==null&&(f.callback=x),c=mo(a,f,o),c!==null&&($r(c,a,o),Ld(c,a,o))}function CN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function kb(a,o){CN(a,o),(a=a.alternate)&&CN(a,o)}function ON(a){if(a.tag===13||a.tag===31){var o=Sl(a,67108864);o!==null&&$r(o,a,67108864),kb(a,67108864)}}function IN(a){if(a.tag===13||a.tag===31){var o=si();o=Ya(o);var c=Sl(a,o);c!==null&&$r(c,a,o),kb(a,o)}}var fp=!0;function KV(a,o,c,f){var y=K.T;K.T=null;var x=Z.p;try{Z.p=2,Db(a,o,c,f)}finally{Z.p=x,K.T=y}}function GV(a,o,c,f){var y=K.T;K.T=null;var x=Z.p;try{Z.p=8,Db(a,o,c,f)}finally{Z.p=x,K.T=y}}function Db(a,o,c,f){if(fp){var y=Mb(f);if(y===null)_b(a,o,f,hp,c),RN(a,f);else if(WV(y,a,o,c,f))f.stopPropagation();else if(RN(a,f),o&4&&-1<YV.indexOf(a)){for(;y!==null;){var x=mi(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=H(x.pendingLanes);if(C!==0){var U=x;for(U.pendingLanes|=2,U.entangledLanes|=2;C;){var G=1<<31-$t(C);U.entanglements[1]|=G,C&=~G}wa(x),(gt&6)===0&&(Wm=un()+500,Jd(0))}}break;case 31:case 13:U=Sl(x,2),U!==null&&$r(U,x,2),Qm(),kb(x,2)}if(x=Mb(f),x===null&&_b(a,o,f,hp,c),x===y)break;y=x}y!==null&&f.stopPropagation()}else _b(a,o,f,null,c)}}function Mb(a){return a=pi(a),Lb(a)}var hp=null;function Lb(a){if(hp=null,a=la(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return hp=a,null}function PN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case zi:return 2;case Vi:return 8;case Xr:case Ha:return 32;case ia:return 268435456;default:return 32}default:return 32}}var zb=!1,Ao=null,To=null,No=null,of=new Map,lf=new Map,jo=[],YV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RN(a,o){switch(a){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":of.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(o.pointerId)}}function cf(a,o,c,f,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},o!==null&&(o=mi(o),o!==null&&ON(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function WV(a,o,c,f,y){switch(o){case"focusin":return Ao=cf(Ao,a,o,c,f,y),!0;case"dragenter":return To=cf(To,a,o,c,f,y),!0;case"mouseover":return No=cf(No,a,o,c,f,y),!0;case"pointerover":var x=y.pointerId;return of.set(x,cf(of.get(x)||null,a,o,c,f,y)),!0;case"gotpointercapture":return x=y.pointerId,lf.set(x,cf(lf.get(x)||null,a,o,c,f,y)),!0}return!1}function kN(a){var o=la(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,vn(a.priority,function(){IN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,vn(a.priority,function(){IN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Mb(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);_d=f,c.target.dispatchEvent(f),_d=null}else return o=mi(c),o!==null&&ON(o),a.blockedOn=c,!1;o.shift()}return!0}function DN(a,o,c){mp(a)&&c.delete(o)}function XV(){zb=!1,Ao!==null&&mp(Ao)&&(Ao=null),To!==null&&mp(To)&&(To=null),No!==null&&mp(No)&&(No=null),of.forEach(DN),lf.forEach(DN)}function pp(a,o){a.blockedOn===o&&(a.blockedOn=null,zb||(zb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XV)))}var gp=null;function MN(a){gp!==a&&(gp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gp===a&&(gp=null);for(var o=0;o<a.length;o+=3){var c=a[o],f=a[o+1],y=a[o+2];if(typeof f!="function"){if(Lb(f||c)===null)continue;break}var x=mi(c);x!==null&&(a.splice(o,3),o-=3,M0(x,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function su(a){function o(G){return pp(G,a)}Ao!==null&&pp(Ao,a),To!==null&&pp(To,a),No!==null&&pp(No,a),of.forEach(o),lf.forEach(o);for(var c=0;c<jo.length;c++){var f=jo[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<jo.length&&(c=jo[0],c.blockedOn===null);)kN(c),c.blockedOn===null&&jo.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],x=c[f+1],C=y[$n]||null;if(typeof x=="function")C||MN(c);else if(C){var U=null;if(x&&x.hasAttribute("formAction")){if(y=x,C=x[$n]||null)U=C.formAction;else if(Lb(y)!==null)continue}else U=C.action;typeof U=="function"?c[f+1]=U:(c.splice(f,3),f-=3),MN(c)}}}function LN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Vb(a){this._internalRoot=a}vp.prototype.render=Vb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,f=si();jN(c,f,a,o,null,null)},vp.prototype.unmount=Vb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;jN(a.current,2,null,a,null,null),Qm(),o[sa]=null}};function vp(a){this._internalRoot=a}vp.prototype.unstable_scheduleHydration=function(a){if(a){var o=tn();a={blockedOn:null,target:a,priority:o};for(var c=0;c<jo.length&&o!==0&&o<jo[c].priority;c++);jo.splice(c,0,a),c===0&&kN(a)}};var zN=e.version;if(zN!=="19.2.3")throw Error(r(527,zN,"19.2.3"));Z.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var QV={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{Zn=yp.inject(QV),Zt=yp}catch{}}return df.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,f="",y=HT,x=KT,C=GT;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=TN(a,1,!1,null,null,c,f,null,y,x,C,LN),a[sa]=o.current,xb(a),new Vb(o)},df.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var f=!1,y="",x=HT,C=KT,U=GT,G=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.formState!==void 0&&(G=c.formState)),o=TN(a,1,!0,o,c??null,f,y,G,x,C,U,LN),o.context=NN(null),c=o.current,f=si(),f=Ya(f),y=ho(f),y.callback=null,mo(c,y,f),c=f,o.current.lanes=c,Er(o,c),wa(o),a[sa]=o.current,xb(a),new vp(o)},df.version="19.2.3",df}var YN;function l9(){if(YN)return $b.exports;YN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$b.exports=o9(),$b.exports}var c9=l9();const u9=()=>{};var WN={};const Ek=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},d9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Ak={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|h>>6,_=h&63;d||(_=64,l||(b=64)),r.push(n[p],n[g],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ek(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):d9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new f9;const b=s<<2|u>>4;if(r.push(b),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h9=function(t){const e=Ek(t);return Ak.encodeByteArray(e,!0)},ag=function(t){return h9(t).replace(/\./g,"")},Tk=function(t){try{return Ak.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function m9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const p9=()=>m9().__FIREBASE_DEFAULTS__,g9=()=>{if(typeof process>"u"||typeof WN>"u")return;const t=WN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tk(t[1]);return e&&JSON.parse(e)},Ev=()=>{try{return u9()||p9()||g9()||v9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nk=t=>Ev()?.emulatorHosts?.[t],y9=t=>{const e=Nk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jk=()=>Ev()?.config,Ck=t=>Ev()?.[`_${t}`];class b9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ku(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ok(t){return(await fetch(t,{credentials:"include"})).ok}function x9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ag(JSON.stringify(n)),ag(JSON.stringify(l)),""].join(".")}const Tf={};function _9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tf))Tf[e]?t.emulator.push(e):t.prod.push(e);return t}function w9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XN=!1;function Ik(t,e){if(typeof window>"u"||typeof document>"u"||!Ku(window.location.host)||Tf[t]===e||Tf[t]||XN)return;Tf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=_9().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{XN=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=w9(r),_=n("text"),A=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),O=n("preprendIcon"),M=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const R=b.element;u(R),p(E,S);const $=h();d(M,O),R.append(M,A,E,$),document.body.appendChild(R)}s?(A.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function E9(){const t=Ev()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j9(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C9(){return!E9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O9(){try{return typeof indexedDB=="object"}catch{return!1}}function I9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const P9="FirebaseError";class Vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P9,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?R9(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Vs(i,u,r)}}function R9(t,e){return t.replace(k9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const k9=/\{\$([^}]+)}/g;function D9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(QN(s)&&QN(l)){if(!Jl(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QN(t){return t!==null&&typeof t=="object"}function ch(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function M9(t,e){const n=new L9(t,e);return n.subscribe.bind(n)}class L9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");z9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kb),i.error===void 0&&(i.error=Kb),i.complete===void 0&&(i.complete=Kb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kb(){}function Mn(t){return t&&t._delegate?t._delegate:t}class ec{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ml="[DEFAULT]";let V9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B9(e))try{this.getOrInitializeService({instanceIdentifier:Ml})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ml){return this.instances.has(e)}getOptions(e=Ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ml){return this.component?this.component.multipleInstances?e:Ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U9(t){return t===Ml?void 0:t}function B9(t){return t.instantiationMode==="EAGER"}class $9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const q9={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},F9=at.INFO,H9={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},K9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gw{constructor(e){this.name=e,this._logLevel=F9,this._logHandler=K9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const G9=(t,e)=>e.some(n=>t instanceof n);let ZN,JN;function Y9(){return ZN||(ZN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W9(){return JN||(JN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pk=new WeakMap,B1=new WeakMap,Rk=new WeakMap,Gb=new WeakMap,vw=new WeakMap;function X9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Bo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Pk.set(n,t)}).catch(()=>{}),vw.set(e,t),e}function Q9(t){if(B1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});B1.set(t,e)}let $1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z9(t){$1=t($1)}function J9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yb(this),e,...n);return Rk.set(r,e.sort?e.sort():[e]),Bo(r)}:W9().includes(t)?function(...e){return t.apply(Yb(this),e),Bo(Pk.get(this))}:function(...e){return Bo(t.apply(Yb(this),e))}}function e8(t){return typeof t=="function"?J9(t):(t instanceof IDBTransaction&&Q9(t),G9(t,Y9())?new Proxy(t,$1):t)}function Bo(t){if(t instanceof IDBRequest)return X9(t);if(Gb.has(t))return Gb.get(t);const e=e8(t);return e!==t&&(Gb.set(t,e),vw.set(e,t)),e}const Yb=t=>vw.get(t);function t8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Bo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Bo(l.result),d.oldVersion,d.newVersion,Bo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const n8=["get","getKey","getAll","getAllKeys","count"],r8=["put","add","delete","clear"],Wb=new Map;function ej(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wb.get(e))return Wb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=r8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n8.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return Wb.set(e,s),s}Z9(t=>({...t,get:(e,n,r)=>ej(e,n)||t.get(e,n,r),has:(e,n)=>!!ej(e,n)||t.has(e,n)}));class i8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function a8(t){return t.getComponent()?.type==="VERSION"}const q1="@firebase/app",tj="0.14.6";const As=new gw("@firebase/app"),s8="@firebase/app-compat",o8="@firebase/analytics-compat",l8="@firebase/analytics",c8="@firebase/app-check-compat",u8="@firebase/app-check",d8="@firebase/auth",f8="@firebase/auth-compat",h8="@firebase/database",m8="@firebase/data-connect",p8="@firebase/database-compat",g8="@firebase/functions",v8="@firebase/functions-compat",y8="@firebase/installations",b8="@firebase/installations-compat",x8="@firebase/messaging",_8="@firebase/messaging-compat",w8="@firebase/performance",S8="@firebase/performance-compat",E8="@firebase/remote-config",A8="@firebase/remote-config-compat",T8="@firebase/storage",N8="@firebase/storage-compat",j8="@firebase/firestore",C8="@firebase/ai",O8="@firebase/firestore-compat",I8="firebase",P8="12.6.0";const F1="[DEFAULT]",R8={[q1]:"fire-core",[s8]:"fire-core-compat",[l8]:"fire-analytics",[o8]:"fire-analytics-compat",[u8]:"fire-app-check",[c8]:"fire-app-check-compat",[d8]:"fire-auth",[f8]:"fire-auth-compat",[h8]:"fire-rtdb",[m8]:"fire-data-connect",[p8]:"fire-rtdb-compat",[g8]:"fire-fn",[v8]:"fire-fn-compat",[y8]:"fire-iid",[b8]:"fire-iid-compat",[x8]:"fire-fcm",[_8]:"fire-fcm-compat",[w8]:"fire-perf",[S8]:"fire-perf-compat",[E8]:"fire-rc",[A8]:"fire-rc-compat",[T8]:"fire-gcs",[N8]:"fire-gcs-compat",[j8]:"fire-fst",[O8]:"fire-fst-compat",[C8]:"fire-vertex","fire-js":"fire-js",[I8]:"fire-js-all"};const sg=new Map,k8=new Map,H1=new Map;function nj(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nu(t){const e=t.name;if(H1.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;H1.set(e,t);for(const n of sg.values())nj(n,t);for(const n of k8.values())nj(n,t);return!0}function yw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Oi(t){return t==null?!1:t.settings!==void 0}const D8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new lh("app","Firebase",D8);class M8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ec("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}const Gu=P8;function kk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:F1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $o.create("bad-app-name",{appName:String(i)});if(n||(n=jk()),!n)throw $o.create("no-options");const s=sg.get(i);if(s){if(Jl(n,s.options)&&Jl(r,s.config))return s;throw $o.create("duplicate-app",{appName:i})}const l=new $9(i);for(const d of H1.values())l.addComponent(d);const u=new M8(n,r,l);return sg.set(i,u),u}function Dk(t=F1){const e=sg.get(t);if(!e&&t===F1&&jk())return kk();if(!e)throw $o.create("no-app",{appName:t});return e}function qo(t,e,n){let r=R8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(l.join(" "));return}Nu(new ec(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const L8="firebase-heartbeat-database",z8=1,kf="firebase-heartbeat-store";let Xb=null;function Mk(){return Xb||(Xb=t8(L8,z8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kf)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),Xb}async function V8(t){try{const n=(await Mk()).transaction(kf),r=await n.objectStore(kf).get(Lk(t));return await n.done,r}catch(e){if(e instanceof Vs)As.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e?.message});As.warn(n.message)}}}async function rj(t,e){try{const r=(await Mk()).transaction(kf,"readwrite");await r.objectStore(kf).put(e,Lk(t)),await r.done}catch(n){if(n instanceof Vs)As.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n?.message});As.warn(r.message)}}}function Lk(t){return`${t.name}!${t.options.appId}`}const U8=1024,B8=30;class $8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ij();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>B8){const i=H8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ij(),{heartbeatsToSend:n,unsentEntries:r}=q8(this._heartbeatsCache.heartbeats),i=ag(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return As.warn(e),""}}}function ij(){return new Date().toISOString().substring(0,10)}function q8(t,e=U8){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),aj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O9()?I9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aj(t){return ag(JSON.stringify({version:2,heartbeats:t})).length}function H8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function K8(t){Nu(new ec("platform-logger",e=>new i8(e),"PRIVATE")),Nu(new ec("heartbeat",e=>new $8(e),"PRIVATE")),qo(q1,tj,t),qo(q1,tj,"esm2020"),qo("fire-js","")}K8("");var G8="firebase",Y8="12.7.0";qo(G8,Y8,"app");function zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W8=zk,Vk=new lh("auth","Firebase",zk());const og=new gw("@firebase/auth");function X8(t,...e){og.logLevel<=at.WARN&&og.warn(`Auth (${Gu}): ${t}`,...e)}function qp(t,...e){og.logLevel<=at.ERROR&&og.error(`Auth (${Gu}): ${t}`,...e)}function Ts(t,...e){throw bw(t,...e)}function Na(t,...e){return bw(t,...e)}function Uk(t,e,n){const r={...W8(),[e]:n};return new lh("auth","Firebase",r).create(e,{appName:t.name})}function _s(t){return Uk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vk.create(t,...e)}function qe(t,e,...n){if(!t)throw bw(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qp(e),new Error(e)}function Ns(t,e){t||vs(e)}function K1(){return typeof self<"u"&&self.location?.href||""}function Q8(){return sj()==="http:"||sj()==="https:"}function sj(){return typeof self<"u"&&self.location?.protocol||null}function Z8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q8()||T9()||"connection"in navigator)?navigator.onLine:!0}function J8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=S9()||N9()}get(){return Z8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xw(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Bk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nU=new uh(3e4,6e4);function dh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yu(t,e,n,r,i={}){return $k(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=ch({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...s};return A9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ku(t.emulatorConfig.host)&&(h.credentials="include"),Bk.fetch()(await qk(t,t.config.apiHost,n,u),h)})}async function $k(t,e,n){t._canInitEmulator=!1;const r={...eU,...e};try{const i=new rU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw bp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw bp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw bp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw bp(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Uk(t,p,h);Ts(t,p)}}catch(i){if(i instanceof Vs)throw i;Ts(t,"network-request-failed",{message:String(i)})}}async function _w(t,e,n,r,i={}){const s=await Yu(t,e,n,r,i);return"mfaPendingCredential"in s&&Ts(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function qk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?xw(t.config,i):`${t.config.apiScheme}://${i}`;return tU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class rU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Na(this.auth,"network-request-failed")),nU.get())})}}function bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Na(t,e,r);return i.customData._tokenResponse=n,i}async function iU(t,e){return Yu(t,"POST","/v1/accounts:delete",e)}async function lg(t,e){return Yu(t,"POST","/v1/accounts:lookup",e)}function Nf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aU(t,e=!1){const n=Mn(t),r=await n.getIdToken(e),i=ww(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Nf(Qb(i.auth_time)),issuedAtTime:Nf(Qb(i.iat)),expirationTime:Nf(Qb(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Qb(t){return Number(t)*1e3}function ww(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tk(n);return i?JSON.parse(i):(qp("Failed to decode base64 JWT payload"),null)}catch(i){return qp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oj(t){const e=ww(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Df(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vs&&sU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class oU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class G1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nf(this.lastLoginAt),this.creationTime=Nf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cg(t){const e=t.auth,n=await t.getIdToken(),r=await Df(t,lg(e,{idToken:n}));qe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?Fk(i.providerUserInfo):[],l=cU(t.providerData,s),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,h=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new G1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function lU(t){const e=Mn(t);await cg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function uU(t,e){const n=await $k(t,{},async()=>{const r=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await qk(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ku(t.emulatorConfig.host)&&(d.credentials="include"),Bk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dU(t,e){return Yu(t,"POST","/v2/accounts:revokeToken",dh(t,e))}class bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=oj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new bu;return r&&(qe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(qe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bu,this.toJSON())}_performRefresh(){return vs("not implemented")}}function Oo(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new oU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Df(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aU(this,e)}reload(){return lU(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Df(this,iU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:_,providerData:A,stsTokenManager:S}=n;qe(g&&S,e,"internal-error");const E=bu.fromJSON(this.name,S);qe(typeof g=="string",e,"internal-error"),Oo(r,e.name),Oo(i,e.name),qe(typeof b=="boolean",e,"internal-error"),qe(typeof _=="boolean",e,"internal-error"),Oo(s,e.name),Oo(l,e.name),Oo(u,e.name),Oo(d,e.name),Oo(h,e.name),Oo(p,e.name);const O=new Ji({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:E,createdAt:h,lastLoginAt:p});return A&&Array.isArray(A)&&(O.providerData=A.map(M=>({...M}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new bu;i.updateFromServerResponse(n);const s=new Ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Fk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new bu;u.updateFromIdToken(r);const d=new Ji({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new G1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,h),d}}const lj=new Map;function ys(t){Ns(t instanceof Function,"Expected a class definition");let e=lj.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lj.set(t,e),e)}class Hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hk.type="NONE";const cj=Hk;function Fp(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lg(this.auth,{idToken:e}).catch(()=>{});return n?Ji._fromGetAccountInfoResponse(this.auth,n,e):null}return Ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xu(ys(cj),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ys(cj);const l=Fp(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const b=await lg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await Ji._fromGetAccountInfoResponse(e,b,p)}else g=Ji._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new xu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new xu(s,e,r))}}function uj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qk(e))return"Blackberry";if(Zk(e))return"Webos";if(Gk(e))return"Safari";if((e.includes("chrome/")||Yk(e))&&!e.includes("edge/"))return"Chrome";if(Xk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Kk(t=br()){return/firefox\//i.test(t)}function Gk(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yk(t=br()){return/crios\//i.test(t)}function Wk(t=br()){return/iemobile/i.test(t)}function Xk(t=br()){return/android/i.test(t)}function Qk(t=br()){return/blackberry/i.test(t)}function Zk(t=br()){return/webos/i.test(t)}function Sw(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fU(t=br()){return Sw(t)&&!!window.navigator?.standalone}function hU(){return j9()&&document.documentMode===10}function Jk(t=br()){return Sw(t)||Xk(t)||Zk(t)||Qk(t)||/windows phone/i.test(t)||Wk(t)}function eD(t,e=[]){let n;switch(t){case"Browser":n=uj(br());break;case"Worker":n=`${uj(br())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gu}/${r}`}class mU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function pU(t,e={}){return Yu(t,"GET","/v2/passwordPolicy",dh(t,e))}const gU=6;class vU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class yU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dj(this),this.idTokenSubscription=new dj(this),this.beforeStateQueue=new mU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lg(this,{idToken:e}),r=await Ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Oi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(_s(this));const n=e?Mn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pU(this),n=new vU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&X8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fh(t){return Mn(t)}class dj{constructor(e){this.auth=e,this.observer=null,this.addObserver=M9(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ew={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bU(t){Ew=t}function xU(t){return Ew.loadJS(t)}function _U(){return Ew.gapiScript}function wU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function SU(t,e){const n=yw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jl(s,e??{}))return i;Ts(i,"already-initialized")}return n.initialize({options:e})}function EU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function AU(t,e,n){const r=fh(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=tD(e),{host:l,port:u}=TU(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Jl(h,r.config.emulator)&&Jl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ku(l)?(Ok(`${s}//${l}${d}`),Ik("Auth",!0)):NU()}function tD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TU(t){const e=tD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:fj(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:fj(l)}}}function fj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class nD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function _u(t,e){return _w(t,"POST","/v1/accounts:signInWithIdp",dh(t,e))}const jU="http://localhost";class tc extends nD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new tc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return _u(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_u(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_u(e,n)}buildRequest(){const e={requestUri:jU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ch(n)}return e}}class rD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hh extends rD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ro extends hh{constructor(){super("facebook.com")}static credential(e){return tc._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ro.PROVIDER_ID="facebook.com";class ko extends hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tc._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ko.credential(n,r)}catch{return null}}}ko.GOOGLE_SIGN_IN_METHOD="google.com";ko.PROVIDER_ID="google.com";class Do extends hh{constructor(){super("github.com")}static credential(e){return tc._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.GITHUB_SIGN_IN_METHOD="github.com";Do.PROVIDER_ID="github.com";class Mo extends hh{constructor(){super("twitter.com")}static credential(e,n){return tc._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mo.credential(n,r)}catch{return null}}}Mo.TWITTER_SIGN_IN_METHOD="twitter.com";Mo.PROVIDER_ID="twitter.com";async function CU(t,e){return _w(t,"POST","/v1/accounts:signUp",dh(t,e))}class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ji._fromIdTokenResponse(e,r,i),l=hj(r);return new js({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hj(r);return new js({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function OU(t){if(Oi(t.app))return Promise.reject(_s(t));const e=fh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new js({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await CU(e,{returnSecureToken:!0}),r=await js._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class ug extends Vs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ug.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ug(e,n,r,i)}}function iD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ug._fromErrorAndOperation(t,s,e,r):s})}async function IU(t,e,n=!1){const r=await Df(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return js._forOperation(t,"link",r)}async function PU(t,e,n=!1){const{auth:r}=t;if(Oi(r.app))return Promise.reject(_s(r));const i="reauthenticate";try{const s=await Df(t,iD(r,i,e,t),n);qe(s.idToken,r,"internal-error");const l=ww(s.idToken);qe(l,r,"internal-error");const{sub:u}=l;return qe(t.uid===u,r,"user-mismatch"),js._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ts(r,"user-mismatch"),s}}async function RU(t,e,n=!1){if(Oi(t.app))return Promise.reject(_s(t));const r="signIn",i=await iD(t,r,e),s=await js._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function kU(t,e){return _w(t,"POST","/v1/accounts:signInWithCustomToken",dh(t,e))}async function DU(t,e){if(Oi(t.app))return Promise.reject(_s(t));const n=fh(t),r=await kU(n,{token:e,returnSecureToken:!0}),i=await js._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function MU(t,e,n,r){return Mn(t).onIdTokenChanged(e,n,r)}function LU(t,e,n){return Mn(t).beforeAuthStateChanged(e,n)}function zU(t,e,n,r){return Mn(t).onAuthStateChanged(e,n,r)}const dg="__sak";class aD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dg,"1"),this.storage.removeItem(dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VU=1e3,UU=10;class sD extends aD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);hU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sD.type="LOCAL";const BU=sD;class oD extends aD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oD.type="SESSION";const lD=oD;function $U(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Av{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Av(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,s)),d=await $U(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Av.receivers=[];function Aw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class qU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=Aw("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function ja(){return window}function FU(t){ja().location.href=t}function cD(){return typeof ja().WorkerGlobalScope<"u"&&typeof ja().importScripts=="function"}async function HU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KU(){return navigator?.serviceWorker?.controller||null}function GU(){return cD()?self:null}const uD="firebaseLocalStorageDb",YU=1,fg="firebaseLocalStorage",dD="fbase_key";class mh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tv(t,e){return t.transaction([fg],e?"readwrite":"readonly").objectStore(fg)}function WU(){const t=indexedDB.deleteDatabase(uD);return new mh(t).toPromise()}function Y1(){const t=indexedDB.open(uD,YU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fg,{keyPath:dD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fg)?e(r):(r.close(),await WU(),e(await Y1()))})})}async function mj(t,e,n){const r=Tv(t,!0).put({[dD]:e,value:n});return new mh(r).toPromise()}async function XU(t,e){const n=Tv(t,!1).get(e),r=await new mh(n).toPromise();return r===void 0?null:r.value}function pj(t,e){const n=Tv(t,!0).delete(e);return new mh(n).toPromise()}const QU=800,ZU=3;class fD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Av._getInstance(GU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HU(),!this.activeServiceWorker)return;this.sender=new qU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y1();return await mj(e,dg,"1"),await pj(e,dg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Tv(i,!1).getAll();return new mh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fD.type="LOCAL";const JU=fD;new uh(3e4,6e4);function eB(t,e){return e?ys(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Tw extends nD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _u(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _u(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _u(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tB(t){return RU(t.auth,new Tw(t),t.bypassAuthState)}function nB(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),PU(n,new Tw(t),t.bypassAuthState)}async function rB(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),IU(n,new Tw(t),t.bypassAuthState)}class hD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tB;case"linkViaPopup":case"linkViaRedirect":return rB;case"reauthViaPopup":case"reauthViaRedirect":return nB;default:Ts(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iB=new uh(2e3,1e4);class pu extends hD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,pu.currentPopupAction&&pu.currentPopupAction.cancel(),pu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=Aw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iB.get())};e()}}pu.currentPopupAction=null;const aB="pendingRedirect",Hp=new Map;class sB extends hD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hp.get(this.auth._key());if(!e){try{const r=await oB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hp.set(this.auth._key(),e)}return this.bypassAuthState||Hp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oB(t,e){const n=uB(e),r=cB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lB(t,e){Hp.set(t._key(),e)}function cB(t){return ys(t._redirectPersistence)}function uB(t){return Fp(aB,t.config.apiKey,t.name)}async function dB(t,e,n=!1){if(Oi(t.app))return Promise.reject(_s(t));const r=fh(t),i=eB(r,e),l=await new sB(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const fB=600*1e3;class hB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!mD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Na(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fB&&this.cachedEventUids.clear(),this.cachedEventUids.has(gj(e))}saveEventToCache(e){this.cachedEventUids.add(gj(e)),this.lastProcessedEventTime=Date.now()}}function gj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mD(t);default:return!1}}async function pB(t,e={}){return Yu(t,"GET","/v1/projects",e)}const gB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vB=/^https?/;async function yB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pB(t);for(const n of e)try{if(bB(n))return}catch{}Ts(t,"unauthorized-domain")}function bB(t){const e=K1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!vB.test(n))return!1;if(gB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xB=new uh(3e4,6e4);function vj(){const t=ja().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _B(t){return new Promise((e,n)=>{function r(){vj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vj(),n(Na(t,"network-request-failed"))},timeout:xB.get()})}if(ja().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ja().gapi?.load)r();else{const i=wU("iframefcb");return ja()[i]=()=>{gapi.load?r():n(Na(t,"network-request-failed"))},xU(`${_U()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Kp=null,e})}let Kp=null;function wB(t){return Kp=Kp||_B(t),Kp}const SB=new uh(5e3,15e3),EB="__/auth/iframe",AB="emulator/auth/iframe",TB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jB(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xw(e,AB):`https://${t.config.authDomain}/${EB}`,r={apiKey:e.apiKey,appName:t.name,v:Gu},i=NB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ch(r).slice(1)}`}async function CB(t){const e=await wB(t),n=ja().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:jB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Na(t,"network-request-failed"),u=ja().setTimeout(()=>{s(l)},SB.get());function d(){ja().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const OB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IB=500,PB=600,RB="_blank",kB="http://localhost";class yj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DB(t,e,n,r=IB,i=PB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...OB,width:r.toString(),height:i.toString(),top:s,left:l},h=br().toLowerCase();n&&(u=Yk(h)?RB:n),Kk(h)&&(e=e||kB,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[_,A])=>`${b}${_}=${A},`,"");if(fU(h)&&u!=="_self")return MB(e||"",u),new yj(null);const g=window.open(e||"",u,p);qe(g,t,"popup-blocked");try{g.focus()}catch{}return new yj(g)}function MB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const LB="__/auth/handler",zB="emulator/auth/handler",VB=encodeURIComponent("fac");async function bj(t,e,n,r,i,s){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gu,eventId:i};if(e instanceof rD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",D9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof hh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${VB}=${encodeURIComponent(d)}`:"";return`${UB(t)}?${ch(u).slice(1)}${h}`}function UB({config:t}){return t.emulator?xw(t,zB):`https://${t.authDomain}/${LB}`}const Zb="webStorageSupport";class BB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lD,this._completeRedirectFn=dB,this._overrideRedirectResult=lB}async _openPopup(e,n,r,i){Ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await bj(e,n,r,K1(),i);return DB(e,s,Aw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bj(e,n,r,K1(),i);return FU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CB(e),r=new hB(e);return n.register("authEvent",i=>(qe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zb,{type:Zb},i=>{const s=i?.[0]?.[Zb];s!==void 0&&n(!!s),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jk()||Gk()||Sw()}}const $B=BB;var xj="@firebase/auth",_j="1.12.0";class qB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HB(t){Nu(new ec("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;qe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eD(t)},h=new yU(r,i,s,d);return EU(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nu(new ec("auth-internal",e=>{const n=fh(e.getProvider("auth").getImmediate());return(r=>new qB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qo(xj,_j,FB(t)),qo(xj,_j,"esm2020")}const KB=300,GB=Ck("authIdTokenMaxAge")||KB;let wj=null;const YB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GB)return;const i=n?.token;wj!==i&&(wj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WB(t=Dk()){const e=yw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SU(t,{popupRedirectResolver:$B,persistence:[JU,BU,lD]}),r=Ck("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=YB(s.toString());LU(n,l,()=>l(n.currentUser)),MU(n,u=>l(u))}}const i=Nk("auth");return i&&AU(n,`http://${i}`),n}function XB(){return document.getElementsByTagName("head")?.[0]??document}bU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Na("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HB("Browser");var Sj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fo,pD;(function(){var t;function e(N,j){function I(){}I.prototype=j.prototype,N.F=j.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(L,D,B){for(var V=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)V[ue-2]=arguments[ue];return j.prototype[D].apply(L,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,j,I){I||(I=0);const L=Array(16);if(typeof j=="string")for(var D=0;D<16;++D)L[D]=j.charCodeAt(I++)|j.charCodeAt(I++)<<8|j.charCodeAt(I++)<<16|j.charCodeAt(I++)<<24;else for(D=0;D<16;++D)L[D]=j[I++]|j[I++]<<8|j[I++]<<16|j[I++]<<24;j=N.g[0],I=N.g[1],D=N.g[2];let B=N.g[3],V;V=j+(B^I&(D^B))+L[0]+3614090360&4294967295,j=I+(V<<7&4294967295|V>>>25),V=B+(D^j&(I^D))+L[1]+3905402710&4294967295,B=j+(V<<12&4294967295|V>>>20),V=D+(I^B&(j^I))+L[2]+606105819&4294967295,D=B+(V<<17&4294967295|V>>>15),V=I+(j^D&(B^j))+L[3]+3250441966&4294967295,I=D+(V<<22&4294967295|V>>>10),V=j+(B^I&(D^B))+L[4]+4118548399&4294967295,j=I+(V<<7&4294967295|V>>>25),V=B+(D^j&(I^D))+L[5]+1200080426&4294967295,B=j+(V<<12&4294967295|V>>>20),V=D+(I^B&(j^I))+L[6]+2821735955&4294967295,D=B+(V<<17&4294967295|V>>>15),V=I+(j^D&(B^j))+L[7]+4249261313&4294967295,I=D+(V<<22&4294967295|V>>>10),V=j+(B^I&(D^B))+L[8]+1770035416&4294967295,j=I+(V<<7&4294967295|V>>>25),V=B+(D^j&(I^D))+L[9]+2336552879&4294967295,B=j+(V<<12&4294967295|V>>>20),V=D+(I^B&(j^I))+L[10]+4294925233&4294967295,D=B+(V<<17&4294967295|V>>>15),V=I+(j^D&(B^j))+L[11]+2304563134&4294967295,I=D+(V<<22&4294967295|V>>>10),V=j+(B^I&(D^B))+L[12]+1804603682&4294967295,j=I+(V<<7&4294967295|V>>>25),V=B+(D^j&(I^D))+L[13]+4254626195&4294967295,B=j+(V<<12&4294967295|V>>>20),V=D+(I^B&(j^I))+L[14]+2792965006&4294967295,D=B+(V<<17&4294967295|V>>>15),V=I+(j^D&(B^j))+L[15]+1236535329&4294967295,I=D+(V<<22&4294967295|V>>>10),V=j+(D^B&(I^D))+L[1]+4129170786&4294967295,j=I+(V<<5&4294967295|V>>>27),V=B+(I^D&(j^I))+L[6]+3225465664&4294967295,B=j+(V<<9&4294967295|V>>>23),V=D+(j^I&(B^j))+L[11]+643717713&4294967295,D=B+(V<<14&4294967295|V>>>18),V=I+(B^j&(D^B))+L[0]+3921069994&4294967295,I=D+(V<<20&4294967295|V>>>12),V=j+(D^B&(I^D))+L[5]+3593408605&4294967295,j=I+(V<<5&4294967295|V>>>27),V=B+(I^D&(j^I))+L[10]+38016083&4294967295,B=j+(V<<9&4294967295|V>>>23),V=D+(j^I&(B^j))+L[15]+3634488961&4294967295,D=B+(V<<14&4294967295|V>>>18),V=I+(B^j&(D^B))+L[4]+3889429448&4294967295,I=D+(V<<20&4294967295|V>>>12),V=j+(D^B&(I^D))+L[9]+568446438&4294967295,j=I+(V<<5&4294967295|V>>>27),V=B+(I^D&(j^I))+L[14]+3275163606&4294967295,B=j+(V<<9&4294967295|V>>>23),V=D+(j^I&(B^j))+L[3]+4107603335&4294967295,D=B+(V<<14&4294967295|V>>>18),V=I+(B^j&(D^B))+L[8]+1163531501&4294967295,I=D+(V<<20&4294967295|V>>>12),V=j+(D^B&(I^D))+L[13]+2850285829&4294967295,j=I+(V<<5&4294967295|V>>>27),V=B+(I^D&(j^I))+L[2]+4243563512&4294967295,B=j+(V<<9&4294967295|V>>>23),V=D+(j^I&(B^j))+L[7]+1735328473&4294967295,D=B+(V<<14&4294967295|V>>>18),V=I+(B^j&(D^B))+L[12]+2368359562&4294967295,I=D+(V<<20&4294967295|V>>>12),V=j+(I^D^B)+L[5]+4294588738&4294967295,j=I+(V<<4&4294967295|V>>>28),V=B+(j^I^D)+L[8]+2272392833&4294967295,B=j+(V<<11&4294967295|V>>>21),V=D+(B^j^I)+L[11]+1839030562&4294967295,D=B+(V<<16&4294967295|V>>>16),V=I+(D^B^j)+L[14]+4259657740&4294967295,I=D+(V<<23&4294967295|V>>>9),V=j+(I^D^B)+L[1]+2763975236&4294967295,j=I+(V<<4&4294967295|V>>>28),V=B+(j^I^D)+L[4]+1272893353&4294967295,B=j+(V<<11&4294967295|V>>>21),V=D+(B^j^I)+L[7]+4139469664&4294967295,D=B+(V<<16&4294967295|V>>>16),V=I+(D^B^j)+L[10]+3200236656&4294967295,I=D+(V<<23&4294967295|V>>>9),V=j+(I^D^B)+L[13]+681279174&4294967295,j=I+(V<<4&4294967295|V>>>28),V=B+(j^I^D)+L[0]+3936430074&4294967295,B=j+(V<<11&4294967295|V>>>21),V=D+(B^j^I)+L[3]+3572445317&4294967295,D=B+(V<<16&4294967295|V>>>16),V=I+(D^B^j)+L[6]+76029189&4294967295,I=D+(V<<23&4294967295|V>>>9),V=j+(I^D^B)+L[9]+3654602809&4294967295,j=I+(V<<4&4294967295|V>>>28),V=B+(j^I^D)+L[12]+3873151461&4294967295,B=j+(V<<11&4294967295|V>>>21),V=D+(B^j^I)+L[15]+530742520&4294967295,D=B+(V<<16&4294967295|V>>>16),V=I+(D^B^j)+L[2]+3299628645&4294967295,I=D+(V<<23&4294967295|V>>>9),V=j+(D^(I|~B))+L[0]+4096336452&4294967295,j=I+(V<<6&4294967295|V>>>26),V=B+(I^(j|~D))+L[7]+1126891415&4294967295,B=j+(V<<10&4294967295|V>>>22),V=D+(j^(B|~I))+L[14]+2878612391&4294967295,D=B+(V<<15&4294967295|V>>>17),V=I+(B^(D|~j))+L[5]+4237533241&4294967295,I=D+(V<<21&4294967295|V>>>11),V=j+(D^(I|~B))+L[12]+1700485571&4294967295,j=I+(V<<6&4294967295|V>>>26),V=B+(I^(j|~D))+L[3]+2399980690&4294967295,B=j+(V<<10&4294967295|V>>>22),V=D+(j^(B|~I))+L[10]+4293915773&4294967295,D=B+(V<<15&4294967295|V>>>17),V=I+(B^(D|~j))+L[1]+2240044497&4294967295,I=D+(V<<21&4294967295|V>>>11),V=j+(D^(I|~B))+L[8]+1873313359&4294967295,j=I+(V<<6&4294967295|V>>>26),V=B+(I^(j|~D))+L[15]+4264355552&4294967295,B=j+(V<<10&4294967295|V>>>22),V=D+(j^(B|~I))+L[6]+2734768916&4294967295,D=B+(V<<15&4294967295|V>>>17),V=I+(B^(D|~j))+L[13]+1309151649&4294967295,I=D+(V<<21&4294967295|V>>>11),V=j+(D^(I|~B))+L[4]+4149444226&4294967295,j=I+(V<<6&4294967295|V>>>26),V=B+(I^(j|~D))+L[11]+3174756917&4294967295,B=j+(V<<10&4294967295|V>>>22),V=D+(j^(B|~I))+L[2]+718787259&4294967295,D=B+(V<<15&4294967295|V>>>17),V=I+(B^(D|~j))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+j&4294967295,N.g[1]=N.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.v=function(N,j){j===void 0&&(j=N.length);const I=j-this.blockSize,L=this.C;let D=this.h,B=0;for(;B<j;){if(D==0)for(;B<=I;)i(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<j;)if(L[D++]=N.charCodeAt(B++),D==this.blockSize){i(this,L),D=0;break}}else for(;B<j;)if(L[D++]=N[B++],D==this.blockSize){i(this,L),D=0;break}}this.h=D,this.o+=j},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var j=1;j<N.length-8;++j)N[j]=0;j=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=j&255,j/=256;for(this.v(N),N=Array(16),j=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)N[j++]=this.g[I]>>>L&255;return N};function s(N,j){var I=u;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=j(N)}function l(N,j){this.h=j;const I=[];let L=!0;for(let D=N.length-1;D>=0;D--){const B=N[D]|0;L&&B==j||(I[D]=B,L=!1)}this.g=I}var u={};function d(N){return-128<=N&&N<128?s(N,function(j){return new l([j|0],j<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return E(h(-N));const j=[];let I=1;for(let L=0;N>=I;L++)j[L]=N/I|0,I*=4294967296;return new l(j,0)}function p(N,j){if(N.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(N.charAt(0)=="-")return E(p(N.substring(1),j));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(j,8));let L=g;for(let B=0;B<N.length;B+=8){var D=Math.min(8,N.length-B);const V=parseInt(N.substring(B,B+D),j);D<8?(D=h(Math.pow(j,D)),L=L.j(D).add(h(V))):(L=L.j(I),L=L.add(h(V)))}return L}var g=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-E(this).m();let N=0,j=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);N+=(L>=0?L:4294967296+L)*j,j*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(S(this))return"-"+E(this).toString(N);const j=h(Math.pow(N,6));var I=this;let L="";for(;;){const D=$(I,j).g;I=O(I,D.j(j));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,A(I))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(let j=0;j<N.g.length;j++)if(N.g[j]!=0)return!1;return!0}function S(N){return N.h==-1}t.l=function(N){return N=O(this,N),S(N)?-1:A(N)?0:1};function E(N){const j=N.g.length,I=[];for(let L=0;L<j;L++)I[L]=~N.g[L];return new l(I,~N.h).add(b)}t.abs=function(){return S(this)?E(this):this},t.add=function(N){const j=Math.max(this.g.length,N.g.length),I=[];let L=0;for(let D=0;D<=j;D++){let B=L+(this.i(D)&65535)+(N.i(D)&65535),V=(B>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);L=V>>>16,B&=65535,V&=65535,I[D]=V<<16|B}return new l(I,I[I.length-1]&-2147483648?-1:0)};function O(N,j){return N.add(E(j))}t.j=function(N){if(A(this)||A(N))return g;if(S(this))return S(N)?E(this).j(E(N)):E(E(this).j(N));if(S(N))return E(this.j(E(N)));if(this.l(_)<0&&N.l(_)<0)return h(this.m()*N.m());const j=this.g.length+N.g.length,I=[];for(var L=0;L<2*j;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let D=0;D<N.g.length;D++){const B=this.i(L)>>>16,V=this.i(L)&65535,ue=N.i(D)>>>16,be=N.i(D)&65535;I[2*L+2*D]+=V*be,M(I,2*L+2*D),I[2*L+2*D+1]+=B*be,M(I,2*L+2*D+1),I[2*L+2*D+1]+=V*ue,M(I,2*L+2*D+1),I[2*L+2*D+2]+=B*ue,M(I,2*L+2*D+2)}for(N=0;N<j;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=j;N<2*j;N++)I[N]=0;return new l(I,0)};function M(N,j){for(;(N[j]&65535)!=N[j];)N[j+1]+=N[j]>>>16,N[j]&=65535,j++}function R(N,j){this.g=N,this.h=j}function $(N,j){if(A(j))throw Error("division by zero");if(A(N))return new R(g,g);if(S(N))return j=$(E(N),j),new R(E(j.g),E(j.h));if(S(j))return j=$(N,E(j)),new R(E(j.g),j.h);if(N.g.length>30){if(S(N)||S(j))throw Error("slowDivide_ only works with positive integers.");for(var I=b,L=j;L.l(N)<=0;)I=k(I),L=k(L);var D=z(I,1),B=z(L,1);for(L=z(L,2),I=z(I,2);!A(L);){var V=B.add(L);V.l(N)<=0&&(D=D.add(I),B=V),L=z(L,1),I=z(I,1)}return j=O(N,D.j(j)),new R(D,j)}for(D=g;N.l(j)>=0;){for(I=Math.max(1,Math.floor(N.m()/j.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=h(I),V=B.j(j);S(V)||V.l(N)>0;)I-=L,B=h(I),V=B.j(j);A(B)&&(B=b),D=D.add(B),N=O(N,V)}return new R(D,N)}t.B=function(N){return $(this,N).h},t.and=function(N){const j=Math.max(this.g.length,N.g.length),I=[];for(let L=0;L<j;L++)I[L]=this.i(L)&N.i(L);return new l(I,this.h&N.h)},t.or=function(N){const j=Math.max(this.g.length,N.g.length),I=[];for(let L=0;L<j;L++)I[L]=this.i(L)|N.i(L);return new l(I,this.h|N.h)},t.xor=function(N){const j=Math.max(this.g.length,N.g.length),I=[];for(let L=0;L<j;L++)I[L]=this.i(L)^N.i(L);return new l(I,this.h^N.h)};function k(N){const j=N.g.length+1,I=[];for(let L=0;L<j;L++)I[L]=N.i(L)<<1|N.i(L-1)>>>31;return new l(I,N.h)}function z(N,j){const I=j>>5;j%=32;const L=N.g.length-I,D=[];for(let B=0;B<L;B++)D[B]=j>0?N.i(B+I)>>>j|N.i(B+I+1)<<32-j:N.i(B+I);return new l(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Fo=l}).apply(typeof Sj<"u"?Sj:typeof self<"u"?self:typeof window<"u"?window:{});var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gD,xf,vD,Gp,W1,yD,bD,xD;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof xp=="object"&&xp];for(var T=0;T<v.length;++T){var P=v[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var P=r;v=v.split(".");for(var F=0;F<v.length-1;F++){var J=v[F];if(!(J in P))break e;P=P[J]}v=v[v.length-1],F=P[v],T=T(F),T!=F&&T!=null&&e(P,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var P=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&P.push([F,T[F]]);return P}});var s=s||{},l=this||self;function u(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function d(v,T,P){return v.call.apply(v.bind,arguments)}function h(v,T,P){return h=d,h.apply(null,arguments)}function p(v,T){var P=Array.prototype.slice.call(arguments,1);return function(){var F=P.slice();return F.push.apply(F,arguments),v.apply(this,F)}}function g(v,T){function P(){}P.prototype=T.prototype,v.Z=T.prototype,v.prototype=new P,v.prototype.constructor=v,v.Ob=function(F,J,oe){for(var Ae=Array(arguments.length-2),We=2;We<arguments.length;We++)Ae[We-2]=arguments[We];return T.prototype[J].apply(F,Ae)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function _(v){const T=v.length;if(T>0){const P=Array(T);for(let F=0;F<T;F++)P[F]=v[F];return P}return[]}function A(v,T){for(let F=1;F<arguments.length;F++){const J=arguments[F];var P=typeof J;if(P=P!="object"?P:J?Array.isArray(J)?"array":P:"null",P=="array"||P=="object"&&typeof J.length=="number"){P=v.length||0;const oe=J.length||0;v.length=P+oe;for(let Ae=0;Ae<oe;Ae++)v[P+Ae]=J[Ae]}else v.push(J)}}class S{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(v){l.setTimeout(()=>{throw v},0)}function O(){var v=N;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class M{constructor(){this.h=this.g=null}add(T,P){const F=R.get();F.set(T,P),this.h?this.h.next=F:this.g=F,this.h=F}}var R=new S(()=>new $,v=>v.reset());class ${constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let k,z=!1,N=new M,j=()=>{const v=Promise.resolve(void 0);k=()=>{v.then(I)}};function I(){for(var v;v=O();){try{v.h.call(v.g)}catch(P){E(P)}var T=R;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}z=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const P=()=>{};l.addEventListener("test",P,T),l.removeEventListener("test",P,T)}catch{}return v})();function V(v){return/^[\s\xa0]*$/.test(v)}function ue(v,T){D.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(ue,D),ue.prototype.init=function(v,T){const P=this.type=v.type,F=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(P=="mouseover"?T=v.fromElement:P=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),K=0;function Z(v,T,P,F,J){this.listener=v,this.proxy=null,this.src=T,this.type=P,this.capture=!!F,this.ha=J,this.key=++K,this.da=this.fa=!1}function de(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function he(v,T,P){for(const F in v)T.call(P,v[F],F,v)}function ce(v,T){for(const P in v)T.call(void 0,v[P],P,v)}function q(v){const T={};for(const P in v)T[P]=v[P];return T}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(v,T){let P,F;for(let J=1;J<arguments.length;J++){F=arguments[J];for(P in F)v[P]=F[P];for(let oe=0;oe<Y.length;oe++)P=Y[oe],Object.prototype.hasOwnProperty.call(F,P)&&(v[P]=F[P])}}function re(v){this.src=v,this.g={},this.h=0}re.prototype.add=function(v,T,P,F,J){const oe=v.toString();v=this.g[oe],v||(v=this.g[oe]=[],this.h++);const Ae=se(v,T,F,J);return Ae>-1?(T=v[Ae],P||(T.fa=!1)):(T=new Z(T,this.src,oe,!!F,J),T.fa=P,v.push(T)),T};function Se(v,T){const P=T.type;if(P in v.g){var F=v.g[P],J=Array.prototype.indexOf.call(F,T,void 0),oe;(oe=J>=0)&&Array.prototype.splice.call(F,J,1),oe&&(de(T),v.g[P].length==0&&(delete v.g[P],v.h--))}}function se(v,T,P,F){for(let J=0;J<v.length;++J){const oe=v[J];if(!oe.da&&oe.listener==T&&oe.capture==!!P&&oe.ha==F)return J}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Re={};function ae(v,T,P,F,J){if(Array.isArray(T)){for(let oe=0;oe<T.length;oe++)ae(v,T[oe],P,F,J);return null}return P=_r(P),v&&v[be]?v.J(T,P,u(F)?!!F.capture:!1,J):je(v,T,P,!1,F,J)}function je(v,T,P,F,J,oe){if(!T)throw Error("Invalid event type");const Ae=u(J)?!!J.capture:!!J;let We=Bt(v);if(We||(v[we]=We=new re(v)),P=We.add(T,P,F,Ae,oe),P.proxy)return P;if(F=Ue(),P.proxy=F,F.src=v,F.listener=P,v.addEventListener)B||(J=Ae),J===void 0&&(J=!1),v.addEventListener(T.toString(),F,J);else if(v.attachEvent)v.attachEvent(Fe(T.toString()),F);else if(v.addListener&&v.removeListener)v.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ue(){function v(P){return T.call(v.src,v.listener,P)}const T=Lt;return v}function xe(v,T,P,F,J){if(Array.isArray(T))for(var oe=0;oe<T.length;oe++)xe(v,T[oe],P,F,J);else F=u(F)?!!F.capture:!!F,P=_r(P),v&&v[be]?(v=v.i,oe=String(T).toString(),oe in v.g&&(T=v.g[oe],P=se(T,P,F,J),P>-1&&(de(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete v.g[oe],v.h--)))):v&&(v=Bt(v))&&(T=v.g[T.toString()],v=-1,T&&(v=se(T,P,F,J)),(P=v>-1?T[v]:null)&&xt(P))}function xt(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[be])Se(T.i,v);else{var P=v.type,F=v.proxy;T.removeEventListener?T.removeEventListener(P,F,v.capture):T.detachEvent?T.detachEvent(Fe(P),F):T.addListener&&T.removeListener&&T.removeListener(F),(P=Bt(T))?(Se(P,v),P.h==0&&(P.src=null,T[we]=null)):de(v)}}}function Fe(v){return v in Re?Re[v]:Re[v]="on"+v}function Lt(v,T){if(v.da)v=!0;else{T=new ue(T,this);const P=v.listener,F=v.ha||v.src;v.fa&&xt(v),v=P.call(F,T)}return v}function Bt(v){return v=v[we],v instanceof re?v:null}var Bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function _r(v){return typeof v=="function"?v:(v[Bn]||(v[Bn]=function(T){return v.handleEvent(T)}),v[Bn])}function Ze(){L.call(this),this.i=new re(this),this.M=this,this.G=null}g(Ze,L),Ze.prototype[be]=!0,Ze.prototype.removeEventListener=function(v,T,P,F){xe(this,v,T,P,F)};function Pt(v,T){var P,F=v.G;if(F)for(P=[];F;F=F.G)P.push(F);if(v=v.M,F=T.type||T,typeof T=="string")T=new D(T,v);else if(T instanceof D)T.target=T.target||v;else{var J=T;T=new D(F,v),X(T,J)}J=!0;let oe,Ae;if(P)for(Ae=P.length-1;Ae>=0;Ae--)oe=T.g=P[Ae],J=wr(oe,F,!0,T)&&J;if(oe=T.g=v,J=wr(oe,F,!0,T)&&J,J=wr(oe,F,!1,T)&&J,P)for(Ae=0;Ae<P.length;Ae++)oe=T.g=P[Ae],J=wr(oe,F,!1,T)&&J}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const P=v.g[T];for(let F=0;F<P.length;F++)de(P[F]);delete v.g[T],v.h--}}this.G=null},Ze.prototype.J=function(v,T,P,F){return this.i.add(String(v),T,!1,P,F)},Ze.prototype.K=function(v,T,P,F){return this.i.add(String(v),T,!0,P,F)};function wr(v,T,P,F){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let oe=0;oe<T.length;++oe){const Ae=T[oe];if(Ae&&!Ae.da&&Ae.capture==P){const We=Ae.listener,dn=Ae.ha||Ae.src;Ae.fa&&Se(v.i,Ae),J=We.call(dn,F)!==!1&&J}}return J&&!F.defaultPrevented}function Fa(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function Ws(v){v.g=Fa(()=>{v.g=null,v.i&&(v.i=!1,Ws(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class un extends L{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ws(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(v){L.call(this),this.h=v,this.g={}}g(Wr,L);var zi=[];function Vi(v){he(v.g,function(T,P){this.g.hasOwnProperty(P)&&xt(T)},v),v.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),Vi(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xr=l.JSON.stringify,Ha=l.JSON.parse,ia=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function Ka(){}function Ga(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){D.call(this,"d")}g(Zt,D);function dr(){D.call(this,"c")}g(dr,D);var $t={},Xs=null;function aa(){return Xs=Xs||new Ze}$t.Ia="serverreachability";function Qs(v){D.call(this,$t.Ia,v)}g(Qs,D);function Sr(v){const T=aa();Pt(T,new Qs(T))}$t.STAT_EVENT="statevent";function Ui(v,T){D.call(this,$t.STAT_EVENT,v),this.stat=T}g(Ui,D);function ve(v){const T=aa();Pt(T,new Ui(T,v))}$t.Ja="timingevent";function H(v,T){D.call(this,$t.Ja,v),this.size=T}g(H,D);function _e(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Ee(){this.g=!0}Ee.prototype.ua=function(){this.g=!1};function Je(v,T,P,F,J,oe){v.info(function(){if(v.g)if(oe){var Ae="",We=oe.split("&");for(let pt=0;pt<We.length;pt++){var dn=We[pt].split("=");if(dn.length>1){const Gt=dn[0];dn=dn[1];const vi=Gt.split("_");Ae=vi.length>=2&&vi[1]=="type"?Ae+(Gt+"="+dn+"&"):Ae+(Gt+"=redacted&")}}}else Ae=null;else Ae=oe;return"XMLHTTP REQ ("+F+") [attempt "+J+"]: "+T+`
`+P+`
`+Ae})}function _t(v,T,P,F,J,oe,Ae){v.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+J+"]: "+T+`
`+P+`
`+oe+" "+Ae})}function Qr(v,T,P,F){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+cl(v,P)+(F?" "+F:"")})}function Er(v,T){v.info(function(){return"TIMEOUT: "+T})}Ee.prototype.info=function(){};function cl(v,T){if(!v.g)return T;if(!T)return null;try{const oe=JSON.parse(T);if(oe){for(v=0;v<oe.length;v++)if(Array.isArray(oe[v])){var P=oe[v];if(!(P.length<2)){var F=P[1];if(Array.isArray(F)&&!(F.length<1)){var J=F[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Ae=1;Ae<F.length;Ae++)F[Ae]=""}}}}return Xr(oe)}catch{return T}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function Ya(){}g(Ya,Ka),Ya.prototype.g=function(){return new XMLHttpRequest},dl=new Ya;function Ye(v){return encodeURIComponent(String(v))}function tn(v){var T=1;v=v.split(":");const P=[];for(;T>0&&v.length;)P.push(v.shift()),T--;return v.length&&P.push(v.join(":")),P}function vn(v,T,P,F){this.j=v,this.i=T,this.l=P,this.S=F||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bi}function Bi(){this.i=null,this.g="",this.h=!1}var yn={},$n={};function sa(v,T,P){v.M=1,v.A=fl(xn(T)),v.u=P,v.R=!0,_c(v,null)}function _c(v,T){v.F=Date.now(),oa(v),v.B=xn(v.A);var P=v.B,F=v.S;Array.isArray(F)||(F=[String(F)]),Ac(P.i,"t",F),v.C=0,P=v.j.L,v.h=new Bi,v.g=fm(v.j,P?T:null,!v.u),v.P>0&&(v.O=new un(h(v.Y,v,v.g),v.P)),T=v.V,P=v.g,F=v.ba;var J="readystatechange";Array.isArray(J)||(J&&(zi[0]=J.toString()),J=zi);for(let oe=0;oe<J.length;oe++){const Ae=ae(P,J[oe],F||T.handleEvent,!1,T.h||T);if(!Ae)break;T.g[Ae.key]=Ae}T=v.J?q(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),Sr(),Je(v.i,v.v,v.B,v.l,v.S,v.u)}vn.prototype.ba=function(v){v=v.target;const T=this.O;T&&Fi(v)==3?T.j():this.Y(v)},vn.prototype.Y=function(v){try{if(v==this.g)e:{const We=Fi(this.g),dn=this.g.ya(),pt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Jn(this.g)))){this.K||We!=4||dn==7||(dn==8||pt<=0?Sr(3):Sr(2)),la(this);var T=this.g.ca();this.X=T;var P=Ky(this);if(this.o=T==200,_t(this.i,this.v,this.B,this.l,this.S,We,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,J=this.g;if((F=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(F)){var oe=F;break t}}oe=null}if(v=oe)Qr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ca(this,v);else{this.o=!1,this.m=3,ve(12),Zr(this),mi(this);break e}}if(this.R){v=!0;let Gt;for(;!this.K&&this.C<P.length;)if(Gt=Jh(this,P),Gt==$n){We==4&&(this.m=4,ve(14),v=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==yn){this.m=4,ve(15),Qr(this.i,this.l,P,"[Invalid Chunk]"),v=!1;break}else Qr(this.i,this.l,Gt,null),ca(this,Gt);if(Zh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||P.length!=0||this.h.h||(this.m=1,ve(16),v=!1),this.o=this.o&&v,!v)Qr(this.i,this.l,P,"[Invalid Chunked Response]"),Zr(this),mi(this);else if(P.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Td(Ae),Ae.P=!0,ve(11))}}else Qr(this.i,this.l,P,null),ca(this,P);We==4&&Zr(this),this.o&&!this.K&&(We==4?lm(this.j,this):(this.o=!1,oa(this)))}else Xa(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),Zr(this),mi(this)}}}catch{}};function Ky(v){if(!Zh(v))return v.g.la();const T=Jn(v.g);if(T==="")return"";let P="";const F=T.length,J=Fi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Zr(v),mi(v),"";v.h.i=new l.TextDecoder}for(let oe=0;oe<F;oe++)v.h.h=!0,P+=v.h.i.decode(T[oe],{stream:!(J&&oe==F-1)});return T.length=0,v.h.g+=P,v.C=0,v.h.g}function Zh(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Jh(v,T){var P=v.C,F=T.indexOf(`
`,P);return F==-1?$n:(P=Number(T.substring(P,F)),isNaN(P)?yn:(F+=1,F+P>T.length?$n:(T=T.slice(F,F+P),v.C=F+P,T)))}vn.prototype.cancel=function(){this.K=!0,Zr(this)};function oa(v){v.T=Date.now()+v.H,wc(v,v.H)}function wc(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=_e(h(v.aa,v),T)}function la(v){v.D&&(l.clearTimeout(v.D),v.D=null)}vn.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Er(this.i,this.B),this.M!=2&&(Sr(),ve(17)),Zr(this),this.m=2,mi(this)):wc(this,this.T-v)};function mi(v){v.j.I==0||v.K||lm(v.j,v)}function Zr(v){la(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,Vi(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function ca(v,T){try{var P=v.j;if(P.I!=0&&(P.g==v||da(P.h,v))){if(!v.L&&da(P.h,v)&&P.I==3){try{var F=P.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var J=F;if(J[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<v.F)Oc(P),ao(P);else break e;bl(P),ve(18)}}else P.xa=J[1],0<P.xa-P.K&&J[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=_e(h(P.Va,P),6e3));ua(P.h)<=1&&P.ta&&(P.ta=void 0)}else va(P,11)}else if((v.L||P.g==v)&&Oc(P),!V(T))for(J=P.Ba.g.parse(T),T=0;T<J.length;T++){let pt=J[T];const Gt=pt[0];if(!(Gt<=P.K))if(P.K=Gt,pt=pt[1],P.I==2)if(pt[0]=="c"){P.M=pt[1],P.ba=pt[2];const vi=pt[3];vi!=null&&(P.ka=vi,P.j.info("VER="+P.ka));const ya=pt[4];ya!=null&&(P.za=ya,P.j.info("SVER="+P.za));const Hi=pt[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(F=1.5*Hi,P.O=F,P.j.info("backChannelRequestTimeoutMs_="+F)),F=P;const Ki=v.g;if(Ki){const xl=Ki.g?Ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xl){var oe=F.h;oe.g||xl.indexOf("spdy")==-1&&xl.indexOf("quic")==-1&&xl.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(md(oe,oe.h),oe.h=null))}if(F.G){const Ic=Ki.g?Ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(F.wa=Ic,wt(F.J,F.G,Ic))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-v.F,P.j.info("Handshake RTT: "+P.T+"ms")),F=P;var Ae=v;if(F.na=dm(F,F.L?F.ba:null,F.W),Ae.L){pd(F.h,Ae);var We=Ae,dn=F.O;dn&&(We.H=dn),We.D&&(la(We),oa(We)),F.g=Ae}else sm(F);P.i.length>0&&ga(P)}else pt[0]!="stop"&&pt[0]!="close"||va(P,7);else P.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?va(P,7):Ed(P):pt[0]!="noop"&&P.l&&P.l.qa(pt),P.A=0)}}Sr(4)}catch{}}var bn=class{constructor(v,T){this.g=v,this.map=T}};function fd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ua(v){return v.h?1:v.g?v.g.size:0}function da(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function md(v,T){v.g?v.g.add(T):v.h=T}function pd(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}fd.prototype.cancel=function(){if(this.i=gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function gd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const P of v.g.values())T=T.concat(P.G);return T}return _(v.i)}var em=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(v,T){if(v){v=v.split("&");for(let P=0;P<v.length;P++){const F=v[P].indexOf("=");let J,oe=null;F>=0?(J=v[P].substring(0,F),oe=v[P].substring(F+1)):J=v[P],T(J,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Jr(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof Jr?(this.l=v.l,qn(this,v.j),this.o=v.o,this.g=v.g,Zs(this,v.u),this.h=v.h,vd(this,im(v.i)),this.m=v.m):v&&(T=String(v).match(em))?(this.l=!1,qn(this,T[1]||"",!0),this.o=fa(T[2]||""),this.g=fa(T[3]||"",!0),Zs(this,T[4]),this.h=fa(T[5]||"",!0),vd(this,T[6]||"",!0),this.m=fa(T[7]||"")):(this.l=!1,this.i=new eo(null,this.l))}Jr.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(hl(T,Ec,!0),":");var P=this.g;return(P||T=="file")&&(v.push("//"),(T=this.o)&&v.push(hl(T,Ec,!0),"@"),v.push(Ye(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&v.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&v.push("/"),v.push(hl(P,P.charAt(0)=="/"?yd:tm,!0))),(P=this.i.toString())&&v.push("?",P),(P=this.m)&&v.push("#",hl(P,nm)),v.join("")},Jr.prototype.resolve=function(v){const T=xn(this);let P=!!v.j;P?qn(T,v.j):P=!!v.o,P?T.o=v.o:P=!!v.g,P?T.g=v.g:P=v.u!=null;var F=v.h;if(P)Zs(T,v.u);else if(P=!!v.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var J=T.h.lastIndexOf("/");J!=-1&&(F=T.h.slice(0,J+1)+F)}if(J=F,J==".."||J==".")F="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){F=J.lastIndexOf("/",0)==0,J=J.split("/");const oe=[];for(let Ae=0;Ae<J.length;){const We=J[Ae++];We=="."?F&&Ae==J.length&&oe.push(""):We==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),F&&Ae==J.length&&oe.push("")):(oe.push(We),F=!0)}F=oe.join("/")}else F=J}return P?T.h=F:P=v.i.toString()!=="",P?vd(T,im(v.i)):P=!!v.m,P&&(T.m=v.m),T};function xn(v){return new Jr(v)}function qn(v,T,P){v.j=P?fa(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function Zs(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function vd(v,T,P){T instanceof eo?(v.i=T,Tc(v.i,v.l)):(P||(T=hl(T,Js)),v.i=new eo(T,v.l))}function wt(v,T,P){v.i.set(T,P)}function fl(v){return wt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function fa(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function hl(v,T,P){return typeof v=="string"?(v=encodeURI(v).replace(T,Mr),P&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Mr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ec=/[#\/\?@]/g,tm=/[#\?:]/g,yd=/[#\?]/g,Js=/[#\?@]/g,nm=/#/g;function eo(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Lr(v){v.g||(v.g=new Map,v.h=0,v.i&&Sc(v.i,function(T,P){v.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=eo.prototype,t.add=function(v,T){Lr(this),this.i=null,v=to(this,v);let P=this.g.get(v);return P||this.g.set(v,P=[]),P.push(T),this.h+=1,this};function rm(v,T){Lr(v),T=to(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function bd(v,T){return Lr(v),T=to(v,T),v.g.has(T)}t.forEach=function(v,T){Lr(this),this.g.forEach(function(P,F){P.forEach(function(J){v.call(T,J,F,this)},this)},this)};function xd(v,T){Lr(v);let P=[];if(typeof T=="string")bd(v,T)&&(P=P.concat(v.g.get(to(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)P=P.concat(v[T]);return P}t.set=function(v,T){return Lr(this),this.i=null,v=to(this,v),bd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=xd(this,v),v.length>0?String(v[0]):T):T};function Ac(v,T,P){rm(v,T),P.length>0&&(v.i=null,v.g.set(to(v,T),_(P)),v.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var P=T[F];const J=Ye(P);P=xd(this,P);for(let oe=0;oe<P.length;oe++){let Ae=J;P[oe]!==""&&(Ae+="="+Ye(P[oe])),v.push(Ae)}}return this.i=v.join("&")};function im(v){const T=new eo;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function to(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Tc(v,T){T&&!v.j&&(Lr(v),v.i=null,v.g.forEach(function(P,F){const J=F.toLowerCase();F!=J&&(rm(this,F),Ac(this,J,P))},v)),v.j=T}function $i(v,T){const P=new Ee;if(l.Image){const F=new Image;F.onload=p(pi,P,"TestLoadImage: loaded",!0,T,F),F.onerror=p(pi,P,"TestLoadImage: error",!1,T,F),F.onabort=p(pi,P,"TestLoadImage: abort",!1,T,F),F.ontimeout=p(pi,P,"TestLoadImage: timeout",!1,T,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=v}else T(!1)}function _d(v,T){const P=new Ee,F=new AbortController,J=setTimeout(()=>{F.abort(),pi(P,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:F.signal}).then(oe=>{clearTimeout(J),oe.ok?pi(P,"TestPingServer: ok",!0,T):pi(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),pi(P,"TestPingServer: error",!1,T)})}function pi(v,T,P,F,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),F(P)}catch{}}function no(){this.g=new ia}function ha(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ha,Ka),ha.prototype.g=function(){return new ml(this.i,this.h)};function ml(v,T){Ze.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(ml,Ze),t=ml.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,qi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nc(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nc(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?ro(this):qi(this),this.readyState==3&&Nc(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,ro(this))},t.Na=function(v){this.g&&(this.response=v,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(v){v.readyState=4,v.l=null,v.j=null,v.B=null,qi(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,v.push(P[0]+": "+P[1]),P=T.next();return v.join(`\r
`)};function qi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function gi(v){let T="";return he(v,function(P,F){T+=F,T+=":",T+=P,T+=`\r
`}),T}function pl(v,T,P){e:{for(F in P){var F=!1;break e}F=!0}F||(P=gi(P),typeof v=="string"?P!=null&&Ye(P):wt(v,T,P))}function Tt(v){Ze.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Tt,Ze);var ma=/^https?$/i,wd=["POST","PUT"];t=Tt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,P,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=b(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(oe){gl(this,oe);return}if(v=P||"",P=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var J in F)P.set(J,F[J]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const oe of F.keys())P.set(oe,F.get(oe));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(P.keys()).find(oe=>oe.toLowerCase()=="content-type"),J=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(wd,T,void 0)>=0)||F||J||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Ae]of P)this.g.setRequestHeader(oe,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(oe){gl(this,oe)}};function gl(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,Sd(v),Wa(v)}function Sd(v){v.A||(v.A=!0,Pt(v,"complete"),Pt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Pt(this,"complete"),Pt(this,"abort"),Wa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wa(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vl(this):this.Xa())},t.Xa=function(){vl(this)};function vl(v){if(v.h&&typeof s<"u"){if(v.v&&Fi(v)==4)setTimeout(v.Ca.bind(v),0);else if(Pt(v,"readystatechange"),Fi(v)==4){v.h=!1;try{const oe=v.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var F;if(F=oe===0){let Ae=String(v.D).match(em)[1]||null;!Ae&&l.self&&l.self.location&&(Ae=l.self.location.protocol.slice(0,-1)),F=!ma.test(Ae?Ae.toLowerCase():"")}P=F}if(P)Pt(v,"complete"),Pt(v,"success");else{v.o=6;try{var J=Fi(v)>2?v.g.statusText:""}catch{J=""}v.l=J+" ["+v.ca()+"]",Sd(v)}}finally{Wa(v)}}}}function Wa(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const P=v.g;v.g=null,T||Pt(v,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),Ha(T)}};function Jn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Xa(v){const T={};v=(v.g&&Fi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<v.length;F++){if(V(v[F]))continue;var P=tn(v[F]);const J=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const oe=T[J]||[];T[J]=oe,oe.push(P)}ce(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(v,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[v]||T}function io(v){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pa("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pa("baseRetryDelayMs",5e3,v),this.Za=pa("retryDelaySeedMs",1e4,v),this.Ta=pa("forwardChannelMaxRetries",2,v),this.va=pa("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new fd(v&&v.concurrentRequestLimit),this.Ba=new no,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=io.prototype,t.ka=8,t.I=1,t.connect=function(v,T,P,F){ve(0),this.W=v,this.H=T||{},P&&F!==void 0&&(this.H.OSID=P,this.H.OAID=F),this.F=this.X,this.J=dm(this,null,this.W),ga(this)};function Ed(v){if(jc(v),v.I==3){var T=v.V++,P=xn(v.J);if(wt(P,"SID",v.M),wt(P,"RID",T),wt(P,"TYPE","terminate"),yl(v,P),T=new vn(v,v.j,T),T.M=2,T.A=fl(xn(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&l.Image&&(new Image().src=T.A,P=!0),P||(T.g=fm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),oa(T)}um(v)}function ao(v){v.g&&(Td(v),v.g.cancel(),v.g=null)}function jc(v){ao(v),v.v&&(l.clearTimeout(v.v),v.v=null),Oc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function ga(v){if(!hd(v.h)&&!v.m){v.m=!0;var T=v.Ea;k||j(),z||(k(),z=!0),N.add(T,v),v.D=0}}function Cc(v,T){return ua(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=_e(h(v.Ea,v,T),cm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const J=new vn(this,this.j,v);let oe=this.o;if(this.U&&(oe?(oe=q(oe),X(oe,this.U)):oe=this.U),this.u!==null||this.R||(J.J=oe,oe=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var F=this.i[P];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=am(this,J,T),P=xn(this.J),wt(P,"RID",v),wt(P,"CVER",22),this.G&&wt(P,"X-HTTP-Session-Id",this.G),yl(this,P),oe&&(this.R?T="headers="+Ye(gi(oe))+"&"+T:this.u&&pl(P,this.u,oe)),md(this.h,J),this.Ra&&wt(P,"TYPE","init"),this.S?(wt(P,"$req",T),wt(P,"SID","null"),J.U=!0,sa(J,P,null)):sa(J,P,T),this.I=2}}else this.I==3&&(v?Ad(this,v):this.i.length==0||hd(this.h)||Ad(this))};function Ad(v,T){var P;T?P=T.l:P=v.V++;const F=xn(v.J);wt(F,"SID",v.M),wt(F,"RID",P),wt(F,"AID",v.K),yl(v,F),v.u&&v.o&&pl(F,v.u,v.o),P=new vn(v,v.j,P,v.D+1),v.u===null&&(P.J=v.o),T&&(v.i=T.G.concat(v.i)),T=am(v,P,1e3),P.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),md(v.h,P),sa(P,F,T)}function yl(v,T){v.H&&he(v.H,function(P,F){wt(T,F,P)}),v.l&&he({},function(P,F){wt(T,F,P)})}function am(v,T,P){P=Math.min(v.i.length,P);const F=v.l?h(v.l.Ka,v.l,v):null;e:{var J=v.i;let We=-1;for(;;){const dn=["count="+P];We==-1?P>0?(We=J[0].g,dn.push("ofs="+We)):We=0:dn.push("ofs="+We);let pt=!0;for(let Gt=0;Gt<P;Gt++){var oe=J[Gt].g;const vi=J[Gt].map;if(oe-=We,oe<0)We=Math.max(0,J[Gt].g-100),pt=!1;else try{oe="req"+oe+"_"||"";try{var Ae=vi instanceof Map?vi:Object.entries(vi);for(const[ya,Hi]of Ae){let Ki=Hi;u(Hi)&&(Ki=Xr(Hi)),dn.push(oe+ya+"="+encodeURIComponent(Ki))}}catch(ya){throw dn.push(oe+"type="+encodeURIComponent("_badmap")),ya}}catch{F&&F(vi)}}if(pt){Ae=dn.join("&");break e}}Ae=void 0}return v=v.i.splice(0,P),T.G=v,Ae}function sm(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;k||j(),z||(k(),z=!0),N.add(T,v),v.A=0}}function bl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=_e(h(v.Da,v),cm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,om(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=_e(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ao(this),om(this))};function Td(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function om(v){v.g=new vn(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=xn(v.na);wt(T,"RID","rpc"),wt(T,"SID",v.M),wt(T,"AID",v.K),wt(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&wt(T,"TO",v.ia),wt(T,"TYPE","xmlhttp"),yl(v,T),v.u&&v.o&&pl(T,v.u,v.o),v.O&&(v.g.H=v.O);var P=v.g;v=v.ba,P.M=1,P.A=fl(xn(T)),P.u=null,P.R=!0,_c(P,v)}t.Va=function(){this.C!=null&&(this.C=null,ao(this),bl(this),ve(19))};function Oc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function lm(v,T){var P=null;if(v.g==T){Oc(v),Td(v),v.g=null;var F=2}else if(da(v.h,T))P=T.G,pd(v.h,T),F=1;else return;if(v.I!=0){if(T.o)if(F==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var J=v.D;F=aa(),Pt(F,new H(F,P)),ga(v)}else sm(v);else if(J=T.m,J==3||J==0&&T.X>0||!(F==1&&Cc(v,T)||F==2&&bl(v)))switch(P&&P.length>0&&(T=v.h,T.i=T.i.concat(P)),J){case 1:va(v,5);break;case 4:va(v,10);break;case 3:va(v,6);break;default:va(v,2)}}}function cm(v,T){let P=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(P*=2),P*T}function va(v,T){if(v.j.info("Error code "+T),T==2){var P=h(v.bb,v),F=v.Ua;const J=!F;F=new Jr(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qn(F,"https"),fl(F),J?$i(F.toString(),P):_d(F.toString(),P)}else ve(2);v.I=0,v.l&&v.l.pa(T),um(v),jc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function um(v){if(v.I=0,v.ja=[],v.l){const T=gd(v.h);(T.length!=0||v.i.length!=0)&&(A(v.ja,T),A(v.ja,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.oa()}}function dm(v,T,P){var F=P instanceof Jr?xn(P):new Jr(P);if(F.g!="")T&&(F.g=T+"."+F.g),Zs(F,F.u);else{var J=l.location;F=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const oe=new Jr(null);F&&qn(oe,F),T&&(oe.g=T),J&&Zs(oe,J),P&&(oe.h=P),F=oe}return P=v.G,T=v.wa,P&&T&&wt(F,P,T),wt(F,"VER",v.ka),yl(v,F),F}function fm(v,T,P){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new Tt(new ha({ab:P})):new Tt(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hm(){}t=hm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function so(){}so.prototype.g=function(v,T){return new Tr(v,T)};function Tr(v,T){Ze.call(this),this.g=new io(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!V(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!V(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new Qa(this)}g(Tr,Ze),Tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){Ed(this.g)},Tr.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var P={};P.__data__=v,v=P}else this.v&&(P={},P.__data__=Xr(v),v=P);T.i.push(new bn(T.Ya++,v)),T.I==3&&ga(T)},Tr.prototype.N=function(){this.g.l=null,delete this.j,Ed(this.g),delete this.g,Tr.Z.N.call(this)};function mm(v){Zt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const P in T){v=P;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(mm,Zt);function pm(){dr.call(this),this.status=1}g(pm,dr);function Qa(v){this.g=v}g(Qa,hm),Qa.prototype.ra=function(){Pt(this.g,"a")},Qa.prototype.qa=function(v){Pt(this.g,new mm(v))},Qa.prototype.pa=function(v){Pt(this.g,new pm)},Qa.prototype.oa=function(){Pt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,xD=function(){return new so},bD=function(){return aa()},yD=$t,W1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Gp=Ar,ul.COMPLETE="complete",vD=ul,Ga.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,xf=Ga,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,gD=Tt}).apply(typeof xp<"u"?xp:typeof self<"u"?self:typeof window<"u"?window:{});const Ej="@firebase/firestore",Aj="4.9.3";let pr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let Wu="12.7.0";const nc=new gw("@firebase/firestore");function uu(){return nc.logLevel}function Ce(t,...e){if(nc.logLevel<=at.DEBUG){const n=e.map(Nw);nc.debug(`Firestore (${Wu}): ${t}`,...n)}}function Cs(t,...e){if(nc.logLevel<=at.ERROR){const n=e.map(Nw);nc.error(`Firestore (${Wu}): ${t}`,...n)}}function ju(t,...e){if(nc.logLevel<=at.WARN){const n=e.map(Nw);nc.warn(`Firestore (${Wu}): ${t}`,...n)}}function Nw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_D(t,r,n)}function _D(t,e,n){let r=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cs(r),new Error(r)}function bt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_D(e,i,r)}function Ge(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ws{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pr.UNAUTHENTICATED)))}shutdown(){}}class ZB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JB{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ws,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ws)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new wD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class e7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Tj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function r7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=r7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function X1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Jb(i)===Jb(s)?st(i,s):Jb(i)?1:-1}return st(t.length,e.length)}const i7=55296,a7=57343;function Jb(t){const e=t.charCodeAt(0);return e>=i7&&e<=a7}function Cu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const Nj="__name__";class Ea{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ea?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ea.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return st(e.length,n.length)}static compareSegments(e,n){const r=Ea.isNumericId(e),i=Ea.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ea.extractNumericId(e).compare(Ea.extractNumericId(n)):X1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class Vt extends Ea{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const s7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends Ea{construct(e,n,r){return new cr(e,n,r)}static isValidIdentifier(e){return s7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nj}static keyField(){return new cr([Nj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Te(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Te(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Te(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Te(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(n)}static emptyPath(){return new cr([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Vt.fromString(e))}static fromName(e){return new Le(Vt.fromString(e).popFirst(5))}static empty(){return new Le(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Vt(e.slice()))}}function SD(t,e,n){if(!n)throw new Te(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o7(t,e,n,r){if(e===!0&&r===!0)throw new Te(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jj(t){if(!Le.isDocumentKey(t))throw new Te(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cj(t){if(Le.isDocumentKey(t))throw new Te(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ED(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nv(t);throw new Te(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function l7(t,e){if(e<=0)throw new Te(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ph(t,e){if(!ED(t))throw new Te(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Te(me.INVALID_ARGUMENT,n);return!0}const Oj=-62135596800,Ij=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ij);return new kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Oj)throw new Te(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ij}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ph(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Oj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:jn("string",kt._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new kt(0,0))}static max(){return new He(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mf=-1;function c7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Go(i,Le.empty(),e)}function u7(t){return new Go(t.readTime,t.key,Mf)}class Go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Go(He.min(),Le.empty(),Mf)}static max(){return new Go(He.max(),Le.empty(),Mf)}}function d7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}const f7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xu(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==f7)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,r)=>{n(e)}))}static reject(e){return new ye(((n,r)=>{r(e)}))}static waitFor(e){return new ye(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next((i=>i?ye.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ye(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;n(e[h]).next((p=>{l[h]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new ye(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function m7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qu(t){return t.name==="IndexedDbTransactionError"}class jv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jv.ce=-1;const Cw=-1;function Cv(t){return t==null}function hg(t){return t===0&&1/t==-1/0}function p7(t){return typeof t=="number"&&Number.isInteger(t)&&!hg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const AD="";function g7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Pj(e)),e=v7(t.get(n),e);return Pj(e)}function v7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case AD:n+="";break;default:n+=s}}return n}function Pj(t){return t+AD+""}function Rj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Jt{constructor(e,n){this.comparator=e,this.root=n||or.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class or{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??or.RED,this.left=i??or.EMPTY,this.right=s??or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new or(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kj(this.data.getIterator())}getIteratorFrom(e){return new kj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class kj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new ui([])}unionWith(e){let n=new Dn(cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class ND extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ND("Invalid base64 string: "+s):s}})(e);return new ur(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new ur(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const y7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=y7.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wo(t){return typeof t=="string"?ur.fromBase64String(t):ur.fromUint8Array(t)}const jD="server_timestamp",CD="__type__",OD="__previous_value__",ID="__local_write_time__";function Ow(t){return(t?.mapValue?.fields||{})[CD]?.stringValue===jD}function Ov(t){const e=t.mapValue.fields[OD];return Ow(e)?Ov(e):e}function Lf(t){const e=Yo(t.mapValue.fields[ID].timestampValue);return new kt(e.seconds,e.nanos)}class b7{constructor(e,n,r,i,s,l,u,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const mg="(default)";class zf{constructor(e,n){this.projectId=e,this.database=n||mg}static empty(){return new zf("","")}get isDefaultDatabase(){return this.database===mg}isEqual(e){return e instanceof zf&&e.projectId===this.projectId&&e.database===this.database}}const PD="__type__",x7="__max__",wp={mapValue:{}},RD="__vector__",pg="value";function Xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ow(t)?4:w7(t)?9007199254740991:_7(t)?10:11:Be(28295,{value:t})}function ka(t,e){if(t===e)return!0;const n=Xo(t);if(n!==Xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lf(t).isEqual(Lf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Yo(i.timestampValue),u=Yo(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Wo(i.bytesValue).isEqual(Wo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return pn(i.geoPointValue.latitude)===pn(s.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return pn(i.integerValue)===pn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=pn(i.doubleValue),u=pn(s.doubleValue);return l===u?hg(l)===hg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Cu(t.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Rj(l)!==Rj(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!ka(l[d],u[d])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Vf(t,e){return(t.values||[]).find((n=>ka(n,e)))!==void 0}function Ou(t,e){if(t===e)return 0;const n=Xo(t),r=Xo(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=pn(s.integerValue||s.doubleValue),d=pn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return Dj(t.timestampValue,e.timestampValue);case 4:return Dj(Lf(t),Lf(e));case 5:return X1(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=Wo(s),d=Wo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=st(u[h],d[h]);if(p!==0)return p}return st(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=st(pn(s.latitude),pn(l.latitude));return u!==0?u:st(pn(s.longitude),pn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Mj(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},h=u[pg]?.arrayValue,p=d[pg]?.arrayValue,g=st(h?.values?.length||0,p?.values?.length||0);return g!==0?g:Mj(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===wp.mapValue&&l===wp.mapValue)return 0;if(s===wp.mapValue)return 1;if(l===wp.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=X1(d[g],p[g]);if(b!==0)return b;const _=Ou(u[d[g]],h[p[g]]);if(_!==0)return _}return st(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function Dj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=Yo(t),r=Yo(e),i=st(n.seconds,r.seconds);return i!==0?i:st(n.nanos,r.nanos)}function Mj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ou(n[i],r[i]);if(s)return s}return st(n.length,r.length)}function Iu(t){return Q1(t)}function Q1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Yo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Le.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Q1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Q1(n.fields[l])}`;return i+"}"})(t.mapValue):Be(61005,{value:t})}function Yp(t){switch(Xo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ov(t);return e?16+Yp(e):16;case 5:return 2*t.stringValue.length;case 6:return Wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Yp(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return rl(r.fields,((s,l)=>{i+=s.length+Yp(l)})),i})(t.mapValue);default:throw Be(13486,{value:t})}}function Lj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Z1(t){return!!t&&"integerValue"in t}function Iw(t){return!!t&&"arrayValue"in t}function zj(t){return!!t&&"nullValue"in t}function Vj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wp(t){return!!t&&"mapValue"in t}function _7(t){return(t?.mapValue?.fields||{})[PD]?.stringValue===RD}function jf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return rl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jf(t.arrayValue.values[n]);return e}return{...t}}function w7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x7}class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jf(n)}setAll(e){let n=cr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=jf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Hr(jf(this.value))}}function kD(t){const e=[];return rl(t.fields,((n,r)=>{const i=new cr([n]);if(Wp(r)){const s=kD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new ui(e)}class gr{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new gr(e,0,He.min(),He.min(),He.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new gr(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new gr(e,2,n,He.min(),He.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,He.min(),He.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gg{constructor(e,n){this.position=e,this.inclusive=n}}function Uj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Le.comparator(Le.fromName(l.referenceValue),n.key):r=Ou(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ka(t.position[n],e.position[n]))return!1;return!0}class Uf{constructor(e,n="asc"){this.field=e,this.dir=n}}function S7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class DD{}class Nn extends DD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A7(e,n,r):n==="array-contains"?new j7(e,r):n==="in"?new C7(e,r):n==="not-in"?new O7(e,r):n==="array-contains-any"?new I7(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new T7(e,r):new N7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ou(n,this.value)):n!==null&&Xo(this.value)===Xo(n)&&this.matchesComparison(Ou(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ta extends DD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ta(e,n)}matches(e){return MD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MD(t){return t.op==="and"}function LD(t){return E7(t)&&MD(t)}function E7(t){for(const e of t.filters)if(e instanceof ta)return!1;return!0}function J1(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+Iu(t.value);if(LD(t))return t.filters.map((e=>J1(e))).join(",");{const e=t.filters.map((n=>J1(n))).join(",");return`${t.op}(${e})`}}function zD(t,e){return t instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&ka(r.value,i.value)})(t,e):t instanceof ta?(function(r,i){return i instanceof ta&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&zD(l,i.filters[u])),!0):!1})(t,e):void Be(19439)}function VD(t){return t instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Iu(n.value)}`})(t):t instanceof ta?(function(n){return n.op.toString()+" {"+n.getFilters().map(VD).join(" ,")+"}"})(t):"Filter"}class A7 extends Nn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class T7 extends Nn{constructor(e,n){super(e,"in",n),this.keys=UD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class N7 extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=UD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function UD(t,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class j7 extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iw(n)&&Vf(n.arrayValue,this.value)}}class C7 extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vf(this.value.arrayValue,n)}}class O7 extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vf(this.value.arrayValue,n)}}class I7 extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vf(this.value.arrayValue,r)))}}class P7{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function $j(t,e=null,n=[],r=[],i=null,s=null,l=null){return new P7(t,e,n,r,i,s,l)}function Pw(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>J1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Cv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Iu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Iu(r))).join(",")),e.Te=n}return e.Te}function Rw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bj(t.startAt,e.startAt)&&Bj(t.endAt,e.endAt)}function e_(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Zu{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R7(t,e,n,r,i,s,l,u){return new Zu(t,e,n,r,i,s,l,u)}function Iv(t){return new Zu(t)}function qj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BD(t){return t.collectionGroup!==null}function Cf(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Dn(cr.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Uf(s,r))})),n.has(cr.keyField().canonicalString())||e.Ie.push(new Uf(cr.keyField(),r))}return e.Ie}function Ca(t){const e=Ge(t);return e.Ee||(e.Ee=k7(e,Cf(t))),e.Ee}function k7(t,e){if(t.limitType==="F")return $j(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Uf(i.field,s)}));const n=t.endAt?new gg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gg(t.startAt.position,t.startAt.inclusive):null;return $j(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t_(t,e){const n=t.filters.concat([e]);return new Zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vg(t,e,n){return new Zu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pv(t,e){return Rw(Ca(t),Ca(e))&&t.limitType===e.limitType}function $D(t){return`${Pw(Ca(t))}|lt:${t.limitType}`}function du(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>VD(i))).join(", ")}]`),Cv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Iu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Iu(i))).join(",")),`Target(${r})`})(Ca(t))}; limitType=${t.limitType})`}function Rv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Cf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const h=Uj(l,u,d);return l.inclusive?h<=0:h<0})(r.startAt,Cf(r),i)||r.endAt&&!(function(l,u,d){const h=Uj(l,u,d);return l.inclusive?h>=0:h>0})(r.endAt,Cf(r),i))})(t,e)}function D7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qD(t){return(e,n)=>{let r=!1;for(const i of Cf(t)){const s=M7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function M7(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):(function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Ou(d,h):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}class gc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return TD(this.inner)}size(){return this.innerSize}}const L7=new Jt(Le.comparator);function Os(){return L7}const FD=new Jt(Le.comparator);function _f(...t){let e=FD;for(const n of t)e=e.insert(n.key,n);return e}function HD(t){let e=FD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ul(){return Of()}function KD(){return Of()}function Of(){return new gc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const z7=new Jt(Le.comparator),V7=new Dn(Le.comparator);function ot(...t){let e=V7;for(const n of t)e=e.add(n);return e}const U7=new Dn(st);function B7(){return U7}function kw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hg(e)?"-0":e}}function GD(t){return{integerValue:""+t}}function $7(t,e){return p7(e)?GD(e):kw(t,e)}class kv{constructor(){this._=void 0}}function q7(t,e,n){return t instanceof Bf?(function(i,s){const l={fields:{[CD]:{stringValue:jD},[ID]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ow(s)&&(s=Ov(s)),s&&(l.fields[OD]=s),{mapValue:l}})(n,e):t instanceof $f?WD(t,e):t instanceof qf?XD(t,e):(function(i,s){const l=YD(i,s),u=Fj(l)+Fj(i.Ae);return Z1(l)&&Z1(i.Ae)?GD(u):kw(i.serializer,u)})(t,e)}function F7(t,e,n){return t instanceof $f?WD(t,e):t instanceof qf?XD(t,e):n}function YD(t,e){return t instanceof yg?(function(r){return Z1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Bf extends kv{}class $f extends kv{constructor(e){super(),this.elements=e}}function WD(t,e){const n=QD(e);for(const r of t.elements)n.some((i=>ka(i,r)))||n.push(r);return{arrayValue:{values:n}}}class qf extends kv{constructor(e){super(),this.elements=e}}function XD(t,e){let n=QD(e);for(const r of t.elements)n=n.filter((i=>!ka(i,r)));return{arrayValue:{values:n}}}class yg extends kv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Fj(t){return pn(t.integerValue||t.doubleValue)}function QD(t){return Iw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class H7{constructor(e,n){this.field=e,this.transform=n}}function K7(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof $f&&i instanceof $f||r instanceof qf&&i instanceof qf?Cu(r.elements,i.elements,ka):r instanceof yg&&i instanceof yg?ka(r.Ae,i.Ae):r instanceof Bf&&i instanceof Bf})(t.transform,e.transform)}class G7{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dv{}function ZD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mv(t.key,Ir.none()):new gh(t.key,t.data,Ir.none());{const n=t.data,r=Hr.empty();let i=new Dn(cr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new il(t.key,r,new ui(i.toArray()),Ir.none())}}function Y7(t,e,n){t instanceof gh?(function(i,s,l){const u=i.value.clone(),d=Kj(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof il?(function(i,s,l){if(!Xp(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=Kj(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(JD(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function If(t,e,n,r){return t instanceof gh?(function(s,l,u,d){if(!Xp(s.precondition,l))return u;const h=s.value.clone(),p=Gj(s.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof il?(function(s,l,u,d){if(!Xp(s.precondition,l))return u;const h=Gj(s.fieldTransforms,d,l),p=l.data;return p.setAll(JD(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return Xp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function W7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YD(r.transform,i||null);s!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,s))}return n||null}function Hj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cu(r,i,((s,l)=>K7(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gh extends Dv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class il extends Dv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Kj(t,e,n){const r=new Map;bt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,F7(l,u,n[i]))}return r}function Gj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,q7(s,l,e))}return r}class Mv extends Dv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X7 extends Dv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Y7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=If(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=If(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KD();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const d=ZD(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&Cu(this.mutations,e.mutations,((n,r)=>Hj(n,r)))&&Cu(this.baseMutations,e.baseMutations,((n,r)=>Hj(n,r)))}}class Dw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return z7})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new Dw(e,n,r,i)}}class Z7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class J7{constructor(e,n){this.count=e,this.unchangedNames=n}}var An,ut;function e$(t){switch(t){case me.OK:return Be(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function eM(t){if(t===void 0)return Cs("GRPC error has no .code"),me.UNKNOWN;switch(t){case An.OK:return me.OK;case An.CANCELLED:return me.CANCELLED;case An.UNKNOWN:return me.UNKNOWN;case An.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case An.INTERNAL:return me.INTERNAL;case An.UNAVAILABLE:return me.UNAVAILABLE;case An.UNAUTHENTICATED:return me.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case An.NOT_FOUND:return me.NOT_FOUND;case An.ALREADY_EXISTS:return me.ALREADY_EXISTS;case An.PERMISSION_DENIED:return me.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case An.ABORTED:return me.ABORTED;case An.OUT_OF_RANGE:return me.OUT_OF_RANGE;case An.UNIMPLEMENTED:return me.UNIMPLEMENTED;case An.DATA_LOSS:return me.DATA_LOSS;default:return Be(39323,{code:t})}}(ut=An||(An={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function t$(){return new TextEncoder}const n$=new Fo([4294967295,4294967295],0);function Yj(t){const e=t$().encode(t),n=new pD;return n.update(e),new Uint8Array(n.digest())}function Wj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([i,s],0)]}class Mw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wf(`Invalid padding: ${n}`);if(r<0)throw new wf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Fo.fromNumber(r)));return i.compare(n$)===1&&(i=new Fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yj(e),[r,i]=Wj(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Mw(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Yj(e),[r,i]=Wj(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lv(He.min(),i,new Jt(st),Os(),ot())}}class vh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vh(r,n,ot(),ot(),ot())}}class Qp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class tM{constructor(e,n){this.targetId=e,this.Ce=n}}class nM{constructor(e,n,r=ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xj{constructor(){this.ve=0,this.Fe=Qj(),this.Me=ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:s})}})),new vh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Qj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class r${constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=Sp(),this.He=Sp(),this.Ye=new Jt(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(e_(s))if(r===0){const l=new Le(s.path);this.et(n,l,gr.newNoDocument(l,He.min()))}else bt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=Wo(r).toUint8Array()}catch(d){if(d instanceof ND)return ju("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Mw(l,i,s)}catch(d){return ju(d instanceof wf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&e_(u.target)){const d=new Le(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,gr.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ot();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Lv(e,n,this.Ye,this.je,r);return this.je=Os(),this.Je=Sp(),this.He=Sp(),this.Ye=new Jt(st),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Xj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dn(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dn(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xj),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sp(){return new Jt(Le.comparator)}function Qj(){return new Jt(Le.comparator)}const i$={asc:"ASCENDING",desc:"DESCENDING"},a$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s$={and:"AND",or:"OR"};class o${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function n_(t,e){return t.useProto3Json||Cv(e)?e:{value:e}}function bg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l$(t,e){return bg(t,e.toTimestamp())}function Oa(t){return bt(!!t,49232),He.fromTimestamp((function(n){const r=Yo(n);return new kt(r.seconds,r.nanos)})(t))}function Lw(t,e){return r_(t,e).canonicalString()}function r_(t,e){const n=(function(i){return new Vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function iM(t){const e=Vt.fromString(t);return bt(cM(e),10190,{key:e.toString()}),e}function i_(t,e){return Lw(t.databaseId,e.path)}function ex(t,e){const n=iM(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(sM(n))}function aM(t,e){return Lw(t.databaseId,e)}function c$(t){const e=iM(t);return e.length===4?Vt.emptyPath():sM(e)}function a_(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sM(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zj(t,e,n){return{name:i_(t,e),fields:n.value.mapValue.fields}}function u$(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(bt(p===void 0||typeof p=="string",58123),ur.fromBase64String(p||"")):(bt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ur.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?me.UNKNOWN:eM(h.code);return new Te(p,h.message||"")})(l);n=new nM(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ex(t,r.document.name),s=Oa(r.document.updateTime),l=r.document.createTime?Oa(r.document.createTime):He.min(),u=new Hr({mapValue:{fields:r.document.fields}}),d=gr.newFoundDocument(i,s,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Qp(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ex(t,r.document),s=r.readTime?Oa(r.readTime):He.min(),l=gr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Qp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ex(t,r.document),s=r.removedTargetIds||[];n=new Qp([],s,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new J7(i,s),u=r.targetId;n=new tM(u,l)}}return n}function d$(t,e){let n;if(e instanceof gh)n={update:Zj(t,e.key,e.value)};else if(e instanceof Mv)n={delete:i_(t,e.key)};else if(e instanceof il)n={update:Zj(t,e.key,e.data),updateMask:x$(e.fieldMask)};else{if(!(e instanceof X7))return Be(16599,{Vt:e.type});n={verify:i_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Bf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof $f)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof qf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof yg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Be(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:l$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Be(27497)})(t,e.precondition)),n}function f$(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Oa(i.updateTime):Oa(s);return l.isEqual(He.min())&&(l=Oa(s)),new G7(l,i.transformResults||[])})(n,e)))):[]}function h$(t,e){return{documents:[aM(t,e.path)]}}function m$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aM(t,i);const s=(function(h){if(h.length!==0)return lM(ta.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(b){return{field:fu(b.field),direction:v$(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=n_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function p$(t){let e=c$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=oM(g);return b instanceof ta&&LD(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(A){return new Uf(hu(A.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,Cv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,_=g.values||[];return new gg(_,b)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const b=!g.before,_=g.values||[];return new gg(_,b)})(n.endAt)),R7(e,i,l,s,u,"F",d,h)}function g$(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hu(n.unaryFilter.field);return Nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hu(n.unaryFilter.field);return Nn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Nn.create(hu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ta.create(n.compositeFilter.filters.map((r=>oM(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function v$(t){return i$[t]}function y$(t){return a$[t]}function b$(t){return s$[t]}function fu(t){return{fieldPath:t.canonicalString()}}function hu(t){return cr.fromServerFormat(t.fieldPath)}function lM(t){return t instanceof Nn?(function(n){if(n.op==="=="){if(Vj(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if(zj(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vj(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if(zj(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:y$(n.op),value:n.value}}})(t):t instanceof ta?(function(n){const r=n.getFilters().map((i=>lM(i)));return r.length===1?r[0]:{compositeFilter:{op:b$(n.op),filters:r}}})(t):Be(54877,{filter:t})}function x$(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Vo{constructor(e,n,r,i,s=He.min(),l=He.min(),u=ur.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _${constructor(e){this.yt=e}}function w$(t){const e=p$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}class S${constructor(){this.Cn=new E$}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Go.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class E${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Vt.comparator)).toArray()}}const Jj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uM=41943040;class Fr{static withCacheSize(e){return new Fr(e,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(uM,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);class Pu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pu(0)}static cr(){return new Pu(-1)}}const eC="LruGarbageCollector",A$=1048576;function tC([t,e],[n,r]){const i=st(t,n);return i===0?st(e,r):i}class T${constructor(e){this.Ir=e,this.buffer=new Dn(tC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(eC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qu(n)?Ce(eC,"Ignoring IndexedDB error during garbage collection: ",n):await Xu(n)}await this.Vr(3e5)}))}}class j${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(jv.ce);const r=new T$(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Jj)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jj):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),uu()<=at.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function C$(t,e){return new j$(t,e)}class O${constructor(){this.changes=new gc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class I${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class P${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&If(r.mutation,i,ui.empty(),kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ot()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ot()){const i=Ul();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=_f();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ul();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ot())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=Os();const l=Of(),u=(function(){return Of()})();return n.forEach(((d,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof il)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),If(p.mutation,h,p.mutation.getFieldMask(),kt.now())):l.set(h.key,ui.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new I$(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Of();let i=new Jt(((l,u)=>l-u)),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||ui.empty();p=u.applyToLocalView(h,p),r.set(d,p);const g=(i.get(u.batchId)||ot()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=KD();p.forEach((b=>{if(!s.has(b)){const _=ZD(n.get(b),r.get(b));_!==null&&g.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ye.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Le.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ye.resolve(Ul());let u=Mf,d=s;return l.next((h=>ye.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?ye.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,ot()))).next((p=>({batchId:u,changes:HD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((r=>{let i=_f();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=_f();return this.indexManager.getCollectionParents(e,s).next((u=>ye.forEach(u,(d=>{const h=(function(g,b){return new Zu(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,gr.newInvalidDocument(p)))}));let u=_f();return l.forEach(((d,h)=>{const p=s.get(d);p!==void 0&&If(p.mutation,h,ui.empty(),kt.now()),Rv(n,h)&&(u=u.insert(d,h))})),u}))}}class R${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Oa(i.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:w$(i.bundledQuery),readTime:Oa(i.readTime)}})(n)),ye.resolve()}}class k${constructor(){this.overlays=new Jt(Le.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ul();return ye.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=Ul(),s=n.length+1,l=new Le(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Jt(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Ul(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Ul(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return ye.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z7(n,r));let s=this.qr.get(n);s===void 0&&(s=ot(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class D${constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}class zw{constructor(){this.Qr=new Dn(Gn.$r),this.Ur=new Dn(Gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Gn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Le(new Vt([])),r=new Gn(n,e),i=new Gn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new Vt([])),r=new Gn(n,e),i=new Gn(n,e+1);let s=ot();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}class M${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Gn.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q7(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Gn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ye.resolve(l)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Cw:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gn(n,0),i=new Gn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(st);return n.forEach((i=>{const s=new Gn(i,0),l=new Gn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),ye.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Le.isDocumentKey(s)||(s=s.child(""));const l=new Gn(new Le(s),0);let u=new Dn(st);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Yr)),!0)}),l),ye.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ye.forEach(n.mutations,(i=>{const s=new Gn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Gn(n,0),i=this.Zr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class L${constructor(e){this.ri=e,this.docs=(function(){return new Jt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gr.newInvalidDocument(i))})),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Os();const l=n.path,u=new Le(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||d7(u7(p),r)<=0||(i.has(p.key)||Rv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Be(9500)}ii(e,n){return ye.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new z$(this)}getSize(e){return ye.resolve(this.size)}}class z$ extends O${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class V${constructor(e){this.persistence=e,this.si=new gc((n=>Pw(n)),Rw),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new zw,this.targetCount=0,this.ai=Pu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ye.waitFor(s).next((()=>i))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}class dM{constructor(e,n){this.ui={},this.overlays={},this.ci=new jv(0),this.li=!1,this.li=!0,this.hi=new D$,this.referenceDelegate=e(this),this.Pi=new V$(this),this.indexManager=new S$,this.remoteDocumentCache=(function(i){return new L$(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _$(n),this.Ii=new R$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new M$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new U$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ye.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class U$ extends h7{constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.Ri=new zw,this.Vi=null}static mi(e){return new Vw(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(r=>{const i=Le.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,He.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xg{constructor(e,n){this.persistence=e,this.pi=new gc((r=>g7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=C$(this,n)}static mi(e,n){return new xg(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ye.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ye.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,He.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yp(e.data.value)),n}br(e,n,r){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Uw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uw(e,n.fromCache,r,i)}}class B${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return C9()?8:m7(br())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new B$;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(uu()<=at.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",du(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(uu()<=at.DEBUG&&Ce("QueryEngine","Query:",du(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uu()<=at.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",du(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ca(n))):ye.resolve())}ys(e,n){if(qj(n))return ye.resolve(null);let r=Ca(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=vg(n,null,"F"),r=Ca(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ot(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,u);return this.Cs(n,h,l,d.readTime)?this.ys(e,vg(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return qj(n)||i.isEqual(He.min())?ye.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?ye.resolve(null):(uu()<=at.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),du(n)),this.vs(e,l,n,c7(i,Mf)).next((u=>u)))}))}Ds(e,n){let r=new Dn(qD(e));return n.forEach(((i,s)=>{Rv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return uu()<=at.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",du(n)),this.ps.getDocumentsMatchingQuery(e,n,Go.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const Bw="LocalStore",q$=3e8;class F${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Jt(st),this.xs=new gc((s=>Pw(s)),Rw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function H$(t,e,n,r){return new F$(t,e,n,r)}async function fM(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=ot();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function K$(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,b=g.keys();let _=ye.resolve();return b.forEach((A=>{_=_.next((()=>p.getEntry(d,A))).next((S=>{const E=h.docVersions.get(A);bt(E!==null,48541),S.version.compareTo(E)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=ot();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function hM(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function G$(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(ur.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(S,E,O){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=q$?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(s,_))}));let d=Os(),h=ot();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(Y$(s,l,e.documentUpdates).next((p=>{d=p.ks,h=p.qs}))),!r.isEqual(He.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return ye.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function Y$(t,e,n){let r=ot(),i=ot();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Os();return n.forEach(((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(He.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Ce(Bw,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function W$(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X$(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ye.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Vo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function s_(t,e,n){const r=Ge(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Qu(l))throw l;Ce(Bw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function nC(t,e,n){const r=Ge(t);let i=He.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,p){const g=Ge(d),b=g.xs.get(p);return b!==void 0?ye.resolve(g.Ms.get(b)):g.Pi.getTargetData(h,p)})(r,l,Ca(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:He.min(),n?s:ot()))).next((u=>(Q$(r,D7(e),u),{documents:u,Qs:s})))))}function Q$(t,e,n){let r=t.Os.get(e)||He.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class rC{constructor(){this.activeTargetIds=B7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z${constructor(){this.Mo=new rC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J${Oo(e){}shutdown(){}}const iC="ConnectivityMonitor";class aC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(iC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(iC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ep=null;function o_(){return Ep===null?Ep=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ep++,"0x"+Ep.toString(16)}const tx="RestConnection",eq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===mg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=o_(),u=this.zo(e,n.toUriEncodedString());Ce(tx,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:h}=new URL(u),p=Ku(h);return this.Jo(e,u,d,r,p).then((g=>(Ce(tx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw ju(tx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=eq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class nq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hr="WebChannelConnection";class rq extends tq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=o_();return new Promise(((u,d)=>{const h=new gD;h.setWithCredentials(!0),h.listenOnce(vD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Gp.NO_ERROR:const g=h.getResponseJson();Ce(hr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Gp.TIMEOUT:Ce(hr,`RPC '${e}' ${l} timed out`),d(new Te(me.DEADLINE_EXCEEDED,"Request time out"));break;case Gp.HTTP_ERROR:const b=h.getStatus();if(Ce(hr,`RPC '${e}' ${l} failed with status:`,b,"response text:",h.getResponseText()),b>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_?.error;if(A&&A.status&&A.message){const S=(function(O){const M=O.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(M)>=0?M:me.UNKNOWN})(A.status);d(new Te(S,A.message))}else d(new Te(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Te(me.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ce(hr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Ce(hr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=o_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=xD(),u=bD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");Ce(hr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,_=!1;const A=new nq({Yo:E=>{_?Ce(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(b||(Ce(hr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Ce(hr,`RPC '${e}' stream ${i} sending:`,E),g.send(E))},Zo:()=>g.close()}),S=(E,O,M)=>{E.listen(O,(R=>{try{M(R)}catch($){setTimeout((()=>{throw $}),0)}}))};return S(g,xf.EventType.OPEN,(()=>{_||(Ce(hr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),S(g,xf.EventType.CLOSE,(()=>{_||(_=!0,Ce(hr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),S(g,xf.EventType.ERROR,(E=>{_||(_=!0,ju(hr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),A.a_(new Te(me.UNAVAILABLE,"The operation could not be completed")))})),S(g,xf.EventType.MESSAGE,(E=>{if(!_){const O=E.data[0];bt(!!O,16349);const M=O,R=M?.error||M[0]?.error;if(R){Ce(hr,`RPC '${e}' stream ${i} received error:`,R);const $=R.status;let k=(function(j){const I=An[j];if(I!==void 0)return eM(I)})($),z=R.message;k===void 0&&(k=me.INTERNAL,z="Unknown error status: "+$+" with message "+R.message),_=!0,A.a_(new Te(k,z)),g.close()}else Ce(hr,`RPC '${e}' stream ${i} received:`,O),A.u_(O)}})),S(u,yD.STAT_EVENT,(E=>{E.stat===W1.PROXY?Ce(hr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===W1.NOPROXY&&Ce(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function nx(){return typeof document<"u"?document:null}function zv(t){return new o$(t,!0)}class mM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sC="PersistentStream";class pM{constructor(e,n,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Te(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(sC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ce(sC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iq extends pM{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=u$(this.serializer,e),r=(function(s){if(!("targetChange"in s))return He.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?Oa(l.readTime):He.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=a_(this.serializer),n.addTarget=(function(s,l){let u;const d=l.target;if(u=e_(d)?{documents:h$(s,d)}:{query:m$(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=rM(s,l.resumeToken);const h=n_(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(He.min())>0){u.readTime=bg(s,l.snapshotVersion.toTimestamp());const h=n_(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=g$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=a_(this.serializer),n.removeTarget=e,this.q_(n)}}class aq extends pM{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=f$(e.writeResults,e.commitTime),r=Oa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=a_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>d$(this.serializer,r)))};this.q_(n)}}class sq{}class oq extends sq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,r_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(me.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,r_(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const rc="RemoteStore";class cq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{vc(this)&&(Ce(rc,"Restarting streams for network reachability change."),await(async function(d){const h=Ge(d);h.Ea.add(4),await yh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Vv(h)})(this))}))})),this.Ra=new lq(r,i)}}async function Vv(t){if(vc(t))for(const e of t.da)await e(!0)}async function yh(t){for(const e of t.da)await e(!1)}function gM(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hw(n)?Fw(n):Ju(n).O_()&&qw(n,e))}function $w(t,e){const n=Ge(t),r=Ju(n);n.Ia.delete(e),r.O_()&&vM(n,e),n.Ia.size===0&&(r.O_()?r.L_():vc(n)&&n.Ra.set("Unknown"))}function qw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ju(t).Y_(e)}function vM(t,e){t.Va.Ue(e),Ju(t).Z_(e)}function Fw(t){t.Va=new r$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ju(t).start(),t.Ra.ua()}function Hw(t){return vc(t)&&!Ju(t).x_()&&t.Ia.size>0}function vc(t){return Ge(t).Ea.size===0}function yM(t){t.Va=void 0}async function uq(t){t.Ra.set("Online")}async function dq(t){t.Ia.forEach(((e,n)=>{qw(t,e)}))}async function fq(t,e){yM(t),Hw(t)?(t.Ra.ha(e),Fw(t)):t.Ra.set("Unknown")}async function hq(t,e,n){if(t.Ra.set("Online"),e instanceof nM&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ce(rc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _g(t,r)}else if(e instanceof Qp?t.Va.Ze(e):e instanceof tM?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await hM(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(ur.EMPTY_BYTE_STRING,p.snapshotVersion)),vM(s,d);const g=new Vo(p.target,d,h,p.sequenceNumber);qw(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ce(rc,"Failed to raise snapshot:",r),await _g(t,r)}}async function _g(t,e,n){if(!Qu(e))throw e;t.Ea.add(1),await yh(t),t.Ra.set("Offline"),n||(n=()=>hM(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce(rc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vv(t)}))}function bM(t,e){return e().catch((n=>_g(t,n,e)))}async function Uv(t){const e=Ge(t),n=Qo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cw;for(;mq(e);)try{const i=await W$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,pq(e,i)}catch(i){await _g(e,i)}xM(e)&&_M(e)}function mq(t){return vc(t)&&t.Ta.length<10}function pq(t,e){t.Ta.push(e);const n=Qo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xM(t){return vc(t)&&!Qo(t).x_()&&t.Ta.length>0}function _M(t){Qo(t).start()}async function gq(t){Qo(t).ra()}async function vq(t){const e=Qo(t);for(const n of t.Ta)e.ea(n.mutations)}async function yq(t,e,n){const r=t.Ta.shift(),i=Dw.from(r,e,n);await bM(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Uv(t)}async function bq(t,e){e&&Qo(t).X_&&await(async function(r,i){if((function(l){return e$(l)&&l!==me.ABORTED})(i.code)){const s=r.Ta.shift();Qo(r).B_(),await bM(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Uv(r)}})(t,e),xM(t)&&_M(t)}async function oC(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ce(rc,"RemoteStore received new credentials");const r=vc(n);n.Ea.add(3),await yh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vv(n)}async function xq(t,e){const n=Ge(t);e?(n.Ea.delete(2),await Vv(n)):e||(n.Ea.add(2),await yh(n),n.Ra.set("Unknown"))}function Ju(t){return t.ma||(t.ma=(function(n,r,i){const s=Ge(n);return s.sa(),new iq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:uq.bind(null,t),t_:dq.bind(null,t),r_:fq.bind(null,t),H_:hq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Hw(t)?Fw(t):t.Ra.set("Unknown")):(await t.ma.stop(),yM(t))}))),t.ma}function Qo(t){return t.fa||(t.fa=(function(n,r,i){const s=Ge(n);return s.sa(),new aq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:gq.bind(null,t),r_:bq.bind(null,t),ta:vq.bind(null,t),na:yq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Uv(t)):(await t.fa.stop(),t.Ta.length>0&&(Ce(rc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Kw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new Kw(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gw(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),Qu(t))return new Te(me.UNAVAILABLE,`${e}: ${t}`);throw t}class wu{static emptySet(e){return new wu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=_f(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lC{constructor(){this.ga=new Jt(Le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ru{constructor(e,n,r,i,s,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Ru(e,n,wu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class _q{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wq{constructor(){this.queries=cC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ge(n),s=i.queries;i.queries=cC(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Te(me.ABORTED,"Firestore shutting down"))}}function cC(){return new gc((t=>$D(t)),Pv)}async function Yw(t,e){const n=Ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new _q,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Gw(l,`Initialization of query '${du(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Xw(n)}async function Ww(t,e){const n=Ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Sq(t,e){const n=Ge(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Xw(n)}function Eq(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Xw(t){t.Ca.forEach((e=>{e.next()}))}var l_,uC;(uC=l_||(l_={})).Ma="default",uC.Cache="cache";class Qw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==l_.Cache}}class wM{constructor(e){this.key=e}}class SM{constructor(e){this.key=e}}class Aq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=qD(e),this.tu=new wu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),_=Rv(this.query,g)?g:null,A=!!b&&this.mutatedKeys.has(b.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;b&&_?b.data.isEqual(_.data)?A!==S&&(r.track({type:3,doc:_}),E=!0):this.su(b,_)||(r.track({type:2,doc:_}),E=!0,(d&&this.eu(_,d)>0||h&&this.eu(_,h)<0)&&(u=!0)):!b&&_?(r.track({type:0,doc:_}),E=!0):b&&!_&&(r.track({type:1,doc:b}),E=!0,(d||h)&&(u=!0)),E&&(_?(l=l.add(_),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,A){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:E})}};return S(_)-S(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new Ru(this.query,e.tu,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new SM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new wM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ru.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zw="SyncEngine";class Tq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nq{constructor(e){this.key=e,this.hu=!1}}class jq{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new gc((u=>$D(u)),Pv),this.Iu=new Map,this.Eu=new Set,this.du=new Jt(Le.comparator),this.Au=new Map,this.Ru=new zw,this.Vu={},this.mu=new Map,this.fu=Pu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cq(t,e,n=!0){const r=CM(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await EM(r,e,n,!0),i}async function Oq(t,e){const n=CM(t);await EM(n,e,!0,!1)}async function EM(t,e,n,r){const i=await X$(t.localStore,Ca(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await Iq(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&gM(t.remoteStore,i),u}async function Iq(t,e,n,r,i){t.pu=(g,b,_)=>(async function(S,E,O,M){let R=E.view.ru(O);R.Cs&&(R=await nC(S.localStore,E.query,!1).then((({documents:N})=>E.view.ru(N,R))));const $=M&&M.targetChanges.get(E.targetId),k=M&&M.targetMismatches.get(E.targetId)!=null,z=E.view.applyChanges(R,S.isPrimaryClient,$,k);return fC(S,E.targetId,z.au),z.snapshot})(t,g,b,_);const s=await nC(t.localStore,e,!0),l=new Aq(e,s.Qs),u=l.ru(s.documents),d=vh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);fC(t,n,h.au);const p=new Tq(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Pq(t,e,n){const r=Ge(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Pv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await s_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$w(r.remoteStore,i.targetId),c_(r,i.targetId)})).catch(Xu)):(c_(r,i.targetId),await s_(r.localStore,i.targetId,!0))}async function Rq(t,e){const n=Ge(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$w(n.remoteStore,r.targetId))}async function kq(t,e,n){const r=Bq(t);try{const i=await(function(l,u){const d=Ge(l),h=kt.now(),p=u.reduce(((_,A)=>_.add(A.key)),ot());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let A=Os(),S=ot();return d.Ns.getEntries(_,p).next((E=>{A=E,A.forEach(((O,M)=>{M.isValidDocument()||(S=S.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,A))).next((E=>{g=E;const O=[];for(const M of u){const R=W7(M,g.get(M.key).overlayedDocument);R!=null&&O.push(new il(M.key,R,kD(R.value.mapValue),Ir.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,O,u)})).next((E=>{b=E;const O=E.applyToLocalDocumentSet(g,S);return d.documentOverlayCache.saveOverlays(_,E.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:HD(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new Jt(st)),h=h.insert(u,d),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await bh(r,i.changes),await Uv(r.remoteStore)}catch(i){const s=Gw(i,"Failed to persist write");n.reject(s)}}async function AM(t,e){const n=Ge(t);try{const r=await G$(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?bt(l.hu,14607):i.removedDocuments.size>0&&(bt(l.hu,42227),l.hu=!1))})),await bh(n,r,e)}catch(r){await Xu(r)}}function dC(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Ge(l);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(h=!0)})),h&&Xw(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dq(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Jt(Le.comparator);l=l.insert(s,gr.newNoDocument(s,He.min()));const u=ot().add(s),d=new Lv(He.min(),new Map,new Jt(st),l,u);await AM(r,d),r.du=r.du.remove(s),r.Au.delete(e),Jw(r)}else await s_(r.localStore,e,!1).then((()=>c_(r,e,n))).catch(Xu)}async function Mq(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await K$(n.localStore,e);NM(n,r,null),TM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,i)}catch(i){await Xu(i)}}async function Lq(t,e,n){const r=Ge(t);try{const i=await(function(l,u){const d=Ge(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(bt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);NM(r,e,n),TM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,i)}catch(i){await Xu(i)}}function TM(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function NM(t,e,n){const r=Ge(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function c_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||jM(t,r)}))}function jM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($w(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Jw(t))}function fC(t,e,n){for(const r of n)r instanceof wM?(t.Ru.addReference(r.key,e),zq(t,r)):r instanceof SM?(Ce(Zw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||jM(t,r.key)):Be(19791,{wu:r})}function zq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ce(Zw,"New document in limbo: "+n),t.Eu.add(r),Jw(t))}function Jw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Le(Vt.fromString(e)),r=t.fu.next();t.Au.set(r,new Nq(n)),t.du=t.du.insert(n,r),gM(t.remoteStore,new Vo(Ca(Iv(n.path)),r,"TargetPurposeLimboResolution",jv.ce))}}async function bh(t,e,n){const r=Ge(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Uw.As(d.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,h){const p=Ge(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ye.forEach(h,(b=>ye.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(g,b.targetId,_))).next((()=>ye.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(g,b.targetId,_)))))))))}catch(g){if(!Qu(g))throw g;Ce(Bw,"Failed to update sequence numbers: "+g)}for(const g of h){const b=g.targetId;if(!g.fromCache){const _=p.Ms.get(b),A=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(b,S)}}})(r.localStore,s))}async function Vq(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ce(Zw,"User change. New user:",e.toKey());const r=await fM(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new Te(me.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.Ls)}}function Uq(t,e){const n=Ge(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function CM(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dq.bind(null,e),e.Pu.H_=Sq.bind(null,e.eventManager),e.Pu.yu=Eq.bind(null,e.eventManager),e}function Bq(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lq.bind(null,e),e}class wg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return H$(this.persistence,new $$,e.initialUser,this.serializer)}Cu(e){return new dM(Vw.mi,this.serializer)}Du(e){return new Z$}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wg.provider={build:()=>new wg};class $q extends wg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bt(this.persistence.referenceDelegate instanceof xg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new N$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new dM((r=>xg.mi(r,n)),this.serializer)}}class u_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vq.bind(null,this.syncEngine),await xq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wq})()}createDatastore(e){const n=zv(e.databaseInfo.databaseId),r=(function(s){return new rq(s)})(e.databaseInfo);return(function(s,l,u,d){return new oq(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new cq(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>dC(this.syncEngine,n,0)),(function(){return aC.v()?new aC:new J$})())}createSyncEngine(e,n){return(function(i,s,l,u,d,h,p){const g=new jq(i,s,l,u,d,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ge(n);Ce(rc,"RemoteStore shutting down."),r.Ea.add(5),await yh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}u_.provider={build:()=>new u_};class eS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Zo="FirestoreClient";class qq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Ce(Zo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ce(Zo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rx(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(Zo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await fM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Fq(t);Ce(Zo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>oC(e.remoteStore,i))),t._onlineComponents=e}async function Fq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(Zo,"Using user provided OfflineComponentProvider");try{await rx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ju("Error using user provided cache. Falling back to memory cache: "+n),await rx(t,new wg)}}else Ce(Zo,"Using default OfflineComponentProvider"),await rx(t,new $q(void 0));return t._offlineComponents}async function OM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(Zo,"Using user provided OnlineComponentProvider"),await hC(t,t._uninitializedComponentsProvider._online)):(Ce(Zo,"Using default OnlineComponentProvider"),await hC(t,new u_))),t._onlineComponents}function Hq(t){return OM(t).then((e=>e.syncEngine))}async function Sg(t){const e=await OM(t),n=e.eventManager;return n.onListen=Cq.bind(null,e.syncEngine),n.onUnlisten=Pq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Oq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rq.bind(null,e.syncEngine),n}function Kq(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new eS({next:b=>{p.Nu(),l.enqueueAndForget((()=>Ww(s,g)));const _=b.docs.has(u);!_&&b.fromCache?h.reject(new Te(me.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&d&&d.source==="server"?h.reject(new Te(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new Qw(Iv(u.path),p,{includeMetadataChanges:!0,qa:!0});return Yw(s,g)})(await Sg(t),t.asyncQueue,e,n,r))),r.promise}function Gq(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new eS({next:b=>{p.Nu(),l.enqueueAndForget((()=>Ww(s,g))),b.fromCache&&d.source==="server"?h.reject(new Te(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new Qw(u,p,{includeMetadataChanges:!0,qa:!0});return Yw(s,g)})(await Sg(t),t.asyncQueue,e,n,r))),r.promise}function IM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const mC=new Map;const PM="firestore.googleapis.com",pC=!0;class gC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PM,this.ssl=pC}else this.host=e.host,this.ssl=e.ssl??pC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A$)throw new Te(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QB;switch(r.type){case"firstParty":return new t7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mC.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),mC.delete(n),r.terminate())})(this),Promise.resolve()}}function Yq(t,e,n,r={}){t=Or(t,Bv);const i=Ku(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Ok(`https://${u}`),Ik("Firestore",!0)),s.host!==PM&&s.host!==u&&ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!Jl(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=pr.MOCK_USER;else{h=x9(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Te(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pr(g)}t._authCredentials=new ZB(new wD(h,p))}}class Us{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ph(n,on._jsonSchema))return new on(e,r||null,new Le(Vt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:jn("string",on._jsonSchemaVersion),referencePath:jn("string")};class Ho extends Us{constructor(e,n,r){super(e,n,Iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Le(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function oi(t,e,...n){if(t=Mn(t),SD("collection","path",e),t instanceof Bv){const r=Vt.fromString(e,...n);return Cj(r),new Ho(t,null,r)}{if(!(t instanceof on||t instanceof Ho))throw new Te(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return Cj(r),new Ho(t.firestore,null,r)}}function ct(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=jw.newId()),SD("doc","path",e),t instanceof Bv){const r=Vt.fromString(e,...n);return jj(r),new on(t,null,new Le(r))}{if(!(t instanceof on||t instanceof Ho))throw new Te(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return jj(r),new on(t.firestore,t instanceof Ho?t.converter:null,new Le(r))}}const vC="AsyncQueue";class yC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mM(this,"async_queue_retry"),this._c=()=>{const r=nx();r&&Ce(vC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=nx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qu(e))throw e;Ce(vC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",bC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Kw.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:bC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function xC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Da extends Bv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yC(e),this._firestoreClient=void 0,await e}}}function Wq(t,e){const n=typeof t=="object"?t:Dk(),r=typeof t=="string"?t:mg,i=yw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=y9("firestore");s&&Yq(i,...s)}return i}function xh(t){if(t._terminated)throw new Te(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Xq(t),t._firestoreClient}function Xq(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new b7(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IM(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ii(ur.fromBase64String(e))}catch(n){throw new Te(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ii(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ph(e,Ii._jsonSchema))return Ii.fromBase64String(e.bytes)}}Ii._jsonSchemaVersion="firestore/bytes/1.0",Ii._jsonSchema={type:jn("string",Ii._jsonSchemaVersion),bytes:jn("string")};class _h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $v{constructor(e){this._methodName=e}}class Ia{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ia._jsonSchemaVersion}}static fromJSON(e){if(ph(e,Ia._jsonSchema))return new Ia(e.latitude,e.longitude)}}Ia._jsonSchemaVersion="firestore/geoPoint/1.0",Ia._jsonSchema={type:jn("string",Ia._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};class Pa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ph(e,Pa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pa(e.vectorValues);throw new Te(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pa._jsonSchemaVersion="firestore/vectorValue/1.0",Pa._jsonSchema={type:jn("string",Pa._jsonSchemaVersion),vectorValues:jn("object")};const Qq=/^__.*__$/;class Zq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new il(e,this.data,this.fieldMask,n,this.fieldTransforms):new gh(e,this.data,n,this.fieldTransforms)}}class RM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new il(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class tS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kM(this.Ac)&&Qq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zv(e)}Cc(e,n,r,i=!1){return new tS({Ac:e,methodName:n,Dc:r,path:cr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(t){const e=t._freezeSettings(),n=zv(t._databaseId);return new Jq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);iS("Data must be an object, but it was:",l,r);const u=LM(r,l);let d,h;if(s.merge)d=new ui(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=d_(e,g,n);if(!l.contains(b))throw new Te(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);VM(p,b)||p.push(b)}d=new ui(p),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new Zq(new Hr(u),d,h)}class qv extends $v{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qv}}class rS extends $v{_toFieldTransform(e){return new H7(e.path,new Bf)}isEqual(e){return e instanceof rS}}function DM(t,e,n,r){const i=t.Cc(1,e,n);iS("Data must be an object, but it was:",i,r);const s=[],l=Hr.empty();rl(r,((d,h)=>{const p=aS(e,d,n);h=Mn(h);const g=i.yc(p);if(h instanceof qv)s.push(p);else{const b=Sh(h,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new ui(s);return new RM(l,u,i.fieldTransforms)}function MM(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[d_(e,r,n)],d=[i];if(s.length%2!=0)throw new Te(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(d_(e,s[b])),d.push(s[b+1]);const h=[],p=Hr.empty();for(let b=u.length-1;b>=0;--b)if(!VM(h,u[b])){const _=u[b];let A=d[b];A=Mn(A);const S=l.yc(_);if(A instanceof qv)h.push(_);else{const E=Sh(A,S);E!=null&&(h.push(_),p.set(_,E))}}const g=new ui(h);return new RM(p,g,l.fieldTransforms)}function eF(t,e,n,r=!1){return Sh(n,t.Cc(r?4:3,e))}function Sh(t,e){if(zM(t=Mn(t)))return iS("Unsupported field value:",e,t),LM(t,e);if(t instanceof $v)return(function(r,i){if(!kM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=Sh(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=kt.fromDate(r);return{timestampValue:bg(i.serializer,s)}}if(r instanceof kt){const s=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bg(i.serializer,s)}}if(r instanceof Ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ii)return{bytesValue:rM(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pa)return(function(l,u){return{mapValue:{fields:{[PD]:{stringValue:RD},[pg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return kw(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Nv(r)}`)})(t,e)}function LM(t,e){const n={};return TD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(t,((r,i)=>{const s=Sh(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function zM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Ia||t instanceof Ii||t instanceof on||t instanceof $v||t instanceof Pa)}function iS(t,e,n){if(!zM(n)||!ED(n)){const r=Nv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function d_(t,e,n){if((e=Mn(e))instanceof _h)return e._internalPath;if(typeof e=="string")return aS(t,e);throw Eg("Field path arguments must be of type string or ",t,!1,void 0,n)}const tF=new RegExp("[~\\*/\\[\\]]");function aS(t,e,n){if(e.search(tF)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _h(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Te(me.INVALID_ARGUMENT,u+t+d)}function VM(t,e){return t.some((n=>n.isEqual(e)))}class UM{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nF extends UM{data(){return super.data()}}function Fv(t,e){return typeof e=="string"?aS(t,e):e instanceof _h?e._internalPath:e._delegate._internalPath}function BM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sS{}class oS extends sS{}function ku(t,e,...n){let r=[];e instanceof sS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof lS)).length,u=s.filter((d=>d instanceof Hv)).length;if(l>1||l>0&&u>0)throw new Te(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Hv extends oS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hv(e,n,r)}_apply(e){const n=this._parse(e);return qM(e._query,n),new Us(e.firestore,e.converter,t_(e._query,n))}_parse(e){const n=wh(e.firestore);return(function(s,l,u,d,h,p,g){let b;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Te(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){wC(g,p);const A=[];for(const S of g)A.push(_C(d,s,S));b={arrayValue:{values:A}}}else b=_C(d,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||wC(g,p),b=eF(u,l,g,p==="in"||p==="not-in");return Nn.create(h,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bl(t,e,n){const r=e,i=Fv("where",t);return Hv._create(i,r,n)}class lS extends sS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ta.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)qM(l,d),l=t_(l,d)})(e._query,n),new Us(e.firestore,e.converter,t_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cS extends oS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Te(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uf(s,l)})(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new Zu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Ag(t,e="asc"){const n=e,r=Fv("orderBy",t);return cS._create(r,n)}class uS extends oS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new uS(e,n,r)}_apply(e){return new Us(e.firestore,e.converter,vg(e._query,this._limit,this._limitType))}}function $M(t){return l7("limit",t),uS._create("limit",t,"F")}function _C(t,e,n){if(typeof(n=Mn(n))=="string"){if(n==="")throw new Te(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BD(e)&&n.indexOf("/")!==-1)throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!Le.isDocumentKey(r))throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lj(t,new Le(r))}if(n instanceof on)return Lj(t,n._key);throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nv(n)}.`)}function wC(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qM(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rF{convertValue(e,n="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[pg].arrayValue?.values?.map((r=>pn(r.doubleValue)));return new Pa(n)}convertGeoPoint(e){return new Ia(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lf(e));default:return null}}convertTimestamp(e){const n=Yo(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);bt(cM(r),9688,{name:e});const i=new zf(r.get(1),r.get(3)),s=new Le(r.popFirst(5));return i.isEqual(n)||Cs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function dS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Sf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kl extends UM{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Kl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Kl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kl._jsonSchema={type:jn("string",Kl._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class Zp extends Kl{data(e={}){return super.data(e)}}class Gl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zp(this._firestore,this._userDataWriter,r.key,r,new Sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new Zp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Sf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new Zp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Sf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:iF(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}Gl._jsonSchemaVersion="firestore/querySnapshot/1.0",Gl._jsonSchema={type:jn("string",Gl._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class fS extends rF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function SC(t){t=Or(t,on);const e=Or(t.firestore,Da);return Kq(xh(e),t._key,{source:"server"}).then((n=>HM(e,t,n)))}function f_(t){t=Or(t,Us);const e=Or(t.firestore,Da),n=xh(e),r=new fS(e);return BM(t._query),Gq(n,t._query).then((i=>new Gl(e,r,t,i)))}function Rn(t,e,n){t=Or(t,on);const r=Or(t.firestore,Da),i=dS(t.converter,e,n);return Eh(r,[nS(wh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function Tg(t,e,n,...r){t=Or(t,on);const i=Or(t.firestore,Da),s=wh(i);let l;return l=typeof(e=Mn(e))=="string"||e instanceof _h?MM(s,"updateDoc",t._key,e,n,r):DM(s,"updateDoc",t._key,e),Eh(i,[l.toMutation(t._key,Ir.exists(!0))])}function FM(t){return Eh(Or(t.firestore,Da),[new Mv(t._key,Ir.none())])}function hS(t,e){const n=Or(t.firestore,Da),r=ct(t),i=dS(t.converter,e);return Eh(n,[nS(wh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function qr(t,...e){t=Mn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,u;if(t instanceof on)l=Or(t.firestore,Da),u=Iv(t._key.path),s={next:d=>{e[r]&&e[r](HM(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Or(t,Us);l=Or(d.firestore,Da),u=d._query;const h=new fS(l);s={next:p=>{e[r]&&e[r](new Gl(l,h,d,p))},error:e[r+1],complete:e[r+2]},BM(t._query)}return(function(h,p,g,b){const _=new eS(b),A=new Qw(p,_,g);return h.asyncQueue.enqueueAndForget((async()=>Yw(await Sg(h),A))),()=>{_.Nu(),h.asyncQueue.enqueueAndForget((async()=>Ww(await Sg(h),A)))}})(xh(l),u,i,s)}function Eh(t,e){return(function(r,i){const s=new ws;return r.asyncQueue.enqueueAndForget((async()=>kq(await Hq(r),i,s))),s.promise})(xh(t),e)}function HM(t,e,n){const r=n.docs.get(e._key),i=new fS(t);return new Kl(t,i,e._key,r,new Sf(n.hasPendingWrites,n.fromCache),e.converter)}class aF{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wh(e)}set(e,n,r){this._verifyNotCommitted();const i=ix(e,this._firestore),s=dS(i.converter,n,r),l=nS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ir.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ix(e,this._firestore);let l;return l=typeof(n=Mn(n))=="string"||n instanceof _h?MM(this._dataReader,"WriteBatch.update",s._key,n,r,i):DM(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ix(e,this._firestore);return this._mutations=this._mutations.concat(new Mv(n._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ix(t,e){if((t=Mn(t)).firestore!==e)throw new Te(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ed(){return new rS("serverTimestamp")}function sF(t){return xh(t=Or(t,Da)),new aF(t,(e=>Eh(t,e)))}(function(e,n=!0){(function(i){Wu=i})(Gu),Nu(new ec("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Da(new JB(r.getProvider("auth-internal")),new n7(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Te(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zf(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),qo(Ej,Aj,e),qo(Ej,Aj,"esm2020")})();const oF={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},lF=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):oF,KM=kk(lF),ax=WB(KM),$e=Wq(KM),cF=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",Ve=cF.replace(/\//g,"_");function GM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GM(t))&&(r&&(r+=" "),r+=e);return r}var uF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mS(t){if(typeof t!="string")return!1;var e=uF;return e.includes(t)}var dF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fF=new Set(dF);function YM(t){return typeof t!="string"?!1:fF.has(t)}function WM(t){return typeof t=="string"&&t.startsWith("data-")}function Pr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(YM(n)||WM(n))&&(e[n]=t[n]);return e}function ic(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Pr(e)}return typeof t=="object"&&!Array.isArray(t)?Pr(t):null}function xr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(YM(n)||WM(n)||mS(n))&&(e[n]=t[n]);return e}function hF(t){return t==null?null:w.isValidElement(t)?xr(t.props):typeof t=="object"&&!Array.isArray(t)?xr(t):null}var mF=["children","width","height","viewBox","className","style","title","desc"];function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(null,arguments)}function pF(t,e){if(t==null)return{};var n,r,i=gF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pS=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:h}=t,p=pF(t,mF),g=s||{width:r,height:i,x:0,y:0},b=dt("recharts-surface",l);return w.createElement("svg",h_({},xr(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,h),n)}),vF=["children","className"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(null,arguments)}function yF(t,e){if(t==null)return{};var n,r,i=bF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ln=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=yF(t,vF),s=dt("recharts-layer",r);return w.createElement("g",m_({className:s},xr(i),{ref:e}),n)}),gS=Sk(),XM=w.createContext(null),xF=()=>w.useContext(XM);function zt(t){return function(){return t}}const QM=Math.cos,Ng=Math.sin,ra=Math.sqrt,jg=Math.PI,Kv=2*jg,p_=Math.PI,g_=2*p_,Ll=1e-6,_F=g_-Ll;function ZM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function wF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZM;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class SF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZM:wF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-e,h=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Ll)if(!(Math.abs(g*d-h*p)>Ll)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,A=i-u,S=d*d+h*h,E=_*_+A*A,O=Math.sqrt(S),M=Math.sqrt(b),R=s*Math.tan((p_-Math.acos((S+b-E)/(2*O*M)))/2),$=R/M,k=R/O;Math.abs($-1)>Ll&&this._append`L${e+$*p},${n+$*g}`,this._append`A${s},${s},0,0,${+(g*_>p*A)},${this._x1=e+k*d},${this._y1=n+k*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=e+u,p=n+d,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Ll||Math.abs(this._y1-p)>Ll)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%g_+g_),b>_F?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:b>Ll&&this._append`A${r},${r},0,${+(b>=p_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new SF(e)}function yS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JM(t){this._context=t}JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gv(t){return new JM(t)}function e4(t){return t[0]}function t4(t){return t[1]}function n4(t,e){var n=zt(!0),r=null,i=Gv,s=null,l=vS(u);t=typeof t=="function"?t:t===void 0?e4:zt(t),e=typeof e=="function"?e:e===void 0?t4:zt(e);function u(d){var h,p=(d=yS(d)).length,g,b=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(g=d[h],h,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,h,d),+e(g,h,d));if(_)return s=null,_+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:zt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Ap(t,e,n){var r=null,i=zt(!0),s=null,l=Gv,u=null,d=vS(h);t=typeof t=="function"?t:t===void 0?e4:zt(+t),e=typeof e=="function"?e:zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?t4:zt(+n);function h(g){var b,_,A,S=(g=yS(g)).length,E,O=!1,M,R=new Array(S),$=new Array(S);for(s==null&&(u=l(M=d())),b=0;b<=S;++b){if(!(b<S&&i(E=g[b],b,g))===O)if(O=!O)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=b-1;A>=_;--A)u.point(R[A],$[A]);u.lineEnd(),u.areaEnd()}O&&(R[b]=+t(E,b,g),$[b]=+e(E,b,g),u.point(r?+r(E,b,g):R[b],n?+n(E,b,g):$[b]))}if(M)return u=null,M+""||null}function p(){return n4().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:zt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:zt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:zt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:zt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:zt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:zt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:zt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class r4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function EF(t){return new r4(t,!0)}function AF(t){return new r4(t,!1)}const bS={draw(t,e){const n=ra(e/jg);t.moveTo(n,0),t.arc(0,0,n,0,Kv)}},TF={draw(t,e){const n=ra(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},i4=ra(1/3),NF=i4*2,jF={draw(t,e){const n=ra(e/NF),r=n*i4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},CF={draw(t,e){const n=ra(e),r=-n/2;t.rect(r,r,n,n)}},OF=.8908130915292852,a4=Ng(jg/10)/Ng(7*jg/10),IF=Ng(Kv/10)*a4,PF=-QM(Kv/10)*a4,RF={draw(t,e){const n=ra(e*OF),r=IF*n,i=PF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Kv*s/5,u=QM(l),d=Ng(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},sx=ra(3),kF={draw(t,e){const n=-ra(e/(sx*3));t.moveTo(0,n*2),t.lineTo(-sx*n,-n),t.lineTo(sx*n,-n),t.closePath()}},Ti=-.5,Ni=ra(3)/2,v_=1/ra(12),DF=(v_/2+1)*3,MF={draw(t,e){const n=ra(e/DF),r=n/2,i=n*v_,s=r,l=n*v_+n,u=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(Ti*r-Ni*i,Ni*r+Ti*i),t.lineTo(Ti*s-Ni*l,Ni*s+Ti*l),t.lineTo(Ti*u-Ni*d,Ni*u+Ti*d),t.lineTo(Ti*r+Ni*i,Ti*i-Ni*r),t.lineTo(Ti*s+Ni*l,Ti*l-Ni*s),t.lineTo(Ti*u+Ni*d,Ti*d-Ni*u),t.closePath()}};function LF(t,e){let n=null,r=vS(i);t=typeof t=="function"?t:zt(t||bS),e=typeof e=="function"?e:zt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:zt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:zt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Cg(){}function Og(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function s4(t){this._context=t}s4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Og(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zF(t){return new s4(t)}function o4(t){this._context=t}o4.prototype={areaStart:Cg,areaEnd:Cg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VF(t){return new o4(t)}function l4(t){this._context=t}l4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UF(t){return new l4(t)}function c4(t){this._context=t}c4.prototype={areaStart:Cg,areaEnd:Cg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function BF(t){return new c4(t)}function EC(t){return t<0?-1:1}function AC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(EC(s)+EC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function TC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ox(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function Ig(t){this._context=t}Ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ox(this,this._t0,TC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ox(this,TC(this,n=AC(this,t,e)),n);break;default:ox(this,this._t0,n=AC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function u4(t){this._context=new d4(t)}(u4.prototype=Object.create(Ig.prototype)).point=function(t,e){Ig.prototype.point.call(this,e,t)};function d4(t){this._context=t}d4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function $F(t){return new Ig(t)}function qF(t){return new u4(t)}function f4(t){this._context=t}f4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=NC(t),i=NC(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NC(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function FF(t){return new f4(t)}function Yv(t,e){this._context=t,this._t=e}Yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function HF(t){return new Yv(t,.5)}function KF(t){return new Yv(t,0)}function GF(t){return new Yv(t,1)}function ac(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function y_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function YF(t,e){return t[e]}function WF(t){const e=[];return e.key=t,e}function XF(){var t=zt([]),e=y_,n=ac,r=YF;function i(s){var l=Array.from(t.apply(this,arguments),WF),u,d=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=yS(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:zt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:zt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?y_:typeof s=="function"?s:zt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??ac,i):n},i}function QF(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}ac(t,e)}}function ZF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}ac(t,e)}}function JF(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,_=(g-b)/2,A=0;A<u;++A){var S=t[e[A]],E=S[r][1]||0,O=S[r-1][1]||0;_+=E-O}d+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,ac(t,e)}}var lx={},cx={},jC;function eH(){return jC||(jC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(cx)),cx}var ux={},CC;function h4(){return CC||(CC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ux)),ux}var dx={},OC;function xS(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(dx)),dx}var fx={},hx={},IC;function tH(){return IC||(IC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(hx)),hx}var PC;function _S(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tH(),n=xS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,d+=i[u]):g===h?h="":d+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}t.toPath=r})(fx)),fx}var RC;function wS(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eH(),n=h4(),r=xS(),i=_S();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function l(u,d,h){if(d.length===0)return h;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return h;p=p[d[g]]}return p===void 0?h:p}t.get=s})(lx)),lx}var mx,kC;function nH(){return kC||(kC=1,mx=wS().get),mx}var rH=nH();const sc=zs(rH);var iH=4;function Uo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iH,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function an(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+Uo(u)+s:i+s},"")}var Wn=t=>t===0?0:t>0?1:-1,ki=t=>typeof t=="number"&&t!=+t,Is=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!ki(t),Ma=t=>Ne(t)||typeof t=="string",aH=0,Ff=t=>{var e=++aH;return"".concat(t||"").concat(e)},yr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var s;if(Is(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return ki(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},m4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function vt(t,e,n){return Ne(t)&&Ne(e)?Uo(t+n*(e-t)):e}function p4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):sc(r,e))===n)}var Kt=t=>t===null||typeof t>"u",Ah=t=>Kt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function sH(t){return t!=null}function Th(){}var oH=["type","size","sizeType"];function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(null,arguments)}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){lH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lH(t,e,n){return(e=cH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cH(t){var e=uH(t,"string");return typeof e=="symbol"?e:e+""}function uH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dH(t,e){if(t==null)return{};var n,r,i=fH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g4={symbolCircle:bS,symbolCross:TF,symbolDiamond:jF,symbolSquare:CF,symbolStar:RF,symbolTriangle:kF,symbolWye:MF},hH=Math.PI/180,mH=t=>{var e="symbol".concat(Ah(t));return g4[e]||bS},pH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*hH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},gH=(t,e)=>{g4["symbol".concat(Ah(t))]=e},SS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=dH(t,oH),s=MC(MC({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=mH(l),_=LF().type(b).size(pH(n,r,l)),A=_();if(A!==null)return A},{className:d,cx:h,cy:p}=s,g=xr(s);return Ne(h)&&Ne(p)&&Ne(n)?w.createElement("path",b_({},g,{className:dt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};SS.registerSymbol=gH;var v4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,ES=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{mS(i)&&(r[i]=(s=>n[i](n,s)))}),r},vH=(t,e,n)=>r=>(t(e,n,r),null),Nh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];mS(i)&&typeof s=="function"&&(r||(r={}),r[i]=vH(s,e,n))}),r};function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){bH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bH(t,e,n){return(e=xH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xH(t){var e=_H(t,"string");return typeof e=="symbol"?e:e+""}function _H(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cn(t,e){var n=yH({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(null,arguments)}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){SH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SH(t,e,n){return(e=EH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EH(t){var e=AH(t,"string");return typeof e=="symbol"?e:e+""}function AH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ci=32,TH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function NH(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Ci/2,s=Ci/6,l=Ci/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var h;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Ci,y2:i,className:"recharts-legend-icon"})}if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ci,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ci/8,"h").concat(Ci,"v").concat(Ci*3/4,"h").concat(-Ci,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var p=wH({},e);return delete p.legendIcon,w.cloneElement(e.legendIcon,p)}return w.createElement(SS,{fill:u,cx:i,cy:i,size:Ci,sizeType:"diameter",type:d})}function jH(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:Ci,height:Ci},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,_=dt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?s:p.color,S=b?b(p.value,p,g):p.value;return w.createElement("li",Pg({className:_,style:d,key:"legend-item-".concat(g)},Nh(t,p,g)),w.createElement(pS,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(S," legend icon")},w.createElement(NH,{data:p,iconType:l,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},S))})}var CH=t=>{var e=cn(t,TH),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(jH,Pg({},e,{payload:n})))},px={},gx={},VC;function OH(){return VC||(VC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(gx)),gx}var vx={},UC;function y4(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(vx)),vx}var yx={},bx={},xx={},BC;function IH(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(xx)),xx}var $C;function AS(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(bx)),bx}var _x={},qC;function PH(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(_x)),_x}var FC;function RH(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AS(),n=PH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(yx)),yx}var wx={},Sx={},HC;function kH(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Sx)),Sx}var Ex={},Ax={},Tx={},Nx={},KC;function b4(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Nx)),Nx}var jx={},GC;function x4(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(jx)),jx}var Cx={},YC;function _4(){return YC||(YC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Cx)),Cx}var WC;function DH(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b4(),n=x4(),r=_4();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function _(A,S,E,O,M,R){const $=b(A,S,E,O,M,R);return $!==void 0?!!$:s(A,S,_,R)},new Map)}function s(p,g,b,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,_);case"function":return Object.keys(g).length>0?s(p,{...g},b,_):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,_){if(g==null)return!0;if(Array.isArray(g))return d(p,g,b,_);if(g instanceof Map)return u(p,g,b,_);if(g instanceof Set)return h(p,g,b,_);const A=Object.keys(g);if(p==null||n.isPrimitive(p))return A.length===0;if(A.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let S=0;S<A.length;S++){const E=A[S];if(!n.isPrimitive(p)&&!(E in p)||g[E]===void 0&&p[E]!==void 0||g[E]===null&&p[E]!==null||!b(p[E],g[E],E,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,b,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[A,S]of g.entries()){const E=p.get(A);if(b(E,S,A,p,g,_)===!1)return!1}return!0}function d(p,g,b,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const A=new Set;for(let S=0;S<g.length;S++){const E=g[S];let O=!1;for(let M=0;M<p.length;M++){if(A.has(M))continue;const R=p[M];let $=!1;if(b(R,E,S,p,g,_)&&($=!0),$){A.add(M),O=!0;break}}if(!O)return!1}return!0}function h(p,g,b,_){return g.size===0?!0:p instanceof Set?d([...p],[...g],b,_):!1}t.isMatchWith=i,t.isSetMatch=h})(Tx)),Tx}var XC;function w4(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Ax)),Ax}var Ox={},Ix={},Px={},QC;function MH(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Px)),Px}var Rx={},ZC;function S4(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Rx)),Rx}var kx={},JC;function E4(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",_="[object Object]",A="[object Error]",S="[object DataView]",E="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",$="[object BigUint64Array]",k="[object Int8Array]",z="[object Int16Array]",N="[object Int32Array]",j="[object BigInt64Array]",I="[object Float32Array]",L="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=j,t.bigUint64ArrayTag=$,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=I,t.float64ArrayTag=L,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=N,t.int8ArrayTag=k,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=M,t.uint32ArrayTag=R,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=O})(kx)),kx}var Dx={},eO;function LH(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Dx)),Dx}var tO;function A4(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MH(),n=S4(),r=E4(),i=x4(),s=LH();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,_=new Map,A=void 0){const S=A?.(p,g,b,_);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const E=new Array(p.length);_.set(p,E);for(let O=0;O<p.length;O++)E[O]=u(p[O],O,b,_,A);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;_.set(p,E);for(const[O,M]of p)E.set(O,u(M,O,b,_,A));return E}if(p instanceof Set){const E=new Set;_.set(p,E);for(const O of p)E.add(u(O,void 0,b,_,A));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,E);for(let O=0;O<p.length;O++)E[O]=u(p[O],O,b,_,A);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,E),d(E,p,b,_,A),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return _.set(p,E),d(E,p,b,_,A),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return _.set(p,E),d(E,p,b,_,A),E}if(p instanceof Error){const E=new p.constructor;return _.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,d(E,p,b,_,A),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return _.set(p,E),d(E,p,b,_,A),E}if(p instanceof Number){const E=new Number(p.valueOf());return _.set(p,E),d(E,p,b,_,A),E}if(p instanceof String){const E=new String(p.valueOf());return _.set(p,E),d(E,p,b,_,A),E}if(typeof p=="object"&&h(p)){const E=Object.create(Object.getPrototypeOf(p));return _.set(p,E),d(E,p,b,_,A),E}return p}function d(p,g,b=p,_,A){const S=[...Object.keys(g),...e.getSymbols(g)];for(let E=0;E<S.length;E++){const O=S[E],M=Object.getOwnPropertyDescriptor(p,O);(M==null||M.writable)&&(p[O]=u(g[O],O,b,_,A))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(Ix)),Ix}var nO;function zH(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Ox)),Ox}var rO;function VH(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w4(),n=zH();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Ex)),Ex}var Mx={},Lx={},zx={},iO;function UH(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A4(),n=E4();function r(i,s){return e.cloneDeepWith(i,(l,u,d,h)=>{const p=s?.(l,u,d,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(zx)),zx}var aO;function BH(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Lx)),Lx}var Vx={},Ux={},sO;function T4(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Ux)),Ux}var Bx={},oO;function $H(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Bx)),Bx}var lO;function qH(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h4(),n=T4(),r=$H(),i=_S();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const g=d[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Vx)),Vx}var cO;function FH(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w4(),n=xS(),r=BH(),i=wS(),s=qH();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(Mx)),Mx}var uO;function HH(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y4(),n=kH(),r=VH(),i=FH();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(wx)),wx}var dO;function KH(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OH(),n=y4(),r=RH(),i=HH();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(px)),px}var $x,fO;function GH(){return fO||(fO=1,$x=KH().uniqBy),$x}var YH=GH();const hO=zs(YH);function N4(t,e,n){return e===!0?hO(t,n):typeof e=="function"?hO(t,e):t}var qx={exports:{}},Fx={},Hx={exports:{}},Kx={};var mO;function WH(){if(mO)return Kx;mO=1;var t=Hu();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var _=b(),A=r({inst:{value:_,getSnapshot:b}}),S=A[0].inst,E=A[1];return s(function(){S.value=_,S.getSnapshot=b,d(S)&&E({inst:S})},[g,_,b]),i(function(){return d(S)&&E({inst:S}),g(function(){d(S)&&E({inst:S})})},[g]),l(_),_}function d(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Kx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Kx}var pO;function XH(){return pO||(pO=1,Hx.exports=WH()),Hx.exports}var gO;function QH(){if(gO)return Fx;gO=1;var t=Hu(),e=XH();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Fx.useSyncExternalStoreWithSelector=function(h,p,g,b,_){var A=s(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=u(function(){function O(z){if(!M){if(M=!0,R=z,z=b(z),_!==void 0&&S.hasValue){var N=S.value;if(_(N,z))return $=N}return $=z}if(N=$,r(R,z))return N;var j=b(z);return _!==void 0&&_(N,j)?(R=z,N):(R=z,$=j)}var M=!1,R,$,k=g===void 0?null:g;return[function(){return O(p())},k===null?void 0:function(){return O(k())}]},[p,g,b,_]);var E=i(h,A[0],A[1]);return l(function(){S.hasValue=!0,S.value=E},[E]),d(E),E},Fx}var vO;function ZH(){return vO||(vO=1,qx.exports=QH()),qx.exports}var JH=ZH(),TS=w.createContext(null),eK=t=>t,Ut=()=>{var t=w.useContext(TS);return t?t.store.dispatch:eK},Jp=()=>{},tK=()=>Jp,nK=(t,e)=>t===e;function Pe(t){var e=w.useContext(TS);return JH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:tK,e?e.store.getState:Jp,e?e.store.getState:Jp,e?t:Jp,nK)}function rK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function iK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function aK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var yO=t=>Array.isArray(t)?t:[t];function sK(t){const e=Array.isArray(t[0])?t[0]:t;return aK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function oK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var lK=class{constructor(t){this.value=t}deref(){return this.value}},cK=typeof WeakRef<"u"?WeakRef:lK,uK=0,bO=1;function Tp(){return{s:uK,v:void 0,o:null,p:null}}function j4(t,e={}){let n=Tp();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const S=A.get(_);S===void 0?(u=Tp(),A.set(_,u)):u=S}else{let A=u.p;A===null&&(u.p=A=new Map);const S=A.get(_);S===void 0?(u=Tp(),A.set(_,u)):u=S}}const h=u;let p;if(u.s===bO)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new cK(p):p}return h.s=bO,h.v=p,p}return l.clearCache=()=>{n=Tp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function dK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),rK(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:_=j4,argsMemoizeOptions:A=[]}=p,S=yO(b),E=yO(A),O=sK(i),M=g(function(){return s++,h.apply(null,arguments)},...S),R=_(function(){l++;const k=oK(O,arguments);return u=M.apply(null,k),u},...E);return Object.assign(R,{resultFunc:h,memoizedResultFunc:M,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ee=dK(j4),fK=Object.assign((t,e=ee)=>{iK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>fK}),Gx={},Yx={},Wx={},xO;function hK(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(Wx)),Wx}var Xx={},Qx={},_O;function C4(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Qx)),Qx}var wO;function mK(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Xx)),Xx}var SO;function pK(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hK(),n=mK(),r=_S();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const h=(_,A)=>{let S=_;for(let E=0;E<A.length&&S!=null;++E)S=S[A[E]];return S},p=(_,A)=>A==null||_==null?A:typeof _=="object"&&"key"in _?Object.hasOwn(A,_.key)?A[_.key]:h(A,_.path):typeof _=="function"?_(A):Array.isArray(_)?h(A,_):typeof A=="object"?A[_]:A,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(A=>p(A,_))})).slice().sort((_,A)=>{for(let S=0;S<g.length;S++){const E=e.compareValues(_.criteria[S],A.criteria[S],u[S]);if(E!==0)return E}return 0}).map(_=>_.original)}t.orderBy=i})(Yx)),Yx}var Zx={},EO;function gK(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Zx)),Zx}var Jx={},AO;function O4(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T4(),n=AS(),r=b4(),i=_4();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=s})(Jx)),Jx}var TO;function vK(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pK(),n=gK(),r=O4();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Gx)),Gx}var e1,NO;function yK(){return NO||(NO=1,e1=vK().sortBy),e1}var bK=yK();const Wv=zs(bK);var I4=t=>t.legend.settings,xK=t=>t.legend.size,_K=t=>t.legend.payload,wK=ee([_K,I4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Wv(r,n):r});function SK(){return Pe(wK)}var Np=1;function P4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Np||Math.abs(l.left-e.left)>Np||Math.abs(l.top-e.top)>Np||Math.abs(l.width-e.width)>Np)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ir(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var EK=typeof Symbol=="function"&&Symbol.observable||"@@observable",jO=EK,t1=()=>Math.random().toString(36).substring(7).split("").join("."),AK={INIT:`@@redux/INIT${t1()}`,REPLACE:`@@redux/REPLACE${t1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${t1()}`},Rg=AK;function NS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function R4(t,e,n){if(typeof t!="function")throw new Error(ir(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ir(1));return n(R4)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((E,O)=>{l.set(O,E)}))}function p(){if(d)throw new Error(ir(3));return i}function g(E){if(typeof E!="function")throw new Error(ir(4));if(d)throw new Error(ir(5));let O=!0;h();const M=u++;return l.set(M,E),function(){if(O){if(d)throw new Error(ir(6));O=!1,h(),l.delete(M),s=null}}}function b(E){if(!NS(E))throw new Error(ir(7));if(typeof E.type>"u")throw new Error(ir(8));if(typeof E.type!="string")throw new Error(ir(17));if(d)throw new Error(ir(9));try{d=!0,i=r(i,E)}finally{d=!1}return(s=l).forEach(M=>{M()}),E}function _(E){if(typeof E!="function")throw new Error(ir(10));r=E,b({type:Rg.REPLACE})}function A(){const E=g;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ir(11));function M(){const $=O;$.next&&$.next(p())}return M(),{unsubscribe:E(M)}},[jO](){return this}}}return b({type:Rg.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:_,[jO]:A}}function TK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Rg.INIT})>"u")throw new Error(ir(12));if(typeof n(void 0,{type:Rg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function k4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{TK(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],_=l[g],A=b(_,u);if(typeof A>"u")throw u&&u.type,new Error(ir(14));h[g]=A,d=d||A!==_}return d=d||r.length!==Object.keys(l).length,d?h:l}}function kg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function NK(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ir(15))};const l={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},u=t.map(d=>d(l));return s=kg(...u)(i.dispatch),{...i,dispatch:s}}}function D4(t){return NS(t)&&"type"in t&&typeof t.type=="string"}var M4=Symbol.for("immer-nothing"),CO=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function Xi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var di=Object,Du=di.getPrototypeOf,Dg="constructor",Xv="prototype",x_="configurable",Mg="enumerable",eg="writable",Hf="value",Ps=t=>!!t&&!!t[Rr];function na(t){return t?L4(t)||Zv(t)||!!t[CO]||!!t[Dg]?.[CO]||Jv(t)||ey(t):!1}var jK=di[Xv][Dg].toString(),OO=new WeakMap;function L4(t){if(!t||!jS(t))return!1;const e=Du(t);if(e===null||e===di[Xv])return!0;const n=di.hasOwnProperty.call(e,Dg)&&e[Dg];if(n===Object)return!0;if(!mu(n))return!1;let r=OO.get(n);return r===void 0&&(r=Function.toString.call(n),OO.set(n,r)),r===jK}function Qv(t,e,n=!0){jh(t)===0?(n?Reflect.ownKeys(t):di.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function jh(t){const e=t[Rr];return e?e.type_:Zv(t)?1:Jv(t)?2:ey(t)?3:0}var IO=(t,e,n=jh(t))=>n===2?t.has(e):di[Xv].hasOwnProperty.call(t,e),__=(t,e,n=jh(t))=>n===2?t.get(e):t[e],Lg=(t,e,n,r=jh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function CK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Zv=Array.isArray,Jv=t=>t instanceof Map,ey=t=>t instanceof Set,jS=t=>typeof t=="object",mu=t=>typeof t=="function",n1=t=>typeof t=="boolean";function OK(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var hs=t=>t.copy_||t.base_,CS=t=>t.modified_?t.copy_:t.base_;function w_(t,e){if(Jv(t))return new Map(t);if(ey(t))return new Set(t);if(Zv(t))return Array[Xv].slice.call(t);const n=L4(t);if(e===!0||e==="class_only"&&!n){const r=di.getOwnPropertyDescriptors(t);delete r[Rr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[eg]===!1&&(u[eg]=!0,u[x_]=!0),(u.get||u.set)&&(r[l]={[x_]:!0,[eg]:!0,[Mg]:u[Mg],[Hf]:t[l]})}return di.create(Du(t),r)}else{const r=Du(t);if(r!==null&&n)return{...t};const i=di.create(r);return di.assign(i,t)}}function OS(t,e=!1){return ty(t)||Ps(t)||!na(t)||(jh(t)>1&&di.defineProperties(t,{set:jp,add:jp,clear:jp,delete:jp}),di.freeze(t),e&&Qv(t,(n,r)=>{OS(r,!0)},!1)),t}function IK(){Xi(2)}var jp={[Hf]:IK};function ty(t){return t===null||!jS(t)?!0:di.isFrozen(t)}var zg="MapSet",S_="Patches",PO="ArrayMethods",z4={};function oc(t){const e=z4[t];return e||Xi(0,t),e}var RO=t=>!!z4[t],Kf,V4=()=>Kf,PK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RO(zg)?oc(zg):void 0,arrayMethodsPlugin_:RO(PO)?oc(PO):void 0});function kO(t,e){e&&(t.patchPlugin_=oc(S_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function E_(t){A_(t),t.drafts_.forEach(RK),t.drafts_=null}function A_(t){t===Kf&&(Kf=t.parent_)}var DO=t=>Kf=PK(Kf,t);function RK(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function MO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rr].modified_&&(E_(e),Xi(4)),na(t)&&(t=LO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Rr].base_,t,e)}else t=LO(e,n);return kK(e,t,!0),E_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==M4?t:void 0}function LO(t,e){if(ty(e))return e;const n=e[Rr];if(!n)return Vg(e,t.handledSet_,t);if(!ny(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);$4(n,t)}return n.copy_}function kK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&OS(e,n)}function U4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var ny=(t,e)=>t.scope_===e,DK=[];function B4(t,e,n,r){const i=hs(t),s=t.type_;if(r!==void 0&&__(i,r,s)===e){Lg(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Qv(i,(d,h)=>{if(Ps(h)){const p=u.get(h)||[];p.push(d),u.set(h,p)}})}const l=t.draftLocations_.get(e)??DK;for(const u of l)Lg(i,u,n,s)}function MK(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!ny(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=CS(s);B4(t,s.draft_??s,l,n),$4(s,i)})}function $4(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}U4(t)}}function LK(t,e,n){const{scope_:r}=t;if(Ps(n)){const i=n[Rr];ny(i,r)&&i.callbacks_.push(function(){tg(t);const l=CS(i);B4(t,n,l,e)})}else na(n)&&t.callbacks_.push(function(){const s=hs(t);t.type_===3?s.has(n)&&Vg(n,r.handledSet_,r):__(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Vg(__(t.copy_,e,t.type_),r.handledSet_,r)})}function Vg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ps(t)||e.has(t)||!na(t)||ty(t)||(e.add(t),Qv(t,(r,i)=>{if(Ps(i)){const s=i[Rr];if(ny(s,n)){const l=CS(s);Lg(t,r,l,t.type_),U4(s)}}else na(i)&&Vg(i,e,n)})),t}function zK(t,e){const n=Zv(t),r={type_:n?1:0,scope_:e?e.scope_:V4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Ug;n&&(i=[r],s=Gf);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var Ug={get(t,e){if(e===Rr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=hs(t);if(!IO(i,e,t.type_))return VK(t,i,e);const s=i[e];if(t.finalized_||!na(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&OK(e))return s;if(s===r1(t.base_,e)){tg(t);const l=t.type_===1?+e:e,u=N_(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in hs(t)},ownKeys(t){return Reflect.ownKeys(hs(t))},set(t,e,n){const r=q4(hs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=r1(hs(t),e),s=i?.[Rr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(CK(n,i)&&(n!==void 0||IO(t.base_,e,t.type_)))return!0;tg(t),T_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),LK(t,e,n)),!0},deleteProperty(t,e){return tg(t),r1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),T_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=hs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[eg]:!0,[x_]:t.type_!==1||e!=="length",[Mg]:r[Mg],[Hf]:n[e]}},defineProperty(){Xi(11)},getPrototypeOf(t){return Du(t.base_)},setPrototypeOf(){Xi(12)}},Gf={};for(let t in Ug){let e=Ug[t];Gf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Gf.deleteProperty=function(t,e){return Gf.set.call(this,t,e,void 0)};Gf.set=function(t,e,n){return Ug.set.call(this,t[0],e,n,t[0])};function r1(t,e){const n=t[Rr];return(n?hs(n):t)[e]}function VK(t,e,n){const r=q4(e,n);return r?Hf in r?r[Hf]:r.get?.call(t.draft_):void 0}function q4(t,e){if(!(e in t))return;let n=Du(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Du(n)}}function T_(t){t.modified_||(t.modified_=!0,t.parent_&&T_(t.parent_))}function tg(t){t.copy_||(t.assigned_=new Map,t.copy_=w_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var UK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(mu(n)&&!mu(r)){const l=r;r=n;const u=this;return function(h=l,...p){return u.produce(h,g=>r.call(this,g,...p))}}mu(r)||Xi(6),i!==void 0&&!mu(i)&&Xi(7);let s;if(na(n)){const l=DO(this),u=N_(l,n,void 0);let d=!0;try{s=r(u),d=!1}finally{d?E_(l):A_(l)}return kO(l,i),MO(s,l)}else if(!n||!jS(n)){if(s=r(n),s===void 0&&(s=n),s===M4&&(s=void 0),this.autoFreeze_&&OS(s,!0),i){const l=[],u=[];oc(S_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else Xi(1,n)},this.produceWithPatches=(n,r)=>{if(mu(n))return(u,...d)=>this.produceWithPatches(u,h=>n(h,...d));let i,s;return[this.produce(n,r,(u,d)=>{i=u,s=d}),i,s]},n1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),n1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),n1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){na(e)||Xi(8),Ps(e)&&(e=ea(e));const n=DO(this),r=N_(n,e,void 0);return r[Rr].isManual_=!0,A_(n),r}finishDraft(e,n){const r=e&&e[Rr];(!r||!r.isManual_)&&Xi(9);const{scope_:i}=r;return kO(i,n),MO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=oc(S_).applyPatches_;return Ps(e)?i(e,n):this.produce(e,s=>i(s,n))}};function N_(t,e,n,r){const[i,s]=Jv(e)?oc(zg).proxyMap_(e,n):ey(e)?oc(zg).proxySet_(e,n):zK(e,n);return(n?.scope_??V4()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?MK(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=d;s.modified_&&h&&h.generatePatches_(s,[],d)}),i}function ea(t){return Ps(t)||Xi(10,t),F4(t)}function F4(t){if(!na(t)||ty(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=w_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=w_(t,!0);return Qv(n,(i,s)=>{Lg(n,i,F4(s))},r),e&&(e.finalized_=!1),n}var BK=new UK,H4=BK.produce;function K4(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var $K=K4(),qK=K4,FK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kg:kg.apply(null,arguments)};function Di(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(fi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>D4(r)&&r.type===t,n}var G4=class Ef extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ef.prototype)}static get[Symbol.species](){return Ef}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ef(...e[0].concat(this)):new Ef(...e.concat(this))}};function zO(t){return na(t)?H4(t,()=>{}):t}function Cp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function HK(t){return typeof t=="boolean"}var KK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new G4;return n&&(HK(n)?l.push($K):l.push(qK(n.extraArgument))),l},Y4="RTK_autoBatch",Wt=()=>t=>({payload:t,meta:{[Y4]:!0}}),VO=t=>e=>{setTimeout(e,t)},W4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VO(10):t.type==="callback"?t.queueNotification:VO(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[Y4],s=!i,s&&(l||(l=!0,d(h))),r.dispatch(p)}finally{i=!0}}})},GK=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new G4(t);return r&&i.push(W4(typeof r=="object"?r:void 0)),i};function YK(t){const e=KK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(NS(n))u=k4(n);else throw new Error(fi(1));let d;typeof r=="function"?d=r(e):d=e();let h=kg;i&&(h=FK({trace:!1,...typeof i=="object"&&i}));const p=NK(...d),g=GK(p);let b=typeof l=="function"?l(g):g();const _=h(...b);return R4(u,s,_)}function X4(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(fi(28));if(u in e)throw new Error(fi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function WK(t){return typeof t=="function"}function XK(t,e){let[n,r,i]=X4(e),s;if(WK(t))s=()=>zO(t());else{const u=zO(t);s=()=>u}function l(u=s(),d){let h=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Ps(p)){const _=g(p,d);return _===void 0?p:_}else{if(na(p))return H4(p,b=>g(b,d));{const b=g(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var QK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZK=(t=21)=>{let e="",n=t;for(;n--;)e+=QK[Math.random()*64|0];return e},JK=Symbol.for("rtk-slice-createasyncthunk");function eG(t,e){return`${t}/${e}`}function tG({creators:t}={}){const e=t?.asyncThunk?.[JK];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(fi(11));const l=(typeof r.reducers=="function"?r.reducers(rG()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,$){const k=typeof R=="string"?R:R.type;if(!k)throw new Error(fi(12));if(k in d.sliceCaseReducersByType)throw new Error(fi(13));return d.sliceCaseReducersByType[k]=$,h},addMatcher(R,$){return d.sliceMatchers.push({matcher:R,reducer:$}),h},exposeAction(R,$){return d.actionCreators[R]=$,h},exposeCaseReducer(R,$){return d.sliceCaseReducersByName[R]=$,h}};u.forEach(R=>{const $=l[R],k={reducerName:R,type:eG(i,R),createNotation:typeof r.reducers=="function"};aG($)?oG(k,$,h,e):iG(k,$,h)});function p(){const[R={},$=[],k=void 0]=typeof r.extraReducers=="function"?X4(r.extraReducers):[r.extraReducers],z={...R,...d.sliceCaseReducersByType};return XK(r.initialState,N=>{for(let j in z)N.addCase(j,z[j]);for(let j of d.sliceMatchers)N.addMatcher(j.matcher,j.reducer);for(let j of $)N.addMatcher(j.matcher,j.reducer);k&&N.addDefaultCase(k)})}const g=R=>R,b=new Map,_=new WeakMap;let A;function S(R,$){return A||(A=p()),A(R,$)}function E(){return A||(A=p()),A.getInitialState()}function O(R,$=!1){function k(N){let j=N[R];return typeof j>"u"&&$&&(j=Cp(_,k,E)),j}function z(N=g){const j=Cp(b,$,()=>new WeakMap);return Cp(j,N,()=>{const I={};for(const[L,D]of Object.entries(r.selectors??{}))I[L]=nG(D,N,()=>Cp(_,N,E),$);return I})}return{reducerPath:R,getSelectors:z,get selectors(){return z(k)},selectSlice:k}}const M={name:i,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...O(s),injectInto(R,{reducerPath:$,...k}={}){const z=$??s;return R.inject({reducerPath:z,reducer:S},k),{...M,...O(z,!0)}}};return M}}function nG(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var Yr=tG();function rG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function iG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!sG(r))throw new Error(fi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Di(t,l):Di(t))}function aG(t){return t._reducerDefinitionType==="asyncThunk"}function sG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function oG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(fi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Op,pending:u||Op,rejected:d||Op,settled:h||Op})}function Op(){}var lG="task",Q4="listener",Z4="completed",IS="cancelled",cG=`task-${IS}`,uG=`task-${Z4}`,j_=`${Q4}-${IS}`,dG=`${Q4}-${Z4}`,ry=class{constructor(t){this.code=t,this.message=`${lG} ${IS} (reason: ${t})`}name="TaskAbortError";message},PS=(t,e)=>{if(typeof t!="function")throw new TypeError(fi(32))},Bg=()=>{},J4=(t,e=Bg)=>(t.catch(e),t),e3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Yl=t=>{if(t.aborted)throw new ry(t.reason)};function t3(t,e){let n=Bg;return new Promise((r,i)=>{const s=()=>i(new ry(t.reason));if(t.aborted){s();return}n=e3(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Bg})}var fG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof ry?"cancelled":"rejected",error:n}}finally{e?.()}},$g=t=>e=>J4(t3(t,e).then(n=>(Yl(t),n))),n3=t=>{const e=$g(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Su}=Object,UO={},iy="listenerMiddleware",hG=(t,e)=>{const n=r=>e3(t,()=>r.abort(t.reason));return(r,i)=>{PS(r);const s=new AbortController;n(s);const l=fG(async()=>{Yl(t),Yl(s.signal);const u=await r({pause:$g(s.signal),delay:n3(s.signal),signal:s.signal});return Yl(s.signal),u},()=>s.abort(uG));return i?.autoJoin&&e.push(l.catch(Bg)),{result:$g(t)(l),cancel(){s.abort(cG)}}}},mG=(t,e)=>{const n=async(r,i)=>{Yl(e);let s=()=>{};const u=[new Promise((d,h)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await t3(e,Promise.race(u));return Yl(e),d}finally{s()}};return(r,i)=>J4(n(r,i))},r3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Di(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fi(21));return PS(s),{predicate:i,type:e,effect:s}},i3=Su(t=>{const{type:e,predicate:n,effect:r}=r3(t);return{id:ZK(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fi(22))}}},{withTypes:()=>i3}),BO=(t,e)=>{const{type:n,effect:r,predicate:i}=r3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},C_=t=>{t.pending.forEach(e=>{e.abort(j_)})},pG=(t,e)=>()=>{for(const n of e.keys())C_(n);t.clear()},$O=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},a3=Su(Di(`${iy}/add`),{withTypes:()=>a3}),gG=Di(`${iy}/removeAll`),s3=Su(Di(`${iy}/remove`),{withTypes:()=>s3}),vG=(...t)=>{console.error(`${iy}/error`,...t)},Ch=(t={})=>{const e=new Map,n=new Map,r=_=>{const A=n.get(_)??0;n.set(_,A+1)},i=_=>{const A=n.get(_)??1;A===1?n.delete(_):n.set(_,A-1)},{extra:s,onError:l=vG}=t;PS(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),A=>{_.unsubscribe(),A?.cancelActive&&C_(_)}),d=_=>{const A=BO(e,_)??i3(_);return u(A)};Su(d,{withTypes:()=>d});const h=_=>{const A=BO(e,_);return A&&(A.unsubscribe(),_.cancelActive&&C_(A)),!!A};Su(h,{withTypes:()=>h});const p=async(_,A,S,E)=>{const O=new AbortController,M=mG(d,O.signal),R=[];try{_.pending.add(O),r(_),await Promise.resolve(_.effect(A,Su({},S,{getOriginalState:E,condition:($,k)=>M($,k).then(Boolean),take:M,delay:n3(O.signal),pause:$g(O.signal),extra:s,signal:O.signal,fork:hG(O.signal,R),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach(($,k,z)=>{$!==O&&($.abort(j_),z.delete($))})},cancel:()=>{O.abort(j_),_.pending.delete(O)},throwIfCancelled:()=>{Yl(O.signal)}})))}catch($){$ instanceof ry||$O(l,$,{raisedBy:"effect"})}finally{await Promise.all(R),O.abort(dG),i(_),_.pending.delete(O)}},g=pG(e,n);return{middleware:_=>A=>S=>{if(!D4(S))return A(S);if(a3.match(S))return d(S.payload);if(gG.match(S)){g();return}if(s3.match(S))return h(S.payload);let E=_.getState();const O=()=>{if(E===UO)throw new Error(fi(23));return E};let M;try{if(M=A(S),e.size>0){const R=_.getState(),$=Array.from(e.values());for(const k of $){let z=!1;try{z=k.predicate(S,R,E)}catch(N){z=!1,$O(l,N,{raisedBy:"predicate"})}z&&p(k,S,_,O)}}}finally{E=UO}return M},startListening:d,stopListening:h,clearListeners:g}};function fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},o3=Yr({name:"chartLayout",initialState:yG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:bG,setLayout:xG,setChartSize:_G,setScale:wG}=o3.actions,SG=o3.reducer;function l3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Mt(t){return Number.isFinite(t)}function La(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){EG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EG(t,e,n){return(e=AG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AG(t){var e=TG(t,"string");return typeof e=="symbol"?e:e+""}function TG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yt(t,e,n){return Kt(t)||Kt(e)?n:Ma(e)?sc(t,e,n):typeof e=="function"?e(t):n}var NG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ne(t[s]))return gu(gu({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ne(t[l]))return gu(gu({},t),{},{[l]:t[l]+(i||0)})}return t},Ba=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",c3=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},u3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:b,axisType:_}=t;if(!l)return null;var A=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(S=_==="angleAxis"&&s&&s.length>=2?Wn(s[0]-s[1])*2*S:S,g||b){var E=(g||b||[]).map((O,M)=>{var R=r?r.indexOf(O):O;return{coordinate:l(R)+S,value:O,offset:S,index:M}});return E.filter(O=>!ki(O.coordinate))}return d&&h?h.map((O,M)=>({coordinate:l(O)+S,value:O,index:M,offset:S})):l.ticks&&p!=null?l.ticks(p).map((O,M)=>({coordinate:l(O)+S,value:O,offset:S,index:M})):l.domain().map((O,M)=>({coordinate:l(O)+S,value:r?r[O]:O,index:M,offset:S}))},FO=1e-4,jG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-FO,s=Math.max(r[0],r[1])+FO,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},CG=(t,e)=>{if(!e||e.length!==2||!Ne(e[0])||!Ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},OG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var d=t[u],h=d?.[i];if(h!=null){var p=h[1],g=h[0],b=ki(p)?g:p;b>=0?(h[0]=s,h[1]=s+b,s=p):(h[0]=l,h[1]=l+b,l=p)}}}},IG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],d=u?.[i];if(d!=null){var h=ki(d[1])?d[0]:d[1];h>=0?(d[0]=s,d[1]=s+h,s=d[1]):(d[0]=0,d[1]=0)}}}},PG={sign:OG,expand:QF,none:ac,silhouette:ZF,wiggle:JF,positive:IG},RG=(t,e,n)=>{var r,i=(r=PG[n])!==null&&r!==void 0?r:ac,s=XF().keys(e).value((u,d)=>Number(yt(u,d,0))).order(y_).offset(i),l=s(t);return l.forEach((u,d)=>{u.forEach((h,p)=>{var g=yt(t[p],e[d],0);Array.isArray(g)&&g.length===2&&Ne(g[0])&&Ne(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function d3(t){return t==null?void 0:String(t)}function qg(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Kt(i[e.dataKey])){var u=p4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=yt(i,Kt(l)?e.dataKey:l);return Kt(d)?null:e.scale(d)}var HO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=yt(s,e.dataKey,e.scale.domain()[l]);return Kt(u)?null:e.scale(u)-i/2+r},kG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},DG=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},MG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],LG=(t,e,n)=>{if(t!=null)return MG(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((d,h)=>{var p=l3(h,e,n),g=DG(p);return!Mt(g[0])||!Mt(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},KO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jo=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Wv(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];s=Math.min((d?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function YO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return gu(gu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function al(t,e){if(t)return String(t);if(typeof e=="string")return e}var zG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},VG=(t,e)=>e==="centric"?t.angle:t.radius,Bs=t=>t.layout.width,$s=t=>t.layout.height,UG=t=>t.layout.scale,f3=t=>t.layout.margin,ay=ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),sy=ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),h3="data-recharts-item-index",m3="data-recharts-item-id",Oh=60;function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){BG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BG(t,e,n){return(e=$G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $G(t){var e=qG(t,"string");return typeof e=="symbol"?e:e+""}function qG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FG=t=>t.brush.height;function HG(t){var e=sy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Oh;return n+i}return n},0)}function KG(t){var e=sy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Oh;return n+i}return n},0)}function GG(t){var e=ay(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function YG(t){var e=ay(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ln=ee([Bs,$s,f3,FG,HG,KG,GG,YG,I4,xK],(t,e,n,r,i,s,l,u,d,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Ip(Ip({},g),p),_=b.bottom;b.bottom+=r,b=NG(b,d,h);var A=t-b.left-b.right,S=e-b.top-b.bottom;return Ip(Ip({brushBottom:_},b),{},{width:Math.max(A,0),height:Math.max(S,0)})}),WG=ee(Ln,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),RS=ee(Bs,$s,(t,e)=>({x:0,y:0,width:t,height:e})),XG=w.createContext(null),Xn=()=>w.useContext(XG)!=null,oy=t=>t.brush,ly=ee([oy,Ln,f3],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ne(t.width)?t.width:e.width})),i1={},a1={},s1={},XO;function QG(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),S()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},A=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{A(),l=void 0,u=null},E=()=>{p()},O=function(...M){if(i?.aborted)return;l=this,u=M;const R=b==null;_(),d&&R&&p()};return O.schedule=_,O.cancel=S,O.flush=E,i?.addEventListener("abort",S,{once:!0}),O}t.debounce=e})(s1)),s1}var QO;function ZG(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QG();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const b=e.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:h}),_=function(...S){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,S),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,S),p)},A=()=>(b.flush(),p);return _.cancel=b.cancel,_.flush=A,_}t.debounce=n})(a1)),a1}var ZO;function JG(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZG();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(i1)),i1}var o1,JO;function eY(){return JO||(JO=1,o1=JG().throttle),o1}var tY=eY();const nY=zs(tY);var Fg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},p3=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Is(r)?t:Number(r),d=Is(i)?e:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},rY={width:0,height:0,overflow:"visible"},iY={width:0,overflowX:"visible"},aY={height:0,overflowY:"visible"},sY={},oY=t=>{var{width:e,height:n}=t,r=Is(e),i=Is(n);return r&&i?rY:r?iY:i?aY:sY};function lY(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(null,arguments)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){cY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cY(t,e,n){return(e=uY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uY(t){var e=dY(t,"string");return typeof e=="symbol"?e:e+""}function dY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g3=w.createContext({width:-1,height:-1});function fY(t){return La(t.width)&&La(t.height)}function v3(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return fY(i)?w.createElement(g3.Provider,{value:i},e):null}var kS=()=>w.useContext(g3),hY=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:g,className:b,onResize:_,style:A={}}=t,S=w.useRef(null),E=w.useRef();E.current=_,w.useImperativeHandle(e,()=>S.current);var[O,M]=w.useState({containerWidth:r.width,containerHeight:r.height}),R=w.useCallback((j,I)=>{M(L=>{var D=Math.round(j),B=Math.round(I);return L.containerWidth===D&&L.containerHeight===B?L:{containerWidth:D,containerHeight:B}})},[]);w.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Th;var j=B=>{var V,{width:ue,height:be}=B[0].contentRect;R(ue,be),(V=E.current)===null||V===void 0||V.call(E,ue,be)};p>0&&(j=nY(j,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(j),{width:L,height:D}=S.current.getBoundingClientRect();return R(L,D),I.observe(S.current),()=>{I.disconnect()}},[R,p]);var{containerWidth:$,containerHeight:k}=O;Fg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:N}=p3($,k,{width:i,height:s,aspect:n,maxHeight:d});return Fg(z!=null&&z>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,N,i,s,l,u,n),w.createElement("div",{id:g?"".concat(g):void 0,className:dt("recharts-responsive-container",b),style:tI(tI({},A),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:S},w.createElement("div",{style:oY({width:i,height:s})},w.createElement(v3,{width:z,height:N},h)))}),cy=w.forwardRef((t,e)=>{var n=kS();if(La(n.width)&&La(n.height))return t.children;var{width:r,height:i}=lY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=p3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ne(s)&&Ne(l)?w.createElement(v3,{width:s,height:l},t.children):w.createElement(hY,O_({},t,{width:r,height:i,ref:e}))});function y3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var uy=()=>{var t,e=Xn(),n=Pe(WG),r=Pe(ly),i=(t=Pe(oy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},mY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},b3=()=>{var t;return(t=Pe(Ln))!==null&&t!==void 0?t:mY},DS=()=>Pe(Bs),MS=()=>Pe($s),pY=()=>Pe(t=>t.layout.margin),nt=t=>t.layout.layoutType,sl=()=>Pe(nt),gY=()=>{var t=sl();if(t==="horizontal"||t==="vertical")return t},vY=()=>{var t=sl();return t!==void 0},dy=t=>{var e=Ut(),n=Xn(),{width:r,height:i}=t,s=kS(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),w.useEffect(()=>{!n&&La(l)&&La(u)&&e(_G({width:l,height:u}))},[e,n,l,u]),null},x3=Symbol.for("immer-nothing"),nI=Symbol.for("immer-draftable"),hi=Symbol.for("immer-state");function Qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Yf=Object.getPrototypeOf;function Mu(t){return!!t&&!!t[hi]}function lc(t){return t?_3(t)||Array.isArray(t)||!!t[nI]||!!t.constructor?.[nI]||Ih(t)||hy(t):!1}var yY=Object.prototype.constructor.toString(),rI=new WeakMap;function _3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rI.get(n);return r===void 0&&(r=Function.toString.call(n),rI.set(n,r)),r===yY}function Hg(t,e,n=!0){fy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function fy(t){const e=t[hi];return e?e.type_:Array.isArray(t)?1:Ih(t)?2:hy(t)?3:0}function I_(t,e){return fy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function w3(t,e,n){const r=fy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function bY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ih(t){return t instanceof Map}function hy(t){return t instanceof Set}function zl(t){return t.copy_||t.base_}function P_(t,e){if(Ih(t))return new Map(t);if(hy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=_3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[hi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Yf(t),r)}else{const r=Yf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function LS(t,e=!1){return my(t)||Mu(t)||!lc(t)||(fy(t)>1&&Object.defineProperties(t,{set:Pp,add:Pp,clear:Pp,delete:Pp}),Object.freeze(t),e&&Object.values(t).forEach(n=>LS(n,!0))),t}function xY(){Qi(2)}var Pp={value:xY};function my(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var _Y={};function cc(t){const e=_Y[t];return e||Qi(0,t),e}var Wf;function S3(){return Wf}function wY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iI(t,e){e&&(cc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function R_(t){k_(t),t.drafts_.forEach(SY),t.drafts_=null}function k_(t){t===Wf&&(Wf=t.parent_)}function aI(t){return Wf=wY(Wf,t)}function SY(t){const e=t[hi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[hi].modified_&&(R_(e),Qi(4)),lc(t)&&(t=Kg(e,t),e.parent_||Gg(e,t)),e.patches_&&cc("Patches").generateReplacementPatches_(n[hi].base_,t,e.patches_,e.inversePatches_)):t=Kg(e,n,[]),R_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==x3?t:void 0}function Kg(t,e,n){if(my(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[hi];if(!i)return Hg(e,(s,l)=>oI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Gg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Hg(l,(d,h)=>oI(t,i,s,d,h,n,u),r),Gg(t,s,!1),n&&t.patches_&&cc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function oI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=my(i);if(!(u&&!l)){if(Mu(i)){const d=s&&e&&e.type_!==3&&!I_(e.assigned_,r)?s.concat(r):void 0,h=Kg(t,i,d);if(w3(n,r,h),Mu(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(lc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Kg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ih(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Gg(t,i)}}}function Gg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&LS(e,n)}function EY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:S3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=zS;n&&(i=[r],s=Xf);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var zS={get(t,e){if(e===hi)return t;const n=zl(t);if(!I_(n,e))return AY(t,n,e);const r=n[e];return t.finalized_||!lc(r)?r:r===l1(t.base_,e)?(c1(t),t.copy_[e]=M_(r,t)):r},has(t,e){return e in zl(t)},ownKeys(t){return Reflect.ownKeys(zl(t))},set(t,e,n){const r=E3(zl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=l1(zl(t),e),s=i?.[hi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(bY(n,i)&&(n!==void 0||I_(t.base_,e)))return!0;c1(t),D_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return l1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,c1(t),D_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Qi(11)},getPrototypeOf(t){return Yf(t.base_)},setPrototypeOf(){Qi(12)}},Xf={};Hg(zS,(t,e)=>{Xf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xf.deleteProperty=function(t,e){return Xf.set.call(this,t,e,void 0)};Xf.set=function(t,e,n){return zS.set.call(this,t[0],e,n,t[0])};function l1(t,e){const n=t[hi];return(n?zl(n):t)[e]}function AY(t,e,n){const r=E3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function E3(t,e){if(!(e in t))return;let n=Yf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Yf(n)}}function D_(t){t.modified_||(t.modified_=!0,t.parent_&&D_(t.parent_))}function c1(t){t.copy_||(t.copy_=P_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var TY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...h){return l.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&Qi(6),r!==void 0&&typeof r!="function"&&Qi(7);let i;if(lc(e)){const s=aI(this),l=M_(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?R_(s):k_(s)}return iI(s,r),sI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===x3&&(i=void 0),this.autoFreeze_&&LS(i,!0),r){const s=[],l=[];cc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else Qi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){lc(t)||Qi(8),Mu(t)&&(t=NY(t));const e=aI(this),n=M_(t,void 0);return n[hi].isManual_=!0,k_(e),n}finishDraft(t,e){const n=t&&t[hi];(!n||!n.isManual_)&&Qi(9);const{scope_:r}=n;return iI(r,e),sI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=cc("Patches").applyPatches_;return Mu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function M_(t,e){const n=Ih(t)?cc("MapSet").proxyMap_(t,e):hy(t)?cc("MapSet").proxySet_(t,e):EY(t,e);return(e?e.scope_:S3()).drafts_.push(n),n}function NY(t){return Mu(t)||Qi(10,t),A3(t)}function A3(t){if(!lc(t)||my(t))return t;const e=t[hi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=P_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=P_(t,!0);return Hg(n,(i,s)=>{w3(n,i,A3(s))},r),e&&(e.finalized_=!1),n}var jY=new TY;jY.produce;var CY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T3=Yr({name:"legend",initialState:CY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Wt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ea(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Wt()},removeLegendPayload:{reducer(t,e){var n=ea(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Wt()}}}),{setLegendSize:lI,setLegendSettings:OY,addLegendPayload:N3,replaceLegendPayload:j3,removeLegendPayload:C3}=T3.actions,IY=T3.reducer,PY=["contextPayload"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(null,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){RY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e,n){return(e=kY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t){var e=DY(t,"string");return typeof e=="symbol"?e:e+""}function DY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MY(t,e){if(t==null)return{};var n,r,i=LY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zY(t){return t.value}function VY(t){var{contextPayload:e}=t,n=MY(t,PY),r=N4(e,t.payloadUniqBy,zY),i=Lu(Lu({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(CH,i)}function UY(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:d}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-s.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Lu(Lu({},h),p)}function BY(t){var e=Ut();return w.useEffect(()=>{e(OY(t))},[e,t]),null}function $Y(t){var e=Ut();return w.useEffect(()=>(e(lI(t)),()=>{e(lI({width:0,height:0}))}),[e,t]),null}function qY(t,e,n,r){return t==="vertical"&&Ne(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var FY={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function py(t){var e=cn(t,FY),n=SK(),r=xF(),i=pY(),{width:s,height:l,wrapperStyle:u,portal:d}=e,[h,p]=P4([n]),g=DS(),b=MS();if(g==null||b==null)return null;var _=g-(i?.left||0)-(i?.right||0),A=qY(e.layout,l,s,_),S=d?u:Lu(Lu({position:"absolute",width:A?.width||s||"auto",height:A?.height||l||"auto"},UY(u,e,i,g,b,h)),u),E=d??r;if(E==null||n==null)return null;var O=w.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},w.createElement(BY,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&w.createElement($Y,{width:h.width,height:h.height}),w.createElement(VY,L_({},e,A,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return gS.createPortal(O,E)}py.displayName="Legend";function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(null,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){HY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HY(t,e,n){return(e=KY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KY(t){var e=GY(t,"string");return typeof e=="symbol"?e:e+""}function GY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YY(t){return Array.isArray(t)&&Ma(t[0])&&Ma(t[1])?t.join(" ~ "):t}var WY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var k={padding:0,margin:0},z=(u?Wv(s,u):s).map((N,j)=>{if(N.type==="none")return null;var I=N.formatter||l||YY,{value:L,name:D}=N,B=L,V=D;if(I){var ue=I(L,D,N,j,s);if(Array.isArray(ue))[B,V]=ue;else if(ue!=null)B=ue;else return null}var be=u1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:be},Ma(V)?w.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Ma(V)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},B),w.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:k},z)}return null},A=u1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=u1({margin:0},i),E=!Kt(p),O=E?p:"",M=dt("recharts-default-tooltip",d),R=dt("recharts-tooltip-label",h);E&&g&&s!==void 0&&s!==null&&(O=g(p,s));var $=b?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",z_({className:M,style:A},$),w.createElement("p",{className:R,style:S},w.isValidElement(O)?O:"".concat(O)),_())},ff="recharts-tooltip-wrapper",XY={visibility:"hidden"};function QY(t){var{coordinate:e,translateX:n,translateY:r}=t;return dt(ff,{["".concat(ff,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(ff,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(ff,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(ff,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function dI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=t;if(s&&Ne(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=d[r];if(b==null)return 0;if(l[r]){var _=p,A=b;return _<A?Math.max(g,b):Math.max(p,b)}if(h==null)return 0;var S=g+u,E=b+h;return S>E?Math.max(p,b):Math.max(g,b)}function ZY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function JY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=dI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=dI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=ZY({translateX:p,translateY:g,useTranslate3d:u})):h=XY,{cssProperties:h,cssClasses:QY({translateX:p,translateY:g,coordinate:n})}}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){V_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V_(t,e,n){return(e=eW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){var e=tW(t,"string");return typeof e=="symbol"?e:e+""}function tW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nW extends w.PureComponent{constructor(){super(...arguments),V_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),V_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:g,useTranslate3d:b,viewBox:_,wrapperStyle:A,lastBoundingBox:S,innerRef:E,hasPortalFromProps:O}=this.props,{cssClasses:M,cssProperties:R}=JY({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:_}),$=O?{}:Rp(Rp({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=Rp(Rp({},$),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:k,ref:E},s)}}var O3=()=>{var t;return(t=Pe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(null,arguments)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){rW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rW(t,e,n){return(e=iW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iW(t){var e=aW(t,"string");return typeof e=="symbol"?e:e+""}function aW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pI={curveBasisClosed:VF,curveBasisOpen:UF,curveBasis:zF,curveBumpX:EF,curveBumpY:AF,curveLinearClosed:BF,curveLinear:Gv,curveMonotoneX:$F,curveMonotoneY:qF,curveNatural:FF,curveStep:HF,curveStepAfter:GF,curveStepBefore:KF},Yg=t=>Mt(t.x)&&Mt(t.y),gI=t=>t.base!=null&&Yg(t.base)&&Yg(t),hf=t=>t.x,mf=t=>t.y,sW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Ah(t));return(n==="curveMonotone"||n==="curveBump")&&e?pI["".concat(n).concat(e==="vertical"?"Y":"X")]:pI[n]||Gv},oW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=sW(e,i),u=s?n.filter(Yg):n,d;if(Array.isArray(r)){var h=n.map((_,A)=>mI(mI({},_),{},{base:r[A]}));i==="vertical"?d=Ap().y(mf).x1(hf).x0(_=>_.base.x):d=Ap().x(hf).y1(mf).y0(_=>_.base.y);var p=d.defined(gI).curve(l),g=s?h.filter(gI):h;return p(g)}i==="vertical"&&Ne(r)?d=Ap().y(mf).x1(hf).x0(r):Ne(r)?d=Ap().x(hf).y1(mf).y0(r):d=n4().x(hf).y(mf);var b=d.defined(Yg).curve(l);return b(u)},Eu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=sl();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?oW(l):r;return w.createElement("path",U_({},Pr(t),ES(t),{className:dt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},lW=["x","y","top","left","width","height","className"];function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(null,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){uW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uW(t,e,n){return(e=dW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=fW(t,"string");return typeof e=="symbol"?e:e+""}function fW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hW(t,e){if(t==null)return{};var n,r,i=mW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pW=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),gW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,d=hW(t,lW),h=cW({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Ne(e)||!Ne(n)||!Ne(s)||!Ne(l)||!Ne(r)||!Ne(i)?null:w.createElement("path",B_({},xr(h),{className:dt("recharts-cross",u),d:pW(e,n,s,l,r,i)}))};function vW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){yW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yW(t,e,n){return(e=bW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bW(t){var e=xW(t,"string");return typeof e=="symbol"?e:e+""}function xW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _W=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),I3=(t,e,n)=>t.map(r=>"".concat(_W(r)," ").concat(e,"ms ").concat(n)).join(","),wW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Qf=(t,e)=>Object.keys(e).reduce((n,r)=>bI(bI({},n),{},{[r]:t(r,e[r])}),{});function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){SW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SW(t,e,n){return(e=EW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EW(t){var e=AW(t,"string");return typeof e=="symbol"?e:e+""}function AW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wg=(t,e,n)=>t+(e-t)*n,$_=t=>{var{from:e,to:n}=t;return e!==n},P3=(t,e,n)=>{var r=Qf((i,s)=>{if($_(s)){var[l,u]=t(s.from,s.to,s.velocity);return kn(kn({},s),{},{from:l,velocity:u})}return s},e);return n<1?Qf((i,s)=>$_(s)&&r[i]!=null?kn(kn({},s),{},{velocity:Wg(s.velocity,r[i].velocity,n),from:Wg(s.from,r[i].from,n)}):s,e):P3(t,r,n-1)};function TW(t,e,n,r,i,s){var l,u=r.reduce((b,_)=>kn(kn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>Qf((b,_)=>_.from,u),h=()=>!Object.values(u).filter($_).length,p=null,g=b=>{l||(l=b);var _=b-l,A=_/n.dt;u=P3(n,u,A),i(kn(kn(kn({},t),e),d())),l=b,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function NW(t,e,n,r,i,s,l){var u=null,d=i.reduce((g,b)=>{var _=t[b],A=e[b];return _==null||A==null?g:kn(kn({},g),{},{[b]:[_,A]})},{}),h,p=g=>{h||(h=g);var b=(g-h)/r,_=Qf((S,E)=>Wg(...E,n(b)),d);if(s(kn(kn(kn({},t),e),_)),b<1)u=l.setTimeout(p);else{var A=Qf((S,E)=>Wg(...E,n(1)),d);s(kn(kn(kn({},t),e),A))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const jW=(t,e,n,r,i,s)=>{var l=wW(t,e);return n==null?()=>(i(kn(kn({},t),e)),()=>{}):n.isStepper===!0?TW(t,e,n,l,i,s):NW(t,e,n,r,l,i,s)};var Xg=1e-4,R3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],k3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),_I=(t,e)=>n=>{var r=R3(t,e);return k3(r,n)},CW=(t,e)=>n=>{var r=R3(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return k3(i,n)},OW=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},IW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=OW(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},PW=(t,e,n,r)=>{var i=_I(t,n),s=_I(e,r),l=CW(t,n),u=h=>h>1?1:h<0?0:h,d=h=>{for(var p=h>1?1:h,g=p,b=0;b<8;++b){var _=i(g)-p,A=l(g);if(Math.abs(_-p)<Xg||A<Xg)return s(g);g=u(g-_/A)}return s(g)};return d.isStepper=!1,d},wI=function(){return PW(...IW(...arguments))},RW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,d)=>{var h=-(l-u)*n,p=d*r,g=d+(h-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<Xg&&Math.abs(g)<Xg?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},kW=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wI(t);case"spring":return RW();default:if(t.split("(")[0]==="cubic-bezier")return wI(t)}return typeof t=="function"?t:null};function DW(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){i=t.setTimeout(s.bind(null,h),d);return}s(d),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class MW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function LW(){return DW(new MW)}var zW=w.createContext(LW);function VW(t,e){var n=w.useContext(zW);return w.useMemo(()=>e??n(t),[t,e,n])}var UW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ph={isSsr:UW()},BW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SI={t:0},d1={t:1};function td(t){var e=cn(t,BW),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=e,p=n==="auto"?!Ph.isSsr:n,g=VW(e.animationId,e.animationManager),[b,_]=w.useState(p?SI:d1),A=w.useRef(null);return w.useEffect(()=>{p||_(d1)},[p]),w.useEffect(()=>{if(!p||!r)return Th;var S=jW(SI,d1,kW(s),i,_,g.getTimeoutController()),E=()=>{A.current=S()};return g.start([d,l,E,i,u]),()=>{g.stop(),A.current&&A.current(),u()}},[p,r,i,s,l,d,u,g]),h(b.t)}function nd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Ff(e)),r=w.useRef(t);return r.current!==t&&(n.current=Ff(e),r.current=t),n.current}var $W=["radius"],qW=["radius"],EI,AI,TI,NI,jI,CI,OI,II,PI,RI;function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){FW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FW(t,e,n){return(e=HW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HW(t){var e=KW(t,"string");return typeof e=="symbol"?e:e+""}function KW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(null,arguments)}function MI(t,e){if(t==null)return{};var n,r,i=GW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var LI=(t,e,n,r,i)=>{var s=Uo(n),l=Uo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],_=0,A=4;_<A;_++)b[_]=i[_]>u?u:i[_];g=an(EI||(EI=Sa(["M",",",""])),t,e+d*b[0]),b[0]>0&&(g+=an(AI||(AI=Sa(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+h*b[0],e)),g+=an(TI||(TI=Sa(["L ",",",""])),t+n-h*b[1],e),b[1]>0&&(g+=an(NI||(NI=Sa(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),g+=an(jI||(jI=Sa(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(g+=an(CI||(CI=Sa(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-h*b[2],e+r)),g+=an(OI||(OI=Sa(["L ",",",""])),t+h*b[3],e+r),b[3]>0&&(g+=an(II||(II=Sa(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var S=Math.min(u,i);g=an(PI||(PI=Sa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*S,S,S,p,t+h*S,e,t+n-h*S,e,S,S,p,t+n,e+d*S,t+n,e+r-d*S,S,S,p,t+n-h*S,e+r,t+h*S,e+r,S,S,p,t,e+r-d*S)}else g=an(RI||(RI=Sa(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},zI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D3=t=>{var e=cn(t,zI),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:h,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:_,isAnimationActive:A,isUpdateAnimationActive:S}=e,E=w.useRef(u),O=w.useRef(d),M=w.useRef(s),R=w.useRef(l),$=w.useMemo(()=>({x:s,y:l,width:u,height:d,radius:h}),[s,l,u,d,h]),k=nd($,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var z=dt("recharts-rectangle",p);if(!S){var N=xr(e),{radius:j}=N,I=MI(N,$W);return w.createElement("path",Qg({},I,{x:Uo(s),y:Uo(l),width:Uo(u),height:Uo(d),radius:typeof h=="number"?h:void 0,className:z,d:LI(s,l,u,d,h)}))}var L=E.current,D=O.current,B=M.current,V=R.current,ue="0px ".concat(r===-1?1:r,"px"),be="".concat(r,"px 0px"),K=I3(["strokeDasharray"],b,typeof g=="string"?g:zI.animationEasing);return w.createElement(td,{animationId:k,key:k,canBegin:r>0,duration:b,easing:g,isActive:S,begin:_},Z=>{var de=vt(L,u,Z),he=vt(D,d,Z),ce=vt(B,s,Z),q=vt(V,l,Z);n.current&&(E.current=de,O.current=he,M.current=ce,R.current=q);var Y;A?Z>0?Y={transition:K,strokeDasharray:be}:Y={strokeDasharray:ue}:Y={strokeDasharray:be};var X=xr(e),{radius:re}=X,Se=MI(X,qW);return w.createElement("path",Qg({},Se,{radius:typeof h=="number"?h:void 0,className:z,d:LI(ce,q,de,he,h),ref:n,style:DI(DI({},Y),e.style)}))})};function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){YW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YW(t,e,n){return(e=WW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WW(t){var e=XW(t,"string");return typeof e=="symbol"?e:e+""}function XW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zg=Math.PI/180,QW=t=>t*180/Math.PI,Cn=(t,e,n,r)=>({x:t+Math.cos(-Zg*r)*n,y:e+Math.sin(-Zg*r)*n}),M3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},ZW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},JW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=ZW({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:QW(d),angleInRadian:d}},eX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},tX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},nX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=JW({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:h}=eX(e),p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?UI(UI({},e),{},{radius:i,angle:tX(p,e)}):null};function L3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Cn(e,n,r,i),u=Cn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var BI,$I,qI,FI,HI,KI,GI;function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(null,arguments)}function $l(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var rX=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},kp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/Zg,g=d?i:i+s*p,b=Cn(e,n,h,g),_=Cn(e,n,r,g),A=d?i-s*p:i,S=Cn(e,n,h*Math.cos(p*Zg),A);return{center:b,circleTangency:_,lineTangency:S,theta:p}},z3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=rX(s,l),d=s+u,h=Cn(e,n,i,s),p=Cn(e,n,i,d),g=an(BI||(BI=$l(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>d),p.x,p.y);if(r>0){var b=Cn(e,n,r,s),_=Cn(e,n,r,d);g+=an($I||($I=$l(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=d),b.x,b.y)}else g+=an(qI||(qI=$l(["L ",","," Z"])),e,n);return g},iX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=t,p=Wn(h-d),{circleTangency:g,lineTangency:b,theta:_}=kp({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:A,lineTangency:S,theta:E}=kp({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),O=u?Math.abs(d-h):Math.abs(d-h)-_-E;if(O<0)return l?an(FI||(FI=$l(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):z3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var M=an(HI||(HI=$l(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(O>180),+(p<0),A.x,A.y,s,s,+(p<0),S.x,S.y);if(r>0){var{circleTangency:R,lineTangency:$,theta:k}=kp({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:z,lineTangency:N,theta:j}=kp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),I=u?Math.abs(d-h):Math.abs(d-h)-k-j;if(I<0&&s===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+=an(KI||(KI=$l(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(p<0),z.x,z.y,r,r,+(I>180),+(p>0),R.x,R.y,s,s,+(p<0),$.x,$.y)}else M+=an(GI||(GI=$l(["L",",","Z"])),e,n);return M},aX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V3=t=>{var e=cn(t,aX),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var b=dt("recharts-sector",g),_=s-i,A=yr(l,_,0,!0),S;return A>0&&Math.abs(h-p)<360?S=iX({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):S=z3({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",q_({},xr(e),{className:b,d:S}))};function sX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(v4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,d=Cn(r,i,s,u),h=Cn(r,i,l,u);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return L3(e)}}var f1={},h1={},m1={},YI;function oX(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(m1)),m1}var WI;function lX(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(h1)),h1}var XI;function cX(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O4(),n=lX();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=l;return d}t.range=r})(f1)),f1}var p1,QI;function uX(){return QI||(QI=1,p1=cX().range),p1}var dX=uX();const U3=zs(dX);function Ko(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VS(t){let e,n,r;t.length!==2?(e=Ko,n=(u,d)=>Ko(t(u),d),r=(u,d)=>t(u)-d):(e=t===Ko||t===fX?t:hX,n=t,r=t);function i(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<0?h=g+1:p=g}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,d,h=0,p=u.length){const g=i(u,d,h,p-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function hX(){return 0}function B3(t){return t===null?NaN:+t}function*mX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const pX=VS(Ko),Rh=pX.right;VS(B3).center;class ZI extends Map{constructor(e,n=yX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(JI(this,e))}has(e){return super.has(JI(this,e))}set(e,n){return super.set(gX(this,e),n)}delete(e){return super.delete(vX(this,e))}}function JI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function vX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function yX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bX(t=Ko){if(t===Ko)return $3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const xX=Math.sqrt(50),_X=Math.sqrt(10),wX=Math.sqrt(2);function Jg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=xX?10:s>=_X?5:s>=wX?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=n&&n<2?Jg(t,e,n*2):[u,d,h]}function F_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Jg(e,t,n):Jg(t,e,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function H_(t,e,n){return e=+e,t=+t,n=+n,Jg(t,e,n)[2]}function K_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?H_(e,t,n):H_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function eP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function tP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function q3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$3:bX(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(h-d/2<0?-1:1),_=Math.max(n,Math.floor(e-h*g/d+b)),A=Math.min(r,Math.floor(e+(d-h)*g/d+b));q3(t,e,_,A,i)}const s=t[e];let l=n,u=r;for(pf(t,n,e),i(t[r],s)>0&&pf(t,n,r);l<u;){for(pf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?pf(t,n,u):(++u,pf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function pf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function SX(t,e,n){if(t=Float64Array.from(mX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return tP(t);if(e>=1)return eP(t);var r,i=(r-1)*e,s=Math.floor(i),l=eP(q3(t,s).subarray(0,s+1)),u=tP(t.subarray(s+1));return l+(u-l)*(i-s)}}function EX(t,e,n=B3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function AX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const G_=Symbol("implicit");function US(){var t=new ZI,e=[],n=[],r=G_;function i(s){let l=t.get(s);if(l===void 0){if(r!==G_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new ZI;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return US(e,n).unknown(r)},Li.apply(i,arguments),i}function BS(){var t=US().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,d=0,h=0,p=.5;delete t.unknown;function g(){var b=e().length,_=i<r,A=_?i:r,S=_?r:i;s=(S-A)/Math.max(1,b-d+h*2),u&&(s=Math.floor(s)),A+=(S-A-s*(b-d))*p,l=s*(1-d),u&&(A=Math.round(A),l=Math.round(l));var E=AX(b).map(function(O){return A+s*O});return n(_?E.reverse():E)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return BS(e(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},Li.apply(g(),arguments)}function F3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return F3(e())},t}function TX(){return F3(BS.apply(null,arguments).paddingInner(1))}function $S(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function H3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function kh(){}var Zf=.7,ev=1/Zf,Au="\\s*([+-]?\\d+)\\s*",Jf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NX=/^#([0-9a-f]{3,8})$/,jX=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),CX=new RegExp(`^rgb\\(${Ra},${Ra},${Ra}\\)$`),OX=new RegExp(`^rgba\\(${Au},${Au},${Au},${Jf}\\)$`),IX=new RegExp(`^rgba\\(${Ra},${Ra},${Ra},${Jf}\\)$`),PX=new RegExp(`^hsl\\(${Jf},${Ra},${Ra}\\)$`),RX=new RegExp(`^hsla\\(${Jf},${Ra},${Ra},${Jf}\\)$`),nP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$S(kh,eh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rP,formatHex:rP,formatHex8:kX,formatHsl:DX,formatRgb:iP,toString:iP});function rP(){return this.rgb().formatHex()}function kX(){return this.rgb().formatHex8()}function DX(){return K3(this).formatHsl()}function iP(){return this.rgb().formatRgb()}function eh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=NX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?aP(e):n===3?new Kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jX.exec(t))?new Kr(e[1],e[2],e[3],1):(e=CX.exec(t))?new Kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=OX.exec(t))?Dp(e[1],e[2],e[3],e[4]):(e=IX.exec(t))?Dp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PX.exec(t))?lP(e[1],e[2]/100,e[3]/100,1):(e=RX.exec(t))?lP(e[1],e[2]/100,e[3]/100,e[4]):nP.hasOwnProperty(t)?aP(nP[t]):t==="transparent"?new Kr(NaN,NaN,NaN,0):null}function aP(t){return new Kr(t>>16&255,t>>8&255,t&255,1)}function Dp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kr(t,e,n,r)}function MX(t){return t instanceof kh||(t=eh(t)),t?(t=t.rgb(),new Kr(t.r,t.g,t.b,t.opacity)):new Kr}function Y_(t,e,n,r){return arguments.length===1?MX(t):new Kr(t,e,n,r??1)}function Kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$S(Kr,Y_,H3(kh,{brighter(t){return t=t==null?ev:Math.pow(ev,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kr(Wl(this.r),Wl(this.g),Wl(this.b),tv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sP,formatHex:sP,formatHex8:LX,formatRgb:oP,toString:oP}));function sP(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}`}function LX(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}${ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function oP(){const t=tv(this.opacity);return`${t===1?"rgb(":"rgba("}${Wl(this.r)}, ${Wl(this.g)}, ${Wl(this.b)}${t===1?")":`, ${t})`}`}function tv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ql(t){return t=Wl(t),(t<16?"0":"")+t.toString(16)}function lP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function K3(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof kh||(t=eh(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new Zi(l,u,d,t.opacity)}function zX(t,e,n,r){return arguments.length===1?K3(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$S(Zi,zX,H3(kh,{brighter(t){return t=t==null?ev:Math.pow(ev,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kr(g1(t>=240?t-240:t+120,i,r),g1(t,i,r),g1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zi(cP(this.h),Mp(this.s),Mp(this.l),tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tv(this.opacity);return`${t===1?"hsl(":"hsla("}${cP(this.h)}, ${Mp(this.s)*100}%, ${Mp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cP(t){return t=(t||0)%360,t<0?t+360:t}function Mp(t){return Math.max(0,Math.min(1,t||0))}function g1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qS=t=>()=>t;function VX(t,e){return function(n){return t+n*e}}function UX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function BX(t){return(t=+t)==1?G3:function(e,n){return n-e?UX(e,n,t):qS(isNaN(e)?n:e)}}function G3(t,e){var n=e-t;return n?VX(t,n):qS(isNaN(t)?e:t)}const uP=(function t(e){var n=BX(e);function r(i,s){var l=n((i=Y_(i)).r,(s=Y_(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),h=G3(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function $X(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function qX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=rd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function HX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function nv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function KX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var W_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v1=new RegExp(W_.source,"g");function GX(t){return function(){return t}}function YX(t){return function(e){return t(e)+""}}function WX(t,e){var n=W_.lastIndex=v1.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=W_.exec(t))&&(i=v1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:nv(r,i)})),n=v1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?YX(d[0].x):GX(e):(e=d.length,function(h){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(h);return u.join("")})}function rd(t,e){var n=typeof e,r;return e==null||n==="boolean"?qS(e):(n==="number"?nv:n==="string"?(r=eh(e))?(e=r,uP):WX:e instanceof eh?uP:e instanceof Date?HX:qX(e)?$X:Array.isArray(e)?FX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KX:nv)(t,e)}function FS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function XX(t,e){e===void 0&&(e=t,t=rd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function QX(t){return function(){return t}}function rv(t){return+t}var dP=[0,1];function Cr(t){return t}function X_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:QX(isNaN(e)?NaN:.5)}function ZX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function JX(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=X_(i,r),s=n(l,s)):(r=X_(r,i),s=n(s,l)),function(u){return s(r(u))}}function eQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=X_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var d=Rh(t,u,1,r)-1;return s[d](i[d](u))}}function Dh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gy(){var t=dP,e=dP,n=rd,r,i,s,l=Cr,u,d,h;function p(){var b=Math.min(t.length,e.length);return l!==Cr&&(l=ZX(t[0],t[b-1])),u=b>2?eQ:JX,d=h=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((h||(h=u(e,t.map(r),nv)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,rv),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=FS,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Cr,p()):l!==Cr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,_){return r=b,i=_,p()}}function HS(){return gy()(Cr,Cr)}function tQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function iv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zu(t){return t=iv(Math.abs(t)),t?t[1]:NaN}function nQ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function rQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var iQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function th(t){if(!(e=iQ.exec(t)))throw new Error("invalid format: "+t);var e;return new KS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}th.prototype=KS.prototype;function KS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Y3;function sQ(t,e){var n=iv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Y3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+iv(t,Math.max(0,e+s-1))[0]}function fP(t,e){var n=iv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fP(t*100,e),r:fP,s:sQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mP(t){return t}var pP=Array.prototype.map,gP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oQ(t){var e=t.grouping===void 0||t.thousands===void 0?mP:nQ(pP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?mP:rQ(pP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(g){g=th(g);var b=g.fill,_=g.align,A=g.sign,S=g.symbol,E=g.zero,O=g.width,M=g.comma,R=g.precision,$=g.trim,k=g.type;k==="n"?(M=!0,k="g"):hP[k]||(R===void 0&&(R=12),$=!0,k="g"),(E||b==="0"&&_==="=")&&(E=!0,b="0",_="=");var z=S==="$"?n:S==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=S==="$"?r:/[%p]/.test(k)?l:"",j=hP[k],I=/[defgprs%]/.test(k);R=R===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function L(D){var B=z,V=N,ue,be,K;if(k==="c")V=j(D)+V,D="";else{D=+D;var Z=D<0||1/D<0;if(D=isNaN(D)?d:j(Math.abs(D),R),$&&(D=aQ(D)),Z&&+D==0&&A!=="+"&&(Z=!1),B=(Z?A==="("?A:u:A==="-"||A==="("?"":A)+B,V=(k==="s"?gP[8+Y3/3]:"")+V+(Z&&A==="("?")":""),I){for(ue=-1,be=D.length;++ue<be;)if(K=D.charCodeAt(ue),48>K||K>57){V=(K===46?i+D.slice(ue+1):D.slice(ue))+V,D=D.slice(0,ue);break}}}M&&!E&&(D=e(D,1/0));var de=B.length+D.length+V.length,he=de<O?new Array(O-de+1).join(b):"";switch(M&&E&&(D=e(he+D,he.length?O-V.length:1/0),he=""),_){case"<":D=B+D+V+he;break;case"=":D=B+he+D+V;break;case"^":D=he.slice(0,de=he.length>>1)+B+D+V+he.slice(de);break;default:D=he+B+D+V;break}return s(D)}return L.toString=function(){return g+""},L}function p(g,b){var _=h((g=th(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(zu(b)/3)))*3,S=Math.pow(10,-A),E=gP[8+A/3];return function(O){return _(S*O)+E}}return{format:h,formatPrefix:p}}var Lp,GS,W3;lQ({thousands:",",grouping:[3],currency:["$",""]});function lQ(t){return Lp=oQ(t),GS=Lp.format,W3=Lp.formatPrefix,Lp}function cQ(t){return Math.max(0,-zu(Math.abs(t)))}function uQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(e)/3)))*3-zu(Math.abs(t)))}function dQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zu(e)-zu(t))+1}function X3(t,e,n,r){var i=K_(t,e,n),s;switch(r=th(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=uQ(i,l))&&(r.precision=s),W3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=dQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=cQ(i))&&(r.precision=s-(r.type==="%")*2);break}}return GS(r)}function ol(t){var e=t.domain;return t.ticks=function(n){var r=e();return F_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return X3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=H_(l,u,n),h===d)return r[i]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function Q3(){var t=HS();return t.copy=function(){return Dh(t,Q3())},Li.apply(t,arguments),ol(t)}function Z3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Z3(t).unknown(e)},t=arguments.length?Array.from(t,rv):[0,1],ol(n)}function J3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function vP(t){return Math.log(t)}function yP(t){return Math.exp(t)}function fQ(t){return-Math.log(-t)}function hQ(t){return-Math.exp(-t)}function mQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pQ(t){return t===10?mQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bP(t){return(e,n)=>-t(-e,n)}function YS(t){const e=t(vP,yP),n=e.domain;let r=10,i,s;function l(){return i=gQ(r),s=pQ(r),n()[0]<0?(i=bP(i),s=bP(s),t(fQ,hQ)):t(vP,yP),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const g=p<h;g&&([h,p]=[p,h]);let b=i(h),_=i(p),A,S;const E=u==null?10:+u;let O=[];if(!(r%1)&&_-b<E){if(b=Math.floor(b),_=Math.ceil(_),h>0){for(;b<=_;++b)for(A=1;A<r;++A)if(S=b<0?A/s(-b):A*s(b),!(S<h)){if(S>p)break;O.push(S)}}else for(;b<=_;++b)for(A=r-1;A>=1;--A)if(S=b>0?A/s(-b):A*s(b),!(S<h)){if(S>p)break;O.push(S)}O.length*2<E&&(O=F_(h,p,E))}else O=F_(b,_,Math.min(_-b,E)).map(s);return g?O.reverse():O},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=th(d)).precision==null&&(d.trim=!0),d=GS(d)),u===1/0)return d;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?d(p):""}},e.nice=()=>n(J3(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function e5(){const t=YS(gy()).domain([1,10]);return t.copy=()=>Dh(t,e5()).base(t.base()),Li.apply(t,arguments),t}function xP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _P(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WS(t){var e=1,n=t(xP(e),_P(e));return n.constant=function(r){return arguments.length?t(xP(e=+r),_P(e)):e},ol(n)}function t5(){var t=WS(gy());return t.copy=function(){return Dh(t,t5()).constant(t.constant())},Li.apply(t,arguments)}function wP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yQ(t){return t<0?-t*t:t*t}function XS(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(vQ,yQ):t(wP(n),wP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ol(e)}function QS(){var t=XS(gy());return t.copy=function(){return Dh(t,QS()).exponent(t.exponent())},Li.apply(t,arguments),t}function bQ(){return QS.apply(null,arguments).exponent(.5)}function SP(t){return Math.sign(t)*t*t}function xQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function n5(){var t=HS(),e=[0,1],n=!1,r;function i(s){var l=xQ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(SP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,rv)).map(SP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return n5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Li.apply(i,arguments),ol(i)}function r5(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=EX(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Rh(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ko),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return r5().domain(t).range(e).unknown(r)},Li.apply(s,arguments)}function i5(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Rh(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return i5().domain([t,e]).range(i).unknown(s)},Li.apply(ol(l),arguments)}function a5(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Rh(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return a5().domain(t).range(e).unknown(n)},Li.apply(i,arguments)}const y1=new Date,b1=new Date;function zn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return d},i.filter=s=>zn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(y1.setTime(+s),b1.setTime(+l),t(y1),t(b1),Math.floor(n(y1,b1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const av=zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);av.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):av);av.range;const bs=1e3,Pi=bs*60,xs=Pi*60,Rs=xs*24,ZS=Rs*7,EP=Rs*30,x1=Rs*365,Fl=zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getUTCSeconds());Fl.range;const JS=zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getMinutes());JS.range;const eE=zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getUTCMinutes());eE.range;const tE=zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs-t.getMinutes()*Pi)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getHours());tE.range;const nE=zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCHours());nE.range;const Mh=zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/Rs,t=>t.getDate()-1);Mh.range;const vy=zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rs,t=>t.getUTCDate()-1);vy.range;const s5=zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rs,t=>Math.floor(t/Rs));s5.range;function yc(t){return zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pi)/ZS)}const yy=yc(0),sv=yc(1),_Q=yc(2),wQ=yc(3),Vu=yc(4),SQ=yc(5),EQ=yc(6);yy.range;sv.range;_Q.range;wQ.range;Vu.range;SQ.range;EQ.range;function bc(t){return zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ZS)}const by=bc(0),ov=bc(1),AQ=bc(2),TQ=bc(3),Uu=bc(4),NQ=bc(5),jQ=bc(6);by.range;ov.range;AQ.range;TQ.range;Uu.range;NQ.range;jQ.range;const rE=zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rE.range;const iE=zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iE.range;const ks=zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ks.range;const Ds=zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ds.range;function o5(t,e,n,r,i,s){const l=[[Fl,1,bs],[Fl,5,5*bs],[Fl,15,15*bs],[Fl,30,30*bs],[s,1,Pi],[s,5,5*Pi],[s,15,15*Pi],[s,30,30*Pi],[i,1,xs],[i,3,3*xs],[i,6,6*xs],[i,12,12*xs],[r,1,Rs],[r,2,2*Rs],[n,1,ZS],[e,1,EP],[e,3,3*EP],[t,1,x1]];function u(h,p,g){const b=p<h;b&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:d(h,p,g),A=_?_.range(h,+p+1):[];return b?A.reverse():A}function d(h,p,g){const b=Math.abs(p-h)/g,_=VS(([,,E])=>E).right(l,b);if(_===l.length)return t.every(K_(h/x1,p/x1,g));if(_===0)return av.every(Math.max(K_(h,p,g),1));const[A,S]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return A.every(S)}return[u,d]}const[CQ,OQ]=o5(Ds,iE,by,s5,nE,eE),[IQ,PQ]=o5(ks,rE,yy,Mh,tE,JS);function _1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function w1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function RQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=vf(i),p=yf(i),g=vf(s),b=yf(s),_=vf(l),A=yf(l),S=vf(u),E=yf(u),O=vf(d),M=yf(d),R={a:Z,A:de,b:he,B:ce,c:null,d:OP,e:OP,f:nZ,g:fZ,G:mZ,H:JQ,I:eZ,j:tZ,L:l5,m:rZ,M:iZ,p:q,q:Y,Q:RP,s:kP,S:aZ,u:sZ,U:oZ,V:lZ,w:cZ,W:uZ,x:null,X:null,y:dZ,Y:hZ,Z:pZ,"%":PP},$={a:X,A:re,b:Se,B:se,c:null,d:IP,e:IP,f:bZ,g:CZ,G:IZ,H:gZ,I:vZ,j:yZ,L:u5,m:xZ,M:_Z,p:we,q:Re,Q:RP,s:kP,S:wZ,u:SZ,U:EZ,V:AZ,w:TZ,W:NZ,x:null,X:null,y:jZ,Y:OZ,Z:PZ,"%":PP},k={a:L,A:D,b:B,B:V,c:ue,d:jP,e:jP,f:WQ,g:NP,G:TP,H:CP,I:CP,j:HQ,L:YQ,m:FQ,M:KQ,p:I,q:qQ,Q:QQ,s:ZQ,S:GQ,u:zQ,U:VQ,V:UQ,w:LQ,W:BQ,x:be,X:K,y:NP,Y:TP,Z:$Q,"%":XQ};R.x=z(n,R),R.X=z(r,R),R.c=z(e,R),$.x=z(n,$),$.X=z(r,$),$.c=z(e,$);function z(ae,je){return function(Ue){var xe=[],xt=-1,Fe=0,Lt=ae.length,Bt,Bn,_r;for(Ue instanceof Date||(Ue=new Date(+Ue));++xt<Lt;)ae.charCodeAt(xt)===37&&(xe.push(ae.slice(Fe,xt)),(Bn=AP[Bt=ae.charAt(++xt)])!=null?Bt=ae.charAt(++xt):Bn=Bt==="e"?" ":"0",(_r=je[Bt])&&(Bt=_r(Ue,Bn)),xe.push(Bt),Fe=xt+1);return xe.push(ae.slice(Fe,xt)),xe.join("")}}function N(ae,je){return function(Ue){var xe=gf(1900,void 0,1),xt=j(xe,ae,Ue+="",0),Fe,Lt;if(xt!=Ue.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(je&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Fe=w1(gf(xe.y,0,1)),Lt=Fe.getUTCDay(),Fe=Lt>4||Lt===0?ov.ceil(Fe):ov(Fe),Fe=vy.offset(Fe,(xe.V-1)*7),xe.y=Fe.getUTCFullYear(),xe.m=Fe.getUTCMonth(),xe.d=Fe.getUTCDate()+(xe.w+6)%7):(Fe=_1(gf(xe.y,0,1)),Lt=Fe.getDay(),Fe=Lt>4||Lt===0?sv.ceil(Fe):sv(Fe),Fe=Mh.offset(Fe,(xe.V-1)*7),xe.y=Fe.getFullYear(),xe.m=Fe.getMonth(),xe.d=Fe.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Lt="Z"in xe?w1(gf(xe.y,0,1)).getUTCDay():_1(gf(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Lt+5)%7:xe.w+xe.U*7-(Lt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,w1(xe)):_1(xe)}}function j(ae,je,Ue,xe){for(var xt=0,Fe=je.length,Lt=Ue.length,Bt,Bn;xt<Fe;){if(xe>=Lt)return-1;if(Bt=je.charCodeAt(xt++),Bt===37){if(Bt=je.charAt(xt++),Bn=k[Bt in AP?je.charAt(xt++):Bt],!Bn||(xe=Bn(ae,Ue,xe))<0)return-1}else if(Bt!=Ue.charCodeAt(xe++))return-1}return xe}function I(ae,je,Ue){var xe=h.exec(je.slice(Ue));return xe?(ae.p=p.get(xe[0].toLowerCase()),Ue+xe[0].length):-1}function L(ae,je,Ue){var xe=_.exec(je.slice(Ue));return xe?(ae.w=A.get(xe[0].toLowerCase()),Ue+xe[0].length):-1}function D(ae,je,Ue){var xe=g.exec(je.slice(Ue));return xe?(ae.w=b.get(xe[0].toLowerCase()),Ue+xe[0].length):-1}function B(ae,je,Ue){var xe=O.exec(je.slice(Ue));return xe?(ae.m=M.get(xe[0].toLowerCase()),Ue+xe[0].length):-1}function V(ae,je,Ue){var xe=S.exec(je.slice(Ue));return xe?(ae.m=E.get(xe[0].toLowerCase()),Ue+xe[0].length):-1}function ue(ae,je,Ue){return j(ae,e,je,Ue)}function be(ae,je,Ue){return j(ae,n,je,Ue)}function K(ae,je,Ue){return j(ae,r,je,Ue)}function Z(ae){return l[ae.getDay()]}function de(ae){return s[ae.getDay()]}function he(ae){return d[ae.getMonth()]}function ce(ae){return u[ae.getMonth()]}function q(ae){return i[+(ae.getHours()>=12)]}function Y(ae){return 1+~~(ae.getMonth()/3)}function X(ae){return l[ae.getUTCDay()]}function re(ae){return s[ae.getUTCDay()]}function Se(ae){return d[ae.getUTCMonth()]}function se(ae){return u[ae.getUTCMonth()]}function we(ae){return i[+(ae.getUTCHours()>=12)]}function Re(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var je=z(ae+="",R);return je.toString=function(){return ae},je},parse:function(ae){var je=N(ae+="",!1);return je.toString=function(){return ae},je},utcFormat:function(ae){var je=z(ae+="",$);return je.toString=function(){return ae},je},utcParse:function(ae){var je=N(ae+="",!0);return je.toString=function(){return ae},je}}}var AP={"-":"",_:" ",0:"0"},Qn=/^\s*\d+/,kQ=/^%/,DQ=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function MQ(t){return t.replace(DQ,"\\$&")}function vf(t){return new RegExp("^(?:"+t.map(MQ).join("|")+")","i")}function yf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function LQ(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zQ(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function VQ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function UQ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function BQ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function TP(t,e,n){var r=Qn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function NP(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $Q(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qQ(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function FQ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jP(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function CP(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function KQ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function GQ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function YQ(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function WQ(t,e,n){var r=Qn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function XQ(t,e,n){var r=kQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function QQ(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ZQ(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OP(t,e){return mt(t.getDate(),e,2)}function JQ(t,e){return mt(t.getHours(),e,2)}function eZ(t,e){return mt(t.getHours()%12||12,e,2)}function tZ(t,e){return mt(1+Mh.count(ks(t),t),e,3)}function l5(t,e){return mt(t.getMilliseconds(),e,3)}function nZ(t,e){return l5(t,e)+"000"}function rZ(t,e){return mt(t.getMonth()+1,e,2)}function iZ(t,e){return mt(t.getMinutes(),e,2)}function aZ(t,e){return mt(t.getSeconds(),e,2)}function sZ(t){var e=t.getDay();return e===0?7:e}function oZ(t,e){return mt(yy.count(ks(t)-1,t),e,2)}function c5(t){var e=t.getDay();return e>=4||e===0?Vu(t):Vu.ceil(t)}function lZ(t,e){return t=c5(t),mt(Vu.count(ks(t),t)+(ks(t).getDay()===4),e,2)}function cZ(t){return t.getDay()}function uZ(t,e){return mt(sv.count(ks(t)-1,t),e,2)}function dZ(t,e){return mt(t.getFullYear()%100,e,2)}function fZ(t,e){return t=c5(t),mt(t.getFullYear()%100,e,2)}function hZ(t,e){return mt(t.getFullYear()%1e4,e,4)}function mZ(t,e){var n=t.getDay();return t=n>=4||n===0?Vu(t):Vu.ceil(t),mt(t.getFullYear()%1e4,e,4)}function pZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function IP(t,e){return mt(t.getUTCDate(),e,2)}function gZ(t,e){return mt(t.getUTCHours(),e,2)}function vZ(t,e){return mt(t.getUTCHours()%12||12,e,2)}function yZ(t,e){return mt(1+vy.count(Ds(t),t),e,3)}function u5(t,e){return mt(t.getUTCMilliseconds(),e,3)}function bZ(t,e){return u5(t,e)+"000"}function xZ(t,e){return mt(t.getUTCMonth()+1,e,2)}function _Z(t,e){return mt(t.getUTCMinutes(),e,2)}function wZ(t,e){return mt(t.getUTCSeconds(),e,2)}function SZ(t){var e=t.getUTCDay();return e===0?7:e}function EZ(t,e){return mt(by.count(Ds(t)-1,t),e,2)}function d5(t){var e=t.getUTCDay();return e>=4||e===0?Uu(t):Uu.ceil(t)}function AZ(t,e){return t=d5(t),mt(Uu.count(Ds(t),t)+(Ds(t).getUTCDay()===4),e,2)}function TZ(t){return t.getUTCDay()}function NZ(t,e){return mt(ov.count(Ds(t)-1,t),e,2)}function jZ(t,e){return mt(t.getUTCFullYear()%100,e,2)}function CZ(t,e){return t=d5(t),mt(t.getUTCFullYear()%100,e,2)}function OZ(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function IZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Uu(t):Uu.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function PZ(){return"+0000"}function PP(){return"%"}function RP(t){return+t}function kP(t){return Math.floor(+t/1e3)}var ou,f5,h5;RZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RZ(t){return ou=RQ(t),f5=ou.format,ou.parse,h5=ou.utcFormat,ou.utcParse,ou}function kZ(t){return new Date(t)}function DZ(t){return t instanceof Date?+t:+new Date(+t)}function aE(t,e,n,r,i,s,l,u,d,h){var p=HS(),g=p.invert,b=p.domain,_=h(".%L"),A=h(":%S"),S=h("%I:%M"),E=h("%I %p"),O=h("%a %d"),M=h("%b %d"),R=h("%B"),$=h("%Y");function k(z){return(d(z)<z?_:u(z)<z?A:l(z)<z?S:s(z)<z?E:r(z)<z?i(z)<z?O:M:n(z)<z?R:$)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?b(Array.from(z,DZ)):b().map(kZ)},p.ticks=function(z){var N=b();return t(N[0],N[N.length-1],z??10)},p.tickFormat=function(z,N){return N==null?k:h(N)},p.nice=function(z){var N=b();return(!z||typeof z.range!="function")&&(z=e(N[0],N[N.length-1],z??10)),z?b(J3(N,z)):p},p.copy=function(){return Dh(p,aE(t,e,n,r,i,s,l,u,d,h))},p}function MZ(){return Li.apply(aE(IQ,PQ,ks,rE,yy,Mh,tE,JS,Fl,f5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LZ(){return Li.apply(aE(CQ,OQ,Ds,iE,by,vy,nE,eE,Fl,h5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xy(){var t=0,e=1,n,r,i,s,l=Cr,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(b){var _,A;return arguments.length?([_,A]=b,l=g(_,A),h):[l(0),l(1)]}}return h.range=p(rd),h.rangeRound=p(FS),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function ll(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function m5(){var t=ol(xy()(Cr));return t.copy=function(){return ll(t,m5())},qs.apply(t,arguments)}function p5(){var t=YS(xy()).domain([1,10]);return t.copy=function(){return ll(t,p5()).base(t.base())},qs.apply(t,arguments)}function g5(){var t=WS(xy());return t.copy=function(){return ll(t,g5()).constant(t.constant())},qs.apply(t,arguments)}function sE(){var t=XS(xy());return t.copy=function(){return ll(t,sE()).exponent(t.exponent())},qs.apply(t,arguments)}function zZ(){return sE.apply(null,arguments).exponent(.5)}function v5(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Rh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ko),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>SX(t,s/r))},n.copy=function(){return v5(e).domain(t)},qs.apply(n,arguments)}function _y(){var t=0,e=.5,n=1,r=1,i,s,l,u,d,h=Cr,p,g=!1,b;function _(S){return isNaN(S=+S)?b:(S=.5+((S=+p(S))-s)*(r*S<r*s?u:d),h(g?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(g=!!S,_):g},_.interpolator=function(S){return arguments.length?(h=S,_):h};function A(S){return function(E){var O,M,R;return arguments.length?([O,M,R]=E,h=XX(S,[O,M,R]),_):[h(0),h(.5),h(1)]}}return _.range=A(rd),_.rangeRound=A(FS),_.unknown=function(S){return arguments.length?(b=S,_):b},function(S){return p=S,i=S(t),s=S(e),l=S(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function y5(){var t=ol(_y()(Cr));return t.copy=function(){return ll(t,y5())},qs.apply(t,arguments)}function b5(){var t=YS(_y()).domain([.1,1,10]);return t.copy=function(){return ll(t,b5()).base(t.base())},qs.apply(t,arguments)}function x5(){var t=WS(_y());return t.copy=function(){return ll(t,x5()).constant(t.constant())},qs.apply(t,arguments)}function oE(){var t=XS(_y());return t.copy=function(){return ll(t,oE()).exponent(t.exponent())},qs.apply(t,arguments)}function VZ(){return oE.apply(null,arguments).exponent(.5)}const Af=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:BS,scaleDiverging:y5,scaleDivergingLog:b5,scaleDivergingPow:oE,scaleDivergingSqrt:VZ,scaleDivergingSymlog:x5,scaleIdentity:Z3,scaleImplicit:G_,scaleLinear:Q3,scaleLog:e5,scaleOrdinal:US,scalePoint:TX,scalePow:QS,scaleQuantile:r5,scaleQuantize:i5,scaleRadial:n5,scaleSequential:m5,scaleSequentialLog:p5,scaleSequentialPow:sE,scaleSequentialQuantile:v5,scaleSequentialSqrt:zZ,scaleSequentialSymlog:g5,scaleSqrt:bQ,scaleSymlog:t5,scaleThreshold:a5,scaleTime:MZ,scaleUtc:LZ,tickFormat:X3},Symbol.toStringTag,{value:"Module"}));var Fs=t=>t.chartData,wy=ee([Fs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),lE=(t,e,n,r)=>r?wy(t):Fs(t),_5=(t,e,n)=>n?wy(t):Fs(t);function el(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Mt(e)&&Mt(n))return!0}return!1}function DP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function w5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Mt(n))i=n;else if(typeof n=="function")return;if(Mt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(el(l))return l}}function UZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(el(r))return DP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ne(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&KO.test(i)){var d=KO.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Ne(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&GO.test(s)){var p=GO.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(el(b))return e==null?b:DP(b,e,n)}}}var id=1e9,BZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uE,Xt=!0,Mi="[DecimalError] ",Xl=Mi+"Invalid argument: ",cE=Mi+"Exponent out of range: ",ad=Math.floor,Vl=Math.pow,$Z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ci,Yn=1e7,Ht=7,S5=9007199254740991,lv=ad(S5/Ht),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Ss(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return Dt(Ss(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return On(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ci))throw Error(Mi+"NaN");if(n.s<1)throw Error(Mi+(n.s?"NaN":"-Infinity"));return n.eq(ci)?new r(0):(Xt=!1,e=Ss(nh(n,s),nh(t,s),s),Xt=!0,Dt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T5(e,t):E5(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mi+"NaN");return n.s?(Xt=!1,e=Ss(n,t,0,1).times(t),Xt=!0,n.minus(e)):Dt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return A5(this)};Oe.naturalLogarithm=Oe.ln=function(){return nh(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E5(e,t):T5(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xl+t);if(e=On(i)+1,r=i.d.length-1,n=r*Ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Mi+"NaN")}for(t=On(u),Xt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ta(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ad((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Ss(u,s,l+2)).times(.5),Ta(s.d).slice(0,l)===(e=Ta(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Dt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return Xt=!0,Dt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,s,l,u,d,h,p=this,g=p.constructor,b=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,h=_.length,d<h&&(s=b,b=_,_=s,l=d,d=h,h=l),s=[],l=d+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)u=s[i]+_[r]*b[i-r-1]+e,s[i--]=u%Yn|0,e=u/Yn|0;s[i]=(s[i]+e)%Yn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Xt?Dt(t,g.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(za(t,0,id),e===void 0?e=r.rounding:za(e,0,8),Dt(n,t+On(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uc(r,!0):(za(t,0,id),e===void 0?e=i.rounding:za(e,0,8),r=Dt(new i(r),t+1,e),n=uc(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?uc(i):(za(t,0,id),e===void 0?e=s.rounding:za(e,0,8),r=Dt(new s(i),t+On(i)+1,e),n=uc(r.abs(),!1,t+On(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),On(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,s,l,u=this,d=u.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(ci);if(u=new d(u),!u.s){if(t.s<1)throw Error(Mi+"Infinity");return u}if(u.eq(ci))return u;if(r=d.precision,t.eq(ci))return Dt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=S5){for(i=new d(ci),e=Math.ceil(r/Ht+4),Xt=!1;n%2&&(i=i.times(u),LP(i.d,e)),n=ad(n/2),n!==0;)u=u.times(u),LP(u.d,e);return Xt=!0,t.s<0?new d(ci).div(i):Dt(i,r)}}else if(s<0)throw Error(Mi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Xt=!1,i=t.times(nh(u,r+h)),Xt=!0,i=A5(i),i.s=s,i};Oe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=On(i),r=uc(i,n<=s.toExpNeg||n>=s.toExpPos)):(za(t,1,id),e===void 0?e=s.rounding:za(e,0,8),i=Dt(new s(i),t,e),n=On(i),r=uc(i,t<=n||n<=s.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(za(t,1,id),e===void 0?e=r.rounding:za(e,0,8)),Dt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=On(t),n=t.constructor;return uc(t,e<=n.toExpNeg||e>=n.toExpPos)};function E5(t,e){var n,r,i,s,l,u,d,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Xt?Dt(e,g):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=h.length):(r=h,i=l,u=d.length),l=Math.ceil(g/Ht),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/Yn|0,d[s]%=Yn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Xt?Dt(e,g):e}function za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Xl+t)}function Ta(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Ht-r.length,n&&(s+=Io(n)),s+=r;l=t[e],r=l+"",n=Ht-r.length,n&&(s+=Io(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ss=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Yn|0,l=s/Yn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Yn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,h,p,g,b,_,A,S,E,O,M,R,$,k,z,N,j,I=r.constructor,L=r.s==i.s?1:-1,D=r.d,B=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Mi+"Division by zero");for(d=r.e-i.e,N=B.length,k=D.length,_=new I(L),A=_.d=[],h=0;B[h]==(D[h]||0);)++h;if(B[h]>(D[h]||0)&&--d,s==null?M=s=I.precision:l?M=s+(On(r)-On(i))+1:M=s,M<0)return new I(0);if(M=M/Ht+2|0,h=0,N==1)for(p=0,B=B[0],M++;(h<k||p)&&M--;h++)R=p*Yn+(D[h]||0),A[h]=R/B|0,p=R%B|0;else{for(p=Yn/(B[0]+1)|0,p>1&&(B=t(B,p),D=t(D,p),N=B.length,k=D.length),$=N,S=D.slice(0,N),E=S.length;E<N;)S[E++]=0;j=B.slice(),j.unshift(0),z=B[0],B[1]>=Yn/2&&++z;do p=0,u=e(B,S,N,E),u<0?(O=S[0],N!=E&&(O=O*Yn+(S[1]||0)),p=O/z|0,p>1?(p>=Yn&&(p=Yn-1),g=t(B,p),b=g.length,E=S.length,u=e(g,S,b,E),u==1&&(p--,n(g,N<b?j:B,b))):(p==0&&(u=p=1),g=B.slice()),b=g.length,b<E&&g.unshift(0),n(S,g,E),u==-1&&(E=S.length,u=e(B,S,N,E),u<1&&(p++,n(S,N<E?j:B,E))),E=S.length):u===0&&(p++,S=[0]),A[h++]=p,u&&S[0]?S[E++]=D[$]||0:(S=[D[$]],E=1);while(($++<k||S[0]!==void 0)&&M--)}return A[0]||A.shift(),_.e=d,Dt(_,l?s+On(_)+1:s)}})();function A5(t,e){var n,r,i,s,l,u,d=0,h=0,p=t.constructor,g=p.precision;if(On(t)>16)throw Error(cE+On(t));if(!t.s)return new p(ci);for(Xt=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Vl(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(ci),p.precision=u;;){if(i=Dt(i.times(t),u),n=n.times(++d),l=s.plus(Ss(i,n,u)),Ta(l.d).slice(0,u)===Ta(s.d).slice(0,u)){for(;h--;)s=Dt(s.times(s),u);return p.precision=g,e==null?(Xt=!0,Dt(s,g)):s}s=l}}function On(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function S1(t,e,n){if(e>t.LN10.sd())throw Xt=!0,n&&(t.precision=n),Error(Mi+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Io(t){for(var e="";t--;)e+="0";return e}function nh(t,e){var n,r,i,s,l,u,d,h,p,g=1,b=10,_=t,A=_.d,S=_.constructor,E=S.precision;if(_.s<1)throw Error(Mi+(_.s?"NaN":"-Infinity"));if(_.eq(ci))return new S(0);if(e==null?(Xt=!1,h=E):h=e,_.eq(10))return e==null&&(Xt=!0),S1(S,h);if(h+=b,S.precision=h,n=Ta(A),r=n.charAt(0),s=On(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Ta(_.d),r=n.charAt(0),g++;s=On(_),r>1?(_=new S("0."+n),s++):_=new S(r+"."+n.slice(1))}else return d=S1(S,h+2,E).times(s+""),_=nh(new S(r+"."+n.slice(1)),h-b).plus(d),S.precision=E,e==null?(Xt=!0,Dt(_,E)):_;for(u=l=_=Ss(_.minus(ci),_.plus(ci),h),p=Dt(_.times(_),h),i=3;;){if(l=Dt(l.times(p),h),d=u.plus(Ss(l,new S(i),h)),Ta(d.d).slice(0,h)===Ta(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(S1(S,h+2,E).times(s+""))),u=Ss(u,new S(g),h),S.precision=E,e==null?(Xt=!0,Dt(u,E)):u;u=d,i+=2}}function MP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ad(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ht;r<i;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xt&&(t.e>lv||t.e<-lv))throw Error(cE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,i,s,l,u,d,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ht,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Ht),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=Ht,i=r-Ht+l}if(n!==void 0&&(s=Vl(10,l-i-1),u=h/s%10|0,d=e<0||g[p+1]!==void 0||h%s,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/Vl(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(s=On(t),g.length=1,e=e-s-1,g[0]=Vl(10,(Ht-e%Ht)%Ht),t.e=ad(-e/Ht)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Vl(10,Ht-r),g[p]=i>0?(h/Vl(10,l-i)%Vl(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==Yn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Yn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Xt&&(t.e>lv||t.e<-lv))throw Error(cE+On(t));return t}function T5(t,e){var n,r,i,s,l,u,d,h,p,g,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Xt?Dt(e,_):e;if(d=t.d,g=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(_/Ht),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=Yn-1;--d[s],d[i]+=Yn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Xt?Dt(e,_):e):new b(0)}function uc(t,e,n){var r,i=On(t),s=Ta(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Io(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Io(-i-1)+s,n&&(r=n-l)>0&&(s+=Io(r))):i>=l?(s+=Io(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Io(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Io(r))),t.s<0?"-"+s:s}function LP(t,e){if(t.length>e)return t.length=e,!0}function N5(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Xl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return MP(l,s.toString())}else if(typeof s!="string")throw Error(Xl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,$Z.test(s))MP(l,s);else throw Error(Xl+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N5,i.config=i.set=qZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function qZ(t){if(!t||typeof t!="object")throw Error(Mi+"Object expected");var e,n,r,i=["precision",1,id,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ad(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Xl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xl+n+": "+r);return this}var uE=N5(BZ);ci=new uE(1);const At=uE;var FZ=t=>t,j5={},C5=t=>t===j5,zP=t=>function e(){return arguments.length===0||arguments.length===1&&C5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},O5=(t,e)=>t===1?e:zP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==j5).length;return s>=t?e(...r):O5(t-s,zP(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=r.map(p=>C5(p)?u.shift():p);return e(...h,...u)}))}),HZ=t=>O5(t.length,t),Q_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},KZ=HZ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),GZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return FZ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}};function I5(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function P5(t,e,n){for(var r=new At(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var R5=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},k5=(t,e,n)=>{if(t.lte(0))return new At(0);var r=I5(t.toNumber()),i=new At(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new At(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new At(d.toNumber()):new At(Math.ceil(d.toNumber()))},YZ=(t,e,n)=>{var r=new At(1),i=new At(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new At(10).pow(I5(t)-1),i=new At(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new At(Math.floor(t)))}else t===0?i=new At(Math.floor((e-1)/2)):n||(i=new At(Math.floor(t)));var l=Math.floor((e-1)/2),u=GZ(KZ(d=>i.add(new At(d-l).mul(r)).toNumber()),Q_);return u(0,e)},D5=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var l=k5(new At(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new At(0):(u=new At(e).add(n).div(2),u=u.sub(new At(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new At(n).sub(u).div(l).toNumber()),p=d+h+1;return p>r?D5(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new At(d).mul(l)),tickMax:u.add(new At(h).mul(l))})},WZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=R5([n,r]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...Q_(0,i-1).map(()=>1/0)]:[...Q_(0,i-1).map(()=>-1/0),d];return n>r?h.reverse():h}if(u===d)return YZ(u,i,s);var{step:p,tickMin:g,tickMax:b}=D5(u,d,l,s,0),_=P5(g,b.add(new At(.1).mul(p)),p);return n>r?_.reverse():_},XZ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=R5([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),h=k5(new At(u).sub(l).div(d-1),s,0),p=[...P5(new At(l),new At(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},M5=t=>t.rootProps.maxBarSize,QZ=t=>t.rootProps.barGap,L5=t=>t.rootProps.barCategoryGap,ZZ=t=>t.rootProps.barSize,Lh=t=>t.rootProps.stackOffset,z5=t=>t.rootProps.reverseStackOrder,dE=t=>t.options.chartName,fE=t=>t.rootProps.syncId,V5=t=>t.rootProps.syncMethod,hE=t=>t.options.eventEmitter,JZ=t=>t.rootProps.baseValue,gn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ms={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},li={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Sy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},eJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:ms.reversed,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:ms.type,unit:void 0},tJ={allowDataOverflow:li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:li.scale,tick:li.tick,tickCount:li.tickCount,ticks:void 0,type:li.type,unit:void 0},nJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},rJ={allowDataOverflow:li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:li.scale,tick:li.tick,tickCount:li.tickCount,ticks:void 0,type:"category",unit:void 0},mE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?nJ:eJ,pE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?rJ:tJ,Ey=t=>t.polarOptions,gE=ee([Bs,$s,Ln],M3),U5=ee([Ey,gE],(t,e)=>{if(t!=null)return yr(t.innerRadius,e,0)}),B5=ee([Ey,gE],(t,e)=>{if(t!=null)return yr(t.outerRadius,e,e*.8)}),iJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},$5=ee([Ey],iJ);ee([mE,$5],Sy);var q5=ee([gE,U5,B5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ee([pE,q5],Sy);var F5=ee([nt,Ey,U5,B5,Bs,$s],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=e;return{cx:yr(l,i,i/2),cy:yr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),Qt=(t,e)=>e,zh=(t,e,n)=>n;function Ay(t){return t?.id}function H5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var p=Ay(u);h.forEach((g,b)=>{var _=s==null||i?b:String(yt(g,s,null)),A=yt(g,u.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[p]:A}),l.set(_,S)})}}),Array.from(l.values())}function Ty(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Ny=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function jy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function aJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Vn=t=>{var e=nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},sd=t=>t.tooltip.settings.axisId;function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){sJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=lJ(t,"string");return typeof e=="symbol"?e:e+""}function lJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z_=[0,"auto"],Hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},K5=(t,e)=>t.cartesianAxis.xAxis[e],Hs=(t,e)=>{var n=K5(t,e);return n??Hn},Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Z_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Oh},G5=(t,e)=>t.cartesianAxis.yAxis[e],Ks=(t,e)=>{var n=G5(t,e);return n??Kn},cJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??cJ},en=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return Ks(t,n);case"zAxis":return vE(t,n);case"angleAxis":return mE(t,n);case"radiusAxis":return pE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uJ=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return Ks(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Vh=(t,e,n)=>{switch(e){case"xAxis":return Hs(t,n);case"yAxis":return Ks(t,n);case"angleAxis":return mE(t,n);case"radiusAxis":return pE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Y5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function yE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Uh=t=>t.graphicalItems.cartesianItems,dJ=ee([Qt,zh],yE),bE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Bh=ee([Uh,en,dJ],bE,{memoizeOptions:{resultEqualityCheck:jy}}),W5=ee([Bh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Ty)),X5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),fJ=ee([Bh],X5),xE=t=>t.map(e=>e.data).filter(Boolean).flat(1),hJ=ee([Bh],xE,{memoizeOptions:{resultEqualityCheck:jy}}),_E=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},wE=ee([hJ,lE],_E),SE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:yt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:yt(i,r)}))):t.map(r=>({value:r})),Cy=ee([wE,en,Bh],SE);function Q5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ng(t){if(Ma(t)||t instanceof Date){var e=Number(t);if(Mt(e))return e}}function UP(t){if(Array.isArray(t)){var e=[ng(t[0]),ng(t[1])];return el(e)?e:void 0}var n=ng(t);if(n!=null)return[n,n]}function Ms(t){return t.map(ng).filter(sH)}function mJ(t,e,n){return!n||typeof e!="number"||ki(e)?[]:n.length?Ms(n.flatMap(r=>{var i=yt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Mt(s)||!Mt(l)))return[e-s,e+l]})):[]}var Un=t=>{var e=Vn(t),n=sd(t);return Vh(t,e,n)},$h=ee([Un],t=>t?.dataKey),pJ=ee([W5,lE,Un],H5),Z5=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,h=r?[...d].reverse():d,p=h.map(Ay);return[u,{stackedData:RG(t,p,n),graphicalItems:h}]}))},uv=ee([pJ,W5,Lh,z5],Z5),J5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=LG(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},gJ=ee([en],t=>t.allowDataOverflow),EE=t=>{var e;if(t==null||!("domain"in t))return Z_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ms(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Z_},AE=ee([en],EE),TE=ee([AE,gJ],w5),vJ=ee([uv,Fs,Qt,TE],J5,{memoizeOptions:{resultEqualityCheck:Ny}}),Oy=t=>t.errorBars,yJ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Q5(n,r)),dv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},NE=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var h,p,g=(h=r[d.id])===null||h===void 0?void 0:h.filter(O=>Q5(i,O)),b=yt(u,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),_=mJ(u,b,g);if(_.length>=2){var A=Math.min(..._),S=Math.max(..._);(s==null||A<s)&&(s=A),(l==null||S>l)&&(l=S)}var E=UP(b);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=UP(yt(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Mt(s)&&Mt(l))return[s,l]},bJ=ee([wE,en,fJ,Oy,Qt],NE,{memoizeOptions:{resultEqualityCheck:Ny}});function xJ(t){var{value:e}=t;if(Ma(e)||e instanceof Date)return e}var _J=(t,e,n)=>{var r=t.map(xJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&m4(r))?U3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},e6=t=>t.referenceElements.dots,od=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),wJ=ee([e6,Qt,zh],od),t6=t=>t.referenceElements.areas,SJ=ee([t6,Qt,zh],od),n6=t=>t.referenceElements.lines,EJ=ee([n6,Qt,zh],od),r6=(t,e)=>{if(t!=null){var n=Ms(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},AJ=ee(wJ,Qt,r6),i6=(t,e)=>{if(t!=null){var n=Ms(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},TJ=ee([SJ,Qt],i6);function NJ(t){var e;if(t.x!=null)return Ms([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ms(n)}function jJ(t){var e;if(t.y!=null)return Ms([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ms(n)}var a6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?NJ(r):jJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},CJ=ee([EJ,Qt],a6),OJ=ee(AJ,CJ,TJ,(t,e,n)=>dv(t,n,e)),jE=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?dv(r,s,i):dv(s,i);return UZ(e,h,t.allowDataOverflow)},IJ=ee([en,AE,TE,vJ,bJ,OJ,nt,Qt],jE,{memoizeOptions:{resultEqualityCheck:Ny}}),PJ=[0,1],CE=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,h=Ba(e,s);if(h&&u==null){var p;return U3(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?_J(r,t,h):i==="expand"?PJ:l}},OE=ee([en,nt,wE,Cy,Lh,Qt,IJ],CE),s6=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Ah(s));return u in Af?u:"point"}}},ld=ee([en,nt,Y5,dE,Qt],s6);function RJ(t){if(t!=null){if(t in Af)return Af[t]();var e="scale".concat(Ah(t));if(e in Af)return Af[e]()}}function IE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=RJ(e);if(i!=null){var s=i.domain(n).range(r);return jG(s),s}}}var PE=(t,e,n)=>{var r=EE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&el(t))return WZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&el(t))return XZ(t,e.tickCount,e.allowDecimals)}},RE=ee([OE,Vh,ld],PE),kE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&el(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},kJ=ee([en,OE,RE,Qt],kE),DJ=ee(Cy,en,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ms(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],h=r[u+1];if(!(d==null||h==null)){var p=h-d;n=Math.min(n,p)}}return n/l}}),o6=ee(DJ,nt,L5,Ln,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Mt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=yr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),MJ=(t,e,n)=>{var r=Hs(t,e);return r==null||typeof r.padding!="string"?0:o6(t,"xAxis",e,n,r.padding)},LJ=(t,e,n)=>{var r=Ks(t,e);return r==null||typeof r.padding!="string"?0:o6(t,"yAxis",e,n,r.padding)},zJ=ee(Hs,MJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),VJ=ee(Ks,LJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),UJ=ee([Ln,zJ,ly,oy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),BJ=ee([Ln,nt,VJ,ly,oy,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),qh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return UJ(t,n,r);case"yAxis":return BJ(t,n,r);case"zAxis":return(i=vE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return $5(t);case"radiusAxis":return q5(t,n);default:return}},l6=ee([en,qh],Sy),Iy=ee([en,ld,kJ,l6],IE);ee([Bh,Oy,Qt],yJ);function c6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Py=(t,e)=>e,Ry=(t,e,n)=>n,$J=ee(ay,Py,Ry,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(c6)),qJ=ee(sy,Py,Ry,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(c6)),u6=(t,e)=>({width:t.width,height:e.height}),FJ=(t,e)=>{var n=typeof e.width=="number"?e.width:Oh;return{width:n,height:t.height}},d6=ee(Ln,Hs,u6),HJ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},KJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},GJ=ee($s,Ln,$J,Py,Ry,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=u6(e,u);l==null&&(l=HJ(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),YJ=ee(Bs,Ln,qJ,Py,Ry,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=FJ(e,u);l==null&&(l=KJ(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),WJ=(t,e)=>{var n=Hs(t,e);if(n!=null)return GJ(t,n.orientation,n.mirror)},XJ=ee([Ln,Hs,WJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),QJ=(t,e)=>{var n=Ks(t,e);if(n!=null)return YJ(t,n.orientation,n.mirror)},ZJ=ee([Ln,Ks,QJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),f6=ee(Ln,Ks,(t,e)=>{var n=typeof e.width=="number"?e.width:Oh;return{width:n,height:t.height}}),BP=(t,e,n)=>{switch(e){case"xAxis":return d6(t,n).width;case"yAxis":return f6(t,n).height;default:return}},h6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=Ba(t,r),d=e.map(h=>h.value);if(l&&u&&s==="category"&&i&&m4(d))return d}},DE=ee([nt,Cy,en,Qt],h6),m6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Ba(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},ME=ee([nt,Cy,Vh,Qt],m6),$P=ee([nt,uJ,ld,Iy,DE,ME,qh,RE,Qt],(t,e,n,r,i,s,l,u,d)=>{if(e!=null){var h=Ba(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),JJ=(t,e,n,r,i,s,l,u,d)=>{if(!(e==null||r==null)){var h=Ba(t,d),{type:p,ticks:g,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=p==="category"&&r.bandwidth?r.bandwidth()/_:0;A=d==="angleAxis"&&s!=null&&s.length>=2?Wn(s[0]-s[1])*2*A:A;var S=g||i;if(S){var E=S.map((O,M)=>{var R=l?l.indexOf(O):O;return{index:M,coordinate:r(R)+A,value:O,offset:A}});return E.filter(O=>Mt(O.coordinate))}return h&&u?u.map((O,M)=>({coordinate:r(O)+A,value:O,index:M,offset:A})).filter(O=>Mt(O.coordinate)):r.ticks?r.ticks(b).map(O=>({coordinate:r(O)+A,value:O,offset:A})):r.domain().map((O,M)=>({coordinate:r(O)+A,value:l?l[O]:O,index:M,offset:A}))}},p6=ee([nt,Vh,ld,Iy,RE,qh,DE,ME,Qt],JJ),eee=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ba(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Wn(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},Va=ee([nt,Vh,Iy,qh,DE,ME,Qt],eee),Ua=ee(en,Iy,(t,e)=>{if(!(t==null||e==null))return cv(cv({},t),{},{scale:e})}),tee=ee([en,ld,OE,l6],IE);ee((t,e,n)=>vE(t,n),tee,(t,e)=>{if(!(t==null||e==null))return cv(cv({},t),{},{scale:e})});var nee=ee([nt,ay,sy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),g6=t=>t.options.defaultTooltipEventType,v6=t=>t.options.validateTooltipEventTypes;function y6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function LE(t,e){var n=g6(t),r=v6(t);return y6(e,n,r)}function ree(t){return Pe(e=>LE(e,t))}var b6=(t,e)=>{var n,r=Number(e);if(!(ki(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},iee=t=>t.tooltip.settings,Lo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},aee={itemInteraction:{click:Lo,hover:Lo},axisInteraction:{click:Lo,hover:Lo},keyboardInteraction:Lo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},x6=Yr({name:"tooltip",initialState:aee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Wt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ea(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Wt()},removeTooltipEntrySettings:{reducer(t,e){var n=ea(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Wt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:see,replaceTooltipEntrySettings:oee,removeTooltipEntrySettings:lee,setTooltipSettingsState:cee,setActiveMouseOverItemIndex:_6,mouseLeaveItem:uee,mouseLeaveChart:w6,setActiveClickItemIndex:dee,setMouseOverAxisIndex:S6,setMouseClickAxisIndex:fee,setSyncInteraction:J_,setKeyboardInteraction:ew}=x6.actions,hee=x6.reducer;function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mee(t,e,n){return(e=pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pee(t){var e=gee(t,"string");return typeof e=="symbol"?e:e+""}function gee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function yee(t){return t.index!=null}var E6=(t,e,n,r)=>{if(e==null)return Lo;var i=vee(t,e,n);if(i==null)return Lo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(yee(i)){if(s)return zp(zp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return zp(zp({},Lo),{},{coordinate:i.coordinate})};function bee(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function xee(t,e){var n=bee(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function _ee(t,e,n){if(n==null||e==null)return!0;var r=yt(t,e);return r==null||!el(n)?!0:xee(r,n)}var zE=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Mt(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),h=e[d];return h==null||_ee(h,n,r)?String(d):null},A6=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},T6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Fh=t=>t.options.tooltipPayloadSearcher,cd=t=>t.tooltip;function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return(e=See(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function See(t){var e=Eee(t,"string");return typeof e=="symbol"?e:e+""}function Eee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aee(t,e){return t??e}var N6=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((b,_)=>{var A,{dataDefinedOnItem:S,settings:E}=_,O=Aee(S,u),M=Array.isArray(O)?l3(O,h,p):O,R=(A=E?.dataKey)!==null&&A!==void 0?A:r,$=E?.nameKey,k;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?k=p4(M,r,i):k=s(M,e,d,$),Array.isArray(k))k.forEach(N=>{var j=HP(HP({},E),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});b.push(YO({tooltipEntrySettings:j,dataKey:N.dataKey,payload:N.payload,value:yt(N.payload,N.dataKey),name:N.name}))});else{var z;b.push(YO({tooltipEntrySettings:E,dataKey:R,payload:k,value:yt(k,R),name:(z=yt(k,$))!==null&&z!==void 0?z:E?.name}))}return b},g)}},VE=ee([Un,nt,Y5,dE,Vn],s6),Tee=ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Nee=ee([Vn,sd],yE),ud=ee([Tee,Un,Nee],bE,{memoizeOptions:{resultEqualityCheck:jy}}),jee=ee([ud],t=>t.filter(Ty)),Cee=ee([ud],xE,{memoizeOptions:{resultEqualityCheck:jy}}),dd=ee([Cee,Fs],_E),Oee=ee([jee,Fs,Un],H5),UE=ee([dd,Un,ud],SE),j6=ee([Un],EE),Iee=ee([Un],t=>t.allowDataOverflow),C6=ee([j6,Iee],w5),Pee=ee([ud],t=>t.filter(Ty)),Ree=ee([Oee,Pee,Lh,z5],Z5),kee=ee([Ree,Fs,Vn,C6],J5),Dee=ee([ud],X5),Mee=ee([dd,Un,Dee,Oy,Vn],NE,{memoizeOptions:{resultEqualityCheck:Ny}}),Lee=ee([e6,Vn,sd],od),zee=ee([Lee,Vn],r6),Vee=ee([t6,Vn,sd],od),Uee=ee([Vee,Vn],i6),Bee=ee([n6,Vn,sd],od),$ee=ee([Bee,Vn],a6),qee=ee([zee,$ee,Uee],dv),Fee=ee([Un,j6,C6,kee,Mee,qee,nt,Vn],jE),Hh=ee([Un,nt,dd,UE,Lh,Vn,Fee],CE),Hee=ee([Hh,Un,VE],PE),Kee=ee([Un,Hh,Hee,Vn],kE),O6=t=>{var e=Vn(t),n=sd(t),r=!1;return qh(t,e,n,r)},I6=ee([Un,O6],Sy),P6=ee([Un,VE,Kee,I6],IE),Gee=ee([nt,UE,Un,Vn],h6),Yee=ee([nt,UE,Un,Vn],m6),Wee=(t,e,n,r,i,s,l,u)=>{if(e){var{type:d}=e,h=Ba(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Wn(i[0]-i[1])*2*g:g,h&&l?l.map((b,_)=>({coordinate:r(b)+g,value:b,index:_,offset:g})):r.domain().map((b,_)=>({coordinate:r(b)+g,value:s?s[b]:b,index:_,offset:g}))}}},Gs=ee([nt,Un,VE,P6,O6,Gee,Yee,Vn],Wee),BE=ee([g6,v6,iee],(t,e,n)=>y6(n.shared,t,e)),R6=t=>t.tooltip.settings.trigger,$E=t=>t.tooltip.settings.defaultIndex,Kh=ee([cd,BE,R6,$E],E6),tl=ee([Kh,dd,$h,Hh],zE),k6=ee([Gs,tl],b6),qE=ee([Kh],t=>{if(t)return t.dataKey}),Xee=ee([Kh],t=>{if(t)return t.graphicalItemId}),D6=ee([cd,BE,R6,$E],T6),Qee=ee([Bs,$s,nt,Ln,Gs,$E,D6,Fh],A6),Zee=ee([Kh,Qee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Jee=ee([Kh],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),ete=ee([D6,tl,Fs,$h,k6,Fh,BE],N6),tte=ee([ete],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nte(t,e,n){return(e=rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=ite(t,"string");return typeof e=="symbol"?e:e+""}function ite(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ate=()=>Pe(Un),ste=()=>{var t=ate(),e=Pe(Gs),n=Pe(P6);return Jo(!t||!n?void 0:GP(GP({},t),{},{scale:n}),e)};function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t){var e=cte(t,"string");return typeof e=="symbol"?e:e+""}function cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ute=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},dte=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return lu(lu(lu({},r),Cn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return lu(lu(lu({},r),Cn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function fte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var M6=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,h,p,g,b,_=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,A=(p=n[u])===null||p===void 0?void 0:p.coordinate,S=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,E=void 0;if(!(_==null||A==null||S==null))if(Wn(A-_)!==Wn(S-A)){var O=[];if(Wn(S-A)===Wn(i[1]-i[0])){E=S;var M=A+i[1]-i[0];O[0]=Math.min(M,(M+_)/2),O[1]=Math.max(M,(M+_)/2)}else{E=_;var R=S+i[1]-i[0];O[0]=Math.min(A,(R+A)/2),O[1]=Math.max(A,(R+A)/2)}var $=[Math.min(A,(E+A)/2),Math.max(A,(E+A)/2)];if(t>$[0]&&t<=$[1]||t>=O[0]&&t<=O[1]){var k;return(k=n[u])===null||k===void 0?void 0:k.index}}else{var z=Math.min(_,S),N=Math.max(_,S);if(t>(z+A)/2&&t<=(N+A)/2){var j;return(j=n[u])===null||j===void 0?void 0:j.index}}}else if(e)for(var I=0;I<l;I++){var L=e[I];if(L!=null){var D=e[I+1],B=e[I-1];if(I===0&&D!=null&&t<=(L.coordinate+D.coordinate)/2||I===l-1&&B!=null&&t>(L.coordinate+B.coordinate)/2||I>0&&I<l-1&&B!=null&&D!=null&&t>(L.coordinate+B.coordinate)/2&&t<=(L.coordinate+D.coordinate)/2)return L.index}}return-1},L6=()=>Pe(dE),FE=(t,e)=>e,z6=(t,e,n)=>n,HE=(t,e,n,r)=>r,hte=ee(Gs,t=>Wv(t,e=>e.coordinate)),KE=ee([cd,FE,z6,HE],E6),GE=ee([KE,dd,$h,Hh],zE),mte=(t,e,n)=>{if(e!=null){var r=cd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},V6=ee([cd,FE,z6,HE],T6),fv=ee([Bs,$s,nt,Ln,Gs,HE,V6,Fh],A6),pte=ee([KE,fv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),U6=ee([Gs,GE],b6),gte=ee([V6,GE,Fs,$h,U6,Fh,FE],N6),vte=ee([KE,GE],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),yte=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&fte(t,l)){var u=zG(t,e),d=M6(u,s,i,n,r),h=ute(e,i,d,t);return{activeIndex:String(d),activeCoordinate:h}}},bte=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=nX(t,n);if(u){var d=VG(u,e),h=M6(d,l,s,r,i),p=dte(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},xte=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?yte(t,e,r,i,s,l,u):bte(t,e,n,r,i,s,l)},_te=ee(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),wte=ee(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(gn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:aJ}});function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ste(t,e,n){return(e=Ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Ate(t,"string");return typeof e=="symbol"?e:e+""}function Ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tte={},Nte={zIndexMap:Object.values(gn).reduce((t,e)=>XP(XP({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Tte)},jte=new Set(Object.values(gn));function Cte(t){return jte.has(t)}var B6=Yr({name:"zIndex",initialState:Nte,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Wt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Cte(n)&&delete t.zIndexMap[n])},prepare:Wt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Wt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Wt()}}}),{registerZIndexPortal:Ote,unregisterZIndexPortal:Ite,registerZIndexPortalElement:Pte,unregisterZIndexPortalElement:Rte}=B6.actions,kte=B6.reducer;function kr(t){var{zIndex:e,children:n}=t,r=vY(),i=r&&e!==void 0&&e!==0,s=Xn(),l=Ut();w.useLayoutEffect(()=>i?(l(Ote({zIndex:e})),()=>{l(Ite({zIndex:e}))}):Th,[l,e,i]);var u=Pe(d=>_te(d,e,s));return i?u?gS.createPortal(n,u):null:n}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(null,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Lte(t,"string");return typeof e=="symbol"?e:e+""}function Lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function Vte(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:h,chartName:p}=t,g=n,b=r,_=i;if(!d||!g||p!=="ScatterChart"&&h!=="axis")return null;var A,S,E;if(p==="ScatterChart")A=g,S=gW,E=gn.cursorLine;else if(p==="BarChart")A=vW(u,g,s,l),S=D3,E=gn.cursorRectangle;else if(u==="radial"&&v4(g)){var{cx:O,cy:M,radius:R,startAngle:$,endAngle:k}=L3(g);A={cx:O,cy:M,startAngle:$,endAngle:k,innerRadius:R,outerRadius:R},S=V3,E=gn.cursorLine}else A={points:sX(u,g,s)},S=Eu,E=gn.cursorLine;var z=typeof d=="object"&&"className"in d?d.className:void 0,N=Vp(Vp(Vp(Vp({stroke:"#ccc",pointerEvents:"none"},s),A),ic(d)),{},{payload:b,payloadIndex:_,className:dt("recharts-tooltip-cursor",z)});return w.createElement(kr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},w.createElement(zte,{cursor:d,cursorComp:S,cursorProps:N}))}function Ute(t){var e=ste(),n=b3(),r=sl(),i=L6();return e==null||n==null||r==null||i==null?null:w.createElement(Vte,tw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var $6=w.createContext(null),Bte=()=>w.useContext($6),E1={exports:{}},ZP;function $te(){return ZP||(ZP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||d,b),A=n?n+h:h;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],_]:d._events[A].push(_):(d._events[A]=_,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,A=new Array(_);b<_;b++)A[b]=g[b].fn;return A},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,b,_,A){var S=n?n+h:h;if(!this._events[S])return!1;var E=this._events[S],O=arguments.length,M,R;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),O){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,g),!0;case 4:return E.fn.call(E.context,p,g,b),!0;case 5:return E.fn.call(E.context,p,g,b,_),!0;case 6:return E.fn.call(E.context,p,g,b,_,A),!0}for(R=1,M=new Array(O-1);R<O;R++)M[R-1]=arguments[R];E.fn.apply(E.context,M)}else{var $=E.length,k;for(R=0;R<$;R++)switch(E[R].once&&this.removeListener(h,E[R].fn,void 0,!0),O){case 1:E[R].fn.call(E[R].context);break;case 2:E[R].fn.call(E[R].context,p);break;case 3:E[R].fn.call(E[R].context,p,g);break;case 4:E[R].fn.call(E[R].context,p,g,b);break;default:if(!M)for(k=1,M=new Array(O-1);k<O;k++)M[k-1]=arguments[k];E[R].fn.apply(E[R].context,M)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,b){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var A=this._events[_];if(A.fn)A.fn===p&&(!b||A.once)&&(!g||A.context===g)&&l(this,_);else{for(var S=0,E=[],O=A.length;S<O;S++)(A[S].fn!==p||b&&!A[S].once||g&&A[S].context!==g)&&E.push(A[S]);E.length?this._events[_]=E.length===1?E[0]:E:l(this,_)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(E1)),E1.exports}var qte=$te();const Fte=zs(qte);var rh=new Fte,nw="recharts.syncEvent.tooltip",JP="recharts.syncEvent.brush";function q6(t,e){if(e){var n=Number.parseInt(e,10);if(!ki(n))return t?.[n]}}var Hte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},F6=Yr({name:"options",initialState:Hte,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kte=F6.reducer,{createEventEmitter:Gte}=F6.actions;function Yte(t){return t.tooltip.syncInteraction}var Wte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},H6=Yr({name:"chartData",initialState:Wte,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:eR,setDataStartEndIndexes:Xte,setComputedData:cfe}=H6.actions,Qte=H6.reducer,Zte=["x","y"];function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){Jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jte(t,e,n){return(e=ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ene(t){var e=tne(t,"string");return typeof e=="symbol"?e:e+""}function tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nne(t,e){if(t==null)return{};var n,r,i=rne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ine(){var t=Pe(fE),e=Pe(hE),n=Ut(),r=Pe(V5),i=Pe(Gs),s=sl(),l=uy(),u=Pe(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return Th;var d=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:A,y:S}=_,E=nne(_,Zte),{x:O,y:M,width:R,height:$}=p.payload.sourceViewBox,k=cu(cu({},E),{},{x:l.x+(R?(A-O)/R:0)*l.width,y:l.y+($?(S-M)/$:0)*l.height});n(cu(cu({},p),{},{payload:cu(cu({},p.payload),{},{coordinate:k})}))}else n(p);return}if(i!=null){var z;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},j=r(i,N);z=i[j]}else r==="value"&&(z=i.find(K=>String(K.value)===p.payload.label));var{coordinate:I}=p.payload;if(z==null||p.payload.active===!1||I==null||l==null){n(J_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:D}=I,B=Math.min(L,l.x+l.width),V=Math.min(D,l.y+l.height),ue={x:s==="horizontal"?z.coordinate:B,y:s==="horizontal"?V:z.coordinate},be=J_({active:p.payload.active,coordinate:ue,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(be)}}};return rh.on(nw,d),()=>{rh.off(nw,d)}},[u,n,e,t,r,i,s,l])}function ane(){var t=Pe(fE),e=Pe(hE),n=Ut();w.useEffect(()=>{if(t==null)return Th;var r=(i,s,l)=>{e!==l&&t===i&&n(Xte(s))};return rh.on(JP,r),()=>{rh.off(JP,r)}},[n,e,t])}function sne(){var t=Ut();w.useEffect(()=>{t(Gte())},[t]),ine(),ane()}function one(t,e,n,r,i,s){var l=Pe(_=>mte(_,t,e)),u=Pe(hE),d=Pe(fE),h=Pe(V5),p=Pe(Yte),g=p?.active,b=uy();w.useEffect(()=>{if(!g&&d!=null&&u!=null){var _=J_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});rh.emit(nw,d,_,u)}},[g,n,l,i,r,u,d,h,s,b])}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e,n){return(e=cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dne(t){return t.dataKey}function fne(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(WY,e)}var iR=[],hne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ky(t){var e,n,r=cn(t,hne),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:b,position:_,reverseDirection:A,useTranslate3d:S,wrapperStyle:E,cursor:O,shared:M,trigger:R,defaultIndex:$,portal:k,axisId:z}=r,N=Ut(),j=typeof $=="number"?String($):$;w.useEffect(()=>{N(cee({shared:M,trigger:R,axisId:z,active:i,defaultIndex:j}))},[N,M,R,z,i,j]);var I=uy(),L=O3(),D=ree(M),{activeIndex:B,isActive:V}=(e=Pe(we=>vte(we,D,R,j)))!==null&&e!==void 0?e:{},ue=Pe(we=>gte(we,D,R,j)),be=Pe(we=>U6(we,D,R,j)),K=Pe(we=>pte(we,D,R,j)),Z=ue,de=Bte(),he=(n=i??V)!==null&&n!==void 0?n:!1,[ce,q]=P4([Z,he]),Y=D==="axis"?be:void 0;one(D,R,K,Y,B,he);var X=k??de;if(X==null||I==null||D==null)return null;var re=Z??iR;he||(re=iR),h&&re.length&&(re=N4(re.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),b,dne));var Se=re.length>0,se=w.createElement(nW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:he,coordinate:K,hasPayload:Se,offset:g,position:_,reverseDirection:A,useTranslate3d:S,viewBox:I,wrapperStyle:E,lastBoundingBox:ce,innerRef:q,hasPortalFromProps:!!k},fne(d,rR(rR({},r),{},{payload:re,label:Y,active:he,activeIndex:B,coordinate:K,accessibilityLayer:L})));return w.createElement(w.Fragment,null,gS.createPortal(se,X),he&&w.createElement(Ute,{cursor:O,tooltipEventType:D,coordinate:K,payload:re,index:B}))}var Gh=t=>null;Gh.displayName="Cell";function mne(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=gne(t,"string");return typeof e=="symbol"?e:e+""}function gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vne{constructor(e){mne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e,n){return(e=xne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wne={cacheSize:2e3,enableCache:!0},K6=yne({},wne),sR=new vne(K6.cacheSize),Sne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oR="recharts_measurement_span";function Ene(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var lR=(t,e)=>{try{var n=document.getElementById(oR);n||(n=document.createElement("span"),n.setAttribute("id",oR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Sne,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ph.isSsr)return{width:0,height:0};if(!K6.enableCache)return lR(e,n);var r=Ene(e,n),i=sR.get(r);if(i)return i;var s=lR(e,n);return sR.set(r,s),s},G6;function Ane(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Nne(t,"string");return typeof e=="symbol"?e:e+""}function Nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,One={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ine=["cm","mm","pt","pc","in","Q","px"];function Pne(t){return Ine.includes(t)}var vu="NaN";function Rne(t,e){return t*One[e]}class sr{static parse(e){var n,[,r,i]=(n=Cne.exec(e))!==null&&n!==void 0?n:[];return r==null?sr.NaN:new sr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ki(e)&&(this.unit=""),n!==""&&!jne.test(n)&&(this.num=NaN,this.unit=""),Pne(n)&&(this.num=Rne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new sr(NaN,""):new sr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new sr(NaN,""):new sr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new sr(NaN,""):new sr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new sr(NaN,""):new sr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ki(this.num)}}G6=sr;Ane(sr,"NaN",new G6(NaN,""));function Y6(t){if(t==null||t.includes(vu))return vu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=cR.exec(e))!==null&&n!==void 0?n:[],l=sr.parse(r??""),u=sr.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return vu;e=e.replace(cR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,b]=(h=uR.exec(e))!==null&&h!==void 0?h:[],_=sr.parse(p??""),A=sr.parse(b??""),S=g==="+"?_.add(A):_.subtract(A);if(S.isNaN())return vu;e=e.replace(uR,S.toString())}return e}var dR=/\(([^()]*)\)/;function kne(t){for(var e=t,n;(n=dR.exec(e))!=null;){var[,r]=n;e=e.replace(dR,Y6(r))}return e}function Dne(t){var e=t.replace(/\s+/g,"");return e=kne(e),e=Y6(e),e}function Mne(t){try{return Dne(t)}catch{return vu}}function A1(t){var e=Mne(t.slice(5,-1));return e===vu?"":e}var Lne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zne=["dx","dy","angle","className","breakAll"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(null,arguments)}function fR(t,e){if(t==null)return{};var n,r,i=Vne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var W6=/[ \f\n\r\t\v\u2028\u2029]+/,X6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Kt(e)||(n?i=e.toString().split(""):i=e.toString().split(W6));var s=i.map(u=>({word:u,width:Pf(u,r).width})),l=n?0:Pf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Une(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Q6=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),Z6=t=>t.reduce((e,n)=>e.width>n.width?e:n),Bne="",hR=(t,e,n,r,i,s,l,u)=>{var d=t.slice(0,e),h=X6({breakAll:n,style:r,children:d+Bne});if(!h)return[!1,[]];var p=Q6(h.wordsWithComputedWidth,s,l,u),g=p.length>i||Z6(p).width>Number(s);return[g,p]},$ne=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,h=Ne(s),p=String(l),g=Q6(e,r,n,i);if(!h||i)return g;var b=g.length>s||Z6(g).width>Number(r);if(!b)return g;for(var _=0,A=p.length-1,S=0,E;_<=A&&S<=p.length-1;){var O=Math.floor((_+A)/2),M=O-1,[R,$]=hR(p,M,d,u,s,r,n,i),[k]=hR(p,O,d,u,s,r,n,i);if(!R&&!k&&(_=O+1),R&&k&&(A=O-1),!R&&k){E=$;break}S++}return E||g},mR=t=>{var e=Kt(t)?[]:t.toString().split(W6);return[{words:e,width:void 0}]},qne=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Ph.isSsr){var u,d,h=X6({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,d=g}else return mR(r);return $ne({breakAll:s,children:r,maxLines:l,style:i},u,d,e,!!n)}return mR(r)},J6="#808080",Fne={angle:0,breakAll:!1,capHeight:"0.71em",fill:J6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Dy=w.forwardRef((t,e)=>{var n=cn(t,Fne),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:h,verticalAnchor:p}=n,g=fR(n,Lne),b=w.useMemo(()=>qne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:_,dy:A,angle:S,className:E,breakAll:O}=g,M=fR(g,zne);if(!Ma(r)||!Ma(i)||b.length===0)return null;var R=Number(r)+(Ne(_)?_:0),$=Number(i)+(Ne(A)?A:0);if(!Mt(R)||!Mt($))return null;var k;switch(p){case"start":k=A1("calc(".concat(l,")"));break;case"middle":k=A1("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:k=A1("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var N=b[0].width,{width:j}=g;z.push("scale(".concat(Ne(j)&&Ne(N)?j/N:1,")"))}return S&&z.push("rotate(".concat(S,", ").concat(R,", ").concat($,")")),z.length&&(M.transform=z.join(" ")),w.createElement("text",rw({},xr(M),{ref:e,x:R,y:$,className:dt("recharts-text",E),textAnchor:h,fill:u.includes("url")?J6:u}),b.map((I,L)=>{var D=I.words.join(O?"":" ");return w.createElement("tspan",{x:R,dy:L===0?k:s,key:"".concat(D,"-").concat(L)},D)}))});Dy.displayName="Text";var Hne=["labelRef"],Kne=["content"];function pR(t,e){if(t==null)return{};var n,r,i=Gne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yne(t,e,n){return(e=Wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(null,arguments)}var eL=w.createContext(null),Qne=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,d=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return w.createElement(eL.Provider,{value:d},u)},tL=()=>{var t=w.useContext(eL),e=uy();return t||y3(e)},Zne=w.createContext(null),Jne=()=>{var t=w.useContext(Zne),e=Pe(F5);return t||e},ere=t=>{var{value:e,formatter:n}=t,r=Kt(t.children)?e:t.children;return typeof n=="function"?n(r):r},YE=t=>t!=null&&typeof t=="function",tre=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},nre=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:g,endAngle:b,clockWise:_}=i,A=(h+p)/2,S=tre(g,b),E=S>=0?1:-1,O,M;switch(e){case"insideStart":O=g+E*s,M=_;break;case"insideEnd":O=b-E*s,M=!_;break;case"end":O=b+E*s,M=_;break;default:throw new Error("Unsupported position ".concat(e))}M=S<=0?M:!M;var R=Cn(u,d,A,O),$=Cn(u,d,A,O+(M?1:-1)*359),k="M".concat(R.x,",").concat(R.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(M?0:1,`,
    `).concat($.x,",").concat($.y),z=Kt(t.id)?Ff("recharts-radial-line-"):t.id;return w.createElement("text",ps({},r,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:z,d:k})),w.createElement("textPath",{xlinkHref:"#".concat(z)},n))},rre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Cn(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:A}=Cn(r,i,b,h);return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},iw=t=>"cx"in t&&Ne(t.cx),ire=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!iw(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:h,height:p}=e,g=l,b=l+(d-h)/2,_=(g+b)/2,A=(d+h)/2,S=g+d/2,E=p>=0?1:-1,O=E*r,M=E>0?"end":"start",R=E>0?"start":"end",$=d>=0?1:-1,k=$*r,z=$>0?"end":"start",N=$>0?"start":"end";if(i==="top"){var j={x:g+d/2,y:u-O,textAnchor:"middle",verticalAnchor:M};return mn(mn({},j),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var I={x:b+h/2,y:u+p+O,textAnchor:"middle",verticalAnchor:R};return mn(mn({},I),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var L={x:_-k,y:u+p/2,textAnchor:z,verticalAnchor:"middle"};return mn(mn({},L),s?{width:Math.max(L.x-s.x,0),height:p}:{})}if(i==="right"){var D={x:_+A+k,y:u+p/2,textAnchor:N,verticalAnchor:"middle"};return mn(mn({},D),s?{width:Math.max(s.x+s.width-D.x,0),height:p}:{})}var B=s?{width:A,height:p}:{};return i==="insideLeft"?mn({x:_+k,y:u+p/2,textAnchor:N,verticalAnchor:"middle"},B):i==="insideRight"?mn({x:_+A-k,y:u+p/2,textAnchor:z,verticalAnchor:"middle"},B):i==="insideTop"?mn({x:g+d/2,y:u+O,textAnchor:"middle",verticalAnchor:R},B):i==="insideBottom"?mn({x:b+h/2,y:u+p-O,textAnchor:"middle",verticalAnchor:M},B):i==="insideTopLeft"?mn({x:g+k,y:u+O,textAnchor:N,verticalAnchor:R},B):i==="insideTopRight"?mn({x:g+d-k,y:u+O,textAnchor:z,verticalAnchor:R},B):i==="insideBottomLeft"?mn({x:b+k,y:u+p-O,textAnchor:N,verticalAnchor:M},B):i==="insideBottomRight"?mn({x:b+h-k,y:u+p-O,textAnchor:z,verticalAnchor:M},B):i&&typeof i=="object"&&(Ne(i.x)||Is(i.x))&&(Ne(i.y)||Is(i.y))?mn({x:l+yr(i.x,A),y:u+yr(i.y,p),textAnchor:"end",verticalAnchor:"end"},B):mn({x:S,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},B)},are={angle:0,offset:5,zIndex:gn.label,position:"middle",textBreakAll:!1};function Po(t){var e=cn(t,are),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:h}=e,p=Jne(),g=tL(),b=r==="center"?g:p??g,_,A,S;if(n==null?_=b:iw(n)?_=n:_=y3(n),!_||Kt(i)&&Kt(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var E=mn(mn({},e),{},{viewBox:_});if(w.isValidElement(l)){var{labelRef:O}=E,M=pR(E,Hne);return w.cloneElement(l,M)}if(typeof l=="function"){var{content:R}=E,$=pR(E,Kne);if(A=w.createElement(l,$),w.isValidElement(A))return A}else A=ere(e);var k=xr(e);if(iw(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return nre(e,r,A,k,_);S=rre(_,e.offset,e.position)}else S=ire(e,_);return w.createElement(kr,{zIndex:e.zIndex},w.createElement(Dy,ps({ref:h,className:dt("recharts-label",u)},k,S,{textAnchor:Une(k.textAnchor)?k.textAnchor:S.textAnchor,breakAll:d}),A))}Po.displayName="Label";var sre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Po,ps({key:"label-implicit"},r)):Ma(t)?w.createElement(Po,ps({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Po?w.cloneElement(t,mn({key:"label-implicit"},r)):w.createElement(Po,ps({key:"label-implicit",content:t},r)):YE(t)?w.createElement(Po,ps({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Po,ps({},t,{key:"label-implicit"},r)):null};function ore(t){var{label:e,labelRef:n}=t,r=tL();return sre(e,r,n)||null}var T1={},N1={},vR;function lre(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(N1)),N1}var j1={},yR;function cre(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(j1)),j1}var bR;function ure(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lre(),n=cre(),r=AS();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(T1)),T1}var C1,xR;function dre(){return xR||(xR=1,C1=ure().last),C1}var fre=dre();const hre=zs(fre);var mre=["valueAccessor"],pre=["dataKey","clockWise","id","textBreakAll","zIndex"];function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}function _R(t,e){if(t==null)return{};var n,r,i=gre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vre=t=>Array.isArray(t.value)?hre(t.value):t.value,nL=w.createContext(void 0),WE=nL.Provider,rL=w.createContext(void 0),yre=rL.Provider;function bre(){return w.useContext(nL)}function xre(){return w.useContext(rL)}function rg(t){var{valueAccessor:e=vre}=t,n=_R(t,mre),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=_R(n,pre),h=bre(),p=xre(),g=h||p;return!g||!g.length?null:w.createElement(kr,{zIndex:u??gn.label},w.createElement(ln,{className:"recharts-label-list"},g.map((b,_)=>{var A,S=Kt(r)?e(b,_):yt(b&&b.payload,r),E=Kt(s)?{}:{id:"".concat(s,"-").concat(_)};return w.createElement(Po,hv({key:"label-".concat(_)},xr(b),d,E,{fill:(A=n.fill)!==null&&A!==void 0?A:b.fill,parentViewBox:b.parentViewBox,value:S,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}rg.displayName="LabelList";function My(t){var{label:e}=t;return e?e===!0?w.createElement(rg,{key:"labelList-implicit"}):w.isValidElement(e)||YE(e)?w.createElement(rg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(rg,hv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(null,arguments)}var iL=t=>{var{cx:e,cy:n,r,className:i}=t,s=dt("recharts-dot",i);return Ne(e)&&Ne(n)&&Ne(r)?w.createElement("circle",aw({},Pr(t),ES(t),{className:s,cx:e,cy:n,r})):null},aL=t=>t.graphicalItems.polarItems,_re=ee([Qt,zh],yE),Ly=ee([aL,en,_re],bE),wre=ee([Ly],xE),zy=ee([wre,wy],_E),Sre=ee([zy,en,Ly],SE);ee([zy,en,Ly],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=yt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:yt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var wR=()=>{},Ere=ee([zy,en,Ly,Oy,Qt],NE),Are=ee([en,AE,TE,wR,Ere,wR,nt,Qt],jE),sL=ee([en,nt,zy,Sre,Lh,Qt,Are],CE),Tre=ee([sL,en,ld],PE);ee([en,sL,Tre,Qt],kE);var Nre={radiusAxis:{},angleAxis:{}},oL=Yr({name:"polarAxis",initialState:Nre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ufe,removeRadiusAxis:dfe,addAngleAxis:ffe,removeAngleAxis:hfe}=oL.actions,jre=oL.reducer;function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=Ire(t,"string");return typeof e=="symbol"?e:e+""}function Ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pre=(t,e)=>e,XE=ee([aL,Pre],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Rre=[],QE=(t,e,n)=>n?.length===0?Rre:n,lL=ee([wy,XE,QE],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>ER(ER({},e.presentationProps),s.props))),i!=null)return i}}),kre=ee([lL,XE,QE],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=yt(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:al(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),Dre=ee([lL,XE,QE,Ln],(t,e,n,r)=>{if(!(e==null||t==null))return Lie({offset:r,pieSettings:e,displayedData:t,cells:n})}),O1={exports:{}},Ot={};var AR;function Mre(){if(AR)return Ot;AR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case t:switch(S=S.type,S){case n:case i:case r:case d:case h:case b:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case p:return S;case s:return S;default:return E}}case e:return E}}}return Ot.ContextConsumer=s,Ot.ContextProvider=l,Ot.Element=t,Ot.ForwardRef=u,Ot.Fragment=n,Ot.Lazy=g,Ot.Memo=p,Ot.Portal=e,Ot.Profiler=i,Ot.StrictMode=r,Ot.Suspense=d,Ot.SuspenseList=h,Ot.isContextConsumer=function(S){return A(S)===s},Ot.isContextProvider=function(S){return A(S)===l},Ot.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Ot.isForwardRef=function(S){return A(S)===u},Ot.isFragment=function(S){return A(S)===n},Ot.isLazy=function(S){return A(S)===g},Ot.isMemo=function(S){return A(S)===p},Ot.isPortal=function(S){return A(S)===e},Ot.isProfiler=function(S){return A(S)===i},Ot.isStrictMode=function(S){return A(S)===r},Ot.isSuspense=function(S){return A(S)===d},Ot.isSuspenseList=function(S){return A(S)===h},Ot.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===u||S.$$typeof===_||S.getModuleId!==void 0)},Ot.typeOf=A,Ot}var TR;function Lre(){return TR||(TR=1,O1.exports=Mre()),O1.exports}var zre=Lre(),NR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",jR=null,I1=null,cL=t=>{if(t===jR&&Array.isArray(I1))return I1;var e=[];return w.Children.forEach(t,n=>{Kt(n)||(zre.isFragment(n)?e=e.concat(cL(n.props.children)):e.push(n))}),I1=e,jR=t,e};function ZE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>NR(i)):r=[NR(e)],cL(t).forEach(i=>{var s=sc(i,"type.displayName")||sc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var JE=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,P1={},CR;function Vre(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(P1)),P1}var R1,OR;function Ure(){return OR||(OR=1,R1=Vre().isPlainObject),R1}var Bre=Ure();const $re=zs(Bre);var IR,PR,RR,kR,DR;function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}function bf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var zR=(t,e,n,r,i)=>{var s=n-r,l;return l=an(IR||(IR=bf(["M ",",",""])),t,e),l+=an(PR||(PR=bf(["L ",",",""])),t+n,e),l+=an(RR||(RR=bf(["L ",",",""])),t+n-s/2,e+i),l+=an(kR||(kR=bf(["L ",",",""])),t+n-s/2-r,e+i),l+=an(DR||(DR=bf(["L ",","," Z"])),t,e),l},Kre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gre=t=>{var e=cn(t,Kre),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,b=w.useRef(null),[_,A]=w.useState(-1),S=w.useRef(i),E=w.useRef(s),O=w.useRef(l),M=w.useRef(n),R=w.useRef(r),$=nd(t,"trapezoid-");if(w.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ue=b.current.getTotalLength();ue&&A(ue)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var k=dt("recharts-trapezoid",u);if(!g)return w.createElement("g",null,w.createElement("path",mv({},xr(e),{className:k,d:zR(n,r,i,s,l)})));var z=S.current,N=E.current,j=O.current,I=M.current,L=R.current,D="0px ".concat(_===-1?1:_,"px"),B="".concat(_,"px 0px"),V=I3(["strokeDasharray"],h,d);return w.createElement(td,{animationId:$,key:$,canBegin:_>0,duration:h,easing:d,isActive:g,begin:p},ue=>{var be=vt(z,i,ue),K=vt(N,s,ue),Z=vt(j,l,ue),de=vt(I,n,ue),he=vt(L,r,ue);b.current&&(S.current=be,E.current=K,O.current=Z,M.current=de,R.current=he);var ce=ue>0?{transition:V,strokeDasharray:B}:{strokeDasharray:D};return w.createElement("path",mv({},xr(e),{className:k,d:zR(de,he,be,K,Z),ref:b,style:LR(LR({},ce),e.style)}))})},Yre=["option","shapeType","activeClassName"];function Wre(t,e){if(t==null)return{};var n,r,i=Xre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return(e=Zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=Jre(t,"string");return typeof e=="symbol"?e:e+""}function Jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eie(t,e){return pv(pv({},e),t)}function tie(t,e){return t==="symbols"}function UR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(D3,n);case"trapezoid":return w.createElement(Gre,n);case"sector":return w.createElement(V3,n);case"symbols":if(tie(e))return w.createElement(SS,n);break;case"curve":return w.createElement(Eu,n);default:return null}}function nie(t){return w.isValidElement(t)?t.props:t}function eA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Wre(t,Yre),s;if(w.isValidElement(e))s=w.cloneElement(e,pv(pv({},i),nie(e)));else if(typeof e=="function")s=e(i,i.index);else if($re(e)&&typeof e!="boolean"){var l=eie(e,i);s=w.createElement(UR,{shapeType:n,elementProps:l})}else{var u=i;s=w.createElement(UR,{shapeType:n,elementProps:u})}return i.isActive?w.createElement(ln,{className:r},s):s}var tA=(t,e,n)=>{var r=Ut();return(i,s)=>l=>{t?.(i,s,l),r(_6({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},nA=t=>{var e=Ut();return(n,r)=>i=>{t?.(n,r,i),e(uee())}},rA=(t,e,n)=>{var r=Ut();return(i,s)=>l=>{t?.(i,s,l),r(dee({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Vy(t){var{tooltipEntrySettings:e}=t,n=Ut(),r=Xn(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(see(e)):i.current!==e&&n(oee({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(lee(i.current)),i.current=null)},[n]),null}function iA(t){var{legendPayload:e}=t,n=Ut(),r=Xn(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(N3(e)):i.current!==e&&n(j3({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(C3(i.current)),i.current=null)},[n]),null}function rie(t){var{legendPayload:e}=t,n=Ut(),r=Pe(nt),i=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(N3(e)):i.current!==e&&n(j3({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(C3(i.current)),i.current=null)},[n]),null}var k1,iie=()=>{var[t]=w.useState(()=>Ff("uid-"));return t},aie=(k1=r9.useId)!==null&&k1!==void 0?k1:iie;function sie(t,e){var n=aie();return e||(t?"".concat(t,"-").concat(n):n)}var oie=w.createContext(void 0),Uy=t=>{var{id:e,type:n,children:r}=t,i=sie("recharts-".concat(n),e);return w.createElement(oie.Provider,{value:i},r(i))},lie={cartesianItems:[],polarItems:[]},uL=Yr({name:"graphicalItems",initialState:lie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Wt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ea(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Wt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ea(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Wt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Wt()},removePolarGraphicalItem:{reducer(t,e){var n=ea(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Wt()}}}),{addCartesianGraphicalItem:cie,replaceCartesianGraphicalItem:uie,removeCartesianGraphicalItem:die,addPolarGraphicalItem:fie,removePolarGraphicalItem:hie}=uL.actions,mie=uL.reducer,pie=t=>{var e=Ut(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(cie(t)):n.current!==t&&e(uie({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(die(n.current)),n.current=null)},[e]),null},aA=w.memo(pie);function gie(t){var e=Ut();return w.useLayoutEffect(()=>(e(fie(t)),()=>{e(hie(t))}),[e,t]),null}var vie=["key"],yie=["onMouseEnter","onClick","onMouseLeave"],bie=["id"],xie=["id"];function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){_ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ie(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=Sie(t,"string");return typeof e=="symbol"?e:e+""}function Sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(null,arguments)}function By(t,e){if(t==null)return{};var n,r,i=Eie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Aie(t){var e=w.useMemo(()=>ZE(t.children,Gh),[t.children]),n=Pe(r=>kre(r,t.id,e));return n==null?null:w.createElement(rie,{legendPayload:n})}var Tie=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:al(u,e),hide:d,type:h,color:l,unit:"",graphicalItemId:p}};return w.createElement(Vy,{tooltipEntrySettings:g})}),Nie=(t,e)=>t>e?"start":t<e?"end":"middle",jie=(t,e,n)=>yr(typeof e=="function"?e(t):e,n,n*.8),Cie=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=M3(s,l),d=i+yr(t.cx,s,s/2),h=r+yr(t.cy,l,l/2),p=yr(t.innerRadius,u,0),g=jie(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:g,maxRadius:b}},Oie=(t,e)=>{var n=Wn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Iie(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Pie=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=dt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=By(e,vie);return w.createElement(Eu,nl({},i,{type:"linear",className:n}))},Rie=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var i=dt("recharts-pie-label-text",Iie(t));return w.createElement(Dy,nl({},e,{alignmentBaseline:"middle",className:i}),r)};function kie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=Pr(n),d=ic(i),h=ic(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,_)=>{var A=(b.startAngle+b.endAngle)/2,S=Cn(b.cx,b.cy,b.outerRadius+p,A),E=sn(sn(sn(sn({},u),b),{},{stroke:"none"},d),{},{index:_,textAnchor:Nie(S.x,b.cx)},S),O=sn(sn(sn(sn({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:_,points:[Cn(b.cx,b.cy,b.outerRadius,A),S],key:"line"});return w.createElement(kr,{zIndex:gn.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},w.createElement(ln,null,s&&Pie(s,O),Rie(i,E,yt(b,l))))});return w.createElement(ln,{className:"recharts-pie-labels"},g)}function Die(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(My,{label:i}):w.createElement(kie,{sectors:e,props:n,showLabels:r})}function Mie(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=Pe(tl),d=Pe(qE),h=Pe(Xee),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,_=By(i,yie),A=tA(p,i.dataKey,l),S=nA(b),E=rA(g,i.dataKey,l);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((O,M)=>{if(O?.startAngle===0&&O?.endAngle===0&&e.length!==1)return null;var R=h==null||h===l,$=String(M)===u&&(d==null||i.dataKey===d)&&R,k=u?r:null,z=n&&$?n:k,N=sn(sn({},O),{},{stroke:O.stroke,tabIndex:-1,[h3]:M,[m3]:l});return w.createElement(ln,nl({key:"sector-".concat(O?.startAngle,"-").concat(O?.endAngle,"-").concat(O.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},Nh(_,O,M),{onMouseEnter:A(O,M),onMouseLeave:S(O,M),onClick:E(O,M)}),w.createElement(eA,nl({option:s??z,index:M,shapeType:"sector",isActive:$},N)))}))}function Lie(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),_=Oie(u,d),A=Math.abs(_),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,E=r.filter(z=>yt(z,h,0)!==0).length,O=(A>=360?E:E-1)*S,M=A-E*b-O,R=r.reduce((z,N)=>{var j=yt(N,h,0);return z+(Ne(j)?j:0)},0),$;if(R>0){var k;$=r.map((z,N)=>{var j=yt(z,h,0),I=yt(z,p,N),L=Cie(n,s,z),D=(Ne(j)?j:0)/R,B,V=sn(sn({},z),i&&i[N]&&i[N].props);N?B=k.endAngle+Wn(_)*S*(j!==0?1:0):B=u;var ue=B+Wn(_)*((j!==0?b:0)+D*M),be=(B+ue)/2,K=(L.innerRadius+L.outerRadius)/2,Z=[{name:I,value:j,payload:V,dataKey:h,type:g,graphicalItemId:n.id}],de=Cn(L.cx,L.cy,K,be);return k=sn(sn(sn(sn({},n.presentationProps),{},{percent:D,cornerRadius:typeof l=="string"?parseFloat(l):l,name:I,tooltipPayload:Z,midAngle:be,middleRadius:K,tooltipPosition:de},V),L),{},{value:j,dataKey:h,startAngle:B,endAngle:ue,payload:V,paddingAngle:Wn(_)*S}),k})}return $}function zie(t){var{showLabels:e,sectors:n,children:r}=t,i=w.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return w.createElement(yre,{value:e?i:void 0},r)}function Vie(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,_=nd(e,"recharts-pie-"),A=n.current,[S,E]=w.useState(!1),O=w.useCallback(()=>{typeof b=="function"&&b(),E(!1)},[b]),M=w.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]);return w.createElement(zie,{showLabels:!S,sectors:i},w.createElement(td,{animationId:_,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:M,onAnimationEnd:O,key:_},R=>{var $=[],k=i&&i[0],z=k?.startAngle;return i?.forEach((N,j)=>{var I=A&&A[j],L=j>0?sc(N,"paddingAngle",0):0;if(I){var D=vt(I.endAngle-I.startAngle,N.endAngle-N.startAngle,R),B=sn(sn({},N),{},{startAngle:z+L,endAngle:z+D+L});$.push(B),z=B.endAngle}else{var{endAngle:V,startAngle:ue}=N,be=vt(0,V-ue,R),K=sn(sn({},N),{},{startAngle:z+L,endAngle:z+be+L});$.push(K),z=K.endAngle}}),n.current=$,w.createElement(ln,null,w.createElement(Mie,{sectors:$,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),w.createElement(Die,{showLabels:!S,sectors:i,props:e}),e.children)}var Uie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gn.area};function Bie(t){var{id:e}=t,n=By(t,bie),{hide:r,className:i,rootTabIndex:s}=t,l=w.useMemo(()=>ZE(t.children,Gh),[t.children]),u=Pe(p=>Dre(p,e,l)),d=w.useRef(null),h=dt("recharts-pie",i);return r||u==null?(d.current=null,w.createElement(ln,{tabIndex:s,className:h})):w.createElement(kr,{zIndex:t.zIndex},w.createElement(Tie,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),w.createElement(ln,{tabIndex:s,className:h},w.createElement(Vie,{props:sn(sn({},n),{},{sectors:u}),previousSectorsRef:d,id:e})))}function dL(t){var e=cn(t,Uie),{id:n}=e,r=By(e,xie),i=Pr(r);return w.createElement(Uy,{id:n,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(gie,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),w.createElement(Aie,nl({},r,{id:s})),w.createElement(Bie,nl({},r,{id:s}))))}dL.displayName="Pie";var $ie=["points"];function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=Hie(t,"string");return typeof e=="symbol"?e:e+""}function Hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(null,arguments)}function Kie(t,e){if(t==null)return{};var n,r,i=Gie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yie(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=dt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=Kie(s,$ie);return w.createElement(iL,gv({},u,{className:i}))}function Wie(t,e){return t==null?!1:e?!0:t.length===1}function fL(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:h=gn.scatter}=t;if(!Wie(e,n))return null;var p=JE(n),g=hF(n),b=e.map((A,S)=>{var E,O,M=D1(D1(D1({r:3},l),g),{},{index:S,cx:(E=A.x)!==null&&E!==void 0?E:void 0,cy:(O=A.y)!==null&&O!==void 0?O:void 0,dataKey:s,value:A.value,payload:A.payload,points:e});return w.createElement(Yie,{key:"dot-".concat(S),option:n,dotProps:M,className:i})}),_={};return u&&d!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),w.createElement(kr,{zIndex:h},w.createElement(ln,gv({className:r},_),b))}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xie(t,e,n){return(e=Qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Zie(t,"string");return typeof e=="symbol"?e:e+""}function Zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hL=0,Jie={xAxis:{},yAxis:{},zAxis:{}},mL=Yr({name:"cartesianAxis",initialState:Jie,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Wt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Wt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Wt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Wt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Wt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Wt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Wt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Wt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Wt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=FR(FR({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:eae,replaceXAxis:tae,removeXAxis:nae,addYAxis:rae,replaceYAxis:iae,removeYAxis:aae,addZAxis:mfe,replaceZAxis:pfe,removeZAxis:gfe,updateYAxisWidth:sae}=mL.actions,oae=mL.reducer,lae=ee([Ln],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),cae=ee([lae,Bs,$s],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),$y=()=>Pe(cae),uae=()=>Pe(tte);function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=M1(M1(M1({},u),ic(i)),ES(i)),h;return w.isValidElement(i)?h=w.cloneElement(i,d):typeof i=="function"?h=i(d):h=w.createElement(iL,d),w.createElement(ln,{className:"recharts-active-dot",clipPath:l},h)};function sw(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=gn.activeDot}=t,u=Pe(tl),d=uae();if(e==null||d==null)return null;var h=e.find(p=>d.includes(p.payload));return Kt(h)?null:w.createElement(kr,{zIndex:l},w.createElement(mae,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var KR=(t,e,n)=>{var r=n??t;if(!Kt(r))return yr(r,e,0)},pae=(t,e,n)=>{var r={},i=t.filter(Ty),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,b=g.map(A=>A.dataKey),_=KR(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:_}}),d=s.map(h=>{var p=[h.dataKey].filter(b=>b!=null),g=KR(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]};function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gae(t,e,n){return(e=vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vae(t){var e=yae(t,"string");return typeof e=="symbol"?e:e+""}function yae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bae(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=yr(t,n,0,!0),u,d=[];if(Mt(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((O,M)=>O+(M.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,_={offset:b-l,size:0};u=r.reduce((O,M)=>{var R,$={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:_.offset+_.size+l,size:h?p:(R=M.barSize)!==null&&R!==void 0?R:0}},k=[...O,$];return _=k[k.length-1].position,k},d)}else{var A=yr(e,n,0,!0);n-2*A-(s-1)*l<=0&&(l=0);var S=(n-2*A-(s-1)*l)/s;S>1&&(S>>=0);var E=Mt(i)?Math.min(S,i):S;u=r.reduce((O,M,R)=>[...O,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:A+(S+l)*R+(S-E)/2,size:E}}],d)}return u}}var xae=(t,e,n,r,i,s,l)=>{var u=Kt(l)?e:l,d=bae(n,r,i!==s?i:s,t,u);return i!==s&&d!=null&&(d=d.map(h=>Up(Up({},h),{},{position:Up(Up({},h.position),{},{offset:h.position.offset-i/2})}))),d},_ae=(t,e)=>{var n=Ay(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function wae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Mt(t.zIndex)?t.zIndex:e}var pL=t=>{var{chartData:e}=t,n=Ut(),r=Xn();return w.useEffect(()=>r?()=>{}:(n(eR(e)),()=>{n(eR(void 0))}),[e,n,r]),null},YR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gL=Yr({name:"brush",initialState:YR,reducers:{setBrushSettings(t,e){return e.payload==null?YR:e.payload}}}),{setBrushSettings:vfe}=gL.actions,Sae=gL.reducer;function Eae(t,e,n){return(e=Aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Tae(t,"string");return typeof e=="symbol"?e:e+""}function Tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sA{static create(e){return new sA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Eae(sA,"EPS",1e-4);function Nae(t){return(t%180+180)%180}var jae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Nae(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Cae={dots:[],areas:[],lines:[]},vL=Yr({name:"referenceElements",initialState:Cae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ea(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ea(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ea(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:yfe,removeDot:bfe,addArea:xfe,removeArea:_fe,addLine:wfe,removeLine:Sfe}=vL.actions,Oae=vL.reducer,Iae=w.createContext(void 0),Pae=t=>{var{children:e}=t,[n]=w.useState("".concat(Ff("recharts"),"-clip")),r=$y();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return w.createElement(Iae.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function yL(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Rae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return jae(r,n)}function kae(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function ih(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Dae(t,e){return yL(t,e+1)}function Mae(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,d=0,h=1,p=l,g=function(){var A=r?.[d];if(A===void 0)return{v:yL(r,h)};var S=d,E,O=()=>(E===void 0&&(E=n(A,S)),E),M=A.coordinate,R=d===0||ih(t,M,O,p,u);R||(d=0,p=l,h+=1),R&&(p=M+t*(O()/2+i),d+=h)},b;h<=s.length;)if(b=g(),b)return b.v;return[]}function Lae(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=e,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,b=!0,_=function(){var M=r[A],R=A,$,k=()=>($===void 0&&($=n(M,R)),$),z=M.coordinate,N=A===p||ih(t,z,k,g,d);if(!N)return b=!1,1;N&&(g=z+t*(k()/2+i))},A=p;A<l&&!_();A+=h);if(b){for(var S=[],E=p;E<l;E+=h)S.push(r[E]);return S}}return[]}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=Uae(t,"string");return typeof e=="symbol"?e:e+""}function Uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bae(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,h=function(b){var _=s[b],A,S=()=>(A===void 0&&(A=n(_,b)),A);if(b===l-1){var E=t*(_.coordinate+t*S()/2-d);s[b]=_=mr(mr({},_),{},{tickCoord:E>0?_.coordinate-E*t:_.coordinate})}else s[b]=_=mr(mr({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var O=ih(t,_.tickCoord,S,u,d);O&&(d=_.tickCoord-t*(S()/2+i),s[b]=mr(mr({},_),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function $ae(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:h}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-h);if(l[u-1]=p=mr(mr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var _=ih(t,p.tickCoord,()=>g,d,h);_&&(h=p.tickCoord-t*(g/2+i),l[u-1]=mr(mr({},p),{},{isShow:!0}))}}for(var A=s?u-1:u,S=function(M){var R=l[M],$,k=()=>($===void 0&&($=n(R,M)),$);if(M===0){var z=t*(R.coordinate-t*k()/2-d);l[M]=R=mr(mr({},R),{},{tickCoord:z<0?R.coordinate-z*t:R.coordinate})}else l[M]=R=mr(mr({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var N=ih(t,R.tickCoord,k,d,h);N&&(d=R.tickCoord+t*(k()/2+i),l[M]=mr(mr({},R),{},{isShow:!0}))}},E=0;E<A;E++)S(E);return l}function oA(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Ne(d)||Ph.isSsr){var b;return(b=Dae(i,Ne(d)?d:0))!==null&&b!==void 0?b:[]}var _=[],A=u==="top"||u==="bottom"?"width":"height",S=p&&A==="width"?Pf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(R,$)=>{var k=typeof h=="function"?h(R.value,$):R.value;return A==="width"?Rae(Pf(k,{fontSize:e,letterSpacing:n}),S,g):Pf(k,{fontSize:e,letterSpacing:n})[A]},O=i.length>=2?Wn(i[1].coordinate-i[0].coordinate):1,M=kae(s,O,A);return d==="equidistantPreserveStart"?Mae(O,M,E,i,l):d==="equidistantPreserveEnd"?Lae(O,M,E,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=$ae(O,M,E,i,l,d==="preserveStartEnd"):_=Bae(O,M,E,i,l),_.filter(R=>R.isShow))}var qae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,h=l+d+u+(n?r:0);return Math.round(h)}return 0},Fae=["axisLine","width","height","className","hide","ticks","axisType"];function Hae(t,e){if(t==null)return{};var n,r,i=Kae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){Gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e,n){return(e=Yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Es={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gn.axis};function Xae(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var h=Tn(Tn(Tn({},d),Pr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Tn(Tn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Tn(Tn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",dc({},h,{className:dt("recharts-cartesian-axis-line",sc(u,"className"))}))}function Qae(t,e,n,r,i,s,l,u,d){var h,p,g,b,_,A,S=u?-1:1,E=t.tickSize||l,O=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,b=n+ +!u*i,g=b-S*E,A=g-S*d,_=O;break;case"left":g=b=t.coordinate,p=e+ +!u*r,h=p-S*E,_=h-S*d,A=O;break;case"right":g=b=t.coordinate,p=e+ +u*r,h=p+S*E,_=h+S*d,A=O;break;default:h=p=t.coordinate,b=n+ +u*i,g=b+S*E,A=g+S*d,_=O;break}return{line:{x1:h,y1:g,x2:p,y2:b},tick:{x:_,y:A}}}function Zae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Jae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ese(t){var{option:e,tickProps:n,value:r}=t,i,s=dt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,Tn(Tn({},n),{},{className:s}));else if(typeof e=="function")i=e(Tn(Tn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=dt(l,e?.className)),i=w.createElement(Dy,dc({},n,{className:l}),r)}return i}var tse=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:h,orientation:p,mirror:g,x:b,y:_,width:A,height:S,tickSize:E,tickMargin:O,fontSize:M,letterSpacing:R,getTicksConfig:$,events:k,axisType:z}=t,N=oA(Tn(Tn({},$),{},{ticks:n}),M,R),j=Zae(p,g),I=Jae(p,g),L=Pr($),D=ic(r),B={};typeof i=="object"&&(B=i);var V=Tn(Tn({},L),{},{fill:"none"},B),ue=N.map(Z=>Tn({entry:Z},Qae(Z,b,_,A,S,p,E,g,O))),be=ue.map(Z=>{var{entry:de,line:he}=Z;return w.createElement(ln,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(de.value,"-").concat(de.coordinate,"-").concat(de.tickCoord)},i&&w.createElement("line",dc({},V,he,{className:dt("recharts-cartesian-axis-tick-line",sc(i,"className"))})))}),K=ue.map((Z,de)=>{var{entry:he,tick:ce}=Z,q=Tn(Tn(Tn(Tn({textAnchor:j,verticalAnchor:I},L),{},{stroke:"none",fill:s},D),ce),{},{index:de,payload:he,visibleTicksCount:N.length,tickFormatter:l,padding:d},h);return w.createElement(ln,dc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},Nh(k,he,de)),r&&w.createElement(ese,{option:r,tickProps:q,value:"".concat(typeof l=="function"?l(he.value,de):he.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},K.length>0&&w.createElement(kr,{zIndex:gn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},K)),be.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},be))}),nse=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=t,h=Hae(t,Fae),[p,g]=w.useState(""),[b,_]=w.useState(""),A=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return qae({ticks:A.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=w.useCallback(E=>{if(E){var O=E.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=O;var M=O[0];if(M){var R=window.getComputedStyle(M),$=R.fontSize,k=R.letterSpacing;($!==p||k!==b)&&(g($),_(k))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(kr,{zIndex:t.zIndex},w.createElement(ln,{className:dt("recharts-cartesian-axis",s)},w.createElement(Xae,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Pr(t)}),w.createElement(tse,{ref:S,axisType:d,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(Qne,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(ore,{label:t.label,labelRef:t.labelRef}),t.children)))}),lA=w.forwardRef((t,e)=>{var n=cn(t,Es);return w.createElement(nse,dc({},n,{ref:e}))});lA.displayName="CartesianAxis";var rse=["x1","y1","x2","y2","key"],ise=["offset"],ase=["xAxisId","yAxisId"],sse=["xAxisId","yAxisId"];function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ose(t,e,n){return(e=lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=cse(t,"string");return typeof e=="symbol"?e:e+""}function cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(null,arguments)}function vv(t,e){if(t==null)return{};var n,r,i=use(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function use(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dse=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return w.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bL(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:h}=n,p=vv(n,rse),g=(i=Pr(p))!==null&&i!==void 0?i:{},{offset:b}=g,_=vv(g,ise);r=w.createElement("line",Hl({},_,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:h}))}return r}function fse(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=vv(t,ase),d=i.map((h,p)=>{var g=vr(vr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(bL,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function hse(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=vv(t,sse),d=i.map((h,p)=>{var g=vr(vr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(bL,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function mse(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],A=_?i+l-g:h[b+1]-g;if(A<=0)return null;var S=b%e.length;return w.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:A,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function pse(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],A=_?i+l-g:h[b+1]-g;if(A<=0)return null;var S=b%n.length;return w.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:A,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var gse=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return c3(oA(vr(vr(vr({},Es),n),{},{ticks:u3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},vse=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return c3(oA(vr(vr(vr({},Es),n),{},{ticks:u3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},yse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gn.grid};function qy(t){var e=DS(),n=MS(),r=b3(),i=vr(vr({},cn(t,yse)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:h,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:_}=i,A=Xn(),S=Pe(I=>$P(I,"xAxis",s,A)),E=Pe(I=>$P(I,"yAxis",l,A));if(!La(h)||!La(p)||!Ne(u)||!Ne(d))return null;var O=i.verticalCoordinatesGenerator||gse,M=i.horizontalCoordinatesGenerator||vse,{horizontalPoints:R,verticalPoints:$}=i;if((!R||!R.length)&&typeof M=="function"){var k=b&&b.length,z=M({yAxis:E?vr(vr({},E),{},{ticks:k?b:E.ticks}):void 0,width:e??h,height:n??p,offset:r},k?!0:g);Fg(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(R=z)}if((!$||!$.length)&&typeof O=="function"){var N=_&&_.length,j=O({xAxis:S?vr(vr({},S),{},{ticks:N?_:S.ticks}):void 0,width:e??h,height:n??p,offset:r},N?!0:g);Fg(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&($=j)}return w.createElement(kr,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(dse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(mse,Hl({},i,{horizontalPoints:R})),w.createElement(pse,Hl({},i,{verticalPoints:$})),w.createElement(fse,Hl({},i,{offset:r,horizontalPoints:R,xAxis:S,yAxis:E})),w.createElement(hse,Hl({},i,{offset:r,verticalPoints:$,xAxis:S,yAxis:E}))))}qy.displayName="CartesianGrid";var bse={},xL=Yr({name:"errorBars",initialState:bse,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Efe,replaceErrorBar:Afe,removeErrorBar:Tfe}=xL.actions,xse=xL.reducer,_se=["children"];function wse(t,e){if(t==null)return{};var n,r,i=Sse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ese={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ase=w.createContext(Ese);function _L(t){var{children:e}=t,n=wse(t,_se);return w.createElement(Ase.Provider,{value:n},e)}function Fy(t,e){var n,r,i=Pe(h=>Hs(h,t)),s=Pe(h=>Ks(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Hn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Kn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function cA(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=$y(),{needClipX:s,needClipY:l,needClip:u}=Fy(e,n);if(!u||!i)return null;var{x:d,y:h,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?d:d-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var wL=(t,e,n,r)=>Ua(t,"xAxis",e,r),SL=(t,e,n,r)=>Va(t,"xAxis",e,r),EL=(t,e,n,r)=>Ua(t,"yAxis",n,r),AL=(t,e,n,r)=>Va(t,"yAxis",n,r),Tse=ee([nt,wL,EL,SL,AL],(t,e,n,r,i)=>Ba(t,"xAxis")?Jo(e,r,!1):Jo(n,i,!1)),Nse=(t,e,n,r,i)=>i;function jse(t){return t.type==="line"}var Cse=ee([Uh,Nse],(t,e)=>t.filter(jse).find(n=>n.id===e)),Ose=ee([nt,wL,EL,SL,AL,Cse,Tse,lE],(t,e,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,_;if(b!=null&&b.length>0?_=b:_=d?.slice(h,p+1),_!=null)return goe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}});function TL(t){var e=ic(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var L1={exports:{}},z1={};var ZR;function Ise(){if(ZR)return z1;ZR=1;var t=Hu();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return z1.useSyncExternalStoreWithSelector=function(d,h,p,g,b){var _=i(null);if(_.current===null){var A={hasValue:!1,value:null};_.current=A}else A=_.current;_=l(function(){function E(k){if(!O){if(O=!0,M=k,k=g(k),b!==void 0&&A.hasValue){var z=A.value;if(b(z,k))return R=z}return R=k}if(z=R,n(M,k))return z;var N=g(k);return b!==void 0&&b(z,N)?(M=k,z):(M=k,R=N)}var O=!1,M,R,$=p===void 0?null:p;return[function(){return E(h())},$===null?void 0:function(){return E($())}]},[h,p,g,b]);var S=r(d,_[0],_[1]);return s(function(){A.hasValue=!0,A.value=S},[S]),u(S),S},z1}var JR;function Pse(){return JR||(JR=1,L1.exports=Ise()),L1.exports}Pse();function Rse(t){t()}function kse(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Rse(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ek={notify(){},get:()=>[]};function Dse(t,e){let n,r=ek,i=0,s=!1;function l(S){p();const E=r.subscribe(S);let O=!1;return()=>{O||(O=!0,E(),g())}}function u(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(d),r=kse())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=ek)}function b(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const A={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return A}var Mse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lse=Mse(),zse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vse=zse(),Use=()=>Lse||Vse?w.useLayoutEffect:w.useEffect,Bse=Use();function tk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function $se(t,e){if(tk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!tk(t[n[i]],e[n[i]]))return!1;return!0}var qse=Symbol.for("react-redux-context"),Fse=typeof globalThis<"u"?globalThis:{};function Hse(){if(!w.createContext)return{};const t=Fse[qse]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Kse=Hse();function Gse(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const d=Dse(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);Bse(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||Kse;return w.createElement(u.Provider,{value:s},e)}var Yse=Gse,Wse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Xse(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Yh(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Wse.has(r)){if(t[r]==null&&e[r]==null)continue;if(!$se(t[r],e[r]))return!1}else if(!Xse(t[r],e[r]))return!1;return!0}var Qse=["id"],Zse=["type","layout","connectNulls","needClip","shape"],Jse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ah.apply(null,arguments)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eoe(t,e,n){return(e=toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function toe(t){var e=noe(t,"string");return typeof e=="symbol"?e:e+""}function noe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uA(t,e){if(t==null)return{};var n,r,i=roe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function roe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ioe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:al(n,e),payload:t}]},aoe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:al(l,e),hide:u,type:h,color:r,unit:d,graphicalItemId:p}};return w.createElement(Vy,{tooltipEntrySettings:g})}),NL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function soe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var ooe=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return NL(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>s){u=[...n.slice(0,d),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...soe(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function loe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=uA(r,Qse),h=Pr(d);return w.createElement(fL,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function coe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Aa(Aa({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(WE,{value:e?i:void 0},n)}function rk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:d,needClip:h,shape:p}=s,g=uA(s,Zse),b=Aa(Aa({},xr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(eA,ah({shapeType:"curve",option:p},b,{pathRef:n})),w.createElement(loe,{points:r,clipPathId:e,props:s}))}function uoe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function doe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:b,width:_,height:A,onAnimationEnd:S,onAnimationStart:E}=n,O=i.current,M=nd(l,"recharts-line-"),R=w.useRef(M),[$,k]=w.useState(!1),z=!$,N=w.useCallback(()=>{typeof S=="function"&&S(),k(!1)},[S]),j=w.useCallback(()=>{typeof E=="function"&&E(),k(!0)},[E]),I=uoe(r.current),L=w.useRef(0);R.current!==M&&(L.current=s.current,R.current=M);var D=L.current;return w.createElement(coe,{points:l,showLabels:z},n.children,w.createElement(td,{animationId:M,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:N,onAnimationStart:j,key:M},B=>{var V=vt(D,I+D,B),ue=Math.min(V,I),be;if(d)if(u){var K="".concat(u).split(/[,\s]+/gim).map(he=>parseFloat(he));be=ooe(ue,I,K)}else be=NL(I,ue);else be=u==null?void 0:String(u);if(B>0&&I>0&&(i.current=l,s.current=Math.max(s.current,ue)),O){var Z=O.length/l.length,de=B===1?l:l.map((he,ce)=>{var q=Math.floor(ce*Z);if(O[q]){var Y=O[q];return Aa(Aa({},he),{},{x:vt(Y.x,he.x,B),y:vt(Y.y,he.y,B)})}return b?Aa(Aa({},he),{},{x:vt(_*2,he.x,B),y:vt(A/2,he.y,B)}):Aa(Aa({},he),{},{x:he.x,y:he.y})});return i.current=de,w.createElement(rk,{props:n,points:de,clipPathId:e,pathRef:r,strokeDasharray:be})}return w.createElement(rk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:be})}),w.createElement(My,{label:n.label}))}function foe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(doe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var hoe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:yt(t.payload,e)}};class moe extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:h,height:p,id:g,needClip:b,zIndex:_}=this.props;if(e)return null;var A=dt("recharts-line",i),S=g,{r:E,strokeWidth:O}=TL(n),M=JE(n),R=E*2+O,$=b?"url(#clipPath-".concat(M?"":"dots-").concat(S,")"):void 0;return w.createElement(kr,{zIndex:_},w.createElement(ln,{className:A},b&&w.createElement("defs",null,w.createElement(cA,{clipPathId:S,xAxisId:s,yAxisId:l}),!M&&w.createElement("clipPath",{id:"clipPath-dots-".concat(S)},w.createElement("rect",{x:d-R/2,y:u-R/2,width:h+R,height:p+R}))),w.createElement(_L,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:hoe,errorBarOffset:0},w.createElement(foe,{props:this.props,clipPathId:S}))),w.createElement(sw,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:$}))}}var jL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:gn.line,type:"linear"};function poe(t){var e=cn(t,jL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:g,legendType:b,xAxisId:_,yAxisId:A,id:S}=e,E=uA(e,Jse),{needClip:O}=Fy(_,A),M=$y(),R=sl(),$=Xn(),k=Pe(L=>Ose(L,_,A,$,S));if(R!=="horizontal"&&R!=="vertical"||k==null||M==null)return null;var{height:z,width:N,x:j,y:I}=M;return w.createElement(moe,ah({},E,{id:S,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:b,xAxisId:_,yAxisId:A,points:k,layout:R,height:z,width:N,left:j,top:I,needClip:O}))}function goe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((h,p)=>{var g=yt(h,l);if(e==="horizontal"){var b=qg({axis:n,ticks:i,bandSize:u,entry:h,index:p}),_=Kt(g)?null:r.scale(g);return{x:b,y:_,value:g,payload:h}}var A=Kt(g)?null:n.scale(g),S=qg({axis:r,ticks:s,bandSize:u,entry:h,index:p});return A==null||S==null?null:{x:A,y:S,value:g,payload:h}}).filter(Boolean)}function voe(t){var e=cn(t,jL),n=Xn();return w.createElement(Uy,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(iA,{legendPayload:ioe(e)}),w.createElement(aoe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(aA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(poe,ah({},e,{id:r}))))}var Bu=w.memo(voe,Yh);Bu.displayName="Line";function $a(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:hL}function qa(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:hL}var CL=(t,e,n)=>Ua(t,"xAxis",$a(t,e),n),OL=(t,e,n)=>Va(t,"xAxis",$a(t,e),n),IL=(t,e,n)=>Ua(t,"yAxis",qa(t,e),n),PL=(t,e,n)=>Va(t,"yAxis",qa(t,e),n),yoe=ee([nt,CL,IL,OL,PL],(t,e,n,r,i)=>Ba(t,"xAxis")?Jo(e,r,!1):Jo(n,i,!1)),boe=(t,e)=>e,RL=ee([Uh,boe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),kL=t=>{var e=nt(t),n=Ba(e,"xAxis");return n?"yAxis":"xAxis"},xoe=(t,e)=>{var n=kL(t);return n==="yAxis"?qa(t,e):$a(t,e)},_oe=(t,e,n)=>uv(t,kL(t),xoe(t,e),n),woe=ee([RL,_oe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=Ay(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),Soe=ee([nt,CL,IL,OL,PL,woe,_5,yoe,RL,JZ],(t,e,n,r,i,s,l,u,d,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=d,A;if(_&&_.length>0?A=_:A=p?.slice(g,b+1),A!=null)return $oe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:A,chartBaseValue:h,bandSize:u})}}),Eoe=["id"],Aoe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(null,arguments)}function DL(t,e){if(t==null)return{};var n,r,i=Toe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Toe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Noe(t,e,n){return(e=joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yv(t,e){return t&&t!=="none"?t:e}var Ooe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:yv(r,i),value:al(n,e),payload:t}]},Ioe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:al(l,e),hide:u,type:h,color:yv(r,s),unit:d,graphicalItemId:p}};return w.createElement(Vy,{tooltipEntrySettings:g})});function Poe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=Pr(r);return w.createElement(fL,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function Roe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return yu(yu({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return w.createElement(WE,{value:e?i:void 0},n)}function ak(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:d,connectNulls:h,isRange:p}=s,{id:g}=s,b=DL(s,Eoe),_=Pr(b),A=xr(b);return w.createElement(w.Fragment,null,e?.length>1&&w.createElement(ln,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Eu,Ql({},A,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&w.createElement(Eu,Ql({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),d!=="none"&&p&&w.createElement(Eu,Ql({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),w.createElement(Poe,{points:e,props:b,clipPathId:i}))}function koe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,d=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Mt(u)||!Mt(d))return null;var h=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.x||0));return Ne(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Ne(p)?w.createElement("rect",{x:0,y:u<d?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}function Doe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,d=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Mt(u)||!Mt(d))return null;var h=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.y||0));return Ne(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Ne(p)?w.createElement("rect",{x:u<d?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function Moe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?w.createElement(koe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):w.createElement(Doe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Loe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:_}=r,A=w.useMemo(()=>({points:l,baseLine:u}),[l,u]),S=nd(A,"recharts-area-"),E=gY(),[O,M]=w.useState(!1),R=!O,$=w.useCallback(()=>{typeof _=="function"&&_(),M(!1)},[_]),k=w.useCallback(()=>{typeof b=="function"&&b(),M(!0)},[b]);if(E==null)return null;var z=i.current,N=s.current;return w.createElement(Roe,{showLabels:R,points:l},r.children,w.createElement(td,{animationId:S,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:$,onAnimationStart:k,key:S},j=>{if(z){var I=z.length/l.length,L=j===1?l:l.map((B,V)=>{var ue=Math.floor(V*I);if(z[ue]){var be=z[ue];return yu(yu({},B),{},{x:vt(be.x,B.x,j),y:vt(be.y,B.y,j)})}return B}),D;return Ne(u)?D=vt(N,u,j):Kt(u)||ki(u)?D=vt(N,0,j):D=u.map((B,V)=>{var ue=Math.floor(V*I);if(Array.isArray(N)&&N[ue]){var be=N[ue];return yu(yu({},B),{},{x:vt(be.x,B.x,j),y:vt(be.y,B.y,j)})}return B}),j>0&&(i.current=L,s.current=D),w.createElement(ak,{points:L,baseLine:D,needClip:e,clipPathId:n,props:r})}return j>0&&(i.current=l,s.current=u),w.createElement(ln,null,d&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(Moe,{alpha:j,points:l,baseLine:u,layout:E,strokeWidth:r.strokeWidth}))),w.createElement(ln,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(ak,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),w.createElement(My,{label:r.label}))}function zoe(t){var{needClip:e,clipPathId:n,props:r}=t,i=w.useRef(null),s=w.useRef();return w.createElement(Loe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Voe extends w.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:d,yAxisId:h,width:p,height:g,id:b,baseLine:_,zIndex:A}=this.props;if(e)return null;var S=dt("recharts-area",i),E=b,{r:O,strokeWidth:M}=TL(n),R=JE(n),$=O*2+M,k=u?"url(#clipPath-".concat(R?"":"dots-").concat(E,")"):void 0;return w.createElement(kr,{zIndex:A},w.createElement(ln,{className:S},u&&w.createElement("defs",null,w.createElement(cA,{clipPathId:E,xAxisId:d,yAxisId:h}),!R&&w.createElement("clipPath",{id:"clipPath-dots-".concat(E)},w.createElement("rect",{x:l-$/2,y:s-$/2,width:p+$,height:g+$}))),w.createElement(zoe,{needClip:u,clipPathId:E,props:this.props})),w.createElement(sw,{points:r,mainColor:yv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(_)&&w.createElement(sw,{points:_,mainColor:yv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var ML={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:gn.area};function Uoe(t){var e,n=cn(t,ML),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:h,fillOpacity:p,hide:g,isAnimationActive:b,legendType:_,stroke:A,xAxisId:S,yAxisId:E}=n,O=DL(n,Aoe),M=sl(),R=L6(),{needClip:$}=Fy(S,E),k=Xn(),{points:z,isRange:N,baseLine:j}=(e=Pe(ue=>Soe(ue,t.id,k)))!==null&&e!==void 0?e:{},I=$y();if(M!=="horizontal"&&M!=="vertical"||I==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:L,width:D,x:B,y:V}=I;return!z||!z.length?null:w.createElement(Voe,Ql({},O,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:j,connectNulls:u,dot:d,fill:h,fillOpacity:p,height:L,hide:g,layout:M,isAnimationActive:b==="auto"?!Ph.isSsr:b,isRange:N,legendType:_,needClip:$,points:z,stroke:A,width:D,left:B,top:V,xAxisId:S,yAxisId:E}))}var Boe=(t,e,n,r,i)=>{var s=n??e;if(Ne(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function $oe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:_}=t,A=i&&i.length,S=Boe(s,l,n,u,d),E=s==="horizontal",O=!1,M=h.map(($,k)=>{var z,N,j;if(A)j=i[p+k];else{var I=yt($,r);Array.isArray(I)?(j=I,O=!0):j=[S,I]}var L=(z=(N=j)===null||N===void 0?void 0:N[1])!==null&&z!==void 0?z:null,D=L==null||A&&!e&&yt($,r)==null;return E?{x:qg({axis:u,ticks:g,bandSize:_,entry:$,index:k}),y:D?null:d.scale(L),value:j,payload:$}:{x:D?null:u.scale(L),y:qg({axis:d,ticks:b,bandSize:_,entry:$,index:k}),value:j,payload:$}}),R;return A||O?R=M.map($=>{var k=Array.isArray($.value)?$.value[0]:null;return E?{x:$.x,y:k!=null&&$.y!=null?d.scale(k):null,payload:$.payload}:{x:k!=null?u.scale(k):null,y:$.y,payload:$.payload}}):R=E?d.scale(S):u.scale(S),{points:M,baseLine:R,isRange:O}}function qoe(t){var e=cn(t,ML),n=Xn();return w.createElement(Uy,{id:e.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(iA,{legendPayload:Ooe(e)}),w.createElement(Ioe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(aA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:d3(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),w.createElement(Uoe,Ql({},e,{id:r}))))}var dA=w.memo(qoe,Yh);dA.displayName="Area";var Foe="Invariant failed";function Hoe(t,e){throw new Error(Foe)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(null,arguments)}function bv(t){return w.createElement(eA,ow({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Koe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ne(e))return e;var s=Ne(r)||Kt(r);return s?e(r,i):(s||Hoe(),n)}},Goe=(t,e,n)=>n,Yoe=(t,e)=>e,Wh=ee([Uh,Yoe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Woe=ee([Wh],t=>t?.maxBarSize),Xoe=(t,e,n,r)=>r,Qoe=ee([nt,Uh,$a,qa,Goe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Zoe=(t,e,n)=>{var r=nt(t),i=$a(t,e),s=qa(t,e);if(!(i==null||s==null))return r==="horizontal"?uv(t,"yAxis",s,n):uv(t,"xAxis",i,n)},Joe=(t,e)=>{var n=nt(t),r=$a(t,e),i=qa(t,e);if(!(r==null||i==null))return n==="horizontal"?BP(t,"xAxis",r):BP(t,"yAxis",i)},ele=ee([Qoe,ZZ,Joe],pae),tle=(t,e,n)=>{var r,i,s=Wh(t,e);if(s!=null){var l=$a(t,e),u=qa(t,e);if(!(l==null||u==null)){var d=nt(t),h=M5(t),{maxBarSize:p}=s,g=Kt(p)?h:p,b,_;return d==="horizontal"?(b=Ua(t,"xAxis",l,n),_=Va(t,"xAxis",l,n)):(b=Ua(t,"yAxis",u,n),_=Va(t,"yAxis",u,n)),(r=(i=Jo(b,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},LL=(t,e,n)=>{var r=nt(t),i=$a(t,e),s=qa(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=Ua(t,"xAxis",i,n),u=Va(t,"xAxis",i,n)):(l=Ua(t,"yAxis",s,n),u=Va(t,"yAxis",s,n)),Jo(l,u)}},nle=ee([ele,M5,QZ,L5,tle,LL,Woe],xae),rle=(t,e,n)=>{var r=$a(t,e);if(r!=null)return Ua(t,"xAxis",r,n)},ile=(t,e,n)=>{var r=qa(t,e);if(r!=null)return Ua(t,"yAxis",r,n)},ale=(t,e,n)=>{var r=$a(t,e);if(r!=null)return Va(t,"xAxis",r,n)},sle=(t,e,n)=>{var r=qa(t,e);if(r!=null)return Va(t,"yAxis",r,n)},ole=ee([nle,Wh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),lle=ee([Zoe,Wh],_ae),cle=ee([Ln,RS,rle,ile,ale,sle,ole,nt,_5,LL,lle,Wh,Xoe],(t,e,n,r,i,s,l,u,d,h,p,g,b)=>{var{chartData:_,dataStartIndex:A,dataEndIndex:S}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:E}=g,O;if(E!=null&&E.length>0?O=E:O=_?.slice(A,S+1),O!=null)return zle({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:O,offset:t,cells:b,dataStartIndex:A})}}),ule=["index"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function dle(t,e){if(t==null)return{};var n,r,i=fle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zL=w.createContext(void 0),hle=t=>{var e=w.useContext(zL);if(e!=null)return e.stackId;if(t!=null)return d3(t)},mle=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),ple=t=>{var e=w.useContext(zL);if(e!=null){var{stackId:n}=e;return"url(#".concat(mle(n,t),")")}},gle=t=>{var{index:e}=t,n=dle(t,ule),r=ple(e);return w.createElement(ln,lw({className:"recharts-bar-stack-layer",clipPath:r},n))},vle=["onMouseEnter","onMouseLeave","onClick"],yle=["value","background","tooltipPosition"],ble=["id"],xle=["onMouseEnter","onClick","onMouseLeave"];function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(null,arguments)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){_le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=Sle(t,"string");return typeof e=="symbol"?e:e+""}function Sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xv(t,e){if(t==null)return{};var n,r,i=Ele(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ele(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ale=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:al(n,e),payload:t}]},Tle=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:d,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:al(s,e),hide:l,type:d,color:i,unit:u,graphicalItemId:h}};return w.createElement(Vy,{tooltipEntrySettings:p})});function Nle(t){var e=Pe(tl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,h=xv(s,vle),p=tA(l,r,s.id),g=nA(u),b=rA(d,r,s.id);if(!i||n==null)return null;var _=ic(i);return w.createElement(kr,{zIndex:wae(i,gn.barBackground)},n.map((A,S)=>{var{value:E,background:O,tooltipPosition:M}=A,R=xv(A,yle);if(!O)return null;var $=p(A,S),k=g(A,S),z=b(A,S),N=jr(jr(jr(jr(jr({option:i,isActive:String(S)===e},R),{},{fill:"#eee"},O),_),Nh(h,A,S)),{},{onMouseEnter:$,onMouseLeave:k,onClick:z,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return w.createElement(bv,Ls({key:"background-bar-".concat(S)},N))}))}function jle(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return jr(jr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(WE,{value:e?i:void 0},n)}function Cle(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Pe(tl),d=Pe(qE),h=n&&String(s)===u&&(d==null||l===d),p=h?n:e;return h?w.createElement(kr,{zIndex:gn.activeBar},w.createElement(bv,Ls({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))):w.createElement(bv,Ls({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function Ole(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(bv,Ls({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Ile(t){var e,{data:n,props:r}=t,i=(e=Pr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=xv(i,ble),{shape:u,dataKey:d,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,_=xv(r,xle),A=tA(p,d,s),S=nA(b),E=rA(g,d,s);return n?w.createElement(w.Fragment,null,n.map((O,M)=>w.createElement(gle,Ls({index:M,key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(M),className:"recharts-bar-rectangle"},Nh(_,O,M),{onMouseEnter:A(O,M),onMouseLeave:S(O,M),onClick:E(O,M)}),h?w.createElement(Cle,{shape:u,activeBar:h,baseProps:l,entry:O,index:M,dataKey:d}):w.createElement(Ole,{shape:u,baseProps:l,entry:O,index:M,dataKey:d})))):null}function Ple(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,b=nd(e,"recharts-bar-"),[_,A]=w.useState(!1),S=!_,E=w.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),O=w.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return w.createElement(jle,{showLabels:S,rects:r},w.createElement(td,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:E,onAnimationStart:O,key:b},M=>{var R=M===1?r:r?.map(($,k)=>{var z=g&&g[k];if(z)return jr(jr({},$),{},{x:vt(z.x,$.x,M),y:vt(z.y,$.y,M),width:vt(z.width,$.width,M),height:vt(z.height,$.height,M)});if(i==="horizontal"){var N=vt(0,$.height,M),j=vt($.stackedBarStart,$.y,M);return jr(jr({},$),{},{y:j,height:N})}var I=vt(0,$.width,M),L=vt($.stackedBarStart,$.x,M);return jr(jr({},$),{},{width:I,x:L})});return M>0&&(n.current=R??null),R==null?null:w.createElement(ln,null,w.createElement(Ile,{props:e,data:R}))}),w.createElement(My,{label:e.label}),e.children)}function Rle(t){var e=w.useRef(null);return w.createElement(Ple,{previousRectanglesRef:e,props:t})}var VL=0,kle=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:yt(t,e)}};class Dle extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:d,id:h}=this.props;if(e||n==null)return null;var p=dt("recharts-bar",i),g=h;return w.createElement(ln,{className:p,id:h},u&&w.createElement("defs",null,w.createElement(cA,{clipPathId:g,xAxisId:s,yAxisId:l})),w.createElement(ln,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Nle,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement(Rle,this.props)))}}var Mle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:VL,xAxisId:0,yAxisId:0,zIndex:gn.bar};function Lle(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=Fy(e,n),b=sl(),_=Xn(),A=ZE(t.children,Gh),S=Pe(M=>cle(M,t.id,_,A));if(b!=="vertical"&&b!=="horizontal")return null;var E,O=S?.[0];return O==null||O.height==null||O.width==null?E=0:E=b==="vertical"?O.height/2:O.width/2,w.createElement(_L,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:kle,errorBarOffset:E},w.createElement(Dle,Ls({},t,{layout:b,needClip:g,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function zle(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:g,offset:b,cells:_,parentViewBox:A,dataStartIndex:S}=t,E=e==="horizontal"?u:l,O=p?E.scale.domain():null,M=kG({numericAxis:E}),R=E.scale(M);return g.map(($,k)=>{var z,N,j,I,L,D;if(p){var B=p[k+S];if(B==null)return null;z=CG(B,O)}else z=yt($,n),Array.isArray(z)||(z=[M,z]);var V=Koe(r,VL)(z[1],k);if(e==="horizontal"){var ue,[be,K]=[u.scale(z[0]),u.scale(z[1])];N=HO({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:$,index:k}),j=(ue=K??be)!==null&&ue!==void 0?ue:void 0,I=i.size;var Z=be-K;if(L=ki(Z)?0:Z,D={x:N,y:b.top,width:I,height:b.height},Math.abs(V)>0&&Math.abs(L)<Math.abs(V)){var de=Wn(L||V)*(Math.abs(V)-Math.abs(L));j-=de,L+=de}}else{var[he,ce]=[l.scale(z[0]),l.scale(z[1])];if(N=he,j=HO({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:$,index:k}),I=ce-he,L=i.size,D={x:b.left,y:j,width:b.width,height:L},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var q=Wn(I||V)*(Math.abs(V)-Math.abs(I));I+=q}}if(N==null||j==null||I==null||L==null)return null;var Y=jr(jr({},$),{},{stackedBarStart:R,x:N,y:j,width:I,height:L,value:p?z:z[1],payload:$,background:D,tooltipPosition:{x:N+I/2,y:j+L/2},parentViewBox:A},_&&_[k]&&_[k].props);return Y}).filter(Boolean)}function Vle(t){var e=cn(t,Mle),n=hle(e.stackId),r=Xn();return w.createElement(Uy,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(iA,{legendPayload:Ale(e)}),w.createElement(Tle,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(aA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement(kr,{zIndex:e.zIndex},w.createElement(Lle,Ls({},e,{id:i})))))}var fA=w.memo(Vle,Yh);fA.displayName="Bar";var Ule=["domain","range"],Ble=["domain","range"];function ok(t,e){if(t==null)return{};var n,r,i=$le(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lk(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function UL(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=ok(t,Ule),{domain:s,range:l}=e,u=ok(e,Ble);return!lk(n,s)||!lk(r,l)?!1:Yh(i,u)}var qle=["dangerouslySetInnerHTML","ticks","scale"],Fle=["id","scale"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function ck(t,e){if(t==null)return{};var n,r,i=Hle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kle(t){var e=Ut(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(eae(t)):n.current!==t&&e(tae({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(nae(n.current)),n.current=null)},[e]),null}var Gle=t=>{var{xAxisId:e,className:n}=t,r=Pe(RS),i=Xn(),s="xAxis",l=Pe(O=>p6(O,s,e,i)),u=Pe(O=>d6(O,e)),d=Pe(O=>XJ(O,e)),h=Pe(O=>K5(O,e));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,_=ck(t,qle),{id:A,scale:S}=h,E=ck(h,Fle);return w.createElement(lA,cw({},_,E,{x:d.x,y:d.y,width:u.width,height:u.height,className:dt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Yle={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:Hn.allowDecimals,allowDuplicatedCategory:Hn.allowDuplicatedCategory,angle:Hn.angle,axisLine:Es.axisLine,height:Hn.height,hide:!1,includeHidden:Hn.includeHidden,interval:Hn.interval,minTickGap:Hn.minTickGap,mirror:Hn.mirror,orientation:Hn.orientation,padding:Hn.padding,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,tickLine:Es.tickLine,tickSize:Es.tickSize,type:Hn.type,xAxisId:0},Wle=t=>{var e=cn(t,Yle);return w.createElement(w.Fragment,null,w.createElement(Kle,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(Gle,e))},Hy=w.memo(Wle,UL);Hy.displayName="XAxis";var Xle=["dangerouslySetInnerHTML","ticks","scale"],Qle=["id","scale"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function uk(t,e){if(t==null)return{};var n,r,i=Zle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jle(t){var e=Ut(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(rae(t)):n.current!==t&&e(iae({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(aae(n.current)),n.current=null)},[e]),null}var ece=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),l=w.useRef(null),u=Pe(RS),d=Xn(),h=Ut(),p="yAxis",g=Pe(z=>f6(z,e)),b=Pe(z=>ZJ(z,e)),_=Pe(z=>p6(z,p,e,d)),A=Pe(z=>G5(z,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||YE(i)||w.isValidElement(i)||A==null)){var z=s.current;if(z){var N=z.getCalculatedWidth();Math.round(g.width)!==Math.round(N)&&h(sae({id:e,width:N}))}}},[_,g,h,i,e,r,A]),g==null||b==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:E,scale:O}=t,M=uk(t,Xle),{id:R,scale:$}=A,k=uk(A,Qle);return w.createElement(lA,uw({},M,k,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:dt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},tce={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,angle:Kn.angle,axisLine:Es.axisLine,hide:!1,includeHidden:Kn.includeHidden,interval:Kn.interval,minTickGap:Kn.minTickGap,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tick:Kn.tick,tickCount:Kn.tickCount,tickLine:Es.tickLine,tickSize:Es.tickSize,type:Kn.type,width:Kn.width,yAxisId:0},nce=t=>{var e=cn(t,tce);return w.createElement(w.Fragment,null,w.createElement(Jle,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(ece,e))},$u=w.memo(nce,UL);$u.displayName="YAxis";var rce=(t,e)=>e,hA=ee([rce,nt,F5,Vn,I6,Gs,hte,Ln],xte),mA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},BL=Di("mouseClick"),$L=Ch();$L.startListening({actionCreator:BL,effect:(t,e)=>{var n=t.payload,r=hA(e.getState(),mA(n));r?.activeIndex!=null&&e.dispatch(fee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var dw=Di("mouseMove"),qL=Ch(),Bp=null;qL.startListening({actionCreator:dw,effect:(t,e)=>{var n=t.payload;Bp!==null&&cancelAnimationFrame(Bp);var r=mA(n);Bp=requestAnimationFrame(()=>{var i=e.getState(),s=LE(i,i.tooltip.settings.shared);if(s==="axis"){var l=hA(i,r);l?.activeIndex!=null?e.dispatch(S6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(w6())}Bp=null})}});function ice(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var dk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},FL=Yr({name:"rootProps",initialState:dk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:dk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),ace=FL.reducer,{updateOptions:sce}=FL.actions,HL=Yr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:oce}=HL.actions,lce=HL.reducer,KL=Di("keyDown"),GL=Di("focus"),pA=Ch();pA.startListening({actionCreator:KL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=zE(i,dd(n),$h(n),Hh(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Gs(n);if(s==="Enter"){var h=fv(n,"axis","hover",String(i.index));e.dispatch(ew({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=nee(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=u+b*g;if(!(d==null||_>=d.length||_<0)){var A=fv(n,"axis","hover",String(_));e.dispatch(ew({active:!0,activeIndex:_.toString(),activeCoordinate:A}))}}}}}});pA.startListening({actionCreator:GL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=fv(n,"axis","hover",String(s));e.dispatch(ew({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var ji=Di("externalEvent"),YL=Ch(),V1=new Map;YL.startListening({actionCreator:ji,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=V1.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:Zee(u),activeDataKey:qE(u),activeIndex:tl(u),activeLabel:k6(u),activeTooltipIndex:tl(u),isTooltipActive:Jee(u)};n(d,r)}finally{V1.delete(i)}});V1.set(i,l)}}});var cce=ee([cd],t=>t.tooltipItemPayloads),uce=ee([cce,Fh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),WL=Di("touchMove"),XL=Ch();XL.startListening({actionCreator:WL,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=LE(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=hA(r,mA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(S6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(h3),g=(u=h.getAttribute(m3))!==null&&u!==void 0?u:void 0,b=ud(r).find(S=>S.id===g);if(p==null||b==null||g==null)return;var{dataKey:_}=b,A=uce(r,p,g);e.dispatch(_6({activeDataKey:_,activeIndex:p,activeCoordinate:A,activeGraphicalItemId:g}))}}}});var dce=k4({brush:Sae,cartesianAxis:oae,chartData:Qte,errorBars:xse,graphicalItems:mie,layout:SG,legend:IY,options:Kte,polarAxis:jre,polarOptions:lce,referenceElements:Oae,rootProps:ace,tooltip:hee,zIndex:kte}),fce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return YK({reducer:dce,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([$L.middleware,qL.middleware,pA.middleware,YL.middleware,XL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(W4({type:"raf"}))},devTools:{serialize:{replacer:ice},name:"recharts-".concat(n)}})};function QL(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Xn(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=fce(e,r));var l=TS;return w.createElement(Yse,{context:l,store:s.current},n)}function hce(t){var{layout:e,margin:n}=t,r=Ut(),i=Xn();return w.useEffect(()=>{i||(r(xG(e)),r(bG(n)))},[r,i,e,n]),null}var ZL=w.memo(hce,Yh);function JL(t){var e=Ut();return w.useEffect(()=>{e(sce(t))},[e,t]),null}function fk(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Ut();return w.useLayoutEffect(()=>(r.current&&i(Pte({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Rte({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function hk(t){var{children:e,isPanorama:n}=t,r=Pe(wte);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(fk,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(fk,{key:l,zIndex:l,isPanorama:n})))}var mce=["children"];function pce(t,e){if(t==null)return{};var n,r,i=gce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(null,arguments)}var vce={width:"100%",height:"100%",display:"block"},yce=w.forwardRef((t,e)=>{var n=DS(),r=MS(),i=O3();if(!La(n)||!La(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),w.createElement(pS,_v({},l,{title:u,desc:d,role:p,tabIndex:h,width:n,height:r,style:vce,ref:e}),s)}),bce=t=>{var{children:e}=t,n=Pe(ly);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(pS,{width:r,height:i,x:l,y:s},e)},mk=w.forwardRef((t,e)=>{var{children:n}=t,r=pce(t,mce),i=Xn();return i?w.createElement(bce,null,w.createElement(hk,{isPanorama:!0},n)):w.createElement(yce,_v({ref:e},r),w.createElement(hk,{isPanorama:!1},n))});function xce(){var t=Ut(),[e,n]=w.useState(null),r=Pe(UG);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Mt(s)&&s!==r&&t(wG(s))}},[e,t,r]),n}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wce(t,e,n){return(e=Sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=Ece(t,"string");return typeof e=="symbol"?e:e+""}function Ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(null,arguments)}var Ace=()=>(sne(),null);function wv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Tce=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:wv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:wv((r=t.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((h,p)=>{l(g=>{var b=Math.round(h),_=Math.round(p);return g.containerWidth===b&&g.containerHeight===_?g:{containerWidth:b,containerHeight:_}})},[]),d=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var b=A=>{var{width:S,height:E}=A[0].contentRect;u(S,E)},_=new ResizeObserver(b);_.observe(h),i.current=_}},[e,u]);return w.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(dy,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",fc({ref:d},t)))}),Nce=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:wv(n),containerHeight:wv(r)}),l=w.useCallback((d,h)=>{s(p=>{var g=Math.round(d),b=Math.round(h);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();l(h,p)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(dy,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",fc({ref:u},t)))}),jce=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(dy,{width:n,height:r}),w.createElement("div",fc({ref:e},t)))}),Cce=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Is(n)||Is(r)?w.createElement(Nce,fc({},t,{ref:e})):w.createElement(jce,fc({},t,{ref:e}))});function Oce(t){return t===!0?Tce:Cce}var Ice=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:_,onTouchMove:A,onTouchStart:S,style:E,width:O,responsive:M,dispatchTouchEvents:R=!0}=t,$=w.useRef(null),k=Ut(),[z,N]=w.useState(null),[j,I]=w.useState(null),L=xce(),D=kS(),B=D?.width>0?D.width:O,V=D?.height>0?D.height:i,ue=w.useCallback(ae=>{L(ae),typeof e=="function"&&e(ae),N(ae),I(ae),ae!=null&&($.current=ae)},[L,e,N,I]),be=w.useCallback(ae=>{k(BL(ae)),k(ji({handler:s,reactEvent:ae}))},[k,s]),K=w.useCallback(ae=>{k(dw(ae)),k(ji({handler:h,reactEvent:ae}))},[k,h]),Z=w.useCallback(ae=>{k(w6()),k(ji({handler:p,reactEvent:ae}))},[k,p]),de=w.useCallback(ae=>{k(dw(ae)),k(ji({handler:g,reactEvent:ae}))},[k,g]),he=w.useCallback(()=>{k(GL())},[k]),ce=w.useCallback(ae=>{k(KL(ae.key))},[k]),q=w.useCallback(ae=>{k(ji({handler:l,reactEvent:ae}))},[k,l]),Y=w.useCallback(ae=>{k(ji({handler:u,reactEvent:ae}))},[k,u]),X=w.useCallback(ae=>{k(ji({handler:d,reactEvent:ae}))},[k,d]),re=w.useCallback(ae=>{k(ji({handler:b,reactEvent:ae}))},[k,b]),Se=w.useCallback(ae=>{k(ji({handler:S,reactEvent:ae}))},[k,S]),se=w.useCallback(ae=>{R&&k(WL(ae)),k(ji({handler:A,reactEvent:ae}))},[k,R,A]),we=w.useCallback(ae=>{k(ji({handler:_,reactEvent:ae}))},[k,_]),Re=Oce(M);return w.createElement($6.Provider,{value:z},w.createElement(XM.Provider,{value:j},w.createElement(Re,{width:B??E?.width,height:V??E?.height,className:dt("recharts-wrapper",r),style:_ce({position:"relative",cursor:"default",width:B,height:V},E),onClick:be,onContextMenu:q,onDoubleClick:Y,onFocus:he,onKeyDown:ce,onMouseDown:X,onMouseEnter:K,onMouseLeave:Z,onMouseMove:de,onMouseUp:re,onTouchEnd:we,onTouchMove:se,onTouchStart:Se,ref:ue},w.createElement(Ace,null),n)))}),Pce=["width","height","responsive","children","className","style","compact","title","desc"];function Rce(t,e){if(t==null)return{};var n,r,i=kce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ez=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:h,desc:p}=t,g=Rce(t,Pce),b=Pr(g);return d?w.createElement(w.Fragment,null,w.createElement(dy,{width:n,height:r}),w.createElement(mk,{otherAttributes:b,title:h,desc:p},s)):w.createElement(Ice,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(mk,{otherAttributes:b,title:h,desc:p,ref:e},w.createElement(Pae,null,s)))});function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}var Dce={top:5,right:5,bottom:5,left:5},Mce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Dce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Lce=w.forwardRef(function(e,n){var r,i=cn(e.categoricalChartProps,Mce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(QL,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(pL,{chartData:h.data}),w.createElement(ZL,{layout:i.layout,margin:i.margin}),w.createElement(JL,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(ez,fw({},i,{ref:n})))});function zce(t){var e=Ut();return w.useEffect(()=>{e(oce(t))},[e,t]),null}var Vce=["layout"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(null,arguments)}function Uce(t,e){if(t==null)return{};var n,r,i=Bce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $ce={top:5,right:5,bottom:5,left:5},tz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$ce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qce=w.forwardRef(function(e,n){var r,i=cn(e.categoricalChartProps,tz),{layout:s}=i,l=Uce(i,Vce),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(QL,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},w.createElement(pL,{chartData:i.data}),w.createElement(ZL,{layout:s,margin:i.margin}),w.createElement(JL,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(zce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(ez,hw({},l,{ref:n})))});function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=Kce(t,"string");return typeof e=="symbol"?e:e+""}function Kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gce=["item"],Yce=vk(vk({},tz),{},{layout:"centric",startAngle:0,endAngle:360}),Wce=w.forwardRef((t,e)=>{var n=cn(t,Yce);return w.createElement(qce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gce,tooltipPayloadSearcher:q6,categoricalChartProps:n,ref:e})}),Xce=["axis"],gA=w.forwardRef((t,e)=>w.createElement(Lce,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xce,tooltipPayloadSearcher:q6,categoricalChartProps:t,ref:e}));const Qce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zce=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),yk=t=>{const e=Zce(t);return e.charAt(0).toUpperCase()+e.slice(1)},nz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Jce=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tue=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>w.createElement("svg",{ref:d,...eue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nz("lucide",i),...!s&&!Jce(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>w.createElement(h,p)),...Array.isArray(s)?s:[s]]));const ke=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(tue,{ref:s,iconNode:e,className:nz(`lucide-${Qce(yk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=yk(t),n};const nue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qu=ke("activity",nue);const rue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],iue=ke("arrow-left",rue);const aue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rz=ke("arrow-right",aue);const sue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mw=ke("award",sue);const oue=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lue=ke("ban",oue);const cue=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uue=ke("bell",cue);const due=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],fue=ke("bug",due);const hue=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],mue=ke("calculator",hue);const pue=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iz=ke("calendar-off",pue);const gue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ys=ke("calendar",gue);const vue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U1=ke("chevron-down",vue);const yue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],az=ke("chevron-left",yue);const bue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sz=ke("chevron-right",bue);const xue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fu=ke("circle-alert",xue);const _ue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hc=ke("circle-check-big",_ue);const wue=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Sue=ke("clipboard-check",wue);const Eue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aue=ke("clock",Eue);const Tue=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],oz=ke("coffee",Tue);const Nue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pw=ke("credit-card",Nue);const jue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Cue=ke("crown",jue);const Oue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],mc=ke("dollar-sign",Oue);const Iue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Pue=ke("download",Iue);const Rue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kue=ke("file-exclamation-point",Rue);const Due=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lz=ke("file-text",Due);const Mue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cz=ke("funnel",Mue);const Lue=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],zue=ke("key",Lue);const Vue=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Uue=ke("layers",Vue);const Bue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$ue=ke("layout-dashboard",Bue);const que=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zo=ke("loader-circle",que);const Fue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rf=ke("lock",Fue);const Hue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uz=ke("log-out",Hue);const Kue=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vA=ke("map-pin",Kue);const Gue=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],dz=ke("map",Gue);const Yue=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Wue=ke("medal",Yue);const Xue=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Que=ke("menu",Xue);const Zue=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Jue=ke("monitor",Zue);const ede=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fz=ke("pen",ede);const tde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$p=ke("plus",tde);const nde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rde=ke("refresh-cw",nde);const ide=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hz=ke("rotate-ccw",ide);const ade=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xh=ke("save",ade);const sde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yA=ke("search",sde);const ode=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mz=ke("settings",ode);const lde=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],cde=ke("shopping-bag",lde);const ude=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],dde=ke("smartphone",ude);const fde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bk=ke("sparkles",fde);const hde=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mde=ke("square-check-big",hde);const pde=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gde=ke("square-pen",pde);const vde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xk=ke("star",vde);const yde=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Ri=ke("store",yde);const bde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qh=ke("target",bde);const xde=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ig=ke("trash-2",xde);const _de=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],pz=ke("trending-down",_de);const wde=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sv=ke("trending-up",wde);const Sde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sh=ke("triangle-alert",Sde);const Ede=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ade=ke("trophy",Ede);const Tde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],gz=ke("upload",Tde);const Nde=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vz=ke("user-check",Nde);const jde=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yz=ke("user-cog",jde);const Cde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],bz=ke("user-x",Cde);const Ode=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xc=ke("user",Ode);const Ide=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oh=ke("users",Ide);const Pde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gs=ke("x",Pde),Pn={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},pc=[{id:"dashboard",label:"",icon:$ue},{id:"annual",label:"",icon:Ys},{id:"targets",label:"",icon:Qh},{id:"regional",label:"",icon:dz},{id:"store-analysis",label:"",icon:Ri},{id:"ranking",label:"",icon:Sv},{id:"audit",label:"",icon:Sue},{id:"history",label:"",icon:lz},{id:"input",label:"",icon:gz},{id:"logs",label:"",icon:qu},{id:"t-targets",label:"",icon:yz},{id:"t-schedule",label:"",icon:iz},{id:"settings",label:"",icon:mz}],Rde={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},xz={director:pc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},kde=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},_z=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},lr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},Zl=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},ar=t=>t?Number(t.toString().replace(/,/g,"")):0,Gr=({children:t})=>m.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),It=({title:t,subtitle:e,children:n,className:r=""})=>m.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&m.jsxs("div",{className:"mb-6",children:[t&&m.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&m.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),Dde=({message:t,type:e,onClose:n})=>{w.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return m.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?m.jsx(hc,{size:20}):e==="error"?m.jsx(Fu,{size:20}):m.jsx(uue,{size:20}),m.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},Mde=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?m.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[m.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),m.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),m.jsxs("div",{className:"flex gap-3 justify-end",children:[m.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),m.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,Lde=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const d=w.useMemo(()=>{if(!i)return[];if(i==="director")return pc;const h=l[i]||[];return pc.filter(p=>h.includes(p.id))},[i,l]);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),m.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[m.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-400 to-orange-600 rounded-xl flex items-center justify-center shadow-lg shadow-orange-200 mr-3 shrink-0",children:m.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),m.jsx("span",{className:`font-extrabold text-xl text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:"DRCYJ Cloud"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:d.map(h=>{const p=h.icon,g=t===h.id;return m.jsxs("button",{onClick:()=>{e(h.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${g?"bg-amber-50 text-amber-700 shadow-sm":"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":h.label,children:[m.jsx(p,{size:22,className:`shrink-0 transition-colors ${g?"text-amber-600":"text-stone-400 group-hover:text-stone-600"}`}),m.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:h.label}),g&&m.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-amber-500 rounded-l-full"})]},h.id)})}),m.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[m.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:m.jsx(xc,{size:20,className:"text-stone-400"})}),n&&m.jsxs("div",{className:"overflow-hidden",children:[m.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),m.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:Pn[i?.toUpperCase()]?.label||i})]})]}),m.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[m.jsx(uz,{size:20}),n&&m.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},zde=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const s=w.useMemo(()=>{if(!r)return[];if(r==="director")return pc;const l=n[r]||[];return pc.filter(u=>l.includes(u.id))},[r,n]);return m.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto",children:m.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[s.map(l=>{const u=l.icon,d=t===l.id;return m.jsxs("button",{onClick:()=>e(l.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${d?"bg-stone-800 text-white shadow-md shadow-stone-200":"bg-stone-100 text-stone-500"}`,children:[m.jsx(u,{size:14}),l.label]},l.id)}),m.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[m.jsx(uz,{size:14}),""]})]})})},Vde=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:d})=>{const[h,p]=w.useState("director"),[g,b]=w.useState(""),[_,A]=w.useState(""),[S,E]=w.useState(""),[O,M]=w.useState(!1),[R,$]=w.useState(!1),[k,z]=w.useState(""),[N,j]=w.useState(""),[I,L]=w.useState([]),[D,B]=w.useState(!1),[V,ue]=w.useState(""),[be,K]=w.useState(""),[Z,de]=w.useState(""),[he,ce]=w.useState("");w.useEffect(()=>{h==="therapist"&&(async()=>{B(!0);try{const we=ku(oi($e,"artifacts",Ve,"public","data","therapists"),Bl("status","==","active")),ae=(await f_(we)).docs.map(je=>({id:je.id,...je.data()}));L(ae)}catch(we){console.error("",we),E("")}finally{B(!1)}})()},[h]);const q=w.useMemo(()=>V?n[V]||[]:[],[V,n]),Y=w.useMemo(()=>be?I.filter(se=>se.store===be):[],[be,I]),X=async()=>{E(""),M(!0),await new Promise(se=>setTimeout(se,600));try{if(h==="director")g===Pn.DIRECTOR.pass?t("director",{name:""}):E("");else if(h==="trainer"){const se=u?.password||"0000";g===se?t("trainer",{name:""}):E("")}else if(h==="manager"){if(!_){E(""),M(!1);return}const se=r[_]||"0000";g===se?t("manager",{name:_}):E("")}else if(h==="store"){if(!_){E(""),M(!1);return}const se=e.find(we=>we.id===_);se&&se.password===g?t("store",{name:se.name,storeName:se.stores?.[0]||se.storeName,stores:se.stores}):E("")}}catch{E("")}finally{M(!1)}},re=async()=>{E(""),M(!0),await new Promise(se=>setTimeout(se,600));try{if(!Z){E(""),M(!1);return}const se=I.find(we=>we.id===Z);se&&se.password===he?t("therapist",se):E(" ( 0000)")}catch{E("")}finally{M(!1)}},Se=async()=>{if(E(""),!N||!k){E("");return}M(!0);let se=!1;if(h==="store"&&_){const Re=e.find(ae=>ae.id===_);Re&&Re.password===k&&(se=!0)}else if(h==="manager"&&_)(r[_]||"0000")===k&&(se=!0);else if(h==="therapist"&&Z){const Re=I.find(ae=>ae.id===Z);Re&&Re.password===k&&(se=!0)}else h==="trainer"&&(u?.password||"0000")===k&&(se=!0);if(!se){E(""),M(!1);return}let we=!1;h==="store"&&_?we=await i(_,N):h==="manager"&&_?we=await s(_,N):h==="therapist"&&Z?we=await l(Z,N):h==="trainer"&&(we=await d(N)),we?(alert(""),$(!1),j(""),z(""),b(""),ce("")):E(""),M(!1)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F9F8F6] p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-md p-8 rounded-3xl shadow-xl shadow-stone-200/50 border border-stone-100",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-200 mx-auto mb-4",children:m.jsx(oz,{size:32,className:"text-white"})}),m.jsx("h1",{className:"text-2xl font-extrabold text-stone-800 tracking-tight",children:"DRCYJ OPC Cloud"}),m.jsx("p",{className:"text-stone-400 font-medium mt-2",children:""})]}),m.jsx("div",{className:"bg-stone-100 p-1.5 rounded-2xl flex mb-8 overflow-x-auto",children:Object.entries(Pn).map(([se,we])=>m.jsx("button",{onClick:()=>{p(we.id),E(""),b(""),A(""),$(!1),ue(""),K(""),de(""),ce("")},className:`flex-1 py-2.5 px-2 rounded-xl text-sm font-bold transition-all whitespace-nowrap ${h===we.id?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:we.label},se))}),m.jsx("div",{className:"space-y-4",children:h==="therapist"?D?m.jsxs("div",{className:"py-10 text-center text-stone-400 flex flex-col items-center gap-2",children:[m.jsx(zo,{className:"animate-spin text-amber-400",size:32}),m.jsx("p",{className:"text-xs",children:"..."})]}):m.jsxs(m.Fragment,{children:[R?m.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsx("input",{type:"password",value:k,onChange:se=>z(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"}),m.jsx("input",{type:"text",value:N,onChange:se=>j(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative",children:[m.jsx(vA,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),m.jsxs("select",{value:V,onChange:se=>{ue(se.target.value),K(""),de("")},className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(n).map(se=>m.jsxs("option",{value:se,children:[se,""]},se))]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Ri,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),m.jsxs("select",{value:be,onChange:se=>{K(se.target.value),de("")},disabled:!V,className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none disabled:opacity-50",children:[m.jsx("option",{value:"",children:"..."}),q.map(se=>m.jsxs("option",{value:se,children:[se,""]},se))]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(vz,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),m.jsxs("select",{value:Z,onChange:se=>de(se.target.value),disabled:!be,className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none disabled:opacity-50",children:[m.jsx("option",{value:"",children:"..."}),Y.map(se=>m.jsx("option",{value:se.id,children:se.name},se.id))]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Rf,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),m.jsx("input",{type:"password",value:he,onChange:se=>ce(se.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",onKeyDown:se=>se.key==="Enter"&&re()})]})]}),S&&m.jsxs("div",{className:"p-3 bg-rose-50 text-rose-500 text-sm font-bold rounded-xl flex items-center gap-2",children:[m.jsx(Fu,{size:16})," ",S]}),R?m.jsx("button",{onClick:Se,disabled:O,className:"w-full py-4 bg-rose-500 hover:bg-rose-600 text-white rounded-2xl font-bold shadow-lg",children:O?m.jsx(zo,{className:"animate-spin"}):""}):m.jsx("button",{onClick:re,disabled:O||!Z||!he,className:"w-full py-4 bg-stone-800 hover:bg-stone-900 text-white rounded-2xl font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:O?m.jsx(zo,{className:"animate-spin"}):""}),Z&&m.jsx("button",{onClick:()=>{$(!R),E("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 font-bold py-2",children:R?"":"?"})]}):m.jsxs(m.Fragment,{children:[h==="manager"&&m.jsx("div",{className:"relative",children:m.jsxs("select",{value:_,onChange:se=>A(se.target.value),className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(n).map(se=>m.jsx("option",{value:se,children:se},se))]})}),h==="store"&&m.jsx("div",{className:"relative",children:m.jsxs("select",{value:_,onChange:se=>A(se.target.value),className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",children:[m.jsx("option",{value:"",children:"..."}),e.map(se=>m.jsx("option",{value:se.id,children:se.name},se.id))]})}),R?m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{type:"password",value:k,onChange:se=>z(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"}),m.jsx("input",{type:"text",value:N,onChange:se=>j(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"})]}):m.jsx("input",{type:"password",value:g,onChange:se=>b(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",onKeyDown:se=>se.key==="Enter"&&X()}),S&&m.jsxs("div",{className:"p-3 bg-rose-50 text-rose-500 text-sm font-bold rounded-xl flex items-center gap-2",children:[m.jsx(Fu,{size:16})," ",S]}),R?m.jsx("button",{onClick:Se,disabled:O,className:"w-full py-4 bg-rose-500 hover:bg-rose-600 text-white rounded-2xl font-bold shadow-lg",children:O?m.jsx(zo,{className:"animate-spin"}):""}):m.jsx("button",{onClick:X,disabled:O,className:"w-full py-4 bg-stone-800 hover:bg-stone-900 text-white rounded-2xl font-bold shadow-lg",children:O?m.jsx(zo,{className:"animate-spin"}):""}),(h==="store"||h==="manager"||h==="trainer")&&m.jsx("button",{onClick:()=>{$(!R),E("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 font-bold py-2",children:R?"":"?"})]})})]})})},Dr=wk.createContext(null),Ude=()=>{const{analytics:t,fmtMoney:e,fmtNum:n,targets:r,userRole:i,currentUser:s,allReports:l,budgets:u,managers:d,selectedYear:h,selectedMonth:p,therapistReports:g}=w.useContext(Dr),[b,_]=w.useState(i==="therapist"||i==="trainer"?"therapist":"store"),A=w.useMemo(()=>{if(i!=="store"&&i!=="manager"||!l)return[];const z={};l.forEach(L=>{const D=new Date(L.date);D.getFullYear()!==parseInt(h)||D.getMonth()+1!==parseInt(p)||(z[L.storeName]||(z[L.storeName]=0),z[L.storeName]+=Number(L.cash)||0)});const N=Object.keys(z).map(L=>{const D=`${L}_${h}_${parseInt(p)}`,B=u[D],V=B?Number(B.cashTarget||0):0,ue=z[L],be=V>0?ue/V*100:0;return{storeName:L,actual:ue,target:V,rate:be}});N.sort((L,D)=>D.rate-L.rate);const j=N.map((L,D)=>({...L,rank:D+1,totalStores:N.length,isBottom5:D+1>N.length-5}));let I=[];return i==="store"&&s?I=(s.stores||[s.storeName]).filter(L=>L):i==="manager"&&d&&s&&(I=(d[s.name]||[]).map(D=>`CYJ${D}`)),j.filter(L=>I.some(D=>{if(!D||!L.storeName)return!1;const B=D.replace("CYJ","").replace("","");return L.storeName.replace("CYJ","").replace("","")===B}))},[i,l,s,d,u,h,p]),S=w.useMemo(()=>{if(!g)return{rankings:[],myStats:null,grandTotal:{}};const z=g.filter(D=>{const B=new Date(D.date);return B.getFullYear()===parseInt(h)&&B.getMonth()+1===parseInt(p)}),N={};z.forEach(D=>{const B=D.therapistId;N[B]||(N[B]={id:B,name:D.therapistName,store:D.storeName,totalRevenue:0,serviceCount:0,newCustomerRevenue:0,returnRevenue:0}),N[B].totalRevenue+=Number(D.totalRevenue)||0,N[B].serviceCount+=Number(D.serviceCount)||0,N[B].newCustomerRevenue+=Number(D.newCustomerRevenue)||0,N[B].returnRevenue+=Number(D.returnRevenue)||0});const j=Object.values(N).sort((D,B)=>B.totalRevenue-D.totalRevenue);j.forEach((D,B)=>{D.rank=B+1});let I=null;i==="therapist"&&s&&(I=j.find(D=>D.id===s.id));const L=j.reduce((D,B)=>({totalRevenue:D.totalRevenue+B.totalRevenue,serviceCount:D.serviceCount+B.serviceCount,newCustomerRevenue:D.newCustomerRevenue+B.newCustomerRevenue,returnRevenue:D.returnRevenue+B.returnRevenue,count:D.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,returnRevenue:0,count:0});return{rankings:j,myStats:I,grandTotal:L}},[g,h,p,i,s]);if(!t||!t.grandTotal)return m.jsxs("div",{className:"flex h-96 items-center justify-center",children:[m.jsx(zo,{className:"h-10 w-10 animate-spin text-stone-300"}),m.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});const{grandTotal:E,dailyTotals:O,totalAchievement:M}=t,R=t.daysInMonth>0?t.daysPassed/t.daysInMonth*100:0,$=M-R,k=({title:z,value:N,subText:j,icon:I,color:L})=>m.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[m.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${L}`,children:m.jsx(I,{size:64})}),m.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:z}),m.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:N})]}),j&&m.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:j})]})]});return m.jsx(Gr,{children:m.jsxs("div",{className:"space-y-8 pb-10",children:[i!=="therapist"&&i!=="trainer"&&m.jsx("div",{className:"flex justify-center mb-4",children:m.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[m.jsxs("button",{onClick:()=>_("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.jsx(Ri,{size:16})," "]}),m.jsxs("button",{onClick:()=>_("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.jsx(xc,{size:16})," "]})]})}),b==="store"&&m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i==="store"&&A.length>0&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(z=>m.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${z.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:z.isBottom5?m.jsx(sh,{size:120}):m.jsx(Ade,{size:120})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:z.isBottom5?m.jsx(qu,{size:20,className:"text-white"}):m.jsx(Wue,{size:20,className:"text-yellow-100"})}),m.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:z.storeName}),z.isBottom5&&m.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),m.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",z.rank]}),m.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",z.totalStores]})]})]}),m.jsxs("div",{className:"flex-1 text-right",children:[m.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),m.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[z.rate.toFixed(1),"%"]})]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[m.jsxs("span",{children:[": ",e(z.actual)]}),m.jsxs("span",{children:[": ",e(z.target)]})]})]})]},z.storeName))}),i==="manager"&&A.length>0&&m.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[m.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[m.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:m.jsx(dz,{size:100})}),m.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:m.jsx(Cue,{size:24,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),m.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),m.jsxs("div",{className:"relative z-10 text-right",children:[m.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),m.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:A.length})]})]}),m.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[m.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),m.jsx("th",{className:"p-3 sm:p-4",children:""}),m.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),m.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),m.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),m.jsx("tbody",{children:A.map((z,N)=>m.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${z.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[m.jsx("td",{className:"p-3 sm:p-4 text-center",children:m.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${N===0?"bg-amber-100 text-amber-700":N===1?"bg-stone-200 text-stone-600":N===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:z.rank})}),m.jsx("td",{className:"p-3 sm:p-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[m.jsx("span",{className:`font-bold text-sm sm:text-base ${z.isBottom5?"text-rose-700":"text-stone-700"}`,children:z.storeName}),z.isBottom5&&m.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[m.jsx(sh,{size:10})," ",m.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),m.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:e(z.actual)}),m.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:e(z.target)}),m.jsx("td",{className:"p-3 sm:p-4 text-right",children:m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${z.isBottom5?"text-rose-600":z.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[z.rate.toFixed(1),"%"]}),m.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:m.jsx("div",{className:`h-full rounded-full ${z.isBottom5?"bg-rose-500":z.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(z.rate,100)}%`}})})]})})]},z.storeName))})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:m.jsx(qu,{size:16,className:"text-indigo-500"})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),m.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",t.daysPassed," ",m.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",t.daysInMonth]})]})]}),m.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${$>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[m.jsx("span",{className:"text-sm font-bold",children:$>=0?"":""}),m.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs($).toFixed(1),"%"]})]})]}),m.jsxs("div",{className:"space-y-6 relative z-10",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[m.jsx("span",{className:"text-stone-500",children:""}),m.jsxs("span",{className:M>=R?"text-emerald-500":"text-rose-500",children:[M.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:m.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${M>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":M>=R?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(M,100)}%`}})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[m.jsx("span",{className:"text-stone-400",children:" ()"}),m.jsxs("span",{className:"text-stone-400",children:[R.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(R,100)}%`}})})]})]})]}),m.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:m.jsxs("div",{className:"relative z-10",children:[m.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[m.jsx(Qh,{size:14})," "]}),m.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:e(E.projection)}),m.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:[E.budget>0?(E.projection/E.budget*100).toFixed(1):0,"%"]})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:m.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"font-mono font-bold text-stone-500",children:e(E.budget)})]})})]})})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[m.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx(k,{title:"",value:e(E.cash),icon:mc,color:"text-amber-500",subText:m.jsxs("span",{className:`font-bold ${M>=100?"text-emerald-600":"text-amber-600"}`,children:[M.toFixed(1),"% "]})}),m.jsx(k,{title:"",value:e(E.accrual),icon:pw,color:"text-cyan-500",subText:""}),m.jsx(k,{title:"",value:e(E.skincareSales),icon:cde,color:"text-rose-500",subText:m.jsxs(m.Fragment,{children:[" ",m.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[E.accrual>0?(E.skincareSales/E.accrual*100).toFixed(1):0,"%"]})]})})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[m.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[m.jsx(k,{title:"",value:n(E.traffic),icon:oh,color:"text-blue-500",subText:""}),m.jsx(k,{title:"",value:e(t.avgTrafficASP),icon:Sv,color:"text-indigo-500",subText:m.jsxs("span",{className:t.avgTrafficASP>=r.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[t.avgTrafficASP>=r.trafficASP?"":""," ( ",n(r.trafficASP),")"]})}),m.jsx(k,{title:"",value:n(E.newCustomers),icon:bk,color:"text-purple-500",subText:""}),m.jsx(k,{title:"",value:n(E.newCustomerClosings),icon:mde,color:"text-teal-500",subText:m.jsxs("span",{children:[" ",m.jsxs("span",{className:"font-bold",children:[E.newCustomers>0?(E.newCustomerClosings/E.newCustomers*100).toFixed(0):0,"%"]})]})}),m.jsx(k,{title:"",value:e(t.avgNewCustomerASP),icon:mw,color:"text-fuchsia-500",subText:m.jsxs("span",{className:t.avgNewCustomerASP>=r.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[t.avgNewCustomerASP>=r.newASP?"":""," ( ",n(r.newASP),")"]})})]})]}),m.jsx(It,{title:"",subtitle:" vs ",children:m.jsx("div",{className:"h-[300px] w-full",children:m.jsx(cy,{width:"100%",height:"100%",children:m.jsxs(gA,{data:O,margin:{top:10,right:10,left:0,bottom:0},children:[m.jsx(qy,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),m.jsx(Hy,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),m.jsx($u,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:z=>z===0?"0":`$${(z/1e3).toFixed(0)}k`}),m.jsx($u,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:z=>n(z)}),m.jsx(ky,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(z,N)=>N===""?[e(z),N]:[n(z),N]}),m.jsx(dA,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),m.jsx(Bu,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),b==="therapist"&&m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[S.myStats&&m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:m.jsx(mw,{size:140})}),m.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm",children:["No.",S.myStats.rank]}),m.jsxs("span",{className:"text-indigo-200 font-bold tracking-wider text-sm",children:[S.myStats.store,""]})]}),m.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:S.myStats.name}),m.jsxs("p",{className:"text-indigo-100 text-sm",children:[" (",p,")"]})]}),m.jsxs("div",{className:"flex gap-6 text-right",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-indigo-200 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-3xl font-mono font-bold",children:e(S.myStats.totalRevenue)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-indigo-200 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-3xl font-mono font-bold",children:S.myStats.serviceCount})]})]})]})]}),i!=="therapist"&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx(k,{title:"",value:e(S.grandTotal.totalRevenue),icon:mc,color:"text-indigo-500",subText:`${S.grandTotal.count} `}),m.jsx(k,{title:"",value:n(S.grandTotal.serviceCount),icon:oh,color:"text-blue-500"}),m.jsx(k,{title:"",value:e(S.grandTotal.newCustomerRevenue),icon:bk,color:"text-amber-500"}),m.jsx(k,{title:"",value:e(S.grandTotal.returnRevenue),icon:kue,color:"text-rose-500"})]}),m.jsx(It,{title:"",subtitle:" ()",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[500px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[m.jsx("th",{className:"p-4 w-16 text-center",children:""}),m.jsx("th",{className:"p-4",children:""}),m.jsx("th",{className:"p-4",children:""}),m.jsx("th",{className:"p-4 text-right",children:""}),m.jsx("th",{className:"p-4 text-right",children:""}),m.jsx("th",{className:"p-4 text-right",children:""})]})}),m.jsxs("tbody",{className:"text-sm",children:[S.rankings.map((z,N)=>m.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${s?.id===z.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[m.jsx("td",{className:"p-4 text-center",children:m.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${N<3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":"bg-stone-100 text-stone-500"}`,children:z.rank})}),m.jsxs("td",{className:"p-4 font-bold text-stone-700 flex items-center gap-2",children:[z.name,s?.id===z.id&&m.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"})]}),m.jsxs("td",{className:"p-4 text-stone-500",children:[z.store,""]}),m.jsx("td",{className:"p-4 text-right font-mono font-bold text-indigo-600",children:e(z.totalRevenue)}),m.jsx("td",{className:"p-4 text-right font-mono",children:z.serviceCount}),m.jsx("td",{className:"p-4 text-right font-mono text-amber-600",children:e(z.newCustomerRevenue)})]},z.id)),S.rankings.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"p-8 text-center text-stone-400",children:""})})]})]})})})]})]})})},_k=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},Bde=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=w.useState(()=>_k(t));w.useEffect(()=>{t&&l(_k(t))},[t]);const u=s.getFullYear(),d=s.getMonth(),h=new Date(u,d+1,0).getDate(),p=new Date(u,d,1).getDay(),g=S=>{if(!r||r.length===0)return"none";const O=`${u}-${String(d+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`.replace(/-/g,"/"),M=r.filter($=>$.date?$.date.replace(/-/g,"/")===O:!1);if(M.length===0)return"none";if(!n||Array.isArray(n)&&n.length===0||typeof n=="object"&&Object.keys(n).length===0)return"complete";let R=[];return Array.isArray(n)?n.forEach($=>{$.stores&&$.stores.forEach(k=>R.push(typeof k=="string"?k:k.name))}):Object.values(n).forEach($=>{Array.isArray($)&&$.forEach(k=>R.push(typeof k=="string"?k:k.name))}),M.length>=R.length?"complete":"incomplete"},b=()=>{l(new Date(u,d-1,1))},_=()=>{l(new Date(u,d+1,1))},A=S=>{const E=`${u}-${String(d+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`;e(E),i&&i()};return m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("button",{onClick:b,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:m.jsx(az,{size:20})}),m.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",d+1,""]}),m.jsx("button",{onClick:_,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:m.jsx(sz,{size:20})})]}),m.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(S=>m.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:S},S))}),m.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((S,E)=>m.jsx("div",{},`empty-${E}`)),Array.from({length:h}).map((S,E)=>{const O=E+1,R=`${u}-${String(d+1).padStart(2,"0")}-${String(O).padStart(2,"0")}`===t,$=g(O);return m.jsxs("button",{onClick:()=>A(O),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${R?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[O,!R&&$!=="none"&&m.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${$==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},O)})]}),i&&m.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},wz=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=w.useState(!1),l=w.useRef(null);return w.useEffect(()=>{const u=d=>{window.innerWidth>=768&&l.current&&!l.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),m.jsxs("div",{className:"relative w-full",ref:l,children:[" ",m.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[m.jsx("span",{className:"text-lg",children:t}),m.jsx(Ys,{size:18,className:"text-stone-400 ml-auto"})]}),i&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),m.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:m.jsx(Bde,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},Tu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},$de=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u}=w.useContext(Dr),[d,h]=w.useState(""),[p,g]=w.useState(""),b={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[_,A]=w.useState(b),[S,E]=w.useState(!1),[O,M]=w.useState(!1),[R,$]=w.useState(!1),[k,z]=w.useState(null),N={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},j=Tu();w.useEffect(()=>{const K=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const Z=Tu(),de=Object.values(_).every(he=>he==="");r!==Z&&de&&(console.log(`[] : ${r} -> ${Z}`),i(Z))}};return document.addEventListener("visibilitychange",K),window.addEventListener("focus",K),()=>{document.removeEventListener("visibilitychange",K),window.removeEventListener("focus",K)}},[r,_,i]),w.useEffect(()=>{const K=localStorage.getItem("cyj_input_draft_v3");if(K)try{const Z=JSON.parse(K);Z.formData&&A(Z.formData),Z.store&&g(Z.store),Z.manager&&h(Z.manager);const de=Z.date;de===Tu()&&i(de)}catch(Z){console.error(Z)}},[]),w.useEffect(()=>{const K={formData:_,store:p,manager:d,date:r,timestamp:Date.now()};localStorage.setItem("cyj_input_draft_v3",JSON.stringify(K))},[_,p,d,r]),w.useEffect(()=>{const K=ar(_.operationalAccrual),Z=ar(_.skincareSales);A(de=>{const he=K+Z;return ar(de.accrual)!==he?{...de,accrual:Zl(he)}:de})},[_.operationalAccrual,_.skincareSales]);const I=(K,Z)=>{const de=Z.replace(/,/g,"");/^\d*$/.test(de)&&A(he=>({...he,[K]:Zl(de)}))},L=w.useMemo(()=>d?(n[d]||[]).map(K=>`CYJ${K}`):e==="store"&&t?(t.stores||[t.storeName]).map(K=>K.startsWith("CYJ")?K:`CYJ${K}`):[],[d,n,e,t]);w.useEffect(()=>{if(!p&&e==="store"&&t){const K=t.stores||[t.storeName];if(K.length>0){const Z=K[0].replace("CYJ","").replace("",""),de=Object.keys(n).find(ce=>n[ce].includes(Z));de&&h(de);const he=K[0].startsWith("CYJ")?K[0]:`CYJ${K[0]}`;g(he)}}else!d&&e==="manager"&&t&&h(t.name)},[e,t,n]);const D=()=>{confirm("")&&(A(b),localStorage.removeItem("cyj_input_draft_v3"),s("","info"))},B=K=>{if(K.preventDefault(),!p)return s("","error");if(r>j)return s("","error");const Z=lr(r),de=u.find(he=>lr(he.date)===Z&&he.storeName===p);z(de?de.id:null),r!==j?$(!0):M(!0)},V=()=>{$(!1),M(!0)},ue=async()=>{E(!0);try{const K=lr(r),Z={date:K,storeName:p,...Object.keys(_).reduce((de,he)=>({...de,[he]:ar(_[he])}),{}),timestamp:ed(),submittedBy:t?.name||"unknown"};k?(await Rn(ct($e,"artifacts",Ve,"public","data","daily_reports",k),Z),l(e,t?.name,"()",`${p} ${K}`)):(await hS(oi($e,"artifacts",Ve,"public","data","daily_reports"),Z),l(e,t?.name,"",`${p} ${K}`)),A(b),localStorage.removeItem("cyj_input_draft_v3"),M(!1),z(null),s("","success")}catch(K){console.error(K),s("","error")}finally{E(!1)}},be=K=>m.jsxs("div",{children:[m.jsx("label",{className:`block text-xs font-bold mb-1.5 ${K.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:N[K]||K}),m.jsx("input",{type:"text",value:_[K],onChange:Z=>I(K,Z.target.value),readOnly:K==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${K==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},K);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[m.jsx(hc,{size:14})," "]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),m.jsx(wz,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),m.jsx("div",{className:"relative",children:m.jsxs("select",{value:d,onChange:K=>{h(K.target.value),g("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(n).map(K=>m.jsxs("option",{value:K,children:[K,""]},K))]})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),m.jsx("div",{className:"relative",children:m.jsxs("select",{value:p,onChange:K=>g(K.target.value),disabled:!d,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[m.jsx("option",{value:"",children:"..."}),L.map(K=>m.jsx("option",{value:K,children:K},K))]})})]})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[m.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[m.jsx(lz,{size:20,className:"text-amber-500"}),m.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[m.jsx(Uue,{size:14})," "]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[be("cash"),be("accrual"),be("operationalAccrual"),be("skincareSales")]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[m.jsx(oh,{size:14})," "]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[be("newCustomerSales"),be("traffic"),be("newCustomers"),be("newCustomerClosings")]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[m.jsx(pz,{size:14}),"  ()"]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[be("refund"),be("skincareRefund")]})]}),m.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[m.jsx("button",{onClick:D,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:m.jsx(hz,{size:20})}),m.jsx("button",{onClick:B,disabled:S,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70",children:S?m.jsx(qu,{className:"animate-spin mx-auto"}):""})]})]}),R&&m.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[m.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[m.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:m.jsx(Ys,{size:32,className:"text-white"})}),m.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),m.jsxs("div",{className:"p-6 space-y-6 text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),m.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),m.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:m.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[m.jsx(sh,{size:18,className:"shrink-0 mt-0.5"}),m.jsxs("span",{children:[" ",m.jsx("u",{children:""})," (",j,")",k&&m.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",m.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>$(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),m.jsx("button",{onClick:V,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),O&&m.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[m.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[m.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[m.jsx(Fu,{})," "]}),m.jsx("button",{onClick:()=>M(!1),children:m.jsx(gs,{className:"text-white"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[m.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[m.jsx("span",{children:""}),m.jsx("span",{children:r})]}),m.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[m.jsx("span",{children:""}),m.jsx("span",{children:p})]}),m.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:["$",_.cash]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:["$",_.accrual]})]})]}),k&&m.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>M(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),m.jsx("button",{onClick:ue,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900",children:""})]})]})]})})]})},qde=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i}=w.useContext(Dr),s={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[l,u]=w.useState(s),[d,h]=w.useState(!1),[p,g]=w.useState(!1),[b,_]=w.useState(!1),[A,S]=w.useState(!1),[E,O]=w.useState(null),M={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},R=Tu();w.useEffect(()=>{const j=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const I=Tu(),L=!l.newCustomerRevenue&&!l.oldCustomerRevenue;e!==I&&L&&(console.log(`[] : ${e} -> ${I}`),n(I))}};return document.addEventListener("visibilitychange",j),window.addEventListener("focus",j),()=>{document.removeEventListener("visibilitychange",j),window.removeEventListener("focus",j)}},[e,l,n]),w.useEffect(()=>{const j=localStorage.getItem("cyj_therapist_draft_v2");if(j)try{const I=JSON.parse(j);I.formData&&u(I.formData);const L=I.date;L===Tu()&&n(L)}catch(I){console.error(I)}},[]),w.useEffect(()=>{const j={formData:l,date:e,timestamp:Date.now()};localStorage.setItem("cyj_therapist_draft_v2",JSON.stringify(j))},[l,e]),w.useEffect(()=>{const j=ar(l.newCustomerRevenue)||0,I=ar(l.oldCustomerRevenue)||0,L=ar(l.returnRevenue)||0,D=j+I-L;ar(l.totalRevenue)!==D&&u(B=>({...B,totalRevenue:Zl(D)}))},[l.newCustomerRevenue,l.oldCustomerRevenue,l.returnRevenue]),w.useEffect(()=>{(async()=>{if(t?.id)try{const D=`${lr(e).replace(/\//g,"-")}_${t.id}`,B=ct($e,"artifacts",Ve,"public","data","therapist_daily_reports",D),V=await SC(B);g(V.exists())}catch(I){console.error("",I)}})()},[e,t]);const $=(j,I)=>{const L=I.replace(/,/g,"");/^\d*$/.test(L)&&u(D=>({...D,[j]:Zl(L)}))},k=()=>{if(!(l.newCustomerRevenue||l.oldCustomerRevenue||l.newCustomerCount||l.oldCustomerCount||l.returnRevenue))return r("","error");e!==R?S(!0):_(!0)},z=()=>{S(!1),_(!0)},N=async()=>{h(!0),O(null);try{if(!t||!t.id)throw new Error(" ID ");const j=lr(e),L=`${j.replace(/\//g,"-")}_${t.id}`,D={date:j,therapistId:t.id,therapistName:t.name,storeName:t.store||"",totalRevenue:ar(l.totalRevenue),newCustomerRevenue:ar(l.newCustomerRevenue),newCustomerCount:ar(l.newCustomerCount),newCustomerClosings:ar(l.newCustomerClosings),oldCustomerRevenue:ar(l.oldCustomerRevenue),oldCustomerCount:ar(l.oldCustomerCount),returnRevenue:ar(l.returnRevenue),updatedAt:ed()},B=ct($e,"artifacts",Ve,"public","data","therapist_daily_reports",L);if(await Rn(B,D),(await SC(B)).exists())i("therapist",t.name,"",`${j} `),r("","success"),g(!0),u(s),localStorage.removeItem("cyj_therapist_draft_v2"),_(!1);else throw new Error("")}catch(j){console.error(":",j),O({error:j.message,code:j.code||"unknown",path:`artifacts/${Ve}/.../therapist_daily_reports`}),r("","error")}finally{h(!1)}};return m.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[m.jsx(xc,{className:"text-indigo-200"})," ",t?.name," "]}),m.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),m.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:m.jsx(xk,{size:120})})]}),m.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[m.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),m.jsx("div",{className:"relative",children:m.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:j=>n(j.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),p&&m.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[m.jsx(hc,{size:16}),"  (",e,") "]}),E&&m.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[m.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[m.jsx(fue,{})," "]}),m.jsx("p",{className:"text-rose-700 text-sm font-bold",children:E.error})]}),m.jsx(It,{title:"",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[m.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[m.jsx(mue,{size:12})," ",M.totalRevenue," ()"]}),m.jsxs("div",{className:"relative",children:[m.jsx(mc,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),m.jsx("input",{type:"text",value:l.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[m.jsx(xk,{size:12})," "]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.newCustomerRevenue}),m.jsx("input",{type:"text",value:l.newCustomerRevenue,onChange:j=>$("newCustomerRevenue",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.newCustomerCount}),m.jsx("input",{type:"text",value:l.newCustomerCount,onChange:j=>$("newCustomerCount",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.newCustomerClosings}),m.jsx("input",{type:"text",value:l.newCustomerClosings,onChange:j=>$("newCustomerClosings",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[m.jsx(oh,{size:12})," "]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.oldCustomerRevenue}),m.jsx("input",{type:"text",value:l.oldCustomerRevenue,onChange:j=>$("oldCustomerRevenue",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.oldCustomerCount}),m.jsx("input",{type:"text",value:l.oldCustomerCount,onChange:j=>$("oldCustomerCount",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[m.jsx(pz,{size:12})," ",M.returnRevenue]}),m.jsx("input",{type:"text",value:l.returnRevenue,onChange:j=>$("returnRevenue",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),m.jsxs("button",{onClick:k,disabled:d,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[d?m.jsx(qu,{className:"animate-spin"}):m.jsx(gz,{size:20}),""]})]})}),A&&m.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[m.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[m.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:m.jsx(Ys,{size:32,className:"text-white"})}),m.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),m.jsxs("div",{className:"p-6 space-y-6 text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),m.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),m.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:m.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[m.jsx(sh,{size:18,className:"shrink-0 mt-0.5"}),m.jsxs("span",{children:[" ",m.jsx("u",{children:""})," (",R,")",p&&m.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",m.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),m.jsx("button",{onClick:z,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),b&&m.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[m.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[m.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[m.jsx(Fu,{})," "]}),m.jsx("button",{onClick:()=>_(!1),children:m.jsx(gs,{className:"text-white"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[m.jsx("span",{children:""}),m.jsx("span",{children:e})]}),m.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[m.jsx("span",{children:""}),m.jsx("span",{children:t?.name})]}),m.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-stone-500",children:""}),m.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",l.totalRevenue||0]})]}),m.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:m.jsxs("span",{children:["( $",l.newCustomerRevenue||0," +  $",l.oldCustomerRevenue||0,")"]})}),m.jsxs("div",{className:"flex justify-between mt-2",children:[m.jsx("span",{className:"text-stone-500",children:""}),m.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",l.returnRevenue||0]})]})]})]}),p&&m.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[m.jsx(sh,{size:12})," "]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),m.jsx("button",{onClick:N,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md",children:""})]})]})]})})]})},Fde=()=>{const{userRole:t}=w.useContext(Dr);return m.jsx(Gr,{children:t==="therapist"?m.jsx(qde,{}):m.jsx($de,{})})},Hde=()=>{const{showToast:t,managers:e,userRole:n,currentUser:r}=w.useContext(Dr),[i,s]=w.useState(n==="trainer"||n==="therapist"?"therapist":"store"),[l,u]=w.useState([]),[d,h]=w.useState([]),[p,g]=w.useState(!1),b=()=>new Date().toISOString().split("T")[0],[_,A]=w.useState(b()),[S,E]=w.useState(b()),[O,M]=w.useState(""),[R,$]=w.useState(null),[k,z]=w.useState({}),N=ce=>typeof ce=="number"?ce.toLocaleString():ce,j=w.useMemo(()=>n==="director"||n==="trainer"?null:n==="manager"&&r?(e[r.name]||[]).map(ce=>ce.trim()):n==="store"&&r?(r.stores||[r.storeName]).map(q=>q.replace(/CYJ|/g,"").trim()):n==="therapist"&&r?[r.store]:[],[n,r,e]),I=w.useMemo(()=>{let ce=[];return j!==null?ce=j:ce=Object.values(e).flat(),ce.filter(q=>q).map(q=>`CYJ${q}`).sort()},[e,j]);w.useEffect(()=>{I.length===1&&M(I[0])},[I]);const L=ce=>ce?ce.storeName||ce.store||"":"",D=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],B=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];w.useEffect(()=>{if(!_||!S)return;(async()=>{g(!0);try{const q=i==="store"?"daily_reports":"therapist_daily_reports",Y=new Map,X=ku(oi($e,"artifacts",Ve,"public","data",q),Bl("date",">=",_),Bl("date","<=",S),Ag("date","desc"));(await f_(X)).docs.forEach(je=>Y.set(je.id,{id:je.id,...je.data()}));const Se=_.replace(/-/g,"/"),se=S.replace(/-/g,"/"),we=ku(oi($e,"artifacts",Ve,"public","data",q),Bl("date",">=",Se),Bl("date","<=",se),Ag("date","desc"));(await f_(we)).docs.forEach(je=>Y.set(je.id,{id:je.id,...je.data()}));const ae=Array.from(Y.values()).sort((je,Ue)=>Ue.date.localeCompare(je.date));i==="store"?u(ae):h(ae)}catch(q){console.error(q),t(": "+q.message,"error")}finally{g(!1)}})()},[i,_,S,Ve,t]);const V=i==="store"?l:d,ue=w.useMemo(()=>V.filter(ce=>{if(n==="therapist"){if(i!=="therapist"||ce.therapistId!==r?.id)return!1}else if(j!==null){const Y=Se=>String(Se||"").replace(/CYJ/ig,"").replace(//g,"").replace(/\s/g,"").toLowerCase().trim(),X=Y(L(ce));if(!j.some(Se=>X===Y(Se)))return!1}let q=!0;if(O){const Y=Se=>String(Se||"").replace(/CYJ/ig,"").replace(//g,"").replace(/\s/g,"").toLowerCase().trim(),X=Y(O),re=Y(L(ce));q=re.includes(X)||X.includes(re)}return q}),[V,O,j,n,r,i]),be=ce=>{$(ce.id),z({...ce,date:lr(ce.date)})},K=()=>{$(null),z({})},Z=(ce,q)=>{z(Y=>{const X={...Y,[ce]:q};if(i==="therapist"&&(ce==="newCustomerRevenue"||ce==="oldCustomerRevenue"||ce==="returnRevenue")){const re=Number(X.newCustomerRevenue||0),Se=Number(X.oldCustomerRevenue||0),se=Number(X.returnRevenue||0);X.totalRevenue=re+Se-se}if(i==="store"&&(ce==="operationalAccrual"||ce==="skincareSales")){const re=Number(X.operationalAccrual||0),Se=Number(X.skincareSales||0);X.accrual=re+Se}return X})},de=async()=>{try{const q=ct($e,"artifacts",Ve,"public","data",i==="store"?"daily_reports":"therapist_daily_reports",R);let Y={};i==="store"?Y={...k,cash:Number(k.cash||0),accrual:Number(k.accrual||0),operationalAccrual:Number(k.operationalAccrual||0),skincareSales:Number(k.skincareSales||0),traffic:Number(k.traffic||0),newCustomers:Number(k.newCustomers||0),newCustomerClosings:Number(k.newCustomerClosings||0),newCustomerSales:Number(k.newCustomerSales||0),refund:Number(k.refund||0),skincareRefund:Number(k.skincareRefund||0)}:Y={...k,totalRevenue:Number(k.totalRevenue||0),newCustomerRevenue:Number(k.newCustomerRevenue||0),newCustomerCount:Number(k.newCustomerCount||0),newCustomerClosings:Number(k.newCustomerClosings||0),oldCustomerRevenue:Number(k.oldCustomerRevenue||0),oldCustomerCount:Number(k.oldCustomerCount||0),returnRevenue:Number(k.returnRevenue||0)},await Tg(q,Y),t("","success"),(i==="store"?u:h)(re=>re.map(Se=>Se.id===R?{...Se,...Y}:Se)),$(null)}catch{t("","error")}},he=async ce=>{if(confirm("?"))try{await FM(ct($e,"artifacts",Ve,"public","data",i==="store"?"daily_reports":"therapist_daily_reports",ce)),t("","success"),(i==="store"?u:h)(X=>X.filter(re=>re.id!==ce))}catch{t("","error")}};return m.jsx(Gr,{children:m.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[m.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),m.jsx("span",{className:"hidden sm:inline text-stone-400",children:"|"}),m.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl w-full sm:w-auto",children:[n!=="trainer"&&n!=="therapist"&&m.jsxs("button",{onClick:()=>{s("store"),M("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${i==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.jsx(Ri,{size:16})," "]}),m.jsxs("button",{onClick:()=>{s("therapist"),M("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${i==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.jsx(xc,{size:16})," "]})]})]}),m.jsx(It,{children:m.jsxs("div",{className:"space-y-4 w-full",children:[m.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[m.jsxs("div",{className:"w-full lg:w-auto flex-grow",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(Ys,{size:12})," "]}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[m.jsx("input",{type:"date",value:_,onChange:ce=>A(ce.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),m.jsx("span",{className:"text-stone-400 font-bold transform rotate-90 sm:rotate-0",children:""}),m.jsx("input",{type:"date",value:S,onChange:ce=>E(ce.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),m.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[m.jsxs("div",{className:"flex-grow min-w-[150px]",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsxs("select",{value:O,onChange:ce=>M(ce.target.value),disabled:I.length===1,className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400 h-[42px] disabled:bg-stone-100 disabled:text-stone-500",children:[I.length>1&&m.jsx("option",{value:"",children:""}),I.map(ce=>m.jsx("option",{value:ce,children:ce},ce))]})]}),m.jsx("div",{className:"flex items-end",children:m.jsxs("button",{onClick:()=>{A(b()),E(b()),I.length>1&&M("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm h-[42px] items-center justify-center whitespace-nowrap",children:[m.jsx(hz,{size:16})," ",m.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),m.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[m.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:m.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[m.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),i==="store"?D.map(ce=>m.jsx("th",{className:`p-4 text-right ${ce.isNegative?"text-rose-500":""} ${ce.width}`,children:ce.label},ce.key)):m.jsxs(m.Fragment,{children:[m.jsx("th",{className:"p-4 min-w-[100px]",children:""}),B.map(ce=>m.jsx("th",{className:`p-4 text-right ${ce.isNegative?"text-rose-500":ce.isHighlight?"text-indigo-600":""} ${ce.width}`,children:ce.label},ce.key))]}),m.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),m.jsxs("tbody",{className:"divide-y divide-stone-100",children:[p&&m.jsx("tr",{children:m.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[m.jsx(zo,{className:"animate-spin inline mr-2"}),"..."]})}),!p&&(!_||!S)&&m.jsx("tr",{children:m.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx(yA,{size:24,className:"opacity-50"}),m.jsx("p",{className:"font-bold",children:""})]})})}),!p&&ue.map(ce=>{const q=R===ce.id,Y=L(ce).replace("CYJ","").replace("","");return m.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[m.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:m.jsxs("div",{className:"flex flex-col",children:[q?m.jsx("input",{type:"date",value:k.date,onChange:X=>Z("date",X.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):m.jsx("span",{className:"font-mono font-bold text-stone-600",children:ce.date}),m.jsx("span",{className:"font-bold text-stone-800",children:Y||m.jsx("span",{className:"text-stone-300 text-xs",children:""})})]})}),i==="store"?D.map(X=>m.jsx("td",{className:"p-4 text-right",children:q?m.jsx("input",{type:"number",value:k[X.key],onChange:re=>Z(X.key,re.target.value),readOnly:X.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${X.isNegative?"text-rose-500":""} ${X.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):m.jsx("span",{className:X.isNegative?"text-rose-500 font-bold":"",children:N(ce[X.key])})},X.key)):m.jsxs(m.Fragment,{children:[m.jsx("td",{className:"p-4 font-bold",children:ce.therapistName}),B.map(X=>m.jsx("td",{className:"p-4 text-right",children:q?m.jsx("input",{type:"number",value:k[X.key],onChange:re=>Z(X.key,re.target.value),readOnly:X.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${X.isNegative?"text-rose-500":X.isHighlight?"font-bold text-indigo-600":""} ${X.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):m.jsx("span",{className:X.isNegative?"text-rose-500 font-bold":X.isHighlight?"text-indigo-600 font-bold":"",children:N(ce[X.key])})},X.key))]}),m.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:q?m.jsxs("div",{className:"flex gap-2 justify-center",children:[m.jsx("button",{onClick:de,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:m.jsx(Xh,{size:16})}),m.jsx("button",{onClick:K,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:m.jsx(gs,{size:16})})]}):m.jsxs("div",{className:"flex gap-2 justify-center",children:[m.jsx("button",{onClick:()=>be(ce),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:m.jsx(fz,{size:16})}),m.jsx("button",{onClick:()=>he(ce.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:m.jsx(ig,{size:16})})]})})]},ce.id)}),!p&&ue.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:""})})]})]})}),m.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[m.jsx(iue,{size:12}),"  ",m.jsx(rz,{size:12})]})]})]})})]})})},Kde=()=>{const{analytics:t,fmtMoney:e,fmtNum:n,userRole:r}=w.useContext(Dr),i=w.useMemo(()=>t.regionalStats.map(l=>({name:l.manager,value:l.cashTotal})).filter(l=>l.value>0),[t.regionalStats]),s=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return m.jsx(Gr,{children:m.jsxs("div",{className:"space-y-8",children:[m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.regionalStats.map(l=>m.jsxs(It,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg",children:l.manager.charAt(0)}),m.jsx("div",{children:m.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[l.manager," "]})})]}),m.jsx("div",{className:"text-right",children:m.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${l.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[l.achievement.toFixed(1),"%"]})})]}),m.jsxs("div",{className:"space-y-3 mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-stone-500 text-sm",children:""}),m.jsx("span",{className:"text-lg font-bold text-stone-700",children:e(l.cashTotal)})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-stone-500 text-sm",children:""}),m.jsx("span",{className:"text-base font-bold text-stone-600",children:e(l.accrualTotal)})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-stone-500 text-sm",children:""}),m.jsx("span",{className:"text-base font-bold text-rose-500",children:e(l.skincareSalesTotal)})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-stone-700 font-bold",children:n(l.trafficTotal)})]}),m.jsxs("div",{className:"text-center border-l border-stone-200",children:[m.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-stone-700 font-bold",children:n(l.newCustomersTotal)})]}),m.jsxs("div",{className:"text-center border-l border-stone-200",children:[m.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-stone-700 font-bold",children:n(l.newCustomerClosingsTotal)})]})]})]},l.manager))}),r==="director"?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:m.jsx(It,{title:"",subtitle:"",children:m.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:m.jsx(cy,{width:"100%",height:"100%",children:m.jsxs(Wce,{children:[m.jsx(dL,{data:i,cx:"50%",cy:"50%",labelLine:!0,label:({name:l,percent:u})=>`${l} ${(u*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:i.map((l,u)=>m.jsx(Gh,{fill:s[u%s.length]},`cell-${u}`))}),m.jsx(ky,{formatter:l=>e(l)}),m.jsx(py,{verticalAlign:"bottom",height:36})]})})})})}):m.jsx("div",{className:"space-y-6",children:t.regionalStats.map(l=>{const u=t.storeList.filter(d=>d.manager===l.manager);return m.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[m.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:m.jsxs("h3",{className:"font-bold text-stone-700",children:[l.manager," "]})}),m.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map(d=>m.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h4",{className:"font-bold text-stone-700",children:d.name.replace("CYJ","").replace("","")}),m.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:[d.achievement.toFixed(1),"%"]})]}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-stone-400",children:""}),m.jsx("span",{className:"font-bold",children:e(d.cashTotal)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-stone-400",children:""}),m.jsx("span",{className:"font-bold",children:e(d.accrualTotal)})]})]})]},d.name))})]},l.manager)})})]})})},Gde=()=>{const{analytics:t,fmtMoney:e,fmtNum:n}=w.useContext(Dr),[r,i]=w.useState({key:"achievement",direction:"desc"}),s=w.useMemo(()=>{let d=[...t.storeList];return r.key&&d.sort((h,p)=>h[r.key]<p[r.key]?r.direction==="ascending"?-1:1:h[r.key]>p[r.key]?r.direction==="ascending"?1:-1:0),d},[t.storeList,r]),l=d=>i({key:d,direction:r.key===d&&r.direction==="desc"?"ascending":"desc"}),u=()=>{const d=[",,,,,,,,,"],h=s.map((A,S)=>{const E=A.name.replace("CYJ","").replace("","");return[S+1,E,A.manager,A.cashTotal,A.achievement.toFixed(2)+"%",A.skincareSalesTotal,A.trafficTotal,A.trafficASP,A.newCustomersTotal,A.newCustomerClosingsTotal].join(",")}),p="\uFEFF"+[d,...h].join(`
`),g=new Blob([p],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a"),_=URL.createObjectURL(g);b.setAttribute("href",_),b.setAttribute("download",`_${new Date().toISOString().split("T")[0]}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)};return m.jsx(Gr,{children:m.jsxs(It,{title:"",subtitle:"",children:[m.jsx("div",{className:"flex justify-end mb-4",children:m.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[m.jsx(Pue,{size:16}),"  CSV"]})}),m.jsx("div",{className:"overflow-x-auto rounded-2xl border border-stone-100 min-h-[500px]",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[m.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 w-16 text-center",children:""}),m.jsx("th",{className:"p-4 cursor-pointer",onClick:()=>l("name"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("cashTotal"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("achievement"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("trafficTotal"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("newCustomersTotal"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("newCustomerClosingsTotal"),children:""})]})}),m.jsx("tbody",{className:"text-sm divide-y divide-stone-50",children:s.map((d,h)=>m.jsxs("tr",{className:"hover:bg-stone-50",children:[m.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:h+1}),m.jsx("td",{className:"p-4 font-bold text-stone-700",children:d.name.replace("CYJ","").replace("","")}),m.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(d.cashTotal)}),m.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:[d.achievement.toFixed(1),"%"]}),m.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(d.trafficTotal)}),m.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(d.newCustomersTotal)}),m.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(d.newCustomerClosingsTotal)})]},d.name))})]})})]})})},Yde=()=>{const{rawData:t,budgets:e,managers:n,selectedYear:r,selectedMonth:i,fmtMoney:s,fmtNum:l,currentUser:u,userRole:d,activeView:h}=w.useContext(Dr),[p,g]=w.useState(""),[b,_]=w.useState("");w.useEffect(()=>{h==="store-analysis"&&u&&n[u.name]&&g(u.name)},[h,u,n]),w.useEffect(()=>{const E=O=>_(O.detail);return window.addEventListener("navigate-to-store",E),()=>window.removeEventListener("navigate-to-store",E)},[]);const A=w.useMemo(()=>d==="director"?p?(n[p]||[]).map(E=>`CYJ${E}`):[]:d==="manager"?Object.values(n).flat().map(E=>`CYJ${E}`):d==="store"&&u?(u.stores||[u.storeName]).map(E=>E.startsWith("CYJ")?E:`CYJ${E}`):[],[p,n,u,d]);w.useEffect(()=>{u&&A.length===1&&!b&&_(A[0])},[u,A,b]);const S=w.useMemo(()=>{if(!b)return null;const E=parseInt(r),O=parseInt(i),M=E-1911,R=t.filter(V=>{if(V.storeName!==b||!V.date)return!1;const ue=V.date.replace(/-/g,"/").split("/"),be=parseInt(ue[0]),K=parseInt(ue[1]);return(be===E||be===M)&&K===O}).sort((V,ue)=>{const be=lr(V.date),K=lr(ue.date);return be.localeCompare(K)}),$=R.reduce((V,ue)=>V+(ue.cash||0),0),k=R.reduce((V,ue)=>V+(ue.refund||0),0),z=$-k,N=R.reduce((V,ue)=>V+(ue.traffic||0),0),j=R.reduce((V,ue)=>V+(ue.operationalAccrual||0),0),I=R.reduce((V,ue)=>V+(ue.newCustomers||0),0),L=R.reduce((V,ue)=>V+(ue.newCustomerSales||0),0),D=R.reduce((V,ue)=>V+(ue.newCustomerClosings||0),0),B=e[`${b}_${E}_${O}`]?.cashTarget||0;return{totalCash:z,achievement:B>0?z/B*100:0,trafficASP:N>0?Math.round(j/N):0,newCustomerASP:I>0?Math.round(L/I):0,totalNewCustomerClosings:D,totalRefund:k,dailyData:R.map(V=>({date:lr(V.date).split("/")[2],cash:(V.cash||0)-(V.refund||0),accrual:V.accrual||0,traffic:V.traffic})),budget:B}},[b,r,i,t,e]);return m.jsx(Gr,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{title:"",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("select",{value:p,onChange:E=>g(E.target.value),disabled:d!=="director",className:"px-4 py-2 border rounded-xl",children:[m.jsx("option",{value:"",children:""}),Object.keys(n).map(E=>m.jsx("option",{value:E,children:E},E))]}),m.jsxs("select",{value:b,onChange:E=>_(E.target.value),className:"px-4 py-2 border rounded-xl",children:[m.jsx("option",{value:"",children:""}),A.map(E=>m.jsx("option",{value:E,children:E},E))]})]})}),b&&S&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(S.totalCash)}),m.jsxs("p",{className:`text-sm font-bold ${S.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[S.achievement.toFixed(1),"% "]})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(S.trafficASP)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(S.budget)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(S.newCustomerASP)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(S.totalNewCustomerClosings)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:s(S.totalRefund)})]})]}),m.jsx(It,{title:"",subtitle:"()",children:m.jsx("div",{className:"h-[400px] w-full",children:m.jsx(cy,{width:"100%",height:"100%",children:m.jsxs(gA,{data:S.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[m.jsx(qy,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),m.jsx(Hy,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),m.jsx($u,{yAxisId:"left",width:80,tickFormatter:E=>E===0?"0":`$${(E/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),m.jsx($u,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),m.jsx(ky,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(E,O)=>O===""?[l(E),O]:[s(E),O],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),m.jsx(py,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),m.jsx(fA,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),m.jsx(Bu,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),m.jsx(Bu,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]})]})})},Wde=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState(1),l=20,u=new Date().toISOString().split("T")[0],[d,h]=w.useState({start:u,end:u}),p=()=>{r(!0),e([]);const E=new Date(d.start);E.setHours(0,0,0,0);const O=new Date(d.end);O.setHours(23,59,59,999);const M=ku(oi($e,"artifacts",Ve,"public","data","system_logs"),Bl("timestamp",">=",kt.fromDate(E)),Bl("timestamp","<=",kt.fromDate(O)),$M(500));return qr(M,$=>{let k=$.docs.map(z=>({id:z.id,...z.data()}));k.sort((z,N)=>{const j=z.timestamp?.toMillis?z.timestamp.toMillis():0;return(N.timestamp?.toMillis?N.timestamp.toMillis():0)-j}),e(k),r(!1)})};w.useEffect(()=>{const E=p();return()=>E()},[d]);const g=Math.ceil(t.length/l),b=t.slice((i-1)*l,i*l),_=E=>{if(!E)return"-";const O=E.toDate?E.toDate():new Date(E);return`${O.getMonth()+1}/${O.getDate()} ${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`},A=E=>{switch(E){case"director":return m.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return m.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return m.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return m.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return m.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},S=E=>E==="iOS"||E==="Android"||E==="Mobile"?m.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[m.jsx(dde,{size:12})," ",E]}):m.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[m.jsx(Jue,{size:12})," PC"]});return m.jsx(Gr,{children:m.jsx("div",{className:"space-y-6 pb-20",children:m.jsxs(It,{children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),m.jsx("p",{className:"text-xs text-stone-400",children:""})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[m.jsxs("div",{className:"flex items-center gap-2 px-2",children:[m.jsx(Ys,{size:14,className:"text-stone-400"}),m.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[m.jsx("input",{type:"date",value:d.start,onChange:E=>h(O=>({...O,start:E.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),m.jsx("span",{className:"text-stone-300",children:"~"}),m.jsx("input",{type:"date",value:d.end,onChange:E=>h(O=>({...O,end:E.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?m.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[m.jsx(rde,{className:"animate-spin mx-auto mb-2"}),m.jsx("p",{children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[m.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 w-32",children:""}),m.jsx("th",{className:"p-4 w-24",children:""}),m.jsx("th",{className:"p-4 w-24",children:""}),m.jsx("th",{className:"p-4 w-32",children:""}),m.jsx("th",{className:"p-4 w-32",children:""}),m.jsx("th",{className:"p-4",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:b.length>0?b.map(E=>m.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[m.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:_(E.timestamp)}),m.jsx("td",{className:"p-4",children:S(E.device)}),m.jsx("td",{className:"p-4",children:A(E.role)}),m.jsx("td",{className:"p-4 font-bold text-stone-700",children:E.user}),m.jsx("td",{className:"p-4 font-medium text-stone-600",children:E.action}),m.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof E.details=="string"?E.details:JSON.stringify(E.details),children:typeof E.details=="string"?E.details:JSON.stringify(E.details)})]},E.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&m.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[m.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>s(E=>Math.max(1,E-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:m.jsx(az,{size:18})}),m.jsx("button",{onClick:()=>s(E=>Math.min(g,E+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:m.jsx(sz,{size:18})})]})]})]})]})})})},Xde=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:d,therapists:h,therapistTargets:p,therapistSchedules:g,trainerAuth:b,handleUpdateTrainerAuth:_}=w.useContext(Dr),[A,S]=w.useState(""),[E,O]=w.useState(t),[M,R]=w.useState(u||xz),[$,k]=w.useState({name:"",password:"",stores:""}),[z,N]=w.useState(null),[j,I]=w.useState({name:"",password:"",stores:[]}),[L,D]=w.useState({name:"",password:""}),[B,V]=w.useState(null),[ue,be]=w.useState([]),[K,Z]=w.useState({name:"",manager:""}),[de,he]=w.useState(!1),[ce,q]=w.useState(null),[Y,X]=w.useState(""),[re,Se]=w.useState(""),[se,we]=w.useState(""),[Re,ae]=w.useState(""),[je,Ue]=w.useState("0000"),[xe,xt]=w.useState(""),Fe=w.useMemo(()=>{const H=[],_e=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0},{id:"permissions",label:"",isAdminOnly:!0},{id:"trainer-account",label:"",isAdminOnly:!0,icon:oh},{id:"shops",label:"",isAdminOnly:!0},{id:"stores",label:"",isAdminOnly:!0},{id:"managers",label:"",isAdminOnly:!0},{id:"therapists",label:"",isAdminOnly:!0},{id:"t-targets",label:"",icon:yz,permissionId:"t-targets"},{id:"t-schedule",label:"",icon:iz,permissionId:"t-schedule"}].forEach(Je=>{(l==="director"||!Je.isAdminOnly&&Je.permissionId&&_e.includes(Je.permissionId))&&H.push(Je)}),H},[l,u]);w.useEffect(()=>{if(Fe.length>0){const H=Fe.some(_e=>_e.id===A);(!A||!H)&&S(Fe[0].id)}},[Fe,A]),w.useMemo(()=>{let H=h.filter(_e=>_e.status==="active");if(l==="director"||l==="trainer")return H.sort((_e,Ee)=>_e.store.localeCompare(Ee.store));if(l==="manager"){const _e=r[d?.name]||[];return H.filter(Ee=>_e.includes(Ee.store)).sort((Ee,Je)=>Ee.store.localeCompare(Je.store))}if(l==="store"){const Ee=(d?.stores||[d?.storeName]).map(Je=>Je.replace("CYJ","").replace("",""));return H.filter(Je=>Ee.includes(Je.store))}return l==="therapist"?H.filter(_e=>_e.id===d?.id):[]},[h,l,d,r]);const Lt=async()=>{if(!xe)return n("","error");await _(xe)?(n("","success"),xt("")):n("","error")};w.useEffect(()=>{u&&R(u)},[u]),w.useEffect(()=>{t&&O(t)},[t]);const Bt=async()=>{try{await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","kpi_targets"),E),e(E),n("KPI ","success")}catch{n("","error")}},Bn=async()=>{try{await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","permissions"),M),n("","success")}catch{n("","error")}},_r=(H,_e)=>{const Ee=M[H]||[],Je=Ee.includes(_e)?Ee.filter(_t=>_t!==_e):[...Ee,_e];R({...M,[H]:Je})},Ze="",Pt=async()=>{if(!K.name||!K.manager)return n("","error");try{const H=K.manager,_e=r[H]||[];await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","org_structure"),{managers:{...r,[H]:[..._e,K.name]}}),Z({name:"",manager:""}),n("","success")}catch{n("","error")}},wr=async(H,_e)=>{if(confirm(_e===Ze?"":""))try{const Ee=(r[_e]||[]).filter(_t=>_t!==H);let Je={...r,[_e]:Ee};if(_e!==Ze){const _t=r[Ze]||[];_t.includes(H)||(Je[Ze]=[..._t,H])}await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","org_structure"),{managers:Je}),n(_e===Ze?"":"","success")}catch{n("","error")}},Fa=async H=>{try{const _e=r[H]||[],Ee=ue,Je=_e.filter(Ar=>!Ee.includes(Ar)),_t=Ee.filter(Ar=>!_e.includes(Ar));let Er=[...r[Ze]||[],...Je];Er=Er.filter(Ar=>!_t.includes(Ar)),Er=[...new Set(Er)];const cl={...r,[H]:Ee,[Ze]:Er};await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","org_structure"),{managers:cl}),V(null),n("","success")}catch(_e){console.error(_e),n("","error")}},Ws=w.useMemo(()=>{const H=Object.values(r).flat(),_e=i.flatMap(Ee=>Ee.stores||[]);return H.filter(Ee=>!_e.includes(Ee)).sort()},[r,i]),un=w.useMemo(()=>(r[Ze]||[]).sort(),[r]),Wr=w.useMemo(()=>{const H=Object.values(r).flat(),_e=i.filter(Ee=>Ee.id!==z?.id).flatMap(Ee=>Ee.stores||[]);return H.filter(Ee=>!_e.includes(Ee)&&!j.stores.includes(Ee)).sort()},[r,i,z,j]),zi=async()=>{if(!$.name||!$.password)return n("","error");const H={id:kde(),...$,stores:$.stores?[$.stores]:[]};try{await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","store_account_data"),{accounts:[...i,H]}),k({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},Vi=H=>{N(H),I({name:H.name,password:H.password,stores:H.stores||[]})},Xr=H=>{H&&!j.stores.includes(H)&&I({...j,stores:[...j.stores,H]})},Ha=H=>{I({...j,stores:j.stores.filter(_e=>_e!==H)})},ia=async()=>{if(!j.name)return;const H=i.map(_e=>_e.id===z.id?{..._e,...j}:_e);await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","store_account_data"),{accounts:H}),N(null),n("","success")},Ka=async H=>{if(!confirm("?"))return;const _e=i.filter(Ee=>Ee.id!==H);await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","store_account_data"),{accounts:_e}),n("","success")},Ga=async()=>{if(L.name)try{await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","org_structure"),{managers:{...r,[L.name]:[]}},{merge:!0}),await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","manager_auth"),{[L.name]:L.password},{merge:!0}),D({name:"",password:""}),n("","success")}catch{n("","error")}},Zn=H=>{H&&(ue.includes(H)||be([...ue,H]))},Zt=H=>{be(ue.filter(_e=>_e!==H))},dr=async H=>{if(!confirm("?"))return;const _e={...r};delete _e[H],await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","org_structure"),{managers:_e}),n("","success")},$t=async()=>{if(!Re)return n("","error");try{await hS(oi($e,"artifacts",Ve,"public","data","therapists"),{name:Re,store:se,manager:re,password:je,status:"active",createdAt:ed()}),he(!1),ae(""),n("","success")}catch{n("","error")}},Xs=async()=>{if(!ce)return;const H=ct($e,"artifacts",Ve,"public","data","therapists",ce.id);await Tg(H,{name:Re,store:se,manager:re,password:je}),q(null),n("","success")},aa=async H=>{const _e=ct($e,"artifacts",Ve,"public","data","therapists",H.id);await Tg(_e,{status:H.status==="active"?"resigned":"active"}),n("","success")},Qs=async H=>{confirm("?")&&(await FM(ct($e,"artifacts",Ve,"public","data","therapists",H)),n("","success"))},Sr=H=>{q(H),Se(H.manager||""),we(H.store),ae(H.name),Ue(H.password)},Ui=w.useMemo(()=>re?r[re]||[]:[],[re,r]),ve=w.useMemo(()=>h.filter(H=>(H.name||"").includes(Y)||(H.store||"").includes(Y)||H.status==="resigned"&&Y===""),[h,Y]);return Fe.length===0?m.jsx(Gr,{children:m.jsx(It,{title:"",children:m.jsxs("div",{className:"text-center py-10 text-stone-400",children:[m.jsx(Rf,{size:48,className:"mx-auto mb-4 opacity-50"}),m.jsx("p",{children:""})]})})}):m.jsx(Gr,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-stone-800 shrink-0",children:""}),m.jsx("div",{className:"w-full xl:w-auto min-w-0 bg-white p-1 rounded-xl shadow-sm border border-stone-100 flex overflow-x-auto no-scrollbar",children:Fe.map(H=>m.jsxs("button",{onClick:()=>S(H.id),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-1 ${A===H.id?"bg-stone-800 text-white shadow":"text-stone-500 hover:bg-stone-50"}`,children:[H.icon&&m.jsx(H.icon,{size:14}),H.label]},H.id))})]}),A==="kpi"&&m.jsx(It,{title:"KPI ",subtitle:"",children:m.jsxs("div",{className:"max-w-md space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),m.jsx("input",{type:"number",value:E.newASP,onChange:H=>O({...E,newASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),m.jsx("input",{type:"number",value:E.trafficASP,onChange:H=>O({...E,trafficASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),m.jsx("button",{onClick:Bt,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold",children:" KPI "})]})}),A==="trainer-account"&&m.jsx(It,{title:"",subtitle:"/",children:m.jsxs("div",{className:"max-w-md space-y-6",children:[m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),m.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:b?.password||"0000"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),m.jsx("input",{type:"text",value:xe,onChange:H=>xt(H.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsx("button",{onClick:Lt,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),A==="permissions"&&m.jsxs(It,{title:"",subtitle:"",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-stone-200",children:[m.jsx("th",{className:"p-4 font-bold text-stone-500",children:""}),m.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),m.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),m.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),m.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:pc.map(H=>m.jsxs("tr",{className:"hover:bg-stone-50",children:[m.jsxs("td",{className:"p-4 flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500",children:m.jsx(H.icon,{size:18})}),m.jsx("span",{className:"font-bold text-stone-700",children:H.label})]}),m.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:m.jsx("input",{type:"checkbox",checked:M.trainer?.includes(H.id),onChange:()=>_r("trainer",H.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),m.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:m.jsx("input",{type:"checkbox",checked:M.manager?.includes(H.id),onChange:()=>_r("manager",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),m.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:m.jsx("input",{type:"checkbox",checked:M.store?.includes(H.id),onChange:()=>_r("store",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),m.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:m.jsx("input",{type:"checkbox",checked:M.therapist?.includes(H.id),onChange:()=>_r("therapist",H.id),className:"w-5 h-5 rounded cursor-pointer"})})]},H.id))})]})}),m.jsx("div",{className:"mt-6 flex justify-end",children:m.jsx("button",{onClick:Bn,className:"bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),A==="shops"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{title:"",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("input",{type:"text",value:K.name,onChange:H=>Z({...K,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:K.manager,onChange:H=>Z({...K,manager:H.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(r).map(H=>m.jsxs("option",{value:H,children:[H," "]},H))]}),m.jsx(U1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),m.jsxs("button",{onClick:Pt,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[m.jsx($p,{size:18})," "]})]})}),m.jsx(It,{title:"",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(r).map(([H,_e])=>m.jsxs("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[m.jsxs("span",{className:`font-bold ${H===Ze?"text-stone-400":"text-stone-700"}`,children:[H," "]}),m.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[_e.length," "]})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:_e.map(Ee=>m.jsxs("div",{className:"group relative flex items-center",children:[m.jsx("span",{className:`px-3 py-1.5 border rounded-lg text-xs font-bold shadow-sm pr-7 ${H===Ze?"bg-stone-100 text-stone-400 border-stone-200":"bg-white text-stone-600 border-stone-200"}`,children:Ee}),m.jsx("button",{onClick:()=>wr(Ee,H),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:m.jsx(gs,{size:12})})]},Ee))})]},H))})})]}),A==="stores"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{title:"",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),m.jsx("input",{type:"text",value:$.name,onChange:H=>k({...$,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("input",{type:"text",value:$.password,onChange:H=>k({...$,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative w-full",children:[m.jsx(Ri,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),m.jsxs("select",{value:$.stores,onChange:H=>k({...$,stores:H.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[m.jsx("option",{value:"",children:"..."}),Ws.map(H=>m.jsx("option",{value:H,children:H},H))]}),m.jsx(U1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),m.jsx("button",{onClick:zi,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:m.jsx($p,{size:20})})]})]})]})}),m.jsx(It,{title:"",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),m.jsx("th",{className:"p-4",children:""}),m.jsx("th",{className:"p-4",children:""}),m.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(H=>m.jsxs("tr",{className:"hover:bg-stone-50",children:[m.jsx("td",{className:"p-4 font-bold text-stone-700",children:H.name}),m.jsx("td",{className:"p-4 font-mono text-stone-500",children:H.password}),m.jsx("td",{className:"p-4",children:m.jsx("div",{className:"flex flex-wrap gap-1",children:H.stores&&H.stores.map(_e=>m.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:_e},_e))})}),m.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[m.jsx("button",{onClick:()=>Vi(H),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:m.jsx(fz,{size:18})}),m.jsx("button",{onClick:()=>Ka(H.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:m.jsx(ig,{size:18})})]})]},H.id))})]})})}),z&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[m.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[m.jsx("span",{children:""}),m.jsx("button",{onClick:()=>N(null),children:m.jsx(gs,{size:20})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),m.jsx("input",{type:"text",value:j.name,onChange:H=>I({...j,name:H.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),m.jsx("input",{type:"text",value:j.password,onChange:H=>I({...j,password:H.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:j.stores.map(H=>m.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[H," ",m.jsx("button",{onClick:()=>Ha(H),className:"text-stone-300 hover:text-rose-500",children:m.jsx(gs,{size:12})})]},H))}),m.jsx("div",{className:"relative",children:m.jsxs("select",{onChange:H=>{Xr(H.target.value),H.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[m.jsx("option",{value:"",children:"+ "}),Wr.map(H=>m.jsx("option",{value:H,children:H},H))]})})]}),m.jsxs("div",{className:"pt-4 flex gap-3",children:[m.jsx("button",{onClick:()=>N(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),m.jsx("button",{onClick:ia,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),A==="managers"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{title:"",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("input",{type:"text",value:L.name,onChange:H=>D({...L,name:H.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("input",{type:"text",value:L.password,onChange:H=>D({...L,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("button",{onClick:Ga,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[m.jsx($p,{size:18})," "]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(r).filter(([H])=>H!==Ze).map(([H,_e])=>m.jsxs(It,{className:"border border-stone-200",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[m.jsx(xc,{size:20,className:"text-amber-500"}),H," "]}),m.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[H]||""]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{V(H),be(_e)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold whitespace-nowrap",children:""}),m.jsx("button",{onClick:()=>dr(H),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:m.jsx(ig,{size:16})})]})]}),B===H?m.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ue.map(Ee=>m.jsxs("div",{className:"group relative flex items-center",children:[m.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Ee}),m.jsx("button",{onClick:()=>Zt(Ee),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:m.jsx(gs,{size:12})})]},Ee))}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{onChange:Ee=>{Zn(Ee.target.value),Ee.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white appearance-none text-stone-700",children:[m.jsx("option",{value:"",children:"+ "}),un.filter(Ee=>!ue.includes(Ee)).map(Ee=>m.jsx("option",{value:Ee,children:Ee},Ee))]}),m.jsx(U1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>V(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400 hover:text-stone-600",children:""}),m.jsx("button",{onClick:()=>Fa(H),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg hover:bg-stone-700 shadow-sm",children:""})]})]}):m.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:_e.map(Ee=>m.jsx("span",{className:"px-2.5 py-1 bg-stone-50 border border-stone-100 rounded-lg text-xs font-bold text-stone-600",children:Ee},Ee))})]},H))})]}),A==="therapists"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[m.jsxs("div",{className:"relative w-full md:w-64",children:[m.jsx(yA,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),m.jsx("input",{type:"text",placeholder:"...",value:Y,onChange:H=>X(H.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),m.jsxs("button",{onClick:()=>he(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[m.jsx($p,{size:18})," "]})]})}),(de||ce)&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[m.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[m.jsx("span",{children:ce?"":""}),m.jsx("button",{onClick:()=>{he(!1),q(null)},children:m.jsx(gs,{size:20})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),m.jsxs("select",{value:re,onChange:H=>{Se(H.target.value),we("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[m.jsx("option",{value:"",children:""}),Object.keys(r).map(H=>m.jsxs("option",{value:H,children:[H,""]},H))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),m.jsxs("select",{value:se,onChange:H=>we(H.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!re,children:[m.jsx("option",{value:"",children:""}),Ui.map(H=>m.jsx("option",{value:H,children:H},H))]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),m.jsx("input",{type:"text",value:Re,onChange:H=>ae(H.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),m.jsx("input",{type:"text",value:je,onChange:H=>Ue(H.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),m.jsxs("div",{className:"pt-4 flex gap-3",children:[m.jsx("button",{onClick:()=>{he(!1),q(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),m.jsx("button",{onClick:ce?Xs:$t,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:ce?"":""})]})]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ve.map(H=>m.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${H.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[m.jsx(Ri,{size:12})," ",H.store,""]}),m.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[H.name,H.status==="resigned"&&m.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>Sr(H),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:m.jsx(gde,{size:16})}),m.jsx("button",{onClick:()=>aa(H),className:`p-2 rounded-lg ${H.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:H.status==="active"?"":"",children:H.status==="active"?m.jsx(bz,{size:16}):m.jsx(vz,{size:16})})]})]}),m.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[m.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[m.jsx(zue,{size:12})," : ",H.password]}),m.jsx("button",{onClick:()=>Qs(H.id),className:"text-stone-300 hover:text-rose-400",children:m.jsx(ig,{size:14})})]})]},H.id))})]})]})})},Qde=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:d,userRole:h,therapistTargets:p,auditExclusions:g,handleUpdateAuditExclusions:b}=w.useContext(Dr),[_,A]=w.useState(_z(new Date)),[S,E]=w.useState(h==="trainer"?"therapist-daily":"daily"),[O,M]=w.useState(!1),[R,$]=w.useState([]),k=()=>{$(g||[]),M(!0)},z=async()=>{await b(R),M(!1),e("","success")},N=q=>{$(Y=>Y.includes(q)?Y.filter(X=>X!==q):[...Y,q])},j=w.useMemo(()=>Object.values(t).flat().filter(Y=>!g.includes(Y)).map(Y=>({id:Y,name:`${Y}`,stores:[Y]})),[t,g]),I=w.useMemo(()=>l.filter(q=>q.status==="active").map(q=>({id:q.id,name:q.name,stores:[q.name]})),[l]),L=w.useMemo(()=>s.map(q=>({...q,storeName:q.storeName?q.storeName.replace(/CYJ|/g,""):"",date:lr(q.date)})),[s]),D=w.useMemo(()=>u.map(q=>({...q,storeName:q.therapistName,date:lr(q.date)})),[u]),B=S==="therapist-daily",V=B?I:j,ue=B?D:L,be=w.useMemo(()=>{if(!_)return{submitted:[],missing:[],missingByManager:{}};const q=lr(_),Y=new Set(s.filter(re=>lr(re.date)===q).map(re=>re.storeName)),X={};return Object.entries(t).forEach(([re,Se])=>{const se=[];Se.forEach(we=>{if(g.includes(we))return;const Re=`CYJ${we}`;!Y.has(Re)&&!Y.has(we)&&se.push(Re)}),se.length&&(X[re]=se)}),{submitted:Array.from(Y),missing:Object.values(X).flat(),missingByManager:X}},[_,s,t,g]),K=w.useMemo(()=>{const q={},Y=parseInt(r),X=parseInt(i);return Object.entries(t).forEach(([re,Se])=>{const se=[];Se.forEach(we=>{if(g.includes(we))return;const Re=`CYJ${we}`,ae=`${Re}_${Y}_${X}`,je=n[ae];(!je||!je.cashTarget&&!je.accrualTarget)&&se.push(Re)}),se.length&&(q[re]=se)}),{missing:Object.values(q).flat(),missingByManager:q}},[n,t,r,i,g]),Z=w.useMemo(()=>{if(!_)return{missing:[],missingByManager:{}};const q=new Date(_),Y=lr(_),X=q.getFullYear().toString(),re=q.getMonth()+1,Se=q.getDate(),se=new Set((u||[]).filter(Re=>lr(Re.date)===Y).map(Re=>Re.therapistId)),we={};return(l||[]).filter(Re=>Re.status==="active").forEach(Re=>{const ae=`${Re.id}_${X}_${re}`;if(!d[ae]?.daysOff?.includes(Se)&&!se.has(Re.id)){const xe=Re.manager||"";we[xe]||(we[xe]=[]),we[xe].push(`${Re.name} (${Re.store})`)}}),{missing:Object.values(we).flat(),missingByManager:we}},[_,l,u,d]),de=w.useMemo(()=>{const q={},Y=r,X=parseInt(i).toString();return(l||[]).filter(re=>re.status==="active").forEach(re=>{const Se=`${re.id}_${Y}`,we=p[Se]?.monthlyTargets?.[X];if(!(we&&parseInt(we)>0)){const ae=re.manager||"";q[ae]||(q[ae]=[]),q[ae].push(`${re.name} (${re.store})`)}}),{missing:Object.values(q).flat(),missingByManager:q}},[l,p,r,i]),he=S==="daily"?be:S==="target"?K:S==="therapist-daily"?Z:de,ce=()=>{let q="";S==="target"?q=`(${r}/${i})
`:S==="therapist-target"?q=`(${r}/${i})
`:S==="therapist-daily"?q=`(${_})
`:q=`(${_})
`,Object.entries(he.missingByManager).forEach(([Y,X])=>{const re=X.map(Se=>S.includes("therapist")?Se:Se.replace("CYJ","").replace("",""));q+=`${Y}${re.join("")}
`}),navigator.clipboard.writeText(q),e("","success")};return m.jsxs(Gr,{children:[m.jsxs(It,{title:"",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[m.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[h!=="trainer"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>E("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${S==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),m.jsx("button",{onClick:()=>E("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${S==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),m.jsx("button",{onClick:()=>E("therapist-daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${S==="therapist-daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),m.jsx("button",{onClick:()=>E("therapist-target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${S==="therapist-target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),m.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[S==="daily"||S==="therapist-daily"?m.jsx("div",{className:"w-full sm:w-auto relative z-10",children:m.jsx(wz,{selectedDate:_,onDateSelect:A,stores:V,salesData:ue})}):m.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start flex-grow",children:[m.jsx(Qh,{size:16})," ",r,"  ",i," "]}),(h==="director"||h==="manager")&&(S==="daily"||S==="target")&&m.jsx("button",{onClick:k,className:"p-2 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200",title:"",children:m.jsx(mz,{size:20})})]})]}),(S==="daily"||S==="therapist-daily")&&m.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),m.jsx("span",{className:"whitespace-nowrap",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),m.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),m.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[m.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[m.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[m.jsx(Fu,{size:20}),S==="therapist-daily"?" ()":S==="therapist-target"?"":"",m.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:he.missing.length})]}),m.jsx("button",{onClick:ce,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),m.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(he.missingByManager).map(([q,Y])=>m.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[m.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[q," "]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map((X,re)=>m.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[S.includes("therapist")&&m.jsx(bz,{size:10,className:"text-rose-400"}),S.includes("therapist")?X:X.replace("CYJ","").replace("","")]},re))})]},q)),he.missing.length===0&&m.jsx("div",{className:"col-span-3 text-center py-10",children:m.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:m.jsx(hc,{size:24})}),"",S==="therapist-daily"&&m.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]}),O&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(lue,{size:20,className:"text-rose-400"})," "]}),m.jsx("button",{onClick:()=>M(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:m.jsx(gs,{size:20})})]}),m.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:m.jsxs("p",{children:[" ",m.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),m.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(t).map(([q,Y])=>m.jsxs("div",{children:[m.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[q," "]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Y.map(X=>{const re=R.includes(X);return m.jsxs("button",{onClick:()=>N(X),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${re?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[re&&m.jsx(hc,{size:14}),X]},X)})})]},q))}),m.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>M(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),m.jsxs("button",{onClick:z,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[m.jsx(Xh,{size:18})," "]})]})]})})]})},Zde=(t,e,n,r,i)=>w.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,d=t.filter(N=>{if(!N.date)return!1;const j=N.date.replace(/-/g,"/"),[I]=j.split("/").map(Number);return I===s||I===u}),h=d.reduce((N,j)=>({cash:N.cash+(j.cash||0)-(j.refund||0),accrual:N.accrual+(j.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(N=>`CYJ${N}`);for(let N=1;N<=12;N++)g.forEach(j=>{const I=`${j}_${s}_${N}`;n[I]&&(p.cash+=n[I].cashTarget||0,p.accrual+=n[I].accrualTarget||0)});const b={cashActual:h.cash,cashTarget:p.cash,cashAchievement:p.cash>0?h.cash/p.cash*100:0,accrualActual:h.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?h.accrual/p.accrual*100:0},_=d.filter(N=>{const j=N.date.replace(/-/g,"/"),[,I]=j.split("/").map(Number);return I===l}),A=[...new Set(_.map(N=>lr(N.date)))].sort(),S=A[A.length-1]||"",E=new Date(s,l,0).getDate();let O=1;S!==""&&(O=parseInt(S.split("/")[2]));const M=A.map(N=>{const j=_.filter(I=>lr(I.date)===N);return{date:N.split("/")[2],fullDate:N,cash:j.reduce((I,L)=>I+(L.cash||0)-(L.refund||0),0),traffic:j.reduce((I,L)=>I+(L.traffic||0),0)}}),$=Object.entries(e).flatMap(([N,j])=>j.map(I=>({name:`CYJ${I}`,manager:N}))).map(N=>{const j=_.filter(X=>X.storeName===N.name),I=j.reduce((X,re)=>X+(re.cash||0),0),L=j.reduce((X,re)=>X+(re.refund||0),0),D=I-L,B=j.reduce((X,re)=>X+(re.accrual||0),0),V=j.reduce((X,re)=>X+(re.operationalAccrual||0),0),ue=j.reduce((X,re)=>X+(re.traffic||0),0),be=j.reduce((X,re)=>X+(re.newCustomers||0),0),K=j.reduce((X,re)=>X+(re.newCustomerClosings||0),0),Z=j.reduce((X,re)=>X+(re.newCustomerSales||0),0),de=j.reduce((X,re)=>X+(re.skincareSales||0),0),he=j.reduce((X,re)=>X+(re.skincareRefund||0),0),ce=de-he,q=`${N.name}_${s}_${l}`,Y=n[q]||{cashTarget:0,accrualTarget:0};return{...N,cashTotal:D,accrualTotal:B,operationalAccrualTotal:V,trafficTotal:ue,newCustomersTotal:be,newCustomerClosingsTotal:K,newCustomerSalesTotal:Z,skincareSalesTotal:ce,skincareRefundTotal:he,refundTotal:L,cashBudget:Y.cashTarget,accrualBudget:Y.accrualTarget,projection:O>0?Math.round(D/O*E):0,achievement:Y.cashTarget>0?D/Y.cashTarget*100:0,trafficASP:ue>0?Math.round(V/ue):0,newCustomerASP:be>0?Math.round(Z/be):0}}),k=$.reduce((N,j)=>({cash:N.cash+j.cashTotal,accrual:N.accrual+j.accrualTotal,operationalAccrual:N.operationalAccrual+j.operationalAccrualTotal,skincareSales:N.skincareSales+j.skincareSalesTotal,skincareRefund:N.skincareRefund+j.skincareRefundTotal,traffic:N.traffic+j.trafficTotal,newCustomers:N.newCustomers+j.newCustomersTotal,newCustomerClosings:N.newCustomerClosings+j.newCustomerClosingsTotal,newCustomerSales:N.newCustomerSales+j.newCustomerSalesTotal,refund:N.refund+j.refundTotal,budget:N.budget+j.cashBudget,accrualBudget:N.accrualBudget+j.accrualBudget,projection:N.projection+j.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),z=Object.entries(e).map(([N,j])=>{const I=$.filter(q=>q.manager===N),L=I.reduce((q,Y)=>q+Y.cashTotal,0),D=I.reduce((q,Y)=>q+Y.accrualTotal,0),B=I.reduce((q,Y)=>q+Y.operationalAccrualTotal,0),V=I.reduce((q,Y)=>q+Y.cashBudget,0),ue=I.reduce((q,Y)=>q+Y.skincareSalesTotal,0),be=I.reduce((q,Y)=>q+Y.skincareRefundTotal,0),K=I.reduce((q,Y)=>q+Y.trafficTotal,0),Z=I.reduce((q,Y)=>q+Y.newCustomersTotal,0),de=I.reduce((q,Y)=>q+Y.newCustomerClosingsTotal,0),he=I.reduce((q,Y)=>q+Y.refundTotal,0),ce=K>0?Math.round(B/K):0;return{manager:N,cashTotal:L,accrualTotal:D,operationalAccrualTotal:B,skincareSalesTotal:ue,skincareRefundTotal:be,trafficTotal:K,newCustomersTotal:Z,newCustomerClosingsTotal:de,refundTotal:he,trafficASP:ce,achievement:V>0?L/V*100:0}});return{latestDate:S,daysPassed:O,daysInMonth:E,remainingDays:E-O,dailyTotals:M,storeList:$,grandTotal:k,regionalStats:z,yearlyStats:b,totalAchievement:k.budget>0?k.cash/k.budget*100:0,avgTrafficASP:k.traffic>0?Math.round(k.operationalAccrual/k.traffic):0,avgNewCustomerASP:k.newCustomers>0?Math.round(k.newCustomerSales/k.newCustomers):0,allDates:A}},[t,e,n,r,i]),Jde=()=>m.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),m.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"flex items-center justify-center w-6",children:m.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),m.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),m.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[m.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),m.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),m.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),efe=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s}=w.useContext(Dr),[l,u]=w.useState(`${s}-01`),[d,h]=w.useState(`${s}-12`);w.useEffect(()=>{u(`${s}-01`),h(`${s}-12`)},[s]);const p=S=>{let E="01",O="03";switch(S){case 1:E="01",O="03";break;case 2:E="04",O="06";break;case 3:E="07",O="09";break;case 4:E="10",O="12";break;case"ALL":E="01",O="12";break}u(`${s}-${E}`),h(`${s}-${O}`)},g=w.useMemo(()=>l===`${s}-01`&&d===`${s}-03`?1:l===`${s}-04`&&d===`${s}-06`?2:l===`${s}-07`&&d===`${s}-09`?3:l===`${s}-10`&&d===`${s}-12`?4:l===`${s}-01`&&d===`${s}-12`?"ALL":null,[l,d,s]),b=w.useMemo(()=>{const S=Object.values(n).flat().map(I=>`CYJ${I}`),E=[];let O=new Date(`${l}-01`);const M=new Date(`${d}-01`);for(O>M&&(O=new Date(`${l}-01`));O<=M;){const I=O.getFullYear(),L=O.getMonth()+1;E.push({label:`${I}/${L}`,y:I,m:L,dateKey:`${I}/${L.toString().padStart(2,"0")}`}),O.setMonth(O.getMonth()+1)}const R=E.map(I=>({...I,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(I=>{if(!I.date)return;const D=I.date.replace(/-/g,"/").split("/"),B=parseInt(D[0]),V=parseInt(D[1]),ue=B<1911?B+1911:B,be=R.find(K=>K.y===ue&&K.m===V);be&&(be.cash+=(I.cash||0)-(I.refund||0),be.accrual+=I.accrual||0,be.traffic+=I.traffic||0)});let $=0,k=0,z=0,N=0,j=0;return R.forEach(I=>{S.forEach(L=>{const D=`${L}_${I.y}_${I.m}`;e[D]&&(I.budget+=e[D].cashTarget||0,I.accrualBudget+=e[D].accrualTarget||0)}),I.achievement=I.budget>0?I.cash/I.budget*100:0,I.accrualAchievement=I.accrualBudget>0?I.accrual/I.accrualBudget*100:0,$+=I.cash,k+=I.budget,z+=I.accrual,N+=I.accrualBudget,j+=I.traffic}),{monthlyStats:R,totals:{cash:$,budget:k,cashAch:k>0?$/k*100:0,accrual:z,accrualBudget:N,accrualAch:N>0?z/N*100:0,traffic:j}}},[t,e,n,l,d]),{monthlyStats:_,totals:A}=b;return m.jsx(Gr,{children:m.jsxs("div",{className:"space-y-6 pb-12",children:[m.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:m.jsx(Ys,{size:24})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-stone-800",children:""}),m.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),m.jsxs("div",{className:"md:ml-auto px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full self-start",children:[":  (",Object.values(n).flat().length," )"]})]}),m.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[m.jsx(cz,{size:18,className:"text-amber-500"}),m.jsx("span",{children:""})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>p("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${g==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(S=>m.jsxs("button",{onClick:()=>p(S),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${g===S?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",S]},S))]}),m.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),m.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:m.jsx("span",{children:""})}),m.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[m.jsx("input",{type:"month",value:l,onChange:S=>u(S.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),m.jsx("span",{className:"text-stone-400",children:m.jsx(rz,{size:16})}),m.jsx("input",{type:"month",value:d,onChange:S=>h(S.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:m.jsx(mc,{size:100})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[m.jsx(Qh,{size:14})," "]}),m.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(A.cash)}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[m.jsxs("span",{children:[" ",r(A.budget)]}),m.jsxs("span",{children:[A.cashAch.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(A.cashAch,100)}%`}})})]})]})]}),m.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:m.jsx(qu,{size:100})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[m.jsx(mw,{size:14})," "]}),m.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(A.accrual)}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[m.jsxs("span",{children:[" ",r(A.accrualBudget)]}),m.jsxs("span",{className:A.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[A.accrualAch.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(A.accrualAch,100)}%`}})})]})]})]})]}),m.jsx(It,{title:"",subtitle:" vs  (/)",children:m.jsx("div",{className:"h-[350px] w-full",children:m.jsx(cy,{width:"100%",height:"100%",children:m.jsxs(gA,{data:_,margin:{top:20,right:0,left:0,bottom:0},children:[m.jsx(qy,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),m.jsx(Hy,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),m.jsx($u,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:S=>`${(S/1e4).toFixed(0)}`}),m.jsx(ky,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:S=>r(S),itemSorter:S=>({:1,:2,:3,:4})[S.name]||99}),m.jsx(py,{content:m.jsx(Jde,{}),verticalAlign:"top",height:36}),m.jsx(dA,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),m.jsx(Bu,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),m.jsx(fA,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),m.jsx(Bu,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),m.jsx(It,{title:"",children:m.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:m.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[m.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"pb-3 pl-2",children:""}),m.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),m.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),m.jsx("th",{className:"pb-3 text-right",children:""}),m.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),m.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),m.jsx("th",{className:"pb-3 text-right",children:""}),m.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-50",children:_.map((S,E)=>m.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[m.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:S.label}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(S.budget)}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(S.cash)}),m.jsx("td",{className:"py-4 text-right font-bold",children:m.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${S.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[S.achievement.toFixed(1),"%"]})}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(S.accrualBudget)}),m.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(S.accrual)}),m.jsx("td",{className:"py-4 text-right font-bold",children:m.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${S.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[S.accrualAchievement.toFixed(1),"%"]})}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(S.traffic)})]},E))}),m.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:m.jsxs("tr",{children:[m.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(A.budget)}),m.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(A.cash)}),m.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[A.cashAch.toFixed(1),"%"]}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(A.accrualBudget)}),m.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(A.accrual)}),m.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[A.accrualAch.toFixed(1),"%"]}),m.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(A.traffic)})]})})]})})})]})})},tfe=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s}=w.useContext(Dr),l=new Date().getFullYear(),[u,d]=w.useState(l),[h,p]=w.useState(""),[g,b]=w.useState(""),[_,A]=w.useState(!1),[S,E]=w.useState(Array.from({length:12},(k,z)=>({month:z+1,cashTarget:"",accrualTarget:""}))),O=w.useMemo(()=>h?(e[h]||[]).map(k=>`CYJ${k}`):t==="store"&&n?(n.stores||[n.storeName]).map(k=>k.startsWith("CYJ")?k:`CYJ${k}`):[],[h,e,t,n]);w.useEffect(()=>{if(t==="store"&&n){const k=n.stores||[n.storeName];if(k.length>0){const z=k[0].replace("CYJ","").replace("",""),N=Object.keys(e).find(I=>e[I].includes(z));N&&p(N);const j=k[0].startsWith("CYJ")?k[0]:`CYJ${k[0]}`;b(j)}}else t==="manager"&&n&&p(n.name)},[t,n,e]),w.useEffect(()=>{if(!g)return;const k=Array.from({length:12},(z,N)=>{const j=N+1,I=`${g}_${u}_${j}`,L=r[I];return{month:j,cashTarget:L?Zl(L.cashTarget):"",accrualTarget:L?Zl(L.accrualTarget):""}});E(k)},[g,u,r]);const M=k=>{if(t==="director"||t==="manager")return!1;const z=k+1,N=`${g}_${u}_${z}`,j=r[N];return!!(j&&(j.cashTarget>0||j.accrualTarget>0))},R=(k,z,N)=>{if(M(k))return;const j=N.replace(/,/g,"");/^\d*$/.test(j)&&E(I=>{const L=[...I];return L[k]={...L[k],[z]:Zl(j)},L})},$=async()=>{if(!g){i("","error");return}A(!0);try{const k=sF($e);let z=!1;if(S.forEach((N,j)=>{if(M(j))return;const I=ar(N.cashTarget),L=ar(N.accrualTarget);if(I>0||L>0){const D=`${g}_${u}_${N.month}`,B=ct($e,"artifacts",Ve,"public","data","monthly_targets",D);k.set(B,{cashTarget:I,accrualTarget:L,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),z=!0}}),!z){i("","info"),A(!1);return}await k.commit(),i(`${u} `,"success"),s(t,n?.name,"",`${g} ${u}`)}catch(k){console.error("Save targets error:",k),i("","error")}finally{A(!1)}};return m.jsx(Gr,{children:m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[m.jsx(It,{children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:m.jsx(Sv,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[m.jsx("p",{children:"Annual Budget Planning"}),t==="store"&&m.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[m.jsx(Rf,{size:10})," "]})]})]})]}),m.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[m.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[m.jsxs("select",{value:u,onChange:k=>d(Number(k.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[m.jsxs("option",{value:l-1,children:[l-1," "]}),m.jsxs("option",{value:l,children:[l," "]}),m.jsxs("option",{value:l+1,children:[l+1," "]})]}),m.jsx(Ys,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),m.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:m.jsxs("select",{value:h,onChange:k=>{p(k.target.value),b("")},disabled:t!=="director",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(e).map(k=>m.jsxs("option",{value:k,children:[k,""]},k))]})}),m.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[m.jsxs("select",{value:g,onChange:k=>b(k.target.value),disabled:!h,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[m.jsx("option",{value:"",children:"..."}),O.map(k=>m.jsx("option",{value:k,children:k},k))]}),m.jsx(Ri,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),g?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hidden md:block",children:m.jsx(It,{title:`${g} - ${u} `,children:m.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-3 pl-4",children:""}),m.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),m.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),m.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:S.map((k,z)=>{const N=M(z);return m.jsxs("tr",{className:`transition-colors ${N?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[m.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[k.month," "]}),m.jsx("td",{className:"py-2 px-2",children:m.jsxs("div",{className:"relative",children:[m.jsx(mc,{size:14,className:`absolute left-3 top-3 ${N?"text-stone-300":"text-stone-400"}`}),m.jsx("input",{type:"text",placeholder:N?"-":"0",value:k.cashTarget,onChange:j=>R(z,"cashTarget",j.target.value),disabled:N,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${N?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),m.jsx("td",{className:"py-2 px-2",children:m.jsxs("div",{className:"relative",children:[m.jsx(pw,{size:14,className:`absolute left-3 top-3 ${N?"text-stone-300":"text-stone-400"}`}),m.jsx("input",{type:"text",placeholder:N?"-":"0",value:k.accrualTarget,onChange:j=>R(z,"accrualTarget",j.target.value),disabled:N,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${N?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),m.jsx("td",{className:"py-2 px-2 text-center",children:N?m.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:m.jsx(Rf,{size:16})}):k.cashTarget?m.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:m.jsx(hc,{size:16,className:"opacity-0 group-hover:opacity-50"})}):m.jsx("div",{className:"flex items-center justify-center text-stone-200",children:m.jsx(Sv,{size:16})})})]},k.month)})})]})})})}),m.jsxs("div",{className:"md:hidden space-y-4",children:[m.jsx("div",{className:"flex items-center justify-between px-2",children:m.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[m.jsx(Ri,{size:18,className:"text-amber-500"}),g,m.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:u})]})}),S.map((k,z)=>{const N=M(z);return m.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${N?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[m.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[m.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[k.month," "]}),k.cashTarget&&!N&&m.jsx(hc,{size:16,className:"text-emerald-500"})]}),N&&m.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[m.jsx(Rf,{size:12})," "]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[m.jsx(mc,{size:12}),"  (Cash)"]}),m.jsx("input",{type:"text",inputMode:"numeric",placeholder:N?"":"...",value:k.cashTarget,onChange:j=>R(z,"cashTarget",j.target.value),disabled:N,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${N?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[m.jsx(pw,{size:12}),"  (Accrual)"]}),m.jsx("input",{type:"text",inputMode:"numeric",placeholder:N?"":"...",value:k.accrualTarget,onChange:j=>R(z,"accrualTarget",j.target.value),disabled:N,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${N?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},k.month)})]}),m.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:m.jsx("button",{onClick:$,disabled:_,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:_?"...":m.jsxs(m.Fragment,{children:[m.jsx(Xh,{size:20})," "]})})}),m.jsx("div",{className:"h-24 md:hidden"})]}):m.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[m.jsx(Ri,{size:48,className:"mx-auto mb-2 opacity-20"}),m.jsx("p",{children:""})]})]})})},nfe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s}=w.useContext(Dr),[l,u]=w.useState(new Date().getFullYear().toString()),[d,h]=w.useState(""),[p,g]=w.useState(""),[b,_]=w.useState(""),[A,S]=w.useState({});w.useEffect(()=>{if(r==="therapist"&&i){const R=Object.keys(s).find($=>s[$].includes(i.storeName?.replace("CYJ","").replace("","")));R&&h(R),g(i.store||""),_(i.id)}else if(r==="store"&&i){const R=i.stores||[i.storeName];if(R.length>0){const $=R[0].replace("CYJ","").replace("",""),k=Object.keys(s).find(z=>s[z].includes($));k&&h(k),R.length===1&&g($)}}else r==="manager"&&i&&h(i.name)},[r,i,s]);const E=w.useMemo(()=>{if(!d)return[];const R=s[d]||[];if(r==="store"&&i){const $=(i.stores||[i.storeName]).map(k=>k.replace("CYJ","").replace("",""));return R.filter(k=>$.includes(k))}return R},[d,s,r,i]),O=w.useMemo(()=>p?e.filter(R=>R.status==="active"&&R.store===p).sort((R,$)=>R.name.localeCompare($.name)):[],[p,e]);w.useEffect(()=>{if(b&&l){const R=`${b}_${l}`,$=n[R]||{};S($.monthlyTargets||{})}else S({})},[b,l,n]);const M=async()=>{if(!b)return t("","error");try{const R=`${b}_${l}`;await Rn(ct($e,"artifacts",Ve,"public","data","therapist_targets",R),{therapistId:b,year:l,monthlyTargets:A,updatedAt:ed()},{merge:!0}),t("","success")}catch{t("","error")}};return m.jsx(Gr,{children:m.jsx(It,{title:"",subtitle:"",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(vA,{size:12}),"  ()"]}),m.jsxs("select",{value:d,onChange:R=>{h(R.target.value),g(""),_("")},disabled:r==="manager"||r==="therapist"||r==="store"&&d!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(s).map(R=>m.jsxs("option",{value:R,children:[R,""]},R))]})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(Ri,{size:12})," "]}),m.jsxs("select",{value:p,onChange:R=>{g(R.target.value),_("")},disabled:!d||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),E.map(R=>m.jsxs("option",{value:R,children:[R,""]},R))]})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(xc,{size:12})," "]}),m.jsxs("select",{value:b,onChange:R=>_(R.target.value),disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),O.map(R=>m.jsx("option",{value:R.id,children:R.name},R.id))]})]}),m.jsxs("div",{className:"w-full md:w-32",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("select",{value:l,onChange:R=>u(R.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(R=>m.jsxs("option",{value:R,children:[R,""]},R))})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:M,disabled:!b,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[m.jsx(Xh,{size:18})," "]})}),b?m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(R,$)=>$+1).map(R=>m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[R," "]}),m.jsxs("div",{className:"relative",children:[m.jsx(mc,{size:14,className:"absolute left-3 top-3 text-stone-400"}),m.jsx("input",{type:"number",value:A[R]||"",onChange:$=>S({...A,[R]:$.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},R))}):m.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:m.jsx(Qh,{size:32,className:"opacity-20"})}),m.jsx("p",{children:"  >  >  "})]})]})})})},rfe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s}=w.useContext(Dr),[l,u]=w.useState(new Date().getFullYear().toString()),[d,h]=w.useState((new Date().getMonth()+1).toString()),[p,g]=w.useState(""),[b,_]=w.useState(""),[A,S]=w.useState(""),[E,O]=w.useState([]);w.useEffect(()=>{if(r==="therapist"&&i){const N=Object.keys(s).find(j=>s[j].includes(i.storeName?.replace("CYJ","").replace("","")));N&&g(N),_(i.store||""),S(i.id)}else if(r==="store"&&i){const N=i.stores||[i.storeName];if(N.length>0){const j=N[0].replace("CYJ","").replace("",""),I=Object.keys(s).find(L=>s[L].includes(j));I&&g(I),N.length===1&&_(j)}}else r==="manager"&&i&&g(i.name)},[r,i,s]);const M=w.useMemo(()=>{if(!p)return[];const N=s[p]||[];if(r==="store"&&i){const j=(i.stores||[i.storeName]).map(I=>I.replace("CYJ","").replace("",""));return N.filter(I=>j.includes(I))}return N},[p,s,r,i]),R=w.useMemo(()=>b?e.filter(N=>N.status==="active"&&N.store===b).sort((N,j)=>N.name.localeCompare(j.name)):[],[b,e]);w.useEffect(()=>{if(A&&l&&d){const N=`${A}_${l}_${parseInt(d)}`,j=n[N]||{};O(j.daysOff||[])}else O([])},[A,l,d,n]);const $=N=>{O(j=>j.includes(N)?j.filter(I=>I!==N):[...j,N].sort((I,L)=>I-L))},k=async()=>{if(!A)return t("","error");try{const N=`${A}_${l}_${parseInt(d)}`;await Rn(ct($e,"artifacts",Ve,"public","data","therapist_schedules",N),{therapistId:A,year:l,month:parseInt(d),daysOff:E,updatedAt:ed()},{merge:!0}),t("","success")}catch{t("","error")}},z=(N,j)=>new Date(N,j,0).getDate();return m.jsx(Gr,{children:m.jsx(It,{title:"",subtitle:" ()",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(vA,{size:12}),"  ()"]}),m.jsxs("select",{value:p,onChange:N=>{g(N.target.value),_(""),S("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(s).map(N=>m.jsxs("option",{value:N,children:[N,""]},N))]})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(Ri,{size:12})," "]}),m.jsxs("select",{value:b,onChange:N=>{_(N.target.value),S("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),M.map(N=>m.jsxs("option",{value:N,children:[N,""]},N))]})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(xc,{size:12})," "]}),m.jsxs("select",{value:A,onChange:N=>S(N.target.value),disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),R.map(N=>m.jsx("option",{value:N.id,children:N.name},N.id))]})]}),m.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[m.jsxs("div",{className:"w-1/2 md:w-24",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsxs("select",{value:l,onChange:N=>u(N.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[m.jsx("option",{value:"2024",children:"2024"}),m.jsx("option",{value:"2025",children:"2025"}),m.jsx("option",{value:"2026",children:"2026"})]})]}),m.jsxs("div",{className:"w-1/2 md:w-24",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("select",{value:d,onChange:N=>h(N.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(N,j)=>j+1).map(N=>m.jsxs("option",{value:N,children:[N,""]},N))})]})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:k,disabled:!A,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[m.jsx(Xh,{size:18})," "]})}),A?m.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[m.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(N=>m.jsx("div",{className:"text-xs font-bold text-stone-400",children:N},N))}),m.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(l,d-1,1).getDay()}).map((N,j)=>m.jsx("div",{},`empty-${j}`)),Array.from({length:z(l,d)}).map((N,j)=>{const I=j+1,L=E.includes(I);return m.jsxs("button",{onClick:()=>$(I),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${L?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[I,L&&m.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},I)})]}),m.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):m.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:m.jsx(Ys,{size:32,className:"opacity-20"})}),m.jsx("p",{children:"  >  >  "})]})]})})})};function ife(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[i,s]=w.useState(null),[l,u]=w.useState(!0),[d,h]=w.useState("dashboard"),[p,g]=w.useState(!0),[b,_]=w.useState(null),[A,S]=w.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[E,O]=w.useState(""),[M,R]=w.useState([]),[$,k]=w.useState({}),[z,N]=w.useState({newASP:3500,trafficASP:1200}),[j,I]=w.useState(Rde),[L,D]=w.useState([]),[B,V]=w.useState({}),[ue,be]=w.useState(xz),[K,Z]=w.useState([]),[de,he]=w.useState({password:"0000"}),[ce,q]=w.useState([]),[Y,X]=w.useState({}),[re,Se]=w.useState({}),[se,we]=w.useState([]),[Re,ae]=w.useState(!1),[je,Ue]=w.useState(15),xe=w.useRef(Date.now()),[xt,Fe]=w.useState(new Date().getFullYear().toString()),[Lt,Bt]=w.useState((new Date().getMonth()+1).toString()),[Bn,_r]=w.useState(()=>_z(new Date)),Ze=ve=>(ve||"").replace(/CYJ|/g,"").trim(),Pt=w.useCallback(async(ve,H,_e,Ee)=>{let Je="PC";if(typeof navigator<"u"){const _t=navigator.userAgent.toLowerCase();_t.includes("android")?Je="Android":_t.includes("iphone")||_t.includes("ipad")?Je="iOS":_t.includes("mobile")&&(Je="Mobile")}try{await hS(oi($e,"artifacts",Ve,"public","data","system_logs"),{timestamp:ed(),role:ve,user:H,action:_e,details:Ee,device:Je})}catch(_t){console.error("Failed to log activity",_t)}},[]),wr=w.useCallback(async(ve="")=>{const H=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&Pt(n,H,"",ve),ae(!1),Ue(15),xe.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),h("dashboard")},[i,n,Pt]),Fa=w.useCallback(()=>{n&&(xe.current=Date.now(),Re&&(ae(!1),Ue(15)))},[n,Re]);w.useEffect(()=>{let ve=null;return n&&(ve=setInterval(()=>{const _e=Date.now()-xe.current,Ee=165*1e3,Je=180*1e3;if(_e>Je)clearInterval(ve),wr(" 3 ");else if(_e>Ee){Re||ae(!0);const _t=Math.ceil((Je-_e)/1e3);Ue(_t>0?_t:0)}else Re&&ae(!1)},1e3)),()=>{ve&&clearInterval(ve)}},[n,Re,wr]),w.useEffect(()=>{if(n){const ve=["mousemove","mousedown","keypress","scroll","touchstart","click"];let H;const _e=()=>{H||(Fa(),H=setTimeout(()=>{H=null},500))};return ve.forEach(Ee=>window.addEventListener(Ee,_e)),xe.current=Date.now(),()=>{ve.forEach(Ee=>window.removeEventListener(Ee,_e))}}},[n,Fa]),w.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await DU(ax,__initial_auth_token):await OU(ax)}catch(H){console.warn("Auth Error:",H)}})(),zU(ax,H=>{e(H),u(!1)})),[]),w.useEffect(()=>{if(!t)return;const ve=qr(ku(oi($e,"artifacts",Ve,"public","data","daily_reports"),Ag("date","desc")),Ye=>R(Ye.docs.map(tn=>({id:tn.id,...tn.data()})))),H=qr(oi($e,"artifacts",Ve,"public","data","monthly_targets"),Ye=>{const tn={};Ye.docs.forEach(vn=>tn[vn.id]=vn.data()),k(tn)}),_e=qr(ct($e,"artifacts",Ve,"public","data","global_settings","kpi_targets"),Ye=>Ye.exists()&&N(Ye.data())),Ee=qr(ct($e,"artifacts",Ve,"public","data","global_settings","org_structure"),Ye=>Ye.exists()&&I(Ye.data().managers)),Je=qr(ct($e,"artifacts",Ve,"public","data","global_settings","store_account_data"),Ye=>Ye.exists()&&D(Ye.data().accounts)),_t=qr(ct($e,"artifacts",Ve,"public","data","global_settings","manager_auth"),Ye=>Ye.exists()&&V(Ye.data())),Qr=qr(ct($e,"artifacts",Ve,"public","data","global_settings","permissions"),Ye=>Ye.exists()&&be(Ye.data())),Er=qr(oi($e,"artifacts",Ve,"public","data","therapists"),Ye=>Z(Ye.docs.map(tn=>({id:tn.id,...tn.data()})))),cl=qr(ku(oi($e,"artifacts",Ve,"public","data","therapist_daily_reports"),Ag("date","desc"),$M(1e3)),Ye=>q(Ye.docs.map(tn=>({id:tn.id,...tn.data()})))),Ar=qr(oi($e,"artifacts",Ve,"public","data","therapist_schedules"),Ye=>{const tn={};Ye.docs.forEach(vn=>tn[vn.id]=vn.data()),X(tn)}),ul=qr(oi($e,"artifacts",Ve,"public","data","therapist_targets"),Ye=>{const tn={};Ye.docs.forEach(vn=>tn[vn.id]=vn.data()),Se(tn)}),dl=qr(ct($e,"artifacts",Ve,"public","data","global_settings","trainer_auth"),Ye=>{Ye.exists()?he(Ye.data()):he({password:"0000"})}),Ya=qr(ct($e,"artifacts",Ve,"public","data","global_settings","audit_exclusions"),Ye=>{Ye.exists()?we(Ye.data().stores||[]):we([])});return()=>{ve(),H(),_e(),Ee(),Je(),_t(),Qr(),Er(),cl(),Ar(),ul(),dl(),Ya()}},[t]);const Ws=(ve,H=null)=>{let _e=H;if(ve==="therapist"&&H?.name){const Je=K.find(_t=>_t.name===H.name);Je&&(_e={...H,...Je,id:Je.id||H.id})}r(ve),_e&&s(_e);const Ee=_e?.name||(ve==="director"?"":ve==="trainer"?"":"");Pt(ve,Ee,"",""),h("dashboard")},un=async(ve,H)=>{try{const _e=L.map(Ee=>Ee.id===ve?{...Ee,password:H}:Ee);return await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","store_account_data"),{accounts:_e}),!0}catch{return!1}},Wr=async(ve,H)=>{try{return await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","manager_auth"),{[ve]:H},{merge:!0}),!0}catch{return!1}},zi=async(ve,H)=>{try{return await Tg(ct($e,"artifacts",Ve,"public","data","therapists",ve),{password:H}),!0}catch(_e){return console.error(_e),!1}},Vi=async ve=>{try{return await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","trainer_auth"),{password:ve}),!0}catch(H){return console.error(H),!1}},Xr=async ve=>{try{return await Rn(ct($e,"artifacts",Ve,"public","data","global_settings","audit_exclusions"),{stores:ve}),!0}catch(H){return console.error(H),!1}},Ha=w.useCallback(ve=>{h("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:ve}))},[]),ia=w.useMemo(()=>{if(n===Pn.TRAINER.id)return[];if(n===Pn.STORE.id&&i){const ve=(i.stores||[i.storeName]).map(H=>H&&H.startsWith("CYJ")?H:`CYJ${H}`);return M.filter(H=>ve.includes(H.storeName))}if(n===Pn.MANAGER.id&&i){const ve=(j[i.name]||[]).map(H=>`CYJ${H}`);return M.filter(H=>ve.includes(H.storeName))}return M},[M,n,i,j]),Ka=w.useMemo(()=>{if(n===Pn.DIRECTOR.id||n===Pn.TRAINER.id)return ce;if(n===Pn.MANAGER.id&&i){const ve=j[i.name]||[];return ce.filter(H=>ve.includes(Ze(H.storeName)))}if(n===Pn.STORE.id&&i){const ve=(i.stores||[i.storeName]).map(Ze);return ce.filter(H=>ve.includes(Ze(H.storeName)))}return n===Pn.THERAPIST.id&&i?ce.filter(ve=>ve.therapistId===i.id):[]},[ce,n,i,j]),Ga=w.useMemo(()=>{if(n===Pn.DIRECTOR.id||n===Pn.TRAINER.id)return K;if(n===Pn.MANAGER.id&&i){const ve=j[i.name]||[];return K.filter(H=>ve.includes(Ze(H.store)))}if(n===Pn.STORE.id&&i){const ve=(i.stores||[i.storeName]).map(Ze);return K.filter(H=>ve.includes(Ze(H.store)))}return n===Pn.THERAPIST.id&&i?K.filter(ve=>ve.id===i.id):[]},[K,n,i,j]),Zn=w.useMemo(()=>{if(n===Pn.TRAINER.id)return j;if(n===Pn.MANAGER.id&&i){const ve=j[i.name]||[];return{[i.name]:ve}}if(n===Pn.STORE.id&&i){const ve=i.stores||(i.storeName?[i.storeName]:[]),H={};return Object.entries(j).forEach(([_e,Ee])=>{const Je=Ee.filter(_t=>ve.includes(_t));Je.length>0&&(H[_e]=Je)}),H}return j},[j,n,i]),Zt=Zde(ia,Zn,$,xt,Lt),dr=(ve,H="info")=>_({message:ve,type:H}),$t=w.useCallback((ve,H,_e)=>S({isOpen:!0,title:ve,message:H,onConfirm:()=>{_e(),S(Ee=>({...Ee,isOpen:!1}))}}),[]),Xs=()=>S(ve=>({...ve,isOpen:!1})),aa=ve=>`$${(ve||0).toLocaleString()}`,Qs=ve=>(ve||0).toLocaleString(),Sr=w.useMemo(()=>Object.values(j).flat().map(ve=>`CYJ${ve}`),[j]),Ui=w.useMemo(()=>({user:t,loading:l,analytics:Zt,managers:Zn,budgets:$,targets:z,rawData:ia,allReports:M,showToast:dr,openConfirm:$t,fmtMoney:aa,fmtNum:Qs,inputDate:Bn,setInputDate:_r,storeList:Zt?.storeList||[],setTargets:N,selectedYear:xt,selectedMonth:Lt,permissions:ue,storeAccounts:L,managerAuth:B,currentUser:i,userRole:n,logActivity:Pt,handleUpdateStorePassword:un,handleUpdateManagerPassword:Wr,handleUpdateTherapistPassword:zi,navigateToStore:Ha,activeView:d,appId:Ve,therapists:Ga,therapistReports:Ka,therapistSchedules:Y,therapistTargets:re,trainerAuth:de,handleUpdateTrainerAuth:Vi,auditExclusions:se,handleUpdateAuditExclusions:Xr}),[t,l,Zt,Zn,$,z,ia,M,Bn,xt,Lt,ue,L,B,i,n,Pt,un,Wr,zi,Ha,d,Ve,Ga,Ka,Y,re,de,Vi,se,Xr]);return l?m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[m.jsx(zo,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),m.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?m.jsx(Dr.Provider,{value:Ui,children:m.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[m.jsx(Lde,{activeView:d,setActiveView:h,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>wr(),permissions:ue,currentUser:i}),m.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[m.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:m.jsx(Que,{size:24})}),m.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[m.jsx("span",{className:"text-amber-600",children:""})," ",pc.find(ve=>ve.id===d)?.label||(d==="targets"?"":"DRCYJ System")]}),m.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[m.jsx(oz,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),m.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[m.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[m.jsx(yA,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"...",value:E,onChange:ve=>O(ve.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),E&&m.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:Sr.filter(ve=>ve.includes(E)).length>0?Sr.filter(ve=>ve.includes(E)).map(ve=>m.jsxs("button",{onClick:()=>{Ha(ve),O("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[m.jsx(Ri,{size:16,className:"text-stone-400"})," ",ve]},ve)):m.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),m.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[m.jsx(cz,{size:16,className:"text-stone-400 hidden sm:block"}),m.jsx("select",{value:xt,onChange:ve=>Fe(ve.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(ve=>m.jsx("option",{value:ve,children:ve},ve))}),m.jsx("select",{value:Lt,onChange:ve=>Bt(ve.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(ve,H)=>H+1).map(ve=>m.jsxs("option",{value:ve,children:[ve,""]},ve))})]})]})]}),m.jsx(zde,{activeView:d,setActiveView:h,permissions:ue,userRole:n,onLogout:()=>wr()}),m.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[d==="dashboard"&&m.jsx(Ude,{}),d==="regional"&&m.jsx(Kde,{}),d==="ranking"&&m.jsx(Gde,{}),d==="audit"&&m.jsx(Qde,{}),d==="history"&&m.jsx(Hde,{}),d==="input"&&m.jsx(Fde,{}),d==="logs"&&m.jsx(Wde,{}),d==="settings"&&m.jsx(Xde,{}),d==="annual"&&m.jsx(efe,{}),d==="store-analysis"&&m.jsx(Yde,{}),d==="targets"&&m.jsx(tfe,{}),d==="t-targets"&&m.jsx(nfe,{}),d==="t-schedule"&&m.jsx(rfe,{})]})]}),b&&m.jsx(Dde,{message:b.message,type:b.type,onClose:()=>_(null)}),m.jsx(Mde,{isOpen:A.isOpen,title:A.title,message:A.message,onConfirm:A.onConfirm,onCancel:Xs}),Re&&m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[m.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[m.jsx(Aue,{size:40,className:"animate-pulse"})," "]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),m.jsxs("p",{className:"text-stone-500 font-medium",children:["",m.jsx("br",{})," ",m.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:je})," "]})]}),m.jsx("button",{onClick:Fa,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):m.jsx(Vde,{onLogin:Ws,storeAccounts:L,managers:j,managerAuth:B,therapists:K,onUpdatePassword:un,onUpdateManagerPassword:Wr,onUpdateTherapistPassword:zi,trainerAuth:de,handleUpdateTrainerAuth:Vi})}c9.createRoot(document.getElementById("root")).render(m.jsx(w.StrictMode,{children:m.jsx(ife,{})}));
