function A8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ga(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xx={exports:{}},Mf={};var VN;function T8(){if(VN)return Mf;VN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Mf.Fragment=e,Mf.jsx=n,Mf.jsxs=n,Mf}var $N;function j8(){return $N||($N=1,xx.exports=T8()),xx.exports}var d=j8(),wx={exports:{}},nt={};var UN;function N8(){if(UN)return nt;UN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(U,Y,X){this.props=U,this.context=Y,this.refs=E,this.updater=X||A}C.prototype.isReactComponent={},C.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function V(){}V.prototype=C.prototype;function D(U,Y,X){this.props=U,this.context=Y,this.refs=E,this.updater=X||A}var B=D.prototype=new V;B.constructor=D,S(B,C.prototype),B.isPureReactComponent=!0;var $=Array.isArray;function z(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function k(U,Y,X){var Z=X.ref;return{$$typeof:t,type:U,key:Y,ref:Z!==void 0?Z:null,props:X}}function I(U,Y){return k(U.type,Y,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function L(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(X){return Y[X]})}var M=/\/+/g;function re(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):Y.toString(36)}function K(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(z,z):(U.status="pending",U.then(function(Y){U.status==="pending"&&(U.status="fulfilled",U.value=Y)},function(Y){U.status==="pending"&&(U.status="rejected",U.reason=Y)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function G(U,Y,X,Z,ne){var fe=typeof U;(fe==="undefined"||fe==="boolean")&&(U=null);var be=!1;if(U===null)be=!0;else switch(fe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(U.$$typeof){case t:case e:be=!0;break;case p:return be=U._init,G(be(U._payload),Y,X,Z,ne)}}if(be)return ne=ne(U),be=Z===""?"."+re(U,0):Z,$(ne)?(X="",be!=null&&(X=be.replace(M,"$&/")+"/"),G(ne,Y,X,"",function(Q){return Q})):ne!=null&&(P(ne)&&(ne=I(ne,X+(ne.key==null||U&&U.key===ne.key?"":(""+ne.key).replace(M,"$&/")+"/")+be)),Y.push(ne)),1;be=0;var Ee=Z===""?".":Z+":";if($(U))for(var se=0;se<U.length;se++)Z=U[se],fe=Ee+re(Z,se),be+=G(Z,Y,X,fe,ne);else if(se=_(U),typeof se=="function")for(U=se.call(U),se=0;!(Z=U.next()).done;)Z=Z.value,fe=Ee+re(Z,se++),be+=G(Z,Y,X,fe,ne);else if(fe==="object"){if(typeof U.then=="function")return G(K(U),Y,X,Z,ne);throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return be}function ee(U,Y,X){if(U==null)return U;var Z=[],ne=0;return G(U,Z,"","",function(fe){return Y.call(X,fe,ne++)}),Z}function pe(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(X){(U._status===0||U._status===-1)&&(U._status=1,U._result=X)},function(X){(U._status===0||U._status===-1)&&(U._status=2,U._result=X)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var le=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},J={map:ee,forEach:function(U,Y,X){ee(U,function(){Y.apply(this,arguments)},X)},count:function(U){var Y=0;return ee(U,function(){Y++}),Y},toArray:function(U){return ee(U,function(Y){return Y})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return nt.Activity=g,nt.Children=J,nt.Component=C,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=D,nt.StrictMode=r,nt.Suspense=f,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,nt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},nt.cache=function(U){return function(){return U.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(U,Y,X){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Z=S({},U.props),ne=U.key;if(Y!=null)for(fe in Y.key!==void 0&&(ne=""+Y.key),Y)!j.call(Y,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Y.ref===void 0||(Z[fe]=Y[fe]);var fe=arguments.length-2;if(fe===1)Z.children=X;else if(1<fe){for(var be=Array(fe),Ee=0;Ee<fe;Ee++)be[Ee]=arguments[Ee+2];Z.children=be}return k(U.type,ne,Z)},nt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},nt.createElement=function(U,Y,X){var Z,ne={},fe=null;if(Y!=null)for(Z in Y.key!==void 0&&(fe=""+Y.key),Y)j.call(Y,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ne[Z]=Y[Z]);var be=arguments.length-2;if(be===1)ne.children=X;else if(1<be){for(var Ee=Array(be),se=0;se<be;se++)Ee[se]=arguments[se+2];ne.children=Ee}if(U&&U.defaultProps)for(Z in be=U.defaultProps,be)ne[Z]===void 0&&(ne[Z]=be[Z]);return k(U,fe,ne)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(U){return{$$typeof:u,render:U}},nt.isValidElement=P,nt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:pe}},nt.memo=function(U,Y){return{$$typeof:h,type:U,compare:Y===void 0?null:Y}},nt.startTransition=function(U){var Y=N.T,X={};N.T=X;try{var Z=U(),ne=N.S;ne!==null&&ne(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(z,le)}catch(fe){le(fe)}finally{Y!==null&&X.types!==null&&(Y.types=X.types),N.T=Y}},nt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},nt.use=function(U){return N.H.use(U)},nt.useActionState=function(U,Y,X){return N.H.useActionState(U,Y,X)},nt.useCallback=function(U,Y){return N.H.useCallback(U,Y)},nt.useContext=function(U){return N.H.useContext(U)},nt.useDebugValue=function(){},nt.useDeferredValue=function(U,Y){return N.H.useDeferredValue(U,Y)},nt.useEffect=function(U,Y){return N.H.useEffect(U,Y)},nt.useEffectEvent=function(U){return N.H.useEffectEvent(U)},nt.useId=function(){return N.H.useId()},nt.useImperativeHandle=function(U,Y,X){return N.H.useImperativeHandle(U,Y,X)},nt.useInsertionEffect=function(U,Y){return N.H.useInsertionEffect(U,Y)},nt.useLayoutEffect=function(U,Y){return N.H.useLayoutEffect(U,Y)},nt.useMemo=function(U,Y){return N.H.useMemo(U,Y)},nt.useOptimistic=function(U,Y){return N.H.useOptimistic(U,Y)},nt.useReducer=function(U,Y,X){return N.H.useReducer(U,Y,X)},nt.useRef=function(U){return N.H.useRef(U)},nt.useState=function(U){return N.H.useState(U)},nt.useSyncExternalStore=function(U,Y,X){return N.H.useSyncExternalStore(U,Y,X)},nt.useTransition=function(){return N.H.useTransition()},nt.version="19.2.3",nt}var BN;function cd(){return BN||(BN=1,wx.exports=N8()),wx.exports}var b=cd();const qM=ga(b),C8=A8({__proto__:null,default:qM},[b]);var _x={exports:{}},Df={},Sx={exports:{}},Ex={};var qN;function O8(){return qN||(qN=1,(function(t){function e(G,ee){var pe=G.length;G.push(ee);e:for(;0<pe;){var le=pe-1>>>1,J=G[le];if(0<i(J,ee))G[le]=ee,G[pe]=J,pe=le;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ee=G[0],pe=G.pop();if(pe!==ee){G[0]=pe;e:for(var le=0,J=G.length,U=J>>>1;le<U;){var Y=2*(le+1)-1,X=G[Y],Z=Y+1,ne=G[Z];if(0>i(X,pe))Z<J&&0>i(ne,X)?(G[le]=ne,G[Z]=pe,le=Z):(G[le]=X,G[Y]=pe,le=Y);else if(Z<J&&0>i(ne,pe))G[le]=ne,G[Z]=pe,le=Z;else break e}}return ee}function i(G,ee){var pe=G.sortIndex-ee.sortIndex;return pe!==0?pe:G.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],p=1,g=null,x=3,_=!1,A=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var ee=n(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=G)r(h),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=n(h)}}function $(G){if(S=!1,B(G),!A)if(n(f)!==null)A=!0,z||(z=!0,L());else{var ee=n(h);ee!==null&&K($,ee.startTime-G)}}var z=!1,N=-1,j=5,k=-1;function I(){return E?!0:!(t.unstable_now()-k<j)}function P(){if(E=!1,z){var G=t.unstable_now();k=G;var ee=!0;try{e:{A=!1,S&&(S=!1,V(N),N=-1),_=!0;var pe=x;try{t:{for(B(G),g=n(f);g!==null&&!(g.expirationTime>G&&I());){var le=g.callback;if(typeof le=="function"){g.callback=null,x=g.priorityLevel;var J=le(g.expirationTime<=G);if(G=t.unstable_now(),typeof J=="function"){g.callback=J,B(G),ee=!0;break t}g===n(f)&&r(f),B(G)}else r(f);g=n(f)}if(g!==null)ee=!0;else{var U=n(h);U!==null&&K($,U.startTime-G),ee=!1}}break e}finally{g=null,x=pe,_=!1}ee=void 0}}finally{ee?L():z=!1}}}var L;if(typeof D=="function")L=function(){D(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,re=M.port2;M.port1.onmessage=P,L=function(){re.postMessage(null)}}else L=function(){C(P,0)};function K(G,ee){N=C(function(){G(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var pe=x;x=ee;try{return G()}finally{x=pe}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=x;x=G;try{return ee()}finally{x=pe}},t.unstable_scheduleCallback=function(G,ee,pe){var le=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?le+pe:le):pe=le,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=pe+J,G={id:p++,callback:ee,priorityLevel:G,startTime:pe,expirationTime:J,sortIndex:-1},pe>le?(G.sortIndex=pe,e(h,G),n(f)===null&&G===n(h)&&(S?(V(N),N=-1):S=!0,K($,pe-le))):(G.sortIndex=J,e(f,G),A||_||(A=!0,z||(z=!0,L()))),G},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(G){var ee=x;return function(){var pe=x;x=ee;try{return G.apply(this,arguments)}finally{x=pe}}}})(Ex)),Ex}var FN;function P8(){return FN||(FN=1,Sx.exports=O8()),Sx.exports}var Ax={exports:{}},Tr={};var HN;function I8(){if(HN)return Tr;HN=1;var t=cd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},Tr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},Tr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Tr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Tr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Tr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Tr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Tr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Tr.requestFormReset=function(f){r.d.r(f)},Tr.unstable_batchedUpdates=function(f,h){return f(h)},Tr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Tr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tr.version="19.2.3",Tr}var KN;function FM(){if(KN)return Ax.exports;KN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ax.exports=I8(),Ax.exports}var GN;function R8(){if(GN)return Df;GN=1;var t=P8(),e=cd(),n=FM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return f(y),a;if(w===m)return f(y),o;w=w.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=w;else{for(var O=!1,q=y.child;q;){if(q===c){O=!0,c=y,m=w;break}if(q===m){O=!0,m=y,c=w;break}q=q.sibling}if(!O){for(q=w.child;q;){if(q===c){O=!0,c=w,m=y;break}if(q===m){O=!0,m=w,c=y;break}q=q.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function re(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case D:return a.displayName||"Context";case V:return(a._context.displayName||"Context")+".Consumer";case B:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:re(a.type)||"Memo";case j:o=a._payload,a=a._init;try{return re(a(o))}catch{}}return null}var K=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},le=[],J=-1;function U(a){return{current:a}}function Y(a){0>J||(a.current=le[J],le[J]=null,J--)}function X(a,o){J++,le[J]=a.current,a.current=o}var Z=U(null),ne=U(null),fe=U(null),be=U(null);function Ee(a,o){switch(X(fe,o),X(ne,a),X(Z,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?lN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=lN(o),a=cN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(Z),X(Z,a)}function se(){Y(Z),Y(ne),Y(fe)}function Q(a){a.memoizedState!==null&&X(be,a);var o=Z.current,c=cN(o,a.type);o!==c&&(X(ne,a),X(Z,c))}function ue(a){ne.current===a&&(Y(Z),Y(ne)),be.current===a&&(Y(be),Pf._currentValue=pe)}var ie,ce;function Ne(a){if(ie===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ie=o&&o[1]||"",ce=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+a+ce}var Ie=!1;function ze(a,o){if(!a||Ie)return"";Ie=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ye){var ge=ye}Reflect.construct(a,[],Se)}else{try{Se.call()}catch(ye){ge=ye}a.call(Se.prototype)}}else{try{throw Error()}catch(ye){ge=ye}(Se=a())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ye){if(ye&&ge&&typeof ye.stack=="string")return[ye.stack,ge.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),O=w[0],q=w[1];if(O&&q){var W=O.split(`
`),me=q.split(`
`);for(y=m=0;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;for(;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;if(m===W.length||y===me.length)for(m=W.length-1,y=me.length-1;1<=m&&0<=y&&W[m]!==me[y];)y--;for(;1<=m&&0<=y;m--,y--)if(W[m]!==me[y]){if(m!==1||y!==1)do if(m--,y--,0>y||W[m]!==me[y]){var xe=`
`+W[m].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=m&&0<=y);break}}}finally{Ie=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ne(c):""}function Ze(a,o){switch(a.tag){case 26:case 27:case 5:return Ne(a.type);case 16:return Ne("Lazy");case 13:return a.child!==o&&o!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return ze(a.type,!1);case 11:return ze(a.type.render,!1);case 1:return ze(a.type,!0);case 31:return Ne("Activity");default:return""}}function Et(a){try{var o="",c=null;do o+=Ze(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ut=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,Pe=t.unstable_shouldYield,xt=t.unstable_requestPaint,Oe=t.unstable_now,Me=t.unstable_getCurrentPriorityLevel,Ke=t.unstable_ImmediatePriority,Fe=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,qr=t.unstable_LowPriority,ba=t.unstable_IdlePriority,uo=t.log,xa=t.unstable_setDisableYieldValue,cr=null,gn=null;function Zn(a){if(typeof uo=="function"&&xa(a),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(cr,a)}catch{}}var Zt=Math.clz32?Math.clz32:ss,wa=Math.log,Ei=Math.LN2;function ss(a){return a>>>=0,a===0?32:31-(wa(a)/Ei|0)|0}var Mr=256,li=262144,un=4194304;function Ar(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Fr(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,w=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var q=m&134217727;return q!==0?(m=q&~w,m!==0?y=Ar(m):(O&=q,O!==0?y=Ar(O):c||(c=q&~a,c!==0&&(y=Ar(c))))):(q=m&~w,q!==0?y=Ar(q):O!==0?y=Ar(O):c||(c=m&~a,c!==0&&(y=Ar(c)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:y}function Dr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function El(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(){var a=un;return un<<=1,(un&62914560)===0&&(un=4194304),a}function Hr(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Wi(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Al(a,o,c,m,y,w){var O=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var q=a.entanglements,W=a.expirationTimes,me=a.hiddenUpdates;for(c=O&~c;0<c;){var xe=31-Zt(c),Se=1<<xe;q[xe]=0,W[xe]=-1;var ge=me[xe];if(ge!==null)for(me[xe]=null,xe=0;xe<ge.length;xe++){var ye=ge[xe];ye!==null&&(ye.lane&=-536870913)}c&=~Se}m!==0&&Te(a,m,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(O&~o))}function Te(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-Zt(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function H(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-Zt(c),y=1<<m;y&o|a[m]&o&&(a[m]|=o),c&=~y}}function Ae(a,o){var c=o&-o;return c=(c&42)!==0?1:Ce(c),(c&(a.suspendedLanes|o))!==0?0:c}function Ce(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ke(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function it(){var a=ee.p;return a!==0?a:(a=window.event,a===void 0?32:IN(a.type))}function St(a,o){var c=ee.p;try{return ee.p=a,o()}finally{ee.p=c}}var ur=Math.random().toString(36).slice(2),dn="__reactFiber$"+ur,kt="__reactProps$"+ur,Ai="__reactContainer$"+ur,fo="__reactEvents$"+ur,Dd="__reactListeners$"+ur,dt="__reactHandles$"+ur,an="__reactResources$"+ur,wn="__reactMarker$"+ur;function Xi(a){delete a[dn],delete a[kt],delete a[fo],delete a[Dd],delete a[dt]}function _a(a){var o=a[dn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Ai]||c[dn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=gN(a);a!==null;){if(c=a[dn])return c;a=gN(a)}return o}a=c,c=a.parentNode}return null}function Ti(a){if(a=a[dn]||a[Ai]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ci(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Sa(a){var o=a[an];return o||(o=a[an]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Pn(a){a[wn]=!0}var Ld=new Set,zd={};function Ea(a,o){Aa(a,o),Aa(a+"Capture",o)}function Aa(a,o){for(zd[a]=o,a=0;a<o.length;a++)Ld.add(o[a])}var Vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$d={},Ud={};function km(a){return ut.call(Ud,a)?!0:ut.call($d,a)?!1:Vd.test(a)?Ud[a]=!0:($d[a]=!0,!1)}function Dc(a,o,c){if(km(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function ui(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function In(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ho(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Bd(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,w=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(O){c=""+O,w.call(this,O)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Mt(a){if(!a._valueTracker){var o=ho(a)?"checked":"value";a._valueTracker=Bd(a,o,""+a[o])}}function Tl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=ho(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function Ta(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var jl=/[\n"\\]/g;function Kr(a){return a.replace(jl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Lc(a,o,c,m,y,w,O,q){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),o!=null?O==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+er(o)):a.value!==""+er(o)&&(a.value=""+er(o)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),o!=null?qd(a,O,er(o)):c!=null?qd(a,O,er(c)):m!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+er(q):a.removeAttribute("name")}function Mm(a,o,c,m,y,w,O,q){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Mt(a);return}c=c!=null?""+er(c):"",o=o!=null?""+er(o):c,q||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=q?a.checked:!!m,a.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),Mt(a)}function qd(a,o,c){o==="number"&&Ta(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function mo(a,o,c,m){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+er(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Dm(a,o,c){if(o!=null&&(o=""+er(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+er(c):""}function po(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(K(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=er(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),Mt(a)}function Gr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var Lm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||Lm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Hd(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&Fd(a,y,m)}else for(var w in o)o.hasOwnProperty(w)&&Fd(a,w,o[w])}function zc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),go=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vc(a){return go.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qi(){}var Kd=null;function ji(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var vo=null,ja=null;function Nl(a){var o=Ti(a);if(o&&(a=o.stateNode)){var c=a[kt]||null;e:switch(a=o.stateNode,o.type){case"input":if(Lc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Kr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var y=m[kt]||null;if(!y)throw Error(r(90));Lc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&Tl(m)}break e;case"textarea":Dm(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&mo(a,!!c.multiple,o,!1)}}}var $c=!1;function yo(a,o,c){if($c)return a(o,c);$c=!0;try{var m=a(o);return m}finally{if($c=!1,(vo!==null||ja!==null)&&(Pp(),vo&&(o=vo,a=ja,ja=vo=null,Nl(o),a)))for(o=0;o<a.length;o++)Nl(a[o])}}function Ji(a,o){var c=a.stateNode;if(c===null)return null;var m=c[kt]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(Ni)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{Cl=!1}var Na=null,Gd=null,Ol=null;function Yd(){if(Ol)return Ol;var a,o=Gd,c=o.length,m,y="value"in Na?Na.value:Na.textContent,w=y.length;for(a=0;a<c&&o[a]===y[a];a++);var O=c-a;for(m=1;m<=O&&o[c-m]===y[w-m];m++);return Ol=y.slice(a,1<m?1-m:void 0)}function Pl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ls(){return!0}function Zi(){return!1}function dr(a){function o(c,m,y,w,O){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(c=a[q],this[q]=c?c(w):w[q]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ls:Zi,this.isPropagationStopped=Zi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),o}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=dr(cs),bo=g({},cs,{view:0,detail:0}),Wd=dr(bo),xo,Uc,Oa,Bc=g({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Oa&&(Oa&&a.type==="mousemove"?(xo=a.screenX-Oa.screenX,Uc=a.screenY-Oa.screenY):Uc=xo=0,Oa=a),xo)},movementY:function(a){return"movementY"in a?a.movementY:Uc}}),Xd=dr(Bc),Il=g({},Bc,{dataTransfer:0}),Vm=dr(Il),$m=g({},bo,{relatedTarget:0}),Rl=dr($m),Qd=g({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Um=dr(Qd),qc=g({},cs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Bm=dr(qc),qm=g({},cs,{data:0}),Pa=dr(qm),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Km[a])?!!o[a]:!1}function wo(){return Gm}var Lr=g({},bo,{key:function(a){if(a.key){var o=Fm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Pl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Hm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(a){return a.type==="keypress"?Pl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ym=dr(Lr),Wm=g({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=dr(Wm),v=g({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),T=dr(v),R=g({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=dr(R),de=g({},Bc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ve=dr(de),Re=g({},cs,{newState:0,oldState:0}),at=dr(Re),An=[9,13,27,32],Ct=Ni&&"CompositionEvent"in window,fn=null;Ni&&"documentMode"in document&&(fn=document.documentMode);var Ci=Ni&&"TextEvent"in window&&!fn,Ia=Ni&&(!Ct||fn&&8<fn&&11>=fn),ea=" ",ta=!1;function kl(a,o){switch(a){case"keyup":return An.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hc=!1;function W9(a,o){switch(a){case"compositionend":return Fc(o);case"keypress":return o.which!==32?null:(ta=!0,ea);case"textInput":return a=o.data,a===ea&&ta?null:a;default:return null}}function X9(a,o){if(Hc)return a==="compositionend"||!Ct&&kl(a,o)?(a=Yd(),Ol=Gd=Na=null,Hc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ia&&o.locale!=="ko"?null:o.data;default:return null}}var Q9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b2(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Q9[a.type]:o==="textarea"}function x2(a,o,c,m){vo?ja?ja.push(m):ja=[m]:vo=m,o=zp(o,"onChange"),0<o.length&&(c=new Ca("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var Jd=null,Zd=null;function J9(a){nN(a,0)}function Xm(a){var o=ci(a);if(Tl(o))return a}function w2(a,o){if(a==="change")return o}var _2=!1;if(Ni){var jy;if(Ni){var Ny="oninput"in document;if(!Ny){var S2=document.createElement("div");S2.setAttribute("oninput","return;"),Ny=typeof S2.oninput=="function"}jy=Ny}else jy=!1;_2=jy&&(!document.documentMode||9<document.documentMode)}function E2(){Jd&&(Jd.detachEvent("onpropertychange",A2),Zd=Jd=null)}function A2(a){if(a.propertyName==="value"&&Xm(Zd)){var o=[];x2(o,Zd,a,ji(a)),yo(J9,o)}}function Z9(a,o,c){a==="focusin"?(E2(),Jd=o,Zd=c,Jd.attachEvent("onpropertychange",A2)):a==="focusout"&&E2()}function eV(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xm(Zd)}function tV(a,o){if(a==="click")return Xm(o)}function nV(a,o){if(a==="input"||a==="change")return Xm(o)}function rV(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var di=typeof Object.is=="function"?Object.is:rV;function ef(a,o){if(di(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!ut.call(o,y)||!di(a[y],o[y]))return!1}return!0}function T2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function j2(a,o){var c=T2(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=T2(c)}}function N2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?N2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function C2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ta(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Ta(a.document)}return o}function Cy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var iV=Ni&&"documentMode"in document&&11>=document.documentMode,Kc=null,Oy=null,tf=null,Py=!1;function O2(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Py||Kc==null||Kc!==Ta(m)||(m=Kc,"selectionStart"in m&&Cy(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),tf&&ef(tf,m)||(tf=m,m=zp(Oy,"onSelect"),0<m.length&&(o=new Ca("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=Kc)))}function Ml(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Gc={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},Iy={},P2={};Ni&&(P2=document.createElement("div").style,"AnimationEvent"in window||(delete Gc.animationend.animation,delete Gc.animationiteration.animation,delete Gc.animationstart.animation),"TransitionEvent"in window||delete Gc.transitionend.transition);function Dl(a){if(Iy[a])return Iy[a];if(!Gc[a])return a;var o=Gc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in P2)return Iy[a]=o[c];return a}var I2=Dl("animationend"),R2=Dl("animationiteration"),k2=Dl("animationstart"),aV=Dl("transitionrun"),sV=Dl("transitionstart"),oV=Dl("transitioncancel"),M2=Dl("transitionend"),D2=new Map,Ry="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ry.push("scrollEnd");function na(a,o){D2.set(a,o),Ea(o,[a])}var Qm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Oi=[],Yc=0,ky=0;function Jm(){for(var a=Yc,o=ky=Yc=0;o<a;){var c=Oi[o];Oi[o++]=null;var m=Oi[o];Oi[o++]=null;var y=Oi[o];Oi[o++]=null;var w=Oi[o];if(Oi[o++]=null,m!==null&&y!==null){var O=m.pending;O===null?y.next=y:(y.next=O.next,O.next=y),m.pending=y}w!==0&&L2(c,y,w)}}function Zm(a,o,c,m){Oi[Yc++]=a,Oi[Yc++]=o,Oi[Yc++]=c,Oi[Yc++]=m,ky|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function My(a,o,c,m){return Zm(a,o,c,m),ep(a)}function Ll(a,o){return Zm(a,null,null,o),ep(a)}function L2(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,w=a.return;w!==null;)w.childLanes|=c,m=w.alternate,m!==null&&(m.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&o!==null&&(y=31-Zt(c),a=w.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=c|536870912),w):null}function ep(a){if(50<Ef)throw Ef=0,Fb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Wc={};function lV(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(a,o,c,m){return new lV(a,o,c,m)}function Dy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ds(a,o){var c=a.alternate;return c===null?(c=fi(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function z2(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function tp(a,o,c,m,y,w){var O=0;if(m=a,typeof a=="function")Dy(a)&&(O=1);else if(typeof a=="string")O=h8(a,c,Z.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=fi(31,c,o,y),a.elementType=k,a.lanes=w,a;case S:return zl(c.children,y,w,o);case E:O=8,y|=24;break;case C:return a=fi(12,c,o,y|2),a.elementType=C,a.lanes=w,a;case $:return a=fi(13,c,o,y),a.elementType=$,a.lanes=w,a;case z:return a=fi(19,c,o,y),a.elementType=z,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:O=10;break e;case V:O=9;break e;case B:O=11;break e;case N:O=14;break e;case j:O=16,m=null;break e}O=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=fi(O,c,o,y),o.elementType=a,o.type=m,o.lanes=w,o}function zl(a,o,c,m){return a=fi(7,a,m,o),a.lanes=c,a}function Ly(a,o,c){return a=fi(6,a,null,o),a.lanes=c,a}function V2(a){var o=fi(18,null,null,0);return o.stateNode=a,o}function zy(a,o,c){return o=fi(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var $2=new WeakMap;function Pi(a,o){if(typeof a=="object"&&a!==null){var c=$2.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Et(o)},$2.set(a,o),o)}return{value:a,source:o,stack:Et(o)}}var Xc=[],Qc=0,np=null,nf=0,Ii=[],Ri=0,_o=null,Ra=1,ka="";function fs(a,o){Xc[Qc++]=nf,Xc[Qc++]=np,np=a,nf=o}function U2(a,o,c){Ii[Ri++]=Ra,Ii[Ri++]=ka,Ii[Ri++]=_o,_o=a;var m=Ra;a=ka;var y=32-Zt(m)-1;m&=~(1<<y),c+=1;var w=32-Zt(o)+y;if(30<w){var O=y-y%5;w=(m&(1<<O)-1).toString(32),m>>=O,y-=O,Ra=1<<32-Zt(o)+y|c<<y|m,ka=w+a}else Ra=1<<w|c<<y|m,ka=a}function Vy(a){a.return!==null&&(fs(a,1),U2(a,1,0))}function $y(a){for(;a===np;)np=Xc[--Qc],Xc[Qc]=null,nf=Xc[--Qc],Xc[Qc]=null;for(;a===_o;)_o=Ii[--Ri],Ii[Ri]=null,ka=Ii[--Ri],Ii[Ri]=null,Ra=Ii[--Ri],Ii[Ri]=null}function B2(a,o){Ii[Ri++]=Ra,Ii[Ri++]=ka,Ii[Ri++]=_o,Ra=o.id,ka=o.overflow,_o=a}var fr=null,sn=null,bt=!1,So=null,ki=!1,Uy=Error(r(519));function Eo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rf(Pi(o,a)),Uy}function q2(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[dn]=a,o[kt]=m,c){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(c=0;c<Tf.length;c++)ht(Tf[c],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":ht("invalid",o),Mm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ht("invalid",o);break;case"textarea":ht("invalid",o),po(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||sN(o.textContent,c)?(m.popover!=null&&(ht("beforetoggle",o),ht("toggle",o)),m.onScroll!=null&&ht("scroll",o),m.onScrollEnd!=null&&ht("scrollend",o),m.onClick!=null&&(o.onclick=Qi),o=!0):o=!1,o||Eo(a,!0)}function F2(a){for(fr=a.return;fr;)switch(fr.tag){case 5:case 31:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:fr=fr.return}}function Jc(a){if(a!==fr)return!1;if(!bt)return F2(a),bt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||ax(a.type,a.memoizedProps)),c=!c),c&&sn&&Eo(a),F2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));sn=pN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));sn=pN(a)}else o===27?(o=sn,zo(a.type)?(a=ux,ux=null,sn=a):sn=o):sn=fr?Di(a.stateNode.nextSibling):null;return!0}function Vl(){sn=fr=null,bt=!1}function By(){var a=So;return a!==null&&(Qr===null?Qr=a:Qr.push.apply(Qr,a),So=null),a}function rf(a){So===null?So=[a]:So.push(a)}var qy=U(null),$l=null,hs=null;function Ao(a,o,c){X(qy,o._currentValue),o._currentValue=c}function ms(a){a._currentValue=qy.current,Y(qy)}function Fy(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function Hy(a,o,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var O=y.child;w=w.firstContext;e:for(;w!==null;){var q=w;w=y;for(var W=0;W<o.length;W++)if(q.context===o[W]){w.lanes|=c,q=w.alternate,q!==null&&(q.lanes|=c),Fy(w.return,c,a),m||(O=null);break e}w=q.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(r(341));O.lanes|=c,w=O.alternate,w!==null&&(w.lanes|=c),Fy(O,c,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function Zc(a,o,c,m){a=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var q=y.type;di(y.pendingProps.value,O.value)||(a!==null?a.push(q):a=[q])}}else if(y===be.current){if(O=y.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Pf):a=[Pf])}y=y.return}a!==null&&Hy(o,a,c,m),o.flags|=262144}function rp(a){for(a=a.firstContext;a!==null;){if(!di(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ul(a){$l=a,hs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function hr(a){return H2($l,a)}function ip(a,o){return $l===null&&Ul(a),H2(a,o)}function H2(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},hs===null){if(a===null)throw Error(r(308));hs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else hs=hs.next=o;return c}var cV=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},uV=t.unstable_scheduleCallback,dV=t.unstable_NormalPriority,Rn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ky(){return{controller:new cV,data:new Map,refCount:0}}function af(a){a.refCount--,a.refCount===0&&uV(dV,function(){a.controller.abort()})}var sf=null,Gy=0,eu=0,tu=null;function fV(a,o){if(sf===null){var c=sf=[];Gy=0,eu=Xb(),tu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Gy++,o.then(K2,K2),o}function K2(){if(--Gy===0&&sf!==null){tu!==null&&(tu.status="fulfilled");var a=sf;sf=null,eu=0,tu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function hV(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var G2=G.S;G.S=function(a,o){Oj=Oe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&fV(a,o),G2!==null&&G2(a,o)};var Bl=U(null);function Yy(){var a=Bl.current;return a!==null?a:Gt.pooledCache}function ap(a,o){o===null?X(Bl,Bl.current):X(Bl,o.pool)}function Y2(){var a=Yy();return a===null?null:{parent:Rn._currentValue,pool:a}}var nu=Error(r(460)),Wy=Error(r(474)),sp=Error(r(542)),op={then:function(){}};function W2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function X2(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Qi,Qi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,J2(a),a;default:if(typeof o.status=="string")o.then(Qi,Qi);else{if(a=Gt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,J2(a),a}throw Fl=o,nu}}function ql(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Fl=c,nu):c}}var Fl=null;function Q2(){if(Fl===null)throw Error(r(459));var a=Fl;return Fl=null,a}function J2(a){if(a===nu||a===sp)throw Error(r(483))}var ru=null,of=0;function lp(a){var o=of;return of+=1,ru===null&&(ru=[]),X2(ru,a,o)}function lf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function cp(a,o){throw o.$$typeof===x?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Z2(a){function o(ae,te){if(a){var he=ae.deletions;he===null?(ae.deletions=[te],ae.flags|=16):he.push(te)}}function c(ae,te){if(!a)return null;for(;te!==null;)o(ae,te),te=te.sibling;return null}function m(ae){for(var te=new Map;ae!==null;)ae.key!==null?te.set(ae.key,ae):te.set(ae.index,ae),ae=ae.sibling;return te}function y(ae,te){return ae=ds(ae,te),ae.index=0,ae.sibling=null,ae}function w(ae,te,he){return ae.index=he,a?(he=ae.alternate,he!==null?(he=he.index,he<te?(ae.flags|=67108866,te):he):(ae.flags|=67108866,te)):(ae.flags|=1048576,te)}function O(ae){return a&&ae.alternate===null&&(ae.flags|=67108866),ae}function q(ae,te,he,_e){return te===null||te.tag!==6?(te=Ly(he,ae.mode,_e),te.return=ae,te):(te=y(te,he),te.return=ae,te)}function W(ae,te,he,_e){var Ye=he.type;return Ye===S?xe(ae,te,he.props.children,_e,he.key):te!==null&&(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===j&&ql(Ye)===te.type)?(te=y(te,he.props),lf(te,he),te.return=ae,te):(te=tp(he.type,he.key,he.props,null,ae.mode,_e),lf(te,he),te.return=ae,te)}function me(ae,te,he,_e){return te===null||te.tag!==4||te.stateNode.containerInfo!==he.containerInfo||te.stateNode.implementation!==he.implementation?(te=zy(he,ae.mode,_e),te.return=ae,te):(te=y(te,he.children||[]),te.return=ae,te)}function xe(ae,te,he,_e,Ye){return te===null||te.tag!==7?(te=zl(he,ae.mode,_e,Ye),te.return=ae,te):(te=y(te,he),te.return=ae,te)}function Se(ae,te,he){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Ly(""+te,ae.mode,he),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return he=tp(te.type,te.key,te.props,null,ae.mode,he),lf(he,te),he.return=ae,he;case A:return te=zy(te,ae.mode,he),te.return=ae,te;case j:return te=ql(te),Se(ae,te,he)}if(K(te)||L(te))return te=zl(te,ae.mode,he,null),te.return=ae,te;if(typeof te.then=="function")return Se(ae,lp(te),he);if(te.$$typeof===D)return Se(ae,ip(ae,te),he);cp(ae,te)}return null}function ge(ae,te,he,_e){var Ye=te!==null?te.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Ye!==null?null:q(ae,te,""+he,_e);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return he.key===Ye?W(ae,te,he,_e):null;case A:return he.key===Ye?me(ae,te,he,_e):null;case j:return he=ql(he),ge(ae,te,he,_e)}if(K(he)||L(he))return Ye!==null?null:xe(ae,te,he,_e,null);if(typeof he.then=="function")return ge(ae,te,lp(he),_e);if(he.$$typeof===D)return ge(ae,te,ip(ae,he),_e);cp(ae,he)}return null}function ye(ae,te,he,_e,Ye){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ae=ae.get(he)||null,q(te,ae,""+_e,Ye);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:return ae=ae.get(_e.key===null?he:_e.key)||null,W(te,ae,_e,Ye);case A:return ae=ae.get(_e.key===null?he:_e.key)||null,me(te,ae,_e,Ye);case j:return _e=ql(_e),ye(ae,te,he,_e,Ye)}if(K(_e)||L(_e))return ae=ae.get(he)||null,xe(te,ae,_e,Ye,null);if(typeof _e.then=="function")return ye(ae,te,he,lp(_e),Ye);if(_e.$$typeof===D)return ye(ae,te,he,ip(te,_e),Ye);cp(te,_e)}return null}function qe(ae,te,he,_e){for(var Ye=null,At=null,He=te,ot=te=0,pt=null;He!==null&&ot<he.length;ot++){He.index>ot?(pt=He,He=null):pt=He.sibling;var Tt=ge(ae,He,he[ot],_e);if(Tt===null){He===null&&(He=pt);break}a&&He&&Tt.alternate===null&&o(ae,He),te=w(Tt,te,ot),At===null?Ye=Tt:At.sibling=Tt,At=Tt,He=pt}if(ot===he.length)return c(ae,He),bt&&fs(ae,ot),Ye;if(He===null){for(;ot<he.length;ot++)He=Se(ae,he[ot],_e),He!==null&&(te=w(He,te,ot),At===null?Ye=He:At.sibling=He,At=He);return bt&&fs(ae,ot),Ye}for(He=m(He);ot<he.length;ot++)pt=ye(He,ae,ot,he[ot],_e),pt!==null&&(a&&pt.alternate!==null&&He.delete(pt.key===null?ot:pt.key),te=w(pt,te,ot),At===null?Ye=pt:At.sibling=pt,At=pt);return a&&He.forEach(function(qo){return o(ae,qo)}),bt&&fs(ae,ot),Ye}function Xe(ae,te,he,_e){if(he==null)throw Error(r(151));for(var Ye=null,At=null,He=te,ot=te=0,pt=null,Tt=he.next();He!==null&&!Tt.done;ot++,Tt=he.next()){He.index>ot?(pt=He,He=null):pt=He.sibling;var qo=ge(ae,He,Tt.value,_e);if(qo===null){He===null&&(He=pt);break}a&&He&&qo.alternate===null&&o(ae,He),te=w(qo,te,ot),At===null?Ye=qo:At.sibling=qo,At=qo,He=pt}if(Tt.done)return c(ae,He),bt&&fs(ae,ot),Ye;if(He===null){for(;!Tt.done;ot++,Tt=he.next())Tt=Se(ae,Tt.value,_e),Tt!==null&&(te=w(Tt,te,ot),At===null?Ye=Tt:At.sibling=Tt,At=Tt);return bt&&fs(ae,ot),Ye}for(He=m(He);!Tt.done;ot++,Tt=he.next())Tt=ye(He,ae,ot,Tt.value,_e),Tt!==null&&(a&&Tt.alternate!==null&&He.delete(Tt.key===null?ot:Tt.key),te=w(Tt,te,ot),At===null?Ye=Tt:At.sibling=Tt,At=Tt);return a&&He.forEach(function(E8){return o(ae,E8)}),bt&&fs(ae,ot),Ye}function Ft(ae,te,he,_e){if(typeof he=="object"&&he!==null&&he.type===S&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case _:e:{for(var Ye=he.key;te!==null;){if(te.key===Ye){if(Ye=he.type,Ye===S){if(te.tag===7){c(ae,te.sibling),_e=y(te,he.props.children),_e.return=ae,ae=_e;break e}}else if(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===j&&ql(Ye)===te.type){c(ae,te.sibling),_e=y(te,he.props),lf(_e,he),_e.return=ae,ae=_e;break e}c(ae,te);break}else o(ae,te);te=te.sibling}he.type===S?(_e=zl(he.props.children,ae.mode,_e,he.key),_e.return=ae,ae=_e):(_e=tp(he.type,he.key,he.props,null,ae.mode,_e),lf(_e,he),_e.return=ae,ae=_e)}return O(ae);case A:e:{for(Ye=he.key;te!==null;){if(te.key===Ye)if(te.tag===4&&te.stateNode.containerInfo===he.containerInfo&&te.stateNode.implementation===he.implementation){c(ae,te.sibling),_e=y(te,he.children||[]),_e.return=ae,ae=_e;break e}else{c(ae,te);break}else o(ae,te);te=te.sibling}_e=zy(he,ae.mode,_e),_e.return=ae,ae=_e}return O(ae);case j:return he=ql(he),Ft(ae,te,he,_e)}if(K(he))return qe(ae,te,he,_e);if(L(he)){if(Ye=L(he),typeof Ye!="function")throw Error(r(150));return he=Ye.call(he),Xe(ae,te,he,_e)}if(typeof he.then=="function")return Ft(ae,te,lp(he),_e);if(he.$$typeof===D)return Ft(ae,te,ip(ae,he),_e);cp(ae,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,te!==null&&te.tag===6?(c(ae,te.sibling),_e=y(te,he),_e.return=ae,ae=_e):(c(ae,te),_e=Ly(he,ae.mode,_e),_e.return=ae,ae=_e),O(ae)):c(ae,te)}return function(ae,te,he,_e){try{of=0;var Ye=Ft(ae,te,he,_e);return ru=null,Ye}catch(He){if(He===nu||He===sp)throw He;var At=fi(29,He,null,ae.mode);return At.lanes=_e,At.return=ae,At}}}var Hl=Z2(!0),eT=Z2(!1),To=!1;function Xy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function jo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function No(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ot&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=ep(a),L2(a,null,c),o}return Zm(a,m,o,c),ep(a)}function cf(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,H(a,c)}}function Jy(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?y=w=O:w=w.next=O,c=c.next}while(c!==null);w===null?y=w=o:w=w.next=o}else y=w=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Zy=!1;function uf(){if(Zy){var a=tu;if(a!==null)throw a}}function df(a,o,c,m){Zy=!1;var y=a.updateQueue;To=!1;var w=y.firstBaseUpdate,O=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var W=q,me=W.next;W.next=null,O===null?w=me:O.next=me,O=W;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,q=xe.lastBaseUpdate,q!==O&&(q===null?xe.firstBaseUpdate=me:q.next=me,xe.lastBaseUpdate=W))}if(w!==null){var Se=y.baseState;O=0,xe=me=W=null,q=w;do{var ge=q.lane&-536870913,ye=ge!==q.lane;if(ye?(mt&ge)===ge:(m&ge)===ge){ge!==0&&ge===eu&&(Zy=!0),xe!==null&&(xe=xe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var qe=a,Xe=q;ge=o;var Ft=c;switch(Xe.tag){case 1:if(qe=Xe.payload,typeof qe=="function"){Se=qe.call(Ft,Se,ge);break e}Se=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Xe.payload,ge=typeof qe=="function"?qe.call(Ft,Se,ge):qe,ge==null)break e;Se=g({},Se,ge);break e;case 2:To=!0}}ge=q.callback,ge!==null&&(a.flags|=64,ye&&(a.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[ge]:ye.push(ge))}else ye={lane:ge,tag:q.tag,payload:q.payload,callback:q.callback,next:null},xe===null?(me=xe=ye,W=Se):xe=xe.next=ye,O|=ge;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;ye=q,q=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);xe===null&&(W=Se),y.baseState=W,y.firstBaseUpdate=me,y.lastBaseUpdate=xe,w===null&&(y.shared.lanes=0),Ro|=O,a.lanes=O,a.memoizedState=Se}}function tT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function nT(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)tT(c[a],o)}var iu=U(null),up=U(0);function rT(a,o){a=Ss,X(up,a),X(iu,o),Ss=a|o.baseLanes}function eb(){X(up,Ss),X(iu,iu.current)}function tb(){Ss=up.current,Y(iu),Y(up)}var hi=U(null),Mi=null;function Co(a){var o=a.alternate;X(Tn,Tn.current&1),X(hi,a),Mi===null&&(o===null||iu.current!==null||o.memoizedState!==null)&&(Mi=a)}function nb(a){X(Tn,Tn.current),X(hi,a),Mi===null&&(Mi=a)}function iT(a){a.tag===22?(X(Tn,Tn.current),X(hi,a),Mi===null&&(Mi=a)):Oo()}function Oo(){X(Tn,Tn.current),X(hi,hi.current)}function mi(a){Y(hi),Mi===a&&(Mi=null),Y(Tn)}var Tn=U(0);function dp(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||lx(c)||cx(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ps=0,st=null,Bt=null,kn=null,fp=!1,au=!1,Kl=!1,hp=0,ff=0,su=null,mV=0;function _n(){throw Error(r(321))}function rb(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!di(a[c],o[c]))return!1;return!0}function ib(a,o,c,m,y,w){return ps=w,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=a===null||a.memoizedState===null?UT:bb,Kl=!1,w=c(m,y),Kl=!1,au&&(w=sT(o,c,m,y)),aT(a),w}function aT(a){G.H=pf;var o=Bt!==null&&Bt.next!==null;if(ps=0,kn=Bt=st=null,fp=!1,ff=0,su=null,o)throw Error(r(300));a===null||Mn||(a=a.dependencies,a!==null&&rp(a)&&(Mn=!0))}function sT(a,o,c,m){st=a;var y=0;do{if(au&&(su=null),ff=0,au=!1,25<=y)throw Error(r(301));if(y+=1,kn=Bt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=BT,w=o(c,m)}while(au);return w}function pV(){var a=G.H,o=a.useState()[0];return o=typeof o.then=="function"?hf(o):o,a=a.useState()[0],(Bt!==null?Bt.memoizedState:null)!==a&&(st.flags|=1024),o}function ab(){var a=hp!==0;return hp=0,a}function sb(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function ob(a){if(fp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}fp=!1}ps=0,kn=Bt=st=null,au=!1,ff=hp=0,su=null}function zr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?st.memoizedState=kn=a:kn=kn.next=a,kn}function jn(){if(Bt===null){var a=st.alternate;a=a!==null?a.memoizedState:null}else a=Bt.next;var o=kn===null?st.memoizedState:kn.next;if(o!==null)kn=o,Bt=a;else{if(a===null)throw st.alternate===null?Error(r(467)):Error(r(310));Bt=a,a={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},kn===null?st.memoizedState=kn=a:kn=kn.next=a}return kn}function mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hf(a){var o=ff;return ff+=1,su===null&&(su=[]),a=X2(su,a,o),o=st,(kn===null?o.memoizedState:kn.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?UT:bb),a}function pp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hf(a);if(a.$$typeof===D)return hr(a)}throw Error(r(438,String(a)))}function lb(a){var o=null,c=st.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=st.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=mp(),st.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=I;return o.index++,c}function gs(a,o){return typeof o=="function"?o(a):o}function gp(a){var o=jn();return cb(o,Bt,a)}function cb(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,w=m.pending;if(w!==null){if(y!==null){var O=y.next;y.next=w.next,w.next=O}o.baseQueue=y=w,m.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{o=y.next;var q=O=null,W=null,me=o,xe=!1;do{var Se=me.lane&-536870913;if(Se!==me.lane?(mt&Se)===Se:(ps&Se)===Se){var ge=me.revertLane;if(ge===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Se===eu&&(xe=!0);else if((ps&ge)===ge){me=me.next,ge===eu&&(xe=!0);continue}else Se={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},W===null?(q=W=Se,O=w):W=W.next=Se,st.lanes|=ge,Ro|=ge;Se=me.action,Kl&&c(w,Se),w=me.hasEagerState?me.eagerState:c(w,Se)}else ge={lane:Se,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},W===null?(q=W=ge,O=w):W=W.next=ge,st.lanes|=Se,Ro|=Se;me=me.next}while(me!==null&&me!==o);if(W===null?O=w:W.next=q,!di(w,a.memoizedState)&&(Mn=!0,xe&&(c=tu,c!==null)))throw c;a.memoizedState=w,a.baseState=O,a.baseQueue=W,m.lastRenderedState=w}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function ub(a){var o=jn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,w=o.memoizedState;if(y!==null){c.pending=null;var O=y=y.next;do w=a(w,O.action),O=O.next;while(O!==y);di(w,o.memoizedState)||(Mn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,m]}function oT(a,o,c){var m=st,y=jn(),w=bt;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=o();var O=!di((Bt||y).memoizedState,c);if(O&&(y.memoizedState=c,Mn=!0),y=y.queue,hb(uT.bind(null,m,y,a),[a]),y.getSnapshot!==o||O||kn!==null&&kn.memoizedState.tag&1){if(m.flags|=2048,ou(9,{destroy:void 0},cT.bind(null,m,y,c,o),null),Gt===null)throw Error(r(349));w||(ps&127)!==0||lT(m,o,c)}return c}function lT(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=st.updateQueue,o===null?(o=mp(),st.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function cT(a,o,c,m){o.value=c,o.getSnapshot=m,dT(o)&&fT(a)}function uT(a,o,c){return c(function(){dT(o)&&fT(a)})}function dT(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!di(a,c)}catch{return!0}}function fT(a){var o=Ll(a,2);o!==null&&Jr(o,a,2)}function db(a){var o=zr();if(typeof a=="function"){var c=a;if(a=c(),Kl){Zn(!0);try{c()}finally{Zn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:a},o}function hT(a,o,c,m){return a.baseState=c,cb(a,Bt,typeof m=="function"?m:gs)}function gV(a,o,c,m,y){if(bp(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};G.T!==null?c(!0):w.isTransition=!1,m(w),c=o.pending,c===null?(w.next=o.pending=w,mT(o,w)):(w.next=c.next,o.pending=c.next=w)}}function mT(a,o){var c=o.action,m=o.payload,y=a.state;if(o.isTransition){var w=G.T,O={};G.T=O;try{var q=c(y,m),W=G.S;W!==null&&W(O,q),pT(a,o,q)}catch(me){fb(a,o,me)}finally{w!==null&&O.types!==null&&(w.types=O.types),G.T=w}}else try{w=c(y,m),pT(a,o,w)}catch(me){fb(a,o,me)}}function pT(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){gT(a,o,m)},function(m){return fb(a,o,m)}):gT(a,o,c)}function gT(a,o,c){o.status="fulfilled",o.value=c,vT(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,mT(a,c)))}function fb(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,vT(o),o=o.next;while(o!==m)}a.action=null}function vT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function yT(a,o){return o}function bT(a,o){if(bt){var c=Gt.formState;if(c!==null){e:{var m=st;if(bt){if(sn){t:{for(var y=sn,w=ki;y.nodeType!==8;){if(!w){y=null;break t}if(y=Di(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){sn=Di(y.nextSibling),m=y.data==="F!";break e}}Eo(m)}m=!1}m&&(o=c[0])}}return c=zr(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yT,lastRenderedState:o},c.queue=m,c=zT.bind(null,st,m),m.dispatch=c,m=db(!1),w=yb.bind(null,st,!1,m.queue),m=zr(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,c=gV.bind(null,st,y,w,c),y.dispatch=c,m.memoizedState=a,[o,c,!1]}function xT(a){var o=jn();return wT(o,Bt,a)}function wT(a,o,c){if(o=cb(a,o,yT)[0],a=gp(gs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=hf(o)}catch(O){throw O===nu?sp:O}else m=o;o=jn();var y=o.queue,w=y.dispatch;return c!==o.memoizedState&&(st.flags|=2048,ou(9,{destroy:void 0},vV.bind(null,y,c),null)),[m,w,a]}function vV(a,o){a.action=o}function _T(a){var o=jn(),c=Bt;if(c!==null)return wT(o,c,a);jn(),o=o.memoizedState,c=jn();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function ou(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=st.updateQueue,o===null&&(o=mp(),st.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function ST(){return jn().memoizedState}function vp(a,o,c,m){var y=zr();st.flags|=a,y.memoizedState=ou(1|o,{destroy:void 0},c,m===void 0?null:m)}function yp(a,o,c,m){var y=jn();m=m===void 0?null:m;var w=y.memoizedState.inst;Bt!==null&&m!==null&&rb(m,Bt.memoizedState.deps)?y.memoizedState=ou(o,w,c,m):(st.flags|=a,y.memoizedState=ou(1|o,w,c,m))}function ET(a,o){vp(8390656,8,a,o)}function hb(a,o){yp(2048,8,a,o)}function yV(a){st.flags|=4;var o=st.updateQueue;if(o===null)o=mp(),st.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function AT(a){var o=jn().memoizedState;return yV({ref:o,nextImpl:a}),function(){if((Ot&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function TT(a,o){return yp(4,2,a,o)}function jT(a,o){return yp(4,4,a,o)}function NT(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function CT(a,o,c){c=c!=null?c.concat([a]):null,yp(4,4,NT.bind(null,o,a),c)}function mb(){}function OT(a,o){var c=jn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&rb(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function PT(a,o){var c=jn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&rb(o,m[1]))return m[0];if(m=a(),Kl){Zn(!0);try{a()}finally{Zn(!1)}}return c.memoizedState=[m,o],m}function pb(a,o,c){return c===void 0||(ps&1073741824)!==0&&(mt&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=Ij(),st.lanes|=a,Ro|=a,c)}function IT(a,o,c,m){return di(c,o)?c:iu.current!==null?(a=pb(a,c,m),di(a,o)||(Mn=!0),a):(ps&42)===0||(ps&1073741824)!==0&&(mt&261930)===0?(Mn=!0,a.memoizedState=c):(a=Ij(),st.lanes|=a,Ro|=a,o)}function RT(a,o,c,m,y){var w=ee.p;ee.p=w!==0&&8>w?w:8;var O=G.T,q={};G.T=q,yb(a,!1,o,c);try{var W=y(),me=G.S;if(me!==null&&me(q,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var xe=hV(W,m);mf(a,o,xe,vi(a))}else mf(a,o,m,vi(a))}catch(Se){mf(a,o,{then:function(){},status:"rejected",reason:Se},vi())}finally{ee.p=w,O!==null&&q.types!==null&&(O.types=q.types),G.T=O}}function bV(){}function gb(a,o,c,m){if(a.tag!==5)throw Error(r(476));var y=kT(a).queue;RT(a,y,o,pe,c===null?bV:function(){return MT(a),c(m)})}function kT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:pe},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function MT(a){var o=kT(a);o.next===null&&(o=a.alternate.memoizedState),mf(a,o.next.queue,{},vi())}function vb(){return hr(Pf)}function DT(){return jn().memoizedState}function LT(){return jn().memoizedState}function xV(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=vi();a=jo(c);var m=No(o,a,c);m!==null&&(Jr(m,o,c),cf(m,o,c)),o={cache:Ky()},a.payload=o;return}o=o.return}}function wV(a,o,c){var m=vi();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},bp(a)?VT(o,c):(c=My(a,o,c,m),c!==null&&(Jr(c,a,m),$T(c,o,m)))}function zT(a,o,c){var m=vi();mf(a,o,c,m)}function mf(a,o,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(bp(a))VT(o,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var O=o.lastRenderedState,q=w(O,c);if(y.hasEagerState=!0,y.eagerState=q,di(q,O))return Zm(a,o,y,0),Gt===null&&Jm(),!1}catch{}if(c=My(a,o,y,m),c!==null)return Jr(c,a,m),$T(c,o,m),!0}return!1}function yb(a,o,c,m){if(m={lane:2,revertLane:Xb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},bp(a)){if(o)throw Error(r(479))}else o=My(a,c,m,2),o!==null&&Jr(o,a,2)}function bp(a){var o=a.alternate;return a===st||o!==null&&o===st}function VT(a,o){au=fp=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function $T(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,H(a,c)}}var pf={readContext:hr,use:pp,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};pf.useEffectEvent=_n;var UT={readContext:hr,use:pp,useCallback:function(a,o){return zr().memoizedState=[a,o===void 0?null:o],a},useContext:hr,useEffect:ET,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,vp(4194308,4,NT.bind(null,o,a),c)},useLayoutEffect:function(a,o){return vp(4194308,4,a,o)},useInsertionEffect:function(a,o){vp(4,2,a,o)},useMemo:function(a,o){var c=zr();o=o===void 0?null:o;var m=a();if(Kl){Zn(!0);try{a()}finally{Zn(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=zr();if(c!==void 0){var y=c(o);if(Kl){Zn(!0);try{c(o)}finally{Zn(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=wV.bind(null,st,a),[m.memoizedState,a]},useRef:function(a){var o=zr();return a={current:a},o.memoizedState=a},useState:function(a){a=db(a);var o=a.queue,c=zT.bind(null,st,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:mb,useDeferredValue:function(a,o){var c=zr();return pb(c,a,o)},useTransition:function(){var a=db(!1);return a=RT.bind(null,st,a.queue,!0,!1),zr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=st,y=zr();if(bt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Gt===null)throw Error(r(349));(mt&127)!==0||lT(m,o,c)}y.memoizedState=c;var w={value:c,getSnapshot:o};return y.queue=w,ET(uT.bind(null,m,w,a),[a]),m.flags|=2048,ou(9,{destroy:void 0},cT.bind(null,m,w,c,o),null),c},useId:function(){var a=zr(),o=Gt.identifierPrefix;if(bt){var c=ka,m=Ra;c=(m&~(1<<32-Zt(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=hp++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=mV++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:vb,useFormState:bT,useActionState:bT,useOptimistic:function(a){var o=zr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=yb.bind(null,st,!0,c),c.dispatch=o,[a,o]},useMemoCache:lb,useCacheRefresh:function(){return zr().memoizedState=xV.bind(null,st)},useEffectEvent:function(a){var o=zr(),c={impl:a};return o.memoizedState=c,function(){if((Ot&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},bb={readContext:hr,use:pp,useCallback:OT,useContext:hr,useEffect:hb,useImperativeHandle:CT,useInsertionEffect:TT,useLayoutEffect:jT,useMemo:PT,useReducer:gp,useRef:ST,useState:function(){return gp(gs)},useDebugValue:mb,useDeferredValue:function(a,o){var c=jn();return IT(c,Bt.memoizedState,a,o)},useTransition:function(){var a=gp(gs)[0],o=jn().memoizedState;return[typeof a=="boolean"?a:hf(a),o]},useSyncExternalStore:oT,useId:DT,useHostTransitionStatus:vb,useFormState:xT,useActionState:xT,useOptimistic:function(a,o){var c=jn();return hT(c,Bt,a,o)},useMemoCache:lb,useCacheRefresh:LT};bb.useEffectEvent=AT;var BT={readContext:hr,use:pp,useCallback:OT,useContext:hr,useEffect:hb,useImperativeHandle:CT,useInsertionEffect:TT,useLayoutEffect:jT,useMemo:PT,useReducer:ub,useRef:ST,useState:function(){return ub(gs)},useDebugValue:mb,useDeferredValue:function(a,o){var c=jn();return Bt===null?pb(c,a,o):IT(c,Bt.memoizedState,a,o)},useTransition:function(){var a=ub(gs)[0],o=jn().memoizedState;return[typeof a=="boolean"?a:hf(a),o]},useSyncExternalStore:oT,useId:DT,useHostTransitionStatus:vb,useFormState:_T,useActionState:_T,useOptimistic:function(a,o){var c=jn();return Bt!==null?hT(c,Bt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:lb,useCacheRefresh:LT};BT.useEffectEvent=AT;function xb(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var wb={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=vi(),y=jo(m);y.payload=o,c!=null&&(y.callback=c),o=No(a,y,m),o!==null&&(Jr(o,a,m),cf(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=vi(),y=jo(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=No(a,y,m),o!==null&&(Jr(o,a,m),cf(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=vi(),m=jo(c);m.tag=2,o!=null&&(m.callback=o),o=No(a,m,c),o!==null&&(Jr(o,a,c),cf(o,a,c))}};function qT(a,o,c,m,y,w,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,O):o.prototype&&o.prototype.isPureReactComponent?!ef(c,m)||!ef(y,w):!0}function FT(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&wb.enqueueReplaceState(o,o.state,null)}function Gl(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function HT(a){Qm(a)}function KT(a){console.error(a)}function GT(a){Qm(a)}function xp(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function YT(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function _b(a,o,c){return c=jo(c),c.tag=3,c.payload={element:null},c.callback=function(){xp(a,o)},c}function WT(a){return a=jo(a),a.tag=3,a}function XT(a,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;a.payload=function(){return y(w)},a.callback=function(){YT(o,c,m)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){YT(o,c,m),typeof y!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})})}function _V(a,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&Zc(o,c,y,!0),c=hi.current,c!==null){switch(c.tag){case 31:case 13:return Mi===null?Ip():c.alternate===null&&Sn===0&&(Sn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===op?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Gb(a,m,y)),!1;case 22:return c.flags|=65536,m===op?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Gb(a,m,y)),!1}throw Error(r(435,c.tag))}return Gb(a,m,y),Ip(),!1}if(bt)return o=hi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==Uy&&(a=Error(r(422),{cause:m}),rf(Pi(a,c)))):(m!==Uy&&(o=Error(r(423),{cause:m}),rf(Pi(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Pi(m,c),y=_b(a.stateNode,m,y),Jy(a,y),Sn!==4&&(Sn=2)),!1;var w=Error(r(520),{cause:m});if(w=Pi(w,c),Sf===null?Sf=[w]:Sf.push(w),Sn!==4&&(Sn=2),o===null)return!0;m=Pi(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=_b(c.stateNode,m,a),Jy(c,a),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ko===null||!ko.has(w))))return c.flags|=65536,y&=-y,c.lanes|=y,y=WT(y),XT(y,a,c,m),Jy(c,y),!1}c=c.return}while(c!==null);return!1}var Sb=Error(r(461)),Mn=!1;function mr(a,o,c,m){o.child=a===null?eT(o,null,c,m):Hl(o,a.child,c,m)}function QT(a,o,c,m,y){c=c.render;var w=o.ref;if("ref"in m){var O={};for(var q in m)q!=="ref"&&(O[q]=m[q])}else O=m;return Ul(o),m=ib(a,o,c,O,w,y),q=ab(),a!==null&&!Mn?(sb(a,o,y),vs(a,o,y)):(bt&&q&&Vy(o),o.flags|=1,mr(a,o,m,y),o.child)}function JT(a,o,c,m,y){if(a===null){var w=c.type;return typeof w=="function"&&!Dy(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,ZT(a,o,w,m,y)):(a=tp(c.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!Pb(a,y)){var O=w.memoizedProps;if(c=c.compare,c=c!==null?c:ef,c(O,m)&&a.ref===o.ref)return vs(a,o,y)}return o.flags|=1,a=ds(w,m),a.ref=o.ref,a.return=o,o.child=a}function ZT(a,o,c,m,y){if(a!==null){var w=a.memoizedProps;if(ef(w,m)&&a.ref===o.ref)if(Mn=!1,o.pendingProps=m=w,Pb(a,y))(a.flags&131072)!==0&&(Mn=!0);else return o.lanes=a.lanes,vs(a,o,y)}return Eb(a,o,c,m,y)}function ej(a,o,c,m){var y=m.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~w}else m=0,o.child=null;return tj(a,o,w,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&ap(o,w!==null?w.cachePool:null),w!==null?rT(o,w):eb(),iT(o);else return m=o.lanes=536870912,tj(a,o,w!==null?w.baseLanes|c:c,c,m)}else w!==null?(ap(o,w.cachePool),rT(o,w),Oo(),o.memoizedState=null):(a!==null&&ap(o,null),eb(),Oo());return mr(a,o,y,c),o.child}function gf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function tj(a,o,c,m,y){var w=Yy();return w=w===null?null:{parent:Rn._currentValue,pool:w},o.memoizedState={baseLanes:c,cachePool:w},a!==null&&ap(o,null),eb(),iT(o),a!==null&&Zc(a,o,m,!0),o.childLanes=y,null}function wp(a,o){return o=Sp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function nj(a,o,c){return Hl(o,a.child,null,c),a=wp(o,o.pendingProps),a.flags|=2,mi(o),o.memoizedState=null,a}function SV(a,o,c){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(bt){if(m.mode==="hidden")return a=wp(o,m),o.lanes=536870912,gf(null,a);if(nb(o),(a=sn)?(a=mN(a,ki),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:_o!==null?{id:Ra,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},c=V2(a),c.return=o,o.child=c,fr=o,sn=null)):a=null,a===null)throw Eo(o);return o.lanes=536870912,null}return wp(o,m)}var w=a.memoizedState;if(w!==null){var O=w.dehydrated;if(nb(o),y)if(o.flags&256)o.flags&=-257,o=nj(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Mn||Zc(a,o,c,!1),y=(c&a.childLanes)!==0,Mn||y){if(m=Gt,m!==null&&(O=Ae(m,c),O!==0&&O!==w.retryLane))throw w.retryLane=O,Ll(a,O),Jr(m,a,O),Sb;Ip(),o=nj(a,o,c)}else a=w.treeContext,sn=Di(O.nextSibling),fr=o,bt=!0,So=null,ki=!1,a!==null&&B2(o,a),o=wp(o,m),o.flags|=4096;return o}return a=ds(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function _p(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Eb(a,o,c,m,y){return Ul(o),c=ib(a,o,c,m,void 0,y),m=ab(),a!==null&&!Mn?(sb(a,o,y),vs(a,o,y)):(bt&&m&&Vy(o),o.flags|=1,mr(a,o,c,y),o.child)}function rj(a,o,c,m,y,w){return Ul(o),o.updateQueue=null,c=sT(o,m,c,y),aT(a),m=ab(),a!==null&&!Mn?(sb(a,o,w),vs(a,o,w)):(bt&&m&&Vy(o),o.flags|=1,mr(a,o,c,w),o.child)}function ij(a,o,c,m,y){if(Ul(o),o.stateNode===null){var w=Wc,O=c.contextType;typeof O=="object"&&O!==null&&(w=hr(O)),w=new c(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=wb,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},Xy(o),O=c.contextType,w.context=typeof O=="object"&&O!==null?hr(O):Wc,w.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(xb(o,c,O,m),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&wb.enqueueReplaceState(w,w.state,null),df(o,m,w,y),uf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){w=o.stateNode;var q=o.memoizedProps,W=Gl(c,q);w.props=W;var me=w.context,xe=c.contextType;O=Wc,typeof xe=="object"&&xe!==null&&(O=hr(xe));var Se=c.getDerivedStateFromProps;xe=typeof Se=="function"||typeof w.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,xe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(q||me!==O)&&FT(o,w,m,O),To=!1;var ge=o.memoizedState;w.state=ge,df(o,m,w,y),uf(),me=o.memoizedState,q||ge!==me||To?(typeof Se=="function"&&(xb(o,c,Se,m),me=o.memoizedState),(W=To||qT(o,c,W,m,ge,me,O))?(xe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=me),w.props=m,w.state=me,w.context=O,m=W):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,Qy(a,o),O=o.memoizedProps,xe=Gl(c,O),w.props=xe,Se=o.pendingProps,ge=w.context,me=c.contextType,W=Wc,typeof me=="object"&&me!==null&&(W=hr(me)),q=c.getDerivedStateFromProps,(me=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==Se||ge!==W)&&FT(o,w,m,W),To=!1,ge=o.memoizedState,w.state=ge,df(o,m,w,y),uf();var ye=o.memoizedState;O!==Se||ge!==ye||To||a!==null&&a.dependencies!==null&&rp(a.dependencies)?(typeof q=="function"&&(xb(o,c,q,m),ye=o.memoizedState),(xe=To||qT(o,c,xe,m,ge,ye,W)||a!==null&&a.dependencies!==null&&rp(a.dependencies))?(me||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ye,W),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ye,W)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===a.memoizedProps&&ge===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ge===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ye),w.props=m,w.state=ye,w.context=W,m=xe):(typeof w.componentDidUpdate!="function"||O===a.memoizedProps&&ge===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ge===a.memoizedState||(o.flags|=1024),m=!1)}return w=m,_p(a,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&m?(o.child=Hl(o,a.child,null,y),o.child=Hl(o,null,c,y)):mr(a,o,c,y),o.memoizedState=w.state,a=o.child):a=vs(a,o,y),a}function aj(a,o,c,m){return Vl(),o.flags|=256,mr(a,o,c,m),o.child}var Ab={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tb(a){return{baseLanes:a,cachePool:Y2()}}function jb(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=gi),a}function sj(a,o,c){var m=o.pendingProps,y=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=a!==null&&a.memoizedState===null?!1:(Tn.current&2)!==0),O&&(y=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,a===null){if(bt){if(y?Co(o):Oo(),(a=sn)?(a=mN(a,ki),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:_o!==null?{id:Ra,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},c=V2(a),c.return=o,o.child=c,fr=o,sn=null)):a=null,a===null)throw Eo(o);return cx(a)?o.lanes=32:o.lanes=536870912,null}var q=m.children;return m=m.fallback,y?(Oo(),y=o.mode,q=Sp({mode:"hidden",children:q},y),m=zl(m,y,c,null),q.return=o,m.return=o,q.sibling=m,o.child=q,m=o.child,m.memoizedState=Tb(c),m.childLanes=jb(a,O,c),o.memoizedState=Ab,gf(null,m)):(Co(o),Nb(o,q))}var W=a.memoizedState;if(W!==null&&(q=W.dehydrated,q!==null)){if(w)o.flags&256?(Co(o),o.flags&=-257,o=Cb(a,o,c)):o.memoizedState!==null?(Oo(),o.child=a.child,o.flags|=128,o=null):(Oo(),q=m.fallback,y=o.mode,m=Sp({mode:"visible",children:m.children},y),q=zl(q,y,c,null),q.flags|=2,m.return=o,q.return=o,m.sibling=q,o.child=m,Hl(o,a.child,null,c),m=o.child,m.memoizedState=Tb(c),m.childLanes=jb(a,O,c),o.memoizedState=Ab,o=gf(null,m));else if(Co(o),cx(q)){if(O=q.nextSibling&&q.nextSibling.dataset,O)var me=O.dgst;O=me,m=Error(r(419)),m.stack="",m.digest=O,rf({value:m,source:null,stack:null}),o=Cb(a,o,c)}else if(Mn||Zc(a,o,c,!1),O=(c&a.childLanes)!==0,Mn||O){if(O=Gt,O!==null&&(m=Ae(O,c),m!==0&&m!==W.retryLane))throw W.retryLane=m,Ll(a,m),Jr(O,a,m),Sb;lx(q)||Ip(),o=Cb(a,o,c)}else lx(q)?(o.flags|=192,o.child=a.child,o=null):(a=W.treeContext,sn=Di(q.nextSibling),fr=o,bt=!0,So=null,ki=!1,a!==null&&B2(o,a),o=Nb(o,m.children),o.flags|=4096);return o}return y?(Oo(),q=m.fallback,y=o.mode,W=a.child,me=W.sibling,m=ds(W,{mode:"hidden",children:m.children}),m.subtreeFlags=W.subtreeFlags&65011712,me!==null?q=ds(me,q):(q=zl(q,y,c,null),q.flags|=2),q.return=o,m.return=o,m.sibling=q,o.child=m,gf(null,m),m=o.child,q=a.child.memoizedState,q===null?q=Tb(c):(y=q.cachePool,y!==null?(W=Rn._currentValue,y=y.parent!==W?{parent:W,pool:W}:y):y=Y2(),q={baseLanes:q.baseLanes|c,cachePool:y}),m.memoizedState=q,m.childLanes=jb(a,O,c),o.memoizedState=Ab,gf(a.child,m)):(Co(o),c=a.child,a=c.sibling,c=ds(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(O=o.deletions,O===null?(o.deletions=[a],o.flags|=16):O.push(a)),o.child=c,o.memoizedState=null,c)}function Nb(a,o){return o=Sp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Sp(a,o){return a=fi(22,a,null,o),a.lanes=0,a}function Cb(a,o,c){return Hl(o,a.child,null,c),a=Nb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function oj(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),Fy(a.return,o,c)}function Ob(a,o,c,m,y,w){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:w}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=c,O.tailMode=y,O.treeForkCount=w)}function lj(a,o,c){var m=o.pendingProps,y=m.revealOrder,w=m.tail;m=m.children;var O=Tn.current,q=(O&2)!==0;if(q?(O=O&1|2,o.flags|=128):O&=1,X(Tn,O),mr(a,o,m,c),m=bt?nf:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&oj(a,c,o);else if(a.tag===19)oj(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&dp(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Ob(o,!1,y,c,w,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&dp(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Ob(o,!0,c,null,w,m);break;case"together":Ob(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function vs(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ro|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Zc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=ds(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=ds(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Pb(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&rp(a)))}function EV(a,o,c){switch(o.tag){case 3:Ee(o,o.stateNode.containerInfo),Ao(o,Rn,a.memoizedState.cache),Vl();break;case 27:case 5:Q(o);break;case 4:Ee(o,o.stateNode.containerInfo);break;case 10:Ao(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,nb(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Co(o),o.flags|=128,null):(c&o.child.childLanes)!==0?sj(a,o,c):(Co(o),a=vs(a,o,c),a!==null?a.sibling:null);Co(o);break;case 19:var y=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(Zc(a,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return lj(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),X(Tn,Tn.current),m)break;return null;case 22:return o.lanes=0,ej(a,o,c,o.pendingProps);case 24:Ao(o,Rn,a.memoizedState.cache)}return vs(a,o,c)}function cj(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Mn=!0;else{if(!Pb(a,c)&&(o.flags&128)===0)return Mn=!1,EV(a,o,c);Mn=(a.flags&131072)!==0}else Mn=!1,bt&&(o.flags&1048576)!==0&&U2(o,nf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=ql(o.elementType),o.type=a,typeof a=="function")Dy(a)?(m=Gl(a,m),o.tag=1,o=ij(null,o,a,m,c)):(o.tag=0,o=Eb(null,o,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===B){o.tag=11,o=QT(null,o,a,m,c);break e}else if(y===N){o.tag=14,o=JT(null,o,a,m,c);break e}}throw o=re(a)||a,Error(r(306,o,""))}}return o;case 0:return Eb(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=Gl(m,o.pendingProps),ij(a,o,m,y,c);case 3:e:{if(Ee(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var w=o.memoizedState;y=w.element,Qy(a,o),df(o,m,null,c);var O=o.memoizedState;if(m=O.cache,Ao(o,Rn,m),m!==w.cache&&Hy(o,[Rn],c,!0),uf(),m=O.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=aj(a,o,m,c);break e}else if(m!==y){y=Pi(Error(r(424)),o),rf(y),o=aj(a,o,m,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,sn=Di(a.firstChild),fr=o,bt=!0,So=null,ki=!0,c=eT(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vl(),m===y){o=vs(a,o,c);break e}mr(a,o,m,c)}o=o.child}return o;case 26:return _p(a,o),a===null?(c=xN(o.type,null,o.pendingProps,null))?o.memoizedState=c:bt||(c=o.type,a=o.pendingProps,m=Vp(fe.current).createElement(c),m[dn]=o,m[kt]=a,pr(m,c,a),Pn(m),o.stateNode=m):o.memoizedState=xN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Q(o),a===null&&bt&&(m=o.stateNode=vN(o.type,o.pendingProps,fe.current),fr=o,ki=!0,y=sn,zo(o.type)?(ux=y,sn=Di(m.firstChild)):sn=y),mr(a,o,o.pendingProps.children,c),_p(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&bt&&((y=m=sn)&&(m=e8(m,o.type,o.pendingProps,ki),m!==null?(o.stateNode=m,fr=o,sn=Di(m.firstChild),ki=!1,y=!0):y=!1),y||Eo(o)),Q(o),y=o.type,w=o.pendingProps,O=a!==null?a.memoizedProps:null,m=w.children,ax(y,w)?m=null:O!==null&&ax(y,O)&&(o.flags|=32),o.memoizedState!==null&&(y=ib(a,o,pV,null,null,c),Pf._currentValue=y),_p(a,o),mr(a,o,m,c),o.child;case 6:return a===null&&bt&&((a=c=sn)&&(c=t8(c,o.pendingProps,ki),c!==null?(o.stateNode=c,fr=o,sn=null,a=!0):a=!1),a||Eo(o)),null;case 13:return sj(a,o,c);case 4:return Ee(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Hl(o,null,m,c):mr(a,o,m,c),o.child;case 11:return QT(a,o,o.type,o.pendingProps,c);case 7:return mr(a,o,o.pendingProps,c),o.child;case 8:return mr(a,o,o.pendingProps.children,c),o.child;case 12:return mr(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Ao(o,o.type,m.value),mr(a,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,Ul(o),y=hr(y),m=m(y),o.flags|=1,mr(a,o,m,c),o.child;case 14:return JT(a,o,o.type,o.pendingProps,c);case 15:return ZT(a,o,o.type,o.pendingProps,c);case 19:return lj(a,o,c);case 31:return SV(a,o,c);case 22:return ej(a,o,c,o.pendingProps);case 24:return Ul(o),m=hr(Rn),a===null?(y=Yy(),y===null&&(y=Gt,w=Ky(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=c),y=w),o.memoizedState={parent:m,cache:y},Xy(o),Ao(o,Rn,y)):((a.lanes&c)!==0&&(Qy(a,o),df(o,null,null,c),uf()),y=a.memoizedState,w=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ao(o,Rn,m)):(m=w.cache,Ao(o,Rn,m),m!==y.cache&&Hy(o,[Rn],c,!0))),mr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ys(a){a.flags|=4}function Ib(a,o,c,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(Dj())a.flags|=8192;else throw Fl=op,Wy}else a.flags&=-16777217}function uj(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!AN(o))if(Dj())a.flags|=8192;else throw Fl=op,Wy}function Ep(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?os():536870912,a.lanes|=o,du|=o)}function vf(a,o){if(!bt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function on(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function AV(a,o,c){var m=o.pendingProps;switch($y(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(o),null;case 1:return on(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ms(Rn),se(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Jc(o)?ys(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,By())),on(o),null;case 26:var y=o.type,w=o.memoizedState;return a===null?(ys(o),w!==null?(on(o),uj(o,w)):(on(o),Ib(o,y,null,m,c))):w?w!==a.memoizedState?(ys(o),on(o),uj(o,w)):(on(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&ys(o),on(o),Ib(o,y,a,m,c)),null;case 27:if(ue(o),c=fe.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return on(o),null}a=Z.current,Jc(o)?q2(o):(a=vN(y,m,c),o.stateNode=a,ys(o))}return on(o),null;case 5:if(ue(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return on(o),null}if(w=Z.current,Jc(o))q2(o);else{var O=Vp(fe.current);switch(w){case 1:w=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=O.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?O.createElement(y,{is:m.is}):O.createElement(y)}}w[dn]=o,w[kt]=m;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)w.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=w;e:switch(pr(w,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ys(o)}}return on(o),Ib(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=fe.current,Jc(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,y=fr,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[dn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||sN(a.nodeValue,c)),a||Eo(o,!0)}else a=Vp(a).createTextNode(m),a[dn]=o,o.stateNode=a}return on(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=Jc(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[dn]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;on(o),a=!1}else c=By(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(mi(o),o):(mi(o),null);if((o.flags&128)!==0)throw Error(r(558))}return on(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Jc(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[dn]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;on(o),y=!1}else y=By(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(mi(o),o):(mi(o),null)}return mi(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Ep(o,o.updateQueue),on(o),null);case 4:return se(),a===null&&ex(o.stateNode.containerInfo),on(o),null;case 10:return ms(o.type),on(o),null;case 19:if(Y(Tn),m=o.memoizedState,m===null)return on(o),null;if(y=(o.flags&128)!==0,w=m.rendering,w===null)if(y)vf(m,!1);else{if(Sn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=dp(a),w!==null){for(o.flags|=128,vf(m,!1),a=w.updateQueue,o.updateQueue=a,Ep(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)z2(c,a),c=c.sibling;return X(Tn,Tn.current&1|2),bt&&fs(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Oe()>Cp&&(o.flags|=128,y=!0,vf(m,!1),o.lanes=4194304)}else{if(!y)if(a=dp(w),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Ep(o,a),vf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!bt)return on(o),null}else 2*Oe()-m.renderingStartTime>Cp&&c!==536870912&&(o.flags|=128,y=!0,vf(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(a=m.last,a!==null?a.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Oe(),a.sibling=null,c=Tn.current,X(Tn,y?c&1|2:c&1),bt&&fs(o,m.treeForkCount),a):(on(o),null);case 22:case 23:return mi(o),tb(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(on(o),o.subtreeFlags&6&&(o.flags|=8192)):on(o),c=o.updateQueue,c!==null&&Ep(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&Y(Bl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ms(Rn),on(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function TV(a,o){switch($y(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ms(Rn),se(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ue(o),null;case 31:if(o.memoizedState!==null){if(mi(o),o.alternate===null)throw Error(r(340));Vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(mi(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Y(Tn),null;case 4:return se(),null;case 10:return ms(o.type),null;case 22:case 23:return mi(o),tb(),a!==null&&Y(Bl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ms(Rn),null;case 25:return null;default:return null}}function dj(a,o){switch($y(o),o.tag){case 3:ms(Rn),se();break;case 26:case 27:case 5:ue(o);break;case 4:se();break;case 31:o.memoizedState!==null&&mi(o);break;case 13:mi(o);break;case 19:Y(Tn);break;case 10:ms(o.type);break;case 22:case 23:mi(o),tb(),a!==null&&Y(Bl);break;case 24:ms(Rn)}}function yf(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var w=c.create,O=c.inst;m=w(),O.destroy=m}c=c.next}while(c!==y)}}catch(q){Lt(o,o.return,q)}}function Po(a,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&a)===a){var O=m.inst,q=O.destroy;if(q!==void 0){O.destroy=void 0,y=o;var W=c,me=q;try{me()}catch(xe){Lt(y,W,xe)}}}m=m.next}while(m!==w)}}catch(xe){Lt(o,o.return,xe)}}function fj(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{nT(o,c)}catch(m){Lt(a,a.return,m)}}}function hj(a,o,c){c.props=Gl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){Lt(a,o,m)}}function bf(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){Lt(a,o,y)}}function Ma(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){Lt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Lt(a,o,y)}else c.current=null}function mj(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){Lt(a,a.return,y)}}function Rb(a,o,c){try{var m=a.stateNode;YV(m,a.type,c,o),m[kt]=o}catch(y){Lt(a,a.return,y)}}function pj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&zo(a.type)||a.tag===4}function kb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||pj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&zo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Mb(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Qi));else if(m!==4&&(m===27&&zo(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Mb(a,o,c),a=a.sibling;a!==null;)Mb(a,o,c),a=a.sibling}function Ap(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&zo(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Ap(a,o,c),a=a.sibling;a!==null;)Ap(a,o,c),a=a.sibling}function gj(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);pr(o,m,c),o[dn]=a,o[kt]=c}catch(w){Lt(a,a.return,w)}}var bs=!1,Dn=!1,Db=!1,vj=typeof WeakSet=="function"?WeakSet:Set,tr=null;function jV(a,o){if(a=a.containerInfo,rx=Kp,a=C2(a),Cy(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var O=0,q=-1,W=-1,me=0,xe=0,Se=a,ge=null;t:for(;;){for(var ye;Se!==c||y!==0&&Se.nodeType!==3||(q=O+y),Se!==w||m!==0&&Se.nodeType!==3||(W=O+m),Se.nodeType===3&&(O+=Se.nodeValue.length),(ye=Se.firstChild)!==null;)ge=Se,Se=ye;for(;;){if(Se===a)break t;if(ge===c&&++me===y&&(q=O),ge===w&&++xe===m&&(W=O),(ye=Se.nextSibling)!==null)break;Se=ge,ge=Se.parentNode}Se=ye}c=q===-1||W===-1?null:{start:q,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(ix={focusedElem:a,selectionRange:c},Kp=!1,tr=o;tr!==null;)if(o=tr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,tr=a;else for(;tr!==null;){switch(o=tr,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=o,y=w.memoizedProps,w=w.memoizedState,m=c.stateNode;try{var qe=Gl(c.type,y);a=m.getSnapshotBeforeUpdate(qe,w),m.__reactInternalSnapshotBeforeUpdate=a}catch(Xe){Lt(c,c.return,Xe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)ox(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ox(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,tr=a;break}tr=o.return}}function yj(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ws(a,c),m&4&&yf(5,c);break;case 1:if(ws(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(O){Lt(c,c.return,O)}else{var y=Gl(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(O){Lt(c,c.return,O)}}m&64&&fj(c),m&512&&bf(c,c.return);break;case 3:if(ws(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{nT(a,o)}catch(O){Lt(c,c.return,O)}}break;case 27:o===null&&m&4&&gj(c);case 26:case 5:ws(a,c),o===null&&m&4&&mj(c),m&512&&bf(c,c.return);break;case 12:ws(a,c);break;case 31:ws(a,c),m&4&&wj(a,c);break;case 13:ws(a,c),m&4&&_j(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=DV.bind(null,c),n8(a,c))));break;case 22:if(m=c.memoizedState!==null||bs,!m){o=o!==null&&o.memoizedState!==null||Dn,y=bs;var w=Dn;bs=m,(Dn=o)&&!w?_s(a,c,(c.subtreeFlags&8772)!==0):ws(a,c),bs=y,Dn=w}break;case 30:break;default:ws(a,c)}}function bj(a){var o=a.alternate;o!==null&&(a.alternate=null,bj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Xi(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var hn=null,Yr=!1;function xs(a,o,c){for(c=c.child;c!==null;)xj(a,o,c),c=c.sibling}function xj(a,o,c){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(cr,c)}catch{}switch(c.tag){case 26:Dn||Ma(c,o),xs(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Dn||Ma(c,o);var m=hn,y=Yr;zo(c.type)&&(hn=c.stateNode,Yr=!1),xs(a,o,c),Nf(c.stateNode),hn=m,Yr=y;break;case 5:Dn||Ma(c,o);case 6:if(m=hn,y=Yr,hn=null,xs(a,o,c),hn=m,Yr=y,hn!==null)if(Yr)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(c.stateNode)}catch(w){Lt(c,o,w)}else try{hn.removeChild(c.stateNode)}catch(w){Lt(c,o,w)}break;case 18:hn!==null&&(Yr?(a=hn,fN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),bu(a)):fN(hn,c.stateNode));break;case 4:m=hn,y=Yr,hn=c.stateNode.containerInfo,Yr=!0,xs(a,o,c),hn=m,Yr=y;break;case 0:case 11:case 14:case 15:Po(2,c,o),Dn||Po(4,c,o),xs(a,o,c);break;case 1:Dn||(Ma(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&hj(c,o,m)),xs(a,o,c);break;case 21:xs(a,o,c);break;case 22:Dn=(m=Dn)||c.memoizedState!==null,xs(a,o,c),Dn=m;break;default:xs(a,o,c)}}function wj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{bu(a)}catch(c){Lt(o,o.return,c)}}}function _j(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{bu(a)}catch(c){Lt(o,o.return,c)}}function NV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new vj),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new vj),o;default:throw Error(r(435,a.tag))}}function Tp(a,o){var c=NV(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var y=LV.bind(null,a,m);m.then(y,y)}})}function Wr(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],w=a,O=o,q=O;e:for(;q!==null;){switch(q.tag){case 27:if(zo(q.type)){hn=q.stateNode,Yr=!1;break e}break;case 5:hn=q.stateNode,Yr=!1;break e;case 3:case 4:hn=q.stateNode.containerInfo,Yr=!0;break e}q=q.return}if(hn===null)throw Error(r(160));xj(w,O,y),hn=null,Yr=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Sj(o,a),o=o.sibling}var ra=null;function Sj(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Wr(o,a),Xr(a),m&4&&(Po(3,a,a.return),yf(3,a),Po(5,a,a.return));break;case 1:Wr(o,a),Xr(a),m&512&&(Dn||c===null||Ma(c,c.return)),m&64&&bs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=ra;if(Wr(o,a),Xr(a),m&512&&(Dn||c===null||Ma(c,c.return)),m&4){var w=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[wn]||w[dn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),pr(w,m,c),w[dn]=a,Pn(w),m=w;break e;case"link":var O=SN("link","href",y).get(m+(c.href||""));if(O){for(var q=0;q<O.length;q++)if(w=O[q],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(q,1);break t}}w=y.createElement(m),pr(w,m,c),y.head.appendChild(w);break;case"meta":if(O=SN("meta","content",y).get(m+(c.content||""))){for(q=0;q<O.length;q++)if(w=O[q],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(q,1);break t}}w=y.createElement(m),pr(w,m,c),y.head.appendChild(w);break;default:throw Error(r(468,m))}w[dn]=a,Pn(w),m=w}a.stateNode=m}else EN(y,a.type,a.stateNode);else a.stateNode=_N(y,m,a.memoizedProps);else w!==m?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,m===null?EN(y,a.type,a.stateNode):_N(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Rb(a,a.memoizedProps,c.memoizedProps)}break;case 27:Wr(o,a),Xr(a),m&512&&(Dn||c===null||Ma(c,c.return)),c!==null&&m&4&&Rb(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Wr(o,a),Xr(a),m&512&&(Dn||c===null||Ma(c,c.return)),a.flags&32){y=a.stateNode;try{Gr(y,"")}catch(qe){Lt(a,a.return,qe)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Rb(a,y,c!==null?c.memoizedProps:y)),m&1024&&(Db=!0);break;case 6:if(Wr(o,a),Xr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(qe){Lt(a,a.return,qe)}}break;case 3:if(Bp=null,y=ra,ra=$p(o.containerInfo),Wr(o,a),ra=y,Xr(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{bu(o.containerInfo)}catch(qe){Lt(a,a.return,qe)}Db&&(Db=!1,Ej(a));break;case 4:m=ra,ra=$p(a.stateNode.containerInfo),Wr(o,a),Xr(a),ra=m;break;case 12:Wr(o,a),Xr(a);break;case 31:Wr(o,a),Xr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Tp(a,m)));break;case 13:Wr(o,a),Xr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Np=Oe()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Tp(a,m)));break;case 22:y=a.memoizedState!==null;var W=c!==null&&c.memoizedState!==null,me=bs,xe=Dn;if(bs=me||y,Dn=xe||W,Wr(o,a),Dn=xe,bs=me,Xr(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||W||bs||Dn||Yl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){W=c=o;try{if(w=W.stateNode,y)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{q=W.stateNode;var Se=W.memoizedProps.style,ge=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;q.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(qe){Lt(W,W.return,qe)}}}else if(o.tag===6){if(c===null){W=o;try{W.stateNode.nodeValue=y?"":W.memoizedProps}catch(qe){Lt(W,W.return,qe)}}}else if(o.tag===18){if(c===null){W=o;try{var ye=W.stateNode;y?hN(ye,!0):hN(W.stateNode,!1)}catch(qe){Lt(W,W.return,qe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Tp(a,c))));break;case 19:Wr(o,a),Xr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Tp(a,m)));break;case 30:break;case 21:break;default:Wr(o,a),Xr(a)}}function Xr(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(pj(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,w=kb(a);Ap(a,w,y);break;case 5:var O=c.stateNode;c.flags&32&&(Gr(O,""),c.flags&=-33);var q=kb(a);Ap(a,q,O);break;case 3:case 4:var W=c.stateNode.containerInfo,me=kb(a);Mb(a,me,W);break;default:throw Error(r(161))}}catch(xe){Lt(a,a.return,xe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Ej(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Ej(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ws(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)yj(a,o.alternate,o),o=o.sibling}function Yl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Po(4,o,o.return),Yl(o);break;case 1:Ma(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&hj(o,o.return,c),Yl(o);break;case 27:Nf(o.stateNode);case 26:case 5:Ma(o,o.return),Yl(o);break;case 22:o.memoizedState===null&&Yl(o);break;case 30:Yl(o);break;default:Yl(o)}a=a.sibling}}function _s(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,w=o,O=w.flags;switch(w.tag){case 0:case 11:case 15:_s(y,w,c),yf(4,w);break;case 1:if(_s(y,w,c),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(me){Lt(m,m.return,me)}if(m=w,y=m.updateQueue,y!==null){var q=m.stateNode;try{var W=y.shared.hiddenCallbacks;if(W!==null)for(y.shared.hiddenCallbacks=null,y=0;y<W.length;y++)tT(W[y],q)}catch(me){Lt(m,m.return,me)}}c&&O&64&&fj(w),bf(w,w.return);break;case 27:gj(w);case 26:case 5:_s(y,w,c),c&&m===null&&O&4&&mj(w),bf(w,w.return);break;case 12:_s(y,w,c);break;case 31:_s(y,w,c),c&&O&4&&wj(y,w);break;case 13:_s(y,w,c),c&&O&4&&_j(y,w);break;case 22:w.memoizedState===null&&_s(y,w,c),bf(w,w.return);break;case 30:break;default:_s(y,w,c)}o=o.sibling}}function Lb(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&af(c))}function zb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&af(a))}function ia(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Aj(a,o,c,m),o=o.sibling}function Aj(a,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ia(a,o,c,m),y&2048&&yf(9,o);break;case 1:ia(a,o,c,m);break;case 3:ia(a,o,c,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&af(a)));break;case 12:if(y&2048){ia(a,o,c,m),a=o.stateNode;try{var w=o.memoizedProps,O=w.id,q=w.onPostCommit;typeof q=="function"&&q(O,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){Lt(o,o.return,W)}}else ia(a,o,c,m);break;case 31:ia(a,o,c,m);break;case 13:ia(a,o,c,m);break;case 23:break;case 22:w=o.stateNode,O=o.alternate,o.memoizedState!==null?w._visibility&2?ia(a,o,c,m):xf(a,o):w._visibility&2?ia(a,o,c,m):(w._visibility|=2,lu(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Lb(O,o);break;case 24:ia(a,o,c,m),y&2048&&zb(o.alternate,o);break;default:ia(a,o,c,m)}}function lu(a,o,c,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,O=o,q=c,W=m,me=O.flags;switch(O.tag){case 0:case 11:case 15:lu(w,O,q,W,y),yf(8,O);break;case 23:break;case 22:var xe=O.stateNode;O.memoizedState!==null?xe._visibility&2?lu(w,O,q,W,y):xf(w,O):(xe._visibility|=2,lu(w,O,q,W,y)),y&&me&2048&&Lb(O.alternate,O);break;case 24:lu(w,O,q,W,y),y&&me&2048&&zb(O.alternate,O);break;default:lu(w,O,q,W,y)}o=o.sibling}}function xf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,y=m.flags;switch(m.tag){case 22:xf(c,m),y&2048&&Lb(m.alternate,m);break;case 24:xf(c,m),y&2048&&zb(m.alternate,m);break;default:xf(c,m)}o=o.sibling}}var wf=8192;function cu(a,o,c){if(a.subtreeFlags&wf)for(a=a.child;a!==null;)Tj(a,o,c),a=a.sibling}function Tj(a,o,c){switch(a.tag){case 26:cu(a,o,c),a.flags&wf&&a.memoizedState!==null&&m8(c,ra,a.memoizedState,a.memoizedProps);break;case 5:cu(a,o,c);break;case 3:case 4:var m=ra;ra=$p(a.stateNode.containerInfo),cu(a,o,c),ra=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=wf,wf=16777216,cu(a,o,c),wf=m):cu(a,o,c));break;default:cu(a,o,c)}}function jj(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function _f(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];tr=m,Cj(m,a)}jj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Nj(a),a=a.sibling}function Nj(a){switch(a.tag){case 0:case 11:case 15:_f(a),a.flags&2048&&Po(9,a,a.return);break;case 3:_f(a);break;case 12:_f(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,jp(a)):_f(a);break;default:_f(a)}}function jp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];tr=m,Cj(m,a)}jj(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Po(8,o,o.return),jp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,jp(o));break;default:jp(o)}a=a.sibling}}function Cj(a,o){for(;tr!==null;){var c=tr;switch(c.tag){case 0:case 11:case 15:Po(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:af(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,tr=m;else e:for(c=a;tr!==null;){m=tr;var y=m.sibling,w=m.return;if(bj(m),m===c){tr=null;break e}if(y!==null){y.return=w,tr=y;break e}tr=w}}}var CV={getCacheForType:function(a){var o=hr(Rn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return hr(Rn).controller.signal}},OV=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Gt=null,ft=null,mt=0,Dt=0,pi=null,Io=!1,uu=!1,Vb=!1,Ss=0,Sn=0,Ro=0,Wl=0,$b=0,gi=0,du=0,Sf=null,Qr=null,Ub=!1,Np=0,Oj=0,Cp=1/0,Op=null,ko=null,qn=0,Mo=null,fu=null,Es=0,Bb=0,qb=null,Pj=null,Ef=0,Fb=null;function vi(){return(Ot&2)!==0&&mt!==0?mt&-mt:G.T!==null?Xb():it()}function Ij(){if(gi===0)if((mt&536870912)===0||bt){var a=li;li<<=1,(li&3932160)===0&&(li=262144),gi=a}else gi=536870912;return a=hi.current,a!==null&&(a.flags|=32),gi}function Jr(a,o,c){(a===Gt&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)&&(hu(a,0),Do(a,mt,gi,!1)),Wi(a,c),((Ot&2)===0||a!==Gt)&&(a===Gt&&((Ot&2)===0&&(Wl|=c),Sn===4&&Do(a,mt,gi,!1)),Da(a))}function Rj(a,o,c){if((Ot&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Dr(a,o),y=m?RV(a,o):Kb(a,o,!0),w=m;do{if(y===0){uu&&!m&&Do(a,o,0,!1);break}else{if(c=a.current.alternate,w&&!PV(c)){y=Kb(a,o,!1),w=!1;continue}if(y===2){if(w=o,a.errorRecoveryDisabledLanes&w)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var q=a;y=Sf;var W=q.current.memoizedState.isDehydrated;if(W&&(hu(q,O).flags|=256),O=Kb(q,O,!1),O!==2){if(Vb&&!W){q.errorRecoveryDisabledLanes|=w,Wl|=w,y=4;break e}w=Qr,Qr=y,w!==null&&(Qr===null?Qr=w:Qr.push.apply(Qr,w))}y=O}if(w=!1,y!==2)continue}}if(y===1){hu(a,0),Do(a,o,0,!0);break}e:{switch(m=a,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Do(m,o,gi,!Io);break e;case 2:Qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Np+300-Oe(),10<y)){if(Do(m,o,gi,!Io),Fr(m,0,!0)!==0)break e;Es=o,m.timeoutHandle=uN(kj.bind(null,m,c,Qr,Op,Ub,o,gi,Wl,du,Io,w,"Throttled",-0,0),y);break e}kj(m,c,Qr,Op,Ub,o,gi,Wl,du,Io,w,null,-0,0)}}break}while(!0);Da(a)}function kj(a,o,c,m,y,w,O,q,W,me,xe,Se,ge,ye){if(a.timeoutHandle=-1,Se=o.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},Tj(o,w,Se);var qe=(w&62914560)===w?Np-Oe():(w&4194048)===w?Oj-Oe():0;if(qe=p8(Se,qe),qe!==null){Es=w,a.cancelPendingCommit=qe(Bj.bind(null,a,o,w,c,m,y,O,q,W,xe,Se,null,ge,ye)),Do(a,w,O,!me);return}}Bj(a,o,w,c,m,y,O,q,W)}function PV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],w=y.getSnapshot;y=y.value;try{if(!di(w(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Do(a,o,c,m){o&=~$b,o&=~Wl,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var w=31-Zt(y),O=1<<w;m[w]=-1,y&=~O}c!==0&&Te(a,c,o)}function Pp(){return(Ot&6)===0?(Af(0),!1):!0}function Hb(){if(ft!==null){if(Dt===0)var a=ft.return;else a=ft,hs=$l=null,ob(a),ru=null,of=0,a=ft;for(;a!==null;)dj(a.alternate,a),a=a.return;ft=null}}function hu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,QV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Es=0,Hb(),Gt=a,ft=c=ds(a.current,null),mt=o,Dt=0,pi=null,Io=!1,uu=Dr(a,o),Vb=!1,du=gi=$b=Wl=Ro=Sn=0,Qr=Sf=null,Ub=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-Zt(m),w=1<<y;o|=a[y],m&=~w}return Ss=o,Jm(),c}function Mj(a,o){st=null,G.H=pf,o===nu||o===sp?(o=Q2(),Dt=3):o===Wy?(o=Q2(),Dt=4):Dt=o===Sb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,pi=o,ft===null&&(Sn=1,xp(a,Pi(o,a.current)))}function Dj(){var a=hi.current;return a===null?!0:(mt&4194048)===mt?Mi===null:(mt&62914560)===mt||(mt&536870912)!==0?a===Mi:!1}function Lj(){var a=G.H;return G.H=pf,a===null?pf:a}function zj(){var a=G.A;return G.A=CV,a}function Ip(){Sn=4,Io||(mt&4194048)!==mt&&hi.current!==null||(uu=!0),(Ro&134217727)===0&&(Wl&134217727)===0||Gt===null||Do(Gt,mt,gi,!1)}function Kb(a,o,c){var m=Ot;Ot|=2;var y=Lj(),w=zj();(Gt!==a||mt!==o)&&(Op=null,hu(a,o)),o=!1;var O=Sn;e:do try{if(Dt!==0&&ft!==null){var q=ft,W=pi;switch(Dt){case 8:Hb(),O=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(o=!0);var me=Dt;if(Dt=0,pi=null,mu(a,q,W,me),c&&uu){O=0;break e}break;default:me=Dt,Dt=0,pi=null,mu(a,q,W,me)}}IV(),O=Sn;break}catch(xe){Mj(a,xe)}while(!0);return o&&a.shellSuspendCounter++,hs=$l=null,Ot=m,G.H=y,G.A=w,ft===null&&(Gt=null,mt=0,Jm()),O}function IV(){for(;ft!==null;)Vj(ft)}function RV(a,o){var c=Ot;Ot|=2;var m=Lj(),y=zj();Gt!==a||mt!==o?(Op=null,Cp=Oe()+500,hu(a,o)):uu=Dr(a,o);e:do try{if(Dt!==0&&ft!==null){o=ft;var w=pi;t:switch(Dt){case 1:Dt=0,pi=null,mu(a,o,w,1);break;case 2:case 9:if(W2(w)){Dt=0,pi=null,$j(o);break}o=function(){Dt!==2&&Dt!==9||Gt!==a||(Dt=7),Da(a)},w.then(o,o);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:W2(w)?(Dt=0,pi=null,$j(o)):(Dt=0,pi=null,mu(a,o,w,7));break;case 5:var O=null;switch(ft.tag){case 26:O=ft.memoizedState;case 5:case 27:var q=ft;if(O?AN(O):q.stateNode.complete){Dt=0,pi=null;var W=q.sibling;if(W!==null)ft=W;else{var me=q.return;me!==null?(ft=me,Rp(me)):ft=null}break t}}Dt=0,pi=null,mu(a,o,w,5);break;case 6:Dt=0,pi=null,mu(a,o,w,6);break;case 8:Hb(),Sn=6;break e;default:throw Error(r(462))}}kV();break}catch(xe){Mj(a,xe)}while(!0);return hs=$l=null,G.H=m,G.A=y,Ot=c,ft!==null?0:(Gt=null,mt=0,Jm(),Sn)}function kV(){for(;ft!==null&&!Pe();)Vj(ft)}function Vj(a){var o=cj(a.alternate,a,Ss);a.memoizedProps=a.pendingProps,o===null?Rp(a):ft=o}function $j(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=rj(c,o,o.pendingProps,o.type,void 0,mt);break;case 11:o=rj(c,o,o.pendingProps,o.type.render,o.ref,mt);break;case 5:ob(o);default:dj(c,o),o=ft=z2(o,Ss),o=cj(c,o,Ss)}a.memoizedProps=a.pendingProps,o===null?Rp(a):ft=o}function mu(a,o,c,m){hs=$l=null,ob(o),ru=null,of=0;var y=o.return;try{if(_V(a,y,o,c,mt)){Sn=1,xp(a,Pi(c,a.current)),ft=null;return}}catch(w){if(y!==null)throw ft=y,w;Sn=1,xp(a,Pi(c,a.current)),ft=null;return}o.flags&32768?(bt||m===1?a=!0:uu||(mt&536870912)!==0?a=!1:(Io=a=!0,(m===2||m===9||m===3||m===6)&&(m=hi.current,m!==null&&m.tag===13&&(m.flags|=16384))),Uj(o,a)):Rp(o)}function Rp(a){var o=a;do{if((o.flags&32768)!==0){Uj(o,Io);return}a=o.return;var c=AV(o.alternate,o,Ss);if(c!==null){ft=c;return}if(o=o.sibling,o!==null){ft=o;return}ft=o=a}while(o!==null);Sn===0&&(Sn=5)}function Uj(a,o){do{var c=TV(a.alternate,a);if(c!==null){c.flags&=32767,ft=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){ft=a;return}ft=a=c}while(a!==null);Sn=6,ft=null}function Bj(a,o,c,m,y,w,O,q,W){a.cancelPendingCommit=null;do kp();while(qn!==0);if((Ot&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=ky,Al(a,c,w,O,q,W),a===Gt&&(ft=Gt=null,mt=0),fu=o,Mo=a,Es=c,Bb=w,qb=y,Pj=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,zV($t,function(){return Gj(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,y=ee.p,ee.p=2,O=Ot,Ot|=4;try{jV(a,o,c)}finally{Ot=O,ee.p=y,G.T=m}}qn=1,qj(),Fj(),Hj()}}function qj(){if(qn===1){qn=0;var a=Mo,o=fu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var m=ee.p;ee.p=2;var y=Ot;Ot|=4;try{Sj(o,a);var w=ix,O=C2(a.containerInfo),q=w.focusedElem,W=w.selectionRange;if(O!==q&&q&&q.ownerDocument&&N2(q.ownerDocument.documentElement,q)){if(W!==null&&Cy(q)){var me=W.start,xe=W.end;if(xe===void 0&&(xe=me),"selectionStart"in q)q.selectionStart=me,q.selectionEnd=Math.min(xe,q.value.length);else{var Se=q.ownerDocument||document,ge=Se&&Se.defaultView||window;if(ge.getSelection){var ye=ge.getSelection(),qe=q.textContent.length,Xe=Math.min(W.start,qe),Ft=W.end===void 0?Xe:Math.min(W.end,qe);!ye.extend&&Xe>Ft&&(O=Ft,Ft=Xe,Xe=O);var ae=j2(q,Xe),te=j2(q,Ft);if(ae&&te&&(ye.rangeCount!==1||ye.anchorNode!==ae.node||ye.anchorOffset!==ae.offset||ye.focusNode!==te.node||ye.focusOffset!==te.offset)){var he=Se.createRange();he.setStart(ae.node,ae.offset),ye.removeAllRanges(),Xe>Ft?(ye.addRange(he),ye.extend(te.node,te.offset)):(he.setEnd(te.node,te.offset),ye.addRange(he))}}}}for(Se=[],ye=q;ye=ye.parentNode;)ye.nodeType===1&&Se.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Se.length;q++){var _e=Se[q];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Kp=!!rx,ix=rx=null}finally{Ot=y,ee.p=m,G.T=c}}a.current=o,qn=2}}function Fj(){if(qn===2){qn=0;var a=Mo,o=fu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var m=ee.p;ee.p=2;var y=Ot;Ot|=4;try{yj(a,o.alternate,o)}finally{Ot=y,ee.p=m,G.T=c}}qn=3}}function Hj(){if(qn===4||qn===3){qn=0,xt();var a=Mo,o=fu,c=Es,m=Pj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?qn=5:(qn=0,fu=Mo=null,Kj(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(ko=null),ke(c),o=o.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(cr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,y=ee.p,ee.p=2,G.T=null;try{for(var w=a.onRecoverableError,O=0;O<m.length;O++){var q=m[O];w(q.value,{componentStack:q.stack})}}finally{G.T=o,ee.p=y}}(Es&3)!==0&&kp(),Da(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Fb?Ef++:(Ef=0,Fb=a):Ef=0,Af(0)}}function Kj(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,af(o)))}function kp(){return qj(),Fj(),Hj(),Gj()}function Gj(){if(qn!==5)return!1;var a=Mo,o=Bb;Bb=0;var c=ke(Es),m=G.T,y=ee.p;try{ee.p=32>c?32:c,G.T=null,c=qb,qb=null;var w=Mo,O=Es;if(qn=0,fu=Mo=null,Es=0,(Ot&6)!==0)throw Error(r(331));var q=Ot;if(Ot|=4,Nj(w.current),Aj(w,w.current,O,c),Ot=q,Af(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(cr,w)}catch{}return!0}finally{ee.p=y,G.T=m,Kj(a,o)}}function Yj(a,o,c){o=Pi(c,o),o=_b(a.stateNode,o,2),a=No(a,o,2),a!==null&&(Wi(a,2),Da(a))}function Lt(a,o,c){if(a.tag===3)Yj(a,a,c);else for(;o!==null;){if(o.tag===3){Yj(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ko===null||!ko.has(m))){a=Pi(c,a),c=WT(2),m=No(o,c,2),m!==null&&(XT(c,m,o,a),Wi(m,2),Da(m));break}}o=o.return}}function Gb(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new OV;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(Vb=!0,y.add(c),a=MV.bind(null,a,o,c),o.then(a,a))}function MV(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Gt===a&&(mt&c)===c&&(Sn===4||Sn===3&&(mt&62914560)===mt&&300>Oe()-Np?(Ot&2)===0&&hu(a,0):$b|=c,du===mt&&(du=0)),Da(a)}function Wj(a,o){o===0&&(o=os()),a=Ll(a,o),a!==null&&(Wi(a,o),Da(a))}function DV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),Wj(a,c)}function LV(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),Wj(a,c)}function zV(a,o){return tt(a,o)}var Mp=null,pu=null,Yb=!1,Dp=!1,Wb=!1,Lo=0;function Da(a){a!==pu&&a.next===null&&(pu===null?Mp=pu=a:pu=pu.next=a),Dp=!0,Yb||(Yb=!0,$V())}function Af(a,o){if(!Wb&&Dp){Wb=!0;do for(var c=!1,m=Mp;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var O=m.suspendedLanes,q=m.pingedLanes;w=(1<<31-Zt(42|a)+1)-1,w&=y&~(O&~q),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Zj(m,w))}else w=mt,w=Fr(m,m===Gt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Dr(m,w)||(c=!0,Zj(m,w));m=m.next}while(c);Wb=!1}}function VV(){Xj()}function Xj(){Dp=Yb=!1;var a=0;Lo!==0&&XV()&&(a=Lo);for(var o=Oe(),c=null,m=Mp;m!==null;){var y=m.next,w=Qj(m,o);w===0?(m.next=null,c===null?Mp=y:c.next=y,y===null&&(pu=c)):(c=m,(a!==0||(w&3)!==0)&&(Dp=!0)),m=y}qn!==0&&qn!==5||Af(a),Lo!==0&&(Lo=0)}function Qj(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var O=31-Zt(w),q=1<<O,W=y[O];W===-1?((q&c)===0||(q&m)!==0)&&(y[O]=El(q,o)):W<=o&&(a.expiredLanes|=q),w&=~q}if(o=Gt,c=mt,c=Fr(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ge(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Dr(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&Ge(m),ke(c)){case 2:case 8:c=Fe;break;case 32:c=$t;break;case 268435456:c=ba;break;default:c=$t}return m=Jj.bind(null,a),c=tt(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&Ge(m),a.callbackPriority=2,a.callbackNode=null,2}function Jj(a,o){if(qn!==0&&qn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(kp()&&a.callbackNode!==c)return null;var m=mt;return m=Fr(a,a===Gt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Rj(a,m,o),Qj(a,Oe()),a.callbackNode!=null&&a.callbackNode===c?Jj.bind(null,a):null)}function Zj(a,o){if(kp())return null;Rj(a,o,!0)}function $V(){JV(function(){(Ot&6)!==0?tt(Ke,VV):Xj()})}function Xb(){if(Lo===0){var a=eu;a===0&&(a=Mr,Mr<<=1,(Mr&261888)===0&&(Mr=256)),Lo=a}return Lo}function eN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Vc(""+a)}function tN(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function UV(a,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var w=eN((y[kt]||null).action),O=m.submitter;O&&(o=(o=O[kt]||null)?eN(o.formAction):O.getAttribute("formAction"),o!==null&&(w=o,O=null));var q=new Ca("action","action",null,m,y);a.push({event:q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Lo!==0){var W=O?tN(y,O):new FormData(y);gb(c,{pending:!0,data:W,method:y.method,action:w},null,W)}}else typeof w=="function"&&(q.preventDefault(),W=O?tN(y,O):new FormData(y),gb(c,{pending:!0,data:W,method:y.method,action:w},w,W))},currentTarget:y}]})}}for(var Qb=0;Qb<Ry.length;Qb++){var Jb=Ry[Qb],BV=Jb.toLowerCase(),qV=Jb[0].toUpperCase()+Jb.slice(1);na(BV,"on"+qV)}na(I2,"onAnimationEnd"),na(R2,"onAnimationIteration"),na(k2,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(aV,"onTransitionRun"),na(sV,"onTransitionStart"),na(oV,"onTransitionCancel"),na(M2,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tf));function nN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var O=m.length-1;0<=O;O--){var q=m[O],W=q.instance,me=q.currentTarget;if(q=q.listener,W!==w&&y.isPropagationStopped())break e;w=q,y.currentTarget=me;try{w(y)}catch(xe){Qm(xe)}y.currentTarget=null,w=W}else for(O=0;O<m.length;O++){if(q=m[O],W=q.instance,me=q.currentTarget,q=q.listener,W!==w&&y.isPropagationStopped())break e;w=q,y.currentTarget=me;try{w(y)}catch(xe){Qm(xe)}y.currentTarget=null,w=W}}}}function ht(a,o){var c=o[fo];c===void 0&&(c=o[fo]=new Set);var m=a+"__bubble";c.has(m)||(rN(o,a,2,!1),c.add(m))}function Zb(a,o,c){var m=0;o&&(m|=4),rN(c,a,m,o)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function ex(a){if(!a[Lp]){a[Lp]=!0,Ld.forEach(function(c){c!=="selectionchange"&&(FV.has(c)||Zb(c,!1,a),Zb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Lp]||(o[Lp]=!0,Zb("selectionchange",!1,o))}}function rN(a,o,c,m){switch(IN(o)){case 2:var y=y8;break;case 8:y=b8;break;default:y=px}c=y.bind(null,o,c,a),y=void 0,!Cl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function tx(a,o,c,m,y){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var q=m.stateNode.containerInfo;if(q===y)break;if(O===4)for(O=m.return;O!==null;){var W=O.tag;if((W===3||W===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;q!==null;){if(O=_a(q),O===null)return;if(W=O.tag,W===5||W===6||W===26||W===27){m=w=O;continue e}q=q.parentNode}}m=m.return}yo(function(){var me=w,xe=ji(c),Se=[];e:{var ge=D2.get(a);if(ge!==void 0){var ye=Ca,qe=a;switch(a){case"keypress":if(Pl(c)===0)break e;case"keydown":case"keyup":ye=Ym;break;case"focusin":qe="focus",ye=Rl;break;case"focusout":qe="blur",ye=Rl;break;case"beforeblur":case"afterblur":ye=Rl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=T;break;case I2:case R2:case k2:ye=Um;break;case M2:ye=F;break;case"scroll":case"scrollend":ye=Wd;break;case"wheel":ye=ve;break;case"copy":case"cut":case"paste":ye=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=us;break;case"toggle":case"beforetoggle":ye=at}var Xe=(o&4)!==0,Ft=!Xe&&(a==="scroll"||a==="scrollend"),ae=Xe?ge!==null?ge+"Capture":null:ge;Xe=[];for(var te=me,he;te!==null;){var _e=te;if(he=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||he===null||ae===null||(_e=Ji(te,ae),_e!=null&&Xe.push(jf(te,_e,he))),Ft)break;te=te.return}0<Xe.length&&(ge=new ye(ge,qe,null,c,xe),Se.push({event:ge,listeners:Xe}))}}if((o&7)===0){e:{if(ge=a==="mouseover"||a==="pointerover",ye=a==="mouseout"||a==="pointerout",ge&&c!==Kd&&(qe=c.relatedTarget||c.fromElement)&&(_a(qe)||qe[Ai]))break e;if((ye||ge)&&(ge=xe.window===xe?xe:(ge=xe.ownerDocument)?ge.defaultView||ge.parentWindow:window,ye?(qe=c.relatedTarget||c.toElement,ye=me,qe=qe?_a(qe):null,qe!==null&&(Ft=s(qe),Xe=qe.tag,qe!==Ft||Xe!==5&&Xe!==27&&Xe!==6)&&(qe=null)):(ye=null,qe=me),ye!==qe)){if(Xe=Xd,_e="onMouseLeave",ae="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(Xe=us,_e="onPointerLeave",ae="onPointerEnter",te="pointer"),Ft=ye==null?ge:ci(ye),he=qe==null?ge:ci(qe),ge=new Xe(_e,te+"leave",ye,c,xe),ge.target=Ft,ge.relatedTarget=he,_e=null,_a(xe)===me&&(Xe=new Xe(ae,te+"enter",qe,c,xe),Xe.target=he,Xe.relatedTarget=Ft,_e=Xe),Ft=_e,ye&&qe)t:{for(Xe=HV,ae=ye,te=qe,he=0,_e=ae;_e;_e=Xe(_e))he++;_e=0;for(var Ye=te;Ye;Ye=Xe(Ye))_e++;for(;0<he-_e;)ae=Xe(ae),he--;for(;0<_e-he;)te=Xe(te),_e--;for(;he--;){if(ae===te||te!==null&&ae===te.alternate){Xe=ae;break t}ae=Xe(ae),te=Xe(te)}Xe=null}else Xe=null;ye!==null&&iN(Se,ge,ye,Xe,!1),qe!==null&&Ft!==null&&iN(Se,Ft,qe,Xe,!0)}}e:{if(ge=me?ci(me):window,ye=ge.nodeName&&ge.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ge.type==="file")var At=w2;else if(b2(ge))if(_2)At=nV;else{At=eV;var He=Z9}else ye=ge.nodeName,!ye||ye.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?me&&zc(me.elementType)&&(At=w2):At=tV;if(At&&(At=At(a,me))){x2(Se,At,c,xe);break e}He&&He(a,ge,me),a==="focusout"&&me&&ge.type==="number"&&me.memoizedProps.value!=null&&qd(ge,"number",ge.value)}switch(He=me?ci(me):window,a){case"focusin":(b2(He)||He.contentEditable==="true")&&(Kc=He,Oy=me,tf=null);break;case"focusout":tf=Oy=Kc=null;break;case"mousedown":Py=!0;break;case"contextmenu":case"mouseup":case"dragend":Py=!1,O2(Se,c,xe);break;case"selectionchange":if(iV)break;case"keydown":case"keyup":O2(Se,c,xe)}var ot;if(Ct)e:{switch(a){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Hc?kl(a,c)&&(pt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(pt="onCompositionStart");pt&&(Ia&&c.locale!=="ko"&&(Hc||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Hc&&(ot=Yd()):(Na=xe,Gd="value"in Na?Na.value:Na.textContent,Hc=!0)),He=zp(me,pt),0<He.length&&(pt=new Pa(pt,a,null,c,xe),Se.push({event:pt,listeners:He}),ot?pt.data=ot:(ot=Fc(c),ot!==null&&(pt.data=ot)))),(ot=Ci?W9(a,c):X9(a,c))&&(pt=zp(me,"onBeforeInput"),0<pt.length&&(He=new Pa("onBeforeInput","beforeinput",null,c,xe),Se.push({event:He,listeners:pt}),He.data=ot)),UV(Se,a,me,c,xe)}nN(Se,o)})}function jf(a,o,c){return{instance:a,listener:o,currentTarget:c}}function zp(a,o){for(var c=o+"Capture",m=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Ji(a,c),y!=null&&m.unshift(jf(a,y,w)),y=Ji(a,o),y!=null&&m.push(jf(a,y,w))),a.tag===3)return m;a=a.return}return[]}function HV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function iN(a,o,c,m,y){for(var w=o._reactName,O=[];c!==null&&c!==m;){var q=c,W=q.alternate,me=q.stateNode;if(q=q.tag,W!==null&&W===m)break;q!==5&&q!==26&&q!==27||me===null||(W=me,y?(me=Ji(c,w),me!=null&&O.unshift(jf(c,me,W))):y||(me=Ji(c,w),me!=null&&O.push(jf(c,me,W)))),c=c.return}O.length!==0&&a.push({event:o,listeners:O})}var KV=/\r\n?/g,GV=/\u0000|\uFFFD/g;function aN(a){return(typeof a=="string"?a:""+a).replace(KV,`
`).replace(GV,"")}function sN(a,o){return o=aN(o),aN(a)===o}function qt(a,o,c,m,y,w){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Gr(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Gr(a,""+m);break;case"className":ui(a,"class",m);break;case"tabIndex":ui(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(a,c,m);break;case"style":Hd(a,m,w);break;case"data":if(o!=="object"){ui(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Vc(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&qt(a,o,"name",y.name,y,null),qt(a,o,"formEncType",y.formEncType,y,null),qt(a,o,"formMethod",y.formMethod,y,null),qt(a,o,"formTarget",y.formTarget,y,null)):(qt(a,o,"encType",y.encType,y,null),qt(a,o,"method",y.method,y,null),qt(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Vc(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Qi);break;case"onScroll":m!=null&&ht("scroll",a);break;case"onScrollEnd":m!=null&&ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Vc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":ht("beforetoggle",a),ht("toggle",a),Dc(a,"popover",m);break;case"xlinkActuate":In(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":In(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":In(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":In(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":In(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":In(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":In(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":In(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":In(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Dc(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=zm.get(c)||c,Dc(a,c,m))}}function nx(a,o,c,m,y,w){switch(c){case"style":Hd(a,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?Gr(a,m):(typeof m=="number"||typeof m=="bigint")&&Gr(a,""+m);break;case"onScroll":m!=null&&ht("scroll",a);break;case"onScrollEnd":m!=null&&ht("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),w=a[kt]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(o,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Dc(a,c,m)}}}function pr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",a),ht("load",a);var m=!1,y=!1,w;for(w in c)if(c.hasOwnProperty(w)){var O=c[w];if(O!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:qt(a,o,w,O,c,null)}}y&&qt(a,o,"srcSet",c.srcSet,c,null),m&&qt(a,o,"src",c.src,c,null);return;case"input":ht("invalid",a);var q=w=O=y=null,W=null,me=null;for(m in c)if(c.hasOwnProperty(m)){var xe=c[m];if(xe!=null)switch(m){case"name":y=xe;break;case"type":O=xe;break;case"checked":W=xe;break;case"defaultChecked":me=xe;break;case"value":w=xe;break;case"defaultValue":q=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,o));break;default:qt(a,o,m,xe,c,null)}}Mm(a,w,q,W,me,O,y,!1);return;case"select":ht("invalid",a),m=O=w=null;for(y in c)if(c.hasOwnProperty(y)&&(q=c[y],q!=null))switch(y){case"value":w=q;break;case"defaultValue":O=q;break;case"multiple":m=q;default:qt(a,o,y,q,c,null)}o=w,c=O,a.multiple=!!m,o!=null?mo(a,!!m,o,!1):c!=null&&mo(a,!!m,c,!0);return;case"textarea":ht("invalid",a),w=y=m=null;for(O in c)if(c.hasOwnProperty(O)&&(q=c[O],q!=null))switch(O){case"value":m=q;break;case"defaultValue":y=q;break;case"children":w=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:qt(a,o,O,q,c,null)}po(a,m,y,w);return;case"option":for(W in c)c.hasOwnProperty(W)&&(m=c[W],m!=null)&&(W==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":qt(a,o,W,m,c,null));return;case"dialog":ht("beforetoggle",a),ht("toggle",a),ht("cancel",a),ht("close",a);break;case"iframe":case"object":ht("load",a);break;case"video":case"audio":for(m=0;m<Tf.length;m++)ht(Tf[m],a);break;case"image":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"embed":case"source":case"link":ht("error",a),ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in c)if(c.hasOwnProperty(me)&&(m=c[me],m!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:qt(a,o,me,m,c,null)}return;default:if(zc(o)){for(xe in c)c.hasOwnProperty(xe)&&(m=c[xe],m!==void 0&&nx(a,o,xe,m,c,void 0));return}}for(q in c)c.hasOwnProperty(q)&&(m=c[q],m!=null&&qt(a,o,q,m,c,null))}function YV(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,O=null,q=null,W=null,me=null,xe=null;for(ye in c){var Se=c[ye];if(c.hasOwnProperty(ye)&&Se!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":W=Se;default:m.hasOwnProperty(ye)||qt(a,o,ye,null,m,Se)}}for(var ge in m){var ye=m[ge];if(Se=c[ge],m.hasOwnProperty(ge)&&(ye!=null||Se!=null))switch(ge){case"type":w=ye;break;case"name":y=ye;break;case"checked":me=ye;break;case"defaultChecked":xe=ye;break;case"value":O=ye;break;case"defaultValue":q=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:ye!==Se&&qt(a,o,ge,ye,m,Se)}}Lc(a,O,q,W,me,xe,w,y);return;case"select":ye=O=q=ge=null;for(w in c)if(W=c[w],c.hasOwnProperty(w)&&W!=null)switch(w){case"value":break;case"multiple":ye=W;default:m.hasOwnProperty(w)||qt(a,o,w,null,m,W)}for(y in m)if(w=m[y],W=c[y],m.hasOwnProperty(y)&&(w!=null||W!=null))switch(y){case"value":ge=w;break;case"defaultValue":q=w;break;case"multiple":O=w;default:w!==W&&qt(a,o,y,w,m,W)}o=q,c=O,m=ye,ge!=null?mo(a,!!c,ge,!1):!!m!=!!c&&(o!=null?mo(a,!!c,o,!0):mo(a,!!c,c?[]:"",!1));return;case"textarea":ye=ge=null;for(q in c)if(y=c[q],c.hasOwnProperty(q)&&y!=null&&!m.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:qt(a,o,q,null,m,y)}for(O in m)if(y=m[O],w=c[O],m.hasOwnProperty(O)&&(y!=null||w!=null))switch(O){case"value":ge=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&qt(a,o,O,y,m,w)}Dm(a,ge,ye);return;case"option":for(var qe in c)ge=c[qe],c.hasOwnProperty(qe)&&ge!=null&&!m.hasOwnProperty(qe)&&(qe==="selected"?a.selected=!1:qt(a,o,qe,null,m,ge));for(W in m)ge=m[W],ye=c[W],m.hasOwnProperty(W)&&ge!==ye&&(ge!=null||ye!=null)&&(W==="selected"?a.selected=ge&&typeof ge!="function"&&typeof ge!="symbol":qt(a,o,W,ge,m,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in c)ge=c[Xe],c.hasOwnProperty(Xe)&&ge!=null&&!m.hasOwnProperty(Xe)&&qt(a,o,Xe,null,m,ge);for(me in m)if(ge=m[me],ye=c[me],m.hasOwnProperty(me)&&ge!==ye&&(ge!=null||ye!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:qt(a,o,me,ge,m,ye)}return;default:if(zc(o)){for(var Ft in c)ge=c[Ft],c.hasOwnProperty(Ft)&&ge!==void 0&&!m.hasOwnProperty(Ft)&&nx(a,o,Ft,void 0,m,ge);for(xe in m)ge=m[xe],ye=c[xe],!m.hasOwnProperty(xe)||ge===ye||ge===void 0&&ye===void 0||nx(a,o,xe,ge,m,ye);return}}for(var ae in c)ge=c[ae],c.hasOwnProperty(ae)&&ge!=null&&!m.hasOwnProperty(ae)&&qt(a,o,ae,null,m,ge);for(Se in m)ge=m[Se],ye=c[Se],!m.hasOwnProperty(Se)||ge===ye||ge==null&&ye==null||qt(a,o,Se,ge,m,ye)}function oN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],w=y.transferSize,O=y.initiatorType,q=y.duration;if(w&&q&&oN(O)){for(O=0,q=y.responseEnd,m+=1;m<c.length;m++){var W=c[m],me=W.startTime;if(me>q)break;var xe=W.transferSize,Se=W.initiatorType;xe&&oN(Se)&&(W=W.responseEnd,O+=xe*(W<q?1:(q-me)/(W-me)))}if(--m,o+=8*(w+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var rx=null,ix=null;function Vp(a){return a.nodeType===9?a:a.ownerDocument}function lN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function ax(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var sx=null;function XV(){var a=window.event;return a&&a.type==="popstate"?a===sx?!1:(sx=a,!0):(sx=null,!1)}var uN=typeof setTimeout=="function"?setTimeout:void 0,QV=typeof clearTimeout=="function"?clearTimeout:void 0,dN=typeof Promise=="function"?Promise:void 0,JV=typeof queueMicrotask=="function"?queueMicrotask:typeof dN<"u"?function(a){return dN.resolve(null).then(a).catch(ZV)}:uN;function ZV(a){setTimeout(function(){throw a})}function zo(a){return a==="head"}function fN(a,o){var c=o,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),bu(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Nf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Nf(c);for(var w=c.firstChild;w;){var O=w.nextSibling,q=w.nodeName;w[wn]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=O}}else c==="body"&&Nf(a.ownerDocument.body);c=y}while(c);bu(o)}function hN(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function ox(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ox(c),Xi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function e8(a,o,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[wn])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Di(a.nextSibling),a===null)break}return null}function t8(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Di(a.nextSibling),a===null))return null;return a}function mN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Di(a.nextSibling),a===null))return null;return a}function lx(a){return a.data==="$?"||a.data==="$~"}function cx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function n8(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Di(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var ux=null;function pN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Di(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function gN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function vN(a,o,c){switch(o=Vp(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Nf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Xi(a)}var Li=new Map,yN=new Set;function $p(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var As=ee.d;ee.d={f:r8,r:i8,D:a8,C:s8,L:o8,m:l8,X:u8,S:c8,M:d8};function r8(){var a=As.f(),o=Pp();return a||o}function i8(a){var o=Ti(a);o!==null&&o.tag===5&&o.type==="form"?MT(o):As.r(a)}var gu=typeof document>"u"?null:document;function bN(a,o,c){var m=gu;if(m&&typeof o=="string"&&o){var y=Kr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),yN.has(y)||(yN.add(y),a={rel:a,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),pr(o,"link",a),Pn(o),m.head.appendChild(o)))}}function a8(a){As.D(a),bN("dns-prefetch",a,null)}function s8(a,o){As.C(a,o),bN("preconnect",a,o)}function o8(a,o,c){As.L(a,o,c);var m=gu;if(m&&a&&o){var y='link[rel="preload"][as="'+Kr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Kr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Kr(c.imageSizes)+'"]')):y+='[href="'+Kr(a)+'"]';var w=y;switch(o){case"style":w=vu(a);break;case"script":w=yu(a)}Li.has(w)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Li.set(w,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(Cf(w))||o==="script"&&m.querySelector(Of(w))||(o=m.createElement("link"),pr(o,"link",a),Pn(o),m.head.appendChild(o)))}}function l8(a,o){As.m(a,o);var c=gu;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Kr(m)+'"][href="'+Kr(a)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=yu(a)}if(!Li.has(w)&&(a=g({rel:"modulepreload",href:a},o),Li.set(w,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Of(w)))return}m=c.createElement("link"),pr(m,"link",a),Pn(m),c.head.appendChild(m)}}}function c8(a,o,c){As.S(a,o,c);var m=gu;if(m&&a){var y=Sa(m).hoistableStyles,w=vu(a);o=o||"default";var O=y.get(w);if(!O){var q={loading:0,preload:null};if(O=m.querySelector(Cf(w)))q.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Li.get(w))&&dx(a,c);var W=O=m.createElement("link");Pn(W),pr(W,"link",a),W._p=new Promise(function(me,xe){W.onload=me,W.onerror=xe}),W.addEventListener("load",function(){q.loading|=1}),W.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Up(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:q},y.set(w,O)}}}function u8(a,o){As.X(a,o);var c=gu;if(c&&a){var m=Sa(c).hoistableScripts,y=yu(a),w=m.get(y);w||(w=c.querySelector(Of(y)),w||(a=g({src:a,async:!0},o),(o=Li.get(y))&&fx(a,o),w=c.createElement("script"),Pn(w),pr(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function d8(a,o){As.M(a,o);var c=gu;if(c&&a){var m=Sa(c).hoistableScripts,y=yu(a),w=m.get(y);w||(w=c.querySelector(Of(y)),w||(a=g({src:a,async:!0,type:"module"},o),(o=Li.get(y))&&fx(a,o),w=c.createElement("script"),Pn(w),pr(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function xN(a,o,c,m){var y=(y=fe.current)?$p(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=vu(c.href),c=Sa(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=vu(c.href);var w=Sa(y).hoistableStyles,O=w.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,O),(w=y.querySelector(Cf(a)))&&!w._p&&(O.instance=w,O.state.loading=5),Li.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Li.set(a,c),w||f8(y,a,c,O.state))),o&&m===null)throw Error(r(528,""));return O}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=yu(c),c=Sa(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function vu(a){return'href="'+Kr(a)+'"'}function Cf(a){return'link[rel="stylesheet"]['+a+"]"}function wN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function f8(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),pr(o,"link",c),Pn(o),a.head.appendChild(o))}function yu(a){return'[src="'+Kr(a)+'"]'}function Of(a){return"script[async]"+a}function _N(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Kr(c.href)+'"]');if(m)return o.instance=m,Pn(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Pn(m),pr(m,"style",y),Up(m,c.precedence,a),o.instance=m;case"stylesheet":y=vu(c.href);var w=a.querySelector(Cf(y));if(w)return o.state.loading|=4,o.instance=w,Pn(w),w;m=wN(c),(y=Li.get(y))&&dx(m,y),w=(a.ownerDocument||a).createElement("link"),Pn(w);var O=w;return O._p=new Promise(function(q,W){O.onload=q,O.onerror=W}),pr(w,"link",m),o.state.loading|=4,Up(w,c.precedence,a),o.instance=w;case"script":return w=yu(c.src),(y=a.querySelector(Of(w)))?(o.instance=y,Pn(y),y):(m=c,(y=Li.get(w))&&(m=g({},c),fx(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),Pn(y),pr(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Up(m,c.precedence,a));return o.instance}function Up(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,O=0;O<m.length;O++){var q=m[O];if(q.dataset.precedence===o)w=q;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function dx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function fx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Bp=null;function SN(a,o,c){if(Bp===null){var m=new Map,y=Bp=new Map;y.set(c,m)}else y=Bp,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var w=c[y];if(!(w[wn]||w[dn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(o)||"";O=a+O;var q=m.get(O);q?q.push(w):m.set(O,[w])}}return m}function EN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function h8(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function AN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function m8(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=vu(m.href),w=o.querySelector(Cf(y));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=qp.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=w,Pn(w);return}w=o.ownerDocument||o,m=wN(m),(y=Li.get(y))&&dx(m,y),w=w.createElement("link"),Pn(w);var O=w;O._p=new Promise(function(q,W){O.onload=q,O.onerror=W}),pr(w,"link",m),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=qp.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var hx=0;function p8(a,o){return a.stylesheets&&a.count===0&&Hp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Hp(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&hx===0&&(hx=62500*WV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Hp(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>hx?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function qp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Fp=null;function Hp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Fp=new Map,o.forEach(g8,a),Fp=null,qp.call(a))}function g8(a,o){if(!(o.state.loading&4)){var c=Fp.get(a);if(c)var m=c.get(null);else{c=new Map,Fp.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var O=y[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),m=O)}m&&c.set(null,m)}y=o.instance,O=y.getAttribute("data-precedence"),w=c.get(O)||m,w===m&&c.set(null,y),c.set(O,y),this.count++,m=qp.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Pf={$$typeof:D,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function v8(a,o,c,m,y,w,O,q,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function TN(a,o,c,m,y,w,O,q,W,me,xe,Se){return a=new v8(a,o,c,O,W,me,xe,Se,q),o=1,w===!0&&(o|=24),w=fi(3,null,null,o),a.current=w,w.stateNode=a,o=Ky(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:c,cache:o},Xy(w),a}function jN(a){return a?(a=Wc,a):Wc}function NN(a,o,c,m,y,w){y=jN(y),m.context===null?m.context=y:m.pendingContext=y,m=jo(o),m.payload={element:c},w=w===void 0?null:w,w!==null&&(m.callback=w),c=No(a,m,o),c!==null&&(Jr(c,a,o),cf(c,a,o))}function CN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function mx(a,o){CN(a,o),(a=a.alternate)&&CN(a,o)}function ON(a){if(a.tag===13||a.tag===31){var o=Ll(a,67108864);o!==null&&Jr(o,a,67108864),mx(a,67108864)}}function PN(a){if(a.tag===13||a.tag===31){var o=vi();o=Ce(o);var c=Ll(a,o);c!==null&&Jr(c,a,o),mx(a,o)}}var Kp=!0;function y8(a,o,c,m){var y=G.T;G.T=null;var w=ee.p;try{ee.p=2,px(a,o,c,m)}finally{ee.p=w,G.T=y}}function b8(a,o,c,m){var y=G.T;G.T=null;var w=ee.p;try{ee.p=8,px(a,o,c,m)}finally{ee.p=w,G.T=y}}function px(a,o,c,m){if(Kp){var y=gx(m);if(y===null)tx(a,o,m,Gp,c),RN(a,m);else if(w8(y,a,o,c,m))m.stopPropagation();else if(RN(a,m),o&4&&-1<x8.indexOf(a)){for(;y!==null;){var w=Ti(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=Ar(w.pendingLanes);if(O!==0){var q=w;for(q.pendingLanes|=2,q.entangledLanes|=2;O;){var W=1<<31-Zt(O);q.entanglements[1]|=W,O&=~W}Da(w),(Ot&6)===0&&(Cp=Oe()+500,Af(0))}}break;case 31:case 13:q=Ll(w,2),q!==null&&Jr(q,w,2),Pp(),mx(w,2)}if(w=gx(m),w===null&&tx(a,o,m,Gp,c),w===y)break;y=w}y!==null&&m.stopPropagation()}else tx(a,o,m,null,c)}}function gx(a){return a=ji(a),vx(a)}var Gp=null;function vx(a){if(Gp=null,a=_a(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Gp=a,null}function IN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case Ke:return 2;case Fe:return 8;case $t:case qr:return 32;case ba:return 268435456;default:return 32}default:return 32}}var yx=!1,Vo=null,$o=null,Uo=null,If=new Map,Rf=new Map,Bo=[],x8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RN(a,o){switch(a){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":If.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rf.delete(o.pointerId)}}function kf(a,o,c,m,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Ti(o),o!==null&&ON(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function w8(a,o,c,m,y){switch(o){case"focusin":return Vo=kf(Vo,a,o,c,m,y),!0;case"dragenter":return $o=kf($o,a,o,c,m,y),!0;case"mouseover":return Uo=kf(Uo,a,o,c,m,y),!0;case"pointerover":var w=y.pointerId;return If.set(w,kf(If.get(w)||null,a,o,c,m,y)),!0;case"gotpointercapture":return w=y.pointerId,Rf.set(w,kf(Rf.get(w)||null,a,o,c,m,y)),!0}return!1}function kN(a){var o=_a(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,St(a.priority,function(){PN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,St(a.priority,function(){PN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Yp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=gx(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);Kd=m,c.target.dispatchEvent(m),Kd=null}else return o=Ti(c),o!==null&&ON(o),a.blockedOn=c,!1;o.shift()}return!0}function MN(a,o,c){Yp(a)&&c.delete(o)}function _8(){yx=!1,Vo!==null&&Yp(Vo)&&(Vo=null),$o!==null&&Yp($o)&&($o=null),Uo!==null&&Yp(Uo)&&(Uo=null),If.forEach(MN),Rf.forEach(MN)}function Wp(a,o){a.blockedOn===o&&(a.blockedOn=null,yx||(yx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_8)))}var Xp=null;function DN(a){Xp!==a&&(Xp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xp===a&&(Xp=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(vx(m||c)===null)continue;break}var w=Ti(c);w!==null&&(a.splice(o,3),o-=3,gb(w,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function bu(a){function o(W){return Wp(W,a)}Vo!==null&&Wp(Vo,a),$o!==null&&Wp($o,a),Uo!==null&&Wp(Uo,a),If.forEach(o),Rf.forEach(o);for(var c=0;c<Bo.length;c++){var m=Bo[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Bo.length&&(c=Bo[0],c.blockedOn===null);)kN(c),c.blockedOn===null&&Bo.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],w=c[m+1],O=y[kt]||null;if(typeof w=="function")O||DN(c);else if(O){var q=null;if(w&&w.hasAttribute("formAction")){if(y=w,O=w[kt]||null)q=O.formAction;else if(vx(y)!==null)continue}else q=O.action;typeof q=="function"?c[m+1]=q:(c.splice(m,3),m-=3),DN(c)}}}function LN(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function bx(a){this._internalRoot=a}Qp.prototype.render=bx.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=vi();NN(c,m,a,o,null,null)},Qp.prototype.unmount=bx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;NN(a.current,2,null,a,null,null),Pp(),o[Ai]=null}};function Qp(a){this._internalRoot=a}Qp.prototype.unstable_scheduleHydration=function(a){if(a){var o=it();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Bo.length&&o!==0&&o<Bo[c].priority;c++);Bo.splice(c,0,a),c===0&&kN(a)}};var zN=e.version;if(zN!=="19.2.3")throw Error(r(527,zN,"19.2.3"));ee.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var S8={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jp.isDisabled&&Jp.supportsFiber)try{cr=Jp.inject(S8),gn=Jp}catch{}}return Df.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",y=HT,w=KT,O=GT;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=TN(a,1,!1,null,null,c,m,null,y,w,O,LN),a[Ai]=o.current,ex(a),new bx(o)},Df.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,y="",w=HT,O=KT,q=GT,W=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(q=c.onRecoverableError),c.formState!==void 0&&(W=c.formState)),o=TN(a,1,!0,o,c??null,m,y,W,w,O,q,LN),o.context=jN(null),c=o.current,m=vi(),m=Ce(m),y=jo(m),y.callback=null,No(c,y,m),c=m,o.current.lanes=c,Wi(o,c),Da(o),a[Ai]=o.current,ex(a),new Qp(o)},Df.version="19.2.3",Df}var YN;function k8(){if(YN)return _x.exports;YN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_x.exports=R8(),_x.exports}var M8=k8();const D8=()=>{};var WN={};const HM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},KM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let x=(u&15)<<2|h>>6,_=h&63;f||(_=64,l||(x=64)),r.push(n[p],n[g],n[x],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new z8;const x=s<<2|u>>4;if(r.push(x),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V8=function(t){const e=HM(t);return KM.encodeByteArray(e,!0)},$g=function(t){return V8(t).replace(/\./g,"")},GM=function(t){try{return KM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U8=()=>$8().__FIREBASE_DEFAULTS__,B8=()=>{if(typeof process>"u"||typeof WN>"u")return;const t=WN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GM(t[1]);return e&&JSON.parse(e)},cv=()=>{try{return D8()||U8()||B8()||q8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YM=t=>cv()?.emulatorHosts?.[t],F8=t=>{const e=YM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WM=()=>cv()?.config,XM=t=>cv()?.[`_${t}`];class H8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ud(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QM(t){return(await fetch(t,{credentials:"include"})).ok}function K8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$g(JSON.stringify(n)),$g(JSON.stringify(l)),""].join(".")}const th={};function G8(){const t={prod:[],emulator:[]};for(const e of Object.keys(th))th[e]?t.emulator.push(e):t.prod.push(e);return t}function Y8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XN=!1;function JM(t,e){if(typeof window>"u"||typeof document>"u"||!ud(window.location.host)||th[t]===e||th[t]||XN)return;th[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=G8().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,_){x.setAttribute("width","24"),x.setAttribute("id",_),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{XN=!0,l()},x}function p(x,_){x.setAttribute("id",_),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=Y8(r),_=n("text"),A=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),V=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const D=x.element;u(D),p(E,S);const B=h();f(V,C),D.append(V,A,E,B),document.body.appendChild(D)}s?(A.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function X8(){const t=cv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e$(){const t=kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t$(){return!X8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n$(){try{return typeof indexedDB=="object"}catch{return!1}}function r$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const i$="FirebaseError";class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i$,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bh.prototype.create)}}class Bh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?a$(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new eo(i,u,r)}}function a$(t,e){return t.replace(s$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s$=/\{\$([^}]+)}/g;function o$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(QN(s)&&QN(l)){if(!mc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QN(t){return t!==null&&typeof t=="object"}function qh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function l$(t,e){const n=new c$(t,e);return n.subscribe.bind(n)}class c${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");u$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tx),i.error===void 0&&(i.error=Tx),i.complete===void 0&&(i.complete=Tx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tx(){}function Gn(t){return t&&t._delegate?t._delegate:t}class pc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ql="[DEFAULT]";let d$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new H8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h$(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function f$(t){return t===Ql?void 0:t}function h$(t){return t.instantiationMode==="EAGER"}class m${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const p$={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},g$=gt.INFO,v$={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},y$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oS{constructor(e){this.name=e,this._logLevel=g$,this._logHandler=y$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const b$=(t,e)=>e.some(n=>t instanceof n);let JN,ZN;function x$(){return JN||(JN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w$(){return ZN||(ZN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZM=new WeakMap,Nw=new WeakMap,eD=new WeakMap,jx=new WeakMap,lS=new WeakMap;function _$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(el(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&ZM.set(n,t)}).catch(()=>{}),lS.set(e,t),e}function S$(t){if(Nw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Nw.set(t,e)}let Cw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return el(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E$(t){Cw=t(Cw)}function A$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nx(this),e,...n);return eD.set(r,e.sort?e.sort():[e]),el(r)}:w$().includes(t)?function(...e){return t.apply(Nx(this),e),el(ZM.get(this))}:function(...e){return el(t.apply(Nx(this),e))}}function T$(t){return typeof t=="function"?A$(t):(t instanceof IDBTransaction&&S$(t),b$(t,x$())?new Proxy(t,Cw):t)}function el(t){if(t instanceof IDBRequest)return _$(t);if(jx.has(t))return jx.get(t);const e=T$(t);return e!==t&&(jx.set(t,e),lS.set(e,t)),e}const Nx=t=>lS.get(t);function j$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=el(l);return r&&l.addEventListener("upgradeneeded",f=>{r(el(l.result),f.oldVersion,f.newVersion,el(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const N$=["get","getKey","getAll","getAllKeys","count"],C$=["put","add","delete","clear"],Cx=new Map;function eC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cx.get(e))return Cx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=C$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||N$.includes(n)))return;const s=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return Cx.set(e,s),s}E$(t=>({...t,get:(e,n,r)=>eC(e,n)||t.get(e,n,r),has:(e,n)=>!!eC(e,n)||t.has(e,n)}));class O${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P$(t){return t.getComponent()?.type==="VERSION"}const Ow="@firebase/app",tC="0.14.6";const zs=new oS("@firebase/app"),I$="@firebase/app-compat",R$="@firebase/analytics-compat",k$="@firebase/analytics",M$="@firebase/app-check-compat",D$="@firebase/app-check",L$="@firebase/auth",z$="@firebase/auth-compat",V$="@firebase/database",$$="@firebase/data-connect",U$="@firebase/database-compat",B$="@firebase/functions",q$="@firebase/functions-compat",F$="@firebase/installations",H$="@firebase/installations-compat",K$="@firebase/messaging",G$="@firebase/messaging-compat",Y$="@firebase/performance",W$="@firebase/performance-compat",X$="@firebase/remote-config",Q$="@firebase/remote-config-compat",J$="@firebase/storage",Z$="@firebase/storage-compat",eU="@firebase/firestore",tU="@firebase/ai",nU="@firebase/firestore-compat",rU="firebase",iU="12.6.0";const Pw="[DEFAULT]",aU={[Ow]:"fire-core",[I$]:"fire-core-compat",[k$]:"fire-analytics",[R$]:"fire-analytics-compat",[D$]:"fire-app-check",[M$]:"fire-app-check-compat",[L$]:"fire-auth",[z$]:"fire-auth-compat",[V$]:"fire-rtdb",[$$]:"fire-data-connect",[U$]:"fire-rtdb-compat",[B$]:"fire-fn",[q$]:"fire-fn-compat",[F$]:"fire-iid",[H$]:"fire-iid-compat",[K$]:"fire-fcm",[G$]:"fire-fcm-compat",[Y$]:"fire-perf",[W$]:"fire-perf-compat",[X$]:"fire-rc",[Q$]:"fire-rc-compat",[J$]:"fire-gcs",[Z$]:"fire-gcs-compat",[eU]:"fire-fst",[nU]:"fire-fst-compat",[tU]:"fire-vertex","fire-js":"fire-js",[rU]:"fire-js-all"};const Ug=new Map,sU=new Map,Iw=new Map;function nC(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hu(t){const e=t.name;if(Iw.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Iw.set(e,t);for(const n of Ug.values())nC(n,t);for(const n of sU.values())nC(n,t);return!0}function cS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bi(t){return t==null?!1:t.settings!==void 0}const oU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new Bh("app","Firebase",oU);class lU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}const dd=iU;function tD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(n||(n=WM()),!n)throw tl.create("no-options");const s=Ug.get(i);if(s){if(mc(n,s.options)&&mc(r,s.config))return s;throw tl.create("duplicate-app",{appName:i})}const l=new m$(i);for(const f of Iw.values())l.addComponent(f);const u=new lU(n,r,l);return Ug.set(i,u),u}function nD(t=Pw){const e=Ug.get(t);if(!e&&t===Pw&&WM())return tD();if(!e)throw tl.create("no-app",{appName:t});return e}function nl(t,e,n){let r=aU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(l.join(" "));return}Hu(new pc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const cU="firebase-heartbeat-database",uU=1,uh="firebase-heartbeat-store";let Ox=null;function rD(){return Ox||(Ox=j$(cU,uU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uh)}catch(n){console.warn(n)}}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),Ox}async function dU(t){try{const n=(await rD()).transaction(uh),r=await n.objectStore(uh).get(iD(t));return await n.done,r}catch(e){if(e instanceof eo)zs.warn(e.message);else{const n=tl.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function rC(t,e){try{const r=(await rD()).transaction(uh,"readwrite");await r.objectStore(uh).put(e,iD(t)),await r.done}catch(n){if(n instanceof eo)zs.warn(n.message);else{const r=tl.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}}function iD(t){return`${t.name}!${t.options.appId}`}const fU=1024,hU=30;class mU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=iC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>hU){const i=vU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iC(),{heartbeatsToSend:n,unsentEntries:r}=pU(this._heartbeatsCache.heartbeats),i=$g(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zs.warn(e),""}}}function iC(){return new Date().toISOString().substring(0,10)}function pU(t,e=fU){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),aC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n$()?r$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aC(t){return $g(JSON.stringify({version:2,heartbeats:t})).length}function vU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function yU(t){Hu(new pc("platform-logger",e=>new O$(e),"PRIVATE")),Hu(new pc("heartbeat",e=>new mU(e),"PRIVATE")),nl(Ow,tC,t),nl(Ow,tC,"esm2020"),nl("fire-js","")}yU("");var bU="firebase",xU="12.7.0";nl(bU,xU,"app");function aD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wU=aD,sD=new Bh("auth","Firebase",aD());const Bg=new oS("@firebase/auth");function _U(t,...e){Bg.logLevel<=gt.WARN&&Bg.warn(`Auth (${dd}): ${t}`,...e)}function Sg(t,...e){Bg.logLevel<=gt.ERROR&&Bg.error(`Auth (${dd}): ${t}`,...e)}function Vs(t,...e){throw uS(t,...e)}function qa(t,...e){return uS(t,...e)}function oD(t,e,n){const r={...wU(),[e]:n};return new Bh("auth","Firebase",r).create(e,{appName:t.name})}function ks(t){return oD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sD.create(t,...e)}function Je(t,e,...n){if(!t)throw uS(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sg(e),new Error(e)}function $s(t,e){t||Ns(e)}function Rw(){return typeof self<"u"&&self.location?.href||""}function SU(){return sC()==="http:"||sC()==="https:"}function sC(){return typeof self<"u"&&self.location?.protocol||null}function EU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SU()||J8()||"connection"in navigator)?navigator.onLine:!0}function AU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Fh{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=W8()||Z8()}get(){return EU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dS(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NU=new Fh(3e4,6e4);function Hh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fd(t,e,n,r,i={}){return cD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=qh({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return Q8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ud(t.emulatorConfig.host)&&(h.credentials="include"),lD.fetch()(await uD(t,t.config.apiHost,n,u),h)})}async function cD(t,e,n){t._canInitEmulator=!1;const r={...TU,...e};try{const i=new CU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Zp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Zp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Zp(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw oD(t,p,h);Vs(t,p)}}catch(i){if(i instanceof eo)throw i;Vs(t,"network-request-failed",{message:String(i)})}}async function fS(t,e,n,r,i={}){const s=await fd(t,e,n,r,i);return"mfaPendingCredential"in s&&Vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function uD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?dS(t.config,i):`${t.config.apiScheme}://${i}`;return jU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class CU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qa(this.auth,"network-request-failed")),NU.get())})}}function Zp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qa(t,e,r);return i.customData._tokenResponse=n,i}async function OU(t,e){return fd(t,"POST","/v1/accounts:delete",e)}async function qg(t,e){return fd(t,"POST","/v1/accounts:lookup",e)}function nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PU(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),i=hS(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:nh(Px(i.auth_time)),issuedAtTime:nh(Px(i.iat)),expirationTime:nh(Px(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Px(t){return Number(t)*1e3}function hS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sg("JWT malformed, contained fewer than 3 sections"),null;try{const i=GM(n);return i?JSON.parse(i):(Sg("Failed to decode base64 JWT payload"),null)}catch(i){return Sg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oC(t){const e=hS(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function dh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&IU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class RU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fg(t){const e=t.auth,n=await t.getIdToken(),r=await dh(t,qg(e,{idToken:n}));Je(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?dD(i.providerUserInfo):[],l=MU(t.providerData,s),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,h=u?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new kw(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function kU(t){const e=Gn(t);await Fg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function DU(t,e){const n=await cD(t,{},async()=>{const r=qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await uD(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&ud(t.emulatorConfig.host)&&(f.credentials="include"),lD.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LU(t,e){return fd(t,"POST","/v2/accounts:revokeToken",Hh(t,e))}class ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=oC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await DU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new ku;return r&&(Je(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ku,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Fo(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ua{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new RU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await dh(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PU(this,e)}reload(){return kU(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ua({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await dh(this,OU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:_,providerData:A,stsTokenManager:S}=n;Je(g&&S,e,"internal-error");const E=ku.fromJSON(this.name,S);Je(typeof g=="string",e,"internal-error"),Fo(r,e.name),Fo(i,e.name),Je(typeof x=="boolean",e,"internal-error"),Je(typeof _=="boolean",e,"internal-error"),Fo(s,e.name),Fo(l,e.name),Fo(u,e.name),Fo(f,e.name),Fo(h,e.name),Fo(p,e.name);const C=new ua({uid:g,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:E,createdAt:h,lastLoginAt:p});return A&&Array.isArray(A)&&(C.providerData=A.map(V=>({...V}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ku;i.updateFromServerResponse(n);const s=new ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?dD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new ku;u.updateFromIdToken(r);const f=new ua({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const lC=new Map;function Cs(t){$s(t instanceof Function,"Expected a class definition");let e=lC.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lC.set(t,e),e)}class fD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fD.type="NONE";const cC=fD;function Eg(t,e,n){return`firebase:${t}:${e}:${n}`}class Mu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qg(this.auth,{idToken:e}).catch(()=>{});return n?ua._fromGetAccountInfoResponse(this.auth,n,e):null}return ua._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mu(Cs(cC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Cs(cC);const l=Eg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const x=await qg(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ua._fromGetAccountInfoResponse(e,x,p)}else g=ua._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Mu(s,e,r):(s=f[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Mu(s,e,r))}}function uC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yD(e))return"Blackberry";if(bD(e))return"Webos";if(mD(e))return"Safari";if((e.includes("chrome/")||pD(e))&&!e.includes("edge/"))return"Chrome";if(vD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function hD(t=kr()){return/firefox\//i.test(t)}function mD(t=kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pD(t=kr()){return/crios\//i.test(t)}function gD(t=kr()){return/iemobile/i.test(t)}function vD(t=kr()){return/android/i.test(t)}function yD(t=kr()){return/blackberry/i.test(t)}function bD(t=kr()){return/webos/i.test(t)}function mS(t=kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zU(t=kr()){return mS(t)&&!!window.navigator?.standalone}function VU(){return e$()&&document.documentMode===10}function xD(t=kr()){return mS(t)||vD(t)||bD(t)||yD(t)||/windows phone/i.test(t)||gD(t)}function wD(t,e=[]){let n;switch(t){case"Browser":n=uC(kr());break;case"Worker":n=`${uC(kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dd}/${r}`}class $U{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const f=e(s);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function UU(t,e={}){return fd(t,"GET","/v2/passwordPolicy",Hh(t,e))}const BU=6;class qU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class FU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dC(this),this.idTokenSubscription=new dC(this),this.beforeStateQueue=new $U(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qg(this,{idToken:e}),r=await ua._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bi(this.app))return Promise.reject(ks(this));const n=e?Gn(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bi(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UU(this),n=new qU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Mu.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_U(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kh(t){return Gn(t)}class dC{constructor(e){this.auth=e,this.observer=null,this.addObserver=l$(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HU(t){pS=t}function KU(t){return pS.loadJS(t)}function GU(){return pS.gapiScript}function YU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function WU(t,e){const n=cS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(mc(s,e??{}))return i;Vs(i,"already-initialized")}return n.initialize({options:e})}function XU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function QU(t,e,n){const r=Kh(t);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=_D(e),{host:l,port:u}=JU(e),f=u===null?"":`:${u}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(mc(h,r.config.emulator)&&mc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,ud(l)?(QM(`${s}//${l}${f}`),JM("Auth",!0)):ZU()}function _D(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JU(t){const e=_D(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:fC(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:fC(l)}}}function fC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class SD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function Du(t,e){return fS(t,"POST","/v1/accounts:signInWithIdp",Hh(t,e))}const eB="http://localhost";class gc extends SD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new gc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Du(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Du(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Du(e,n)}buildRequest(){const e={requestUri:eB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qh(n)}return e}}class ED{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gh extends ED{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Go extends Gh{constructor(){super("facebook.com")}static credential(e){return gc._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.FACEBOOK_SIGN_IN_METHOD="facebook.com";Go.PROVIDER_ID="facebook.com";class Yo extends Gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yo.credential(n,r)}catch{return null}}}Yo.GOOGLE_SIGN_IN_METHOD="google.com";Yo.PROVIDER_ID="google.com";class Wo extends Gh{constructor(){super("github.com")}static credential(e){return gc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.GITHUB_SIGN_IN_METHOD="github.com";Wo.PROVIDER_ID="github.com";class Xo extends Gh{constructor(){super("twitter.com")}static credential(e,n){return gc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xo.credential(n,r)}catch{return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com";Xo.PROVIDER_ID="twitter.com";async function tB(t,e){return fS(t,"POST","/v1/accounts:signUp",Hh(t,e))}class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ua._fromIdTokenResponse(e,r,i),l=hC(r);return new Us({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hC(r);return new Us({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function nB(t){if(Bi(t.app))return Promise.reject(ks(t));const e=Kh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Us({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await tB(e,{returnSecureToken:!0}),r=await Us._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Hg extends eo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hg(e,n,r,i)}}function AD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hg._fromErrorAndOperation(t,s,e,r):s})}async function rB(t,e,n=!1){const r=await dh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}async function iB(t,e,n=!1){const{auth:r}=t;if(Bi(r.app))return Promise.reject(ks(r));const i="reauthenticate";try{const s=await dh(t,AD(r,i,e,t),n);Je(s.idToken,r,"internal-error");const l=hS(s.idToken);Je(l,r,"internal-error");const{sub:u}=l;return Je(t.uid===u,r,"user-mismatch"),Us._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Vs(r,"user-mismatch"),s}}async function aB(t,e,n=!1){if(Bi(t.app))return Promise.reject(ks(t));const r="signIn",i=await AD(t,r,e),s=await Us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function sB(t,e){return fS(t,"POST","/v1/accounts:signInWithCustomToken",Hh(t,e))}async function oB(t,e){if(Bi(t.app))return Promise.reject(ks(t));const n=Kh(t),r=await sB(n,{token:e,returnSecureToken:!0}),i=await Us._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function lB(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function cB(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}function uB(t,e,n,r){return Gn(t).onAuthStateChanged(e,n,r)}const Kg="__sak";class TD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kg,"1"),this.storage.removeItem(Kg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dB=1e3,fB=10;class jD extends TD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);VU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jD.type="LOCAL";const hB=jD;class ND extends TD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ND.type="SESSION";const CD=ND;function mB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class uv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,s)),f=await mB(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uv.receivers=[];function gS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class pB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,f)=>{const h=gS("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Fa(){return window}function gB(t){Fa().location.href=t}function OD(){return typeof Fa().WorkerGlobalScope<"u"&&typeof Fa().importScripts=="function"}async function vB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yB(){return navigator?.serviceWorker?.controller||null}function bB(){return OD()?self:null}const PD="firebaseLocalStorageDb",xB=1,Gg="firebaseLocalStorage",ID="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dv(t,e){return t.transaction([Gg],e?"readwrite":"readonly").objectStore(Gg)}function wB(){const t=indexedDB.deleteDatabase(PD);return new Yh(t).toPromise()}function Mw(){const t=indexedDB.open(PD,xB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gg,{keyPath:ID})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gg)?e(r):(r.close(),await wB(),e(await Mw()))})})}async function mC(t,e,n){const r=dv(t,!0).put({[ID]:e,value:n});return new Yh(r).toPromise()}async function _B(t,e){const n=dv(t,!1).get(e),r=await new Yh(n).toPromise();return r===void 0?null:r.value}function pC(t,e){const n=dv(t,!0).delete(e);return new Yh(n).toPromise()}const SB=800,EB=3;class RD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uv._getInstance(bB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vB(),!this.activeServiceWorker)return;this.sender=new pB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mw();return await mC(e,Kg,"1"),await pC(e,Kg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_B(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dv(i,!1).getAll();return new Yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RD.type="LOCAL";const AB=RD;new Fh(3e4,6e4);function TB(t,e){return e?Cs(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class vS extends SD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Du(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Du(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Du(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jB(t){return aB(t.auth,new vS(t),t.bypassAuthState)}function NB(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),iB(n,new vS(t),t.bypassAuthState)}async function CB(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),rB(n,new vS(t),t.bypassAuthState)}class kD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jB;case"linkViaPopup":case"linkViaRedirect":return CB;case"reauthViaPopup":case"reauthViaRedirect":return NB;default:Vs(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OB=new Fh(2e3,1e4);class Nu extends kD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=gS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OB.get())};e()}}Nu.currentPopupAction=null;const PB="pendingRedirect",Ag=new Map;class IB extends kD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ag.get(this.auth._key());if(!e){try{const r=await RB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ag.set(this.auth._key(),e)}return this.bypassAuthState||Ag.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RB(t,e){const n=DB(e),r=MB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kB(t,e){Ag.set(t._key(),e)}function MB(t){return Cs(t._redirectPersistence)}function DB(t){return Eg(PB,t.config.apiKey,t.name)}async function LB(t,e,n=!1){if(Bi(t.app))return Promise.reject(ks(t));const r=Kh(t),i=TB(r,e),l=await new IB(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const zB=600*1e3;class VB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$B(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zB&&this.cachedEventUids.clear(),this.cachedEventUids.has(gC(e))}saveEventToCache(e){this.cachedEventUids.add(gC(e)),this.lastProcessedEventTime=Date.now()}}function gC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $B(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MD(t);default:return!1}}async function UB(t,e={}){return fd(t,"GET","/v1/projects",e)}const BB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qB=/^https?/;async function FB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UB(t);for(const n of e)try{if(HB(n))return}catch{}Vs(t,"unauthorized-domain")}function HB(t){const e=Rw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!qB.test(n))return!1;if(BB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const KB=new Fh(3e4,6e4);function vC(){const t=Fa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GB(t){return new Promise((e,n)=>{function r(){vC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vC(),n(qa(t,"network-request-failed"))},timeout:KB.get()})}if(Fa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fa().gapi?.load)r();else{const i=YU("iframefcb");return Fa()[i]=()=>{gapi.load?r():n(qa(t,"network-request-failed"))},KU(`${GU()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Tg=null,e})}let Tg=null;function YB(t){return Tg=Tg||GB(t),Tg}const WB=new Fh(5e3,15e3),XB="__/auth/iframe",QB="emulator/auth/iframe",JB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e7(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dS(e,QB):`https://${t.config.authDomain}/${XB}`,r={apiKey:e.apiKey,appName:t.name,v:dd},i=ZB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qh(r).slice(1)}`}async function t7(t){const e=await YB(t),n=Fa().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:e7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=qa(t,"network-request-failed"),u=Fa().setTimeout(()=>{s(l)},WB.get());function f(){Fa().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{s(l)})}))}const n7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r7=500,i7=600,a7="_blank",s7="http://localhost";class yC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o7(t,e,n,r=r7,i=i7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...n7,width:r.toString(),height:i.toString(),top:s,left:l},h=kr().toLowerCase();n&&(u=pD(h)?a7:n),hD(h)&&(e=e||s7,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[_,A])=>`${x}${_}=${A},`,"");if(zU(h)&&u!=="_self")return l7(e||"",u),new yC(null);const g=window.open(e||"",u,p);Je(g,t,"popup-blocked");try{g.focus()}catch{}return new yC(g)}function l7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const c7="__/auth/handler",u7="emulator/auth/handler",d7=encodeURIComponent("fac");async function bC(t,e,n,r,i,s){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dd,eventId:i};if(e instanceof ED){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",o$(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Gh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${d7}=${encodeURIComponent(f)}`:"";return`${f7(t)}?${qh(u).slice(1)}${h}`}function f7({config:t}){return t.emulator?dS(t,u7):`https://${t.authDomain}/${c7}`}const Ix="webStorageSupport";class h7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CD,this._completeRedirectFn=LB,this._overrideRedirectResult=kB}async _openPopup(e,n,r,i){$s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await bC(e,n,r,Rw(),i);return o7(e,s,gS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bC(e,n,r,Rw(),i);return gB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t7(e),r=new VB(e);return n.register("authEvent",i=>(Je(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ix,{type:Ix},i=>{const s=i?.[0]?.[Ix];s!==void 0&&n(!!s),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xD()||mD()||mS()}}const m7=h7;var xC="@firebase/auth",wC="1.12.0";class p7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function g7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v7(t){Hu(new pc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Je(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(t)},h=new FU(r,i,s,f);return XU(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hu(new pc("auth-internal",e=>{const n=Kh(e.getProvider("auth").getImmediate());return(r=>new p7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nl(xC,wC,g7(t)),nl(xC,wC,"esm2020")}const y7=300,b7=XM("authIdTokenMaxAge")||y7;let _C=null;const x7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>b7)return;const i=n?.token;_C!==i&&(_C=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function w7(t=nD()){const e=cS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WU(t,{popupRedirectResolver:m7,persistence:[AB,hB,CD]}),r=XM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=x7(s.toString());cB(n,l,()=>l(n.currentUser)),lB(n,u=>l(u))}}const i=YM("auth");return i&&QU(n,`http://${i}`),n}function _7(){return document.getElementsByTagName("head")?.[0]??document}HU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v7("Browser");var SC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rl,DD;(function(){var t;function e(N,j){function k(){}k.prototype=j.prototype,N.F=j.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(I,P,L){for(var M=Array(arguments.length-2),re=2;re<arguments.length;re++)M[re-2]=arguments[re];return j.prototype[P].apply(I,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,j,k){k||(k=0);const I=Array(16);if(typeof j=="string")for(var P=0;P<16;++P)I[P]=j.charCodeAt(k++)|j.charCodeAt(k++)<<8|j.charCodeAt(k++)<<16|j.charCodeAt(k++)<<24;else for(P=0;P<16;++P)I[P]=j[k++]|j[k++]<<8|j[k++]<<16|j[k++]<<24;j=N.g[0],k=N.g[1],P=N.g[2];let L=N.g[3],M;M=j+(L^k&(P^L))+I[0]+3614090360&4294967295,j=k+(M<<7&4294967295|M>>>25),M=L+(P^j&(k^P))+I[1]+3905402710&4294967295,L=j+(M<<12&4294967295|M>>>20),M=P+(k^L&(j^k))+I[2]+606105819&4294967295,P=L+(M<<17&4294967295|M>>>15),M=k+(j^P&(L^j))+I[3]+3250441966&4294967295,k=P+(M<<22&4294967295|M>>>10),M=j+(L^k&(P^L))+I[4]+4118548399&4294967295,j=k+(M<<7&4294967295|M>>>25),M=L+(P^j&(k^P))+I[5]+1200080426&4294967295,L=j+(M<<12&4294967295|M>>>20),M=P+(k^L&(j^k))+I[6]+2821735955&4294967295,P=L+(M<<17&4294967295|M>>>15),M=k+(j^P&(L^j))+I[7]+4249261313&4294967295,k=P+(M<<22&4294967295|M>>>10),M=j+(L^k&(P^L))+I[8]+1770035416&4294967295,j=k+(M<<7&4294967295|M>>>25),M=L+(P^j&(k^P))+I[9]+2336552879&4294967295,L=j+(M<<12&4294967295|M>>>20),M=P+(k^L&(j^k))+I[10]+4294925233&4294967295,P=L+(M<<17&4294967295|M>>>15),M=k+(j^P&(L^j))+I[11]+2304563134&4294967295,k=P+(M<<22&4294967295|M>>>10),M=j+(L^k&(P^L))+I[12]+1804603682&4294967295,j=k+(M<<7&4294967295|M>>>25),M=L+(P^j&(k^P))+I[13]+4254626195&4294967295,L=j+(M<<12&4294967295|M>>>20),M=P+(k^L&(j^k))+I[14]+2792965006&4294967295,P=L+(M<<17&4294967295|M>>>15),M=k+(j^P&(L^j))+I[15]+1236535329&4294967295,k=P+(M<<22&4294967295|M>>>10),M=j+(P^L&(k^P))+I[1]+4129170786&4294967295,j=k+(M<<5&4294967295|M>>>27),M=L+(k^P&(j^k))+I[6]+3225465664&4294967295,L=j+(M<<9&4294967295|M>>>23),M=P+(j^k&(L^j))+I[11]+643717713&4294967295,P=L+(M<<14&4294967295|M>>>18),M=k+(L^j&(P^L))+I[0]+3921069994&4294967295,k=P+(M<<20&4294967295|M>>>12),M=j+(P^L&(k^P))+I[5]+3593408605&4294967295,j=k+(M<<5&4294967295|M>>>27),M=L+(k^P&(j^k))+I[10]+38016083&4294967295,L=j+(M<<9&4294967295|M>>>23),M=P+(j^k&(L^j))+I[15]+3634488961&4294967295,P=L+(M<<14&4294967295|M>>>18),M=k+(L^j&(P^L))+I[4]+3889429448&4294967295,k=P+(M<<20&4294967295|M>>>12),M=j+(P^L&(k^P))+I[9]+568446438&4294967295,j=k+(M<<5&4294967295|M>>>27),M=L+(k^P&(j^k))+I[14]+3275163606&4294967295,L=j+(M<<9&4294967295|M>>>23),M=P+(j^k&(L^j))+I[3]+4107603335&4294967295,P=L+(M<<14&4294967295|M>>>18),M=k+(L^j&(P^L))+I[8]+1163531501&4294967295,k=P+(M<<20&4294967295|M>>>12),M=j+(P^L&(k^P))+I[13]+2850285829&4294967295,j=k+(M<<5&4294967295|M>>>27),M=L+(k^P&(j^k))+I[2]+4243563512&4294967295,L=j+(M<<9&4294967295|M>>>23),M=P+(j^k&(L^j))+I[7]+1735328473&4294967295,P=L+(M<<14&4294967295|M>>>18),M=k+(L^j&(P^L))+I[12]+2368359562&4294967295,k=P+(M<<20&4294967295|M>>>12),M=j+(k^P^L)+I[5]+4294588738&4294967295,j=k+(M<<4&4294967295|M>>>28),M=L+(j^k^P)+I[8]+2272392833&4294967295,L=j+(M<<11&4294967295|M>>>21),M=P+(L^j^k)+I[11]+1839030562&4294967295,P=L+(M<<16&4294967295|M>>>16),M=k+(P^L^j)+I[14]+4259657740&4294967295,k=P+(M<<23&4294967295|M>>>9),M=j+(k^P^L)+I[1]+2763975236&4294967295,j=k+(M<<4&4294967295|M>>>28),M=L+(j^k^P)+I[4]+1272893353&4294967295,L=j+(M<<11&4294967295|M>>>21),M=P+(L^j^k)+I[7]+4139469664&4294967295,P=L+(M<<16&4294967295|M>>>16),M=k+(P^L^j)+I[10]+3200236656&4294967295,k=P+(M<<23&4294967295|M>>>9),M=j+(k^P^L)+I[13]+681279174&4294967295,j=k+(M<<4&4294967295|M>>>28),M=L+(j^k^P)+I[0]+3936430074&4294967295,L=j+(M<<11&4294967295|M>>>21),M=P+(L^j^k)+I[3]+3572445317&4294967295,P=L+(M<<16&4294967295|M>>>16),M=k+(P^L^j)+I[6]+76029189&4294967295,k=P+(M<<23&4294967295|M>>>9),M=j+(k^P^L)+I[9]+3654602809&4294967295,j=k+(M<<4&4294967295|M>>>28),M=L+(j^k^P)+I[12]+3873151461&4294967295,L=j+(M<<11&4294967295|M>>>21),M=P+(L^j^k)+I[15]+530742520&4294967295,P=L+(M<<16&4294967295|M>>>16),M=k+(P^L^j)+I[2]+3299628645&4294967295,k=P+(M<<23&4294967295|M>>>9),M=j+(P^(k|~L))+I[0]+4096336452&4294967295,j=k+(M<<6&4294967295|M>>>26),M=L+(k^(j|~P))+I[7]+1126891415&4294967295,L=j+(M<<10&4294967295|M>>>22),M=P+(j^(L|~k))+I[14]+2878612391&4294967295,P=L+(M<<15&4294967295|M>>>17),M=k+(L^(P|~j))+I[5]+4237533241&4294967295,k=P+(M<<21&4294967295|M>>>11),M=j+(P^(k|~L))+I[12]+1700485571&4294967295,j=k+(M<<6&4294967295|M>>>26),M=L+(k^(j|~P))+I[3]+2399980690&4294967295,L=j+(M<<10&4294967295|M>>>22),M=P+(j^(L|~k))+I[10]+4293915773&4294967295,P=L+(M<<15&4294967295|M>>>17),M=k+(L^(P|~j))+I[1]+2240044497&4294967295,k=P+(M<<21&4294967295|M>>>11),M=j+(P^(k|~L))+I[8]+1873313359&4294967295,j=k+(M<<6&4294967295|M>>>26),M=L+(k^(j|~P))+I[15]+4264355552&4294967295,L=j+(M<<10&4294967295|M>>>22),M=P+(j^(L|~k))+I[6]+2734768916&4294967295,P=L+(M<<15&4294967295|M>>>17),M=k+(L^(P|~j))+I[13]+1309151649&4294967295,k=P+(M<<21&4294967295|M>>>11),M=j+(P^(k|~L))+I[4]+4149444226&4294967295,j=k+(M<<6&4294967295|M>>>26),M=L+(k^(j|~P))+I[11]+3174756917&4294967295,L=j+(M<<10&4294967295|M>>>22),M=P+(j^(L|~k))+I[2]+718787259&4294967295,P=L+(M<<15&4294967295|M>>>17),M=k+(L^(P|~j))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+j&4294967295,N.g[1]=N.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,j){j===void 0&&(j=N.length);const k=j-this.blockSize,I=this.C;let P=this.h,L=0;for(;L<j;){if(P==0)for(;L<=k;)i(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<j;)if(I[P++]=N.charCodeAt(L++),P==this.blockSize){i(this,I),P=0;break}}else for(;L<j;)if(I[P++]=N[L++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=j},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var j=1;j<N.length-8;++j)N[j]=0;j=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=j&255,j/=256;for(this.v(N),N=Array(16),j=0,k=0;k<4;++k)for(let I=0;I<32;I+=8)N[j++]=this.g[k]>>>I&255;return N};function s(N,j){var k=u;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=j(N)}function l(N,j){this.h=j;const k=[];let I=!0;for(let P=N.length-1;P>=0;P--){const L=N[P]|0;I&&L==j||(k[P]=L,I=!1)}this.g=k}var u={};function f(N){return-128<=N&&N<128?s(N,function(j){return new l([j|0],j<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return E(h(-N));const j=[];let k=1;for(let I=0;N>=k;I++)j[I]=N/k|0,k*=4294967296;return new l(j,0)}function p(N,j){if(N.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(N.charAt(0)=="-")return E(p(N.substring(1),j));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(j,8));let I=g;for(let L=0;L<N.length;L+=8){var P=Math.min(8,N.length-L);const M=parseInt(N.substring(L,L+P),j);P<8?(P=h(Math.pow(j,P)),I=I.j(P).add(h(M))):(I=I.j(k),I=I.add(h(M)))}return I}var g=f(0),x=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-E(this).m();let N=0,j=1;for(let k=0;k<this.g.length;k++){const I=this.i(k);N+=(I>=0?I:4294967296+I)*j,j*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(S(this))return"-"+E(this).toString(N);const j=h(Math.pow(N,6));var k=this;let I="";for(;;){const P=B(k,j).g;k=C(k,P.j(j));let L=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=P,A(k))return L+I;for(;L.length<6;)L="0"+L;I=L+I}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(let j=0;j<N.g.length;j++)if(N.g[j]!=0)return!1;return!0}function S(N){return N.h==-1}t.l=function(N){return N=C(this,N),S(N)?-1:A(N)?0:1};function E(N){const j=N.g.length,k=[];for(let I=0;I<j;I++)k[I]=~N.g[I];return new l(k,~N.h).add(x)}t.abs=function(){return S(this)?E(this):this},t.add=function(N){const j=Math.max(this.g.length,N.g.length),k=[];let I=0;for(let P=0;P<=j;P++){let L=I+(this.i(P)&65535)+(N.i(P)&65535),M=(L>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);I=M>>>16,L&=65535,M&=65535,k[P]=M<<16|L}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(N,j){return N.add(E(j))}t.j=function(N){if(A(this)||A(N))return g;if(S(this))return S(N)?E(this).j(E(N)):E(E(this).j(N));if(S(N))return E(this.j(E(N)));if(this.l(_)<0&&N.l(_)<0)return h(this.m()*N.m());const j=this.g.length+N.g.length,k=[];for(var I=0;I<2*j;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(let P=0;P<N.g.length;P++){const L=this.i(I)>>>16,M=this.i(I)&65535,re=N.i(P)>>>16,K=N.i(P)&65535;k[2*I+2*P]+=M*K,V(k,2*I+2*P),k[2*I+2*P+1]+=L*K,V(k,2*I+2*P+1),k[2*I+2*P+1]+=M*re,V(k,2*I+2*P+1),k[2*I+2*P+2]+=L*re,V(k,2*I+2*P+2)}for(N=0;N<j;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=j;N<2*j;N++)k[N]=0;return new l(k,0)};function V(N,j){for(;(N[j]&65535)!=N[j];)N[j+1]+=N[j]>>>16,N[j]&=65535,j++}function D(N,j){this.g=N,this.h=j}function B(N,j){if(A(j))throw Error("division by zero");if(A(N))return new D(g,g);if(S(N))return j=B(E(N),j),new D(E(j.g),E(j.h));if(S(j))return j=B(N,E(j)),new D(E(j.g),j.h);if(N.g.length>30){if(S(N)||S(j))throw Error("slowDivide_ only works with positive integers.");for(var k=x,I=j;I.l(N)<=0;)k=$(k),I=$(I);var P=z(k,1),L=z(I,1);for(I=z(I,2),k=z(k,2);!A(I);){var M=L.add(I);M.l(N)<=0&&(P=P.add(k),L=M),I=z(I,1),k=z(k,1)}return j=C(N,P.j(j)),new D(P,j)}for(P=g;N.l(j)>=0;){for(k=Math.max(1,Math.floor(N.m()/j.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),L=h(k),M=L.j(j);S(M)||M.l(N)>0;)k-=I,L=h(k),M=L.j(j);A(L)&&(L=x),P=P.add(L),N=C(N,M)}return new D(P,N)}t.B=function(N){return B(this,N).h},t.and=function(N){const j=Math.max(this.g.length,N.g.length),k=[];for(let I=0;I<j;I++)k[I]=this.i(I)&N.i(I);return new l(k,this.h&N.h)},t.or=function(N){const j=Math.max(this.g.length,N.g.length),k=[];for(let I=0;I<j;I++)k[I]=this.i(I)|N.i(I);return new l(k,this.h|N.h)},t.xor=function(N){const j=Math.max(this.g.length,N.g.length),k=[];for(let I=0;I<j;I++)k[I]=this.i(I)^N.i(I);return new l(k,this.h^N.h)};function $(N){const j=N.g.length+1,k=[];for(let I=0;I<j;I++)k[I]=N.i(I)<<1|N.i(I-1)>>>31;return new l(k,N.h)}function z(N,j){const k=j>>5;j%=32;const I=N.g.length-k,P=[];for(let L=0;L<I;L++)P[L]=j>0?N.i(L+k)>>>j|N.i(L+k+1)<<32-j:N.i(L+k);return new l(P,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,rl=l}).apply(typeof SC<"u"?SC:typeof self<"u"?self:typeof window<"u"?window:{});var eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var LD,Gf,zD,jg,Dw,VD,$D,UD;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof eg=="object"&&eg];for(var T=0;T<v.length;++T){var R=v[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var R=r;v=v.split(".");for(var F=0;F<v.length-1;F++){var de=v[F];if(!(de in R))break e;R=R[de]}v=v[v.length-1],F=R[v],T=T(F),T!=F&&T!=null&&e(R,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var R=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&R.push([F,T[F]]);return R}});var s=s||{},l=this||self;function u(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function f(v,T,R){return v.call.apply(v.bind,arguments)}function h(v,T,R){return h=f,h.apply(null,arguments)}function p(v,T){var R=Array.prototype.slice.call(arguments,1);return function(){var F=R.slice();return F.push.apply(F,arguments),v.apply(this,F)}}function g(v,T){function R(){}R.prototype=T.prototype,v.Z=T.prototype,v.prototype=new R,v.prototype.constructor=v,v.Ob=function(F,de,ve){for(var Re=Array(arguments.length-2),at=2;at<arguments.length;at++)Re[at-2]=arguments[at];return T.prototype[de].apply(F,Re)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function _(v){const T=v.length;if(T>0){const R=Array(T);for(let F=0;F<T;F++)R[F]=v[F];return R}return[]}function A(v,T){for(let F=1;F<arguments.length;F++){const de=arguments[F];var R=typeof de;if(R=R!="object"?R:de?Array.isArray(de)?"array":R:"null",R=="array"||R=="object"&&typeof de.length=="number"){R=v.length||0;const ve=de.length||0;v.length=R+ve;for(let Re=0;Re<ve;Re++)v[R+Re]=de[Re]}else v.push(de)}}class S{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(v){l.setTimeout(()=>{throw v},0)}function C(){var v=N;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class V{constructor(){this.h=this.g=null}add(T,R){const F=D.get();F.set(T,R),this.h?this.h.next=F:this.g=F,this.h=F}}var D=new S(()=>new B,v=>v.reset());class B{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let $,z=!1,N=new V,j=()=>{const v=Promise.resolve(void 0);$=()=>{v.then(k)}};function k(){for(var v;v=C();){try{v.h.call(v.g)}catch(R){E(R)}var T=D;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}z=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const R=()=>{};l.addEventListener("test",R,T),l.removeEventListener("test",R,T)}catch{}return v})();function M(v){return/^[\s\xa0]*$/.test(v)}function re(v,T){P.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(re,P),re.prototype.init=function(v,T){const R=this.type=v.type,F=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(R=="mouseover"?T=v.fromElement:R=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),G=0;function ee(v,T,R,F,de){this.listener=v,this.proxy=null,this.src=T,this.type=R,this.capture=!!F,this.ha=de,this.key=++G,this.da=this.fa=!1}function pe(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function le(v,T,R){for(const F in v)T.call(R,v[F],F,v)}function J(v,T){for(const R in v)T.call(void 0,v[R],R,v)}function U(v){const T={};for(const R in v)T[R]=v[R];return T}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(v,T){let R,F;for(let de=1;de<arguments.length;de++){F=arguments[de];for(R in F)v[R]=F[R];for(let ve=0;ve<Y.length;ve++)R=Y[ve],Object.prototype.hasOwnProperty.call(F,R)&&(v[R]=F[R])}}function Z(v){this.src=v,this.g={},this.h=0}Z.prototype.add=function(v,T,R,F,de){const ve=v.toString();v=this.g[ve],v||(v=this.g[ve]=[],this.h++);const Re=fe(v,T,F,de);return Re>-1?(T=v[Re],R||(T.fa=!1)):(T=new ee(T,this.src,ve,!!F,de),T.fa=R,v.push(T)),T};function ne(v,T){const R=T.type;if(R in v.g){var F=v.g[R],de=Array.prototype.indexOf.call(F,T,void 0),ve;(ve=de>=0)&&Array.prototype.splice.call(F,de,1),ve&&(pe(T),v.g[R].length==0&&(delete v.g[R],v.h--))}}function fe(v,T,R,F){for(let de=0;de<v.length;++de){const ve=v[de];if(!ve.da&&ve.listener==T&&ve.capture==!!R&&ve.ha==F)return de}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ee={};function se(v,T,R,F,de){if(Array.isArray(T)){for(let ve=0;ve<T.length;ve++)se(v,T[ve],R,F,de);return null}return R=Et(R),v&&v[K]?v.J(T,R,u(F)?!!F.capture:!1,de):Q(v,T,R,!1,F,de)}function Q(v,T,R,F,de,ve){if(!T)throw Error("Invalid event type");const Re=u(de)?!!de.capture:!!de;let at=ze(v);if(at||(v[be]=at=new Z(v)),R=at.add(T,R,F,Re,ve),R.proxy)return R;if(F=ue(),R.proxy=F,F.src=v,F.listener=R,v.addEventListener)L||(de=Re),de===void 0&&(de=!1),v.addEventListener(T.toString(),F,de);else if(v.attachEvent)v.attachEvent(Ne(T.toString()),F);else if(v.addListener&&v.removeListener)v.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ue(){function v(R){return T.call(v.src,v.listener,R)}const T=Ie;return v}function ie(v,T,R,F,de){if(Array.isArray(T))for(var ve=0;ve<T.length;ve++)ie(v,T[ve],R,F,de);else F=u(F)?!!F.capture:!!F,R=Et(R),v&&v[K]?(v=v.i,ve=String(T).toString(),ve in v.g&&(T=v.g[ve],R=fe(T,R,F,de),R>-1&&(pe(T[R]),Array.prototype.splice.call(T,R,1),T.length==0&&(delete v.g[ve],v.h--)))):v&&(v=ze(v))&&(T=v.g[T.toString()],v=-1,T&&(v=fe(T,R,F,de)),(R=v>-1?T[v]:null)&&ce(R))}function ce(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[K])ne(T.i,v);else{var R=v.type,F=v.proxy;T.removeEventListener?T.removeEventListener(R,F,v.capture):T.detachEvent?T.detachEvent(Ne(R),F):T.addListener&&T.removeListener&&T.removeListener(F),(R=ze(T))?(ne(R,v),R.h==0&&(R.src=null,T[be]=null)):pe(v)}}}function Ne(v){return v in Ee?Ee[v]:Ee[v]="on"+v}function Ie(v,T){if(v.da)v=!0;else{T=new re(T,this);const R=v.listener,F=v.ha||v.src;v.fa&&ce(v),v=R.call(F,T)}return v}function ze(v){return v=v[be],v instanceof Z?v:null}var Ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function Et(v){return typeof v=="function"?v:(v[Ze]||(v[Ze]=function(T){return v.handleEvent(T)}),v[Ze])}function ut(){I.call(this),this.i=new Z(this),this.M=this,this.G=null}g(ut,I),ut.prototype[K]=!0,ut.prototype.removeEventListener=function(v,T,R,F){ie(this,v,T,R,F)};function tt(v,T){var R,F=v.G;if(F)for(R=[];F;F=F.G)R.push(F);if(v=v.M,F=T.type||T,typeof T=="string")T=new P(T,v);else if(T instanceof P)T.target=T.target||v;else{var de=T;T=new P(F,v),X(T,de)}de=!0;let ve,Re;if(R)for(Re=R.length-1;Re>=0;Re--)ve=T.g=R[Re],de=Ge(ve,F,!0,T)&&de;if(ve=T.g=v,de=Ge(ve,F,!0,T)&&de,de=Ge(ve,F,!1,T)&&de,R)for(Re=0;Re<R.length;Re++)ve=T.g=R[Re],de=Ge(ve,F,!1,T)&&de}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const R=v.g[T];for(let F=0;F<R.length;F++)pe(R[F]);delete v.g[T],v.h--}}this.G=null},ut.prototype.J=function(v,T,R,F){return this.i.add(String(v),T,!1,R,F)},ut.prototype.K=function(v,T,R,F){return this.i.add(String(v),T,!0,R,F)};function Ge(v,T,R,F){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let de=!0;for(let ve=0;ve<T.length;++ve){const Re=T[ve];if(Re&&!Re.da&&Re.capture==R){const at=Re.listener,An=Re.ha||Re.src;Re.fa&&ne(v.i,Re),de=at.call(An,F)!==!1&&de}}return de&&!F.defaultPrevented}function Pe(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function xt(v){v.g=Pe(()=>{v.g=null,v.i&&(v.i=!1,xt(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class Oe extends I{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(v){I.call(this),this.h=v,this.g={}}g(Me,I);var Ke=[];function Fe(v){le(v.g,function(T,R){this.g.hasOwnProperty(R)&&ce(T)},v),v.g={}}Me.prototype.N=function(){Me.Z.N.call(this),Fe(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=l.JSON.stringify,qr=l.JSON.parse,ba=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function uo(){}function xa(){}var cr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gn(){P.call(this,"d")}g(gn,P);function Zn(){P.call(this,"c")}g(Zn,P);var Zt={},wa=null;function Ei(){return wa=wa||new ut}Zt.Ia="serverreachability";function ss(v){P.call(this,Zt.Ia,v)}g(ss,P);function Mr(v){const T=Ei();tt(T,new ss(T))}Zt.STAT_EVENT="statevent";function li(v,T){P.call(this,Zt.STAT_EVENT,v),this.stat=T}g(li,P);function un(v){const T=Ei();tt(T,new li(T,v))}Zt.Ja="timingevent";function Ar(v,T){P.call(this,Zt.Ja,v),this.size=T}g(Ar,P);function Fr(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Dr(){this.g=!0}Dr.prototype.ua=function(){this.g=!1};function El(v,T,R,F,de,ve){v.info(function(){if(v.g)if(ve){var Re="",at=ve.split("&");for(let Ct=0;Ct<at.length;Ct++){var An=at[Ct].split("=");if(An.length>1){const fn=An[0];An=An[1];const Ci=fn.split("_");Re=Ci.length>=2&&Ci[1]=="type"?Re+(fn+"="+An+"&"):Re+(fn+"=redacted&")}}}else Re=null;else Re=ve;return"XMLHTTP REQ ("+F+") [attempt "+de+"]: "+T+`
`+R+`
`+Re})}function os(v,T,R,F,de,ve,Re){v.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+de+"]: "+T+`
`+R+`
`+ve+" "+Re})}function Hr(v,T,R,F){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+Al(v,R)+(F?" "+F:"")})}function Wi(v,T){v.info(function(){return"TIMEOUT: "+T})}Dr.prototype.info=function(){};function Al(v,T){if(!v.g)return T;if(!T)return null;try{const ve=JSON.parse(T);if(ve){for(v=0;v<ve.length;v++)if(Array.isArray(ve[v])){var R=ve[v];if(!(R.length<2)){var F=R[1];if(Array.isArray(F)&&!(F.length<1)){var de=F[0];if(de!="noop"&&de!="stop"&&de!="close")for(let Re=1;Re<F.length;Re++)F[Re]=""}}}}return $t(ve)}catch{return T}}var Te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},H={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ae;function Ce(){}g(Ce,uo),Ce.prototype.g=function(){return new XMLHttpRequest},Ae=new Ce;function ke(v){return encodeURIComponent(String(v))}function it(v){var T=1;v=v.split(":");const R=[];for(;T>0&&v.length;)R.push(v.shift()),T--;return v.length&&R.push(v.join(":")),R}function St(v,T,R,F){this.j=v,this.i=T,this.l=R,this.S=F||1,this.V=new Me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}var dn={},kt={};function Ai(v,T,R){v.M=1,v.A=Tl(In(T)),v.u=R,v.R=!0,fo(v,null)}function fo(v,T){v.F=Date.now(),wn(v),v.B=In(v.A);var R=v.B,F=v.S;Array.isArray(F)||(F=[String(F)]),zc(R.i,"t",F),v.C=0,R=v.j.L,v.h=new ur,v.g=Km(v.j,R?T:null,!v.u),v.P>0&&(v.O=new Oe(h(v.Y,v,v.g),v.P)),T=v.V,R=v.g,F=v.ba;var de="readystatechange";Array.isArray(de)||(de&&(Ke[0]=de.toString()),de=Ke);for(let ve=0;ve<de.length;ve++){const Re=se(R,de[ve],F||T.handleEvent,!1,T.h||T);if(!Re)break;T.g[Re.key]=Re}T=v.J?U(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),Mr(),El(v.i,v.v,v.B,v.l,v.S,v.u)}St.prototype.ba=function(v){v=v.target;const T=this.O;T&&Zi(v)==3?T.j():this.Y(v)},St.prototype.Y=function(v){try{if(v==this.g)e:{const at=Zi(this.g),An=this.g.ya(),Ct=this.g.ca();if(!(at<3)&&(at!=3||this.g&&(this.h.h||this.g.la()||dr(this.g)))){this.K||at!=4||An==7||(An==8||Ct<=0?Mr(3):Mr(2)),_a(this);var T=this.g.ca();this.X=T;var R=Dd(this);if(this.o=T==200,os(this.i,this.v,this.B,this.l,this.S,at,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,de=this.g;if((F=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(F)){var ve=F;break t}}ve=null}if(v=ve)Hr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sa(this,v);else{this.o=!1,this.m=3,un(12),ci(this),Ti(this);break e}}if(this.R){v=!0;let fn;for(;!this.K&&this.C<R.length;)if(fn=an(this,R),fn==kt){at==4&&(this.m=4,un(14),v=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==dn){this.m=4,un(15),Hr(this.i,this.l,R,"[Invalid Chunk]"),v=!1;break}else Hr(this.i,this.l,fn,null),Sa(this,fn);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||R.length!=0||this.h.h||(this.m=1,un(16),v=!1),this.o=this.o&&v,!v)Hr(this.i,this.l,R,"[Invalid Chunked Response]"),ci(this),Ti(this);else if(R.length>0&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.aa&&!Re.P&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Qd(Re),Re.P=!0,un(11))}}else Hr(this.i,this.l,R,null),Sa(this,R);at==4&&ci(this),this.o&&!this.K&&(at==4?Bm(this.j,this):(this.o=!1,wn(this)))}else cs(this.g),T==400&&R.indexOf("Unknown SID")>0?(this.m=3,un(12)):(this.m=0,un(13)),ci(this),Ti(this)}}}catch{}};function Dd(v){if(!dt(v))return v.g.la();const T=dr(v.g);if(T==="")return"";let R="";const F=T.length,de=Zi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ci(v),Ti(v),"";v.h.i=new l.TextDecoder}for(let ve=0;ve<F;ve++)v.h.h=!0,R+=v.h.i.decode(T[ve],{stream:!(de&&ve==F-1)});return T.length=0,v.h.g+=R,v.C=0,v.h.g}function dt(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function an(v,T){var R=v.C,F=T.indexOf(`
`,R);return F==-1?kt:(R=Number(T.substring(R,F)),isNaN(R)?dn:(F+=1,F+R>T.length?kt:(T=T.slice(F,F+R),v.C=F+R,T)))}St.prototype.cancel=function(){this.K=!0,ci(this)};function wn(v){v.T=Date.now()+v.H,Xi(v,v.H)}function Xi(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Fr(h(v.aa,v),T)}function _a(v){v.D&&(l.clearTimeout(v.D),v.D=null)}St.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Wi(this.i,this.B),this.M!=2&&(Mr(),un(17)),ci(this),this.m=2,Ti(this)):Xi(this,this.T-v)};function Ti(v){v.j.I==0||v.K||Bm(v.j,v)}function ci(v){_a(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,Fe(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function Sa(v,T){try{var R=v.j;if(R.I!=0&&(R.g==v||Aa(R.h,v))){if(!v.L&&Aa(R.h,v)&&R.I==3){try{var F=R.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var de=F;if(de[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<v.F)qc(R),xo(R);else break e;Rl(R),un(18)}}else R.xa=de[1],0<R.xa-R.K&&de[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Fr(h(R.Va,R),6e3));Ea(R.h)<=1&&R.ta&&(R.ta=void 0)}else Pa(R,11)}else if((v.L||R.g==v)&&qc(R),!M(T))for(de=R.Ba.g.parse(T),T=0;T<de.length;T++){let Ct=de[T];const fn=Ct[0];if(!(fn<=R.K))if(R.K=fn,Ct=Ct[1],R.I==2)if(Ct[0]=="c"){R.M=Ct[1],R.ba=Ct[2];const Ci=Ct[3];Ci!=null&&(R.ka=Ci,R.j.info("VER="+R.ka));const Ia=Ct[4];Ia!=null&&(R.za=Ia,R.j.info("SVER="+R.za));const ea=Ct[5];ea!=null&&typeof ea=="number"&&ea>0&&(F=1.5*ea,R.O=F,R.j.info("backChannelRequestTimeoutMs_="+F)),F=R;const ta=v.g;if(ta){const kl=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kl){var ve=F.h;ve.g||kl.indexOf("spdy")==-1&&kl.indexOf("quic")==-1&&kl.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(Vd(ve,ve.h),ve.h=null))}if(F.G){const Fc=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(F.wa=Fc,Mt(F.J,F.G,Fc))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-v.F,R.j.info("Handshake RTT: "+R.T+"ms")),F=R;var Re=v;if(F.na=Hm(F,F.L?F.ba:null,F.W),Re.L){$d(F.h,Re);var at=Re,An=F.O;An&&(at.H=An),at.D&&(_a(at),wn(at)),F.g=Re}else $m(F);R.i.length>0&&Oa(R)}else Ct[0]!="stop"&&Ct[0]!="close"||Pa(R,7);else R.I==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Pa(R,7):Wd(R):Ct[0]!="noop"&&R.l&&R.l.qa(Ct),R.A=0)}}Mr(4)}catch{}}var Pn=class{constructor(v,T){this.g=v,this.map=T}};function Ld(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Ea(v){return v.h?1:v.g?v.g.size:0}function Aa(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function Vd(v,T){v.g?v.g.add(T):v.h=T}function $d(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}Ld.prototype.cancel=function(){if(this.i=Ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ud(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const R of v.g.values())T=T.concat(R.G);return T}return _(v.i)}var km=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(v,T){if(v){v=v.split("&");for(let R=0;R<v.length;R++){const F=v[R].indexOf("=");let de,ve=null;F>=0?(de=v[R].substring(0,F),ve=v[R].substring(F+1)):de=v[R],T(de,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function ui(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof ui?(this.l=v.l,er(this,v.j),this.o=v.o,this.g=v.g,ho(this,v.u),this.h=v.h,Bd(this,zm(v.i)),this.m=v.m):v&&(T=String(v).match(km))?(this.l=!1,er(this,T[1]||"",!0),this.o=Ta(T[2]||""),this.g=Ta(T[3]||"",!0),ho(this,T[4]),this.h=Ta(T[5]||"",!0),Bd(this,T[6]||"",!0),this.m=Ta(T[7]||"")):(this.l=!1,this.i=new po(null,this.l))}ui.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(jl(T,Lc,!0),":");var R=this.g;return(R||T=="file")&&(v.push("//"),(T=this.o)&&v.push(jl(T,Lc,!0),"@"),v.push(ke(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&v.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&v.push("/"),v.push(jl(R,R.charAt(0)=="/"?qd:Mm,!0))),(R=this.i.toString())&&v.push("?",R),(R=this.m)&&v.push("#",jl(R,Dm)),v.join("")},ui.prototype.resolve=function(v){const T=In(this);let R=!!v.j;R?er(T,v.j):R=!!v.o,R?T.o=v.o:R=!!v.g,R?T.g=v.g:R=v.u!=null;var F=v.h;if(R)ho(T,v.u);else if(R=!!v.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var de=T.h.lastIndexOf("/");de!=-1&&(F=T.h.slice(0,de+1)+F)}if(de=F,de==".."||de==".")F="";else if(de.indexOf("./")!=-1||de.indexOf("/.")!=-1){F=de.lastIndexOf("/",0)==0,de=de.split("/");const ve=[];for(let Re=0;Re<de.length;){const at=de[Re++];at=="."?F&&Re==de.length&&ve.push(""):at==".."?((ve.length>1||ve.length==1&&ve[0]!="")&&ve.pop(),F&&Re==de.length&&ve.push("")):(ve.push(at),F=!0)}F=ve.join("/")}else F=de}return R?T.h=F:R=v.i.toString()!=="",R?Bd(T,zm(v.i)):R=!!v.m,R&&(T.m=v.m),T};function In(v){return new ui(v)}function er(v,T,R){v.j=R?Ta(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function ho(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function Bd(v,T,R){T instanceof po?(v.i=T,Vc(v.i,v.l)):(R||(T=jl(T,mo)),v.i=new po(T,v.l))}function Mt(v,T,R){v.i.set(T,R)}function Tl(v){return Mt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Ta(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function jl(v,T,R){return typeof v=="string"?(v=encodeURI(v).replace(T,Kr),R&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Kr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Lc=/[#\/\?@]/g,Mm=/[#\?:]/g,qd=/[#\?]/g,mo=/[#\?@]/g,Dm=/#/g;function po(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Gr(v){v.g||(v.g=new Map,v.h=0,v.i&&Dc(v.i,function(T,R){v.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=po.prototype,t.add=function(v,T){Gr(this),this.i=null,v=go(this,v);let R=this.g.get(v);return R||this.g.set(v,R=[]),R.push(T),this.h+=1,this};function Lm(v,T){Gr(v),T=go(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function Fd(v,T){return Gr(v),T=go(v,T),v.g.has(T)}t.forEach=function(v,T){Gr(this),this.g.forEach(function(R,F){R.forEach(function(de){v.call(T,de,F,this)},this)},this)};function Hd(v,T){Gr(v);let R=[];if(typeof T=="string")Fd(v,T)&&(R=R.concat(v.g.get(go(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)R=R.concat(v[T]);return R}t.set=function(v,T){return Gr(this),this.i=null,v=go(this,v),Fd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=Hd(this,v),v.length>0?String(v[0]):T):T};function zc(v,T,R){Lm(v,T),R.length>0&&(v.i=null,v.g.set(go(v,T),_(R)),v.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var R=T[F];const de=ke(R);R=Hd(this,R);for(let ve=0;ve<R.length;ve++){let Re=de;R[ve]!==""&&(Re+="="+ke(R[ve])),v.push(Re)}}return this.i=v.join("&")};function zm(v){const T=new po;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function go(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Vc(v,T){T&&!v.j&&(Gr(v),v.i=null,v.g.forEach(function(R,F){const de=F.toLowerCase();F!=de&&(Lm(this,F),zc(this,de,R))},v)),v.j=T}function Qi(v,T){const R=new Dr;if(l.Image){const F=new Image;F.onload=p(ji,R,"TestLoadImage: loaded",!0,T,F),F.onerror=p(ji,R,"TestLoadImage: error",!1,T,F),F.onabort=p(ji,R,"TestLoadImage: abort",!1,T,F),F.ontimeout=p(ji,R,"TestLoadImage: timeout",!1,T,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=v}else T(!1)}function Kd(v,T){const R=new Dr,F=new AbortController,de=setTimeout(()=>{F.abort(),ji(R,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:F.signal}).then(ve=>{clearTimeout(de),ve.ok?ji(R,"TestPingServer: ok",!0,T):ji(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(de),ji(R,"TestPingServer: error",!1,T)})}function ji(v,T,R,F,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),F(R)}catch{}}function vo(){this.g=new ba}function ja(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ja,uo),ja.prototype.g=function(){return new Nl(this.i,this.h)};function Nl(v,T){ut.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Nl,ut),t=Nl.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,Ji(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$c(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function $c(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?yo(this):Ji(this),this.readyState==3&&$c(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,yo(this))},t.Na=function(v){this.g&&(this.response=v,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Ji(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,v.push(R[0]+": "+R[1]),R=T.next();return v.join(`\r
`)};function Ji(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ni(v){let T="";return le(v,function(R,F){T+=F,T+=":",T+=R,T+=`\r
`}),T}function Cl(v,T,R){e:{for(F in R){var F=!1;break e}F=!0}F||(R=Ni(R),typeof v=="string"?R!=null&&ke(R):Mt(v,T,R))}function Ut(v){ut.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ut,ut);var Na=/^https?$/i,Gd=["POST","PUT"];t=Ut.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,R,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ae.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(ve){Ol(this,ve);return}if(v=R||"",R=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var de in F)R.set(de,F[de]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ve of F.keys())R.set(ve,F.get(ve));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(R.keys()).find(ve=>ve.toLowerCase()=="content-type"),de=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Gd,T,void 0)>=0)||F||de||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,Re]of R)this.g.setRequestHeader(ve,Re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ve){Ol(this,ve)}};function Ol(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,Yd(v),ls(v)}function Yd(v){v.A||(v.A=!0,tt(v,"complete"),tt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,tt(this,"complete"),tt(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pl(this):this.Xa())},t.Xa=function(){Pl(this)};function Pl(v){if(v.h&&typeof s<"u"){if(v.v&&Zi(v)==4)setTimeout(v.Ca.bind(v),0);else if(tt(v,"readystatechange"),Zi(v)==4){v.h=!1;try{const ve=v.ca();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var F;if(F=ve===0){let Re=String(v.D).match(km)[1]||null;!Re&&l.self&&l.self.location&&(Re=l.self.location.protocol.slice(0,-1)),F=!Na.test(Re?Re.toLowerCase():"")}R=F}if(R)tt(v,"complete"),tt(v,"success");else{v.o=6;try{var de=Zi(v)>2?v.g.statusText:""}catch{de=""}v.l=de+" ["+v.ca()+"]",Yd(v)}}finally{ls(v)}}}}function ls(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const R=v.g;v.g=null,T||tt(v,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),qr(T)}};function dr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(v){const T={};v=(v.g&&Zi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<v.length;F++){if(M(v[F]))continue;var R=it(v[F]);const de=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ve=T[de]||[];T[de]=ve,ve.push(R)}J(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(v,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[v]||T}function bo(v){this.za=0,this.i=[],this.j=new Dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ca("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ca("baseRetryDelayMs",5e3,v),this.Za=Ca("retryDelaySeedMs",1e4,v),this.Ta=Ca("forwardChannelMaxRetries",2,v),this.va=Ca("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Ld(v&&v.concurrentRequestLimit),this.Ba=new vo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=bo.prototype,t.ka=8,t.I=1,t.connect=function(v,T,R,F){un(0),this.W=v,this.H=T||{},R&&F!==void 0&&(this.H.OSID=R,this.H.OAID=F),this.F=this.X,this.J=Hm(this,null,this.W),Oa(this)};function Wd(v){if(Uc(v),v.I==3){var T=v.V++,R=In(v.J);if(Mt(R,"SID",v.M),Mt(R,"RID",T),Mt(R,"TYPE","terminate"),Il(v,R),T=new St(v,v.j,T),T.M=2,T.A=Tl(In(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!R&&l.Image&&(new Image().src=T.A,R=!0),R||(T.g=Km(T.j,null),T.g.ea(T.A)),T.F=Date.now(),wn(T)}Fm(v)}function xo(v){v.g&&(Qd(v),v.g.cancel(),v.g=null)}function Uc(v){xo(v),v.v&&(l.clearTimeout(v.v),v.v=null),qc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function Oa(v){if(!zd(v.h)&&!v.m){v.m=!0;var T=v.Ea;$||j(),z||($(),z=!0),N.add(T,v),v.D=0}}function Bc(v,T){return Ea(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Fr(h(v.Ea,v,T),qm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const de=new St(this,this.j,v);let ve=this.o;if(this.U&&(ve?(ve=U(ve),X(ve,this.U)):ve=this.U),this.u!==null||this.R||(de.J=ve,ve=null),this.S)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var F=this.i[R];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=Vm(this,de,T),R=In(this.J),Mt(R,"RID",v),Mt(R,"CVER",22),this.G&&Mt(R,"X-HTTP-Session-Id",this.G),Il(this,R),ve&&(this.R?T="headers="+ke(Ni(ve))+"&"+T:this.u&&Cl(R,this.u,ve)),Vd(this.h,de),this.Ra&&Mt(R,"TYPE","init"),this.S?(Mt(R,"$req",T),Mt(R,"SID","null"),de.U=!0,Ai(de,R,null)):Ai(de,R,T),this.I=2}}else this.I==3&&(v?Xd(this,v):this.i.length==0||zd(this.h)||Xd(this))};function Xd(v,T){var R;T?R=T.l:R=v.V++;const F=In(v.J);Mt(F,"SID",v.M),Mt(F,"RID",R),Mt(F,"AID",v.K),Il(v,F),v.u&&v.o&&Cl(F,v.u,v.o),R=new St(v,v.j,R,v.D+1),v.u===null&&(R.J=v.o),T&&(v.i=T.G.concat(v.i)),T=Vm(v,R,1e3),R.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Vd(v.h,R),Ai(R,F,T)}function Il(v,T){v.H&&le(v.H,function(R,F){Mt(T,F,R)}),v.l&&le({},function(R,F){Mt(T,F,R)})}function Vm(v,T,R){R=Math.min(v.i.length,R);const F=v.l?h(v.l.Ka,v.l,v):null;e:{var de=v.i;let at=-1;for(;;){const An=["count="+R];at==-1?R>0?(at=de[0].g,An.push("ofs="+at)):at=0:An.push("ofs="+at);let Ct=!0;for(let fn=0;fn<R;fn++){var ve=de[fn].g;const Ci=de[fn].map;if(ve-=at,ve<0)at=Math.max(0,de[fn].g-100),Ct=!1;else try{ve="req"+ve+"_"||"";try{var Re=Ci instanceof Map?Ci:Object.entries(Ci);for(const[Ia,ea]of Re){let ta=ea;u(ea)&&(ta=$t(ea)),An.push(ve+Ia+"="+encodeURIComponent(ta))}}catch(Ia){throw An.push(ve+"type="+encodeURIComponent("_badmap")),Ia}}catch{F&&F(Ci)}}if(Ct){Re=An.join("&");break e}}Re=void 0}return v=v.i.splice(0,R),T.G=v,Re}function $m(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;$||j(),z||($(),z=!0),N.add(T,v),v.A=0}}function Rl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Fr(h(v.Da,v),qm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Um(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Fr(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,un(10),xo(this),Um(this))};function Qd(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function Um(v){v.g=new St(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=In(v.na);Mt(T,"RID","rpc"),Mt(T,"SID",v.M),Mt(T,"AID",v.K),Mt(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&Mt(T,"TO",v.ia),Mt(T,"TYPE","xmlhttp"),Il(v,T),v.u&&v.o&&Cl(T,v.u,v.o),v.O&&(v.g.H=v.O);var R=v.g;v=v.ba,R.M=1,R.A=Tl(In(T)),R.u=null,R.R=!0,fo(R,v)}t.Va=function(){this.C!=null&&(this.C=null,xo(this),Rl(this),un(19))};function qc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Bm(v,T){var R=null;if(v.g==T){qc(v),Qd(v),v.g=null;var F=2}else if(Aa(v.h,T))R=T.G,$d(v.h,T),F=1;else return;if(v.I!=0){if(T.o)if(F==1){R=T.u?T.u.length:0,T=Date.now()-T.F;var de=v.D;F=Ei(),tt(F,new Ar(F,R)),Oa(v)}else $m(v);else if(de=T.m,de==3||de==0&&T.X>0||!(F==1&&Bc(v,T)||F==2&&Rl(v)))switch(R&&R.length>0&&(T=v.h,T.i=T.i.concat(R)),de){case 1:Pa(v,5);break;case 4:Pa(v,10);break;case 3:Pa(v,6);break;default:Pa(v,2)}}}function qm(v,T){let R=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(R*=2),R*T}function Pa(v,T){if(v.j.info("Error code "+T),T==2){var R=h(v.bb,v),F=v.Ua;const de=!F;F=new ui(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||er(F,"https"),Tl(F),de?Qi(F.toString(),R):Kd(F.toString(),R)}else un(2);v.I=0,v.l&&v.l.pa(T),Fm(v),Uc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function Fm(v){if(v.I=0,v.ja=[],v.l){const T=Ud(v.h);(T.length!=0||v.i.length!=0)&&(A(v.ja,T),A(v.ja,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.oa()}}function Hm(v,T,R){var F=R instanceof ui?In(R):new ui(R);if(F.g!="")T&&(F.g=T+"."+F.g),ho(F,F.u);else{var de=l.location;F=de.protocol,T=T?T+"."+de.hostname:de.hostname,de=+de.port;const ve=new ui(null);F&&er(ve,F),T&&(ve.g=T),de&&ho(ve,de),R&&(ve.h=R),F=ve}return R=v.G,T=v.wa,R&&T&&Mt(F,R,T),Mt(F,"VER",v.ka),Il(v,F),F}function Km(v,T,R){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new Ut(new ja({ab:R})):new Ut(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gm(){}t=Gm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wo(){}wo.prototype.g=function(v,T){return new Lr(v,T)};function Lr(v,T){ut.call(this),this.g=new bo(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!M(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new us(this)}g(Lr,ut),Lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lr.prototype.close=function(){Wd(this.g)},Lr.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var R={};R.__data__=v,v=R}else this.v&&(R={},R.__data__=$t(v),v=R);T.i.push(new Pn(T.Ya++,v)),T.I==3&&Oa(T)},Lr.prototype.N=function(){this.g.l=null,delete this.j,Wd(this.g),delete this.g,Lr.Z.N.call(this)};function Ym(v){gn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const R in T){v=R;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(Ym,gn);function Wm(){Zn.call(this),this.status=1}g(Wm,Zn);function us(v){this.g=v}g(us,Gm),us.prototype.ra=function(){tt(this.g,"a")},us.prototype.qa=function(v){tt(this.g,new Ym(v))},us.prototype.pa=function(v){tt(this.g,new Wm)},us.prototype.oa=function(){tt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Lr.prototype.send=Lr.prototype.o,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,UD=function(){return new wo},$D=function(){return Ei()},VD=Zt,Dw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,jg=Te,H.COMPLETE="complete",zD=H,xa.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Gf=xa,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,LD=Ut}).apply(typeof eg<"u"?eg:typeof self<"u"?self:typeof window<"u"?window:{});const EC="@firebase/firestore",AC="4.9.3";let Cr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");let hd="12.7.0";const vc=new oS("@firebase/firestore");function Su(){return vc.logLevel}function Ue(t,...e){if(vc.logLevel<=gt.DEBUG){const n=e.map(yS);vc.debug(`Firestore (${hd}): ${t}`,...n)}}function Bs(t,...e){if(vc.logLevel<=gt.ERROR){const n=e.map(yS);vc.error(`Firestore (${hd}): ${t}`,...n)}}function Ku(t,...e){if(vc.logLevel<=gt.WARN){const n=e.map(yS);vc.warn(`Firestore (${hd}): ${t}`,...n)}}function yS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BD(t,r,n)}function BD(t,e,n){let r=`FIRESTORE (${hd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bs(r),new Error(r)}function It(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||BD(e,i,r)}function rt(t,e){return t}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class qD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Cr.UNAUTHENTICATED)))}shutdown(){}}class E7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class A7{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){It(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ms,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ms)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new qD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new Cr(e)}}class T7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new T7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Cr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){It(this.o===void 0,3512);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function C7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class bS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=C7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function Lw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Rx(i)===Rx(s)?vt(i,s):Rx(i)?1:-1}return vt(t.length,e.length)}const O7=55296,P7=57343;function Rx(t){const e=t.charCodeAt(0);return e>=O7&&e<=P7}function Gu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const jC="__name__";class za{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=za.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return vt(e.length,n.length)}static compareSegments(e,n){const r=za.isNumericId(e),i=za.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?za.extractNumericId(e).compare(za.extractNumericId(n)):Lw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rl.fromString(e.substring(4,e.length-2))}}class tn extends za{construct(e,n,r){return new tn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new tn(n)}static emptyPath(){return new tn([])}}const I7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends za{construct(e,n,r){return new _r(e,n,r)}static isValidIdentifier(e){return I7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jC}static keyField(){return new _r([jC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new De(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new De(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new De(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new De(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(tn.fromString(e))}static fromName(e){return new We(tn.fromString(e).popFirst(5))}static empty(){return new We(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new tn(e.slice()))}}function FD(t,e,n){if(!n)throw new De(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R7(t,e,n,r){if(e===!0&&r===!0)throw new De(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NC(t){if(!We.isDocumentKey(t))throw new De(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CC(t){if(We.isDocumentKey(t))throw new De(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function Sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fv(t);throw new De(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function k7(t,e){if(e<=0)throw new De(we.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function $n(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wh(t,e){if(!HD(t))throw new De(we.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new De(we.INVALID_ARGUMENT,n);return!0}const OC=-62135596800,PC=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*PC);return new Yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OC)throw new De(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PC}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wh(e,Yt._jsonSchema))return new Yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:$n("string",Yt._jsonSchemaVersion),seconds:$n("number"),nanoseconds:$n("number")};class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Yt(0,0))}static max(){return new et(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fh=-1;function M7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new ol(i,We.empty(),e)}function D7(t){return new ol(t.readTime,t.key,fh)}class ol{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ol(et.min(),We.empty(),fh)}static max(){return new ol(et.max(),We.empty(),fh)}}function L7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}const z7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function md(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==z7)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):je.reject(n)}static resolve(e){return new je(((n,r)=>{n(e)}))}static reject(e){return new je(((n,r)=>{r(e)}))}static waitFor(e){return new je(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next((i=>i?je.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new je(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new je(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function $7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pd(t){return t.name==="IndexedDbTransactionError"}class hv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hv.ce=-1;const xS=-1;function mv(t){return t==null}function Yg(t){return t===0&&1/t==-1/0}function U7(t){return typeof t=="number"&&Number.isInteger(t)&&!Yg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const KD="";function B7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IC(e)),e=q7(t.get(n),e);return IC(e)}function q7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case KD:n+="";break;default:n+=s}}return n}function IC(t){return t+KD+""}function RC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bn{constructor(e,n){this.comparator=e,this.root=n||xr.EMPTY}insert(e,n){return new bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tg(this.root,e,this.comparator,!0)}}class tg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xr.RED,this.left=i??xr.EMPTY,this.right=s??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1;xr.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new xr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kC(this.data.getIterator())}getIteratorFrom(e){return new kC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kn(this.comparator);return n.data=e,n}}class kC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bi{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new bi([])}unionWith(e){let n=new Kn(_r.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class YD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YD("Invalid base64 string: "+s):s}})(e);return new Er(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const F7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(t){if(It(!!t,39018),typeof t=="string"){let e=0;const n=F7.exec(t);if(It(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cn(t.seconds),nanos:Cn(t.nanos)}}function Cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}const WD="server_timestamp",XD="__type__",QD="__previous_value__",JD="__local_write_time__";function wS(t){return(t?.mapValue?.fields||{})[XD]?.stringValue===WD}function pv(t){const e=t.mapValue.fields[QD];return wS(e)?pv(e):e}function hh(t){const e=ll(t.mapValue.fields[JD].timestampValue);return new Yt(e.seconds,e.nanos)}class H7{constructor(e,n,r,i,s,l,u,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Wg="(default)";class mh{constructor(e,n){this.projectId=e,this.database=n||Wg}static empty(){return new mh("","")}get isDefaultDatabase(){return this.database===Wg}isEqual(e){return e instanceof mh&&e.projectId===this.projectId&&e.database===this.database}}const ZD="__type__",K7="__max__",ng={mapValue:{}},e4="__vector__",Xg="value";function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wS(t)?4:Y7(t)?9007199254740991:G7(t)?10:11:Qe(28295,{value:t})}function Xa(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=ll(i.timestampValue),u=ll(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return cl(i.bytesValue).isEqual(cl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Cn(i.geoPointValue.latitude)===Cn(s.geoPointValue.latitude)&&Cn(i.geoPointValue.longitude)===Cn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Cn(i.integerValue)===Cn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Cn(i.doubleValue),u=Cn(s.doubleValue);return l===u?Yg(l)===Yg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(RC(l)!==RC(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Xa(l[f],u[f])))return!1;return!0})(t,e);default:return Qe(52216,{left:t})}}function ph(t,e){return(t.values||[]).find((n=>Xa(n,e)))!==void 0}function Yu(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=Cn(s.integerValue||s.doubleValue),f=Cn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return MC(t.timestampValue,e.timestampValue);case 4:return MC(hh(t),hh(e));case 5:return Lw(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=cl(s),f=cl(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=vt(u[h],f[h]);if(p!==0)return p}return vt(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=vt(Cn(s.latitude),Cn(l.latitude));return u!==0?u:vt(Cn(s.longitude),Cn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DC(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},f=l.fields||{},h=u[Xg]?.arrayValue,p=f[Xg]?.arrayValue,g=vt(h?.values?.length||0,p?.values?.length||0);return g!==0?g:DC(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===ng.mapValue&&l===ng.mapValue)return 0;if(s===ng.mapValue)return 1;if(l===ng.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=Lw(f[g],p[g]);if(x!==0)return x;const _=Yu(u[f[g]],h[p[g]]);if(_!==0)return _}return vt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Qe(23264,{he:n})}}function MC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=ll(t),r=ll(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function DC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yu(n[i],r[i]);if(s)return s}return vt(n.length,r.length)}function Wu(t){return zw(t)}function zw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ll(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return cl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return We.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${zw(n.fields[l])}`;return i+"}"})(t.mapValue):Qe(61005,{value:t})}function Ng(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pv(t);return e?16+Ng(e):16;case 5:return 2*t.stringValue.length;case 6:return cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Ng(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vl(r.fields,((s,l)=>{i+=s.length+Ng(l)})),i})(t.mapValue);default:throw Qe(13486,{value:t})}}function LC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vw(t){return!!t&&"integerValue"in t}function _S(t){return!!t&&"arrayValue"in t}function zC(t){return!!t&&"nullValue"in t}function VC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cg(t){return!!t&&"mapValue"in t}function G7(t){return(t?.mapValue?.fields||{})[ZD]?.stringValue===e4}function rh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=rh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rh(t.arrayValue.values[n]);return e}return{...t}}function Y7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===K7}class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(n)}setAll(e){let n=_r.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=rh(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new ni(rh(this.value))}}function t4(t){const e=[];return vl(t.fields,((n,r)=>{const i=new _r([n]);if(Cg(r)){const s=t4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new bi(e)}class Or{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Or(e,0,et.min(),et.min(),et.min(),ni.empty(),0)}static newFoundDocument(e,n,r,i){return new Or(e,1,n,et.min(),r,i,0)}static newNoDocument(e,n){return new Or(e,2,n,et.min(),et.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,et.min(),et.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qg{constructor(e,n){this.position=e,this.inclusive=n}}function $C(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=We.comparator(We.fromName(l.referenceValue),n.key):r=Yu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function UC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xa(t.position[n],e.position[n]))return!1;return!0}class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function W7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class n4{}class Vn extends n4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q7(e,n,r):n==="array-contains"?new eq(e,r):n==="in"?new tq(e,r):n==="not-in"?new nq(e,r):n==="array-contains-any"?new rq(e,r):new Vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J7(e,r):new Z7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yu(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(Yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends n4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ha(e,n)}matches(e){return r4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r4(t){return t.op==="and"}function i4(t){return X7(t)&&r4(t)}function X7(t){for(const e of t.filters)if(e instanceof ha)return!1;return!0}function $w(t){if(t instanceof Vn)return t.field.canonicalString()+t.op.toString()+Wu(t.value);if(i4(t))return t.filters.map((e=>$w(e))).join(",");{const e=t.filters.map((n=>$w(n))).join(",");return`${t.op}(${e})`}}function a4(t,e){return t instanceof Vn?(function(r,i){return i instanceof Vn&&r.op===i.op&&r.field.isEqual(i.field)&&Xa(r.value,i.value)})(t,e):t instanceof ha?(function(r,i){return i instanceof ha&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&a4(l,i.filters[u])),!0):!1})(t,e):void Qe(19439)}function s4(t){return t instanceof Vn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wu(n.value)}`})(t):t instanceof ha?(function(n){return n.op.toString()+" {"+n.getFilters().map(s4).join(" ,")+"}"})(t):"Filter"}class Q7 extends Vn{constructor(e,n,r){super(e,n,r),this.key=We.fromName(r.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class J7 extends Vn{constructor(e,n){super(e,"in",n),this.keys=o4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Z7 extends Vn{constructor(e,n){super(e,"not-in",n),this.keys=o4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function o4(t,e){return(e.arrayValue?.values||[]).map((n=>We.fromName(n.referenceValue)))}class eq extends Vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _S(n)&&ph(n.arrayValue,this.value)}}class tq extends Vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ph(this.value.arrayValue,n)}}class nq extends Vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ph(this.value.arrayValue,n)}}class rq extends Vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_S(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ph(this.value.arrayValue,r)))}}class iq{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function BC(t,e=null,n=[],r=[],i=null,s=null,l=null){return new iq(t,e,n,r,i,s,l)}function SS(t){const e=rt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$w(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),mv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wu(r))).join(",")),e.Te=n}return e.Te}function ES(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UC(t.startAt,e.startAt)&&UC(t.endAt,e.endAt)}function Uw(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class gd{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aq(t,e,n,r,i,s,l,u){return new gd(t,e,n,r,i,s,l,u)}function gv(t){return new gd(t)}function qC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l4(t){return t.collectionGroup!==null}function ih(t){const e=rt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Kn(_r.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new gh(s,r))})),n.has(_r.keyField().canonicalString())||e.Ie.push(new gh(_r.keyField(),r))}return e.Ie}function Ha(t){const e=rt(t);return e.Ee||(e.Ee=sq(e,ih(t))),e.Ee}function sq(t,e){if(t.limitType==="F")return BC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new gh(i.field,s)}));const n=t.endAt?new Qg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qg(t.startAt.position,t.startAt.inclusive):null;return BC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bw(t,e){const n=t.filters.concat([e]);return new gd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jg(t,e,n){return new gd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vv(t,e){return ES(Ha(t),Ha(e))&&t.limitType===e.limitType}function c4(t){return`${SS(Ha(t))}|lt:${t.limitType}`}function Eu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>s4(i))).join(", ")}]`),mv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Wu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Wu(i))).join(",")),`Target(${r})`})(Ha(t))}; limitType=${t.limitType})`}function yv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):We.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of ih(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const h=$C(l,u,f);return l.inclusive?h<=0:h<0})(r.startAt,ih(r),i)||r.endAt&&!(function(l,u,f){const h=$C(l,u,f);return l.inclusive?h>=0:h>0})(r.endAt,ih(r),i))})(t,e)}function oq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u4(t){return(e,n)=>{let r=!1;for(const i of ih(t)){const s=lq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lq(t,e,n){const r=t.field.isKeyField()?We.comparator(e.key,n.key):(function(s,l,u){const f=l.data.field(s),h=u.data.field(s);return f!==null&&h!==null?Yu(f,h):Qe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return GD(this.inner)}size(){return this.innerSize}}const cq=new bn(We.comparator);function qs(){return cq}const d4=new bn(We.comparator);function Yf(...t){let e=d4;for(const n of t)e=e.insert(n.key,n);return e}function f4(t){let e=d4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function tc(){return ah()}function h4(){return ah()}function ah(){return new Cc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const uq=new bn(We.comparator),dq=new Kn(We.comparator);function yt(...t){let e=dq;for(const n of t)e=e.add(n);return e}const fq=new Kn(vt);function hq(){return fq}function AS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yg(e)?"-0":e}}function m4(t){return{integerValue:""+t}}function mq(t,e){return U7(e)?m4(e):AS(t,e)}class bv{constructor(){this._=void 0}}function pq(t,e,n){return t instanceof vh?(function(i,s){const l={fields:{[XD]:{stringValue:WD},[JD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wS(s)&&(s=pv(s)),s&&(l.fields[QD]=s),{mapValue:l}})(n,e):t instanceof yh?g4(t,e):t instanceof bh?v4(t,e):(function(i,s){const l=p4(i,s),u=FC(l)+FC(i.Ae);return Vw(l)&&Vw(i.Ae)?m4(u):AS(i.serializer,u)})(t,e)}function gq(t,e,n){return t instanceof yh?g4(t,e):t instanceof bh?v4(t,e):n}function p4(t,e){return t instanceof Zg?(function(r){return Vw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class vh extends bv{}class yh extends bv{constructor(e){super(),this.elements=e}}function g4(t,e){const n=y4(e);for(const r of t.elements)n.some((i=>Xa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class bh extends bv{constructor(e){super(),this.elements=e}}function v4(t,e){let n=y4(e);for(const r of t.elements)n=n.filter((i=>!Xa(i,r)));return{arrayValue:{values:n}}}class Zg extends bv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FC(t){return Cn(t.integerValue||t.doubleValue)}function y4(t){return _S(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class vq{constructor(e,n){this.field=e,this.transform=n}}function yq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof yh&&i instanceof yh||r instanceof bh&&i instanceof bh?Gu(r.elements,i.elements,Xa):r instanceof Zg&&i instanceof Zg?Xa(r.Ae,i.Ae):r instanceof vh&&i instanceof vh})(t.transform,e.transform)}class bq{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xv{}function b4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wv(t.key,Ur.none()):new Xh(t.key,t.data,Ur.none());{const n=t.data,r=ni.empty();let i=new Kn(_r.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new yl(t.key,r,new bi(i.toArray()),Ur.none())}}function xq(t,e,n){t instanceof Xh?(function(i,s,l){const u=i.value.clone(),f=KC(i.fieldTransforms,s,l.transformResults);u.setAll(f),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof yl?(function(i,s,l){if(!Og(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=KC(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(x4(i)),f.setAll(u),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function sh(t,e,n,r){return t instanceof Xh?(function(s,l,u,f){if(!Og(s.precondition,l))return u;const h=s.value.clone(),p=GC(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof yl?(function(s,l,u,f){if(!Og(s.precondition,l))return u;const h=GC(s.fieldTransforms,f,l),p=l.data;return p.setAll(x4(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return Og(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function wq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=p4(r.transform,i||null);s!=null&&(n===null&&(n=ni.empty()),n.set(r.field,s))}return n||null}function HC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gu(r,i,((s,l)=>yq(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xh extends xv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yl extends xv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function x4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KC(t,e,n){const r=new Map;It(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,gq(l,u,n[i]))}return r}function GC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,pq(s,l,e))}return r}class wv extends xv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _q extends xv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=h4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const f=b4(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(et.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),yt())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,((n,r)=>HC(n,r)))&&Gu(this.baseMutations,e.baseMutations,((n,r)=>HC(n,r)))}}class TS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){It(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return uq})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new TS(e,n,r,i)}}class Eq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Aq{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ln,wt;function Tq(t){switch(t){case we.OK:return Qe(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function w4(t){if(t===void 0)return Bs("GRPC error has no .code"),we.UNKNOWN;switch(t){case Ln.OK:return we.OK;case Ln.CANCELLED:return we.CANCELLED;case Ln.UNKNOWN:return we.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return we.INTERNAL;case Ln.UNAVAILABLE:return we.UNAVAILABLE;case Ln.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Ln.NOT_FOUND:return we.NOT_FOUND;case Ln.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Ln.ABORTED:return we.ABORTED;case Ln.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Ln.DATA_LOSS:return we.DATA_LOSS;default:return Qe(39323,{code:t})}}(wt=Ln||(Ln={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";function jq(){return new TextEncoder}const Nq=new rl([4294967295,4294967295],0);function YC(t){const e=jq().encode(t),n=new DD;return n.update(e),new Uint8Array(n.digest())}function WC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rl([n,r],0),new rl([i,s],0)]}class jS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wf(`Invalid padding: ${n}`);if(r<0)throw new Wf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(rl.fromNumber(r)));return i.compare(Nq)===1&&(i=new rl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YC(e),[r,i]=WC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new jS(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=YC(e),[r,i]=WC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _v{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _v(et.min(),i,new bn(vt),qs(),yt())}}class Qh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qh(r,n,yt(),yt(),yt())}}class Pg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class _4{constructor(e,n){this.targetId=e,this.Ce=n}}class S4{constructor(e,n,r=Er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XC{constructor(){this.ve=0,this.Fe=QC(),this.Me=Er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),n=yt(),r=yt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe(38017,{changeType:s})}})),new Qh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Cq{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=rg(),this.He=rg(),this.Ye=new bn(vt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Uw(s))if(r===0){const l=new We(s.path);this.et(n,l,Or.newNoDocument(l,et.min()))}else It(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=cl(r).toUint8Array()}catch(f){if(f instanceof YD)return Ku("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new jS(l,i,s)}catch(f){return Ku(f instanceof Wf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&Uw(u.target)){const f=new We(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Or.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=yt();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new _v(e,n,this.Ye,this.je,r);return this.je=qs(),this.Je=rg(),this.He=rg(),this.Ye=new bn(vt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kn(vt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kn(vt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rg(){return new bn(We.comparator)}function QC(){return new bn(We.comparator)}const Oq={asc:"ASCENDING",desc:"DESCENDING"},Pq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iq={and:"AND",or:"OR"};class Rq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qw(t,e){return t.useProto3Json||mv(e)?e:{value:e}}function e0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kq(t,e){return e0(t,e.toTimestamp())}function Ka(t){return It(!!t,49232),et.fromTimestamp((function(n){const r=ll(n);return new Yt(r.seconds,r.nanos)})(t))}function NS(t,e){return Fw(t,e).canonicalString()}function Fw(t,e){const n=(function(i){return new tn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function A4(t){const e=tn.fromString(t);return It(O4(e),10190,{key:e.toString()}),e}function Hw(t,e){return NS(t.databaseId,e.path)}function kx(t,e){const n=A4(e);if(n.get(1)!==t.databaseId.projectId)throw new De(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new We(j4(n))}function T4(t,e){return NS(t.databaseId,e)}function Mq(t){const e=A4(t);return e.length===4?tn.emptyPath():j4(e)}function Kw(t){return new tn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j4(t){return It(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JC(t,e,n){return{name:Hw(t,e),fields:n.value.mapValue.fields}}function Dq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Qe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(It(p===void 0||typeof p=="string",58123),Er.fromBase64String(p||"")):(It(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Er.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?we.UNKNOWN:w4(h.code);return new De(p,h.message||"")})(l);n=new S4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kx(t,r.document.name),s=Ka(r.document.updateTime),l=r.document.createTime?Ka(r.document.createTime):et.min(),u=new ni({mapValue:{fields:r.document.fields}}),f=Or.newFoundDocument(i,s,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Pg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kx(t,r.document),s=r.readTime?Ka(r.readTime):et.min(),l=Or.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Pg([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kx(t,r.document),s=r.removedTargetIds||[];n=new Pg([],s,i,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Aq(i,s),u=r.targetId;n=new _4(u,l)}}return n}function Lq(t,e){let n;if(e instanceof Xh)n={update:JC(t,e.key,e.value)};else if(e instanceof wv)n={delete:Hw(t,e.key)};else if(e instanceof yl)n={update:JC(t,e.key,e.data),updateMask:Kq(e.fieldMask)};else{if(!(e instanceof _q))return Qe(16599,{Vt:e.type});n={verify:Hw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof vh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof bh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Zg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Qe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:kq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Qe(27497)})(t,e.precondition)),n}function zq(t,e){return t&&t.length>0?(It(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ka(i.updateTime):Ka(s);return l.isEqual(et.min())&&(l=Ka(s)),new bq(l,i.transformResults||[])})(n,e)))):[]}function Vq(t,e){return{documents:[T4(t,e.path)]}}function $q(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=T4(t,i);const s=(function(h){if(h.length!==0)return C4(ha.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:Au(x.field),direction:qq(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=qw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function Uq(t){let e=Mq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){It(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=N4(g);return x instanceof ha&&i4(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((x=>(function(A){return new gh(Tu(A.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let x;return x=typeof g=="object"?g.value:g,mv(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,_=g.values||[];return new Qg(_,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,_=g.values||[];return new Qg(_,x)})(n.endAt)),aq(e,i,l,s,u,"F",f,h)}function Bq(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tu(n.unaryFilter.field);return Vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tu(n.unaryFilter.field);return Vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tu(n.unaryFilter.field);return Vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tu(n.unaryFilter.field);return Vn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Vn.create(Tu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ha.create(n.compositeFilter.filters.map((r=>N4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(n.compositeFilter.op))})(t):Qe(30097,{filter:t})}function qq(t){return Oq[t]}function Fq(t){return Pq[t]}function Hq(t){return Iq[t]}function Au(t){return{fieldPath:t.canonicalString()}}function Tu(t){return _r.fromServerFormat(t.fieldPath)}function C4(t){return t instanceof Vn?(function(n){if(n.op==="=="){if(VC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NAN"}};if(zC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NAN"}};if(zC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(n.field),op:Fq(n.op),value:n.value}}})(t):t instanceof ha?(function(n){const r=n.getFilters().map((i=>C4(i)));return r.length===1?r[0]:{compositeFilter:{op:Hq(n.op),filters:r}}})(t):Qe(54877,{filter:t})}function Kq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function O4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Jo{constructor(e,n,r,i,s=et.min(),l=et.min(),u=Er.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gq{constructor(e){this.yt=e}}function Yq(t){const e=Uq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jg(e,e.limit,"L"):e}class Wq{constructor(){this.Cn=new Xq}addToCollectionParentIndex(e,n){return this.Cn.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(ol.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class Xq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kn(tn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(tn.comparator)).toArray()}}const ZC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P4=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(P4,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);class Xu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xu(0)}static cr(){return new Xu(-1)}}const eO="LruGarbageCollector",Qq=1048576;function tO([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class Jq{constructor(e){this.Ir=e,this.buffer=new Kn(tO),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ue(eO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pd(n)?Ue(eO,"Ignoring IndexedDB error during garbage collection: ",n):await md(n)}await this.Vr(3e5)}))}}class eF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return je.resolve(hv.ce);const r=new Jq(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(ZC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Su()<=gt.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function tF(t,e){return new eF(t,e)}class nF{constructor(){this.changes=new Cc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class iF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&sh(r.mutation,i,bi.empty(),Yt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,yt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=yt()){const i=tc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Yf();return s.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=tc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,yt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=qs();const l=ah(),u=(function(){return ah()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof yl)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),sh(p.mutation,h,p.mutation.getFieldMask(),Yt.now())):l.set(h.key,bi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new rF(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=ah();let i=new bn(((l,u)=>l-u)),s=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||bi.empty();p=u.applyToLocalView(h,p),r.set(f,p);const g=(i.get(u.batchId)||yt()).add(f);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,g=h4();p.forEach((x=>{if(!s.has(x)){const _=b4(n.get(x),r.get(x));_!==null&&g.set(x,_),s=s.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return je.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return We.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):je.resolve(tc());let u=fh,f=s;return l.next((h=>je.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?je.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,yt()))).next((p=>({batchId:u,changes:f4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next((r=>{let i=Yf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Yf();return this.indexManager.getCollectionParents(e,s).next((u=>je.forEach(u,(f=>{const h=(function(g,x){return new gd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,x)=>{l=l.insert(g,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Or.newInvalidDocument(p)))}));let u=Yf();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&sh(p.mutation,h,bi.empty(),Yt.now()),yv(n,h)&&(u=u.insert(f,h))})),u}))}}class aF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ka(i.createTime)}})(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Yq(i.bundledQuery),readTime:Ka(i.readTime)}})(n)),je.resolve()}}class sF{constructor(){this.overlays=new bn(We.comparator),this.qr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tc();return je.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),je.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const i=tc(),s=n.length+1,l=new We(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return je.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=tc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=tc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return je.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Eq(n,r));let s=this.qr.get(n);s===void 0&&(s=yt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class oF{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}class CS{constructor(){this.Qr=new Kn(ir.$r),this.Ur=new Kn(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ir(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ir(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new We(new tn([])),r=new ir(n,e),i=new ir(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new We(new tn([])),r=new ir(n,e),i=new ir(n,e+1);let s=yt();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new ir(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ir{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return We.comparator(e.key,n.key)||vt(e.Yr,n.Yr)}static Kr(e,n){return vt(e.Yr,n.Yr)||We.comparator(e.key,n.key)}}class lF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kn(ir.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Sq(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new ir(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return je.resolve(l)}lookupMutationBatch(e,n){return je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?xS:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ir(n,0),i=new ir(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(vt);return n.forEach((i=>{const s=new ir(i,0),l=new ir(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;We.isDocumentKey(s)||(s=s.child(""));const l=new ir(new We(s),0);let u=new Kn(vt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Yr)),!0)}),l),je.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){It(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return je.forEach(n.mutations,(i=>{const s=new ir(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ir(n,0),i=this.Zr.firstAfterOrEqual(r);return je.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cF{constructor(e){this.ri=e,this.docs=(function(){return new bn(We.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Or.newInvalidDocument(i))})),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qs();const l=n.path,u=new We(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||L7(D7(p),r)<=0||(i.has(p.key)||yv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return je.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Qe(9500)}ii(e,n){return je.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new uF(this)}getSize(e){return je.resolve(this.size)}}class uF extends nF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class dF{constructor(e){this.persistence=e,this.si=new Cc((n=>SS(n)),ES),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new CS,this.targetCount=0,this.ai=Xu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Pr(n),je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),je.waitFor(s).next((()=>i))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),je.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this._i.containsKey(n))}}class I4{constructor(e,n){this.ui={},this.overlays={},this.ci=new hv(0),this.li=!1,this.li=!0,this.hi=new oF,this.referenceDelegate=e(this),this.Pi=new dF(this),this.indexManager=new Wq,this.remoteDocumentCache=(function(i){return new cF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Gq(n),this.Ii=new aF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new lF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new fF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return je.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class fF extends V7{constructor(e){super(),this.currentSequenceNumber=e}}class OS{constructor(e){this.persistence=e,this.Ri=new CS,this.Vi=null}static mi(e){return new OS(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,(r=>{const i=We.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,et.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class t0{constructor(e,n){this.persistence=e,this.pi=new Cc((r=>B7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=tF(this,n)}static mi(e,n){return new t0(e,n)}Ei(){}di(e){return je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return je.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?je.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,et.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ng(e.data.value)),n}br(e,n,r){return je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return je.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class PS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=yt(),i=yt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PS(e,n.fromCache,r,i)}}class hF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return t$()?8:$7(kr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new hF;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Su()<=gt.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",Eu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(Su()<=gt.DEBUG&&Ue("QueryEngine","Query:",Eu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Su()<=gt.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",Eu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ha(n))):je.resolve())}ys(e,n){if(qC(n))return je.resolve(null);let r=Ha(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Jg(n,null,"F"),r=Ha(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=yt(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,u);return this.Cs(n,h,l,f.readTime)?this.ys(e,Jg(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return qC(n)||i.isEqual(et.min())?je.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?je.resolve(null):(Su()<=gt.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eu(n)),this.vs(e,l,n,M7(i,fh)).next((u=>u)))}))}Ds(e,n){let r=new Kn(u4(e));return n.forEach(((i,s)=>{yv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Su()<=gt.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Eu(n)),this.ps.getDocumentsMatchingQuery(e,n,ol.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const IS="LocalStore",pF=3e8;class gF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new bn(vt),this.xs=new Cc((s=>SS(s)),ES),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vF(t,e,n,r){return new gF(t,e,n,r)}async function R4(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let f=yt();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function yF(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,p){const g=h.batch,x=g.keys();let _=je.resolve();return x.forEach((A=>{_=_.next((()=>p.getEntry(f,A))).next((S=>{const E=h.docVersions.get(A);It(E!==null,48541),S.version.compareTo(E)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=yt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function k4(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bF(t,e){const n=rt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const x=i.get(g);if(!x)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let _=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Er.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(S,E,C){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=pF?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(x,_,p)&&u.push(n.Pi.updateTargetData(s,_))}));let f=qs(),h=yt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(xF(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(et.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return je.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function xF(t,e,n){let r=yt(),i=yt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=qs();return n.forEach(((u,f)=>{const h=s.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(et.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Ue(IS,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function wF(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _F(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,je.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Jo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Gw(t,e,n){const r=rt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!pd(l))throw l;Ue(IS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function nO(t,e,n){const r=rt(t);let i=et.min(),s=yt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=rt(f),x=g.xs.get(p);return x!==void 0?je.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,l,Ha(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:et.min(),n?s:yt()))).next((u=>(SF(r,oq(e),u),{documents:u,Qs:s})))))}function SF(t,e,n){let r=t.Os.get(e)||et.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class rO{constructor(){this.activeTargetIds=hq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EF{constructor(){this.Mo=new rO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AF{Oo(e){}shutdown(){}}const iO="ConnectivityMonitor";class aO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ue(iO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ue(iO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ig=null;function Yw(){return ig===null?ig=(function(){return 268435456+Math.round(2147483648*Math.random())})():ig++,"0x"+ig.toString(16)}const Mx="RestConnection",TF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Wg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Yw(),u=this.zo(e,n.toUriEncodedString());Ue(Mx,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:h}=new URL(u),p=ud(h);return this.Jo(e,u,f,r,p).then((g=>(Ue(Mx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Ku(Mx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=TF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class NF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const jr="WebChannelConnection";class CF extends jF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Yw();return new Promise(((u,f)=>{const h=new LD;h.setWithCredentials(!0),h.listenOnce(zD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case jg.NO_ERROR:const g=h.getResponseJson();Ue(jr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case jg.TIMEOUT:Ue(jr,`RPC '${e}' ${l} timed out`),f(new De(we.DEADLINE_EXCEEDED,"Request time out"));break;case jg.HTTP_ERROR:const x=h.getStatus();if(Ue(jr,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_?.error;if(A&&A.status&&A.message){const S=(function(C){const V=C.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(V)>=0?V:we.UNKNOWN})(A.status);f(new De(S,A.message))}else f(new De(we.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new De(we.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ue(jr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Ue(jr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Yw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=UD(),u=$D(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");Ue(jr,`Creating RPC '${e}' stream ${i}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let x=!1,_=!1;const A=new NF({Yo:E=>{_?Ue(jr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(x||(Ue(jr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),x=!0),Ue(jr,`RPC '${e}' stream ${i} sending:`,E),g.send(E))},Zo:()=>g.close()}),S=(E,C,V)=>{E.listen(C,(D=>{try{V(D)}catch(B){setTimeout((()=>{throw B}),0)}}))};return S(g,Gf.EventType.OPEN,(()=>{_||(Ue(jr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),S(g,Gf.EventType.CLOSE,(()=>{_||(_=!0,Ue(jr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),S(g,Gf.EventType.ERROR,(E=>{_||(_=!0,Ku(jr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),A.a_(new De(we.UNAVAILABLE,"The operation could not be completed")))})),S(g,Gf.EventType.MESSAGE,(E=>{if(!_){const C=E.data[0];It(!!C,16349);const V=C,D=V?.error||V[0]?.error;if(D){Ue(jr,`RPC '${e}' stream ${i} received error:`,D);const B=D.status;let $=(function(j){const k=Ln[j];if(k!==void 0)return w4(k)})(B),z=D.message;$===void 0&&($=we.INTERNAL,z="Unknown error status: "+B+" with message "+D.message),_=!0,A.a_(new De($,z)),g.close()}else Ue(jr,`RPC '${e}' stream ${i} received:`,C),A.u_(C)}})),S(u,VD.STAT_EVENT,(E=>{E.stat===Dw.PROXY?Ue(jr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Dw.NOPROXY&&Ue(jr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Dx(){return typeof document<"u"?document:null}function Sv(t){return new Rq(t,!0)}class M4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sO="PersistentStream";class D4{constructor(e,n,r,i,s,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new De(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ue(sO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ue(sO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OF extends D4{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Dq(this.serializer,e),r=(function(s){if(!("targetChange"in s))return et.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?et.min():l.readTime?Ka(l.readTime):et.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Kw(this.serializer),n.addTarget=(function(s,l){let u;const f=l.target;if(u=Uw(f)?{documents:Vq(s,f)}:{query:$q(s,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=E4(s,l.resumeToken);const h=qw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(et.min())>0){u.readTime=e0(s,l.snapshotVersion.toTimestamp());const h=qw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=Bq(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Kw(this.serializer),n.removeTarget=e,this.q_(n)}}class PF extends D4{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zq(e.writeResults,e.commitTime),r=Ka(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Kw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Lq(this.serializer,r)))};this.q_(n)}}class IF{}class RF extends IF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new De(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Fw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(we.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Fw(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(we.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):Ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const yc="RemoteStore";class MF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Oc(this)&&(Ue(yc,"Restarting streams for network reachability change."),await(async function(f){const h=rt(f);h.Ea.add(4),await Jh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Ev(h)})(this))}))})),this.Ra=new kF(r,i)}}async function Ev(t){if(Oc(t))for(const e of t.da)await e(!0)}async function Jh(t){for(const e of t.da)await e(!1)}function L4(t,e){const n=rt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),DS(n)?MS(n):vd(n).O_()&&kS(n,e))}function RS(t,e){const n=rt(t),r=vd(n);n.Ia.delete(e),r.O_()&&z4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Oc(n)&&n.Ra.set("Unknown"))}function kS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vd(t).Y_(e)}function z4(t,e){t.Va.Ue(e),vd(t).Z_(e)}function MS(t){t.Va=new Cq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vd(t).start(),t.Ra.ua()}function DS(t){return Oc(t)&&!vd(t).x_()&&t.Ia.size>0}function Oc(t){return rt(t).Ea.size===0}function V4(t){t.Va=void 0}async function DF(t){t.Ra.set("Online")}async function LF(t){t.Ia.forEach(((e,n)=>{kS(t,e)}))}async function zF(t,e){V4(t),DS(t)?(t.Ra.ha(e),MS(t)):t.Ra.set("Unknown")}async function VF(t,e,n){if(t.Ra.set("Online"),e instanceof S4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ue(yc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await n0(t,r)}else if(e instanceof Pg?t.Va.Ze(e):e instanceof _4?t.Va.st(e):t.Va.tt(e),!n.isEqual(et.min()))try{const r=await k4(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(Er.EMPTY_BYTE_STRING,p.snapshotVersion)),z4(s,f);const g=new Jo(p.target,f,h,p.sequenceNumber);kS(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ue(yc,"Failed to raise snapshot:",r),await n0(t,r)}}async function n0(t,e,n){if(!pd(e))throw e;t.Ea.add(1),await Jh(t),t.Ra.set("Offline"),n||(n=()=>k4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ue(yc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ev(t)}))}function $4(t,e){return e().catch((n=>n0(t,n,e)))}async function Av(t){const e=rt(t),n=dl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xS;for(;$F(e);)try{const i=await wF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UF(e,i)}catch(i){await n0(e,i)}U4(e)&&B4(e)}function $F(t){return Oc(t)&&t.Ta.length<10}function UF(t,e){t.Ta.push(e);const n=dl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function U4(t){return Oc(t)&&!dl(t).x_()&&t.Ta.length>0}function B4(t){dl(t).start()}async function BF(t){dl(t).ra()}async function qF(t){const e=dl(t);for(const n of t.Ta)e.ea(n.mutations)}async function FF(t,e,n){const r=t.Ta.shift(),i=TS.from(r,e,n);await $4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Av(t)}async function HF(t,e){e&&dl(t).X_&&await(async function(r,i){if((function(l){return Tq(l)&&l!==we.ABORTED})(i.code)){const s=r.Ta.shift();dl(r).B_(),await $4(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Av(r)}})(t,e),U4(t)&&B4(t)}async function oO(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),Ue(yc,"RemoteStore received new credentials");const r=Oc(n);n.Ea.add(3),await Jh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ev(n)}async function KF(t,e){const n=rt(t);e?(n.Ea.delete(2),await Ev(n)):e||(n.Ea.add(2),await Jh(n),n.Ra.set("Unknown"))}function vd(t){return t.ma||(t.ma=(function(n,r,i){const s=rt(n);return s.sa(),new OF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:DF.bind(null,t),t_:LF.bind(null,t),r_:zF.bind(null,t),H_:VF.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),DS(t)?MS(t):t.Ra.set("Unknown")):(await t.ma.stop(),V4(t))}))),t.ma}function dl(t){return t.fa||(t.fa=(function(n,r,i){const s=rt(n);return s.sa(),new PF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:BF.bind(null,t),r_:HF.bind(null,t),ta:qF.bind(null,t),na:FF.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Av(t)):(await t.fa.stop(),t.Ta.length>0&&(Ue(yc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class LS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new LS(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zS(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),pd(t))return new De(we.UNAVAILABLE,`${e}: ${t}`);throw t}class Lu{static emptySet(e){return new Lu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||We.comparator(n.key,r.key):(n,r)=>We.comparator(n.key,r.key),this.keyedMap=Yf(),this.sortedSet=new bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lO{constructor(){this.ga=new bn(We.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Qu{constructor(e,n,r,i,s,l,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Qu(e,n,Lu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class GF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YF{constructor(){this.queries=cO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=rt(n),s=i.queries;i.queries=cO(),s.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new De(we.ABORTED,"Firestore shutting down"))}}function cO(){return new Cc((t=>c4(t)),vv)}async function VS(t,e){const n=rt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new GF,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=zS(l,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&US(n)}async function $S(t,e){const n=rt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WF(t,e){const n=rt(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&US(n)}function XF(t,e,n){const r=rt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function US(t){t.Ca.forEach((e=>{e.next()}))}var Ww,uO;(uO=Ww||(Ww={})).Ma="default",uO.Cache="cache";class BS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ww.Cache}}class q4{constructor(e){this.key=e}}class F4{constructor(e){this.key=e}}class QF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yt(),this.mutatedKeys=yt(),this.eu=u4(e),this.tu=new Lu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const x=i.get(p),_=yv(this.query,g)?g:null,A=!!x&&this.mutatedKeys.has(x.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;x&&_?x.data.isEqual(_.data)?A!==S&&(r.track({type:3,doc:_}),E=!0):this.su(x,_)||(r.track({type:2,doc:_}),E=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(u=!0)):!x&&_?(r.track({type:0,doc:_}),E=!0):x&&!_&&(r.track({type:1,doc:x}),E=!0,(f||h)&&(u=!0)),E&&(_?(l=l.add(_),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,A){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:E})}};return S(_)-S(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Qu(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new F4(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new q4(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=yt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qS="SyncEngine";class JF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZF{constructor(e){this.key=e,this.hu=!1}}class eH{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Cc((u=>c4(u)),vv),this.Iu=new Map,this.Eu=new Set,this.du=new bn(We.comparator),this.Au=new Map,this.Ru=new CS,this.Vu={},this.mu=new Map,this.fu=Xu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tH(t,e,n=!0){const r=X4(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await H4(r,e,n,!0),i}async function nH(t,e){const n=X4(t);await H4(n,e,!0,!1)}async function H4(t,e,n,r){const i=await _F(t.localStore,Ha(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await rH(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&L4(t.remoteStore,i),u}async function rH(t,e,n,r,i){t.pu=(g,x,_)=>(async function(S,E,C,V){let D=E.view.ru(C);D.Cs&&(D=await nO(S.localStore,E.query,!1).then((({documents:N})=>E.view.ru(N,D))));const B=V&&V.targetChanges.get(E.targetId),$=V&&V.targetMismatches.get(E.targetId)!=null,z=E.view.applyChanges(D,S.isPrimaryClient,B,$);return fO(S,E.targetId,z.au),z.snapshot})(t,g,x,_);const s=await nO(t.localStore,e,!0),l=new QF(e,s.Qs),u=l.ru(s.documents),f=Qh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,f);fO(t,n,h.au);const p=new JF(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function iH(t,e,n){const r=rt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!vv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RS(r.remoteStore,i.targetId),Xw(r,i.targetId)})).catch(md)):(Xw(r,i.targetId),await Gw(r.localStore,i.targetId,!0))}async function aH(t,e){const n=rt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RS(n.remoteStore,r.targetId))}async function sH(t,e,n){const r=hH(t);try{const i=await(function(l,u){const f=rt(l),h=Yt.now(),p=u.reduce(((_,A)=>_.add(A.key)),yt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let A=qs(),S=yt();return f.Ns.getEntries(_,p).next((E=>{A=E,A.forEach(((C,V)=>{V.isValidDocument()||(S=S.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,A))).next((E=>{g=E;const C=[];for(const V of u){const D=wq(V,g.get(V.key).overlayedDocument);D!=null&&C.push(new yl(V.key,D,t4(D.value.mapValue),Ur.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,C,u)})).next((E=>{x=E;const C=E.applyToLocalDocumentSet(g,S);return f.documentOverlayCache.saveOverlays(_,E.batchId,C)}))})).then((()=>({batchId:x.batchId,changes:f4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new bn(vt)),h=h.insert(u,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await Zh(r,i.changes),await Av(r.remoteStore)}catch(i){const s=zS(i,"Failed to persist write");n.reject(s)}}async function K4(t,e){const n=rt(t);try{const r=await bF(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?It(l.hu,14607):i.removedDocuments.size>0&&(It(l.hu,42227),l.hu=!1))})),await Zh(n,r,e)}catch(r){await md(r)}}function dO(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=rt(l);f.onlineState=u;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(u)&&(h=!0)})),h&&US(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oH(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new bn(We.comparator);l=l.insert(s,Or.newNoDocument(s,et.min()));const u=yt().add(s),f=new _v(et.min(),new Map,new bn(vt),l,u);await K4(r,f),r.du=r.du.remove(s),r.Au.delete(e),FS(r)}else await Gw(r.localStore,e,!1).then((()=>Xw(r,e,n))).catch(md)}async function lH(t,e){const n=rt(t),r=e.batch.batchId;try{const i=await yF(n.localStore,e);Y4(n,r,null),G4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zh(n,i)}catch(i){await md(i)}}async function cH(t,e,n){const r=rt(t);try{const i=await(function(l,u){const f=rt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,u).next((g=>(It(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);Y4(r,e,n),G4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zh(r,i)}catch(i){await md(i)}}function G4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Y4(t,e,n){const r=rt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Xw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||W4(t,r)}))}function W4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(RS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),FS(t))}function fO(t,e,n){for(const r of n)r instanceof q4?(t.Ru.addReference(r.key,e),uH(t,r)):r instanceof F4?(Ue(qS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||W4(t,r.key)):Qe(19791,{wu:r})}function uH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ue(qS,"New document in limbo: "+n),t.Eu.add(r),FS(t))}function FS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new We(tn.fromString(e)),r=t.fu.next();t.Au.set(r,new ZF(n)),t.du=t.du.insert(n,r),L4(t.remoteStore,new Jo(Ha(gv(n.path)),r,"TargetPurposeLimboResolution",hv.ce))}}async function Zh(t,e,n){const r=rt(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=PS.As(f.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=rt(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>je.forEach(h,(x=>je.forEach(x.Es,(_=>p.persistence.referenceDelegate.addReference(g,x.targetId,_))).next((()=>je.forEach(x.ds,(_=>p.persistence.referenceDelegate.removeReference(g,x.targetId,_)))))))))}catch(g){if(!pd(g))throw g;Ue(IS,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const _=p.Ms.get(x),A=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(x,S)}}})(r.localStore,s))}async function dH(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){Ue(qS,"User change. New user:",e.toKey());const r=await R4(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new De(we.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zh(n,r.Ls)}}function fH(t,e){const n=rt(t),r=n.Au.get(e);if(r&&r.hu)return yt().add(r.key);{let i=yt();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function X4(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oH.bind(null,e),e.Pu.H_=WF.bind(null,e.eventManager),e.Pu.yu=XF.bind(null,e.eventManager),e}function hH(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cH.bind(null,e),e}class r0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vF(this.persistence,new mF,e.initialUser,this.serializer)}Cu(e){return new I4(OS.mi,this.serializer)}Du(e){return new EF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}r0.provider={build:()=>new r0};class mH extends r0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){It(this.persistence.referenceDelegate instanceof t0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Zq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new I4((r=>t0.mi(r,n)),this.serializer)}}class Qw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dH.bind(null,this.syncEngine),await KF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YF})()}createDatastore(e){const n=Sv(e.databaseInfo.databaseId),r=(function(s){return new CF(s)})(e.databaseInfo);return(function(s,l,u,f){return new RF(s,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new MF(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>dO(this.syncEngine,n,0)),(function(){return aO.v()?new aO:new AF})())}createSyncEngine(e,n){return(function(i,s,l,u,f,h,p){const g=new eH(i,s,l,u,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=rt(n);Ue(yc,"RemoteStore shutting down."),r.Ea.add(5),await Jh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qw.provider={build:()=>new Qw};class HS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fl="FirestoreClient";class pH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Cr.UNAUTHENTICATED,this.clientId=bS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Ue(fl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ue(fl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lx(t,e){t.asyncQueue.verifyOperationInProgress(),Ue(fl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await R4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gH(t);Ue(fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>oO(e.remoteStore,i))),t._onlineComponents=e}async function gH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue(fl,"Using user provided OfflineComponentProvider");try{await Lx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ku("Error using user provided cache. Falling back to memory cache: "+n),await Lx(t,new r0)}}else Ue(fl,"Using default OfflineComponentProvider"),await Lx(t,new mH(void 0));return t._offlineComponents}async function Q4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue(fl,"Using user provided OnlineComponentProvider"),await hO(t,t._uninitializedComponentsProvider._online)):(Ue(fl,"Using default OnlineComponentProvider"),await hO(t,new Qw))),t._onlineComponents}function vH(t){return Q4(t).then((e=>e.syncEngine))}async function i0(t){const e=await Q4(t),n=e.eventManager;return n.onListen=tH.bind(null,e.syncEngine),n.onUnlisten=iH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aH.bind(null,e.syncEngine),n}function J4(t,e,n={}){const r=new Ms;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,h){const p=new HS({next:x=>{p.Nu(),l.enqueueAndForget((()=>$S(s,g)));const _=x.docs.has(u);!_&&x.fromCache?h.reject(new De(we.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&f&&f.source==="server"?h.reject(new De(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new BS(gv(u.path),p,{includeMetadataChanges:!0,qa:!0});return VS(s,g)})(await i0(t),t.asyncQueue,e,n,r))),r.promise}function yH(t,e,n={}){const r=new Ms;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,h){const p=new HS({next:x=>{p.Nu(),l.enqueueAndForget((()=>$S(s,g))),x.fromCache&&f.source==="server"?h.reject(new De(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new BS(u,p,{includeMetadataChanges:!0,qa:!0});return VS(s,g)})(await i0(t),t.asyncQueue,e,n,r))),r.promise}function Z4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const mO=new Map;const e5="firestore.googleapis.com",pO=!0;class gO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e5,this.ssl=pO}else this.host=e.host,this.ssl=e.ssl??pO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Qq)throw new De(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new S7;switch(r.type){case"firstParty":return new j7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mO.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),mO.delete(n),r.terminate())})(this),Promise.resolve()}}function bH(t,e,n,r={}){t=Sr(t,Tv);const i=ud(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(QM(`https://${u}`),JM("Firestore",!0)),s.host!==e5&&s.host!==u&&Ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:i,emulatorOptions:r};if(!mc(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Cr.MOCK_USER;else{h=K8(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new De(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Cr(g)}t._authCredentials=new E7(new qD(h,p))}}class to{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wh(n,yn._jsonSchema))return new yn(e,r||null,new We(tn.fromString(n.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:$n("string",yn._jsonSchemaVersion),referencePath:$n("string")};class il extends to{constructor(e,n,r){super(e,n,gv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new We(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function xh(t,e,...n){if(t=Gn(t),FD("collection","path",e),t instanceof Tv){const r=tn.fromString(e,...n);return CC(r),new il(t,null,r)}{if(!(t instanceof yn||t instanceof il))throw new De(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tn.fromString(e,...n));return CC(r),new il(t.firestore,null,r)}}function Ir(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=bS.newId()),FD("doc","path",e),t instanceof Tv){const r=tn.fromString(e,...n);return NC(r),new yn(t,null,new We(r))}{if(!(t instanceof yn||t instanceof il))throw new De(we.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tn.fromString(e,...n));return NC(r),new yn(t.firestore,t instanceof il?t.converter:null,new We(r))}}const vO="AsyncQueue";class yO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M4(this,"async_queue_retry"),this._c=()=>{const r=Dx();r&&Ue(vO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pd(e))throw e;Ue(vO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",bO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=LS.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Qe(47125,{Pc:bO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function xO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ma extends Tv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yO(e),this._firestoreClient=void 0,await e}}}function xH(t,e){const n=typeof t=="object"?t:nD(),r=typeof t=="string"?t:Wg,i=cS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=F8("firestore");s&&bH(i,...s)}return i}function yd(t){if(t._terminated)throw new De(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wH(t),t._firestoreClient}function wH(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new H7(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Z4(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(Er.fromBase64String(e))}catch(n){throw new De(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qi(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wh(e,qi._jsonSchema))return qi.fromBase64String(e.bytes)}}qi._jsonSchemaVersion="firestore/bytes/1.0",qi._jsonSchema={type:$n("string",qi._jsonSchemaVersion),bytes:$n("string")};class em{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jv{constructor(e){this._methodName=e}}class Ga{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ga._jsonSchemaVersion}}static fromJSON(e){if(Wh(e,Ga._jsonSchema))return new Ga(e.latitude,e.longitude)}}Ga._jsonSchemaVersion="firestore/geoPoint/1.0",Ga._jsonSchema={type:$n("string",Ga._jsonSchemaVersion),latitude:$n("number"),longitude:$n("number")};class Ya{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ya._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wh(e,Ya._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ya(e.vectorValues);throw new De(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ya._jsonSchemaVersion="firestore/vectorValue/1.0",Ya._jsonSchema={type:$n("string",Ya._jsonSchemaVersion),vectorValues:$n("object")};const _H=/^__.*__$/;class SH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xh(e,this.data,n,this.fieldTransforms)}}class t5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:t})}}class KS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new KS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return a0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(n5(this.Ac)&&_H.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sv(e)}Cc(e,n,r,i=!1){return new KS({Ac:e,methodName:n,Dc:r,path:_r.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tm(t){const e=t._freezeSettings(),n=Sv(t._databaseId);return new EH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);WS("Data must be an object, but it was:",l,r);const u=a5(r,l);let f,h;if(s.merge)f=new bi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=Jw(e,g,n);if(!l.contains(x))throw new De(we.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);o5(p,x)||p.push(x)}f=new bi(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new SH(new ni(u),f,h)}class Nv extends jv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nv}}class YS extends jv{_toFieldTransform(e){return new vq(e.path,new vh)}isEqual(e){return e instanceof YS}}function r5(t,e,n,r){const i=t.Cc(1,e,n);WS("Data must be an object, but it was:",i,r);const s=[],l=ni.empty();vl(r,((f,h)=>{const p=XS(e,f,n);h=Gn(h);const g=i.yc(p);if(h instanceof Nv)s.push(p);else{const x=nm(h,g);x!=null&&(s.push(p),l.set(p,x))}}));const u=new bi(s);return new t5(l,u,i.fieldTransforms)}function i5(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[Jw(e,r,n)],f=[i];if(s.length%2!=0)throw new De(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)u.push(Jw(e,s[x])),f.push(s[x+1]);const h=[],p=ni.empty();for(let x=u.length-1;x>=0;--x)if(!o5(h,u[x])){const _=u[x];let A=f[x];A=Gn(A);const S=l.yc(_);if(A instanceof Nv)h.push(_);else{const E=nm(A,S);E!=null&&(h.push(_),p.set(_,E))}}const g=new bi(h);return new t5(p,g,l.fieldTransforms)}function AH(t,e,n,r=!1){return nm(n,t.Cc(r?4:3,e))}function nm(t,e){if(s5(t=Gn(t)))return WS("Unsupported field value:",e,t),a5(t,e);if(t instanceof jv)return(function(r,i){if(!n5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let f=nm(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Yt.fromDate(r);return{timestampValue:e0(i.serializer,s)}}if(r instanceof Yt){const s=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:e0(i.serializer,s)}}if(r instanceof Ga)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qi)return{bytesValue:E4(i.serializer,r._byteString)};if(r instanceof yn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:NS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ya)return(function(l,u){return{mapValue:{fields:{[ZD]:{stringValue:e4},[Xg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return AS(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${fv(r)}`)})(t,e)}function a5(t,e){const n={};return GD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,((r,i)=>{const s=nm(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function s5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof Ga||t instanceof qi||t instanceof yn||t instanceof jv||t instanceof Ya)}function WS(t,e,n){if(!s5(n)||!HD(n)){const r=fv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Jw(t,e,n){if((e=Gn(e))instanceof em)return e._internalPath;if(typeof e=="string")return XS(t,e);throw a0("Field path arguments must be of type string or ",t,!1,void 0,n)}const TH=new RegExp("[~\\*/\\[\\]]");function XS(t,e,n){if(e.search(TH)>=0)throw a0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new em(...e.split("."))._internalPath}catch{throw a0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function a0(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new De(we.INVALID_ARGUMENT,u+t+f)}function o5(t,e){return t.some((n=>n.isEqual(e)))}class l5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jH extends l5{data(){return super.data()}}function Cv(t,e){return typeof e=="string"?XS(t,e):e instanceof em?e._internalPath:e._delegate._internalPath}function c5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QS{}class JS extends QS{}function wh(t,e,...n){let r=[];e instanceof QS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof ZS)).length,u=s.filter((f=>f instanceof Ov)).length;if(l>1||l>0&&u>0)throw new De(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Ov extends JS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ov(e,n,r)}_apply(e){const n=this._parse(e);return d5(e._query,n),new to(e.firestore,e.converter,Bw(e._query,n))}_parse(e){const n=tm(e.firestore);return(function(s,l,u,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new De(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){_O(g,p);const A=[];for(const S of g)A.push(wO(f,s,S));x={arrayValue:{values:A}}}else x=wO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||_O(g,p),x=AH(u,l,g,p==="in"||p==="not-in");return Vn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cu(t,e,n){const r=e,i=Cv("where",t);return Ov._create(i,r,n)}class ZS extends QS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ZS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ha.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const f of u)d5(l,f),l=Bw(l,f)})(e._query,n),new to(e.firestore,e.converter,Bw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eE extends JS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eE(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new De(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new De(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gh(s,l)})(e._query,this._field,this._direction);return new to(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new gd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function s0(t,e="asc"){const n=e,r=Cv("orderBy",t);return eE._create(r,n)}class tE extends JS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new tE(e,n,r)}_apply(e){return new to(e.firestore,e.converter,Jg(e._query,this._limit,this._limitType))}}function u5(t){return k7("limit",t),tE._create("limit",t,"F")}function wO(t,e,n){if(typeof(n=Gn(n))=="string"){if(n==="")throw new De(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l4(e)&&n.indexOf("/")!==-1)throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tn.fromString(n));if(!We.isDocumentKey(r))throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LC(t,new We(r))}if(n instanceof yn)return LC(t,n._key);throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fv(n)}.`)}function _O(t,e){if(!Array.isArray(t)||t.length===0)throw new De(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d5(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NH{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Xg].arrayValue?.values?.map((r=>Cn(r.doubleValue)));return new Ya(n)}convertGeoPoint(e){return new Ga(Cn(e.latitude),Cn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=ll(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tn.fromString(e);It(O4(r),9688,{name:e});const i=new mh(r.get(1),r.get(3)),s=new We(r.popFirst(5));return i.isEqual(n)||Bs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function nE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Xf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends l5{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sc._jsonSchemaVersion="firestore/documentSnapshot/1.0",sc._jsonSchema={type:$n("string",sc._jsonSchemaVersion),bundleSource:$n("string","DocumentSnapshot"),bundleName:$n("string"),bundle:$n("string")};class Ig extends sc{data(e={}){return super.data(e)}}class oc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ig(this._firestore,this._userDataWriter,r.key,r,new Xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Ig(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new Ig(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:CH(u.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}function Lf(t){t=Sr(t,yn);const e=Sr(t.firestore,ma);return J4(yd(e),t._key).then((n=>iE(e,t,n)))}oc._jsonSchemaVersion="firestore/querySnapshot/1.0",oc._jsonSchema={type:$n("string",oc._jsonSchemaVersion),bundleSource:$n("string","QuerySnapshot"),bundleName:$n("string"),bundle:$n("string")};class rE extends NH{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function SO(t){t=Sr(t,yn);const e=Sr(t.firestore,ma);return J4(yd(e),t._key,{source:"server"}).then((n=>iE(e,t,n)))}function o0(t){t=Sr(t,to);const e=Sr(t.firestore,ma),n=yd(e),r=new rE(e);return c5(t._query),yH(n,t._query).then((i=>new oc(e,r,t,i)))}function Fn(t,e,n){t=Sr(t,yn);const r=Sr(t.firestore,ma),i=nE(t.converter,e,n);return rm(r,[GS(tm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ur.none())])}function l0(t,e,n,...r){t=Sr(t,yn);const i=Sr(t.firestore,ma),s=tm(i);let l;return l=typeof(e=Gn(e))=="string"||e instanceof em?i5(s,"updateDoc",t._key,e,n,r):r5(s,"updateDoc",t._key,e),rm(i,[l.toMutation(t._key,Ur.exists(!0))])}function f5(t){return rm(Sr(t.firestore,ma),[new wv(t._key,Ur.none())])}function h5(t,e){const n=Sr(t.firestore,ma),r=Ir(t),i=nE(t.converter,e);return rm(n,[GS(tm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ur.exists(!1))]).then((()=>r))}function Zr(t,...e){t=Gn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xO(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,l,u;if(t instanceof yn)l=Sr(t.firestore,ma),u=gv(t._key.path),s={next:f=>{e[r]&&e[r](iE(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Sr(t,to);l=Sr(f.firestore,ma),u=f._query;const h=new rE(l);s={next:p=>{e[r]&&e[r](new oc(l,h,f,p))},error:e[r+1],complete:e[r+2]},c5(t._query)}return(function(h,p,g,x){const _=new HS(x),A=new BS(p,_,g);return h.asyncQueue.enqueueAndForget((async()=>VS(await i0(h),A))),()=>{_.Nu(),h.asyncQueue.enqueueAndForget((async()=>$S(await i0(h),A)))}})(yd(l),u,i,s)}function rm(t,e){return(function(r,i){const s=new Ms;return r.asyncQueue.enqueueAndForget((async()=>sH(await vH(r),i,s))),s.promise})(yd(t),e)}function iE(t,e,n){const r=n.docs.get(e._key),i=new rE(t);return new sc(t,i,e._key,r,new Xf(n.hasPendingWrites,n.fromCache),e.converter)}class OH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tm(e)}set(e,n,r){this._verifyNotCommitted();const i=zx(e,this._firestore),s=nE(i.converter,n,r),l=GS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ur.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=zx(e,this._firestore);let l;return l=typeof(n=Gn(n))=="string"||n instanceof em?i5(this._dataReader,"WriteBatch.update",s._key,n,r,i):r5(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=zx(e,this._firestore);return this._mutations=this._mutations.concat(new wv(n._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zx(t,e){if((t=Gn(t)).firestore!==e)throw new De(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function bd(){return new YS("serverTimestamp")}function Zw(t){return yd(t=Sr(t,ma)),new OH(t,(e=>rm(t,e)))}(function(e,n=!0){(function(i){hd=i})(dd),Hu(new pc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new ma(new A7(r.getProvider("auth-internal")),new N7(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new De(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),nl(EC,AC,e),nl(EC,AC,"esm2020")})();const PH={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},IH=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):PH,m5=tD(IH),Vx=w7(m5),aa=xH(m5),RH=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",Qf=RH.replace(/\//g,"_");function p5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=p5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=p5(t))&&(r&&(r+=" "),r+=e);return r}var kH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function aE(t){if(typeof t!="string")return!1;var e=kH;return e.includes(t)}var MH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DH=new Set(MH);function g5(t){return typeof t!="string"?!1:DH.has(t)}function v5(t){return typeof t=="string"&&t.startsWith("data-")}function nn(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(g5(n)||v5(n))&&(e[n]=t[n]);return e}function Fs(t){if(t==null)return null;if(b.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return nn(e)}return typeof t=="object"&&!Array.isArray(t)?nn(t):null}function On(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(g5(n)||v5(n)||aE(n))&&(e[n]=t[n]);return e}function LH(t){return t==null?null:b.isValidElement(t)?On(t.props):typeof t=="object"&&!Array.isArray(t)?On(t):null}var zH=["children","width","height","viewBox","className","style","title","desc"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(null,arguments)}function VH(t,e){if(t==null)return{};var n,r,i=$H(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $H(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sE=b.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:f,desc:h}=t,p=VH(t,zH),g=s||{width:r,height:i,x:0,y:0},x=lt("recharts-surface",l);return b.createElement("svg",e_({},On(p),{className:x,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),b.createElement("title",null,f),b.createElement("desc",null,h),n)}),UH=["children","className"];function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(null,arguments)}function BH(t,e){if(t==null)return{};var n,r,i=qH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rt=b.forwardRef((t,e)=>{var{children:n,className:r}=t,i=BH(t,UH),s=lt("recharts-layer",r);return b.createElement("g",t_({className:s},On(i),{ref:e}),n)}),oE=FM(),y5=b.createContext(null),FH=()=>b.useContext(y5);function en(t){return function(){return t}}const b5=Math.cos,c0=Math.sin,va=Math.sqrt,u0=Math.PI,Pv=2*u0,n_=Math.PI,r_=2*n_,Jl=1e-6,HH=r_-Jl;function x5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function KH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return x5;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class GH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?x5:KH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=r-e,h=i-n,p=l-e,g=u-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>Jl)if(!(Math.abs(g*f-h*p)>Jl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,A=i-u,S=f*f+h*h,E=_*_+A*A,C=Math.sqrt(S),V=Math.sqrt(x),D=s*Math.tan((n_-Math.acos((S+x-E)/(2*C*V)))/2),B=D/V,$=D/C;Math.abs(B-1)>Jl&&this._append`L${e+B*p},${n+B*g}`,this._append`A${s},${s},0,0,${+(g*_>p*A)},${this._x1=e+$*f},${this._y1=n+$*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,p=n+f,g=1^l,x=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Jl||Math.abs(this._y1-p)>Jl)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%r_+r_),x>HH?this._append`A${r},${r},0,1,${g},${e-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>Jl&&this._append`A${r},${r},0,${+(x>=n_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new GH(e)}function cE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function w5(t){this._context=t}w5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Iv(t){return new w5(t)}function _5(t){return t[0]}function S5(t){return t[1]}function E5(t,e){var n=en(!0),r=null,i=Iv,s=null,l=lE(u);t=typeof t=="function"?t:t===void 0?_5:en(t),e=typeof e=="function"?e:e===void 0?S5:en(e);function u(f){var h,p=(f=cE(f)).length,g,x=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(_)return s=null,_+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:en(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:en(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:en(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),u):r},u}function ag(t,e,n){var r=null,i=en(!0),s=null,l=Iv,u=null,f=lE(h);t=typeof t=="function"?t:t===void 0?_5:en(+t),e=typeof e=="function"?e:en(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?S5:en(+n);function h(g){var x,_,A,S=(g=cE(g)).length,E,C=!1,V,D=new Array(S),B=new Array(S);for(s==null&&(u=l(V=f())),x=0;x<=S;++x){if(!(x<S&&i(E=g[x],x,g))===C)if(C=!C)_=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=x-1;A>=_;--A)u.point(D[A],B[A]);u.lineEnd(),u.areaEnd()}C&&(D[x]=+t(E,x,g),B[x]=+e(E,x,g),u.point(r?+r(E,x,g):D[x],n?+n(E,x,g):B[x]))}if(V)return u=null,V+""||null}function p(){return E5().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:en(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:en(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:en(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:en(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:en(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:en(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:en(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class A5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YH(t){return new A5(t,!0)}function WH(t){return new A5(t,!1)}const uE={draw(t,e){const n=va(e/u0);t.moveTo(n,0),t.arc(0,0,n,0,Pv)}},XH={draw(t,e){const n=va(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},T5=va(1/3),QH=T5*2,JH={draw(t,e){const n=va(e/QH),r=n*T5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ZH={draw(t,e){const n=va(e),r=-n/2;t.rect(r,r,n,n)}},eK=.8908130915292852,j5=c0(u0/10)/c0(7*u0/10),tK=c0(Pv/10)*j5,nK=-b5(Pv/10)*j5,rK={draw(t,e){const n=va(e*eK),r=tK*n,i=nK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Pv*s/5,u=b5(l),f=c0(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},$x=va(3),iK={draw(t,e){const n=-va(e/($x*3));t.moveTo(0,n*2),t.lineTo(-$x*n,-n),t.lineTo($x*n,-n),t.closePath()}},zi=-.5,Vi=va(3)/2,i_=1/va(12),aK=(i_/2+1)*3,sK={draw(t,e){const n=va(e/aK),r=n/2,i=n*i_,s=r,l=n*i_+n,u=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,f),t.lineTo(zi*r-Vi*i,Vi*r+zi*i),t.lineTo(zi*s-Vi*l,Vi*s+zi*l),t.lineTo(zi*u-Vi*f,Vi*u+zi*f),t.lineTo(zi*r+Vi*i,zi*i-Vi*r),t.lineTo(zi*s+Vi*l,zi*l-Vi*s),t.lineTo(zi*u+Vi*f,zi*f-Vi*u),t.closePath()}};function oK(t,e){let n=null,r=lE(i);t=typeof t=="function"?t:en(t||uE),e=typeof e=="function"?e:en(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:en(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:en(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function d0(){}function f0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function N5(t){this._context=t}N5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:f0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lK(t){return new N5(t)}function C5(t){this._context=t}C5.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cK(t){return new C5(t)}function O5(t){this._context=t}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:f0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uK(t){return new O5(t)}function P5(t){this._context=t}P5.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function dK(t){return new P5(t)}function EO(t){return t<0?-1:1}function AO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(EO(s)+EO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function TO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ux(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function h0(t){this._context=t}h0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ux(this,this._t0,TO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ux(this,TO(this,n=AO(this,t,e)),n);break;default:Ux(this,this._t0,n=AO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function I5(t){this._context=new R5(t)}(I5.prototype=Object.create(h0.prototype)).point=function(t,e){h0.prototype.point.call(this,e,t)};function R5(t){this._context=t}R5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function fK(t){return new h0(t)}function hK(t){return new I5(t)}function k5(t){this._context=t}k5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jO(t),i=jO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function mK(t){return new k5(t)}function Rv(t,e){this._context=t,this._t=e}Rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function pK(t){return new Rv(t,.5)}function gK(t){return new Rv(t,0)}function vK(t){return new Rv(t,1)}function bc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function a_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function yK(t,e){return t[e]}function bK(t){const e=[];return e.key=t,e}function xK(){var t=en([]),e=a_,n=bc,r=yK;function i(s){var l=Array.from(t.apply(this,arguments),bK),u,f=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<f;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=cE(e(l));u<f;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:en(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:en(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?a_:typeof s=="function"?s:en(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??bc,i):n},i}function wK(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}bc(t,e)}}function _K(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}bc(t,e)}}function SK(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,f=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,x=p[r-1][1]||0,_=(g-x)/2,A=0;A<u;++A){var S=t[e[A]],E=S[r][1]||0,C=S[r-1][1]||0;_+=E-C}f+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,bc(t,e)}}var Bx={},qx={},NO;function EK(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(qx)),qx}var Fx={},CO;function M5(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Fx)),Fx}var Hx={},OO;function dE(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Hx)),Hx}var Kx={},Gx={},PO;function AK(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Gx)),Gx}var IO;function fE(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AK(),n=dE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,f+=i[u]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}t.toPath=r})(Kx)),Kx}var RO;function hE(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EK(),n=M5(),r=dE(),i=fE();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?n.isDeepKey(f)?s(u,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function l(u,f,h){if(f.length===0)return h;let p=u;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(Bx)),Bx}var Yx,kO;function TK(){return kO||(kO=1,Yx=hE().get),Yx}var jK=TK();const xc=ga(jK);var NK=4;function Zo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NK,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function vn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+Zo(u)+s:i+s},"")}var sr=t=>t===0?0:t>0?1:-1,Hi=t=>typeof t=="number"&&t!=+t,Hs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,$e=t=>(typeof t=="number"||t instanceof Number)&&!Hi(t),Qa=t=>$e(t)||typeof t=="string",CK=0,_h=t=>{var e=++CK;return"".concat(t||"").concat(e)},Rr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&typeof e!="string")return r;var s;if(Hs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Hi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},D5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function _t(t,e,n){return $e(t)&&$e(e)?Zo(t+n*(e-t)):e}function L5(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):xc(r,e))===n)}var Xt=t=>t===null||typeof t>"u",im=t=>Xt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function OK(t){return t!=null}function am(){}var PK=["type","size","sizeType"];function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(null,arguments)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){IK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IK(t,e,n){return(e=RK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=kK(t,"string");return typeof e=="symbol"?e:e+""}function kK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MK(t,e){if(t==null)return{};var n,r,i=DK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var z5={symbolCircle:uE,symbolCross:XH,symbolDiamond:JH,symbolSquare:ZH,symbolStar:rK,symbolTriangle:iK,symbolWye:sK},LK=Math.PI/180,zK=t=>{var e="symbol".concat(im(t));return z5[e]||uE},VK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*LK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$K=(t,e)=>{z5["symbol".concat(im(t))]=e},mE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=MK(t,PK),s=DO(DO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var x=zK(l),_=oK().type(x).size(VK(n,r,l)),A=_();if(A!==null)return A},{className:f,cx:h,cy:p}=s,g=On(s);return $e(h)&&$e(p)&&$e(n)?b.createElement("path",s_({},g,{className:lt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};mE.registerSymbol=$K;var V5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,pE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{aE(i)&&(r[i]=(s=>n[i](n,s)))}),r},UK=(t,e,n)=>r=>(t(e,n,r),null),Pc=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];aE(i)&&typeof s=="function"&&(r||(r={}),r[i]=UK(s,e,n))}),r};function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){qK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qK(t,e,n){return(e=FK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FK(t){var e=HK(t,"string");return typeof e=="symbol"?e:e+""}function HK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rn(t,e){var n=BK({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m0.apply(null,arguments)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){GK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GK(t,e,n){return(e=YK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YK(t){var e=WK(t,"string");return typeof e=="symbol"?e:e+""}function WK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ui=32,XK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function QK(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Ui/2,s=Ui/6,l=Ui/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline"){var h;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Ui,y2:i,className:"recharts-legend-icon"})}if(f==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ui,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return b.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ui/8,"h").concat(Ui,"v").concat(Ui*3/4,"h").concat(-Ui,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var p=KK({},e);return delete p.legendIcon,b.cloneElement(e.legendIcon,p)}return b.createElement(mE,{fill:u,cx:i,cy:i,size:Ui,sizeType:"diameter",type:f})}function JK(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:Ui,height:Ui},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var x=p.formatter||i,_=lt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?s:p.color,S=x?x(p.value,p,g):p.value;return b.createElement("li",m0({className:_,style:f,key:"legend-item-".concat(g)},Pc(t,p,g)),b.createElement(sE,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(S," legend icon")},b.createElement(QK,{data:p,iconType:l,inactiveColor:s})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},S))})}var ZK=t=>{var e=rn(t,XK),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:s},b.createElement(JK,m0({},e,{payload:n})))},Wx={},Xx={},VO;function eG(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Xx)),Xx}var Qx={},$O;function kv(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Qx)),Qx}var Jx={},Zx={},e1={},UO;function tG(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(e1)),e1}var BO;function gE(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tG();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Zx)),Zx}var t1={},qO;function nG(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(t1)),t1}var FO;function rG(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gE(),n=nG();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Jx)),Jx}var n1={},r1={},HO;function iG(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(r1)),r1}var i1={},a1={},s1={},o1={},KO;function $5(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(o1)),o1}var l1={},GO;function U5(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(l1)),l1}var c1={},YO;function B5(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(c1)),c1}var WO;function aG(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$5(),n=U5(),r=B5();function i(p,g,x){return typeof x!="function"?i(p,g,()=>{}):s(p,g,function _(A,S,E,C,V,D){const B=x(A,S,E,C,V,D);return B!==void 0?!!B:s(A,S,_,D)},new Map)}function s(p,g,x,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,x,_);case"function":return Object.keys(g).length>0?s(p,{...g},x,_):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,x,_){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,_);if(g instanceof Map)return u(p,g,x,_);if(g instanceof Set)return h(p,g,x,_);const A=Object.keys(g);if(p==null||n.isPrimitive(p))return A.length===0;if(A.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let S=0;S<A.length;S++){const E=A[S];if(!n.isPrimitive(p)&&!(E in p)||g[E]===void 0&&p[E]!==void 0||g[E]===null&&p[E]!==null||!x(p[E],g[E],E,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,x,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[A,S]of g.entries()){const E=p.get(A);if(x(E,S,A,p,g,_)===!1)return!1}return!0}function f(p,g,x,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const A=new Set;for(let S=0;S<g.length;S++){const E=g[S];let C=!1;for(let V=0;V<p.length;V++){if(A.has(V))continue;const D=p[V];let B=!1;if(x(D,E,S,p,g,_)&&(B=!0),B){A.add(V),C=!0;break}}if(!C)return!1}return!0}function h(p,g,x,_){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,_):!1}t.isMatchWith=i,t.isSetMatch=h})(s1)),s1}var XO;function q5(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aG();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(a1)),a1}var u1={},d1={},f1={},QO;function sG(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(f1)),f1}var h1={},JO;function F5(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(h1)),h1}var m1={},ZO;function H5(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",_="[object Object]",A="[object Error]",S="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",V="[object Uint16Array]",D="[object Uint32Array]",B="[object BigUint64Array]",$="[object Int8Array]",z="[object Int16Array]",N="[object Int32Array]",j="[object BigInt64Array]",k="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=j,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=k,t.float64ArrayTag=I,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=N,t.int8ArrayTag=$,t.mapTag=f,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=V,t.uint32ArrayTag=D,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=C})(m1)),m1}var p1={},eP;function oG(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(p1)),p1}var tP;function K5(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sG(),n=F5(),r=H5(),i=U5(),s=oG();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,x,_=new Map,A=void 0){const S=A?.(p,g,x,_);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const E=new Array(p.length);_.set(p,E);for(let C=0;C<p.length;C++)E[C]=u(p[C],C,x,_,A);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;_.set(p,E);for(const[C,V]of p)E.set(C,u(V,C,x,_,A));return E}if(p instanceof Set){const E=new Set;_.set(p,E);for(const C of p)E.add(u(C,void 0,x,_,A));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,E);for(let C=0;C<p.length;C++)E[C]=u(p[C],C,x,_,A);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,E),f(E,p,x,_,A),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return _.set(p,E),f(E,p,x,_,A),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return _.set(p,E),f(E,p,x,_,A),E}if(p instanceof Error){const E=new p.constructor;return _.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,f(E,p,x,_,A),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return _.set(p,E),f(E,p,x,_,A),E}if(p instanceof Number){const E=new Number(p.valueOf());return _.set(p,E),f(E,p,x,_,A),E}if(p instanceof String){const E=new String(p.valueOf());return _.set(p,E),f(E,p,x,_,A),E}if(typeof p=="object"&&h(p)){const E=Object.create(Object.getPrototypeOf(p));return _.set(p,E),f(E,p,x,_,A),E}return p}function f(p,g,x=p,_,A){const S=[...Object.keys(g),...e.getSymbols(g)];for(let E=0;E<S.length;E++){const C=S[E],V=Object.getOwnPropertyDescriptor(p,C);(V==null||V.writable)&&(p[C]=u(g[C],C,x,_,A))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(d1)),d1}var nP;function lG(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(u1)),u1}var rP;function cG(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q5(),n=lG();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(i1)),i1}var g1={},v1={},y1={},iP;function uG(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5(),n=H5();function r(i,s){return e.cloneDeepWith(i,(l,u,f,h)=>{const p=s?.(l,u,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(y1)),y1}var aP;function dG(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uG();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(v1)),v1}var b1={},x1={},sP;function G5(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(x1)),x1}var w1={},oP;function fG(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(w1)),w1}var lP;function hG(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M5(),n=G5(),r=fG(),i=fE();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(b1)),b1}var cP;function mG(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q5(),n=dE(),r=dG(),i=hE(),s=hG();function l(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(g1)),g1}var uP;function vE(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kv(),n=iG(),r=cG(),i=mG();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(n1)),n1}var dP;function pG(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eG(),n=kv(),r=rG(),i=vE();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(Wx)),Wx}var _1,fP;function gG(){return fP||(fP=1,_1=pG().uniqBy),_1}var vG=gG();const hP=ga(vG);function Y5(t,e,n){return e===!0?hP(t,n):typeof e=="function"?hP(t,e):t}var S1={exports:{}},E1={},A1={exports:{}},T1={};var mP;function yG(){if(mP)return T1;mP=1;var t=cd();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,x){var _=x(),A=r({inst:{value:_,getSnapshot:x}}),S=A[0].inst,E=A[1];return s(function(){S.value=_,S.getSnapshot=x,f(S)&&E({inst:S})},[g,_,x]),i(function(){return f(S)&&E({inst:S}),g(function(){f(S)&&E({inst:S})})},[g]),l(_),_}function f(g){var x=g.getSnapshot;g=g.value;try{var _=x();return!n(g,_)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return T1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,T1}var pP;function bG(){return pP||(pP=1,A1.exports=yG()),A1.exports}var gP;function xG(){if(gP)return E1;gP=1;var t=cd(),e=bG();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return E1.useSyncExternalStoreWithSelector=function(h,p,g,x,_){var A=s(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=u(function(){function C(z){if(!V){if(V=!0,D=z,z=x(z),_!==void 0&&S.hasValue){var N=S.value;if(_(N,z))return B=N}return B=z}if(N=B,r(D,z))return N;var j=x(z);return _!==void 0&&_(N,j)?(D=z,N):(D=z,B=j)}var V=!1,D,B,$=g===void 0?null:g;return[function(){return C(p())},$===null?void 0:function(){return C($())}]},[p,g,x,_]);var E=i(h,A[0],A[1]);return l(function(){S.hasValue=!0,S.value=E},[E]),f(E),E},E1}var vP;function wG(){return vP||(vP=1,S1.exports=xG()),S1.exports}var _G=wG(),yE=b.createContext(null),SG=t=>t,Kt=()=>{var t=b.useContext(yE);return t?t.store.dispatch:SG},Rg=()=>{},EG=()=>Rg,AG=(t,e)=>t===e;function Le(t){var e=b.useContext(yE);return _G.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:EG,e?e.store.getState:Rg,e?e.store.getState:Rg,e?t:Rg,AG)}function TG(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function jG(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function NG(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var yP=t=>Array.isArray(t)?t:[t];function CG(t){const e=Array.isArray(t[0])?t[0]:t;return NG(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function OG(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var PG=class{constructor(t){this.value=t}deref(){return this.value}},IG=typeof WeakRef<"u"?WeakRef:PG,RG=0,bP=1;function sg(){return{s:RG,v:void 0,o:null,p:null}}function W5(t,e={}){let n=sg();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:f}=arguments;for(let g=0,x=f;g<x;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const S=A.get(_);S===void 0?(u=sg(),A.set(_,u)):u=S}else{let A=u.p;A===null&&(u.p=A=new Map);const S=A.get(_);S===void 0?(u=sg(),A.set(_,u)):u=S}}const h=u;let p;if(u.s===bP)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new IG(p):p}return h.s=bP,h.v=p,p}return l.clearCache=()=>{n=sg(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function kG(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),TG(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:_=W5,argsMemoizeOptions:A=[]}=p,S=yP(x),E=yP(A),C=CG(i),V=g(function(){return s++,h.apply(null,arguments)},...S),D=_(function(){l++;const $=OG(C,arguments);return u=V.apply(null,$),u},...E);return Object.assign(D,{resultFunc:h,memoizedResultFunc:V,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var oe=kG(W5),MG=Object.assign((t,e=oe)=>{jG(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>MG}),j1={},N1={},C1={},xP;function DG(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(C1)),C1}var O1={},P1={},wP;function X5(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(P1)),P1}var _P;function LG(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(O1)),O1}var SP;function zG(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DG(),n=LG(),r=fE();function i(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const h=(_,A)=>{let S=_;for(let E=0;E<A.length&&S!=null;++E)S=S[A[E]];return S},p=(_,A)=>A==null||_==null?A:typeof _=="object"&&"key"in _?Object.hasOwn(A,_.key)?A[_.key]:h(A,_.path):typeof _=="function"?_(A):Array.isArray(_)?h(A,_):typeof A=="object"?A[_]:A,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(A=>p(A,_))})).slice().sort((_,A)=>{for(let S=0;S<g.length;S++){const E=e.compareValues(_.criteria[S],A.criteria[S],u[S]);if(E!==0)return E}return 0}).map(_=>_.original)}t.orderBy=i})(N1)),N1}var I1={},EP;function VG(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(n,0),i}t.flatten=e})(I1)),I1}var R1={},AP;function Q5(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G5(),n=gE(),r=$5(),i=B5();function s(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=s})(R1)),R1}var TP;function $G(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zG(),n=VG(),r=Q5();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(j1)),j1}var k1,jP;function UG(){return jP||(jP=1,k1=$G().sortBy),k1}var BG=UG();const Mv=ga(BG);var J5=t=>t.legend.settings,qG=t=>t.legend.size,FG=t=>t.legend.payload,HG=oe([FG,J5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Mv(r,n):r});function KG(){return Le(HG)}var og=1;function Z5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>og||Math.abs(l.left-e.left)>og||Math.abs(l.top-e.top)>og||Math.abs(l.width-e.width)>og)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function vr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GG=typeof Symbol=="function"&&Symbol.observable||"@@observable",NP=GG,M1=()=>Math.random().toString(36).substring(7).split("").join("."),YG={INIT:`@@redux/INIT${M1()}`,REPLACE:`@@redux/REPLACE${M1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${M1()}`},p0=YG;function bE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function e3(t,e,n){if(typeof t!="function")throw new Error(vr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vr(1));return n(e3)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((E,C)=>{l.set(C,E)}))}function p(){if(f)throw new Error(vr(3));return i}function g(E){if(typeof E!="function")throw new Error(vr(4));if(f)throw new Error(vr(5));let C=!0;h();const V=u++;return l.set(V,E),function(){if(C){if(f)throw new Error(vr(6));C=!1,h(),l.delete(V),s=null}}}function x(E){if(!bE(E))throw new Error(vr(7));if(typeof E.type>"u")throw new Error(vr(8));if(typeof E.type!="string")throw new Error(vr(17));if(f)throw new Error(vr(9));try{f=!0,i=r(i,E)}finally{f=!1}return(s=l).forEach(V=>{V()}),E}function _(E){if(typeof E!="function")throw new Error(vr(10));r=E,x({type:p0.REPLACE})}function A(){const E=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(vr(11));function V(){const B=C;B.next&&B.next(p())}return V(),{unsubscribe:E(V)}},[NP](){return this}}}return x({type:p0.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:_,[NP]:A}}function WG(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:p0.INIT})>"u")throw new Error(vr(12));if(typeof n(void 0,{type:p0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vr(13))})}function t3(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{WG(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],_=l[g],A=x(_,u);if(typeof A>"u")throw u&&u.type,new Error(vr(14));h[g]=A,f=f||A!==_}return f=f||r.length!==Object.keys(l).length,f?h:l}}function g0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function XG(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(vr(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},u=t.map(f=>f(l));return s=g0(...u)(i.dispatch),{...i,dispatch:s}}}function n3(t){return bE(t)&&"type"in t&&typeof t.type=="string"}var r3=Symbol.for("immer-nothing"),CP=Symbol.for("immer-draftable"),Br=Symbol.for("immer-state");function sa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xi=Object,Ju=xi.getPrototypeOf,v0="constructor",Dv="prototype",o_="configurable",y0="enumerable",kg="writable",Sh="value",Ks=t=>!!t&&!!t[Br];function pa(t){return t?i3(t)||zv(t)||!!t[CP]||!!t[v0]?.[CP]||Vv(t)||$v(t):!1}var QG=xi[Dv][v0].toString(),OP=new WeakMap;function i3(t){if(!t||!xE(t))return!1;const e=Ju(t);if(e===null||e===xi[Dv])return!0;const n=xi.hasOwnProperty.call(e,v0)&&e[v0];if(n===Object)return!0;if(!ju(n))return!1;let r=OP.get(n);return r===void 0&&(r=Function.toString.call(n),OP.set(n,r)),r===QG}function Lv(t,e,n=!0){sm(t)===0?(n?Reflect.ownKeys(t):xi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function sm(t){const e=t[Br];return e?e.type_:zv(t)?1:Vv(t)?2:$v(t)?3:0}var PP=(t,e,n=sm(t))=>n===2?t.has(e):xi[Dv].hasOwnProperty.call(t,e),l_=(t,e,n=sm(t))=>n===2?t.get(e):t[e],b0=(t,e,n,r=sm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function JG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var zv=Array.isArray,Vv=t=>t instanceof Map,$v=t=>t instanceof Set,xE=t=>typeof t=="object",ju=t=>typeof t=="function",D1=t=>typeof t=="boolean";function ZG(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ts=t=>t.copy_||t.base_,wE=t=>t.modified_?t.copy_:t.base_;function c_(t,e){if(Vv(t))return new Map(t);if($v(t))return new Set(t);if(zv(t))return Array[Dv].slice.call(t);const n=i3(t);if(e===!0||e==="class_only"&&!n){const r=xi.getOwnPropertyDescriptors(t);delete r[Br];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[kg]===!1&&(u[kg]=!0,u[o_]=!0),(u.get||u.set)&&(r[l]={[o_]:!0,[kg]:!0,[y0]:u[y0],[Sh]:t[l]})}return xi.create(Ju(t),r)}else{const r=Ju(t);if(r!==null&&n)return{...t};const i=xi.create(r);return xi.assign(i,t)}}function _E(t,e=!1){return Uv(t)||Ks(t)||!pa(t)||(sm(t)>1&&xi.defineProperties(t,{set:lg,add:lg,clear:lg,delete:lg}),xi.freeze(t),e&&Lv(t,(n,r)=>{_E(r,!0)},!1)),t}function eY(){sa(2)}var lg={[Sh]:eY};function Uv(t){return t===null||!xE(t)?!0:xi.isFrozen(t)}var x0="MapSet",u_="Patches",IP="ArrayMethods",a3={};function wc(t){const e=a3[t];return e||sa(0,t),e}var RP=t=>!!a3[t],Eh,s3=()=>Eh,tY=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RP(x0)?wc(x0):void 0,arrayMethodsPlugin_:RP(IP)?wc(IP):void 0});function kP(t,e){e&&(t.patchPlugin_=wc(u_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function d_(t){f_(t),t.drafts_.forEach(nY),t.drafts_=null}function f_(t){t===Eh&&(Eh=t.parent_)}var MP=t=>Eh=tY(Eh,t);function nY(t){const e=t[Br];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Br].modified_&&(d_(e),sa(4)),pa(t)&&(t=LP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Br].base_,t,e)}else t=LP(e,n);return rY(e,t,!0),d_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==r3?t:void 0}function LP(t,e){if(Uv(e))return e;const n=e[Br];if(!n)return w0(e,t.handledSet_,t);if(!Bv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);c3(n,t)}return n.copy_}function rY(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&_E(e,n)}function o3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Bv=(t,e)=>t.scope_===e,iY=[];function l3(t,e,n,r){const i=Ts(t),s=t.type_;if(r!==void 0&&l_(i,r,s)===e){b0(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Lv(i,(f,h)=>{if(Ks(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const l=t.draftLocations_.get(e)??iY;for(const u of l)b0(i,u,n,s)}function aY(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Bv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=wE(s);l3(t,s.draft_??s,l,n),c3(s,i)})}function c3(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}o3(t)}}function sY(t,e,n){const{scope_:r}=t;if(Ks(n)){const i=n[Br];Bv(i,r)&&i.callbacks_.push(function(){Mg(t);const l=wE(i);l3(t,n,l,e)})}else pa(n)&&t.callbacks_.push(function(){const s=Ts(t);t.type_===3?s.has(n)&&w0(n,r.handledSet_,r):l_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&w0(l_(t.copy_,e,t.type_),r.handledSet_,r)})}function w0(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ks(t)||e.has(t)||!pa(t)||Uv(t)||(e.add(t),Lv(t,(r,i)=>{if(Ks(i)){const s=i[Br];if(Bv(s,n)){const l=wE(s);b0(t,r,l,t.type_),o3(s)}}else pa(i)&&w0(i,e,n)})),t}function oY(t,e){const n=zv(t),r={type_:n?1:0,scope_:e?e.scope_:s3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=_0;n&&(i=[r],s=Ah);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var _0={get(t,e){if(e===Br)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Ts(t);if(!PP(i,e,t.type_))return lY(t,i,e);const s=i[e];if(t.finalized_||!pa(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&ZG(e))return s;if(s===L1(t.base_,e)){Mg(t);const l=t.type_===1?+e:e,u=m_(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in Ts(t)},ownKeys(t){return Reflect.ownKeys(Ts(t))},set(t,e,n){const r=u3(Ts(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=L1(Ts(t),e),s=i?.[Br];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(JG(n,i)&&(n!==void 0||PP(t.base_,e,t.type_)))return!0;Mg(t),h_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),sY(t,e,n)),!0},deleteProperty(t,e){return Mg(t),L1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),h_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ts(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[kg]:!0,[o_]:t.type_!==1||e!=="length",[y0]:r[y0],[Sh]:n[e]}},defineProperty(){sa(11)},getPrototypeOf(t){return Ju(t.base_)},setPrototypeOf(){sa(12)}},Ah={};for(let t in _0){let e=_0[t];Ah[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Ah.deleteProperty=function(t,e){return Ah.set.call(this,t,e,void 0)};Ah.set=function(t,e,n){return _0.set.call(this,t[0],e,n,t[0])};function L1(t,e){const n=t[Br];return(n?Ts(n):t)[e]}function lY(t,e,n){const r=u3(e,n);return r?Sh in r?r[Sh]:r.get?.call(t.draft_):void 0}function u3(t,e){if(!(e in t))return;let n=Ju(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ju(n)}}function h_(t){t.modified_||(t.modified_=!0,t.parent_&&h_(t.parent_))}function Mg(t){t.copy_||(t.assigned_=new Map,t.copy_=c_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ju(n)&&!ju(r)){const l=r;r=n;const u=this;return function(h=l,...p){return u.produce(h,g=>r.call(this,g,...p))}}ju(r)||sa(6),i!==void 0&&!ju(i)&&sa(7);let s;if(pa(n)){const l=MP(this),u=m_(l,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?d_(l):f_(l)}return kP(l,i),DP(s,l)}else if(!n||!xE(n)){if(s=r(n),s===void 0&&(s=n),s===r3&&(s=void 0),this.autoFreeze_&&_E(s,!0),i){const l=[],u=[];wc(u_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else sa(1,n)},this.produceWithPatches=(n,r)=>{if(ju(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,s;return[this.produce(n,r,(u,f)=>{i=u,s=f}),i,s]},D1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),D1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),D1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){pa(e)||sa(8),Ks(e)&&(e=fa(e));const n=MP(this),r=m_(n,e,void 0);return r[Br].isManual_=!0,f_(n),r}finishDraft(e,n){const r=e&&e[Br];(!r||!r.isManual_)&&sa(9);const{scope_:i}=r;return kP(i,n),DP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=wc(u_).applyPatches_;return Ks(e)?i(e,n):this.produce(e,s=>i(s,n))}};function m_(t,e,n,r){const[i,s]=Vv(e)?wc(x0).proxyMap_(e,n):$v(e)?wc(x0).proxySet_(e,n):oY(e,n);return(n?.scope_??s3()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?aY(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function fa(t){return Ks(t)||sa(10,t),d3(t)}function d3(t){if(!pa(t)||Uv(t))return t;const e=t[Br];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=c_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=c_(t,!0);return Lv(n,(i,s)=>{b0(n,i,d3(s))},r),e&&(e.finalized_=!1),n}var uY=new cY,f3=uY.produce;function h3(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var dY=h3(),fY=h3,hY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?g0:g0.apply(null,arguments)};function Ki(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(wi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>n3(r)&&r.type===t,n}var m3=class Jf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jf.prototype)}static get[Symbol.species](){return Jf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jf(...e[0].concat(this)):new Jf(...e.concat(this))}};function zP(t){return pa(t)?f3(t,()=>{}):t}function cg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function mY(t){return typeof t=="boolean"}var pY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new m3;return n&&(mY(n)?l.push(dY):l.push(fY(n.extraArgument))),l},p3="RTK_autoBatch",mn=()=>t=>({payload:t,meta:{[p3]:!0}}),VP=t=>e=>{setTimeout(e,t)},g3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VP(10):t.type==="callback"?t.queueNotification:VP(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),x=r.subscribe(g);return u.add(p),()=>{x(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[p3],s=!i,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},gY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new m3(t);return r&&i.push(g3(typeof r=="object"?r:void 0)),i};function vY(t){const e=pY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(bE(n))u=t3(n);else throw new Error(wi(1));let f;typeof r=="function"?f=r(e):f=e();let h=g0;i&&(h=hY({trace:!1,...typeof i=="object"&&i}));const p=XG(...f),g=gY(p);let x=typeof l=="function"?l(g):g();const _=h(...x);return e3(u,s,_)}function v3(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(wi(28));if(u in e)throw new Error(wi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function yY(t){return typeof t=="function"}function bY(t,e){let[n,r,i]=v3(e),s;if(yY(t))s=()=>zP(t());else{const u=zP(t);s=()=>u}function l(u=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Ks(p)){const _=g(p,f);return _===void 0?p:_}else{if(pa(p))return f3(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},u)}return l.getInitialState=s,l}var xY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wY=(t=21)=>{let e="",n=t;for(;n--;)e+=xY[Math.random()*64|0];return e},_Y=Symbol.for("rtk-slice-createasyncthunk");function SY(t,e){return`${t}/${e}`}function EY({creators:t}={}){const e=t?.asyncThunk?.[_Y];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(wi(11));const l=(typeof r.reducers=="function"?r.reducers(TY()):r.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(D,B){const $=typeof D=="string"?D:D.type;if(!$)throw new Error(wi(12));if($ in f.sliceCaseReducersByType)throw new Error(wi(13));return f.sliceCaseReducersByType[$]=B,h},addMatcher(D,B){return f.sliceMatchers.push({matcher:D,reducer:B}),h},exposeAction(D,B){return f.actionCreators[D]=B,h},exposeCaseReducer(D,B){return f.sliceCaseReducersByName[D]=B,h}};u.forEach(D=>{const B=l[D],$={reducerName:D,type:SY(i,D),createNotation:typeof r.reducers=="function"};NY(B)?OY($,B,h,e):jY($,B,h)});function p(){const[D={},B=[],$=void 0]=typeof r.extraReducers=="function"?v3(r.extraReducers):[r.extraReducers],z={...D,...f.sliceCaseReducersByType};return bY(r.initialState,N=>{for(let j in z)N.addCase(j,z[j]);for(let j of f.sliceMatchers)N.addMatcher(j.matcher,j.reducer);for(let j of B)N.addMatcher(j.matcher,j.reducer);$&&N.addDefaultCase($)})}const g=D=>D,x=new Map,_=new WeakMap;let A;function S(D,B){return A||(A=p()),A(D,B)}function E(){return A||(A=p()),A.getInitialState()}function C(D,B=!1){function $(N){let j=N[D];return typeof j>"u"&&B&&(j=cg(_,$,E)),j}function z(N=g){const j=cg(x,B,()=>new WeakMap);return cg(j,N,()=>{const k={};for(const[I,P]of Object.entries(r.selectors??{}))k[I]=AY(P,N,()=>cg(_,N,E),B);return k})}return{reducerPath:D,getSelectors:z,get selectors(){return z($)},selectSlice:$}}const V={name:i,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...C(s),injectInto(D,{reducerPath:B,...$}={}){const z=B??s;return D.inject({reducerPath:z,reducer:S},$),{...V,...C(z,!0)}}};return V}}function AY(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var oi=EY();function TY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function jY({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!CY(r))throw new Error(wi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Ki(t,l):Ki(t))}function NY(t){return t._reducerDefinitionType==="asyncThunk"}function CY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function OY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(wi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||ug,pending:u||ug,rejected:f||ug,settled:h||ug})}function ug(){}var PY="task",y3="listener",b3="completed",SE="cancelled",IY=`task-${SE}`,RY=`task-${b3}`,p_=`${y3}-${SE}`,kY=`${y3}-${b3}`,qv=class{constructor(t){this.code=t,this.message=`${PY} ${SE} (reason: ${t})`}name="TaskAbortError";message},EE=(t,e)=>{if(typeof t!="function")throw new TypeError(wi(32))},S0=()=>{},x3=(t,e=S0)=>(t.catch(e),t),w3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),lc=t=>{if(t.aborted)throw new qv(t.reason)};function _3(t,e){let n=S0;return new Promise((r,i)=>{const s=()=>i(new qv(t.reason));if(t.aborted){s();return}n=w3(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=S0})}var MY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof qv?"cancelled":"rejected",error:n}}finally{e?.()}},E0=t=>e=>x3(_3(t,e).then(n=>(lc(t),n))),S3=t=>{const e=E0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:zu}=Object,$P={},Fv="listenerMiddleware",DY=(t,e)=>{const n=r=>w3(t,()=>r.abort(t.reason));return(r,i)=>{EE(r);const s=new AbortController;n(s);const l=MY(async()=>{lc(t),lc(s.signal);const u=await r({pause:E0(s.signal),delay:S3(s.signal),signal:s.signal});return lc(s.signal),u},()=>s.abort(RY));return i?.autoJoin&&e.push(l.catch(S0)),{result:E0(t)(l),cancel(){s.abort(IY)}}}},LY=(t,e)=>{const n=async(r,i)=>{lc(e);let s=()=>{};const u=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await _3(e,Promise.race(u));return lc(e),f}finally{s()}};return(r,i)=>x3(n(r,i))},E3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ki(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wi(21));return EE(s),{predicate:i,type:e,effect:s}},A3=zu(t=>{const{type:e,predicate:n,effect:r}=E3(t);return{id:wY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wi(22))}}},{withTypes:()=>A3}),UP=(t,e)=>{const{type:n,effect:r,predicate:i}=E3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},g_=t=>{t.pending.forEach(e=>{e.abort(p_)})},zY=(t,e)=>()=>{for(const n of e.keys())g_(n);t.clear()},BP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},T3=zu(Ki(`${Fv}/add`),{withTypes:()=>T3}),VY=Ki(`${Fv}/removeAll`),j3=zu(Ki(`${Fv}/remove`),{withTypes:()=>j3}),$Y=(...t)=>{console.error(`${Fv}/error`,...t)},om=(t={})=>{const e=new Map,n=new Map,r=_=>{const A=n.get(_)??0;n.set(_,A+1)},i=_=>{const A=n.get(_)??1;A===1?n.delete(_):n.set(_,A-1)},{extra:s,onError:l=$Y}=t;EE(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),A=>{_.unsubscribe(),A?.cancelActive&&g_(_)}),f=_=>{const A=UP(e,_)??A3(_);return u(A)};zu(f,{withTypes:()=>f});const h=_=>{const A=UP(e,_);return A&&(A.unsubscribe(),_.cancelActive&&g_(A)),!!A};zu(h,{withTypes:()=>h});const p=async(_,A,S,E)=>{const C=new AbortController,V=LY(f,C.signal),D=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(A,zu({},S,{getOriginalState:E,condition:(B,$)=>V(B,$).then(Boolean),take:V,delay:S3(C.signal),pause:E0(C.signal),extra:s,signal:C.signal,fork:DY(C.signal,D),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((B,$,z)=>{B!==C&&(B.abort(p_),z.delete(B))})},cancel:()=>{C.abort(p_),_.pending.delete(C)},throwIfCancelled:()=>{lc(C.signal)}})))}catch(B){B instanceof qv||BP(l,B,{raisedBy:"effect"})}finally{await Promise.all(D),C.abort(kY),i(_),_.pending.delete(C)}},g=zY(e,n);return{middleware:_=>A=>S=>{if(!n3(S))return A(S);if(T3.match(S))return f(S.payload);if(VY.match(S)){g();return}if(j3.match(S))return h(S.payload);let E=_.getState();const C=()=>{if(E===$P)throw new Error(wi(23));return E};let V;try{if(V=A(S),e.size>0){const D=_.getState(),B=Array.from(e.values());for(const $ of B){let z=!1;try{z=$.predicate(S,D,E)}catch(N){z=!1,BP(l,N,{raisedBy:"predicate"})}z&&p($,S,_,C)}}}finally{E=$P}return V},startListening:f,stopListening:h,clearListeners:g}};function wi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var UY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},N3=oi({name:"chartLayout",initialState:UY,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:BY,setLayout:qY,setChartSize:FY,setScale:HY}=N3.actions,KY=N3.reducer;function C3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Qt(t){return Number.isFinite(t)}function Ja(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){GY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GY(t,e,n){return(e=YY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YY(t){var e=WY(t,"string");return typeof e=="symbol"?e:e+""}function WY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jt(t,e,n){return Xt(t)||Xt(e)?n:Qa(e)?xc(t,e,n):typeof e=="function"?e(t):n}var XY=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&$e(t[s]))return Ou(Ou({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&$e(t[l]))return Ou(Ou({},t),{},{[l]:t[l]+(i||0)})}return t},ya=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",O3=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},P3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:_}=t;if(!l)return null;var A=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(S=_==="angleAxis"&&s&&s.length>=2?sr(s[0]-s[1])*2*S:S,g||x){var E=(g||x||[]).map((C,V)=>{var D=r?r.indexOf(C):C;return{coordinate:l(D)+S,value:C,offset:S,index:V}});return E.filter(C=>!Hi(C.coordinate))}return f&&h?h.map((C,V)=>({coordinate:l(C)+S,value:C,index:V,offset:S})):l.ticks&&p!=null?l.ticks(p).map((C,V)=>({coordinate:l(C)+S,value:C,offset:S,index:V})):l.domain().map((C,V)=>({coordinate:l(C)+S,value:r?r[C]:C,index:V,offset:S}))},FP=1e-4,QY=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-FP,s=Math.max(r[0],r[1])+FP,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},JY=(t,e)=>{if(!e||e.length!==2||!$e(e[0])||!$e(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!$e(t[0])||t[0]<n)&&(i[0]=n),(!$e(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},ZY=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var f=t[u],h=f?.[i];if(h!=null){var p=h[1],g=h[0],x=Hi(p)?g:p;x>=0?(h[0]=s,h[1]=s+x,s=p):(h[0]=l,h[1]=l+x,l=p)}}}},eW=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],f=u?.[i];if(f!=null){var h=Hi(f[1])?f[0]:f[1];h>=0?(f[0]=s,f[1]=s+h,s=f[1]):(f[0]=0,f[1]=0)}}}},tW={sign:ZY,expand:wK,none:bc,silhouette:_K,wiggle:SK,positive:eW},nW=(t,e,n)=>{var r,i=(r=tW[n])!==null&&r!==void 0?r:bc,s=xK().keys(e).value((u,f)=>Number(jt(u,f,0))).order(a_).offset(i),l=s(t);return l.forEach((u,f)=>{u.forEach((h,p)=>{var g=jt(t[p],e[f],0);Array.isArray(g)&&g.length===2&&$e(g[0])&&$e(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function I3(t){return t==null?void 0:String(t)}function A0(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xt(i[e.dataKey])){var u=L5(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=jt(i,Xt(l)?e.dataKey:l);return Xt(f)?null:e.scale(f)}var HP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=jt(s,e.dataKey,e.scale.domain()[l]);return Xt(u)?null:e.scale(u)-i/2+r},rW=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},iW=t=>{var e=t.flat(2).filter($e);return[Math.min(...e),Math.max(...e)]},aW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],sW=(t,e,n)=>{if(t!=null)return aW(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((f,h)=>{var p=C3(h,e,n),g=iW(p);return!Qt(g[0])||!Qt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},KP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Za=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Mv(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var f=i[l],h=i[l-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function YP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Ou(Ou({},e),{},{dataKey:n,payload:r,value:i,name:s})}function rs(t,e){if(t)return String(t);if(typeof e=="string")return e}var oW=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},lW=(t,e)=>e==="centric"?t.angle:t.radius,no=t=>t.layout.width,ro=t=>t.layout.height,cW=t=>t.layout.scale,R3=t=>t.layout.margin,Hv=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Kv=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),k3="data-recharts-item-index",M3="data-recharts-item-id",lm=60;function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){uW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uW(t,e,n){return(e=dW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=fW(t,"string");return typeof e=="symbol"?e:e+""}function fW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hW=t=>t.brush.height;function mW(t){var e=Kv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:lm;return n+i}return n},0)}function pW(t){var e=Kv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:lm;return n+i}return n},0)}function gW(t){var e=Hv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function vW(t){var e=Hv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Yn=oe([no,ro,R3,hW,mW,pW,gW,vW,J5,qG],(t,e,n,r,i,s,l,u,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},x=dg(dg({},g),p),_=x.bottom;x.bottom+=r,x=XY(x,f,h);var A=t-x.left-x.right,S=e-x.top-x.bottom;return dg(dg({brushBottom:_},x),{},{width:Math.max(A,0),height:Math.max(S,0)})}),yW=oe(Yn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),AE=oe(no,ro,(t,e)=>({x:0,y:0,width:t,height:e})),bW=b.createContext(null),Bn=()=>b.useContext(bW)!=null,Gv=t=>t.brush,Yv=oe([Gv,Yn,R3],(t,e,n)=>({height:t.height,x:$e(t.x)?t.x:e.left,y:$e(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:$e(t.width)?t.width:e.width})),z1={},V1={},$1={},XP;function xW(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),S()};let x=null;const _=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},A=()=>{x!==null&&(clearTimeout(x),x=null)},S=()=>{A(),l=void 0,u=null},E=()=>{p()},C=function(...V){if(i?.aborted)return;l=this,u=V;const D=x==null;_(),f&&D&&p()};return C.schedule=_,C.cancel=S,C.flush=E,i?.addEventListener("abort",S,{once:!0}),C}t.debounce=e})($1)),$1}var QP;function wW(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xW();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:h}),_=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,S),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,S),p)},A=()=>(x.flush(),p);return _.cancel=x.cancel,_.flush=A,_}t.debounce=n})(V1)),V1}var JP;function _W(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wW();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(z1)),z1}var U1,ZP;function SW(){return ZP||(ZP=1,U1=_W().throttle),U1}var EW=SW();const AW=ga(EW);var T0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},D3=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Hs(r)?t:Number(r),f=Hs(i)?e:Number(i);return s&&s>0&&(u?f=u/s:f&&(u=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},TW={width:0,height:0,overflow:"visible"},jW={width:0,overflowX:"visible"},NW={height:0,overflowY:"visible"},CW={},OW=t=>{var{width:e,height:n}=t,r=Hs(e),i=Hs(n);return r&&i?TW:r?jW:i?NW:CW};function PW(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(null,arguments)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){IW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IW(t,e,n){return(e=RW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){var e=kW(t,"string");return typeof e=="symbol"?e:e+""}function kW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L3=b.createContext({width:-1,height:-1});function MW(t){return Ja(t.width)&&Ja(t.height)}function z3(t){var{children:e,width:n,height:r}=t,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return MW(i)?b.createElement(L3.Provider,{value:i},e):null}var TE=()=>b.useContext(L3),DW=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:_,style:A={}}=t,S=b.useRef(null),E=b.useRef();E.current=_,b.useImperativeHandle(e,()=>S.current);var[C,V]=b.useState({containerWidth:r.width,containerHeight:r.height}),D=b.useCallback((j,k)=>{V(I=>{var P=Math.round(j),L=Math.round(k);return I.containerWidth===P&&I.containerHeight===L?I:{containerWidth:P,containerHeight:L}})},[]);b.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return am;var j=L=>{var M,{width:re,height:K}=L[0].contentRect;D(re,K),(M=E.current)===null||M===void 0||M.call(E,re,K)};p>0&&(j=AW(j,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(j),{width:I,height:P}=S.current.getBoundingClientRect();return D(I,P),k.observe(S.current),()=>{k.disconnect()}},[D,p]);var{containerWidth:B,containerHeight:$}=C;T0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:N}=D3(B,$,{width:i,height:s,aspect:n,maxHeight:f});return T0(z!=null&&z>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,N,i,s,l,u,n),b.createElement("div",{id:g?"".concat(g):void 0,className:lt("recharts-responsive-container",x),style:tI(tI({},A),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:S},b.createElement("div",{style:OW({width:i,height:s})},b.createElement(z3,{width:z,height:N},h)))}),Vu=b.forwardRef((t,e)=>{var n=TE();if(Ja(n.width)&&Ja(n.height))return t.children;var{width:r,height:i}=PW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=D3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return $e(s)&&$e(l)?b.createElement(z3,{width:s,height:l},t.children):b.createElement(DW,v_({},t,{width:r,height:i,ref:e}))});function V3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Wv=()=>{var t,e=Bn(),n=Le(yW),r=Le(Yv),i=(t=Le(Gv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},LW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$3=()=>{var t;return(t=Le(Yn))!==null&&t!==void 0?t:LW},jE=()=>Le(no),NE=()=>Le(ro),zW=()=>Le(t=>t.layout.margin),ct=t=>t.layout.layoutType,bl=()=>Le(ct),VW=()=>{var t=bl();if(t==="horizontal"||t==="vertical")return t},$W=()=>{var t=bl();return t!==void 0},Xv=t=>{var e=Kt(),n=Bn(),{width:r,height:i}=t,s=TE(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),b.useEffect(()=>{!n&&Ja(l)&&Ja(u)&&e(FY({width:l,height:u}))},[e,n,l,u]),null},U3=Symbol.for("immer-nothing"),nI=Symbol.for("immer-draftable"),Si=Symbol.for("immer-state");function oa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Th=Object.getPrototypeOf;function Zu(t){return!!t&&!!t[Si]}function _c(t){return t?B3(t)||Array.isArray(t)||!!t[nI]||!!t.constructor?.[nI]||cm(t)||Jv(t):!1}var UW=Object.prototype.constructor.toString(),rI=new WeakMap;function B3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rI.get(n);return r===void 0&&(r=Function.toString.call(n),rI.set(n,r)),r===UW}function j0(t,e,n=!0){Qv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Qv(t){const e=t[Si];return e?e.type_:Array.isArray(t)?1:cm(t)?2:Jv(t)?3:0}function y_(t,e){return Qv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function q3(t,e,n){const r=Qv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function BW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cm(t){return t instanceof Map}function Jv(t){return t instanceof Set}function Zl(t){return t.copy_||t.base_}function b_(t,e){if(cm(t))return new Map(t);if(Jv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=B3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Si];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Th(t),r)}else{const r=Th(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function CE(t,e=!1){return Zv(t)||Zu(t)||!_c(t)||(Qv(t)>1&&Object.defineProperties(t,{set:fg,add:fg,clear:fg,delete:fg}),Object.freeze(t),e&&Object.values(t).forEach(n=>CE(n,!0))),t}function qW(){oa(2)}var fg={value:qW};function Zv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var FW={};function Sc(t){const e=FW[t];return e||oa(0,t),e}var jh;function F3(){return jh}function HW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iI(t,e){e&&(Sc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function x_(t){w_(t),t.drafts_.forEach(KW),t.drafts_=null}function w_(t){t===jh&&(jh=t.parent_)}function aI(t){return jh=HW(jh,t)}function KW(t){const e=t[Si];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Si].modified_&&(x_(e),oa(4)),_c(t)&&(t=N0(e,t),e.parent_||C0(e,t)),e.patches_&&Sc("Patches").generateReplacementPatches_(n[Si].base_,t,e.patches_,e.inversePatches_)):t=N0(e,n,[]),x_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==U3?t:void 0}function N0(t,e,n){if(Zv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Si];if(!i)return j0(e,(s,l)=>oI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return C0(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),j0(l,(f,h)=>oI(t,i,s,f,h,n,u),r),C0(t,s,!1),n&&t.patches_&&Sc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function oI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=Zv(i);if(!(u&&!l)){if(Zu(i)){const f=s&&e&&e.type_!==3&&!y_(e.assigned_,r)?s.concat(r):void 0,h=N0(t,i,f);if(q3(n,r,h),Zu(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(_c(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;N0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(cm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&C0(t,i)}}}function C0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CE(e,n)}function GW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:F3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=OE;n&&(i=[r],s=Nh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var OE={get(t,e){if(e===Si)return t;const n=Zl(t);if(!y_(n,e))return YW(t,n,e);const r=n[e];return t.finalized_||!_c(r)?r:r===B1(t.base_,e)?(q1(t),t.copy_[e]=S_(r,t)):r},has(t,e){return e in Zl(t)},ownKeys(t){return Reflect.ownKeys(Zl(t))},set(t,e,n){const r=H3(Zl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=B1(Zl(t),e),s=i?.[Si];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(BW(n,i)&&(n!==void 0||y_(t.base_,e)))return!0;q1(t),__(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return B1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,q1(t),__(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Zl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){oa(11)},getPrototypeOf(t){return Th(t.base_)},setPrototypeOf(){oa(12)}},Nh={};j0(OE,(t,e)=>{Nh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nh.deleteProperty=function(t,e){return Nh.set.call(this,t,e,void 0)};Nh.set=function(t,e,n){return OE.set.call(this,t[0],e,n,t[0])};function B1(t,e){const n=t[Si];return(n?Zl(n):t)[e]}function YW(t,e,n){const r=H3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function H3(t,e){if(!(e in t))return;let n=Th(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Th(n)}}function __(t){t.modified_||(t.modified_=!0,t.parent_&&__(t.parent_))}function q1(t){t.copy_||(t.copy_=b_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var WW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&oa(6),r!==void 0&&typeof r!="function"&&oa(7);let i;if(_c(e)){const s=aI(this),l=S_(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?x_(s):w_(s)}return iI(s,r),sI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===U3&&(i=void 0),this.autoFreeze_&&CE(i,!0),r){const s=[],l=[];Sc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else oa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_c(t)||oa(8),Zu(t)&&(t=XW(t));const e=aI(this),n=S_(t,void 0);return n[Si].isManual_=!0,w_(e),n}finishDraft(t,e){const n=t&&t[Si];(!n||!n.isManual_)&&oa(9);const{scope_:r}=n;return iI(r,e),sI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Sc("Patches").applyPatches_;return Zu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function S_(t,e){const n=cm(t)?Sc("MapSet").proxyMap_(t,e):Jv(t)?Sc("MapSet").proxySet_(t,e):GW(t,e);return(e?e.scope_:F3()).drafts_.push(n),n}function XW(t){return Zu(t)||oa(10,t),K3(t)}function K3(t){if(!_c(t)||Zv(t))return t;const e=t[Si];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=b_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=b_(t,!0);return j0(n,(i,s)=>{q3(n,i,K3(s))},r),e&&(e.finalized_=!1),n}var QW=new WW;QW.produce;var JW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},G3=oi({name:"legend",initialState:JW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:mn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:mn()},removeLegendPayload:{reducer(t,e){var n=fa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:mn()}}}),{setLegendSize:lI,setLegendSettings:ZW,addLegendPayload:Y3,replaceLegendPayload:W3,removeLegendPayload:X3}=G3.actions,eX=G3.reducer,tX=["contextPayload"];function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(null,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t,e){if(t==null)return{};var n,r,i=sX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oX(t){return t.value}function lX(t){var{contextPayload:e}=t,n=aX(t,tX),r=Y5(e,t.payloadUniqBy,oX),i=ed(ed({},n),{},{payload:r});return b.isValidElement(t.content)?b.cloneElement(t.content,i):typeof t.content=="function"?b.createElement(t.content,i):b.createElement(ZK,i)}function cX(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ed(ed({},h),p)}function uX(t){var e=Kt();return b.useEffect(()=>{e(ZW(t))},[e,t]),null}function dX(t){var e=Kt();return b.useEffect(()=>(e(lI(t)),()=>{e(lI({width:0,height:0}))}),[e,t]),null}function fX(t,e,n,r){return t==="vertical"&&$e(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var hX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function $u(t){var e=rn(t,hX),n=KG(),r=FH(),i=zW(),{width:s,height:l,wrapperStyle:u,portal:f}=e,[h,p]=Z5([n]),g=jE(),x=NE();if(g==null||x==null)return null;var _=g-(i?.left||0)-(i?.right||0),A=fX(e.layout,l,s,_),S=f?u:ed(ed({position:"absolute",width:A?.width||s||"auto",height:A?.height||l||"auto"},cX(u,e,i,g,x,h)),u),E=f??r;if(E==null||n==null)return null;var C=b.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},b.createElement(uX,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!f&&b.createElement(dX,{width:h.width,height:h.height}),b.createElement(lX,E_({},e,A,{margin:i,chartWidth:g,chartHeight:x,contextPayload:n})));return oE.createPortal(C,E)}$u.displayName="Legend";function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(null,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){mX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e,n){return(e=pX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=gX(t,"string");return typeof e=="symbol"?e:e+""}function gX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vX(t){return Array.isArray(t)&&Qa(t[0])&&Qa(t[1])?t.join(" ~ "):t}var yX=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,_=()=>{if(s&&s.length){var $={padding:0,margin:0},z=(u?Mv(s,u):s).map((N,j)=>{if(N.type==="none")return null;var k=N.formatter||l||vX,{value:I,name:P}=N,L=I,M=P;if(k){var re=k(I,P,N,j,s);if(Array.isArray(re))[L,M]=re;else if(re!=null)L=re;else return null}var K=F1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:K},Qa(M)?b.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Qa(M)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},L),b.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:$},z)}return null},A=F1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=F1({margin:0},i),E=!Xt(p),C=E?p:"",V=lt("recharts-default-tooltip",f),D=lt("recharts-tooltip-label",h);E&&g&&s!==void 0&&s!==null&&(C=g(p,s));var B=x?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",A_({className:V,style:A},B),b.createElement("p",{className:D,style:S},b.isValidElement(C)?C:"".concat(C)),_())},zf="recharts-tooltip-wrapper",bX={visibility:"hidden"};function xX(t){var{coordinate:e,translateX:n,translateY:r}=t;return lt(zf,{["".concat(zf,"-right")]:$e(n)&&e&&$e(e.x)&&n>=e.x,["".concat(zf,"-left")]:$e(n)&&e&&$e(e.x)&&n<e.x,["".concat(zf,"-bottom")]:$e(r)&&e&&$e(e.y)&&r>=e.y,["".concat(zf,"-top")]:$e(r)&&e&&$e(e.y)&&r<e.y})}function dI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(s&&$e(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var x=f[r];if(x==null)return 0;if(l[r]){var _=p,A=x;return _<A?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var S=g+u,E=x+h;return S>E?Math.max(p,x):Math.max(g,x)}function wX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _X(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=dI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=dI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=wX({translateX:p,translateY:g,useTranslate3d:u})):h=bX,{cssProperties:h,cssClasses:xX({translateX:p,translateY:g,coordinate:n})}}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){T_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T_(t,e,n){return(e=SX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SX(t){var e=EX(t,"string");return typeof e=="symbol"?e:e+""}function EX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AX extends b.PureComponent{constructor(){super(...arguments),T_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),T_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:_,wrapperStyle:A,lastBoundingBox:S,innerRef:E,hasPortalFromProps:C}=this.props,{cssClasses:V,cssProperties:D}=_X({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:x,viewBox:_}),B=C?{}:hg(hg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),$=hg(hg({},B),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:V,style:$,ref:E},s)}}var Q3=()=>{var t;return(t=Le(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(null,arguments)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){TX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TX(t,e,n){return(e=jX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=NX(t,"string");return typeof e=="symbol"?e:e+""}function NX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pI={curveBasisClosed:cK,curveBasisOpen:uK,curveBasis:lK,curveBumpX:YH,curveBumpY:WH,curveLinearClosed:dK,curveLinear:Iv,curveMonotoneX:fK,curveMonotoneY:hK,curveNatural:mK,curveStep:pK,curveStepAfter:vK,curveStepBefore:gK},O0=t=>Qt(t.x)&&Qt(t.y),gI=t=>t.base!=null&&O0(t.base)&&O0(t),Vf=t=>t.x,$f=t=>t.y,CX=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(im(t));return(n==="curveMonotone"||n==="curveBump")&&e?pI["".concat(n).concat(e==="vertical"?"Y":"X")]:pI[n]||Iv},OX=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=CX(e,i),u=s?n.filter(O0):n,f;if(Array.isArray(r)){var h=n.map((_,A)=>mI(mI({},_),{},{base:r[A]}));i==="vertical"?f=ag().y($f).x1(Vf).x0(_=>_.base.x):f=ag().x(Vf).y1($f).y0(_=>_.base.y);var p=f.defined(gI).curve(l),g=s?h.filter(gI):h;return p(g)}i==="vertical"&&$e(r)?f=ag().y($f).x1(Vf).x0(r):$e(r)?f=ag().x(Vf).y1($f).y0(r):f=E5().x(Vf).y($f);var x=f.defined(O0).curve(l);return x(u)},Uu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=bl();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?OX(l):r;return b.createElement("path",j_({},nn(t),pE(t),{className:lt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},PX=["x","y","top","left","width","height","className"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(null,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return(e=kX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kX(t){var e=MX(t,"string");return typeof e=="symbol"?e:e+""}function MX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DX(t,e){if(t==null)return{};var n,r,i=LX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zX=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),VX=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,f=DX(t,PX),h=IX({x:e,y:n,top:r,left:i,width:s,height:l},f);return!$e(e)||!$e(n)||!$e(s)||!$e(l)||!$e(r)||!$e(i)?null:b.createElement("path",N_({},On(h),{className:lt("recharts-cross",u),d:zX(e,n,s,l,r,i)}))};function $X(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){UX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UX(t,e,n){return(e=BX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=qX(t,"string");return typeof e=="symbol"?e:e+""}function qX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),J3=(t,e,n)=>t.map(r=>"".concat(FX(r)," ").concat(e,"ms ").concat(n)).join(","),HX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ch=(t,e)=>Object.keys(e).reduce((n,r)=>bI(bI({},n),{},{[r]:t(r,e[r])}),{});function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){KX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KX(t,e,n){return(e=GX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P0=(t,e,n)=>t+(e-t)*n,C_=t=>{var{from:e,to:n}=t;return e!==n},Z3=(t,e,n)=>{var r=Ch((i,s)=>{if(C_(s)){var[l,u]=t(s.from,s.to,s.velocity);return Hn(Hn({},s),{},{from:l,velocity:u})}return s},e);return n<1?Ch((i,s)=>C_(s)&&r[i]!=null?Hn(Hn({},s),{},{velocity:P0(s.velocity,r[i].velocity,n),from:P0(s.from,r[i].from,n)}):s,e):Z3(t,r,n-1)};function WX(t,e,n,r,i,s){var l,u=r.reduce((x,_)=>Hn(Hn({},x),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),f=()=>Ch((x,_)=>_.from,u),h=()=>!Object.values(u).filter(C_).length,p=null,g=x=>{l||(l=x);var _=x-l,A=_/n.dt;u=Z3(n,u,A),i(Hn(Hn(Hn({},t),e),f())),l=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function XX(t,e,n,r,i,s,l){var u=null,f=i.reduce((g,x)=>{var _=t[x],A=e[x];return _==null||A==null?g:Hn(Hn({},g),{},{[x]:[_,A]})},{}),h,p=g=>{h||(h=g);var x=(g-h)/r,_=Ch((S,E)=>P0(...E,n(x)),f);if(s(Hn(Hn(Hn({},t),e),_)),x<1)u=l.setTimeout(p);else{var A=Ch((S,E)=>P0(...E,n(1)),f);s(Hn(Hn(Hn({},t),e),A))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const QX=(t,e,n,r,i,s)=>{var l=HX(t,e);return n==null?()=>(i(Hn(Hn({},t),e)),()=>{}):n.isStepper===!0?WX(t,e,n,l,i,s):XX(t,e,n,r,l,i,s)};var I0=1e-4,e6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],t6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),wI=(t,e)=>n=>{var r=e6(t,e);return t6(r,n)},JX=(t,e)=>n=>{var r=e6(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return t6(i,n)},ZX=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},eQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=ZX(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},tQ=(t,e,n,r)=>{var i=wI(t,n),s=wI(e,r),l=JX(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var _=i(g)-p,A=l(g);if(Math.abs(_-p)<I0||A<I0)return s(g);g=u(g-_/A)}return s(g)};return f.isStepper=!1,f},_I=function(){return tQ(...eQ(...arguments))},nQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,f)=>{var h=-(l-u)*n,p=f*r,g=f+(h-p)*i/1e3,x=f*i/1e3+l;return Math.abs(x-u)<I0&&Math.abs(g)<I0?[u,0]:[x,g]};return s.isStepper=!0,s.dt=i,s},rQ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _I(t);case"spring":return nQ();default:if(t.split("(")[0]==="cubic-bezier")return _I(t)}return typeof t=="function"?t:null};function iQ(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class aQ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function sQ(){return iQ(new aQ)}var oQ=b.createContext(sQ);function lQ(t,e){var n=b.useContext(oQ);return b.useMemo(()=>e??n(t),[t,e,n])}var cQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),um={isSsr:cQ()},uQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SI={t:0},H1={t:1};function Ic(t){var e=rn(t,uQ),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=e,p=n==="auto"?!um.isSsr:n,g=lQ(e.animationId,e.animationManager),[x,_]=b.useState(p?SI:H1),A=b.useRef(null);return b.useEffect(()=>{p||_(H1)},[p]),b.useEffect(()=>{if(!p||!r)return am;var S=QX(SI,H1,rQ(s),i,_,g.getTimeoutController()),E=()=>{A.current=S()};return g.start([f,l,E,i,u]),()=>{g.stop(),A.current&&A.current(),u()}},[p,r,i,s,l,f,u,g]),h(x.t)}function Rc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(_h(e)),r=b.useRef(t);return r.current!==t&&(n.current=_h(e),r.current=t),n.current}var dQ=["radius"],fQ=["radius"],EI,AI,TI,jI,NI,CI,OI,PI,II,RI;function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){hQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e,n){return(e=mQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=pQ(t,"string");return typeof e=="symbol"?e:e+""}function pQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(null,arguments)}function DI(t,e){if(t==null)return{};var n,r,i=gQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function La(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var LI=(t,e,n,r,i)=>{var s=Zo(n),l=Zo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var x=[0,0,0,0],_=0,A=4;_<A;_++)x[_]=i[_]>u?u:i[_];g=vn(EI||(EI=La(["M",",",""])),t,e+f*x[0]),x[0]>0&&(g+=vn(AI||(AI=La(["A ",",",",0,0,",",",",",""])),x[0],x[0],p,t+h*x[0],e)),g+=vn(TI||(TI=La(["L ",",",""])),t+n-h*x[1],e),x[1]>0&&(g+=vn(jI||(jI=La(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],p,t+n,e+f*x[1])),g+=vn(NI||(NI=La(["L ",",",""])),t+n,e+r-f*x[2]),x[2]>0&&(g+=vn(CI||(CI=La(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],p,t+n-h*x[2],e+r)),g+=vn(OI||(OI=La(["L ",",",""])),t+h*x[3],e+r),x[3]>0&&(g+=vn(PI||(PI=La(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],p,t,e+r-f*x[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var S=Math.min(u,i);g=vn(II||(II=La(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*S,S,S,p,t+h*S,e,t+n-h*S,e,S,S,p,t+n,e+f*S,t+n,e+r-f*S,S,S,p,t+n-h*S,e+r,t+h*S,e+r,S,S,p,t,e+r-f*S)}else g=vn(RI||(RI=La(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},zI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n6=t=>{var e=rn(t,zI),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:_,isAnimationActive:A,isUpdateAnimationActive:S}=e,E=b.useRef(u),C=b.useRef(f),V=b.useRef(s),D=b.useRef(l),B=b.useMemo(()=>({x:s,y:l,width:u,height:f,radius:h}),[s,l,u,f,h]),$=Rc(B,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var z=lt("recharts-rectangle",p);if(!S){var N=On(e),{radius:j}=N,k=DI(N,dQ);return b.createElement("path",R0({},k,{x:Zo(s),y:Zo(l),width:Zo(u),height:Zo(f),radius:typeof h=="number"?h:void 0,className:z,d:LI(s,l,u,f,h)}))}var I=E.current,P=C.current,L=V.current,M=D.current,re="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),G=J3(["strokeDasharray"],x,typeof g=="string"?g:zI.animationEasing);return b.createElement(Ic,{animationId:$,key:$,canBegin:r>0,duration:x,easing:g,isActive:S,begin:_},ee=>{var pe=_t(I,u,ee),le=_t(P,f,ee),J=_t(L,s,ee),U=_t(M,l,ee);n.current&&(E.current=pe,C.current=le,V.current=J,D.current=U);var Y;A?ee>0?Y={transition:G,strokeDasharray:K}:Y={strokeDasharray:re}:Y={strokeDasharray:K};var X=On(e),{radius:Z}=X,ne=DI(X,fQ);return b.createElement("path",R0({},ne,{radius:typeof h=="number"?h:void 0,className:z,d:LI(J,U,pe,le,h),ref:n,style:MI(MI({},Y),e.style)}))})};function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){vQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vQ(t,e,n){return(e=yQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=bQ(t,"string");return typeof e=="symbol"?e:e+""}function bQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k0=Math.PI/180,M0=t=>t*Math.PI/180,xQ=t=>t*180/Math.PI,Pt=(t,e,n,r)=>({x:t+Math.cos(-k0*r)*n,y:e+Math.sin(-k0*r)*n}),r6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},_Q=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=wQ({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:l,angle:xQ(f),angleInRadian:f}},SQ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},EQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},AQ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=_Q({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:h}=SQ(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?$I($I({},e),{},{radius:i,angle:EQ(p,e)}):null},i6=t=>!b.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function a6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Pt(e,n,r,i),u=Pt(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var UI,BI,qI,FI,HI,KI,GI;function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(null,arguments)}function nc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var TQ=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},mg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/k0,g=f?i:i+s*p,x=Pt(e,n,h,g),_=Pt(e,n,r,g),A=f?i-s*p:i,S=Pt(e,n,h*Math.cos(p*k0),A);return{center:x,circleTangency:_,lineTangency:S,theta:p}},s6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=TQ(s,l),f=s+u,h=Pt(e,n,i,s),p=Pt(e,n,i,f),g=vn(UI||(UI=nc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>f),p.x,p.y);if(r>0){var x=Pt(e,n,r,s),_=Pt(e,n,r,f);g+=vn(BI||(BI=nc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=f),x.x,x.y)}else g+=vn(qI||(qI=nc(["L ",","," Z"])),e,n);return g},jQ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=t,p=sr(h-f),{circleTangency:g,lineTangency:x,theta:_}=mg({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:A,lineTangency:S,theta:E}=mg({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),C=u?Math.abs(f-h):Math.abs(f-h)-_-E;if(C<0)return l?vn(FI||(FI=nc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,s,s,s*2,s,s,-s*2):s6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var V=vn(HI||(HI=nc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,s,s,+(p<0),g.x,g.y,i,i,+(C>180),+(p<0),A.x,A.y,s,s,+(p<0),S.x,S.y);if(r>0){var{circleTangency:D,lineTangency:B,theta:$}=mg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:z,lineTangency:N,theta:j}=mg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(f-h):Math.abs(f-h)-$-j;if(k<0&&s===0)return"".concat(V,"L").concat(e,",").concat(n,"Z");V+=vn(KI||(KI=nc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(p<0),z.x,z.y,r,r,+(k>180),+(p>0),D.x,D.y,s,s,+(p<0),B.x,B.y)}else V+=vn(GI||(GI=nc(["L",",","Z"])),e,n);return V},NQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},o6=t=>{var e=rn(t,NQ),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var x=lt("recharts-sector",g),_=s-i,A=Rr(l,_,0,!0),S;return A>0&&Math.abs(h-p)<360?S=jQ({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):S=s6({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),b.createElement("path",O_({},On(e),{className:x,d:S}))};function CQ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(V5(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,f=Pt(r,i,s,u),h=Pt(r,i,l,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return a6(e)}}var K1={},G1={},Y1={},YI;function OQ(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Y1)),Y1}var WI;function PQ(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OQ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(G1)),G1}var XI;function IQ(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q5(),n=PQ();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=l;return f}t.range=r})(K1)),K1}var W1,QI;function RQ(){return QI||(QI=1,W1=IQ().range),W1}var kQ=RQ();const l6=ga(kQ);function al(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PE(t){let e,n,r;t.length!==2?(e=al,n=(u,f)=>al(t(u),f),r=(u,f)=>t(u)-f):(e=t===al||t===MQ?t:DQ,n=t,r=t);function i(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,f,h=0,p=u.length){const g=i(u,f,h,p-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:l,right:s}}function DQ(){return 0}function c6(t){return t===null?NaN:+t}function*LQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zQ=PE(al),dm=zQ.right;PE(c6).center;class JI extends Map{constructor(e,n=UQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ZI(this,e))}has(e){return super.has(ZI(this,e))}set(e,n){return super.set(VQ(this,e),n)}delete(e){return super.delete($Q(this,e))}}function ZI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function VQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function $Q({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function UQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function BQ(t=al){if(t===al)return u6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function u6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qQ=Math.sqrt(50),FQ=Math.sqrt(10),HQ=Math.sqrt(2);function D0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=qQ?10:s>=FQ?5:s>=HQ?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?D0(t,e,n*2):[u,f,h]}function P_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?D0(e,t,n):D0(t,e,n);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)f[h]=(s-h)/-l;else for(let h=0;h<u;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(i+h)/-l;else for(let h=0;h<u;++h)f[h]=(i+h)*l;return f}function I_(t,e,n){return e=+e,t=+t,n=+n,D0(t,e,n)[2]}function R_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?I_(e,t,n):I_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function eR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function tR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function d6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?u6:BQ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*g/f+x)),A=Math.min(r,Math.floor(e+(f-h)*g/f+x));d6(t,e,_,A,i)}const s=t[e];let l=n,u=r;for(Uf(t,n,e),i(t[r],s)>0&&Uf(t,n,r);l<u;){for(Uf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?Uf(t,n,u):(++u,Uf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Uf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function KQ(t,e,n){if(t=Float64Array.from(LQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return tR(t);if(e>=1)return eR(t);var r,i=(r-1)*e,s=Math.floor(i),l=eR(d6(t,s).subarray(0,s+1)),u=tR(t.subarray(s+1));return l+(u-l)*(i-s)}}function GQ(t,e,n=c6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function YQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const k_=Symbol("implicit");function IE(){var t=new JI,e=[],n=[],r=k_;function i(s){let l=t.get(s);if(l===void 0){if(r!==k_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new JI;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return IE(e,n).unknown(r)},Yi.apply(i,arguments),i}function RE(){var t=IE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,_=i<r,A=_?i:r,S=_?r:i;s=(S-A)/Math.max(1,x-f+h*2),u&&(s=Math.floor(s)),A+=(S-A-s*(x-f))*p,l=s*(1-f),u&&(A=Math.round(A),l=Math.round(l));var E=YQ(x).map(function(C){return A+s*C});return n(_?E.reverse():E)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(x){return arguments.length?(u=!!x,g()):u},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return RE(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(p)},Yi.apply(g(),arguments)}function f6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return f6(e())},t}function WQ(){return f6(RE.apply(null,arguments).paddingInner(1))}function kE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function h6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fm(){}var Oh=.7,L0=1/Oh,Bu="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XQ=/^#([0-9a-f]{3,8})$/,QQ=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),JQ=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),ZQ=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${Ph}\\)$`),eJ=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${Ph}\\)$`),tJ=new RegExp(`^hsl\\(${Ph},${Wa},${Wa}\\)$`),nJ=new RegExp(`^hsla\\(${Ph},${Wa},${Wa},${Ph}\\)$`),nR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kE(fm,Ih,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rR,formatHex:rR,formatHex8:rJ,formatHsl:iJ,formatRgb:iR,toString:iR});function rR(){return this.rgb().formatHex()}function rJ(){return this.rgb().formatHex8()}function iJ(){return m6(this).formatHsl()}function iR(){return this.rgb().formatRgb()}function Ih(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=XQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?aR(e):n===3?new ri(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QQ.exec(t))?new ri(e[1],e[2],e[3],1):(e=JQ.exec(t))?new ri(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ZQ.exec(t))?pg(e[1],e[2],e[3],e[4]):(e=eJ.exec(t))?pg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tJ.exec(t))?lR(e[1],e[2]/100,e[3]/100,1):(e=nJ.exec(t))?lR(e[1],e[2]/100,e[3]/100,e[4]):nR.hasOwnProperty(t)?aR(nR[t]):t==="transparent"?new ri(NaN,NaN,NaN,0):null}function aR(t){return new ri(t>>16&255,t>>8&255,t&255,1)}function pg(t,e,n,r){return r<=0&&(t=e=n=NaN),new ri(t,e,n,r)}function aJ(t){return t instanceof fm||(t=Ih(t)),t?(t=t.rgb(),new ri(t.r,t.g,t.b,t.opacity)):new ri}function M_(t,e,n,r){return arguments.length===1?aJ(t):new ri(t,e,n,r??1)}function ri(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kE(ri,M_,h6(fm,{brighter(t){return t=t==null?L0:Math.pow(L0,t),new ri(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new ri(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ri(cc(this.r),cc(this.g),cc(this.b),z0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sR,formatHex:sR,formatHex8:sJ,formatRgb:oR,toString:oR}));function sR(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}`}function sJ(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}${rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function oR(){const t=z0(this.opacity);return`${t===1?"rgb(":"rgba("}${cc(this.r)}, ${cc(this.g)}, ${cc(this.b)}${t===1?")":`, ${t})`}`}function z0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rc(t){return t=cc(t),(t<16?"0":"")+t.toString(16)}function lR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new la(t,e,n,r)}function m6(t){if(t instanceof la)return new la(t.h,t.s,t.l,t.opacity);if(t instanceof fm||(t=Ih(t)),!t)return new la;if(t instanceof la)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,f=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?s+i:2-s-i,l*=60):u=f>0&&f<1?0:l,new la(l,u,f,t.opacity)}function oJ(t,e,n,r){return arguments.length===1?m6(t):new la(t,e,n,r??1)}function la(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kE(la,oJ,h6(fm,{brighter(t){return t=t==null?L0:Math.pow(L0,t),new la(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new la(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ri(X1(t>=240?t-240:t+120,i,r),X1(t,i,r),X1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new la(cR(this.h),gg(this.s),gg(this.l),z0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=z0(this.opacity);return`${t===1?"hsl(":"hsla("}${cR(this.h)}, ${gg(this.s)*100}%, ${gg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cR(t){return t=(t||0)%360,t<0?t+360:t}function gg(t){return Math.max(0,Math.min(1,t||0))}function X1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ME=t=>()=>t;function lJ(t,e){return function(n){return t+n*e}}function cJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uJ(t){return(t=+t)==1?p6:function(e,n){return n-e?cJ(e,n,t):ME(isNaN(e)?n:e)}}function p6(t,e){var n=e-t;return n?lJ(t,n):ME(isNaN(t)?e:t)}const uR=(function t(e){var n=uJ(e);function r(i,s){var l=n((i=M_(i)).r,(s=M_(s)).r),u=n(i.g,s.g),f=n(i.b,s.b),h=p6(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function dJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function fJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=xd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function mJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function V0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=xd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var D_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q1=new RegExp(D_.source,"g");function gJ(t){return function(){return t}}function vJ(t){return function(e){return t(e)+""}}function yJ(t,e){var n=D_.lastIndex=Q1.lastIndex=0,r,i,s,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=D_.exec(t))&&(i=Q1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:V0(r,i)})),n=Q1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?vJ(f[0].x):gJ(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function xd(t,e){var n=typeof e,r;return e==null||n==="boolean"?ME(e):(n==="number"?V0:n==="string"?(r=Ih(e))?(e=r,uR):yJ:e instanceof Ih?uR:e instanceof Date?mJ:fJ(e)?dJ:Array.isArray(e)?hJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pJ:V0)(t,e)}function DE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function bJ(t,e){e===void 0&&(e=t,t=xd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function xJ(t){return function(){return t}}function $0(t){return+t}var dR=[0,1];function $r(t){return t}function L_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xJ(isNaN(e)?NaN:.5)}function wJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _J(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=L_(i,r),s=n(l,s)):(r=L_(r,i),s=n(s,l)),function(u){return s(r(u))}}function SJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=L_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var f=dm(t,u,1,r)-1;return s[f](i[f](u))}}function hm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ey(){var t=dR,e=dR,n=xd,r,i,s,l=$r,u,f,h;function p(){var x=Math.min(t.length,e.length);return l!==$r&&(l=wJ(t[0],t[x-1])),u=x>2?SJ:_J,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=u(t.map(r),e,n)))(r(l(x)))}return g.invert=function(x){return l(i((h||(h=u(e,t.map(r),V0)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,$0),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=DE,p()},g.clamp=function(x){return arguments.length?(l=x?!0:$r,p()):l!==$r},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,_){return r=x,i=_,p()}}function LE(){return ey()($r,$r)}function EJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function U0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function td(t){return t=U0(Math.abs(t)),t?t[1]:NaN}function AJ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function TJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rh(t){if(!(e=jJ.exec(t)))throw new Error("invalid format: "+t);var e;return new zE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rh.prototype=zE.prototype;function zE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var g6;function CJ(t,e){var n=U0(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(g6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+U0(t,Math.max(0,e+s-1))[0]}function fR(t,e){var n=U0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fR(t*100,e),r:fR,s:CJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mR(t){return t}var pR=Array.prototype.map,gR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OJ(t){var e=t.grouping===void 0||t.thousands===void 0?mR:AJ(pR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?mR:TJ(pR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Rh(g);var x=g.fill,_=g.align,A=g.sign,S=g.symbol,E=g.zero,C=g.width,V=g.comma,D=g.precision,B=g.trim,$=g.type;$==="n"?(V=!0,$="g"):hR[$]||(D===void 0&&(D=12),B=!0,$="g"),(E||x==="0"&&_==="=")&&(E=!0,x="0",_="=");var z=S==="$"?n:S==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",N=S==="$"?r:/[%p]/.test($)?l:"",j=hR[$],k=/[defgprs%]/.test($);D=D===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function I(P){var L=z,M=N,re,K,G;if($==="c")M=j(P)+M,P="";else{P=+P;var ee=P<0||1/P<0;if(P=isNaN(P)?f:j(Math.abs(P),D),B&&(P=NJ(P)),ee&&+P==0&&A!=="+"&&(ee=!1),L=(ee?A==="("?A:u:A==="-"||A==="("?"":A)+L,M=($==="s"?gR[8+g6/3]:"")+M+(ee&&A==="("?")":""),k){for(re=-1,K=P.length;++re<K;)if(G=P.charCodeAt(re),48>G||G>57){M=(G===46?i+P.slice(re+1):P.slice(re))+M,P=P.slice(0,re);break}}}V&&!E&&(P=e(P,1/0));var pe=L.length+P.length+M.length,le=pe<C?new Array(C-pe+1).join(x):"";switch(V&&E&&(P=e(le+P,le.length?C-M.length:1/0),le=""),_){case"<":P=L+P+M+le;break;case"=":P=L+le+P+M;break;case"^":P=le.slice(0,pe=le.length>>1)+L+P+M+le.slice(pe);break;default:P=le+L+P+M;break}return s(P)}return I.toString=function(){return g+""},I}function p(g,x){var _=h((g=Rh(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(td(x)/3)))*3,S=Math.pow(10,-A),E=gR[8+A/3];return function(C){return _(S*C)+E}}return{format:h,formatPrefix:p}}var vg,VE,v6;PJ({thousands:",",grouping:[3],currency:["$",""]});function PJ(t){return vg=OJ(t),VE=vg.format,v6=vg.formatPrefix,vg}function IJ(t){return Math.max(0,-td(Math.abs(t)))}function RJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(td(e)/3)))*3-td(Math.abs(t)))}function kJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,td(e)-td(t))+1}function y6(t,e,n,r){var i=R_(t,e,n),s;switch(r=Rh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=RJ(i,l))&&(r.precision=s),v6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=kJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=IJ(i))&&(r.precision=s-(r.type==="%")*2);break}}return VE(r)}function xl(t){var e=t.domain;return t.ticks=function(n){var r=e();return P_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return y6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],f,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=I_(l,u,n),h===f)return r[i]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function b6(){var t=LE();return t.copy=function(){return hm(t,b6())},Yi.apply(t,arguments),xl(t)}function x6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,$0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return x6(t).unknown(e)},t=arguments.length?Array.from(t,$0):[0,1],xl(n)}function w6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function vR(t){return Math.log(t)}function yR(t){return Math.exp(t)}function MJ(t){return-Math.log(-t)}function DJ(t){return-Math.exp(-t)}function LJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zJ(t){return t===10?LJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bR(t){return(e,n)=>-t(-e,n)}function $E(t){const e=t(vR,yR),n=e.domain;let r=10,i,s;function l(){return i=VJ(r),s=zJ(r),n()[0]<0?(i=bR(i),s=bR(s),t(MJ,DJ)):t(vR,yR),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=i(h),_=i(p),A,S;const E=u==null?10:+u;let C=[];if(!(r%1)&&_-x<E){if(x=Math.floor(x),_=Math.ceil(_),h>0){for(;x<=_;++x)for(A=1;A<r;++A)if(S=x<0?A/s(-x):A*s(x),!(S<h)){if(S>p)break;C.push(S)}}else for(;x<=_;++x)for(A=r-1;A>=1;--A)if(S=x>0?A/s(-x):A*s(x),!(S<h)){if(S>p)break;C.push(S)}C.length*2<E&&(C=P_(h,p,E))}else C=P_(x,_,Math.min(_-x,E)).map(s);return g?C.reverse():C},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Rh(f)).precision==null&&(f.trim=!0),f=VE(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(w6(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function _6(){const t=$E(ey()).domain([1,10]);return t.copy=()=>hm(t,_6()).base(t.base()),Yi.apply(t,arguments),t}function xR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function wR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function UE(t){var e=1,n=t(xR(e),wR(e));return n.constant=function(r){return arguments.length?t(xR(e=+r),wR(e)):e},xl(n)}function S6(){var t=UE(ey());return t.copy=function(){return hm(t,S6()).constant(t.constant())},Yi.apply(t,arguments)}function _R(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $J(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function UJ(t){return t<0?-t*t:t*t}function BE(t){var e=t($r,$r),n=1;function r(){return n===1?t($r,$r):n===.5?t($J,UJ):t(_R(n),_R(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(e)}function qE(){var t=BE(ey());return t.copy=function(){return hm(t,qE()).exponent(t.exponent())},Yi.apply(t,arguments),t}function BJ(){return qE.apply(null,arguments).exponent(.5)}function SR(t){return Math.sign(t)*t*t}function qJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function E6(){var t=LE(),e=[0,1],n=!1,r;function i(s){var l=qJ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(SR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,$0)).map(SR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return E6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Yi.apply(i,arguments),xl(i)}function A6(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=GQ(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[dm(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(al),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return A6().domain(t).range(e).unknown(r)},Yi.apply(s,arguments)}function T6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[dm(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return T6().domain([t,e]).range(i).unknown(s)},Yi.apply(xl(l),arguments)}function j6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[dm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return j6().domain(t).range(e).unknown(n)},Yi.apply(i,arguments)}const J1=new Date,Z1=new Date;function Wn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let h;do f.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return f},i.filter=s=>Wn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(J1.setTime(+s),Z1.setTime(+l),t(J1),t(Z1),Math.floor(n(J1,Z1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const B0=Wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);B0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):B0);B0.range;const Os=1e3,Fi=Os*60,Ps=Fi*60,Gs=Ps*24,FE=Gs*7,ER=Gs*30,ew=Gs*365,ic=Wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCSeconds());ic.range;const HE=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os)},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getMinutes());HE.range;const KE=Wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getUTCMinutes());KE.range;const GE=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os-t.getMinutes()*Fi)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getHours());GE.range;const YE=Wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCHours());YE.range;const mm=Wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fi)/Gs,t=>t.getDate()-1);mm.range;const ty=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>t.getUTCDate()-1);ty.range;const N6=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gs,t=>Math.floor(t/Gs));N6.range;function kc(t){return Wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/FE)}const ny=kc(0),q0=kc(1),FJ=kc(2),HJ=kc(3),nd=kc(4),KJ=kc(5),GJ=kc(6);ny.range;q0.range;FJ.range;HJ.range;nd.range;KJ.range;GJ.range;function Mc(t){return Wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/FE)}const ry=Mc(0),F0=Mc(1),YJ=Mc(2),WJ=Mc(3),rd=Mc(4),XJ=Mc(5),QJ=Mc(6);ry.range;F0.range;YJ.range;WJ.range;rd.range;XJ.range;QJ.range;const WE=Wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());WE.range;const XE=Wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XE.range;const Ys=Wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ys.range;const Ws=Wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ws.range;function C6(t,e,n,r,i,s){const l=[[ic,1,Os],[ic,5,5*Os],[ic,15,15*Os],[ic,30,30*Os],[s,1,Fi],[s,5,5*Fi],[s,15,15*Fi],[s,30,30*Fi],[i,1,Ps],[i,3,3*Ps],[i,6,6*Ps],[i,12,12*Ps],[r,1,Gs],[r,2,2*Gs],[n,1,FE],[e,1,ER],[e,3,3*ER],[t,1,ew]];function u(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:f(h,p,g),A=_?_.range(h,+p+1):[];return x?A.reverse():A}function f(h,p,g){const x=Math.abs(p-h)/g,_=PE(([,,E])=>E).right(l,x);if(_===l.length)return t.every(R_(h/ew,p/ew,g));if(_===0)return B0.every(Math.max(R_(h,p,g),1));const[A,S]=l[x/l[_-1][2]<l[_][2]/x?_-1:_];return A.every(S)}return[u,f]}const[JJ,ZJ]=C6(Ws,XE,ry,N6,YE,KE),[eZ,tZ]=C6(Ys,WE,ny,mm,GE,HE);function tw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function nZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,h=qf(i),p=Ff(i),g=qf(s),x=Ff(s),_=qf(l),A=Ff(l),S=qf(u),E=Ff(u),C=qf(f),V=Ff(f),D={a:ee,A:pe,b:le,B:J,c:null,d:OR,e:OR,f:AZ,g:MZ,G:LZ,H:_Z,I:SZ,j:EZ,L:O6,m:TZ,M:jZ,p:U,q:Y,Q:RR,s:kR,S:NZ,u:CZ,U:OZ,V:PZ,w:IZ,W:RZ,x:null,X:null,y:kZ,Y:DZ,Z:zZ,"%":IR},B={a:X,A:Z,b:ne,B:fe,c:null,d:PR,e:PR,f:BZ,g:JZ,G:eee,H:VZ,I:$Z,j:UZ,L:I6,m:qZ,M:FZ,p:be,q:Ee,Q:RR,s:kR,S:HZ,u:KZ,U:GZ,V:YZ,w:WZ,W:XZ,x:null,X:null,y:QZ,Y:ZZ,Z:tee,"%":IR},$={a:I,A:P,b:L,B:M,c:re,d:NR,e:NR,f:yZ,g:jR,G:TR,H:CR,I:CR,j:mZ,L:vZ,m:hZ,M:pZ,p:k,q:fZ,Q:xZ,s:wZ,S:gZ,u:oZ,U:lZ,V:cZ,w:sZ,W:uZ,x:K,X:G,y:jR,Y:TR,Z:dZ,"%":bZ};D.x=z(n,D),D.X=z(r,D),D.c=z(e,D),B.x=z(n,B),B.X=z(r,B),B.c=z(e,B);function z(se,Q){return function(ue){var ie=[],ce=-1,Ne=0,Ie=se.length,ze,Ze,Et;for(ue instanceof Date||(ue=new Date(+ue));++ce<Ie;)se.charCodeAt(ce)===37&&(ie.push(se.slice(Ne,ce)),(Ze=AR[ze=se.charAt(++ce)])!=null?ze=se.charAt(++ce):Ze=ze==="e"?" ":"0",(Et=Q[ze])&&(ze=Et(ue,Ze)),ie.push(ze),Ne=ce+1);return ie.push(se.slice(Ne,ce)),ie.join("")}}function N(se,Q){return function(ue){var ie=Bf(1900,void 0,1),ce=j(ie,se,ue+="",0),Ne,Ie;if(ce!=ue.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Q&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Ne=nw(Bf(ie.y,0,1)),Ie=Ne.getUTCDay(),Ne=Ie>4||Ie===0?F0.ceil(Ne):F0(Ne),Ne=ty.offset(Ne,(ie.V-1)*7),ie.y=Ne.getUTCFullYear(),ie.m=Ne.getUTCMonth(),ie.d=Ne.getUTCDate()+(ie.w+6)%7):(Ne=tw(Bf(ie.y,0,1)),Ie=Ne.getDay(),Ne=Ie>4||Ie===0?q0.ceil(Ne):q0(Ne),Ne=mm.offset(Ne,(ie.V-1)*7),ie.y=Ne.getFullYear(),ie.m=Ne.getMonth(),ie.d=Ne.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Ie="Z"in ie?nw(Bf(ie.y,0,1)).getUTCDay():tw(Bf(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Ie+5)%7:ie.w+ie.U*7-(Ie+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,nw(ie)):tw(ie)}}function j(se,Q,ue,ie){for(var ce=0,Ne=Q.length,Ie=ue.length,ze,Ze;ce<Ne;){if(ie>=Ie)return-1;if(ze=Q.charCodeAt(ce++),ze===37){if(ze=Q.charAt(ce++),Ze=$[ze in AR?Q.charAt(ce++):ze],!Ze||(ie=Ze(se,ue,ie))<0)return-1}else if(ze!=ue.charCodeAt(ie++))return-1}return ie}function k(se,Q,ue){var ie=h.exec(Q.slice(ue));return ie?(se.p=p.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function I(se,Q,ue){var ie=_.exec(Q.slice(ue));return ie?(se.w=A.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function P(se,Q,ue){var ie=g.exec(Q.slice(ue));return ie?(se.w=x.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function L(se,Q,ue){var ie=C.exec(Q.slice(ue));return ie?(se.m=V.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function M(se,Q,ue){var ie=S.exec(Q.slice(ue));return ie?(se.m=E.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function re(se,Q,ue){return j(se,e,Q,ue)}function K(se,Q,ue){return j(se,n,Q,ue)}function G(se,Q,ue){return j(se,r,Q,ue)}function ee(se){return l[se.getDay()]}function pe(se){return s[se.getDay()]}function le(se){return f[se.getMonth()]}function J(se){return u[se.getMonth()]}function U(se){return i[+(se.getHours()>=12)]}function Y(se){return 1+~~(se.getMonth()/3)}function X(se){return l[se.getUTCDay()]}function Z(se){return s[se.getUTCDay()]}function ne(se){return f[se.getUTCMonth()]}function fe(se){return u[se.getUTCMonth()]}function be(se){return i[+(se.getUTCHours()>=12)]}function Ee(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Q=z(se+="",D);return Q.toString=function(){return se},Q},parse:function(se){var Q=N(se+="",!1);return Q.toString=function(){return se},Q},utcFormat:function(se){var Q=z(se+="",B);return Q.toString=function(){return se},Q},utcParse:function(se){var Q=N(se+="",!0);return Q.toString=function(){return se},Q}}}var AR={"-":"",_:" ",0:"0"},or=/^\s*\d+/,rZ=/^%/,iZ=/[\\^$*+?|[\]().{}]/g;function Nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function aZ(t){return t.replace(iZ,"\\$&")}function qf(t){return new RegExp("^(?:"+t.map(aZ).join("|")+")","i")}function Ff(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sZ(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oZ(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cZ(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uZ(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function TR(t,e,n){var r=or.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jR(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fZ(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hZ(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function NR(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mZ(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function CR(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pZ(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gZ(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vZ(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yZ(t,e,n){var r=or.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bZ(t,e,n){var r=rZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xZ(t,e,n){var r=or.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wZ(t,e,n){var r=or.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OR(t,e){return Nt(t.getDate(),e,2)}function _Z(t,e){return Nt(t.getHours(),e,2)}function SZ(t,e){return Nt(t.getHours()%12||12,e,2)}function EZ(t,e){return Nt(1+mm.count(Ys(t),t),e,3)}function O6(t,e){return Nt(t.getMilliseconds(),e,3)}function AZ(t,e){return O6(t,e)+"000"}function TZ(t,e){return Nt(t.getMonth()+1,e,2)}function jZ(t,e){return Nt(t.getMinutes(),e,2)}function NZ(t,e){return Nt(t.getSeconds(),e,2)}function CZ(t){var e=t.getDay();return e===0?7:e}function OZ(t,e){return Nt(ny.count(Ys(t)-1,t),e,2)}function P6(t){var e=t.getDay();return e>=4||e===0?nd(t):nd.ceil(t)}function PZ(t,e){return t=P6(t),Nt(nd.count(Ys(t),t)+(Ys(t).getDay()===4),e,2)}function IZ(t){return t.getDay()}function RZ(t,e){return Nt(q0.count(Ys(t)-1,t),e,2)}function kZ(t,e){return Nt(t.getFullYear()%100,e,2)}function MZ(t,e){return t=P6(t),Nt(t.getFullYear()%100,e,2)}function DZ(t,e){return Nt(t.getFullYear()%1e4,e,4)}function LZ(t,e){var n=t.getDay();return t=n>=4||n===0?nd(t):nd.ceil(t),Nt(t.getFullYear()%1e4,e,4)}function zZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nt(e/60|0,"0",2)+Nt(e%60,"0",2)}function PR(t,e){return Nt(t.getUTCDate(),e,2)}function VZ(t,e){return Nt(t.getUTCHours(),e,2)}function $Z(t,e){return Nt(t.getUTCHours()%12||12,e,2)}function UZ(t,e){return Nt(1+ty.count(Ws(t),t),e,3)}function I6(t,e){return Nt(t.getUTCMilliseconds(),e,3)}function BZ(t,e){return I6(t,e)+"000"}function qZ(t,e){return Nt(t.getUTCMonth()+1,e,2)}function FZ(t,e){return Nt(t.getUTCMinutes(),e,2)}function HZ(t,e){return Nt(t.getUTCSeconds(),e,2)}function KZ(t){var e=t.getUTCDay();return e===0?7:e}function GZ(t,e){return Nt(ry.count(Ws(t)-1,t),e,2)}function R6(t){var e=t.getUTCDay();return e>=4||e===0?rd(t):rd.ceil(t)}function YZ(t,e){return t=R6(t),Nt(rd.count(Ws(t),t)+(Ws(t).getUTCDay()===4),e,2)}function WZ(t){return t.getUTCDay()}function XZ(t,e){return Nt(F0.count(Ws(t)-1,t),e,2)}function QZ(t,e){return Nt(t.getUTCFullYear()%100,e,2)}function JZ(t,e){return t=R6(t),Nt(t.getUTCFullYear()%100,e,2)}function ZZ(t,e){return Nt(t.getUTCFullYear()%1e4,e,4)}function eee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?rd(t):rd.ceil(t),Nt(t.getUTCFullYear()%1e4,e,4)}function tee(){return"+0000"}function IR(){return"%"}function RR(t){return+t}function kR(t){return Math.floor(+t/1e3)}var xu,k6,M6;nee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nee(t){return xu=nZ(t),k6=xu.format,xu.parse,M6=xu.utcFormat,xu.utcParse,xu}function ree(t){return new Date(t)}function iee(t){return t instanceof Date?+t:+new Date(+t)}function QE(t,e,n,r,i,s,l,u,f,h){var p=LE(),g=p.invert,x=p.domain,_=h(".%L"),A=h(":%S"),S=h("%I:%M"),E=h("%I %p"),C=h("%a %d"),V=h("%b %d"),D=h("%B"),B=h("%Y");function $(z){return(f(z)<z?_:u(z)<z?A:l(z)<z?S:s(z)<z?E:r(z)<z?i(z)<z?C:V:n(z)<z?D:B)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?x(Array.from(z,iee)):x().map(ree)},p.ticks=function(z){var N=x();return t(N[0],N[N.length-1],z??10)},p.tickFormat=function(z,N){return N==null?$:h(N)},p.nice=function(z){var N=x();return(!z||typeof z.range!="function")&&(z=e(N[0],N[N.length-1],z??10)),z?x(w6(N,z)):p},p.copy=function(){return hm(p,QE(t,e,n,r,i,s,l,u,f,h))},p}function aee(){return Yi.apply(QE(eZ,tZ,Ys,WE,ny,mm,GE,HE,ic,k6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function see(){return Yi.apply(QE(JJ,ZJ,Ws,XE,ry,ty,YE,KE,ic,M6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iy(){var t=0,e=1,n,r,i,s,l=$r,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(x){var _,A;return arguments.length?([_,A]=x,l=g(_,A),h):[l(0),l(1)]}}return h.range=p(xd),h.rangeRound=p(DE),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function D6(){var t=xl(iy()($r));return t.copy=function(){return wl(t,D6())},io.apply(t,arguments)}function L6(){var t=$E(iy()).domain([1,10]);return t.copy=function(){return wl(t,L6()).base(t.base())},io.apply(t,arguments)}function z6(){var t=UE(iy());return t.copy=function(){return wl(t,z6()).constant(t.constant())},io.apply(t,arguments)}function JE(){var t=BE(iy());return t.copy=function(){return wl(t,JE()).exponent(t.exponent())},io.apply(t,arguments)}function oee(){return JE.apply(null,arguments).exponent(.5)}function V6(){var t=[],e=$r;function n(r){if(r!=null&&!isNaN(r=+r))return e((dm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(al),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>KQ(t,s/r))},n.copy=function(){return V6(e).domain(t)},io.apply(n,arguments)}function ay(){var t=0,e=.5,n=1,r=1,i,s,l,u,f,h=$r,p,g=!1,x;function _(S){return isNaN(S=+S)?x:(S=.5+((S=+p(S))-s)*(r*S<r*s?u:f),h(g?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(g=!!S,_):g},_.interpolator=function(S){return arguments.length?(h=S,_):h};function A(S){return function(E){var C,V,D;return arguments.length?([C,V,D]=E,h=bJ(S,[C,V,D]),_):[h(0),h(.5),h(1)]}}return _.range=A(xd),_.rangeRound=A(DE),_.unknown=function(S){return arguments.length?(x=S,_):x},function(S){return p=S,i=S(t),s=S(e),l=S(n),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function $6(){var t=xl(ay()($r));return t.copy=function(){return wl(t,$6())},io.apply(t,arguments)}function U6(){var t=$E(ay()).domain([.1,1,10]);return t.copy=function(){return wl(t,U6()).base(t.base())},io.apply(t,arguments)}function B6(){var t=UE(ay());return t.copy=function(){return wl(t,B6()).constant(t.constant())},io.apply(t,arguments)}function ZE(){var t=BE(ay());return t.copy=function(){return wl(t,ZE()).exponent(t.exponent())},io.apply(t,arguments)}function lee(){return ZE.apply(null,arguments).exponent(.5)}const Zf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:RE,scaleDiverging:$6,scaleDivergingLog:U6,scaleDivergingPow:ZE,scaleDivergingSqrt:lee,scaleDivergingSymlog:B6,scaleIdentity:x6,scaleImplicit:k_,scaleLinear:b6,scaleLog:_6,scaleOrdinal:IE,scalePoint:WQ,scalePow:qE,scaleQuantile:A6,scaleQuantize:T6,scaleRadial:E6,scaleSequential:D6,scaleSequentialLog:L6,scaleSequentialPow:JE,scaleSequentialQuantile:V6,scaleSequentialSqrt:oee,scaleSequentialSymlog:z6,scaleSqrt:BJ,scaleSymlog:S6,scaleThreshold:j6,scaleTime:aee,scaleUtc:see,tickFormat:y6},Symbol.toStringTag,{value:"Module"}));var ao=t=>t.chartData,pm=oe([ao],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),eA=(t,e,n,r)=>r?pm(t):ao(t),q6=(t,e,n)=>n?pm(t):ao(t);function hl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Qt(e)&&Qt(n))return!0}return!1}function MR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function F6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Qt(n))i=n;else if(typeof n=="function")return;if(Qt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(hl(l))return l}}function cee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(hl(r))return MR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if($e(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&KP.test(i)){var f=KP.exec(i);if(f==null||f[1]==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if($e(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&GP.test(s)){var p=GP.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var x=[l,u];if(hl(x))return e==null?x:MR(x,e,n)}}}var wd=1e9,uee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nA,pn=!0,Gi="[DecimalError] ",uc=Gi+"Invalid argument: ",tA=Gi+"Exponent out of range: ",_d=Math.floor,ec=Math.pow,dee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yi,ar=1e7,ln=7,H6=9007199254740991,H0=_d(H6/ln),Be={};Be.absoluteValue=Be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Be.comparedTo=Be.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ln;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Be.dividedBy=Be.div=function(t){return Ds(this,new this.constructor(t))};Be.dividedToIntegerBy=Be.idiv=function(t){var e=this,n=e.constructor;return Wt(Ds(e,new n(t),0,1),n.precision)};Be.equals=Be.eq=function(t){return!this.cmp(t)};Be.exponent=function(){return Un(this)};Be.greaterThan=Be.gt=function(t){return this.cmp(t)>0};Be.greaterThanOrEqualTo=Be.gte=function(t){return this.cmp(t)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(t){return this.cmp(t)<0};Be.lessThanOrEqualTo=Be.lte=function(t){return this.cmp(t)<1};Be.logarithm=Be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(yi))throw Error(Gi+"NaN");if(n.s<1)throw Error(Gi+(n.s?"NaN":"-Infinity"));return n.eq(yi)?new r(0):(pn=!1,e=Ds(kh(n,s),kh(t,s),s),pn=!0,Wt(e,i))};Be.minus=Be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Y6(e,t):K6(e,(t.s=-t.s,t))};Be.modulo=Be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Gi+"NaN");return n.s?(pn=!1,e=Ds(n,t,0,1).times(t),pn=!0,n.minus(e)):Wt(new r(n),i)};Be.naturalExponential=Be.exp=function(){return G6(this)};Be.naturalLogarithm=Be.ln=function(){return kh(this)};Be.negated=Be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Be.plus=Be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?K6(e,t):Y6(e,(t.s=-t.s,t))};Be.precision=Be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uc+t);if(e=Un(i)+1,r=i.d.length-1,n=r*ln+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Be.squareRoot=Be.sqrt=function(){var t,e,n,r,i,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Gi+"NaN")}for(t=Un(u),pn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ba(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_d((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(Ds(u,s,l+2)).times(.5),Ba(s.d).slice(0,l)===(e=Ba(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Wt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return pn=!0,Wt(r,n)};Be.times=Be.mul=function(t){var e,n,r,i,s,l,u,f,h,p=this,g=p.constructor,x=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=_.length,f<h&&(s=x,x=_,_=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=s[i]+_[r]*x[i-r-1]+e,s[i--]=u%ar|0,e=u/ar|0;s[i]=(s[i]+e)%ar|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,pn?Wt(t,g.precision):t};Be.toDecimalPlaces=Be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(es(t,0,wd),e===void 0?e=r.rounding:es(e,0,8),Wt(n,t+Un(n)+1,e))};Be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ec(r,!0):(es(t,0,wd),e===void 0?e=i.rounding:es(e,0,8),r=Wt(new i(r),t+1,e),n=Ec(r,!0,t+1)),n};Be.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Ec(i):(es(t,0,wd),e===void 0?e=s.rounding:es(e,0,8),r=Wt(new s(i),t+Un(i)+1,e),n=Ec(r.abs(),!1,t+Un(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Be.toInteger=Be.toint=function(){var t=this,e=t.constructor;return Wt(new e(t),Un(t)+1,e.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(t){var e,n,r,i,s,l,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(yi);if(u=new f(u),!u.s){if(t.s<1)throw Error(Gi+"Infinity");return u}if(u.eq(yi))return u;if(r=f.precision,t.eq(yi))return Wt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=H6){for(i=new f(yi),e=Math.ceil(r/ln+4),pn=!1;n%2&&(i=i.times(u),LR(i.d,e)),n=_d(n/2),n!==0;)u=u.times(u),LR(u.d,e);return pn=!0,t.s<0?new f(yi).div(i):Wt(i,r)}}else if(s<0)throw Error(Gi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,pn=!1,i=t.times(kh(u,r+h)),pn=!0,i=G6(i),i.s=s,i};Be.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Un(i),r=Ec(i,n<=s.toExpNeg||n>=s.toExpPos)):(es(t,1,wd),e===void 0?e=s.rounding:es(e,0,8),i=Wt(new s(i),t,e),n=Un(i),r=Ec(i,t<=n||n<=s.toExpNeg,t)),r};Be.toSignificantDigits=Be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(es(t,1,wd),e===void 0?e=r.rounding:es(e,0,8)),Wt(new r(n),t,e)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Un(t),n=t.constructor;return Ec(t,e<=n.toExpNeg||e>=n.toExpPos)};function K6(t,e){var n,r,i,s,l,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),pn?Wt(e,g):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,u=h.length):(r=h,i=l,u=f.length),l=Math.ceil(g/ln),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/ar|0,f[s]%=ar;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,pn?Wt(e,g):e}function es(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uc+t)}function Ba(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=ln-r.length,n&&(s+=Ho(n)),s+=r;l=t[e],r=l+"",n=ln-r.length,n&&(s+=Ho(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ds=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%ar|0,l=s/ar|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*ar+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,f,h,p,g,x,_,A,S,E,C,V,D,B,$,z,N,j,k=r.constructor,I=r.s==i.s?1:-1,P=r.d,L=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Gi+"Division by zero");for(f=r.e-i.e,N=L.length,$=P.length,_=new k(I),A=_.d=[],h=0;L[h]==(P[h]||0);)++h;if(L[h]>(P[h]||0)&&--f,s==null?V=s=k.precision:l?V=s+(Un(r)-Un(i))+1:V=s,V<0)return new k(0);if(V=V/ln+2|0,h=0,N==1)for(p=0,L=L[0],V++;(h<$||p)&&V--;h++)D=p*ar+(P[h]||0),A[h]=D/L|0,p=D%L|0;else{for(p=ar/(L[0]+1)|0,p>1&&(L=t(L,p),P=t(P,p),N=L.length,$=P.length),B=N,S=P.slice(0,N),E=S.length;E<N;)S[E++]=0;j=L.slice(),j.unshift(0),z=L[0],L[1]>=ar/2&&++z;do p=0,u=e(L,S,N,E),u<0?(C=S[0],N!=E&&(C=C*ar+(S[1]||0)),p=C/z|0,p>1?(p>=ar&&(p=ar-1),g=t(L,p),x=g.length,E=S.length,u=e(g,S,x,E),u==1&&(p--,n(g,N<x?j:L,x))):(p==0&&(u=p=1),g=L.slice()),x=g.length,x<E&&g.unshift(0),n(S,g,E),u==-1&&(E=S.length,u=e(L,S,N,E),u<1&&(p++,n(S,N<E?j:L,E))),E=S.length):u===0&&(p++,S=[0]),A[h++]=p,u&&S[0]?S[E++]=P[B]||0:(S=[P[B]],E=1);while((B++<$||S[0]!==void 0)&&V--)}return A[0]||A.shift(),_.e=f,Wt(_,l?s+Un(_)+1:s)}})();function G6(t,e){var n,r,i,s,l,u,f=0,h=0,p=t.constructor,g=p.precision;if(Un(t)>16)throw Error(tA+Un(t));if(!t.s)return new p(yi);for(pn=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ec(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(yi),p.precision=u;;){if(i=Wt(i.times(t),u),n=n.times(++f),l=s.plus(Ds(i,n,u)),Ba(l.d).slice(0,u)===Ba(s.d).slice(0,u)){for(;h--;)s=Wt(s.times(s),u);return p.precision=g,e==null?(pn=!0,Wt(s,g)):s}s=l}}function Un(t){for(var e=t.e*ln,n=t.d[0];n>=10;n/=10)e++;return e}function rw(t,e,n){if(e>t.LN10.sd())throw pn=!0,n&&(t.precision=n),Error(Gi+"LN10 precision limit exceeded");return Wt(new t(t.LN10),e)}function Ho(t){for(var e="";t--;)e+="0";return e}function kh(t,e){var n,r,i,s,l,u,f,h,p,g=1,x=10,_=t,A=_.d,S=_.constructor,E=S.precision;if(_.s<1)throw Error(Gi+(_.s?"NaN":"-Infinity"));if(_.eq(yi))return new S(0);if(e==null?(pn=!1,h=E):h=e,_.eq(10))return e==null&&(pn=!0),rw(S,h);if(h+=x,S.precision=h,n=Ba(A),r=n.charAt(0),s=Un(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Ba(_.d),r=n.charAt(0),g++;s=Un(_),r>1?(_=new S("0."+n),s++):_=new S(r+"."+n.slice(1))}else return f=rw(S,h+2,E).times(s+""),_=kh(new S(r+"."+n.slice(1)),h-x).plus(f),S.precision=E,e==null?(pn=!0,Wt(_,E)):_;for(u=l=_=Ds(_.minus(yi),_.plus(yi),h),p=Wt(_.times(_),h),i=3;;){if(l=Wt(l.times(p),h),f=u.plus(Ds(l,new S(i),h)),Ba(f.d).slice(0,h)===Ba(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(rw(S,h+2,E).times(s+""))),u=Ds(u,new S(g),h),S.precision=E,e==null?(pn=!0,Wt(u,E)):u;u=f,i+=2}}function DR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=_d(n/ln),t.d=[],r=(n+1)%ln,n<0&&(r+=ln),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ln;r<i;)t.d.push(+e.slice(r,r+=ln));e=e.slice(r),r=ln-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),pn&&(t.e>H0||t.e<-H0))throw Error(tA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Wt(t,e,n){var r,i,s,l,u,f,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=ln,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/ln),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=ln,i=r-ln+l}if(n!==void 0&&(s=ec(10,l-i-1),u=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/ec(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Un(t),g.length=1,e=e-s-1,g[0]=ec(10,(ln-e%ln)%ln),t.e=_d(-e/ln)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ec(10,ln-r),g[p]=i>0?(h/ec(10,l-i)%ec(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==ar&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=ar)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(pn&&(t.e>H0||t.e<-H0))throw Error(tA+Un(t));return t}function Y6(t,e){var n,r,i,s,l,u,f,h,p,g,x=t.constructor,_=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),pn?Wt(e,_):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,u=g.length):(n=g,r=h,u=f.length),i=Math.max(Math.ceil(_/ln),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=ar-1;--f[s],f[i]+=ar}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,pn?Wt(e,_):e):new x(0)}function Ec(t,e,n){var r,i=Un(t),s=Ba(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ho(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ho(-i-1)+s,n&&(r=n-l)>0&&(s+=Ho(r))):i>=l?(s+=Ho(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Ho(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Ho(r))),t.s<0?"-"+s:s}function LR(t,e){if(t.length>e)return t.length=e,!0}function W6(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(uc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return DR(l,s.toString())}else if(typeof s!="string")throw Error(uc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,dee.test(s))DR(l,s);else throw Error(uc+s)}if(i.prototype=Be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=W6,i.config=i.set=fee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fee(t){if(!t||typeof t!="object")throw Error(Gi+"Object expected");var e,n,r,i=["precision",1,wd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(_d(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uc+n+": "+r);return this}var nA=W6(uee);yi=new nA(1);const Vt=nA;var hee=t=>t,X6={},Q6=t=>t===X6,zR=t=>function e(){return arguments.length===0||arguments.length===1&&Q6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},J6=(t,e)=>t===1?e:zR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==X6).length;return s>=t?e(...r):J6(t-s,zR(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=r.map(p=>Q6(p)?u.shift():p);return e(...h,...u)}))}),mee=t=>J6(t.length,t),z_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},pee=mee((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),gee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hee;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),s(...arguments))}};function Z6(t){var e;return t===0?e=1:e=Math.floor(new Vt(t).abs().log(10).toNumber())+1,e}function eL(t,e,n){for(var r=new Vt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var tL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},nL=(t,e,n)=>{if(t.lte(0))return new Vt(0);var r=Z6(t.toNumber()),i=new Vt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new Vt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new Vt(f.toNumber()):new Vt(Math.ceil(f.toNumber()))},vee=(t,e,n)=>{var r=new Vt(1),i=new Vt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Vt(10).pow(Z6(t)-1),i=new Vt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Vt(Math.floor(t)))}else t===0?i=new Vt(Math.floor((e-1)/2)):n||(i=new Vt(Math.floor(t)));var l=Math.floor((e-1)/2),u=gee(pee(f=>i.add(new Vt(f-l).mul(r)).toNumber()),z_);return u(0,e)},rL=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var l=nL(new Vt(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new Vt(0):(u=new Vt(e).add(n).div(2),u=u.sub(new Vt(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new Vt(n).sub(u).div(l).toNumber()),p=f+h+1;return p>r?rL(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:u.sub(new Vt(f).mul(l)),tickMax:u.add(new Vt(h).mul(l))})},yee=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=tL([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...z_(0,i-1).map(()=>1/0)]:[...z_(0,i-1).map(()=>-1/0),f];return n>r?h.reverse():h}if(u===f)return vee(u,i,s);var{step:p,tickMin:g,tickMax:x}=rL(u,f,l,s,0),_=eL(g,x.add(new Vt(.1).mul(p)),p);return n>r?_.reverse():_},bee=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=tL([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),h=nL(new Vt(u).sub(l).div(f-1),s,0),p=[...eL(new Vt(l),new Vt(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},iL=t=>t.rootProps.maxBarSize,xee=t=>t.rootProps.barGap,aL=t=>t.rootProps.barCategoryGap,wee=t=>t.rootProps.barSize,gm=t=>t.rootProps.stackOffset,sL=t=>t.rootProps.reverseStackOrder,rA=t=>t.options.chartName,iA=t=>t.rootProps.syncId,oL=t=>t.rootProps.syncMethod,aA=t=>t.options.eventEmitter,_ee=t=>t.rootProps.baseValue,cn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},$a={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:cn.axis},ti={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:cn.axis},sy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},See={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$a.angleAxisId,includeHidden:!1,name:void 0,reversed:$a.reversed,scale:$a.scale,tick:$a.tick,tickCount:void 0,ticks:void 0,type:$a.type,unit:void 0},Eee={allowDataOverflow:ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,ticks:void 0,type:ti.type,unit:void 0},Aee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$a.scale,tick:$a.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Tee={allowDataOverflow:ti.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,ticks:void 0,type:"category",unit:void 0},Sd=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Aee:See,vm=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Tee:Eee,oy=t=>t.polarOptions,sA=oe([no,ro,Yn],r6),lL=oe([oy,sA],(t,e)=>{if(t!=null)return Rr(t.innerRadius,e,0)}),cL=oe([oy,sA],(t,e)=>{if(t!=null)return Rr(t.outerRadius,e,e*.8)}),jee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},uL=oe([oy],jee),Nee=oe([Sd,uL],sy),dL=oe([sA,lL,cL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),Cee=oe([vm,dL],sy),Ed=oe([ct,oy,lL,cL,no,ro],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=e;return{cx:Rr(l,i,i/2),cy:Rr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Jt=(t,e)=>e,ym=(t,e,n)=>n;function ly(t){return t?.id}function fL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=ly(u);h.forEach((g,x)=>{var _=s==null||i?x:String(jt(g,s,null)),A=jt(g,u.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[p]:A}),l.set(_,S)})}}),Array.from(l.values())}function cy(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var uy=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function dy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Oee(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Xn=t=>{var e=ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ad=t=>t.tooltip.settings.axisId;function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pee(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Ree(t,"string");return typeof e=="symbol"?e:e+""}function Ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V_=[0,"auto"],nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hL=(t,e)=>t.cartesianAxis.xAxis[e],so=(t,e)=>{var n=hL(t,e);return n??nr},rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:V_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lm},mL=(t,e)=>t.cartesianAxis.yAxis[e],oo=(t,e)=>{var n=mL(t,e);return n??rr},kee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??kee},xn=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"zAxis":return oA(t,n);case"angleAxis":return Sd(t,n);case"radiusAxis":return vm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Mee=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Td=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"angleAxis":return Sd(t,n);case"radiusAxis":return vm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},pL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function lA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var bm=t=>t.graphicalItems.cartesianItems,Dee=oe([Jt,ym],lA),cA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),xm=oe([bm,xn,Dee],cA,{memoizeOptions:{resultEqualityCheck:dy}}),gL=oe([xm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(cy)),vL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Lee=oe([xm],vL),uA=t=>t.map(e=>e.data).filter(Boolean).flat(1),zee=oe([xm],uA,{memoizeOptions:{resultEqualityCheck:dy}}),dA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},fA=oe([zee,eA],dA),hA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:jt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:jt(i,r)}))):t.map(r=>({value:r})),fy=oe([fA,xn,xm],hA);function yL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Dg(t){if(Qa(t)||t instanceof Date){var e=Number(t);if(Qt(e))return e}}function $R(t){if(Array.isArray(t)){var e=[Dg(t[0]),Dg(t[1])];return hl(e)?e:void 0}var n=Dg(t);if(n!=null)return[n,n]}function Xs(t){return t.map(Dg).filter(OK)}function Vee(t,e,n){return!n||typeof e!="number"||Hi(e)?[]:n.length?Xs(n.flatMap(r=>{var i=jt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Qt(s)||!Qt(l)))return[e-s,e+l]})):[]}var Qn=t=>{var e=Xn(t),n=Ad(t);return Td(t,e,n)},wm=oe([Qn],t=>t?.dataKey),$ee=oe([gL,eA,Qn],fL),bL=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,f]=l,h=r?[...f].reverse():f,p=h.map(ly);return[u,{stackedData:nW(t,p,n),graphicalItems:h}]}))},G0=oe([$ee,gL,gm,sL],bL),xL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=sW(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Uee=oe([xn],t=>t.allowDataOverflow),mA=t=>{var e;if(t==null||!("domain"in t))return V_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Xs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:V_},pA=oe([xn],mA),gA=oe([pA,Uee],F6),Bee=oe([G0,ao,Jt,gA],xL,{memoizeOptions:{resultEqualityCheck:uy}}),hy=t=>t.errorBars,qee=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>yL(n,r)),Y0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},vA=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>yL(i,C)),x=jt(u,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),_=Vee(u,x,g);if(_.length>=2){var A=Math.min(..._),S=Math.max(..._);(s==null||A<s)&&(s=A),(l==null||S>l)&&(l=S)}var E=$R(x);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=$R(jt(u,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Qt(s)&&Qt(l))return[s,l]},Fee=oe([fA,xn,Lee,hy,Jt],vA,{memoizeOptions:{resultEqualityCheck:uy}});function Hee(t){var{value:e}=t;if(Qa(e)||e instanceof Date)return e}var Kee=(t,e,n)=>{var r=t.map(Hee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&D5(r))?l6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},wL=t=>t.referenceElements.dots,jd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Gee=oe([wL,Jt,ym],jd),_L=t=>t.referenceElements.areas,Yee=oe([_L,Jt,ym],jd),SL=t=>t.referenceElements.lines,Wee=oe([SL,Jt,ym],jd),EL=(t,e)=>{if(t!=null){var n=Xs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Xee=oe(Gee,Jt,EL),AL=(t,e)=>{if(t!=null){var n=Xs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Qee=oe([Yee,Jt],AL);function Jee(t){var e;if(t.x!=null)return Xs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Xs(n)}function Zee(t){var e;if(t.y!=null)return Xs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Xs(n)}var TL=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Jee(r):Zee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ete=oe([Wee,Jt],TL),tte=oe(Xee,ete,Qee,(t,e,n)=>Y0(t,n,e)),yA=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=f?Y0(r,s,i):Y0(s,i);return cee(e,h,t.allowDataOverflow)},nte=oe([xn,pA,gA,Bee,Fee,tte,ct,Jt],yA,{memoizeOptions:{resultEqualityCheck:uy}}),rte=[0,1],bA=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,h=ya(e,s);if(h&&u==null){var p;return l6(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Kee(r,t,h):i==="expand"?rte:l}},xA=oe([xn,ct,fA,fy,gm,Jt,nte],bA),jL=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(im(s));return u in Zf?u:"point"}}},_l=oe([xn,ct,pL,rA,Jt],jL);function ite(t){if(t!=null){if(t in Zf)return Zf[t]();var e="scale".concat(im(t));if(e in Zf)return Zf[e]()}}function my(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ite(e);if(i!=null){var s=i.domain(n).range(r);return QY(s),s}}}var wA=(t,e,n)=>{var r=mA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hl(t))return yee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hl(t))return bee(t,e.tickCount,e.allowDecimals)}},_A=oe([xA,Td,_l],wA),SA=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&hl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},ate=oe([xn,xA,_A,Jt],SA),ste=oe(fy,xn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Xs(t.map(g=>g.value))).sort((g,x)=>g-x),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],h=r[u+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/l}}),NL=oe(ste,ct,aL,Yn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Qt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Rr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),ote=(t,e,n)=>{var r=so(t,e);return r==null||typeof r.padding!="string"?0:NL(t,"xAxis",e,n,r.padding)},lte=(t,e,n)=>{var r=oo(t,e);return r==null||typeof r.padding!="string"?0:NL(t,"yAxis",e,n,r.padding)},cte=oe(so,ote,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),ute=oe(oo,lte,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),dte=oe([Yn,cte,Yv,Gv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),fte=oe([Yn,ct,ute,Yv,Gv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),_m=(t,e,n,r)=>{var i;switch(e){case"xAxis":return dte(t,n,r);case"yAxis":return fte(t,n,r);case"zAxis":return(i=oA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return uL(t);case"radiusAxis":return dL(t,n);default:return}},CL=oe([xn,_m],sy),py=oe([xn,_l,ate,CL],my);oe([xm,hy,Jt],qee);function OL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var gy=(t,e)=>e,vy=(t,e,n)=>n,hte=oe(Hv,gy,vy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(OL)),mte=oe(Kv,gy,vy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(OL)),PL=(t,e)=>({width:t.width,height:e.height}),pte=(t,e)=>{var n=typeof e.width=="number"?e.width:lm;return{width:n,height:t.height}},IL=oe(Yn,so,PL),gte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},vte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},yte=oe(ro,Yn,hte,gy,vy,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var f=PL(e,u);l==null&&(l=gte(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),bte=oe(no,Yn,mte,gy,vy,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var f=pte(e,u);l==null&&(l=vte(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),xte=(t,e)=>{var n=so(t,e);if(n!=null)return yte(t,n.orientation,n.mirror)},wte=oe([Yn,so,xte,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),_te=(t,e)=>{var n=oo(t,e);if(n!=null)return bte(t,n.orientation,n.mirror)},Ste=oe([Yn,oo,_te,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),RL=oe(Yn,oo,(t,e)=>{var n=typeof e.width=="number"?e.width:lm;return{width:n,height:t.height}}),UR=(t,e,n)=>{switch(e){case"xAxis":return IL(t,n).width;case"yAxis":return RL(t,n).height;default:return}},kL=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=ya(t,r),f=e.map(h=>h.value);if(l&&u&&s==="category"&&i&&D5(f))return f}},Sm=oe([ct,fy,xn,Jt],kL),EA=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=ya(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},AA=oe([ct,fy,Td,Jt],EA),BR=oe([ct,Mee,_l,py,Sm,AA,_m,_A,Jt],(t,e,n,r,i,s,l,u,f)=>{if(e!=null){var h=ya(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),ML=(t,e,n,r,i,s,l,u,f)=>{if(!(e==null||r==null)){var h=ya(t,f),{type:p,ticks:g,tickCount:x}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=p==="category"&&r.bandwidth?r.bandwidth()/_:0;A=f==="angleAxis"&&s!=null&&s.length>=2?sr(s[0]-s[1])*2*A:A;var S=g||i;if(S){var E=S.map((C,V)=>{var D=l?l.indexOf(C):C;return{index:V,coordinate:r(D)+A,value:C,offset:A}});return E.filter(C=>Qt(C.coordinate))}return h&&u?u.map((C,V)=>({coordinate:r(C)+A,value:C,index:V,offset:A})).filter(C=>Qt(C.coordinate)):r.ticks?r.ticks(x).map(C=>({coordinate:r(C)+A,value:C,offset:A})):r.domain().map((C,V)=>({coordinate:r(C)+A,value:l?l[C]:C,index:V,offset:A}))}},DL=oe([ct,Td,_l,py,_A,_m,Sm,AA,Jt],ML),LL=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=ya(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?sr(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},ts=oe([ct,Td,py,_m,Sm,AA,Jt],LL),ns=oe(xn,py,(t,e)=>{if(!(t==null||e==null))return K0(K0({},t),{},{scale:e})}),Ete=oe([xn,_l,xA,CL],my);oe((t,e,n)=>oA(t,n),Ete,(t,e)=>{if(!(t==null||e==null))return K0(K0({},t),{},{scale:e})});var Ate=oe([ct,Hv,Kv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zL=t=>t.options.defaultTooltipEventType,VL=t=>t.options.validateTooltipEventTypes;function $L(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function TA(t,e){var n=zL(t),r=VL(t);return $L(e,n,r)}function Tte(t){return Le(e=>TA(e,t))}var UL=(t,e)=>{var n,r=Number(e);if(!(Hi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},jte=t=>t.tooltip.settings,Qo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Nte={itemInteraction:{click:Qo,hover:Qo},axisInteraction:{click:Qo,hover:Qo},keyboardInteraction:Qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},BL=oi({name:"tooltip",initialState:Nte,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:mn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:mn()},removeTooltipEntrySettings:{reducer(t,e){var n=fa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:mn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Cte,replaceTooltipEntrySettings:Ote,removeTooltipEntrySettings:Pte,setTooltipSettingsState:Ite,setActiveMouseOverItemIndex:qL,mouseLeaveItem:Rte,mouseLeaveChart:FL,setActiveClickItemIndex:kte,setMouseOverAxisIndex:HL,setMouseClickAxisIndex:Mte,setSyncInteraction:$_,setKeyboardInteraction:U_}=BL.actions,Dte=BL.reducer;function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return(e=zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $te(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ute(t){return t.index!=null}var KL=(t,e,n,r)=>{if(e==null)return Qo;var i=$te(t,e,n);if(i==null)return Qo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Ute(i)){if(s)return yg(yg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return yg(yg({},Qo),{},{coordinate:i.coordinate})};function Bte(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function qte(t,e){var n=Bte(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Fte(t,e,n){if(n==null||e==null)return!0;var r=jt(t,e);return r==null||!hl(n)?!0:qte(r,n)}var jA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Qt(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(l,Math.min(s,u)),h=e[f];return h==null||Fte(h,n,r)?String(f):null},GL=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var f=l[0],h=f==null?void 0:u(f.positions,s);if(h!=null)return h;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},YL=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Em=t=>t.options.tooltipPayloadSearcher,Nd=t=>t.tooltip;function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Gte(t,"string");return typeof e=="symbol"?e:e+""}function Gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t,e){return t??e}var WL=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,_)=>{var A,{dataDefinedOnItem:S,settings:E}=_,C=Yte(S,u),V=Array.isArray(C)?C3(C,h,p):C,D=(A=E?.dataKey)!==null&&A!==void 0?A:r,B=E?.nameKey,$;if(r&&Array.isArray(V)&&!Array.isArray(V[0])&&l==="axis"?$=L5(V,r,i):$=s(V,e,f,B),Array.isArray($))$.forEach(N=>{var j=HR(HR({},E),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});x.push(YP({tooltipEntrySettings:j,dataKey:N.dataKey,payload:N.payload,value:jt(N.payload,N.dataKey),name:N.name}))});else{var z;x.push(YP({tooltipEntrySettings:E,dataKey:D,payload:$,value:jt($,D),name:(z=jt($,B))!==null&&z!==void 0?z:E?.name}))}return x},g)}},NA=oe([Qn,ct,pL,rA,Xn],jL),Wte=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Xte=oe([Xn,Ad],lA),Cd=oe([Wte,Qn,Xte],cA,{memoizeOptions:{resultEqualityCheck:dy}}),Qte=oe([Cd],t=>t.filter(cy)),Jte=oe([Cd],uA,{memoizeOptions:{resultEqualityCheck:dy}}),Od=oe([Jte,ao],dA),Zte=oe([Qte,ao,Qn],fL),CA=oe([Od,Qn,Cd],hA),XL=oe([Qn],mA),ene=oe([Qn],t=>t.allowDataOverflow),QL=oe([XL,ene],F6),tne=oe([Cd],t=>t.filter(cy)),nne=oe([Zte,tne,gm,sL],bL),rne=oe([nne,ao,Xn,QL],xL),ine=oe([Cd],vL),ane=oe([Od,Qn,ine,hy,Xn],vA,{memoizeOptions:{resultEqualityCheck:uy}}),sne=oe([wL,Xn,Ad],jd),one=oe([sne,Xn],EL),lne=oe([_L,Xn,Ad],jd),cne=oe([lne,Xn],AL),une=oe([SL,Xn,Ad],jd),dne=oe([une,Xn],TL),fne=oe([one,dne,cne],Y0),hne=oe([Qn,XL,QL,rne,ane,fne,ct,Xn],yA),Am=oe([Qn,ct,Od,CA,gm,Xn,hne],bA),mne=oe([Am,Qn,NA],wA),pne=oe([Qn,Am,mne,Xn],SA),JL=t=>{var e=Xn(t),n=Ad(t),r=!1;return _m(t,e,n,r)},ZL=oe([Qn,JL],sy),ez=oe([Qn,NA,pne,ZL],my),gne=oe([ct,CA,Qn,Xn],kL),vne=oe([ct,CA,Qn,Xn],EA),yne=(t,e,n,r,i,s,l,u)=>{if(e){var{type:f}=e,h=ya(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?sr(i[0]-i[1])*2*g:g,h&&l?l.map((x,_)=>({coordinate:r(x)+g,value:x,index:_,offset:g})):r.domain().map((x,_)=>({coordinate:r(x)+g,value:s?s[x]:x,index:_,offset:g}))}}},lo=oe([ct,Qn,NA,ez,JL,gne,vne,Xn],yne),OA=oe([zL,VL,jte],(t,e,n)=>$L(n.shared,t,e)),tz=t=>t.tooltip.settings.trigger,PA=t=>t.tooltip.settings.defaultIndex,Tm=oe([Nd,OA,tz,PA],KL),ml=oe([Tm,Od,wm,Am],jA),nz=oe([lo,ml],UL),IA=oe([Tm],t=>{if(t)return t.dataKey}),bne=oe([Tm],t=>{if(t)return t.graphicalItemId}),rz=oe([Nd,OA,tz,PA],YL),xne=oe([no,ro,ct,Yn,lo,PA,rz,Em],GL),wne=oe([Tm,xne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),_ne=oe([Tm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Sne=oe([rz,ml,ao,wm,nz,Em,OA],WL),Ene=oe([Sne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nne=()=>Le(Qn),Cne=()=>{var t=Nne(),e=Le(lo),n=Le(ez);return Za(!t||!n?void 0:GR(GR({},t),{},{scale:n}),e)};function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Ine(t,"string");return typeof e=="symbol"?e:e+""}function Ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rne=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},kne=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return wu(wu(wu({},r),Pt(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:f}=r;return wu(wu(wu({},r),Pt(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Mne(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var iz=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,h,p,g,x,_=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,A=(p=n[u])===null||p===void 0?void 0:p.coordinate,S=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(x=n[u+1])===null||x===void 0?void 0:x.coordinate,E=void 0;if(!(_==null||A==null||S==null))if(sr(A-_)!==sr(S-A)){var C=[];if(sr(S-A)===sr(i[1]-i[0])){E=S;var V=A+i[1]-i[0];C[0]=Math.min(V,(V+_)/2),C[1]=Math.max(V,(V+_)/2)}else{E=_;var D=S+i[1]-i[0];C[0]=Math.min(A,(D+A)/2),C[1]=Math.max(A,(D+A)/2)}var B=[Math.min(A,(E+A)/2),Math.max(A,(E+A)/2)];if(t>B[0]&&t<=B[1]||t>=C[0]&&t<=C[1]){var $;return($=n[u])===null||$===void 0?void 0:$.index}}else{var z=Math.min(_,S),N=Math.max(_,S);if(t>(z+A)/2&&t<=(N+A)/2){var j;return(j=n[u])===null||j===void 0?void 0:j.index}}}else if(e)for(var k=0;k<l;k++){var I=e[k];if(I!=null){var P=e[k+1],L=e[k-1];if(k===0&&P!=null&&t<=(I.coordinate+P.coordinate)/2||k===l-1&&L!=null&&t>(I.coordinate+L.coordinate)/2||k>0&&k<l-1&&L!=null&&P!=null&&t>(I.coordinate+L.coordinate)/2&&t<=(I.coordinate+P.coordinate)/2)return I.index}}return-1},az=()=>Le(rA),RA=(t,e)=>e,sz=(t,e,n)=>n,kA=(t,e,n,r)=>r,Dne=oe(lo,t=>Mv(t,e=>e.coordinate)),MA=oe([Nd,RA,sz,kA],KL),DA=oe([MA,Od,wm,Am],jA),Lne=(t,e,n)=>{if(e!=null){var r=Nd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},oz=oe([Nd,RA,sz,kA],YL),W0=oe([no,ro,ct,Yn,lo,kA,oz,Em],GL),zne=oe([MA,W0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),lz=oe([lo,DA],UL),Vne=oe([oz,DA,ao,wm,lz,Em,RA],WL),$ne=oe([MA,DA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Une=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&Mne(t,l)){var u=oW(t,e),f=iz(u,s,i,n,r),h=Rne(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Bne=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=AQ(t,n);if(u){var f=lW(u,e),h=iz(f,l,s,r,i),p=kne(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},qne=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Une(t,e,r,i,s,l,u):Bne(t,e,n,r,i,s,l)},Fne=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Hne=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(cn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Oee}});function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kne(t,e,n){return(e=Gne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=Yne(t,"string");return typeof e=="symbol"?e:e+""}function Yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wne={},Xne={zIndexMap:Object.values(cn).reduce((t,e)=>XR(XR({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Wne)},Qne=new Set(Object.values(cn));function Jne(t){return Qne.has(t)}var cz=oi({name:"zIndex",initialState:Xne,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:mn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Jne(n)&&delete t.zIndexMap[n])},prepare:mn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:mn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:mn()}}}),{registerZIndexPortal:Zne,unregisterZIndexPortal:ere,registerZIndexPortalElement:tre,unregisterZIndexPortalElement:nre}=cz.actions,rre=cz.reducer;function Jn(t){var{zIndex:e,children:n}=t,r=$W(),i=r&&e!==void 0&&e!==0,s=Bn(),l=Kt();b.useLayoutEffect(()=>i?(l(Zne({zIndex:e})),()=>{l(ere({zIndex:e}))}):am,[l,e,i]);var u=Le(f=>Fne(f,e,s));return i?u?oE.createPortal(n,u):null:n}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(null,arguments)}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return(e=are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return typeof e=="symbol"?e:e+""}function sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ore(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return b.isValidElement(e)?b.cloneElement(e,r):b.createElement(n,r)}function lre(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,_=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var A,S,E;if(p==="ScatterChart")A=g,S=VX,E=cn.cursorLine;else if(p==="BarChart")A=$X(u,g,s,l),S=n6,E=cn.cursorRectangle;else if(u==="radial"&&V5(g)){var{cx:C,cy:V,radius:D,startAngle:B,endAngle:$}=a6(g);A={cx:C,cy:V,startAngle:B,endAngle:$,innerRadius:D,outerRadius:D},S=o6,E=cn.cursorLine}else A={points:CQ(u,g,s)},S=Uu,E=cn.cursorLine;var z=typeof f=="object"&&"className"in f?f.className:void 0,N=bg(bg(bg(bg({stroke:"#ccc",pointerEvents:"none"},s),A),Fs(f)),{},{payload:x,payloadIndex:_,className:lt("recharts-tooltip-cursor",z)});return b.createElement(Jn,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},b.createElement(ore,{cursor:f,cursorComp:S,cursorProps:N}))}function cre(t){var e=Cne(),n=$3(),r=bl(),i=az();return e==null||n==null||r==null||i==null?null:b.createElement(lre,B_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var uz=b.createContext(null),ure=()=>b.useContext(uz),iw={exports:{}},JR;function dre(){return JR||(JR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||f,x),A=n?n+h:h;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],_]:f._events[A].push(_):(f._events[A]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,_=g.length,A=new Array(_);x<_;x++)A[x]=g[x].fn;return A},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,x,_,A){var S=n?n+h:h;if(!this._events[S])return!1;var E=this._events[S],C=arguments.length,V,D;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,g),!0;case 4:return E.fn.call(E.context,p,g,x),!0;case 5:return E.fn.call(E.context,p,g,x,_),!0;case 6:return E.fn.call(E.context,p,g,x,_,A),!0}for(D=1,V=new Array(C-1);D<C;D++)V[D-1]=arguments[D];E.fn.apply(E.context,V)}else{var B=E.length,$;for(D=0;D<B;D++)switch(E[D].once&&this.removeListener(h,E[D].fn,void 0,!0),C){case 1:E[D].fn.call(E[D].context);break;case 2:E[D].fn.call(E[D].context,p);break;case 3:E[D].fn.call(E[D].context,p,g);break;case 4:E[D].fn.call(E[D].context,p,g,x);break;default:if(!V)for($=1,V=new Array(C-1);$<C;$++)V[$-1]=arguments[$];E[D].fn.apply(E[D].context,V)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,x){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var A=this._events[_];if(A.fn)A.fn===p&&(!x||A.once)&&(!g||A.context===g)&&l(this,_);else{for(var S=0,E=[],C=A.length;S<C;S++)(A[S].fn!==p||x&&!A[S].once||g&&A[S].context!==g)&&E.push(A[S]);E.length?this._events[_]=E.length===1?E[0]:E:l(this,_)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(iw)),iw.exports}var fre=dre();const hre=ga(fre);var Mh=new hre,q_="recharts.syncEvent.tooltip",ZR="recharts.syncEvent.brush";function LA(t,e){if(e){var n=Number.parseInt(e,10);if(!Hi(n))return t?.[n]}}var mre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dz=oi({name:"options",initialState:mre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pre=dz.reducer,{createEventEmitter:gre}=dz.actions;function vre(t){return t.tooltip.syncInteraction}var yre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fz=oi({name:"chartData",initialState:yre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:ek,setDataStartEndIndexes:bre,setComputedData:kpe}=fz.actions,xre=fz.reducer,wre=["x","y"];function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return(e=Sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Are(t,e){if(t==null)return{};var n,r,i=Tre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jre(){var t=Le(iA),e=Le(aA),n=Kt(),r=Le(oL),i=Le(lo),s=bl(),l=Wv(),u=Le(f=>f.rootProps.className);b.useEffect(()=>{if(t==null)return am;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(l&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:A,y:S}=_,E=Are(_,wre),{x:C,y:V,width:D,height:B}=p.payload.sourceViewBox,$=_u(_u({},E),{},{x:l.x+(D?(A-C)/D:0)*l.width,y:l.y+(B?(S-V)/B:0)*l.height});n(_u(_u({},p),{},{payload:_u(_u({},p.payload),{},{coordinate:$})}))}else n(p);return}if(i!=null){var z;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},j=r(i,N);z=i[j]}else r==="value"&&(z=i.find(G=>String(G.value)===p.payload.label));var{coordinate:k}=p.payload;if(z==null||p.payload.active===!1||k==null||l==null){n($_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:P}=k,L=Math.min(I,l.x+l.width),M=Math.min(P,l.y+l.height),re={x:s==="horizontal"?z.coordinate:L,y:s==="horizontal"?M:z.coordinate},K=$_({active:p.payload.active,coordinate:re,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(K)}}};return Mh.on(q_,f),()=>{Mh.off(q_,f)}},[u,n,e,t,r,i,s,l])}function Nre(){var t=Le(iA),e=Le(aA),n=Kt();b.useEffect(()=>{if(t==null)return am;var r=(i,s,l)=>{e!==l&&t===i&&n(bre(s))};return Mh.on(ZR,r),()=>{Mh.off(ZR,r)}},[n,e,t])}function Cre(){var t=Kt();b.useEffect(()=>{t(gre())},[t]),jre(),Nre()}function Ore(t,e,n,r,i,s){var l=Le(_=>Lne(_,t,e)),u=Le(aA),f=Le(iA),h=Le(oL),p=Le(vre),g=p?.active,x=Wv();b.useEffect(()=>{if(!g&&f!=null&&u!=null){var _=$_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:x,graphicalItemId:void 0});Mh.emit(q_,f,_,u)}},[g,n,l,i,r,u,f,h,s,x])}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kre(t){return t.dataKey}function Mre(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(yX,e)}var ik=[],Dre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qu(t){var e,n,r=rn(t,Dre),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:_,reverseDirection:A,useTranslate3d:S,wrapperStyle:E,cursor:C,shared:V,trigger:D,defaultIndex:B,portal:$,axisId:z}=r,N=Kt(),j=typeof B=="number"?String(B):B;b.useEffect(()=>{N(Ite({shared:V,trigger:D,axisId:z,active:i,defaultIndex:j}))},[N,V,D,z,i,j]);var k=Wv(),I=Q3(),P=Tte(V),{activeIndex:L,isActive:M}=(e=Le(be=>$ne(be,P,D,j)))!==null&&e!==void 0?e:{},re=Le(be=>Vne(be,P,D,j)),K=Le(be=>lz(be,P,D,j)),G=Le(be=>zne(be,P,D,j)),ee=re,pe=ure(),le=(n=i??M)!==null&&n!==void 0?n:!1,[J,U]=Z5([ee,le]),Y=P==="axis"?K:void 0;Ore(P,D,G,Y,L,le);var X=$??pe;if(X==null||k==null||P==null)return null;var Z=ee??ik;le||(Z=ik),h&&Z.length&&(Z=Y5(Z.filter(be=>be.value!=null&&(be.hide!==!0||r.includeHidden)),x,kre));var ne=Z.length>0,fe=b.createElement(AX,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:le,coordinate:G,hasPayload:ne,offset:g,position:_,reverseDirection:A,useTranslate3d:S,viewBox:k,wrapperStyle:E,lastBoundingBox:J,innerRef:U,hasPortalFromProps:!!$},Mre(f,rk(rk({},r),{},{payload:Z,label:Y,active:le,activeIndex:L,coordinate:G,accessibilityLayer:I})));return b.createElement(b.Fragment,null,oE.createPortal(fe,X),le&&b.createElement(cre,{cursor:C,tooltipEventType:P,coordinate:G,payload:Z,index:L}))}var jm=t=>null;jm.displayName="Cell";function Lre(t,e,n){return(e=zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=Vre(t,"string");return typeof e=="symbol"?e:e+""}function Vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $re{constructor(e){Lre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ure(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return(e=qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hre={cacheSize:2e3,enableCache:!0},hz=Ure({},Hre),sk=new $re(hz.cacheSize),Kre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ok="recharts_measurement_span";function Gre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var lk=(t,e)=>{try{var n=document.getElementById(ok);n||(n=document.createElement("span"),n.setAttribute("id",ok),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Kre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},oh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||um.isSsr)return{width:0,height:0};if(!hz.enableCache)return lk(e,n);var r=Gre(e,n),i=sk.get(r);if(i)return i;var s=lk(e,n);return sk.set(r,s),s},mz;function Yre(t,e,n){return(e=Wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wre(t){var e=Xre(t,"string");return typeof e=="symbol"?e:e+""}function Xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eie=["cm","mm","pt","pc","in","Q","px"];function tie(t){return eie.includes(t)}var Pu="NaN";function nie(t,e){return t*Zre[e]}class br{static parse(e){var n,[,r,i]=(n=Jre.exec(e))!==null&&n!==void 0?n:[];return r==null?br.NaN:new br(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Hi(e)&&(this.unit=""),n!==""&&!Qre.test(n)&&(this.num=NaN,this.unit=""),tie(n)&&(this.num=nie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new br(NaN,""):new br(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new br(NaN,""):new br(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new br(NaN,""):new br(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new br(NaN,""):new br(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Hi(this.num)}}mz=br;Yre(br,"NaN",new mz(NaN,""));function pz(t){if(t==null||t.includes(Pu))return Pu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=ck.exec(e))!==null&&n!==void 0?n:[],l=br.parse(r??""),u=br.parse(s??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Pu;e=e.replace(ck,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=uk.exec(e))!==null&&h!==void 0?h:[],_=br.parse(p??""),A=br.parse(x??""),S=g==="+"?_.add(A):_.subtract(A);if(S.isNaN())return Pu;e=e.replace(uk,S.toString())}return e}var dk=/\(([^()]*)\)/;function rie(t){for(var e=t,n;(n=dk.exec(e))!=null;){var[,r]=n;e=e.replace(dk,pz(r))}return e}function iie(t){var e=t.replace(/\s+/g,"");return e=rie(e),e=pz(e),e}function aie(t){try{return iie(t)}catch{return Pu}}function aw(t){var e=aie(t.slice(5,-1));return e===Pu?"":e}var sie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],oie=["dx","dy","angle","className","breakAll"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(null,arguments)}function fk(t,e){if(t==null)return{};var n,r,i=lie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gz=/[ \f\n\r\t\v\u2028\u2029]+/,vz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Xt(e)||(n?i=e.toString().split(""):i=e.toString().split(gz));var s=i.map(u=>({word:u,width:oh(u,r).width})),l=n?0:oh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function cie(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var yz=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),bz=t=>t.reduce((e,n)=>e.width>n.width?e:n),uie="",hk=(t,e,n,r,i,s,l,u)=>{var f=t.slice(0,e),h=vz({breakAll:n,style:r,children:f+uie});if(!h)return[!1,[]];var p=yz(h.wordsWithComputedWidth,s,l,u),g=p.length>i||bz(p).width>Number(s);return[g,p]},die=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:f}=t,h=$e(s),p=String(l),g=yz(e,r,n,i);if(!h||i)return g;var x=g.length>s||bz(g).width>Number(r);if(!x)return g;for(var _=0,A=p.length-1,S=0,E;_<=A&&S<=p.length-1;){var C=Math.floor((_+A)/2),V=C-1,[D,B]=hk(p,V,f,u,s,r,n,i),[$]=hk(p,C,f,u,s,r,n,i);if(!D&&!$&&(_=C+1),D&&$&&(A=C-1),!D&&$){E=B;break}S++}return E||g},mk=t=>{var e=Xt(t)?[]:t.toString().split(gz);return[{words:e,width:void 0}]},fie=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!um.isSsr){var u,f,h=vz({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,f=g}else return mk(r);return die({breakAll:s,children:r,maxLines:l,style:i},u,f,e,!!n)}return mk(r)},xz="#808080",hie={angle:0,breakAll:!1,capHeight:"0.71em",fill:xz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Pd=b.forwardRef((t,e)=>{var n=rn(t,hie),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=fk(n,sie),x=b.useMemo(()=>fie({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:_,dy:A,angle:S,className:E,breakAll:C}=g,V=fk(g,oie);if(!Qa(r)||!Qa(i)||x.length===0)return null;var D=Number(r)+($e(_)?_:0),B=Number(i)+($e(A)?A:0);if(!Qt(D)||!Qt(B))return null;var $;switch(p){case"start":$=aw("calc(".concat(l,")"));break;case"middle":$=aw("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:$=aw("calc(".concat(x.length-1," * -").concat(s,")"));break}var z=[];if(f){var N=x[0].width,{width:j}=g;z.push("scale(".concat($e(j)&&$e(N)?j/N:1,")"))}return S&&z.push("rotate(".concat(S,", ").concat(D,", ").concat(B,")")),z.length&&(V.transform=z.join(" ")),b.createElement("text",F_({},On(V),{ref:e,x:D,y:B,className:lt("recharts-text",E),textAnchor:h,fill:u.includes("url")?xz:u}),x.map((k,I)=>{var P=k.words.join(C?"":" ");return b.createElement("tspan",{x:D,dy:I===0?$:s,key:"".concat(P,"-").concat(I)},P)}))});Pd.displayName="Text";var mie=["labelRef"],pie=["content"];function pk(t,e){if(t==null)return{};var n,r,i=gie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t,e,n){return(e=yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(null,arguments)}var wz=b.createContext(null),xie=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,f=b.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return b.createElement(wz.Provider,{value:f},u)},_z=()=>{var t=b.useContext(wz),e=Wv();return t||V3(e)},Sz=b.createContext(null),wie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l,clockWise:u,children:f}=t,h=b.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l,clockWise:u}),[e,n,r,i,s,l,u]);return b.createElement(Sz.Provider,{value:h},f)},Ez=()=>{var t=b.useContext(Sz),e=Le(Ed);return t||e},_ie=t=>{var{value:e,formatter:n}=t,r=Xt(t.children)?e:t.children;return typeof n=="function"?n(r):r},zA=t=>t!=null&&typeof t=="function",Sie=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Eie=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:_}=i,A=(h+p)/2,S=Sie(g,x),E=S>=0?1:-1,C,V;switch(e){case"insideStart":C=g+E*s,V=_;break;case"insideEnd":C=x-E*s,V=!_;break;case"end":C=x+E*s,V=_;break;default:throw new Error("Unsupported position ".concat(e))}V=S<=0?V:!V;var D=Pt(u,f,A,C),B=Pt(u,f,A,C+(V?1:-1)*359),$="M".concat(D.x,",").concat(D.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(V?0:1,`,
    `).concat(B.x,",").concat(B.y),z=Xt(t.id)?_h("recharts-radial-line-"):t.id;return b.createElement("text",js({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:z,d:$})),b.createElement("textPath",{xlinkHref:"#".concat(z)},n))},Aie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:p,y:g}=Pt(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(s+l)/2,{x:_,y:A}=Pt(r,i,x,h);return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},H_=t=>"cx"in t&&$e(t.cx),Tie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!H_(n)&&(s=n);var{x:l,y:u,upperWidth:f,lowerWidth:h,height:p}=e,g=l,x=l+(f-h)/2,_=(g+x)/2,A=(f+h)/2,S=g+f/2,E=p>=0?1:-1,C=E*r,V=E>0?"end":"start",D=E>0?"start":"end",B=f>=0?1:-1,$=B*r,z=B>0?"end":"start",N=B>0?"start":"end";if(i==="top"){var j={x:g+f/2,y:u-C,textAnchor:"middle",verticalAnchor:V};return Nn(Nn({},j),s?{height:Math.max(u-s.y,0),width:f}:{})}if(i==="bottom"){var k={x:x+h/2,y:u+p+C,textAnchor:"middle",verticalAnchor:D};return Nn(Nn({},k),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var I={x:_-$,y:u+p/2,textAnchor:z,verticalAnchor:"middle"};return Nn(Nn({},I),s?{width:Math.max(I.x-s.x,0),height:p}:{})}if(i==="right"){var P={x:_+A+$,y:u+p/2,textAnchor:N,verticalAnchor:"middle"};return Nn(Nn({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:p}:{})}var L=s?{width:A,height:p}:{};return i==="insideLeft"?Nn({x:_+$,y:u+p/2,textAnchor:N,verticalAnchor:"middle"},L):i==="insideRight"?Nn({x:_+A-$,y:u+p/2,textAnchor:z,verticalAnchor:"middle"},L):i==="insideTop"?Nn({x:g+f/2,y:u+C,textAnchor:"middle",verticalAnchor:D},L):i==="insideBottom"?Nn({x:x+h/2,y:u+p-C,textAnchor:"middle",verticalAnchor:V},L):i==="insideTopLeft"?Nn({x:g+$,y:u+C,textAnchor:N,verticalAnchor:D},L):i==="insideTopRight"?Nn({x:g+f-$,y:u+C,textAnchor:z,verticalAnchor:D},L):i==="insideBottomLeft"?Nn({x:x+$,y:u+p-C,textAnchor:N,verticalAnchor:V},L):i==="insideBottomRight"?Nn({x:x+h-$,y:u+p-C,textAnchor:z,verticalAnchor:V},L):i&&typeof i=="object"&&($e(i.x)||Hs(i.x))&&($e(i.y)||Hs(i.y))?Nn({x:l+Rr(i.x,A),y:u+Rr(i.y,p),textAnchor:"end",verticalAnchor:"end"},L):Nn({x:S,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},L)},jie={angle:0,offset:5,zIndex:cn.label,position:"middle",textBreakAll:!1};function Ko(t){var e=rn(t,jie),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:f,labelRef:h}=e,p=Ez(),g=_z(),x=r==="center"?g:p??g,_,A,S;if(n==null?_=x:H_(n)?_=n:_=V3(n),!_||Xt(i)&&Xt(s)&&!b.isValidElement(l)&&typeof l!="function")return null;var E=Nn(Nn({},e),{},{viewBox:_});if(b.isValidElement(l)){var{labelRef:C}=E,V=pk(E,mie);return b.cloneElement(l,V)}if(typeof l=="function"){var{content:D}=E,B=pk(E,pie);if(A=b.createElement(l,B),b.isValidElement(A))return A}else A=_ie(e);var $=On(e);if(H_(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Eie(e,r,A,$,_);S=Aie(_,e.offset,e.position)}else S=Tie(e,_);return b.createElement(Jn,{zIndex:e.zIndex},b.createElement(Pd,js({ref:h,className:lt("recharts-label",u)},$,S,{textAnchor:cie($.textAnchor)?$.textAnchor:S.textAnchor,breakAll:f}),A))}Ko.displayName="Label";var Az=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(Ko,js({key:"label-implicit"},r)):Qa(t)?b.createElement(Ko,js({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===Ko?b.cloneElement(t,Nn({key:"label-implicit"},r)):b.createElement(Ko,js({key:"label-implicit",content:t},r)):zA(t)?b.createElement(Ko,js({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(Ko,js({},t,{key:"label-implicit"},r)):null};function Nie(t){var{label:e,labelRef:n}=t,r=_z();return Az(e,r,n)||null}function Cie(t){var{label:e}=t,n=Ez();return Az(e,n)||null}var sw={},ow={},vk;function Oie(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(ow)),ow}var lw={},yk;function Pie(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(lw)),lw}var bk;function Iie(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oie(),n=Pie(),r=gE();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(sw)),sw}var cw,xk;function Rie(){return xk||(xk=1,cw=Iie().last),cw}var kie=Rie();const Tz=ga(kie);var Mie=["valueAccessor"],Die=["dataKey","clockWise","id","textBreakAll","zIndex"];function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(null,arguments)}function wk(t,e){if(t==null)return{};var n,r,i=Lie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zie=t=>Array.isArray(t.value)?Tz(t.value):t.value,jz=b.createContext(void 0),yy=jz.Provider,Nz=b.createContext(void 0),Vie=Nz.Provider;function $ie(){return b.useContext(jz)}function Uie(){return b.useContext(Nz)}function Lg(t){var{valueAccessor:e=zie}=t,n=wk(t,Mie),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,f=wk(n,Die),h=$ie(),p=Uie(),g=h||p;return!g||!g.length?null:b.createElement(Jn,{zIndex:u??cn.label},b.createElement(Rt,{className:"recharts-label-list"},g.map((x,_)=>{var A,S=Xt(r)?e(x,_):jt(x&&x.payload,r),E=Xt(s)?{}:{id:"".concat(s,"-").concat(_)};return b.createElement(Ko,X0({key:"label-".concat(_)},On(x),f,E,{fill:(A=n.fill)!==null&&A!==void 0?A:x.fill,parentViewBox:x.parentViewBox,value:S,textBreakAll:l,viewBox:x.viewBox,index:_,zIndex:0}))})))}Lg.displayName="LabelList";function Nm(t){var{label:e}=t;return e?e===!0?b.createElement(Lg,{key:"labelList-implicit"}):b.isValidElement(e)||zA(e)?b.createElement(Lg,{key:"labelList-implicit",content:e}):typeof e=="object"?b.createElement(Lg,X0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Bie=["points","className","baseLinePoints","connectNulls"],_k;function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(null,arguments)}function qie(t,e){if(t==null)return{};var n,r,i=Fie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hie(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Sk=t=>t&&t.x===+t.x&&t.y===+t.y,Kie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{Sk(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Sk(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},lh=(t,e)=>{var n=Kie(t);e&&(n=[n.reduce((i,s)=>[...i,...s],[])]);var r=n.map(i=>i.reduce((s,l,u)=>vn(_k||(_k=Hie(["","","",",",""])),s,u===0?"M":"L",l.x,l.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},Gie=(t,e,n)=>{var r=lh(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(lh(Array.from(e).reverse(),n).slice(1))},Cz=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,s=qie(t,Bie);if(!e||!e.length)return null;var l=lt("recharts-polygon",n);if(r&&r.length){var u=s.stroke&&s.stroke!=="none",f=Gie(e,r,i);return b.createElement("g",{className:l},b.createElement("path",Iu({},On(s),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),u?b.createElement("path",Iu({},On(s),{fill:"none",d:lh(e,i)})):null,u?b.createElement("path",Iu({},On(s),{fill:"none",d:lh(r,i)})):null)}var h=lh(e,i);return b.createElement("path",Iu({},On(s),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))};function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(null,arguments)}var VA=t=>{var{cx:e,cy:n,r,className:i}=t,s=lt("recharts-dot",i);return $e(e)&&$e(n)&&$e(r)?b.createElement("circle",K_({},nn(t),pE(t),{className:s,cx:e,cy:n,r})):null},$A=t=>t.graphicalItems.polarItems,Yie=oe([Jt,ym],lA),by=oe([$A,xn,Yie],cA),Wie=oe([by],uA),xy=oe([Wie,pm],dA),Oz=oe([xy,xn,by],hA);oe([xy,xn,by],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=jt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:jt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var Ek=()=>{},Xie=oe([xy,xn,by,hy,Jt],vA),Qie=oe([xn,pA,gA,Ek,Xie,Ek,ct,Jt],yA),Pz=oe([xn,ct,xy,Oz,gm,Jt,Qie],bA),Iz=oe([Pz,xn,_l],wA),Jie=oe([xn,Pz,Iz,Jt],SA),UA=(t,e,n)=>{switch(e){case"angleAxis":return Sd(t,n);case"radiusAxis":return vm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},BA=(t,e,n)=>{switch(e){case"angleAxis":return Nee(t,n);case"radiusAxis":return Cee(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Id=oe([UA,_l,Jie,BA],my),Rz=oe([ct,Oz,Td,Jt],EA),Rd=oe([ct,UA,_l,Id,Iz,BA,Sm,Rz,Jt],ML),Zie=oe([Rd],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}});oe([ct,UA,Id,BA,Sm,Rz,Jt],LL);var eae=(t,e)=>Rd(t,"angleAxis",e,!1),tae=oe([eae],t=>{if(t)return t.map(e=>e.coordinate)}),nae=(t,e)=>Rd(t,"radiusAxis",e,!1),rae=oe([nae],t=>{if(t)return t.map(e=>e.coordinate)}),iae=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function aae(t,e){if(t==null)return{};var n,r,i=sae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(null,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=cae(t,"string");return typeof e=="symbol"?e:e+""}function cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uae=(t,e,n,r)=>{var i="";return r.forEach((s,l)=>{var u=Pt(e,n,t,s);l?i+="L ".concat(u.x,",").concat(u.y):i+="M ".concat(u.x,",").concat(u.y)}),i+="Z",i},dae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:s,radialLines:l}=t;if(!s||!s.length||!l)return null;var u=Dh({stroke:"#ccc"},nn(t));return b.createElement("g",{className:"recharts-polar-grid-angle"},s.map(f=>{var h=Pt(e,n,r,f),p=Pt(e,n,i,f);return b.createElement("line",da({key:"line-".concat(f)},u,{x1:h.x,y1:h.y,x2:p.x,y2:p.y}))}))},Tk=t=>{var{cx:e,cy:n,radius:r}=t,i=Dh({stroke:"#ccc",fill:"none"},nn(t));return b.createElement("circle",da({},i,{className:lt("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},jk=t=>{var{radius:e}=t,n=Dh({stroke:"#ccc",fill:"none"},nn(t));return b.createElement("path",da({},n,{className:lt("recharts-polar-grid-concentric-polygon",t.className),d:uae(e,t.cx,t.cy,t.polarAngles)}))},fae=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return b.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&b.createElement(Tk,da({},t,{radius:r})),i&&n!=="circle"&&b.createElement(jk,da({},t,{radius:r})),e.map((s,l)=>{var u=l;return n==="circle"?b.createElement(Tk,da({key:u},t,{fill:"none",radius:s})):b.createElement(jk,da({key:u},t,{fill:"none",radius:s}))}))},G_=t=>{var e,n,r,i,s,l,u,f,h,{gridType:p="polygon",radialLines:g=!0,angleAxisId:x=0,radiusAxisId:_=0,cx:A,cy:S,innerRadius:E,outerRadius:C,polarAngles:V,polarRadius:D}=t,B=aae(t,iae),$=Le(Ed),z=Le(L=>tae(L,x)),N=Le(L=>rae(L,_)),j=Array.isArray(V)?V:z,k=Array.isArray(D)?D:N;if(j==null||k==null)return null;var I=Dh(Dh({cx:(e=(n=$?.cx)!==null&&n!==void 0?n:A)!==null&&e!==void 0?e:0,cy:(r=(i=$?.cy)!==null&&i!==void 0?i:S)!==null&&r!==void 0?r:0,innerRadius:(s=(l=$?.innerRadius)!==null&&l!==void 0?l:E)!==null&&s!==void 0?s:0,outerRadius:(u=(f=$?.outerRadius)!==null&&f!==void 0?f:C)!==null&&u!==void 0?u:0,polarAngles:j,polarRadius:k},B),{},{zIndex:(h=B.zIndex)!==null&&h!==void 0?h:cn.grid}),{outerRadius:P}=I;return P<=0?null:b.createElement(Jn,{zIndex:I.zIndex},b.createElement("g",{className:"recharts-polar-grid"},b.createElement(fae,da({gridType:p,radialLines:g},I,{polarAngles:j,polarRadius:k})),b.createElement(dae,da({gridType:p,radialLines:g},I,{polarAngles:j,polarRadius:k}))))};G_.displayName="PolarGrid";var uw={},dw={},Nk;function hae(){return Nk||(Nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],s=r(i);for(let l=1;l<n.length;l++){const u=n[l],f=r(u);f>s&&(s=f,i=u)}return i}t.maxBy=e})(dw)),dw}var Ck;function mae(){return Ck||(Ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hae(),n=kv(),r=vE();function i(s,l){if(s!=null)return e.maxBy(Array.from(s),r.iteratee(l??n.identity))}t.maxBy=i})(uw)),uw}var fw,Ok;function pae(){return Ok||(Ok=1,fw=mae().maxBy),fw}var gae=pae();const vae=ga(gae);var hw={},mw={},Pk;function yae(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],s=r(i);for(let l=1;l<n.length;l++){const u=n[l],f=r(u);f<s&&(s=f,i=u)}return i}t.minBy=e})(mw)),mw}var Ik;function bae(){return Ik||(Ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yae(),n=kv(),r=vE();function i(s,l){if(s!=null)return e.minBy(Array.from(s),r.iteratee(l??n.identity))}t.minBy=i})(hw)),hw}var pw,Rk;function xae(){return Rk||(Rk=1,pw=bae().minBy),pw}var wae=xae();const _ae=ga(wae);var Sae={radiusAxis:{},angleAxis:{}},kz=oi({name:"polarAxis",initialState:Sae,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Eae,removeRadiusAxis:Aae,addAngleAxis:Tae,removeAngleAxis:jae}=kz.actions,Nae=kz.reducer,Cae=["cx","cy","angle","axisLine"],Oae=["angle","tickFormatter","stroke","tick"];function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(null,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return(e=Iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Rae(t,"string");return typeof e=="symbol"?e:e+""}function Rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mz(t,e){if(t==null)return{};var n,r,i=kae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mae="radiusAxis";function Dae(t){var e=Kt();return b.useEffect(()=>(e(Eae(t)),()=>{e(Aae(t))})),null}var Lae=(t,e,n,r)=>{var{coordinate:i}=t;return Pt(n,r,i,e)},zae=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},Vae=(t,e,n,r)=>{var i=vae(r,l=>l.coordinate||0),s=_ae(r,l=>l.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:s?.coordinate||0,outerRadius:i?.coordinate||0,clockWise:!1}},$ae=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:s}=t,l=Mz(t,Cae),u=e.reduce((g,x)=>[Math.min(g[0],x.coordinate),Math.max(g[1],x.coordinate)],[1/0,-1/0]),f=Pt(n,r,u[0],i),h=Pt(n,r,u[1],i),p=Is(Is(Is({},nn(l)),{},{fill:"none"},nn(s)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return b.createElement("line",Lh({className:"recharts-polar-radius-axis-line"},p))},Uae=(t,e,n)=>{var r;return b.isValidElement(t)?r=b.cloneElement(t,e):typeof t=="function"?r=t(e):r=b.createElement(Pd,Lh({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},Bae=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:s}=t,l=Mz(t,Oae),u=zae(t.orientation),f=nn(l),h=Fs(s),p=e.map((g,x)=>{var _=Lae(g,t.angle,t.cx,t.cy),A=Is(Is(Is(Is({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(_.x,", ").concat(_.y,")")},f),{},{stroke:"none",fill:i},h),{},{index:x},_),{},{payload:g});return b.createElement(Rt,Lh({className:lt("recharts-polar-radius-axis-tick",i6(s)),key:"tick-".concat(g.coordinate)},Pc(t,g,x)),Uae(s,A,r?r(g.value,x):g.value))});return b.createElement(Rt,{className:"recharts-polar-radius-axis-ticks"},p)},qae=t=>{var{radiusAxisId:e}=t,n=Le(Ed),r=Le(f=>Id(f,"radiusAxis",e)),i=Le(f=>Rd(f,"radiusAxis",e,!1));if(n==null||!i||!i.length||r==null)return null;var s=Is(Is({},t),{},{scale:r},n),{tick:l,axisLine:u}=s;return b.createElement(Jn,{zIndex:s.zIndex},b.createElement(Rt,{className:lt("recharts-polar-radius-axis",Mae,s.className)},u&&$ae(s,i),l&&Bae(s,i),b.createElement(wie,Vae(s.angle,s.cx,s.cy,i),b.createElement(Cie,{label:s.label}),s.children)))};function Y_(t){var e=rn(t,ti);return b.createElement(b.Fragment,null,b.createElement(Dae,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),b.createElement(qae,e))}Y_.displayName="PolarRadiusAxis";var Fae=["children"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(null,arguments)}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){Hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hae(t,e,n){return(e=Kae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kae(t){var e=Gae(t,"string");return typeof e=="symbol"?e:e+""}function Gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yae(t,e){if(t==null)return{};var n,r,i=Wae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dk=1e-5,Xae=Math.cos(M0(45)),Qae="angleAxis";function Jae(t){var e=Kt(),n=b.useMemo(()=>{var{children:s}=t,l=Yae(t,Fae);return l},[t]),r=Le(s=>Sd(s,n.id)),i=n===r;return b.useEffect(()=>(e(Tae(n)),()=>{e(jae(n))}),[e,n]),i?t.children:null}var Zae=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:s,tickSize:l}=e,u=l||8,f=Pt(n,r,i,t.coordinate),h=Pt(n,r,i+(s==="inner"?-1:1)*u,t.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}},ese=(t,e)=>{var n=Math.cos(M0(-t.coordinate));return n>Dk?e==="outer"?"start":"end":n<-Dk?e==="outer"?"end":"start":"middle"},tse=t=>{var e=Math.cos(M0(-t.coordinate)),n=Math.sin(M0(-t.coordinate));return Math.abs(e)<=Xae?n>0?"start":"end":"middle"},nse=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:s,ticks:l}=t;if(!s)return null;var u=Ua(Ua({},nn(t)),{},{fill:"none"},nn(s));if(i==="circle")return b.createElement(VA,Ac({className:"recharts-polar-angle-axis-line"},u,{cx:e,cy:n,r}));var f=l.map(h=>Pt(e,n,r,h.coordinate));return b.createElement(Cz,Ac({className:"recharts-polar-angle-axis-line"},u,{points:f}))},rse=t=>{var{tick:e,tickProps:n,value:r}=t;return e?b.isValidElement(e)?b.cloneElement(e,n):typeof e=="function"?e(n):b.createElement(Pd,Ac({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},ise=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:s}=t,l=nn(t),u=Fs(e),f=Ua(Ua({},l),{},{fill:"none"},nn(n)),h=s.map((p,g)=>{var x=Zae(p,t),_=ese(p,t.orientation),A=tse(p),S=Ua(Ua(Ua({},l),{},{textAnchor:_,verticalAnchor:A,stroke:"none",fill:i},u),{},{index:g,payload:p,x:x.x2,y:x.y2});return b.createElement(Rt,Ac({className:lt("recharts-polar-angle-axis-tick",i6(e)),key:"tick-".concat(p.coordinate)},Pc(t,p,g)),n&&b.createElement("line",Ac({className:"recharts-polar-angle-axis-tick-line"},f,x)),b.createElement(rse,{tick:e,tickProps:S,value:r?r(p.value,g):p.value}))});return b.createElement(Rt,{className:"recharts-polar-angle-axis-ticks"},h)},ase=t=>{var{angleAxisId:e}=t,n=Le(Ed),r=Le(u=>Id(u,"angleAxis",e)),i=Bn(),s=Le(u=>Zie(u,"angleAxis",e,i));if(n==null||!s||!s.length||r==null)return null;var l=Ua(Ua(Ua({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:s});return b.createElement(Jn,{zIndex:l.zIndex},b.createElement(Rt,{className:lt("recharts-polar-angle-axis",Qae,l.className)},b.createElement(nse,l),b.createElement(ise,l)))};function W_(t){var e=rn(t,$a);return b.createElement(Jae,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},b.createElement(ase,e))}W_.displayName="PolarAngleAxis";function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t,e,n){return(e=ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cse=(t,e)=>e,qA=oe([$A,cse],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),use=[],FA=(t,e,n)=>n?.length===0?use:n,Dz=oe([pm,qA,FA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>zk(zk({},e.presentationProps),s.props))),i!=null)return i}}),dse=oe([Dz,qA,FA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=jt(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:rs(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),fse=oe([Dz,qA,FA,Yn],(t,e,n,r)=>{if(!(e==null||t==null))return foe({offset:r,pieSettings:e,displayedData:t,cells:n})}),gw={exports:{}},Ht={};var Vk;function hse(){if(Vk)return Ht;Vk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case t:switch(S=S.type,S){case n:case i:case r:case f:case h:case x:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case p:return S;case s:return S;default:return E}}case e:return E}}}return Ht.ContextConsumer=s,Ht.ContextProvider=l,Ht.Element=t,Ht.ForwardRef=u,Ht.Fragment=n,Ht.Lazy=g,Ht.Memo=p,Ht.Portal=e,Ht.Profiler=i,Ht.StrictMode=r,Ht.Suspense=f,Ht.SuspenseList=h,Ht.isContextConsumer=function(S){return A(S)===s},Ht.isContextProvider=function(S){return A(S)===l},Ht.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Ht.isForwardRef=function(S){return A(S)===u},Ht.isFragment=function(S){return A(S)===n},Ht.isLazy=function(S){return A(S)===g},Ht.isMemo=function(S){return A(S)===p},Ht.isPortal=function(S){return A(S)===e},Ht.isProfiler=function(S){return A(S)===i},Ht.isStrictMode=function(S){return A(S)===r},Ht.isSuspense=function(S){return A(S)===f},Ht.isSuspenseList=function(S){return A(S)===h},Ht.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===u||S.$$typeof===_||S.getModuleId!==void 0)},Ht.typeOf=A,Ht}var $k;function mse(){return $k||($k=1,gw.exports=hse()),gw.exports}var pse=mse(),Uk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Bk=null,vw=null,Lz=t=>{if(t===Bk&&Array.isArray(vw))return vw;var e=[];return b.Children.forEach(t,n=>{Xt(n)||(pse.isFragment(n)?e=e.concat(Lz(n.props.children)):e.push(n))}),vw=e,Bk=t,e};function HA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Uk(i)):r=[Uk(e)],Lz(t).forEach(i=>{var s=xc(i,"type.displayName")||xc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var KA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,yw={},qk;function gse(){return qk||(qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(yw)),yw}var bw,Fk;function vse(){return Fk||(Fk=1,bw=gse().isPlainObject),bw}var yse=vse();const bse=ga(yse);var Hk,Kk,Gk,Yk,Wk;function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xse(t,e,n){return(e=wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=_se(t,"string");return typeof e=="symbol"?e:e+""}function _se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(null,arguments)}function Hf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Jk=(t,e,n,r,i)=>{var s=n-r,l;return l=vn(Hk||(Hk=Hf(["M ",",",""])),t,e),l+=vn(Kk||(Kk=Hf(["L ",",",""])),t+n,e),l+=vn(Gk||(Gk=Hf(["L ",",",""])),t+n-s/2,e+i),l+=vn(Yk||(Yk=Hf(["L ",",",""])),t+n-s/2-r,e+i),l+=vn(Wk||(Wk=Hf(["L ",","," Z"])),t,e),l},Sse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ese=t=>{var e=rn(t,Sse),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=b.useRef(null),[_,A]=b.useState(-1),S=b.useRef(i),E=b.useRef(s),C=b.useRef(l),V=b.useRef(n),D=b.useRef(r),B=Rc(t,"trapezoid-");if(b.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var re=x.current.getTotalLength();re&&A(re)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var $=lt("recharts-trapezoid",u);if(!g)return b.createElement("g",null,b.createElement("path",Q0({},On(e),{className:$,d:Jk(n,r,i,s,l)})));var z=S.current,N=E.current,j=C.current,k=V.current,I=D.current,P="0px ".concat(_===-1?1:_,"px"),L="".concat(_,"px 0px"),M=J3(["strokeDasharray"],h,f);return b.createElement(Ic,{animationId:B,key:B,canBegin:_>0,duration:h,easing:f,isActive:g,begin:p},re=>{var K=_t(z,i,re),G=_t(N,s,re),ee=_t(j,l,re),pe=_t(k,n,re),le=_t(I,r,re);x.current&&(S.current=K,E.current=G,C.current=ee,V.current=pe,D.current=le);var J=re>0?{transition:M,strokeDasharray:L}:{strokeDasharray:P};return b.createElement("path",Q0({},On(e),{className:$,d:Jk(pe,le,K,G,ee),ref:x,style:Qk(Qk({},J),e.style)}))})},Ase=["option","shapeType","activeClassName"];function Tse(t,e){if(t==null)return{};var n,r,i=jse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){Nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nse(t,e,n){return(e=Cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=Ose(t,"string");return typeof e=="symbol"?e:e+""}function Ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pse(t,e){return J0(J0({},e),t)}function Ise(t,e){return t==="symbols"}function eM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(n6,n);case"trapezoid":return b.createElement(Ese,n);case"sector":return b.createElement(o6,n);case"symbols":if(Ise(e))return b.createElement(mE,n);break;case"curve":return b.createElement(Uu,n);default:return null}}function Rse(t){return b.isValidElement(t)?t.props:t}function GA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Tse(t,Ase),s;if(b.isValidElement(e))s=b.cloneElement(e,J0(J0({},i),Rse(e)));else if(typeof e=="function")s=e(i,i.index);else if(bse(e)&&typeof e!="boolean"){var l=Pse(e,i);s=b.createElement(eM,{shapeType:n,elementProps:l})}else{var u=i;s=b.createElement(eM,{shapeType:n,elementProps:u})}return i.isActive?b.createElement(Rt,{className:r},s):s}var YA=(t,e,n)=>{var r=Kt();return(i,s)=>l=>{t?.(i,s,l),r(qL({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},WA=t=>{var e=Kt();return(n,r)=>i=>{t?.(n,r,i),e(Rte())}},XA=(t,e,n)=>{var r=Kt();return(i,s)=>l=>{t?.(i,s,l),r(kte({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Cm(t){var{tooltipEntrySettings:e}=t,n=Kt(),r=Bn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(Cte(e)):i.current!==e&&n(Ote({prev:i.current,next:e})),i.current=e)},[e,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(Pte(i.current)),i.current=null)},[n]),null}function QA(t){var{legendPayload:e}=t,n=Kt(),r=Bn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(Y3(e)):i.current!==e&&n(W3({prev:i.current,next:e})),i.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{i.current&&(n(X3(i.current)),i.current=null)},[n]),null}function zz(t){var{legendPayload:e}=t,n=Kt(),r=Le(ct),i=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(Y3(e)):i.current!==e&&n(W3({prev:i.current,next:e})),i.current=e)},[n,r,e]),b.useLayoutEffect(()=>()=>{i.current&&(n(X3(i.current)),i.current=null)},[n]),null}var xw,kse=()=>{var[t]=b.useState(()=>_h("uid-"));return t},Mse=(xw=C8.useId)!==null&&xw!==void 0?xw:kse;function Dse(t,e){var n=Mse();return e||(t?"".concat(t,"-").concat(n):n)}var Lse=b.createContext(void 0),Om=t=>{var{id:e,type:n,children:r}=t,i=Dse("recharts-".concat(n),e);return b.createElement(Lse.Provider,{value:i},r(i))},zse={cartesianItems:[],polarItems:[]},Vz=oi({name:"graphicalItems",initialState:zse,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:mn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:mn()},removeCartesianGraphicalItem:{reducer(t,e){var n=fa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:mn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:mn()},removePolarGraphicalItem:{reducer(t,e){var n=fa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:mn()}}}),{addCartesianGraphicalItem:Vse,replaceCartesianGraphicalItem:$se,removeCartesianGraphicalItem:Use,addPolarGraphicalItem:Bse,removePolarGraphicalItem:qse}=Vz.actions,Fse=Vz.reducer,Hse=t=>{var e=Kt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(Vse(t)):n.current!==t&&e($se({prev:n.current,next:t})),n.current=t},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(e(Use(n.current)),n.current=null)},[e]),null},JA=b.memo(Hse);function $z(t){var e=Kt();return b.useLayoutEffect(()=>(e(Bse(t)),()=>{e(qse(t))}),[e,t]),null}var Kse=["key"],Gse=["onMouseEnter","onClick","onMouseLeave"],Yse=["id"],Wse=["id"];function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return(e=Qse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(null,arguments)}function wy(t,e){if(t==null)return{};var n,r,i=Zse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eoe(t){var e=b.useMemo(()=>HA(t.children,jm),[t.children]),n=Le(r=>dse(r,t.id,e));return n==null?null:b.createElement(zz,{legendPayload:n})}var toe=b.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(x=>x.tooltipPayload),positions:r.map(x=>x.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:rs(u,e),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return b.createElement(Cm,{tooltipEntrySettings:g})}),noe=(t,e)=>t>e?"start":t<e?"end":"middle",roe=(t,e,n)=>Rr(typeof e=="function"?e(t):e,n,n*.8),ioe=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=r6(s,l),f=i+Rr(t.cx,s,s/2),h=r+Rr(t.cy,l,l/2),p=Rr(t.innerRadius,u,0),g=roe(n,t.outerRadius,u),x=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},aoe=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function soe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ooe=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var n=lt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=wy(e,Kse);return b.createElement(Uu,pl({},i,{type:"linear",className:n}))},loe=(t,e,n)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),b.isValidElement(r)))return r;var i=lt("recharts-pie-label-text",soe(t));return b.createElement(Pd,pl({},e,{alignmentBaseline:"middle",className:i}),r)};function coe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=nn(n),f=Fs(i),h=Fs(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((x,_)=>{var A=(x.startAngle+x.endAngle)/2,S=Pt(x.cx,x.cy,x.outerRadius+p,A),E=En(En(En(En({},u),x),{},{stroke:"none"},f),{},{index:_,textAnchor:noe(S.x,x.cx)},S),C=En(En(En(En({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:_,points:[Pt(x.cx,x.cy,x.outerRadius,A),S],key:"line"});return b.createElement(Jn,{zIndex:cn.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},b.createElement(Rt,null,s&&ooe(s,C),loe(i,E,jt(x,l))))});return b.createElement(Rt,{className:"recharts-pie-labels"},g)}function uoe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(Nm,{label:i}):b.createElement(coe,{sectors:e,props:n,showLabels:r})}function doe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=Le(ml),f=Le(IA),h=Le(bne),{onMouseEnter:p,onClick:g,onMouseLeave:x}=i,_=wy(i,Gse),A=YA(p,i.dataKey,l),S=WA(x),E=XA(g,i.dataKey,l);return e==null||e.length===0?null:b.createElement(b.Fragment,null,e.map((C,V)=>{if(C?.startAngle===0&&C?.endAngle===0&&e.length!==1)return null;var D=h==null||h===l,B=String(V)===u&&(f==null||i.dataKey===f)&&D,$=u?r:null,z=n&&B?n:$,N=En(En({},C),{},{stroke:C.stroke,tabIndex:-1,[k3]:V,[M3]:l});return b.createElement(Rt,pl({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(V),tabIndex:-1,className:"recharts-pie-sector"},Pc(_,C,V),{onMouseEnter:A(C,V),onMouseLeave:S(C,V),onClick:E(C,V)}),b.createElement(GA,pl({option:s??z,index:V,shapeType:"sector",isActive:B},N)))}))}function foe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),_=aoe(u,f),A=Math.abs(_),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,E=r.filter(z=>jt(z,h,0)!==0).length,C=(A>=360?E:E-1)*S,V=A-E*x-C,D=r.reduce((z,N)=>{var j=jt(N,h,0);return z+($e(j)?j:0)},0),B;if(D>0){var $;B=r.map((z,N)=>{var j=jt(z,h,0),k=jt(z,p,N),I=ioe(n,s,z),P=($e(j)?j:0)/D,L,M=En(En({},z),i&&i[N]&&i[N].props);N?L=$.endAngle+sr(_)*S*(j!==0?1:0):L=u;var re=L+sr(_)*((j!==0?x:0)+P*V),K=(L+re)/2,G=(I.innerRadius+I.outerRadius)/2,ee=[{name:k,value:j,payload:M,dataKey:h,type:g,graphicalItemId:n.id}],pe=Pt(I.cx,I.cy,G,K);return $=En(En(En(En({},n.presentationProps),{},{percent:P,cornerRadius:typeof l=="string"?parseFloat(l):l,name:k,tooltipPayload:ee,midAngle:K,middleRadius:G,tooltipPosition:pe},M),I),{},{value:j,dataKey:h,startAngle:L,endAngle:re,payload:M,paddingAngle:sr(_)*S}),$})}return B}function hoe(t){var{showLabels:e,sectors:n,children:r}=t,i=b.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return b.createElement(Vie,{value:e?i:void 0},r)}function moe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:x}=e,_=Rc(e,"recharts-pie-"),A=n.current,[S,E]=b.useState(!1),C=b.useCallback(()=>{typeof x=="function"&&x(),E(!1)},[x]),V=b.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]);return b.createElement(hoe,{showLabels:!S,sectors:i},b.createElement(Ic,{animationId:_,begin:l,duration:u,isActive:s,easing:f,onAnimationStart:V,onAnimationEnd:C,key:_},D=>{var B=[],$=i&&i[0],z=$?.startAngle;return i?.forEach((N,j)=>{var k=A&&A[j],I=j>0?xc(N,"paddingAngle",0):0;if(k){var P=_t(k.endAngle-k.startAngle,N.endAngle-N.startAngle,D),L=En(En({},N),{},{startAngle:z+I,endAngle:z+P+I});B.push(L),z=L.endAngle}else{var{endAngle:M,startAngle:re}=N,K=_t(0,M-re,D),G=En(En({},N),{},{startAngle:z+I,endAngle:z+K+I});B.push(G),z=G.endAngle}}),n.current=B,b.createElement(Rt,null,b.createElement(doe,{sectors:B,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),b.createElement(uoe,{showLabels:!S,sectors:i,props:e}),e.children)}var poe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:cn.area};function goe(t){var{id:e}=t,n=wy(t,Yse),{hide:r,className:i,rootTabIndex:s}=t,l=b.useMemo(()=>HA(t.children,jm),[t.children]),u=Le(p=>fse(p,e,l)),f=b.useRef(null),h=lt("recharts-pie",i);return r||u==null?(f.current=null,b.createElement(Rt,{tabIndex:s,className:h})):b.createElement(Jn,{zIndex:t.zIndex},b.createElement(toe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),b.createElement(Rt,{tabIndex:s,className:h},b.createElement(moe,{props:En(En({},n),{},{sectors:u}),previousSectorsRef:f,id:e})))}function Uz(t){var e=rn(t,poe),{id:n}=e,r=wy(e,Wse),i=nn(r);return b.createElement(Om,{id:n,type:"pie"},s=>b.createElement(b.Fragment,null,b.createElement($z,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),b.createElement(eoe,pl({},r,{id:s})),b.createElement(goe,pl({},r,{id:s}))))}Uz.displayName="Pie";var voe=["points"];function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yoe(t,e,n){return(e=boe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function boe(t){var e=xoe(t,"string");return typeof e=="symbol"?e:e+""}function xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(null,arguments)}function woe(t,e){if(t==null)return{};var n,r,i=_oe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _oe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Soe(t){var{option:e,dotProps:n,className:r}=t;if(b.isValidElement(e))return b.cloneElement(e,n);if(typeof e=="function")return e(n);var i=lt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=woe(s,voe);return b.createElement(VA,Z0({},u,{className:i}))}function Eoe(t,e){return t==null?!1:e?!0:t.length===1}function ZA(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:f,zIndex:h=cn.scatter}=t;if(!Eoe(e,n))return null;var p=KA(n),g=LH(n),x=e.map((A,S)=>{var E,C,V=ww(ww(ww({r:3},l),g),{},{index:S,cx:(E=A.x)!==null&&E!==void 0?E:void 0,cy:(C=A.y)!==null&&C!==void 0?C:void 0,dataKey:s,value:A.value,payload:A.payload,points:e});return b.createElement(Soe,{key:"dot-".concat(S),option:n,dotProps:V,className:i})}),_={};return u&&f!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),b.createElement(Jn,{zIndex:h},b.createElement(Rt,Z0({className:r},_),x))}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e,n){return(e=Toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Toe(t){var e=joe(t,"string");return typeof e=="symbol"?e:e+""}function joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bz=0,Noe={xAxis:{},yAxis:{},zAxis:{}},qz=oi({name:"cartesianAxis",initialState:Noe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:mn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:mn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:mn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:mn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:mn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:mn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:mn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:mn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:mn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=iM(iM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Coe,replaceXAxis:Ooe,removeXAxis:Poe,addYAxis:Ioe,replaceYAxis:Roe,removeYAxis:koe,addZAxis:Mpe,replaceZAxis:Dpe,removeZAxis:Lpe,updateYAxisWidth:Moe}=qz.actions,Doe=qz.reducer,Loe=oe([Yn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),zoe=oe([Loe,no,ro],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),_y=()=>Le(zoe),Voe=()=>Le(Ene);function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=Uoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uoe(t){var e=Boe(t,"string");return typeof e=="symbol"?e:e+""}function Boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qoe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=_w(_w(_w({},u),Fs(i)),pE(i)),h;return b.isValidElement(i)?h=b.cloneElement(i,f):typeof i=="function"?h=i(f):h=b.createElement(VA,f),b.createElement(Rt,{className:"recharts-active-dot",clipPath:l},h)};function ev(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=cn.activeDot}=t,u=Le(ml),f=Voe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return Xt(h)?null:b.createElement(Jn,{zIndex:l},b.createElement(qoe,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){Foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Foe(t,e,n){return(e=Hoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hoe(t){var e=Koe(t,"string");return typeof e=="symbol"?e:e+""}function Koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fz=(t,e)=>Id(t,"radiusAxis",e),Goe=oe([Fz],t=>{if(t!=null)return{scale:t}}),Yoe=oe([vm,Fz],(t,e)=>{if(!(t==null||e==null))return tv(tv({},t),{},{scale:e})}),Woe=(t,e,n,r)=>Rd(t,"radiusAxis",e,r),Hz=(t,e,n)=>Sd(t,n),Kz=(t,e,n)=>Id(t,"angleAxis",n),Xoe=oe([Hz,Kz],(t,e)=>{if(!(t==null||e==null))return tv(tv({},t),{},{scale:e})}),Qoe=(t,e,n,r)=>Rd(t,"angleAxis",n,r),Joe=oe([Hz,Kz,Ed],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Zoe=(t,e,n,r,i)=>i,ele=oe([ct,Yoe,Woe,Xoe,Qoe],(t,e,n,r,i)=>ya(t,"radiusAxis")?Za(e,n,!1):Za(r,i,!1)),tle=oe([$A,Zoe],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n?.dataKey}}),nle=oe([Goe,Joe,pm,tle,ele],(t,e,n,r,i)=>{var{chartData:s,dataStartIndex:l,dataEndIndex:u}=n;if(!(t==null||e==null||s==null||i==null||r==null)){var f=s.slice(l,u+1);return fle({radiusAxis:t,angleAxis:e,displayedData:f,dataKey:r,bandSize:i})}}),rle=["id"];function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(null,arguments)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ile(t,e,n){return(e=ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t){var e=sle(t,"string");return typeof e=="symbol"?e:e+""}function sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ole(t,e){if(t==null)return{};var n,r,i=lle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function e2(t,e){return t&&t!=="none"?t:e}var cle=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:e2(r,i),value:rs(n,e),payload:t}]},ule=b.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,tooltipType:u,id:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:rs(s,e),hide:l,type:u,color:e2(n,i),unit:"",graphicalItemId:f}};return b.createElement(Cm,{tooltipEntrySettings:h})});function dle(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n,{id:s}=n,l=ole(n,rle),u=nn(l);return b.createElement(ZA,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:u})}function fle(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:s}=t,{cx:l,cy:u}=n,f=!1,h=[],p=n.type!=="number"?s??0:0;r.forEach((x,_)=>{var A=jt(x,n.dataKey,_),S=jt(x,i),E=n.scale(A)+p,C=Array.isArray(S)?Tz(S):S,V=Xt(C)?0:e.scale(C);Array.isArray(S)&&S.length>=2&&(f=!0),h.push(ii(ii({},Pt(l,u,V,E)),{},{name:A,value:S,cx:l,cy:u,radius:V,angle:E,payload:x}))});var g=[];return f&&h.forEach(x=>{if(Array.isArray(x.value)){var _=x.value[0],A=Xt(_)?0:e.scale(_);g.push(ii(ii({},x),{},{radius:A},Pt(l,u,A,x.angle)))}else g.push(x)}),{points:h,isRange:f,baseLinePoints:g}}function hle(t){var{showLabels:e,points:n,children:r}=t,i=n.map(s=>{var l,u={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return ii(ii({},u),{},{value:(l=s.value)!==null&&l!==void 0?l:"",payload:s.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return b.createElement(yy,{value:e?i:void 0},r)}function mle(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:s,connectNulls:l}=r,u=p=>{var{onMouseEnter:g}=r;g&&g(r,p)},f=p=>{var{onMouseLeave:g}=r;g&&g(r,p)},h;return b.isValidElement(i)?h=b.cloneElement(i,ii(ii({},r),{},{points:e})):typeof i=="function"?h=i(ii(ii({},r),{},{points:e})):h=b.createElement(Cz,zh({},On(r),{onMouseEnter:u,onMouseLeave:f,points:e,baseLinePoints:s?n:void 0,connectNulls:l})),b.createElement(Rt,{className:"recharts-radar-polygon"},h,b.createElement(dle,{props:r,points:e}))}var lM=(t,e,n)=>(r,i)=>{var s=t&&t[Math.floor(i*e)];return s?ii(ii({},r),{},{x:_t(s.x,r.x,n),y:_t(s.y,r.y,n)}):ii(ii({},r),{},{x:_t(r.cx,r.x,n),y:_t(r.cy,r.y,n)})};function ple(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:s,isAnimationActive:l,animationBegin:u,animationDuration:f,animationEasing:h,onAnimationEnd:p,onAnimationStart:g}=e,x=n.current,_=r.current,A=x?x.length/i.length:1,S=_?_.length/s.length:1,E=Rc(e,"recharts-radar-"),[C,V]=b.useState(!1),D=!C,B=b.useCallback(()=>{typeof p=="function"&&p(),V(!1)},[p]),$=b.useCallback(()=>{typeof g=="function"&&g(),V(!0)},[g]);return b.createElement(hle,{showLabels:D,points:i},b.createElement(Ic,{animationId:E,begin:u,duration:f,isActive:l,easing:h,key:"radar-".concat(E),onAnimationEnd:B,onAnimationStart:$},z=>{var N=z===1?i:i.map(lM(x,A,z)),j=z===1?s:s?.map(lM(_,S,z));return z>0&&(n.current=N,r.current=j),b.createElement(mle,{points:N,baseLinePoints:j,props:e})}),b.createElement(Nm,{label:e.label}),e.children)}function gle(t){var e=b.useRef(void 0),n=b.useRef(void 0);return b.createElement(ple,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var vle={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:cn.area};function yle(t){var{hide:e,className:n,points:r}=t;if(e)return null;var i=lt("recharts-radar",n);return b.createElement(Jn,{zIndex:t.zIndex},b.createElement(Rt,{className:i},b.createElement(gle,t)),b.createElement(ev,{points:r,mainColor:e2(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function ble(t){var e=Bn(),n=Le(r=>nle(r,t.radiusAxisId,t.angleAxisId,e,t.id));return n?.points==null?null:b.createElement(yle,zh({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}function eh(t){var e=rn(t,vle);return b.createElement(Om,{id:e.id,type:"radar"},n=>b.createElement(b.Fragment,null,b.createElement($z,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),b.createElement(zz,{legendPayload:cle(e)}),b.createElement(ule,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),b.createElement(ble,zh({},e,{id:n}))))}eh.displayName="Radar";var cM=(t,e,n)=>{var r=n??t;if(!Xt(r))return Rr(r,e,0)},xle=(t,e,n)=>{var r={},i=t.filter(cy),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,x=g.map(A=>A.dataKey),_=cM(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:_}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=cM(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...f]};function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return(e=_le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _le(t){var e=Sle(t,"string");return typeof e=="symbol"?e:e+""}function Sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ele(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Rr(t,n,0,!0),u,f=[];if(Qt(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((C,V)=>C+(V.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,_={offset:x-l,size:0};u=r.reduce((C,V)=>{var D,B={stackId:V.stackId,dataKeys:V.dataKeys,position:{offset:_.offset+_.size+l,size:h?p:(D=V.barSize)!==null&&D!==void 0?D:0}},$=[...C,B];return _=$[$.length-1].position,$},f)}else{var A=Rr(e,n,0,!0);n-2*A-(s-1)*l<=0&&(l=0);var S=(n-2*A-(s-1)*l)/s;S>1&&(S>>=0);var E=Qt(i)?Math.min(S,i):S;u=r.reduce((C,V,D)=>[...C,{stackId:V.stackId,dataKeys:V.dataKeys,position:{offset:A+(S+l)*D+(S-E)/2,size:E}}],f)}return u}}var Ale=(t,e,n,r,i,s,l)=>{var u=Xt(l)?e:l,f=Ele(n,r,i!==s?i:s,t,u);return i!==s&&f!=null&&(f=f.map(h=>xg(xg({},h),{},{position:xg(xg({},h.position),{},{offset:h.position.offset-i/2})}))),f},Tle=(t,e)=>{var n=ly(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function jle(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Qt(t.zIndex)?t.zIndex:e}var Gz=t=>{var{chartData:e}=t,n=Kt(),r=Bn();return b.useEffect(()=>r?()=>{}:(n(ek(e)),()=>{n(ek(void 0))}),[e,n,r]),null},dM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Yz=oi({name:"brush",initialState:dM,reducers:{setBrushSettings(t,e){return e.payload==null?dM:e.payload}}}),{setBrushSettings:zpe}=Yz.actions,Nle=Yz.reducer;function Cle(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Ple(t,"string");return typeof e=="symbol"?e:e+""}function Ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class t2{static create(e){return new t2(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Cle(t2,"EPS",1e-4);function Ile(t){return(t%180+180)%180}var Rle=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ile(i),l=s*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},kle={dots:[],areas:[],lines:[]},Wz=oi({name:"referenceElements",initialState:kle,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=fa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=fa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=fa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Vpe,removeDot:$pe,addArea:Upe,removeArea:Bpe,addLine:qpe,removeLine:Fpe}=Wz.actions,Mle=Wz.reducer,Dle=b.createContext(void 0),Lle=t=>{var{children:e}=t,[n]=b.useState("".concat(_h("recharts"),"-clip")),r=_y();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return b.createElement(Dle.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function Xz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function zle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Rle(r,n)}function Vle(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function Vh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function $le(t,e){return Xz(t,e+1)}function Ule(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,f=0,h=1,p=l,g=function(){var A=r?.[f];if(A===void 0)return{v:Xz(r,h)};var S=f,E,C=()=>(E===void 0&&(E=n(A,S)),E),V=A.coordinate,D=f===0||Vh(t,V,C,p,u);D||(f=0,p=l,h+=1),D&&(p=V+t*(C()/2+i),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function Ble(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:f}=e,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,x=!0,_=function(){var V=r[A],D=A,B,$=()=>(B===void 0&&(B=n(V,D)),B),z=V.coordinate,N=A===p||Vh(t,z,$,g,f);if(!N)return x=!1,1;N&&(g=z+t*($()/2+i))},A=p;A<l&&!_();A+=h);if(x){for(var S=[],E=p;E<l;E+=h)S.push(r[E]);return S}}return[]}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e,n){return(e=Fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fle(t){var e=Hle(t,"string");return typeof e=="symbol"?e:e+""}function Hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kle(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:f}=e,h=function(x){var _=s[x],A,S=()=>(A===void 0&&(A=n(_,x)),A);if(x===l-1){var E=t*(_.coordinate+t*S()/2-f);s[x]=_=Nr(Nr({},_),{},{tickCoord:E>0?_.coordinate-E*t:_.coordinate})}else s[x]=_=Nr(Nr({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=Vh(t,_.tickCoord,S,u,f);C&&(f=_.tickCoord-t*(S()/2+i),s[x]=Nr(Nr({},_),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Gle(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:f,end:h}=e;if(s){var p=r[u-1],g=n(p,u-1),x=t*(p.coordinate+t*g/2-h);if(l[u-1]=p=Nr(Nr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var _=Vh(t,p.tickCoord,()=>g,f,h);_&&(h=p.tickCoord-t*(g/2+i),l[u-1]=Nr(Nr({},p),{},{isShow:!0}))}}for(var A=s?u-1:u,S=function(V){var D=l[V],B,$=()=>(B===void 0&&(B=n(D,V)),B);if(V===0){var z=t*(D.coordinate-t*$()/2-f);l[V]=D=Nr(Nr({},D),{},{tickCoord:z<0?D.coordinate-z*t:D.coordinate})}else l[V]=D=Nr(Nr({},D),{},{tickCoord:D.coordinate});if(D.tickCoord!=null){var N=Vh(t,D.tickCoord,$,f,h);N&&(f=D.tickCoord+t*($()/2+i),l[V]=Nr(Nr({},D),{},{isShow:!0}))}},E=0;E<A;E++)S(E);return l}function n2(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if($e(f)||um.isSsr){var x;return(x=$le(i,$e(f)?f:0))!==null&&x!==void 0?x:[]}var _=[],A=u==="top"||u==="bottom"?"width":"height",S=p&&A==="width"?oh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(D,B)=>{var $=typeof h=="function"?h(D.value,B):D.value;return A==="width"?zle(oh($,{fontSize:e,letterSpacing:n}),S,g):oh($,{fontSize:e,letterSpacing:n})[A]},C=i.length>=2?sr(i[1].coordinate-i[0].coordinate):1,V=Vle(s,C,A);return f==="equidistantPreserveStart"?Ule(C,V,E,i,l):f==="equidistantPreserveEnd"?Ble(C,V,E,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=Gle(C,V,E,i,l,f==="preserveStartEnd"):_=Kle(C,V,E,i,l),_.filter(D=>D.isShow))}var Yle=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+s,h=l+f+u+(n?r:0);return Math.round(h)}return 0},Wle=["axisLine","width","height","className","hide","ticks","axisType"];function Xle(t,e){if(t==null)return{};var n,r,i=Qle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(null,arguments)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){Jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e,n){return(e=Zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=ece(t,"string");return typeof e=="symbol"?e:e+""}function ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ls={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cn.axis};function tce(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=zn(zn(zn({},f),nn(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=zn(zn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=zn(zn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return b.createElement("line",Tc({},h,{className:lt("recharts-cartesian-axis-line",xc(u,"className"))}))}function nce(t,e,n,r,i,s,l,u,f){var h,p,g,x,_,A,S=u?-1:1,E=t.tickSize||l,C=$e(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!u*i,g=x-S*E,A=g-S*f,_=C;break;case"left":g=x=t.coordinate,p=e+ +!u*r,h=p-S*E,_=h-S*f,A=C;break;case"right":g=x=t.coordinate,p=e+ +u*r,h=p+S*E,_=h+S*f,A=C;break;default:h=p=t.coordinate,x=n+ +u*i,g=x+S*E,A=g+S*f,_=C;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:_,y:A}}}function rce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function ice(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ace(t){var{option:e,tickProps:n,value:r}=t,i,s=lt(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))i=b.cloneElement(e,zn(zn({},n),{},{className:s}));else if(typeof e=="function")i=e(zn(zn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=lt(l,e?.className)),i=b.createElement(Pd,Tc({},n,{className:l}),r)}return i}var sce=b.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:_,width:A,height:S,tickSize:E,tickMargin:C,fontSize:V,letterSpacing:D,getTicksConfig:B,events:$,axisType:z}=t,N=n2(zn(zn({},B),{},{ticks:n}),V,D),j=rce(p,g),k=ice(p,g),I=nn(B),P=Fs(r),L={};typeof i=="object"&&(L=i);var M=zn(zn({},I),{},{fill:"none"},L),re=N.map(ee=>zn({entry:ee},nce(ee,x,_,A,S,p,E,g,C))),K=re.map(ee=>{var{entry:pe,line:le}=ee;return b.createElement(Rt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},i&&b.createElement("line",Tc({},M,le,{className:lt("recharts-cartesian-axis-tick-line",xc(i,"className"))})))}),G=re.map((ee,pe)=>{var{entry:le,tick:J}=ee,U=zn(zn(zn(zn({textAnchor:j,verticalAnchor:k},I),{},{stroke:"none",fill:s},P),J),{},{index:pe,payload:le,visibleTicksCount:N.length,tickFormatter:l,padding:f},h);return b.createElement(Rt,Tc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},Pc($,le,pe)),r&&b.createElement(ace,{option:r,tickProps:U,value:"".concat(typeof l=="function"?l(le.value,pe):le.value).concat(u||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},G.length>0&&b.createElement(Jn,{zIndex:cn.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},G)),K.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},K))}),oce=b.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:f}=t,h=Xle(t,Wle),[p,g]=b.useState(""),[x,_]=b.useState(""),A=b.useRef(null);b.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return Yle({ticks:A.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=b.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=C;var V=C[0];if(V){var D=window.getComputedStyle(V),B=D.fontSize,$=D.letterSpacing;(B!==p||$!==x)&&(g(B),_($))}}},[p,x]);return l||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Jn,{zIndex:t.zIndex},b.createElement(Rt,{className:lt("recharts-cartesian-axis",s)},b.createElement(tce,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:nn(t)}),b.createElement(sce,{ref:S,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),b.createElement(xie,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},b.createElement(Nie,{label:t.label,labelRef:t.labelRef}),t.children)))}),r2=b.forwardRef((t,e)=>{var n=rn(t,Ls);return b.createElement(oce,Tc({},n,{ref:e}))});r2.displayName="CartesianAxis";var lce=["x1","y1","x2","y2","key"],cce=["offset"],uce=["xAxisId","yAxisId"],dce=["xAxisId","yAxisId"];function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fce(t,e,n){return(e=hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(null,arguments)}function nv(t,e){if(t==null)return{};var n,r,i=pce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return b.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Qz(t){var{option:e,lineItemProps:n}=t,r;if(b.isValidElement(e))r=b.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:f,key:h}=n,p=nv(n,lce),g=(i=nn(p))!==null&&i!==void 0?i:{},{offset:x}=g,_=nv(g,cce);r=b.createElement("line",ac({},_,{x1:s,y1:l,x2:u,y2:f,fill:"none",key:h}))}return r}function vce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=nv(t,uce),f=i.map((h,p)=>{var g=Pr(Pr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return b.createElement(Qz,{key:"line-".concat(p),option:r,lineItemProps:g})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function yce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=nv(t,dce),f=i.map((h,p)=>{var g=Pr(Pr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return b.createElement(Qz,{option:r,lineItemProps:g,key:"line-".concat(p)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function bce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var _=!h[x+1],A=_?i+l-g:h[x+1]-g;if(A<=0)return null;var S=x%e.length;return b.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:A,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function xce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,x)=>g-x);i!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var _=!h[x+1],A=_?i+l-g:h[x+1]-g;if(A<=0)return null;var S=x%n.length;return b.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:A,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var wce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return O3(n2(Pr(Pr(Pr({},Ls),n),{},{ticks:P3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},_ce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return O3(n2(Pr(Pr(Pr({},Ls),n),{},{ticks:P3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Sce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:cn.grid};function Sy(t){var e=jE(),n=NE(),r=$3(),i=Pr(Pr({},rn(t,Sce)),{},{x:$e(t.x)?t.x:r.left,y:$e(t.y)?t.y:r.top,width:$e(t.width)?t.width:r.width,height:$e(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:_}=i,A=Bn(),S=Le(k=>BR(k,"xAxis",s,A)),E=Le(k=>BR(k,"yAxis",l,A));if(!Ja(h)||!Ja(p)||!$e(u)||!$e(f))return null;var C=i.verticalCoordinatesGenerator||wce,V=i.horizontalCoordinatesGenerator||_ce,{horizontalPoints:D,verticalPoints:B}=i;if((!D||!D.length)&&typeof V=="function"){var $=x&&x.length,z=V({yAxis:E?Pr(Pr({},E),{},{ticks:$?x:E.ticks}):void 0,width:e??h,height:n??p,offset:r},$?!0:g);T0(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(D=z)}if((!B||!B.length)&&typeof C=="function"){var N=_&&_.length,j=C({xAxis:S?Pr(Pr({},S),{},{ticks:N?_:S.ticks}):void 0,width:e??h,height:n??p,offset:r},N?!0:g);T0(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(B=j)}return b.createElement(Jn,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(gce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(bce,ac({},i,{horizontalPoints:D})),b.createElement(xce,ac({},i,{verticalPoints:B})),b.createElement(vce,ac({},i,{offset:r,horizontalPoints:D,xAxis:S,yAxis:E})),b.createElement(yce,ac({},i,{offset:r,verticalPoints:B,xAxis:S,yAxis:E}))))}Sy.displayName="CartesianGrid";var Ece={},Jz=oi({name:"errorBars",initialState:Ece,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Hpe,replaceErrorBar:Kpe,removeErrorBar:Gpe}=Jz.actions,Ace=Jz.reducer,Tce=["children"];function jce(t,e){if(t==null)return{};var n,r,i=Nce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Oce=b.createContext(Cce);function Zz(t){var{children:e}=t,n=jce(t,Tce);return b.createElement(Oce.Provider,{value:n},e)}function Ey(t,e){var n,r,i=Le(h=>so(h,t)),s=Le(h=>oo(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function i2(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=_y(),{needClipX:s,needClipY:l,needClip:u}=Ey(e,n);if(!u||!i)return null;var{x:f,y:h,width:p,height:g}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var e9=(t,e,n,r)=>ns(t,"xAxis",e,r),t9=(t,e,n,r)=>ts(t,"xAxis",e,r),n9=(t,e,n,r)=>ns(t,"yAxis",n,r),r9=(t,e,n,r)=>ts(t,"yAxis",n,r),Pce=oe([ct,e9,n9,t9,r9],(t,e,n,r,i)=>ya(t,"xAxis")?Za(e,r,!1):Za(n,i,!1)),Ice=(t,e,n,r,i)=>i;function Rce(t){return t.type==="line"}var kce=oe([bm,Ice],(t,e)=>t.filter(Rce).find(n=>n.id===e)),Mce=oe([ct,e9,n9,t9,r9,kce,Pce,eA],(t,e,n,r,i,s,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:x}=s,_;if(x!=null&&x.length>0?_=x:_=f?.slice(h,p+1),_!=null)return wue({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}});function i9(t){var e=Fs(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var Sw={exports:{}},Ew={};var pM;function Dce(){if(pM)return Ew;pM=1;var t=cd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Ew.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var _=i(null);if(_.current===null){var A={hasValue:!1,value:null};_.current=A}else A=_.current;_=l(function(){function E($){if(!C){if(C=!0,V=$,$=g($),x!==void 0&&A.hasValue){var z=A.value;if(x(z,$))return D=z}return D=$}if(z=D,n(V,$))return z;var N=g($);return x!==void 0&&x(z,N)?(V=$,z):(V=$,D=N)}var C=!1,V,D,B=p===void 0?null:p;return[function(){return E(h())},B===null?void 0:function(){return E(B())}]},[h,p,g,x]);var S=r(f,_[0],_[1]);return s(function(){A.hasValue=!0,A.value=S},[S]),u(S),S},Ew}var gM;function Lce(){return gM||(gM=1,Sw.exports=Dce()),Sw.exports}Lce();function zce(t){t()}function Vce(){let t=null,e=null;return{clear(){t=null,e=null},notify(){zce(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var vM={notify(){},get:()=>[]};function $ce(t,e){let n,r=vM,i=0,s=!1;function l(S){p();const E=r.subscribe(S);let C=!1;return()=>{C||(C=!0,E(),g())}}function u(){r.notify()}function f(){A.onStateChange&&A.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=Vce())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=vM)}function x(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const A={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:_,getListeners:()=>r};return A}var Uce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bce=Uce(),qce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fce=qce(),Hce=()=>Bce||Fce?b.useLayoutEffect:b.useEffect,Kce=Hce();function yM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Gce(t,e){if(yM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!yM(t[n[i]],e[n[i]]))return!1;return!0}var Yce=Symbol.for("react-redux-context"),Wce=typeof globalThis<"u"?globalThis:{};function Xce(){if(!b.createContext)return{};const t=Wce[Yce]??=new Map;let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var Qce=Xce();function Jce(t){const{children:e,context:n,serverState:r,store:i}=t,s=b.useMemo(()=>{const f=$ce(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=b.useMemo(()=>i.getState(),[i]);Kce(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=n||Qce;return b.createElement(u.Provider,{value:s},e)}var Zce=Jce,eue=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function tue(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Pm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(eue.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Gce(t[r],e[r]))return!1}else if(!tue(t[r],e[r]))return!1;return!0}var nue=["id"],rue=["type","layout","connectNulls","needClip","shape"],iue=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(null,arguments)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a2(t,e){if(t==null)return{};var n,r,i=lue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cue=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:rs(n,e),payload:t}]},uue=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:rs(l,e),hide:u,type:h,color:r,unit:f,graphicalItemId:p}};return b.createElement(Cm,{tooltipEntrySettings:g})}),a9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function due(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var fue=(t,e,n)=>{var r=n.reduce((g,x)=>g+x);if(!r)return a9(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>s){u=[...n.slice(0,f),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...due(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function hue(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,f=a2(r,nue),h=nn(f);return b.createElement(ZA,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function mue(t){var{showLabels:e,children:n,points:r}=t,i=b.useMemo(()=>r?.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Va(Va({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(yy,{value:e?i:void 0},n)}function xM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:f,needClip:h,shape:p}=s,g=a2(s,rue),x=Va(Va({},On(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return b.createElement(b.Fragment,null,r?.length>1&&b.createElement(GA,$h({shapeType:"curve",option:p},x,{pathRef:n})),b.createElement(hue,{points:r,clipPathId:e,props:s}))}function pue(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function gue(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:x,width:_,height:A,onAnimationEnd:S,onAnimationStart:E}=n,C=i.current,V=Rc(l,"recharts-line-"),D=b.useRef(V),[B,$]=b.useState(!1),z=!B,N=b.useCallback(()=>{typeof S=="function"&&S(),$(!1)},[S]),j=b.useCallback(()=>{typeof E=="function"&&E(),$(!0)},[E]),k=pue(r.current),I=b.useRef(0);D.current!==V&&(I.current=s.current,D.current=V);var P=I.current;return b.createElement(mue,{points:l,showLabels:z},n.children,b.createElement(Ic,{animationId:V,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:N,onAnimationStart:j,key:V},L=>{var M=_t(P,k+P,L),re=Math.min(M,k),K;if(f)if(u){var G="".concat(u).split(/[,\s]+/gim).map(le=>parseFloat(le));K=fue(re,k,G)}else K=a9(k,re);else K=u==null?void 0:String(u);if(L>0&&k>0&&(i.current=l,s.current=Math.max(s.current,re)),C){var ee=C.length/l.length,pe=L===1?l:l.map((le,J)=>{var U=Math.floor(J*ee);if(C[U]){var Y=C[U];return Va(Va({},le),{},{x:_t(Y.x,le.x,L),y:_t(Y.y,le.y,L)})}return x?Va(Va({},le),{},{x:_t(_*2,le.x,L),y:_t(A/2,le.y,L)}):Va(Va({},le),{},{x:le.x,y:le.y})});return i.current=pe,b.createElement(xM,{props:n,points:pe,clipPathId:e,pathRef:r,strokeDasharray:K})}return b.createElement(xM,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:K})}),b.createElement(Nm,{label:n.label}))}function vue(t){var{clipPathId:e,props:n}=t,r=b.useRef(null),i=b.useRef(0),s=b.useRef(null);return b.createElement(gue,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var yue=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:jt(t.payload,e)}};class bue extends b.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:f,width:h,height:p,id:g,needClip:x,zIndex:_}=this.props;if(e)return null;var A=lt("recharts-line",i),S=g,{r:E,strokeWidth:C}=i9(n),V=KA(n),D=E*2+C,B=x?"url(#clipPath-".concat(V?"":"dots-").concat(S,")"):void 0;return b.createElement(Jn,{zIndex:_},b.createElement(Rt,{className:A},x&&b.createElement("defs",null,b.createElement(i2,{clipPathId:S,xAxisId:s,yAxisId:l}),!V&&b.createElement("clipPath",{id:"clipPath-dots-".concat(S)},b.createElement("rect",{x:f-D/2,y:u-D/2,width:h+D,height:p+D}))),b.createElement(Zz,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:yue,errorBarOffset:0},b.createElement(vue,{props:this.props,clipPathId:S}))),b.createElement(ev,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:B}))}}var s9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:cn.line,type:"linear"};function xue(t){var e=rn(t,s9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,hide:h,isAnimationActive:p,label:g,legendType:x,xAxisId:_,yAxisId:A,id:S}=e,E=a2(e,iue),{needClip:C}=Ey(_,A),V=_y(),D=bl(),B=Bn(),$=Le(I=>Mce(I,_,A,B,S));if(D!=="horizontal"&&D!=="vertical"||$==null||V==null)return null;var{height:z,width:N,x:j,y:k}=V;return b.createElement(bue,$h({},E,{id:S,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:x,xAxisId:_,yAxisId:A,points:$,layout:D,height:z,width:N,left:j,top:k,needClip:C}))}function wue(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((h,p)=>{var g=jt(h,l);if(e==="horizontal"){var x=A0({axis:n,ticks:i,bandSize:u,entry:h,index:p}),_=Xt(g)?null:r.scale(g);return{x,y:_,value:g,payload:h}}var A=Xt(g)?null:n.scale(g),S=A0({axis:r,ticks:s,bandSize:u,entry:h,index:p});return A==null||S==null?null:{x:A,y:S,value:g,payload:h}}).filter(Boolean)}function _ue(t){var e=rn(t,s9),n=Bn();return b.createElement(Om,{id:e.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(QA,{legendPayload:cue(e)}),b.createElement(uue,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),b.createElement(JA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),b.createElement(xue,$h({},e,{id:r}))))}var id=b.memo(_ue,Pm);id.displayName="Line";function is(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Bz}function as(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Bz}var o9=(t,e,n)=>ns(t,"xAxis",is(t,e),n),l9=(t,e,n)=>ts(t,"xAxis",is(t,e),n),c9=(t,e,n)=>ns(t,"yAxis",as(t,e),n),u9=(t,e,n)=>ts(t,"yAxis",as(t,e),n),Sue=oe([ct,o9,c9,l9,u9],(t,e,n,r,i)=>ya(t,"xAxis")?Za(e,r,!1):Za(n,i,!1)),Eue=(t,e)=>e,d9=oe([bm,Eue],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),f9=t=>{var e=ct(t),n=ya(e,"xAxis");return n?"yAxis":"xAxis"},Aue=(t,e)=>{var n=f9(t);return n==="yAxis"?as(t,e):is(t,e)},Tue=(t,e,n)=>G0(t,f9(t),Aue(t,e),n),jue=oe([d9,Tue],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=ly(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),Nue=oe([ct,o9,c9,l9,u9,jue,q6,Sue,d9,_ee],(t,e,n,r,i,s,l,u,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:x}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=f,A;if(_&&_.length>0?A=_:A=p?.slice(g,x+1),A!=null)return Gue({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:A,chartBaseValue:h,bandSize:u})}}),Cue=["id"],Oue=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function h9(t,e){if(t==null)return{};var n,r,i=Pue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iue(t,e,n){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=kue(t,"string");return typeof e=="symbol"?e:e+""}function kue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rv(t,e){return t&&t!=="none"?t:e}var Mue=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:rv(r,i),value:rs(n,e),payload:t}]},Due=b.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:rs(l,e),hide:u,type:h,color:rv(r,s),unit:f,graphicalItemId:p}};return b.createElement(Cm,{tooltipEntrySettings:g})});function Lue(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=nn(r);return b.createElement(ZA,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function zue(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ru(Ru({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return b.createElement(yy,{value:e?i:void 0},n)}function _M(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:f,connectNulls:h,isRange:p}=s,{id:g}=s,x=h9(s,Cue),_=nn(x),A=On(x);return b.createElement(b.Fragment,null,e?.length>1&&b.createElement(Rt,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(Uu,dc({},A,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&b.createElement(Uu,dc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&b.createElement(Uu,dc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),b.createElement(Lue,{points:e,props:x,clipPathId:i}))}function Vue(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,f=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Qt(u)||!Qt(f))return null;var h=r*Math.abs(u-f),p=Math.max(...s.map(g=>g.x||0));return $e(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),$e(p)?b.createElement("rect",{x:0,y:u<f?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}function $ue(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,f=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Qt(u)||!Qt(f))return null;var h=r*Math.abs(u-f),p=Math.max(...s.map(g=>g.y||0));return $e(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),$e(p)?b.createElement("rect",{x:u<f?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function Uue(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?b.createElement(Vue,{alpha:e,points:r,baseLine:i,strokeWidth:s}):b.createElement($ue,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Bue(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:x,onAnimationEnd:_}=r,A=b.useMemo(()=>({points:l,baseLine:u}),[l,u]),S=Rc(A,"recharts-area-"),E=VW(),[C,V]=b.useState(!1),D=!C,B=b.useCallback(()=>{typeof _=="function"&&_(),V(!1)},[_]),$=b.useCallback(()=>{typeof x=="function"&&x(),V(!0)},[x]);if(E==null)return null;var z=i.current,N=s.current;return b.createElement(zue,{showLabels:D,points:l},r.children,b.createElement(Ic,{animationId:S,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:B,onAnimationStart:$,key:S},j=>{if(z){var k=z.length/l.length,I=j===1?l:l.map((L,M)=>{var re=Math.floor(M*k);if(z[re]){var K=z[re];return Ru(Ru({},L),{},{x:_t(K.x,L.x,j),y:_t(K.y,L.y,j)})}return L}),P;return $e(u)?P=_t(N,u,j):Xt(u)||Hi(u)?P=_t(N,0,j):P=u.map((L,M)=>{var re=Math.floor(M*k);if(Array.isArray(N)&&N[re]){var K=N[re];return Ru(Ru({},L),{},{x:_t(K.x,L.x,j),y:_t(K.y,L.y,j)})}return L}),j>0&&(i.current=I,s.current=P),b.createElement(_M,{points:I,baseLine:P,needClip:e,clipPathId:n,props:r})}return j>0&&(i.current=l,s.current=u),b.createElement(Rt,null,f&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(Uue,{alpha:j,points:l,baseLine:u,layout:E,strokeWidth:r.strokeWidth}))),b.createElement(Rt,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(_M,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),b.createElement(Nm,{label:r.label}))}function que(t){var{needClip:e,clipPathId:n,props:r}=t,i=b.useRef(null),s=b.useRef();return b.createElement(Bue,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Fue extends b.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:f,yAxisId:h,width:p,height:g,id:x,baseLine:_,zIndex:A}=this.props;if(e)return null;var S=lt("recharts-area",i),E=x,{r:C,strokeWidth:V}=i9(n),D=KA(n),B=C*2+V,$=u?"url(#clipPath-".concat(D?"":"dots-").concat(E,")"):void 0;return b.createElement(Jn,{zIndex:A},b.createElement(Rt,{className:S},u&&b.createElement("defs",null,b.createElement(i2,{clipPathId:E,xAxisId:f,yAxisId:h}),!D&&b.createElement("clipPath",{id:"clipPath-dots-".concat(E)},b.createElement("rect",{x:l-B/2,y:s-B/2,width:p+B,height:g+B}))),b.createElement(que,{needClip:u,clipPathId:E,props:this.props})),b.createElement(ev,{points:r,mainColor:rv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}),this.props.isRange&&Array.isArray(_)&&b.createElement(ev,{points:_,mainColor:rv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}))}}var m9={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:cn.area};function Hue(t){var e,n=rn(t,m9),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:x,legendType:_,stroke:A,xAxisId:S,yAxisId:E}=n,C=h9(n,Oue),V=bl(),D=az(),{needClip:B}=Ey(S,E),$=Bn(),{points:z,isRange:N,baseLine:j}=(e=Le(re=>Nue(re,t.id,$)))!==null&&e!==void 0?e:{},k=_y();if(V!=="horizontal"&&V!=="vertical"||k==null||D!=="AreaChart"&&D!=="ComposedChart")return null;var{height:I,width:P,x:L,y:M}=k;return!z||!z.length?null:b.createElement(Fue,dc({},C,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:j,connectNulls:u,dot:f,fill:h,fillOpacity:p,height:I,hide:g,layout:V,isAnimationActive:x==="auto"?!um.isSsr:x,isRange:N,legendType:_,needClip:B,points:z,stroke:A,width:P,left:L,top:M,xAxisId:S,yAxisId:E}))}var Kue=(t,e,n,r,i)=>{var s=n??e;if($e(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Gue(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:x,bandSize:_}=t,A=i&&i.length,S=Kue(s,l,n,u,f),E=s==="horizontal",C=!1,V=h.map((B,$)=>{var z,N,j;if(A)j=i[p+$];else{var k=jt(B,r);Array.isArray(k)?(j=k,C=!0):j=[S,k]}var I=(z=(N=j)===null||N===void 0?void 0:N[1])!==null&&z!==void 0?z:null,P=I==null||A&&!e&&jt(B,r)==null;return E?{x:A0({axis:u,ticks:g,bandSize:_,entry:B,index:$}),y:P?null:f.scale(I),value:j,payload:B}:{x:P?null:u.scale(I),y:A0({axis:f,ticks:x,bandSize:_,entry:B,index:$}),value:j,payload:B}}),D;return A||C?D=V.map(B=>{var $=Array.isArray(B.value)?B.value[0]:null;return E?{x:B.x,y:$!=null&&B.y!=null?f.scale($):null,payload:B.payload}:{x:$!=null?u.scale($):null,y:B.y,payload:B.payload}}):D=E?f.scale(S):u.scale(S),{points:V,baseLine:D,isRange:C}}function Yue(t){var e=rn(t,m9),n=Bn();return b.createElement(Om,{id:e.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(QA,{legendPayload:Mue(e)}),b.createElement(Due,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),b.createElement(JA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:I3(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),b.createElement(Hue,dc({},e,{id:r}))))}var s2=b.memo(Yue,Pm);s2.displayName="Area";var Wue="Invariant failed";function Xue(t,e){throw new Error(Wue)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(null,arguments)}function iv(t){return b.createElement(GA,X_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Que=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if($e(e))return e;var s=$e(r)||Xt(r);return s?e(r,i):(s||Xue(),n)}},Jue=(t,e,n)=>n,Zue=(t,e)=>e,Im=oe([bm,Zue],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ede=oe([Im],t=>t?.maxBarSize),tde=(t,e,n,r)=>r,nde=oe([ct,bm,is,as,Jue],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),rde=(t,e,n)=>{var r=ct(t),i=is(t,e),s=as(t,e);if(!(i==null||s==null))return r==="horizontal"?G0(t,"yAxis",s,n):G0(t,"xAxis",i,n)},ide=(t,e)=>{var n=ct(t),r=is(t,e),i=as(t,e);if(!(r==null||i==null))return n==="horizontal"?UR(t,"xAxis",r):UR(t,"yAxis",i)},ade=oe([nde,wee,ide],xle),sde=(t,e,n)=>{var r,i,s=Im(t,e);if(s!=null){var l=is(t,e),u=as(t,e);if(!(l==null||u==null)){var f=ct(t),h=iL(t),{maxBarSize:p}=s,g=Xt(p)?h:p,x,_;return f==="horizontal"?(x=ns(t,"xAxis",l,n),_=ts(t,"xAxis",l,n)):(x=ns(t,"yAxis",u,n),_=ts(t,"yAxis",u,n)),(r=(i=Za(x,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},p9=(t,e,n)=>{var r=ct(t),i=is(t,e),s=as(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=ns(t,"xAxis",i,n),u=ts(t,"xAxis",i,n)):(l=ns(t,"yAxis",s,n),u=ts(t,"yAxis",s,n)),Za(l,u)}},ode=oe([ade,iL,xee,aL,sde,p9,ede],Ale),lde=(t,e,n)=>{var r=is(t,e);if(r!=null)return ns(t,"xAxis",r,n)},cde=(t,e,n)=>{var r=as(t,e);if(r!=null)return ns(t,"yAxis",r,n)},ude=(t,e,n)=>{var r=is(t,e);if(r!=null)return ts(t,"xAxis",r,n)},dde=(t,e,n)=>{var r=as(t,e);if(r!=null)return ts(t,"yAxis",r,n)},fde=oe([ode,Im],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),hde=oe([rde,Im],Tle),mde=oe([Yn,AE,lde,cde,ude,dde,fde,ct,q6,p9,hde,Im,tde],(t,e,n,r,i,s,l,u,f,h,p,g,x)=>{var{chartData:_,dataStartIndex:A,dataEndIndex:S}=f;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:E}=g,C;if(E!=null&&E.length>0?C=E:C=_?.slice(A,S+1),C!=null)return qde({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:C,offset:t,cells:x,dataStartIndex:A})}}),pde=["index"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(null,arguments)}function gde(t,e){if(t==null)return{};var n,r,i=vde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g9=b.createContext(void 0),yde=t=>{var e=b.useContext(g9);if(e!=null)return e.stackId;if(t!=null)return I3(t)},bde=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),xde=t=>{var e=b.useContext(g9);if(e!=null){var{stackId:n}=e;return"url(#".concat(bde(n,t),")")}},wde=t=>{var{index:e}=t,n=gde(t,pde),r=xde(e);return b.createElement(Rt,Q_({className:"recharts-bar-stack-layer",clipPath:r},n))},_de=["onMouseEnter","onMouseLeave","onClick"],Sde=["value","background","tooltipPosition"],Ede=["id"],Ade=["onMouseEnter","onClick","onMouseLeave"];function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(null,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tde(t,e,n){return(e=jde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jde(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function av(t,e){if(t==null)return{};var n,r,i=Cde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ode=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:rs(n,e),payload:t}]},Pde=b.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:rs(s,e),hide:l,type:f,color:i,unit:u,graphicalItemId:h}};return b.createElement(Cm,{tooltipEntrySettings:p})});function Ide(t){var e=Le(ml),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=s,h=av(s,_de),p=YA(l,r,s.id),g=WA(u),x=XA(f,r,s.id);if(!i||n==null)return null;var _=Fs(i);return b.createElement(Jn,{zIndex:jle(i,cn.barBackground)},n.map((A,S)=>{var{value:E,background:C,tooltipPosition:V}=A,D=av(A,Sde);if(!C)return null;var B=p(A,S),$=g(A,S),z=x(A,S),N=Vr(Vr(Vr(Vr(Vr({option:i,isActive:String(S)===e},D),{},{fill:"#eee"},C),_),Pc(h,A,S)),{},{onMouseEnter:B,onMouseLeave:$,onClick:z,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return b.createElement(iv,Qs({key:"background-bar-".concat(S)},N))}))}function Rde(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Vr(Vr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return b.createElement(yy,{value:e?i:void 0},n)}function kde(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Le(ml),f=Le(IA),h=n&&String(s)===u&&(f==null||l===f),p=h?n:e;return h?b.createElement(Jn,{zIndex:cn.activeBar},b.createElement(iv,Qs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))):b.createElement(iv,Qs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function Mde(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return b.createElement(iv,Qs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Dde(t){var e,{data:n,props:r}=t,i=(e=nn(r))!==null&&e!==void 0?e:{},{id:s}=i,l=av(i,Ede),{shape:u,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,_=av(r,Ade),A=YA(p,f,s),S=WA(x),E=XA(g,f,s);return n?b.createElement(b.Fragment,null,n.map((C,V)=>b.createElement(wde,Qs({index:V,key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(V),className:"recharts-bar-rectangle"},Pc(_,C,V),{onMouseEnter:A(C,V),onMouseLeave:S(C,V),onClick:E(C,V)}),h?b.createElement(kde,{shape:u,activeBar:h,baseProps:l,entry:C,index:V,dataKey:f}):b.createElement(Mde,{shape:u,baseProps:l,entry:C,index:V,dataKey:f})))):null}function Lde(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=Rc(e,"recharts-bar-"),[_,A]=b.useState(!1),S=!_,E=b.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),C=b.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return b.createElement(Rde,{showLabels:S,rects:r},b.createElement(Ic,{animationId:x,begin:l,duration:u,isActive:s,easing:f,onAnimationEnd:E,onAnimationStart:C,key:x},V=>{var D=V===1?r:r?.map((B,$)=>{var z=g&&g[$];if(z)return Vr(Vr({},B),{},{x:_t(z.x,B.x,V),y:_t(z.y,B.y,V),width:_t(z.width,B.width,V),height:_t(z.height,B.height,V)});if(i==="horizontal"){var N=_t(0,B.height,V),j=_t(B.stackedBarStart,B.y,V);return Vr(Vr({},B),{},{y:j,height:N})}var k=_t(0,B.width,V),I=_t(B.stackedBarStart,B.x,V);return Vr(Vr({},B),{},{width:k,x:I})});return V>0&&(n.current=D??null),D==null?null:b.createElement(Rt,null,b.createElement(Dde,{props:e,data:D}))}),b.createElement(Nm,{label:e.label}),e.children)}function zde(t){var e=b.useRef(null);return b.createElement(Lde,{previousRectanglesRef:e,props:t})}var v9=0,Vde=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:jt(t,e)}};class $de extends b.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:f,id:h}=this.props;if(e||n==null)return null;var p=lt("recharts-bar",i),g=h;return b.createElement(Rt,{className:p,id:h},u&&b.createElement("defs",null,b.createElement(i2,{clipPathId:g,xAxisId:s,yAxisId:l})),b.createElement(Rt,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},b.createElement(Ide,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),b.createElement(zde,this.props)))}}var Ude={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:v9,xAxisId:0,yAxisId:0,zIndex:cn.bar};function Bde(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=Ey(e,n),x=bl(),_=Bn(),A=HA(t.children,jm),S=Le(V=>mde(V,t.id,_,A));if(x!=="vertical"&&x!=="horizontal")return null;var E,C=S?.[0];return C==null||C.height==null||C.width==null?E=0:E=x==="vertical"?C.height/2:C.width/2,b.createElement(Zz,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:Vde,errorBarOffset:E},b.createElement($de,Qs({},t,{layout:x,needClip:g,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function qde(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:_,parentViewBox:A,dataStartIndex:S}=t,E=e==="horizontal"?u:l,C=p?E.scale.domain():null,V=rW({numericAxis:E}),D=E.scale(V);return g.map((B,$)=>{var z,N,j,k,I,P;if(p){var L=p[$+S];if(L==null)return null;z=JY(L,C)}else z=jt(B,n),Array.isArray(z)||(z=[V,z]);var M=Que(r,v9)(z[1],$);if(e==="horizontal"){var re,[K,G]=[u.scale(z[0]),u.scale(z[1])];N=HP({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:B,index:$}),j=(re=G??K)!==null&&re!==void 0?re:void 0,k=i.size;var ee=K-G;if(I=Hi(ee)?0:ee,P={x:N,y:x.top,width:k,height:x.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var pe=sr(I||M)*(Math.abs(M)-Math.abs(I));j-=pe,I+=pe}}else{var[le,J]=[l.scale(z[0]),l.scale(z[1])];if(N=le,j=HP({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:B,index:$}),k=J-le,I=i.size,P={x:x.left,y:j,width:x.width,height:I},Math.abs(M)>0&&Math.abs(k)<Math.abs(M)){var U=sr(k||M)*(Math.abs(M)-Math.abs(k));k+=U}}if(N==null||j==null||k==null||I==null)return null;var Y=Vr(Vr({},B),{},{stackedBarStart:D,x:N,y:j,width:k,height:I,value:p?z:z[1],payload:B,background:P,tooltipPosition:{x:N+k/2,y:j+I/2},parentViewBox:A},_&&_[$]&&_[$].props);return Y}).filter(Boolean)}function Fde(t){var e=rn(t,Ude),n=yde(e.stackId),r=Bn();return b.createElement(Om,{id:e.id,type:"bar"},i=>b.createElement(b.Fragment,null,b.createElement(QA,{legendPayload:Ode(e)}),b.createElement(Pde,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),b.createElement(JA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),b.createElement(Jn,{zIndex:e.zIndex},b.createElement(Bde,Qs({},e,{id:i})))))}var o2=b.memo(Fde,Pm);o2.displayName="Bar";var Hde=["domain","range"],Kde=["domain","range"];function EM(t,e){if(t==null)return{};var n,r,i=Gde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function AM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function y9(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=EM(t,Hde),{domain:s,range:l}=e,u=EM(e,Kde);return!AM(n,s)||!AM(r,l)?!1:Pm(i,u)}var Yde=["dangerouslySetInnerHTML","ticks","scale"],Wde=["id","scale"];function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(null,arguments)}function TM(t,e){if(t==null)return{};var n,r,i=Xde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qde(t){var e=Kt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(Coe(t)):n.current!==t&&e(Ooe({prev:n.current,next:t})),n.current=t},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(Poe(n.current)),n.current=null)},[e]),null}var Jde=t=>{var{xAxisId:e,className:n}=t,r=Le(AE),i=Bn(),s="xAxis",l=Le(C=>DL(C,s,e,i)),u=Le(C=>IL(C,e)),f=Le(C=>wte(C,e)),h=Le(C=>hL(C,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:x}=t,_=TM(t,Yde),{id:A,scale:S}=h,E=TM(h,Wde);return b.createElement(r2,J_({},_,E,{x:f.x,y:f.y,width:u.width,height:u.height,className:lt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Zde={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:Ls.axisLine,height:nr.height,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:Ls.tickLine,tickSize:Ls.tickSize,type:nr.type,xAxisId:0},efe=t=>{var e=rn(t,Zde);return b.createElement(b.Fragment,null,b.createElement(Qde,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),b.createElement(Jde,e))},Ay=b.memo(efe,y9);Ay.displayName="XAxis";var tfe=["dangerouslySetInnerHTML","ticks","scale"],nfe=["id","scale"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(null,arguments)}function jM(t,e){if(t==null)return{};var n,r,i=rfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ife(t){var e=Kt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?e(Ioe(t)):n.current!==t&&e(Roe({prev:n.current,next:t})),n.current=t},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(e(koe(n.current)),n.current=null)},[e]),null}var afe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=b.useRef(null),l=b.useRef(null),u=Le(AE),f=Bn(),h=Kt(),p="yAxis",g=Le(z=>RL(z,e)),x=Le(z=>Ste(z,e)),_=Le(z=>DL(z,p,e,f)),A=Le(z=>mL(z,e));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!g||zA(i)||b.isValidElement(i)||A==null)){var z=s.current;if(z){var N=z.getCalculatedWidth();Math.round(g.width)!==Math.round(N)&&h(Moe({id:e,width:N}))}}},[_,g,h,i,e,r,A]),g==null||x==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:E,scale:C}=t,V=jM(t,tfe),{id:D,scale:B}=A,$=jM(A,nfe);return b.createElement(r2,Z_({},V,$,{ref:s,labelRef:l,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:lt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},sfe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:Ls.axisLine,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:Ls.tickLine,tickSize:Ls.tickSize,type:rr.type,width:rr.width,yAxisId:0},ofe=t=>{var e=rn(t,sfe);return b.createElement(b.Fragment,null,b.createElement(ife,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),b.createElement(afe,e))},ad=b.memo(ofe,y9);ad.displayName="YAxis";var lfe=(t,e)=>e,l2=oe([lfe,ct,Ed,Xn,ZL,lo,Dne,Yn],qne),c2=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},b9=Ki("mouseClick"),x9=om();x9.startListening({actionCreator:b9,effect:(t,e)=>{var n=t.payload,r=l2(e.getState(),c2(n));r?.activeIndex!=null&&e.dispatch(Mte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var eS=Ki("mouseMove"),w9=om(),wg=null;w9.startListening({actionCreator:eS,effect:(t,e)=>{var n=t.payload;wg!==null&&cancelAnimationFrame(wg);var r=c2(n);wg=requestAnimationFrame(()=>{var i=e.getState(),s=TA(i,i.tooltip.settings.shared);if(s==="axis"){var l=l2(i,r);l?.activeIndex!=null?e.dispatch(HL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(FL())}wg=null})}});function cfe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var NM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_9=oi({name:"rootProps",initialState:NM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:NM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),ufe=_9.reducer,{updateOptions:dfe}=_9.actions,S9=oi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:ffe}=S9.actions,hfe=S9.reducer,E9=Ki("keyDown"),A9=Ki("focus"),u2=om();u2.startListening({actionCreator:E9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=jA(i,Od(n),wm(n),Am(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=lo(n);if(s==="Enter"){var h=W0(n,"axis","hover",String(i.index));e.dispatch(U_({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=Ate(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,_=u+x*g;if(!(f==null||_>=f.length||_<0)){var A=W0(n,"axis","hover",String(_));e.dispatch(U_({active:!0,activeIndex:_.toString(),activeCoordinate:A}))}}}}}});u2.startListening({actionCreator:A9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=W0(n,"axis","hover",String(s));e.dispatch(U_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var $i=Ki("externalEvent"),T9=om(),Aw=new Map;T9.startListening({actionCreator:$i,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=Aw.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:wne(u),activeDataKey:IA(u),activeIndex:ml(u),activeLabel:nz(u),activeTooltipIndex:ml(u),isTooltipActive:_ne(u)};n(f,r)}finally{Aw.delete(i)}});Aw.set(i,l)}}});var mfe=oe([Nd],t=>t.tooltipItemPayloads),pfe=oe([mfe,Em,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),j9=Ki("touchMove"),N9=om();N9.startListening({actionCreator:j9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=TA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=l2(r,c2({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(HL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(k3),g=(u=h.getAttribute(M3))!==null&&u!==void 0?u:void 0,x=Cd(r).find(S=>S.id===g);if(p==null||x==null||g==null)return;var{dataKey:_}=x,A=pfe(r,p,g);e.dispatch(qL({activeDataKey:_,activeIndex:p,activeCoordinate:A,activeGraphicalItemId:g}))}}}});var gfe=t3({brush:Nle,cartesianAxis:Doe,chartData:xre,errorBars:Ace,graphicalItems:Fse,layout:KY,legend:eX,options:pre,polarAxis:Nae,polarOptions:hfe,referenceElements:Mle,rootProps:ufe,tooltip:Dte,zIndex:rre}),vfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return vY({reducer:gfe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([x9.middleware,w9.middleware,u2.middleware,T9.middleware,N9.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(g3({type:"raf"}))},devTools:{serialize:{replacer:cfe},name:"recharts-".concat(n)}})};function C9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Bn(),s=b.useRef(null);if(i)return n;s.current==null&&(s.current=vfe(e,r));var l=yE;return b.createElement(Zce,{context:l,store:s.current},n)}function yfe(t){var{layout:e,margin:n}=t,r=Kt(),i=Bn();return b.useEffect(()=>{i||(r(qY(e)),r(BY(n)))},[r,i,e,n]),null}var O9=b.memo(yfe,Pm);function P9(t){var e=Kt();return b.useEffect(()=>{e(dfe(t))},[e,t]),null}function CM(t){var{zIndex:e,isPanorama:n}=t,r=b.useRef(null),i=Kt();return b.useLayoutEffect(()=>(r.current&&i(tre({zIndex:e,element:r.current,isPanorama:n})),()=>{i(nre({zIndex:e,isPanorama:n}))}),[i,e,n]),b.createElement("g",{tabIndex:-1,ref:r})}function OM(t){var{children:e,isPanorama:n}=t,r=Le(Hne);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return b.createElement(b.Fragment,null,i.map(l=>b.createElement(CM,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>b.createElement(CM,{key:l,zIndex:l,isPanorama:n})))}var bfe=["children"];function xfe(t,e){if(t==null)return{};var n,r,i=wfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(null,arguments)}var _fe={width:"100%",height:"100%",display:"block"},Sfe=b.forwardRef((t,e)=>{var n=jE(),r=NE(),i=Q3();if(!Ja(n)||!Ja(r))return null;var{children:s,otherAttributes:l,title:u,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),b.createElement(sE,sv({},l,{title:u,desc:f,role:p,tabIndex:h,width:n,height:r,style:_fe,ref:e}),s)}),Efe=t=>{var{children:e}=t,n=Le(Yv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return b.createElement(sE,{width:r,height:i,x:l,y:s},e)},PM=b.forwardRef((t,e)=>{var{children:n}=t,r=xfe(t,bfe),i=Bn();return i?b.createElement(Efe,null,b.createElement(OM,{isPanorama:!0},n)):b.createElement(Sfe,sv({ref:e},r),b.createElement(OM,{isPanorama:!1},n))});function Afe(){var t=Kt(),[e,n]=b.useState(null),r=Le(cW);return b.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Qt(s)&&s!==r&&t(HY(s))}},[e,t,r]),n}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){jfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jfe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Cfe(t,"string");return typeof e=="symbol"?e:e+""}function Cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}var Ofe=()=>(Cre(),null);function ov(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Pfe=b.forwardRef((t,e)=>{var n,r,i=b.useRef(null),[s,l]=b.useState({containerWidth:ov((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:ov((r=t.style)===null||r===void 0?void 0:r.height)}),u=b.useCallback((h,p)=>{l(g=>{var x=Math.round(h),_=Math.round(p);return g.containerWidth===x&&g.containerHeight===_?g:{containerWidth:x,containerHeight:_}})},[]),f=b.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var x=A=>{var{width:S,height:E}=A[0].contentRect;u(S,E)},_=new ResizeObserver(x);_.observe(h),i.current=_}},[e,u]);return b.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),b.createElement(b.Fragment,null,b.createElement(Xv,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",jc({ref:f},t)))}),Ife=b.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=b.useState({containerWidth:ov(n),containerHeight:ov(r)}),l=b.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),u=b.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return b.createElement(b.Fragment,null,b.createElement(Xv,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",jc({ref:u},t)))}),Rfe=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return b.createElement(b.Fragment,null,b.createElement(Xv,{width:n,height:r}),b.createElement("div",jc({ref:e},t)))}),kfe=b.forwardRef((t,e)=>{var{width:n,height:r}=t;return Hs(n)||Hs(r)?b.createElement(Ife,jc({},t,{ref:e})):b.createElement(Rfe,jc({},t,{ref:e}))});function Mfe(t){return t===!0?Pfe:kfe}var Dfe=b.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:_,onTouchMove:A,onTouchStart:S,style:E,width:C,responsive:V,dispatchTouchEvents:D=!0}=t,B=b.useRef(null),$=Kt(),[z,N]=b.useState(null),[j,k]=b.useState(null),I=Afe(),P=TE(),L=P?.width>0?P.width:C,M=P?.height>0?P.height:i,re=b.useCallback(se=>{I(se),typeof e=="function"&&e(se),N(se),k(se),se!=null&&(B.current=se)},[I,e,N,k]),K=b.useCallback(se=>{$(b9(se)),$($i({handler:s,reactEvent:se}))},[$,s]),G=b.useCallback(se=>{$(eS(se)),$($i({handler:h,reactEvent:se}))},[$,h]),ee=b.useCallback(se=>{$(FL()),$($i({handler:p,reactEvent:se}))},[$,p]),pe=b.useCallback(se=>{$(eS(se)),$($i({handler:g,reactEvent:se}))},[$,g]),le=b.useCallback(()=>{$(A9())},[$]),J=b.useCallback(se=>{$(E9(se.key))},[$]),U=b.useCallback(se=>{$($i({handler:l,reactEvent:se}))},[$,l]),Y=b.useCallback(se=>{$($i({handler:u,reactEvent:se}))},[$,u]),X=b.useCallback(se=>{$($i({handler:f,reactEvent:se}))},[$,f]),Z=b.useCallback(se=>{$($i({handler:x,reactEvent:se}))},[$,x]),ne=b.useCallback(se=>{$($i({handler:S,reactEvent:se}))},[$,S]),fe=b.useCallback(se=>{D&&$(j9(se)),$($i({handler:A,reactEvent:se}))},[$,D,A]),be=b.useCallback(se=>{$($i({handler:_,reactEvent:se}))},[$,_]),Ee=Mfe(V);return b.createElement(uz.Provider,{value:z},b.createElement(y5.Provider,{value:j},b.createElement(Ee,{width:L??E?.width,height:M??E?.height,className:lt("recharts-wrapper",r),style:Tfe({position:"relative",cursor:"default",width:L,height:M},E),onClick:K,onContextMenu:U,onDoubleClick:Y,onFocus:le,onKeyDown:J,onMouseDown:X,onMouseEnter:G,onMouseLeave:ee,onMouseMove:pe,onMouseUp:Z,onTouchEnd:be,onTouchMove:fe,onTouchStart:ne,ref:re},b.createElement(Ofe,null),n)))}),Lfe=["width","height","responsive","children","className","style","compact","title","desc"];function zfe(t,e){if(t==null)return{};var n,r,i=Vfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var I9=b.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:f,title:h,desc:p}=t,g=zfe(t,Lfe),x=nn(g);return f?b.createElement(b.Fragment,null,b.createElement(Xv,{width:n,height:r}),b.createElement(PM,{otherAttributes:x,title:h,desc:p},s)):b.createElement(Dfe,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(PM,{otherAttributes:x,title:h,desc:p,ref:e},b.createElement(Lle,null,s)))});function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(null,arguments)}var $fe={top:5,right:5,bottom:5,left:5},Ufe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:$fe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Bfe=b.forwardRef(function(e,n){var r,i=rn(e.categoricalChartProps,Ufe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(C9,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},b.createElement(Gz,{chartData:h.data}),b.createElement(O9,{layout:i.layout,margin:i.margin}),b.createElement(P9,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(I9,tS({},i,{ref:n})))});function qfe(t){var e=Kt();return b.useEffect(()=>{e(ffe(t))},[e,t]),null}var Ffe=["layout"];function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(null,arguments)}function Hfe(t,e){if(t==null)return{};var n,r,i=Kfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gfe={top:5,right:5,bottom:5,left:5},d2={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},R9=b.forwardRef(function(e,n){var r,i=rn(e.categoricalChartProps,d2),{layout:s}=i,l=Hfe(i,Ffe),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return b.createElement(C9,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},b.createElement(Gz,{chartData:i.data}),b.createElement(O9,{layout:s,margin:i.margin}),b.createElement(P9,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(qfe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(I9,nS({},l,{ref:n})))});function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yfe(t,e,n){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Xfe(t,"string");return typeof e=="symbol"?e:e+""}function Xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qfe=["item"],Jfe=kM(kM({},d2),{},{layout:"centric",startAngle:0,endAngle:360}),Zfe=b.forwardRef((t,e)=>{var n=rn(t,Jfe);return b.createElement(R9,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qfe,tooltipPayloadSearcher:LA,categoricalChartProps:n,ref:e})});function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ehe(t,e,n){return(e=the(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return typeof e=="symbol"?e:e+""}function nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rhe=["axis"],ihe=DM(DM({},d2),{},{layout:"centric",startAngle:90,endAngle:-270}),LM=b.forwardRef((t,e)=>{var n=rn(t,ihe);return b.createElement(R9,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rhe,tooltipPayloadSearcher:LA,categoricalChartProps:n,ref:e})}),ahe=["axis"],f2=b.forwardRef((t,e)=>b.createElement(Bfe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ahe,tooltipPayloadSearcher:LA,categoricalChartProps:t,ref:e}));const she=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ohe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),zM=t=>{const e=ohe(t);return e.charAt(0).toUpperCase()+e.slice(1)},k9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lhe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var che={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uhe=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},f)=>b.createElement("svg",{ref:f,...che,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:k9("lucide",i),...!s&&!lhe(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(s)?s:[s]]));const Ve=(t,e)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(uhe,{ref:s,iconNode:e,className:k9(`lucide-${she(zM(t))}`,`lucide-${t}`,r),...i}));return n.displayName=zM(t),n};const dhe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ai=Ve("activity",dhe);const fhe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],h2=Ve("arrow-left",fhe);const hhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rm=Ve("arrow-right",hhe);const mhe=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ch=Ve("award",mhe);const phe=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m2=Ve("ban",phe);const ghe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vhe=Ve("bell",ghe);const yhe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bhe=Ve("briefcase",yhe);const xhe=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],whe=Ve("bug",xhe);const _he=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],She=Ve("calculator",_he);const Ehe=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ahe=Ve("calendar-off",Ehe);const The=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],co=Ve("calendar",The);const jhe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tw=Ve("chevron-down",jhe);const Nhe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],p2=Ve("chevron-left",Nhe);const Che=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M9=Ve("chevron-right",Che);const Ohe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sd=Ve("circle-alert",Ohe);const Phe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Js=Ve("circle-check-big",Phe);const Ihe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],D9=Ve("circle-question-mark",Ihe);const Rhe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],khe=Ve("clipboard-check",Rhe);const Mhe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dhe=Ve("clock",Mhe);const Lhe=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],L9=Ve("coffee",Lhe);const zhe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],rS=Ve("credit-card",zhe);const Vhe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Uh=Ve("crown",Vhe);const $he=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],z9=Ve("database",$he);const Uhe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zs=Ve("dollar-sign",Uhe);const Bhe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lv=Ve("download",Bhe);const qhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fhe=Ve("file-exclamation-point",qhe);const Hhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V9=Ve("file-text",Hhe);const Khe=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Ghe=Ve("flame",Khe);const Yhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Whe=Ve("frown",Yhe);const Xhe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$9=Ve("funnel",Xhe);const Qhe=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],iS=Ve("heart",Qhe);const Jhe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zhe=Ve("key",Jhe);const eme=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tme=Ve("layers",eme);const nme=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rme=Ve("layout-dashboard",nme);const ime=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],VM=Ve("layout-grid",ime);const ame=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rs=Ve("loader-circle",ame);const sme=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fc=Ve("lock",sme);const ome=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U9=Ve("log-out",ome);const lme=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],g2=Ve("map-pin",lme);const cme=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],v2=Ve("map",cme);const ume=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],dme=Ve("medal",ume);const fme=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hme=Ve("menu",fme);const mme=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],pme=Ve("monitor",mme);const gme=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],vme=Ve("music",gme);const yme=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],B9=Ve("pen",yme);const bme=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xme=Ve("play",bme);const wme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_g=Ve("plus",wme);const _me=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aS=Ve("refresh-cw",_me);const Sme=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],q9=Ve("rotate-ccw",Sme);const Eme=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sl=Ve("save",Eme);const Ame=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],y2=Ve("search",Ame);const Tme=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ty=Ve("settings",Tme);const jme=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Nme=Ve("shopping-bag",jme);const Cme=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ome=Ve("smartphone",Cme);const Pme=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],od=Ve("sparkles",Pme);const Ime=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rme=Ve("square-check-big",Ime);const kme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Mme=Ve("square-pen",kme);const Dme=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$M=Ve("star",Dme);const Lme=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],_i=Ve("store",Lme);const zme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kd=Ve("target",zme);const Vme=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zg=Ve("trash-2",Vme);const $me=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],F9=Ve("trending-down",$me);const Ume=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ld=Ve("trending-up",Ume);const Bme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sl=Ve("triangle-alert",Bme);const qme=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Fme=Ve("trophy",qme);const Hme=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],H9=Ve("upload",Hme);const Kme=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sS=Ve("user-check",Kme);const Gme=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yme=Ve("user-cog",Gme);const Wme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],K9=Ve("user-x",Wme);const Xme=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gl=Ve("user",Xme);const Qme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Md=Ve("users",Qme);const Jme=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ca=Ve("x",Jme);const Zme=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],epe=Ve("zap",Zme),jw=[{id:"cyj",label:"CYJ",pathType:"legacy"},{id:"anniu",label:"",pathType:"standard"},{id:"yibo",label:"",pathType:"standard"}],gr={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},Nc=[{id:"dashboard",label:"",icon:rme},{id:"annual",label:"",icon:co},{id:"targets",label:"",icon:kd},{id:"regional",label:"",icon:v2},{id:"store-analysis",label:"",icon:_i},{id:"ranking",label:"",icon:ld},{id:"audit",label:"",icon:khe},{id:"history",label:"",icon:V9},{id:"input",label:"",icon:H9},{id:"logs",label:"",icon:ai},{id:"t-targets",label:"",icon:Yme},{id:"t-schedule",label:"",icon:Ahe},{id:"settings",label:"",icon:Ty}],tpe={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},Vg={director:Nc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},npe=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},G9=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},wr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},hc=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},yr=t=>t?Number(t.toString().replace(/,/g,"")):0,si=({children:t})=>d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),zt=({title:t,subtitle:e,children:n,className:r=""})=>d.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&d.jsxs("div",{className:"mb-6",children:[t&&d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&d.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),rpe=({message:t,type:e,onClose:n})=>{b.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return d.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?d.jsx(Js,{size:20}):e==="error"?d.jsx(sd,{size:20}):d.jsx(vhe,{size:20}),d.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},ipe=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?d.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[d.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),d.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,lr=qM.createContext(null),ape=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const{currentBrand:f}=b.useContext(lr),h=b.useMemo(()=>{let _="cyj",A="CYJ";f&&(_=typeof f=="string"?f:f.id||"cyj",_.includes("anniu")?(_="anniu",A=""):_.includes("yibo")?(_="yibo",A=""):(_="cyj",A="CYJ"));let S={gradient:"from-amber-400 to-orange-600",shadow:"shadow-orange-200",activeBg:"bg-amber-50",activeText:"text-amber-700",iconColor:"text-amber-600",indicator:"bg-amber-500",logoChar:"C",Icon:Uh};return _==="anniu"?S={gradient:"from-rose-400 to-pink-600",shadow:"shadow-rose-200",activeBg:"bg-rose-50",activeText:"text-rose-700",iconColor:"text-rose-600",indicator:"bg-rose-500",logoChar:"A",Icon:L9}:_==="yibo"&&(S={gradient:"from-yellow-400 to-yellow-600",shadow:"shadow-yellow-200",activeBg:"bg-yellow-50",activeText:"text-yellow-700",iconColor:"text-yellow-600",indicator:"bg-yellow-500",logoChar:"Y",Icon:od}),{id:_,label:A,theme:S}},[f]),{theme:p,label:g}=h,x=b.useMemo(()=>{if(!i)return[];if(i==="director")return Nc;const _=l[i]||[];return Nc.filter(A=>_.includes(A.id))},[i,l]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),d.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[d.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[d.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${p.gradient} rounded-xl flex items-center justify-center shadow-lg ${p.shadow} mr-3 shrink-0 transition-all duration-500`,children:h.id==="cyj"?d.jsx("span",{className:"text-white font-bold text-lg",children:"C"}):d.jsx(p.Icon,{size:18,className:"text-white"})}),d.jsxs("span",{className:`font-extrabold text-lg text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:[g," "]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:x.map(_=>{const A=_.icon,S=t===_.id;return d.jsxs("button",{onClick:()=>{e(_.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${S?`${p.activeBg} ${p.activeText} shadow-sm`:"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":_.label,children:[d.jsx(A,{size:22,className:`shrink-0 transition-colors ${S?p.iconColor:"text-stone-400 group-hover:text-stone-600"}`}),d.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:_.label}),S&&d.jsx("div",{className:`absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 ${p.indicator} rounded-l-full`})]},_.id)})}),d.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[d.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:d.jsx(gl,{size:20,className:"text-stone-400"})}),n&&d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),d.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:gr[i?.toUpperCase()]?.label||i})]})]}),d.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[d.jsx(U9,{size:20}),n&&d.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},spe=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const{currentBrand:s}=b.useContext(lr),l=b.useMemo(()=>{const f=s?.id||"cyj";return f.includes("anniu")?"bg-rose-600 text-white shadow-rose-200":f.includes("yibo")?"bg-yellow-500 text-white shadow-yellow-200":"bg-stone-800 text-white shadow-stone-200"},[s]),u=b.useMemo(()=>{if(!r)return[];if(r==="director")return Nc;const f=n[r]||[];return Nc.filter(h=>f.includes(h.id))},[r,n]);return d.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto no-scrollbar",children:d.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[u.map(f=>{const h=f.icon,p=t===f.id;return d.jsxs("button",{onClick:()=>e(f.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${p?`${l} shadow-md`:"bg-stone-100 text-stone-500"}`,children:[d.jsx(h,{size:14}),f.label]},f.id)}),d.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[d.jsx(U9,{size:14}),""]})]})})},ope={cyj:"16500",anniu:"8888",yibo:"9999"},lpe=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:f,currentBrandId:h,onSwitchBrand:p,therapists:g=[],hasSelectedBrand:x=!1})=>{const[_,A]=b.useState(!x),[S,E]=b.useState("director"),[C,V]=b.useState(""),[D,B]=b.useState(""),[$,z]=b.useState(""),[N,j]=b.useState(!1),[k,I]=b.useState(!1),[P,L]=b.useState(""),[M,re]=b.useState(""),[K,G]=b.useState(""),[ee,pe]=b.useState(""),[le,J]=b.useState(""),[U,Y]=b.useState(""),X=b.useMemo(()=>jw.find(ce=>ce.id===h)||jw[0],[h]),Z=b.useMemo(()=>{switch(h){case"anniu":return{text:"text-rose-900",accent:"bg-rose-600 hover:bg-rose-700",border:"focus:border-rose-400",ring:"focus:ring-rose-100"};case"yibo":return{text:"text-yellow-900",accent:"bg-yellow-500 hover:bg-yellow-600",border:"focus:border-yellow-400",ring:"focus:ring-yellow-100"};default:return{text:"text-stone-800",accent:"bg-stone-800 hover:bg-stone-900",border:"focus:border-stone-400",ring:"focus:ring-stone-100"}}},[h]),ne=ce=>{p&&p(ce),setTimeout(()=>{A(!1)},150)};b.useEffect(()=>{G(""),pe(""),J("")},[S,h]);const fe=b.useMemo(()=>K?n[K]||[]:[],[K,n]),be=b.useMemo(()=>ee?g.filter(ce=>ce.store===ee):[],[ee,g]),Ee=async()=>{z(""),j(!0),await new Promise(ce=>setTimeout(ce,600));try{if(S==="director"){const ce=ope[h]||"0000";C===ce?t("director",{name:`${X.label}`}):z("")}else if(S==="trainer"){const ce=u?.password||"0000";C===ce?t("trainer",{name:""}):z("")}else if(S==="manager"){if(!D){z(""),j(!1);return}const ce=r[D]||"0000";C===ce?t("manager",{name:D}):z("")}else if(S==="store"){if(!D){z(""),j(!1);return}const ce=e.find(Ne=>Ne.id===D);ce&&ce.password===C?t("store",{name:ce.name,storeName:ce.stores?.[0]||ce.storeName,stores:ce.stores}):z("")}}catch{z("")}finally{j(!1)}},se=async()=>{z(""),j(!0),await new Promise(ce=>setTimeout(ce,600));try{if(!le){z(""),j(!1);return}const ce=g.find(Ne=>Ne.id===le);ce&&ce.password===U?t("therapist",ce):z(" ( 0000)")}catch{z("")}finally{j(!1)}},Q=async()=>{if(z(""),!M||!P){z("");return}j(!0);let ce=!1;if(S==="store"&&D){const Ie=e.find(ze=>ze.id===D);Ie&&Ie.password===P&&(ce=!0)}else if(S==="manager"&&D)(r[D]||"0000")===P&&(ce=!0);else if(S==="therapist"&&le){const Ie=g.find(ze=>ze.id===le);Ie&&Ie.password===P&&(ce=!0)}else S==="trainer"&&(u?.password||"0000")===P&&(ce=!0);if(!ce){z(""),j(!1);return}let Ne=!1;S==="store"&&D?Ne=await i(D,M):S==="manager"&&D?Ne=await s(D,M):S==="therapist"&&le?Ne=await l(le,M):S==="trainer"&&(Ne=await f(M)),Ne?(alert(""),I(!1),re(""),L(""),V(""),Y("")):z(""),j(!1)},ue=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 transition-all focus:border-stone-400 focus:ring-2 ${Z.ring}`,ie=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 appearance-none transition-all focus:border-stone-400 focus:ring-2 ${Z.ring} disabled:bg-stone-50 disabled:text-stone-400`;return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-stone-50 p-4 font-sans text-stone-800",children:[d.jsxs("div",{className:`w-full max-w-md bg-white p-8 rounded-2xl shadow-sm border border-stone-200 transition-all duration-500 transform 
          ${_?"opacity-0 scale-95 pointer-events-none absolute":"opacity-100 scale-100 relative"}
        `,children:[d.jsxs("button",{onClick:()=>A(!0),className:"absolute top-6 left-6 text-stone-400 hover:text-stone-600 transition-colors flex items-center gap-1 text-sm font-medium",children:[d.jsx(p2,{size:16})," "]}),d.jsxs("div",{className:"text-center mb-10 mt-2",children:[d.jsx("div",{className:"flex justify-center mb-4",children:h==="yibo"?d.jsx(od,{size:40,className:Z.text,strokeWidth:1.5}):h==="anniu"?d.jsx(iS,{size:40,className:Z.text,strokeWidth:1.5}):d.jsx(Uh,{size:40,className:Z.text,strokeWidth:1.5})}),d.jsxs("h1",{className:`text-2xl font-bold tracking-tight ${Z.text}`,children:[X.label," "]}),d.jsx("p",{className:"text-stone-400 text-sm mt-1",children:""})]}),d.jsx("div",{className:"flex justify-center mb-8 border-b border-stone-100 pb-1",children:Object.entries(gr).map(([ce,Ne])=>d.jsxs("button",{onClick:()=>{E(Ne.id),z(""),V(""),B(""),I(!1),G(""),pe(""),J(""),Y("")},className:`px-4 py-2 text-sm font-medium transition-all relative ${S===Ne.id?"text-stone-800":"text-stone-400 hover:text-stone-600"}`,children:[Ne.label,S===Ne.id&&d.jsx("span",{className:"absolute bottom-[-5px] left-0 w-full h-[2px] bg-stone-800 rounded-full"})]},ce))}),d.jsx("div",{className:"space-y-4",children:S==="therapist"?d.jsxs(d.Fragment,{children:[k?d.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[d.jsx("input",{type:"password",value:P,onChange:ce=>L(ce.target.value),placeholder:"",className:ue}),d.jsx("input",{type:"text",value:M,onChange:ce=>re(ce.target.value),placeholder:"",className:ue})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(g2,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:K,onChange:ce=>{G(ce.target.value),pe(""),J("")},className:`${ie} pl-12`,children:[d.jsx("option",{value:"",children:""}),Object.keys(n).map(ce=>d.jsxs("option",{value:ce,children:[ce,""]},ce))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(_i,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:ee,onChange:ce=>{pe(ce.target.value),J("")},disabled:!K,className:`${ie} pl-12`,children:[d.jsx("option",{value:"",children:""}),fe.map(ce=>d.jsx("option",{value:ce,children:ce},ce))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(sS,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:le,onChange:ce=>J(ce.target.value),disabled:!ee,className:`${ie} pl-12`,children:[d.jsx("option",{value:"",children:""}),be.map(ce=>d.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(fc,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsx("input",{type:"password",value:U,onChange:ce=>Y(ce.target.value),placeholder:"",className:`${ue} pl-12`,onKeyDown:ce=>ce.key==="Enter"&&se()})]})]}),$&&d.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[d.jsx(sd,{size:14})," ",$]}),k?d.jsx("button",{onClick:Q,disabled:N,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:N?d.jsx(Rs,{className:"animate-spin mx-auto"}):""}):d.jsx("button",{onClick:se,disabled:N||!le||!U,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${Z.accent}`,children:N?d.jsx(Rs,{className:"animate-spin mx-auto"}):""}),le&&d.jsx("button",{onClick:()=>{I(!k),z("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:k?"":"?"})]}):d.jsxs(d.Fragment,{children:[S==="manager"&&d.jsx("div",{className:"relative",children:d.jsxs("select",{value:D,onChange:ce=>B(ce.target.value),className:ie,children:[d.jsx("option",{value:"",children:""}),Object.keys(n).map(ce=>d.jsx("option",{value:ce,children:ce},ce))]})}),S==="store"&&d.jsx("div",{className:"relative",children:d.jsxs("select",{value:D,onChange:ce=>B(ce.target.value),className:ie,children:[d.jsx("option",{value:"",children:""}),e.map(ce=>d.jsx("option",{value:ce.id,children:ce.name},ce.id))]})}),k?d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"password",value:P,onChange:ce=>L(ce.target.value),placeholder:"",className:ue}),d.jsx("input",{type:"text",value:M,onChange:ce=>re(ce.target.value),placeholder:"",className:ue})]}):d.jsx("input",{type:"password",value:C,onChange:ce=>V(ce.target.value),placeholder:"",className:ue,onKeyDown:ce=>ce.key==="Enter"&&Ee()}),$&&d.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[d.jsx(sd,{size:14})," ",$]}),k?d.jsx("button",{onClick:Q,disabled:N,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:N?d.jsx(Rs,{className:"animate-spin mx-auto"}):""}):d.jsx("button",{onClick:Ee,disabled:N,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${Z.accent}`,children:N?d.jsx(Rs,{className:"animate-spin mx-auto"}):""}),(S==="store"||S==="manager"||S==="trainer")&&d.jsx("button",{onClick:()=>{I(!k),z("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:k?"":"?"})]})})]}),_&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-sm animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-lg p-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2 tracking-tight",children:""}),d.jsx("p",{className:"text-stone-400",children:""})]}),d.jsx("div",{className:"space-y-4",children:jw.map(ce=>{let Ne=Uh,Ie="hover:border-stone-400 hover:bg-stone-50";ce.id==="anniu"?(Ne=iS,Ie="hover:border-rose-200 hover:bg-rose-50 hover:text-rose-900"):ce.id==="yibo"?(Ne=od,Ie="hover:border-yellow-200 hover:bg-yellow-50 hover:text-yellow-900"):Ie="hover:border-stone-400 hover:bg-stone-50 hover:text-stone-900";const ze=Ne;return d.jsxs("button",{onClick:()=>ne(ce.id),className:`w-full flex items-center justify-between p-6 rounded-xl border border-stone-200 bg-white transition-all duration-200 group ${Ie}`,children:[d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx(ze,{size:24,strokeWidth:1.5,className:"text-stone-400 group-hover:text-current transition-colors"}),d.jsx("div",{className:"text-left",children:d.jsx("h3",{className:"text-lg font-bold text-stone-700 group-hover:text-current transition-colors",children:ce.label})})]}),d.jsx(Rm,{size:20,className:"text-stone-300 group-hover:text-current transition-colors opacity-0 group-hover:opacity-100 transform group-hover:translate-x-1 duration-300"})]},ce.id)})}),d.jsx("div",{className:"mt-12 text-center",children:d.jsx("p",{className:"text-[10px] text-stone-300 font-medium tracking-widest uppercase",children:"DRCYJ Cloud System"})})]})})]})},cpe=()=>{const{fmtMoney:t,fmtNum:e,targets:n,userRole:r,currentUser:i,allReports:s,budgets:l,managers:u,selectedYear:f,selectedMonth:h,therapistReports:p,currentBrand:g}=b.useContext(lr),[x,_]=b.useState(r==="therapist"||r==="trainer"?"therapist":"store"),{brandInfo:A,brandPrefix:S}=b.useMemo(()=>{let K="CYJ",G="CYJ";g&&(typeof g=="string"?K=g:typeof g=="object"&&(K=g.id||"CYJ",G=g.name||g.label||K));const ee=K.toLowerCase();return ee.includes("anniu")||ee.includes("anew")?G="":ee.includes("yibo")?G="":G="CYJ",{brandInfo:{id:K,name:G},brandPrefix:G}},[g]),E=b.useMemo(()=>K=>{if(!K)return"";let G=String(K).replace(new RegExp(`^(${S}|CYJ|Anew|Yibo||)`,"i"),"").trim();return G===""?"":G.replace(/$/,"").trim()},[S]),C=b.useMemo(()=>r==="director"?Object.values(u).flat():r==="manager"&&i?u[i.name]||[]:r==="store"&&i?(i.stores||[i.storeName]).map(G=>E(G)).filter(G=>G):[],[r,i,u,E]),V=b.useMemo(()=>{if(!s)return null;const K=parseInt(f),G=parseInt(h),ee=new Date(K,G,0).getDate(),pe=new Date;let le=ee;pe.getFullYear()===K&&pe.getMonth()+1===G?le=pe.getDate():pe<new Date(K,G-1,1)&&(le=0);const J={cash:0,accrual:0,operationalAccrual:0,skincareSales:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,budget:0,accrualBudget:0,dailyData:Array.from({length:ee},(fe,be)=>({date:`${G}/${be+1}`,day:be+1,cash:0,traffic:0}))};s.forEach(fe=>{const be=new Date(fe.date);if(be.getFullYear()!==K||be.getMonth()+1!==G)return;const Ee=E(fe.storeName);if(!C.includes(Ee))return;const se=(Number(fe.cash)||0)-(Number(fe.refund)||0),Q=Number(fe.accrual)||0,ue=Number(fe.traffic)||0;J.cash+=se,J.accrual+=Q,J.operationalAccrual+=Number(fe.operationalAccrual)||0,J.newCustomerSales+=Number(fe.newCustomerSales)||0,J.skincareSales+=Number(fe.skincareSales)||0,J.traffic+=ue,J.newCustomers+=Number(fe.newCustomers)||0,J.newCustomerClosings+=Number(fe.newCustomerClosings)||0;const ie=be.getDate()-1;J.dailyData[ie]&&(J.dailyData[ie].cash+=se,J.dailyData[ie].traffic+=ue)}),C.forEach(fe=>{const Ee=`${`${S}${fe}`}_${K}_${G}`,se=l[Ee];se&&(J.budget+=Number(se.cashTarget)||0,J.accrualBudget+=Number(se.accrualTarget)||0)});const U=J.budget>0?J.cash/J.budget*100:0,Y=le>0?Math.round(J.cash/le*ee):0,X=J.traffic>0?Math.round(J.operationalAccrual/J.traffic):0,Z=J.newCustomers>0?Math.round(J.newCustomerSales/J.newCustomers):0,ne=J.dailyData.slice(0,le===0?ee:le);return{grandTotal:{cash:J.cash,accrual:J.accrual,operationalAccrual:J.operationalAccrual,skincareSales:J.skincareSales,traffic:J.traffic,newCustomers:J.newCustomers,newCustomerClosings:J.newCustomerClosings,newCustomerSales:J.newCustomerSales,budget:J.budget,projection:Y},dailyTotals:ne,totalAchievement:U,avgTrafficASP:X,avgNewCustomerASP:Z,daysPassed:le,daysInMonth:ee}},[s,l,f,h,C,S,E]),D=b.useMemo(()=>{if(r!=="store"&&r!=="manager"||!s)return[];const K={},G=parseInt(f),ee=parseInt(h);s.forEach(J=>{const U=new Date(J.date);if(U.getFullYear()!==G||U.getMonth()+1!==ee)return;const Y=E(J.storeName);if(!Y)return;const X=`${S}${Y}`;K[X]||(K[X]=0),K[X]+=(Number(J.cash)||0)-(Number(J.refund)||0)});const pe=Object.keys(K).map(J=>{const U=`${J}_${G}_${ee}`,Y=l[U],X=Y?Number(Y.cashTarget||0):0,Z=K[J],ne=X>0?Z/X*100:0;return{storeName:J,actual:Z,target:X,rate:ne}});return pe.sort((J,U)=>U.rate-J.rate),pe.map((J,U)=>({...J,rank:U+1,totalStores:pe.length,isBottom5:U+1>pe.length-5})).filter(J=>{const U=E(J.storeName);return C.includes(U)})},[r,s,C,l,f,h,E,S]),B=b.useMemo(()=>{if(!p)return{rankings:[],myStats:null,grandTotal:{}};const K=p.filter(U=>{const Y=U.date.replace(/-/g,"/"),X=new Date(Y);return X.getFullYear()===parseInt(f)&&X.getMonth()+1===parseInt(h)}),G={};K.forEach(U=>{const Y=U.therapistId;G[Y]||(G[Y]={id:Y,name:U.therapistName,store:U.storeName,totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,newCustomerCount:0,oldCustomerCount:0,newCustomerClosings:0,returnRevenue:0}),G[Y].totalRevenue+=Number(U.totalRevenue)||0,G[Y].serviceCount+=Number(U.serviceCount)||0,G[Y].newCustomerRevenue+=Number(U.newCustomerRevenue)||0,G[Y].oldCustomerRevenue+=Number(U.oldCustomerRevenue)||0,G[Y].newCustomerCount+=Number(U.newCustomerCount)||0,G[Y].oldCustomerCount+=Number(U.oldCustomerCount)||0,G[Y].newCustomerClosings+=Number(U.newCustomerClosings)||0,G[Y].returnRevenue+=Number(U.returnRevenue)||0});const ee=Object.values(G).map(U=>{const Y=U.totalRevenue||1,X=Math.round(U.newCustomerRevenue/Y*100),Z=Math.round(U.oldCustomerRevenue/Y*100),ne=U.newCustomerCount||1,fe=U.newCustomerClosings/ne*100,be=U.oldCustomerCount||1,Ee=U.newCustomerRevenue/ne,se=U.oldCustomerRevenue/be;return{...U,revenueMix:`${X}% / ${Z}%`,newClosingRate:fe,newAsp:Ee,oldAsp:se}}).sort((U,Y)=>Y.totalRevenue-U.totalRevenue),pe=ee.length;ee.forEach((U,Y)=>{U.rank=Y+1,U.totalPeers=pe,U.rank<=3?U.status="TOP":U.rank>pe-10?U.status="DANGER":U.status="NORMAL",U.gapToNext=Y>0?ee[Y-1].totalRevenue-U.totalRevenue:0});let le=null;r==="therapist"&&i&&(le=ee.find(U=>U.id===i.id));const J=ee.reduce((U,Y)=>({totalRevenue:U.totalRevenue+Y.totalRevenue,serviceCount:U.serviceCount+Y.serviceCount,newCustomerRevenue:U.newCustomerRevenue+Y.newCustomerRevenue,oldCustomerRevenue:U.oldCustomerRevenue+Y.oldCustomerRevenue,returnRevenue:U.returnRevenue+Y.returnRevenue,count:U.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,returnRevenue:0,count:0});return{rankings:ee,myStats:le,grandTotal:J}},[p,f,h,r,i]),$=()=>{const K=B.rankings.filter(X=>r!=="therapist"||X.id===i?.id),G=[",,,,,,,,,"],ee=K.map(X=>[X.rank,X.name,X.store,X.totalRevenue,X.newCustomerRevenue,X.oldCustomerRevenue,`"${X.revenueMix}"`,`${X.newClosingRate.toFixed(0)}%`,Math.round(X.newAsp),Math.round(X.oldAsp)].join(",")),pe="\uFEFF"+[G,...ee].join(`
`),le=new Blob([pe],{type:"text/csv;charset=utf-8;"}),J=document.createElement("a"),U=URL.createObjectURL(le),Y=new Date().toISOString().split("T")[0];J.setAttribute("href",U),J.setAttribute("download",`${A.name}__${Y}.csv`),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)},z=K=>{if(!K)return{title:"...",sub:"Data Loading..."};const{rank:G,totalPeers:ee,status:pe,gapToNext:le}=K,J=ee-G;return pe==="TOP"?{title:G===1?"":"",sub:"",icon:Uh}:pe==="DANGER"?{title:` ${J} `,sub:` ${t(le)}`,icon:sl}:{title:` ${J} `,sub:` ${t(le)} `,icon:epe}};if(!V)return d.jsxs("div",{className:"flex h-96 items-center justify-center",children:[d.jsx(Rs,{className:"h-10 w-10 animate-spin text-stone-300"}),d.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});const{grandTotal:N,dailyTotals:j,totalAchievement:k,daysPassed:I,daysInMonth:P}=V,L=P>0?I/P*100:0,M=k-L,re=({title:K,value:G,subText:ee,icon:pe,color:le})=>d.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden h-full",children:[d.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${le}`,children:d.jsx(pe,{size:64})}),d.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:K}),d.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:G})]}),ee&&d.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:ee})]})]});return d.jsx(si,{children:d.jsxs("div",{className:"space-y-8 pb-10 w-full min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2 animate-in fade-in slide-in-from-left-2 duration-500",children:[d.jsx("div",{className:`w-2 h-8 rounded-full ${A.id.toLowerCase().includes("anniu")?"bg-teal-500":A.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),d.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[A.name," "]})]}),r!=="therapist"&&r!=="trainer"&&d.jsx("div",{className:"flex justify-center mb-4",children:d.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[d.jsxs("button",{onClick:()=>_("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${x==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(_i,{size:16})," "]}),d.jsxs("button",{onClick:()=>_("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${x==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(gl,{size:16})," "]})]})}),x==="store"&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r==="store"&&D.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:D.map(K=>d.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${K.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:K.isBottom5?d.jsx(sl,{size:120}):d.jsx(Fme,{size:120})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:K.isBottom5?d.jsx(ai,{size:20,className:"text-white"}):d.jsx(dme,{size:20,className:"text-yellow-100"})}),d.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:K.storeName}),K.isBottom5&&d.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),d.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",K.rank]}),d.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",K.totalStores]})]})]}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),d.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[K.rate.toFixed(0),"%"]})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[d.jsxs("span",{children:[": ",t(K.actual)]}),d.jsxs("span",{children:[": ",t(K.target)]})]})]})]},K.storeName))}),r==="manager"&&D.length>0&&d.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[d.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:d.jsx(v2,{size:100})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:d.jsx(Uh,{size:24,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),d.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),d.jsxs("div",{className:"relative z-10 text-right",children:[d.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),d.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:D.length})]})]}),d.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[d.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),d.jsx("th",{className:"p-3 sm:p-4",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),d.jsx("tbody",{children:D.map((K,G)=>d.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${K.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[d.jsx("td",{className:"p-3 sm:p-4 text-center",children:d.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${G===0?"bg-amber-100 text-amber-700":G===1?"bg-stone-200 text-stone-600":G===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:K.rank})}),d.jsx("td",{className:"p-3 sm:p-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[d.jsx("span",{className:`font-bold text-sm sm:text-base ${K.isBottom5?"text-rose-700":"text-stone-700"}`,children:K.storeName}),K.isBottom5&&d.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[d.jsx(sl,{size:10})," ",d.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),d.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:t(K.actual)}),d.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:t(K.target)}),d.jsx("td",{className:"p-3 sm:p-4 text-right",children:d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${K.isBottom5?"text-rose-600":K.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[K.rate.toFixed(0),"%"]}),d.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${K.isBottom5?"bg-rose-500":K.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(K.rate,100)}%`}})})]})})]},K.storeName))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:d.jsx(ai,{size:16,className:"text-indigo-500"})}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),d.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",I," ",d.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",P]})]})]}),d.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${M>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[d.jsx("span",{className:"text-sm font-bold",children:M>=0?"":""}),d.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs(M).toFixed(0),"%"]})]})]}),d.jsxs("div",{className:"space-y-6 relative z-10",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:k>=L?"text-emerald-500":"text-rose-500",children:[k.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${k>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":k>=L?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(k,100)}%`}})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[d.jsx("span",{className:"text-stone-400",children:" ()"}),d.jsxs("span",{className:"text-stone-400",children:[L.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(L,100)}%`}})})]})]})]}),d.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[d.jsx(kd,{size:14})," "]}),d.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:t(N.projection)}),d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:[N.budget>0?(N.projection/N.budget*100).toFixed(0):0,"%"]})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:d.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-mono font-bold text-stone-500",children:t(N.budget)})]})})]})})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[d.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(re,{title:"",value:t(N.cash),icon:Zs,color:"text-amber-500",subText:d.jsxs("span",{className:`font-bold ${k>=100?"text-emerald-600":"text-amber-600"}`,children:[k.toFixed(0),"% "]})}),d.jsx(re,{title:"",value:t(N.accrual),icon:rS,color:"text-cyan-500",subText:""}),d.jsx(re,{title:"",value:t(N.skincareSales),icon:Nme,color:"text-rose-500",subText:d.jsxs(d.Fragment,{children:[" ",d.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[N.accrual>0?(N.skincareSales/N.accrual*100).toFixed(0):0,"%"]})]})})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[d.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[d.jsx(re,{title:"",value:e(N.traffic),icon:Md,color:"text-blue-500",subText:""}),d.jsx(re,{title:"",value:t(V.avgTrafficASP),icon:ld,color:"text-indigo-500",subText:d.jsxs("span",{className:V.avgTrafficASP>=n.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[V.avgTrafficASP>=n.trafficASP?"":""," ( ",e(n.trafficASP),")"]})}),d.jsx(re,{title:"",value:e(N.newCustomers),icon:od,color:"text-purple-500",subText:""}),d.jsx(re,{title:"",value:e(N.newCustomerClosings),icon:Rme,color:"text-teal-500",subText:d.jsxs("span",{children:[" ",d.jsxs("span",{className:"font-bold",children:[N.newCustomers>0?(N.newCustomerClosings/N.newCustomers*100).toFixed(0):0,"%"]})]})}),d.jsx(re,{title:"",value:t(V.avgNewCustomerASP),icon:ch,color:"text-fuchsia-500",subText:d.jsxs("span",{className:V.avgNewCustomerASP>=n.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[V.avgNewCustomerASP>=n.newASP?"":""," ( ",e(n.newASP),")"]})})]})]}),d.jsx(zt,{title:`${A.name} `,subtitle:" vs ",children:d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Vu,{width:"100%",height:"100%",children:d.jsxs(f2,{data:j,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx(Sy,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),d.jsx(Ay,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),d.jsx(ad,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:K=>K===0?"0":`$${(K/1e3).toFixed(0)}k`}),d.jsx(ad,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:K=>e(K)}),d.jsx(qu,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(K,G)=>G===""?[t(K),G]:[e(K),G]}),d.jsx(s2,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),d.jsx(id,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),x==="therapist"&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 w-full min-w-0",children:[B.myStats&&(()=>{const K=z(B.myStats),G=B.myStats.status;let ee="bg-gradient-to-br from-indigo-600 to-purple-700",pe="shadow-indigo-200";return G==="TOP"?(ee="bg-gradient-to-br from-amber-400 to-orange-500",pe="shadow-amber-200"):G==="DANGER"&&(ee="bg-gradient-to-br from-rose-600 to-red-700",pe="shadow-rose-200"),d.jsxs("div",{className:`${ee} rounded-3xl p-6 text-white shadow-xl ${pe} relative overflow-hidden transition-all duration-500`,children:[" ",d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(K.icon,{size:140})})," ",d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[" ",d.jsxs("div",{children:[" ",d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-1",children:[G==="DANGER"&&d.jsx(Ghe,{size:12,className:"animate-pulse"}),"No.",B.myStats.rank]}),d.jsxs("span",{className:"text-white/80 font-bold tracking-wider text-sm",children:[B.myStats.store,""]})]}),d.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:B.myStats.name}),d.jsxs("div",{className:"mt-2 p-3 bg-black/10 rounded-xl backdrop-blur-md border border-white/10 max-w-md",children:[d.jsxs("p",{className:"font-bold text-sm flex items-center gap-2",children:[G==="DANGER"&&d.jsx(Whe,{size:16}),K.title]}),d.jsx("p",{className:"text-xs text-white/70 mt-1",children:K.sub})]})," "]})," ",d.jsxs("div",{className:"flex gap-6 text-right",children:[" ",d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-bold",children:t(B.myStats.totalRevenue)})]})," ",d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),d.jsxs("p",{className:"text-3xl font-mono font-bold",children:[B.myStats.newClosingRate.toFixed(0),"%"]})]})," "]})," "]})," "]})})(),r!=="therapist"&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:[" ",d.jsx(re,{title:"",value:t(B.grandTotal.totalRevenue),icon:Zs,color:"text-indigo-500",subText:`${B.grandTotal.count} `})," ",d.jsx(re,{title:"",value:t(B.grandTotal.newCustomerRevenue),icon:od,color:"text-amber-500"})," ",d.jsx(re,{title:"",value:t(B.grandTotal.oldCustomerRevenue),icon:ld,color:"text-cyan-500"})," ",d.jsx(re,{title:"",value:`${Math.round(B.grandTotal.newCustomerRevenue/(B.grandTotal.totalRevenue||1)*100)}% / ${Math.round(B.grandTotal.oldCustomerRevenue/(B.grandTotal.totalRevenue||1)*100)}%`,icon:ai,color:"text-fuchsia-500",subText:" / "})," ",d.jsx(re,{title:"",value:t(B.grandTotal.returnRevenue),icon:Fhe,color:"text-rose-500"})," "]}),d.jsx(zt,{title:"",subtitle:" ()",children:d.jsxs("div",{className:"grid grid-cols-1 w-full",children:[d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[d.jsx(lv,{size:16}),"  CSV"]})}),d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px] whitespace-nowrap",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100 bg-stone-50/50",children:[d.jsx("th",{className:"p-3 md:p-4 w-16 text-center",children:""}),d.jsx("th",{className:"p-3 md:p-4",children:""}),d.jsx("th",{className:"p-3 md:p-4",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""})]})}),d.jsxs("tbody",{className:"text-sm",children:[B.rankings.filter(K=>r!=="therapist"||K.id===i?.id).map((K,G)=>d.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${i?.id===K.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[d.jsx("td",{className:"p-3 md:p-4 text-center",children:d.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${K.rank<=3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":K.status==="DANGER"?"bg-rose-100 text-rose-700 ring-4 ring-rose-50":"bg-stone-100 text-stone-500"}`,children:K.rank})}),d.jsxs("td",{className:"p-3 md:p-4 font-bold text-stone-700 flex items-center gap-2",children:[K.name,i?.id===K.id&&d.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"}),K.status==="DANGER"&&d.jsx("span",{className:"text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold",children:""})]}),d.jsxs("td",{className:"p-3 md:p-4 text-stone-500",children:[K.store,""]}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-indigo-600",children:t(K.totalRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(K.newCustomerRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(K.oldCustomerRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-center font-mono text-xs text-stone-400",children:K.revenueMix}),d.jsxs("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-stone-700",children:[K.newClosingRate.toFixed(0),"%"]}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(K.newAsp))}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(K.oldAsp))})]},K.id))," ",B.rankings.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:10,className:"p-8 text-center text-stone-400",children:""})})]})]})}),d.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[d.jsx(h2,{size:12}),"  ",d.jsx(Rm,{size:12})]})]})})]})]})})},UM=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},upe=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=b.useState(()=>UM(t));b.useEffect(()=>{t&&l(UM(t))},[t]);const u=s.getFullYear(),f=s.getMonth(),h=new Date(u,f+1,0).getDate(),p=new Date(u,f,1).getDay(),g=S=>{const E=new Date(u,f,S),C=new Date;if(C.setHours(0,0,0,0),E>C)return"none";const V=`${u}-${String(f+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`,D=r.filter($=>$.date?$.date.replace(/\//g,"-")===V:!1);return!n||Array.isArray(n)&&n.length===0?"none":n.every($=>{const z=Array.isArray($.stores)?$.stores.map(j=>typeof j=="string"?j:j.name):[];return z.length===0?!0:D.some(j=>z.includes(j.storeName))})?"complete":"incomplete"},x=()=>{l(new Date(u,f-1,1))},_=()=>{l(new Date(u,f+1,1))},A=S=>{const E=`${u}-${String(f+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`;e(E),i&&i()};return d.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("button",{onClick:x,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:d.jsx(p2,{size:20})}),d.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",f+1,""]}),d.jsx("button",{onClick:_,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:d.jsx(M9,{size:20})})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(S=>d.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:S},S))}),d.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((S,E)=>d.jsx("div",{},`empty-${E}`)),Array.from({length:h}).map((S,E)=>{const C=E+1,D=`${u}-${String(f+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`===t,B=g(C);return d.jsxs("button",{onClick:()=>A(C),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${D?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[C,!D&&B!=="none"&&d.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${B==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},C)})]}),i&&d.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},Y9=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=b.useState(!1),l=b.useRef(null);return b.useEffect(()=>{const u=f=>{window.innerWidth>=768&&l.current&&!l.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),d.jsxs("div",{className:"relative w-full",ref:l,children:[" ",d.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[d.jsx("span",{className:"text-lg",children:t}),d.jsx(co,{size:18,className:"text-stone-400 ml-auto"})]}),i&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),d.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:d.jsx(upe,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},Fu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},dpe=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u,getCollectionPath:f,currentBrand:h}=b.useContext(lr),[p,g]=b.useState(""),[x,_]=b.useState(""),A={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[S,E]=b.useState(A),[C,V]=b.useState(!1),[D,B]=b.useState(!1),[$,z]=b.useState(!1),[N,j]=b.useState(null),k={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},I=Fu(),P=b.useMemo(()=>{if(!h)return"CYJ";switch(typeof h=="string"?h:h.id){case"anniu":return"";case"yibo":return"";case"cyj":return"CYJ";default:return"CYJ"}},[h]),L=b.useCallback(J=>{if(!J)return"";let U=String(J).replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").trim();return U===""?"":U.replace(/$/,"").trim()},[]);b.useEffect(()=>{E(A),_(""),g("")},[h]),b.useEffect(()=>{const J=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const U=Fu(),Y=Object.values(S).every(X=>X==="");r!==U&&Y&&(console.log(`[] : ${r} -> ${U}`),i(U))}};return document.addEventListener("visibilitychange",J),window.addEventListener("focus",J),()=>{document.removeEventListener("visibilitychange",J),window.removeEventListener("focus",J)}},[r,S,i]),b.useEffect(()=>{const J=typeof h=="string"?h:h?.id||"unknown",U=localStorage.getItem(`input_draft_${J}`);if(U)try{const Y=JSON.parse(U);Y.formData&&E(Y.formData),Y.store&&_(Y.store),Y.manager&&g(Y.manager);const X=Y.date;X===Fu()&&i(X)}catch(Y){console.error(Y)}},[h]),b.useEffect(()=>{const J=typeof h=="string"?h:h?.id||"unknown",U={formData:S,store:x,manager:p,date:r,timestamp:Date.now()};localStorage.setItem(`input_draft_${J}`,JSON.stringify(U))},[S,x,p,r,h]),b.useEffect(()=>{const J=yr(S.operationalAccrual),U=yr(S.skincareSales);E(Y=>{const X=J+U;return yr(Y.accrual)!==X?{...Y,accrual:hc(X)}:Y})},[S.operationalAccrual,S.skincareSales]);const M=(J,U)=>{const Y=U.replace(/,/g,"");/^\d*$/.test(Y)&&E(X=>({...X,[J]:hc(Y)}))},re=b.useMemo(()=>p?(n[p]||[]).map(J=>`${P}${L(J)}`):e==="store"&&t?(t.stores||[t.storeName]).map(J=>`${P}${L(J)}`):[],[p,n,e,t,P,L]);b.useEffect(()=>{if(!x&&e==="store"&&t){const J=t.stores||[t.storeName];if(J.length>0){let U=L(J[0]);const Y=Object.keys(n).find(X=>n[X].some(Z=>Z.includes(U)));Y&&g(Y),_(`${P}${U}`)}}else!p&&e==="manager"&&t&&g(t.name)},[e,t,n,P,x,L]);const K=()=>{if(confirm("")){E(A);const J=typeof h=="string"?h:h?.id||"unknown";localStorage.removeItem(`input_draft_${J}`),s("","info")}},G=J=>{if(J.preventDefault(),!x)return s("","error");if(r>I)return s("","error");const U=wr(r),Y=L(x),X=u.find(Z=>{const ne=wr(Z.date)===U,fe=L(Z.storeName)===Y;return ne&&fe});j(X?X.id:null),r!==I?z(!0):B(!0)},ee=()=>{z(!1),B(!0)},pe=async()=>{if(!C){V(!0);try{const J=wr(r),U=typeof h=="string"?h:h?.id||"unknown",Y={date:J,storeName:x,brandId:U,...Object.keys(S).reduce((Z,ne)=>({...Z,[ne]:yr(S[ne])}),{}),timestamp:bd(),submittedBy:t?.name||"unknown"};let X=N;X||(X=`${J.replace(/\//g,"-")}_${x}`),await Fn(Ir(f("daily_reports"),X),Y),N?l(e,t?.name,"()",`${x} ${J}`):l(e,t?.name,"",`${x} ${J}`),E(A),localStorage.removeItem(`input_draft_${U}`),B(!1),j(null),s("","success")}catch(J){console.error(J),s(": "+J.message,"error")}finally{V(!1)}}},le=J=>d.jsxs("div",{children:[d.jsx("label",{className:`block text-xs font-bold mb-1.5 ${J.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:k[J]||J}),d.jsx("input",{type:"text",value:S[J],onChange:U=>M(J,U.target.value),readOnly:J==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${J==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},J);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[d.jsx(Js,{size:14}),"  (",P,")"]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),d.jsx(Y9,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),d.jsx("div",{className:"relative",children:d.jsxs("select",{value:p,onChange:J=>{g(J.target.value),_("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(n).map(J=>d.jsxs("option",{value:J,children:[J,""]},J))]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),d.jsx("div",{className:"relative",children:d.jsxs("select",{value:x,onChange:J=>_(J.target.value),disabled:!p,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[d.jsx("option",{value:"",children:"..."}),re.map(J=>d.jsx("option",{value:J,children:J},J))]})})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[d.jsx(V9,{size:20,className:"text-amber-500"}),d.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[d.jsx(tme,{size:14})," "]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[le("cash"),le("accrual"),le("operationalAccrual"),le("skincareSales")]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[d.jsx(Md,{size:14})," "]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[le("newCustomerSales"),le("traffic"),le("newCustomers"),le("newCustomerClosings")]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[d.jsx(F9,{size:14}),"  ()"]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[le("refund"),le("skincareRefund")]})]}),d.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[d.jsx("button",{onClick:K,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:d.jsx(q9,{size:20})}),d.jsx("button",{onClick:G,disabled:C,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70 flex justify-center items-center gap-2",children:C?d.jsx(ai,{className:"animate-spin"}):""})]})]}),$&&d.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[d.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[d.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:d.jsx(co,{size:32,className:"text-white"})}),d.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),d.jsxs("div",{className:"p-6 space-y-6 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),d.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:d.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[d.jsx(sl,{size:18,className:"shrink-0 mt-0.5"}),d.jsxs("span",{children:[" ",d.jsx("u",{children:""})," (",I,")",N&&d.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",d.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),d.jsx("button",{onClick:ee,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),D&&d.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[d.jsx(sd,{})," "]}),d.jsx("button",{onClick:()=>B(!1),children:d.jsx(ca,{className:"text-white"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:r})]}),d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:x})]}),d.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["$",S.cash]})]}),d.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["$",S.accrual]})]})]}),N&&d.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>B(!1),disabled:C,className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50 disabled:opacity-50",children:""}),d.jsx("button",{onClick:pe,disabled:C,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900 disabled:opacity-70 flex justify-center items-center gap-2",children:C?d.jsx(ai,{className:"animate-spin",size:20}):""})]})]})]})})]})},fpe=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i,getCollectionPath:s,currentBrand:l}=b.useContext(lr),u={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[f,h]=b.useState(u),[p,g]=b.useState(!1),[x,_]=b.useState(!1),[A,S]=b.useState(!1),[E,C]=b.useState(!1),[V,D]=b.useState(null),B={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},$=Fu();b.useEffect(()=>{const I=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const P=Fu(),L=!f.newCustomerRevenue&&!f.oldCustomerRevenue;e!==P&&L&&(console.log(`[] : ${e} -> ${P}`),n(P))}};return document.addEventListener("visibilitychange",I),window.addEventListener("focus",I),()=>{document.removeEventListener("visibilitychange",I),window.removeEventListener("focus",I)}},[e,f,n]),b.useEffect(()=>{const I=typeof l=="string"?l:l?.id||"unknown",P=localStorage.getItem(`therapist_draft_${I}`);if(P)try{const L=JSON.parse(P);L.formData&&h(L.formData);const M=L.date;M===Fu()&&n(M)}catch(L){console.error(L)}},[l]),b.useEffect(()=>{const I=typeof l=="string"?l:l?.id||"unknown",P={formData:f,date:e,timestamp:Date.now()};localStorage.setItem(`therapist_draft_${I}`,JSON.stringify(P))},[f,e,l]),b.useEffect(()=>{const I=yr(f.newCustomerRevenue)||0,P=yr(f.oldCustomerRevenue)||0,L=yr(f.returnRevenue)||0,M=I+P-L;yr(f.totalRevenue)!==M&&h(re=>({...re,totalRevenue:hc(M)}))},[f.newCustomerRevenue,f.oldCustomerRevenue,f.returnRevenue]),b.useEffect(()=>{(async()=>{if(t?.id)try{const M=`${wr(e).replace(/\//g,"-")}_${t.id}`,re=Ir(s("therapist_daily_reports"),M),K=await SO(re);_(K.exists())}catch(P){console.error("",P)}})()},[e,t,s]);const z=(I,P)=>{const L=P.replace(/,/g,"");/^\d*$/.test(L)&&h(M=>({...M,[I]:hc(L)}))},N=()=>{if(!(f.newCustomerRevenue||f.oldCustomerRevenue||f.newCustomerCount||f.oldCustomerCount||f.returnRevenue))return r("","error");e!==$?C(!0):S(!0)},j=()=>{C(!1),S(!0)},k=async()=>{if(!p){g(!0),D(null);try{if(!t||!t.id)throw new Error(" ID ");const I=wr(e),L=`${I.replace(/\//g,"-")}_${t.id}`,M=typeof l=="string"?l:l?.id||"unknown",re={date:I,therapistId:t.id,therapistName:t.name,storeName:t.store||"",brandId:M,totalRevenue:yr(f.totalRevenue),newCustomerRevenue:yr(f.newCustomerRevenue),newCustomerCount:yr(f.newCustomerCount),newCustomerClosings:yr(f.newCustomerClosings),oldCustomerRevenue:yr(f.oldCustomerRevenue),oldCustomerCount:yr(f.oldCustomerCount),returnRevenue:yr(f.returnRevenue),updatedAt:bd()},K=Ir(s("therapist_daily_reports"),L);if(await Fn(K,re),(await SO(K)).exists())i("therapist",t.name,"",`${I} `),r("","success"),_(!0),h(u),localStorage.removeItem(`therapist_draft_${M}`),S(!1);else throw new Error("")}catch(I){console.error(":",I),D({error:I.message,code:I.code||"unknown",path:"brands/.../therapist_daily_reports"}),r("","error")}finally{g(!1)}}};return d.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[d.jsx(gl,{className:"text-indigo-200"})," ",t?.name," "]}),d.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),d.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:d.jsx($M,{size:120})})]}),d.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:I=>n(I.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),x&&d.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[d.jsx(Js,{size:16}),"  (",e,") "]}),V&&d.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[d.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[d.jsx(whe,{})," "]}),d.jsx("p",{className:"text-rose-700 text-sm font-bold",children:V.error})]}),d.jsx(zt,{title:"",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[d.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[d.jsx(She,{size:12})," ",B.totalRevenue," ()"]}),d.jsxs("div",{className:"relative",children:[d.jsx(Zs,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),d.jsx("input",{type:"text",value:f.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[d.jsx($M,{size:12})," "]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.newCustomerRevenue}),d.jsx("input",{type:"text",value:f.newCustomerRevenue,onChange:I=>z("newCustomerRevenue",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.newCustomerCount}),d.jsx("input",{type:"text",value:f.newCustomerCount,onChange:I=>z("newCustomerCount",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.newCustomerClosings}),d.jsx("input",{type:"text",value:f.newCustomerClosings,onChange:I=>z("newCustomerClosings",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[d.jsx(Md,{size:12})," "]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.oldCustomerRevenue}),d.jsx("input",{type:"text",value:f.oldCustomerRevenue,onChange:I=>z("oldCustomerRevenue",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.oldCustomerCount}),d.jsx("input",{type:"text",value:f.oldCustomerCount,onChange:I=>z("oldCustomerCount",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[d.jsx(F9,{size:12})," ",B.returnRevenue]}),d.jsx("input",{type:"text",value:f.returnRevenue,onChange:I=>z("returnRevenue",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),d.jsxs("button",{onClick:N,disabled:p,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[p?d.jsx(ai,{className:"animate-spin"}):d.jsx(H9,{size:20}),""]})]})}),E&&d.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[d.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[d.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:d.jsx(co,{size:32,className:"text-white"})}),d.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),d.jsxs("div",{className:"p-6 space-y-6 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),d.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:d.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[d.jsx(sl,{size:18,className:"shrink-0 mt-0.5"}),d.jsxs("span",{children:[" ",d.jsx("u",{children:""})," (",$,")",x&&d.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",d.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),d.jsx("button",{onClick:j,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),A&&d.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[d.jsx(sd,{})," "]}),d.jsx("button",{onClick:()=>S(!1),children:d.jsx(ca,{className:"text-white"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:e})]}),d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t?.name})]}),d.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",f.totalRevenue||0]})]}),d.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:d.jsxs("span",{children:["( $",f.newCustomerRevenue||0," +  $",f.oldCustomerRevenue||0,")"]})}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",f.returnRevenue||0]})]})]})]}),x&&d.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[d.jsx(sl,{size:12})," "]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>S(!1),disabled:p,className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50 disabled:opacity-50",children:""}),d.jsx("button",{onClick:k,disabled:p,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md disabled:opacity-70 flex justify-center items-center gap-2",children:p?d.jsx(ai,{className:"animate-spin",size:20}):""})]})]})]})})]})},hpe=()=>{const{userRole:t}=b.useContext(lr);return d.jsx(si,{children:t==="therapist"?d.jsx(fpe,{}):d.jsx(dpe,{})})},mpe=()=>{const{showToast:t,managers:e,userRole:n,currentUser:r,getCollectionPath:i,getDocPath:s,currentBrand:l}=b.useContext(lr),[u,f]=b.useState(n==="trainer"||n==="therapist"?"therapist":"store"),[h,p]=b.useState([]),[g,x]=b.useState([]),[_,A]=b.useState(!1),S=()=>new Date().toISOString().split("T")[0],[E,C]=b.useState(S()),[V,D]=b.useState(S()),[B,$]=b.useState(""),[z,N]=b.useState(null),[j,k]=b.useState({}),I=ne=>typeof ne=="number"?ne.toLocaleString():ne,P=b.useMemo(()=>{let ne="CYJ";if(l){const be=(typeof l=="string"?l:l.id||"CYJ").toLowerCase();be.includes("anniu")||be.includes("anew")?ne="":be.includes("yibo")?ne="":ne="CYJ"}return ne},[l]),L=b.useCallback(ne=>{if(!ne)return"";let fe=String(ne).replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").trim();return fe===""?"":fe.replace(/$/,"").trim()},[]),M=b.useMemo(()=>n==="director"||n==="trainer"?null:n==="manager"&&r?(e[r.name]||[]).map(ne=>ne.trim()):n==="store"&&r?(r.stores||[r.storeName]).map(fe=>L(fe)):n==="therapist"&&r?[r.store]:[],[n,r,e,L]),re=b.useMemo(()=>{let ne=[];return M!==null?ne=M:ne=Object.values(e).flat(),ne.filter(fe=>fe).map(fe=>`${P}${fe}`).sort()},[e,M,P]);b.useEffect(()=>{re.length===1&&$(re[0])},[re]);const K=ne=>ne?ne.storeName||ne.store||"":"",G=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],ee=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];b.useEffect(()=>{if(!E||!V)return;(async()=>{A(!0);try{const fe=u==="store"?"daily_reports":"therapist_daily_reports",be=new Map,Ee=i(fe),se=wh(Ee,Cu("date",">=",E),Cu("date","<=",V),s0("date","desc"));(await o0(se)).docs.forEach(ze=>be.set(ze.id,{id:ze.id,...ze.data()}));const ue=E.replace(/-/g,"/"),ie=V.replace(/-/g,"/"),ce=wh(Ee,Cu("date",">=",ue),Cu("date","<=",ie),s0("date","desc"));(await o0(ce)).docs.forEach(ze=>be.set(ze.id,{id:ze.id,...ze.data()}));const Ie=Array.from(be.values()).sort((ze,Ze)=>Ze.date.localeCompare(ze.date));u==="store"?p(Ie):x(Ie)}catch(fe){console.error(fe),t(": "+fe.message,"error")}finally{A(!1)}})()},[u,E,V,i,t,l]);const pe=u==="store"?h:g,le=b.useMemo(()=>pe.filter(ne=>{if(n==="therapist"){if(u!=="therapist"||ne.therapistId!==r?.id)return!1}else if(M!==null){const be=L(K(ne));if(!M.some(se=>be===L(se)))return!1}let fe=!0;if(B){const be=L(B);fe=L(K(ne))===be}return fe}),[pe,B,M,n,r,u,L]),J=ne=>{N(ne.id),k({...ne,date:wr(ne.date)})},U=()=>{N(null),k({})},Y=(ne,fe)=>{k(be=>{const Ee={...be,[ne]:fe};if(u==="therapist"&&(ne==="newCustomerRevenue"||ne==="oldCustomerRevenue"||ne==="returnRevenue")){const se=Number(Ee.newCustomerRevenue||0),Q=Number(Ee.oldCustomerRevenue||0),ue=Number(Ee.returnRevenue||0);Ee.totalRevenue=se+Q-ue}if(u==="store"&&(ne==="operationalAccrual"||ne==="skincareSales")){const se=Number(Ee.operationalAccrual||0),Q=Number(Ee.skincareSales||0);Ee.accrual=se+Q}return Ee})},X=async()=>{try{const fe=i(u==="store"?"daily_reports":"therapist_daily_reports"),be=Ir(fe,z);let Ee={};u==="store"?Ee={...j,cash:Number(j.cash||0),accrual:Number(j.accrual||0),operationalAccrual:Number(j.operationalAccrual||0),skincareSales:Number(j.skincareSales||0),traffic:Number(j.traffic||0),newCustomers:Number(j.newCustomers||0),newCustomerClosings:Number(j.newCustomerClosings||0),newCustomerSales:Number(j.newCustomerSales||0),refund:Number(j.refund||0),skincareRefund:Number(j.skincareRefund||0)}:Ee={...j,totalRevenue:Number(j.totalRevenue||0),newCustomerRevenue:Number(j.newCustomerRevenue||0),newCustomerCount:Number(j.newCustomerCount||0),newCustomerClosings:Number(j.newCustomerClosings||0),oldCustomerRevenue:Number(j.oldCustomerRevenue||0),oldCustomerCount:Number(j.oldCustomerCount||0),returnRevenue:Number(j.returnRevenue||0)},await l0(be,Ee),t("","success"),(u==="store"?p:x)(Q=>Q.map(ue=>ue.id===z?{...ue,...Ee}:ue)),N(null)}catch{t("","error")}},Z=async ne=>{if(confirm("?"))try{const be=i(u==="store"?"daily_reports":"therapist_daily_reports");await f5(Ir(be,ne)),t("","success"),(u==="store"?p:x)(se=>se.filter(Q=>Q.id!==ne))}catch{t("","error")}};return d.jsx(si,{children:d.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),d.jsx("span",{className:"px-2 py-1 bg-stone-100 text-stone-500 rounded text-xs font-bold",children:P})]}),d.jsx("span",{className:"hidden sm:inline text-stone-400",children:"|"}),d.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl w-full sm:w-auto",children:[n!=="trainer"&&n!=="therapist"&&d.jsxs("button",{onClick:()=>{f("store"),$("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(_i,{size:16})," "]}),d.jsxs("button",{onClick:()=>{f("therapist"),$("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(gl,{size:16})," "]})]})]}),d.jsx(zt,{children:d.jsxs("div",{className:"space-y-4 w-full",children:[d.jsxs("div",{className:"flex flex-wrap items-end gap-4 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[d.jsxs("div",{className:"w-full md:w-auto flex-grow",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(co,{size:12})," "]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full",children:[d.jsx("input",{type:"date",value:E,onChange:ne=>C(ne.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),d.jsx("span",{className:"text-stone-400 font-bold transform rotate-90 md:rotate-0",children:""}),d.jsx("input",{type:"date",value:V,onChange:ne=>D(ne.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[d.jsxs("div",{className:"flex-grow min-w-[150px]",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("select",{value:B,onChange:ne=>$(ne.target.value),disabled:re.length===1,className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400 h-[42px] disabled:bg-stone-100 disabled:text-stone-500",children:[re.length>1&&d.jsx("option",{value:"",children:""}),re.map(ne=>d.jsx("option",{value:ne,children:ne},ne))]})]}),d.jsx("div",{className:"flex items-end",children:d.jsxs("button",{onClick:()=>{C(S()),D(S()),re.length>1&&$("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm h-[42px] items-center justify-center whitespace-nowrap",children:[d.jsx(q9,{size:16})," ",d.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),d.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[d.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:d.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[d.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),u==="store"?G.map(ne=>d.jsx("th",{className:`p-4 text-right ${ne.isNegative?"text-rose-500":""} ${ne.width}`,children:ne.label},ne.key)):d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"p-4 min-w-[100px]",children:""}),ee.map(ne=>d.jsx("th",{className:`p-4 text-right ${ne.isNegative?"text-rose-500":ne.isHighlight?"text-indigo-600":""} ${ne.width}`,children:ne.label},ne.key))]}),d.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),d.jsxs("tbody",{className:"divide-y divide-stone-100",children:[_&&d.jsx("tr",{children:d.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[d.jsx(Rs,{className:"animate-spin inline mr-2"}),"..."]})}),!_&&(!E||!V)&&d.jsx("tr",{children:d.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(y2,{size:24,className:"opacity-50"}),d.jsx("p",{className:"font-bold",children:""})]})})}),!_&&le.map(ne=>{const fe=z===ne.id,be=L(K(ne));return d.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:d.jsxs("div",{className:"flex flex-col",children:[fe?d.jsx("input",{type:"date",value:j.date,onChange:Ee=>Y("date",Ee.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):d.jsx("span",{className:"font-mono font-bold text-stone-600",children:ne.date}),d.jsxs("span",{className:"font-bold text-stone-800",children:[be,""]})]})}),u==="store"?G.map(Ee=>d.jsx("td",{className:"p-4 text-right",children:fe?d.jsx("input",{type:"number",value:j[Ee.key],onChange:se=>Y(Ee.key,se.target.value),readOnly:Ee.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${Ee.isNegative?"text-rose-500":""} ${Ee.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):d.jsx("span",{className:Ee.isNegative?"text-rose-500 font-bold":"",children:I(ne[Ee.key])})},Ee.key)):d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"p-4 font-bold",children:ne.therapistName}),ee.map(Ee=>d.jsx("td",{className:"p-4 text-right",children:fe?d.jsx("input",{type:"number",value:j[Ee.key],onChange:se=>Y(Ee.key,se.target.value),readOnly:Ee.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${Ee.isNegative?"text-rose-500":Ee.isHighlight?"font-bold text-indigo-600":""} ${Ee.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):d.jsx("span",{className:Ee.isNegative?"text-rose-500 font-bold":Ee.isHighlight?"text-indigo-600 font-bold":"",children:I(ne[Ee.key])})},Ee.key))]}),d.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:fe?d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{onClick:X,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:d.jsx(Sl,{size:16})}),d.jsx("button",{onClick:U,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:d.jsx(ca,{size:16})})]}):d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{onClick:()=>J(ne),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:d.jsx(B9,{size:16})}),d.jsx("button",{onClick:()=>Z(ne.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:d.jsx(zg,{size:16})})]})})]},ne.id)}),!_&&le.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:" ()"})})]})]})}),d.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[d.jsx(h2,{size:12}),"  ",d.jsx(Rm,{size:12})]})]})]})})]})})},ppe=()=>{const{fmtMoney:t,fmtNum:e,userRole:n,currentUser:r,currentBrand:i,allReports:s,managers:l,budgets:u,selectedYear:f,selectedMonth:h}=b.useContext(lr),{brandInfo:p,brandPrefix:g}=b.useMemo(()=>{let E="CYJ",C="CYJ";i&&(typeof i=="string"?E=i:typeof i=="object"&&(E=i.id||"CYJ",C=i.name||i.label||E));const V=E.toLowerCase();return V.includes("anniu")||V.includes("anew")?C="":V.includes("yibo")?C="":C="CYJ",{brandInfo:{id:E,name:C},brandPrefix:C}},[i]),x=E=>{if(!E)return"";let C=String(E).replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").trim();return C===""?"":C.replace(/$/,"").trim()},_=b.useMemo(()=>{if(!s||!l)return null;const E=parseInt(f),C=parseInt(h),V=Object.keys(l||{}).map(D=>({manager:D||"",stores:[],cashTotal:0,accrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0,budgetTotal:0,achievement:0}));return V.forEach(D=>{(l[D.manager]||[]).forEach($=>{const z=`${g}${$}`,N={name:z,cleanName:$,cashTotal:0,accrualTotal:0,budget:0,achievement:0};s.forEach(I=>{const P=new Date(I.date);if(P.getFullYear()!==E||P.getMonth()+1!==C||x(I.storeName)!==$)return;const M=(Number(I.cash)||0)-(Number(I.refund)||0),re=Number(I.accrual)||0;N.cashTotal+=M,N.accrualTotal+=re,D.cashTotal+=M,D.accrualTotal+=re,D.skincareSalesTotal+=Number(I.skincareSales)||0,D.trafficTotal+=Number(I.traffic)||0,D.newCustomersTotal+=Number(I.newCustomers)||0,D.newCustomerClosingsTotal+=Number(I.newCustomerClosings)||0});const j=`${z}_${E}_${C}`,k=u[j];k&&(N.budget=Number(k.cashTarget)||0,D.budgetTotal+=N.budget),N.achievement=N.budget>0?N.cashTotal/N.budget*100:0,D.stores.push(N)}),D.achievement=D.budgetTotal>0?D.cashTotal/D.budgetTotal*100:0}),V.sort((D,B)=>B.cashTotal-D.cashTotal)},[s,l,u,f,h,g]),A=b.useMemo(()=>_?_.map(E=>({name:E.manager,value:E.cashTotal})).filter(E=>E.value>0):[],[_]),S=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return _?d.jsx(si,{children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2",children:[d.jsx("div",{className:`w-2 h-8 rounded-full ${p.id.toLowerCase().includes("anniu")?"bg-teal-500":p.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),d.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[p.name," "]})]}),_.length===0&&d.jsxs("div",{className:"p-16 text-center text-stone-400 bg-white rounded-3xl border border-stone-100 shadow-sm mt-6 flex flex-col items-center",children:[d.jsx(v2,{size:48,className:"mb-4 text-stone-200"}),d.jsx("p",{className:"text-lg font-bold text-stone-600",children:""}),d.jsx("p",{className:"text-sm mt-2",children:""})]}),_.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:_.map(E=>d.jsxs(zt,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg uppercase",children:E.manager?.charAt(0)||"-"}),d.jsx("div",{children:d.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[E.manager," "]})})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${E.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[(E.achievement||0).toFixed(0),"%"]})})]}),d.jsxs("div",{className:"space-y-3 mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-lg font-bold text-stone-700",children:t(E.cashTotal)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-base font-bold text-stone-600",children:t(E.accrualTotal)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-base font-bold text-rose-500",children:t(E.skincareSalesTotal)})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(E.trafficTotal)})]}),d.jsxs("div",{className:"text-center border-l border-stone-200",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(E.newCustomersTotal)})]}),d.jsxs("div",{className:"text-center border-l border-stone-200",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(E.newCustomerClosingsTotal)})]})]})]},E.manager))}),n==="director"&&_.length>0&&A.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:d.jsx(zt,{title:` (${g})`,subtitle:"",children:d.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:d.jsx(Vu,{width:"100%",height:"100%",children:d.jsxs(Zfe,{children:[d.jsx(Uz,{data:A,cx:"50%",cy:"50%",labelLine:!0,label:({name:E,percent:C})=>`${E} ${(C*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:A.map((E,C)=>d.jsx(jm,{fill:S[C%S.length]},`cell-${C}`))}),d.jsx(qu,{formatter:E=>t(E)}),d.jsx($u,{verticalAlign:"bottom",height:36})]})})})})}):n!=="director"&&_.length>0?d.jsx("div",{className:"space-y-6",children:_.map(E=>n==="manager"&&r&&r.name!==E.manager?null:d.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[d.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:d.jsxs("h3",{className:"font-bold text-stone-700",children:[E.manager," "]})}),d.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(E.stores||[]).map(C=>d.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h4",{className:"font-bold text-stone-700",children:C.cleanName}),d.jsxs("span",{className:`text-sm font-bold ${(C.achievement||0)>=100?"text-emerald-600":"text-amber-500"}`,children:[(C.achievement||0).toFixed(0),"%"]})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-400",children:""}),d.jsx("span",{className:"font-bold",children:t(C.cashTotal)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-400",children:""}),d.jsx("span",{className:"font-bold",children:t(C.accrualTotal)})]})]})]},C.name))})]},E.manager))}):null]})}):d.jsxs("div",{className:"flex h-96 items-center justify-center",children:[d.jsx(Rs,{className:"h-10 w-10 animate-spin text-stone-300"}),d.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]})},gpe=()=>{const{allReports:t,fmtMoney:e,fmtNum:n,budgets:r,selectedYear:i,selectedMonth:s,managers:l,auditExclusions:u,handleUpdateAuditExclusions:f,showToast:h,currentBrand:p}=b.useContext(lr),[g,x]=b.useState({key:"achievement",direction:"desc"}),[_,A]=b.useState(!1),[S,E]=b.useState([]),C=b.useMemo(()=>{let P="CYJ";if(p){const M=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();M.includes("anniu")||M.includes("anew")?P="":M.includes("yibo")?P="":P="CYJ"}return P},[p]),V=P=>{if(!P)return"";let L=String(P).replace(new RegExp(`^(${C}|CYJ|||Anew|Yibo)`,"i"),"").trim();return L===""?"":L.replace(/$/,"").trim()},D=()=>{E(u||[]),A(!0)},B=async()=>{await f(S),A(!1),h("","success")},$=P=>{E(L=>L.includes(P)?L.filter(M=>M!==P):[...L,P])},z=b.useMemo(()=>{if(!t)return[];const P=parseInt(i),L=parseInt(s),M={};t.forEach(K=>{const G=new Date(K.date);if(G.getFullYear()!==P||G.getMonth()+1!==L)return;const ee=K.storeName;if(!ee)return;const pe=V(ee);if(!pe)return;const le=`${C}${pe}`;M[le]||(M[le]={name:le,displayName:pe,manager:"",cashTotal:0,refundTotal:0,accrualTotal:0,operationalAccrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0});const J=M[le];J.cashTotal+=Number(K.cash)||0,J.refundTotal+=Number(K.refund)||0,J.accrualTotal+=Number(K.accrual)||0,J.operationalAccrualTotal+=Number(K.operationalAccrual)||0,J.skincareSalesTotal+=Number(K.skincareSales)||0,J.trafficTotal+=Number(K.traffic)||0,J.newCustomersTotal+=Number(K.newCustomers)||0,J.newCustomerClosingsTotal+=Number(K.newCustomerClosings)||0});let re=Object.values(M).map(K=>{const G=K.displayName,ee=Object.keys(l).find(X=>(l[X]||[]).includes(G));K.manager=ee||"";const pe=K.cashTotal-K.refundTotal;K.cashTotal=pe;const le=`${K.name}_${P}_${L}`,J=r[le],U=J?Number(J.cashTarget||0):0,Y=J?Number(J.accrualTarget||0):0;return{...K,cashTarget:U,achievement:U>0?pe/U*100:0,accrualTarget:Y,accrualAchievement:Y>0?K.accrualTotal/Y*100:0,trafficASP:K.trafficTotal>0?Math.round(K.operationalAccrualTotal/K.trafficTotal):0}});return re=re.filter(K=>!(u||[]).includes(K.displayName)),re},[t,r,i,s,u,l,C]),N=b.useMemo(()=>{let P=[...z];return g.key&&P.sort((L,M)=>{const re=L[g.key]||0,K=M[g.key]||0;return re<K?g.direction==="ascending"?-1:1:re>K?g.direction==="ascending"?1:-1:0}),P},[z,g]),j=P=>x({key:P,direction:g.key===P&&g.direction==="desc"?"ascending":"desc"}),k=()=>{const P=[",,,,,,,,,,,,"],L=N.map((ee,pe)=>[pe+1,ee.displayName,ee.manager,ee.cashTotal||0,(ee.achievement||0).toFixed(2)+"%",ee.accrualTotal||0,ee.accrualTarget||0,(ee.accrualAchievement||0).toFixed(2)+"%",ee.skincareSalesTotal||0,ee.trafficTotal||0,ee.trafficASP||0,ee.newCustomersTotal||0,ee.newCustomerClosingsTotal||0].join(",")),M="\uFEFF"+[P,...L].join(`
`),re=new Blob([M],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(re),G=document.createElement("a");G.href=K,G.download=`${C}__${new Date().toISOString().split("T")[0]}.csv`,G.click()},I=({store:P,index:L})=>d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm mb-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-stone-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${L<3?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-500"}`,children:L+1}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700 text-lg",children:P.displayName}),d.jsxs("p",{className:"text-xs text-stone-400",children:[P.manager,""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-xs text-stone-400 font-bold uppercase",children:""}),d.jsxs("div",{className:`text-xl font-mono font-bold ${P.achievement>=100?"text-emerald-500":"text-stone-700"}`,children:[P.achievement.toFixed(1),"%"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(Zs,{size:10})," "]}),d.jsx("p",{className:"font-mono font-bold text-stone-700",children:e(P.cashTotal)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(bhe,{size:10})," "]}),d.jsxs("p",{className:`font-mono font-bold ${P.accrualAchievement>=100?"text-emerald-600":"text-blue-600"}`,children:[P.accrualAchievement.toFixed(1),"%"]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(ld,{size:10})," "]}),d.jsx("p",{className:"font-mono font-bold text-stone-600",children:e(P.accrualTotal)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(Md,{size:10})," /"]}),d.jsxs("p",{className:"font-mono text-stone-600 text-sm",children:[n(P.trafficTotal)," / ",d.jsx("span",{className:"text-stone-800 font-bold",children:n(P.newCustomersTotal)})]})]})]})]});return d.jsxs(si,{children:[d.jsxs(zt,{title:`${C} `,subtitle:"",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mb-4 gap-2",children:[d.jsxs("button",{onClick:D,className:"flex items-center justify-center gap-2 px-4 py-2 bg-stone-100 text-stone-600 rounded-xl text-sm font-bold hover:bg-stone-200 transition-colors",children:[d.jsx(Ty,{size:16})," "]}),d.jsxs("button",{onClick:k,className:"flex items-center justify-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[d.jsx(lv,{size:16}),"  CSV"]})]}),d.jsx("div",{className:"block md:hidden",children:N.map((P,L)=>d.jsx(I,{store:P,index:L},P.name))}),d.jsx("div",{className:"hidden md:block w-full overflow-hidden rounded-2xl border border-stone-100",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[d.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase sticky top-0 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-16 text-center",children:""}),d.jsx("th",{className:"p-4 cursor-pointer hover:text-stone-700",onClick:()=>j("displayName"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("cashTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("achievement"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>j("accrualTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>j("accrualAchievement"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("trafficTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("newCustomersTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("newCustomerClosingsTotal"),children:""})]})}),d.jsxs("tbody",{className:"text-sm divide-y divide-stone-50",children:[N.map((P,L)=>d.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:L+1}),d.jsx("td",{className:"p-4 font-bold text-stone-700",children:P.displayName}),d.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(P.cashTotal)}),d.jsxs("td",{className:`p-4 text-right font-mono font-bold ${P.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[P.achievement.toFixed(1),"%"]}),d.jsx("td",{className:"p-4 text-right font-mono font-bold text-blue-600",children:e(P.accrualTotal)}),d.jsxs("td",{className:`p-4 text-right font-mono font-bold ${P.accrualAchievement>=100?"text-emerald-500":"text-blue-400"}`,children:[P.accrualAchievement.toFixed(1),"%"]}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(P.trafficTotal)}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(P.newCustomersTotal)}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(P.newCustomerClosingsTotal)})]},P.name)),N.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:13,className:"p-8 text-center text-stone-400",children:""})})]})]})})})]}),_&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(m2,{size:20,className:"text-rose-400"}),"  (",C,")"]}),d.jsx("button",{onClick:()=>A(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(ca,{size:20})})]}),d.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(l).map(([P,L])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[P," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:L.map(M=>{const re=S.includes(M);return d.jsxs("button",{onClick:()=>$(M),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${re?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[re&&d.jsx(Js,{size:14}),M]},M)})})]},P))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>A(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:B,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Xl={default:{financial:{min:80,max:120,label:""},sales:{min:10,max:45,label:""},loyalty:{min:50,max:80,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}},:{financial:{min:70,max:110,label:""},sales:{min:10,max:40,label:""},loyalty:{min:30,max:60,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}},:{financial:{min:70,max:110,label:""},sales:{min:10,max:40,label:""},loyalty:{min:30,max:60,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}}},vpe=()=>{const{rawData:t,allReports:e,budgets:n,managers:r,targets:i,selectedYear:s,selectedMonth:l,fmtMoney:u,fmtNum:f,currentUser:h,userRole:p,activeView:g,currentBrand:x}=b.useContext(lr),[_,A]=b.useState(""),[S,E]=b.useState(""),[C,V]=b.useState(!0),{brandPrefix:D,brandId:B}=b.useMemo(()=>{let Q="CYJ",ue="default";if(x){const ce=(typeof x=="string"?x:x.id||"CYJ").toLowerCase();ce.includes("anniu")||ce.includes("anew")?(Q="",ue=""):ce.includes("yibo")?(Q="",ue=""):(Q="CYJ",ue="default")}return{brandPrefix:Q,brandId:ue}},[x]),$=b.useCallback(Q=>{if(!Q)return"";let ue=String(Q).replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo|Ann)\s*/i,"").trim();return ue===""?"":ue.replace(/$/,"").trim()},[]),z=b.useCallback((Q,ue)=>{const ie=String(Q||"");return ue===""?/|Anew|Ann/i.test(ie):ue===""?/|Yibo/i.test(ie):!/|Anew||Yibo/i.test(ie)},[]),N=b.useMemo(()=>{const Q=i?.benchmarks||{},ue=Q[B]||Q.default||Xl[B]||Xl.default;return{financial:{...Xl.default.financial,...ue?.financial},sales:{...Xl.default.sales,...ue?.sales},loyalty:{...Xl.default.loyalty,...ue?.loyalty},mining:{...Xl.default.mining,...ue?.mining},acquisition:{...Xl.default.acquisition,...ue?.acquisition}}},[B,i]),j=p==="director"||p==="trainer"||p==="manager",k=b.useMemo(()=>{const Q=r||{};if(B==="default")return Object.keys(Q).filter(ie=>!(Q[ie]||[]).some(Ie=>/|Anew||Yibo/i.test(String(Ie||""))));const ue=new Set;return Object.keys(Q).forEach(ie=>{const ce=Q[ie]||[];(B===""?ce.some(Ie=>/|Anew|Ann/i.test(String(Ie||""))):ce.some(Ie=>/|Yibo/i.test(String(Ie||""))))&&ue.add(ie)}),ue.size===0&&t&&t.forEach(ie=>{const ce=ie.storeName||"";if(B===""?/|Anew|Ann/i.test(String(ce)):/|Yibo/i.test(String(ce))){const Ie=$(ce);Object.keys(Q).forEach(ze=>{(Q[ze]||[]).some(Et=>$(Et)===Ie)&&ue.add(ze)})}}),ue.size===0?Object.keys(Q):Array.from(ue)},[r,B,t,$]);b.useEffect(()=>{if(g==="store-analysis")if(p==="store"&&h){const Q=h.stores?.[0]||h.storeName;if(Q){const ue=$(Q),ie=`${D}${ue}`;E(ie)}}else p==="manager"&&h&&A(h.name||"")},[g,h,p,D,$]),b.useEffect(()=>{const Q=ue=>E(ue.detail);return window.addEventListener("navigate-to-store",Q),()=>window.removeEventListener("navigate-to-store",Q)},[]);const I=b.useMemo(()=>{const Q=r||{},ue=ie=>ie?`${D}${$(ie)}`:"";return p==="director"||p==="trainer"?_?(Q[_]||[]).map(ue).filter(Boolean):k.flatMap(ce=>Q[ce]||[]).map(ue).filter(Boolean):p==="manager"?Object.values(Q).flat().map(ue).filter(Boolean):p==="store"&&h?(h.stores||(h.storeName?[h.storeName]:[])).map(ce=>ue(ce)).filter(Boolean):[]},[_,r,h,p,D,k,$]);b.useEffect(()=>{p==="store"&&h&&I.length>0&&(!S||!I.includes(S))&&E(I[0])},[h,I,S,p]);const P=b.useCallback(Q=>{const ue={raw:{cashToAccrual:0,retailRatio:0,retention:0,aspMining:0,acquisitionQuality:0},scores:{financial:0,sales:0,loyalty:0,mining:0,acquisition:0}};if(!Q||Q.length===0)return ue;const ie=Q.reduce((Oe,Me)=>Oe+(Number(Me.cash)||0)-(Number(Me.refund)||0),0),ce=Q.reduce((Oe,Me)=>Oe+(Number(Me.accrual)||0),0),Ne=Q.reduce((Oe,Me)=>Oe+(Number(Me.skincareSales)||0),0),Ie=Q.reduce((Oe,Me)=>Oe+(Number(Me.traffic)||0),0),ze=Q.reduce((Oe,Me)=>Oe+(Number(Me.newCustomers)||0),0),Ze=Q.reduce((Oe,Me)=>Oe+(Number(Me.newCustomerSales)||0),0),Et=Math.max(0,Ie-ze),ut=Math.max(0,ie-Ze),tt={cashToAccrual:ce>0?ie/ce:0,retailRatio:ie>0?Ne/ie:0,retention:Ie>0?Et/Ie:0,aspMining:Et>0&&ze>0&&Ze/ze>0?ut/Et/(Ze/ze):0,acquisitionQuality:ze>0&&(Number(i?.newASP)||3500)>0?Ze/ze/(Number(i?.newASP)||3500):0},Ge=(Oe,Me,Ke)=>{const Fe=Number(Me)>5?Number(Me)/100:Number(Me),$t=Number(Ke)>5?Number(Ke)/100:Number(Ke);return Oe<=Fe?60*(Oe/Fe):Oe>=$t?100:60+(Oe-Fe)/($t-Fe)*40},Pe=N,xt={financial:Ge(tt.cashToAccrual,Pe.financial.min,Pe.financial.max),sales:Ge(tt.retailRatio,Pe.sales.min,Pe.sales.max),loyalty:Ge(tt.retention,Pe.loyalty.min,Pe.loyalty.max),mining:Ge(tt.aspMining,Pe.mining.min,Pe.mining.max),acquisition:Ge(tt.acquisitionQuality,Pe.acquisition.min,Pe.acquisition.max)};return{raw:tt,scores:xt}},[N,i]),L=b.useCallback(Q=>{const ue=parseInt(s),ie=parseInt(l),ce=ue-1911,Ne=e.filter(Oe=>{if(!Oe.date||!Oe.storeName)return!1;const Me=String(Oe.date).replace(/-/g,"/").split("/"),Ke=parseInt(Me[0]),Fe=parseInt(Me[1]);if(!((Ke===ue||Ke===ce)&&Fe===ie))return!1;const $t=$(Oe.storeName);return Q.includes($t)}),Ie=Ne.reduce((Oe,Me)=>Oe+(Number(Me.cash)||0)-(Number(Me.refund)||0),0),ze=Ne.reduce((Oe,Me)=>Oe+(Number(Me.refund)||0),0),Ze=Ne.reduce((Oe,Me)=>Oe+(Number(Me.traffic)||0),0),Et=Ne.reduce((Oe,Me)=>Oe+(Number(Me.operationalAccrual)||0),0),ut=Ne.reduce((Oe,Me)=>Oe+(Number(Me.newCustomers)||0),0),tt=Ne.reduce((Oe,Me)=>Oe+(Number(Me.newCustomerSales)||0),0),Ge=Ne.reduce((Oe,Me)=>Oe+(Number(Me.newCustomerClosings)||0),0);let Pe=0;Q.forEach(Oe=>{const Me=`${D}${Oe}_${ue}_${ie}`;n[Me]&&(Pe+=Number(n[Me].cashTarget||0))});const xt=P(Ne);return{totalCash:Ie,totalRefund:ze,totalTraffic:Ze,trafficASP:Ze>0?Math.round(Et/Ze):0,newCustomerASP:ut>0?Math.round(tt/ut):0,totalNewCustomerClosings:Ge,budget:Pe,achievement:Pe>0?Ie/Pe*100:0,health:xt}},[e,s,l,$,D,n,P]),M=b.useMemo(()=>{if(!e)return null;const Q=parseInt(s),ue=parseInt(l),ie=Q-1911,ce=e.filter(Oe=>{if(!Oe.date||!Oe.storeName)return!1;const Me=String(Oe.date).replace(/-/g,"/").split("/"),Ke=parseInt(Me[0]),Fe=parseInt(Me[1]);return(Ke===Q||Ke===ie)&&Fe===ue?z(Oe.storeName,B):!1}),Ne=new Set(ce.map(Oe=>$(Oe.storeName)));let Ie=0;Ne.forEach(Oe=>{const Me=`${D}${Oe}_${Q}_${ue}`;n[Me]&&(Ie+=Number(n[Me].cashTarget||0))});const ze=ce.reduce((Oe,Me)=>Oe+(Number(Me.cash)||0)-(Number(Me.refund)||0),0),Ze=ce.reduce((Oe,Me)=>Oe+(Number(Me.refund)||0),0),Et=ce.reduce((Oe,Me)=>Oe+(Number(Me.traffic)||0),0),ut=ce.reduce((Oe,Me)=>Oe+(Number(Me.operationalAccrual)||0),0),tt=ce.reduce((Oe,Me)=>Oe+(Number(Me.newCustomers)||0),0),Ge=ce.reduce((Oe,Me)=>Oe+(Number(Me.newCustomerSales)||0),0),Pe=ce.reduce((Oe,Me)=>Oe+(Number(Me.newCustomerClosings)||0),0),xt=P(ce);return{totalCash:ze,totalRefund:Ze,totalTraffic:Et,trafficASP:Et>0?Math.round(ut/Et):0,newCustomerASP:tt>0?Math.round(Ge/tt):0,totalNewCustomerClosings:Pe,budget:Ie,achievement:Ie>0?ze/Ie*100:0,health:xt}},[e,s,l,z,B,D,n,$,P]),re=b.useMemo(()=>{if(!j||!e)return null;let Q=_;if(p==="manager"&&(Q=h.name),!Q)return null;const ue=(r[Q]||[]).map($);return L(ue)},[j,_,p,h,e,r,$,L]),K=b.useMemo(()=>{if(!S||!t)return null;const Q=parseInt(s),ue=parseInt(l),ie=Q-1911,ce=$(S),Ne=t.filter(Ke=>{if(!Ke.date||!Ke.storeName)return!1;const Fe=String(Ke.date).replace(/-/g,"/").split("/"),$t=parseInt(Fe[0]),qr=parseInt(Fe[1]);return($t===Q||$t===ie)&&qr===ue?$(Ke.storeName)===ce:!1}).sort((Ke,Fe)=>wr(Ke.date).localeCompare(wr(Fe.date))),Ie=Ne.reduce((Ke,Fe)=>Ke+(Number(Fe.cash)||0),0),ze=Ne.reduce((Ke,Fe)=>Ke+(Number(Fe.refund)||0),0),Ze=Ie-ze,Et=Ne.reduce((Ke,Fe)=>Ke+(Number(Fe.traffic)||0),0),ut=Ne.reduce((Ke,Fe)=>Ke+(Number(Fe.operationalAccrual)||0),0),tt=Ne.reduce((Ke,Fe)=>Ke+(Number(Fe.newCustomers)||0),0),Ge=Ne.reduce((Ke,Fe)=>Ke+(Number(Fe.newCustomerSales)||0),0),Pe=Ne.reduce((Ke,Fe)=>Ke+(Number(Fe.newCustomerClosings)||0),0),xt=n[`${S}_${Q}_${ue}`]||{},Oe=Number(xt.cashTarget||0),Me=P(Ne);return{totalCash:Ze,achievement:Oe>0?Ze/Oe*100:0,trafficASP:Et>0?Math.round(ut/Et):0,newCustomerASP:tt>0?Math.round(Ge/tt):0,totalNewCustomerClosings:Pe,totalRefund:ze,dailyData:Ne.map(Ke=>({date:String(wr(Ke.date)).split("/")[2],cash:(Number(Ke.cash)||0)-(Number(Ke.refund)||0),accrual:Number(Ke.accrual)||0,traffic:Number(Ke.traffic)||0})),budget:Oe,health:Me}},[S,s,l,t,n,$,P]),G=b.useMemo(()=>{if(!C||!e)return null;const Q=parseInt(s),ue=parseInt(l),ie=Q-1911,ce=e.filter(Ne=>{if(!Ne.date||!Ne.storeName)return!1;const Ie=String(Ne.date).replace(/-/g,"/").split("/"),ze=parseInt(Ie[0]),Ze=parseInt(Ie[1]);return!(!((ze===Q||ze===ie)&&Ze===ue)||!z(Ne.storeName,B)||$(Ne.storeName)===$(S))});return P(ce)},[s,l,e,C,S,$,z,B,P]),ee=b.useMemo(()=>{if(!K?.health)return[];const Q=K.health.scores,ue=G?.scores||{financial:0,sales:0,loyalty:0,mining:0,acquisition:0},ie=N;return[{subject:"",A:Q.financial,B:ue.financial,fullMark:100,label:ie.financial.label},{subject:"",A:Q.sales,B:ue.sales,fullMark:100,label:ie.sales.label},{subject:"",A:Q.loyalty,B:ue.loyalty,fullMark:100,label:ie.loyalty.label},{subject:"",A:Q.mining,B:ue.mining,fullMark:100,label:ie.mining.label},{subject:"",A:Q.acquisition,B:ue.acquisition,fullMark:100,label:ie.acquisition.label}]},[K,G,N]),pe=p==="manager"||p==="director"&&_,le=pe&&re?re:M,J=pe?`${p==="manager"?h.name:_} `:`${D} `,U=b.useMemo(()=>{if(!M||!le)return[];const Q=N,ue=le.health.scores,ie=M.health.scores;return[{subject:"",A:ue.financial,B:ie.financial,fullMark:100,label:Q.financial.label},{subject:"",A:ue.sales,B:ie.sales,fullMark:100,label:Q.sales.label},{subject:"",A:ue.loyalty,B:ie.loyalty,fullMark:100,label:Q.loyalty.label},{subject:"",A:ue.mining,B:ie.mining,fullMark:100,label:Q.mining.label},{subject:"",A:ue.acquisition,B:ie.acquisition,fullMark:100,label:Q.acquisition.label}]},[le,M,N]),Y=()=>{const Q=N;return d.jsxs("div",{className:"group relative z-[100]",children:[d.jsx(D9,{size:18,className:"text-stone-400 cursor-help hover:text-amber-500 transition-colors"}),d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-[260px] sm:w-[320px] p-4 bg-white border border-stone-200 text-stone-600 text-xs rounded-2xl shadow-xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none translate-y-2 group-hover:translate-y-0",children:[d.jsxs("p",{className:"font-bold text-sm text-stone-800 mb-3 border-b border-stone-100 pb-2 flex items-center gap-2",children:[d.jsx(ai,{size:16,className:"text-amber-500"})," "]}),d.jsxs("div",{className:"space-y-3 text-left",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-emerald-600",children:["1. ",Q.financial.label," ()"]}),d.jsx("p",{className:"text-[11px] text-stone-500 mt-0.5 leading-relaxed",children:""})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-blue-500",children:["2. ",Q.sales.label," ()"]}),d.jsx("p",{className:"text-[11px] text-stone-500 mt-0.5 leading-relaxed",children:""})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-purple-600",children:["3. ",Q.loyalty.label," ()"]}),d.jsx("p",{className:"text-[11px] text-stone-500 mt-0.5 leading-relaxed",children:""})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-amber-600",children:["4. ",Q.mining.label," ()"]}),d.jsx("p",{className:"text-[11px] text-stone-500 mt-0.5 leading-relaxed",children:" vs "})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-rose-500",children:["5. ",Q.acquisition.label," ()"]}),d.jsx("p",{className:"text-[11px] text-stone-500 mt-0.5 leading-relaxed",children:""})]})]}),d.jsx("div",{className:"mt-4 pt-2 border-t border-stone-100 text-[10px] text-stone-400 text-center font-bold bg-stone-50 -mx-4 -mb-4 p-3 rounded-b-2xl",children:""})]})]})},X=b.useMemo(()=>{if(!j||!t)return null;const Q=r||{};let ue=[];if(p==="manager"&&h?ue=Q[h.name]||[]:(p==="director"||p==="trainer")&&(ue=k.flatMap(Pe=>Q[Pe]||[])),ue.length===0)return null;const ie=parseInt(s),ce=parseInt(l),Ne=ie-1911,Ie={};ue.forEach(Pe=>{if(!Pe)return;const xt=$(Pe);let Oe="";Object.entries(Q).forEach(([Me,Ke])=>{(Ke||[]).includes(Pe)&&(Oe=Me)}),Ie[xt]={id:String(Pe),name:`${xt}`,manager:Oe,cash:0,accrual:0,skincare:0,traffic:0,newCust:0,newSales:0,foundData:!1}}),t.forEach(Pe=>{if(!Pe.date||!Pe.storeName)return;const xt=String(Pe.date).replace(/-/g,"/").split("/"),Oe=parseInt(xt[0]),Me=parseInt(xt[1]);if(!((Oe===ie||Oe===Ne)&&Me===ce))return;const Ke=$(Pe.storeName);Ie[Ke]&&(Ie[Ke].foundData=!0,Ie[Ke].cash+=(Number(Pe.cash)||0)-(Number(Pe.refund)||0),Ie[Ke].accrual+=Number(Pe.accrual)||0,Ie[Ke].skincare+=Number(Pe.skincareSales)||0,Ie[Ke].traffic+=Number(Pe.traffic)||0,Ie[Ke].newCust+=Number(Pe.newCustomers)||0,Ie[Ke].newSales+=Number(Pe.newCustomerSales)||0)});const ze=N,Ze=Pe=>Number(Pe)>5?Number(Pe)/100:Number(Pe),Et=Object.values(Ie).filter(Pe=>Pe.foundData).map(Pe=>{const xt=Math.max(0,Pe.traffic-Pe.newCust),Oe=Pe.accrual>0?Pe.cash/Pe.accrual:0,Me=Pe.cash>0?Pe.skincare/Pe.cash:0,Ke=Pe.traffic>0?xt/Pe.traffic:0,Fe=Pe.newCust>0?Math.round(Pe.newSales/Pe.newCust):0,$t=Number(i?.newASP)||3500,qr=$t>0?Fe/$t:0;return{...Pe,cashToAccrual:Oe,productRatio:Me,retentionRate:Ke,newCustomerASP:Fe,acquisitionRate:qr}}),ut=Et.filter(Pe=>Pe.cashToAccrual<Ze(ze.financial.min)&&Pe.cash>0).sort((Pe,xt)=>Pe.cashToAccrual-xt.cashToAccrual),tt=Et.filter(Pe=>Pe.retentionRate<Ze(ze.loyalty.min)-.1&&Pe.traffic>10).sort((Pe,xt)=>Pe.retentionRate-xt.retentionRate),Ge=Et.filter(Pe=>Pe.acquisitionRate<Ze(ze.acquisition.min)&&Pe.newCust>0).sort((Pe,xt)=>Pe.acquisitionRate-xt.acquisitionRate);return{financialRisks:ut,retentionRisks:tt,salesRisks:Ge}},[t,p,h,r,j,i,N,k,s,l,$]),Z=({store:Q,value:ue,label:ie,type:ce,onClick:Ne,fmtMoney:Ie})=>d.jsxs("div",{onClick:()=>Ne(Q.id),className:"flex items-center justify-between p-3 hover:bg-stone-50 rounded-lg cursor-pointer group transition-colors border-b border-stone-100 last:border-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${ce==="danger"?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-600"}`,children:"!"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700 text-sm group-hover:text-amber-600 transition-colors",children:Q.name}),d.jsxs("p",{className:"text-xs text-stone-400",children:[Q.manager,""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`font-mono font-bold text-sm ${ce==="danger"?"text-rose-500":"text-amber-500"}`,children:ce==="currency"?Ie(ue):`${(Number(ue)*100).toFixed(0)}%`}),d.jsx("p",{className:"text-[10px] text-stone-400",children:ie})]}),d.jsx(Rm,{size:14,className:"text-stone-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),ne=Q=>{E(`${D}${$(Q)}`)},fe=N,be=Q=>`${(Number(Q)>5?Number(Q):Number(Q)*100).toFixed(0)}%`,Ee=Q=>Number(Q)>5?Number(Q)/100:Number(Q),se=S||j&&pe;return d.jsx(si,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsx(zt,{title:"",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[d.jsxs("div",{className:"flex gap-3 w-full sm:w-auto items-center overflow-x-auto no-scrollbar",children:[S&&j&&d.jsxs("button",{onClick:()=>E(""),className:"h-[42px] px-4 bg-stone-800 text-white rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-stone-700 transition-all shadow-sm whitespace-nowrap",children:[d.jsx(h2,{size:16}),""]}),d.jsxs("select",{value:_,onChange:Q=>A(Q.target.value),disabled:p!=="director"&&p!=="trainer",className:"h-[42px] px-4 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white flex-1 sm:flex-none min-w-[120px]",children:[d.jsx("option",{value:"",children:p==="director"?"":""}),k.map(Q=>d.jsxs("option",{value:Q,children:[Q,""]},Q))]}),d.jsxs("select",{value:S,onChange:Q=>E(Q.target.value),className:"h-[42px] px-4 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white flex-1 sm:flex-none min-w-[140px]",children:[d.jsx("option",{value:"",children:"..."}),I.map(Q=>d.jsx("option",{value:Q,children:Q},Q))]})]}),se&&d.jsx("div",{className:"flex items-center gap-2 mt-2 sm:mt-0",children:d.jsxs("label",{className:"flex items-center cursor-pointer relative",children:[d.jsx("input",{type:"checkbox",checked:C,onChange:Q=>V(Q.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-stone-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-stone-500"}),d.jsx("span",{className:"ml-3 text-sm font-bold text-stone-500",children:""})]})})]})}),!S&&j&&le?d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:d.jsxs("div",{className:"flex flex-col xl:flex-row gap-6 mb-6",children:[d.jsxs("div",{className:"w-full xl:w-1/3 bg-white rounded-2xl border border-stone-100 shadow-sm p-4 flex flex-col relative",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-stone-700 flex items-center gap-2",children:[d.jsx(ai,{size:18,className:"text-indigo-500"})," ",J]}),d.jsx("p",{className:"text-xs text-stone-400",children:"Regional Five-Force Analysis"})]}),d.jsx(Y,{})]}),d.jsx("div",{className:"h-[350px] w-full relative",children:d.jsx(Vu,{width:"100%",height:"100%",children:d.jsxs(LM,{cx:"50%",cy:"50%",outerRadius:"70%",data:U,children:[d.jsx(G_,{stroke:"#cbd5e1"}),d.jsx(W_,{dataKey:"subject",tick:{fill:"#78716c",fontSize:12,fontWeight:"bold"}}),d.jsx(Y_,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),C&&pe&&d.jsx(eh,{name:"",dataKey:"B",stroke:"#a8a29e",fill:"#a8a29e",fillOpacity:.1}),d.jsx(eh,{name:pe?"":"",dataKey:"A",stroke:"#6366f1",fill:"#6366f1",fillOpacity:.4}),d.jsx($u,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"}}),d.jsx(qu,{contentStyle:{borderRadius:"12px",fontSize:"12px"},formatter:Q=>(Number(Q)||0).toFixed(0)})]})})})]}),d.jsxs("div",{className:"w-full xl:w-2/3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 content-start",children:[d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(le.totalCash)})]}),d.jsxs("p",{className:`text-sm font-bold mt-2 ${le.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[le.achievement.toFixed(1),"% "]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(le.trafficASP)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(le.budget)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(le.newCustomerASP)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:f(le.totalNewCustomerClosings)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:u(le.totalRefund)})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[fe.financial.label," ()"]}),d.jsxs("h3",{className:`text-xl font-bold font-mono ${le.health.raw.cashToAccrual<Ee(fe.financial.min)?"text-rose-500":"text-stone-700"}`,children:[(le.health.raw.cashToAccrual*100).toFixed(0),"%"]})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[fe.sales.label," ()"]}),d.jsxs("h3",{className:`text-xl font-bold font-mono ${le.health.raw.retailRatio<Ee(fe.sales.min)?"text-rose-500":"text-stone-700"}`,children:[(le.health.raw.retailRatio*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[fe.loyalty.label," ()"]}),d.jsxs("h3",{className:"text-xl font-bold font-mono text-stone-700",children:[(le.health.raw.retention*100).toFixed(1),"%"]})]})]})]})}):null,!S&&j&&X?d.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-2 text-stone-500",children:[d.jsx(ai,{size:20}),d.jsxs("h3",{className:"font-bold",children:[p==="manager"?`${h.name}`:D,"  ()"]}),d.jsxs("span",{className:"text-xs bg-stone-100 text-stone-400 px-2 py-1 rounded-lg",children:["",B==="default"?"":B," ( ",be(fe.financial.min),")"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-rose-50 border-b border-rose-100 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-rose-800 flex items-center gap-2",children:[d.jsx(sl,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-rose-200 text-rose-800 px-2 py-0.5 rounded-full font-bold",children:[X.financialRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:X.financialRisks.length>0?X.financialRisks.map(Q=>d.jsx(Z,{store:Q,value:Q.cashToAccrual,label:fe.financial.label,type:"percent",onClick:ne,fmtMoney:u},Q.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ch,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:["",fe.financial.label," < ",be(fe.financial.min)]})]}),d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-amber-50 border-b border-amber-100 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-amber-800 flex items-center gap-2",children:[d.jsx(Md,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-amber-200 text-amber-800 px-2 py-0.5 rounded-full font-bold",children:[X.retentionRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:X.retentionRisks.length>0?X.retentionRisks.map(Q=>d.jsx(Z,{store:Q,value:Q.retentionRate,label:fe.loyalty.label,type:"percent",onClick:ne,fmtMoney:u},Q.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ch,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:["",fe.loyalty.label," < ",be(Ee(fe.loyalty.min)-.1)]})]}),d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-stone-100 border-b border-stone-200 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-stone-700 flex items-center gap-2",children:[d.jsx(Zs,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-stone-300 text-stone-800 px-2 py-0.5 rounded-full font-bold",children:[X.salesRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:X.salesRisks.length>0?X.salesRisks.map(Q=>d.jsx(Z,{store:Q,value:Q.acquisitionRate,label:"",type:"percent",onClick:ne,fmtMoney:u},Q.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ch,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:[" < ",be(fe.acquisition.min)]})]})]})]}):null,S&&K?d.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-500",children:[d.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[d.jsxs("div",{className:"w-full xl:w-1/3 bg-white rounded-2xl border border-stone-100 shadow-sm p-4 flex flex-col relative",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-stone-700 flex items-center gap-2",children:[d.jsx(ai,{size:18,className:"text-amber-500"})," "]}),d.jsx("p",{className:"text-xs text-stone-400",children:"Five-Force Store Analysis"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-xs font-bold px-3 py-1 rounded-full border ${K.health.scores.financial<60||K.health.scores.loyalty<60||K.health.scores.sales<60?"bg-rose-50 text-rose-600 border-rose-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:["",K.health.scores.financial<60?"":K.health.scores.loyalty<60?"":K.health.scores.sales<60?"":""]}),d.jsx(Y,{})]})]}),d.jsx("div",{className:"h-[350px] w-full relative",children:d.jsx(Vu,{width:"100%",height:"100%",children:d.jsxs(LM,{cx:"50%",cy:"50%",outerRadius:"70%",data:ee,children:[d.jsx(G_,{stroke:"#cbd5e1"}),d.jsx(W_,{dataKey:"subject",tick:{fill:"#78716c",fontSize:12,fontWeight:"bold"}}),d.jsx(Y_,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),C&&d.jsx(eh,{name:"",dataKey:"B",stroke:"#a8a29e",fill:"#a8a29e",fillOpacity:.1}),d.jsx(eh,{name:S,dataKey:"A",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.4}),d.jsx($u,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"}}),d.jsx(qu,{contentStyle:{borderRadius:"12px",fontSize:"12px"},formatter:Q=>(Number(Q)||0).toFixed(0)})]})})})]}),d.jsxs("div",{className:"w-full xl:w-2/3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 content-start",children:[d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(K.totalCash)})]}),d.jsxs("p",{className:`text-sm font-bold mt-2 ${K.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[K.achievement.toFixed(1),"% "]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(K.trafficASP)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(K.budget)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(K.newCustomerASP)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:f(K.totalNewCustomerClosings)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:u(K.totalRefund)})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[fe.financial.label," ()"]}),d.jsxs("h3",{className:`text-xl font-bold font-mono ${K.health.raw.cashToAccrual<Ee(fe.financial.min)?"text-rose-500":"text-stone-700"}`,children:[(K.health.raw.cashToAccrual*100).toFixed(0),"%"]})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[fe.sales.label," ()"]}),d.jsxs("h3",{className:`text-xl font-bold font-mono ${K.health.raw.retailRatio<Ee(fe.sales.min)?"text-rose-500":"text-stone-700"}`,children:[(K.health.raw.retailRatio*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[fe.loyalty.label," ()"]}),d.jsxs("h3",{className:"text-xl font-bold font-mono text-stone-700",children:[(K.health.raw.retention*100).toFixed(1),"%"]})]})]})]}),d.jsx(zt,{title:`${S} `,subtitle:"()",children:d.jsx("div",{className:"h-[400px] w-full",children:d.jsx(Vu,{width:"100%",height:"100%",children:d.jsxs(f2,{data:K.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[d.jsx(Sy,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),d.jsx(Ay,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),d.jsx(ad,{yAxisId:"left",width:80,tickFormatter:Q=>Q===0?"0":`$${(Q/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),d.jsx(ad,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),d.jsx(qu,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(Q,ue)=>ue===""?[f(Q),ue]:[u(Q),ue],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),d.jsx($u,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),d.jsx(o2,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),d.jsx(id,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),d.jsx(id,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]}):!j&&d.jsx("div",{className:"p-10 text-center text-stone-400 bg-stone-50 rounded-xl border border-stone-100",children:d.jsx("p",{className:"font-bold",children:""})})]})})},ype=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!1),[i,s]=b.useState(1),l=20,u=new Date().toISOString().split("T")[0],[f,h]=b.useState({start:u,end:u}),p=()=>{r(!0),e([]);const E=new Date(f.start);E.setHours(0,0,0,0);const C=new Date(f.end);C.setHours(23,59,59,999);const V=wh(xh(aa,"artifacts",Qf,"public","data","system_logs"),Cu("timestamp",">=",Yt.fromDate(E)),Cu("timestamp","<=",Yt.fromDate(C)),u5(500));return Zr(V,B=>{let $=B.docs.map(z=>({id:z.id,...z.data()}));$.sort((z,N)=>{const j=z.timestamp?.toMillis?z.timestamp.toMillis():0;return(N.timestamp?.toMillis?N.timestamp.toMillis():0)-j}),e($),r(!1)})};b.useEffect(()=>{const E=p();return()=>E()},[f]);const g=Math.ceil(t.length/l),x=t.slice((i-1)*l,i*l),_=E=>{if(!E)return"-";const C=E.toDate?E.toDate():new Date(E);return`${C.getMonth()+1}/${C.getDate()} ${C.getHours().toString().padStart(2,"0")}:${C.getMinutes().toString().padStart(2,"0")}`},A=E=>{switch(E){case"director":return d.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return d.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return d.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return d.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return d.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},S=E=>E==="iOS"||E==="Android"||E==="Mobile"?d.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[d.jsx(Ome,{size:12})," ",E]}):d.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[d.jsx(pme,{size:12})," PC"]});return d.jsx(si,{children:d.jsx("div",{className:"space-y-6 pb-20",children:d.jsxs(zt,{children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),d.jsx("p",{className:"text-xs text-stone-400",children:""})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2",children:[d.jsx(co,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[d.jsx("input",{type:"date",value:f.start,onChange:E=>h(C=>({...C,start:E.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),d.jsx("span",{className:"text-stone-300",children:"~"}),d.jsx("input",{type:"date",value:f.end,onChange:E=>h(C=>({...C,end:E.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?d.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[d.jsx(aS,{className:"animate-spin mx-auto mb-2"}),d.jsx("p",{children:"..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[d.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4 w-24",children:""}),d.jsx("th",{className:"p-4 w-24",children:""}),d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:x.length>0?x.map(E=>d.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:_(E.timestamp)}),d.jsx("td",{className:"p-4",children:S(E.device)}),d.jsx("td",{className:"p-4",children:A(E.role)}),d.jsx("td",{className:"p-4 font-bold text-stone-700",children:E.user}),d.jsx("td",{className:"p-4 font-medium text-stone-600",children:E.action}),d.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof E.details=="string"?E.details:JSON.stringify(E.details),children:typeof E.details=="string"?E.details:JSON.stringify(E.details)})]},E.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&d.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[d.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>s(E=>Math.max(1,E-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:d.jsx(p2,{size:18})}),d.jsx("button",{onClick:()=>s(E=>Math.min(g,E+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:d.jsx(M9,{size:18})})]})]})]})]})})})};function bpe(){const{currentBrand:t,userRole:e,showToast:n}=b.useContext(lr),[r,i]=b.useState([]),[s,l]=b.useState(!1),[u,f]=b.useState(0);if(e!=="director")return d.jsxs("div",{className:"p-8 text-center text-stone-400 bg-stone-50 rounded-2xl border border-stone-200",children:[d.jsx(sl,{className:"mx-auto mb-2"}),d.jsx("p",{children:""})]});const h=_=>i(A=>[`[${new Date().toLocaleTimeString()}] ${_}`,...A]),p=async()=>{if(confirm(`${t.name}
 YYYY-MM-DD `)){l(!0),i([]),h(`  ${t.name} ...`);try{const _=xh(aa,"brands",t.id,"daily_reports"),A=await o0(_);h(`  ${A.size} `);let S=Zw(aa),E=0,C=0,V=0;for(const D of A.docs){const B=D.data();if(V++,f(Math.round(V/A.size*100)),B.date&&B.date.includes("/")){const $=B.date.replace(/\//g,"-"),z=Ir(aa,"brands",t.id,"daily_reports",D.id);S.update(z,{date:$}),C++,E++}E>=400&&(await S.commit(),S=Zw(aa),E=0,h(" ..."))}E>0&&await S.commit(),h(`  ${C} `),n("","success")}catch(_){h(` : ${_.message}`)}finally{l(!1),f(0)}}},g=async()=>{l(!0),i([]),h(`  ${t.name} ...`);try{const _=xh(aa,"brands",t.id,"daily_reports"),S=(await o0(_)).docs.map($=>({id:$.id,...$.data()})),E=JSON.stringify(S,null,2),C=new Blob([E],{type:"application/json"}),V=URL.createObjectURL(C),D=document.createElement("a"),B=`${t.id}_backup_${new Date().toISOString().split("T")[0]}.json`;D.href=V,D.download=B,document.body.appendChild(D),D.click(),document.body.removeChild(D),h(` : ${B}`),h(` : ${S.length}`),n("","success")}catch(_){h(` : ${_.message}`)}finally{l(!1)}},x=()=>{confirm("")&&(localStorage.clear(),window.location.reload(!0))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-stone-800 rounded-full"}),d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-amber-600 mb-4",children:d.jsx(z9,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:" YYYY/MM/DD  YYYY-MM-DD "}),d.jsxs("button",{onClick:p,disabled:s,className:"w-full py-2 bg-stone-800 text-white rounded-lg text-sm font-bold hover:bg-stone-700 disabled:bg-stone-300 flex items-center justify-center gap-2",children:[s?d.jsx(Rs,{className:"animate-spin",size:16}):d.jsx(xme,{size:16}),""]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 mb-4",children:d.jsx(lv,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:" JSON "}),d.jsxs("button",{onClick:g,disabled:s,className:"w-full py-2 bg-white border border-stone-200 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-50 disabled:opacity-50 flex items-center justify-center gap-2",children:[d.jsx(lv,{size:16}),""]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-xl flex items-center justify-center text-rose-600 mb-4",children:d.jsx(aS,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:""}),d.jsxs("button",{onClick:x,className:"w-full py-2 bg-white border border-rose-100 text-rose-600 rounded-lg text-sm font-bold hover:bg-rose-50 flex items-center justify-center gap-2",children:[d.jsx(aS,{size:16}),""]})]})]}),d.jsxs("div",{className:"bg-stone-900 rounded-2xl p-4 font-mono text-xs text-green-400 h-48 overflow-y-auto shadow-inner border border-stone-800",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 border-b border-stone-800 pb-2",children:[d.jsx("span",{className:"font-bold text-stone-500",children:"SYSTEM LOGS"}),s&&d.jsxs("span",{className:"text-amber-400 animate-pulse",children:["Processing... ",u,"%"]})]}),d.jsxs("div",{className:"space-y-1",children:[r.length===0&&d.jsx("span",{className:"text-stone-700",children:"..."}),r.map((_,A)=>d.jsx("div",{children:_},A))]})]})]})}const Kf={default:{financial:{min:.8,max:1.2,label:""},sales:{min:.1,max:.45,label:""},loyalty:{min:.5,max:.8,label:""},mining:{min:.8,max:1.2,label:""},acquisition:{min:.8,max:1.2,label:""}},:{financial:{min:.7,max:1.1,label:""},sales:{min:.1,max:.4,label:""},loyalty:{min:.3,max:.6,label:""},mining:{min:.8,max:1.2,label:""},acquisition:{min:.8,max:1.2,label:""}}},xpe=[{id:"financial",title:" ()",sub:" ( 80% )",type:"percent",suffix:"%",step:5},{id:"sales",title:" ()",sub:" ( 10%-45%)",type:"percent",suffix:"%",step:1},{id:"loyalty",title:" ()",sub:" ( 50% )",type:"percent",suffix:"%",step:1},{id:"mining",title:" ()",sub:"% ( >100%)",type:"percent",suffix:"%",step:5},{id:"acquisition",title:" ()",sub:"% ( 100%)",type:"percent",suffix:"%",step:5}],wpe=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:f,therapists:h,therapistTargets:p,therapistSchedules:g,trainerAuth:x,handleUpdateTrainerAuth:_,getDocPath:A,getCollectionPath:S,currentBrand:E}=b.useContext(lr),[C,V]=b.useState(""),[D,B]=b.useState(t||{}),[$,z]=b.useState(u||Vg),[N,j]=b.useState(r||{}),{brandKey:k,brandLabel:I}=b.useMemo(()=>{let H="default",Ae=" (CYJ)";if(E){const ke=(typeof E=="string"?E:E.id||"CYJ").toLowerCase();ke.includes("anniu")||ke.includes("anew")?(H="",Ae=""):ke.includes("yibo")?(H="",Ae=""):(H="default",Ae=" (CYJ)")}return{brandKey:H,brandLabel:Ae}},[E]);b.useEffect(()=>{r&&j(r)},[r]),b.useEffect(()=>{u&&z(u)},[u]),b.useEffect(()=>{t&&B(H=>({...H,...t,benchmarks:t.benchmarks||Kf}))},[t]);const[P,L]=b.useState({name:"",password:"",stores:""}),[M,re]=b.useState(null),[K,G]=b.useState({name:"",password:"",stores:[]}),[ee,pe]=b.useState({name:"",password:""}),[le,J]=b.useState(null),[U,Y]=b.useState([]),[X,Z]=b.useState({name:"",manager:""}),[ne,fe]=b.useState(!1),[be,Ee]=b.useState(null),[se,Q]=b.useState(""),[ue,ie]=b.useState(""),[ce,Ne]=b.useState(""),[Ie,ze]=b.useState(""),[Ze,Et]=b.useState("0000"),[ut,tt]=b.useState(""),Ge="",Pe=b.useMemo(()=>{const H=[],Ae=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0,icon:kd},{id:"health",label:"",isAdminOnly:!0,icon:ai},{id:"permissions",label:"",isAdminOnly:!0,icon:fc},{id:"trainer-account",label:"",isAdminOnly:!0,icon:Md},{id:"shops",label:"",isAdminOnly:!0,icon:_i},{id:"stores",label:"",isAdminOnly:!0,icon:sS},{id:"managers",label:"",isAdminOnly:!0,icon:VM},{id:"therapists",label:"",isAdminOnly:!0,icon:gl},{id:"maintenance",label:"",isAdminOnly:!0,icon:z9}].forEach(ke=>{(l==="director"||!ke.isAdminOnly&&ke.permissionId&&Ae.includes(ke.permissionId))&&H.push(ke)}),H},[l,u]);b.useEffect(()=>{if(Pe.length>0){const H=Pe.some(Ae=>Ae.id===C);(!C||!H)&&V(Pe[0].id)}},[Pe,C]);const xt=b.useMemo(()=>{const Ae=Object.entries(N||{});return Ae.some(([ke])=>ke===Ge)||Ae.push([Ge,[]]),Ae.sort((ke,it)=>ke[0]===Ge?1:it[0]===Ge?-1:ke[0].localeCompare(it[0]))},[N]);b.useMemo(()=>{let H=h.filter(Ae=>Ae.status==="active");if(l==="director"||l==="trainer")return H.sort((Ae,Ce)=>Ae.store.localeCompare(Ce.store));if(l==="manager"){const Ae=N[f?.name]||[];return H.filter(Ce=>Ae.includes(Ce.store)).sort((Ce,ke)=>Ce.store.localeCompare(ke.store))}if(l==="store"){const Ce=(f?.stores||[f?.storeName]).map(ke=>ke.replace("CYJ","").replace("",""));return H.filter(ke=>Ce.includes(ke.store))}return l==="therapist"?H.filter(Ae=>Ae.id===f?.id):[]},[h,l,f,N]);const Oe=async()=>{if(!ut)return n("","error");await _(ut)?(n("","success"),tt("")):n("","error")},Me=async()=>{try{await Fn(A("kpi_targets"),D),e(D),n("","success")}catch{n("","error")}},Ke=async()=>{try{await Fn(A("permissions"),$),n("","success")}catch{n("","error")}},Fe=(H,Ae)=>{const Ce=$[H]||[],ke=Ce.includes(Ae)?Ce.filter(it=>it!==Ae):[...Ce,Ae];z({...$,[H]:ke})},$t=(H,Ae,Ce,ke)=>{let it=parseFloat(Ce);isNaN(it)&&(it=0),ke==="percent"&&(it=it/100),B(St=>({...St,benchmarks:{...St.benchmarks,[k]:{...St.benchmarks?.[k]||Kf.default,[H]:{...St.benchmarks?.[k]?.[H]||Kf.default[H],[Ae]:it}}}}))},qr=async()=>{if(!X.name||!X.manager)return n("","error");try{const H=X.manager,Ae=A("org_structure"),Ce=await Lf(Ae);let ke=Ce.exists()?{...Ce.data().managers}:{};ke[H]||(ke[H]=[]),ke[H].includes(X.name)||ke[H].push(X.name),await Fn(Ae,{managers:ke}),j(ke),Z({name:"",manager:""}),n("","success")}catch(H){n(": "+H.message,"error")}},ba=async(H,Ae)=>{const Ce=Ae===Ge;if(confirm(Ce?"":""))try{const ke=A("org_structure"),it=await Lf(ke);if(!it.exists())throw new Error("");let St=JSON.parse(JSON.stringify(it.data().managers||{}));Array.isArray(St[Ae])&&(St[Ae]=St[Ae].filter(ur=>ur!==H)),Ce||(Array.isArray(St[Ge])||(St[Ge]=[]),St[Ge].includes(H)||St[Ge].push(H)),await Fn(ke,{managers:St}),j(St),n(Ce?"":"","success")}catch(ke){console.error(ke),n(": "+ke.message,"error")}},uo=async H=>{try{const Ae=A("org_structure"),Ce=await Lf(Ae);let ke=Ce.exists()?JSON.parse(JSON.stringify(Ce.data().managers)):{};const it=U,St=ke[H]||[],ur=St.filter(kt=>!it.includes(kt)),dn=it.filter(kt=>!St.includes(kt));ke[H]=it,Array.isArray(ke[Ge])||(ke[Ge]=[]),ur.forEach(kt=>{ke[Ge].includes(kt)||ke[Ge].push(kt)}),ke[Ge]=ke[Ge].filter(kt=>!dn.includes(kt)),await Fn(Ae,{managers:ke}),j(ke),J(null),n("","success")}catch{n("","error")}},xa=b.useMemo(()=>{const H=Object.values(N||{}).flat(),Ae=i.flatMap(Ce=>Ce.stores||[]);return H.filter(Ce=>!Ae.includes(Ce)).sort()},[N,i]),cr=b.useMemo(()=>N&&N[Ge]?N[Ge].sort():[],[N]),gn=b.useMemo(()=>{const H=Object.values(N||{}).flat(),Ae=i.filter(Ce=>Ce.id!==M?.id).flatMap(Ce=>Ce.stores||[]);return H.filter(Ce=>!Ae.includes(Ce)&&!K.stores.includes(Ce)).sort()},[N,i,M,K]),Zn=async()=>{if(!P.name||!P.password)return n("","error");const H={id:npe(),...P,stores:P.stores?[P.stores]:[]};try{await Fn(A("store_account_data"),{accounts:[...i,H]}),L({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},Zt=H=>{re(H),G({name:H.name,password:H.password,stores:H.stores||[]})},wa=H=>{H&&!K.stores.includes(H)&&G({...K,stores:[...K.stores,H]})},Ei=H=>{G({...K,stores:K.stores.filter(Ae=>Ae!==H)})},ss=async()=>{if(!K.name)return;const H=i.map(Ae=>Ae.id===M.id?{...Ae,...K}:Ae);await Fn(A("store_account_data"),{accounts:H}),re(null),n("","success")},Mr=async H=>{if(!confirm("?"))return;const Ae=i.filter(Ce=>Ce.id!==H);await Fn(A("store_account_data"),{accounts:Ae}),n("","success")},li=async()=>{if(ee.name)try{const H=A("org_structure"),Ae=await Lf(H);let Ce=Ae.exists()?Ae.data().managers:{};Ce[ee.name]=[],await Fn(H,{managers:Ce}),j(Ce),await Fn(A("manager_auth"),{[ee.name]:ee.password},{merge:!0}),pe({name:"",password:""}),n("","success")}catch{n("","error")}},un=H=>{H&&(U.includes(H)||Y([...U,H]))},Ar=H=>{Y(U.filter(Ae=>Ae!==H))},Fr=async H=>{if(confirm("?"))try{const Ae=A("org_structure"),Ce=await Lf(Ae);let ke=Ce.exists()?Ce.data().managers:{};delete ke[H],await Fn(Ae,{managers:ke}),j(ke),n("","success")}catch{n("","error")}},Dr=async()=>{if(!Ie)return n("","error");try{await h5(S("therapists"),{name:Ie,store:ce,manager:ue,password:Ze,status:"active",createdAt:bd()}),fe(!1),ze(""),n("","success")}catch{n("","error")}},El=async()=>{if(!be)return;const H=Ir(S("therapists"),be.id);await l0(H,{name:Ie,store:ce,manager:ue,password:Ze}),Ee(null),n("","success")},os=async H=>{const Ae=Ir(S("therapists"),H.id);await l0(Ae,{status:H.status==="active"?"resigned":"active"}),n("","success")},Hr=async H=>{confirm("?")&&(await f5(Ir(S("therapists"),H)),n("","success"))},Wi=H=>{Ee(H),ie(H.manager||""),Ne(H.store),ze(H.name),Et(H.password)},Al=b.useMemo(()=>ue?N&&N[ue]?N[ue]:[]:[],[ue,N]),Te=b.useMemo(()=>h.filter(H=>(H.name||"").includes(se)||(H.store||"").includes(se)||H.status==="resigned"&&se===""),[h,se]);return Pe.length===0?d.jsx(si,{children:d.jsx(zt,{title:"",children:d.jsxs("div",{className:"text-center py-10 text-stone-400",children:[d.jsx(fc,{size:48,className:"mx-auto mb-4 opacity-50"}),d.jsx("p",{children:""})]})})}):d.jsx(si,{children:d.jsxs("div",{className:"grid grid-cols-1 w-[99%] max-w-full gap-6 pb-20 mx-auto",children:[d.jsxs("div",{className:"flex flex-col gap-4 w-full min-w-0",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800 px-1",children:""}),d.jsx("div",{className:"w-full bg-white p-1 rounded-xl shadow-sm border border-stone-100 overflow-x-auto no-scrollbar",children:d.jsx("div",{className:"flex gap-2 min-w-max p-1",children:Pe.map(H=>d.jsxs("button",{onClick:()=>V(H.id),className:`px-4 py-2.5 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-2 ${C===H.id?"bg-stone-800 text-white shadow-md":"text-stone-500 hover:bg-stone-50"}`,children:[H.icon&&d.jsx(H.icon,{size:16}),H.label]},H.id))})})]}),C==="kpi"&&d.jsx(zt,{title:"KPI ",children:d.jsxs("div",{className:"max-w-md w-full space-y-6 min-w-0",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"number",value:D.newASP||3500,onChange:H=>B({...D,newASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-amber-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"number",value:D.trafficASP||1200,onChange:H=>B({...D,trafficASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-amber-400"})]}),d.jsx("button",{onClick:Me,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold active:scale-95 transition-transform",children:""})]})}),C==="health"&&d.jsx(zt,{title:"",children:d.jsxs("div",{className:"space-y-6 w-full min-w-0",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200 flex items-center gap-2",children:[d.jsx(fc,{size:18,className:"text-amber-500"}),d.jsx("span",{className:"text-sm font-bold text-stone-600",children:""}),d.jsx("span",{className:"text-lg font-bold text-amber-600",children:I})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-4",children:xpe.map(H=>{const Ae=D.benchmarks?.[k]?.[H.id]||Kf[k]?.[H.id]||Kf.default[H.id],Ce=(Ae.min*100).toFixed(0),ke=(Ae.max*100).toFixed(0);return d.jsxs("div",{className:"bg-stone-50 border border-stone-200 rounded-xl p-4 hover:shadow-sm transition-shadow",children:[d.jsxs("div",{className:"mb-3 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700",children:H.title}),d.jsx("p",{className:"text-[10px] text-stone-400 mt-0.5",children:H.sub})]}),d.jsxs("span",{className:"text-[10px] font-bold text-stone-400 bg-white px-2 py-1 rounded border border-stone-100 ml-2 whitespace-nowrap",children:[": ",Ce,"% - ",ke,"%"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] font-bold text-stone-400 mb-1",children:[" (",H.suffix,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",step:H.step,value:Ce,onChange:it=>$t(H.id,"min",it.target.value,H.type),className:"w-full pl-3 pr-8 py-2 border rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none text-center bg-white"}),d.jsx("span",{className:"absolute right-3 top-2 text-xs font-bold text-stone-400 pointer-events-none",children:H.suffix})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] font-bold text-stone-400 mb-1",children:[" (",H.suffix,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",step:H.step,value:ke,onChange:it=>$t(H.id,"max",it.target.value,H.type),className:"w-full pl-3 pr-8 py-2 border rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none text-center bg-white"}),d.jsx("span",{className:"absolute right-3 top-2 text-xs font-bold text-stone-400 pointer-events-none",children:H.suffix})]})]})]})]},H.id)})}),d.jsx("div",{className:"flex justify-end pt-4 border-t border-stone-100",children:d.jsxs("button",{onClick:Me,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[d.jsx(Sl,{size:18})," "]})})]})}),C==="trainer-account"&&d.jsx(zt,{title:"",children:d.jsxs("div",{className:"max-w-md w-full space-y-6 min-w-0",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),d.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:x?.password||"0000"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"text",value:ut,onChange:H=>tt(H.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsx("button",{onClick:Oe,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),C==="permissions"&&d.jsxs(zt,{title:"",children:[d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsx("div",{className:"min-w-[600px]",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-stone-200",children:[d.jsx("th",{className:"p-4 font-bold text-stone-500 sticky left-0 bg-white z-10",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:Nc.map(H=>d.jsxs("tr",{className:"hover:bg-stone-50",children:[d.jsxs("td",{className:"p-4 flex items-center gap-3 sticky left-0 bg-white/95 backdrop-blur-sm z-10 border-r border-stone-100 md:border-none shadow-[2px_0_5px_-2px_rgba(0,0,0,0.05)] md:shadow-none",children:[d.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500 shrink-0",children:d.jsx(H.icon,{size:18})}),d.jsx("span",{className:"font-bold text-stone-700 whitespace-nowrap",children:H.label})]}),d.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:d.jsx("input",{type:"checkbox",checked:$.trainer?.includes(H.id),onChange:()=>Fe("trainer",H.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:d.jsx("input",{type:"checkbox",checked:$.manager?.includes(H.id),onChange:()=>Fe("manager",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:d.jsx("input",{type:"checkbox",checked:$.store?.includes(H.id),onChange:()=>Fe("store",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:d.jsx("input",{type:"checkbox",checked:$.therapist?.includes(H.id),onChange:()=>Fe("therapist",H.id),className:"w-5 h-5 rounded cursor-pointer"})})]},H.id))})]})})}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:Ke,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),C==="shops"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(zt,{title:"",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:X.name,onChange:H=>Z({...X,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:X.manager,onChange:H=>Z({...X,manager:H.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(N).map(H=>d.jsxs("option",{value:H,children:[H," "]},H))]}),d.jsx(Tw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),d.jsxs("button",{onClick:qr,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[d.jsx(_g,{size:18})," "]})]})}),d.jsx(zt,{title:"",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xt.map(([H,Ae])=>d.jsxs("div",{className:`bg-stone-50 rounded-2xl p-4 border ${H===Ge?"border-stone-300 shadow-inner":"border-stone-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[d.jsxs("span",{className:`font-bold ${H===Ge?"text-stone-500":"text-stone-700"}`,children:[H," ",H!==Ge&&""]}),d.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[Ae.length," "]})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Ae.map(Ce=>d.jsxs("div",{className:"group relative flex items-center",children:[d.jsx("span",{className:`px-3 py-1.5 border rounded-lg text-xs font-bold shadow-sm pr-7 ${H===Ge?"bg-white text-stone-500 border-stone-200":"bg-white text-stone-600 border-stone-200"}`,children:Ce}),d.jsx("button",{onClick:()=>ba(Ce,H),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:d.jsx(ca,{size:12})})]},Ce))})]},H))})})]}),C==="stores"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(zt,{title:"",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),d.jsx("input",{type:"text",value:P.name,onChange:H=>L({...P,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:P.password,onChange:H=>L({...P,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative w-full",children:[d.jsx(_i,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),d.jsxs("select",{value:P.stores,onChange:H=>L({...P,stores:H.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[d.jsx("option",{value:"",children:"..."}),xa.map(H=>d.jsx("option",{value:H,children:H},H))]}),d.jsx(Tw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),d.jsx("button",{onClick:Zn,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:d.jsx(_g,{size:20})})]})]})]})}),d.jsx(zt,{title:"",children:d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsx("div",{className:"min-w-[600px]",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),d.jsx("th",{className:"p-4",children:""}),d.jsx("th",{className:"p-4",children:""}),d.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(H=>d.jsxs("tr",{className:"hover:bg-stone-50",children:[d.jsx("td",{className:"p-4 font-bold text-stone-700",children:H.name}),d.jsx("td",{className:"p-4 font-mono text-stone-500",children:H.password}),d.jsx("td",{className:"p-4",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:H.stores&&H.stores.map(Ae=>d.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:Ae},Ae))})}),d.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[d.jsx("button",{onClick:()=>Zt(H),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:d.jsx(B9,{size:18})}),d.jsx("button",{onClick:()=>Mr(H.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:d.jsx(zg,{size:18})})]})]},H.id))})]})})})}),M&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[d.jsx("span",{children:""}),d.jsx("button",{onClick:()=>re(null),children:d.jsx(ca,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),d.jsx("input",{type:"text",value:K.name,onChange:H=>G({...K,name:H.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsx("input",{type:"text",value:K.password,onChange:H=>G({...K,password:H.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:K.stores.map(H=>d.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[H," ",d.jsx("button",{onClick:()=>Ei(H),className:"text-stone-300 hover:text-rose-500",children:d.jsx(ca,{size:12})})]},H))}),d.jsx("div",{className:"relative",children:d.jsxs("select",{onChange:H=>{wa(H.target.value),H.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[d.jsx("option",{value:"",children:"+ "}),gn.map(H=>d.jsx("option",{value:H,children:H},H))]})})]}),d.jsxs("div",{className:"pt-4 flex gap-3",children:[d.jsx("button",{onClick:()=>re(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),d.jsx("button",{onClick:ss,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),C==="managers"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(zt,{title:"",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:ee.name,onChange:H=>pe({...ee,name:H.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:ee.password,onChange:H=>pe({...ee,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("button",{onClick:li,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[d.jsx(_g,{size:18})," "]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:xt.map(([H,Ae])=>d.jsxs(zt,{className:`border ${H===Ge?"border-stone-300 bg-stone-50":"border-stone-200"}`,children:[d.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${H===Ge?"text-stone-500":"text-stone-700"}`,children:[H===Ge?d.jsx(VM,{size:20}):d.jsx(gl,{size:20,className:"text-amber-500"}),H," ",H!==Ge&&""]}),H!==Ge&&d.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[H]||""]})]}),H!==Ge&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>{J(H),Y(Ae)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold whitespace-nowrap",children:""}),d.jsx("button",{onClick:()=>Fr(H),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:d.jsx(zg,{size:16})})]})]}),le===H?d.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:U.map(Ce=>d.jsxs("div",{className:"group relative flex items-center",children:[d.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Ce}),d.jsx("button",{onClick:()=>Ar(Ce),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:d.jsx(ca,{size:12})})]},Ce))}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{onChange:Ce=>{un(Ce.target.value),Ce.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white appearance-none text-stone-700",children:[d.jsx("option",{value:"",children:"+ "}),cr.filter(Ce=>!U.includes(Ce)).map(Ce=>d.jsx("option",{value:Ce,children:Ce},Ce))]}),d.jsx(Tw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("button",{onClick:()=>J(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400 hover:text-stone-600",children:""}),d.jsx("button",{onClick:()=>uo(H),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg hover:bg-stone-700 shadow-sm",children:""})]})]}):d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Ae.map(Ce=>d.jsx("span",{className:`px-2.5 py-1 border rounded-lg text-xs font-bold ${H===Ge?"bg-white border-stone-200 text-stone-400":"bg-stone-50 border-stone-100 text-stone-600"}`,children:Ce},Ce))})]},H))})]}),C==="therapists"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(zt,{children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[d.jsxs("div",{className:"relative w-full md:w-64",children:[d.jsx(y2,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),d.jsx("input",{type:"text",placeholder:"...",value:se,onChange:H=>Q(H.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),d.jsxs("button",{onClick:()=>fe(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[d.jsx(_g,{size:18})," "]})]})}),(ne||be)&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[d.jsx("span",{children:be?"":""}),d.jsx("button",{onClick:()=>{fe(!1),Ee(null)},children:d.jsx(ca,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsxs("select",{value:ue,onChange:H=>{ie(H.target.value),Ne("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[d.jsx("option",{value:"",children:""}),Object.keys(N).map(H=>d.jsxs("option",{value:H,children:[H,""]},H))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsxs("select",{value:ce,onChange:H=>Ne(H.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!ue,children:[d.jsx("option",{value:"",children:""}),Al.map(H=>d.jsx("option",{value:H,children:H},H))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsx("input",{type:"text",value:Ie,onChange:H=>ze(H.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),d.jsx("input",{type:"text",value:Ze,onChange:H=>Et(H.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),d.jsxs("div",{className:"pt-4 flex gap-3",children:[d.jsx("button",{onClick:()=>{fe(!1),Ee(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),d.jsx("button",{onClick:be?El:Dr,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:be?"":""})]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Te.map(H=>d.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${H.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[d.jsx(_i,{size:12})," ",H.store,""]}),d.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[H.name,H.status==="resigned"&&d.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>Wi(H),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:d.jsx(Mme,{size:16})}),d.jsx("button",{onClick:()=>os(H),className:`p-2 rounded-lg ${H.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:H.status==="active"?"":"",children:H.status==="active"?d.jsx(K9,{size:16}):d.jsx(sS,{size:16})})]})]}),d.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[d.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[d.jsx(Zhe,{size:12})," : ",H.password]}),d.jsx("button",{onClick:()=>Hr(H.id),className:"text-stone-300 hover:text-rose-400",children:d.jsx(zg,{size:14})})]})]},H.id))})]}),C==="maintenance"&&d.jsx(bpe,{})]})})},_pe=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:f,userRole:h,therapistTargets:p,auditExclusions:g=[],handleUpdateAuditExclusions:x,currentBrand:_}=b.useContext(lr),[A,S]=b.useState(G9(new Date)),[E,C]=b.useState(h==="trainer"?"therapist-daily":"daily"),[V,D]=b.useState(!1),[B,$]=b.useState([]),z=b.useMemo(()=>{let Z="CYJ";if(_){const fe=(typeof _=="string"?_:_.id||"CYJ").toLowerCase();fe.includes("anniu")||fe.includes("anew")?Z="":fe.includes("yibo")?Z="":Z="CYJ"}return Z},[_]),N=b.useCallback(Z=>{if(!Z)return"";let ne=String(Z).replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").trim();return ne===""?"":ne.replace(/$/,"").trim()},[]),j=()=>{$(g||[]),D(!0)},k=async()=>{await x(B),D(!1),e("","success")},I=Z=>{$(ne=>ne.includes(Z)?ne.filter(fe=>fe!==Z):[...ne,Z])},P=b.useMemo(()=>Object.values(t).flat().filter(ne=>!g.includes(ne)).map(ne=>{const fe=[ne,`${ne}`,`${z}${ne}`,`${z}${ne}`,`CYJ${ne}`];return{id:ne,name:`${ne}`,stores:fe}}),[t,g,z]),L=b.useMemo(()=>l.filter(Z=>Z.status==="active").map(Z=>({id:Z.id,name:Z.name,stores:[Z.id]})),[l]),M=b.useMemo(()=>s.map(Z=>{const ne=Z.date?wr(Z.date):"";return{...Z,storeName:Z.storeName,date:ne}}),[s]),re=b.useMemo(()=>{const Z=u.map(Ee=>({...Ee,storeName:Ee.therapistId,date:Ee.date?wr(Ee.date):""}));if(E!=="therapist-daily")return Z;const ne=[],fe=parseInt(r),be=parseInt(i);return l.filter(Ee=>Ee.status==="active").forEach(Ee=>{const se=`${Ee.id}_${fe}_${be}`;(f[se]?.daysOff||[]).forEach(ie=>{const ce=`${fe}-${be.toString().padStart(2,"0")}-${ie.toString().padStart(2,"0")}`;ne.push({id:`ghost_${Ee.id}_${ce}`,storeName:Ee.id,date:ce,isGhost:!0,revenue:0})})}),[...Z,...ne]},[u,E,r,i,l,f]),K=E==="therapist-daily",G=K?L:P,ee=K?re:M,pe=b.useMemo(()=>{if(!A)return{submitted:[],missing:[],missingByManager:{}};const Z=wr(A),ne=s.filter(be=>wr(be.date)===Z).map(be=>be.storeName),fe={};return Object.entries(t).forEach(([be,Ee])=>{const se=[];Ee.forEach(Q=>{if(g.includes(Q))return;ne.some(ie=>ie&&ie.includes(Q))||se.push(`${z}${Q}`)}),se.length&&(fe[be]=se)}),{submitted:ne,missing:Object.values(fe).flat(),missingByManager:fe}},[A,s,t,g,z]),le=b.useMemo(()=>{const Z={},ne=parseInt(r),fe=parseInt(i);return Object.entries(t).forEach(([be,Ee])=>{const se=[];Ee.forEach(Q=>{if(g.includes(Q))return;const ue=`${z}${Q}`,ie=`${ue}_${ne}_${fe}`,ce=n[ie];(!ce||!ce.cashTarget&&!ce.accrualTarget)&&se.push(ue)}),se.length&&(Z[be]=se)}),{missing:Object.values(Z).flat(),missingByManager:Z}},[n,t,r,i,g,z]),J=b.useMemo(()=>{if(!A)return{missing:[],missingByManager:{}};const Z=wr(A),ne=new Date(Z),fe=ne.getFullYear().toString(),be=ne.getMonth()+1,Ee=ne.getDate(),se=new Set((u||[]).filter(ue=>wr(ue.date)===Z).map(ue=>ue.therapistId)),Q={};return(l||[]).filter(ue=>ue.status==="active").forEach(ue=>{const ie=`${ue.id}_${fe}_${be}`;if(!f[ie]?.daysOff?.includes(Ee)&&!se.has(ue.id)){const Ie=ue.manager||"";Q[Ie]||(Q[Ie]=[]),Q[Ie].push(`${ue.name} (${ue.store})`)}}),{missing:Object.values(Q).flat(),missingByManager:Q}},[A,l,u,f]),U=b.useMemo(()=>{const Z={},ne=r,fe=parseInt(i).toString();return(l||[]).filter(be=>be.status==="active").forEach(be=>{const Ee=`${be.id}_${ne}`,Q=p[Ee]?.monthlyTargets?.[fe];if(!(Q&&parseInt(Q)>0)){const ie=be.manager||"";Z[ie]||(Z[ie]=[]),Z[ie].push(`${be.name} (${be.store})`)}}),{missing:Object.values(Z).flat(),missingByManager:Z}},[l,p,r,i]),Y=E==="daily"?pe:E==="target"?le:E==="therapist-daily"?J:U,X=()=>{let Z="";E==="target"?Z=`(${r}/${i})
`:E==="therapist-target"?Z=`(${r}/${i})
`:E==="therapist-daily"?Z=`(${A})
`:Z=`(${A})
`,Object.entries(Y.missingByManager).forEach(([ne,fe])=>{const be=fe.map(Ee=>E.includes("therapist")?Ee:N(Ee));Z+=`${ne}${be.join("")}
`}),navigator.clipboard.writeText(Z),e("","success")};return d.jsxs(si,{children:[d.jsxs(zt,{title:"",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[d.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[h!=="trainer"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>C("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${E==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),d.jsx("button",{onClick:()=>C("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${E==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),d.jsx("button",{onClick:()=>C("therapist-daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${E==="therapist-daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),d.jsx("button",{onClick:()=>C("therapist-target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${E==="therapist-target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),d.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[E==="daily"||E==="therapist-daily"?d.jsx("div",{className:"w-full sm:w-auto relative z-10",children:P.length===0?d.jsxs("div",{className:"px-4 py-3 bg-rose-50 text-rose-600 text-sm font-bold rounded-xl border border-rose-100 flex items-center gap-2 whitespace-nowrap animate-pulse",children:[d.jsx(D9,{size:18}),"  ()"]}):d.jsx(Y9,{selectedDate:A,onDateSelect:S,stores:G,salesData:ee})}):d.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start flex-grow",children:[d.jsx(kd,{size:16})," ",r,"  ",i," "]}),(h==="director"||h==="manager")&&(E==="daily"||E==="target")&&d.jsx("button",{onClick:j,className:"p-2 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200",title:"",children:d.jsx(Ty,{size:20})})]})]}),(E==="daily"||E==="therapist-daily")&&d.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),d.jsx("span",{className:"whitespace-nowrap",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),d.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),d.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[d.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[d.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[d.jsx(sd,{size:20}),E==="therapist-daily"?" ()":E==="therapist-target"?"":"",d.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:Y.missing.length})]}),d.jsx("button",{onClick:X,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),d.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(Y.missingByManager).map(([Z,ne])=>d.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[d.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[Z," "]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map((fe,be)=>d.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[E.includes("therapist")&&d.jsx(K9,{size:10,className:"text-rose-400"}),E.includes("therapist")?fe:N(fe)]},be))})]},Z)),Y.missing.length===0&&d.jsx("div",{className:"col-span-3 text-center py-10",children:d.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:d.jsx(Js,{size:24})}),"",E==="therapist-daily"&&d.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]}),V&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(m2,{size:20,className:"text-rose-400"})," "]}),d.jsx("button",{onClick:()=>D(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(ca,{size:20})})]}),d.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(t).map(([Z,ne])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[Z," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ne.map(fe=>{const be=B.includes(fe);return d.jsxs("button",{onClick:()=>I(fe),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${be?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[be&&d.jsx(Js,{size:14}),fe]},fe)})})]},Z))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>D(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:k,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Spe=(t,e,n,r,i)=>b.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,f=t.filter(N=>{if(!N.date)return!1;const j=N.date.replace(/-/g,"/"),[k]=j.split("/").map(Number);return k===s||k===u}),h=f.reduce((N,j)=>({cash:N.cash+(j.cash||0)-(j.refund||0),accrual:N.accrual+(j.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(N=>`CYJ${N}`);for(let N=1;N<=12;N++)g.forEach(j=>{const k=`${j}_${s}_${N}`;n[k]&&(p.cash+=n[k].cashTarget||0,p.accrual+=n[k].accrualTarget||0)});const x={cashActual:h.cash,cashTarget:p.cash,cashAchievement:p.cash>0?h.cash/p.cash*100:0,accrualActual:h.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?h.accrual/p.accrual*100:0},_=f.filter(N=>{const j=N.date.replace(/-/g,"/"),[,k]=j.split("/").map(Number);return k===l}),A=[...new Set(_.map(N=>wr(N.date)))].sort(),S=A[A.length-1]||"",E=new Date(s,l,0).getDate();let C=1;S!==""&&(C=parseInt(S.split("/")[2]));const V=A.map(N=>{const j=_.filter(k=>wr(k.date)===N);return{date:N.split("/")[2],fullDate:N,cash:j.reduce((k,I)=>k+(I.cash||0)-(I.refund||0),0),traffic:j.reduce((k,I)=>k+(I.traffic||0),0)}}),B=Object.entries(e).flatMap(([N,j])=>j.map(k=>({name:`CYJ${k}`,manager:N}))).map(N=>{const j=_.filter(X=>X.storeName===N.name),k=j.reduce((X,Z)=>X+(Z.cash||0),0),I=j.reduce((X,Z)=>X+(Z.refund||0),0),P=k-I,L=j.reduce((X,Z)=>X+(Z.accrual||0),0),M=j.reduce((X,Z)=>X+(Z.operationalAccrual||0),0),re=j.reduce((X,Z)=>X+(Z.traffic||0),0),K=j.reduce((X,Z)=>X+(Z.newCustomers||0),0),G=j.reduce((X,Z)=>X+(Z.newCustomerClosings||0),0),ee=j.reduce((X,Z)=>X+(Z.newCustomerSales||0),0),pe=j.reduce((X,Z)=>X+(Z.skincareSales||0),0),le=j.reduce((X,Z)=>X+(Z.skincareRefund||0),0),J=pe-le,U=`${N.name}_${s}_${l}`,Y=n[U]||{cashTarget:0,accrualTarget:0};return{...N,cashTotal:P,accrualTotal:L,operationalAccrualTotal:M,trafficTotal:re,newCustomersTotal:K,newCustomerClosingsTotal:G,newCustomerSalesTotal:ee,skincareSalesTotal:J,skincareRefundTotal:le,refundTotal:I,cashBudget:Y.cashTarget,accrualBudget:Y.accrualTarget,projection:C>0?Math.round(P/C*E):0,achievement:Y.cashTarget>0?P/Y.cashTarget*100:0,trafficASP:re>0?Math.round(M/re):0,newCustomerASP:K>0?Math.round(ee/K):0}}),$=B.reduce((N,j)=>({cash:N.cash+j.cashTotal,accrual:N.accrual+j.accrualTotal,operationalAccrual:N.operationalAccrual+j.operationalAccrualTotal,skincareSales:N.skincareSales+j.skincareSalesTotal,skincareRefund:N.skincareRefund+j.skincareRefundTotal,traffic:N.traffic+j.trafficTotal,newCustomers:N.newCustomers+j.newCustomersTotal,newCustomerClosings:N.newCustomerClosings+j.newCustomerClosingsTotal,newCustomerSales:N.newCustomerSales+j.newCustomerSalesTotal,refund:N.refund+j.refundTotal,budget:N.budget+j.cashBudget,accrualBudget:N.accrualBudget+j.accrualBudget,projection:N.projection+j.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),z=Object.entries(e).map(([N,j])=>{const k=B.filter(U=>U.manager===N),I=k.reduce((U,Y)=>U+Y.cashTotal,0),P=k.reduce((U,Y)=>U+Y.accrualTotal,0),L=k.reduce((U,Y)=>U+Y.operationalAccrualTotal,0),M=k.reduce((U,Y)=>U+Y.cashBudget,0),re=k.reduce((U,Y)=>U+Y.skincareSalesTotal,0),K=k.reduce((U,Y)=>U+Y.skincareRefundTotal,0),G=k.reduce((U,Y)=>U+Y.trafficTotal,0),ee=k.reduce((U,Y)=>U+Y.newCustomersTotal,0),pe=k.reduce((U,Y)=>U+Y.newCustomerClosingsTotal,0),le=k.reduce((U,Y)=>U+Y.refundTotal,0),J=G>0?Math.round(L/G):0;return{manager:N,cashTotal:I,accrualTotal:P,operationalAccrualTotal:L,skincareSalesTotal:re,skincareRefundTotal:K,trafficTotal:G,newCustomersTotal:ee,newCustomerClosingsTotal:pe,refundTotal:le,trafficASP:J,achievement:M>0?I/M*100:0}});return{latestDate:S,daysPassed:C,daysInMonth:E,remainingDays:E-C,dailyTotals:V,storeList:B,grandTotal:$,regionalStats:z,yearlyStats:x,totalAchievement:$.budget>0?$.cash/$.budget*100:0,avgTrafficASP:$.traffic>0?Math.round($.operationalAccrual/$.traffic):0,avgNewCustomerASP:$.newCustomers>0?Math.round($.newCustomerSales/$.newCustomers):0,allDates:A}},[t,e,n,r,i]),Epe=()=>d.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"flex items-center justify-center w-6",children:d.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[d.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),d.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),Ape=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s,auditExclusions:l,handleUpdateAuditExclusions:u,userRole:f,showToast:h,currentBrand:p}=b.useContext(lr),[g,x]=b.useState(`${s}-01`),[_,A]=b.useState(`${s}-12`),[S,E]=b.useState(!1),[C,V]=b.useState([]),D=b.useMemo(()=>{let M="CYJ";if(p){const K=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();K.includes("anniu")||K.includes("anew")?M="":K.includes("yibo")?M="":M="CYJ"}return M},[p]),B=M=>M?M.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";b.useEffect(()=>{x(`${s}-01`),A(`${s}-12`)},[s]);const $=()=>{V(l||[]),E(!0)},z=async()=>{await u(C),E(!1),h("","success")},N=M=>{V(re=>re.includes(M)?re.filter(K=>K!==M):[...re,M])},j=M=>{let re="01",K="03";switch(M){case 1:re="01",K="03";break;case 2:re="04",K="06";break;case 3:re="07",K="09";break;case 4:re="10",K="12";break;case"ALL":re="01",K="12";break}x(`${s}-${re}`),A(`${s}-${K}`)},k=b.useMemo(()=>g===`${s}-01`&&_===`${s}-03`?1:g===`${s}-04`&&_===`${s}-06`?2:g===`${s}-07`&&_===`${s}-09`?3:g===`${s}-10`&&_===`${s}-12`?4:g===`${s}-01`&&_===`${s}-12`?"ALL":null,[g,_,s]),I=b.useMemo(()=>{const M=Object.values(n).flat().filter(X=>!l.includes(X)).map(X=>`${D}${X}`),re=[];let K=new Date(`${g}-01`);const G=new Date(`${_}-01`);for(K>G&&(K=new Date(`${g}-01`));K<=G;){const X=K.getFullYear(),Z=K.getMonth()+1;re.push({label:`${X}/${Z}`,y:X,m:Z,dateKey:`${X}/${Z.toString().padStart(2,"0")}`}),K.setMonth(K.getMonth()+1)}const ee=re.map(X=>({...X,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(X=>{const Z=B(X.storeName);if(l.includes(Z)||!X.date)return;const fe=X.date.replace(/-/g,"/").split("/"),be=parseInt(fe[0]),Ee=parseInt(fe[1]),se=be<1911?be+1911:be,Q=ee.find(ue=>ue.y===se&&ue.m===Ee);Q&&(Q.cash+=(X.cash||0)-(X.refund||0),Q.accrual+=X.accrual||0,Q.traffic+=X.traffic||0)});let pe=0,le=0,J=0,U=0,Y=0;return ee.forEach(X=>{M.forEach(Z=>{const ne=`${Z}_${X.y}_${X.m}`;e[ne]&&(X.budget+=e[ne].cashTarget||0,X.accrualBudget+=e[ne].accrualTarget||0)}),X.achievement=X.budget>0?X.cash/X.budget*100:0,X.accrualAchievement=X.accrualBudget>0?X.accrual/X.accrualBudget*100:0,pe+=X.cash,le+=X.budget,J+=X.accrual,U+=X.accrualBudget,Y+=X.traffic}),{monthlyStats:ee,totals:{cash:pe,budget:le,cashAch:le>0?pe/le*100:0,accrual:J,accrualBudget:U,accrualAch:U>0?J/U*100:0,traffic:Y}}},[t,e,n,g,_,l,D]),{monthlyStats:P,totals:L}=I;return d.jsxs(si,{children:[d.jsxs("div",{className:"space-y-6 pb-12",children:[d.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:d.jsx(co,{size:24})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-stone-800",children:[" (",D,")"]}),d.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 self-start md:self-auto md:ml-auto",children:[d.jsxs("div",{className:"px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full",children:[":  (",Object.values(n).flat().filter(M=>!l.includes(M)).length," )"]}),(f==="director"||f==="manager")&&d.jsx("button",{onClick:$,className:"p-1.5 bg-stone-100 text-stone-500 rounded-full hover:bg-stone-200 transition-colors",title:" ()",children:d.jsx(Ty,{size:16})})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[d.jsx($9,{size:18,className:"text-amber-500"}),d.jsx("span",{children:""})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>j("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${k==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(M=>d.jsxs("button",{onClick:()=>j(M),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${k===M?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",M]},M))]}),d.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),d.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:d.jsx("span",{children:""})}),d.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[d.jsx("input",{type:"month",value:g,onChange:M=>x(M.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),d.jsx("span",{className:"text-stone-400",children:d.jsx(Rm,{size:16})}),d.jsx("input",{type:"month",value:_,onChange:M=>A(M.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:d.jsx(Zs,{size:100})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[d.jsx(kd,{size:14})," "]}),d.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(L.cash)}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[d.jsxs("span",{children:[" ",r(L.budget)]}),d.jsxs("span",{children:[L.cashAch.toFixed(1),"%"]})]}),d.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(L.cashAch,100)}%`}})})]})]})]}),d.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:d.jsx(ai,{size:100})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[d.jsx(ch,{size:14})," "]}),d.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(L.accrual)}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[d.jsxs("span",{children:[" ",r(L.accrualBudget)]}),d.jsxs("span",{className:L.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[L.accrualAch.toFixed(1),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(L.accrualAch,100)}%`}})})]})]})]})]}),d.jsx(zt,{title:"",subtitle:" vs  (/)",children:d.jsx("div",{className:"h-[350px] w-full",children:d.jsx(Vu,{width:"100%",height:"100%",children:d.jsxs(f2,{data:P,margin:{top:20,right:0,left:0,bottom:0},children:[d.jsx(Sy,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),d.jsx(Ay,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),d.jsx(ad,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:M=>`${(M/1e4).toFixed(0)}`}),d.jsx(qu,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:M=>r(M),itemSorter:M=>({:1,:2,:3,:4})[M.name]||99}),d.jsx($u,{content:d.jsx(Epe,{}),verticalAlign:"top",height:36}),d.jsx(s2,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),d.jsx(id,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),d.jsx(o2,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),d.jsx(id,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),d.jsx(zt,{title:"",children:d.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:d.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[d.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:d.jsxs("tr",{children:[d.jsx("th",{className:"pb-3 pl-2",children:""}),d.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),d.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),d.jsx("th",{className:"pb-3 text-right",children:""}),d.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),d.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),d.jsx("th",{className:"pb-3 text-right",children:""}),d.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-50",children:P.map((M,re)=>d.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:M.label}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(M.budget)}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(M.cash)}),d.jsx("td",{className:"py-4 text-right font-bold",children:d.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${M.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[M.achievement.toFixed(1),"%"]})}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(M.accrualBudget)}),d.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(M.accrual)}),d.jsx("td",{className:"py-4 text-right font-bold",children:d.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${M.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[M.accrualAchievement.toFixed(1),"%"]})}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(M.traffic)})]},re))}),d.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:d.jsxs("tr",{children:[d.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(L.budget)}),d.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(L.cash)}),d.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[L.cashAch.toFixed(1),"%"]}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(L.accrualBudget)}),d.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(L.accrual)}),d.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[L.accrualAch.toFixed(1),"%"]}),d.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(L.traffic)})]})})]})})})]}),S&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(m2,{size:20,className:"text-rose-400"}),"  (",D,")"]}),d.jsx("button",{onClick:()=>E(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(ca,{size:20})})]}),d.jsxs("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:[d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]}),d.jsx("p",{className:"text-xs mt-1 text-stone-400",children:"()"})]}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(n).map(([M,re])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[M," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:re.map(K=>{const G=C.includes(K);return d.jsxs("button",{onClick:()=>N(K),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${G?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[G&&d.jsx(Js,{size:14}),K]},K)})})]},M))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:z,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Tpe=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s,getCollectionPath:l,currentBrand:u}=b.useContext(lr),f=new Date().getFullYear(),[h,p]=b.useState(f),[g,x]=b.useState(""),[_,A]=b.useState(""),[S,E]=b.useState(!1),[C,V]=b.useState(Array.from({length:12},(j,k)=>({month:k+1,cashTarget:"",accrualTarget:""}))),D=b.useMemo(()=>{let j="CYJ";if(u){const I=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();I.includes("anniu")||I.includes("anew")?j="":I.includes("yibo")?j="":j="CYJ"}return j},[u]),B=b.useMemo(()=>{const j=k=>{const I=k.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${D}${I}`};return t==="director"||t==="trainer"?g?(e[g]||[]).map(j):[]:t==="manager"?Object.values(e).flat().map(j):t==="store"&&n?(n.stores||[n.storeName]).map(j):[]},[g,e,n,t,D]);b.useEffect(()=>{if(_&&!B.includes(_)&&A(""),t==="store"&&n){const j=n.stores||[n.storeName];if(j.length>0){let k=j[0];k=k.replace(/CYJ|||Anew|Yibo|/gi,"").trim();const I=Object.keys(e).find(L=>e[L].includes(k));I&&x(I);const P=`${D}${k}`;A(P)}}else t==="manager"&&n&&x(n.name)},[t,n,e,D,B]),b.useEffect(()=>{if(!_){V(Array.from({length:12},(k,I)=>({month:I+1,cashTarget:"",accrualTarget:""})));return}const j=Array.from({length:12},(k,I)=>{const P=I+1,L=`${_}_${h}_${P}`,M=r[L];return{month:P,cashTarget:M?hc(M.cashTarget):"",accrualTarget:M?hc(M.accrualTarget):""}});V(j)},[_,h,r]);const $=j=>{if(t==="director"||t==="manager"||t==="trainer")return!1;const k=j+1,I=`${_}_${h}_${k}`,P=r[I];return!!(P&&(P.cashTarget>0||P.accrualTarget>0))},z=(j,k,I)=>{if($(j))return;const P=I.replace(/,/g,"");/^\d*$/.test(P)&&V(L=>{const M=[...L];return M[j]={...M[j],[k]:hc(P)},M})},N=async()=>{if(!_){i("","error");return}E(!0);try{const j=Zw(aa);let k=!1;if(C.forEach((I,P)=>{if($(P))return;const L=yr(I.cashTarget),M=yr(I.accrualTarget);if(L>0||M>0){const re=`${_}_${h}_${I.month}`,K=Ir(l("monthly_targets"),re);j.set(K,{cashTarget:L,accrualTarget:M,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),k=!0}}),!k){i("","info"),E(!1);return}await j.commit(),i(`${h} `,"success"),s(t,n?.name,"",`${_} ${h}`)}catch(j){console.error("Save targets error:",j),i("","error")}finally{E(!1)}};return d.jsx(si,{children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[d.jsx(zt,{children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:d.jsx(ld,{size:24})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[d.jsxs("p",{children:["Annual Budget Planning (",D,")"]}),t==="store"&&d.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[d.jsx(fc,{size:10})," "]})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[d.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[d.jsxs("select",{value:h,onChange:j=>p(Number(j.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[d.jsxs("option",{value:f-1,children:[f-1," "]}),d.jsxs("option",{value:f,children:[f," "]}),d.jsxs("option",{value:f+1,children:[f+1," "]})]}),d.jsx(co,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),d.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:d.jsxs("select",{value:g,onChange:j=>{x(j.target.value),A("")},disabled:t!=="director"&&t!=="trainer",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(e).map(j=>d.jsxs("option",{value:j,children:[j,""]},j))]})}),d.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[d.jsxs("select",{value:_,onChange:j=>A(j.target.value),disabled:!g,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",children:"..."}),B.map(j=>d.jsx("option",{value:j,children:j},j))]}),d.jsx(_i,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),_?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block",children:d.jsx(zt,{title:`${_} - ${h} `,children:d.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-3 pl-4",children:""}),d.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),d.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),d.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:C.map((j,k)=>{const I=$(k);return d.jsxs("tr",{className:`transition-colors ${I?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[d.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[j.month," "]}),d.jsx("td",{className:"py-2 px-2",children:d.jsxs("div",{className:"relative",children:[d.jsx(Zs,{size:14,className:`absolute left-3 top-3 ${I?"text-stone-300":"text-stone-400"}`}),d.jsx("input",{type:"text",placeholder:I?"-":"0",value:j.cashTarget,onChange:P=>z(k,"cashTarget",P.target.value),disabled:I,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${I?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),d.jsx("td",{className:"py-2 px-2",children:d.jsxs("div",{className:"relative",children:[d.jsx(rS,{size:14,className:`absolute left-3 top-3 ${I?"text-stone-300":"text-stone-400"}`}),d.jsx("input",{type:"text",placeholder:I?"-":"0",value:j.accrualTarget,onChange:P=>z(k,"accrualTarget",P.target.value),disabled:I,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${I?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),d.jsx("td",{className:"py-2 px-2 text-center",children:I?d.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:d.jsx(fc,{size:16})}):j.cashTarget?d.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:d.jsx(Js,{size:16,className:"opacity-0 group-hover:opacity-50"})}):d.jsx("div",{className:"flex items-center justify-center text-stone-200",children:d.jsx(ld,{size:16})})})]},j.month)})})]})})})}),d.jsxs("div",{className:"md:hidden space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between px-2",children:d.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[d.jsx(_i,{size:18,className:"text-amber-500"}),_,d.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:h})]})}),C.map((j,k)=>{const I=$(k);return d.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${I?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[d.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[d.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[j.month," "]}),j.cashTarget&&!I&&d.jsx(Js,{size:16,className:"text-emerald-500"})]}),I&&d.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[d.jsx(fc,{size:12})," "]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[d.jsx(Zs,{size:12}),"  (Cash)"]}),d.jsx("input",{type:"text",inputMode:"numeric",placeholder:I?"":"...",value:j.cashTarget,onChange:P=>z(k,"cashTarget",P.target.value),disabled:I,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${I?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[d.jsx(rS,{size:12}),"  (Accrual)"]}),d.jsx("input",{type:"text",inputMode:"numeric",placeholder:I?"":"...",value:j.accrualTarget,onChange:P=>z(k,"accrualTarget",P.target.value),disabled:I,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${I?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},j.month)})]}),d.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:d.jsx("button",{onClick:N,disabled:S,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:S?"...":d.jsxs(d.Fragment,{children:[d.jsx(Sl,{size:20})," "]})})}),d.jsx("div",{className:"h-24 md:hidden"})]}):d.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[d.jsx(_i,{size:48,className:"mx-auto mb-2 opacity-20"}),d.jsx("p",{children:""})]})]})})},jpe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=b.useContext(lr),[f,h]=b.useState(new Date().getFullYear().toString()),[p,g]=b.useState(""),[x,_]=b.useState(""),[A,S]=b.useState(""),[E,C]=b.useState({}),V=b.useMemo(()=>{let z="CYJ";if(u){const j=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();j.includes("anniu")||j.includes("anew")?z="":j.includes("yibo")?z="":z="CYJ"}return z},[u]);b.useEffect(()=>{g(""),_(""),S("");const z=N=>N?N.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const N=i.storeName||i.store||"",j=z(N),k=Object.keys(s).find(I=>s[I].includes(j));k&&g(k),_(j||i.store),S(i.id)}else if(r==="store"&&i){const N=i.stores||[i.storeName];if(N.length>0){const j=N[0],k=z(j),I=Object.keys(s).find(P=>s[P].includes(k));I&&g(I),N.length===1&&_(k)}}else r==="manager"&&i&&g(i.name)},[r,i,s,V,u]);const D=b.useMemo(()=>{if(!p)return[];const z=s[p]||[];if(r==="store"&&i){const j=(i.stores||[i.storeName]).map(k=>k.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return z.filter(k=>j.includes(k))}return z},[p,s,r,i]),B=b.useMemo(()=>x?e.filter(z=>z.status==="active"&&z.store===x).sort((z,N)=>z.name.localeCompare(N.name)):[],[x,e]);b.useEffect(()=>{if(A&&f){const z=`${A}_${f}`,N=n[z]||{};C(N.monthlyTargets||{})}else C({})},[A,f,n]);const $=async()=>{if(!A)return t("","error");try{const z=`${A}_${f}`;await Fn(Ir(l("therapist_targets"),z),{therapistId:A,year:f,monthlyTargets:E,updatedAt:bd()},{merge:!0}),t("","success")}catch(z){console.error(z),t("","error")}};return d.jsx(si,{children:d.jsx(zt,{title:"",subtitle:"",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(g2,{size:12}),"  ()"]}),d.jsxs("select",{value:p,onChange:z=>{g(z.target.value),_(""),S("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(s).map(z=>d.jsxs("option",{value:z,children:[z,""]},z))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(_i,{size:12})," "]}),d.jsxs("select",{value:x,onChange:z=>{_(z.target.value),S("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),D.map(z=>d.jsxs("option",{value:z,children:[V,z,""]},z))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(gl,{size:12})," "]}),d.jsxs("select",{value:A,onChange:z=>S(z.target.value),disabled:!x||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),B.map(z=>d.jsx("option",{value:z.id,children:z.name},z.id))]})]}),d.jsxs("div",{className:"w-full md:w-32",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:f,onChange:z=>h(z.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(z=>d.jsxs("option",{value:z,children:[z,""]},z))})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:$,disabled:!A,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[d.jsx(Sl,{size:18})," "]})}),A?d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(z,N)=>N+1).map(z=>d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[z," "]}),d.jsxs("div",{className:"relative",children:[d.jsx(Zs,{size:14,className:"absolute left-3 top-3 text-stone-400"}),d.jsx("input",{type:"number",value:E[z]||"",onChange:N=>C({...E,[z]:N.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},z))}):d.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:d.jsx(kd,{size:32,className:"opacity-20"})}),d.jsx("p",{children:"  >  >  "})]})]})})})},Npe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=b.useContext(lr),[f,h]=b.useState(new Date().getFullYear().toString()),[p,g]=b.useState((new Date().getMonth()+1).toString()),[x,_]=b.useState(""),[A,S]=b.useState(""),[E,C]=b.useState(""),[V,D]=b.useState([]),B=b.useMemo(()=>{let I="CYJ";if(u){const L=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();L.includes("anniu")||L.includes("anew")?I="":L.includes("yibo")?I="":I="CYJ"}return I},[u]);b.useEffect(()=>{_(""),S(""),C("");const I=P=>P?P.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const P=i.storeName||i.store||"",L=I(P),M=Object.keys(s).find(re=>s[re].includes(L));M&&_(M),S(L||i.store),C(i.id)}else if(r==="store"&&i){const P=i.stores||[i.storeName];if(P.length>0){const L=P[0],M=I(L),re=Object.keys(s).find(K=>s[K].includes(M));re&&_(re),P.length===1&&S(M)}}else r==="manager"&&i&&_(i.name)},[r,i,s,B,u]);const $=b.useMemo(()=>{if(!x)return[];const I=s[x]||[];if(r==="store"&&i){const L=(i.stores||[i.storeName]).map(M=>M.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return I.filter(M=>L.includes(M))}return I},[x,s,r,i]),z=b.useMemo(()=>A?e.filter(I=>I.status==="active"&&I.store===A).sort((I,P)=>I.name.localeCompare(P.name)):[],[A,e]);b.useEffect(()=>{if(E&&f&&p){const I=`${E}_${f}_${parseInt(p)}`,P=n[I]||{};D(P.daysOff||[])}else D([])},[E,f,p,n]);const N=I=>{D(P=>P.includes(I)?P.filter(L=>L!==I):[...P,I].sort((L,M)=>L-M))},j=async()=>{if(!E)return t("","error");try{const I=`${E}_${f}_${parseInt(p)}`;await Fn(Ir(l("therapist_schedules"),I),{therapistId:E,year:f,month:parseInt(p),daysOff:V,updatedAt:bd()},{merge:!0}),t("","success")}catch(I){console.error(I),t("","error")}},k=(I,P)=>new Date(I,P,0).getDate();return d.jsx(si,{children:d.jsx(zt,{title:"",subtitle:" ()",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(g2,{size:12}),"  ()"]}),d.jsxs("select",{value:x,onChange:I=>{_(I.target.value),S(""),C("")},disabled:r==="manager"||r==="therapist"||r==="store"&&x!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(s).map(I=>d.jsxs("option",{value:I,children:[I,""]},I))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(_i,{size:12})," "]}),d.jsxs("select",{value:A,onChange:I=>{S(I.target.value),C("")},disabled:!x||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),$.map(I=>d.jsxs("option",{value:I,children:[B,I,""]},I))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(gl,{size:12})," "]}),d.jsxs("select",{value:E,onChange:I=>C(I.target.value),disabled:!A||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),z.map(I=>d.jsx("option",{value:I.id,children:I.name},I.id))]})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsxs("div",{className:"w-1/2 md:w-24",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:f,onChange:I=>h(I.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[2024,2025,2026].map(I=>d.jsx("option",{value:I,children:I},I))})]}),d.jsxs("div",{className:"w-1/2 md:w-24",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:p,onChange:I=>g(I.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(I,P)=>P+1).map(I=>d.jsxs("option",{value:I,children:[I,""]},I))})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:j,disabled:!E,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[d.jsx(Sl,{size:18})," "]})}),E?d.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[d.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(I=>d.jsx("div",{className:"text-xs font-bold text-stone-400",children:I},I))}),d.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(f,p-1,1).getDay()}).map((I,P)=>d.jsx("div",{},`empty-${P}`)),Array.from({length:k(f,p)}).map((I,P)=>{const L=P+1,M=V.includes(L);return d.jsxs("button",{onClick:()=>N(L),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${M?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[L,M&&d.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},L)})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):d.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:d.jsx(co,{size:32,className:"opacity-20"})}),d.jsx("p",{children:"  >  >  "})]})]})})})},BM=[{id:"cyj",label:"CYJ",icon:od,pathType:"legacy",color:"amber",gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-600"},{id:"anniu",label:"Anew ()",icon:iS,pathType:"new",color:"rose",gradient:"from-rose-400 to-pink-600",bg:"bg-rose-50",text:"text-rose-600"},{id:"yibo",label:"Yibo ()",icon:vme,pathType:"new",color:"sky",gradient:"from-sky-400 to-indigo-600",bg:"bg-sky-50",text:"text-sky-600"}];function Cpe(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[i,s]=b.useState(null),[l,u]=b.useState(!0),[f,h]=b.useState("dashboard"),[p,g]=b.useState(!0),[x,_]=b.useState(null),[A,S]=b.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[E,C]=b.useState(""),[V,D]=b.useState("cyj"),[B,$]=b.useState(!1),z=b.useMemo(()=>BM.find(Te=>Te.id===V)||BM[0],[V]),N=Te=>{D(Te),$(!0)},j=b.useCallback(Te=>z.pathType==="legacy"?xh(aa,"artifacts",Qf,"public","data",Te):xh(aa,"brands",z.id,Te),[z]),k=b.useCallback(Te=>z.pathType==="legacy"?Ir(aa,"artifacts",Qf,"public","data","global_settings",Te):Ir(aa,"brands",z.id,"settings",Te),[z]),[I,P]=b.useState([]),[L,M]=b.useState({}),[re,K]=b.useState({newASP:3500,trafficASP:1200}),[G,ee]=b.useState({}),[pe,le]=b.useState([]),[J,U]=b.useState({}),[Y,X]=b.useState(Vg),[Z,ne]=b.useState([]),[fe,be]=b.useState({password:"0000"}),[Ee,se]=b.useState([]),[Q,ue]=b.useState({}),[ie,ce]=b.useState({}),[Ne,Ie]=b.useState([]),[ze,Ze]=b.useState(!1),[Et,ut]=b.useState(15),tt=b.useRef(Date.now()),[Ge,Pe]=b.useState(new Date().getFullYear().toString()),[xt,Oe]=b.useState((new Date().getMonth()+1).toString()),[Me,Ke]=b.useState(()=>G9(new Date)),Fe=b.useCallback(Te=>{let H=String(Te||"").replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").trim();return H===""?"":H.replace(/$/,"").trim()},[]),$t=b.useCallback(async(Te,H,Ae,Ce)=>{let ke="PC";if(typeof navigator<"u"){const it=navigator.userAgent.toLowerCase();it.includes("android")?ke="Android":it.includes("iphone")||it.includes("ipad")?ke="iOS":it.includes("mobile")&&(ke="Mobile")}try{await h5(j("system_logs"),{timestamp:bd(),role:Te,user:H,action:Ae,details:Ce,device:ke})}catch(it){console.error("Failed to log activity",it)}},[j]),qr=b.useCallback(async(Te="")=>{const H=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&$t(n,H,"",Te),Ze(!1),ut(15),tt.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),h("dashboard")},[i,n,$t]),ba=b.useCallback(()=>{n&&(tt.current=Date.now(),ze&&(Ze(!1),ut(15)))},[n,ze]);b.useEffect(()=>{let Te=null;return n&&(Te=setInterval(()=>{const Ae=Date.now()-tt.current,Ce=165*1e3,ke=180*1e3;if(Ae>ke)clearInterval(Te),qr(" 3 ");else if(Ae>Ce){ze||Ze(!0);const it=Math.ceil((ke-Ae)/1e3);ut(it>0?it:0)}else ze&&Ze(!1)},1e3)),()=>{Te&&clearInterval(Te)}},[n,ze,qr]),b.useEffect(()=>{if(n){const Te=["mousemove","mousedown","keypress","scroll","touchstart","click"];let H;const Ae=()=>{H||(ba(),H=setTimeout(()=>{H=null},500))};return Te.forEach(Ce=>window.addEventListener(Ce,Ae)),tt.current=Date.now(),()=>{Te.forEach(Ce=>window.removeEventListener(Ce,Ae))}}},[n,ba]),b.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await oB(Vx,__initial_auth_token):await nB(Vx)}catch(H){console.warn("Auth Error:",H)}})(),uB(Vx,H=>{e(H),u(!1)})),[]),b.useEffect(()=>{if(!t)return;P([]),M({}),ee({}),le([]),U({}),ne([]),se([]),ue({}),ce({}),X(Vg),K({newASP:3500,trafficASP:1200});const Te=Zr(wh(j("daily_reports"),s0("date","desc")),dt=>P(dt.docs.map(an=>({id:an.id,...an.data()})))),H=Zr(j("monthly_targets"),dt=>{const an={};dt.docs.forEach(wn=>an[wn.id]=wn.data()),M(an)}),Ae=Zr(k("kpi_targets"),dt=>{dt.exists()?K(dt.data()):K({newASP:3500,trafficASP:1200})}),Ce=Zr(k("org_structure"),dt=>{if(dt.exists()){const an=dt.data().managers||{},wn={};Object.keys(an).forEach(Xi=>{!Xi.includes("")&&!Xi.includes("")&&(wn[Xi]=an[Xi])}),ee(wn)}else z.id==="cyj"?ee(tpe):ee({})}),ke=Zr(k("store_account_data"),dt=>{dt.exists()?le(dt.data().accounts):le([])}),it=Zr(k("manager_auth"),dt=>{dt.exists()?U(dt.data()):U({})}),St=Zr(k("permissions"),dt=>{dt.exists()?X(dt.data()):X(Vg)}),ur=Zr(j("therapists"),dt=>ne(dt.docs.map(an=>({id:an.id,...an.data()})))),dn=Zr(wh(j("therapist_daily_reports"),s0("date","desc"),u5(1e3)),dt=>se(dt.docs.map(an=>({id:an.id,...an.data()})))),kt=Zr(j("therapist_schedules"),dt=>{const an={};dt.docs.forEach(wn=>an[wn.id]=wn.data()),ue(an)}),Ai=Zr(j("therapist_targets"),dt=>{const an={};dt.docs.forEach(wn=>an[wn.id]=wn.data()),ce(an)}),fo=Zr(k("trainer_auth"),dt=>{dt.exists()?be(dt.data()):be({password:"0000"})}),Dd=Zr(k("audit_exclusions"),dt=>{dt.exists()?Ie(dt.data().stores||[]):Ie([])});return()=>{Te(),H(),Ae(),Ce(),ke(),it(),St(),ur(),dn(),kt(),Ai(),fo(),Dd()}},[t,z,j,k]);const uo=(Te,H=null)=>{let Ae=H;if(Te==="therapist"&&H?.name){const ke=Z.find(it=>it.name===H.name);ke&&(Ae={...H,...ke,id:ke.id||H.id})}r(Te),Ae&&s(Ae);const Ce=Ae?.name||(Te==="director"?"":Te==="trainer"?"":"");$t(Te,Ce,"",""),h("dashboard")},xa=async(Te,H)=>{try{const Ae=pe.map(Ce=>Ce.id===Te?{...Ce,password:H}:Ce);return await Fn(k("store_account_data"),{accounts:Ae}),!0}catch{return!1}},cr=async(Te,H)=>{try{return await Fn(k("manager_auth"),{[Te]:H},{merge:!0}),!0}catch{return!1}},gn=async(Te,H)=>{try{return await l0(Ir(j("therapists"),Te),{password:H}),!0}catch(Ae){return console.error(Ae),!1}},Zn=async Te=>{try{return await Fn(k("trainer_auth"),{password:Te}),!0}catch(H){return console.error(H),!1}},Zt=async Te=>{try{return await Fn(k("audit_exclusions"),{stores:Te}),!0}catch(H){return console.error(H),!1}},wa=b.useCallback(Te=>{h("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:Te}))},[]),Ei=b.useMemo(()=>{if(n===gr.TRAINER.id)return[];if(n===gr.STORE.id&&i){const Te=(i.stores||[i.storeName]).map(Fe).filter(Boolean);return I.filter(H=>Te.includes(Fe(H.storeName)))}if(n===gr.MANAGER.id&&i){const Te=(G[i.name]||[]).map(Fe).filter(Boolean);return I.filter(H=>Te.includes(Fe(H.storeName)))}return I},[I,n,i,G,Fe]),ss=b.useMemo(()=>{if(n===gr.DIRECTOR.id||n===gr.TRAINER.id||n===gr.THERAPIST.id)return Ee;if(n===gr.MANAGER.id&&i){const Te=(G[i.name]||[]).map(Fe).filter(Boolean);return Ee.filter(H=>Te.includes(Fe(H.storeName)))}if(n===gr.STORE.id&&i){const Te=(i.stores||[i.storeName]).map(Fe).filter(Boolean);return Ee.filter(H=>Te.includes(Fe(H.storeName)))}return[]},[Ee,n,i,G,Fe]),Mr=b.useMemo(()=>{if(n===gr.DIRECTOR.id||n===gr.TRAINER.id)return Z;if(n===gr.MANAGER.id&&i){const Te=(G[i.name]||[]).map(Fe).filter(Boolean);return Z.filter(H=>Te.includes(Fe(H.store)))}if(n===gr.STORE.id&&i){const Te=(i.stores||[i.storeName]).map(Fe).filter(Boolean);return Z.filter(H=>Te.includes(Fe(H.store)))}return n===gr.THERAPIST.id&&i?Z.filter(Te=>Te.id===i.id):[]},[Z,n,i,G,Fe]),li=b.useMemo(()=>{let Te=G;if(n===gr.MANAGER.id&&i){const H=G[i.name]||[];Te={[i.name]:H}}else if(n===gr.STORE.id&&i){const H=(i.stores||(i.storeName?[i.storeName]:[])).map(Fe),Ae={};Object.entries(G).forEach(([Ce,ke])=>{const it=ke.filter(St=>H.includes(Fe(St)));it.length>0&&(Ae[Ce]=it)}),Te=Ae}if(f!=="settings"){const H={};return Object.entries(Te).forEach(([Ae,Ce])=>{!Ae.includes("")&&!Ae.includes("")&&(H[Ae]=Ce)}),H}return Te},[G,n,i,f,Fe]),un=b.useMemo(()=>{const Te={};return Object.entries(G).forEach(([H,Ae])=>{!H.includes("")&&!H.includes("")&&(Te[H]=Ae)}),Te},[G]),Ar=Spe(Ei,li,L,Ge,xt),Fr=(Te,H="info")=>_({message:Te,type:H}),Dr=b.useCallback((Te,H,Ae)=>S({isOpen:!0,title:Te,message:H,onConfirm:()=>{Ae(),S(Ce=>({...Ce,isOpen:!1}))}}),[]),El=()=>S(Te=>({...Te,isOpen:!1})),os=b.useMemo(()=>{const Te=V==="anniu"?"":V==="yibo"?"":"CYJ";return Object.values(G).flat().map(H=>`${Te}${Fe(H)}`)},[G,V,Fe]),Hr=Te=>`$${(Te||0).toLocaleString()}`,Wi=Te=>(Te||0).toLocaleString(),Al=b.useMemo(()=>({user:t,loading:l,analytics:Ar,managers:li,budgets:L,targets:re,rawData:Ei,allReports:I,showToast:Fr,openConfirm:Dr,fmtMoney:Hr,fmtNum:Wi,inputDate:Me,setInputDate:Ke,storeList:Ar?.storeList||[],setTargets:K,selectedYear:Ge,selectedMonth:xt,permissions:Y,storeAccounts:pe,managerAuth:J,currentUser:i,userRole:n,logActivity:$t,handleUpdateStorePassword:xa,handleUpdateManagerPassword:cr,handleUpdateTherapistPassword:gn,navigateToStore:wa,activeView:f,appId:Qf,therapists:Mr,therapistReports:ss,therapistSchedules:Q,therapistTargets:ie,trainerAuth:fe,handleUpdateTrainerAuth:Zn,auditExclusions:Ne,handleUpdateAuditExclusions:Zt,currentBrand:z,setCurrentBrandId:D,getCollectionPath:j,getDocPath:k}),[t,l,Ar,li,L,re,Ei,I,Me,Ge,xt,Y,pe,J,i,n,$t,xa,cr,gn,wa,f,Qf,Mr,ss,Q,ie,fe,Zn,Ne,Zt,z,D,j,k]);return l?d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[d.jsx(Rs,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),d.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?d.jsx(lr.Provider,{value:Al,children:d.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[d.jsx(ape,{activeView:f,setActiveView:h,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>qr(),permissions:Y,currentUser:i}),d.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[d.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:d.jsx(hme,{size:24})}),d.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[d.jsx("span",{className:"text-amber-600",children:""})," ",Nc.find(Te=>Te.id===f)?.label||(f==="targets"?"":"DRCYJ System")]}),d.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[d.jsx(L9,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),d.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[d.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[d.jsx(y2,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),d.jsx("input",{type:"text",placeholder:"...",value:E,onChange:Te=>C(Te.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),E&&d.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:os.filter(Te=>Te.includes(E)).length>0?os.filter(Te=>Te.includes(E)).map(Te=>d.jsxs("button",{onClick:()=>{wa(Te),C("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[d.jsx(_i,{size:16,className:"text-stone-400"})," ",Te]},Te)):d.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[d.jsx($9,{size:16,className:"text-stone-400 hidden sm:block"}),d.jsx("select",{value:Ge,onChange:Te=>Pe(Te.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(Te=>d.jsx("option",{value:Te,children:Te},Te))}),d.jsx("select",{value:xt,onChange:Te=>Oe(Te.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(Te,H)=>H+1).map(Te=>d.jsxs("option",{value:Te,children:[Te,""]},Te))})]})]})]}),d.jsx(spe,{activeView:f,setActiveView:h,permissions:Y,userRole:n,onLogout:()=>qr()}),d.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[f==="dashboard"&&d.jsx(cpe,{}),f==="regional"&&d.jsx(ppe,{}),f==="ranking"&&d.jsx(gpe,{}),f==="audit"&&d.jsx(_pe,{}),f==="history"&&d.jsx(mpe,{}),f==="input"&&d.jsx(hpe,{}),f==="logs"&&d.jsx(ype,{}),f==="settings"&&d.jsx(wpe,{}),f==="annual"&&d.jsx(Ape,{}),f==="store-analysis"&&d.jsx(vpe,{}),f==="targets"&&d.jsx(Tpe,{}),f==="t-targets"&&d.jsx(jpe,{}),f==="t-schedule"&&d.jsx(Npe,{})]})]}),x&&d.jsx(rpe,{message:x.message,type:x.type,onClose:()=>_(null)}),d.jsx(ipe,{isOpen:A.isOpen,title:A.title,message:A.message,onConfirm:A.onConfirm,onCancel:El}),ze&&d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:d.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[d.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[d.jsx(Dhe,{size:40,className:"animate-pulse"})," "]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),d.jsxs("p",{className:"text-stone-500 font-medium",children:["",d.jsx("br",{})," ",d.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:Et})," "]})]}),d.jsx("button",{onClick:ba,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):d.jsx(lpe,{onLogin:uo,storeAccounts:pe,managers:un,managerAuth:J,therapists:Z,onUpdatePassword:xa,onUpdateManagerPassword:cr,onUpdateTherapistPassword:gn,trainerAuth:fe,handleUpdateTrainerAuth:Zn,currentBrandId:V,onSwitchBrand:N,hasSelectedBrand:B})}M8.createRoot(document.getElementById("root")).render(d.jsx(b.StrictMode,{children:d.jsx(Cpe,{})}));
