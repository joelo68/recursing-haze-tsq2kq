function XV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ms(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ub={exports:{}},cf={};var zN;function QV(){if(zN)return cf;zN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return cf.Fragment=e,cf.jsx=n,cf.jsxs=n,cf}var VN;function ZV(){return VN||(VN=1,Ub.exports=QV()),Ub.exports}var m=ZV(),Bb={exports:{}},He={};var UN;function JV(){if(UN)return He;UN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function O(F,X,ue){this.props=F,this.context=X,this.refs=S,this.updater=ue||A}O.prototype.isReactComponent={},O.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=O.prototype;function R(F,X,ue){this.props=F,this.context=X,this.refs=S,this.updater=ue||A}var V=R.prototype=new M;V.constructor=R,E(V,O.prototype),V.isPureReactComponent=!0;var D=Array.isArray;function L(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function I(F,X,ue){var ge=ue.ref;return{$$typeof:t,type:F,key:X,ref:ge!==void 0?ge:null,props:ue}}function z(F,X){return I(F.type,X,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function $(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return X[ue]})}var U=/\/+/g;function ce(F,X){return typeof F=="object"&&F!==null&&F.key!=null?$(""+F.key):X.toString(36)}function pe(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(X){F.status==="pending"&&(F.status="fulfilled",F.value=X)},function(X){F.status==="pending"&&(F.status="rejected",F.reason=X)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function K(F,X,ue,ge,je){var se=typeof F;(se==="undefined"||se==="boolean")&&(F=null);var we=!1;if(F===null)we=!0;else switch(se){case"bigint":case"string":case"number":we=!0;break;case"object":switch(F.$$typeof){case t:case e:we=!0;break;case p:return we=F._init,K(we(F._payload),X,ue,ge,je)}}if(we)return je=je(F),we=ge===""?"."+ce(F,0):ge,D(je)?(ue="",we!=null&&(ue=we.replace(U,"$&/")+"/"),K(je,X,ue,"",function(Re){return Re})):je!=null&&(k(je)&&(je=z(je,ue+(je.key==null||F&&F.key===je.key?"":(""+je.key).replace(U,"$&/")+"/")+we)),X.push(je)),1;we=0;var Ue=ge===""?".":ge+":";if(D(F))for(var le=0;le<F.length;le++)ge=F[le],se=Ue+ce(ge,le),we+=K(ge,X,ue,se,je);else if(le=w(F),typeof le=="function")for(F=le.call(F),le=0;!(ge=F.next()).done;)ge=ge.value,se=Ue+ce(ge,le++),we+=K(ge,X,ue,se,je);else if(se==="object"){if(typeof F.then=="function")return K(pe(F),X,ue,ge,je);throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return we}function Z(F,X,ue){if(F==null)return F;var ge=[],je=0;return K(F,ge,"","",function(se){return X.call(ue,se,je++)}),ge}function W(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var oe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},xe={map:Z,forEach:function(F,X,ue){Z(F,function(){X.apply(this,arguments)},ue)},count:function(F){var X=0;return Z(F,function(){X++}),X},toArray:function(F){return Z(F,function(X){return X})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return He.Activity=g,He.Children=xe,He.Component=O,He.Fragment=n,He.Profiler=i,He.PureComponent=R,He.StrictMode=r,He.Suspense=d,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,He.__COMPILER_RUNTIME={__proto__:null,c:function(F){return N.H.useMemoCache(F)}},He.cache=function(F){return function(){return F.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(F,X,ue){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ge=E({},F.props),je=F.key;if(X!=null)for(se in X.key!==void 0&&(je=""+X.key),X)!j.call(X,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&X.ref===void 0||(ge[se]=X[se]);var se=arguments.length-2;if(se===1)ge.children=ue;else if(1<se){for(var we=Array(se),Ue=0;Ue<se;Ue++)we[Ue]=arguments[Ue+2];ge.children=we}return I(F.type,je,ge)},He.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},He.createElement=function(F,X,ue){var ge,je={},se=null;if(X!=null)for(ge in X.key!==void 0&&(se=""+X.key),X)j.call(X,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(je[ge]=X[ge]);var we=arguments.length-2;if(we===1)je.children=ue;else if(1<we){for(var Ue=Array(we),le=0;le<we;le++)Ue[le]=arguments[le+2];je.children=Ue}if(F&&F.defaultProps)for(ge in we=F.defaultProps,we)je[ge]===void 0&&(je[ge]=we[ge]);return I(F,se,je)},He.createRef=function(){return{current:null}},He.forwardRef=function(F){return{$$typeof:u,render:F}},He.isValidElement=k,He.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:W}},He.memo=function(F,X){return{$$typeof:h,type:F,compare:X===void 0?null:X}},He.startTransition=function(F){var X=N.T,ue={};N.T=ue;try{var ge=F(),je=N.S;je!==null&&je(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(L,oe)}catch(se){oe(se)}finally{X!==null&&ue.types!==null&&(X.types=ue.types),N.T=X}},He.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},He.use=function(F){return N.H.use(F)},He.useActionState=function(F,X,ue){return N.H.useActionState(F,X,ue)},He.useCallback=function(F,X){return N.H.useCallback(F,X)},He.useContext=function(F){return N.H.useContext(F)},He.useDebugValue=function(){},He.useDeferredValue=function(F,X){return N.H.useDeferredValue(F,X)},He.useEffect=function(F,X){return N.H.useEffect(F,X)},He.useEffectEvent=function(F){return N.H.useEffectEvent(F)},He.useId=function(){return N.H.useId()},He.useImperativeHandle=function(F,X,ue){return N.H.useImperativeHandle(F,X,ue)},He.useInsertionEffect=function(F,X){return N.H.useInsertionEffect(F,X)},He.useLayoutEffect=function(F,X){return N.H.useLayoutEffect(F,X)},He.useMemo=function(F,X){return N.H.useMemo(F,X)},He.useOptimistic=function(F,X){return N.H.useOptimistic(F,X)},He.useReducer=function(F,X,ue){return N.H.useReducer(F,X,ue)},He.useRef=function(F){return N.H.useRef(F)},He.useState=function(F){return N.H.useState(F)},He.useSyncExternalStore=function(F,X,ue){return N.H.useSyncExternalStore(F,X,ue)},He.useTransition=function(){return N.H.useTransition()},He.version="19.2.3",He}var BN;function $u(){return BN||(BN=1,Bb.exports=JV()),Bb.exports}var _=$u();const wk=Ms(_),e9=XV({__proto__:null,default:wk},[_]);var $b={exports:{}},uf={},qb={exports:{}},Fb={};var $N;function t9(){return $N||($N=1,(function(t){function e(K,Z){var W=K.length;K.push(Z);e:for(;0<W;){var oe=W-1>>>1,xe=K[oe];if(0<i(xe,Z))K[oe]=Z,K[W]=xe,W=oe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],W=K.pop();if(W!==Z){K[0]=W;e:for(var oe=0,xe=K.length,F=xe>>>1;oe<F;){var X=2*(oe+1)-1,ue=K[X],ge=X+1,je=K[ge];if(0>i(ue,W))ge<xe&&0>i(je,ue)?(K[oe]=je,K[ge]=W,oe=ge):(K[oe]=ue,K[X]=W,oe=X);else if(ge<xe&&0>i(je,W))K[oe]=je,K[ge]=W,oe=ge;else break e}}return Z}function i(K,Z){var W=K.sortIndex-Z.sortIndex;return W!==0?W:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,b=3,w=!1,A=!1,E=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function V(K){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=K)r(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(h)}}function D(K){if(E=!1,V(K),!A)if(n(d)!==null)A=!0,L||(L=!0,$());else{var Z=n(h);Z!==null&&pe(D,Z.startTime-K)}}var L=!1,N=-1,j=5,I=-1;function z(){return S?!0:!(t.unstable_now()-I<j)}function k(){if(S=!1,L){var K=t.unstable_now();I=K;var Z=!0;try{e:{A=!1,E&&(E=!1,M(N),N=-1),w=!0;var W=b;try{t:{for(V(K),g=n(d);g!==null&&!(g.expirationTime>K&&z());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,b=g.priorityLevel;var xe=oe(g.expirationTime<=K);if(K=t.unstable_now(),typeof xe=="function"){g.callback=xe,V(K),Z=!0;break t}g===n(d)&&r(d),V(K)}else r(d);g=n(d)}if(g!==null)Z=!0;else{var F=n(h);F!==null&&pe(D,F.startTime-K),Z=!1}}break e}finally{g=null,b=W,w=!1}Z=void 0}}finally{Z?$():L=!1}}}var $;if(typeof R=="function")$=function(){R(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ce=U.port2;U.port1.onmessage=k,$=function(){ce.postMessage(null)}}else $=function(){O(k,0)};function pe(K,Z){N=O(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var W=b;b=Z;try{return K()}finally{b=W}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var W=b;b=K;try{return Z()}finally{b=W}},t.unstable_scheduleCallback=function(K,Z,W){var oe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,K){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=W+xe,K={id:p++,callback:Z,priorityLevel:K,startTime:W,expirationTime:xe,sortIndex:-1},W>oe?(K.sortIndex=W,e(h,K),n(d)===null&&K===n(h)&&(E?(M(N),N=-1):E=!0,pe(D,W-oe))):(K.sortIndex=xe,e(d,K),A||w||(A=!0,L||(L=!0,$()))),K},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(K){var Z=b;return function(){var W=b;b=Z;try{return K.apply(this,arguments)}finally{b=W}}}})(Fb)),Fb}var qN;function n9(){return qN||(qN=1,qb.exports=t9()),qb.exports}var Hb={exports:{}},ur={};var FN;function r9(){if(FN)return ur;FN=1;var t=$u();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,p)},ur.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},ur.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},ur.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ur.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ur.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},ur.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ur.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},ur.requestFormReset=function(d){r.d.r(d)},ur.unstable_batchedUpdates=function(d,h){return d(h)},ur.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},ur.useFormStatus=function(){return l.H.useHostTransitionStatus()},ur.version="19.2.3",ur}var HN;function Sk(){if(HN)return Hb.exports;HN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hb.exports=r9(),Hb.exports}var KN;function i9(){if(KN)return uf;KN=1;var t=n9(),e=$u(),n=Sk();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,f=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return d(y),a;if(x===f)return d(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==f.return)c=y,f=x;else{for(var C=!1,B=y.child;B;){if(B===c){C=!0,c=y,f=x;break}if(B===f){C=!0,f=y,c=x;break}B=B.sibling}if(!C){for(B=x.child;B;){if(B===c){C=!0,c=x,f=y;break}if(B===f){C=!0,f=x,c=y;break}B=B.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=k&&a[k]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case O:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case R:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case V:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:ce(a.type)||"Memo";case j:o=a._payload,a=a._init;try{return ce(a(o))}catch{}}return null}var pe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},oe=[],xe=-1;function F(a){return{current:a}}function X(a){0>xe||(a.current=oe[xe],oe[xe]=null,xe--)}function ue(a,o){xe++,oe[xe]=a.current,a.current=o}var ge=F(null),je=F(null),se=F(null),we=F(null);function Ue(a,o){switch(ue(se,o),ue(je,a),ue(ge,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?oN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=oN(o),a=lN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(ge),ue(ge,a)}function le(){X(ge),X(je),X(se)}function Re(a){a.memoizedState!==null&&ue(we,a);var o=ge.current,c=lN(o,a.type);o!==c&&(ue(je,a),ue(ge,c))}function Be(a){je.current===a&&(X(ge),X(je)),we.current===a&&(X(we),af._currentValue=W)}var be,St;function We(a){if(be===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);be=o&&o[1]||"",St=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+a+St}var Kt=!1;function Et(a,o){if(!a||Kt)return"";Kt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var re=ae}Reflect.construct(a,[],me)}else{try{me.call()}catch(ae){re=ae}a.call(me.prototype)}}else{try{throw Error()}catch(ae){re=ae}(me=a())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),C=x[0],B=x[1];if(C&&B){var G=C.split(`
`),ne=B.split(`
`);for(y=f=0;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;if(f===G.length||y===ne.length)for(f=G.length-1,y=ne.length-1;1<=f&&0<=y&&G[f]!==ne[y];)y--;for(;1<=f&&0<=y;f--,y--)if(G[f]!==ne[y]){if(f!==1||y!==1)do if(f--,y--,0>y||G[f]!==ne[y]){var de=`
`+G[f].replace(" at new "," at ");return a.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",a.displayName)),de}while(1<=f&&0<=y);break}}}finally{Kt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?We(c):""}function tn(a,o){switch(a.tag){case 26:case 27:case 5:return We(a.type);case 16:return We("Lazy");case 13:return a.child!==o&&o!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Et(a.type,!1);case 11:return Et(a.type.render,!1);case 1:return Et(a.type,!0);case 31:return We("Activity");default:return""}}function lr(a){try{var o="",c=null;do o+=tn(a,c),c=a,a=a.return;while(a);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var At=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,ui=t.unstable_cancelCallback,Fa=t.unstable_shouldYield,na=t.unstable_requestPaint,un=t.unstable_now,Fr=t.unstable_getCurrentPriorityLevel,Mi=t.unstable_ImmediatePriority,Li=t.unstable_UserBlockingPriority,Hr=t.unstable_NormalPriority,Gs=t.unstable_LowPriority,ra=t.unstable_IdlePriority,ia=t.log,Ys=t.unstable_setDisableYieldValue,xr=null,dn=null;function cr(a){if(typeof ia=="function"&&Ys(a),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(xr,a)}catch{}}var Bt=Math.clz32?Math.clz32:H,Ha=Math.log,aa=Math.LN2;function H(a){return a>>>=0,a===0?32:31-(Ha(a)/aa|0)|0}var ye=256,Se=262144,Le=4194304;function yt(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Mt(a,o,c){var f=a.pendingLanes;if(f===0)return 0;var y=0,x=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var B=f&134217727;return B!==0?(f=B&~x,f!==0?y=yt(f):(C&=B,C!==0?y=yt(C):c||(c=B&~a,c!==0&&(y=yt(c))))):(B=f&~x,B!==0?y=yt(B):C!==0?y=yt(C):c||(c=f&~a,c!==0&&(y=yt(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function Kr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function cd(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gc(){var a=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),a}function di(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Ka(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ud(a,o,c,f,y,x){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var B=a.entanglements,G=a.expirationTimes,ne=a.hiddenUpdates;for(c=C&~c;0<c;){var de=31-Bt(c),me=1<<de;B[de]=0,G[de]=-1;var re=ne[de];if(re!==null)for(ne[de]=null,de=0;de<re.length;de++){var ae=re[de];ae!==null&&(ae.lane&=-536870913)}c&=~me}f!==0&&Qe(a,f,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(C&~o))}function Qe(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-Bt(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function Zt(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var f=31-Bt(c),y=1<<f;y&o|a[f]&o&&(a[f]|=o),c&=~y}}function Ir(a,o){var c=o&-o;return c=(c&42)!==0?1:ol(c),(c&(a.suspendedLanes|o))!==0?0:c}function ol(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ga(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Wh(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:IN(a.type))}function zi(a,o){var c=Z.p;try{return Z.p=a,o()}finally{Z.p=c}}var Vi=Math.random().toString(36).slice(2),yn="__reactFiber$"+Vi,Un="__reactProps$"+Vi,sa="__reactContainer$"+Vi,vc="__reactEvents$"+Vi,Ky="__reactListeners$"+Vi,Xh="__reactHandles$"+Vi,Qh="__reactResources$"+Vi,oa="__reactMarker$"+Vi;function yc(a){delete a[yn],delete a[Un],delete a[vc],delete a[Ky],delete a[Xh]}function la(a){var o=a[yn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[sa]||c[yn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=pN(a);a!==null;){if(c=a[yn])return c;a=pN(a)}return o}a=c,c=a.parentNode}return null}function fi(a){if(a=a[yn]||a[sa]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Gr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ca(a){var o=a[Qh];return o||(o=a[Qh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bn(a){a[oa]=!0}var dd=new Set,fd={};function ua(a,o){da(a,o),da(a+"Capture",o)}function da(a,o){for(fd[a]=o,a=0;a<o.length;a++)dd.add(o[a])}var hd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),md={},pd={};function Zh(a){return At.call(pd,a)?!0:At.call(md,a)?!1:hd.test(a)?pd[a]=!0:(md[a]=!0,!1)}function bc(a,o,c){if(Zh(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Yr(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function xn(a,o,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+f)}}function Bn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ws(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function gd(a,o,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,x=f.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,x.call(this,C)}}),Object.defineProperty(a,o,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function bt(a){if(!a._valueTracker){var o=Ws(a)?"checked":"value";a._valueTracker=gd(a,o,""+a[o])}}function ll(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return a&&(f=Ws(a)?a.checked?"true":"false":a.value),a=f,a!==c?(o.setValue(a),!0):!1}function fa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var cl=/[\n"\\]/g;function Pr(a){return a.replace(cl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function xc(a,o,c,f,y,x,C,B){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),o!=null?C==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Bn(o)):a.value!==""+Bn(o)&&(a.value=""+Bn(o)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),o!=null?vd(a,C,Bn(o)):c!=null?vd(a,C,Bn(c)):f!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.name=""+Bn(B):a.removeAttribute("name")}function Jh(a,o,c,f,y,x,C,B){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){bt(a);return}c=c!=null?""+Bn(c):"",o=o!=null?""+Bn(o):c,B||o===a.value||(a.value=o),a.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=B?a.checked:!!f,a.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),bt(a)}function vd(a,o,c){o==="number"&&fa(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Xs(a,o,c,f){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&f&&(a[c].defaultSelected=!0)}else{for(c=""+Bn(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function em(a,o,c){if(o!=null&&(o=""+Bn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Bn(c):""}function Qs(a,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(r(92));if(pe(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=Bn(o),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),bt(a)}function Rr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var tm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yd(a,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,c):typeof c!="number"||c===0||tm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function bd(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&yd(a,y,f)}else for(var x in o)o.hasOwnProperty(x)&&yd(a,x,o[x])}function _c(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wc(a){return Zs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var xd=null;function hi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Js=null,ha=null;function ul(a){var o=fi(a);if(o&&(a=o.stateNode)){var c=a[Un]||null;e:switch(a=o.stateNode,o.type){case"input":if(xc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Pr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==a&&f.form===a.form){var y=f[Un]||null;if(!y)throw Error(r(90));xc(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===a.form&&ll(f)}break e;case"textarea":em(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Xs(a,!!c.multiple,o,!1)}}}var Sc=!1;function eo(a,o,c){if(Sc)return a(o,c);Sc=!0;try{var f=a(o);return f}finally{if(Sc=!1,(Js!==null||ha!==null)&&(Wm(),Js&&(o=Js,a=ha,ha=Js=null,ul(o),a)))for(o=0;o<a.length;o++)ul(a[o])}}function Bi(a,o){var c=a.stateNode;if(c===null)return null;var f=c[Un]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=!1;if(mi)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){dl=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{dl=!1}var ma=null,_d=null,fl=null;function wd(){if(fl)return fl;var a,o=_d,c=o.length,f,y="value"in ma?ma.value:ma.textContent,x=y.length;for(a=0;a<c&&o[a]===y[a];a++);var C=c-a;for(f=1;f<=C&&o[c-f]===y[x-f];f++);return fl=y.slice(a,1<f?1-f:void 0)}function hl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ya(){return!0}function $i(){return!1}function Qn(a){function o(c,f,y,x,C){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(c=a[B],this[B]=c?c(x):x[B]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ya:$i,this.isPropagationStopped=$i,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),o}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Qn(Wa),to=g({},Wa,{view:0,detail:0}),Sd=Qn(to),no,Ec,ga,Ac=g({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ga&&(ga&&a.type==="mousemove"?(no=a.screenX-ga.screenX,Ec=a.screenY-ga.screenY):Ec=no=0,ga=a),no)},movementY:function(a){return"movementY"in a?a.movementY:Ec}}),Ed=Qn(Ac),ml=g({},Ac,{dataTransfer:0}),rm=Qn(ml),im=g({},to,{relatedTarget:0}),pl=Qn(im),Ad=g({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),am=Qn(Ad),Tc=g({},Wa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),sm=Qn(Tc),om=g({},Wa,{data:0}),va=Qn(om),lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=um[a])?!!o[a]:!1}function ro(){return dm}var _r=g({},to,{key:function(a){if(a.key){var o=lm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=hl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?cm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(a){return a.type==="keypress"?hl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?hl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),fm=Qn(_r),hm=g({},Ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=Qn(hm),v=g({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),T=Qn(v),P=g({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Qn(P),J=g({},Ac,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=Qn(J),_e=g({},Wa,{newState:0,oldState:0}),Ge=Qn(_e),fn=[9,13,27,32],ht=mi&&"CompositionEvent"in window,Gt=null;mi&&"documentMode"in document&&(Gt=document.documentMode);var pi=mi&&"TextEvent"in window&&!Gt,ya=mi&&(!ht||Gt&&8<Gt&&11>=Gt),qi=" ",Fi=!1;function gl(a,o){switch(a){case"keyup":return fn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var jc=!1;function xz(a,o){switch(a){case"compositionend":return Nc(o);case"keypress":return o.which!==32?null:(Fi=!0,qi);case"textInput":return a=o.data,a===qi&&Fi?null:a;default:return null}}function _z(a,o){if(jc)return a==="compositionend"||!ht&&gl(a,o)?(a=wd(),fl=_d=ma=null,jc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ya&&o.locale!=="ko"?null:o.data;default:return null}}var wz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!wz[a.type]:o==="textarea"}function bA(a,o,c,f){Js?ha?ha.push(f):ha=[f]:Js=f,o=np(o,"onChange"),0<o.length&&(c=new pa("onChange","change",null,c,f),a.push({event:c,listeners:o}))}var Td=null,Nd=null;function Sz(a){tN(a,0)}function mm(a){var o=Gr(a);if(ll(o))return a}function xA(a,o){if(a==="change")return o}var _A=!1;if(mi){var Gy;if(mi){var Yy="oninput"in document;if(!Yy){var wA=document.createElement("div");wA.setAttribute("oninput","return;"),Yy=typeof wA.oninput=="function"}Gy=Yy}else Gy=!1;_A=Gy&&(!document.documentMode||9<document.documentMode)}function SA(){Td&&(Td.detachEvent("onpropertychange",EA),Nd=Td=null)}function EA(a){if(a.propertyName==="value"&&mm(Nd)){var o=[];bA(o,Nd,a,hi(a)),eo(Sz,o)}}function Ez(a,o,c){a==="focusin"?(SA(),Td=o,Nd=c,Td.attachEvent("onpropertychange",EA)):a==="focusout"&&SA()}function Az(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return mm(Nd)}function Tz(a,o){if(a==="click")return mm(o)}function Nz(a,o){if(a==="input"||a==="change")return mm(o)}function jz(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Wr=typeof Object.is=="function"?Object.is:jz;function jd(a,o){if(Wr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!At.call(o,y)||!Wr(a[y],o[y]))return!1}return!0}function AA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function TA(a,o){var c=AA(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=o&&f>=o)return{node:c,offset:o-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=AA(c)}}function NA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?NA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function jA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=fa(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=fa(a.document)}return o}function Wy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Cz=mi&&"documentMode"in document&&11>=document.documentMode,Cc=null,Xy=null,Cd=null,Qy=!1;function CA(a,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qy||Cc==null||Cc!==fa(f)||(f=Cc,"selectionStart"in f&&Wy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Cd&&jd(Cd,f)||(Cd=f,f=np(Xy,"onSelect"),0<f.length&&(o=new pa("onSelect","select",null,o,c),a.push({event:o,listeners:f}),o.target=Cc)))}function vl(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Oc={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionrun:vl("Transition","TransitionRun"),transitionstart:vl("Transition","TransitionStart"),transitioncancel:vl("Transition","TransitionCancel"),transitionend:vl("Transition","TransitionEnd")},Zy={},OA={};mi&&(OA=document.createElement("div").style,"AnimationEvent"in window||(delete Oc.animationend.animation,delete Oc.animationiteration.animation,delete Oc.animationstart.animation),"TransitionEvent"in window||delete Oc.transitionend.transition);function yl(a){if(Zy[a])return Zy[a];if(!Oc[a])return a;var o=Oc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in OA)return Zy[a]=o[c];return a}var IA=yl("animationend"),PA=yl("animationiteration"),RA=yl("animationstart"),Oz=yl("transitionrun"),Iz=yl("transitionstart"),Pz=yl("transitioncancel"),kA=yl("transitionend"),DA=new Map,Jy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jy.push("scrollEnd");function Hi(a,o){DA.set(a,o),ua(o,[a])}var pm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},gi=[],Ic=0,e0=0;function gm(){for(var a=Ic,o=e0=Ic=0;o<a;){var c=gi[o];gi[o++]=null;var f=gi[o];gi[o++]=null;var y=gi[o];gi[o++]=null;var x=gi[o];if(gi[o++]=null,f!==null&&y!==null){var C=f.pending;C===null?y.next=y:(y.next=C.next,C.next=y),f.pending=y}x!==0&&MA(c,y,x)}}function vm(a,o,c,f){gi[Ic++]=a,gi[Ic++]=o,gi[Ic++]=c,gi[Ic++]=f,e0|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function t0(a,o,c,f){return vm(a,o,c,f),ym(a)}function bl(a,o){return vm(a,null,null,o),ym(a)}function MA(a,o,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,f=x.alternate,f!==null&&(f.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&o!==null&&(y=31-Bt(c),a=x.hiddenUpdates,f=a[y],f===null?a[y]=[o]:f.push(o),o.lane=c|536870912),x):null}function ym(a){if(50<Qd)throw Qd=0,ub=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Pc={};function Rz(a,o,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(a,o,c,f){return new Rz(a,o,c,f)}function n0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qa(a,o){var c=a.alternate;return c===null?(c=Xr(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function LA(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function bm(a,o,c,f,y,x){var C=0;if(f=a,typeof a=="function")n0(a)&&(C=1);else if(typeof a=="string")C=zV(a,c,ge.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=Xr(31,c,o,y),a.elementType=I,a.lanes=x,a;case E:return xl(c.children,y,x,o);case S:C=8,y|=24;break;case O:return a=Xr(12,c,o,y|2),a.elementType=O,a.lanes=x,a;case D:return a=Xr(13,c,o,y),a.elementType=D,a.lanes=x,a;case L:return a=Xr(19,c,o,y),a.elementType=L,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:C=10;break e;case M:C=9;break e;case V:C=11;break e;case N:C=14;break e;case j:C=16,f=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),f=null}return o=Xr(C,c,o,y),o.elementType=a,o.type=f,o.lanes=x,o}function xl(a,o,c,f){return a=Xr(7,a,f,o),a.lanes=c,a}function r0(a,o,c){return a=Xr(6,a,null,o),a.lanes=c,a}function zA(a){var o=Xr(18,null,null,0);return o.stateNode=a,o}function i0(a,o,c){return o=Xr(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var VA=new WeakMap;function vi(a,o){if(typeof a=="object"&&a!==null){var c=VA.get(a);return c!==void 0?c:(o={value:a,source:o,stack:lr(o)},VA.set(a,o),o)}return{value:a,source:o,stack:lr(o)}}var Rc=[],kc=0,xm=null,Od=0,yi=[],bi=0,io=null,ba=1,xa="";function Za(a,o){Rc[kc++]=Od,Rc[kc++]=xm,xm=a,Od=o}function UA(a,o,c){yi[bi++]=ba,yi[bi++]=xa,yi[bi++]=io,io=a;var f=ba;a=xa;var y=32-Bt(f)-1;f&=~(1<<y),c+=1;var x=32-Bt(o)+y;if(30<x){var C=y-y%5;x=(f&(1<<C)-1).toString(32),f>>=C,y-=C,ba=1<<32-Bt(o)+y|c<<y|f,xa=x+a}else ba=1<<x|c<<y|f,xa=a}function a0(a){a.return!==null&&(Za(a,1),UA(a,1,0))}function s0(a){for(;a===xm;)xm=Rc[--kc],Rc[kc]=null,Od=Rc[--kc],Rc[kc]=null;for(;a===io;)io=yi[--bi],yi[bi]=null,xa=yi[--bi],yi[bi]=null,ba=yi[--bi],yi[bi]=null}function BA(a,o){yi[bi++]=ba,yi[bi++]=xa,yi[bi++]=io,ba=o.id,xa=o.overflow,io=a}var Zn=null,$t=null,st=!1,ao=null,xi=!1,o0=Error(r(519));function so(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Id(vi(o,a)),o0}function $A(a){var o=a.stateNode,c=a.type,f=a.memoizedProps;switch(o[yn]=a,o[Un]=f,c){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(c=0;c<Jd.length;c++)Je(Jd[c],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":Je("invalid",o),Jh(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Je("invalid",o);break;case"textarea":Je("invalid",o),Qs(o,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||aN(o.textContent,c)?(f.popover!=null&&(Je("beforetoggle",o),Je("toggle",o)),f.onScroll!=null&&Je("scroll",o),f.onScrollEnd!=null&&Je("scrollend",o),f.onClick!=null&&(o.onclick=Ui),o=!0):o=!1,o||so(a,!0)}function qA(a){for(Zn=a.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Zn=Zn.return}}function Dc(a){if(a!==Zn)return!1;if(!st)return qA(a),st=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Ab(a.type,a.memoizedProps)),c=!c),c&&$t&&so(a),qA(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=mN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=mN(a)}else o===27?(o=$t,_o(a.type)?(a=Ob,Ob=null,$t=a):$t=o):$t=Zn?wi(a.stateNode.nextSibling):null;return!0}function _l(){$t=Zn=null,st=!1}function l0(){var a=ao;return a!==null&&(Lr===null?Lr=a:Lr.push.apply(Lr,a),ao=null),a}function Id(a){ao===null?ao=[a]:ao.push(a)}var c0=F(null),wl=null,Ja=null;function oo(a,o,c){ue(c0,o._currentValue),o._currentValue=c}function es(a){a._currentValue=c0.current,X(c0)}function u0(a,o,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===c)break;a=a.return}}function d0(a,o,c,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var C=y.child;x=x.firstContext;e:for(;x!==null;){var B=x;x=y;for(var G=0;G<o.length;G++)if(B.context===o[G]){x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),u0(x.return,c,a),f||(C=null);break e}x=B.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,x=C.alternate,x!==null&&(x.lanes|=c),u0(C,c,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Mc(a,o,c,f){a=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var B=y.type;Wr(y.pendingProps.value,C.value)||(a!==null?a.push(B):a=[B])}}else if(y===we.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(af):a=[af])}y=y.return}a!==null&&d0(o,a,c,f),o.flags|=262144}function _m(a){for(a=a.firstContext;a!==null;){if(!Wr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Sl(a){wl=a,Ja=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Jn(a){return FA(wl,a)}function wm(a,o){return wl===null&&Sl(a),FA(a,o)}function FA(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ja===null){if(a===null)throw Error(r(308));Ja=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ja=Ja.next=o;return c}var kz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},Dz=t.unstable_scheduleCallback,Mz=t.unstable_NormalPriority,_n={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function f0(){return{controller:new kz,data:new Map,refCount:0}}function Pd(a){a.refCount--,a.refCount===0&&Dz(Mz,function(){a.controller.abort()})}var Rd=null,h0=0,Lc=0,zc=null;function Lz(a,o){if(Rd===null){var c=Rd=[];h0=0,Lc=gb(),zc={status:"pending",value:void 0,then:function(f){c.push(f)}}}return h0++,o.then(HA,HA),o}function HA(){if(--h0===0&&Rd!==null){zc!==null&&(zc.status="fulfilled");var a=Rd;Rd=null,Lc=0,zc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function zz(a,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var KA=K.S;K.S=function(a,o){C2=un(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Lz(a,o),KA!==null&&KA(a,o)};var El=F(null);function m0(){var a=El.current;return a!==null?a:Pt.pooledCache}function Sm(a,o){o===null?ue(El,El.current):ue(El,o.pool)}function GA(){var a=m0();return a===null?null:{parent:_n._currentValue,pool:a}}var Vc=Error(r(460)),p0=Error(r(474)),Em=Error(r(542)),Am={then:function(){}};function YA(a){return a=a.status,a==="fulfilled"||a==="rejected"}function WA(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Ui,Ui),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,QA(a),a;default:if(typeof o.status=="string")o.then(Ui,Ui);else{if(a=Pt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,QA(a),a}throw Tl=o,Vc}}function Al(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Tl=c,Vc):c}}var Tl=null;function XA(){if(Tl===null)throw Error(r(459));var a=Tl;return Tl=null,a}function QA(a){if(a===Vc||a===Em)throw Error(r(483))}var Uc=null,kd=0;function Tm(a){var o=kd;return kd+=1,Uc===null&&(Uc=[]),WA(Uc,a,o)}function Dd(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Nm(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ZA(a){function o(Q,Y){if(a){var te=Q.deletions;te===null?(Q.deletions=[Y],Q.flags|=16):te.push(Y)}}function c(Q,Y){if(!a)return null;for(;Y!==null;)o(Q,Y),Y=Y.sibling;return null}function f(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function y(Q,Y){return Q=Qa(Q,Y),Q.index=0,Q.sibling=null,Q}function x(Q,Y,te){return Q.index=te,a?(te=Q.alternate,te!==null?(te=te.index,te<Y?(Q.flags|=67108866,Y):te):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function C(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function B(Q,Y,te,he){return Y===null||Y.tag!==6?(Y=r0(te,Q.mode,he),Y.return=Q,Y):(Y=y(Y,te),Y.return=Q,Y)}function G(Q,Y,te,he){var ke=te.type;return ke===E?de(Q,Y,te.props.children,he,te.key):Y!==null&&(Y.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===j&&Al(ke)===Y.type)?(Y=y(Y,te.props),Dd(Y,te),Y.return=Q,Y):(Y=bm(te.type,te.key,te.props,null,Q.mode,he),Dd(Y,te),Y.return=Q,Y)}function ne(Q,Y,te,he){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=i0(te,Q.mode,he),Y.return=Q,Y):(Y=y(Y,te.children||[]),Y.return=Q,Y)}function de(Q,Y,te,he,ke){return Y===null||Y.tag!==7?(Y=xl(te,Q.mode,he,ke),Y.return=Q,Y):(Y=y(Y,te),Y.return=Q,Y)}function me(Q,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=r0(""+Y,Q.mode,te),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return te=bm(Y.type,Y.key,Y.props,null,Q.mode,te),Dd(te,Y),te.return=Q,te;case A:return Y=i0(Y,Q.mode,te),Y.return=Q,Y;case j:return Y=Al(Y),me(Q,Y,te)}if(pe(Y)||$(Y))return Y=xl(Y,Q.mode,te,null),Y.return=Q,Y;if(typeof Y.then=="function")return me(Q,Tm(Y),te);if(Y.$$typeof===R)return me(Q,wm(Q,Y),te);Nm(Q,Y)}return null}function re(Q,Y,te,he){var ke=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return ke!==null?null:B(Q,Y,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===ke?G(Q,Y,te,he):null;case A:return te.key===ke?ne(Q,Y,te,he):null;case j:return te=Al(te),re(Q,Y,te,he)}if(pe(te)||$(te))return ke!==null?null:de(Q,Y,te,he,null);if(typeof te.then=="function")return re(Q,Y,Tm(te),he);if(te.$$typeof===R)return re(Q,Y,wm(Q,te),he);Nm(Q,te)}return null}function ae(Q,Y,te,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(te)||null,B(Y,Q,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return Q=Q.get(he.key===null?te:he.key)||null,G(Y,Q,he,ke);case A:return Q=Q.get(he.key===null?te:he.key)||null,ne(Y,Q,he,ke);case j:return he=Al(he),ae(Q,Y,te,he,ke)}if(pe(he)||$(he))return Q=Q.get(te)||null,de(Y,Q,he,ke,null);if(typeof he.then=="function")return ae(Q,Y,te,Tm(he),ke);if(he.$$typeof===R)return ae(Q,Y,te,wm(Y,he),ke);Nm(Y,he)}return null}function Ce(Q,Y,te,he){for(var ke=null,ut=null,Pe=Y,Xe=Y=0,nt=null;Pe!==null&&Xe<te.length;Xe++){Pe.index>Xe?(nt=Pe,Pe=null):nt=Pe.sibling;var dt=re(Q,Pe,te[Xe],he);if(dt===null){Pe===null&&(Pe=nt);break}a&&Pe&&dt.alternate===null&&o(Q,Pe),Y=x(dt,Y,Xe),ut===null?ke=dt:ut.sibling=dt,ut=dt,Pe=nt}if(Xe===te.length)return c(Q,Pe),st&&Za(Q,Xe),ke;if(Pe===null){for(;Xe<te.length;Xe++)Pe=me(Q,te[Xe],he),Pe!==null&&(Y=x(Pe,Y,Xe),ut===null?ke=Pe:ut.sibling=Pe,ut=Pe);return st&&Za(Q,Xe),ke}for(Pe=f(Pe);Xe<te.length;Xe++)nt=ae(Pe,Q,Xe,te[Xe],he),nt!==null&&(a&&nt.alternate!==null&&Pe.delete(nt.key===null?Xe:nt.key),Y=x(nt,Y,Xe),ut===null?ke=nt:ut.sibling=nt,ut=nt);return a&&Pe.forEach(function(To){return o(Q,To)}),st&&Za(Q,Xe),ke}function Me(Q,Y,te,he){if(te==null)throw Error(r(151));for(var ke=null,ut=null,Pe=Y,Xe=Y=0,nt=null,dt=te.next();Pe!==null&&!dt.done;Xe++,dt=te.next()){Pe.index>Xe?(nt=Pe,Pe=null):nt=Pe.sibling;var To=re(Q,Pe,dt.value,he);if(To===null){Pe===null&&(Pe=nt);break}a&&Pe&&To.alternate===null&&o(Q,Pe),Y=x(To,Y,Xe),ut===null?ke=To:ut.sibling=To,ut=To,Pe=nt}if(dt.done)return c(Q,Pe),st&&Za(Q,Xe),ke;if(Pe===null){for(;!dt.done;Xe++,dt=te.next())dt=me(Q,dt.value,he),dt!==null&&(Y=x(dt,Y,Xe),ut===null?ke=dt:ut.sibling=dt,ut=dt);return st&&Za(Q,Xe),ke}for(Pe=f(Pe);!dt.done;Xe++,dt=te.next())dt=ae(Pe,Q,Xe,dt.value,he),dt!==null&&(a&&dt.alternate!==null&&Pe.delete(dt.key===null?Xe:dt.key),Y=x(dt,Y,Xe),ut===null?ke=dt:ut.sibling=dt,ut=dt);return a&&Pe.forEach(function(WV){return o(Q,WV)}),st&&Za(Q,Xe),ke}function Ct(Q,Y,te,he){if(typeof te=="object"&&te!==null&&te.type===E&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var ke=te.key;Y!==null;){if(Y.key===ke){if(ke=te.type,ke===E){if(Y.tag===7){c(Q,Y.sibling),he=y(Y,te.props.children),he.return=Q,Q=he;break e}}else if(Y.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===j&&Al(ke)===Y.type){c(Q,Y.sibling),he=y(Y,te.props),Dd(he,te),he.return=Q,Q=he;break e}c(Q,Y);break}else o(Q,Y);Y=Y.sibling}te.type===E?(he=xl(te.props.children,Q.mode,he,te.key),he.return=Q,Q=he):(he=bm(te.type,te.key,te.props,null,Q.mode,he),Dd(he,te),he.return=Q,Q=he)}return C(Q);case A:e:{for(ke=te.key;Y!==null;){if(Y.key===ke)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){c(Q,Y.sibling),he=y(Y,te.children||[]),he.return=Q,Q=he;break e}else{c(Q,Y);break}else o(Q,Y);Y=Y.sibling}he=i0(te,Q.mode,he),he.return=Q,Q=he}return C(Q);case j:return te=Al(te),Ct(Q,Y,te,he)}if(pe(te))return Ce(Q,Y,te,he);if($(te)){if(ke=$(te),typeof ke!="function")throw Error(r(150));return te=ke.call(te),Me(Q,Y,te,he)}if(typeof te.then=="function")return Ct(Q,Y,Tm(te),he);if(te.$$typeof===R)return Ct(Q,Y,wm(Q,te),he);Nm(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Y!==null&&Y.tag===6?(c(Q,Y.sibling),he=y(Y,te),he.return=Q,Q=he):(c(Q,Y),he=r0(te,Q.mode,he),he.return=Q,Q=he),C(Q)):c(Q,Y)}return function(Q,Y,te,he){try{kd=0;var ke=Ct(Q,Y,te,he);return Uc=null,ke}catch(Pe){if(Pe===Vc||Pe===Em)throw Pe;var ut=Xr(29,Pe,null,Q.mode);return ut.lanes=he,ut.return=Q,ut}}}var Nl=ZA(!0),JA=ZA(!1),lo=!1;function g0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function v0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function co(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function uo(a,o,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=ym(a),MA(a,null,c),o}return vm(a,f,o,c),ym(a)}function Md(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,c|=f,o.lanes=c,Zt(a,c)}}function y0(a,o){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var b0=!1;function Ld(){if(b0){var a=zc;if(a!==null)throw a}}function zd(a,o,c,f){b0=!1;var y=a.updateQueue;lo=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var G=B,ne=G.next;G.next=null,C===null?x=ne:C.next=ne,C=G;var de=a.alternate;de!==null&&(de=de.updateQueue,B=de.lastBaseUpdate,B!==C&&(B===null?de.firstBaseUpdate=ne:B.next=ne,de.lastBaseUpdate=G))}if(x!==null){var me=y.baseState;C=0,de=ne=G=null,B=x;do{var re=B.lane&-536870913,ae=re!==B.lane;if(ae?(tt&re)===re:(f&re)===re){re!==0&&re===Lc&&(b0=!0),de!==null&&(de=de.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ce=a,Me=B;re=o;var Ct=c;switch(Me.tag){case 1:if(Ce=Me.payload,typeof Ce=="function"){me=Ce.call(Ct,me,re);break e}me=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Me.payload,re=typeof Ce=="function"?Ce.call(Ct,me,re):Ce,re==null)break e;me=g({},me,re);break e;case 2:lo=!0}}re=B.callback,re!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=y.callbacks,ae===null?y.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:B.tag,payload:B.payload,callback:B.callback,next:null},de===null?(ne=de=ae,G=me):de=de.next=ae,C|=re;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;ae=B,B=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);de===null&&(G=me),y.baseState=G,y.firstBaseUpdate=ne,y.lastBaseUpdate=de,x===null&&(y.shared.lanes=0),go|=C,a.lanes=C,a.memoizedState=me}}function eT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function tT(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)eT(c[a],o)}var Bc=F(null),jm=F(0);function nT(a,o){a=cs,ue(jm,a),ue(Bc,o),cs=a|o.baseLanes}function x0(){ue(jm,cs),ue(Bc,Bc.current)}function _0(){cs=jm.current,X(Bc),X(jm)}var Qr=F(null),_i=null;function fo(a){var o=a.alternate;ue(hn,hn.current&1),ue(Qr,a),_i===null&&(o===null||Bc.current!==null||o.memoizedState!==null)&&(_i=a)}function w0(a){ue(hn,hn.current),ue(Qr,a),_i===null&&(_i=a)}function rT(a){a.tag===22?(ue(hn,hn.current),ue(Qr,a),_i===null&&(_i=a)):ho()}function ho(){ue(hn,hn.current),ue(Qr,Qr.current)}function Zr(a){X(Qr),_i===a&&(_i=null),X(hn)}var hn=F(0);function Cm(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||jb(c)||Cb(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ts=0,Ye=null,Nt=null,wn=null,Om=!1,$c=!1,jl=!1,Im=0,Vd=0,qc=null,Vz=0;function nn(){throw Error(r(321))}function S0(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Wr(a[c],o[c]))return!1;return!0}function E0(a,o,c,f,y,x){return ts=x,Ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=a===null||a.memoizedState===null?UT:V0,jl=!1,x=c(f,y),jl=!1,$c&&(x=aT(o,c,f,y)),iT(a),x}function iT(a){K.H=$d;var o=Nt!==null&&Nt.next!==null;if(ts=0,wn=Nt=Ye=null,Om=!1,Vd=0,qc=null,o)throw Error(r(300));a===null||Sn||(a=a.dependencies,a!==null&&_m(a)&&(Sn=!0))}function aT(a,o,c,f){Ye=a;var y=0;do{if($c&&(qc=null),Vd=0,$c=!1,25<=y)throw Error(r(301));if(y+=1,wn=Nt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=BT,x=o(c,f)}while($c);return x}function Uz(){var a=K.H,o=a.useState()[0];return o=typeof o.then=="function"?Ud(o):o,a=a.useState()[0],(Nt!==null?Nt.memoizedState:null)!==a&&(Ye.flags|=1024),o}function A0(){var a=Im!==0;return Im=0,a}function T0(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function N0(a){if(Om){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Om=!1}ts=0,wn=Nt=Ye=null,$c=!1,Vd=Im=0,qc=null}function wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Ye.memoizedState=wn=a:wn=wn.next=a,wn}function mn(){if(Nt===null){var a=Ye.alternate;a=a!==null?a.memoizedState:null}else a=Nt.next;var o=wn===null?Ye.memoizedState:wn.next;if(o!==null)wn=o,Nt=a;else{if(a===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));Nt=a,a={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},wn===null?Ye.memoizedState=wn=a:wn=wn.next=a}return wn}function Pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ud(a){var o=Vd;return Vd+=1,qc===null&&(qc=[]),a=WA(qc,a,o),o=Ye,(wn===null?o.memoizedState:wn.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?UT:V0),a}function Rm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ud(a);if(a.$$typeof===R)return Jn(a)}throw Error(r(438,String(a)))}function j0(a){var o=null,c=Ye.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=Ye.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Pm(),Ye.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),f=0;f<a;f++)c[f]=z;return o.index++,c}function ns(a,o){return typeof o=="function"?o(a):o}function km(a){var o=mn();return C0(o,Nt,a)}function C0(a,o,c){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var y=a.baseQueue,x=f.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}o.baseQueue=y=x,f.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{o=y.next;var B=C=null,G=null,ne=o,de=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(tt&me)===me:(ts&me)===me){var re=ne.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===Lc&&(de=!0);else if((ts&re)===re){ne=ne.next,re===Lc&&(de=!0);continue}else me={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(B=G=me,C=x):G=G.next=me,Ye.lanes|=re,go|=re;me=ne.action,jl&&c(x,me),x=ne.hasEagerState?ne.eagerState:c(x,me)}else re={lane:me,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(B=G=re,C=x):G=G.next=re,Ye.lanes|=me,go|=me;ne=ne.next}while(ne!==null&&ne!==o);if(G===null?C=x:G.next=B,!Wr(x,a.memoizedState)&&(Sn=!0,de&&(c=zc,c!==null)))throw c;a.memoizedState=x,a.baseState=C,a.baseQueue=G,f.lastRenderedState=x}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function O0(a){var o=mn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do x=a(x,C.action),C=C.next;while(C!==y);Wr(x,o.memoizedState)||(Sn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function sT(a,o,c){var f=Ye,y=mn(),x=st;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!Wr((Nt||y).memoizedState,c);if(C&&(y.memoizedState=c,Sn=!0),y=y.queue,R0(cT.bind(null,f,y,a),[a]),y.getSnapshot!==o||C||wn!==null&&wn.memoizedState.tag&1){if(f.flags|=2048,Fc(9,{destroy:void 0},lT.bind(null,f,y,c,o),null),Pt===null)throw Error(r(349));x||(ts&127)!==0||oT(f,o,c)}return c}function oT(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ye.updateQueue,o===null?(o=Pm(),Ye.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function lT(a,o,c,f){o.value=c,o.getSnapshot=f,uT(o)&&dT(a)}function cT(a,o,c){return c(function(){uT(o)&&dT(a)})}function uT(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Wr(a,c)}catch{return!0}}function dT(a){var o=bl(a,2);o!==null&&zr(o,a,2)}function I0(a){var o=wr();if(typeof a=="function"){var c=a;if(a=c(),jl){cr(!0);try{c()}finally{cr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},o}function fT(a,o,c,f){return a.baseState=c,C0(a,Nt,typeof f=="function"?f:ns)}function Bz(a,o,c,f,y){if(Lm(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};K.T!==null?c(!0):x.isTransition=!1,f(x),c=o.pending,c===null?(x.next=o.pending=x,hT(o,x)):(x.next=c.next,o.pending=c.next=x)}}function hT(a,o){var c=o.action,f=o.payload,y=a.state;if(o.isTransition){var x=K.T,C={};K.T=C;try{var B=c(y,f),G=K.S;G!==null&&G(C,B),mT(a,o,B)}catch(ne){P0(a,o,ne)}finally{x!==null&&C.types!==null&&(x.types=C.types),K.T=x}}else try{x=c(y,f),mT(a,o,x)}catch(ne){P0(a,o,ne)}}function mT(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){pT(a,o,f)},function(f){return P0(a,o,f)}):pT(a,o,c)}function pT(a,o,c){o.status="fulfilled",o.value=c,gT(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,hT(a,c)))}function P0(a,o,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,gT(o),o=o.next;while(o!==f)}a.action=null}function gT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function vT(a,o){return o}function yT(a,o){if(st){var c=Pt.formState;if(c!==null){e:{var f=Ye;if(st){if($t){t:{for(var y=$t,x=xi;y.nodeType!==8;){if(!x){y=null;break t}if(y=wi(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){$t=wi(y.nextSibling),f=y.data==="F!";break e}}so(f)}f=!1}f&&(o=c[0])}}return c=wr(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vT,lastRenderedState:o},c.queue=f,c=LT.bind(null,Ye,f),f.dispatch=c,f=I0(!1),x=z0.bind(null,Ye,!1,f.queue),f=wr(),y={state:o,dispatch:null,action:a,pending:null},f.queue=y,c=Bz.bind(null,Ye,y,x,c),y.dispatch=c,f.memoizedState=a,[o,c,!1]}function bT(a){var o=mn();return xT(o,Nt,a)}function xT(a,o,c){if(o=C0(a,o,vT)[0],a=km(ns)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Ud(o)}catch(C){throw C===Vc?Em:C}else f=o;o=mn();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(Ye.flags|=2048,Fc(9,{destroy:void 0},$z.bind(null,y,c),null)),[f,x,a]}function $z(a,o){a.action=o}function _T(a){var o=mn(),c=Nt;if(c!==null)return xT(o,c,a);mn(),o=o.memoizedState,c=mn();var f=c.queue.dispatch;return c.memoizedState=a,[o,f,!1]}function Fc(a,o,c,f){return a={tag:a,create:c,deps:f,inst:o,next:null},o=Ye.updateQueue,o===null&&(o=Pm(),Ye.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,o.lastEffect=a),a}function wT(){return mn().memoizedState}function Dm(a,o,c,f){var y=wr();Ye.flags|=a,y.memoizedState=Fc(1|o,{destroy:void 0},c,f===void 0?null:f)}function Mm(a,o,c,f){var y=mn();f=f===void 0?null:f;var x=y.memoizedState.inst;Nt!==null&&f!==null&&S0(f,Nt.memoizedState.deps)?y.memoizedState=Fc(o,x,c,f):(Ye.flags|=a,y.memoizedState=Fc(1|o,x,c,f))}function ST(a,o){Dm(8390656,8,a,o)}function R0(a,o){Mm(2048,8,a,o)}function qz(a){Ye.flags|=4;var o=Ye.updateQueue;if(o===null)o=Pm(),Ye.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function ET(a){var o=mn().memoizedState;return qz({ref:o,nextImpl:a}),function(){if((mt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function AT(a,o){return Mm(4,2,a,o)}function TT(a,o){return Mm(4,4,a,o)}function NT(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function jT(a,o,c){c=c!=null?c.concat([a]):null,Mm(4,4,NT.bind(null,o,a),c)}function k0(){}function CT(a,o){var c=mn();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&S0(o,f[1])?f[0]:(c.memoizedState=[a,o],a)}function OT(a,o){var c=mn();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&S0(o,f[1]))return f[0];if(f=a(),jl){cr(!0);try{a()}finally{cr(!1)}}return c.memoizedState=[f,o],f}function D0(a,o,c){return c===void 0||(ts&1073741824)!==0&&(tt&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=I2(),Ye.lanes|=a,go|=a,c)}function IT(a,o,c,f){return Wr(c,o)?c:Bc.current!==null?(a=D0(a,c,f),Wr(a,o)||(Sn=!0),a):(ts&42)===0||(ts&1073741824)!==0&&(tt&261930)===0?(Sn=!0,a.memoizedState=c):(a=I2(),Ye.lanes|=a,go|=a,o)}function PT(a,o,c,f,y){var x=Z.p;Z.p=x!==0&&8>x?x:8;var C=K.T,B={};K.T=B,z0(a,!1,o,c);try{var G=y(),ne=K.S;if(ne!==null&&ne(B,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var de=zz(G,f);Bd(a,o,de,ti(a))}else Bd(a,o,f,ti(a))}catch(me){Bd(a,o,{then:function(){},status:"rejected",reason:me},ti())}finally{Z.p=x,C!==null&&B.types!==null&&(C.types=B.types),K.T=C}}function Fz(){}function M0(a,o,c,f){if(a.tag!==5)throw Error(r(476));var y=RT(a).queue;PT(a,y,o,W,c===null?Fz:function(){return kT(a),c(f)})}function RT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function kT(a){var o=RT(a);o.next===null&&(o=a.alternate.memoizedState),Bd(a,o.next.queue,{},ti())}function L0(){return Jn(af)}function DT(){return mn().memoizedState}function MT(){return mn().memoizedState}function Hz(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=ti();a=co(c);var f=uo(o,a,c);f!==null&&(zr(f,o,c),Md(f,o,c)),o={cache:f0()},a.payload=o;return}o=o.return}}function Kz(a,o,c){var f=ti();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Lm(a)?zT(o,c):(c=t0(a,o,c,f),c!==null&&(zr(c,a,f),VT(c,o,f)))}function LT(a,o,c){var f=ti();Bd(a,o,c,f)}function Bd(a,o,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Lm(a))zT(o,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var C=o.lastRenderedState,B=x(C,c);if(y.hasEagerState=!0,y.eagerState=B,Wr(B,C))return vm(a,o,y,0),Pt===null&&gm(),!1}catch{}if(c=t0(a,o,y,f),c!==null)return zr(c,a,f),VT(c,o,f),!0}return!1}function z0(a,o,c,f){if(f={lane:2,revertLane:gb(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Lm(a)){if(o)throw Error(r(479))}else o=t0(a,c,f,2),o!==null&&zr(o,a,2)}function Lm(a){var o=a.alternate;return a===Ye||o!==null&&o===Ye}function zT(a,o){$c=Om=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function VT(a,o,c){if((c&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,c|=f,o.lanes=c,Zt(a,c)}}var $d={readContext:Jn,use:Rm,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};$d.useEffectEvent=nn;var UT={readContext:Jn,use:Rm,useCallback:function(a,o){return wr().memoizedState=[a,o===void 0?null:o],a},useContext:Jn,useEffect:ST,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Dm(4194308,4,NT.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Dm(4194308,4,a,o)},useInsertionEffect:function(a,o){Dm(4,2,a,o)},useMemo:function(a,o){var c=wr();o=o===void 0?null:o;var f=a();if(jl){cr(!0);try{a()}finally{cr(!1)}}return c.memoizedState=[f,o],f},useReducer:function(a,o,c){var f=wr();if(c!==void 0){var y=c(o);if(jl){cr(!0);try{c(o)}finally{cr(!1)}}}else y=o;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=Kz.bind(null,Ye,a),[f.memoizedState,a]},useRef:function(a){var o=wr();return a={current:a},o.memoizedState=a},useState:function(a){a=I0(a);var o=a.queue,c=LT.bind(null,Ye,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:k0,useDeferredValue:function(a,o){var c=wr();return D0(c,a,o)},useTransition:function(){var a=I0(!1);return a=PT.bind(null,Ye,a.queue,!0,!1),wr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var f=Ye,y=wr();if(st){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Pt===null)throw Error(r(349));(tt&127)!==0||oT(f,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,ST(cT.bind(null,f,x,a),[a]),f.flags|=2048,Fc(9,{destroy:void 0},lT.bind(null,f,x,c,o),null),c},useId:function(){var a=wr(),o=Pt.identifierPrefix;if(st){var c=xa,f=ba;c=(f&~(1<<32-Bt(f)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Im++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=Vz++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:L0,useFormState:yT,useActionState:yT,useOptimistic:function(a){var o=wr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=z0.bind(null,Ye,!0,c),c.dispatch=o,[a,o]},useMemoCache:j0,useCacheRefresh:function(){return wr().memoizedState=Hz.bind(null,Ye)},useEffectEvent:function(a){var o=wr(),c={impl:a};return o.memoizedState=c,function(){if((mt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},V0={readContext:Jn,use:Rm,useCallback:CT,useContext:Jn,useEffect:R0,useImperativeHandle:jT,useInsertionEffect:AT,useLayoutEffect:TT,useMemo:OT,useReducer:km,useRef:wT,useState:function(){return km(ns)},useDebugValue:k0,useDeferredValue:function(a,o){var c=mn();return IT(c,Nt.memoizedState,a,o)},useTransition:function(){var a=km(ns)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Ud(a),o]},useSyncExternalStore:sT,useId:DT,useHostTransitionStatus:L0,useFormState:bT,useActionState:bT,useOptimistic:function(a,o){var c=mn();return fT(c,Nt,a,o)},useMemoCache:j0,useCacheRefresh:MT};V0.useEffectEvent=ET;var BT={readContext:Jn,use:Rm,useCallback:CT,useContext:Jn,useEffect:R0,useImperativeHandle:jT,useInsertionEffect:AT,useLayoutEffect:TT,useMemo:OT,useReducer:O0,useRef:wT,useState:function(){return O0(ns)},useDebugValue:k0,useDeferredValue:function(a,o){var c=mn();return Nt===null?D0(c,a,o):IT(c,Nt.memoizedState,a,o)},useTransition:function(){var a=O0(ns)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Ud(a),o]},useSyncExternalStore:sT,useId:DT,useHostTransitionStatus:L0,useFormState:_T,useActionState:_T,useOptimistic:function(a,o){var c=mn();return Nt!==null?fT(c,Nt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:j0,useCacheRefresh:MT};BT.useEffectEvent=ET;function U0(a,o,c,f){o=a.memoizedState,c=c(f,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var B0={enqueueSetState:function(a,o,c){a=a._reactInternals;var f=ti(),y=co(f);y.payload=o,c!=null&&(y.callback=c),o=uo(a,y,f),o!==null&&(zr(o,a,f),Md(o,a,f))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var f=ti(),y=co(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=uo(a,y,f),o!==null&&(zr(o,a,f),Md(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=ti(),f=co(c);f.tag=2,o!=null&&(f.callback=o),o=uo(a,f,c),o!==null&&(zr(o,a,c),Md(o,a,c))}};function $T(a,o,c,f,y,x,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,x,C):o.prototype&&o.prototype.isPureReactComponent?!jd(c,f)||!jd(y,x):!0}function qT(a,o,c,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==a&&B0.enqueueReplaceState(o,o.state,null)}function Cl(a,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function FT(a){pm(a)}function HT(a){console.error(a)}function KT(a){pm(a)}function zm(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function GT(a,o,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function $0(a,o,c){return c=co(c),c.tag=3,c.payload={element:null},c.callback=function(){zm(a,o)},c}function YT(a){return a=co(a),a.tag=3,a}function WT(a,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=f.value;a.payload=function(){return y(x)},a.callback=function(){GT(o,c,f)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){GT(o,c,f),typeof y!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var B=f.stack;this.componentDidCatch(f.value,{componentStack:B!==null?B:""})})}function Gz(a,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&Mc(o,c,y,!0),c=Qr.current,c!==null){switch(c.tag){case 31:case 13:return _i===null?Xm():c.alternate===null&&rn===0&&(rn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===Am?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),hb(a,f,y)),!1;case 22:return c.flags|=65536,f===Am?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),hb(a,f,y)),!1}throw Error(r(435,c.tag))}return hb(a,f,y),Xm(),!1}if(st)return o=Qr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==o0&&(a=Error(r(422),{cause:f}),Id(vi(a,c)))):(f!==o0&&(o=Error(r(423),{cause:f}),Id(vi(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=vi(f,c),y=$0(a.stateNode,f,y),y0(a,y),rn!==4&&(rn=2)),!1;var x=Error(r(520),{cause:f});if(x=vi(x,c),Xd===null?Xd=[x]:Xd.push(x),rn!==4&&(rn=2),o===null)return!0;f=vi(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=$0(c.stateNode,f,a),y0(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vo===null||!vo.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=YT(y),WT(y,a,c,f),y0(c,y),!1}c=c.return}while(c!==null);return!1}var q0=Error(r(461)),Sn=!1;function er(a,o,c,f){o.child=a===null?JA(o,null,c,f):Nl(o,a.child,c,f)}function XT(a,o,c,f,y){c=c.render;var x=o.ref;if("ref"in f){var C={};for(var B in f)B!=="ref"&&(C[B]=f[B])}else C=f;return Sl(o),f=E0(a,o,c,C,x,y),B=A0(),a!==null&&!Sn?(T0(a,o,y),rs(a,o,y)):(st&&B&&a0(o),o.flags|=1,er(a,o,f,y),o.child)}function QT(a,o,c,f,y){if(a===null){var x=c.type;return typeof x=="function"&&!n0(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,ZT(a,o,x,f,y)):(a=bm(c.type,null,f,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!Q0(a,y)){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:jd,c(C,f)&&a.ref===o.ref)return rs(a,o,y)}return o.flags|=1,a=Qa(x,f),a.ref=o.ref,a.return=o,o.child=a}function ZT(a,o,c,f,y){if(a!==null){var x=a.memoizedProps;if(jd(x,f)&&a.ref===o.ref)if(Sn=!1,o.pendingProps=f=x,Q0(a,y))(a.flags&131072)!==0&&(Sn=!0);else return o.lanes=a.lanes,rs(a,o,y)}return F0(a,o,c,f,y)}function JT(a,o,c,f){var y=f.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(f=o.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~x}else f=0,o.child=null;return e2(a,o,x,c,f)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Sm(o,x!==null?x.cachePool:null),x!==null?nT(o,x):x0(),rT(o);else return f=o.lanes=536870912,e2(a,o,x!==null?x.baseLanes|c:c,c,f)}else x!==null?(Sm(o,x.cachePool),nT(o,x),ho(),o.memoizedState=null):(a!==null&&Sm(o,null),x0(),ho());return er(a,o,y,c),o.child}function qd(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function e2(a,o,c,f,y){var x=m0();return x=x===null?null:{parent:_n._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Sm(o,null),x0(),rT(o),a!==null&&Mc(a,o,f,!0),o.childLanes=y,null}function Vm(a,o){return o=Bm({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function t2(a,o,c){return Nl(o,a.child,null,c),a=Vm(o,o.pendingProps),a.flags|=2,Zr(o),o.memoizedState=null,a}function Yz(a,o,c){var f=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(st){if(f.mode==="hidden")return a=Vm(o,f),o.lanes=536870912,qd(null,a);if(w0(o),(a=$t)?(a=hN(a,xi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:io!==null?{id:ba,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},c=zA(a),c.return=o,o.child=c,Zn=o,$t=null)):a=null,a===null)throw so(o);return o.lanes=536870912,null}return Vm(o,f)}var x=a.memoizedState;if(x!==null){var C=x.dehydrated;if(w0(o),y)if(o.flags&256)o.flags&=-257,o=t2(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Sn||Mc(a,o,c,!1),y=(c&a.childLanes)!==0,Sn||y){if(f=Pt,f!==null&&(C=Ir(f,c),C!==0&&C!==x.retryLane))throw x.retryLane=C,bl(a,C),zr(f,a,C),q0;Xm(),o=t2(a,o,c)}else a=x.treeContext,$t=wi(C.nextSibling),Zn=o,st=!0,ao=null,xi=!1,a!==null&&BA(o,a),o=Vm(o,f),o.flags|=4096;return o}return a=Qa(a.child,{mode:f.mode,children:f.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Um(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function F0(a,o,c,f,y){return Sl(o),c=E0(a,o,c,f,void 0,y),f=A0(),a!==null&&!Sn?(T0(a,o,y),rs(a,o,y)):(st&&f&&a0(o),o.flags|=1,er(a,o,c,y),o.child)}function n2(a,o,c,f,y,x){return Sl(o),o.updateQueue=null,c=aT(o,f,c,y),iT(a),f=A0(),a!==null&&!Sn?(T0(a,o,x),rs(a,o,x)):(st&&f&&a0(o),o.flags|=1,er(a,o,c,x),o.child)}function r2(a,o,c,f,y){if(Sl(o),o.stateNode===null){var x=Pc,C=c.contextType;typeof C=="object"&&C!==null&&(x=Jn(C)),x=new c(f,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=B0,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=f,x.state=o.memoizedState,x.refs={},g0(o),C=c.contextType,x.context=typeof C=="object"&&C!==null?Jn(C):Pc,x.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(U0(o,c,C,f),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&B0.enqueueReplaceState(x,x.state,null),zd(o,f,x,y),Ld(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){x=o.stateNode;var B=o.memoizedProps,G=Cl(c,B);x.props=G;var ne=x.context,de=c.contextType;C=Pc,typeof de=="object"&&de!==null&&(C=Jn(de));var me=c.getDerivedStateFromProps;de=typeof me=="function"||typeof x.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,de||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(B||ne!==C)&&qT(o,x,f,C),lo=!1;var re=o.memoizedState;x.state=re,zd(o,f,x,y),Ld(),ne=o.memoizedState,B||re!==ne||lo?(typeof me=="function"&&(U0(o,c,me,f),ne=o.memoizedState),(G=lo||$T(o,c,G,f,re,ne,C))?(de||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ne),x.props=f,x.state=ne,x.context=C,f=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{x=o.stateNode,v0(a,o),C=o.memoizedProps,de=Cl(c,C),x.props=de,me=o.pendingProps,re=x.context,ne=c.contextType,G=Pc,typeof ne=="object"&&ne!==null&&(G=Jn(ne)),B=c.getDerivedStateFromProps,(ne=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==me||re!==G)&&qT(o,x,f,G),lo=!1,re=o.memoizedState,x.state=re,zd(o,f,x,y),Ld();var ae=o.memoizedState;C!==me||re!==ae||lo||a!==null&&a.dependencies!==null&&_m(a.dependencies)?(typeof B=="function"&&(U0(o,c,B,f),ae=o.memoizedState),(de=lo||$T(o,c,de,f,re,ae,G)||a!==null&&a.dependencies!==null&&_m(a.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,ae,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,ae,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&re===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&re===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ae),x.props=f,x.state=ae,x.context=G,f=de):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&re===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&re===a.memoizedState||(o.flags|=1024),f=!1)}return x=f,Um(a,o),f=(o.flags&128)!==0,x||f?(x=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&f?(o.child=Nl(o,a.child,null,y),o.child=Nl(o,null,c,y)):er(a,o,c,y),o.memoizedState=x.state,a=o.child):a=rs(a,o,y),a}function i2(a,o,c,f){return _l(),o.flags|=256,er(a,o,c,f),o.child}var H0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function K0(a){return{baseLanes:a,cachePool:GA()}}function G0(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=ei),a}function a2(a,o,c){var f=o.pendingProps,y=!1,x=(o.flags&128)!==0,C;if((C=x)||(C=a!==null&&a.memoizedState===null?!1:(hn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,a===null){if(st){if(y?fo(o):ho(),(a=$t)?(a=hN(a,xi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:io!==null?{id:ba,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},c=zA(a),c.return=o,o.child=c,Zn=o,$t=null)):a=null,a===null)throw so(o);return Cb(a)?o.lanes=32:o.lanes=536870912,null}var B=f.children;return f=f.fallback,y?(ho(),y=o.mode,B=Bm({mode:"hidden",children:B},y),f=xl(f,y,c,null),B.return=o,f.return=o,B.sibling=f,o.child=B,f=o.child,f.memoizedState=K0(c),f.childLanes=G0(a,C,c),o.memoizedState=H0,qd(null,f)):(fo(o),Y0(o,B))}var G=a.memoizedState;if(G!==null&&(B=G.dehydrated,B!==null)){if(x)o.flags&256?(fo(o),o.flags&=-257,o=W0(a,o,c)):o.memoizedState!==null?(ho(),o.child=a.child,o.flags|=128,o=null):(ho(),B=f.fallback,y=o.mode,f=Bm({mode:"visible",children:f.children},y),B=xl(B,y,c,null),B.flags|=2,f.return=o,B.return=o,f.sibling=B,o.child=f,Nl(o,a.child,null,c),f=o.child,f.memoizedState=K0(c),f.childLanes=G0(a,C,c),o.memoizedState=H0,o=qd(null,f));else if(fo(o),Cb(B)){if(C=B.nextSibling&&B.nextSibling.dataset,C)var ne=C.dgst;C=ne,f=Error(r(419)),f.stack="",f.digest=C,Id({value:f,source:null,stack:null}),o=W0(a,o,c)}else if(Sn||Mc(a,o,c,!1),C=(c&a.childLanes)!==0,Sn||C){if(C=Pt,C!==null&&(f=Ir(C,c),f!==0&&f!==G.retryLane))throw G.retryLane=f,bl(a,f),zr(C,a,f),q0;jb(B)||Xm(),o=W0(a,o,c)}else jb(B)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,$t=wi(B.nextSibling),Zn=o,st=!0,ao=null,xi=!1,a!==null&&BA(o,a),o=Y0(o,f.children),o.flags|=4096);return o}return y?(ho(),B=f.fallback,y=o.mode,G=a.child,ne=G.sibling,f=Qa(G,{mode:"hidden",children:f.children}),f.subtreeFlags=G.subtreeFlags&65011712,ne!==null?B=Qa(ne,B):(B=xl(B,y,c,null),B.flags|=2),B.return=o,f.return=o,f.sibling=B,o.child=f,qd(null,f),f=o.child,B=a.child.memoizedState,B===null?B=K0(c):(y=B.cachePool,y!==null?(G=_n._currentValue,y=y.parent!==G?{parent:G,pool:G}:y):y=GA(),B={baseLanes:B.baseLanes|c,cachePool:y}),f.memoizedState=B,f.childLanes=G0(a,C,c),o.memoizedState=H0,qd(a.child,f)):(fo(o),c=a.child,a=c.sibling,c=Qa(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,a!==null&&(C=o.deletions,C===null?(o.deletions=[a],o.flags|=16):C.push(a)),o.child=c,o.memoizedState=null,c)}function Y0(a,o){return o=Bm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Bm(a,o){return a=Xr(22,a,null,o),a.lanes=0,a}function W0(a,o,c){return Nl(o,a.child,null,c),a=Y0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function s2(a,o,c){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),u0(a.return,o,c)}function X0(a,o,c,f,y,x){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:x}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=c,C.tailMode=y,C.treeForkCount=x)}function o2(a,o,c){var f=o.pendingProps,y=f.revealOrder,x=f.tail;f=f.children;var C=hn.current,B=(C&2)!==0;if(B?(C=C&1|2,o.flags|=128):C&=1,ue(hn,C),er(a,o,f,c),f=st?Od:0,!B&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&s2(a,c,o);else if(a.tag===19)s2(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&Cm(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),X0(o,!1,y,c,x,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Cm(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}X0(o,!0,c,null,x,f);break;case"together":X0(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function rs(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),go|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Mc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=Qa(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Qa(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Q0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&_m(a)))}function Wz(a,o,c){switch(o.tag){case 3:Ue(o,o.stateNode.containerInfo),oo(o,_n,a.memoizedState.cache),_l();break;case 27:case 5:Re(o);break;case 4:Ue(o,o.stateNode.containerInfo);break;case 10:oo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,w0(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(fo(o),o.flags|=128,null):(c&o.child.childLanes)!==0?a2(a,o,c):(fo(o),a=rs(a,o,c),a!==null?a.sibling:null);fo(o);break;case 19:var y=(a.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(Mc(a,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return o2(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ue(hn,hn.current),f)break;return null;case 22:return o.lanes=0,JT(a,o,c,o.pendingProps);case 24:oo(o,_n,a.memoizedState.cache)}return rs(a,o,c)}function l2(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Sn=!0;else{if(!Q0(a,c)&&(o.flags&128)===0)return Sn=!1,Wz(a,o,c);Sn=(a.flags&131072)!==0}else Sn=!1,st&&(o.flags&1048576)!==0&&UA(o,Od,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(a=Al(o.elementType),o.type=a,typeof a=="function")n0(a)?(f=Cl(a,f),o.tag=1,o=r2(null,o,a,f,c)):(o.tag=0,o=F0(null,o,a,f,c));else{if(a!=null){var y=a.$$typeof;if(y===V){o.tag=11,o=XT(null,o,a,f,c);break e}else if(y===N){o.tag=14,o=QT(null,o,a,f,c);break e}}throw o=ce(a)||a,Error(r(306,o,""))}}return o;case 0:return F0(a,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=Cl(f,o.pendingProps),r2(a,o,f,y,c);case 3:e:{if(Ue(o,o.stateNode.containerInfo),a===null)throw Error(r(387));f=o.pendingProps;var x=o.memoizedState;y=x.element,v0(a,o),zd(o,f,null,c);var C=o.memoizedState;if(f=C.cache,oo(o,_n,f),f!==x.cache&&d0(o,[_n],c,!0),Ld(),f=C.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=i2(a,o,f,c);break e}else if(f!==y){y=vi(Error(r(424)),o),Id(y),o=i2(a,o,f,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,$t=wi(a.firstChild),Zn=o,st=!0,ao=null,xi=!0,c=JA(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_l(),f===y){o=rs(a,o,c);break e}er(a,o,f,c)}o=o.child}return o;case 26:return Um(a,o),a===null?(c=bN(o.type,null,o.pendingProps,null))?o.memoizedState=c:st||(c=o.type,a=o.pendingProps,f=rp(se.current).createElement(c),f[yn]=o,f[Un]=a,tr(f,c,a),bn(f),o.stateNode=f):o.memoizedState=bN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Re(o),a===null&&st&&(f=o.stateNode=gN(o.type,o.pendingProps,se.current),Zn=o,xi=!0,y=$t,_o(o.type)?(Ob=y,$t=wi(f.firstChild)):$t=y),er(a,o,o.pendingProps.children,c),Um(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&st&&((y=f=$t)&&(f=AV(f,o.type,o.pendingProps,xi),f!==null?(o.stateNode=f,Zn=o,$t=wi(f.firstChild),xi=!1,y=!0):y=!1),y||so(o)),Re(o),y=o.type,x=o.pendingProps,C=a!==null?a.memoizedProps:null,f=x.children,Ab(y,x)?f=null:C!==null&&Ab(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=E0(a,o,Uz,null,null,c),af._currentValue=y),Um(a,o),er(a,o,f,c),o.child;case 6:return a===null&&st&&((a=c=$t)&&(c=TV(c,o.pendingProps,xi),c!==null?(o.stateNode=c,Zn=o,$t=null,a=!0):a=!1),a||so(o)),null;case 13:return a2(a,o,c);case 4:return Ue(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=Nl(o,null,f,c):er(a,o,f,c),o.child;case 11:return XT(a,o,o.type,o.pendingProps,c);case 7:return er(a,o,o.pendingProps,c),o.child;case 8:return er(a,o,o.pendingProps.children,c),o.child;case 12:return er(a,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,oo(o,o.type,f.value),er(a,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Sl(o),y=Jn(y),f=f(y),o.flags|=1,er(a,o,f,c),o.child;case 14:return QT(a,o,o.type,o.pendingProps,c);case 15:return ZT(a,o,o.type,o.pendingProps,c);case 19:return o2(a,o,c);case 31:return Yz(a,o,c);case 22:return JT(a,o,c,o.pendingProps);case 24:return Sl(o),f=Jn(_n),a===null?(y=m0(),y===null&&(y=Pt,x=f0(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:f,cache:y},g0(o),oo(o,_n,y)):((a.lanes&c)!==0&&(v0(a,o),zd(o,null,null,c),Ld()),y=a.memoizedState,x=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),oo(o,_n,f)):(f=x.cache,oo(o,_n,f),f!==y.cache&&d0(o,[_n],c,!0))),er(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function is(a){a.flags|=4}function Z0(a,o,c,f,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(D2())a.flags|=8192;else throw Tl=Am,p0}else a.flags&=-16777217}function c2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!EN(o))if(D2())a.flags|=8192;else throw Tl=Am,p0}function $m(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?gc():536870912,a.lanes|=o,Yc|=o)}function Fd(a,o){if(!st)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function qt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=c,o}function Xz(a,o,c){var f=o.pendingProps;switch(s0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return qt(o),null;case 3:return c=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),es(_n),le(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Dc(o)?is(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,l0())),qt(o),null;case 26:var y=o.type,x=o.memoizedState;return a===null?(is(o),x!==null?(qt(o),c2(o,x)):(qt(o),Z0(o,y,null,f,c))):x?x!==a.memoizedState?(is(o),qt(o),c2(o,x)):(qt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==f&&is(o),qt(o),Z0(o,y,a,f,c)),null;case 27:if(Be(o),c=se.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&is(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return qt(o),null}a=ge.current,Dc(o)?$A(o):(a=gN(y,f,c),o.stateNode=a,is(o))}return qt(o),null;case 5:if(Be(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&is(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return qt(o),null}if(x=ge.current,Dc(o))$A(o);else{var C=rp(se.current);switch(x){case 1:x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=C.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?x.multiple=!0:f.size&&(x.size=f.size);break;default:x=typeof f.is=="string"?C.createElement(y,{is:f.is}):C.createElement(y)}}x[yn]=o,x[Un]=f;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)x.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=x;e:switch(tr(x,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&is(o)}}return qt(o),Z0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&is(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(a=se.current,Dc(o)){if(a=o.stateNode,c=o.memoizedProps,f=null,y=Zn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[yn]=o,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||aN(a.nodeValue,c)),a||so(o,!0)}else a=rp(a).createTextNode(f),a[yn]=o,o.stateNode=a}return qt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(f=Dc(o),c!==null){if(a===null){if(!f)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[yn]=o}else _l(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),a=!1}else c=l0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(Zr(o),o):(Zr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return qt(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Dc(o),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[yn]=o}else _l(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),y=!1}else y=l0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Zr(o),o):(Zr(o),null)}return Zr(o),(o.flags&128)!==0?(o.lanes=c,o):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==y&&(f.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),$m(o,o.updateQueue),qt(o),null);case 4:return le(),a===null&&xb(o.stateNode.containerInfo),qt(o),null;case 10:return es(o.type),qt(o),null;case 19:if(X(hn),f=o.memoizedState,f===null)return qt(o),null;if(y=(o.flags&128)!==0,x=f.rendering,x===null)if(y)Fd(f,!1);else{if(rn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Cm(a),x!==null){for(o.flags|=128,Fd(f,!1),a=x.updateQueue,o.updateQueue=a,$m(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)LA(c,a),c=c.sibling;return ue(hn,hn.current&1|2),st&&Za(o,f.treeForkCount),o.child}a=a.sibling}f.tail!==null&&un()>Gm&&(o.flags|=128,y=!0,Fd(f,!1),o.lanes=4194304)}else{if(!y)if(a=Cm(x),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,$m(o,a),Fd(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!st)return qt(o),null}else 2*un()-f.renderingStartTime>Gm&&c!==536870912&&(o.flags|=128,y=!0,Fd(f,!1),o.lanes=4194304);f.isBackwards?(x.sibling=o.child,o.child=x):(a=f.last,a!==null?a.sibling=x:o.child=x,f.last=x)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=un(),a.sibling=null,c=hn.current,ue(hn,y?c&1|2:c&1),st&&Za(o,f.treeForkCount),a):(qt(o),null);case 22:case 23:return Zr(o),_0(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),c=o.updateQueue,c!==null&&$m(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),a!==null&&X(El),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),es(_n),qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Qz(a,o){switch(s0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return es(_n),le(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Be(o),null;case 31:if(o.memoizedState!==null){if(Zr(o),o.alternate===null)throw Error(r(340));_l()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Zr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));_l()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return X(hn),null;case 4:return le(),null;case 10:return es(o.type),null;case 22:case 23:return Zr(o),_0(),a!==null&&X(El),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return es(_n),null;case 25:return null;default:return null}}function u2(a,o){switch(s0(o),o.tag){case 3:es(_n),le();break;case 26:case 27:case 5:Be(o);break;case 4:le();break;case 31:o.memoizedState!==null&&Zr(o);break;case 13:Zr(o);break;case 19:X(hn);break;case 10:es(o.type);break;case 22:case 23:Zr(o),_0(),a!==null&&X(El);break;case 24:es(_n)}}function Hd(a,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&a)===a){f=void 0;var x=c.create,C=c.inst;f=x(),C.destroy=f}c=c.next}while(c!==y)}}catch(B){_t(o,o.return,B)}}function mo(a,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var x=y.next;f=x;do{if((f.tag&a)===a){var C=f.inst,B=C.destroy;if(B!==void 0){C.destroy=void 0,y=o;var G=c,ne=B;try{ne()}catch(de){_t(y,G,de)}}}f=f.next}while(f!==x)}}catch(de){_t(o,o.return,de)}}function d2(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{tT(o,c)}catch(f){_t(a,a.return,f)}}}function f2(a,o,c){c.props=Cl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){_t(a,o,f)}}function Kd(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(y){_t(a,o,y)}}function _a(a,o){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){_t(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){_t(a,o,y)}else c.current=null}function h2(a){var o=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){_t(a,a.return,y)}}function J0(a,o,c){try{var f=a.stateNode;bV(f,a.type,c,o),f[Un]=o}catch(y){_t(a,a.return,y)}}function m2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_o(a.type)||a.tag===4}function eb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||m2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_o(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function tb(a,o,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ui));else if(f!==4&&(f===27&&_o(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(tb(a,o,c),a=a.sibling;a!==null;)tb(a,o,c),a=a.sibling}function qm(a,o,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(f!==4&&(f===27&&_o(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(qm(a,o,c),a=a.sibling;a!==null;)qm(a,o,c),a=a.sibling}function p2(a){var o=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);tr(o,f,c),o[yn]=a,o[Un]=c}catch(x){_t(a,a.return,x)}}var as=!1,En=!1,nb=!1,g2=typeof WeakSet=="function"?WeakSet:Set,$n=null;function Zz(a,o){if(a=a.containerInfo,Sb=up,a=jA(a),Wy(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,B=-1,G=-1,ne=0,de=0,me=a,re=null;t:for(;;){for(var ae;me!==c||y!==0&&me.nodeType!==3||(B=C+y),me!==x||f!==0&&me.nodeType!==3||(G=C+f),me.nodeType===3&&(C+=me.nodeValue.length),(ae=me.firstChild)!==null;)re=me,me=ae;for(;;){if(me===a)break t;if(re===c&&++ne===y&&(B=C),re===x&&++de===f&&(G=C),(ae=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=ae}c=B===-1||G===-1?null:{start:B,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Eb={focusedElem:a,selectionRange:c},up=!1,$n=o;$n!==null;)if(o=$n,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,$n=a;else for(;$n!==null;){switch(o=$n,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,f=c.stateNode;try{var Ce=Cl(c.type,y);a=f.getSnapshotBeforeUpdate(Ce,x),f.__reactInternalSnapshotBeforeUpdate=a}catch(Me){_t(c,c.return,Me)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Nb(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Nb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,$n=a;break}$n=o.return}}function v2(a,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:os(a,c),f&4&&Hd(5,c);break;case 1:if(os(a,c),f&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(C){_t(c,c.return,C)}else{var y=Cl(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(C){_t(c,c.return,C)}}f&64&&d2(c),f&512&&Kd(c,c.return);break;case 3:if(os(a,c),f&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{tT(a,o)}catch(C){_t(c,c.return,C)}}break;case 27:o===null&&f&4&&p2(c);case 26:case 5:os(a,c),o===null&&f&4&&h2(c),f&512&&Kd(c,c.return);break;case 12:os(a,c);break;case 31:os(a,c),f&4&&x2(a,c);break;case 13:os(a,c),f&4&&_2(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=oV.bind(null,c),NV(a,c))));break;case 22:if(f=c.memoizedState!==null||as,!f){o=o!==null&&o.memoizedState!==null||En,y=as;var x=En;as=f,(En=o)&&!x?ls(a,c,(c.subtreeFlags&8772)!==0):os(a,c),as=y,En=x}break;case 30:break;default:os(a,c)}}function y2(a){var o=a.alternate;o!==null&&(a.alternate=null,y2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&yc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Yt=null,kr=!1;function ss(a,o,c){for(c=c.child;c!==null;)b2(a,o,c),c=c.sibling}function b2(a,o,c){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(xr,c)}catch{}switch(c.tag){case 26:En||_a(c,o),ss(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:En||_a(c,o);var f=Yt,y=kr;_o(c.type)&&(Yt=c.stateNode,kr=!1),ss(a,o,c),tf(c.stateNode),Yt=f,kr=y;break;case 5:En||_a(c,o);case 6:if(f=Yt,y=kr,Yt=null,ss(a,o,c),Yt=f,kr=y,Yt!==null)if(kr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(c.stateNode)}catch(x){_t(c,o,x)}else try{Yt.removeChild(c.stateNode)}catch(x){_t(c,o,x)}break;case 18:Yt!==null&&(kr?(a=Yt,dN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),nu(a)):dN(Yt,c.stateNode));break;case 4:f=Yt,y=kr,Yt=c.stateNode.containerInfo,kr=!0,ss(a,o,c),Yt=f,kr=y;break;case 0:case 11:case 14:case 15:mo(2,c,o),En||mo(4,c,o),ss(a,o,c);break;case 1:En||(_a(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&f2(c,o,f)),ss(a,o,c);break;case 21:ss(a,o,c);break;case 22:En=(f=En)||c.memoizedState!==null,ss(a,o,c),En=f;break;default:ss(a,o,c)}}function x2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{nu(a)}catch(c){_t(o,o.return,c)}}}function _2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{nu(a)}catch(c){_t(o,o.return,c)}}function Jz(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new g2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new g2),o;default:throw Error(r(435,a.tag))}}function Fm(a,o){var c=Jz(a);o.forEach(function(f){if(!c.has(f)){c.add(f);var y=lV.bind(null,a,f);f.then(y,y)}})}function Dr(a,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],x=a,C=o,B=C;e:for(;B!==null;){switch(B.tag){case 27:if(_o(B.type)){Yt=B.stateNode,kr=!1;break e}break;case 5:Yt=B.stateNode,kr=!1;break e;case 3:case 4:Yt=B.stateNode.containerInfo,kr=!0;break e}B=B.return}if(Yt===null)throw Error(r(160));b2(x,C,y),Yt=null,kr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)w2(o,a),o=o.sibling}var Ki=null;function w2(a,o){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Dr(o,a),Mr(a),f&4&&(mo(3,a,a.return),Hd(3,a),mo(5,a,a.return));break;case 1:Dr(o,a),Mr(a),f&512&&(En||c===null||_a(c,c.return)),f&64&&as&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Ki;if(Dr(o,a),Mr(a),f&512&&(En||c===null||_a(c,c.return)),f&4){var x=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":x=y.getElementsByTagName("title")[0],(!x||x[oa]||x[yn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(f),y.head.insertBefore(x,y.querySelector("head > title"))),tr(x,f,c),x[yn]=a,bn(x),f=x;break e;case"link":var C=wN("link","href",y).get(f+(c.href||""));if(C){for(var B=0;B<C.length;B++)if(x=C[B],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(B,1);break t}}x=y.createElement(f),tr(x,f,c),y.head.appendChild(x);break;case"meta":if(C=wN("meta","content",y).get(f+(c.content||""))){for(B=0;B<C.length;B++)if(x=C[B],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(B,1);break t}}x=y.createElement(f),tr(x,f,c),y.head.appendChild(x);break;default:throw Error(r(468,f))}x[yn]=a,bn(x),f=x}a.stateNode=f}else SN(y,a.type,a.stateNode);else a.stateNode=_N(y,f,a.memoizedProps);else x!==f?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,f===null?SN(y,a.type,a.stateNode):_N(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&J0(a,a.memoizedProps,c.memoizedProps)}break;case 27:Dr(o,a),Mr(a),f&512&&(En||c===null||_a(c,c.return)),c!==null&&f&4&&J0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Dr(o,a),Mr(a),f&512&&(En||c===null||_a(c,c.return)),a.flags&32){y=a.stateNode;try{Rr(y,"")}catch(Ce){_t(a,a.return,Ce)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,J0(a,y,c!==null?c.memoizedProps:y)),f&1024&&(nb=!0);break;case 6:if(Dr(o,a),Mr(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(Ce){_t(a,a.return,Ce)}}break;case 3:if(sp=null,y=Ki,Ki=ip(o.containerInfo),Dr(o,a),Ki=y,Mr(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{nu(o.containerInfo)}catch(Ce){_t(a,a.return,Ce)}nb&&(nb=!1,S2(a));break;case 4:f=Ki,Ki=ip(a.stateNode.containerInfo),Dr(o,a),Mr(a),Ki=f;break;case 12:Dr(o,a),Mr(a);break;case 31:Dr(o,a),Mr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Fm(a,f)));break;case 13:Dr(o,a),Mr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Km=un()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Fm(a,f)));break;case 22:y=a.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,ne=as,de=En;if(as=ne||y,En=de||G,Dr(o,a),En=de,as=ne,Mr(a),f&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||G||as||En||Ol(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){G=c=o;try{if(x=G.stateNode,y)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{B=G.stateNode;var me=G.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;B.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ce){_t(G,G.return,Ce)}}}else if(o.tag===6){if(c===null){G=o;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(Ce){_t(G,G.return,Ce)}}}else if(o.tag===18){if(c===null){G=o;try{var ae=G.stateNode;y?fN(ae,!0):fN(G.stateNode,!1)}catch(Ce){_t(G,G.return,Ce)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Fm(a,c))));break;case 19:Dr(o,a),Mr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Fm(a,f)));break;case 30:break;case 21:break;default:Dr(o,a),Mr(a)}}function Mr(a){var o=a.flags;if(o&2){try{for(var c,f=a.return;f!==null;){if(m2(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=eb(a);qm(a,x,y);break;case 5:var C=c.stateNode;c.flags&32&&(Rr(C,""),c.flags&=-33);var B=eb(a);qm(a,B,C);break;case 3:case 4:var G=c.stateNode.containerInfo,ne=eb(a);tb(a,ne,G);break;default:throw Error(r(161))}}catch(de){_t(a,a.return,de)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function S2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;S2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function os(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)v2(a,o.alternate,o),o=o.sibling}function Ol(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:mo(4,o,o.return),Ol(o);break;case 1:_a(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&f2(o,o.return,c),Ol(o);break;case 27:tf(o.stateNode);case 26:case 5:_a(o,o.return),Ol(o);break;case 22:o.memoizedState===null&&Ol(o);break;case 30:Ol(o);break;default:Ol(o)}a=a.sibling}}function ls(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=a,x=o,C=x.flags;switch(x.tag){case 0:case 11:case 15:ls(y,x,c),Hd(4,x);break;case 1:if(ls(y,x,c),f=x,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ne){_t(f,f.return,ne)}if(f=x,y=f.updateQueue,y!==null){var B=f.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)eT(G[y],B)}catch(ne){_t(f,f.return,ne)}}c&&C&64&&d2(x),Kd(x,x.return);break;case 27:p2(x);case 26:case 5:ls(y,x,c),c&&f===null&&C&4&&h2(x),Kd(x,x.return);break;case 12:ls(y,x,c);break;case 31:ls(y,x,c),c&&C&4&&x2(y,x);break;case 13:ls(y,x,c),c&&C&4&&_2(y,x);break;case 22:x.memoizedState===null&&ls(y,x,c),Kd(x,x.return);break;case 30:break;default:ls(y,x,c)}o=o.sibling}}function rb(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Pd(c))}function ib(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Pd(a))}function Gi(a,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)E2(a,o,c,f),o=o.sibling}function E2(a,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Gi(a,o,c,f),y&2048&&Hd(9,o);break;case 1:Gi(a,o,c,f);break;case 3:Gi(a,o,c,f),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Pd(a)));break;case 12:if(y&2048){Gi(a,o,c,f),a=o.stateNode;try{var x=o.memoizedProps,C=x.id,B=x.onPostCommit;typeof B=="function"&&B(C,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){_t(o,o.return,G)}}else Gi(a,o,c,f);break;case 31:Gi(a,o,c,f);break;case 13:Gi(a,o,c,f);break;case 23:break;case 22:x=o.stateNode,C=o.alternate,o.memoizedState!==null?x._visibility&2?Gi(a,o,c,f):Gd(a,o):x._visibility&2?Gi(a,o,c,f):(x._visibility|=2,Hc(a,o,c,f,(o.subtreeFlags&10256)!==0||!1)),y&2048&&rb(C,o);break;case 24:Gi(a,o,c,f),y&2048&&ib(o.alternate,o);break;default:Gi(a,o,c,f)}}function Hc(a,o,c,f,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,C=o,B=c,G=f,ne=C.flags;switch(C.tag){case 0:case 11:case 15:Hc(x,C,B,G,y),Hd(8,C);break;case 23:break;case 22:var de=C.stateNode;C.memoizedState!==null?de._visibility&2?Hc(x,C,B,G,y):Gd(x,C):(de._visibility|=2,Hc(x,C,B,G,y)),y&&ne&2048&&rb(C.alternate,C);break;case 24:Hc(x,C,B,G,y),y&&ne&2048&&ib(C.alternate,C);break;default:Hc(x,C,B,G,y)}o=o.sibling}}function Gd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,f=o,y=f.flags;switch(f.tag){case 22:Gd(c,f),y&2048&&rb(f.alternate,f);break;case 24:Gd(c,f),y&2048&&ib(f.alternate,f);break;default:Gd(c,f)}o=o.sibling}}var Yd=8192;function Kc(a,o,c){if(a.subtreeFlags&Yd)for(a=a.child;a!==null;)A2(a,o,c),a=a.sibling}function A2(a,o,c){switch(a.tag){case 26:Kc(a,o,c),a.flags&Yd&&a.memoizedState!==null&&VV(c,Ki,a.memoizedState,a.memoizedProps);break;case 5:Kc(a,o,c);break;case 3:case 4:var f=Ki;Ki=ip(a.stateNode.containerInfo),Kc(a,o,c),Ki=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Yd,Yd=16777216,Kc(a,o,c),Yd=f):Kc(a,o,c));break;default:Kc(a,o,c)}}function T2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Wd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];$n=f,j2(f,a)}T2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)N2(a),a=a.sibling}function N2(a){switch(a.tag){case 0:case 11:case 15:Wd(a),a.flags&2048&&mo(9,a,a.return);break;case 3:Wd(a);break;case 12:Wd(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Hm(a)):Wd(a);break;default:Wd(a)}}function Hm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];$n=f,j2(f,a)}T2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:mo(8,o,o.return),Hm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Hm(o));break;default:Hm(o)}a=a.sibling}}function j2(a,o){for(;$n!==null;){var c=$n;switch(c.tag){case 0:case 11:case 15:mo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Pd(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,$n=f;else e:for(c=a;$n!==null;){f=$n;var y=f.sibling,x=f.return;if(y2(f),f===c){$n=null;break e}if(y!==null){y.return=x,$n=y;break e}$n=x}}}var eV={getCacheForType:function(a){var o=Jn(_n),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return Jn(_n).controller.signal}},tV=typeof WeakMap=="function"?WeakMap:Map,mt=0,Pt=null,Ze=null,tt=0,xt=0,Jr=null,po=!1,Gc=!1,ab=!1,cs=0,rn=0,go=0,Il=0,sb=0,ei=0,Yc=0,Xd=null,Lr=null,ob=!1,Km=0,C2=0,Gm=1/0,Ym=null,vo=null,In=0,yo=null,Wc=null,us=0,lb=0,cb=null,O2=null,Qd=0,ub=null;function ti(){return(mt&2)!==0&&tt!==0?tt&-tt:K.T!==null?gb():Wh()}function I2(){if(ei===0)if((tt&536870912)===0||st){var a=Se;Se<<=1,(Se&3932160)===0&&(Se=262144),ei=a}else ei=536870912;return a=Qr.current,a!==null&&(a.flags|=32),ei}function zr(a,o,c){(a===Pt&&(xt===2||xt===9)||a.cancelPendingCommit!==null)&&(Xc(a,0),bo(a,tt,ei,!1)),Ka(a,c),((mt&2)===0||a!==Pt)&&(a===Pt&&((mt&2)===0&&(Il|=c),rn===4&&bo(a,tt,ei,!1)),wa(a))}function P2(a,o,c){if((mt&6)!==0)throw Error(r(327));var f=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Kr(a,o),y=f?iV(a,o):fb(a,o,!0),x=f;do{if(y===0){Gc&&!f&&bo(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!nV(c)){y=fb(a,o,!1),x=!1;continue}if(y===2){if(x=o,a.errorRecoveryDisabledLanes&x)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var B=a;y=Xd;var G=B.current.memoizedState.isDehydrated;if(G&&(Xc(B,C).flags|=256),C=fb(B,C,!1),C!==2){if(ab&&!G){B.errorRecoveryDisabledLanes|=x,Il|=x,y=4;break e}x=Lr,Lr=y,x!==null&&(Lr===null?Lr=x:Lr.push.apply(Lr,x))}y=C}if(x=!1,y!==2)continue}}if(y===1){Xc(a,0),bo(a,o,0,!0);break}e:{switch(f=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:bo(f,o,ei,!po);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Km+300-un(),10<y)){if(bo(f,o,ei,!po),Mt(f,0,!0)!==0)break e;us=o,f.timeoutHandle=cN(R2.bind(null,f,c,Lr,Ym,ob,o,ei,Il,Yc,po,x,"Throttled",-0,0),y);break e}R2(f,c,Lr,Ym,ob,o,ei,Il,Yc,po,x,null,-0,0)}}break}while(!0);wa(a)}function R2(a,o,c,f,y,x,C,B,G,ne,de,me,re,ae){if(a.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},A2(o,x,me);var Ce=(x&62914560)===x?Km-un():(x&4194048)===x?C2-un():0;if(Ce=UV(me,Ce),Ce!==null){us=x,a.cancelPendingCommit=Ce(B2.bind(null,a,o,x,c,f,y,C,B,G,de,me,null,re,ae)),bo(a,x,C,!ne);return}}B2(a,o,x,c,f,y,C,B,G)}function nV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],x=y.getSnapshot;y=y.value;try{if(!Wr(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function bo(a,o,c,f){o&=~sb,o&=~Il,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var y=o;0<y;){var x=31-Bt(y),C=1<<x;f[x]=-1,y&=~C}c!==0&&Qe(a,c,o)}function Wm(){return(mt&6)===0?(Zd(0),!1):!0}function db(){if(Ze!==null){if(xt===0)var a=Ze.return;else a=Ze,Ja=wl=null,N0(a),Uc=null,kd=0,a=Ze;for(;a!==null;)u2(a.alternate,a),a=a.return;Ze=null}}function Xc(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,wV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),us=0,db(),Pt=a,Ze=c=Qa(a.current,null),tt=o,xt=0,Jr=null,po=!1,Gc=Kr(a,o),ab=!1,Yc=ei=sb=Il=go=rn=0,Lr=Xd=null,ob=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var y=31-Bt(f),x=1<<y;o|=a[y],f&=~x}return cs=o,gm(),c}function k2(a,o){Ye=null,K.H=$d,o===Vc||o===Em?(o=XA(),xt=3):o===p0?(o=XA(),xt=4):xt=o===q0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jr=o,Ze===null&&(rn=1,zm(a,vi(o,a.current)))}function D2(){var a=Qr.current;return a===null?!0:(tt&4194048)===tt?_i===null:(tt&62914560)===tt||(tt&536870912)!==0?a===_i:!1}function M2(){var a=K.H;return K.H=$d,a===null?$d:a}function L2(){var a=K.A;return K.A=eV,a}function Xm(){rn=4,po||(tt&4194048)!==tt&&Qr.current!==null||(Gc=!0),(go&134217727)===0&&(Il&134217727)===0||Pt===null||bo(Pt,tt,ei,!1)}function fb(a,o,c){var f=mt;mt|=2;var y=M2(),x=L2();(Pt!==a||tt!==o)&&(Ym=null,Xc(a,o)),o=!1;var C=rn;e:do try{if(xt!==0&&Ze!==null){var B=Ze,G=Jr;switch(xt){case 8:db(),C=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(o=!0);var ne=xt;if(xt=0,Jr=null,Qc(a,B,G,ne),c&&Gc){C=0;break e}break;default:ne=xt,xt=0,Jr=null,Qc(a,B,G,ne)}}rV(),C=rn;break}catch(de){k2(a,de)}while(!0);return o&&a.shellSuspendCounter++,Ja=wl=null,mt=f,K.H=y,K.A=x,Ze===null&&(Pt=null,tt=0,gm()),C}function rV(){for(;Ze!==null;)z2(Ze)}function iV(a,o){var c=mt;mt|=2;var f=M2(),y=L2();Pt!==a||tt!==o?(Ym=null,Gm=un()+500,Xc(a,o)):Gc=Kr(a,o);e:do try{if(xt!==0&&Ze!==null){o=Ze;var x=Jr;t:switch(xt){case 1:xt=0,Jr=null,Qc(a,o,x,1);break;case 2:case 9:if(YA(x)){xt=0,Jr=null,V2(o);break}o=function(){xt!==2&&xt!==9||Pt!==a||(xt=7),wa(a)},x.then(o,o);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:YA(x)?(xt=0,Jr=null,V2(o)):(xt=0,Jr=null,Qc(a,o,x,7));break;case 5:var C=null;switch(Ze.tag){case 26:C=Ze.memoizedState;case 5:case 27:var B=Ze;if(C?EN(C):B.stateNode.complete){xt=0,Jr=null;var G=B.sibling;if(G!==null)Ze=G;else{var ne=B.return;ne!==null?(Ze=ne,Qm(ne)):Ze=null}break t}}xt=0,Jr=null,Qc(a,o,x,5);break;case 6:xt=0,Jr=null,Qc(a,o,x,6);break;case 8:db(),rn=6;break e;default:throw Error(r(462))}}aV();break}catch(de){k2(a,de)}while(!0);return Ja=wl=null,K.H=f,K.A=y,mt=c,Ze!==null?0:(Pt=null,tt=0,gm(),rn)}function aV(){for(;Ze!==null&&!Fa();)z2(Ze)}function z2(a){var o=l2(a.alternate,a,cs);a.memoizedProps=a.pendingProps,o===null?Qm(a):Ze=o}function V2(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=n2(c,o,o.pendingProps,o.type,void 0,tt);break;case 11:o=n2(c,o,o.pendingProps,o.type.render,o.ref,tt);break;case 5:N0(o);default:u2(c,o),o=Ze=LA(o,cs),o=l2(c,o,cs)}a.memoizedProps=a.pendingProps,o===null?Qm(a):Ze=o}function Qc(a,o,c,f){Ja=wl=null,N0(o),Uc=null,kd=0;var y=o.return;try{if(Gz(a,y,o,c,tt)){rn=1,zm(a,vi(c,a.current)),Ze=null;return}}catch(x){if(y!==null)throw Ze=y,x;rn=1,zm(a,vi(c,a.current)),Ze=null;return}o.flags&32768?(st||f===1?a=!0:Gc||(tt&536870912)!==0?a=!1:(po=a=!0,(f===2||f===9||f===3||f===6)&&(f=Qr.current,f!==null&&f.tag===13&&(f.flags|=16384))),U2(o,a)):Qm(o)}function Qm(a){var o=a;do{if((o.flags&32768)!==0){U2(o,po);return}a=o.return;var c=Xz(o.alternate,o,cs);if(c!==null){Ze=c;return}if(o=o.sibling,o!==null){Ze=o;return}Ze=o=a}while(o!==null);rn===0&&(rn=5)}function U2(a,o){do{var c=Qz(a.alternate,a);if(c!==null){c.flags&=32767,Ze=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Ze=a;return}Ze=a=c}while(a!==null);rn=6,Ze=null}function B2(a,o,c,f,y,x,C,B,G){a.cancelPendingCommit=null;do Zm();while(In!==0);if((mt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=e0,ud(a,c,x,C,B,G),a===Pt&&(Ze=Pt=null,tt=0),Wc=o,yo=a,us=c,lb=x,cb=y,O2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,cV(Hr,function(){return K2(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,y=Z.p,Z.p=2,C=mt,mt|=4;try{Zz(a,o,c)}finally{mt=C,Z.p=y,K.T=f}}In=1,$2(),q2(),F2()}}function $2(){if(In===1){In=0;var a=yo,o=Wc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var f=Z.p;Z.p=2;var y=mt;mt|=4;try{w2(o,a);var x=Eb,C=jA(a.containerInfo),B=x.focusedElem,G=x.selectionRange;if(C!==B&&B&&B.ownerDocument&&NA(B.ownerDocument.documentElement,B)){if(G!==null&&Wy(B)){var ne=G.start,de=G.end;if(de===void 0&&(de=ne),"selectionStart"in B)B.selectionStart=ne,B.selectionEnd=Math.min(de,B.value.length);else{var me=B.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var ae=re.getSelection(),Ce=B.textContent.length,Me=Math.min(G.start,Ce),Ct=G.end===void 0?Me:Math.min(G.end,Ce);!ae.extend&&Me>Ct&&(C=Ct,Ct=Me,Me=C);var Q=TA(B,Me),Y=TA(B,Ct);if(Q&&Y&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var te=me.createRange();te.setStart(Q.node,Q.offset),ae.removeAllRanges(),Me>Ct?(ae.addRange(te),ae.extend(Y.node,Y.offset)):(te.setEnd(Y.node,Y.offset),ae.addRange(te))}}}}for(me=[],ae=B;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<me.length;B++){var he=me[B];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}up=!!Sb,Eb=Sb=null}finally{mt=y,Z.p=f,K.T=c}}a.current=o,In=2}}function q2(){if(In===2){In=0;var a=yo,o=Wc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var f=Z.p;Z.p=2;var y=mt;mt|=4;try{v2(a,o.alternate,o)}finally{mt=y,Z.p=f,K.T=c}}In=3}}function F2(){if(In===4||In===3){In=0,na();var a=yo,o=Wc,c=us,f=O2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?In=5:(In=0,Wc=yo=null,H2(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(vo=null),Ga(c),o=o.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(xr,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=K.T,y=Z.p,Z.p=2,K.T=null;try{for(var x=a.onRecoverableError,C=0;C<f.length;C++){var B=f[C];x(B.value,{componentStack:B.stack})}}finally{K.T=o,Z.p=y}}(us&3)!==0&&Zm(),wa(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===ub?Qd++:(Qd=0,ub=a):Qd=0,Zd(0)}}function H2(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Pd(o)))}function Zm(){return $2(),q2(),F2(),K2()}function K2(){if(In!==5)return!1;var a=yo,o=lb;lb=0;var c=Ga(us),f=K.T,y=Z.p;try{Z.p=32>c?32:c,K.T=null,c=cb,cb=null;var x=yo,C=us;if(In=0,Wc=yo=null,us=0,(mt&6)!==0)throw Error(r(331));var B=mt;if(mt|=4,N2(x.current),E2(x,x.current,C,c),mt=B,Zd(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(xr,x)}catch{}return!0}finally{Z.p=y,K.T=f,H2(a,o)}}function G2(a,o,c){o=vi(c,o),o=$0(a.stateNode,o,2),a=uo(a,o,2),a!==null&&(Ka(a,2),wa(a))}function _t(a,o,c){if(a.tag===3)G2(a,a,c);else for(;o!==null;){if(o.tag===3){G2(o,a,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(vo===null||!vo.has(f))){a=vi(c,a),c=YT(2),f=uo(o,c,2),f!==null&&(WT(c,f,o,a),Ka(f,2),wa(f));break}}o=o.return}}function hb(a,o,c){var f=a.pingCache;if(f===null){f=a.pingCache=new tV;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(ab=!0,y.add(c),a=sV.bind(null,a,o,c),o.then(a,a))}function sV(a,o,c){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Pt===a&&(tt&c)===c&&(rn===4||rn===3&&(tt&62914560)===tt&&300>un()-Km?(mt&2)===0&&Xc(a,0):sb|=c,Yc===tt&&(Yc=0)),wa(a)}function Y2(a,o){o===0&&(o=gc()),a=bl(a,o),a!==null&&(Ka(a,o),wa(a))}function oV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),Y2(a,c)}function lV(a,o){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),Y2(a,c)}function cV(a,o){return Ut(a,o)}var Jm=null,Zc=null,mb=!1,ep=!1,pb=!1,xo=0;function wa(a){a!==Zc&&a.next===null&&(Zc===null?Jm=Zc=a:Zc=Zc.next=a),ep=!0,mb||(mb=!0,dV())}function Zd(a,o){if(!pb&&ep){pb=!0;do for(var c=!1,f=Jm;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var x=0;else{var C=f.suspendedLanes,B=f.pingedLanes;x=(1<<31-Bt(42|a)+1)-1,x&=y&~(C&~B),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,Z2(f,x))}else x=tt,x=Mt(f,f===Pt?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Kr(f,x)||(c=!0,Z2(f,x));f=f.next}while(c);pb=!1}}function uV(){W2()}function W2(){ep=mb=!1;var a=0;xo!==0&&_V()&&(a=xo);for(var o=un(),c=null,f=Jm;f!==null;){var y=f.next,x=X2(f,o);x===0?(f.next=null,c===null?Jm=y:c.next=y,y===null&&(Zc=c)):(c=f,(a!==0||(x&3)!==0)&&(ep=!0)),f=y}In!==0&&In!==5||Zd(a),xo!==0&&(xo=0)}function X2(a,o){for(var c=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var C=31-Bt(x),B=1<<C,G=y[C];G===-1?((B&c)===0||(B&f)!==0)&&(y[C]=cd(B,o)):G<=o&&(a.expiredLanes|=B),x&=~B}if(o=Pt,c=tt,c=Mt(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===o&&(xt===2||xt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&ui(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Kr(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(f!==null&&ui(f),Ga(c)){case 2:case 8:c=Li;break;case 32:c=Hr;break;case 268435456:c=ra;break;default:c=Hr}return f=Q2.bind(null,a),c=Ut(c,f),a.callbackPriority=o,a.callbackNode=c,o}return f!==null&&f!==null&&ui(f),a.callbackPriority=2,a.callbackNode=null,2}function Q2(a,o){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Zm()&&a.callbackNode!==c)return null;var f=tt;return f=Mt(a,a===Pt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(P2(a,f,o),X2(a,un()),a.callbackNode!=null&&a.callbackNode===c?Q2.bind(null,a):null)}function Z2(a,o){if(Zm())return null;P2(a,o,!0)}function dV(){SV(function(){(mt&6)!==0?Ut(Mi,uV):W2()})}function gb(){if(xo===0){var a=Lc;a===0&&(a=ye,ye<<=1,(ye&261888)===0&&(ye=256)),xo=a}return xo}function J2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:wc(""+a)}function eN(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function fV(a,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var x=J2((y[Un]||null).action),C=f.submitter;C&&(o=(o=C[Un]||null)?J2(o.formAction):C.getAttribute("formAction"),o!==null&&(x=o,C=null));var B=new pa("action","action",null,f,y);a.push({event:B,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(xo!==0){var G=C?eN(y,C):new FormData(y);M0(c,{pending:!0,data:G,method:y.method,action:x},null,G)}}else typeof x=="function"&&(B.preventDefault(),G=C?eN(y,C):new FormData(y),M0(c,{pending:!0,data:G,method:y.method,action:x},x,G))},currentTarget:y}]})}}for(var vb=0;vb<Jy.length;vb++){var yb=Jy[vb],hV=yb.toLowerCase(),mV=yb[0].toUpperCase()+yb.slice(1);Hi(hV,"on"+mV)}Hi(IA,"onAnimationEnd"),Hi(PA,"onAnimationIteration"),Hi(RA,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(Oz,"onTransitionRun"),Hi(Iz,"onTransitionStart"),Hi(Pz,"onTransitionCancel"),Hi(kA,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jd));function tN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],y=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var C=f.length-1;0<=C;C--){var B=f[C],G=B.instance,ne=B.currentTarget;if(B=B.listener,G!==x&&y.isPropagationStopped())break e;x=B,y.currentTarget=ne;try{x(y)}catch(de){pm(de)}y.currentTarget=null,x=G}else for(C=0;C<f.length;C++){if(B=f[C],G=B.instance,ne=B.currentTarget,B=B.listener,G!==x&&y.isPropagationStopped())break e;x=B,y.currentTarget=ne;try{x(y)}catch(de){pm(de)}y.currentTarget=null,x=G}}}}function Je(a,o){var c=o[vc];c===void 0&&(c=o[vc]=new Set);var f=a+"__bubble";c.has(f)||(nN(o,a,2,!1),c.add(f))}function bb(a,o,c){var f=0;o&&(f|=4),nN(c,a,f,o)}var tp="_reactListening"+Math.random().toString(36).slice(2);function xb(a){if(!a[tp]){a[tp]=!0,dd.forEach(function(c){c!=="selectionchange"&&(pV.has(c)||bb(c,!1,a),bb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[tp]||(o[tp]=!0,bb("selectionchange",!1,o))}}function nN(a,o,c,f){switch(IN(o)){case 2:var y=qV;break;case 8:y=FV;break;default:y=Db}c=y.bind(null,o,c,a),y=void 0,!dl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function _b(a,o,c,f,y){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var B=f.stateNode.containerInfo;if(B===y)break;if(C===4)for(C=f.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;B!==null;){if(C=la(B),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){f=x=C;continue e}B=B.parentNode}}f=f.return}eo(function(){var ne=x,de=hi(c),me=[];e:{var re=DA.get(a);if(re!==void 0){var ae=pa,Ce=a;switch(a){case"keypress":if(hl(c)===0)break e;case"keydown":case"keyup":ae=fm;break;case"focusin":Ce="focus",ae=pl;break;case"focusout":Ce="blur",ae=pl;break;case"beforeblur":case"afterblur":ae=pl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=T;break;case IA:case PA:case RA:ae=am;break;case kA:ae=q;break;case"scroll":case"scrollend":ae=Sd;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Xa;break;case"toggle":case"beforetoggle":ae=Ge}var Me=(o&4)!==0,Ct=!Me&&(a==="scroll"||a==="scrollend"),Q=Me?re!==null?re+"Capture":null:re;Me=[];for(var Y=ne,te;Y!==null;){var he=Y;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||Q===null||(he=Bi(Y,Q),he!=null&&Me.push(ef(Y,he,te))),Ct)break;Y=Y.return}0<Me.length&&(re=new ae(re,Ce,null,c,de),me.push({event:re,listeners:Me}))}}if((o&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",re&&c!==xd&&(Ce=c.relatedTarget||c.fromElement)&&(la(Ce)||Ce[sa]))break e;if((ae||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(Ce=c.relatedTarget||c.toElement,ae=ne,Ce=Ce?la(Ce):null,Ce!==null&&(Ct=s(Ce),Me=Ce.tag,Ce!==Ct||Me!==5&&Me!==27&&Me!==6)&&(Ce=null)):(ae=null,Ce=ne),ae!==Ce)){if(Me=Ed,he="onMouseLeave",Q="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Me=Xa,he="onPointerLeave",Q="onPointerEnter",Y="pointer"),Ct=ae==null?re:Gr(ae),te=Ce==null?re:Gr(Ce),re=new Me(he,Y+"leave",ae,c,de),re.target=Ct,re.relatedTarget=te,he=null,la(de)===ne&&(Me=new Me(Q,Y+"enter",Ce,c,de),Me.target=te,Me.relatedTarget=Ct,he=Me),Ct=he,ae&&Ce)t:{for(Me=gV,Q=ae,Y=Ce,te=0,he=Q;he;he=Me(he))te++;he=0;for(var ke=Y;ke;ke=Me(ke))he++;for(;0<te-he;)Q=Me(Q),te--;for(;0<he-te;)Y=Me(Y),he--;for(;te--;){if(Q===Y||Y!==null&&Q===Y.alternate){Me=Q;break t}Q=Me(Q),Y=Me(Y)}Me=null}else Me=null;ae!==null&&rN(me,re,ae,Me,!1),Ce!==null&&Ct!==null&&rN(me,Ct,Ce,Me,!0)}}e:{if(re=ne?Gr(ne):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var ut=xA;else if(yA(re))if(_A)ut=Nz;else{ut=Az;var Pe=Ez}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&_c(ne.elementType)&&(ut=xA):ut=Tz;if(ut&&(ut=ut(a,ne))){bA(me,ut,c,de);break e}Pe&&Pe(a,re,ne),a==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&vd(re,"number",re.value)}switch(Pe=ne?Gr(ne):window,a){case"focusin":(yA(Pe)||Pe.contentEditable==="true")&&(Cc=Pe,Xy=ne,Cd=null);break;case"focusout":Cd=Xy=Cc=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,CA(me,c,de);break;case"selectionchange":if(Cz)break;case"keydown":case"keyup":CA(me,c,de)}var Xe;if(ht)e:{switch(a){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else jc?gl(a,c)&&(nt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(nt="onCompositionStart");nt&&(ya&&c.locale!=="ko"&&(jc||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&jc&&(Xe=wd()):(ma=de,_d="value"in ma?ma.value:ma.textContent,jc=!0)),Pe=np(ne,nt),0<Pe.length&&(nt=new va(nt,a,null,c,de),me.push({event:nt,listeners:Pe}),Xe?nt.data=Xe:(Xe=Nc(c),Xe!==null&&(nt.data=Xe)))),(Xe=pi?xz(a,c):_z(a,c))&&(nt=np(ne,"onBeforeInput"),0<nt.length&&(Pe=new va("onBeforeInput","beforeinput",null,c,de),me.push({event:Pe,listeners:nt}),Pe.data=Xe)),fV(me,a,ne,c,de)}tN(me,o)})}function ef(a,o,c){return{instance:a,listener:o,currentTarget:c}}function np(a,o){for(var c=o+"Capture",f=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Bi(a,c),y!=null&&f.unshift(ef(a,y,x)),y=Bi(a,o),y!=null&&f.push(ef(a,y,x))),a.tag===3)return f;a=a.return}return[]}function gV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function rN(a,o,c,f,y){for(var x=o._reactName,C=[];c!==null&&c!==f;){var B=c,G=B.alternate,ne=B.stateNode;if(B=B.tag,G!==null&&G===f)break;B!==5&&B!==26&&B!==27||ne===null||(G=ne,y?(ne=Bi(c,x),ne!=null&&C.unshift(ef(c,ne,G))):y||(ne=Bi(c,x),ne!=null&&C.push(ef(c,ne,G)))),c=c.return}C.length!==0&&a.push({event:o,listeners:C})}var vV=/\r\n?/g,yV=/\u0000|\uFFFD/g;function iN(a){return(typeof a=="string"?a:""+a).replace(vV,`
`).replace(yV,"")}function aN(a,o){return o=iN(o),iN(a)===o}function jt(a,o,c,f,y,x){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Rr(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Rr(a,""+f);break;case"className":Yr(a,"class",f);break;case"tabIndex":Yr(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(a,c,f);break;case"style":bd(a,f,x);break;case"data":if(o!=="object"){Yr(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=wc(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&jt(a,o,"name",y.name,y,null),jt(a,o,"formEncType",y.formEncType,y,null),jt(a,o,"formMethod",y.formMethod,y,null),jt(a,o,"formTarget",y.formTarget,y,null)):(jt(a,o,"encType",y.encType,y,null),jt(a,o,"method",y.method,y,null),jt(a,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=wc(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=Ui);break;case"onScroll":f!=null&&Je("scroll",a);break;case"onScrollEnd":f!=null&&Je("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=wc(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":Je("beforetoggle",a),Je("toggle",a),bc(a,"popover",f);break;case"xlinkActuate":xn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":xn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":xn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":xn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":xn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":xn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":xn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":xn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":xn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":bc(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=nm.get(c)||c,bc(a,c,f))}}function wb(a,o,c,f,y,x){switch(c){case"style":bd(a,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof f=="string"?Rr(a,f):(typeof f=="number"||typeof f=="bigint")&&Rr(a,""+f);break;case"onScroll":f!=null&&Je("scroll",a);break;case"onScrollEnd":f!=null&&Je("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=a[Un]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,y),typeof f=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,f,y);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):bc(a,c,f)}}}function tr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",a),Je("load",a);var f=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var C=c[x];if(C!=null)switch(x){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,x,C,c,null)}}y&&jt(a,o,"srcSet",c.srcSet,c,null),f&&jt(a,o,"src",c.src,c,null);return;case"input":Je("invalid",a);var B=x=C=y=null,G=null,ne=null;for(f in c)if(c.hasOwnProperty(f)){var de=c[f];if(de!=null)switch(f){case"name":y=de;break;case"type":C=de;break;case"checked":G=de;break;case"defaultChecked":ne=de;break;case"value":x=de;break;case"defaultValue":B=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:jt(a,o,f,de,c,null)}}Jh(a,x,B,G,ne,C,y,!1);return;case"select":Je("invalid",a),f=C=x=null;for(y in c)if(c.hasOwnProperty(y)&&(B=c[y],B!=null))switch(y){case"value":x=B;break;case"defaultValue":C=B;break;case"multiple":f=B;default:jt(a,o,y,B,c,null)}o=x,c=C,a.multiple=!!f,o!=null?Xs(a,!!f,o,!1):c!=null&&Xs(a,!!f,c,!0);return;case"textarea":Je("invalid",a),x=y=f=null;for(C in c)if(c.hasOwnProperty(C)&&(B=c[C],B!=null))switch(C){case"value":f=B;break;case"defaultValue":y=B;break;case"children":x=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:jt(a,o,C,B,c,null)}Qs(a,f,y,x);return;case"option":for(G in c)c.hasOwnProperty(G)&&(f=c[G],f!=null)&&(G==="selected"?a.selected=f&&typeof f!="function"&&typeof f!="symbol":jt(a,o,G,f,c,null));return;case"dialog":Je("beforetoggle",a),Je("toggle",a),Je("cancel",a),Je("close",a);break;case"iframe":case"object":Je("load",a);break;case"video":case"audio":for(f=0;f<Jd.length;f++)Je(Jd[f],a);break;case"image":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"embed":case"source":case"link":Je("error",a),Je("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in c)if(c.hasOwnProperty(ne)&&(f=c[ne],f!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,ne,f,c,null)}return;default:if(_c(o)){for(de in c)c.hasOwnProperty(de)&&(f=c[de],f!==void 0&&wb(a,o,de,f,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(f=c[B],f!=null&&jt(a,o,B,f,c,null))}function bV(a,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,C=null,B=null,G=null,ne=null,de=null;for(ae in c){var me=c[ae];if(c.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=me;default:f.hasOwnProperty(ae)||jt(a,o,ae,null,f,me)}}for(var re in f){var ae=f[re];if(me=c[re],f.hasOwnProperty(re)&&(ae!=null||me!=null))switch(re){case"type":x=ae;break;case"name":y=ae;break;case"checked":ne=ae;break;case"defaultChecked":de=ae;break;case"value":C=ae;break;case"defaultValue":B=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:ae!==me&&jt(a,o,re,ae,f,me)}}xc(a,C,B,G,ne,de,x,y);return;case"select":ae=C=B=re=null;for(x in c)if(G=c[x],c.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":ae=G;default:f.hasOwnProperty(x)||jt(a,o,x,null,f,G)}for(y in f)if(x=f[y],G=c[y],f.hasOwnProperty(y)&&(x!=null||G!=null))switch(y){case"value":re=x;break;case"defaultValue":B=x;break;case"multiple":C=x;default:x!==G&&jt(a,o,y,x,f,G)}o=B,c=C,f=ae,re!=null?Xs(a,!!c,re,!1):!!f!=!!c&&(o!=null?Xs(a,!!c,o,!0):Xs(a,!!c,c?[]:"",!1));return;case"textarea":ae=re=null;for(B in c)if(y=c[B],c.hasOwnProperty(B)&&y!=null&&!f.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:jt(a,o,B,null,f,y)}for(C in f)if(y=f[C],x=c[C],f.hasOwnProperty(C)&&(y!=null||x!=null))switch(C){case"value":re=y;break;case"defaultValue":ae=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&jt(a,o,C,y,f,x)}em(a,re,ae);return;case"option":for(var Ce in c)re=c[Ce],c.hasOwnProperty(Ce)&&re!=null&&!f.hasOwnProperty(Ce)&&(Ce==="selected"?a.selected=!1:jt(a,o,Ce,null,f,re));for(G in f)re=f[G],ae=c[G],f.hasOwnProperty(G)&&re!==ae&&(re!=null||ae!=null)&&(G==="selected"?a.selected=re&&typeof re!="function"&&typeof re!="symbol":jt(a,o,G,re,f,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)re=c[Me],c.hasOwnProperty(Me)&&re!=null&&!f.hasOwnProperty(Me)&&jt(a,o,Me,null,f,re);for(ne in f)if(re=f[ne],ae=c[ne],f.hasOwnProperty(ne)&&re!==ae&&(re!=null||ae!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:jt(a,o,ne,re,f,ae)}return;default:if(_c(o)){for(var Ct in c)re=c[Ct],c.hasOwnProperty(Ct)&&re!==void 0&&!f.hasOwnProperty(Ct)&&wb(a,o,Ct,void 0,f,re);for(de in f)re=f[de],ae=c[de],!f.hasOwnProperty(de)||re===ae||re===void 0&&ae===void 0||wb(a,o,de,re,f,ae);return}}for(var Q in c)re=c[Q],c.hasOwnProperty(Q)&&re!=null&&!f.hasOwnProperty(Q)&&jt(a,o,Q,null,f,re);for(me in f)re=f[me],ae=c[me],!f.hasOwnProperty(me)||re===ae||re==null&&ae==null||jt(a,o,me,re,f,ae)}function sN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],x=y.transferSize,C=y.initiatorType,B=y.duration;if(x&&B&&sN(C)){for(C=0,B=y.responseEnd,f+=1;f<c.length;f++){var G=c[f],ne=G.startTime;if(ne>B)break;var de=G.transferSize,me=G.initiatorType;de&&sN(me)&&(G=G.responseEnd,C+=de*(G<B?1:(B-ne)/(G-ne)))}if(--f,o+=8*(x+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Sb=null,Eb=null;function rp(a){return a.nodeType===9?a:a.ownerDocument}function oN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Ab(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Tb=null;function _V(){var a=window.event;return a&&a.type==="popstate"?a===Tb?!1:(Tb=a,!0):(Tb=null,!1)}var cN=typeof setTimeout=="function"?setTimeout:void 0,wV=typeof clearTimeout=="function"?clearTimeout:void 0,uN=typeof Promise=="function"?Promise:void 0,SV=typeof queueMicrotask=="function"?queueMicrotask:typeof uN<"u"?function(a){return uN.resolve(null).then(a).catch(EV)}:cN;function EV(a){setTimeout(function(){throw a})}function _o(a){return a==="head"}function dN(a,o){var c=o,f=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(y),nu(o);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")tf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,tf(c);for(var x=c.firstChild;x;){var C=x.nextSibling,B=x.nodeName;x[oa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=C}}else c==="body"&&tf(a.ownerDocument.body);c=y}while(c);nu(o)}function fN(a,o){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function Nb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Nb(c),yc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function AV(a,o,c,f){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[oa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=wi(a.nextSibling),a===null)break}return null}function TV(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=wi(a.nextSibling),a===null))return null;return a}function hN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=wi(a.nextSibling),a===null))return null;return a}function jb(a){return a.data==="$?"||a.data==="$~"}function Cb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function NV(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function wi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Ob=null;function mN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return wi(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function pN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function gN(a,o,c){switch(o=rp(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function tf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);yc(a)}var Si=new Map,vN=new Set;function ip(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ds=Z.d;Z.d={f:jV,r:CV,D:OV,C:IV,L:PV,m:RV,X:DV,S:kV,M:MV};function jV(){var a=ds.f(),o=Wm();return a||o}function CV(a){var o=fi(a);o!==null&&o.tag===5&&o.type==="form"?kT(o):ds.r(a)}var Jc=typeof document>"u"?null:document;function yN(a,o,c){var f=Jc;if(f&&typeof o=="string"&&o){var y=Pr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),vN.has(y)||(vN.add(y),a={rel:a,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),tr(o,"link",a),bn(o),f.head.appendChild(o)))}}function OV(a){ds.D(a),yN("dns-prefetch",a,null)}function IV(a,o){ds.C(a,o),yN("preconnect",a,o)}function PV(a,o,c){ds.L(a,o,c);var f=Jc;if(f&&a&&o){var y='link[rel="preload"][as="'+Pr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Pr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Pr(c.imageSizes)+'"]')):y+='[href="'+Pr(a)+'"]';var x=y;switch(o){case"style":x=eu(a);break;case"script":x=tu(a)}Si.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Si.set(x,a),f.querySelector(y)!==null||o==="style"&&f.querySelector(nf(x))||o==="script"&&f.querySelector(rf(x))||(o=f.createElement("link"),tr(o,"link",a),bn(o),f.head.appendChild(o)))}}function RV(a,o){ds.m(a,o);var c=Jc;if(c&&a){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Pr(f)+'"][href="'+Pr(a)+'"]',x=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=tu(a)}if(!Si.has(x)&&(a=g({rel:"modulepreload",href:a},o),Si.set(x,a),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(rf(x)))return}f=c.createElement("link"),tr(f,"link",a),bn(f),c.head.appendChild(f)}}}function kV(a,o,c){ds.S(a,o,c);var f=Jc;if(f&&a){var y=ca(f).hoistableStyles,x=eu(a);o=o||"default";var C=y.get(x);if(!C){var B={loading:0,preload:null};if(C=f.querySelector(nf(x)))B.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Si.get(x))&&Ib(a,c);var G=C=f.createElement("link");bn(G),tr(G,"link",a),G._p=new Promise(function(ne,de){G.onload=ne,G.onerror=de}),G.addEventListener("load",function(){B.loading|=1}),G.addEventListener("error",function(){B.loading|=2}),B.loading|=4,ap(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:B},y.set(x,C)}}}function DV(a,o){ds.X(a,o);var c=Jc;if(c&&a){var f=ca(c).hoistableScripts,y=tu(a),x=f.get(y);x||(x=c.querySelector(rf(y)),x||(a=g({src:a,async:!0},o),(o=Si.get(y))&&Pb(a,o),x=c.createElement("script"),bn(x),tr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function MV(a,o){ds.M(a,o);var c=Jc;if(c&&a){var f=ca(c).hoistableScripts,y=tu(a),x=f.get(y);x||(x=c.querySelector(rf(y)),x||(a=g({src:a,async:!0,type:"module"},o),(o=Si.get(y))&&Pb(a,o),x=c.createElement("script"),bn(x),tr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function bN(a,o,c,f){var y=(y=se.current)?ip(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=eu(c.href),c=ca(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=eu(c.href);var x=ca(y).hoistableStyles,C=x.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,C),(x=y.querySelector(nf(a)))&&!x._p&&(C.instance=x,C.state.loading=5),Si.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Si.set(a,c),x||LV(y,a,c,C.state))),o&&f===null)throw Error(r(528,""));return C}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tu(c),c=ca(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function eu(a){return'href="'+Pr(a)+'"'}function nf(a){return'link[rel="stylesheet"]['+a+"]"}function xN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function LV(a,o,c,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),tr(o,"link",c),bn(o),a.head.appendChild(o))}function tu(a){return'[src="'+Pr(a)+'"]'}function rf(a){return"script[async]"+a}function _N(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+Pr(c.href)+'"]');if(f)return o.instance=f,bn(f),f;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),bn(f),tr(f,"style",y),ap(f,c.precedence,a),o.instance=f;case"stylesheet":y=eu(c.href);var x=a.querySelector(nf(y));if(x)return o.state.loading|=4,o.instance=x,bn(x),x;f=xN(c),(y=Si.get(y))&&Ib(f,y),x=(a.ownerDocument||a).createElement("link"),bn(x);var C=x;return C._p=new Promise(function(B,G){C.onload=B,C.onerror=G}),tr(x,"link",f),o.state.loading|=4,ap(x,c.precedence,a),o.instance=x;case"script":return x=tu(c.src),(y=a.querySelector(rf(x)))?(o.instance=y,bn(y),y):(f=c,(y=Si.get(x))&&(f=g({},c),Pb(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),bn(y),tr(y,"link",f),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,ap(f,c.precedence,a));return o.instance}function ap(a,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,x=y,C=0;C<f.length;C++){var B=f[C];if(B.dataset.precedence===o)x=B;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Ib(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Pb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var sp=null;function wN(a,o,c){if(sp===null){var f=new Map,y=sp=new Map;y.set(c,f)}else y=sp,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[oa]||x[yn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(o)||"";C=a+C;var B=f.get(C);B?B.push(x):f.set(C,[x])}}return f}function SN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function zV(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function EN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function VV(a,o,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=eu(f.href),x=o.querySelector(nf(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=op.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,bn(x);return}x=o.ownerDocument||o,f=xN(f),(y=Si.get(y))&&Ib(f,y),x=x.createElement("link"),bn(x);var C=x;C._p=new Promise(function(B,G){C.onload=B,C.onerror=G}),tr(x,"link",f),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=op.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var Rb=0;function UV(a,o){return a.stylesheets&&a.count===0&&cp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&cp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Rb===0&&(Rb=62500*xV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&cp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Rb?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function op(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var lp=null;function cp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,lp=new Map,o.forEach(BV,a),lp=null,op.call(a))}function BV(a,o){if(!(o.state.loading&4)){var c=lp.get(a);if(c)var f=c.get(null);else{c=new Map,lp.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var C=y[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),f=C)}f&&c.set(null,f)}y=o.instance,C=y.getAttribute("data-precedence"),x=c.get(C)||f,x===f&&c.set(null,y),c.set(C,y),this.count++,f=op.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var af={$$typeof:R,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function $V(a,o,c,f,y,x,C,B,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function AN(a,o,c,f,y,x,C,B,G,ne,de,me){return a=new $V(a,o,c,C,G,ne,de,me,B),o=1,x===!0&&(o|=24),x=Xr(3,null,null,o),a.current=x,x.stateNode=a,o=f0(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:f,isDehydrated:c,cache:o},g0(x),a}function TN(a){return a?(a=Pc,a):Pc}function NN(a,o,c,f,y,x){y=TN(y),f.context===null?f.context=y:f.pendingContext=y,f=co(o),f.payload={element:c},x=x===void 0?null:x,x!==null&&(f.callback=x),c=uo(a,f,o),c!==null&&(zr(c,a,o),Md(c,a,o))}function jN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function kb(a,o){jN(a,o),(a=a.alternate)&&jN(a,o)}function CN(a){if(a.tag===13||a.tag===31){var o=bl(a,67108864);o!==null&&zr(o,a,67108864),kb(a,67108864)}}function ON(a){if(a.tag===13||a.tag===31){var o=ti();o=ol(o);var c=bl(a,o);c!==null&&zr(c,a,o),kb(a,o)}}var up=!0;function qV(a,o,c,f){var y=K.T;K.T=null;var x=Z.p;try{Z.p=2,Db(a,o,c,f)}finally{Z.p=x,K.T=y}}function FV(a,o,c,f){var y=K.T;K.T=null;var x=Z.p;try{Z.p=8,Db(a,o,c,f)}finally{Z.p=x,K.T=y}}function Db(a,o,c,f){if(up){var y=Mb(f);if(y===null)_b(a,o,f,dp,c),PN(a,f);else if(KV(y,a,o,c,f))f.stopPropagation();else if(PN(a,f),o&4&&-1<HV.indexOf(a)){for(;y!==null;){var x=fi(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=yt(x.pendingLanes);if(C!==0){var B=x;for(B.pendingLanes|=2,B.entangledLanes|=2;C;){var G=1<<31-Bt(C);B.entanglements[1]|=G,C&=~G}wa(x),(mt&6)===0&&(Gm=un()+500,Zd(0))}}break;case 31:case 13:B=bl(x,2),B!==null&&zr(B,x,2),Wm(),kb(x,2)}if(x=Mb(f),x===null&&_b(a,o,f,dp,c),x===y)break;y=x}y!==null&&f.stopPropagation()}else _b(a,o,f,null,c)}}function Mb(a){return a=hi(a),Lb(a)}var dp=null;function Lb(a){if(dp=null,a=la(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return dp=a,null}function IN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fr()){case Mi:return 2;case Li:return 8;case Hr:case Gs:return 32;case ra:return 268435456;default:return 32}default:return 32}}var zb=!1,wo=null,So=null,Eo=null,sf=new Map,of=new Map,Ao=[],HV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PN(a,o){switch(a){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":sf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(o.pointerId)}}function lf(a,o,c,f,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},o!==null&&(o=fi(o),o!==null&&CN(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function KV(a,o,c,f,y){switch(o){case"focusin":return wo=lf(wo,a,o,c,f,y),!0;case"dragenter":return So=lf(So,a,o,c,f,y),!0;case"mouseover":return Eo=lf(Eo,a,o,c,f,y),!0;case"pointerover":var x=y.pointerId;return sf.set(x,lf(sf.get(x)||null,a,o,c,f,y)),!0;case"gotpointercapture":return x=y.pointerId,of.set(x,lf(of.get(x)||null,a,o,c,f,y)),!0}return!1}function RN(a){var o=la(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,zi(a.priority,function(){ON(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,zi(a.priority,function(){ON(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function fp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Mb(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);xd=f,c.target.dispatchEvent(f),xd=null}else return o=fi(c),o!==null&&CN(o),a.blockedOn=c,!1;o.shift()}return!0}function kN(a,o,c){fp(a)&&c.delete(o)}function GV(){zb=!1,wo!==null&&fp(wo)&&(wo=null),So!==null&&fp(So)&&(So=null),Eo!==null&&fp(Eo)&&(Eo=null),sf.forEach(kN),of.forEach(kN)}function hp(a,o){a.blockedOn===o&&(a.blockedOn=null,zb||(zb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GV)))}var mp=null;function DN(a){mp!==a&&(mp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mp===a&&(mp=null);for(var o=0;o<a.length;o+=3){var c=a[o],f=a[o+1],y=a[o+2];if(typeof f!="function"){if(Lb(f||c)===null)continue;break}var x=fi(c);x!==null&&(a.splice(o,3),o-=3,M0(x,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function nu(a){function o(G){return hp(G,a)}wo!==null&&hp(wo,a),So!==null&&hp(So,a),Eo!==null&&hp(Eo,a),sf.forEach(o),of.forEach(o);for(var c=0;c<Ao.length;c++){var f=Ao[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Ao.length&&(c=Ao[0],c.blockedOn===null);)RN(c),c.blockedOn===null&&Ao.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],x=c[f+1],C=y[Un]||null;if(typeof x=="function")C||DN(c);else if(C){var B=null;if(x&&x.hasAttribute("formAction")){if(y=x,C=x[Un]||null)B=C.formAction;else if(Lb(y)!==null)continue}else B=C.action;typeof B=="function"?c[f+1]=B:(c.splice(f,3),f-=3),DN(c)}}}function MN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Vb(a){this._internalRoot=a}pp.prototype.render=Vb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,f=ti();NN(c,f,a,o,null,null)},pp.prototype.unmount=Vb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;NN(a.current,2,null,a,null,null),Wm(),o[sa]=null}};function pp(a){this._internalRoot=a}pp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Wh();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Ao.length&&o!==0&&o<Ao[c].priority;c++);Ao.splice(c,0,a),c===0&&RN(a)}};var LN=e.version;if(LN!=="19.2.3")throw Error(r(527,LN,"19.2.3"));Z.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var YV={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{xr=gp.inject(YV),dn=gp}catch{}}return uf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,f="",y=FT,x=HT,C=KT;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=AN(a,1,!1,null,null,c,f,null,y,x,C,MN),a[sa]=o.current,xb(a),new Vb(o)},uf.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var f=!1,y="",x=FT,C=HT,B=KT,G=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.formState!==void 0&&(G=c.formState)),o=AN(a,1,!0,o,c??null,f,y,G,x,C,B,MN),o.context=TN(null),c=o.current,f=ti(),f=ol(f),y=co(f),y.callback=null,uo(c,y,f),c=f,o.current.lanes=c,Ka(o,c),wa(o),a[sa]=o.current,xb(a),new pp(o)},uf.version="19.2.3",uf}var GN;function a9(){if(GN)return $b.exports;GN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$b.exports=i9(),$b.exports}var s9=a9();const o9=()=>{};var YN={};const Ek=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},l9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Ak={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|h>>6,w=h&63;d||(w=64,l||(b=64)),r.push(n[p],n[g],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ek(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new c9;const b=s<<2|u>>4;if(r.push(b),h!==64){const w=u<<4&240|h>>2;if(r.push(w),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u9=function(t){const e=Ek(t);return Ak.encodeByteArray(e,!0)},rg=function(t){return u9(t).replace(/\./g,"")},Tk=function(t){try{return Ak.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const f9=()=>d9().__FIREBASE_DEFAULTS__,h9=()=>{if(typeof process>"u"||typeof YN>"u")return;const t=YN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tk(t[1]);return e&&JSON.parse(e)},wv=()=>{try{return o9()||f9()||h9()||m9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nk=t=>wv()?.emulatorHosts?.[t],p9=t=>{const e=Nk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jk=()=>wv()?.config,Ck=t=>wv()?.[`_${t}`];class g9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function qu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ok(t){return(await fetch(t,{credentials:"include"})).ok}function v9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rg(JSON.stringify(n)),rg(JSON.stringify(l)),""].join(".")}const Af={};function y9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Af))Af[e]?t.emulator.push(e):t.prod.push(e);return t}function b9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let WN=!1;function Ik(t,e){if(typeof window>"u"||typeof document>"u"||!qu(window.location.host)||Af[t]===e||Af[t]||WN)return;Af[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=y9().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{WN=!0,l()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=b9(r),w=n("text"),A=document.getElementById(w)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),O=n("preprendIcon"),M=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const R=b.element;u(R),p(S,E);const V=h();d(M,O),R.append(M,A,S,V),document.body.appendChild(R)}s?(A.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function _9(){const t=wv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A9(){const t=yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T9(){return!_9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N9(){try{return typeof indexedDB=="object"}catch{return!1}}function j9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const C9="FirebaseError";class Ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C9,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?O9(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ls(i,u,r)}}function O9(t,e){return t.replace(I9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const I9=/\{\$([^}]+)}/g;function P9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(XN(s)&&XN(l)){if(!Wl(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XN(t){return t!==null&&typeof t=="object"}function lh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function R9(t,e){const n=new k9(t,e);return n.subscribe.bind(n)}class k9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kb),i.error===void 0&&(i.error=Kb),i.complete===void 0&&(i.complete=Kb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kb(){}function Dn(t){return t&&t._delegate?t._delegate:t}class Xl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pl="[DEFAULT]";let M9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z9(e))try{this.getOrInitializeService({instanceIdentifier:Pl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pl){return this.instances.has(e)}getOptions(e=Pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pl){return this.component?this.component.multipleInstances?e:Pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function L9(t){return t===Pl?void 0:t}function z9(t){return t.instantiationMode==="EAGER"}class V9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const U9={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},B9=rt.INFO,$9={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},q9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pw{constructor(e){this.name=e,this._logLevel=B9,this._logHandler=q9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const F9=(t,e)=>e.some(n=>t instanceof n);let QN,ZN;function H9(){return QN||(QN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K9(){return ZN||(ZN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pk=new WeakMap,U1=new WeakMap,Rk=new WeakMap,Gb=new WeakMap,gw=new WeakMap;function G9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Vo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Pk.set(n,t)}).catch(()=>{}),gw.set(e,t),e}function Y9(t){if(U1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});U1.set(t,e)}let B1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return U1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W9(t){B1=t(B1)}function X9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yb(this),e,...n);return Rk.set(r,e.sort?e.sort():[e]),Vo(r)}:K9().includes(t)?function(...e){return t.apply(Yb(this),e),Vo(Pk.get(this))}:function(...e){return Vo(t.apply(Yb(this),e))}}function Q9(t){return typeof t=="function"?X9(t):(t instanceof IDBTransaction&&Y9(t),F9(t,H9())?new Proxy(t,B1):t)}function Vo(t){if(t instanceof IDBRequest)return G9(t);if(Gb.has(t))return Gb.get(t);const e=Q9(t);return e!==t&&(Gb.set(t,e),gw.set(e,t)),e}const Yb=t=>gw.get(t);function Z9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Vo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Vo(l.result),d.oldVersion,d.newVersion,Vo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const J9=["get","getKey","getAll","getAllKeys","count"],e8=["put","add","delete","clear"],Wb=new Map;function JN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wb.get(e))return Wb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=e8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J9.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return Wb.set(e,s),s}W9(t=>({...t,get:(e,n,r)=>JN(e,n)||t.get(e,n,r),has:(e,n)=>!!JN(e,n)||t.has(e,n)}));class t8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function n8(t){return t.getComponent()?.type==="VERSION"}const $1="@firebase/app",ej="0.14.6";const Ss=new pw("@firebase/app"),r8="@firebase/app-compat",i8="@firebase/analytics-compat",a8="@firebase/analytics",s8="@firebase/app-check-compat",o8="@firebase/app-check",l8="@firebase/auth",c8="@firebase/auth-compat",u8="@firebase/database",d8="@firebase/data-connect",f8="@firebase/database-compat",h8="@firebase/functions",m8="@firebase/functions-compat",p8="@firebase/installations",g8="@firebase/installations-compat",v8="@firebase/messaging",y8="@firebase/messaging-compat",b8="@firebase/performance",x8="@firebase/performance-compat",_8="@firebase/remote-config",w8="@firebase/remote-config-compat",S8="@firebase/storage",E8="@firebase/storage-compat",A8="@firebase/firestore",T8="@firebase/ai",N8="@firebase/firestore-compat",j8="firebase",C8="12.6.0";const q1="[DEFAULT]",O8={[$1]:"fire-core",[r8]:"fire-core-compat",[a8]:"fire-analytics",[i8]:"fire-analytics-compat",[o8]:"fire-app-check",[s8]:"fire-app-check-compat",[l8]:"fire-auth",[c8]:"fire-auth-compat",[u8]:"fire-rtdb",[d8]:"fire-data-connect",[f8]:"fire-rtdb-compat",[h8]:"fire-fn",[m8]:"fire-fn-compat",[p8]:"fire-iid",[g8]:"fire-iid-compat",[v8]:"fire-fcm",[y8]:"fire-fcm-compat",[b8]:"fire-perf",[x8]:"fire-perf-compat",[_8]:"fire-rc",[w8]:"fire-rc-compat",[S8]:"fire-gcs",[E8]:"fire-gcs-compat",[A8]:"fire-fst",[N8]:"fire-fst-compat",[T8]:"fire-vertex","fire-js":"fire-js",[j8]:"fire-js-all"};const ig=new Map,I8=new Map,F1=new Map;function tj(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Su(t){const e=t.name;if(F1.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;F1.set(e,t);for(const n of ig.values())tj(n,t);for(const n of I8.values())tj(n,t);return!0}function vw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ji(t){return t==null?!1:t.settings!==void 0}const P8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new oh("app","Firebase",P8);class R8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}const Fu=C8;function kk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:q1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Uo.create("bad-app-name",{appName:String(i)});if(n||(n=jk()),!n)throw Uo.create("no-options");const s=ig.get(i);if(s){if(Wl(n,s.options)&&Wl(r,s.config))return s;throw Uo.create("duplicate-app",{appName:i})}const l=new V9(i);for(const d of F1.values())l.addComponent(d);const u=new R8(n,r,l);return ig.set(i,u),u}function Dk(t=q1){const e=ig.get(t);if(!e&&t===q1&&jk())return kk();if(!e)throw Uo.create("no-app",{appName:t});return e}function Bo(t,e,n){let r=O8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(l.join(" "));return}Su(new Xl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const k8="firebase-heartbeat-database",D8=1,Rf="firebase-heartbeat-store";let Xb=null;function Mk(){return Xb||(Xb=Z9(k8,D8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Uo.create("idb-open",{originalErrorMessage:t.message})})),Xb}async function M8(t){try{const n=(await Mk()).transaction(Rf),r=await n.objectStore(Rf).get(Lk(t));return await n.done,r}catch(e){if(e instanceof Ls)Ss.warn(e.message);else{const n=Uo.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(n.message)}}}async function nj(t,e){try{const r=(await Mk()).transaction(Rf,"readwrite");await r.objectStore(Rf).put(e,Lk(t)),await r.done}catch(n){if(n instanceof Ls)Ss.warn(n.message);else{const r=Uo.create("idb-set",{originalErrorMessage:n?.message});Ss.warn(r.message)}}}function Lk(t){return`${t.name}!${t.options.appId}`}const L8=1024,z8=30;class V8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>z8){const i=$8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rj(),{heartbeatsToSend:n,unsentEntries:r}=U8(this._heartbeatsCache.heartbeats),i=rg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ss.warn(e),""}}}function rj(){return new Date().toISOString().substring(0,10)}function U8(t,e=L8){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),ij(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ij(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N9()?j9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ij(t){return rg(JSON.stringify({version:2,heartbeats:t})).length}function $8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function q8(t){Su(new Xl("platform-logger",e=>new t8(e),"PRIVATE")),Su(new Xl("heartbeat",e=>new V8(e),"PRIVATE")),Bo($1,ej,t),Bo($1,ej,"esm2020"),Bo("fire-js","")}q8("");var F8="firebase",H8="12.7.0";Bo(F8,H8,"app");function zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K8=zk,Vk=new oh("auth","Firebase",zk());const ag=new pw("@firebase/auth");function G8(t,...e){ag.logLevel<=rt.WARN&&ag.warn(`Auth (${Fu}): ${t}`,...e)}function Bp(t,...e){ag.logLevel<=rt.ERROR&&ag.error(`Auth (${Fu}): ${t}`,...e)}function Es(t,...e){throw yw(t,...e)}function Na(t,...e){return yw(t,...e)}function Uk(t,e,n){const r={...K8(),[e]:n};return new oh("auth","Firebase",r).create(e,{appName:t.name})}function bs(t){return Uk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vk.create(t,...e)}function $e(t,e,...n){if(!t)throw yw(e,...n)}function ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bp(e),new Error(e)}function As(t,e){t||ps(e)}function H1(){return typeof self<"u"&&self.location?.href||""}function Y8(){return aj()==="http:"||aj()==="https:"}function aj(){return typeof self<"u"&&self.location?.protocol||null}function W8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y8()||S9()||"connection"in navigator)?navigator.onLine:!0}function X8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ch{constructor(e,n){this.shortDelay=e,this.longDelay=n,As(n>e,"Short delay should be less than long delay!"),this.isMobile=x9()||E9()}get(){return W8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bw(t,e){As(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Bk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J8=new ch(3e4,6e4);function uh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hu(t,e,n,r,i={}){return $k(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=lh({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...s};return w9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&qu(t.emulatorConfig.host)&&(h.credentials="include"),Bk.fetch()(await qk(t,t.config.apiHost,n,u),h)})}async function $k(t,e,n){t._canInitEmulator=!1;const r={...Q8,...e};try{const i=new eU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw vp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw vp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw vp(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Uk(t,p,h);Es(t,p)}}catch(i){if(i instanceof Ls)throw i;Es(t,"network-request-failed",{message:String(i)})}}async function xw(t,e,n,r,i={}){const s=await Hu(t,e,n,r,i);return"mfaPendingCredential"in s&&Es(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function qk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?bw(t.config,i):`${t.config.apiScheme}://${i}`;return Z8.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class eU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Na(this.auth,"network-request-failed")),J8.get())})}}function vp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Na(t,e,r);return i.customData._tokenResponse=n,i}async function tU(t,e){return Hu(t,"POST","/v1/accounts:delete",e)}async function sg(t,e){return Hu(t,"POST","/v1/accounts:lookup",e)}function Tf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nU(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),i=_w(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Tf(Qb(i.auth_time)),issuedAtTime:Tf(Qb(i.iat)),expirationTime:Tf(Qb(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Qb(t){return Number(t)*1e3}function _w(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tk(n);return i?JSON.parse(i):(Bp("Failed to decode base64 JWT payload"),null)}catch(i){return Bp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sj(t){const e=_w(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function kf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ls&&rU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class iU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class K1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function og(t){const e=t.auth,n=await t.getIdToken(),r=await kf(t,sg(e,{idToken:n}));$e(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?Fk(i.providerUserInfo):[],l=sU(t.providerData,s),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,h=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new K1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function aU(t){const e=Dn(t);await og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function oU(t,e){const n=await $k(t,{},async()=>{const r=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await qk(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&qu(t.emulatorConfig.host)&&(d.credentials="include"),Bk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lU(t,e){return Hu(t,"POST","/v2/accounts:revokeToken",uh(t,e))}class pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=sj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new pu;return r&&($e(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&($e(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pu,this.toJSON())}_performRefresh(){return ps("not implemented")}}function No(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new iU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new K1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await kf(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nU(this,e)}reload(){return aU(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await og(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await kf(this,tU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:w,providerData:A,stsTokenManager:E}=n;$e(g&&E,e,"internal-error");const S=pu.fromJSON(this.name,E);$e(typeof g=="string",e,"internal-error"),No(r,e.name),No(i,e.name),$e(typeof b=="boolean",e,"internal-error"),$e(typeof w=="boolean",e,"internal-error"),No(s,e.name),No(l,e.name),No(u,e.name),No(d,e.name),No(h,e.name),No(p,e.name);const O=new Qi({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:S,createdAt:h,lastLoginAt:p});return A&&Array.isArray(A)&&(O.providerData=A.map(M=>({...M}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new pu;i.updateFromServerResponse(n);const s=new Qi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await og(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];$e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Fk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new pu;u.updateFromIdToken(r);const d=new Qi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new K1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,h),d}}const oj=new Map;function gs(t){As(t instanceof Function,"Expected a class definition");let e=oj.get(t);return e?(As(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oj.set(t,e),e)}class Hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hk.type="NONE";const lj=Hk;function $p(t,e,n){return`firebase:${t}:${e}:${n}`}class gu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$p(this.userKey,i.apiKey,s),this.fullPersistenceKey=$p("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sg(this.auth,{idToken:e}).catch(()=>{});return n?Qi._fromGetAccountInfoResponse(this.auth,n,e):null}return Qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gu(gs(lj),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||gs(lj);const l=$p(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const b=await sg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await Qi._fromGetAccountInfoResponse(e,b,p)}else g=Qi._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new gu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new gu(s,e,r))}}function cj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qk(e))return"Blackberry";if(Zk(e))return"Webos";if(Gk(e))return"Safari";if((e.includes("chrome/")||Yk(e))&&!e.includes("edge/"))return"Chrome";if(Xk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Kk(t=yr()){return/firefox\//i.test(t)}function Gk(t=yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yk(t=yr()){return/crios\//i.test(t)}function Wk(t=yr()){return/iemobile/i.test(t)}function Xk(t=yr()){return/android/i.test(t)}function Qk(t=yr()){return/blackberry/i.test(t)}function Zk(t=yr()){return/webos/i.test(t)}function ww(t=yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cU(t=yr()){return ww(t)&&!!window.navigator?.standalone}function uU(){return A9()&&document.documentMode===10}function Jk(t=yr()){return ww(t)||Xk(t)||Zk(t)||Qk(t)||/windows phone/i.test(t)||Wk(t)}function eD(t,e=[]){let n;switch(t){case"Browser":n=cj(yr());break;case"Worker":n=`${cj(yr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fu}/${r}`}class dU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function fU(t,e={}){return Hu(t,"GET","/v2/passwordPolicy",uh(t,e))}const hU=6;class mU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class pU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uj(this),this.idTokenSubscription=new uj(this),this.beforeStateQueue=new dU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sg(this,{idToken:e}),r=await Qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ji(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await og(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(bs(this));const n=e?Dn(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fU(this),n=new mU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gs(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await gu.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dh(t){return Dn(t)}class uj{constructor(e){this.auth=e,this.observer=null,this.addObserver=R9(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gU(t){Sw=t}function vU(t){return Sw.loadJS(t)}function yU(){return Sw.gapiScript}function bU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function xU(t,e){const n=vw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wl(s,e??{}))return i;Es(i,"already-initialized")}return n.initialize({options:e})}function _U(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function wU(t,e,n){const r=dh(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=tD(e),{host:l,port:u}=SU(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(Wl(h,r.config.emulator)&&Wl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,qu(l)?(Ok(`${s}//${l}${d}`),Ik("Auth",!0)):EU()}function tD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SU(t){const e=tD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dj(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:dj(l)}}}function dj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class nD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,n){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function vu(t,e){return xw(t,"POST","/v1/accounts:signInWithIdp",uh(t,e))}const AU="http://localhost";class Ql extends nD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ql(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Ql(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return vu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vu(e,n)}buildRequest(){const e={requestUri:AU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lh(n)}return e}}class rD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fh extends rD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oo extends fh{constructor(){super("facebook.com")}static credential(e){return Ql._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oo.PROVIDER_ID="facebook.com";class Io extends fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ql._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.GOOGLE_SIGN_IN_METHOD="google.com";Io.PROVIDER_ID="google.com";class Po extends fh{constructor(){super("github.com")}static credential(e){return Ql._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.GITHUB_SIGN_IN_METHOD="github.com";Po.PROVIDER_ID="github.com";class Ro extends fh{constructor(){super("twitter.com")}static credential(e,n){return Ql._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";async function TU(t,e){return xw(t,"POST","/v1/accounts:signUp",uh(t,e))}class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Qi._fromIdTokenResponse(e,r,i),l=fj(r);return new Ts({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fj(r);return new Ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function NU(t){if(ji(t.app))return Promise.reject(bs(t));const e=dh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ts({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await TU(e,{returnSecureToken:!0}),r=await Ts._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class lg extends Ls{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lg(e,n,r,i)}}function iD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lg._fromErrorAndOperation(t,s,e,r):s})}async function jU(t,e,n=!1){const r=await kf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ts._forOperation(t,"link",r)}async function CU(t,e,n=!1){const{auth:r}=t;if(ji(r.app))return Promise.reject(bs(r));const i="reauthenticate";try{const s=await kf(t,iD(r,i,e,t),n);$e(s.idToken,r,"internal-error");const l=_w(s.idToken);$e(l,r,"internal-error");const{sub:u}=l;return $e(t.uid===u,r,"user-mismatch"),Ts._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Es(r,"user-mismatch"),s}}async function OU(t,e,n=!1){if(ji(t.app))return Promise.reject(bs(t));const r="signIn",i=await iD(t,r,e),s=await Ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function IU(t,e){return xw(t,"POST","/v1/accounts:signInWithCustomToken",uh(t,e))}async function PU(t,e){if(ji(t.app))return Promise.reject(bs(t));const n=dh(t),r=await IU(n,{token:e,returnSecureToken:!0}),i=await Ts._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function RU(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function kU(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}function DU(t,e,n,r){return Dn(t).onAuthStateChanged(e,n,r)}const cg="__sak";class aD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cg,"1"),this.storage.removeItem(cg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MU=1e3,LU=10;class sD extends aD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);uU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sD.type="LOCAL";const zU=sD;class oD extends aD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oD.type="SESSION";const lD=oD;function VU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Sv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,s)),d=await VU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sv.receivers=[];function Ew(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class UU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=Ew("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function ja(){return window}function BU(t){ja().location.href=t}function cD(){return typeof ja().WorkerGlobalScope<"u"&&typeof ja().importScripts=="function"}async function $U(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qU(){return navigator?.serviceWorker?.controller||null}function FU(){return cD()?self:null}const uD="firebaseLocalStorageDb",HU=1,ug="firebaseLocalStorage",dD="fbase_key";class hh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ev(t,e){return t.transaction([ug],e?"readwrite":"readonly").objectStore(ug)}function KU(){const t=indexedDB.deleteDatabase(uD);return new hh(t).toPromise()}function G1(){const t=indexedDB.open(uD,HU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ug,{keyPath:dD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ug)?e(r):(r.close(),await KU(),e(await G1()))})})}async function hj(t,e,n){const r=Ev(t,!0).put({[dD]:e,value:n});return new hh(r).toPromise()}async function GU(t,e){const n=Ev(t,!1).get(e),r=await new hh(n).toPromise();return r===void 0?null:r.value}function mj(t,e){const n=Ev(t,!0).delete(e);return new hh(n).toPromise()}const YU=800,WU=3;class fD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sv._getInstance(FU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $U(),!this.activeServiceWorker)return;this.sender=new UU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G1();return await hj(e,cg,"1"),await mj(e,cg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ev(i,!1).getAll();return new hh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fD.type="LOCAL";const XU=fD;new ch(3e4,6e4);function QU(t,e){return e?gs(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Aw extends nD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZU(t){return OU(t.auth,new Aw(t),t.bypassAuthState)}function JU(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),CU(n,new Aw(t),t.bypassAuthState)}async function eB(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),jU(n,new Aw(t),t.bypassAuthState)}class hD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZU;case"linkViaPopup":case"linkViaRedirect":return eB;case"reauthViaPopup":case"reauthViaRedirect":return JU;default:Es(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tB=new ch(2e3,1e4);class du extends hD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,du.currentPopupAction&&du.currentPopupAction.cancel(),du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Ew();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,du.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tB.get())};e()}}du.currentPopupAction=null;const nB="pendingRedirect",qp=new Map;class rB extends hD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qp.get(this.auth._key());if(!e){try{const r=await iB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qp.set(this.auth._key(),e)}return this.bypassAuthState||qp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iB(t,e){const n=oB(e),r=sB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aB(t,e){qp.set(t._key(),e)}function sB(t){return gs(t._redirectPersistence)}function oB(t){return $p(nB,t.config.apiKey,t.name)}async function lB(t,e,n=!1){if(ji(t.app))return Promise.reject(bs(t));const r=dh(t),i=QU(r,e),l=await new rB(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const cB=600*1e3;class uB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!mD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Na(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cB&&this.cachedEventUids.clear(),this.cachedEventUids.has(pj(e))}saveEventToCache(e){this.cachedEventUids.add(pj(e)),this.lastProcessedEventTime=Date.now()}}function pj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mD(t);default:return!1}}async function fB(t,e={}){return Hu(t,"GET","/v1/projects",e)}const hB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mB=/^https?/;async function pB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fB(t);for(const n of e)try{if(gB(n))return}catch{}Es(t,"unauthorized-domain")}function gB(t){const e=H1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!mB.test(n))return!1;if(hB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vB=new ch(3e4,6e4);function gj(){const t=ja().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yB(t){return new Promise((e,n)=>{function r(){gj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gj(),n(Na(t,"network-request-failed"))},timeout:vB.get()})}if(ja().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ja().gapi?.load)r();else{const i=bU("iframefcb");return ja()[i]=()=>{gapi.load?r():n(Na(t,"network-request-failed"))},vU(`${yU()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Fp=null,e})}let Fp=null;function bB(t){return Fp=Fp||yB(t),Fp}const xB=new ch(5e3,15e3),_B="__/auth/iframe",wB="emulator/auth/iframe",SB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AB(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bw(e,wB):`https://${t.config.authDomain}/${_B}`,r={apiKey:e.apiKey,appName:t.name,v:Fu},i=EB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${lh(r).slice(1)}`}async function TB(t){const e=await bB(t),n=ja().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:AB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Na(t,"network-request-failed"),u=ja().setTimeout(()=>{s(l)},xB.get());function d(){ja().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const NB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jB=500,CB=600,OB="_blank",IB="http://localhost";class vj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PB(t,e,n,r=jB,i=CB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...NB,width:r.toString(),height:i.toString(),top:s,left:l},h=yr().toLowerCase();n&&(u=Yk(h)?OB:n),Kk(h)&&(e=e||IB,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[w,A])=>`${b}${w}=${A},`,"");if(cU(h)&&u!=="_self")return RB(e||"",u),new vj(null);const g=window.open(e||"",u,p);$e(g,t,"popup-blocked");try{g.focus()}catch{}return new vj(g)}function RB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const kB="__/auth/handler",DB="emulator/auth/handler",MB=encodeURIComponent("fac");async function yj(t,e,n,r,i,s){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fu,eventId:i};if(e instanceof rD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",P9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof fh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${MB}=${encodeURIComponent(d)}`:"";return`${LB(t)}?${lh(u).slice(1)}${h}`}function LB({config:t}){return t.emulator?bw(t,DB):`https://${t.authDomain}/${kB}`}const Zb="webStorageSupport";class zB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lD,this._completeRedirectFn=lB,this._overrideRedirectResult=aB}async _openPopup(e,n,r,i){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await yj(e,n,r,H1(),i);return PB(e,s,Ew())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yj(e,n,r,H1(),i);return BU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(As(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TB(e),r=new uB(e);return n.register("authEvent",i=>($e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zb,{type:Zb},i=>{const s=i?.[0]?.[Zb];s!==void 0&&n(!!s),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jk()||Gk()||ww()}}const VB=zB;var bj="@firebase/auth",xj="1.12.0";class UB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $B(t){Su(new Xl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;$e(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eD(t)},h=new pU(r,i,s,d);return _U(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Su(new Xl("auth-internal",e=>{const n=dh(e.getProvider("auth").getImmediate());return(r=>new UB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bo(bj,xj,BB(t)),Bo(bj,xj,"esm2020")}const qB=300,FB=Ck("authIdTokenMaxAge")||qB;let _j=null;const HB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FB)return;const i=n?.token;_j!==i&&(_j=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KB(t=Dk()){const e=vw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xU(t,{popupRedirectResolver:VB,persistence:[XU,zU,lD]}),r=Ck("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=HB(s.toString());kU(n,l,()=>l(n.currentUser)),RU(n,u=>l(u))}}const i=Nk("auth");return i&&wU(n,`http://${i}`),n}function GB(){return document.getElementsByTagName("head")?.[0]??document}gU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Na("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$B("Browser");var wj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $o,pD;(function(){var t;function e(N,j){function I(){}I.prototype=j.prototype,N.F=j.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(z,k,$){for(var U=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)U[ce-2]=arguments[ce];return j.prototype[k].apply(z,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,j,I){I||(I=0);const z=Array(16);if(typeof j=="string")for(var k=0;k<16;++k)z[k]=j.charCodeAt(I++)|j.charCodeAt(I++)<<8|j.charCodeAt(I++)<<16|j.charCodeAt(I++)<<24;else for(k=0;k<16;++k)z[k]=j[I++]|j[I++]<<8|j[I++]<<16|j[I++]<<24;j=N.g[0],I=N.g[1],k=N.g[2];let $=N.g[3],U;U=j+($^I&(k^$))+z[0]+3614090360&4294967295,j=I+(U<<7&4294967295|U>>>25),U=$+(k^j&(I^k))+z[1]+3905402710&4294967295,$=j+(U<<12&4294967295|U>>>20),U=k+(I^$&(j^I))+z[2]+606105819&4294967295,k=$+(U<<17&4294967295|U>>>15),U=I+(j^k&($^j))+z[3]+3250441966&4294967295,I=k+(U<<22&4294967295|U>>>10),U=j+($^I&(k^$))+z[4]+4118548399&4294967295,j=I+(U<<7&4294967295|U>>>25),U=$+(k^j&(I^k))+z[5]+1200080426&4294967295,$=j+(U<<12&4294967295|U>>>20),U=k+(I^$&(j^I))+z[6]+2821735955&4294967295,k=$+(U<<17&4294967295|U>>>15),U=I+(j^k&($^j))+z[7]+4249261313&4294967295,I=k+(U<<22&4294967295|U>>>10),U=j+($^I&(k^$))+z[8]+1770035416&4294967295,j=I+(U<<7&4294967295|U>>>25),U=$+(k^j&(I^k))+z[9]+2336552879&4294967295,$=j+(U<<12&4294967295|U>>>20),U=k+(I^$&(j^I))+z[10]+4294925233&4294967295,k=$+(U<<17&4294967295|U>>>15),U=I+(j^k&($^j))+z[11]+2304563134&4294967295,I=k+(U<<22&4294967295|U>>>10),U=j+($^I&(k^$))+z[12]+1804603682&4294967295,j=I+(U<<7&4294967295|U>>>25),U=$+(k^j&(I^k))+z[13]+4254626195&4294967295,$=j+(U<<12&4294967295|U>>>20),U=k+(I^$&(j^I))+z[14]+2792965006&4294967295,k=$+(U<<17&4294967295|U>>>15),U=I+(j^k&($^j))+z[15]+1236535329&4294967295,I=k+(U<<22&4294967295|U>>>10),U=j+(k^$&(I^k))+z[1]+4129170786&4294967295,j=I+(U<<5&4294967295|U>>>27),U=$+(I^k&(j^I))+z[6]+3225465664&4294967295,$=j+(U<<9&4294967295|U>>>23),U=k+(j^I&($^j))+z[11]+643717713&4294967295,k=$+(U<<14&4294967295|U>>>18),U=I+($^j&(k^$))+z[0]+3921069994&4294967295,I=k+(U<<20&4294967295|U>>>12),U=j+(k^$&(I^k))+z[5]+3593408605&4294967295,j=I+(U<<5&4294967295|U>>>27),U=$+(I^k&(j^I))+z[10]+38016083&4294967295,$=j+(U<<9&4294967295|U>>>23),U=k+(j^I&($^j))+z[15]+3634488961&4294967295,k=$+(U<<14&4294967295|U>>>18),U=I+($^j&(k^$))+z[4]+3889429448&4294967295,I=k+(U<<20&4294967295|U>>>12),U=j+(k^$&(I^k))+z[9]+568446438&4294967295,j=I+(U<<5&4294967295|U>>>27),U=$+(I^k&(j^I))+z[14]+3275163606&4294967295,$=j+(U<<9&4294967295|U>>>23),U=k+(j^I&($^j))+z[3]+4107603335&4294967295,k=$+(U<<14&4294967295|U>>>18),U=I+($^j&(k^$))+z[8]+1163531501&4294967295,I=k+(U<<20&4294967295|U>>>12),U=j+(k^$&(I^k))+z[13]+2850285829&4294967295,j=I+(U<<5&4294967295|U>>>27),U=$+(I^k&(j^I))+z[2]+4243563512&4294967295,$=j+(U<<9&4294967295|U>>>23),U=k+(j^I&($^j))+z[7]+1735328473&4294967295,k=$+(U<<14&4294967295|U>>>18),U=I+($^j&(k^$))+z[12]+2368359562&4294967295,I=k+(U<<20&4294967295|U>>>12),U=j+(I^k^$)+z[5]+4294588738&4294967295,j=I+(U<<4&4294967295|U>>>28),U=$+(j^I^k)+z[8]+2272392833&4294967295,$=j+(U<<11&4294967295|U>>>21),U=k+($^j^I)+z[11]+1839030562&4294967295,k=$+(U<<16&4294967295|U>>>16),U=I+(k^$^j)+z[14]+4259657740&4294967295,I=k+(U<<23&4294967295|U>>>9),U=j+(I^k^$)+z[1]+2763975236&4294967295,j=I+(U<<4&4294967295|U>>>28),U=$+(j^I^k)+z[4]+1272893353&4294967295,$=j+(U<<11&4294967295|U>>>21),U=k+($^j^I)+z[7]+4139469664&4294967295,k=$+(U<<16&4294967295|U>>>16),U=I+(k^$^j)+z[10]+3200236656&4294967295,I=k+(U<<23&4294967295|U>>>9),U=j+(I^k^$)+z[13]+681279174&4294967295,j=I+(U<<4&4294967295|U>>>28),U=$+(j^I^k)+z[0]+3936430074&4294967295,$=j+(U<<11&4294967295|U>>>21),U=k+($^j^I)+z[3]+3572445317&4294967295,k=$+(U<<16&4294967295|U>>>16),U=I+(k^$^j)+z[6]+76029189&4294967295,I=k+(U<<23&4294967295|U>>>9),U=j+(I^k^$)+z[9]+3654602809&4294967295,j=I+(U<<4&4294967295|U>>>28),U=$+(j^I^k)+z[12]+3873151461&4294967295,$=j+(U<<11&4294967295|U>>>21),U=k+($^j^I)+z[15]+530742520&4294967295,k=$+(U<<16&4294967295|U>>>16),U=I+(k^$^j)+z[2]+3299628645&4294967295,I=k+(U<<23&4294967295|U>>>9),U=j+(k^(I|~$))+z[0]+4096336452&4294967295,j=I+(U<<6&4294967295|U>>>26),U=$+(I^(j|~k))+z[7]+1126891415&4294967295,$=j+(U<<10&4294967295|U>>>22),U=k+(j^($|~I))+z[14]+2878612391&4294967295,k=$+(U<<15&4294967295|U>>>17),U=I+($^(k|~j))+z[5]+4237533241&4294967295,I=k+(U<<21&4294967295|U>>>11),U=j+(k^(I|~$))+z[12]+1700485571&4294967295,j=I+(U<<6&4294967295|U>>>26),U=$+(I^(j|~k))+z[3]+2399980690&4294967295,$=j+(U<<10&4294967295|U>>>22),U=k+(j^($|~I))+z[10]+4293915773&4294967295,k=$+(U<<15&4294967295|U>>>17),U=I+($^(k|~j))+z[1]+2240044497&4294967295,I=k+(U<<21&4294967295|U>>>11),U=j+(k^(I|~$))+z[8]+1873313359&4294967295,j=I+(U<<6&4294967295|U>>>26),U=$+(I^(j|~k))+z[15]+4264355552&4294967295,$=j+(U<<10&4294967295|U>>>22),U=k+(j^($|~I))+z[6]+2734768916&4294967295,k=$+(U<<15&4294967295|U>>>17),U=I+($^(k|~j))+z[13]+1309151649&4294967295,I=k+(U<<21&4294967295|U>>>11),U=j+(k^(I|~$))+z[4]+4149444226&4294967295,j=I+(U<<6&4294967295|U>>>26),U=$+(I^(j|~k))+z[11]+3174756917&4294967295,$=j+(U<<10&4294967295|U>>>22),U=k+(j^($|~I))+z[2]+718787259&4294967295,k=$+(U<<15&4294967295|U>>>17),U=I+($^(k|~j))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+j&4294967295,N.g[1]=N.g[1]+(k+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+$&4294967295}r.prototype.v=function(N,j){j===void 0&&(j=N.length);const I=j-this.blockSize,z=this.C;let k=this.h,$=0;for(;$<j;){if(k==0)for(;$<=I;)i(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<j;)if(z[k++]=N.charCodeAt($++),k==this.blockSize){i(this,z),k=0;break}}else for(;$<j;)if(z[k++]=N[$++],k==this.blockSize){i(this,z),k=0;break}}this.h=k,this.o+=j},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var j=1;j<N.length-8;++j)N[j]=0;j=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=j&255,j/=256;for(this.v(N),N=Array(16),j=0,I=0;I<4;++I)for(let z=0;z<32;z+=8)N[j++]=this.g[I]>>>z&255;return N};function s(N,j){var I=u;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=j(N)}function l(N,j){this.h=j;const I=[];let z=!0;for(let k=N.length-1;k>=0;k--){const $=N[k]|0;z&&$==j||(I[k]=$,z=!1)}this.g=I}var u={};function d(N){return-128<=N&&N<128?s(N,function(j){return new l([j|0],j<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return S(h(-N));const j=[];let I=1;for(let z=0;N>=I;z++)j[z]=N/I|0,I*=4294967296;return new l(j,0)}function p(N,j){if(N.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(N.charAt(0)=="-")return S(p(N.substring(1),j));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(j,8));let z=g;for(let $=0;$<N.length;$+=8){var k=Math.min(8,N.length-$);const U=parseInt(N.substring($,$+k),j);k<8?(k=h(Math.pow(j,k)),z=z.j(k).add(h(U))):(z=z.j(I),z=z.add(h(U)))}return z}var g=d(0),b=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-S(this).m();let N=0,j=1;for(let I=0;I<this.g.length;I++){const z=this.i(I);N+=(z>=0?z:4294967296+z)*j,j*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(E(this))return"-"+S(this).toString(N);const j=h(Math.pow(N,6));var I=this;let z="";for(;;){const k=V(I,j).g;I=O(I,k.j(j));let $=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=k,A(I))return $+z;for(;$.length<6;)$="0"+$;z=$+z}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(let j=0;j<N.g.length;j++)if(N.g[j]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=O(this,N),E(N)?-1:A(N)?0:1};function S(N){const j=N.g.length,I=[];for(let z=0;z<j;z++)I[z]=~N.g[z];return new l(I,~N.h).add(b)}t.abs=function(){return E(this)?S(this):this},t.add=function(N){const j=Math.max(this.g.length,N.g.length),I=[];let z=0;for(let k=0;k<=j;k++){let $=z+(this.i(k)&65535)+(N.i(k)&65535),U=($>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);z=U>>>16,$&=65535,U&=65535,I[k]=U<<16|$}return new l(I,I[I.length-1]&-2147483648?-1:0)};function O(N,j){return N.add(S(j))}t.j=function(N){if(A(this)||A(N))return g;if(E(this))return E(N)?S(this).j(S(N)):S(S(this).j(N));if(E(N))return S(this.j(S(N)));if(this.l(w)<0&&N.l(w)<0)return h(this.m()*N.m());const j=this.g.length+N.g.length,I=[];for(var z=0;z<2*j;z++)I[z]=0;for(z=0;z<this.g.length;z++)for(let k=0;k<N.g.length;k++){const $=this.i(z)>>>16,U=this.i(z)&65535,ce=N.i(k)>>>16,pe=N.i(k)&65535;I[2*z+2*k]+=U*pe,M(I,2*z+2*k),I[2*z+2*k+1]+=$*pe,M(I,2*z+2*k+1),I[2*z+2*k+1]+=U*ce,M(I,2*z+2*k+1),I[2*z+2*k+2]+=$*ce,M(I,2*z+2*k+2)}for(N=0;N<j;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=j;N<2*j;N++)I[N]=0;return new l(I,0)};function M(N,j){for(;(N[j]&65535)!=N[j];)N[j+1]+=N[j]>>>16,N[j]&=65535,j++}function R(N,j){this.g=N,this.h=j}function V(N,j){if(A(j))throw Error("division by zero");if(A(N))return new R(g,g);if(E(N))return j=V(S(N),j),new R(S(j.g),S(j.h));if(E(j))return j=V(N,S(j)),new R(S(j.g),j.h);if(N.g.length>30){if(E(N)||E(j))throw Error("slowDivide_ only works with positive integers.");for(var I=b,z=j;z.l(N)<=0;)I=D(I),z=D(z);var k=L(I,1),$=L(z,1);for(z=L(z,2),I=L(I,2);!A(z);){var U=$.add(z);U.l(N)<=0&&(k=k.add(I),$=U),z=L(z,1),I=L(I,1)}return j=O(N,k.j(j)),new R(k,j)}for(k=g;N.l(j)>=0;){for(I=Math.max(1,Math.floor(N.m()/j.m())),z=Math.ceil(Math.log(I)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),$=h(I),U=$.j(j);E(U)||U.l(N)>0;)I-=z,$=h(I),U=$.j(j);A($)&&($=b),k=k.add($),N=O(N,U)}return new R(k,N)}t.B=function(N){return V(this,N).h},t.and=function(N){const j=Math.max(this.g.length,N.g.length),I=[];for(let z=0;z<j;z++)I[z]=this.i(z)&N.i(z);return new l(I,this.h&N.h)},t.or=function(N){const j=Math.max(this.g.length,N.g.length),I=[];for(let z=0;z<j;z++)I[z]=this.i(z)|N.i(z);return new l(I,this.h|N.h)},t.xor=function(N){const j=Math.max(this.g.length,N.g.length),I=[];for(let z=0;z<j;z++)I[z]=this.i(z)^N.i(z);return new l(I,this.h^N.h)};function D(N){const j=N.g.length+1,I=[];for(let z=0;z<j;z++)I[z]=N.i(z)<<1|N.i(z-1)>>>31;return new l(I,N.h)}function L(N,j){const I=j>>5;j%=32;const z=N.g.length-I,k=[];for(let $=0;$<z;$++)k[$]=j>0?N.i($+I)>>>j|N.i($+I+1)<<32-j:N.i($+I);return new l(k,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,$o=l}).apply(typeof wj<"u"?wj:typeof self<"u"?self:typeof window<"u"?window:{});var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gD,bf,vD,Hp,Y1,yD,bD,xD;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof yp=="object"&&yp];for(var T=0;T<v.length;++T){var P=v[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var P=r;v=v.split(".");for(var q=0;q<v.length-1;q++){var J=v[q];if(!(J in P))break e;P=P[J]}v=v[v.length-1],q=P[v],T=T(q),T!=q&&T!=null&&e(P,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var P=[],q;for(q in T)Object.prototype.hasOwnProperty.call(T,q)&&P.push([q,T[q]]);return P}});var s=s||{},l=this||self;function u(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function d(v,T,P){return v.call.apply(v.bind,arguments)}function h(v,T,P){return h=d,h.apply(null,arguments)}function p(v,T){var P=Array.prototype.slice.call(arguments,1);return function(){var q=P.slice();return q.push.apply(q,arguments),v.apply(this,q)}}function g(v,T){function P(){}P.prototype=T.prototype,v.Z=T.prototype,v.prototype=new P,v.prototype.constructor=v,v.Ob=function(q,J,ie){for(var _e=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)_e[Ge-2]=arguments[Ge];return T.prototype[J].apply(q,_e)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function w(v){const T=v.length;if(T>0){const P=Array(T);for(let q=0;q<T;q++)P[q]=v[q];return P}return[]}function A(v,T){for(let q=1;q<arguments.length;q++){const J=arguments[q];var P=typeof J;if(P=P!="object"?P:J?Array.isArray(J)?"array":P:"null",P=="array"||P=="object"&&typeof J.length=="number"){P=v.length||0;const ie=J.length||0;v.length=P+ie;for(let _e=0;_e<ie;_e++)v[P+_e]=J[_e]}else v.push(J)}}class E{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(v){l.setTimeout(()=>{throw v},0)}function O(){var v=N;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class M{constructor(){this.h=this.g=null}add(T,P){const q=R.get();q.set(T,P),this.h?this.h.next=q:this.g=q,this.h=q}}var R=new E(()=>new V,v=>v.reset());class V{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let D,L=!1,N=new M,j=()=>{const v=Promise.resolve(void 0);D=()=>{v.then(I)}};function I(){for(var v;v=O();){try{v.h.call(v.g)}catch(P){S(P)}var T=R;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}L=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const P=()=>{};l.addEventListener("test",P,T),l.removeEventListener("test",P,T)}catch{}return v})();function U(v){return/^[\s\xa0]*$/.test(v)}function ce(v,T){k.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(ce,k),ce.prototype.init=function(v,T){const P=this.type=v.type,q=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(P=="mouseover"?T=v.fromElement:P=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),K=0;function Z(v,T,P,q,J){this.listener=v,this.proxy=null,this.src=T,this.type=P,this.capture=!!q,this.ha=J,this.key=++K,this.da=this.fa=!1}function W(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function oe(v,T,P){for(const q in v)T.call(P,v[q],q,v)}function xe(v,T){for(const P in v)T.call(void 0,v[P],P,v)}function F(v){const T={};for(const P in v)T[P]=v[P];return T}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(v,T){let P,q;for(let J=1;J<arguments.length;J++){q=arguments[J];for(P in q)v[P]=q[P];for(let ie=0;ie<X.length;ie++)P=X[ie],Object.prototype.hasOwnProperty.call(q,P)&&(v[P]=q[P])}}function ge(v){this.src=v,this.g={},this.h=0}ge.prototype.add=function(v,T,P,q,J){const ie=v.toString();v=this.g[ie],v||(v=this.g[ie]=[],this.h++);const _e=se(v,T,q,J);return _e>-1?(T=v[_e],P||(T.fa=!1)):(T=new Z(T,this.src,ie,!!q,J),T.fa=P,v.push(T)),T};function je(v,T){const P=T.type;if(P in v.g){var q=v.g[P],J=Array.prototype.indexOf.call(q,T,void 0),ie;(ie=J>=0)&&Array.prototype.splice.call(q,J,1),ie&&(W(T),v.g[P].length==0&&(delete v.g[P],v.h--))}}function se(v,T,P,q){for(let J=0;J<v.length;++J){const ie=v[J];if(!ie.da&&ie.listener==T&&ie.capture==!!P&&ie.ha==q)return J}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Ue={};function le(v,T,P,q,J){if(Array.isArray(T)){for(let ie=0;ie<T.length;ie++)le(v,T[ie],P,q,J);return null}return P=lr(P),v&&v[pe]?v.J(T,P,u(q)?!!q.capture:!1,J):Re(v,T,P,!1,q,J)}function Re(v,T,P,q,J,ie){if(!T)throw Error("Invalid event type");const _e=u(J)?!!J.capture:!!J;let Ge=Et(v);if(Ge||(v[we]=Ge=new ge(v)),P=Ge.add(T,P,q,_e,ie),P.proxy)return P;if(q=Be(),P.proxy=q,q.src=v,q.listener=P,v.addEventListener)$||(J=_e),J===void 0&&(J=!1),v.addEventListener(T.toString(),q,J);else if(v.attachEvent)v.attachEvent(We(T.toString()),q);else if(v.addListener&&v.removeListener)v.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Be(){function v(P){return T.call(v.src,v.listener,P)}const T=Kt;return v}function be(v,T,P,q,J){if(Array.isArray(T))for(var ie=0;ie<T.length;ie++)be(v,T[ie],P,q,J);else q=u(q)?!!q.capture:!!q,P=lr(P),v&&v[pe]?(v=v.i,ie=String(T).toString(),ie in v.g&&(T=v.g[ie],P=se(T,P,q,J),P>-1&&(W(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete v.g[ie],v.h--)))):v&&(v=Et(v))&&(T=v.g[T.toString()],v=-1,T&&(v=se(T,P,q,J)),(P=v>-1?T[v]:null)&&St(P))}function St(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[pe])je(T.i,v);else{var P=v.type,q=v.proxy;T.removeEventListener?T.removeEventListener(P,q,v.capture):T.detachEvent?T.detachEvent(We(P),q):T.addListener&&T.removeListener&&T.removeListener(q),(P=Et(T))?(je(P,v),P.h==0&&(P.src=null,T[we]=null)):W(v)}}}function We(v){return v in Ue?Ue[v]:Ue[v]="on"+v}function Kt(v,T){if(v.da)v=!0;else{T=new ce(T,this);const P=v.listener,q=v.ha||v.src;v.fa&&St(v),v=P.call(q,T)}return v}function Et(v){return v=v[we],v instanceof ge?v:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function lr(v){return typeof v=="function"?v:(v[tn]||(v[tn]=function(T){return v.handleEvent(T)}),v[tn])}function At(){z.call(this),this.i=new ge(this),this.M=this,this.G=null}g(At,z),At.prototype[pe]=!0,At.prototype.removeEventListener=function(v,T,P,q){be(this,v,T,P,q)};function Ut(v,T){var P,q=v.G;if(q)for(P=[];q;q=q.G)P.push(q);if(v=v.M,q=T.type||T,typeof T=="string")T=new k(T,v);else if(T instanceof k)T.target=T.target||v;else{var J=T;T=new k(q,v),ue(T,J)}J=!0;let ie,_e;if(P)for(_e=P.length-1;_e>=0;_e--)ie=T.g=P[_e],J=ui(ie,q,!0,T)&&J;if(ie=T.g=v,J=ui(ie,q,!0,T)&&J,J=ui(ie,q,!1,T)&&J,P)for(_e=0;_e<P.length;_e++)ie=T.g=P[_e],J=ui(ie,q,!1,T)&&J}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const P=v.g[T];for(let q=0;q<P.length;q++)W(P[q]);delete v.g[T],v.h--}}this.G=null},At.prototype.J=function(v,T,P,q){return this.i.add(String(v),T,!1,P,q)},At.prototype.K=function(v,T,P,q){return this.i.add(String(v),T,!0,P,q)};function ui(v,T,P,q){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let ie=0;ie<T.length;++ie){const _e=T[ie];if(_e&&!_e.da&&_e.capture==P){const Ge=_e.listener,fn=_e.ha||_e.src;_e.fa&&je(v.i,_e),J=Ge.call(fn,q)!==!1&&J}}return J&&!q.defaultPrevented}function Fa(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function na(v){v.g=Fa(()=>{v.g=null,v.i&&(v.i=!1,na(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class un extends z{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(v){z.call(this),this.h=v,this.g={}}g(Fr,z);var Mi=[];function Li(v){oe(v.g,function(T,P){this.g.hasOwnProperty(P)&&St(T)},v),v.g={}}Fr.prototype.N=function(){Fr.Z.N.call(this),Li(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=l.JSON.stringify,Gs=l.JSON.parse,ra=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function ia(){}function Ys(){}var xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dn(){k.call(this,"d")}g(dn,k);function cr(){k.call(this,"c")}g(cr,k);var Bt={},Ha=null;function aa(){return Ha=Ha||new At}Bt.Ia="serverreachability";function H(v){k.call(this,Bt.Ia,v)}g(H,k);function ye(v){const T=aa();Ut(T,new H(T))}Bt.STAT_EVENT="statevent";function Se(v,T){k.call(this,Bt.STAT_EVENT,v),this.stat=T}g(Se,k);function Le(v){const T=aa();Ut(T,new Se(T,v))}Bt.Ja="timingevent";function yt(v,T){k.call(this,Bt.Ja,v),this.size=T}g(yt,k);function Mt(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Kr(){this.g=!0}Kr.prototype.ua=function(){this.g=!1};function cd(v,T,P,q,J,ie){v.info(function(){if(v.g)if(ie){var _e="",Ge=ie.split("&");for(let ht=0;ht<Ge.length;ht++){var fn=Ge[ht].split("=");if(fn.length>1){const Gt=fn[0];fn=fn[1];const pi=Gt.split("_");_e=pi.length>=2&&pi[1]=="type"?_e+(Gt+"="+fn+"&"):_e+(Gt+"=redacted&")}}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+q+") [attempt "+J+"]: "+T+`
`+P+`
`+_e})}function gc(v,T,P,q,J,ie,_e){v.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+J+"]: "+T+`
`+P+`
`+ie+" "+_e})}function di(v,T,P,q){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+ud(v,P)+(q?" "+q:"")})}function Ka(v,T){v.info(function(){return"TIMEOUT: "+T})}Kr.prototype.info=function(){};function ud(v,T){if(!v.g)return T;if(!T)return null;try{const ie=JSON.parse(T);if(ie){for(v=0;v<ie.length;v++)if(Array.isArray(ie[v])){var P=ie[v];if(!(P.length<2)){var q=P[1];if(Array.isArray(q)&&!(q.length<1)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(let _e=1;_e<q.length;_e++)q[_e]=""}}}}return Hr(ie)}catch{return T}}var Qe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ir;function ol(){}g(ol,ia),ol.prototype.g=function(){return new XMLHttpRequest},Ir=new ol;function Ga(v){return encodeURIComponent(String(v))}function Wh(v){var T=1;v=v.split(":");const P=[];for(;T>0&&v.length;)P.push(v.shift()),T--;return v.length&&P.push(v.join(":")),P}function zi(v,T,P,q){this.j=v,this.i=T,this.l=P,this.S=q||1,this.V=new Fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var yn={},Un={};function sa(v,T,P){v.M=1,v.A=ll(xn(T)),v.u=P,v.R=!0,vc(v,null)}function vc(v,T){v.F=Date.now(),oa(v),v.B=xn(v.A);var P=v.B,q=v.S;Array.isArray(q)||(q=[String(q)]),_c(P.i,"t",q),v.C=0,P=v.j.L,v.h=new Vi,v.g=um(v.j,P?T:null,!v.u),v.P>0&&(v.O=new un(h(v.Y,v,v.g),v.P)),T=v.V,P=v.g,q=v.ba;var J="readystatechange";Array.isArray(J)||(J&&(Mi[0]=J.toString()),J=Mi);for(let ie=0;ie<J.length;ie++){const _e=le(P,J[ie],q||T.handleEvent,!1,T.h||T);if(!_e)break;T.g[_e.key]=_e}T=v.J?F(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),ye(),cd(v.i,v.v,v.B,v.l,v.S,v.u)}zi.prototype.ba=function(v){v=v.target;const T=this.O;T&&$i(v)==3?T.j():this.Y(v)},zi.prototype.Y=function(v){try{if(v==this.g)e:{const Ge=$i(this.g),fn=this.g.ya(),ht=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||Qn(this.g)))){this.K||Ge!=4||fn==7||(fn==8||ht<=0?ye(3):ye(2)),la(this);var T=this.g.ca();this.X=T;var P=Ky(this);if(this.o=T==200,gc(this.i,this.v,this.B,this.l,this.S,Ge,T),this.o){if(this.U&&!this.L){t:{if(this.g){var q,J=this.g;if((q=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(q)){var ie=q;break t}}ie=null}if(v=ie)di(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ca(this,v);else{this.o=!1,this.m=3,Le(12),Gr(this),fi(this);break e}}if(this.R){v=!0;let Gt;for(;!this.K&&this.C<P.length;)if(Gt=Qh(this,P),Gt==Un){Ge==4&&(this.m=4,Le(14),v=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==yn){this.m=4,Le(15),di(this.i,this.l,P,"[Invalid Chunk]"),v=!1;break}else di(this.i,this.l,Gt,null),ca(this,Gt);if(Xh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||P.length!=0||this.h.h||(this.m=1,Le(16),v=!1),this.o=this.o&&v,!v)di(this.i,this.l,P,"[Invalid Chunked Response]"),Gr(this),fi(this);else if(P.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Ad(_e),_e.P=!0,Le(11))}}else di(this.i,this.l,P,null),ca(this,P);Ge==4&&Gr(this),this.o&&!this.K&&(Ge==4?sm(this.j,this):(this.o=!1,oa(this)))}else Wa(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,Le(12)):(this.m=0,Le(13)),Gr(this),fi(this)}}}catch{}};function Ky(v){if(!Xh(v))return v.g.la();const T=Qn(v.g);if(T==="")return"";let P="";const q=T.length,J=$i(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Gr(v),fi(v),"";v.h.i=new l.TextDecoder}for(let ie=0;ie<q;ie++)v.h.h=!0,P+=v.h.i.decode(T[ie],{stream:!(J&&ie==q-1)});return T.length=0,v.h.g+=P,v.C=0,v.h.g}function Xh(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Qh(v,T){var P=v.C,q=T.indexOf(`
`,P);return q==-1?Un:(P=Number(T.substring(P,q)),isNaN(P)?yn:(q+=1,q+P>T.length?Un:(T=T.slice(q,q+P),v.C=q+P,T)))}zi.prototype.cancel=function(){this.K=!0,Gr(this)};function oa(v){v.T=Date.now()+v.H,yc(v,v.H)}function yc(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Mt(h(v.aa,v),T)}function la(v){v.D&&(l.clearTimeout(v.D),v.D=null)}zi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Ka(this.i,this.B),this.M!=2&&(ye(),Le(17)),Gr(this),this.m=2,fi(this)):yc(this,this.T-v)};function fi(v){v.j.I==0||v.K||sm(v.j,v)}function Gr(v){la(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,Li(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function ca(v,T){try{var P=v.j;if(P.I!=0&&(P.g==v||da(P.h,v))){if(!v.L&&da(P.h,v)&&P.I==3){try{var q=P.Ba.g.parse(T)}catch{q=null}if(Array.isArray(q)&&q.length==3){var J=q;if(J[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<v.F)Tc(P),no(P);else break e;pl(P),Le(18)}}else P.xa=J[1],0<P.xa-P.K&&J[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Mt(h(P.Va,P),6e3));ua(P.h)<=1&&P.ta&&(P.ta=void 0)}else va(P,11)}else if((v.L||P.g==v)&&Tc(P),!U(T))for(J=P.Ba.g.parse(T),T=0;T<J.length;T++){let ht=J[T];const Gt=ht[0];if(!(Gt<=P.K))if(P.K=Gt,ht=ht[1],P.I==2)if(ht[0]=="c"){P.M=ht[1],P.ba=ht[2];const pi=ht[3];pi!=null&&(P.ka=pi,P.j.info("VER="+P.ka));const ya=ht[4];ya!=null&&(P.za=ya,P.j.info("SVER="+P.za));const qi=ht[5];qi!=null&&typeof qi=="number"&&qi>0&&(q=1.5*qi,P.O=q,P.j.info("backChannelRequestTimeoutMs_="+q)),q=P;const Fi=v.g;if(Fi){const gl=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gl){var ie=q.h;ie.g||gl.indexOf("spdy")==-1&&gl.indexOf("quic")==-1&&gl.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(hd(ie,ie.h),ie.h=null))}if(q.G){const Nc=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(q.wa=Nc,bt(q.J,q.G,Nc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-v.F,P.j.info("Handshake RTT: "+P.T+"ms")),q=P;var _e=v;if(q.na=cm(q,q.L?q.ba:null,q.W),_e.L){md(q.h,_e);var Ge=_e,fn=q.O;fn&&(Ge.H=fn),Ge.D&&(la(Ge),oa(Ge)),q.g=_e}else im(q);P.i.length>0&&ga(P)}else ht[0]!="stop"&&ht[0]!="close"||va(P,7);else P.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?va(P,7):Sd(P):ht[0]!="noop"&&P.l&&P.l.qa(ht),P.A=0)}}ye(4)}catch{}}var bn=class{constructor(v,T){this.g=v,this.map=T}};function dd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ua(v){return v.h?1:v.g?v.g.size:0}function da(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function hd(v,T){v.g?v.g.add(T):v.h=T}function md(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}dd.prototype.cancel=function(){if(this.i=pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function pd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const P of v.g.values())T=T.concat(P.G);return T}return w(v.i)}var Zh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bc(v,T){if(v){v=v.split("&");for(let P=0;P<v.length;P++){const q=v[P].indexOf("=");let J,ie=null;q>=0?(J=v[P].substring(0,q),ie=v[P].substring(q+1)):J=v[P],T(J,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Yr(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof Yr?(this.l=v.l,Bn(this,v.j),this.o=v.o,this.g=v.g,Ws(this,v.u),this.h=v.h,gd(this,nm(v.i)),this.m=v.m):v&&(T=String(v).match(Zh))?(this.l=!1,Bn(this,T[1]||"",!0),this.o=fa(T[2]||""),this.g=fa(T[3]||"",!0),Ws(this,T[4]),this.h=fa(T[5]||"",!0),gd(this,T[6]||"",!0),this.m=fa(T[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}Yr.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(cl(T,xc,!0),":");var P=this.g;return(P||T=="file")&&(v.push("//"),(T=this.o)&&v.push(cl(T,xc,!0),"@"),v.push(Ga(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&v.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&v.push("/"),v.push(cl(P,P.charAt(0)=="/"?vd:Jh,!0))),(P=this.i.toString())&&v.push("?",P),(P=this.m)&&v.push("#",cl(P,em)),v.join("")},Yr.prototype.resolve=function(v){const T=xn(this);let P=!!v.j;P?Bn(T,v.j):P=!!v.o,P?T.o=v.o:P=!!v.g,P?T.g=v.g:P=v.u!=null;var q=v.h;if(P)Ws(T,v.u);else if(P=!!v.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var J=T.h.lastIndexOf("/");J!=-1&&(q=T.h.slice(0,J+1)+q)}if(J=q,J==".."||J==".")q="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){q=J.lastIndexOf("/",0)==0,J=J.split("/");const ie=[];for(let _e=0;_e<J.length;){const Ge=J[_e++];Ge=="."?q&&_e==J.length&&ie.push(""):Ge==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),q&&_e==J.length&&ie.push("")):(ie.push(Ge),q=!0)}q=ie.join("/")}else q=J}return P?T.h=q:P=v.i.toString()!=="",P?gd(T,nm(v.i)):P=!!v.m,P&&(T.m=v.m),T};function xn(v){return new Yr(v)}function Bn(v,T,P){v.j=P?fa(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function Ws(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function gd(v,T,P){T instanceof Qs?(v.i=T,wc(v.i,v.l)):(P||(T=cl(T,Xs)),v.i=new Qs(T,v.l))}function bt(v,T,P){v.i.set(T,P)}function ll(v){return bt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function fa(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function cl(v,T,P){return typeof v=="string"?(v=encodeURI(v).replace(T,Pr),P&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Pr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var xc=/[#\/\?@]/g,Jh=/[#\?:]/g,vd=/[#\?]/g,Xs=/[#\?@]/g,em=/#/g;function Qs(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Rr(v){v.g||(v.g=new Map,v.h=0,v.i&&bc(v.i,function(T,P){v.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=Qs.prototype,t.add=function(v,T){Rr(this),this.i=null,v=Zs(this,v);let P=this.g.get(v);return P||this.g.set(v,P=[]),P.push(T),this.h+=1,this};function tm(v,T){Rr(v),T=Zs(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function yd(v,T){return Rr(v),T=Zs(v,T),v.g.has(T)}t.forEach=function(v,T){Rr(this),this.g.forEach(function(P,q){P.forEach(function(J){v.call(T,J,q,this)},this)},this)};function bd(v,T){Rr(v);let P=[];if(typeof T=="string")yd(v,T)&&(P=P.concat(v.g.get(Zs(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)P=P.concat(v[T]);return P}t.set=function(v,T){return Rr(this),this.i=null,v=Zs(this,v),yd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=bd(this,v),v.length>0?String(v[0]):T):T};function _c(v,T,P){tm(v,T),P.length>0&&(v.i=null,v.g.set(Zs(v,T),w(P)),v.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let q=0;q<T.length;q++){var P=T[q];const J=Ga(P);P=bd(this,P);for(let ie=0;ie<P.length;ie++){let _e=J;P[ie]!==""&&(_e+="="+Ga(P[ie])),v.push(_e)}}return this.i=v.join("&")};function nm(v){const T=new Qs;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function Zs(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function wc(v,T){T&&!v.j&&(Rr(v),v.i=null,v.g.forEach(function(P,q){const J=q.toLowerCase();q!=J&&(tm(this,q),_c(this,J,P))},v)),v.j=T}function Ui(v,T){const P=new Kr;if(l.Image){const q=new Image;q.onload=p(hi,P,"TestLoadImage: loaded",!0,T,q),q.onerror=p(hi,P,"TestLoadImage: error",!1,T,q),q.onabort=p(hi,P,"TestLoadImage: abort",!1,T,q),q.ontimeout=p(hi,P,"TestLoadImage: timeout",!1,T,q),l.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=v}else T(!1)}function xd(v,T){const P=new Kr,q=new AbortController,J=setTimeout(()=>{q.abort(),hi(P,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:q.signal}).then(ie=>{clearTimeout(J),ie.ok?hi(P,"TestPingServer: ok",!0,T):hi(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),hi(P,"TestPingServer: error",!1,T)})}function hi(v,T,P,q,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),q(P)}catch{}}function Js(){this.g=new ra}function ha(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ha,ia),ha.prototype.g=function(){return new ul(this.i,this.h)};function ul(v,T){At.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(ul,At),t=ul.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,Bi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,eo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sc(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sc(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?eo(this):Bi(this),this.readyState==3&&Sc(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,eo(this))},t.Na=function(v){this.g&&(this.response=v,eo(this))},t.ga=function(){this.g&&eo(this)};function eo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Bi(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,v.push(P[0]+": "+P[1]),P=T.next();return v.join(`\r
`)};function Bi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function mi(v){let T="";return oe(v,function(P,q){T+=q,T+=":",T+=P,T+=`\r
`}),T}function dl(v,T,P){e:{for(q in P){var q=!1;break e}q=!0}q||(P=mi(P),typeof v=="string"?P!=null&&Ga(P):bt(v,T,P))}function Tt(v){At.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Tt,At);var ma=/^https?$/i,_d=["POST","PUT"];t=Tt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,P,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ir.g(),this.g.onreadystatechange=b(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(ie){fl(this,ie);return}if(v=P||"",P=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var J in q)P.set(J,q[J]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ie of q.keys())P.set(ie,q.get(ie));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(P.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(_d,T,void 0)>=0)||q||J||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of P)this.g.setRequestHeader(ie,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ie){fl(this,ie)}};function fl(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,wd(v),Ya(v)}function wd(v){v.A||(v.A=!0,Ut(v,"complete"),Ut(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Ut(this,"complete"),Ut(this,"abort"),Ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?hl(this):this.Xa())},t.Xa=function(){hl(this)};function hl(v){if(v.h&&typeof s<"u"){if(v.v&&$i(v)==4)setTimeout(v.Ca.bind(v),0);else if(Ut(v,"readystatechange"),$i(v)==4){v.h=!1;try{const ie=v.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var q;if(q=ie===0){let _e=String(v.D).match(Zh)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),q=!ma.test(_e?_e.toLowerCase():"")}P=q}if(P)Ut(v,"complete"),Ut(v,"success");else{v.o=6;try{var J=$i(v)>2?v.g.statusText:""}catch{J=""}v.l=J+" ["+v.ca()+"]",wd(v)}}finally{Ya(v)}}}}function Ya(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const P=v.g;v.g=null,T||Ut(v,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $i(v){return v.g?v.g.readyState:0}t.ca=function(){try{return $i(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),Gs(T)}};function Qn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Wa(v){const T={};v=(v.g&&$i(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<v.length;q++){if(U(v[q]))continue;var P=Wh(v[q]);const J=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ie=T[J]||[];T[J]=ie,ie.push(P)}xe(T,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(v,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[v]||T}function to(v){this.za=0,this.i=[],this.j=new Kr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pa("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pa("baseRetryDelayMs",5e3,v),this.Za=pa("retryDelaySeedMs",1e4,v),this.Ta=pa("forwardChannelMaxRetries",2,v),this.va=pa("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new dd(v&&v.concurrentRequestLimit),this.Ba=new Js,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=to.prototype,t.ka=8,t.I=1,t.connect=function(v,T,P,q){Le(0),this.W=v,this.H=T||{},P&&q!==void 0&&(this.H.OSID=P,this.H.OAID=q),this.F=this.X,this.J=cm(this,null,this.W),ga(this)};function Sd(v){if(Ec(v),v.I==3){var T=v.V++,P=xn(v.J);if(bt(P,"SID",v.M),bt(P,"RID",T),bt(P,"TYPE","terminate"),ml(v,P),T=new zi(v,v.j,T),T.M=2,T.A=ll(xn(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&l.Image&&(new Image().src=T.A,P=!0),P||(T.g=um(T.j,null),T.g.ea(T.A)),T.F=Date.now(),oa(T)}lm(v)}function no(v){v.g&&(Ad(v),v.g.cancel(),v.g=null)}function Ec(v){no(v),v.v&&(l.clearTimeout(v.v),v.v=null),Tc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function ga(v){if(!fd(v.h)&&!v.m){v.m=!0;var T=v.Ea;D||j(),L||(D(),L=!0),N.add(T,v),v.D=0}}function Ac(v,T){return ua(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Mt(h(v.Ea,v,T),om(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const J=new zi(this,this.j,v);let ie=this.o;if(this.U&&(ie?(ie=F(ie),ue(ie,this.U)):ie=this.U),this.u!==null||this.R||(J.J=ie,ie=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var q=this.i[P];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(T+=q,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=rm(this,J,T),P=xn(this.J),bt(P,"RID",v),bt(P,"CVER",22),this.G&&bt(P,"X-HTTP-Session-Id",this.G),ml(this,P),ie&&(this.R?T="headers="+Ga(mi(ie))+"&"+T:this.u&&dl(P,this.u,ie)),hd(this.h,J),this.Ra&&bt(P,"TYPE","init"),this.S?(bt(P,"$req",T),bt(P,"SID","null"),J.U=!0,sa(J,P,null)):sa(J,P,T),this.I=2}}else this.I==3&&(v?Ed(this,v):this.i.length==0||fd(this.h)||Ed(this))};function Ed(v,T){var P;T?P=T.l:P=v.V++;const q=xn(v.J);bt(q,"SID",v.M),bt(q,"RID",P),bt(q,"AID",v.K),ml(v,q),v.u&&v.o&&dl(q,v.u,v.o),P=new zi(v,v.j,P,v.D+1),v.u===null&&(P.J=v.o),T&&(v.i=T.G.concat(v.i)),T=rm(v,P,1e3),P.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),hd(v.h,P),sa(P,q,T)}function ml(v,T){v.H&&oe(v.H,function(P,q){bt(T,q,P)}),v.l&&oe({},function(P,q){bt(T,q,P)})}function rm(v,T,P){P=Math.min(v.i.length,P);const q=v.l?h(v.l.Ka,v.l,v):null;e:{var J=v.i;let Ge=-1;for(;;){const fn=["count="+P];Ge==-1?P>0?(Ge=J[0].g,fn.push("ofs="+Ge)):Ge=0:fn.push("ofs="+Ge);let ht=!0;for(let Gt=0;Gt<P;Gt++){var ie=J[Gt].g;const pi=J[Gt].map;if(ie-=Ge,ie<0)Ge=Math.max(0,J[Gt].g-100),ht=!1;else try{ie="req"+ie+"_"||"";try{var _e=pi instanceof Map?pi:Object.entries(pi);for(const[ya,qi]of _e){let Fi=qi;u(qi)&&(Fi=Hr(qi)),fn.push(ie+ya+"="+encodeURIComponent(Fi))}}catch(ya){throw fn.push(ie+"type="+encodeURIComponent("_badmap")),ya}}catch{q&&q(pi)}}if(ht){_e=fn.join("&");break e}}_e=void 0}return v=v.i.splice(0,P),T.G=v,_e}function im(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;D||j(),L||(D(),L=!0),N.add(T,v),v.A=0}}function pl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Mt(h(v.Da,v),om(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,am(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Mt(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Le(10),no(this),am(this))};function Ad(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function am(v){v.g=new zi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=xn(v.na);bt(T,"RID","rpc"),bt(T,"SID",v.M),bt(T,"AID",v.K),bt(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&bt(T,"TO",v.ia),bt(T,"TYPE","xmlhttp"),ml(v,T),v.u&&v.o&&dl(T,v.u,v.o),v.O&&(v.g.H=v.O);var P=v.g;v=v.ba,P.M=1,P.A=ll(xn(T)),P.u=null,P.R=!0,vc(P,v)}t.Va=function(){this.C!=null&&(this.C=null,no(this),pl(this),Le(19))};function Tc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function sm(v,T){var P=null;if(v.g==T){Tc(v),Ad(v),v.g=null;var q=2}else if(da(v.h,T))P=T.G,md(v.h,T),q=1;else return;if(v.I!=0){if(T.o)if(q==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var J=v.D;q=aa(),Ut(q,new yt(q,P)),ga(v)}else im(v);else if(J=T.m,J==3||J==0&&T.X>0||!(q==1&&Ac(v,T)||q==2&&pl(v)))switch(P&&P.length>0&&(T=v.h,T.i=T.i.concat(P)),J){case 1:va(v,5);break;case 4:va(v,10);break;case 3:va(v,6);break;default:va(v,2)}}}function om(v,T){let P=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(P*=2),P*T}function va(v,T){if(v.j.info("Error code "+T),T==2){var P=h(v.bb,v),q=v.Ua;const J=!q;q=new Yr(q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Bn(q,"https"),ll(q),J?Ui(q.toString(),P):xd(q.toString(),P)}else Le(2);v.I=0,v.l&&v.l.pa(T),lm(v),Ec(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function lm(v){if(v.I=0,v.ja=[],v.l){const T=pd(v.h);(T.length!=0||v.i.length!=0)&&(A(v.ja,T),A(v.ja,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.oa()}}function cm(v,T,P){var q=P instanceof Yr?xn(P):new Yr(P);if(q.g!="")T&&(q.g=T+"."+q.g),Ws(q,q.u);else{var J=l.location;q=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const ie=new Yr(null);q&&Bn(ie,q),T&&(ie.g=T),J&&Ws(ie,J),P&&(ie.h=P),q=ie}return P=v.G,T=v.wa,P&&T&&bt(q,P,T),bt(q,"VER",v.ka),ml(v,q),q}function um(v,T,P){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new Tt(new ha({ab:P})):new Tt(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dm(){}t=dm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ro(){}ro.prototype.g=function(v,T){return new _r(v,T)};function _r(v,T){At.call(this),this.g=new to(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!U(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!U(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new Xa(this)}g(_r,At),_r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){Sd(this.g)},_r.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var P={};P.__data__=v,v=P}else this.v&&(P={},P.__data__=Hr(v),v=P);T.i.push(new bn(T.Ya++,v)),T.I==3&&ga(T)},_r.prototype.N=function(){this.g.l=null,delete this.j,Sd(this.g),delete this.g,_r.Z.N.call(this)};function fm(v){dn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const P in T){v=P;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(fm,dn);function hm(){cr.call(this),this.status=1}g(hm,cr);function Xa(v){this.g=v}g(Xa,dm),Xa.prototype.ra=function(){Ut(this.g,"a")},Xa.prototype.qa=function(v){Ut(this.g,new fm(v))},Xa.prototype.pa=function(v){Ut(this.g,new hm)},Xa.prototype.oa=function(){Ut(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,xD=function(){return new ro},bD=function(){return aa()},yD=Bt,Y1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,Hp=Qe,Zt.COMPLETE="complete",vD=Zt,Ys.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",At.prototype.listen=At.prototype.J,bf=Ys,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,gD=Tt}).apply(typeof yp<"u"?yp:typeof self<"u"?self:typeof window<"u"?window:{});const Sj="@firebase/firestore",Ej="4.9.3";let hr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let Ku="12.7.0";const Zl=new pw("@firebase/firestore");function su(){return Zl.logLevel}function Te(t,...e){if(Zl.logLevel<=rt.DEBUG){const n=e.map(Tw);Zl.debug(`Firestore (${Ku}): ${t}`,...n)}}function Ns(t,...e){if(Zl.logLevel<=rt.ERROR){const n=e.map(Tw);Zl.error(`Firestore (${Ku}): ${t}`,...n)}}function Eu(t,...e){if(Zl.logLevel<=rt.WARN){const n=e.map(Tw);Zl.warn(`Firestore (${Ku}): ${t}`,...n)}}function Tw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_D(t,r,n)}function _D(t,e,n){let r=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ns(r),new Error(r)}function vt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_D(e,i,r)}function Ke(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hr.UNAUTHENTICATED)))}shutdown(){}}class WB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XB{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xs,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new wD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new hr(e)}}class QB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Aj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Aj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Aj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function e7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Nw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=e7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function W1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Jb(i)===Jb(s)?it(i,s):Jb(i)?1:-1}return it(t.length,e.length)}const t7=55296,n7=57343;function Jb(t){const e=t.charCodeAt(0);return e>=t7&&e<=n7}function Au(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const Tj="__name__";class Ea{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ea?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ea.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return it(e.length,n.length)}static compareSegments(e,n){const r=Ea.isNumericId(e),i=Ea.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ea.extractNumericId(e).compare(Ea.extractNumericId(n)):W1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $o.fromString(e.substring(4,e.length-2))}}class zt extends Ea{construct(e,n,r){return new zt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new zt(n)}static emptyPath(){return new zt([])}}const r7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Ea{construct(e,n,r){return new sr(e,n,r)}static isValidIdentifier(e){return r7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tj}static keyField(){return new sr([Tj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ee(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ee(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Ee(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(n)}static emptyPath(){return new sr([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(zt.fromString(e))}static fromName(e){return new De(zt.fromString(e).popFirst(5))}static empty(){return new De(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new zt(e.slice()))}}function SD(t,e,n){if(!n)throw new Ee(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i7(t,e,n,r){if(e===!0&&r===!0)throw new Ee(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nj(t){if(!De.isDocumentKey(t))throw new Ee(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jj(t){if(De.isDocumentKey(t))throw new Ee(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ED(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Av(t);throw new Ee(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function a7(t,e){if(e<=0)throw new Ee(fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function mh(t,e){if(!ED(t))throw new Ee(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ee(fe.INVALID_ARGUMENT,n);return!0}const Cj=-62135596800,Oj=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Oj);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cj)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oj}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mh(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:jn("string",Rt._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Rt(0,0))}static max(){return new Fe(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Df=-1;function s7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Ho(i,De.empty(),e)}function o7(t){return new Ho(t.readTime,t.key,Df)}class Ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ho(Fe.min(),De.empty(),Df)}static max(){return new Ho(Fe.max(),De.empty(),Df)}}function l7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}const c7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gu(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==c7)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;n(e[h]).next((p=>{l[h]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function d7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yu(t){return t.name==="IndexedDbTransactionError"}class Tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tv.ce=-1;const jw=-1;function Nv(t){return t==null}function dg(t){return t===0&&1/t==-1/0}function f7(t){return typeof t=="number"&&Number.isInteger(t)&&!dg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const AD="";function h7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ij(e)),e=m7(t.get(n),e);return Ij(e)}function m7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case AD:n+="";break;default:n+=s}}return n}function Ij(t){return t+AD+""}function Pj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Jt{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bp(this.root,e,this.comparator,!0)}}class bp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=s??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ar(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rj(this.data.getIterator())}getIteratorFrom(e){return new Rj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class Rj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new si([])}unionWith(e){let n=new kn(sr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Au(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class ND extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ND("Invalid base64 string: "+s):s}})(e);return new or(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const p7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ko(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=p7.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}const jD="server_timestamp",CD="__type__",OD="__previous_value__",ID="__local_write_time__";function Cw(t){return(t?.mapValue?.fields||{})[CD]?.stringValue===jD}function jv(t){const e=t.mapValue.fields[OD];return Cw(e)?jv(e):e}function Mf(t){const e=Ko(t.mapValue.fields[ID].timestampValue);return new Rt(e.seconds,e.nanos)}class g7{constructor(e,n,r,i,s,l,u,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const fg="(default)";class Lf{constructor(e,n){this.projectId=e,this.database=n||fg}static empty(){return new Lf("","")}get isDefaultDatabase(){return this.database===fg}isEqual(e){return e instanceof Lf&&e.projectId===this.projectId&&e.database===this.database}}const PD="__type__",v7="__max__",xp={mapValue:{}},RD="__vector__",hg="value";function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cw(t)?4:b7(t)?9007199254740991:y7(t)?10:11:Ve(28295,{value:t})}function ka(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mf(t).isEqual(Mf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Ko(i.timestampValue),u=Ko(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Go(i.bytesValue).isEqual(Go(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return gn(i.geoPointValue.latitude)===gn(s.geoPointValue.latitude)&&gn(i.geoPointValue.longitude)===gn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return gn(i.integerValue)===gn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=gn(i.doubleValue),u=gn(s.doubleValue);return l===u?dg(l)===dg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Au(t.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Pj(l)!==Pj(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!ka(l[d],u[d])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function zf(t,e){return(t.values||[]).find((n=>ka(n,e)))!==void 0}function Tu(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=gn(s.integerValue||s.doubleValue),d=gn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return kj(t.timestampValue,e.timestampValue);case 4:return kj(Mf(t),Mf(e));case 5:return W1(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=Go(s),d=Go(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=it(u[h],d[h]);if(p!==0)return p}return it(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=it(gn(s.latitude),gn(l.latitude));return u!==0?u:it(gn(s.longitude),gn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Dj(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},h=u[hg]?.arrayValue,p=d[hg]?.arrayValue,g=it(h?.values?.length||0,p?.values?.length||0);return g!==0?g:Dj(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===xp.mapValue&&l===xp.mapValue)return 0;if(s===xp.mapValue)return 1;if(l===xp.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=W1(d[g],p[g]);if(b!==0)return b;const w=Tu(u[d[g]],h[p[g]]);if(w!==0)return w}return it(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function kj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=Ko(t),r=Ko(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function Dj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Tu(n[i],r[i]);if(s)return s}return it(n.length,r.length)}function Nu(t){return X1(t)}function X1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ko(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=X1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${X1(n.fields[l])}`;return i+"}"})(t.mapValue):Ve(61005,{value:t})}function Kp(t){switch(Yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jv(t);return e?16+Kp(e):16;case 5:return 2*t.stringValue.length;case 6:return Go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Kp(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return tl(r.fields,((s,l)=>{i+=s.length+Kp(l)})),i})(t.mapValue);default:throw Ve(13486,{value:t})}}function Mj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Q1(t){return!!t&&"integerValue"in t}function Ow(t){return!!t&&"arrayValue"in t}function Lj(t){return!!t&&"nullValue"in t}function zj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gp(t){return!!t&&"mapValue"in t}function y7(t){return(t?.mapValue?.fields||{})[PD]?.stringValue===RD}function Nf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return tl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Nf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nf(t.arrayValue.values[n]);return e}return{...t}}function b7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===v7}class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nf(n)}setAll(e){let n=sr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Nf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){tl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ur(Nf(this.value))}}function kD(t){const e=[];return tl(t.fields,((n,r)=>{const i=new sr([n]);if(Gp(r)){const s=kD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new si(e)}class mr{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new mr(e,0,Fe.min(),Fe.min(),Fe.min(),Ur.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,Fe.min(),Fe.min(),Ur.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Fe.min(),Fe.min(),Ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mg{constructor(e,n){this.position=e,this.inclusive=n}}function Vj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=Tu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ka(t.position[n],e.position[n]))return!1;return!0}class Vf{constructor(e,n="asc"){this.field=e,this.dir=n}}function x7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class DD{}class Nn extends DD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w7(e,n,r):n==="array-contains"?new A7(e,r):n==="in"?new T7(e,r):n==="not-in"?new N7(e,r):n==="array-contains-any"?new j7(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S7(e,r):new E7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tu(n,this.value)):n!==null&&Yo(this.value)===Yo(n)&&this.matchesComparison(Tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends DD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ji(e,n)}matches(e){return MD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MD(t){return t.op==="and"}function LD(t){return _7(t)&&MD(t)}function _7(t){for(const e of t.filters)if(e instanceof Ji)return!1;return!0}function Z1(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+Nu(t.value);if(LD(t))return t.filters.map((e=>Z1(e))).join(",");{const e=t.filters.map((n=>Z1(n))).join(",");return`${t.op}(${e})`}}function zD(t,e){return t instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&ka(r.value,i.value)})(t,e):t instanceof Ji?(function(r,i){return i instanceof Ji&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&zD(l,i.filters[u])),!0):!1})(t,e):void Ve(19439)}function VD(t){return t instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nu(n.value)}`})(t):t instanceof Ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(VD).join(" ,")+"}"})(t):"Filter"}class w7 extends Nn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class S7 extends Nn{constructor(e,n){super(e,"in",n),this.keys=UD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class E7 extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=UD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function UD(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class A7 extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ow(n)&&zf(n.arrayValue,this.value)}}class T7 extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zf(this.value.arrayValue,n)}}class N7 extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zf(this.value.arrayValue,n)}}class j7 extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>zf(this.value.arrayValue,r)))}}class C7{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function Bj(t,e=null,n=[],r=[],i=null,s=null,l=null){return new C7(t,e,n,r,i,s,l)}function Iw(t){const e=Ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Z1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Nv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Nu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Nu(r))).join(",")),e.Te=n}return e.Te}function Pw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uj(t.startAt,e.startAt)&&Uj(t.endAt,e.endAt)}function J1(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Wu{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O7(t,e,n,r,i,s,l,u){return new Wu(t,e,n,r,i,s,l,u)}function Cv(t){return new Wu(t)}function $j(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BD(t){return t.collectionGroup!==null}function jf(t){const e=Ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new kn(sr.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Vf(s,r))})),n.has(sr.keyField().canonicalString())||e.Ie.push(new Vf(sr.keyField(),r))}return e.Ie}function Ca(t){const e=Ke(t);return e.Ee||(e.Ee=I7(e,jf(t))),e.Ee}function I7(t,e){if(t.limitType==="F")return Bj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Vf(i.field,s)}));const n=t.endAt?new mg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mg(t.startAt.position,t.startAt.inclusive):null;return Bj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function e_(t,e){const n=t.filters.concat([e]);return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pg(t,e,n){return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ov(t,e){return Pw(Ca(t),Ca(e))&&t.limitType===e.limitType}function $D(t){return`${Iw(Ca(t))}|lt:${t.limitType}`}function ou(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>VD(i))).join(", ")}]`),Nv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Nu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Nu(i))).join(",")),`Target(${r})`})(Ca(t))}; limitType=${t.limitType})`}function Iv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):De.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of jf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const h=Vj(l,u,d);return l.inclusive?h<=0:h<0})(r.startAt,jf(r),i)||r.endAt&&!(function(l,u,d){const h=Vj(l,u,d);return l.inclusive?h>=0:h>0})(r.endAt,jf(r),i))})(t,e)}function P7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qD(t){return(e,n)=>{let r=!1;for(const i of jf(t)){const s=R7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R7(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Tu(d,h):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}class dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return TD(this.inner)}size(){return this.innerSize}}const k7=new Jt(De.comparator);function js(){return k7}const FD=new Jt(De.comparator);function xf(...t){let e=FD;for(const n of t)e=e.insert(n.key,n);return e}function HD(t){let e=FD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ml(){return Cf()}function KD(){return Cf()}function Cf(){return new dc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const D7=new Jt(De.comparator),M7=new kn(De.comparator);function at(...t){let e=M7;for(const n of t)e=e.add(n);return e}const L7=new kn(it);function z7(){return L7}function Rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dg(e)?"-0":e}}function GD(t){return{integerValue:""+t}}function V7(t,e){return f7(e)?GD(e):Rw(t,e)}class Pv{constructor(){this._=void 0}}function U7(t,e,n){return t instanceof Uf?(function(i,s){const l={fields:{[CD]:{stringValue:jD},[ID]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cw(s)&&(s=jv(s)),s&&(l.fields[OD]=s),{mapValue:l}})(n,e):t instanceof Bf?WD(t,e):t instanceof $f?XD(t,e):(function(i,s){const l=YD(i,s),u=qj(l)+qj(i.Ae);return Q1(l)&&Q1(i.Ae)?GD(u):Rw(i.serializer,u)})(t,e)}function B7(t,e,n){return t instanceof Bf?WD(t,e):t instanceof $f?XD(t,e):n}function YD(t,e){return t instanceof gg?(function(r){return Q1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Uf extends Pv{}class Bf extends Pv{constructor(e){super(),this.elements=e}}function WD(t,e){const n=QD(e);for(const r of t.elements)n.some((i=>ka(i,r)))||n.push(r);return{arrayValue:{values:n}}}class $f extends Pv{constructor(e){super(),this.elements=e}}function XD(t,e){let n=QD(e);for(const r of t.elements)n=n.filter((i=>!ka(i,r)));return{arrayValue:{values:n}}}class gg extends Pv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qj(t){return gn(t.integerValue||t.doubleValue)}function QD(t){return Ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class $7{constructor(e,n){this.field=e,this.transform=n}}function q7(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Bf&&i instanceof Bf||r instanceof $f&&i instanceof $f?Au(r.elements,i.elements,ka):r instanceof gg&&i instanceof gg?ka(r.Ae,i.Ae):r instanceof Uf&&i instanceof Uf})(t.transform,e.transform)}class F7{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rv{}function ZD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kv(t.key,Tr.none()):new ph(t.key,t.data,Tr.none());{const n=t.data,r=Ur.empty();let i=new kn(sr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new nl(t.key,r,new si(i.toArray()),Tr.none())}}function H7(t,e,n){t instanceof ph?(function(i,s,l){const u=i.value.clone(),d=Hj(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof nl?(function(i,s,l){if(!Yp(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=Hj(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(JD(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Of(t,e,n,r){return t instanceof ph?(function(s,l,u,d){if(!Yp(s.precondition,l))return u;const h=s.value.clone(),p=Kj(s.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof nl?(function(s,l,u,d){if(!Yp(s.precondition,l))return u;const h=Kj(s.fieldTransforms,d,l),p=l.data;return p.setAll(JD(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return Yp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function K7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YD(r.transform,i||null);s!=null&&(n===null&&(n=Ur.empty()),n.set(r.field,s))}return n||null}function Fj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Au(r,i,((s,l)=>q7(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ph extends Rv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nl extends Rv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Hj(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,B7(l,u,n[i]))}return r}function Kj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,U7(s,l,e))}return r}class kv extends Rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G7 extends Rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&H7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Of(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Of(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KD();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const d=ZD(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,((n,r)=>Fj(n,r)))&&Au(this.baseMutations,e.baseMutations,((n,r)=>Fj(n,r)))}}class kw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return D7})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new kw(e,n,r,i)}}class W7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class X7{constructor(e,n){this.count=e,this.unchangedNames=n}}var An,ot;function Q7(t){switch(t){case fe.OK:return Ve(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function eM(t){if(t===void 0)return Ns("GRPC error has no .code"),fe.UNKNOWN;switch(t){case An.OK:return fe.OK;case An.CANCELLED:return fe.CANCELLED;case An.UNKNOWN:return fe.UNKNOWN;case An.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case An.INTERNAL:return fe.INTERNAL;case An.UNAVAILABLE:return fe.UNAVAILABLE;case An.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case An.NOT_FOUND:return fe.NOT_FOUND;case An.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case An.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case An.ABORTED:return fe.ABORTED;case An.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case An.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case An.DATA_LOSS:return fe.DATA_LOSS;default:return Ve(39323,{code:t})}}(ot=An||(An={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function Z7(){return new TextEncoder}const J7=new $o([4294967295,4294967295],0);function Gj(t){const e=Z7().encode(t),n=new pD;return n.update(e),new Uint8Array(n.digest())}function Yj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $o([n,r],0),new $o([i,s],0)]}class Dw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _f(`Invalid padding: ${n}`);if(r<0)throw new _f(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _f(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _f(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$o.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply($o.fromNumber(r)));return i.compare(J7)===1&&(i=new $o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Gj(e),[r,i]=Yj(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Dw(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Gj(e),[r,i]=Yj(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dv(Fe.min(),i,new Jt(it),js(),at())}}class gh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gh(r,n,at(),at(),at())}}class Wp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class tM{constructor(e,n){this.targetId=e,this.Ce=n}}class nM{constructor(e,n,r=or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Wj{constructor(){this.ve=0,this.Fe=Xj(),this.Me=or.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),r=at();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:s})}})),new gh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Xj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class e${constructor(e){this.Ge=e,this.ze=new Map,this.je=js(),this.Je=_p(),this.He=_p(),this.Ye=new Jt(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(J1(s))if(r===0){const l=new De(s.path);this.et(n,l,mr.newNoDocument(l,Fe.min()))}else vt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=Go(r).toUint8Array()}catch(d){if(d instanceof ND)return Eu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Dw(l,i,s)}catch(d){return Eu(d instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&J1(u.target)){const d=new De(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,mr.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=at();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Dv(e,n,this.Ye,this.je,r);return this.je=js(),this.Je=_p(),this.He=_p(),this.Ye=new Jt(it),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Wj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kn(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kn(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wj),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _p(){return new Jt(De.comparator)}function Xj(){return new Jt(De.comparator)}const t$={asc:"ASCENDING",desc:"DESCENDING"},n$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r$={and:"AND",or:"OR"};class i${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function t_(t,e){return t.useProto3Json||Nv(e)?e:{value:e}}function vg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a$(t,e){return vg(t,e.toTimestamp())}function Oa(t){return vt(!!t,49232),Fe.fromTimestamp((function(n){const r=Ko(n);return new Rt(r.seconds,r.nanos)})(t))}function Mw(t,e){return n_(t,e).canonicalString()}function n_(t,e){const n=(function(i){return new zt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function iM(t){const e=zt.fromString(t);return vt(cM(e),10190,{key:e.toString()}),e}function r_(t,e){return Mw(t.databaseId,e.path)}function ex(t,e){const n=iM(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(sM(n))}function aM(t,e){return Mw(t.databaseId,e)}function s$(t){const e=iM(t);return e.length===4?zt.emptyPath():sM(e)}function i_(t){return new zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sM(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Qj(t,e,n){return{name:r_(t,e),fields:n.value.mapValue.fields}}function o$(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ve(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(vt(p===void 0||typeof p=="string",58123),or.fromBase64String(p||"")):(vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),or.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?fe.UNKNOWN:eM(h.code);return new Ee(p,h.message||"")})(l);n=new nM(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ex(t,r.document.name),s=Oa(r.document.updateTime),l=r.document.createTime?Oa(r.document.createTime):Fe.min(),u=new Ur({mapValue:{fields:r.document.fields}}),d=mr.newFoundDocument(i,s,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Wp(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ex(t,r.document),s=r.readTime?Oa(r.readTime):Fe.min(),l=mr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Wp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ex(t,r.document),s=r.removedTargetIds||[];n=new Wp([],s,i,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new X7(i,s),u=r.targetId;n=new tM(u,l)}}return n}function l$(t,e){let n;if(e instanceof ph)n={update:Qj(t,e.key,e.value)};else if(e instanceof kv)n={delete:r_(t,e.key)};else if(e instanceof nl)n={update:Qj(t,e.key,e.data),updateMask:v$(e.fieldMask)};else{if(!(e instanceof G7))return Ve(16599,{Vt:e.type});n={verify:r_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Uf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Bf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $f)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ve(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:a$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ve(27497)})(t,e.precondition)),n}function c$(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Oa(i.updateTime):Oa(s);return l.isEqual(Fe.min())&&(l=Oa(s)),new F7(l,i.transformResults||[])})(n,e)))):[]}function u$(t,e){return{documents:[aM(t,e.path)]}}function d$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aM(t,i);const s=(function(h){if(h.length!==0)return lM(Ji.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(b){return{field:lu(b.field),direction:m$(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=t_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function f$(t){let e=s$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=oM(g);return b instanceof Ji&&LD(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(A){return new Vf(cu(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,Nv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,w=g.values||[];return new mg(w,b)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const b=!g.before,w=g.values||[];return new mg(w,b)})(n.endAt)),O7(e,i,l,s,u,"F",d,h)}function h$(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cu(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(n.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cu(n.unaryFilter.field);return Nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=cu(n.unaryFilter.field);return Nn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Nn.create(cu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ji.create(n.compositeFilter.filters.map((r=>oM(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function m$(t){return t$[t]}function p$(t){return n$[t]}function g$(t){return r$[t]}function lu(t){return{fieldPath:t.canonicalString()}}function cu(t){return sr.fromServerFormat(t.fieldPath)}function lM(t){return t instanceof Nn?(function(n){if(n.op==="=="){if(zj(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NAN"}};if(Lj(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zj(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NAN"}};if(Lj(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(n.field),op:p$(n.op),value:n.value}}})(t):t instanceof Ji?(function(n){const r=n.getFilters().map((i=>lM(i)));return r.length===1?r[0]:{compositeFilter:{op:g$(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function v$(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Lo{constructor(e,n,r,i,s=Fe.min(),l=Fe.min(),u=or.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y${constructor(e){this.yt=e}}function b$(t){const e=f$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}class x${constructor(){this.Cn=new _$}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Ho.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class _${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kn(zt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(zt.comparator)).toArray()}}const Zj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uM=41943040;class Vr{static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(uM,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);class ju{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ju(0)}static cr(){return new ju(-1)}}const Jj="LruGarbageCollector",w$=1048576;function eC([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class S${constructor(e){this.Ir=e,this.buffer=new kn(eC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(Jj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yu(n)?Te(Jj,"Ignoring IndexedDB error during garbage collection: ",n):await Gu(n)}await this.Vr(3e5)}))}}class A${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Tv.ce);const r=new S$(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(Zj)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zj):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),su()<=rt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function T$(t,e){return new A$(t,e)}class N${constructor(){this.changes=new dc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class j${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class C${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Of(r.mutation,i,si.empty(),Rt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const i=Ml();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=xf();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ml();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=js();const l=Cf(),u=(function(){return Cf()})();return n.forEach(((d,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof nl)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Of(p.mutation,h,p.mutation.getFieldMask(),Rt.now())):l.set(h.key,si.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new j$(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Cf();let i=new Jt(((l,u)=>l-u)),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||si.empty();p=u.applyToLocalView(h,p),r.set(d,p);const g=(i.get(u.batchId)||at()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=KD();p.forEach((b=>{if(!s.has(b)){const w=ZD(n.get(b),r.get(b));w!==null&&g.set(b,w),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ve.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(Ml());let u=Df,d=s;return l.next((h=>ve.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?ve.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,at()))).next((p=>({batchId:u,changes:HD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let i=xf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=xf();return this.indexManager.getCollectionParents(e,s).next((u=>ve.forEach(u,(d=>{const h=(function(g,b){return new Wu(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,mr.newInvalidDocument(p)))}));let u=xf();return l.forEach(((d,h)=>{const p=s.get(d);p!==void 0&&Of(p.mutation,h,si.empty(),Rt.now()),Iv(n,h)&&(u=u.insert(d,h))})),u}))}}class O${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Oa(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:b$(i.bundledQuery),readTime:Oa(i.readTime)}})(n)),ve.resolve()}}class I${constructor(){this.overlays=new Jt(De.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ml();return ve.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Ml(),s=n.length+1,l=new De(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Jt(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Ml(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Ml(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return ve.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new W7(n,r));let s=this.qr.get(n);s===void 0&&(s=at(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class P${constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}class Lw{constructor(){this.Qr=new kn(Kn.$r),this.Ur=new kn(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new zt([])),r=new Kn(n,e),i=new Kn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new zt([])),r=new Kn(n,e),i=new Kn(n,e+1);let s=at();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Kn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}class R${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kn(Kn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Y7(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Kn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?jw:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(it);return n.forEach((i=>{const s=new Kn(i,0),l=new Kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;De.isDocumentKey(s)||(s=s.child(""));const l=new Kn(new De(s),0);let u=new kn(it);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Yr)),!0)}),l),ve.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const s=new Kn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kn(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class k${constructor(e){this.ri=e,this.docs=(function(){return new Jt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=js();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mr.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=js();const l=n.path,u=new De(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||l7(o7(p),r)<=0||(i.has(p.key)||Iv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ve(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new D$(this)}getSize(e){return ve.resolve(this.size)}}class D$ extends N${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class M${constructor(e){this.persistence=e,this.si=new dc((n=>Iw(n)),Pw),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Lw,this.targetCount=0,this.ai=ju.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ju(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ve.waitFor(s).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}class dM{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tv(0),this.li=!1,this.li=!0,this.hi=new P$,this.referenceDelegate=e(this),this.Pi=new M$(this),this.indexManager=new x$,this.remoteDocumentCache=(function(i){return new k$(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y$(n),this.Ii=new O$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new R$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new L$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class L$ extends u7{constructor(e){super(),this.currentSequenceNumber=e}}class zw{constructor(e){this.persistence=e,this.Ri=new Lw,this.Vi=null}static mi(e){return new zw(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=De.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yg{constructor(e,n){this.persistence=e,this.pi=new dc((r=>h7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=T$(this,n)}static mi(e,n){return new yg(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Fe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kp(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=at(),i=at();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vw(e,n.fromCache,r,i)}}class z${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class V${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return T9()?8:d7(yr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new z$;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(su()<=rt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(su()<=rt.DEBUG&&Te("QueryEngine","Query:",ou(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(su()<=rt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ca(n))):ve.resolve())}ys(e,n){if($j(n))return ve.resolve(null);let r=Ca(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=pg(n,null,"F"),r=Ca(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=at(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,u);return this.Cs(n,h,l,d.readTime)?this.ys(e,pg(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return $j(n)||i.isEqual(Fe.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?ve.resolve(null):(su()<=rt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ou(n)),this.vs(e,l,n,s7(i,Df)).next((u=>u)))}))}Ds(e,n){let r=new kn(qD(e));return n.forEach(((i,s)=>{Iv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return su()<=rt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",ou(n)),this.ps.getDocumentsMatchingQuery(e,n,Ho.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const Uw="LocalStore",U$=3e8;class B${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Jt(it),this.xs=new dc((s=>Iw(s)),Pw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $$(t,e,n,r){return new B$(t,e,n,r)}async function fM(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=at();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function q$(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,b=g.keys();let w=ve.resolve();return b.forEach((A=>{w=w.next((()=>p.getEntry(d,A))).next((E=>{const S=h.docVersions.get(A);vt(S!==null,48541),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=at();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function hM(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function F$(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(or.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(g,w),(function(E,S,O){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=U$?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,w,p)&&u.push(n.Pi.updateTargetData(s,w))}));let d=js(),h=at();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(H$(s,l,e.documentUpdates).next((p=>{d=p.ks,h=p.qs}))),!r.isEqual(Fe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return ve.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function H$(t,e,n){let r=at(),i=at();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=js();return n.forEach(((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Te(Uw,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function K$(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=jw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function G$(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ve.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Lo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function a_(t,e,n){const r=Ke(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Yu(l))throw l;Te(Uw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function tC(t,e,n){const r=Ke(t);let i=Fe.min(),s=at();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,p){const g=Ke(d),b=g.xs.get(p);return b!==void 0?ve.resolve(g.Ms.get(b)):g.Pi.getTargetData(h,p)})(r,l,Ca(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Fe.min(),n?s:at()))).next((u=>(Y$(r,P7(e),u),{documents:u,Qs:s})))))}function Y$(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class nC{constructor(){this.activeTargetIds=z7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W${constructor(){this.Mo=new nC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X${Oo(e){}shutdown(){}}const rC="ConnectivityMonitor";class iC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(rC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(rC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wp=null;function s_(){return wp===null?wp=(function(){return 268435456+Math.round(2147483648*Math.random())})():wp++,"0x"+wp.toString(16)}const tx="RestConnection",Q$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===fg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=s_(),u=this.zo(e,n.toUriEncodedString());Te(tx,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:h}=new URL(u),p=qu(h);return this.Jo(e,u,d,r,p).then((g=>(Te(tx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Eu(tx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ku})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Q$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class J${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dr="WebChannelConnection";class eq extends Z${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=s_();return new Promise(((u,d)=>{const h=new gD;h.setWithCredentials(!0),h.listenOnce(vD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Hp.NO_ERROR:const g=h.getResponseJson();Te(dr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Hp.TIMEOUT:Te(dr,`RPC '${e}' ${l} timed out`),d(new Ee(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Hp.HTTP_ERROR:const b=h.getStatus();if(Te(dr,`RPC '${e}' ${l} failed with status:`,b,"response text:",h.getResponseText()),b>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w?.error;if(A&&A.status&&A.message){const E=(function(O){const M=O.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(M)>=0?M:fe.UNKNOWN})(A.status);d(new Ee(E,A.message))}else d(new Ee(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ee(fe.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(dr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Te(dr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=s_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=xD(),u=bD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");Te(dr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,w=!1;const A=new J$({Yo:S=>{w?Te(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(Te(dr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Te(dr,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Zo:()=>g.close()}),E=(S,O,M)=>{S.listen(O,(R=>{try{M(R)}catch(V){setTimeout((()=>{throw V}),0)}}))};return E(g,bf.EventType.OPEN,(()=>{w||(Te(dr,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),E(g,bf.EventType.CLOSE,(()=>{w||(w=!0,Te(dr,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(g))})),E(g,bf.EventType.ERROR,(S=>{w||(w=!0,Eu(dr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new Ee(fe.UNAVAILABLE,"The operation could not be completed")))})),E(g,bf.EventType.MESSAGE,(S=>{if(!w){const O=S.data[0];vt(!!O,16349);const M=O,R=M?.error||M[0]?.error;if(R){Te(dr,`RPC '${e}' stream ${i} received error:`,R);const V=R.status;let D=(function(j){const I=An[j];if(I!==void 0)return eM(I)})(V),L=R.message;D===void 0&&(D=fe.INTERNAL,L="Unknown error status: "+V+" with message "+R.message),w=!0,A.a_(new Ee(D,L)),g.close()}else Te(dr,`RPC '${e}' stream ${i} received:`,O),A.u_(O)}})),E(u,yD.STAT_EVENT,(S=>{S.stat===Y1.PROXY?Te(dr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Y1.NOPROXY&&Te(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function nx(){return typeof document<"u"?document:null}function Mv(t){return new i$(t,!0)}class mM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const aC="PersistentStream";class pM{constructor(e,n,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ee(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(aC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(aC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tq extends pM{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=o$(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Fe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?Oa(l.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=i_(this.serializer),n.addTarget=(function(s,l){let u;const d=l.target;if(u=J1(d)?{documents:u$(s,d)}:{query:d$(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=rM(s,l.resumeToken);const h=t_(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=vg(s,l.snapshotVersion.toTimestamp());const h=t_(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=h$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=i_(this.serializer),n.removeTarget=e,this.q_(n)}}class nq extends pM{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c$(e.writeResults,e.commitTime),r=Oa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=i_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>l$(this.serializer,r)))};this.q_(n)}}class rq{}class iq extends rq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ee(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,n_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(fe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,n_(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(fe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jl="RemoteStore";class sq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{fc(this)&&(Te(Jl,"Restarting streams for network reachability change."),await(async function(d){const h=Ke(d);h.Ea.add(4),await vh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Lv(h)})(this))}))})),this.Ra=new aq(r,i)}}async function Lv(t){if(fc(t))for(const e of t.da)await e(!0)}async function vh(t){for(const e of t.da)await e(!1)}function gM(t,e){const n=Ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fw(n)?qw(n):Xu(n).O_()&&$w(n,e))}function Bw(t,e){const n=Ke(t),r=Xu(n);n.Ia.delete(e),r.O_()&&vM(n,e),n.Ia.size===0&&(r.O_()?r.L_():fc(n)&&n.Ra.set("Unknown"))}function $w(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xu(t).Y_(e)}function vM(t,e){t.Va.Ue(e),Xu(t).Z_(e)}function qw(t){t.Va=new e$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xu(t).start(),t.Ra.ua()}function Fw(t){return fc(t)&&!Xu(t).x_()&&t.Ia.size>0}function fc(t){return Ke(t).Ea.size===0}function yM(t){t.Va=void 0}async function oq(t){t.Ra.set("Online")}async function lq(t){t.Ia.forEach(((e,n)=>{$w(t,e)}))}async function cq(t,e){yM(t),Fw(t)?(t.Ra.ha(e),qw(t)):t.Ra.set("Unknown")}async function uq(t,e,n){if(t.Ra.set("Online"),e instanceof nM&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Te(Jl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bg(t,r)}else if(e instanceof Wp?t.Va.Ze(e):e instanceof tM?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await hM(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(or.EMPTY_BYTE_STRING,p.snapshotVersion)),vM(s,d);const g=new Lo(p.target,d,h,p.sequenceNumber);$w(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Te(Jl,"Failed to raise snapshot:",r),await bg(t,r)}}async function bg(t,e,n){if(!Yu(e))throw e;t.Ea.add(1),await vh(t),t.Ra.set("Offline"),n||(n=()=>hM(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(Jl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lv(t)}))}function bM(t,e){return e().catch((n=>bg(t,n,e)))}async function zv(t){const e=Ke(t),n=Wo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jw;for(;dq(e);)try{const i=await K$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,fq(e,i)}catch(i){await bg(e,i)}xM(e)&&_M(e)}function dq(t){return fc(t)&&t.Ta.length<10}function fq(t,e){t.Ta.push(e);const n=Wo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xM(t){return fc(t)&&!Wo(t).x_()&&t.Ta.length>0}function _M(t){Wo(t).start()}async function hq(t){Wo(t).ra()}async function mq(t){const e=Wo(t);for(const n of t.Ta)e.ea(n.mutations)}async function pq(t,e,n){const r=t.Ta.shift(),i=kw.from(r,e,n);await bM(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await zv(t)}async function gq(t,e){e&&Wo(t).X_&&await(async function(r,i){if((function(l){return Q7(l)&&l!==fe.ABORTED})(i.code)){const s=r.Ta.shift();Wo(r).B_(),await bM(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await zv(r)}})(t,e),xM(t)&&_M(t)}async function sC(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),Te(Jl,"RemoteStore received new credentials");const r=fc(n);n.Ea.add(3),await vh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lv(n)}async function vq(t,e){const n=Ke(t);e?(n.Ea.delete(2),await Lv(n)):e||(n.Ea.add(2),await vh(n),n.Ra.set("Unknown"))}function Xu(t){return t.ma||(t.ma=(function(n,r,i){const s=Ke(n);return s.sa(),new tq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:oq.bind(null,t),t_:lq.bind(null,t),r_:cq.bind(null,t),H_:uq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Fw(t)?qw(t):t.Ra.set("Unknown")):(await t.ma.stop(),yM(t))}))),t.ma}function Wo(t){return t.fa||(t.fa=(function(n,r,i){const s=Ke(n);return s.sa(),new nq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hq.bind(null,t),r_:gq.bind(null,t),ta:mq.bind(null,t),na:pq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await zv(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(Jl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Hw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new Hw(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kw(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),Yu(t))return new Ee(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class yu{static emptySet(e){return new yu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=xf(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class oC{constructor(){this.ga=new Jt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cu{constructor(e,n,r,i,s,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Cu(e,n,yu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class yq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bq{constructor(){this.queries=lC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ke(n),s=i.queries;i.queries=lC(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Ee(fe.ABORTED,"Firestore shutting down"))}}function lC(){return new dc((t=>$D(t)),Ov)}async function Gw(t,e){const n=Ke(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new yq,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Kw(l,`Initialization of query '${ou(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Ww(n)}async function Yw(t,e){const n=Ke(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xq(t,e){const n=Ke(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Ww(n)}function _q(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Ww(t){t.Ca.forEach((e=>{e.next()}))}var o_,cC;(cC=o_||(o_={})).Ma="default",cC.Cache="cache";class Xw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==o_.Cache}}class wM{constructor(e){this.key=e}}class SM{constructor(e){this.key=e}}class wq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=qD(e),this.tu=new yu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new oC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),w=Iv(this.query,g)?g:null,A=!!b&&this.mutatedKeys.has(b.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;b&&w?b.data.isEqual(w.data)?A!==E&&(r.track({type:3,doc:w}),S=!0):this.su(b,w)||(r.track({type:2,doc:w}),S=!0,(d&&this.eu(w,d)>0||h&&this.eu(w,h)<0)&&(u=!0)):!b&&w?(r.track({type:0,doc:w}),S=!0):b&&!w&&(r.track({type:1,doc:b}),S=!0,(d||h)&&(u=!0)),S&&(w?(l=l.add(w),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(w,A){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:S})}};return E(w)-E(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new Cu(this.query,e.tu,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new SM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new wM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qw="SyncEngine";class Sq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Eq{constructor(e){this.key=e,this.hu=!1}}class Aq{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new dc((u=>$D(u)),Ov),this.Iu=new Map,this.Eu=new Set,this.du=new Jt(De.comparator),this.Au=new Map,this.Ru=new Lw,this.Vu={},this.mu=new Map,this.fu=ju.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tq(t,e,n=!0){const r=CM(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await EM(r,e,n,!0),i}async function Nq(t,e){const n=CM(t);await EM(n,e,!0,!1)}async function EM(t,e,n,r){const i=await G$(t.localStore,Ca(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await jq(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&gM(t.remoteStore,i),u}async function jq(t,e,n,r,i){t.pu=(g,b,w)=>(async function(E,S,O,M){let R=S.view.ru(O);R.Cs&&(R=await tC(E.localStore,S.query,!1).then((({documents:N})=>S.view.ru(N,R))));const V=M&&M.targetChanges.get(S.targetId),D=M&&M.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(R,E.isPrimaryClient,V,D);return dC(E,S.targetId,L.au),L.snapshot})(t,g,b,w);const s=await tC(t.localStore,e,!0),l=new wq(e,s.Qs),u=l.ru(s.documents),d=gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);dC(t,n,h.au);const p=new Sq(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function Cq(t,e,n){const r=Ke(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Ov(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await a_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bw(r.remoteStore,i.targetId),l_(r,i.targetId)})).catch(Gu)):(l_(r,i.targetId),await a_(r.localStore,i.targetId,!0))}async function Oq(t,e){const n=Ke(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bw(n.remoteStore,r.targetId))}async function Iq(t,e,n){const r=zq(t);try{const i=await(function(l,u){const d=Ke(l),h=Rt.now(),p=u.reduce(((w,A)=>w.add(A.key)),at());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let A=js(),E=at();return d.Ns.getEntries(w,p).next((S=>{A=S,A.forEach(((O,M)=>{M.isValidDocument()||(E=E.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,A))).next((S=>{g=S;const O=[];for(const M of u){const R=K7(M,g.get(M.key).overlayedDocument);R!=null&&O.push(new nl(M.key,R,kD(R.value.mapValue),Tr.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,O,u)})).next((S=>{b=S;const O=S.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(w,S.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:HD(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new Jt(it)),h=h.insert(u,d),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await yh(r,i.changes),await zv(r.remoteStore)}catch(i){const s=Kw(i,"Failed to persist write");n.reject(s)}}async function AM(t,e){const n=Ke(t);try{const r=await F$(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?vt(l.hu,14607):i.removedDocuments.size>0&&(vt(l.hu,42227),l.hu=!1))})),await yh(n,r,e)}catch(r){await Gu(r)}}function uC(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Ke(l);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(h=!0)})),h&&Ww(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pq(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Jt(De.comparator);l=l.insert(s,mr.newNoDocument(s,Fe.min()));const u=at().add(s),d=new Dv(Fe.min(),new Map,new Jt(it),l,u);await AM(r,d),r.du=r.du.remove(s),r.Au.delete(e),Zw(r)}else await a_(r.localStore,e,!1).then((()=>l_(r,e,n))).catch(Gu)}async function Rq(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=await q$(n.localStore,e);NM(n,r,null),TM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yh(n,i)}catch(i){await Gu(i)}}async function kq(t,e,n){const r=Ke(t);try{const i=await(function(l,u){const d=Ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(vt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);NM(r,e,n),TM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yh(r,i)}catch(i){await Gu(i)}}function TM(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function NM(t,e,n){const r=Ke(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function l_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||jM(t,r)}))}function jM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Bw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zw(t))}function dC(t,e,n){for(const r of n)r instanceof wM?(t.Ru.addReference(r.key,e),Dq(t,r)):r instanceof SM?(Te(Qw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||jM(t,r.key)):Ve(19791,{wu:r})}function Dq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Te(Qw,"New document in limbo: "+n),t.Eu.add(r),Zw(t))}function Zw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(zt.fromString(e)),r=t.fu.next();t.Au.set(r,new Eq(n)),t.du=t.du.insert(n,r),gM(t.remoteStore,new Lo(Ca(Cv(n.path)),r,"TargetPurposeLimboResolution",Tv.ce))}}async function yh(t,e,n){const r=Ke(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Vw.As(d.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,h){const p=Ke(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ve.forEach(h,(b=>ve.forEach(b.Es,(w=>p.persistence.referenceDelegate.addReference(g,b.targetId,w))).next((()=>ve.forEach(b.ds,(w=>p.persistence.referenceDelegate.removeReference(g,b.targetId,w)))))))))}catch(g){if(!Yu(g))throw g;Te(Uw,"Failed to update sequence numbers: "+g)}for(const g of h){const b=g.targetId;if(!g.fromCache){const w=p.Ms.get(b),A=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(b,E)}}})(r.localStore,s))}async function Mq(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){Te(Qw,"User change. New user:",e.toKey());const r=await fM(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new Ee(fe.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yh(n,r.Ls)}}function Lq(t,e){const n=Ke(t),r=n.Au.get(e);if(r&&r.hu)return at().add(r.key);{let i=at();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function CM(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pq.bind(null,e),e.Pu.H_=xq.bind(null,e.eventManager),e.Pu.yu=_q.bind(null,e.eventManager),e}function zq(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kq.bind(null,e),e}class xg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $$(this.persistence,new V$,e.initialUser,this.serializer)}Cu(e){return new dM(zw.mi,this.serializer)}Du(e){return new W$}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xg.provider={build:()=>new xg};class Vq extends xg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof yg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new dM((r=>yg.mi(r,n)),this.serializer)}}class c_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mq.bind(null,this.syncEngine),await vq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bq})()}createDatastore(e){const n=Mv(e.databaseInfo.databaseId),r=(function(s){return new eq(s)})(e.databaseInfo);return(function(s,l,u,d){return new iq(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new sq(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>uC(this.syncEngine,n,0)),(function(){return iC.v()?new iC:new X$})())}createSyncEngine(e,n){return(function(i,s,l,u,d,h,p){const g=new Aq(i,s,l,u,d,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ke(n);Te(Jl,"RemoteStore shutting down."),r.Ea.add(5),await vh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}c_.provider={build:()=>new c_};class Jw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Xo="FirestoreClient";class Uq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hr.UNAUTHENTICATED,this.clientId=Nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Te(Xo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Te(Xo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rx(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Xo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await fM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bq(t);Te(Xo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>sC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>sC(e.remoteStore,i))),t._onlineComponents=e}async function Bq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Xo,"Using user provided OfflineComponentProvider");try{await rx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),await rx(t,new xg)}}else Te(Xo,"Using default OfflineComponentProvider"),await rx(t,new Vq(void 0));return t._offlineComponents}async function OM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Xo,"Using user provided OnlineComponentProvider"),await fC(t,t._uninitializedComponentsProvider._online)):(Te(Xo,"Using default OnlineComponentProvider"),await fC(t,new c_))),t._onlineComponents}function $q(t){return OM(t).then((e=>e.syncEngine))}async function _g(t){const e=await OM(t),n=e.eventManager;return n.onListen=Tq.bind(null,e.syncEngine),n.onUnlisten=Cq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Nq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Oq.bind(null,e.syncEngine),n}function qq(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new Jw({next:b=>{p.Nu(),l.enqueueAndForget((()=>Yw(s,g)));const w=b.docs.has(u);!w&&b.fromCache?h.reject(new Ee(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&d&&d.source==="server"?h.reject(new Ee(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new Xw(Cv(u.path),p,{includeMetadataChanges:!0,qa:!0});return Gw(s,g)})(await _g(t),t.asyncQueue,e,n,r))),r.promise}function Fq(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new Jw({next:b=>{p.Nu(),l.enqueueAndForget((()=>Yw(s,g))),b.fromCache&&d.source==="server"?h.reject(new Ee(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new Xw(u,p,{includeMetadataChanges:!0,qa:!0});return Gw(s,g)})(await _g(t),t.asyncQueue,e,n,r))),r.promise}function IM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const hC=new Map;const PM="firestore.googleapis.com",mC=!0;class pC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PM,this.ssl=mC}else this.host=e.host,this.ssl=e.ssl??mC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w$)throw new Ee(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ee(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new YB;switch(r.type){case"firstParty":return new ZB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hC.get(n);r&&(Te("ComponentProvider","Removing Datastore"),hC.delete(n),r.terminate())})(this),Promise.resolve()}}function Hq(t,e,n,r={}){t=Ar(t,Vv);const i=qu(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Ok(`https://${u}`),Ik("Firestore",!0)),s.host!==PM&&s.host!==u&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!Wl(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=hr.MOCK_USER;else{h=v9(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ee(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new hr(g)}t._authCredentials=new WB(new wD(h,p))}}class zs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mh(n,on._jsonSchema))return new on(e,r||null,new De(zt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:jn("string",on._jsonSchemaVersion),referencePath:jn("string")};class qo extends zs{constructor(e,n,r){super(e,n,Cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new De(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function ri(t,e,...n){if(t=Dn(t),SD("collection","path",e),t instanceof Vv){const r=zt.fromString(e,...n);return jj(r),new qo(t,null,r)}{if(!(t instanceof on||t instanceof qo))throw new Ee(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return jj(r),new qo(t.firestore,null,r)}}function lt(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=Nw.newId()),SD("doc","path",e),t instanceof Vv){const r=zt.fromString(e,...n);return Nj(r),new on(t,null,new De(r))}{if(!(t instanceof on||t instanceof qo))throw new Ee(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return Nj(r),new on(t.firestore,t instanceof qo?t.converter:null,new De(r))}}const gC="AsyncQueue";class vC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mM(this,"async_queue_retry"),this._c=()=>{const r=nx();r&&Te(gC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=nx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yu(e))throw e;Te(gC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",yC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Hw.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ve(47125,{Pc:yC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function bC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Da extends Vv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vC(e),this._firestoreClient=void 0,await e}}}function Kq(t,e){const n=typeof t=="object"?t:Dk(),r=typeof t=="string"?t:fg,i=vw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=p9("firestore");s&&Hq(i,...s)}return i}function bh(t){if(t._terminated)throw new Ee(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Gq(t),t._firestoreClient}function Gq(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new g7(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IM(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Uq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ci(or.fromBase64String(e))}catch(n){throw new Ee(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ci(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mh(e,Ci._jsonSchema))return Ci.fromBase64String(e.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:jn("string",Ci._jsonSchemaVersion),bytes:jn("string")};class xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uv{constructor(e){this._methodName=e}}class Ia{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ia._jsonSchemaVersion}}static fromJSON(e){if(mh(e,Ia._jsonSchema))return new Ia(e.latitude,e.longitude)}}Ia._jsonSchemaVersion="firestore/geoPoint/1.0",Ia._jsonSchema={type:jn("string",Ia._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};class Pa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mh(e,Pa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pa(e.vectorValues);throw new Ee(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pa._jsonSchemaVersion="firestore/vectorValue/1.0",Pa._jsonSchema={type:jn("string",Pa._jsonSchemaVersion),vectorValues:jn("object")};const Yq=/^__.*__$/;class Wq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new nl(e,this.data,this.fieldMask,n,this.fieldTransforms):new ph(e,this.data,n,this.fieldTransforms)}}class RM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new nl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:t})}}class eS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kM(this.Ac)&&Yq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Xq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mv(e)}Cc(e,n,r,i=!1){return new eS({Ac:e,methodName:n,Dc:r,path:sr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _h(t){const e=t._freezeSettings(),n=Mv(t._databaseId);return new Xq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);rS("Data must be an object, but it was:",l,r);const u=LM(r,l);let d,h;if(s.merge)d=new si(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=u_(e,g,n);if(!l.contains(b))throw new Ee(fe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);VM(p,b)||p.push(b)}d=new si(p),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new Wq(new Ur(u),d,h)}class Bv extends Uv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bv}}class nS extends Uv{_toFieldTransform(e){return new $7(e.path,new Uf)}isEqual(e){return e instanceof nS}}function DM(t,e,n,r){const i=t.Cc(1,e,n);rS("Data must be an object, but it was:",i,r);const s=[],l=Ur.empty();tl(r,((d,h)=>{const p=iS(e,d,n);h=Dn(h);const g=i.yc(p);if(h instanceof Bv)s.push(p);else{const b=wh(h,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new si(s);return new RM(l,u,i.fieldTransforms)}function MM(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[u_(e,r,n)],d=[i];if(s.length%2!=0)throw new Ee(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(u_(e,s[b])),d.push(s[b+1]);const h=[],p=Ur.empty();for(let b=u.length-1;b>=0;--b)if(!VM(h,u[b])){const w=u[b];let A=d[b];A=Dn(A);const E=l.yc(w);if(A instanceof Bv)h.push(w);else{const S=wh(A,E);S!=null&&(h.push(w),p.set(w,S))}}const g=new si(h);return new RM(p,g,l.fieldTransforms)}function Qq(t,e,n,r=!1){return wh(n,t.Cc(r?4:3,e))}function wh(t,e){if(zM(t=Dn(t)))return rS("Unsupported field value:",e,t),LM(t,e);if(t instanceof Uv)return(function(r,i){if(!kM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=wh(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Rt.fromDate(r);return{timestampValue:vg(i.serializer,s)}}if(r instanceof Rt){const s=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vg(i.serializer,s)}}if(r instanceof Ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ci)return{bytesValue:rM(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pa)return(function(l,u){return{mapValue:{fields:{[PD]:{stringValue:RD},[hg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return Rw(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Av(r)}`)})(t,e)}function LM(t,e){const n={};return TD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tl(t,((r,i)=>{const s=wh(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function zM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Ia||t instanceof Ci||t instanceof on||t instanceof Uv||t instanceof Pa)}function rS(t,e,n){if(!zM(n)||!ED(n)){const r=Av(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function u_(t,e,n){if((e=Dn(e))instanceof xh)return e._internalPath;if(typeof e=="string")return iS(t,e);throw wg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Zq=new RegExp("[~\\*/\\[\\]]");function iS(t,e,n){if(e.search(Zq)>=0)throw wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xh(...e.split("."))._internalPath}catch{throw wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ee(fe.INVALID_ARGUMENT,u+t+d)}function VM(t,e){return t.some((n=>n.isEqual(e)))}class UM{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($v("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jq extends UM{data(){return super.data()}}function $v(t,e){return typeof e=="string"?iS(t,e):e instanceof xh?e._internalPath:e._delegate._internalPath}function BM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aS{}class sS extends aS{}function Ou(t,e,...n){let r=[];e instanceof aS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof oS)).length,u=s.filter((d=>d instanceof qv)).length;if(l>1||l>0&&u>0)throw new Ee(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class qv extends sS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qv(e,n,r)}_apply(e){const n=this._parse(e);return qM(e._query,n),new zs(e.firestore,e.converter,e_(e._query,n))}_parse(e){const n=_h(e.firestore);return(function(s,l,u,d,h,p,g){let b;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ee(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){_C(g,p);const A=[];for(const E of g)A.push(xC(d,s,E));b={arrayValue:{values:A}}}else b=xC(d,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||_C(g,p),b=Qq(u,l,g,p==="in"||p==="not-in");return Nn.create(h,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ll(t,e,n){const r=e,i=$v("where",t);return qv._create(i,r,n)}class oS extends aS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)qM(l,d),l=e_(l,d)})(e._query,n),new zs(e.firestore,e.converter,e_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lS extends sS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ee(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ee(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vf(s,l)})(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new Wu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Sg(t,e="asc"){const n=e,r=$v("orderBy",t);return lS._create(r,n)}class cS extends sS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new cS(e,n,r)}_apply(e){return new zs(e.firestore,e.converter,pg(e._query,this._limit,this._limitType))}}function $M(t){return a7("limit",t),cS._create("limit",t,"F")}function xC(t,e,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new Ee(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BD(e)&&n.indexOf("/")!==-1)throw new Ee(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(zt.fromString(n));if(!De.isDocumentKey(r))throw new Ee(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mj(t,new De(r))}if(n instanceof on)return Mj(t,n._key);throw new Ee(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Av(n)}.`)}function _C(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qM(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eF{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return tl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[hg].arrayValue?.values?.map((r=>gn(r.doubleValue)));return new Pa(n)}convertGeoPoint(e){return new Ia(gn(e.latitude),gn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mf(e));default:return null}}convertTimestamp(e){const n=Ko(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zt.fromString(e);vt(cM(r),9688,{name:e});const i=new Lf(r.get(1),r.get(3)),s=new De(r.popFirst(5));return i.isEqual(n)||Ns(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function uS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $l extends UM{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($v("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$l._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$l._jsonSchemaVersion="firestore/documentSnapshot/1.0",$l._jsonSchema={type:jn("string",$l._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class Xp extends $l{data(e={}){return super.data(e)}}class ql{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Xp(this._firestore,this._userDataWriter,r.key,r,new wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new Xp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new wf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new Xp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new wf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:tF(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}ql._jsonSchemaVersion="firestore/querySnapshot/1.0",ql._jsonSchema={type:jn("string",ql._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class dS extends eF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function wC(t){t=Ar(t,on);const e=Ar(t.firestore,Da);return qq(bh(e),t._key,{source:"server"}).then((n=>HM(e,t,n)))}function d_(t){t=Ar(t,zs);const e=Ar(t.firestore,Da),n=bh(e),r=new dS(e);return BM(t._query),Fq(n,t._query).then((i=>new ql(e,r,t,i)))}function Hn(t,e,n){t=Ar(t,on);const r=Ar(t.firestore,Da),i=uS(t.converter,e,n);return Sh(r,[tS(_h(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Tr.none())])}function Eg(t,e,n,...r){t=Ar(t,on);const i=Ar(t.firestore,Da),s=_h(i);let l;return l=typeof(e=Dn(e))=="string"||e instanceof xh?MM(s,"updateDoc",t._key,e,n,r):DM(s,"updateDoc",t._key,e),Sh(i,[l.toMutation(t._key,Tr.exists(!0))])}function FM(t){return Sh(Ar(t.firestore,Da),[new kv(t._key,Tr.none())])}function fS(t,e){const n=Ar(t.firestore,Da),r=lt(t),i=uS(t.converter,e);return Sh(n,[tS(_h(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then((()=>r))}function ni(t,...e){t=Dn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||bC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,u;if(t instanceof on)l=Ar(t.firestore,Da),u=Cv(t._key.path),s={next:d=>{e[r]&&e[r](HM(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Ar(t,zs);l=Ar(d.firestore,Da),u=d._query;const h=new dS(l);s={next:p=>{e[r]&&e[r](new ql(l,h,d,p))},error:e[r+1],complete:e[r+2]},BM(t._query)}return(function(h,p,g,b){const w=new Jw(b),A=new Xw(p,w,g);return h.asyncQueue.enqueueAndForget((async()=>Gw(await _g(h),A))),()=>{w.Nu(),h.asyncQueue.enqueueAndForget((async()=>Yw(await _g(h),A)))}})(bh(l),u,i,s)}function Sh(t,e){return(function(r,i){const s=new xs;return r.asyncQueue.enqueueAndForget((async()=>Iq(await $q(r),i,s))),s.promise})(bh(t),e)}function HM(t,e,n){const r=n.docs.get(e._key),i=new dS(t);return new $l(t,i,e._key,r,new wf(n.hasPendingWrites,n.fromCache),e.converter)}class nF{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_h(e)}set(e,n,r){this._verifyNotCommitted();const i=ix(e,this._firestore),s=uS(i.converter,n,r),l=tS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Tr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ix(e,this._firestore);let l;return l=typeof(n=Dn(n))=="string"||n instanceof xh?MM(this._dataReader,"WriteBatch.update",s._key,n,r,i):DM(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ix(e,this._firestore);return this._mutations=this._mutations.concat(new kv(n._key,Tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ix(t,e){if((t=Dn(t)).firestore!==e)throw new Ee(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Qu(){return new nS("serverTimestamp")}function rF(t){return bh(t=Ar(t,Da)),new nF(t,(e=>Sh(t,e)))}(function(e,n=!0){(function(i){Ku=i})(Fu),Su(new Xl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Da(new XB(r.getProvider("auth-internal")),new JB(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ee(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lf(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Bo(Sj,Ej,e),Bo(Sj,Ej,"esm2020")})();const iF={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},aF=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):iF,KM=kk(aF),ax=KB(KM),qe=Kq(KM),sF=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",ze=sF.replace(/\//g,"_");function GM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GM(t))&&(r&&(r+=" "),r+=e);return r}var oF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function hS(t){if(typeof t!="string")return!1;var e=oF;return e.includes(t)}var lF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cF=new Set(lF);function YM(t){return typeof t!="string"?!1:cF.has(t)}function WM(t){return typeof t=="string"&&t.startsWith("data-")}function Nr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(YM(n)||WM(n))&&(e[n]=t[n]);return e}function ec(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Nr(e)}return typeof t=="object"&&!Array.isArray(t)?Nr(t):null}function br(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(YM(n)||WM(n)||hS(n))&&(e[n]=t[n]);return e}function uF(t){return t==null?null:_.isValidElement(t)?br(t.props):typeof t=="object"&&!Array.isArray(t)?br(t):null}var dF=["children","width","height","viewBox","className","style","title","desc"];function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(null,arguments)}function fF(t,e){if(t==null)return{};var n,r,i=hF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mS=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:h}=t,p=fF(t,dF),g=s||{width:r,height:i,x:0,y:0},b=ct("recharts-surface",l);return _.createElement("svg",f_({},br(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,d),_.createElement("desc",null,h),n)}),mF=["children","className"];function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(null,arguments)}function pF(t,e){if(t==null)return{};var n,r,i=gF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ln=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=pF(t,mF),s=ct("recharts-layer",r);return _.createElement("g",h_({className:s},br(i),{ref:e}),n)}),pS=Sk(),XM=_.createContext(null),vF=()=>_.useContext(XM);function Lt(t){return function(){return t}}const QM=Math.cos,Ag=Math.sin,ta=Math.sqrt,Tg=Math.PI,Fv=2*Tg,m_=Math.PI,p_=2*m_,Rl=1e-6,yF=p_-Rl;function ZM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZM;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZM:bF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-e,h=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Rl)if(!(Math.abs(g*d-h*p)>Rl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,A=i-u,E=d*d+h*h,S=w*w+A*A,O=Math.sqrt(E),M=Math.sqrt(b),R=s*Math.tan((m_-Math.acos((E+b-S)/(2*O*M)))/2),V=R/M,D=R/O;Math.abs(V-1)>Rl&&this._append`L${e+V*p},${n+V*g}`,this._append`A${s},${s},0,0,${+(g*w>p*A)},${this._x1=e+D*d},${this._y1=n+D*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=e+u,p=n+d,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Rl||Math.abs(this._y1-p)>Rl)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%p_+p_),b>yF?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:b>Rl&&this._append`A${r},${r},0,${+(b>=m_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new xF(e)}function vS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JM(t){this._context=t}JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hv(t){return new JM(t)}function e4(t){return t[0]}function t4(t){return t[1]}function n4(t,e){var n=Lt(!0),r=null,i=Hv,s=null,l=gS(u);t=typeof t=="function"?t:t===void 0?e4:Lt(t),e=typeof e=="function"?e:e===void 0?t4:Lt(e);function u(d){var h,p=(d=vS(d)).length,g,b=!1,w;for(r==null&&(s=i(w=l())),h=0;h<=p;++h)!(h<p&&n(g=d[h],h,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,h,d),+e(g,h,d));if(w)return s=null,w+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Lt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Sp(t,e,n){var r=null,i=Lt(!0),s=null,l=Hv,u=null,d=gS(h);t=typeof t=="function"?t:t===void 0?e4:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?t4:Lt(+n);function h(g){var b,w,A,E=(g=vS(g)).length,S,O=!1,M,R=new Array(E),V=new Array(E);for(s==null&&(u=l(M=d())),b=0;b<=E;++b){if(!(b<E&&i(S=g[b],b,g))===O)if(O=!O)w=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=b-1;A>=w;--A)u.point(R[A],V[A]);u.lineEnd(),u.areaEnd()}O&&(R[b]=+t(S,b,g),V[b]=+e(S,b,g),u.point(r?+r(S,b,g):R[b],n?+n(S,b,g):V[b]))}if(M)return u=null,M+""||null}function p(){return n4().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Lt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Lt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Lt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class r4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _F(t){return new r4(t,!0)}function wF(t){return new r4(t,!1)}const yS={draw(t,e){const n=ta(e/Tg);t.moveTo(n,0),t.arc(0,0,n,0,Fv)}},SF={draw(t,e){const n=ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},i4=ta(1/3),EF=i4*2,AF={draw(t,e){const n=ta(e/EF),r=n*i4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},TF={draw(t,e){const n=ta(e),r=-n/2;t.rect(r,r,n,n)}},NF=.8908130915292852,a4=Ag(Tg/10)/Ag(7*Tg/10),jF=Ag(Fv/10)*a4,CF=-QM(Fv/10)*a4,OF={draw(t,e){const n=ta(e*NF),r=jF*n,i=CF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Fv*s/5,u=QM(l),d=Ag(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},sx=ta(3),IF={draw(t,e){const n=-ta(e/(sx*3));t.moveTo(0,n*2),t.lineTo(-sx*n,-n),t.lineTo(sx*n,-n),t.closePath()}},Ei=-.5,Ai=ta(3)/2,g_=1/ta(12),PF=(g_/2+1)*3,RF={draw(t,e){const n=ta(e/PF),r=n/2,i=n*g_,s=r,l=n*g_+n,u=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(Ei*r-Ai*i,Ai*r+Ei*i),t.lineTo(Ei*s-Ai*l,Ai*s+Ei*l),t.lineTo(Ei*u-Ai*d,Ai*u+Ei*d),t.lineTo(Ei*r+Ai*i,Ei*i-Ai*r),t.lineTo(Ei*s+Ai*l,Ei*l-Ai*s),t.lineTo(Ei*u+Ai*d,Ei*d-Ai*u),t.closePath()}};function kF(t,e){let n=null,r=gS(i);t=typeof t=="function"?t:Lt(t||yS),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ng(){}function jg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function s4(t){this._context=t}s4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DF(t){return new s4(t)}function o4(t){this._context=t}o4.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MF(t){return new o4(t)}function l4(t){this._context=t}l4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LF(t){return new l4(t)}function c4(t){this._context=t}c4.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zF(t){return new c4(t)}function SC(t){return t<0?-1:1}function EC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(SC(s)+SC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function AC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ox(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function Cg(t){this._context=t}Cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ox(this,this._t0,AC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ox(this,AC(this,n=EC(this,t,e)),n);break;default:ox(this,this._t0,n=EC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function u4(t){this._context=new d4(t)}(u4.prototype=Object.create(Cg.prototype)).point=function(t,e){Cg.prototype.point.call(this,e,t)};function d4(t){this._context=t}d4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function VF(t){return new Cg(t)}function UF(t){return new u4(t)}function f4(t){this._context=t}f4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TC(t),i=TC(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TC(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function BF(t){return new f4(t)}function Kv(t,e){this._context=t,this._t=e}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $F(t){return new Kv(t,.5)}function qF(t){return new Kv(t,0)}function FF(t){return new Kv(t,1)}function tc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function v_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function HF(t,e){return t[e]}function KF(t){const e=[];return e.key=t,e}function GF(){var t=Lt([]),e=v_,n=tc,r=HF;function i(s){var l=Array.from(t.apply(this,arguments),KF),u,d=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=vS(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Lt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?v_:typeof s=="function"?s:Lt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??tc,i):n},i}function YF(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}tc(t,e)}}function WF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}tc(t,e)}}function XF(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,w=(g-b)/2,A=0;A<u;++A){var E=t[e[A]],S=E[r][1]||0,O=E[r-1][1]||0;w+=S-O}d+=g,h+=w*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,tc(t,e)}}var lx={},cx={},NC;function QF(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(cx)),cx}var ux={},jC;function h4(){return jC||(jC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ux)),ux}var dx={},CC;function bS(){return CC||(CC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(dx)),dx}var fx={},hx={},OC;function ZF(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(hx)),hx}var IC;function xS(){return IC||(IC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZF(),n=bS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,d+=i[u]):g===h?h="":d+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}t.toPath=r})(fx)),fx}var PC;function _S(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QF(),n=h4(),r=bS(),i=xS();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function l(u,d,h){if(d.length===0)return h;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return h;p=p[d[g]]}return p===void 0?h:p}t.get=s})(lx)),lx}var mx,RC;function JF(){return RC||(RC=1,mx=_S().get),mx}var eH=JF();const nc=Ms(eH);var tH=4;function zo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tH,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function an(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+zo(u)+s:i+s},"")}var Yn=t=>t===0?0:t>0?1:-1,Pi=t=>typeof t=="number"&&t!=+t,Cs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ae=t=>(typeof t=="number"||t instanceof Number)&&!Pi(t),Ma=t=>Ae(t)||typeof t=="string",nH=0,qf=t=>{var e=++nH;return"".concat(t||"").concat(e)},vr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&typeof e!="string")return r;var s;if(Cs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Pi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},m4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function pt(t,e,n){return Ae(t)&&Ae(e)?zo(t+n*(e-t)):e}function p4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):nc(r,e))===n)}var Ht=t=>t===null||typeof t>"u",Eh=t=>Ht(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function rH(t){return t!=null}function Ah(){}var iH=["type","size","sizeType"];function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(null,arguments)}function kC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(n),!0).forEach(function(r){aH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aH(t,e,n){return(e=sH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sH(t){var e=oH(t,"string");return typeof e=="symbol"?e:e+""}function oH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lH(t,e){if(t==null)return{};var n,r,i=cH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g4={symbolCircle:yS,symbolCross:SF,symbolDiamond:AF,symbolSquare:TF,symbolStar:OF,symbolTriangle:IF,symbolWye:RF},uH=Math.PI/180,dH=t=>{var e="symbol".concat(Eh(t));return g4[e]||yS},fH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*uH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},hH=(t,e)=>{g4["symbol".concat(Eh(t))]=e},wS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=lH(t,iH),s=DC(DC({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=dH(l),w=kF().type(b).size(fH(n,r,l)),A=w();if(A!==null)return A},{className:d,cx:h,cy:p}=s,g=br(s);return Ae(h)&&Ae(p)&&Ae(n)?_.createElement("path",y_({},g,{className:ct("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};wS.registerSymbol=hH;var v4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,SS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{hS(i)&&(r[i]=(s=>n[i](n,s)))}),r},mH=(t,e,n)=>r=>(t(e,n,r),null),Th=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];hS(i)&&typeof s=="function"&&(r||(r={}),r[i]=mH(s,e,n))}),r};function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){gH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gH(t,e,n){return(e=vH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vH(t){var e=yH(t,"string");return typeof e=="symbol"?e:e+""}function yH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cn(t,e){var n=pH({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(null,arguments)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){xH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xH(t,e,n){return(e=_H(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _H(t){var e=wH(t,"string");return typeof e=="symbol"?e:e+""}function wH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ni=32,SH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function EH(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Ni/2,s=Ni/6,l=Ni/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var h;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Ni,y2:i,className:"recharts-legend-icon"})}if(d==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ni,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ni/8,"h").concat(Ni,"v").concat(Ni*3/4,"h").concat(-Ni,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var p=bH({},e);return delete p.legendIcon,_.cloneElement(e.legendIcon,p)}return _.createElement(wS,{fill:u,cx:i,cy:i,size:Ni,sizeType:"diameter",type:d})}function AH(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:Ni,height:Ni},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,w=ct({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?s:p.color,E=b?b(p.value,p,g):p.value;return _.createElement("li",Og({className:w,style:d,key:"legend-item-".concat(g)},Th(t,p,g)),_.createElement(mS,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(E," legend icon")},_.createElement(EH,{data:p,iconType:l,inactiveColor:s})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E))})}var TH=t=>{var e=cn(t,SH),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:s},_.createElement(AH,Og({},e,{payload:n})))},px={},gx={},zC;function NH(){return zC||(zC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(gx)),gx}var vx={},VC;function y4(){return VC||(VC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(vx)),vx}var yx={},bx={},xx={},UC;function jH(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(xx)),xx}var BC;function ES(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(bx)),bx}var _x={},$C;function CH(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(_x)),_x}var qC;function OH(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ES(),n=CH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(yx)),yx}var wx={},Sx={},FC;function IH(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_S();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Sx)),Sx}var Ex={},Ax={},Tx={},Nx={},HC;function b4(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Nx)),Nx}var jx={},KC;function x4(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(jx)),jx}var Cx={},GC;function _4(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Cx)),Cx}var YC;function PH(){return YC||(YC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b4(),n=x4(),r=_4();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function w(A,E,S,O,M,R){const V=b(A,E,S,O,M,R);return V!==void 0?!!V:s(A,E,w,R)},new Map)}function s(p,g,b,w){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,w);case"function":return Object.keys(g).length>0?s(p,{...g},b,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,w){if(g==null)return!0;if(Array.isArray(g))return d(p,g,b,w);if(g instanceof Map)return u(p,g,b,w);if(g instanceof Set)return h(p,g,b,w);const A=Object.keys(g);if(p==null||n.isPrimitive(p))return A.length===0;if(A.length===0)return!0;if(w?.has(g))return w.get(g)===p;w?.set(g,p);try{for(let E=0;E<A.length;E++){const S=A[E];if(!n.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!b(p[S],g[S],S,p,g,w))return!1}return!0}finally{w?.delete(g)}}function u(p,g,b,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[A,E]of g.entries()){const S=p.get(A);if(b(S,E,A,p,g,w)===!1)return!1}return!0}function d(p,g,b,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const A=new Set;for(let E=0;E<g.length;E++){const S=g[E];let O=!1;for(let M=0;M<p.length;M++){if(A.has(M))continue;const R=p[M];let V=!1;if(b(R,S,E,p,g,w)&&(V=!0),V){A.add(M),O=!0;break}}if(!O)return!1}return!0}function h(p,g,b,w){return g.size===0?!0:p instanceof Set?d([...p],[...g],b,w):!1}t.isMatchWith=i,t.isSetMatch=h})(Tx)),Tx}var WC;function w4(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Ax)),Ax}var Ox={},Ix={},Px={},XC;function RH(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Px)),Px}var Rx={},QC;function S4(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Rx)),Rx}var kx={},ZC;function E4(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",w="[object Object]",A="[object Error]",E="[object DataView]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",V="[object BigUint64Array]",D="[object Int8Array]",L="[object Int16Array]",N="[object Int32Array]",j="[object BigInt64Array]",I="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=j,t.bigUint64ArrayTag=V,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=I,t.float64ArrayTag=z,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=N,t.int8ArrayTag=D,t.mapTag=d,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=M,t.uint32ArrayTag=R,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=O})(kx)),kx}var Dx={},JC;function kH(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Dx)),Dx}var eO;function A4(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RH(),n=S4(),r=E4(),i=x4(),s=kH();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,w=new Map,A=void 0){const E=A?.(p,g,b,w);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const S=new Array(p.length);w.set(p,S);for(let O=0;O<p.length;O++)S[O]=u(p[O],O,b,w,A);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;w.set(p,S);for(const[O,M]of p)S.set(O,u(M,O,b,w,A));return S}if(p instanceof Set){const S=new Set;w.set(p,S);for(const O of p)S.add(u(O,void 0,b,w,A));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,S);for(let O=0;O<p.length;O++)S[O]=u(p[O],O,b,w,A);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,S),d(S,p,b,w,A),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return w.set(p,S),d(S,p,b,w,A),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return w.set(p,S),d(S,p,b,w,A),S}if(p instanceof Error){const S=new p.constructor;return w.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,d(S,p,b,w,A),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return w.set(p,S),d(S,p,b,w,A),S}if(p instanceof Number){const S=new Number(p.valueOf());return w.set(p,S),d(S,p,b,w,A),S}if(p instanceof String){const S=new String(p.valueOf());return w.set(p,S),d(S,p,b,w,A),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return w.set(p,S),d(S,p,b,w,A),S}return p}function d(p,g,b=p,w,A){const E=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<E.length;S++){const O=E[S],M=Object.getOwnPropertyDescriptor(p,O);(M==null||M.writable)&&(p[O]=u(g[O],O,b,w,A))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(Ix)),Ix}var tO;function DH(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Ox)),Ox}var nO;function MH(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w4(),n=DH();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Ex)),Ex}var Mx={},Lx={},zx={},rO;function LH(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A4(),n=E4();function r(i,s){return e.cloneDeepWith(i,(l,u,d,h)=>{const p=s?.(l,u,d,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(zx)),zx}var iO;function zH(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Lx)),Lx}var Vx={},Ux={},aO;function T4(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Ux)),Ux}var Bx={},sO;function VH(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Bx)),Bx}var oO;function UH(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h4(),n=T4(),r=VH(),i=xS();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const g=d[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Vx)),Vx}var lO;function BH(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w4(),n=bS(),r=zH(),i=_S(),s=UH();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(Mx)),Mx}var cO;function $H(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y4(),n=IH(),r=MH(),i=BH();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(wx)),wx}var uO;function qH(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NH(),n=y4(),r=OH(),i=$H();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(px)),px}var $x,dO;function FH(){return dO||(dO=1,$x=qH().uniqBy),$x}var HH=FH();const fO=Ms(HH);function N4(t,e,n){return e===!0?fO(t,n):typeof e=="function"?fO(t,e):t}var qx={exports:{}},Fx={},Hx={exports:{}},Kx={};var hO;function KH(){if(hO)return Kx;hO=1;var t=$u();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var w=b(),A=r({inst:{value:w,getSnapshot:b}}),E=A[0].inst,S=A[1];return s(function(){E.value=w,E.getSnapshot=b,d(E)&&S({inst:E})},[g,w,b]),i(function(){return d(E)&&S({inst:E}),g(function(){d(E)&&S({inst:E})})},[g]),l(w),w}function d(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!n(g,w)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Kx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Kx}var mO;function GH(){return mO||(mO=1,Hx.exports=KH()),Hx.exports}var pO;function YH(){if(pO)return Fx;pO=1;var t=$u(),e=GH();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Fx.useSyncExternalStoreWithSelector=function(h,p,g,b,w){var A=s(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=u(function(){function O(L){if(!M){if(M=!0,R=L,L=b(L),w!==void 0&&E.hasValue){var N=E.value;if(w(N,L))return V=N}return V=L}if(N=V,r(R,L))return N;var j=b(L);return w!==void 0&&w(N,j)?(R=L,N):(R=L,V=j)}var M=!1,R,V,D=g===void 0?null:g;return[function(){return O(p())},D===null?void 0:function(){return O(D())}]},[p,g,b,w]);var S=i(h,A[0],A[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},Fx}var gO;function WH(){return gO||(gO=1,qx.exports=YH()),qx.exports}var XH=WH(),AS=_.createContext(null),QH=t=>t,Vt=()=>{var t=_.useContext(AS);return t?t.store.dispatch:QH},Qp=()=>{},ZH=()=>Qp,JH=(t,e)=>t===e;function Oe(t){var e=_.useContext(AS);return XH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:ZH,e?e.store.getState:Qp,e?e.store.getState:Qp,e?t:Qp,JH)}function eK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function tK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function nK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var vO=t=>Array.isArray(t)?t:[t];function rK(t){const e=Array.isArray(t[0])?t[0]:t;return nK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function iK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var aK=class{constructor(t){this.value=t}deref(){return this.value}},sK=typeof WeakRef<"u"?WeakRef:aK,oK=0,yO=1;function Ep(){return{s:oK,v:void 0,o:null,p:null}}function j4(t,e={}){let n=Ep();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const E=A.get(w);E===void 0?(u=Ep(),A.set(w,u)):u=E}else{let A=u.p;A===null&&(u.p=A=new Map);const E=A.get(w);E===void 0?(u=Ep(),A.set(w,u)):u=E}}const h=u;let p;if(u.s===yO)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new sK(p):p}return h.s=yO,h.v=p,p}return l.clearCache=()=>{n=Ep(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function lK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),eK(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:w=j4,argsMemoizeOptions:A=[]}=p,E=vO(b),S=vO(A),O=rK(i),M=g(function(){return s++,h.apply(null,arguments)},...E),R=w(function(){l++;const D=iK(O,arguments);return u=M.apply(null,D),u},...S);return Object.assign(R,{resultFunc:h,memoizedResultFunc:M,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var ee=lK(j4),cK=Object.assign((t,e=ee)=>{tK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>cK}),Gx={},Yx={},Wx={},bO;function uK(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(Wx)),Wx}var Xx={},Qx={},xO;function C4(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Qx)),Qx}var _O;function dK(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Xx)),Xx}var wO;function fK(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uK(),n=dK(),r=xS();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const h=(w,A)=>{let E=w;for(let S=0;S<A.length&&E!=null;++S)E=E[A[S]];return E},p=(w,A)=>A==null||w==null?A:typeof w=="object"&&"key"in w?Object.hasOwn(A,w.key)?A[w.key]:h(A,w.path):typeof w=="function"?w(A):Array.isArray(w)?h(A,w):typeof A=="object"?A[w]:A,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(A=>p(A,w))})).slice().sort((w,A)=>{for(let E=0;E<g.length;E++){const S=e.compareValues(w.criteria[E],A.criteria[E],u[E]);if(S!==0)return S}return 0}).map(w=>w.original)}t.orderBy=i})(Yx)),Yx}var Zx={},SO;function hK(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Zx)),Zx}var Jx={},EO;function O4(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T4(),n=ES(),r=b4(),i=_4();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=s})(Jx)),Jx}var AO;function mK(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fK(),n=hK(),r=O4();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Gx)),Gx}var e1,TO;function pK(){return TO||(TO=1,e1=mK().sortBy),e1}var gK=pK();const Gv=Ms(gK);var I4=t=>t.legend.settings,vK=t=>t.legend.size,yK=t=>t.legend.payload,bK=ee([yK,I4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Gv(r,n):r});function xK(){return Oe(bK)}var Ap=1;function P4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Ap||Math.abs(l.left-e.left)>Ap||Math.abs(l.top-e.top)>Ap||Math.abs(l.width-e.width)>Ap)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _K=typeof Symbol=="function"&&Symbol.observable||"@@observable",NO=_K,t1=()=>Math.random().toString(36).substring(7).split("").join("."),wK={INIT:`@@redux/INIT${t1()}`,REPLACE:`@@redux/REPLACE${t1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${t1()}`},Ig=wK;function TS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function R4(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(R4)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((S,O)=>{l.set(O,S)}))}function p(){if(d)throw new Error(nr(3));return i}function g(S){if(typeof S!="function")throw new Error(nr(4));if(d)throw new Error(nr(5));let O=!0;h();const M=u++;return l.set(M,S),function(){if(O){if(d)throw new Error(nr(6));O=!1,h(),l.delete(M),s=null}}}function b(S){if(!TS(S))throw new Error(nr(7));if(typeof S.type>"u")throw new Error(nr(8));if(typeof S.type!="string")throw new Error(nr(17));if(d)throw new Error(nr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(s=l).forEach(M=>{M()}),S}function w(S){if(typeof S!="function")throw new Error(nr(10));r=S,b({type:Ig.REPLACE})}function A(){const S=g;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(nr(11));function M(){const V=O;V.next&&V.next(p())}return M(),{unsubscribe:S(M)}},[NO](){return this}}}return b({type:Ig.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:w,[NO]:A}}function SK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ig.INIT})>"u")throw new Error(nr(12));if(typeof n(void 0,{type:Ig.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function k4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{SK(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],w=l[g],A=b(w,u);if(typeof A>"u")throw u&&u.type,new Error(nr(14));h[g]=A,d=d||A!==w}return d=d||r.length!==Object.keys(l).length,d?h:l}}function Pg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function EK(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(nr(15))};const l={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},u=t.map(d=>d(l));return s=Pg(...u)(i.dispatch),{...i,dispatch:s}}}function D4(t){return TS(t)&&"type"in t&&typeof t.type=="string"}var M4=Symbol.for("immer-nothing"),jO=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function Yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oi=Object,Iu=oi.getPrototypeOf,Rg="constructor",Yv="prototype",b_="configurable",kg="enumerable",Zp="writable",Ff="value",Os=t=>!!t&&!!t[jr];function ea(t){return t?L4(t)||Xv(t)||!!t[jO]||!!t[Rg]?.[jO]||Qv(t)||Zv(t):!1}var AK=oi[Yv][Rg].toString(),CO=new WeakMap;function L4(t){if(!t||!NS(t))return!1;const e=Iu(t);if(e===null||e===oi[Yv])return!0;const n=oi.hasOwnProperty.call(e,Rg)&&e[Rg];if(n===Object)return!0;if(!uu(n))return!1;let r=CO.get(n);return r===void 0&&(r=Function.toString.call(n),CO.set(n,r)),r===AK}function Wv(t,e,n=!0){Nh(t)===0?(n?Reflect.ownKeys(t):oi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Nh(t){const e=t[jr];return e?e.type_:Xv(t)?1:Qv(t)?2:Zv(t)?3:0}var OO=(t,e,n=Nh(t))=>n===2?t.has(e):oi[Yv].hasOwnProperty.call(t,e),x_=(t,e,n=Nh(t))=>n===2?t.get(e):t[e],Dg=(t,e,n,r=Nh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function TK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Xv=Array.isArray,Qv=t=>t instanceof Map,Zv=t=>t instanceof Set,NS=t=>typeof t=="object",uu=t=>typeof t=="function",n1=t=>typeof t=="boolean";function NK(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var fs=t=>t.copy_||t.base_,jS=t=>t.modified_?t.copy_:t.base_;function __(t,e){if(Qv(t))return new Map(t);if(Zv(t))return new Set(t);if(Xv(t))return Array[Yv].slice.call(t);const n=L4(t);if(e===!0||e==="class_only"&&!n){const r=oi.getOwnPropertyDescriptors(t);delete r[jr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[Zp]===!1&&(u[Zp]=!0,u[b_]=!0),(u.get||u.set)&&(r[l]={[b_]:!0,[Zp]:!0,[kg]:u[kg],[Ff]:t[l]})}return oi.create(Iu(t),r)}else{const r=Iu(t);if(r!==null&&n)return{...t};const i=oi.create(r);return oi.assign(i,t)}}function CS(t,e=!1){return Jv(t)||Os(t)||!ea(t)||(Nh(t)>1&&oi.defineProperties(t,{set:Tp,add:Tp,clear:Tp,delete:Tp}),oi.freeze(t),e&&Wv(t,(n,r)=>{CS(r,!0)},!1)),t}function jK(){Yi(2)}var Tp={[Ff]:jK};function Jv(t){return t===null||!NS(t)?!0:oi.isFrozen(t)}var Mg="MapSet",w_="Patches",IO="ArrayMethods",z4={};function rc(t){const e=z4[t];return e||Yi(0,t),e}var PO=t=>!!z4[t],Hf,V4=()=>Hf,CK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:PO(Mg)?rc(Mg):void 0,arrayMethodsPlugin_:PO(IO)?rc(IO):void 0});function RO(t,e){e&&(t.patchPlugin_=rc(w_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function S_(t){E_(t),t.drafts_.forEach(OK),t.drafts_=null}function E_(t){t===Hf&&(Hf=t.parent_)}var kO=t=>Hf=CK(Hf,t);function OK(t){const e=t[jr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[jr].modified_&&(S_(e),Yi(4)),ea(t)&&(t=MO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[jr].base_,t,e)}else t=MO(e,n);return IK(e,t,!0),S_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==M4?t:void 0}function MO(t,e){if(Jv(e))return e;const n=e[jr];if(!n)return Lg(e,t.handledSet_,t);if(!ey(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);$4(n,t)}return n.copy_}function IK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CS(e,n)}function U4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var ey=(t,e)=>t.scope_===e,PK=[];function B4(t,e,n,r){const i=fs(t),s=t.type_;if(r!==void 0&&x_(i,r,s)===e){Dg(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Wv(i,(d,h)=>{if(Os(h)){const p=u.get(h)||[];p.push(d),u.set(h,p)}})}const l=t.draftLocations_.get(e)??PK;for(const u of l)Dg(i,u,n,s)}function RK(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!ey(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=jS(s);B4(t,s.draft_??s,l,n),$4(s,i)})}function $4(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}U4(t)}}function kK(t,e,n){const{scope_:r}=t;if(Os(n)){const i=n[jr];ey(i,r)&&i.callbacks_.push(function(){Jp(t);const l=jS(i);B4(t,n,l,e)})}else ea(n)&&t.callbacks_.push(function(){const s=fs(t);t.type_===3?s.has(n)&&Lg(n,r.handledSet_,r):x_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Lg(x_(t.copy_,e,t.type_),r.handledSet_,r)})}function Lg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Os(t)||e.has(t)||!ea(t)||Jv(t)||(e.add(t),Wv(t,(r,i)=>{if(Os(i)){const s=i[jr];if(ey(s,n)){const l=jS(s);Dg(t,r,l,t.type_),U4(s)}}else ea(i)&&Lg(i,e,n)})),t}function DK(t,e){const n=Xv(t),r={type_:n?1:0,scope_:e?e.scope_:V4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=zg;n&&(i=[r],s=Kf);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var zg={get(t,e){if(e===jr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=fs(t);if(!OO(i,e,t.type_))return MK(t,i,e);const s=i[e];if(t.finalized_||!ea(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&NK(e))return s;if(s===r1(t.base_,e)){Jp(t);const l=t.type_===1?+e:e,u=T_(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in fs(t)},ownKeys(t){return Reflect.ownKeys(fs(t))},set(t,e,n){const r=q4(fs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=r1(fs(t),e),s=i?.[jr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(TK(n,i)&&(n!==void 0||OO(t.base_,e,t.type_)))return!0;Jp(t),A_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),kK(t,e,n)),!0},deleteProperty(t,e){return Jp(t),r1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),A_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=fs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Zp]:!0,[b_]:t.type_!==1||e!=="length",[kg]:r[kg],[Ff]:n[e]}},defineProperty(){Yi(11)},getPrototypeOf(t){return Iu(t.base_)},setPrototypeOf(){Yi(12)}},Kf={};for(let t in zg){let e=zg[t];Kf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Kf.deleteProperty=function(t,e){return Kf.set.call(this,t,e,void 0)};Kf.set=function(t,e,n){return zg.set.call(this,t[0],e,n,t[0])};function r1(t,e){const n=t[jr];return(n?fs(n):t)[e]}function MK(t,e,n){const r=q4(e,n);return r?Ff in r?r[Ff]:r.get?.call(t.draft_):void 0}function q4(t,e){if(!(e in t))return;let n=Iu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Iu(n)}}function A_(t){t.modified_||(t.modified_=!0,t.parent_&&A_(t.parent_))}function Jp(t){t.copy_||(t.assigned_=new Map,t.copy_=__(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var LK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(uu(n)&&!uu(r)){const l=r;r=n;const u=this;return function(h=l,...p){return u.produce(h,g=>r.call(this,g,...p))}}uu(r)||Yi(6),i!==void 0&&!uu(i)&&Yi(7);let s;if(ea(n)){const l=kO(this),u=T_(l,n,void 0);let d=!0;try{s=r(u),d=!1}finally{d?S_(l):E_(l)}return RO(l,i),DO(s,l)}else if(!n||!NS(n)){if(s=r(n),s===void 0&&(s=n),s===M4&&(s=void 0),this.autoFreeze_&&CS(s,!0),i){const l=[],u=[];rc(w_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else Yi(1,n)},this.produceWithPatches=(n,r)=>{if(uu(n))return(u,...d)=>this.produceWithPatches(u,h=>n(h,...d));let i,s;return[this.produce(n,r,(u,d)=>{i=u,s=d}),i,s]},n1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),n1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),n1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ea(e)||Yi(8),Os(e)&&(e=Zi(e));const n=kO(this),r=T_(n,e,void 0);return r[jr].isManual_=!0,E_(n),r}finishDraft(e,n){const r=e&&e[jr];(!r||!r.isManual_)&&Yi(9);const{scope_:i}=r;return RO(i,n),DO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=rc(w_).applyPatches_;return Os(e)?i(e,n):this.produce(e,s=>i(s,n))}};function T_(t,e,n,r){const[i,s]=Qv(e)?rc(Mg).proxyMap_(e,n):Zv(e)?rc(Mg).proxySet_(e,n):DK(e,n);return(n?.scope_??V4()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?RK(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=d;s.modified_&&h&&h.generatePatches_(s,[],d)}),i}function Zi(t){return Os(t)||Yi(10,t),F4(t)}function F4(t){if(!ea(t)||Jv(t))return t;const e=t[jr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=__(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=__(t,!0);return Wv(n,(i,s)=>{Dg(n,i,F4(s))},r),e&&(e.finalized_=!1),n}var zK=new LK,H4=zK.produce;function K4(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var VK=K4(),UK=K4,BK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pg:Pg.apply(null,arguments)};function Ri(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(li(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>D4(r)&&r.type===t,n}var G4=class Sf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sf.prototype)}static get[Symbol.species](){return Sf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sf(...e[0].concat(this)):new Sf(...e.concat(this))}};function LO(t){return ea(t)?H4(t,()=>{}):t}function Np(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $K(t){return typeof t=="boolean"}var qK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new G4;return n&&($K(n)?l.push(VK):l.push(UK(n.extraArgument))),l},Y4="RTK_autoBatch",Wt=()=>t=>({payload:t,meta:{[Y4]:!0}}),zO=t=>e=>{setTimeout(e,t)},W4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zO(10):t.type==="callback"?t.queueNotification:zO(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[Y4],s=!i,s&&(l||(l=!0,d(h))),r.dispatch(p)}finally{i=!0}}})},FK=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new G4(t);return r&&i.push(W4(typeof r=="object"?r:void 0)),i};function HK(t){const e=qK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(TS(n))u=k4(n);else throw new Error(li(1));let d;typeof r=="function"?d=r(e):d=e();let h=Pg;i&&(h=BK({trace:!1,...typeof i=="object"&&i}));const p=EK(...d),g=FK(p);let b=typeof l=="function"?l(g):g();const w=h(...b);return R4(u,s,w)}function X4(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(li(28));if(u in e)throw new Error(li(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function KK(t){return typeof t=="function"}function GK(t,e){let[n,r,i]=X4(e),s;if(KK(t))s=()=>LO(t());else{const u=LO(t);s=()=>u}function l(u=s(),d){let h=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Os(p)){const w=g(p,d);return w===void 0?p:w}else{if(ea(p))return H4(p,b=>g(b,d));{const b=g(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var YK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WK=(t=21)=>{let e="",n=t;for(;n--;)e+=YK[Math.random()*64|0];return e},XK=Symbol.for("rtk-slice-createasyncthunk");function QK(t,e){return`${t}/${e}`}function ZK({creators:t}={}){const e=t?.asyncThunk?.[XK];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(li(11));const l=(typeof r.reducers=="function"?r.reducers(eG()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,V){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(li(12));if(D in d.sliceCaseReducersByType)throw new Error(li(13));return d.sliceCaseReducersByType[D]=V,h},addMatcher(R,V){return d.sliceMatchers.push({matcher:R,reducer:V}),h},exposeAction(R,V){return d.actionCreators[R]=V,h},exposeCaseReducer(R,V){return d.sliceCaseReducersByName[R]=V,h}};u.forEach(R=>{const V=l[R],D={reducerName:R,type:QK(i,R),createNotation:typeof r.reducers=="function"};nG(V)?iG(D,V,h,e):tG(D,V,h)});function p(){const[R={},V=[],D=void 0]=typeof r.extraReducers=="function"?X4(r.extraReducers):[r.extraReducers],L={...R,...d.sliceCaseReducersByType};return GK(r.initialState,N=>{for(let j in L)N.addCase(j,L[j]);for(let j of d.sliceMatchers)N.addMatcher(j.matcher,j.reducer);for(let j of V)N.addMatcher(j.matcher,j.reducer);D&&N.addDefaultCase(D)})}const g=R=>R,b=new Map,w=new WeakMap;let A;function E(R,V){return A||(A=p()),A(R,V)}function S(){return A||(A=p()),A.getInitialState()}function O(R,V=!1){function D(N){let j=N[R];return typeof j>"u"&&V&&(j=Np(w,D,S)),j}function L(N=g){const j=Np(b,V,()=>new WeakMap);return Np(j,N,()=>{const I={};for(const[z,k]of Object.entries(r.selectors??{}))I[z]=JK(k,N,()=>Np(w,N,S),V);return I})}return{reducerPath:R,getSelectors:L,get selectors(){return L(D)},selectSlice:D}}const M={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...O(s),injectInto(R,{reducerPath:V,...D}={}){const L=V??s;return R.inject({reducerPath:L,reducer:E},D),{...M,...O(L,!0)}}};return M}}function JK(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var qr=ZK();function eG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!rG(r))throw new Error(li(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Ri(t,l):Ri(t))}function nG(t){return t._reducerDefinitionType==="asyncThunk"}function rG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function iG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(li(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||jp,pending:u||jp,rejected:d||jp,settled:h||jp})}function jp(){}var aG="task",Q4="listener",Z4="completed",OS="cancelled",sG=`task-${OS}`,oG=`task-${Z4}`,N_=`${Q4}-${OS}`,lG=`${Q4}-${Z4}`,ty=class{constructor(t){this.code=t,this.message=`${aG} ${OS} (reason: ${t})`}name="TaskAbortError";message},IS=(t,e)=>{if(typeof t!="function")throw new TypeError(li(32))},Vg=()=>{},J4=(t,e=Vg)=>(t.catch(e),t),e3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Fl=t=>{if(t.aborted)throw new ty(t.reason)};function t3(t,e){let n=Vg;return new Promise((r,i)=>{const s=()=>i(new ty(t.reason));if(t.aborted){s();return}n=e3(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Vg})}var cG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof ty?"cancelled":"rejected",error:n}}finally{e?.()}},Ug=t=>e=>J4(t3(t,e).then(n=>(Fl(t),n))),n3=t=>{const e=Ug(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:bu}=Object,VO={},ny="listenerMiddleware",uG=(t,e)=>{const n=r=>e3(t,()=>r.abort(t.reason));return(r,i)=>{IS(r);const s=new AbortController;n(s);const l=cG(async()=>{Fl(t),Fl(s.signal);const u=await r({pause:Ug(s.signal),delay:n3(s.signal),signal:s.signal});return Fl(s.signal),u},()=>s.abort(oG));return i?.autoJoin&&e.push(l.catch(Vg)),{result:Ug(t)(l),cancel(){s.abort(sG)}}}},dG=(t,e)=>{const n=async(r,i)=>{Fl(e);let s=()=>{};const u=[new Promise((d,h)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await t3(e,Promise.race(u));return Fl(e),d}finally{s()}};return(r,i)=>J4(n(r,i))},r3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ri(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(li(21));return IS(s),{predicate:i,type:e,effect:s}},i3=bu(t=>{const{type:e,predicate:n,effect:r}=r3(t);return{id:WK(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(li(22))}}},{withTypes:()=>i3}),UO=(t,e)=>{const{type:n,effect:r,predicate:i}=r3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},j_=t=>{t.pending.forEach(e=>{e.abort(N_)})},fG=(t,e)=>()=>{for(const n of e.keys())j_(n);t.clear()},BO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},a3=bu(Ri(`${ny}/add`),{withTypes:()=>a3}),hG=Ri(`${ny}/removeAll`),s3=bu(Ri(`${ny}/remove`),{withTypes:()=>s3}),mG=(...t)=>{console.error(`${ny}/error`,...t)},jh=(t={})=>{const e=new Map,n=new Map,r=w=>{const A=n.get(w)??0;n.set(w,A+1)},i=w=>{const A=n.get(w)??1;A===1?n.delete(w):n.set(w,A-1)},{extra:s,onError:l=mG}=t;IS(l);const u=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),A=>{w.unsubscribe(),A?.cancelActive&&j_(w)}),d=w=>{const A=UO(e,w)??i3(w);return u(A)};bu(d,{withTypes:()=>d});const h=w=>{const A=UO(e,w);return A&&(A.unsubscribe(),w.cancelActive&&j_(A)),!!A};bu(h,{withTypes:()=>h});const p=async(w,A,E,S)=>{const O=new AbortController,M=dG(d,O.signal),R=[];try{w.pending.add(O),r(w),await Promise.resolve(w.effect(A,bu({},E,{getOriginalState:S,condition:(V,D)=>M(V,D).then(Boolean),take:M,delay:n3(O.signal),pause:Ug(O.signal),extra:s,signal:O.signal,fork:uG(O.signal,R),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((V,D,L)=>{V!==O&&(V.abort(N_),L.delete(V))})},cancel:()=>{O.abort(N_),w.pending.delete(O)},throwIfCancelled:()=>{Fl(O.signal)}})))}catch(V){V instanceof ty||BO(l,V,{raisedBy:"effect"})}finally{await Promise.all(R),O.abort(lG),i(w),w.pending.delete(O)}},g=fG(e,n);return{middleware:w=>A=>E=>{if(!D4(E))return A(E);if(a3.match(E))return d(E.payload);if(hG.match(E)){g();return}if(s3.match(E))return h(E.payload);let S=w.getState();const O=()=>{if(S===VO)throw new Error(li(23));return S};let M;try{if(M=A(E),e.size>0){const R=w.getState(),V=Array.from(e.values());for(const D of V){let L=!1;try{L=D.predicate(E,R,S)}catch(N){L=!1,BO(l,N,{raisedBy:"predicate"})}L&&p(D,E,w,O)}}}finally{S=VO}return M},startListening:d,stopListening:h,clearListeners:g}};function li(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},o3=qr({name:"chartLayout",initialState:pG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:gG,setLayout:vG,setChartSize:yG,setScale:bG}=o3.actions,xG=o3.reducer;function l3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Dt(t){return Number.isFinite(t)}function La(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){_G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _G(t,e,n){return(e=wG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wG(t){var e=SG(t,"string");return typeof e=="symbol"?e:e+""}function SG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gt(t,e,n){return Ht(t)||Ht(e)?n:Ma(e)?nc(t,e,n):typeof e=="function"?e(t):n}var EG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ae(t[s]))return fu(fu({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ae(t[l]))return fu(fu({},t),{},{[l]:t[l]+(i||0)})}return t},Ba=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",c3=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},u3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:b,axisType:w}=t;if(!l)return null;var A=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(E=w==="angleAxis"&&s&&s.length>=2?Yn(s[0]-s[1])*2*E:E,g||b){var S=(g||b||[]).map((O,M)=>{var R=r?r.indexOf(O):O;return{coordinate:l(R)+E,value:O,offset:E,index:M}});return S.filter(O=>!Pi(O.coordinate))}return d&&h?h.map((O,M)=>({coordinate:l(O)+E,value:O,index:M,offset:E})):l.ticks&&p!=null?l.ticks(p).map((O,M)=>({coordinate:l(O)+E,value:O,offset:E,index:M})):l.domain().map((O,M)=>({coordinate:l(O)+E,value:r?r[O]:O,index:M,offset:E}))},qO=1e-4,AG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-qO,s=Math.max(r[0],r[1])+qO,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},TG=(t,e)=>{if(!e||e.length!==2||!Ae(e[0])||!Ae(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ae(t[0])||t[0]<n)&&(i[0]=n),(!Ae(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},NG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var d=t[u],h=d?.[i];if(h!=null){var p=h[1],g=h[0],b=Pi(p)?g:p;b>=0?(h[0]=s,h[1]=s+b,s=p):(h[0]=l,h[1]=l+b,l=p)}}}},jG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],d=u?.[i];if(d!=null){var h=Pi(d[1])?d[0]:d[1];h>=0?(d[0]=s,d[1]=s+h,s=d[1]):(d[0]=0,d[1]=0)}}}},CG={sign:NG,expand:YF,none:tc,silhouette:WF,wiggle:XF,positive:jG},OG=(t,e,n)=>{var r,i=(r=CG[n])!==null&&r!==void 0?r:tc,s=GF().keys(e).value((u,d)=>Number(gt(u,d,0))).order(v_).offset(i),l=s(t);return l.forEach((u,d)=>{u.forEach((h,p)=>{var g=gt(t[p],e[d],0);Array.isArray(g)&&g.length===2&&Ae(g[0])&&Ae(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function d3(t){return t==null?void 0:String(t)}function Bg(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ht(i[e.dataKey])){var u=p4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=gt(i,Ht(l)?e.dataKey:l);return Ht(d)?null:e.scale(d)}var FO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=gt(s,e.dataKey,e.scale.domain()[l]);return Ht(u)?null:e.scale(u)-i/2+r},IG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},PG=t=>{var e=t.flat(2).filter(Ae);return[Math.min(...e),Math.max(...e)]},RG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],kG=(t,e,n)=>{if(t!=null)return RG(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((d,h)=>{var p=l3(h,e,n),g=PG(p);return!Dt(g[0])||!Dt(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},HO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qo=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Gv(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];s=Math.min((d?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function GO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return fu(fu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function rl(t,e){if(t)return String(t);if(typeof e=="string")return e}var DG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},MG=(t,e)=>e==="centric"?t.angle:t.radius,Vs=t=>t.layout.width,Us=t=>t.layout.height,LG=t=>t.layout.scale,f3=t=>t.layout.margin,ry=ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),iy=ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),h3="data-recharts-item-index",m3="data-recharts-item-id",Ch=60;function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){zG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zG(t,e,n){return(e=VG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VG(t){var e=UG(t,"string");return typeof e=="symbol"?e:e+""}function UG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BG=t=>t.brush.height;function $G(t){var e=iy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ch;return n+i}return n},0)}function qG(t){var e=iy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ch;return n+i}return n},0)}function FG(t){var e=ry(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function HG(t){var e=ry(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Mn=ee([Vs,Us,f3,BG,$G,qG,FG,HG,I4,vK],(t,e,n,r,i,s,l,u,d,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Cp(Cp({},g),p),w=b.bottom;b.bottom+=r,b=EG(b,d,h);var A=t-b.left-b.right,E=e-b.top-b.bottom;return Cp(Cp({brushBottom:w},b),{},{width:Math.max(A,0),height:Math.max(E,0)})}),KG=ee(Mn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),PS=ee(Vs,Us,(t,e)=>({x:0,y:0,width:t,height:e})),GG=_.createContext(null),Wn=()=>_.useContext(GG)!=null,ay=t=>t.brush,sy=ee([ay,Mn,f3],(t,e,n)=>({height:t.height,x:Ae(t.x)?t.x:e.left,y:Ae(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ae(t.width)?t.width:e.width})),i1={},a1={},s1={},WO;function YG(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),E()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},A=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{A(),l=void 0,u=null},S=()=>{p()},O=function(...M){if(i?.aborted)return;l=this,u=M;const R=b==null;w(),d&&R&&p()};return O.schedule=w,O.cancel=E,O.flush=S,i?.addEventListener("abort",E,{once:!0}),O}t.debounce=e})(s1)),s1}var XO;function WG(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YG();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const b=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:h}),w=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},A=()=>(b.flush(),p);return w.cancel=b.cancel,w.flush=A,w}t.debounce=n})(a1)),a1}var QO;function XG(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WG();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(i1)),i1}var o1,ZO;function QG(){return ZO||(ZO=1,o1=XG().throttle),o1}var ZG=QG();const JG=Ms(ZG);var $g=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},p3=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Cs(r)?t:Number(r),d=Cs(i)?e:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},eY={width:0,height:0,overflow:"visible"},tY={width:0,overflowX:"visible"},nY={height:0,overflowY:"visible"},rY={},iY=t=>{var{width:e,height:n}=t,r=Cs(e),i=Cs(n);return r&&i?eY:r?tY:i?nY:rY};function aY(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(null,arguments)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){sY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sY(t,e,n){return(e=oY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oY(t){var e=lY(t,"string");return typeof e=="symbol"?e:e+""}function lY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g3=_.createContext({width:-1,height:-1});function cY(t){return La(t.width)&&La(t.height)}function v3(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return cY(i)?_.createElement(g3.Provider,{value:i},e):null}var RS=()=>_.useContext(g3),uY=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:g,className:b,onResize:w,style:A={}}=t,E=_.useRef(null),S=_.useRef();S.current=w,_.useImperativeHandle(e,()=>E.current);var[O,M]=_.useState({containerWidth:r.width,containerHeight:r.height}),R=_.useCallback((j,I)=>{M(z=>{var k=Math.round(j),$=Math.round(I);return z.containerWidth===k&&z.containerHeight===$?z:{containerWidth:k,containerHeight:$}})},[]);_.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Ah;var j=$=>{var U,{width:ce,height:pe}=$[0].contentRect;R(ce,pe),(U=S.current)===null||U===void 0||U.call(S,ce,pe)};p>0&&(j=JG(j,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(j),{width:z,height:k}=E.current.getBoundingClientRect();return R(z,k),I.observe(E.current),()=>{I.disconnect()}},[R,p]);var{containerWidth:V,containerHeight:D}=O;$g(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:N}=p3(V,D,{width:i,height:s,aspect:n,maxHeight:d});return $g(L!=null&&L>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,N,i,s,l,u,n),_.createElement("div",{id:g?"".concat(g):void 0,className:ct("recharts-responsive-container",b),style:eI(eI({},A),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:E},_.createElement("div",{style:iY({width:i,height:s})},_.createElement(v3,{width:L,height:N},h)))}),oy=_.forwardRef((t,e)=>{var n=RS();if(La(n.width)&&La(n.height))return t.children;var{width:r,height:i}=aY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=p3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ae(s)&&Ae(l)?_.createElement(v3,{width:s,height:l},t.children):_.createElement(uY,C_({},t,{width:r,height:i,ref:e}))});function y3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var ly=()=>{var t,e=Wn(),n=Oe(KG),r=Oe(sy),i=(t=Oe(ay))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},b3=()=>{var t;return(t=Oe(Mn))!==null&&t!==void 0?t:dY},kS=()=>Oe(Vs),DS=()=>Oe(Us),fY=()=>Oe(t=>t.layout.margin),et=t=>t.layout.layoutType,il=()=>Oe(et),hY=()=>{var t=il();if(t==="horizontal"||t==="vertical")return t},mY=()=>{var t=il();return t!==void 0},cy=t=>{var e=Vt(),n=Wn(),{width:r,height:i}=t,s=RS(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),_.useEffect(()=>{!n&&La(l)&&La(u)&&e(yG({width:l,height:u}))},[e,n,l,u]),null},x3=Symbol.for("immer-nothing"),tI=Symbol.for("immer-draftable"),ci=Symbol.for("immer-state");function Wi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gf=Object.getPrototypeOf;function Pu(t){return!!t&&!!t[ci]}function ic(t){return t?_3(t)||Array.isArray(t)||!!t[tI]||!!t.constructor?.[tI]||Oh(t)||dy(t):!1}var pY=Object.prototype.constructor.toString(),nI=new WeakMap;function _3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=nI.get(n);return r===void 0&&(r=Function.toString.call(n),nI.set(n,r)),r===pY}function qg(t,e,n=!0){uy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function uy(t){const e=t[ci];return e?e.type_:Array.isArray(t)?1:Oh(t)?2:dy(t)?3:0}function O_(t,e){return uy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function w3(t,e,n){const r=uy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function gY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Oh(t){return t instanceof Map}function dy(t){return t instanceof Set}function kl(t){return t.copy_||t.base_}function I_(t,e){if(Oh(t))return new Map(t);if(dy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=_3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ci];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Gf(t),r)}else{const r=Gf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function MS(t,e=!1){return fy(t)||Pu(t)||!ic(t)||(uy(t)>1&&Object.defineProperties(t,{set:Op,add:Op,clear:Op,delete:Op}),Object.freeze(t),e&&Object.values(t).forEach(n=>MS(n,!0))),t}function vY(){Wi(2)}var Op={value:vY};function fy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var yY={};function ac(t){const e=yY[t];return e||Wi(0,t),e}var Yf;function S3(){return Yf}function bY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rI(t,e){e&&(ac("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function P_(t){R_(t),t.drafts_.forEach(xY),t.drafts_=null}function R_(t){t===Yf&&(Yf=t.parent_)}function iI(t){return Yf=bY(Yf,t)}function xY(t){const e=t[ci];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ci].modified_&&(P_(e),Wi(4)),ic(t)&&(t=Fg(e,t),e.parent_||Hg(e,t)),e.patches_&&ac("Patches").generateReplacementPatches_(n[ci].base_,t,e.patches_,e.inversePatches_)):t=Fg(e,n,[]),P_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==x3?t:void 0}function Fg(t,e,n){if(fy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[ci];if(!i)return qg(e,(s,l)=>sI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Hg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),qg(l,(d,h)=>sI(t,i,s,d,h,n,u),r),Hg(t,s,!1),n&&t.patches_&&ac("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function sI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=fy(i);if(!(u&&!l)){if(Pu(i)){const d=s&&e&&e.type_!==3&&!O_(e.assigned_,r)?s.concat(r):void 0,h=Fg(t,i,d);if(w3(n,r,h),Pu(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(ic(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Fg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Oh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Hg(t,i)}}}function Hg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&MS(e,n)}function _Y(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:S3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=LS;n&&(i=[r],s=Wf);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var LS={get(t,e){if(e===ci)return t;const n=kl(t);if(!O_(n,e))return wY(t,n,e);const r=n[e];return t.finalized_||!ic(r)?r:r===l1(t.base_,e)?(c1(t),t.copy_[e]=D_(r,t)):r},has(t,e){return e in kl(t)},ownKeys(t){return Reflect.ownKeys(kl(t))},set(t,e,n){const r=E3(kl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=l1(kl(t),e),s=i?.[ci];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(gY(n,i)&&(n!==void 0||O_(t.base_,e)))return!0;c1(t),k_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return l1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,c1(t),k_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=kl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Wi(11)},getPrototypeOf(t){return Gf(t.base_)},setPrototypeOf(){Wi(12)}},Wf={};qg(LS,(t,e)=>{Wf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wf.deleteProperty=function(t,e){return Wf.set.call(this,t,e,void 0)};Wf.set=function(t,e,n){return LS.set.call(this,t[0],e,n,t[0])};function l1(t,e){const n=t[ci];return(n?kl(n):t)[e]}function wY(t,e,n){const r=E3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function E3(t,e){if(!(e in t))return;let n=Gf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Gf(n)}}function k_(t){t.modified_||(t.modified_=!0,t.parent_&&k_(t.parent_))}function c1(t){t.copy_||(t.copy_=I_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var SY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...h){return l.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&Wi(6),r!==void 0&&typeof r!="function"&&Wi(7);let i;if(ic(e)){const s=iI(this),l=D_(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?P_(s):R_(s)}return rI(s,r),aI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===x3&&(i=void 0),this.autoFreeze_&&MS(i,!0),r){const s=[],l=[];ac("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else Wi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ic(t)||Wi(8),Pu(t)&&(t=EY(t));const e=iI(this),n=D_(t,void 0);return n[ci].isManual_=!0,R_(e),n}finishDraft(t,e){const n=t&&t[ci];(!n||!n.isManual_)&&Wi(9);const{scope_:r}=n;return rI(r,e),aI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ac("Patches").applyPatches_;return Pu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function D_(t,e){const n=Oh(t)?ac("MapSet").proxyMap_(t,e):dy(t)?ac("MapSet").proxySet_(t,e):_Y(t,e);return(e?e.scope_:S3()).drafts_.push(n),n}function EY(t){return Pu(t)||Wi(10,t),A3(t)}function A3(t){if(!ic(t)||fy(t))return t;const e=t[ci];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=I_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=I_(t,!0);return qg(n,(i,s)=>{w3(n,i,A3(s))},r),e&&(e.finalized_=!1),n}var AY=new SY;AY.produce;var TY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T3=qr({name:"legend",initialState:TY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Wt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Wt()},removeLegendPayload:{reducer(t,e){var n=Zi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Wt()}}}),{setLegendSize:oI,setLegendSettings:NY,addLegendPayload:N3,replaceLegendPayload:j3,removeLegendPayload:C3}=T3.actions,jY=T3.reducer,CY=["contextPayload"];function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(null,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){OY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OY(t,e,n){return(e=IY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IY(t){var e=PY(t,"string");return typeof e=="symbol"?e:e+""}function PY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t,e){if(t==null)return{};var n,r,i=kY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DY(t){return t.value}function MY(t){var{contextPayload:e}=t,n=RY(t,CY),r=N4(e,t.payloadUniqBy,DY),i=Ru(Ru({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(TH,i)}function LY(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:d}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-s.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ru(Ru({},h),p)}function zY(t){var e=Vt();return _.useEffect(()=>{e(NY(t))},[e,t]),null}function VY(t){var e=Vt();return _.useEffect(()=>(e(oI(t)),()=>{e(oI({width:0,height:0}))}),[e,t]),null}function UY(t,e,n,r){return t==="vertical"&&Ae(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var BY={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function hy(t){var e=cn(t,BY),n=xK(),r=vF(),i=fY(),{width:s,height:l,wrapperStyle:u,portal:d}=e,[h,p]=P4([n]),g=kS(),b=DS();if(g==null||b==null)return null;var w=g-(i?.left||0)-(i?.right||0),A=UY(e.layout,l,s,w),E=d?u:Ru(Ru({position:"absolute",width:A?.width||s||"auto",height:A?.height||l||"auto"},LY(u,e,i,g,b,h)),u),S=d??r;if(S==null||n==null)return null;var O=_.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:p},_.createElement(zY,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&_.createElement(VY,{width:h.width,height:h.height}),_.createElement(MY,M_({},e,A,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return pS.createPortal(O,S)}hy.displayName="Legend";function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(null,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){$Y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Y(t,e,n){return(e=qY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=FY(t,"string");return typeof e=="symbol"?e:e+""}function FY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HY(t){return Array.isArray(t)&&Ma(t[0])&&Ma(t[1])?t.join(" ~ "):t}var KY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,w=()=>{if(s&&s.length){var D={padding:0,margin:0},L=(u?Gv(s,u):s).map((N,j)=>{if(N.type==="none")return null;var I=N.formatter||l||HY,{value:z,name:k}=N,$=z,U=k;if(I){var ce=I(z,k,N,j,s);if(Array.isArray(ce))[$,U]=ce;else if(ce!=null)$=ce;else return null}var pe=u1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:pe},Ma(U)?_.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Ma(U)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},$),_.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:D},L)}return null},A=u1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=u1({margin:0},i),S=!Ht(p),O=S?p:"",M=ct("recharts-default-tooltip",d),R=ct("recharts-tooltip-label",h);S&&g&&s!==void 0&&s!==null&&(O=g(p,s));var V=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",L_({className:M,style:A},V),_.createElement("p",{className:R,style:E},_.isValidElement(O)?O:"".concat(O)),w())},df="recharts-tooltip-wrapper",GY={visibility:"hidden"};function YY(t){var{coordinate:e,translateX:n,translateY:r}=t;return ct(df,{["".concat(df,"-right")]:Ae(n)&&e&&Ae(e.x)&&n>=e.x,["".concat(df,"-left")]:Ae(n)&&e&&Ae(e.x)&&n<e.x,["".concat(df,"-bottom")]:Ae(r)&&e&&Ae(e.y)&&r>=e.y,["".concat(df,"-top")]:Ae(r)&&e&&Ae(e.y)&&r<e.y})}function uI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=t;if(s&&Ae(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=d[r];if(b==null)return 0;if(l[r]){var w=p,A=b;return w<A?Math.max(g,b):Math.max(p,b)}if(h==null)return 0;var E=g+u,S=b+h;return E>S?Math.max(p,b):Math.max(g,b)}function WY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function XY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=uI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=uI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=WY({translateX:p,translateY:g,useTranslate3d:u})):h=GY,{cssProperties:h,cssClasses:YY({translateX:p,translateY:g,coordinate:n})}}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){z_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z_(t,e,n){return(e=QY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QY(t){var e=ZY(t,"string");return typeof e=="symbol"?e:e+""}function ZY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class JY extends _.PureComponent{constructor(){super(...arguments),z_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),z_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:A,lastBoundingBox:E,innerRef:S,hasPortalFromProps:O}=this.props,{cssClasses:M,cssProperties:R}=XY({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:w}),V=O?{}:Ip(Ip({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=Ip(Ip({},V),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:D,ref:S},s)}}var O3=()=>{var t;return(t=Oe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(null,arguments)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){eW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eW(t,e,n){return(e=tW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tW(t){var e=nW(t,"string");return typeof e=="symbol"?e:e+""}function nW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mI={curveBasisClosed:MF,curveBasisOpen:LF,curveBasis:DF,curveBumpX:_F,curveBumpY:wF,curveLinearClosed:zF,curveLinear:Hv,curveMonotoneX:VF,curveMonotoneY:UF,curveNatural:BF,curveStep:$F,curveStepAfter:FF,curveStepBefore:qF},Kg=t=>Dt(t.x)&&Dt(t.y),pI=t=>t.base!=null&&Kg(t.base)&&Kg(t),ff=t=>t.x,hf=t=>t.y,rW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Eh(t));return(n==="curveMonotone"||n==="curveBump")&&e?mI["".concat(n).concat(e==="vertical"?"Y":"X")]:mI[n]||Hv},iW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=rW(e,i),u=s?n.filter(Kg):n,d;if(Array.isArray(r)){var h=n.map((w,A)=>hI(hI({},w),{},{base:r[A]}));i==="vertical"?d=Sp().y(hf).x1(ff).x0(w=>w.base.x):d=Sp().x(ff).y1(hf).y0(w=>w.base.y);var p=d.defined(pI).curve(l),g=s?h.filter(pI):h;return p(g)}i==="vertical"&&Ae(r)?d=Sp().y(hf).x1(ff).x0(r):Ae(r)?d=Sp().x(ff).y1(hf).y0(r):d=n4().x(ff).y(hf);var b=d.defined(Kg).curve(l);return b(u)},xu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=il();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?iW(l):r;return _.createElement("path",V_({},Nr(t),SS(t),{className:ct("recharts-curve",e),d:u===null?void 0:u,ref:i}))},aW=["x","y","top","left","width","height","className"];function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(null,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=cW(t,"string");return typeof e=="symbol"?e:e+""}function cW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uW(t,e){if(t==null)return{};var n,r,i=dW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fW=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),hW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,d=uW(t,aW),h=sW({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Ae(e)||!Ae(n)||!Ae(s)||!Ae(l)||!Ae(r)||!Ae(i)?null:_.createElement("path",U_({},br(h),{className:ct("recharts-cross",u),d:fW(e,n,s,l,r,i)}))};function mW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){pW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pW(t,e,n){return(e=gW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gW(t){var e=vW(t,"string");return typeof e=="symbol"?e:e+""}function vW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),I3=(t,e,n)=>t.map(r=>"".concat(yW(r)," ").concat(e,"ms ").concat(n)).join(","),bW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Xf=(t,e)=>Object.keys(e).reduce((n,r)=>yI(yI({},n),{},{[r]:t(r,e[r])}),{});function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){xW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xW(t,e,n){return(e=_W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _W(t){var e=wW(t,"string");return typeof e=="symbol"?e:e+""}function wW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gg=(t,e,n)=>t+(e-t)*n,B_=t=>{var{from:e,to:n}=t;return e!==n},P3=(t,e,n)=>{var r=Xf((i,s)=>{if(B_(s)){var[l,u]=t(s.from,s.to,s.velocity);return Rn(Rn({},s),{},{from:l,velocity:u})}return s},e);return n<1?Xf((i,s)=>B_(s)&&r[i]!=null?Rn(Rn({},s),{},{velocity:Gg(s.velocity,r[i].velocity,n),from:Gg(s.from,r[i].from,n)}):s,e):P3(t,r,n-1)};function SW(t,e,n,r,i,s){var l,u=r.reduce((b,w)=>Rn(Rn({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),d=()=>Xf((b,w)=>w.from,u),h=()=>!Object.values(u).filter(B_).length,p=null,g=b=>{l||(l=b);var w=b-l,A=w/n.dt;u=P3(n,u,A),i(Rn(Rn(Rn({},t),e),d())),l=b,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function EW(t,e,n,r,i,s,l){var u=null,d=i.reduce((g,b)=>{var w=t[b],A=e[b];return w==null||A==null?g:Rn(Rn({},g),{},{[b]:[w,A]})},{}),h,p=g=>{h||(h=g);var b=(g-h)/r,w=Xf((E,S)=>Gg(...S,n(b)),d);if(s(Rn(Rn(Rn({},t),e),w)),b<1)u=l.setTimeout(p);else{var A=Xf((E,S)=>Gg(...S,n(1)),d);s(Rn(Rn(Rn({},t),e),A))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const AW=(t,e,n,r,i,s)=>{var l=bW(t,e);return n==null?()=>(i(Rn(Rn({},t),e)),()=>{}):n.isStepper===!0?SW(t,e,n,l,i,s):EW(t,e,n,r,l,i,s)};var Yg=1e-4,R3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],k3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),xI=(t,e)=>n=>{var r=R3(t,e);return k3(r,n)},TW=(t,e)=>n=>{var r=R3(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return k3(i,n)},NW=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},jW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=NW(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},CW=(t,e,n,r)=>{var i=xI(t,n),s=xI(e,r),l=TW(t,n),u=h=>h>1?1:h<0?0:h,d=h=>{for(var p=h>1?1:h,g=p,b=0;b<8;++b){var w=i(g)-p,A=l(g);if(Math.abs(w-p)<Yg||A<Yg)return s(g);g=u(g-w/A)}return s(g)};return d.isStepper=!1,d},_I=function(){return CW(...jW(...arguments))},OW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,d)=>{var h=-(l-u)*n,p=d*r,g=d+(h-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<Yg&&Math.abs(g)<Yg?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},IW=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _I(t);case"spring":return OW();default:if(t.split("(")[0]==="cubic-bezier")return _I(t)}return typeof t=="function"?t:null};function PW(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){i=t.setTimeout(s.bind(null,h),d);return}s(d),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class RW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function kW(){return PW(new RW)}var DW=_.createContext(kW);function MW(t,e){var n=_.useContext(DW);return _.useMemo(()=>e??n(t),[t,e,n])}var LW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ih={isSsr:LW()},zW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wI={t:0},d1={t:1};function Zu(t){var e=cn(t,zW),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=e,p=n==="auto"?!Ih.isSsr:n,g=MW(e.animationId,e.animationManager),[b,w]=_.useState(p?wI:d1),A=_.useRef(null);return _.useEffect(()=>{p||w(d1)},[p]),_.useEffect(()=>{if(!p||!r)return Ah;var E=AW(wI,d1,IW(s),i,w,g.getTimeoutController()),S=()=>{A.current=E()};return g.start([d,l,S,i,u]),()=>{g.stop(),A.current&&A.current(),u()}},[p,r,i,s,l,d,u,g]),h(b.t)}function Ju(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(qf(e)),r=_.useRef(t);return r.current!==t&&(n.current=qf(e),r.current=t),n.current}var VW=["radius"],UW=["radius"],SI,EI,AI,TI,NI,jI,CI,OI,II,PI;function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){BW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BW(t,e,n){return(e=$W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=qW(t,"string");return typeof e=="symbol"?e:e+""}function qW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(null,arguments)}function DI(t,e){if(t==null)return{};var n,r,i=FW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var MI=(t,e,n,r,i)=>{var s=zo(n),l=zo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],w=0,A=4;w<A;w++)b[w]=i[w]>u?u:i[w];g=an(SI||(SI=Sa(["M",",",""])),t,e+d*b[0]),b[0]>0&&(g+=an(EI||(EI=Sa(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+h*b[0],e)),g+=an(AI||(AI=Sa(["L ",",",""])),t+n-h*b[1],e),b[1]>0&&(g+=an(TI||(TI=Sa(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),g+=an(NI||(NI=Sa(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(g+=an(jI||(jI=Sa(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-h*b[2],e+r)),g+=an(CI||(CI=Sa(["L ",",",""])),t+h*b[3],e+r),b[3]>0&&(g+=an(OI||(OI=Sa(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);g=an(II||(II=Sa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,p,t+h*E,e,t+n-h*E,e,E,E,p,t+n,e+d*E,t+n,e+r-d*E,E,E,p,t+n-h*E,e+r,t+h*E,e+r,E,E,p,t,e+r-d*E)}else g=an(PI||(PI=Sa(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},LI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D3=t=>{var e=cn(t,LI),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:h,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:w,isAnimationActive:A,isUpdateAnimationActive:E}=e,S=_.useRef(u),O=_.useRef(d),M=_.useRef(s),R=_.useRef(l),V=_.useMemo(()=>({x:s,y:l,width:u,height:d,radius:h}),[s,l,u,d,h]),D=Ju(V,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var L=ct("recharts-rectangle",p);if(!E){var N=br(e),{radius:j}=N,I=DI(N,VW);return _.createElement("path",Wg({},I,{x:zo(s),y:zo(l),width:zo(u),height:zo(d),radius:typeof h=="number"?h:void 0,className:L,d:MI(s,l,u,d,h)}))}var z=S.current,k=O.current,$=M.current,U=R.current,ce="0px ".concat(r===-1?1:r,"px"),pe="".concat(r,"px 0px"),K=I3(["strokeDasharray"],b,typeof g=="string"?g:LI.animationEasing);return _.createElement(Zu,{animationId:D,key:D,canBegin:r>0,duration:b,easing:g,isActive:E,begin:w},Z=>{var W=pt(z,u,Z),oe=pt(k,d,Z),xe=pt($,s,Z),F=pt(U,l,Z);n.current&&(S.current=W,O.current=oe,M.current=xe,R.current=F);var X;A?Z>0?X={transition:K,strokeDasharray:pe}:X={strokeDasharray:ce}:X={strokeDasharray:pe};var ue=br(e),{radius:ge}=ue,je=DI(ue,UW);return _.createElement("path",Wg({},je,{radius:typeof h=="number"?h:void 0,className:L,d:MI(xe,F,W,oe,h),ref:n,style:kI(kI({},X),e.style)}))})};function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){HW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HW(t,e,n){return(e=KW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KW(t){var e=GW(t,"string");return typeof e=="symbol"?e:e+""}function GW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xg=Math.PI/180,YW=t=>t*180/Math.PI,Cn=(t,e,n,r)=>({x:t+Math.cos(-Xg*r)*n,y:e+Math.sin(-Xg*r)*n}),M3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},WW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},XW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=WW({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:YW(d),angleInRadian:d}},QW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},ZW=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},JW=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=XW({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:h}=QW(e),p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?VI(VI({},e),{},{radius:i,angle:ZW(p,e)}):null};function L3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Cn(e,n,r,i),u=Cn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var UI,BI,$I,qI,FI,HI,KI;function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(null,arguments)}function zl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var eX=(t,e)=>{var n=Yn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Pp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/Xg,g=d?i:i+s*p,b=Cn(e,n,h,g),w=Cn(e,n,r,g),A=d?i-s*p:i,E=Cn(e,n,h*Math.cos(p*Xg),A);return{center:b,circleTangency:w,lineTangency:E,theta:p}},z3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=eX(s,l),d=s+u,h=Cn(e,n,i,s),p=Cn(e,n,i,d),g=an(UI||(UI=zl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>d),p.x,p.y);if(r>0){var b=Cn(e,n,r,s),w=Cn(e,n,r,d);g+=an(BI||(BI=zl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(u)>180),+(s<=d),b.x,b.y)}else g+=an($I||($I=zl(["L ",","," Z"])),e,n);return g},tX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=t,p=Yn(h-d),{circleTangency:g,lineTangency:b,theta:w}=Pp({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:A,lineTangency:E,theta:S}=Pp({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),O=u?Math.abs(d-h):Math.abs(d-h)-w-S;if(O<0)return l?an(qI||(qI=zl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):z3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var M=an(FI||(FI=zl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(O>180),+(p<0),A.x,A.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:R,lineTangency:V,theta:D}=Pp({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:L,lineTangency:N,theta:j}=Pp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),I=u?Math.abs(d-h):Math.abs(d-h)-D-j;if(I<0&&s===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+=an(HI||(HI=zl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(p<0),L.x,L.y,r,r,+(I>180),+(p>0),R.x,R.y,s,s,+(p<0),V.x,V.y)}else M+=an(KI||(KI=zl(["L",",","Z"])),e,n);return M},nX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V3=t=>{var e=cn(t,nX),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var b=ct("recharts-sector",g),w=s-i,A=vr(l,w,0,!0),E;return A>0&&Math.abs(h-p)<360?E=tX({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,w/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):E=z3({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),_.createElement("path",$_({},br(e),{className:b,d:E}))};function rX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(v4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,d=Cn(r,i,s,u),h=Cn(r,i,l,u);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return L3(e)}}var f1={},h1={},m1={},GI;function iX(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(m1)),m1}var YI;function aX(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(h1)),h1}var WI;function sX(){return WI||(WI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O4(),n=aX();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=l;return d}t.range=r})(f1)),f1}var p1,XI;function oX(){return XI||(XI=1,p1=sX().range),p1}var lX=oX();const U3=Ms(lX);function Fo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zS(t){let e,n,r;t.length!==2?(e=Fo,n=(u,d)=>Fo(t(u),d),r=(u,d)=>t(u)-d):(e=t===Fo||t===cX?t:uX,n=t,r=t);function i(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<0?h=g+1:p=g}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,d,h=0,p=u.length){const g=i(u,d,h,p-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function uX(){return 0}function B3(t){return t===null?NaN:+t}function*dX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const fX=zS(Fo),Ph=fX.right;zS(B3).center;class QI extends Map{constructor(e,n=pX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ZI(this,e))}has(e){return super.has(ZI(this,e))}set(e,n){return super.set(hX(this,e),n)}delete(e){return super.delete(mX(this,e))}}function ZI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function hX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function pX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gX(t=Fo){if(t===Fo)return $3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vX=Math.sqrt(50),yX=Math.sqrt(10),bX=Math.sqrt(2);function Qg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=vX?10:s>=yX?5:s>=bX?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=n&&n<2?Qg(t,e,n*2):[u,d,h]}function q_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Qg(e,t,n):Qg(t,e,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function F_(t,e,n){return e=+e,t=+t,n=+n,Qg(t,e,n)[2]}function H_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?F_(e,t,n):F_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function q3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$3:gX(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(h-d/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/d+b)),A=Math.min(r,Math.floor(e+(d-h)*g/d+b));q3(t,e,w,A,i)}const s=t[e];let l=n,u=r;for(mf(t,n,e),i(t[r],s)>0&&mf(t,n,r);l<u;){for(mf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?mf(t,n,u):(++u,mf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function mf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xX(t,e,n){if(t=Float64Array.from(dX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return eP(t);if(e>=1)return JI(t);var r,i=(r-1)*e,s=Math.floor(i),l=JI(q3(t,s).subarray(0,s+1)),u=eP(t.subarray(s+1));return l+(u-l)*(i-s)}}function _X(t,e,n=B3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function wX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K_=Symbol("implicit");function VS(){var t=new QI,e=[],n=[],r=K_;function i(s){let l=t.get(s);if(l===void 0){if(r!==K_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new QI;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return VS(e,n).unknown(r)},Di.apply(i,arguments),i}function US(){var t=VS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,d=0,h=0,p=.5;delete t.unknown;function g(){var b=e().length,w=i<r,A=w?i:r,E=w?r:i;s=(E-A)/Math.max(1,b-d+h*2),u&&(s=Math.floor(s)),A+=(E-A-s*(b-d))*p,l=s*(1-d),u&&(A=Math.round(A),l=Math.round(l));var S=wX(b).map(function(O){return A+s*O});return n(w?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return US(e(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},Di.apply(g(),arguments)}function F3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return F3(e())},t}function SX(){return F3(US.apply(null,arguments).paddingInner(1))}function BS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function H3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rh(){}var Qf=.7,Zg=1/Qf,_u="\\s*([+-]?\\d+)\\s*",Zf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EX=/^#([0-9a-f]{3,8})$/,AX=new RegExp(`^rgb\\(${_u},${_u},${_u}\\)$`),TX=new RegExp(`^rgb\\(${Ra},${Ra},${Ra}\\)$`),NX=new RegExp(`^rgba\\(${_u},${_u},${_u},${Zf}\\)$`),jX=new RegExp(`^rgba\\(${Ra},${Ra},${Ra},${Zf}\\)$`),CX=new RegExp(`^hsl\\(${Zf},${Ra},${Ra}\\)$`),OX=new RegExp(`^hsla\\(${Zf},${Ra},${Ra},${Zf}\\)$`),tP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BS(Rh,Jf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nP,formatHex:nP,formatHex8:IX,formatHsl:PX,formatRgb:rP,toString:rP});function nP(){return this.rgb().formatHex()}function IX(){return this.rgb().formatHex8()}function PX(){return K3(this).formatHsl()}function rP(){return this.rgb().formatRgb()}function Jf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iP(e):n===3?new Br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Rp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Rp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AX.exec(t))?new Br(e[1],e[2],e[3],1):(e=TX.exec(t))?new Br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NX.exec(t))?Rp(e[1],e[2],e[3],e[4]):(e=jX.exec(t))?Rp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=CX.exec(t))?oP(e[1],e[2]/100,e[3]/100,1):(e=OX.exec(t))?oP(e[1],e[2]/100,e[3]/100,e[4]):tP.hasOwnProperty(t)?iP(tP[t]):t==="transparent"?new Br(NaN,NaN,NaN,0):null}function iP(t){return new Br(t>>16&255,t>>8&255,t&255,1)}function Rp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Br(t,e,n,r)}function RX(t){return t instanceof Rh||(t=Jf(t)),t?(t=t.rgb(),new Br(t.r,t.g,t.b,t.opacity)):new Br}function G_(t,e,n,r){return arguments.length===1?RX(t):new Br(t,e,n,r??1)}function Br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BS(Br,G_,H3(Rh,{brighter(t){return t=t==null?Zg:Math.pow(Zg,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qf:Math.pow(Qf,t),new Br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Br(Hl(this.r),Hl(this.g),Hl(this.b),Jg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aP,formatHex:aP,formatHex8:kX,formatRgb:sP,toString:sP}));function aP(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}`}function kX(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}${Vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function sP(){const t=Jg(this.opacity);return`${t===1?"rgb(":"rgba("}${Hl(this.r)}, ${Hl(this.g)}, ${Hl(this.b)}${t===1?")":`, ${t})`}`}function Jg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vl(t){return t=Hl(t),(t<16?"0":"")+t.toString(16)}function oP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xi(t,e,n,r)}function K3(t){if(t instanceof Xi)return new Xi(t.h,t.s,t.l,t.opacity);if(t instanceof Rh||(t=Jf(t)),!t)return new Xi;if(t instanceof Xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new Xi(l,u,d,t.opacity)}function DX(t,e,n,r){return arguments.length===1?K3(t):new Xi(t,e,n,r??1)}function Xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BS(Xi,DX,H3(Rh,{brighter(t){return t=t==null?Zg:Math.pow(Zg,t),new Xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qf:Math.pow(Qf,t),new Xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Br(g1(t>=240?t-240:t+120,i,r),g1(t,i,r),g1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xi(lP(this.h),kp(this.s),kp(this.l),Jg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jg(this.opacity);return`${t===1?"hsl(":"hsla("}${lP(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lP(t){return t=(t||0)%360,t<0?t+360:t}function kp(t){return Math.max(0,Math.min(1,t||0))}function g1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $S=t=>()=>t;function MX(t,e){return function(n){return t+n*e}}function LX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zX(t){return(t=+t)==1?G3:function(e,n){return n-e?LX(e,n,t):$S(isNaN(e)?n:e)}}function G3(t,e){var n=e-t;return n?MX(t,n):$S(isNaN(t)?e:t)}const cP=(function t(e){var n=zX(e);function r(i,s){var l=n((i=G_(i)).r,(s=G_(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),h=G3(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function VX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function UX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=ed(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function $X(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ev(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ed(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Y_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v1=new RegExp(Y_.source,"g");function FX(t){return function(){return t}}function HX(t){return function(e){return t(e)+""}}function KX(t,e){var n=Y_.lastIndex=v1.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=Y_.exec(t))&&(i=v1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:ev(r,i)})),n=v1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?HX(d[0].x):FX(e):(e=d.length,function(h){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(h);return u.join("")})}function ed(t,e){var n=typeof e,r;return e==null||n==="boolean"?$S(e):(n==="number"?ev:n==="string"?(r=Jf(e))?(e=r,cP):KX:e instanceof Jf?cP:e instanceof Date?$X:UX(e)?VX:Array.isArray(e)?BX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qX:ev)(t,e)}function qS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function GX(t,e){e===void 0&&(e=t,t=ed);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function YX(t){return function(){return t}}function tv(t){return+t}var uP=[0,1];function Er(t){return t}function W_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:YX(isNaN(e)?NaN:.5)}function WX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function XX(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=W_(i,r),s=n(l,s)):(r=W_(r,i),s=n(s,l)),function(u){return s(r(u))}}function QX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=W_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var d=Ph(t,u,1,r)-1;return s[d](i[d](u))}}function kh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function my(){var t=uP,e=uP,n=ed,r,i,s,l=Er,u,d,h;function p(){var b=Math.min(t.length,e.length);return l!==Er&&(l=WX(t[0],t[b-1])),u=b>2?QX:XX,d=h=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((h||(h=u(e,t.map(r),ev)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,tv),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=qS,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Er,p()):l!==Er},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,w){return r=b,i=w,p()}}function FS(){return my()(Er,Er)}function ZX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function nv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ku(t){return t=nv(Math.abs(t)),t?t[1]:NaN}function JX(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function eQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var tQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eh(t){if(!(e=tQ.exec(t)))throw new Error("invalid format: "+t);var e;return new HS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}eh.prototype=HS.prototype;function HS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}HS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Y3;function rQ(t,e){var n=nv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Y3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+nv(t,Math.max(0,e+s-1))[0]}function dP(t,e){var n=nv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ZX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dP(t*100,e),r:dP,s:rQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hP(t){return t}var mP=Array.prototype.map,pP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iQ(t){var e=t.grouping===void 0||t.thousands===void 0?hP:JX(mP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?hP:eQ(mP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(g){g=eh(g);var b=g.fill,w=g.align,A=g.sign,E=g.symbol,S=g.zero,O=g.width,M=g.comma,R=g.precision,V=g.trim,D=g.type;D==="n"?(M=!0,D="g"):fP[D]||(R===void 0&&(R=12),V=!0,D="g"),(S||b==="0"&&w==="=")&&(S=!0,b="0",w="=");var L=E==="$"?n:E==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",N=E==="$"?r:/[%p]/.test(D)?l:"",j=fP[D],I=/[defgprs%]/.test(D);R=R===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function z(k){var $=L,U=N,ce,pe,K;if(D==="c")U=j(k)+U,k="";else{k=+k;var Z=k<0||1/k<0;if(k=isNaN(k)?d:j(Math.abs(k),R),V&&(k=nQ(k)),Z&&+k==0&&A!=="+"&&(Z=!1),$=(Z?A==="("?A:u:A==="-"||A==="("?"":A)+$,U=(D==="s"?pP[8+Y3/3]:"")+U+(Z&&A==="("?")":""),I){for(ce=-1,pe=k.length;++ce<pe;)if(K=k.charCodeAt(ce),48>K||K>57){U=(K===46?i+k.slice(ce+1):k.slice(ce))+U,k=k.slice(0,ce);break}}}M&&!S&&(k=e(k,1/0));var W=$.length+k.length+U.length,oe=W<O?new Array(O-W+1).join(b):"";switch(M&&S&&(k=e(oe+k,oe.length?O-U.length:1/0),oe=""),w){case"<":k=$+k+U+oe;break;case"=":k=$+oe+k+U;break;case"^":k=oe.slice(0,W=oe.length>>1)+$+k+U+oe.slice(W);break;default:k=oe+$+k+U;break}return s(k)}return z.toString=function(){return g+""},z}function p(g,b){var w=h((g=eh(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(ku(b)/3)))*3,E=Math.pow(10,-A),S=pP[8+A/3];return function(O){return w(E*O)+S}}return{format:h,formatPrefix:p}}var Dp,KS,W3;aQ({thousands:",",grouping:[3],currency:["$",""]});function aQ(t){return Dp=iQ(t),KS=Dp.format,W3=Dp.formatPrefix,Dp}function sQ(t){return Math.max(0,-ku(Math.abs(t)))}function oQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ku(e)/3)))*3-ku(Math.abs(t)))}function lQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ku(e)-ku(t))+1}function X3(t,e,n,r){var i=H_(t,e,n),s;switch(r=eh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=oQ(i,l))&&(r.precision=s),W3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=lQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=sQ(i))&&(r.precision=s-(r.type==="%")*2);break}}return KS(r)}function al(t){var e=t.domain;return t.ticks=function(n){var r=e();return q_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return X3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=F_(l,u,n),h===d)return r[i]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function Q3(){var t=FS();return t.copy=function(){return kh(t,Q3())},Di.apply(t,arguments),al(t)}function Z3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,tv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Z3(t).unknown(e)},t=arguments.length?Array.from(t,tv):[0,1],al(n)}function J3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function gP(t){return Math.log(t)}function vP(t){return Math.exp(t)}function cQ(t){return-Math.log(-t)}function uQ(t){return-Math.exp(-t)}function dQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fQ(t){return t===10?dQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yP(t){return(e,n)=>-t(-e,n)}function GS(t){const e=t(gP,vP),n=e.domain;let r=10,i,s;function l(){return i=hQ(r),s=fQ(r),n()[0]<0?(i=yP(i),s=yP(s),t(cQ,uQ)):t(gP,vP),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const g=p<h;g&&([h,p]=[p,h]);let b=i(h),w=i(p),A,E;const S=u==null?10:+u;let O=[];if(!(r%1)&&w-b<S){if(b=Math.floor(b),w=Math.ceil(w),h>0){for(;b<=w;++b)for(A=1;A<r;++A)if(E=b<0?A/s(-b):A*s(b),!(E<h)){if(E>p)break;O.push(E)}}else for(;b<=w;++b)for(A=r-1;A>=1;--A)if(E=b>0?A/s(-b):A*s(b),!(E<h)){if(E>p)break;O.push(E)}O.length*2<S&&(O=q_(h,p,S))}else O=q_(b,w,Math.min(w-b,S)).map(s);return g?O.reverse():O},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=eh(d)).precision==null&&(d.trim=!0),d=KS(d)),u===1/0)return d;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?d(p):""}},e.nice=()=>n(J3(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function e5(){const t=GS(my()).domain([1,10]);return t.copy=()=>kh(t,e5()).base(t.base()),Di.apply(t,arguments),t}function bP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function YS(t){var e=1,n=t(bP(e),xP(e));return n.constant=function(r){return arguments.length?t(bP(e=+r),xP(e)):e},al(n)}function t5(){var t=YS(my());return t.copy=function(){return kh(t,t5()).constant(t.constant())},Di.apply(t,arguments)}function _P(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function pQ(t){return t<0?-t*t:t*t}function WS(t){var e=t(Er,Er),n=1;function r(){return n===1?t(Er,Er):n===.5?t(mQ,pQ):t(_P(n),_P(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},al(e)}function XS(){var t=WS(my());return t.copy=function(){return kh(t,XS()).exponent(t.exponent())},Di.apply(t,arguments),t}function gQ(){return XS.apply(null,arguments).exponent(.5)}function wP(t){return Math.sign(t)*t*t}function vQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function n5(){var t=FS(),e=[0,1],n=!1,r;function i(s){var l=vQ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(wP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,tv)).map(wP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return n5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),al(i)}function r5(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=_X(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Ph(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Fo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return r5().domain(t).range(e).unknown(r)},Di.apply(s,arguments)}function i5(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Ph(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return i5().domain([t,e]).range(i).unknown(s)},Di.apply(al(l),arguments)}function a5(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Ph(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return a5().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const y1=new Date,b1=new Date;function Ln(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return d},i.filter=s=>Ln(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(y1.setTime(+s),b1.setTime(+l),t(y1),t(b1),Math.floor(n(y1,b1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const rv=Ln(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);rv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ln(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):rv);rv.range;const vs=1e3,Oi=vs*60,ys=Oi*60,Is=ys*24,QS=Is*7,SP=Is*30,x1=Is*365,Ul=Ln(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getUTCSeconds());Ul.range;const ZS=Ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vs)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getMinutes());ZS.range;const JS=Ln(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getUTCMinutes());JS.range;const eE=Ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vs-t.getMinutes()*Oi)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getHours());eE.range;const tE=Ln(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCHours());tE.range;const Dh=Ln(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oi)/Is,t=>t.getDate()-1);Dh.range;const py=Ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Is,t=>t.getUTCDate()-1);py.range;const s5=Ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Is,t=>Math.floor(t/Is));s5.range;function hc(t){return Ln(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Oi)/QS)}const gy=hc(0),iv=hc(1),yQ=hc(2),bQ=hc(3),Du=hc(4),xQ=hc(5),_Q=hc(6);gy.range;iv.range;yQ.range;bQ.range;Du.range;xQ.range;_Q.range;function mc(t){return Ln(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/QS)}const vy=mc(0),av=mc(1),wQ=mc(2),SQ=mc(3),Mu=mc(4),EQ=mc(5),AQ=mc(6);vy.range;av.range;wQ.range;SQ.range;Mu.range;EQ.range;AQ.range;const nE=Ln(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nE.range;const rE=Ln(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rE.range;const Ps=Ln(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ln(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ps.range;const Rs=Ln(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ln(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Rs.range;function o5(t,e,n,r,i,s){const l=[[Ul,1,vs],[Ul,5,5*vs],[Ul,15,15*vs],[Ul,30,30*vs],[s,1,Oi],[s,5,5*Oi],[s,15,15*Oi],[s,30,30*Oi],[i,1,ys],[i,3,3*ys],[i,6,6*ys],[i,12,12*ys],[r,1,Is],[r,2,2*Is],[n,1,QS],[e,1,SP],[e,3,3*SP],[t,1,x1]];function u(h,p,g){const b=p<h;b&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:d(h,p,g),A=w?w.range(h,+p+1):[];return b?A.reverse():A}function d(h,p,g){const b=Math.abs(p-h)/g,w=zS(([,,S])=>S).right(l,b);if(w===l.length)return t.every(H_(h/x1,p/x1,g));if(w===0)return rv.every(Math.max(H_(h,p,g),1));const[A,E]=l[b/l[w-1][2]<l[w][2]/b?w-1:w];return A.every(E)}return[u,d]}const[TQ,NQ]=o5(Rs,rE,vy,s5,tE,JS),[jQ,CQ]=o5(Ps,nE,gy,Dh,eE,ZS);function _1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function w1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function OQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=gf(i),p=vf(i),g=gf(s),b=vf(s),w=gf(l),A=vf(l),E=gf(u),S=vf(u),O=gf(d),M=vf(d),R={a:Z,A:W,b:oe,B:xe,c:null,d:CP,e:CP,f:JQ,g:cZ,G:dZ,H:XQ,I:QQ,j:ZQ,L:l5,m:eZ,M:tZ,p:F,q:X,Q:PP,s:RP,S:nZ,u:rZ,U:iZ,V:aZ,w:sZ,W:oZ,x:null,X:null,y:lZ,Y:uZ,Z:fZ,"%":IP},V={a:ue,A:ge,b:je,B:se,c:null,d:OP,e:OP,f:gZ,g:TZ,G:jZ,H:hZ,I:mZ,j:pZ,L:u5,m:vZ,M:yZ,p:we,q:Ue,Q:PP,s:RP,S:bZ,u:xZ,U:_Z,V:wZ,w:SZ,W:EZ,x:null,X:null,y:AZ,Y:NZ,Z:CZ,"%":IP},D={a:z,A:k,b:$,B:U,c:ce,d:NP,e:NP,f:KQ,g:TP,G:AP,H:jP,I:jP,j:$Q,L:HQ,m:BQ,M:qQ,p:I,q:UQ,Q:YQ,s:WQ,S:FQ,u:DQ,U:MQ,V:LQ,w:kQ,W:zQ,x:pe,X:K,y:TP,Y:AP,Z:VQ,"%":GQ};R.x=L(n,R),R.X=L(r,R),R.c=L(e,R),V.x=L(n,V),V.X=L(r,V),V.c=L(e,V);function L(le,Re){return function(Be){var be=[],St=-1,We=0,Kt=le.length,Et,tn,lr;for(Be instanceof Date||(Be=new Date(+Be));++St<Kt;)le.charCodeAt(St)===37&&(be.push(le.slice(We,St)),(tn=EP[Et=le.charAt(++St)])!=null?Et=le.charAt(++St):tn=Et==="e"?" ":"0",(lr=Re[Et])&&(Et=lr(Be,tn)),be.push(Et),We=St+1);return be.push(le.slice(We,St)),be.join("")}}function N(le,Re){return function(Be){var be=pf(1900,void 0,1),St=j(be,le,Be+="",0),We,Kt;if(St!=Be.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Re&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(We=w1(pf(be.y,0,1)),Kt=We.getUTCDay(),We=Kt>4||Kt===0?av.ceil(We):av(We),We=py.offset(We,(be.V-1)*7),be.y=We.getUTCFullYear(),be.m=We.getUTCMonth(),be.d=We.getUTCDate()+(be.w+6)%7):(We=_1(pf(be.y,0,1)),Kt=We.getDay(),We=Kt>4||Kt===0?iv.ceil(We):iv(We),We=Dh.offset(We,(be.V-1)*7),be.y=We.getFullYear(),be.m=We.getMonth(),be.d=We.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),Kt="Z"in be?w1(pf(be.y,0,1)).getUTCDay():_1(pf(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(Kt+5)%7:be.w+be.U*7-(Kt+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,w1(be)):_1(be)}}function j(le,Re,Be,be){for(var St=0,We=Re.length,Kt=Be.length,Et,tn;St<We;){if(be>=Kt)return-1;if(Et=Re.charCodeAt(St++),Et===37){if(Et=Re.charAt(St++),tn=D[Et in EP?Re.charAt(St++):Et],!tn||(be=tn(le,Be,be))<0)return-1}else if(Et!=Be.charCodeAt(be++))return-1}return be}function I(le,Re,Be){var be=h.exec(Re.slice(Be));return be?(le.p=p.get(be[0].toLowerCase()),Be+be[0].length):-1}function z(le,Re,Be){var be=w.exec(Re.slice(Be));return be?(le.w=A.get(be[0].toLowerCase()),Be+be[0].length):-1}function k(le,Re,Be){var be=g.exec(Re.slice(Be));return be?(le.w=b.get(be[0].toLowerCase()),Be+be[0].length):-1}function $(le,Re,Be){var be=O.exec(Re.slice(Be));return be?(le.m=M.get(be[0].toLowerCase()),Be+be[0].length):-1}function U(le,Re,Be){var be=E.exec(Re.slice(Be));return be?(le.m=S.get(be[0].toLowerCase()),Be+be[0].length):-1}function ce(le,Re,Be){return j(le,e,Re,Be)}function pe(le,Re,Be){return j(le,n,Re,Be)}function K(le,Re,Be){return j(le,r,Re,Be)}function Z(le){return l[le.getDay()]}function W(le){return s[le.getDay()]}function oe(le){return d[le.getMonth()]}function xe(le){return u[le.getMonth()]}function F(le){return i[+(le.getHours()>=12)]}function X(le){return 1+~~(le.getMonth()/3)}function ue(le){return l[le.getUTCDay()]}function ge(le){return s[le.getUTCDay()]}function je(le){return d[le.getUTCMonth()]}function se(le){return u[le.getUTCMonth()]}function we(le){return i[+(le.getUTCHours()>=12)]}function Ue(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Re=L(le+="",R);return Re.toString=function(){return le},Re},parse:function(le){var Re=N(le+="",!1);return Re.toString=function(){return le},Re},utcFormat:function(le){var Re=L(le+="",V);return Re.toString=function(){return le},Re},utcParse:function(le){var Re=N(le+="",!0);return Re.toString=function(){return le},Re}}}var EP={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,IQ=/^%/,PQ=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function RQ(t){return t.replace(PQ,"\\$&")}function gf(t){return new RegExp("^(?:"+t.map(RQ).join("|")+")","i")}function vf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function kQ(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function DQ(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function MQ(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function LQ(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zQ(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function AP(t,e,n){var r=Xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TP(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function VQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function UQ(t,e,n){var r=Xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function BQ(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function NP(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $Q(t,e,n){var r=Xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jP(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qQ(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function FQ(t,e,n){var r=Xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=Xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function KQ(t,e,n){var r=Xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function GQ(t,e,n){var r=IQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function YQ(t,e,n){var r=Xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function WQ(t,e,n){var r=Xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CP(t,e){return ft(t.getDate(),e,2)}function XQ(t,e){return ft(t.getHours(),e,2)}function QQ(t,e){return ft(t.getHours()%12||12,e,2)}function ZQ(t,e){return ft(1+Dh.count(Ps(t),t),e,3)}function l5(t,e){return ft(t.getMilliseconds(),e,3)}function JQ(t,e){return l5(t,e)+"000"}function eZ(t,e){return ft(t.getMonth()+1,e,2)}function tZ(t,e){return ft(t.getMinutes(),e,2)}function nZ(t,e){return ft(t.getSeconds(),e,2)}function rZ(t){var e=t.getDay();return e===0?7:e}function iZ(t,e){return ft(gy.count(Ps(t)-1,t),e,2)}function c5(t){var e=t.getDay();return e>=4||e===0?Du(t):Du.ceil(t)}function aZ(t,e){return t=c5(t),ft(Du.count(Ps(t),t)+(Ps(t).getDay()===4),e,2)}function sZ(t){return t.getDay()}function oZ(t,e){return ft(iv.count(Ps(t)-1,t),e,2)}function lZ(t,e){return ft(t.getFullYear()%100,e,2)}function cZ(t,e){return t=c5(t),ft(t.getFullYear()%100,e,2)}function uZ(t,e){return ft(t.getFullYear()%1e4,e,4)}function dZ(t,e){var n=t.getDay();return t=n>=4||n===0?Du(t):Du.ceil(t),ft(t.getFullYear()%1e4,e,4)}function fZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function OP(t,e){return ft(t.getUTCDate(),e,2)}function hZ(t,e){return ft(t.getUTCHours(),e,2)}function mZ(t,e){return ft(t.getUTCHours()%12||12,e,2)}function pZ(t,e){return ft(1+py.count(Rs(t),t),e,3)}function u5(t,e){return ft(t.getUTCMilliseconds(),e,3)}function gZ(t,e){return u5(t,e)+"000"}function vZ(t,e){return ft(t.getUTCMonth()+1,e,2)}function yZ(t,e){return ft(t.getUTCMinutes(),e,2)}function bZ(t,e){return ft(t.getUTCSeconds(),e,2)}function xZ(t){var e=t.getUTCDay();return e===0?7:e}function _Z(t,e){return ft(vy.count(Rs(t)-1,t),e,2)}function d5(t){var e=t.getUTCDay();return e>=4||e===0?Mu(t):Mu.ceil(t)}function wZ(t,e){return t=d5(t),ft(Mu.count(Rs(t),t)+(Rs(t).getUTCDay()===4),e,2)}function SZ(t){return t.getUTCDay()}function EZ(t,e){return ft(av.count(Rs(t)-1,t),e,2)}function AZ(t,e){return ft(t.getUTCFullYear()%100,e,2)}function TZ(t,e){return t=d5(t),ft(t.getUTCFullYear()%100,e,2)}function NZ(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function jZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Mu(t):Mu.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function CZ(){return"+0000"}function IP(){return"%"}function PP(t){return+t}function RP(t){return Math.floor(+t/1e3)}var ru,f5,h5;OZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OZ(t){return ru=OQ(t),f5=ru.format,ru.parse,h5=ru.utcFormat,ru.utcParse,ru}function IZ(t){return new Date(t)}function PZ(t){return t instanceof Date?+t:+new Date(+t)}function iE(t,e,n,r,i,s,l,u,d,h){var p=FS(),g=p.invert,b=p.domain,w=h(".%L"),A=h(":%S"),E=h("%I:%M"),S=h("%I %p"),O=h("%a %d"),M=h("%b %d"),R=h("%B"),V=h("%Y");function D(L){return(d(L)<L?w:u(L)<L?A:l(L)<L?E:s(L)<L?S:r(L)<L?i(L)<L?O:M:n(L)<L?R:V)(L)}return p.invert=function(L){return new Date(g(L))},p.domain=function(L){return arguments.length?b(Array.from(L,PZ)):b().map(IZ)},p.ticks=function(L){var N=b();return t(N[0],N[N.length-1],L??10)},p.tickFormat=function(L,N){return N==null?D:h(N)},p.nice=function(L){var N=b();return(!L||typeof L.range!="function")&&(L=e(N[0],N[N.length-1],L??10)),L?b(J3(N,L)):p},p.copy=function(){return kh(p,iE(t,e,n,r,i,s,l,u,d,h))},p}function RZ(){return Di.apply(iE(jQ,CQ,Ps,nE,gy,Dh,eE,ZS,Ul,f5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kZ(){return Di.apply(iE(TQ,NQ,Rs,rE,vy,py,tE,JS,Ul,h5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yy(){var t=0,e=1,n,r,i,s,l=Er,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(b){var w,A;return arguments.length?([w,A]=b,l=g(w,A),h):[l(0),l(1)]}}return h.range=p(ed),h.rangeRound=p(qS),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function sl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function m5(){var t=al(yy()(Er));return t.copy=function(){return sl(t,m5())},Bs.apply(t,arguments)}function p5(){var t=GS(yy()).domain([1,10]);return t.copy=function(){return sl(t,p5()).base(t.base())},Bs.apply(t,arguments)}function g5(){var t=YS(yy());return t.copy=function(){return sl(t,g5()).constant(t.constant())},Bs.apply(t,arguments)}function aE(){var t=WS(yy());return t.copy=function(){return sl(t,aE()).exponent(t.exponent())},Bs.apply(t,arguments)}function DZ(){return aE.apply(null,arguments).exponent(.5)}function v5(){var t=[],e=Er;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ph(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Fo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>xX(t,s/r))},n.copy=function(){return v5(e).domain(t)},Bs.apply(n,arguments)}function by(){var t=0,e=.5,n=1,r=1,i,s,l,u,d,h=Er,p,g=!1,b;function w(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(r*E<r*s?u:d),h(g?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,w):[t,e,n]},w.clamp=function(E){return arguments.length?(g=!!E,w):g},w.interpolator=function(E){return arguments.length?(h=E,w):h};function A(E){return function(S){var O,M,R;return arguments.length?([O,M,R]=S,h=GX(E,[O,M,R]),w):[h(0),h(.5),h(1)]}}return w.range=A(ed),w.rangeRound=A(qS),w.unknown=function(E){return arguments.length?(b=E,w):b},function(E){return p=E,i=E(t),s=E(e),l=E(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,w}}function y5(){var t=al(by()(Er));return t.copy=function(){return sl(t,y5())},Bs.apply(t,arguments)}function b5(){var t=GS(by()).domain([.1,1,10]);return t.copy=function(){return sl(t,b5()).base(t.base())},Bs.apply(t,arguments)}function x5(){var t=YS(by());return t.copy=function(){return sl(t,x5()).constant(t.constant())},Bs.apply(t,arguments)}function sE(){var t=WS(by());return t.copy=function(){return sl(t,sE()).exponent(t.exponent())},Bs.apply(t,arguments)}function MZ(){return sE.apply(null,arguments).exponent(.5)}const Ef=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:US,scaleDiverging:y5,scaleDivergingLog:b5,scaleDivergingPow:sE,scaleDivergingSqrt:MZ,scaleDivergingSymlog:x5,scaleIdentity:Z3,scaleImplicit:K_,scaleLinear:Q3,scaleLog:e5,scaleOrdinal:VS,scalePoint:SX,scalePow:XS,scaleQuantile:r5,scaleQuantize:i5,scaleRadial:n5,scaleSequential:m5,scaleSequentialLog:p5,scaleSequentialPow:aE,scaleSequentialQuantile:v5,scaleSequentialSqrt:DZ,scaleSequentialSymlog:g5,scaleSqrt:gQ,scaleSymlog:t5,scaleThreshold:a5,scaleTime:RZ,scaleUtc:kZ,tickFormat:X3},Symbol.toStringTag,{value:"Module"}));var $s=t=>t.chartData,xy=ee([$s],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),oE=(t,e,n,r)=>r?xy(t):$s(t),_5=(t,e,n)=>n?xy(t):$s(t);function Zo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Dt(e)&&Dt(n))return!0}return!1}function kP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function w5(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Dt(n))i=n;else if(typeof n=="function")return;if(Dt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Zo(l))return l}}function LZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Zo(r))return kP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ae(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&HO.test(i)){var d=HO.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Ae(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&KO.test(s)){var p=KO.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(Zo(b))return e==null?b:kP(b,e,n)}}}var td=1e9,zZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cE,Xt=!0,ki="[DecimalError] ",Kl=ki+"Invalid argument: ",lE=ki+"Exponent out of range: ",nd=Math.floor,Dl=Math.pow,VZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ai,Gn=1e7,Ft=7,S5=9007199254740991,sv=nd(S5/Ft),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(t){return _s(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,n=e.constructor;return kt(_s(e,new n(t),0,1),n.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return On(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ai))throw Error(ki+"NaN");if(n.s<1)throw Error(ki+(n.s?"NaN":"-Infinity"));return n.eq(ai)?new r(0):(Xt=!1,e=_s(th(n,s),th(t,s),s),Xt=!0,kt(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T5(e,t):E5(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ki+"NaN");return n.s?(Xt=!1,e=_s(n,t,0,1).times(t),Xt=!0,n.minus(e)):kt(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return A5(this)};Ne.naturalLogarithm=Ne.ln=function(){return th(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E5(e,t):T5(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Kl+t);if(e=On(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ne.squareRoot=Ne.sqrt=function(){var t,e,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(ki+"NaN")}for(t=On(u),Xt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ta(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(_s(u,s,l+2)).times(.5),Ta(s.d).slice(0,l)===(e=Ta(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(kt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return Xt=!0,kt(r,n)};Ne.times=Ne.mul=function(t){var e,n,r,i,s,l,u,d,h,p=this,g=p.constructor,b=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,h=w.length,d<h&&(s=b,b=w,w=s,l=d,d=h,h=l),s=[],l=d+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)u=s[i]+w[r]*b[i-r-1]+e,s[i--]=u%Gn|0,e=u/Gn|0;s[i]=(s[i]+e)%Gn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Xt?kt(t,g.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(za(t,0,td),e===void 0?e=r.rounding:za(e,0,8),kt(n,t+On(n)+1,e))};Ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=sc(r,!0):(za(t,0,td),e===void 0?e=i.rounding:za(e,0,8),r=kt(new i(r),t+1,e),n=sc(r,!0,t+1)),n};Ne.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?sc(i):(za(t,0,td),e===void 0?e=s.rounding:za(e,0,8),r=kt(new s(i),t+On(i)+1,e),n=sc(r.abs(),!1,t+On(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return kt(new e(t),On(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,n,r,i,s,l,u=this,d=u.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(ai);if(u=new d(u),!u.s){if(t.s<1)throw Error(ki+"Infinity");return u}if(u.eq(ai))return u;if(r=d.precision,t.eq(ai))return kt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=S5){for(i=new d(ai),e=Math.ceil(r/Ft+4),Xt=!1;n%2&&(i=i.times(u),MP(i.d,e)),n=nd(n/2),n!==0;)u=u.times(u),MP(u.d,e);return Xt=!0,t.s<0?new d(ai).div(i):kt(i,r)}}else if(s<0)throw Error(ki+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Xt=!1,i=t.times(th(u,r+h)),Xt=!0,i=A5(i),i.s=s,i};Ne.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=On(i),r=sc(i,n<=s.toExpNeg||n>=s.toExpPos)):(za(t,1,td),e===void 0?e=s.rounding:za(e,0,8),i=kt(new s(i),t,e),n=On(i),r=sc(i,t<=n||n<=s.toExpNeg,t)),r};Ne.toSignificantDigits=Ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(za(t,1,td),e===void 0?e=r.rounding:za(e,0,8)),kt(new r(n),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=On(t),n=t.constructor;return sc(t,e<=n.toExpNeg||e>=n.toExpPos)};function E5(t,e){var n,r,i,s,l,u,d,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Xt?kt(e,g):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=h.length):(r=h,i=l,u=d.length),l=Math.ceil(g/Ft),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/Gn|0,d[s]%=Gn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Xt?kt(e,g):e}function za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Kl+t)}function Ta(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Ft-r.length,n&&(s+=jo(n)),s+=r;l=t[e],r=l+"",n=Ft-r.length,n&&(s+=jo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var _s=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Gn|0,l=s/Gn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Gn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,h,p,g,b,w,A,E,S,O,M,R,V,D,L,N,j,I=r.constructor,z=r.s==i.s?1:-1,k=r.d,$=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ki+"Division by zero");for(d=r.e-i.e,N=$.length,D=k.length,w=new I(z),A=w.d=[],h=0;$[h]==(k[h]||0);)++h;if($[h]>(k[h]||0)&&--d,s==null?M=s=I.precision:l?M=s+(On(r)-On(i))+1:M=s,M<0)return new I(0);if(M=M/Ft+2|0,h=0,N==1)for(p=0,$=$[0],M++;(h<D||p)&&M--;h++)R=p*Gn+(k[h]||0),A[h]=R/$|0,p=R%$|0;else{for(p=Gn/($[0]+1)|0,p>1&&($=t($,p),k=t(k,p),N=$.length,D=k.length),V=N,E=k.slice(0,N),S=E.length;S<N;)E[S++]=0;j=$.slice(),j.unshift(0),L=$[0],$[1]>=Gn/2&&++L;do p=0,u=e($,E,N,S),u<0?(O=E[0],N!=S&&(O=O*Gn+(E[1]||0)),p=O/L|0,p>1?(p>=Gn&&(p=Gn-1),g=t($,p),b=g.length,S=E.length,u=e(g,E,b,S),u==1&&(p--,n(g,N<b?j:$,b))):(p==0&&(u=p=1),g=$.slice()),b=g.length,b<S&&g.unshift(0),n(E,g,S),u==-1&&(S=E.length,u=e($,E,N,S),u<1&&(p++,n(E,N<S?j:$,S))),S=E.length):u===0&&(p++,E=[0]),A[h++]=p,u&&E[0]?E[S++]=k[V]||0:(E=[k[V]],S=1);while((V++<D||E[0]!==void 0)&&M--)}return A[0]||A.shift(),w.e=d,kt(w,l?s+On(w)+1:s)}})();function A5(t,e){var n,r,i,s,l,u,d=0,h=0,p=t.constructor,g=p.precision;if(On(t)>16)throw Error(lE+On(t));if(!t.s)return new p(ai);for(Xt=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Dl(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(ai),p.precision=u;;){if(i=kt(i.times(t),u),n=n.times(++d),l=s.plus(_s(i,n,u)),Ta(l.d).slice(0,u)===Ta(s.d).slice(0,u)){for(;h--;)s=kt(s.times(s),u);return p.precision=g,e==null?(Xt=!0,kt(s,g)):s}s=l}}function On(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function S1(t,e,n){if(e>t.LN10.sd())throw Xt=!0,n&&(t.precision=n),Error(ki+"LN10 precision limit exceeded");return kt(new t(t.LN10),e)}function jo(t){for(var e="";t--;)e+="0";return e}function th(t,e){var n,r,i,s,l,u,d,h,p,g=1,b=10,w=t,A=w.d,E=w.constructor,S=E.precision;if(w.s<1)throw Error(ki+(w.s?"NaN":"-Infinity"));if(w.eq(ai))return new E(0);if(e==null?(Xt=!1,h=S):h=e,w.eq(10))return e==null&&(Xt=!0),S1(E,h);if(h+=b,E.precision=h,n=Ta(A),r=n.charAt(0),s=On(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ta(w.d),r=n.charAt(0),g++;s=On(w),r>1?(w=new E("0."+n),s++):w=new E(r+"."+n.slice(1))}else return d=S1(E,h+2,S).times(s+""),w=th(new E(r+"."+n.slice(1)),h-b).plus(d),E.precision=S,e==null?(Xt=!0,kt(w,S)):w;for(u=l=w=_s(w.minus(ai),w.plus(ai),h),p=kt(w.times(w),h),i=3;;){if(l=kt(l.times(p),h),d=u.plus(_s(l,new E(i),h)),Ta(d.d).slice(0,h)===Ta(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(S1(E,h+2,S).times(s+""))),u=_s(u,new E(g),h),E.precision=S,e==null?(Xt=!0,kt(u,S)):u;u=d,i+=2}}function DP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nd(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ft;r<i;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xt&&(t.e>sv||t.e<-sv))throw Error(lE+n)}else t.s=0,t.e=0,t.d=[0];return t}function kt(t,e,n){var r,i,s,l,u,d,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ft,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Ft),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=Ft,i=r-Ft+l}if(n!==void 0&&(s=Dl(10,l-i-1),u=h/s%10|0,d=e<0||g[p+1]!==void 0||h%s,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/Dl(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(s=On(t),g.length=1,e=e-s-1,g[0]=Dl(10,(Ft-e%Ft)%Ft),t.e=nd(-e/Ft)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Dl(10,Ft-r),g[p]=i>0?(h/Dl(10,l-i)%Dl(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==Gn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Gn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Xt&&(t.e>sv||t.e<-sv))throw Error(lE+On(t));return t}function T5(t,e){var n,r,i,s,l,u,d,h,p,g,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Xt?kt(e,w):e;if(d=t.d,g=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(w/Ft),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=Gn-1;--d[s],d[i]+=Gn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Xt?kt(e,w):e):new b(0)}function sc(t,e,n){var r,i=On(t),s=Ta(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+jo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+jo(-i-1)+s,n&&(r=n-l)>0&&(s+=jo(r))):i>=l?(s+=jo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+jo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=jo(r))),t.s<0?"-"+s:s}function MP(t,e){if(t.length>e)return t.length=e,!0}function N5(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Kl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return DP(l,s.toString())}else if(typeof s!="string")throw Error(Kl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,VZ.test(s))DP(l,s);else throw Error(Kl+s)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N5,i.config=i.set=UZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function UZ(t){if(!t||typeof t!="object")throw Error(ki+"Object expected");var e,n,r,i=["precision",1,td,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Kl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kl+n+": "+r);return this}var cE=N5(zZ);ai=new cE(1);const wt=cE;var BZ=t=>t,j5={},C5=t=>t===j5,LP=t=>function e(){return arguments.length===0||arguments.length===1&&C5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},O5=(t,e)=>t===1?e:LP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==j5).length;return s>=t?e(...r):O5(t-s,LP(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=r.map(p=>C5(p)?u.shift():p);return e(...h,...u)}))}),$Z=t=>O5(t.length,t),X_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},qZ=$Z((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),FZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return BZ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}};function I5(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function P5(t,e,n){for(var r=new wt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var R5=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},k5=(t,e,n)=>{if(t.lte(0))return new wt(0);var r=I5(t.toNumber()),i=new wt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new wt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new wt(d.toNumber()):new wt(Math.ceil(d.toNumber()))},HZ=(t,e,n)=>{var r=new wt(1),i=new wt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new wt(10).pow(I5(t)-1),i=new wt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):n||(i=new wt(Math.floor(t)));var l=Math.floor((e-1)/2),u=FZ(qZ(d=>i.add(new wt(d-l).mul(r)).toNumber()),X_);return u(0,e)},D5=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var l=k5(new wt(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new wt(0):(u=new wt(e).add(n).div(2),u=u.sub(new wt(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new wt(n).sub(u).div(l).toNumber()),p=d+h+1;return p>r?D5(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new wt(d).mul(l)),tickMax:u.add(new wt(h).mul(l))})},KZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=R5([n,r]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...X_(0,i-1).map(()=>1/0)]:[...X_(0,i-1).map(()=>-1/0),d];return n>r?h.reverse():h}if(u===d)return HZ(u,i,s);var{step:p,tickMin:g,tickMax:b}=D5(u,d,l,s,0),w=P5(g,b.add(new wt(.1).mul(p)),p);return n>r?w.reverse():w},GZ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=R5([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),h=k5(new wt(u).sub(l).div(d-1),s,0),p=[...P5(new wt(l),new wt(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},M5=t=>t.rootProps.maxBarSize,YZ=t=>t.rootProps.barGap,L5=t=>t.rootProps.barCategoryGap,WZ=t=>t.rootProps.barSize,Mh=t=>t.rootProps.stackOffset,z5=t=>t.rootProps.reverseStackOrder,uE=t=>t.options.chartName,dE=t=>t.rootProps.syncId,V5=t=>t.rootProps.syncMethod,fE=t=>t.options.eventEmitter,XZ=t=>t.rootProps.baseValue,vn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},hs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ii={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_y=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},QZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hs.angleAxisId,includeHidden:!1,name:void 0,reversed:hs.reversed,scale:hs.scale,tick:hs.tick,tickCount:void 0,ticks:void 0,type:hs.type,unit:void 0},ZZ={allowDataOverflow:ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,ticks:void 0,type:ii.type,unit:void 0},JZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:hs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hs.scale,tick:hs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eJ={allowDataOverflow:ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,ticks:void 0,type:"category",unit:void 0},hE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?JZ:QZ,mE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?eJ:ZZ,wy=t=>t.polarOptions,pE=ee([Vs,Us,Mn],M3),U5=ee([wy,pE],(t,e)=>{if(t!=null)return vr(t.innerRadius,e,0)}),B5=ee([wy,pE],(t,e)=>{if(t!=null)return vr(t.outerRadius,e,e*.8)}),tJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},$5=ee([wy],tJ);ee([hE,$5],_y);var q5=ee([pE,U5,B5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ee([mE,q5],_y);var F5=ee([et,wy,U5,B5,Vs,Us],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=e;return{cx:vr(l,i,i/2),cy:vr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),Qt=(t,e)=>e,Lh=(t,e,n)=>n;function Sy(t){return t?.id}function H5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var p=Sy(u);h.forEach((g,b)=>{var w=s==null||i?b:String(gt(g,s,null)),A=gt(g,u.dataKey,0),E;l.has(w)?E=l.get(w):E={},Object.assign(E,{[p]:A}),l.set(w,E)})}}),Array.from(l.values())}function Ey(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Ay=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ty(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function nJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var zn=t=>{var e=et(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},rd=t=>t.tooltip.settings.axisId;function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return(e=iJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=aJ(t,"string");return typeof e=="symbol"?e:e+""}function aJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q_=[0,"auto"],qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},K5=(t,e)=>t.cartesianAxis.xAxis[e],qs=(t,e)=>{var n=K5(t,e);return n??qn},Fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Q_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ch},G5=(t,e)=>t.cartesianAxis.yAxis[e],Fs=(t,e)=>{var n=G5(t,e);return n??Fn},sJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??sJ},en=(t,e,n)=>{switch(e){case"xAxis":return qs(t,n);case"yAxis":return Fs(t,n);case"zAxis":return gE(t,n);case"angleAxis":return hE(t,n);case"radiusAxis":return mE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},oJ=(t,e,n)=>{switch(e){case"xAxis":return qs(t,n);case"yAxis":return Fs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zh=(t,e,n)=>{switch(e){case"xAxis":return qs(t,n);case"yAxis":return Fs(t,n);case"angleAxis":return hE(t,n);case"radiusAxis":return mE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Y5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function vE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Vh=t=>t.graphicalItems.cartesianItems,lJ=ee([Qt,Lh],vE),yE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Uh=ee([Vh,en,lJ],yE,{memoizeOptions:{resultEqualityCheck:Ty}}),W5=ee([Uh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Ey)),X5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),cJ=ee([Uh],X5),bE=t=>t.map(e=>e.data).filter(Boolean).flat(1),uJ=ee([Uh],bE,{memoizeOptions:{resultEqualityCheck:Ty}}),xE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},_E=ee([uJ,oE],xE),wE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:gt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:gt(i,r)}))):t.map(r=>({value:r})),Ny=ee([_E,en,Uh],wE);function Q5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function eg(t){if(Ma(t)||t instanceof Date){var e=Number(t);if(Dt(e))return e}}function VP(t){if(Array.isArray(t)){var e=[eg(t[0]),eg(t[1])];return Zo(e)?e:void 0}var n=eg(t);if(n!=null)return[n,n]}function ks(t){return t.map(eg).filter(rH)}function dJ(t,e,n){return!n||typeof e!="number"||Pi(e)?[]:n.length?ks(n.flatMap(r=>{var i=gt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Dt(s)||!Dt(l)))return[e-s,e+l]})):[]}var Vn=t=>{var e=zn(t),n=rd(t);return zh(t,e,n)},Bh=ee([Vn],t=>t?.dataKey),fJ=ee([W5,oE,Vn],H5),Z5=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,h=r?[...d].reverse():d,p=h.map(Sy);return[u,{stackedData:OG(t,p,n),graphicalItems:h}]}))},lv=ee([fJ,W5,Mh,z5],Z5),J5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=kG(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},hJ=ee([en],t=>t.allowDataOverflow),SE=t=>{var e;if(t==null||!("domain"in t))return Q_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=ks(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Q_},EE=ee([en],SE),AE=ee([EE,hJ],w5),mJ=ee([lv,$s,Qt,AE],J5,{memoizeOptions:{resultEqualityCheck:Ay}}),jy=t=>t.errorBars,pJ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Q5(n,r)),cv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},TE=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var h,p,g=(h=r[d.id])===null||h===void 0?void 0:h.filter(O=>Q5(i,O)),b=gt(u,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),w=dJ(u,b,g);if(w.length>=2){var A=Math.min(...w),E=Math.max(...w);(s==null||A<s)&&(s=A),(l==null||E>l)&&(l=E)}var S=VP(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=VP(gt(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Dt(s)&&Dt(l))return[s,l]},gJ=ee([_E,en,cJ,jy,Qt],TE,{memoizeOptions:{resultEqualityCheck:Ay}});function vJ(t){var{value:e}=t;if(Ma(e)||e instanceof Date)return e}var yJ=(t,e,n)=>{var r=t.map(vJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&m4(r))?U3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},e6=t=>t.referenceElements.dots,id=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),bJ=ee([e6,Qt,Lh],id),t6=t=>t.referenceElements.areas,xJ=ee([t6,Qt,Lh],id),n6=t=>t.referenceElements.lines,_J=ee([n6,Qt,Lh],id),r6=(t,e)=>{if(t!=null){var n=ks(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},wJ=ee(bJ,Qt,r6),i6=(t,e)=>{if(t!=null){var n=ks(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},SJ=ee([xJ,Qt],i6);function EJ(t){var e;if(t.x!=null)return ks([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ks(n)}function AJ(t){var e;if(t.y!=null)return ks([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ks(n)}var a6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?EJ(r):AJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},TJ=ee([_J,Qt],a6),NJ=ee(wJ,TJ,SJ,(t,e,n)=>cv(t,n,e)),NE=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?cv(r,s,i):cv(s,i);return LZ(e,h,t.allowDataOverflow)},jJ=ee([en,EE,AE,mJ,gJ,NJ,et,Qt],NE,{memoizeOptions:{resultEqualityCheck:Ay}}),CJ=[0,1],jE=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,h=Ba(e,s);if(h&&u==null){var p;return U3(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?yJ(r,t,h):i==="expand"?CJ:l}},CE=ee([en,et,_E,Ny,Mh,Qt,jJ],jE),s6=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Eh(s));return u in Ef?u:"point"}}},ad=ee([en,et,Y5,uE,Qt],s6);function OJ(t){if(t!=null){if(t in Ef)return Ef[t]();var e="scale".concat(Eh(t));if(e in Ef)return Ef[e]()}}function OE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=OJ(e);if(i!=null){var s=i.domain(n).range(r);return AG(s),s}}}var IE=(t,e,n)=>{var r=SE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zo(t))return KZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Zo(t))return GZ(t,e.tickCount,e.allowDecimals)}},PE=ee([CE,zh,ad],IE),RE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Zo(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},IJ=ee([en,CE,PE,Qt],RE),PJ=ee(Ny,en,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ks(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],h=r[u+1];if(!(d==null||h==null)){var p=h-d;n=Math.min(n,p)}}return n/l}}),o6=ee(PJ,et,L5,Mn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Dt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=vr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),RJ=(t,e,n)=>{var r=qs(t,e);return r==null||typeof r.padding!="string"?0:o6(t,"xAxis",e,n,r.padding)},kJ=(t,e,n)=>{var r=Fs(t,e);return r==null||typeof r.padding!="string"?0:o6(t,"yAxis",e,n,r.padding)},DJ=ee(qs,RJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),MJ=ee(Fs,kJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),LJ=ee([Mn,DJ,sy,ay,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),zJ=ee([Mn,et,MJ,sy,ay,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),$h=(t,e,n,r)=>{var i;switch(e){case"xAxis":return LJ(t,n,r);case"yAxis":return zJ(t,n,r);case"zAxis":return(i=gE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return $5(t);case"radiusAxis":return q5(t,n);default:return}},l6=ee([en,$h],_y),Cy=ee([en,ad,IJ,l6],OE);ee([Uh,jy,Qt],pJ);function c6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Oy=(t,e)=>e,Iy=(t,e,n)=>n,VJ=ee(ry,Oy,Iy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(c6)),UJ=ee(iy,Oy,Iy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(c6)),u6=(t,e)=>({width:t.width,height:e.height}),BJ=(t,e)=>{var n=typeof e.width=="number"?e.width:Ch;return{width:n,height:t.height}},d6=ee(Mn,qs,u6),$J=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},qJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},FJ=ee(Us,Mn,VJ,Oy,Iy,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=u6(e,u);l==null&&(l=$J(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),HJ=ee(Vs,Mn,UJ,Oy,Iy,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=BJ(e,u);l==null&&(l=qJ(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),KJ=(t,e)=>{var n=qs(t,e);if(n!=null)return FJ(t,n.orientation,n.mirror)},GJ=ee([Mn,qs,KJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),YJ=(t,e)=>{var n=Fs(t,e);if(n!=null)return HJ(t,n.orientation,n.mirror)},WJ=ee([Mn,Fs,YJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),f6=ee(Mn,Fs,(t,e)=>{var n=typeof e.width=="number"?e.width:Ch;return{width:n,height:t.height}}),UP=(t,e,n)=>{switch(e){case"xAxis":return d6(t,n).width;case"yAxis":return f6(t,n).height;default:return}},h6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=Ba(t,r),d=e.map(h=>h.value);if(l&&u&&s==="category"&&i&&m4(d))return d}},kE=ee([et,Ny,en,Qt],h6),m6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Ba(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},DE=ee([et,Ny,zh,Qt],m6),BP=ee([et,oJ,ad,Cy,kE,DE,$h,PE,Qt],(t,e,n,r,i,s,l,u,d)=>{if(e!=null){var h=Ba(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),XJ=(t,e,n,r,i,s,l,u,d)=>{if(!(e==null||r==null)){var h=Ba(t,d),{type:p,ticks:g,tickCount:b}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=p==="category"&&r.bandwidth?r.bandwidth()/w:0;A=d==="angleAxis"&&s!=null&&s.length>=2?Yn(s[0]-s[1])*2*A:A;var E=g||i;if(E){var S=E.map((O,M)=>{var R=l?l.indexOf(O):O;return{index:M,coordinate:r(R)+A,value:O,offset:A}});return S.filter(O=>Dt(O.coordinate))}return h&&u?u.map((O,M)=>({coordinate:r(O)+A,value:O,index:M,offset:A})).filter(O=>Dt(O.coordinate)):r.ticks?r.ticks(b).map(O=>({coordinate:r(O)+A,value:O,offset:A})):r.domain().map((O,M)=>({coordinate:r(O)+A,value:l?l[O]:O,index:M,offset:A}))}},p6=ee([et,zh,ad,Cy,PE,$h,kE,DE,Qt],XJ),QJ=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ba(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Yn(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},Va=ee([et,zh,Cy,$h,kE,DE,Qt],QJ),Ua=ee(en,Cy,(t,e)=>{if(!(t==null||e==null))return ov(ov({},t),{},{scale:e})}),ZJ=ee([en,ad,CE,l6],OE);ee((t,e,n)=>gE(t,n),ZJ,(t,e)=>{if(!(t==null||e==null))return ov(ov({},t),{},{scale:e})});var JJ=ee([et,ry,iy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),g6=t=>t.options.defaultTooltipEventType,v6=t=>t.options.validateTooltipEventTypes;function y6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ME(t,e){var n=g6(t),r=v6(t);return y6(e,n,r)}function eee(t){return Oe(e=>ME(e,t))}var b6=(t,e)=>{var n,r=Number(e);if(!(Pi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},tee=t=>t.tooltip.settings,ko={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nee={itemInteraction:{click:ko,hover:ko},axisInteraction:{click:ko,hover:ko},keyboardInteraction:ko,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},x6=qr({name:"tooltip",initialState:nee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Wt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Wt()},removeTooltipEntrySettings:{reducer(t,e){var n=Zi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Wt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:ree,replaceTooltipEntrySettings:iee,removeTooltipEntrySettings:aee,setTooltipSettingsState:see,setActiveMouseOverItemIndex:_6,mouseLeaveItem:oee,mouseLeaveChart:w6,setActiveClickItemIndex:lee,setMouseOverAxisIndex:S6,setMouseClickAxisIndex:cee,setSyncInteraction:Z_,setKeyboardInteraction:J_}=x6.actions,uee=x6.reducer;function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dee(t,e,n){return(e=fee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=hee(t,"string");return typeof e=="symbol"?e:e+""}function hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function pee(t){return t.index!=null}var E6=(t,e,n,r)=>{if(e==null)return ko;var i=mee(t,e,n);if(i==null)return ko;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(pee(i)){if(s)return Mp(Mp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Mp(Mp({},ko),{},{coordinate:i.coordinate})};function gee(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function vee(t,e){var n=gee(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function yee(t,e,n){if(n==null||e==null)return!0;var r=gt(t,e);return r==null||!Zo(n)?!0:vee(r,n)}var LE=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Dt(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),h=e[d];return h==null||yee(h,n,r)?String(d):null},A6=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},T6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},qh=t=>t.options.tooltipPayloadSearcher,sd=t=>t.tooltip;function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bee(t,e,n){return(e=xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wee(t,e){return t??e}var N6=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((b,w)=>{var A,{dataDefinedOnItem:E,settings:S}=w,O=wee(E,u),M=Array.isArray(O)?l3(O,h,p):O,R=(A=S?.dataKey)!==null&&A!==void 0?A:r,V=S?.nameKey,D;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?D=p4(M,r,i):D=s(M,e,d,V),Array.isArray(D))D.forEach(N=>{var j=FP(FP({},S),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});b.push(GO({tooltipEntrySettings:j,dataKey:N.dataKey,payload:N.payload,value:gt(N.payload,N.dataKey),name:N.name}))});else{var L;b.push(GO({tooltipEntrySettings:S,dataKey:R,payload:D,value:gt(D,R),name:(L=gt(D,V))!==null&&L!==void 0?L:S?.name}))}return b},g)}},zE=ee([Vn,et,Y5,uE,zn],s6),See=ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Eee=ee([zn,rd],vE),od=ee([See,Vn,Eee],yE,{memoizeOptions:{resultEqualityCheck:Ty}}),Aee=ee([od],t=>t.filter(Ey)),Tee=ee([od],bE,{memoizeOptions:{resultEqualityCheck:Ty}}),ld=ee([Tee,$s],xE),Nee=ee([Aee,$s,Vn],H5),VE=ee([ld,Vn,od],wE),j6=ee([Vn],SE),jee=ee([Vn],t=>t.allowDataOverflow),C6=ee([j6,jee],w5),Cee=ee([od],t=>t.filter(Ey)),Oee=ee([Nee,Cee,Mh,z5],Z5),Iee=ee([Oee,$s,zn,C6],J5),Pee=ee([od],X5),Ree=ee([ld,Vn,Pee,jy,zn],TE,{memoizeOptions:{resultEqualityCheck:Ay}}),kee=ee([e6,zn,rd],id),Dee=ee([kee,zn],r6),Mee=ee([t6,zn,rd],id),Lee=ee([Mee,zn],i6),zee=ee([n6,zn,rd],id),Vee=ee([zee,zn],a6),Uee=ee([Dee,Vee,Lee],cv),Bee=ee([Vn,j6,C6,Iee,Ree,Uee,et,zn],NE),Fh=ee([Vn,et,ld,VE,Mh,zn,Bee],jE),$ee=ee([Fh,Vn,zE],IE),qee=ee([Vn,Fh,$ee,zn],RE),O6=t=>{var e=zn(t),n=rd(t),r=!1;return $h(t,e,n,r)},I6=ee([Vn,O6],_y),P6=ee([Vn,zE,qee,I6],OE),Fee=ee([et,VE,Vn,zn],h6),Hee=ee([et,VE,Vn,zn],m6),Kee=(t,e,n,r,i,s,l,u)=>{if(e){var{type:d}=e,h=Ba(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Yn(i[0]-i[1])*2*g:g,h&&l?l.map((b,w)=>({coordinate:r(b)+g,value:b,index:w,offset:g})):r.domain().map((b,w)=>({coordinate:r(b)+g,value:s?s[b]:b,index:w,offset:g}))}}},Hs=ee([et,Vn,zE,P6,O6,Fee,Hee,zn],Kee),UE=ee([g6,v6,tee],(t,e,n)=>y6(n.shared,t,e)),R6=t=>t.tooltip.settings.trigger,BE=t=>t.tooltip.settings.defaultIndex,Hh=ee([sd,UE,R6,BE],E6),Jo=ee([Hh,ld,Bh,Fh],LE),k6=ee([Hs,Jo],b6),$E=ee([Hh],t=>{if(t)return t.dataKey}),Gee=ee([Hh],t=>{if(t)return t.graphicalItemId}),D6=ee([sd,UE,R6,BE],T6),Yee=ee([Vs,Us,et,Mn,Hs,BE,D6,qh],A6),Wee=ee([Hh,Yee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Xee=ee([Hh],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Qee=ee([D6,Jo,$s,Bh,k6,qh,UE],N6),Zee=ee([Qee],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return(e=ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ete(t){var e=tte(t,"string");return typeof e=="symbol"?e:e+""}function tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nte=()=>Oe(Vn),rte=()=>{var t=nte(),e=Oe(Hs),n=Oe(P6);return Qo(!t||!n?void 0:KP(KP({},t),{},{scale:n}),e)};function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},lte=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return iu(iu(iu({},r),Cn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return iu(iu(iu({},r),Cn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function cte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var M6=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,h,p,g,b,w=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,A=(p=n[u])===null||p===void 0?void 0:p.coordinate,E=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,S=void 0;if(!(w==null||A==null||E==null))if(Yn(A-w)!==Yn(E-A)){var O=[];if(Yn(E-A)===Yn(i[1]-i[0])){S=E;var M=A+i[1]-i[0];O[0]=Math.min(M,(M+w)/2),O[1]=Math.max(M,(M+w)/2)}else{S=w;var R=E+i[1]-i[0];O[0]=Math.min(A,(R+A)/2),O[1]=Math.max(A,(R+A)/2)}var V=[Math.min(A,(S+A)/2),Math.max(A,(S+A)/2)];if(t>V[0]&&t<=V[1]||t>=O[0]&&t<=O[1]){var D;return(D=n[u])===null||D===void 0?void 0:D.index}}else{var L=Math.min(w,E),N=Math.max(w,E);if(t>(L+A)/2&&t<=(N+A)/2){var j;return(j=n[u])===null||j===void 0?void 0:j.index}}}else if(e)for(var I=0;I<l;I++){var z=e[I];if(z!=null){var k=e[I+1],$=e[I-1];if(I===0&&k!=null&&t<=(z.coordinate+k.coordinate)/2||I===l-1&&$!=null&&t>(z.coordinate+$.coordinate)/2||I>0&&I<l-1&&$!=null&&k!=null&&t>(z.coordinate+$.coordinate)/2&&t<=(z.coordinate+k.coordinate)/2)return z.index}}return-1},L6=()=>Oe(uE),qE=(t,e)=>e,z6=(t,e,n)=>n,FE=(t,e,n,r)=>r,ute=ee(Hs,t=>Gv(t,e=>e.coordinate)),HE=ee([sd,qE,z6,FE],E6),KE=ee([HE,ld,Bh,Fh],LE),dte=(t,e,n)=>{if(e!=null){var r=sd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},V6=ee([sd,qE,z6,FE],T6),uv=ee([Vs,Us,et,Mn,Hs,FE,V6,qh],A6),fte=ee([HE,uv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),U6=ee([Hs,KE],b6),hte=ee([V6,KE,$s,Bh,U6,qh,qE],N6),mte=ee([HE,KE],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),pte=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&cte(t,l)){var u=DG(t,e),d=M6(u,s,i,n,r),h=ote(e,i,d,t);return{activeIndex:String(d),activeCoordinate:h}}},gte=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=JW(t,n);if(u){var d=MG(u,e),h=M6(d,l,s,r,i),p=lte(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},vte=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?pte(t,e,r,i,s,l,u):gte(t,e,n,r,i,s,l)},yte=ee(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),bte=ee(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(vn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:nJ}});function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return(e=_te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=wte(t,"string");return typeof e=="symbol"?e:e+""}function wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ste={},Ete={zIndexMap:Object.values(vn).reduce((t,e)=>WP(WP({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Ste)},Ate=new Set(Object.values(vn));function Tte(t){return Ate.has(t)}var B6=qr({name:"zIndex",initialState:Ete,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Wt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Tte(n)&&delete t.zIndexMap[n])},prepare:Wt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Wt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Wt()}}}),{registerZIndexPortal:Nte,unregisterZIndexPortal:jte,registerZIndexPortalElement:Cte,unregisterZIndexPortalElement:Ote}=B6.actions,Ite=B6.reducer;function Cr(t){var{zIndex:e,children:n}=t,r=mY(),i=r&&e!==void 0&&e!==0,s=Wn(),l=Vt();_.useLayoutEffect(()=>i?(l(Nte({zIndex:e})),()=>{l(jte({zIndex:e}))}):Ah,[l,e,i]);var u=Oe(d=>yte(d,e,s));return i?u?pS.createPortal(n,u):null:n}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(null,arguments)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return(e=Rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=kte(t,"string");return typeof e=="symbol"?e:e+""}function kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function Mte(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:h,chartName:p}=t,g=n,b=r,w=i;if(!d||!g||p!=="ScatterChart"&&h!=="axis")return null;var A,E,S;if(p==="ScatterChart")A=g,E=hW,S=vn.cursorLine;else if(p==="BarChart")A=mW(u,g,s,l),E=D3,S=vn.cursorRectangle;else if(u==="radial"&&v4(g)){var{cx:O,cy:M,radius:R,startAngle:V,endAngle:D}=L3(g);A={cx:O,cy:M,startAngle:V,endAngle:D,innerRadius:R,outerRadius:R},E=V3,S=vn.cursorLine}else A={points:rX(u,g,s)},E=xu,S=vn.cursorLine;var L=typeof d=="object"&&"className"in d?d.className:void 0,N=Lp(Lp(Lp(Lp({stroke:"#ccc",pointerEvents:"none"},s),A),ec(d)),{},{payload:b,payloadIndex:w,className:ct("recharts-tooltip-cursor",L)});return _.createElement(Cr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},_.createElement(Dte,{cursor:d,cursorComp:E,cursorProps:N}))}function Lte(t){var e=rte(),n=b3(),r=il(),i=L6();return e==null||n==null||r==null||i==null?null:_.createElement(Mte,ew({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var $6=_.createContext(null),zte=()=>_.useContext($6),E1={exports:{}},QP;function Vte(){return QP||(QP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||d,b),A=n?n+h:h;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],w]:d._events[A].push(w):(d._events[A]=w,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,A=new Array(w);b<w;b++)A[b]=g[b].fn;return A},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,b,w,A){var E=n?n+h:h;if(!this._events[E])return!1;var S=this._events[E],O=arguments.length,M,R;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),O){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,b),!0;case 5:return S.fn.call(S.context,p,g,b,w),!0;case 6:return S.fn.call(S.context,p,g,b,w,A),!0}for(R=1,M=new Array(O-1);R<O;R++)M[R-1]=arguments[R];S.fn.apply(S.context,M)}else{var V=S.length,D;for(R=0;R<V;R++)switch(S[R].once&&this.removeListener(h,S[R].fn,void 0,!0),O){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,p);break;case 3:S[R].fn.call(S[R].context,p,g);break;case 4:S[R].fn.call(S[R].context,p,g,b);break;default:if(!M)for(D=1,M=new Array(O-1);D<O;D++)M[D-1]=arguments[D];S[R].fn.apply(S[R].context,M)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,b){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return l(this,w),this;var A=this._events[w];if(A.fn)A.fn===p&&(!b||A.once)&&(!g||A.context===g)&&l(this,w);else{for(var E=0,S=[],O=A.length;E<O;E++)(A[E].fn!==p||b&&!A[E].once||g&&A[E].context!==g)&&S.push(A[E]);S.length?this._events[w]=S.length===1?S[0]:S:l(this,w)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(E1)),E1.exports}var Ute=Vte();const Bte=Ms(Ute);var nh=new Bte,tw="recharts.syncEvent.tooltip",ZP="recharts.syncEvent.brush";function q6(t,e){if(e){var n=Number.parseInt(e,10);if(!Pi(n))return t?.[n]}}var $te={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},F6=qr({name:"options",initialState:$te,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qte=F6.reducer,{createEventEmitter:Fte}=F6.actions;function Hte(t){return t.tooltip.syncInteraction}var Kte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},H6=qr({name:"chartData",initialState:Kte,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:JP,setDataStartEndIndexes:Gte,setComputedData:ofe}=H6.actions,Yte=H6.reducer,Wte=["x","y"];function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){Xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xte(t,e,n){return(e=Qte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qte(t){var e=Zte(t,"string");return typeof e=="symbol"?e:e+""}function Zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jte(t,e){if(t==null)return{};var n,r,i=ene(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ene(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tne(){var t=Oe(dE),e=Oe(fE),n=Vt(),r=Oe(V5),i=Oe(Hs),s=il(),l=ly(),u=Oe(d=>d.rootProps.className);_.useEffect(()=>{if(t==null)return Ah;var d=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:A,y:E}=w,S=Jte(w,Wte),{x:O,y:M,width:R,height:V}=p.payload.sourceViewBox,D=au(au({},S),{},{x:l.x+(R?(A-O)/R:0)*l.width,y:l.y+(V?(E-M)/V:0)*l.height});n(au(au({},p),{},{payload:au(au({},p.payload),{},{coordinate:D})}))}else n(p);return}if(i!=null){var L;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},j=r(i,N);L=i[j]}else r==="value"&&(L=i.find(K=>String(K.value)===p.payload.label));var{coordinate:I}=p.payload;if(L==null||p.payload.active===!1||I==null||l==null){n(Z_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:k}=I,$=Math.min(z,l.x+l.width),U=Math.min(k,l.y+l.height),ce={x:s==="horizontal"?L.coordinate:$,y:s==="horizontal"?U:L.coordinate},pe=Z_({active:p.payload.active,coordinate:ce,dataKey:p.payload.dataKey,index:String(L.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(pe)}}};return nh.on(tw,d),()=>{nh.off(tw,d)}},[u,n,e,t,r,i,s,l])}function nne(){var t=Oe(dE),e=Oe(fE),n=Vt();_.useEffect(()=>{if(t==null)return Ah;var r=(i,s,l)=>{e!==l&&t===i&&n(Gte(s))};return nh.on(ZP,r),()=>{nh.off(ZP,r)}},[n,e,t])}function rne(){var t=Vt();_.useEffect(()=>{t(Fte())},[t]),tne(),nne()}function ine(t,e,n,r,i,s){var l=Oe(w=>dte(w,t,e)),u=Oe(fE),d=Oe(dE),h=Oe(V5),p=Oe(Hte),g=p?.active,b=ly();_.useEffect(()=>{if(!g&&d!=null&&u!=null){var w=Z_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});nh.emit(tw,d,w,u)}},[g,n,l,i,r,u,d,h,s,b])}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ane(t,e,n){return(e=sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=one(t,"string");return typeof e=="symbol"?e:e+""}function one(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lne(t){return t.dataKey}function cne(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(KY,e)}var rR=[],une={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Py(t){var e,n,r=cn(t,une),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:b,position:w,reverseDirection:A,useTranslate3d:E,wrapperStyle:S,cursor:O,shared:M,trigger:R,defaultIndex:V,portal:D,axisId:L}=r,N=Vt(),j=typeof V=="number"?String(V):V;_.useEffect(()=>{N(see({shared:M,trigger:R,axisId:L,active:i,defaultIndex:j}))},[N,M,R,L,i,j]);var I=ly(),z=O3(),k=eee(M),{activeIndex:$,isActive:U}=(e=Oe(we=>mte(we,k,R,j)))!==null&&e!==void 0?e:{},ce=Oe(we=>hte(we,k,R,j)),pe=Oe(we=>U6(we,k,R,j)),K=Oe(we=>fte(we,k,R,j)),Z=ce,W=zte(),oe=(n=i??U)!==null&&n!==void 0?n:!1,[xe,F]=P4([Z,oe]),X=k==="axis"?pe:void 0;ine(k,R,K,X,$,oe);var ue=D??W;if(ue==null||I==null||k==null)return null;var ge=Z??rR;oe||(ge=rR),h&&ge.length&&(ge=N4(ge.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),b,lne));var je=ge.length>0,se=_.createElement(JY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:oe,coordinate:K,hasPayload:je,offset:g,position:w,reverseDirection:A,useTranslate3d:E,viewBox:I,wrapperStyle:S,lastBoundingBox:xe,innerRef:F,hasPortalFromProps:!!D},cne(d,nR(nR({},r),{},{payload:ge,label:X,active:oe,activeIndex:$,coordinate:K,accessibilityLayer:z})));return _.createElement(_.Fragment,null,pS.createPortal(se,ue),oe&&_.createElement(Lte,{cursor:O,tooltipEventType:k,coordinate:K,payload:ge,index:$}))}var Kh=t=>null;Kh.displayName="Cell";function dne(t,e,n){return(e=fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=hne(t,"string");return typeof e=="symbol"?e:e+""}function hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mne{constructor(e){dne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bne={cacheSize:2e3,enableCache:!0},K6=pne({},bne),aR=new mne(K6.cacheSize),xne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sR="recharts_measurement_span";function _ne(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var oR=(t,e)=>{try{var n=document.getElementById(sR);n||(n=document.createElement("span"),n.setAttribute("id",sR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,xne,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},If=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ih.isSsr)return{width:0,height:0};if(!K6.enableCache)return oR(e,n);var r=_ne(e,n),i=aR.get(r);if(i)return i;var s=oR(e,n);return aR.set(r,s),s},G6;function wne(t,e,n){return(e=Sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=Ene(t,"string");return typeof e=="symbol"?e:e+""}function Ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ane=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Nne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jne=["cm","mm","pt","pc","in","Q","px"];function Cne(t){return jne.includes(t)}var hu="NaN";function One(t,e){return t*Nne[e]}class ir{static parse(e){var n,[,r,i]=(n=Tne.exec(e))!==null&&n!==void 0?n:[];return r==null?ir.NaN:new ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Pi(e)&&(this.unit=""),n!==""&&!Ane.test(n)&&(this.num=NaN,this.unit=""),Cne(n)&&(this.num=One(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pi(this.num)}}G6=ir;wne(ir,"NaN",new G6(NaN,""));function Y6(t){if(t==null||t.includes(hu))return hu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=lR.exec(e))!==null&&n!==void 0?n:[],l=ir.parse(r??""),u=ir.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return hu;e=e.replace(lR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,b]=(h=cR.exec(e))!==null&&h!==void 0?h:[],w=ir.parse(p??""),A=ir.parse(b??""),E=g==="+"?w.add(A):w.subtract(A);if(E.isNaN())return hu;e=e.replace(cR,E.toString())}return e}var uR=/\(([^()]*)\)/;function Ine(t){for(var e=t,n;(n=uR.exec(e))!=null;){var[,r]=n;e=e.replace(uR,Y6(r))}return e}function Pne(t){var e=t.replace(/\s+/g,"");return e=Ine(e),e=Y6(e),e}function Rne(t){try{return Pne(t)}catch{return hu}}function A1(t){var e=Rne(t.slice(5,-1));return e===hu?"":e}var kne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Dne=["dx","dy","angle","className","breakAll"];function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(null,arguments)}function dR(t,e){if(t==null)return{};var n,r,i=Mne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var W6=/[ \f\n\r\t\v\u2028\u2029]+/,X6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ht(e)||(n?i=e.toString().split(""):i=e.toString().split(W6));var s=i.map(u=>({word:u,width:If(u,r).width})),l=n?0:If("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Lne(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Q6=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),Z6=t=>t.reduce((e,n)=>e.width>n.width?e:n),zne="",fR=(t,e,n,r,i,s,l,u)=>{var d=t.slice(0,e),h=X6({breakAll:n,style:r,children:d+zne});if(!h)return[!1,[]];var p=Q6(h.wordsWithComputedWidth,s,l,u),g=p.length>i||Z6(p).width>Number(s);return[g,p]},Vne=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,h=Ae(s),p=String(l),g=Q6(e,r,n,i);if(!h||i)return g;var b=g.length>s||Z6(g).width>Number(r);if(!b)return g;for(var w=0,A=p.length-1,E=0,S;w<=A&&E<=p.length-1;){var O=Math.floor((w+A)/2),M=O-1,[R,V]=fR(p,M,d,u,s,r,n,i),[D]=fR(p,O,d,u,s,r,n,i);if(!R&&!D&&(w=O+1),R&&D&&(A=O-1),!R&&D){S=V;break}E++}return S||g},hR=t=>{var e=Ht(t)?[]:t.toString().split(W6);return[{words:e,width:void 0}]},Une=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Ih.isSsr){var u,d,h=X6({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,d=g}else return hR(r);return Vne({breakAll:s,children:r,maxLines:l,style:i},u,d,e,!!n)}return hR(r)},J6="#808080",Bne={angle:0,breakAll:!1,capHeight:"0.71em",fill:J6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ry=_.forwardRef((t,e)=>{var n=cn(t,Bne),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:h,verticalAnchor:p}=n,g=dR(n,kne),b=_.useMemo(()=>Une({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:w,dy:A,angle:E,className:S,breakAll:O}=g,M=dR(g,Dne);if(!Ma(r)||!Ma(i)||b.length===0)return null;var R=Number(r)+(Ae(w)?w:0),V=Number(i)+(Ae(A)?A:0);if(!Dt(R)||!Dt(V))return null;var D;switch(p){case"start":D=A1("calc(".concat(l,")"));break;case"middle":D=A1("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:D=A1("calc(".concat(b.length-1," * -").concat(s,")"));break}var L=[];if(d){var N=b[0].width,{width:j}=g;L.push("scale(".concat(Ae(j)&&Ae(N)?j/N:1,")"))}return E&&L.push("rotate(".concat(E,", ").concat(R,", ").concat(V,")")),L.length&&(M.transform=L.join(" ")),_.createElement("text",nw({},br(M),{ref:e,x:R,y:V,className:ct("recharts-text",S),textAnchor:h,fill:u.includes("url")?J6:u}),b.map((I,z)=>{var k=I.words.join(O?"":" ");return _.createElement("tspan",{x:R,dy:z===0?D:s,key:"".concat(k,"-").concat(z)},k)}))});Ry.displayName="Text";var $ne=["labelRef"],qne=["content"];function mR(t,e){if(t==null)return{};var n,r,i=Fne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return(e=Kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Gne(t,"string");return typeof e=="symbol"?e:e+""}function Gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ms.apply(null,arguments)}var eL=_.createContext(null),Yne=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,d=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return _.createElement(eL.Provider,{value:d},u)},tL=()=>{var t=_.useContext(eL),e=ly();return t||y3(e)},Wne=_.createContext(null),Xne=()=>{var t=_.useContext(Wne),e=Oe(F5);return t||e},Qne=t=>{var{value:e,formatter:n}=t,r=Ht(t.children)?e:t.children;return typeof n=="function"?n(r):r},GE=t=>t!=null&&typeof t=="function",Zne=(t,e)=>{var n=Yn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Jne=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:g,endAngle:b,clockWise:w}=i,A=(h+p)/2,E=Zne(g,b),S=E>=0?1:-1,O,M;switch(e){case"insideStart":O=g+S*s,M=w;break;case"insideEnd":O=b-S*s,M=!w;break;case"end":O=b+S*s,M=w;break;default:throw new Error("Unsupported position ".concat(e))}M=E<=0?M:!M;var R=Cn(u,d,A,O),V=Cn(u,d,A,O+(M?1:-1)*359),D="M".concat(R.x,",").concat(R.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(M?0:1,`,
    `).concat(V.x,",").concat(V.y),L=Ht(t.id)?qf("recharts-radial-line-"):t.id;return _.createElement("text",ms({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:L,d:D})),_.createElement("textPath",{xlinkHref:"#".concat(L)},n))},ere=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Cn(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:w,y:A}=Cn(r,i,b,h);return{x:w,y:A,textAnchor:"middle",verticalAnchor:"middle"}},rw=t=>"cx"in t&&Ae(t.cx),tre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!rw(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:h,height:p}=e,g=l,b=l+(d-h)/2,w=(g+b)/2,A=(d+h)/2,E=g+d/2,S=p>=0?1:-1,O=S*r,M=S>0?"end":"start",R=S>0?"start":"end",V=d>=0?1:-1,D=V*r,L=V>0?"end":"start",N=V>0?"start":"end";if(i==="top"){var j={x:g+d/2,y:u-O,textAnchor:"middle",verticalAnchor:M};return pn(pn({},j),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var I={x:b+h/2,y:u+p+O,textAnchor:"middle",verticalAnchor:R};return pn(pn({},I),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var z={x:w-D,y:u+p/2,textAnchor:L,verticalAnchor:"middle"};return pn(pn({},z),s?{width:Math.max(z.x-s.x,0),height:p}:{})}if(i==="right"){var k={x:w+A+D,y:u+p/2,textAnchor:N,verticalAnchor:"middle"};return pn(pn({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:p}:{})}var $=s?{width:A,height:p}:{};return i==="insideLeft"?pn({x:w+D,y:u+p/2,textAnchor:N,verticalAnchor:"middle"},$):i==="insideRight"?pn({x:w+A-D,y:u+p/2,textAnchor:L,verticalAnchor:"middle"},$):i==="insideTop"?pn({x:g+d/2,y:u+O,textAnchor:"middle",verticalAnchor:R},$):i==="insideBottom"?pn({x:b+h/2,y:u+p-O,textAnchor:"middle",verticalAnchor:M},$):i==="insideTopLeft"?pn({x:g+D,y:u+O,textAnchor:N,verticalAnchor:R},$):i==="insideTopRight"?pn({x:g+d-D,y:u+O,textAnchor:L,verticalAnchor:R},$):i==="insideBottomLeft"?pn({x:b+D,y:u+p-O,textAnchor:N,verticalAnchor:M},$):i==="insideBottomRight"?pn({x:b+h-D,y:u+p-O,textAnchor:L,verticalAnchor:M},$):i&&typeof i=="object"&&(Ae(i.x)||Cs(i.x))&&(Ae(i.y)||Cs(i.y))?pn({x:l+vr(i.x,A),y:u+vr(i.y,p),textAnchor:"end",verticalAnchor:"end"},$):pn({x:E,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},$)},nre={angle:0,offset:5,zIndex:vn.label,position:"middle",textBreakAll:!1};function Co(t){var e=cn(t,nre),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:h}=e,p=Xne(),g=tL(),b=r==="center"?g:p??g,w,A,E;if(n==null?w=b:rw(n)?w=n:w=y3(n),!w||Ht(i)&&Ht(s)&&!_.isValidElement(l)&&typeof l!="function")return null;var S=pn(pn({},e),{},{viewBox:w});if(_.isValidElement(l)){var{labelRef:O}=S,M=mR(S,$ne);return _.cloneElement(l,M)}if(typeof l=="function"){var{content:R}=S,V=mR(S,qne);if(A=_.createElement(l,V),_.isValidElement(A))return A}else A=Qne(e);var D=br(e);if(rw(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Jne(e,r,A,D,w);E=ere(w,e.offset,e.position)}else E=tre(e,w);return _.createElement(Cr,{zIndex:e.zIndex},_.createElement(Ry,ms({ref:h,className:ct("recharts-label",u)},D,E,{textAnchor:Lne(D.textAnchor)?D.textAnchor:E.textAnchor,breakAll:d}),A))}Co.displayName="Label";var rre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Co,ms({key:"label-implicit"},r)):Ma(t)?_.createElement(Co,ms({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Co?_.cloneElement(t,pn({key:"label-implicit"},r)):_.createElement(Co,ms({key:"label-implicit",content:t},r)):GE(t)?_.createElement(Co,ms({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Co,ms({},t,{key:"label-implicit"},r)):null};function ire(t){var{label:e,labelRef:n}=t,r=tL();return rre(e,r,n)||null}var T1={},N1={},gR;function are(){return gR||(gR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(N1)),N1}var j1={},vR;function sre(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(j1)),j1}var yR;function ore(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=are(),n=sre(),r=ES();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(T1)),T1}var C1,bR;function lre(){return bR||(bR=1,C1=ore().last),C1}var cre=lre();const ure=Ms(cre);var dre=["valueAccessor"],fre=["dataKey","clockWise","id","textBreakAll","zIndex"];function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(null,arguments)}function xR(t,e){if(t==null)return{};var n,r,i=hre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mre=t=>Array.isArray(t.value)?ure(t.value):t.value,nL=_.createContext(void 0),YE=nL.Provider,rL=_.createContext(void 0),pre=rL.Provider;function gre(){return _.useContext(nL)}function vre(){return _.useContext(rL)}function tg(t){var{valueAccessor:e=mre}=t,n=xR(t,dre),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=xR(n,fre),h=gre(),p=vre(),g=h||p;return!g||!g.length?null:_.createElement(Cr,{zIndex:u??vn.label},_.createElement(ln,{className:"recharts-label-list"},g.map((b,w)=>{var A,E=Ht(r)?e(b,w):gt(b&&b.payload,r),S=Ht(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(Co,dv({key:"label-".concat(w)},br(b),d,S,{fill:(A=n.fill)!==null&&A!==void 0?A:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:w,zIndex:0}))})))}tg.displayName="LabelList";function ky(t){var{label:e}=t;return e?e===!0?_.createElement(tg,{key:"labelList-implicit"}):_.isValidElement(e)||GE(e)?_.createElement(tg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(tg,dv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(null,arguments)}var iL=t=>{var{cx:e,cy:n,r,className:i}=t,s=ct("recharts-dot",i);return Ae(e)&&Ae(n)&&Ae(r)?_.createElement("circle",iw({},Nr(t),SS(t),{className:s,cx:e,cy:n,r})):null},aL=t=>t.graphicalItems.polarItems,yre=ee([Qt,Lh],vE),Dy=ee([aL,en,yre],yE),bre=ee([Dy],bE),My=ee([bre,xy],xE),xre=ee([My,en,Dy],wE);ee([My,en,Dy],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=gt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:gt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var _R=()=>{},_re=ee([My,en,Dy,jy,Qt],TE),wre=ee([en,EE,AE,_R,_re,_R,et,Qt],NE),sL=ee([en,et,My,xre,Mh,Qt,wre],jE),Sre=ee([sL,en,ad],IE);ee([en,sL,Sre,Qt],RE);var Ere={radiusAxis:{},angleAxis:{}},oL=qr({name:"polarAxis",initialState:Ere,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:lfe,removeRadiusAxis:cfe,addAngleAxis:ufe,removeAngleAxis:dfe}=oL.actions,Are=oL.reducer;function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nre(t){var e=jre(t,"string");return typeof e=="symbol"?e:e+""}function jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cre=(t,e)=>e,WE=ee([aL,Cre],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Ore=[],XE=(t,e,n)=>n?.length===0?Ore:n,lL=ee([xy,WE,XE],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>SR(SR({},e.presentationProps),s.props))),i!=null)return i}}),Ire=ee([lL,WE,XE],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=gt(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:rl(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),Pre=ee([lL,WE,XE,Mn],(t,e,n,r)=>{if(!(e==null||t==null))return kie({offset:r,pieSettings:e,displayedData:t,cells:n})}),O1={exports:{}},Ot={};var ER;function Rre(){if(ER)return Ot;ER=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function A(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case d:case h:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case p:return E;case s:return E;default:return S}}case e:return S}}}return Ot.ContextConsumer=s,Ot.ContextProvider=l,Ot.Element=t,Ot.ForwardRef=u,Ot.Fragment=n,Ot.Lazy=g,Ot.Memo=p,Ot.Portal=e,Ot.Profiler=i,Ot.StrictMode=r,Ot.Suspense=d,Ot.SuspenseList=h,Ot.isContextConsumer=function(E){return A(E)===s},Ot.isContextProvider=function(E){return A(E)===l},Ot.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Ot.isForwardRef=function(E){return A(E)===u},Ot.isFragment=function(E){return A(E)===n},Ot.isLazy=function(E){return A(E)===g},Ot.isMemo=function(E){return A(E)===p},Ot.isPortal=function(E){return A(E)===e},Ot.isProfiler=function(E){return A(E)===i},Ot.isStrictMode=function(E){return A(E)===r},Ot.isSuspense=function(E){return A(E)===d},Ot.isSuspenseList=function(E){return A(E)===h},Ot.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===u||E.$$typeof===w||E.getModuleId!==void 0)},Ot.typeOf=A,Ot}var AR;function kre(){return AR||(AR=1,O1.exports=Rre()),O1.exports}var Dre=kre(),TR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",NR=null,I1=null,cL=t=>{if(t===NR&&Array.isArray(I1))return I1;var e=[];return _.Children.forEach(t,n=>{Ht(n)||(Dre.isFragment(n)?e=e.concat(cL(n.props.children)):e.push(n))}),I1=e,NR=t,e};function QE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>TR(i)):r=[TR(e)],cL(t).forEach(i=>{var s=nc(i,"type.displayName")||nc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var ZE=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,P1={},jR;function Mre(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(P1)),P1}var R1,CR;function Lre(){return CR||(CR=1,R1=Mre().isPlainObject),R1}var zre=Lre();const Vre=Ms(zre);var OR,IR,PR,RR,kR;function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=$re(t,"string");return typeof e=="symbol"?e:e+""}function $re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(null,arguments)}function yf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var LR=(t,e,n,r,i)=>{var s=n-r,l;return l=an(OR||(OR=yf(["M ",",",""])),t,e),l+=an(IR||(IR=yf(["L ",",",""])),t+n,e),l+=an(PR||(PR=yf(["L ",",",""])),t+n-s/2,e+i),l+=an(RR||(RR=yf(["L ",",",""])),t+n-s/2-r,e+i),l+=an(kR||(kR=yf(["L ",","," Z"])),t,e),l},qre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fre=t=>{var e=cn(t,qre),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,b=_.useRef(null),[w,A]=_.useState(-1),E=_.useRef(i),S=_.useRef(s),O=_.useRef(l),M=_.useRef(n),R=_.useRef(r),V=Ju(t,"trapezoid-");if(_.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ce=b.current.getTotalLength();ce&&A(ce)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var D=ct("recharts-trapezoid",u);if(!g)return _.createElement("g",null,_.createElement("path",fv({},br(e),{className:D,d:LR(n,r,i,s,l)})));var L=E.current,N=S.current,j=O.current,I=M.current,z=R.current,k="0px ".concat(w===-1?1:w,"px"),$="".concat(w,"px 0px"),U=I3(["strokeDasharray"],h,d);return _.createElement(Zu,{animationId:V,key:V,canBegin:w>0,duration:h,easing:d,isActive:g,begin:p},ce=>{var pe=pt(L,i,ce),K=pt(N,s,ce),Z=pt(j,l,ce),W=pt(I,n,ce),oe=pt(z,r,ce);b.current&&(E.current=pe,S.current=K,O.current=Z,M.current=W,R.current=oe);var xe=ce>0?{transition:U,strokeDasharray:$}:{strokeDasharray:k};return _.createElement("path",fv({},br(e),{className:D,d:LR(W,oe,pe,K,Z),ref:b,style:MR(MR({},xe),e.style)}))})},Hre=["option","shapeType","activeClassName"];function Kre(t,e){if(t==null)return{};var n,r,i=Gre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){Yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yre(t,e,n){return(e=Wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wre(t){var e=Xre(t,"string");return typeof e=="symbol"?e:e+""}function Xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qre(t,e){return hv(hv({},e),t)}function Zre(t,e){return t==="symbols"}function VR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(D3,n);case"trapezoid":return _.createElement(Fre,n);case"sector":return _.createElement(V3,n);case"symbols":if(Zre(e))return _.createElement(wS,n);break;case"curve":return _.createElement(xu,n);default:return null}}function Jre(t){return _.isValidElement(t)?t.props:t}function JE(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Kre(t,Hre),s;if(_.isValidElement(e))s=_.cloneElement(e,hv(hv({},i),Jre(e)));else if(typeof e=="function")s=e(i,i.index);else if(Vre(e)&&typeof e!="boolean"){var l=Qre(e,i);s=_.createElement(VR,{shapeType:n,elementProps:l})}else{var u=i;s=_.createElement(VR,{shapeType:n,elementProps:u})}return i.isActive?_.createElement(ln,{className:r},s):s}var eA=(t,e,n)=>{var r=Vt();return(i,s)=>l=>{t?.(i,s,l),r(_6({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},tA=t=>{var e=Vt();return(n,r)=>i=>{t?.(n,r,i),e(oee())}},nA=(t,e,n)=>{var r=Vt();return(i,s)=>l=>{t?.(i,s,l),r(lee({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Ly(t){var{tooltipEntrySettings:e}=t,n=Vt(),r=Wn(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(ree(e)):i.current!==e&&n(iee({prev:i.current,next:e})),i.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(aee(i.current)),i.current=null)},[n]),null}function rA(t){var{legendPayload:e}=t,n=Vt(),r=Wn(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(N3(e)):i.current!==e&&n(j3({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(C3(i.current)),i.current=null)},[n]),null}function eie(t){var{legendPayload:e}=t,n=Vt(),r=Oe(et),i=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(N3(e)):i.current!==e&&n(j3({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(C3(i.current)),i.current=null)},[n]),null}var k1,tie=()=>{var[t]=_.useState(()=>qf("uid-"));return t},nie=(k1=e9.useId)!==null&&k1!==void 0?k1:tie;function rie(t,e){var n=nie();return e||(t?"".concat(t,"-").concat(n):n)}var iie=_.createContext(void 0),zy=t=>{var{id:e,type:n,children:r}=t,i=rie("recharts-".concat(n),e);return _.createElement(iie.Provider,{value:i},r(i))},aie={cartesianItems:[],polarItems:[]},uL=qr({name:"graphicalItems",initialState:aie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Wt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Zi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Wt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Zi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Wt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Wt()},removePolarGraphicalItem:{reducer(t,e){var n=Zi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Wt()}}}),{addCartesianGraphicalItem:sie,replaceCartesianGraphicalItem:oie,removeCartesianGraphicalItem:lie,addPolarGraphicalItem:cie,removePolarGraphicalItem:uie}=uL.actions,die=uL.reducer,fie=t=>{var e=Vt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(sie(t)):n.current!==t&&e(oie({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(lie(n.current)),n.current=null)},[e]),null},iA=_.memo(fie);function hie(t){var e=Vt();return _.useLayoutEffect(()=>(e(cie(t)),()=>{e(uie(t))}),[e,t]),null}var mie=["key"],pie=["onMouseEnter","onClick","onMouseLeave"],gie=["id"],vie=["id"];function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){yie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yie(t,e,n){return(e=bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=xie(t,"string");return typeof e=="symbol"?e:e+""}function xie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(null,arguments)}function Vy(t,e){if(t==null)return{};var n,r,i=_ie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wie(t){var e=_.useMemo(()=>QE(t.children,Kh),[t.children]),n=Oe(r=>Ire(r,t.id,e));return n==null?null:_.createElement(eie,{legendPayload:n})}var Sie=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:rl(u,e),hide:d,type:h,color:l,unit:"",graphicalItemId:p}};return _.createElement(Ly,{tooltipEntrySettings:g})}),Eie=(t,e)=>t>e?"start":t<e?"end":"middle",Aie=(t,e,n)=>vr(typeof e=="function"?e(t):e,n,n*.8),Tie=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=M3(s,l),d=i+vr(t.cx,s,s/2),h=r+vr(t.cy,l,l/2),p=vr(t.innerRadius,u,0),g=Aie(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:g,maxRadius:b}},Nie=(t,e)=>{var n=Yn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function jie(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Cie=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ct("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=Vy(e,mie);return _.createElement(xu,el({},i,{type:"linear",className:n}))},Oie=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=ct("recharts-pie-label-text",jie(t));return _.createElement(Ry,el({},e,{alignmentBaseline:"middle",className:i}),r)};function Iie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=Nr(n),d=ec(i),h=ec(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,w)=>{var A=(b.startAngle+b.endAngle)/2,E=Cn(b.cx,b.cy,b.outerRadius+p,A),S=sn(sn(sn(sn({},u),b),{},{stroke:"none"},d),{},{index:w,textAnchor:Eie(E.x,b.cx)},E),O=sn(sn(sn(sn({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:w,points:[Cn(b.cx,b.cy,b.outerRadius,A),E],key:"line"});return _.createElement(Cr,{zIndex:vn.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},_.createElement(ln,null,s&&Cie(s,O),Oie(i,S,gt(b,l))))});return _.createElement(ln,{className:"recharts-pie-labels"},g)}function Pie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(ky,{label:i}):_.createElement(Iie,{sectors:e,props:n,showLabels:r})}function Rie(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=Oe(Jo),d=Oe($E),h=Oe(Gee),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,w=Vy(i,pie),A=eA(p,i.dataKey,l),E=tA(b),S=nA(g,i.dataKey,l);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((O,M)=>{if(O?.startAngle===0&&O?.endAngle===0&&e.length!==1)return null;var R=h==null||h===l,V=String(M)===u&&(d==null||i.dataKey===d)&&R,D=u?r:null,L=n&&V?n:D,N=sn(sn({},O),{},{stroke:O.stroke,tabIndex:-1,[h3]:M,[m3]:l});return _.createElement(ln,el({key:"sector-".concat(O?.startAngle,"-").concat(O?.endAngle,"-").concat(O.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},Th(w,O,M),{onMouseEnter:A(O,M),onMouseLeave:E(O,M),onClick:S(O,M)}),_.createElement(JE,el({option:s??L,index:M,shapeType:"sector",isActive:V},N)))}))}function kie(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),w=Nie(u,d),A=Math.abs(w),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter(L=>gt(L,h,0)!==0).length,O=(A>=360?S:S-1)*E,M=A-S*b-O,R=r.reduce((L,N)=>{var j=gt(N,h,0);return L+(Ae(j)?j:0)},0),V;if(R>0){var D;V=r.map((L,N)=>{var j=gt(L,h,0),I=gt(L,p,N),z=Tie(n,s,L),k=(Ae(j)?j:0)/R,$,U=sn(sn({},L),i&&i[N]&&i[N].props);N?$=D.endAngle+Yn(w)*E*(j!==0?1:0):$=u;var ce=$+Yn(w)*((j!==0?b:0)+k*M),pe=($+ce)/2,K=(z.innerRadius+z.outerRadius)/2,Z=[{name:I,value:j,payload:U,dataKey:h,type:g,graphicalItemId:n.id}],W=Cn(z.cx,z.cy,K,pe);return D=sn(sn(sn(sn({},n.presentationProps),{},{percent:k,cornerRadius:typeof l=="string"?parseFloat(l):l,name:I,tooltipPayload:Z,midAngle:pe,middleRadius:K,tooltipPosition:W},U),z),{},{value:j,dataKey:h,startAngle:$,endAngle:ce,payload:U,paddingAngle:Yn(w)*E}),D})}return V}function Die(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(pre,{value:e?i:void 0},r)}function Mie(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,w=Ju(e,"recharts-pie-"),A=n.current,[E,S]=_.useState(!1),O=_.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),M=_.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return _.createElement(Die,{showLabels:!E,sectors:i},_.createElement(Zu,{animationId:w,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:M,onAnimationEnd:O,key:w},R=>{var V=[],D=i&&i[0],L=D?.startAngle;return i?.forEach((N,j)=>{var I=A&&A[j],z=j>0?nc(N,"paddingAngle",0):0;if(I){var k=pt(I.endAngle-I.startAngle,N.endAngle-N.startAngle,R),$=sn(sn({},N),{},{startAngle:L+z,endAngle:L+k+z});V.push($),L=$.endAngle}else{var{endAngle:U,startAngle:ce}=N,pe=pt(0,U-ce,R),K=sn(sn({},N),{},{startAngle:L+z,endAngle:L+pe+z});V.push(K),L=K.endAngle}}),n.current=V,_.createElement(ln,null,_.createElement(Rie,{sectors:V,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),_.createElement(Pie,{showLabels:!E,sectors:i,props:e}),e.children)}var Lie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:vn.area};function zie(t){var{id:e}=t,n=Vy(t,gie),{hide:r,className:i,rootTabIndex:s}=t,l=_.useMemo(()=>QE(t.children,Kh),[t.children]),u=Oe(p=>Pre(p,e,l)),d=_.useRef(null),h=ct("recharts-pie",i);return r||u==null?(d.current=null,_.createElement(ln,{tabIndex:s,className:h})):_.createElement(Cr,{zIndex:t.zIndex},_.createElement(Sie,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),_.createElement(ln,{tabIndex:s,className:h},_.createElement(Mie,{props:sn(sn({},n),{},{sectors:u}),previousSectorsRef:d,id:e})))}function dL(t){var e=cn(t,Lie),{id:n}=e,r=Vy(e,vie),i=Nr(r);return _.createElement(zy,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(hie,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(wie,el({},r,{id:s})),_.createElement(zie,el({},r,{id:s}))))}dL.displayName="Pie";var Vie=["points"];function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Uie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uie(t,e,n){return(e=Bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bie(t){var e=$ie(t,"string");return typeof e=="symbol"?e:e+""}function $ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}function qie(t,e){if(t==null)return{};var n,r,i=Fie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hie(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var i=ct(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=qie(s,Vie);return _.createElement(iL,mv({},u,{className:i}))}function Kie(t,e){return t==null?!1:e?!0:t.length===1}function fL(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:h=vn.scatter}=t;if(!Kie(e,n))return null;var p=ZE(n),g=uF(n),b=e.map((A,E)=>{var S,O,M=D1(D1(D1({r:3},l),g),{},{index:E,cx:(S=A.x)!==null&&S!==void 0?S:void 0,cy:(O=A.y)!==null&&O!==void 0?O:void 0,dataKey:s,value:A.value,payload:A.payload,points:e});return _.createElement(Hie,{key:"dot-".concat(E),option:n,dotProps:M,className:i})}),w={};return u&&d!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),_.createElement(Cr,{zIndex:h},_.createElement(ln,mv({className:r},w),b))}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e,n){return(e=Yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Wie(t,"string");return typeof e=="symbol"?e:e+""}function Wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hL=0,Xie={xAxis:{},yAxis:{},zAxis:{}},mL=qr({name:"cartesianAxis",initialState:Xie,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Wt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Wt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Wt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Wt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Wt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Wt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Wt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Wt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Wt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=qR(qR({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Qie,replaceXAxis:Zie,removeXAxis:Jie,addYAxis:eae,replaceYAxis:tae,removeYAxis:nae,addZAxis:ffe,replaceZAxis:hfe,removeZAxis:mfe,updateYAxisWidth:rae}=mL.actions,iae=mL.reducer,aae=ee([Mn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),sae=ee([aae,Vs,Us],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Uy=()=>Oe(sae),oae=()=>Oe(Zee);function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lae(t,e,n){return(e=cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cae(t){var e=uae(t,"string");return typeof e=="symbol"?e:e+""}function uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=M1(M1(M1({},u),ec(i)),SS(i)),h;return _.isValidElement(i)?h=_.cloneElement(i,d):typeof i=="function"?h=i(d):h=_.createElement(iL,d),_.createElement(ln,{className:"recharts-active-dot",clipPath:l},h)};function aw(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=vn.activeDot}=t,u=Oe(Jo),d=oae();if(e==null||d==null)return null;var h=e.find(p=>d.includes(p.payload));return Ht(h)?null:_.createElement(Cr,{zIndex:l},_.createElement(dae,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var HR=(t,e,n)=>{var r=n??t;if(!Ht(r))return vr(r,e,0)},fae=(t,e,n)=>{var r={},i=t.filter(Ey),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,b=g.map(A=>A.dataKey),w=HR(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:w}}),d=s.map(h=>{var p=[h.dataKey].filter(b=>b!=null),g=HR(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]};function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hae(t,e,n){return(e=mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mae(t){var e=pae(t,"string");return typeof e=="symbol"?e:e+""}function pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gae(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=vr(t,n,0,!0),u,d=[];if(Dt(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((O,M)=>O+(M.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,w={offset:b-l,size:0};u=r.reduce((O,M)=>{var R,V={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:w.offset+w.size+l,size:h?p:(R=M.barSize)!==null&&R!==void 0?R:0}},D=[...O,V];return w=D[D.length-1].position,D},d)}else{var A=vr(e,n,0,!0);n-2*A-(s-1)*l<=0&&(l=0);var E=(n-2*A-(s-1)*l)/s;E>1&&(E>>=0);var S=Dt(i)?Math.min(E,i):E;u=r.reduce((O,M,R)=>[...O,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:A+(E+l)*R+(E-S)/2,size:S}}],d)}return u}}var vae=(t,e,n,r,i,s,l)=>{var u=Ht(l)?e:l,d=gae(n,r,i!==s?i:s,t,u);return i!==s&&d!=null&&(d=d.map(h=>zp(zp({},h),{},{position:zp(zp({},h.position),{},{offset:h.position.offset-i/2})}))),d},yae=(t,e)=>{var n=Sy(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function bae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Dt(t.zIndex)?t.zIndex:e}var pL=t=>{var{chartData:e}=t,n=Vt(),r=Wn();return _.useEffect(()=>r?()=>{}:(n(JP(e)),()=>{n(JP(void 0))}),[e,n,r]),null},GR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gL=qr({name:"brush",initialState:GR,reducers:{setBrushSettings(t,e){return e.payload==null?GR:e.payload}}}),{setBrushSettings:pfe}=gL.actions,xae=gL.reducer;function _ae(t,e,n){return(e=wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wae(t){var e=Sae(t,"string");return typeof e=="symbol"?e:e+""}function Sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class aA{static create(e){return new aA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}_ae(aA,"EPS",1e-4);function Eae(t){return(t%180+180)%180}var Aae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Eae(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Tae={dots:[],areas:[],lines:[]},vL=qr({name:"referenceElements",initialState:Tae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Zi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Zi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Zi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:gfe,removeDot:vfe,addArea:yfe,removeArea:bfe,addLine:xfe,removeLine:_fe}=vL.actions,Nae=vL.reducer,jae=_.createContext(void 0),Cae=t=>{var{children:e}=t,[n]=_.useState("".concat(qf("recharts"),"-clip")),r=Uy();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return _.createElement(jae.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function yL(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Oae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Aae(r,n)}function Iae(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function rh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Pae(t,e){return yL(t,e+1)}function Rae(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,d=0,h=1,p=l,g=function(){var A=r?.[d];if(A===void 0)return{v:yL(r,h)};var E=d,S,O=()=>(S===void 0&&(S=n(A,E)),S),M=A.coordinate,R=d===0||rh(t,M,O,p,u);R||(d=0,p=l,h+=1),R&&(p=M+t*(O()/2+i),d+=h)},b;h<=s.length;)if(b=g(),b)return b.v;return[]}function kae(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=e,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,b=!0,w=function(){var M=r[A],R=A,V,D=()=>(V===void 0&&(V=n(M,R)),V),L=M.coordinate,N=A===p||rh(t,L,D,g,d);if(!N)return b=!1,1;N&&(g=L+t*(D()/2+i))},A=p;A<l&&!w();A+=h);if(b){for(var E=[],S=p;S<l;S+=h)E.push(r[S]);return E}}return[]}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dae(t,e,n){return(e=Mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t){var e=Lae(t,"string");return typeof e=="symbol"?e:e+""}function Lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zae(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,h=function(b){var w=s[b],A,E=()=>(A===void 0&&(A=n(w,b)),A);if(b===l-1){var S=t*(w.coordinate+t*E()/2-d);s[b]=w=fr(fr({},w),{},{tickCoord:S>0?w.coordinate-S*t:w.coordinate})}else s[b]=w=fr(fr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var O=rh(t,w.tickCoord,E,u,d);O&&(d=w.tickCoord-t*(E()/2+i),s[b]=fr(fr({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Vae(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:h}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-h);if(l[u-1]=p=fr(fr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var w=rh(t,p.tickCoord,()=>g,d,h);w&&(h=p.tickCoord-t*(g/2+i),l[u-1]=fr(fr({},p),{},{isShow:!0}))}}for(var A=s?u-1:u,E=function(M){var R=l[M],V,D=()=>(V===void 0&&(V=n(R,M)),V);if(M===0){var L=t*(R.coordinate-t*D()/2-d);l[M]=R=fr(fr({},R),{},{tickCoord:L<0?R.coordinate-L*t:R.coordinate})}else l[M]=R=fr(fr({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var N=rh(t,R.tickCoord,D,d,h);N&&(d=R.tickCoord+t*(D()/2+i),l[M]=fr(fr({},R),{},{isShow:!0}))}},S=0;S<A;S++)E(S);return l}function sA(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Ae(d)||Ih.isSsr){var b;return(b=Pae(i,Ae(d)?d:0))!==null&&b!==void 0?b:[]}var w=[],A=u==="top"||u==="bottom"?"width":"height",E=p&&A==="width"?If(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(R,V)=>{var D=typeof h=="function"?h(R.value,V):R.value;return A==="width"?Oae(If(D,{fontSize:e,letterSpacing:n}),E,g):If(D,{fontSize:e,letterSpacing:n})[A]},O=i.length>=2?Yn(i[1].coordinate-i[0].coordinate):1,M=Iae(s,O,A);return d==="equidistantPreserveStart"?Rae(O,M,S,i,l):d==="equidistantPreserveEnd"?kae(O,M,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=Vae(O,M,S,i,l,d==="preserveStartEnd"):w=zae(O,M,S,i,l),w.filter(R=>R.isShow))}var Uae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,h=l+d+u+(n?r:0);return Math.round(h)}return 0},Bae=["axisLine","width","height","className","hide","ticks","axisType"];function $ae(t,e){if(t==null)return{};var n,r,i=qae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(null,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Kae(t,"string");return typeof e=="symbol"?e:e+""}function Kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ws={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:vn.axis};function Gae(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var h=Tn(Tn(Tn({},d),Nr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Tn(Tn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Tn(Tn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return _.createElement("line",oc({},h,{className:ct("recharts-cartesian-axis-line",nc(u,"className"))}))}function Yae(t,e,n,r,i,s,l,u,d){var h,p,g,b,w,A,E=u?-1:1,S=t.tickSize||l,O=Ae(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,b=n+ +!u*i,g=b-E*S,A=g-E*d,w=O;break;case"left":g=b=t.coordinate,p=e+ +!u*r,h=p-E*S,w=h-E*d,A=O;break;case"right":g=b=t.coordinate,p=e+ +u*r,h=p+E*S,w=h+E*d,A=O;break;default:h=p=t.coordinate,b=n+ +u*i,g=b+E*S,A=g+E*d,w=O;break}return{line:{x1:h,y1:g,x2:p,y2:b},tick:{x:w,y:A}}}function Wae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Xae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Qae(t){var{option:e,tickProps:n,value:r}=t,i,s=ct(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Tn(Tn({},n),{},{className:s}));else if(typeof e=="function")i=e(Tn(Tn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ct(l,e?.className)),i=_.createElement(Ry,oc({},n,{className:l}),r)}return i}var Zae=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:h,orientation:p,mirror:g,x:b,y:w,width:A,height:E,tickSize:S,tickMargin:O,fontSize:M,letterSpacing:R,getTicksConfig:V,events:D,axisType:L}=t,N=sA(Tn(Tn({},V),{},{ticks:n}),M,R),j=Wae(p,g),I=Xae(p,g),z=Nr(V),k=ec(r),$={};typeof i=="object"&&($=i);var U=Tn(Tn({},z),{},{fill:"none"},$),ce=N.map(Z=>Tn({entry:Z},Yae(Z,b,w,A,E,p,S,g,O))),pe=ce.map(Z=>{var{entry:W,line:oe}=Z;return _.createElement(ln,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&_.createElement("line",oc({},U,oe,{className:ct("recharts-cartesian-axis-tick-line",nc(i,"className"))})))}),K=ce.map((Z,W)=>{var{entry:oe,tick:xe}=Z,F=Tn(Tn(Tn(Tn({textAnchor:j,verticalAnchor:I},z),{},{stroke:"none",fill:s},k),xe),{},{index:W,payload:oe,visibleTicksCount:N.length,tickFormatter:l,padding:d},h);return _.createElement(ln,oc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},Th(D,oe,W)),r&&_.createElement(Qae,{option:r,tickProps:F,value:"".concat(typeof l=="function"?l(oe.value,W):oe.value).concat(u||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},K.length>0&&_.createElement(Cr,{zIndex:vn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},K)),pe.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},pe))}),Jae=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=t,h=$ae(t,Bae),[p,g]=_.useState(""),[b,w]=_.useState(""),A=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Uae({ticks:A.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=_.useCallback(S=>{if(S){var O=S.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=O;var M=O[0];if(M){var R=window.getComputedStyle(M),V=R.fontSize,D=R.letterSpacing;(V!==p||D!==b)&&(g(V),w(D))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Cr,{zIndex:t.zIndex},_.createElement(ln,{className:ct("recharts-cartesian-axis",s)},_.createElement(Gae,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Nr(t)}),_.createElement(Zae,{ref:E,axisType:d,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(Yne,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(ire,{label:t.label,labelRef:t.labelRef}),t.children)))}),oA=_.forwardRef((t,e)=>{var n=cn(t,ws);return _.createElement(Jae,oc({},n,{ref:e}))});oA.displayName="CartesianAxis";var ese=["x1","y1","x2","y2","key"],tse=["offset"],nse=["xAxisId","yAxisId"],rse=["xAxisId","yAxisId"];function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ise(t,e,n){return(e=ase(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ase(t){var e=sse(t,"string");return typeof e=="symbol"?e:e+""}function sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(null,arguments)}function pv(t,e){if(t==null)return{};var n,r,i=ose(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ose(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lse=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return _.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bL(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:h}=n,p=pv(n,ese),g=(i=Nr(p))!==null&&i!==void 0?i:{},{offset:b}=g,w=pv(g,tse);r=_.createElement("line",Bl({},w,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:h}))}return r}function cse(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=pv(t,nse),d=i.map((h,p)=>{var g=pr(pr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return _.createElement(bL,{key:"line-".concat(p),option:r,lineItemProps:g})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function use(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=pv(t,rse),d=i.map((h,p)=>{var g=pr(pr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return _.createElement(bL,{option:r,lineItemProps:g,key:"line-".concat(p)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function dse(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var w=!h[b+1],A=w?i+l-g:h[b+1]-g;if(A<=0)return null;var E=b%e.length;return _.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:A,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function fse(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var w=!h[b+1],A=w?i+l-g:h[b+1]-g;if(A<=0)return null;var E=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:A,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var hse=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return c3(sA(pr(pr(pr({},ws),n),{},{ticks:u3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},mse=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return c3(sA(pr(pr(pr({},ws),n),{},{ticks:u3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},pse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:vn.grid};function By(t){var e=kS(),n=DS(),r=b3(),i=pr(pr({},cn(t,pse)),{},{x:Ae(t.x)?t.x:r.left,y:Ae(t.y)?t.y:r.top,width:Ae(t.width)?t.width:r.width,height:Ae(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:h,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:w}=i,A=Wn(),E=Oe(I=>BP(I,"xAxis",s,A)),S=Oe(I=>BP(I,"yAxis",l,A));if(!La(h)||!La(p)||!Ae(u)||!Ae(d))return null;var O=i.verticalCoordinatesGenerator||hse,M=i.horizontalCoordinatesGenerator||mse,{horizontalPoints:R,verticalPoints:V}=i;if((!R||!R.length)&&typeof M=="function"){var D=b&&b.length,L=M({yAxis:S?pr(pr({},S),{},{ticks:D?b:S.ticks}):void 0,width:e??h,height:n??p,offset:r},D?!0:g);$g(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(R=L)}if((!V||!V.length)&&typeof O=="function"){var N=w&&w.length,j=O({xAxis:E?pr(pr({},E),{},{ticks:N?w:E.ticks}):void 0,width:e??h,height:n??p,offset:r},N?!0:g);$g(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(V=j)}return _.createElement(Cr,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(lse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(dse,Bl({},i,{horizontalPoints:R})),_.createElement(fse,Bl({},i,{verticalPoints:V})),_.createElement(cse,Bl({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:S})),_.createElement(use,Bl({},i,{offset:r,verticalPoints:V,xAxis:E,yAxis:S}))))}By.displayName="CartesianGrid";var gse={},xL=qr({name:"errorBars",initialState:gse,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:wfe,replaceErrorBar:Sfe,removeErrorBar:Efe}=xL.actions,vse=xL.reducer,yse=["children"];function bse(t,e){if(t==null)return{};var n,r,i=xse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _se={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},wse=_.createContext(_se);function _L(t){var{children:e}=t,n=bse(t,yse);return _.createElement(wse.Provider,{value:n},e)}function $y(t,e){var n,r,i=Oe(h=>qs(h,t)),s=Oe(h=>Fs(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:qn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Fn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function lA(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Uy(),{needClipX:s,needClipY:l,needClip:u}=$y(e,n);if(!u||!i)return null;var{x:d,y:h,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?d:d-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var wL=(t,e,n,r)=>Ua(t,"xAxis",e,r),SL=(t,e,n,r)=>Va(t,"xAxis",e,r),EL=(t,e,n,r)=>Ua(t,"yAxis",n,r),AL=(t,e,n,r)=>Va(t,"yAxis",n,r),Sse=ee([et,wL,EL,SL,AL],(t,e,n,r,i)=>Ba(t,"xAxis")?Qo(e,r,!1):Qo(n,i,!1)),Ese=(t,e,n,r,i)=>i;function Ase(t){return t.type==="line"}var Tse=ee([Vh,Ese],(t,e)=>t.filter(Ase).find(n=>n.id===e)),Nse=ee([et,wL,EL,SL,AL,Tse,Sse,oE],(t,e,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,w;if(b!=null&&b.length>0?w=b:w=d?.slice(h,p+1),w!=null)return hoe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:w})}});function TL(t){var e=ec(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var L1={exports:{}},z1={};var QR;function jse(){if(QR)return z1;QR=1;var t=$u();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return z1.useSyncExternalStoreWithSelector=function(d,h,p,g,b){var w=i(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=l(function(){function S(D){if(!O){if(O=!0,M=D,D=g(D),b!==void 0&&A.hasValue){var L=A.value;if(b(L,D))return R=L}return R=D}if(L=R,n(M,D))return L;var N=g(D);return b!==void 0&&b(L,N)?(M=D,L):(M=D,R=N)}var O=!1,M,R,V=p===void 0?null:p;return[function(){return S(h())},V===null?void 0:function(){return S(V())}]},[h,p,g,b]);var E=r(d,w[0],w[1]);return s(function(){A.hasValue=!0,A.value=E},[E]),u(E),E},z1}var ZR;function Cse(){return ZR||(ZR=1,L1.exports=jse()),L1.exports}Cse();function Ose(t){t()}function Ise(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ose(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var JR={notify(){},get:()=>[]};function Pse(t,e){let n,r=JR,i=0,s=!1;function l(E){p();const S=r.subscribe(E);let O=!1;return()=>{O||(O=!0,S(),g())}}function u(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(d),r=Ise())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=JR)}function b(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const A={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>r};return A}var Rse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kse=Rse(),Dse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Mse=Dse(),Lse=()=>kse||Mse?_.useLayoutEffect:_.useEffect,zse=Lse();function ek(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Vse(t,e){if(ek(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!ek(t[n[i]],e[n[i]]))return!1;return!0}var Use=Symbol.for("react-redux-context"),Bse=typeof globalThis<"u"?globalThis:{};function $se(){if(!_.createContext)return{};const t=Bse[Use]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var qse=$se();function Fse(t){const{children:e,context:n,serverState:r,store:i}=t,s=_.useMemo(()=>{const d=Pse(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);zse(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||qse;return _.createElement(u.Provider,{value:s},e)}var Hse=Fse,Kse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Gse(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Gh(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Kse.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Vse(t[r],e[r]))return!1}else if(!Gse(t[r],e[r]))return!1;return!0}var Yse=["id"],Wse=["type","layout","connectNulls","needClip","shape"],Xse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(null,arguments)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){Qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cA(t,e){if(t==null)return{};var n,r,i=eoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var toe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:rl(n,e),payload:t}]},noe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:rl(l,e),hide:u,type:h,color:r,unit:d,graphicalItemId:p}};return _.createElement(Ly,{tooltipEntrySettings:g})}),NL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function roe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var ioe=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return NL(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>s){u=[...n.slice(0,d),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...roe(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function aoe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=cA(r,Yse),h=Nr(d);return _.createElement(fL,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function soe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Aa(Aa({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(YE,{value:e?i:void 0},n)}function nk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:d,needClip:h,shape:p}=s,g=cA(s,Wse),b=Aa(Aa({},br(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(JE,ih({shapeType:"curve",option:p},b,{pathRef:n})),_.createElement(aoe,{points:r,clipPathId:e,props:s}))}function ooe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function loe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:b,width:w,height:A,onAnimationEnd:E,onAnimationStart:S}=n,O=i.current,M=Ju(l,"recharts-line-"),R=_.useRef(M),[V,D]=_.useState(!1),L=!V,N=_.useCallback(()=>{typeof E=="function"&&E(),D(!1)},[E]),j=_.useCallback(()=>{typeof S=="function"&&S(),D(!0)},[S]),I=ooe(r.current),z=_.useRef(0);R.current!==M&&(z.current=s.current,R.current=M);var k=z.current;return _.createElement(soe,{points:l,showLabels:L},n.children,_.createElement(Zu,{animationId:M,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:N,onAnimationStart:j,key:M},$=>{var U=pt(k,I+k,$),ce=Math.min(U,I),pe;if(d)if(u){var K="".concat(u).split(/[,\s]+/gim).map(oe=>parseFloat(oe));pe=ioe(ce,I,K)}else pe=NL(I,ce);else pe=u==null?void 0:String(u);if($>0&&I>0&&(i.current=l,s.current=Math.max(s.current,ce)),O){var Z=O.length/l.length,W=$===1?l:l.map((oe,xe)=>{var F=Math.floor(xe*Z);if(O[F]){var X=O[F];return Aa(Aa({},oe),{},{x:pt(X.x,oe.x,$),y:pt(X.y,oe.y,$)})}return b?Aa(Aa({},oe),{},{x:pt(w*2,oe.x,$),y:pt(A/2,oe.y,$)}):Aa(Aa({},oe),{},{x:oe.x,y:oe.y})});return i.current=W,_.createElement(nk,{props:n,points:W,clipPathId:e,pathRef:r,strokeDasharray:pe})}return _.createElement(nk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:pe})}),_.createElement(ky,{label:n.label}))}function coe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(loe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var uoe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:gt(t.payload,e)}};class doe extends _.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:h,height:p,id:g,needClip:b,zIndex:w}=this.props;if(e)return null;var A=ct("recharts-line",i),E=g,{r:S,strokeWidth:O}=TL(n),M=ZE(n),R=S*2+O,V=b?"url(#clipPath-".concat(M?"":"dots-").concat(E,")"):void 0;return _.createElement(Cr,{zIndex:w},_.createElement(ln,{className:A},b&&_.createElement("defs",null,_.createElement(lA,{clipPathId:E,xAxisId:s,yAxisId:l}),!M&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:d-R/2,y:u-R/2,width:h+R,height:p+R}))),_.createElement(_L,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:uoe,errorBarOffset:0},_.createElement(coe,{props:this.props,clipPathId:E}))),_.createElement(aw,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:V}))}}var jL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:vn.line,type:"linear"};function foe(t){var e=cn(t,jL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:g,legendType:b,xAxisId:w,yAxisId:A,id:E}=e,S=cA(e,Xse),{needClip:O}=$y(w,A),M=Uy(),R=il(),V=Wn(),D=Oe(z=>Nse(z,w,A,V,E));if(R!=="horizontal"&&R!=="vertical"||D==null||M==null)return null;var{height:L,width:N,x:j,y:I}=M;return _.createElement(doe,ih({},S,{id:E,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:b,xAxisId:w,yAxisId:A,points:D,layout:R,height:L,width:N,left:j,top:I,needClip:O}))}function hoe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((h,p)=>{var g=gt(h,l);if(e==="horizontal"){var b=Bg({axis:n,ticks:i,bandSize:u,entry:h,index:p}),w=Ht(g)?null:r.scale(g);return{x:b,y:w,value:g,payload:h}}var A=Ht(g)?null:n.scale(g),E=Bg({axis:r,ticks:s,bandSize:u,entry:h,index:p});return A==null||E==null?null:{x:A,y:E,value:g,payload:h}}).filter(Boolean)}function moe(t){var e=cn(t,jL),n=Wn();return _.createElement(zy,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(rA,{legendPayload:toe(e)}),_.createElement(noe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(iA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(foe,ih({},e,{id:r}))))}var Lu=_.memo(moe,Gh);Lu.displayName="Line";function $a(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:hL}function qa(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:hL}var CL=(t,e,n)=>Ua(t,"xAxis",$a(t,e),n),OL=(t,e,n)=>Va(t,"xAxis",$a(t,e),n),IL=(t,e,n)=>Ua(t,"yAxis",qa(t,e),n),PL=(t,e,n)=>Va(t,"yAxis",qa(t,e),n),poe=ee([et,CL,IL,OL,PL],(t,e,n,r,i)=>Ba(t,"xAxis")?Qo(e,r,!1):Qo(n,i,!1)),goe=(t,e)=>e,RL=ee([Vh,goe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),kL=t=>{var e=et(t),n=Ba(e,"xAxis");return n?"yAxis":"xAxis"},voe=(t,e)=>{var n=kL(t);return n==="yAxis"?qa(t,e):$a(t,e)},yoe=(t,e,n)=>lv(t,kL(t),voe(t,e),n),boe=ee([RL,yoe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=Sy(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),xoe=ee([et,CL,IL,OL,PL,boe,_5,poe,RL,XZ],(t,e,n,r,i,s,l,u,d,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:w}=d,A;if(w&&w.length>0?A=w:A=p?.slice(g,b+1),A!=null)return Voe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:A,chartBaseValue:h,bandSize:u})}}),_oe=["id"],woe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(null,arguments)}function DL(t,e){if(t==null)return{};var n,r,i=Soe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Soe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){Eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e,n){return(e=Aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aoe(t){var e=Toe(t,"string");return typeof e=="symbol"?e:e+""}function Toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gv(t,e){return t&&t!=="none"?t:e}var Noe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:gv(r,i),value:rl(n,e),payload:t}]},joe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:rl(l,e),hide:u,type:h,color:gv(r,s),unit:d,graphicalItemId:p}};return _.createElement(Ly,{tooltipEntrySettings:g})});function Coe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=Nr(r);return _.createElement(fL,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function Ooe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return mu(mu({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return _.createElement(YE,{value:e?i:void 0},n)}function ik(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:d,connectNulls:h,isRange:p}=s,{id:g}=s,b=DL(s,_oe),w=Nr(b),A=br(b);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(ln,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(xu,Gl({},A,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&_.createElement(xu,Gl({},w,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),d!=="none"&&p&&_.createElement(xu,Gl({},w,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),_.createElement(Coe,{points:e,props:b,clipPathId:i}))}function Ioe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,d=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Dt(u)||!Dt(d))return null;var h=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.x||0));return Ae(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Ae(p)?_.createElement("rect",{x:0,y:u<d?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}function Poe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,d=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Dt(u)||!Dt(d))return null;var h=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.y||0));return Ae(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Ae(p)?_.createElement("rect",{x:u<d?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function Roe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?_.createElement(Ioe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):_.createElement(Poe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function koe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:w}=r,A=_.useMemo(()=>({points:l,baseLine:u}),[l,u]),E=Ju(A,"recharts-area-"),S=hY(),[O,M]=_.useState(!1),R=!O,V=_.useCallback(()=>{typeof w=="function"&&w(),M(!1)},[w]),D=_.useCallback(()=>{typeof b=="function"&&b(),M(!0)},[b]);if(S==null)return null;var L=i.current,N=s.current;return _.createElement(Ooe,{showLabels:R,points:l},r.children,_.createElement(Zu,{animationId:E,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:V,onAnimationStart:D,key:E},j=>{if(L){var I=L.length/l.length,z=j===1?l:l.map(($,U)=>{var ce=Math.floor(U*I);if(L[ce]){var pe=L[ce];return mu(mu({},$),{},{x:pt(pe.x,$.x,j),y:pt(pe.y,$.y,j)})}return $}),k;return Ae(u)?k=pt(N,u,j):Ht(u)||Pi(u)?k=pt(N,0,j):k=u.map(($,U)=>{var ce=Math.floor(U*I);if(Array.isArray(N)&&N[ce]){var pe=N[ce];return mu(mu({},$),{},{x:pt(pe.x,$.x,j),y:pt(pe.y,$.y,j)})}return $}),j>0&&(i.current=z,s.current=k),_.createElement(ik,{points:z,baseLine:k,needClip:e,clipPathId:n,props:r})}return j>0&&(i.current=l,s.current=u),_.createElement(ln,null,d&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(Roe,{alpha:j,points:l,baseLine:u,layout:S,strokeWidth:r.strokeWidth}))),_.createElement(ln,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(ik,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),_.createElement(ky,{label:r.label}))}function Doe(t){var{needClip:e,clipPathId:n,props:r}=t,i=_.useRef(null),s=_.useRef();return _.createElement(koe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Moe extends _.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:d,yAxisId:h,width:p,height:g,id:b,baseLine:w,zIndex:A}=this.props;if(e)return null;var E=ct("recharts-area",i),S=b,{r:O,strokeWidth:M}=TL(n),R=ZE(n),V=O*2+M,D=u?"url(#clipPath-".concat(R?"":"dots-").concat(S,")"):void 0;return _.createElement(Cr,{zIndex:A},_.createElement(ln,{className:E},u&&_.createElement("defs",null,_.createElement(lA,{clipPathId:S,xAxisId:d,yAxisId:h}),!R&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:l-V/2,y:s-V/2,width:p+V,height:g+V}))),_.createElement(Doe,{needClip:u,clipPathId:S,props:this.props})),_.createElement(aw,{points:r,mainColor:gv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(w)&&_.createElement(aw,{points:w,mainColor:gv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var ML={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:vn.area};function Loe(t){var e,n=cn(t,ML),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:h,fillOpacity:p,hide:g,isAnimationActive:b,legendType:w,stroke:A,xAxisId:E,yAxisId:S}=n,O=DL(n,woe),M=il(),R=L6(),{needClip:V}=$y(E,S),D=Wn(),{points:L,isRange:N,baseLine:j}=(e=Oe(ce=>xoe(ce,t.id,D)))!==null&&e!==void 0?e:{},I=Uy();if(M!=="horizontal"&&M!=="vertical"||I==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:z,width:k,x:$,y:U}=I;return!L||!L.length?null:_.createElement(Moe,Gl({},O,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:j,connectNulls:u,dot:d,fill:h,fillOpacity:p,height:z,hide:g,layout:M,isAnimationActive:b==="auto"?!Ih.isSsr:b,isRange:N,legendType:w,needClip:V,points:L,stroke:A,width:k,left:$,top:U,xAxisId:E,yAxisId:S}))}var zoe=(t,e,n,r,i)=>{var s=n??e;if(Ae(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Voe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:w}=t,A=i&&i.length,E=zoe(s,l,n,u,d),S=s==="horizontal",O=!1,M=h.map((V,D)=>{var L,N,j;if(A)j=i[p+D];else{var I=gt(V,r);Array.isArray(I)?(j=I,O=!0):j=[E,I]}var z=(L=(N=j)===null||N===void 0?void 0:N[1])!==null&&L!==void 0?L:null,k=z==null||A&&!e&&gt(V,r)==null;return S?{x:Bg({axis:u,ticks:g,bandSize:w,entry:V,index:D}),y:k?null:d.scale(z),value:j,payload:V}:{x:k?null:u.scale(z),y:Bg({axis:d,ticks:b,bandSize:w,entry:V,index:D}),value:j,payload:V}}),R;return A||O?R=M.map(V=>{var D=Array.isArray(V.value)?V.value[0]:null;return S?{x:V.x,y:D!=null&&V.y!=null?d.scale(D):null,payload:V.payload}:{x:D!=null?u.scale(D):null,y:V.y,payload:V.payload}}):R=S?d.scale(E):u.scale(E),{points:M,baseLine:R,isRange:O}}function Uoe(t){var e=cn(t,ML),n=Wn();return _.createElement(zy,{id:e.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(rA,{legendPayload:Noe(e)}),_.createElement(joe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(iA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:d3(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),_.createElement(Loe,Gl({},e,{id:r}))))}var uA=_.memo(Uoe,Gh);uA.displayName="Area";var Boe="Invariant failed";function $oe(t,e){throw new Error(Boe)}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(null,arguments)}function vv(t){return _.createElement(JE,sw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var qoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ae(e))return e;var s=Ae(r)||Ht(r);return s?e(r,i):(s||$oe(),n)}},Foe=(t,e,n)=>n,Hoe=(t,e)=>e,Yh=ee([Vh,Hoe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Koe=ee([Yh],t=>t?.maxBarSize),Goe=(t,e,n,r)=>r,Yoe=ee([et,Vh,$a,qa,Foe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Woe=(t,e,n)=>{var r=et(t),i=$a(t,e),s=qa(t,e);if(!(i==null||s==null))return r==="horizontal"?lv(t,"yAxis",s,n):lv(t,"xAxis",i,n)},Xoe=(t,e)=>{var n=et(t),r=$a(t,e),i=qa(t,e);if(!(r==null||i==null))return n==="horizontal"?UP(t,"xAxis",r):UP(t,"yAxis",i)},Qoe=ee([Yoe,WZ,Xoe],fae),Zoe=(t,e,n)=>{var r,i,s=Yh(t,e);if(s!=null){var l=$a(t,e),u=qa(t,e);if(!(l==null||u==null)){var d=et(t),h=M5(t),{maxBarSize:p}=s,g=Ht(p)?h:p,b,w;return d==="horizontal"?(b=Ua(t,"xAxis",l,n),w=Va(t,"xAxis",l,n)):(b=Ua(t,"yAxis",u,n),w=Va(t,"yAxis",u,n)),(r=(i=Qo(b,w,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},LL=(t,e,n)=>{var r=et(t),i=$a(t,e),s=qa(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=Ua(t,"xAxis",i,n),u=Va(t,"xAxis",i,n)):(l=Ua(t,"yAxis",s,n),u=Va(t,"yAxis",s,n)),Qo(l,u)}},Joe=ee([Qoe,M5,YZ,L5,Zoe,LL,Koe],vae),ele=(t,e,n)=>{var r=$a(t,e);if(r!=null)return Ua(t,"xAxis",r,n)},tle=(t,e,n)=>{var r=qa(t,e);if(r!=null)return Ua(t,"yAxis",r,n)},nle=(t,e,n)=>{var r=$a(t,e);if(r!=null)return Va(t,"xAxis",r,n)},rle=(t,e,n)=>{var r=qa(t,e);if(r!=null)return Va(t,"yAxis",r,n)},ile=ee([Joe,Yh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ale=ee([Woe,Yh],yae),sle=ee([Mn,PS,ele,tle,nle,rle,ile,et,_5,LL,ale,Yh,Goe],(t,e,n,r,i,s,l,u,d,h,p,g,b)=>{var{chartData:w,dataStartIndex:A,dataEndIndex:E}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:S}=g,O;if(S!=null&&S.length>0?O=S:O=w?.slice(A,E+1),O!=null)return Dle({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:O,offset:t,cells:b,dataStartIndex:A})}}),ole=["index"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(null,arguments)}function lle(t,e){if(t==null)return{};var n,r,i=cle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zL=_.createContext(void 0),ule=t=>{var e=_.useContext(zL);if(e!=null)return e.stackId;if(t!=null)return d3(t)},dle=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),fle=t=>{var e=_.useContext(zL);if(e!=null){var{stackId:n}=e;return"url(#".concat(dle(n,t),")")}},hle=t=>{var{index:e}=t,n=lle(t,ole),r=fle(e);return _.createElement(ln,ow({className:"recharts-bar-stack-layer",clipPath:r},n))},mle=["onMouseEnter","onMouseLeave","onClick"],ple=["value","background","tooltipPosition"],gle=["id"],vle=["onMouseEnter","onClick","onMouseLeave"];function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ds.apply(null,arguments)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return(e=ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yv(t,e){if(t==null)return{};var n,r,i=_le(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wle=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:rl(n,e),payload:t}]},Sle=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:d,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:rl(s,e),hide:l,type:d,color:i,unit:u,graphicalItemId:h}};return _.createElement(Ly,{tooltipEntrySettings:p})});function Ele(t){var e=Oe(Jo),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,h=yv(s,mle),p=eA(l,r,s.id),g=tA(u),b=nA(d,r,s.id);if(!i||n==null)return null;var w=ec(i);return _.createElement(Cr,{zIndex:bae(i,vn.barBackground)},n.map((A,E)=>{var{value:S,background:O,tooltipPosition:M}=A,R=yv(A,ple);if(!O)return null;var V=p(A,E),D=g(A,E),L=b(A,E),N=Sr(Sr(Sr(Sr(Sr({option:i,isActive:String(E)===e},R),{},{fill:"#eee"},O),w),Th(h,A,E)),{},{onMouseEnter:V,onMouseLeave:D,onClick:L,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return _.createElement(vv,Ds({key:"background-bar-".concat(E)},N))}))}function Ale(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Sr(Sr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return _.createElement(YE,{value:e?i:void 0},n)}function Tle(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Oe(Jo),d=Oe($E),h=n&&String(s)===u&&(d==null||l===d),p=h?n:e;return h?_.createElement(Cr,{zIndex:vn.activeBar},_.createElement(vv,Ds({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))):_.createElement(vv,Ds({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function Nle(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return _.createElement(vv,Ds({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function jle(t){var e,{data:n,props:r}=t,i=(e=Nr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=yv(i,gle),{shape:u,dataKey:d,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,w=yv(r,vle),A=eA(p,d,s),E=tA(b),S=nA(g,d,s);return n?_.createElement(_.Fragment,null,n.map((O,M)=>_.createElement(hle,Ds({index:M,key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(M),className:"recharts-bar-rectangle"},Th(w,O,M),{onMouseEnter:A(O,M),onMouseLeave:E(O,M),onClick:S(O,M)}),h?_.createElement(Tle,{shape:u,activeBar:h,baseProps:l,entry:O,index:M,dataKey:d}):_.createElement(Nle,{shape:u,baseProps:l,entry:O,index:M,dataKey:d})))):null}function Cle(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,b=Ju(e,"recharts-bar-"),[w,A]=_.useState(!1),E=!w,S=_.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),O=_.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return _.createElement(Ale,{showLabels:E,rects:r},_.createElement(Zu,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:S,onAnimationStart:O,key:b},M=>{var R=M===1?r:r?.map((V,D)=>{var L=g&&g[D];if(L)return Sr(Sr({},V),{},{x:pt(L.x,V.x,M),y:pt(L.y,V.y,M),width:pt(L.width,V.width,M),height:pt(L.height,V.height,M)});if(i==="horizontal"){var N=pt(0,V.height,M),j=pt(V.stackedBarStart,V.y,M);return Sr(Sr({},V),{},{y:j,height:N})}var I=pt(0,V.width,M),z=pt(V.stackedBarStart,V.x,M);return Sr(Sr({},V),{},{width:I,x:z})});return M>0&&(n.current=R??null),R==null?null:_.createElement(ln,null,_.createElement(jle,{props:e,data:R}))}),_.createElement(ky,{label:e.label}),e.children)}function Ole(t){var e=_.useRef(null);return _.createElement(Cle,{previousRectanglesRef:e,props:t})}var VL=0,Ile=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:gt(t,e)}};class Ple extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:d,id:h}=this.props;if(e||n==null)return null;var p=ct("recharts-bar",i),g=h;return _.createElement(ln,{className:p,id:h},u&&_.createElement("defs",null,_.createElement(lA,{clipPathId:g,xAxisId:s,yAxisId:l})),_.createElement(ln,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},_.createElement(Ele,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),_.createElement(Ole,this.props)))}}var Rle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:VL,xAxisId:0,yAxisId:0,zIndex:vn.bar};function kle(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=$y(e,n),b=il(),w=Wn(),A=QE(t.children,Kh),E=Oe(M=>sle(M,t.id,w,A));if(b!=="vertical"&&b!=="horizontal")return null;var S,O=E?.[0];return O==null||O.height==null||O.width==null?S=0:S=b==="vertical"?O.height/2:O.width/2,_.createElement(_L,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Ile,errorBarOffset:S},_.createElement(Ple,Ds({},t,{layout:b,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function Dle(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:g,offset:b,cells:w,parentViewBox:A,dataStartIndex:E}=t,S=e==="horizontal"?u:l,O=p?S.scale.domain():null,M=IG({numericAxis:S}),R=S.scale(M);return g.map((V,D)=>{var L,N,j,I,z,k;if(p){var $=p[D+E];if($==null)return null;L=TG($,O)}else L=gt(V,n),Array.isArray(L)||(L=[M,L]);var U=qoe(r,VL)(L[1],D);if(e==="horizontal"){var ce,[pe,K]=[u.scale(L[0]),u.scale(L[1])];N=FO({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:V,index:D}),j=(ce=K??pe)!==null&&ce!==void 0?ce:void 0,I=i.size;var Z=pe-K;if(z=Pi(Z)?0:Z,k={x:N,y:b.top,width:I,height:b.height},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var W=Yn(z||U)*(Math.abs(U)-Math.abs(z));j-=W,z+=W}}else{var[oe,xe]=[l.scale(L[0]),l.scale(L[1])];if(N=oe,j=FO({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:V,index:D}),I=xe-oe,z=i.size,k={x:b.left,y:j,width:b.width,height:z},Math.abs(U)>0&&Math.abs(I)<Math.abs(U)){var F=Yn(I||U)*(Math.abs(U)-Math.abs(I));I+=F}}if(N==null||j==null||I==null||z==null)return null;var X=Sr(Sr({},V),{},{stackedBarStart:R,x:N,y:j,width:I,height:z,value:p?L:L[1],payload:V,background:k,tooltipPosition:{x:N+I/2,y:j+z/2},parentViewBox:A},w&&w[D]&&w[D].props);return X}).filter(Boolean)}function Mle(t){var e=cn(t,Rle),n=ule(e.stackId),r=Wn();return _.createElement(zy,{id:e.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(rA,{legendPayload:wle(e)}),_.createElement(Sle,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),_.createElement(iA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(Cr,{zIndex:e.zIndex},_.createElement(kle,Ds({},e,{id:i})))))}var dA=_.memo(Mle,Gh);dA.displayName="Bar";var Lle=["domain","range"],zle=["domain","range"];function sk(t,e){if(t==null)return{};var n,r,i=Vle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ok(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function UL(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=sk(t,Lle),{domain:s,range:l}=e,u=sk(e,zle);return!ok(n,s)||!ok(r,l)?!1:Gh(i,u)}var Ule=["dangerouslySetInnerHTML","ticks","scale"],Ble=["id","scale"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function lk(t,e){if(t==null)return{};var n,r,i=$le(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qle(t){var e=Vt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Qie(t)):n.current!==t&&e(Zie({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(Jie(n.current)),n.current=null)},[e]),null}var Fle=t=>{var{xAxisId:e,className:n}=t,r=Oe(PS),i=Wn(),s="xAxis",l=Oe(O=>p6(O,s,e,i)),u=Oe(O=>d6(O,e)),d=Oe(O=>GJ(O,e)),h=Oe(O=>K5(O,e));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,w=lk(t,Ule),{id:A,scale:E}=h,S=lk(h,Ble);return _.createElement(oA,lw({},w,S,{x:d.x,y:d.y,width:u.width,height:u.height,className:ct("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Hle={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,angle:qn.angle,axisLine:ws.axisLine,height:qn.height,hide:!1,includeHidden:qn.includeHidden,interval:qn.interval,minTickGap:qn.minTickGap,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,tickLine:ws.tickLine,tickSize:ws.tickSize,type:qn.type,xAxisId:0},Kle=t=>{var e=cn(t,Hle);return _.createElement(_.Fragment,null,_.createElement(qle,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(Fle,e))},qy=_.memo(Kle,UL);qy.displayName="XAxis";var Gle=["dangerouslySetInnerHTML","ticks","scale"],Yle=["id","scale"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function ck(t,e){if(t==null)return{};var n,r,i=Wle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xle(t){var e=Vt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(eae(t)):n.current!==t&&e(tae({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(nae(n.current)),n.current=null)},[e]),null}var Qle=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=_.useRef(null),l=_.useRef(null),u=Oe(PS),d=Wn(),h=Vt(),p="yAxis",g=Oe(L=>f6(L,e)),b=Oe(L=>WJ(L,e)),w=Oe(L=>p6(L,p,e,d)),A=Oe(L=>G5(L,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!g||GE(i)||_.isValidElement(i)||A==null)){var L=s.current;if(L){var N=L.getCalculatedWidth();Math.round(g.width)!==Math.round(N)&&h(rae({id:e,width:N}))}}},[w,g,h,i,e,r,A]),g==null||b==null||A==null)return null;var{dangerouslySetInnerHTML:E,ticks:S,scale:O}=t,M=ck(t,Gle),{id:R,scale:V}=A,D=ck(A,Yle);return _.createElement(oA,cw({},M,D,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:ct("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:w,axisType:p}))},Zle={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:Fn.allowDecimals,allowDuplicatedCategory:Fn.allowDuplicatedCategory,angle:Fn.angle,axisLine:ws.axisLine,hide:!1,includeHidden:Fn.includeHidden,interval:Fn.interval,minTickGap:Fn.minTickGap,mirror:Fn.mirror,orientation:Fn.orientation,padding:Fn.padding,reversed:Fn.reversed,scale:Fn.scale,tick:Fn.tick,tickCount:Fn.tickCount,tickLine:ws.tickLine,tickSize:ws.tickSize,type:Fn.type,width:Fn.width,yAxisId:0},Jle=t=>{var e=cn(t,Zle);return _.createElement(_.Fragment,null,_.createElement(Xle,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(Qle,e))},zu=_.memo(Jle,UL);zu.displayName="YAxis";var ece=(t,e)=>e,fA=ee([ece,et,F5,zn,I6,Hs,ute,Mn],vte),hA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},BL=Ri("mouseClick"),$L=jh();$L.startListening({actionCreator:BL,effect:(t,e)=>{var n=t.payload,r=fA(e.getState(),hA(n));r?.activeIndex!=null&&e.dispatch(cee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var uw=Ri("mouseMove"),qL=jh(),Vp=null;qL.startListening({actionCreator:uw,effect:(t,e)=>{var n=t.payload;Vp!==null&&cancelAnimationFrame(Vp);var r=hA(n);Vp=requestAnimationFrame(()=>{var i=e.getState(),s=ME(i,i.tooltip.settings.shared);if(s==="axis"){var l=fA(i,r);l?.activeIndex!=null?e.dispatch(S6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(w6())}Vp=null})}});function tce(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var uk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},FL=qr({name:"rootProps",initialState:uk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:uk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),nce=FL.reducer,{updateOptions:rce}=FL.actions,HL=qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:ice}=HL.actions,ace=HL.reducer,KL=Ri("keyDown"),GL=Ri("focus"),mA=jh();mA.startListening({actionCreator:KL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=LE(i,ld(n),Bh(n),Fh(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Hs(n);if(s==="Enter"){var h=uv(n,"axis","hover",String(i.index));e.dispatch(J_({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=JJ(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,w=u+b*g;if(!(d==null||w>=d.length||w<0)){var A=uv(n,"axis","hover",String(w));e.dispatch(J_({active:!0,activeIndex:w.toString(),activeCoordinate:A}))}}}}}});mA.startListening({actionCreator:GL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=uv(n,"axis","hover",String(s));e.dispatch(J_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ti=Ri("externalEvent"),YL=jh(),V1=new Map;YL.startListening({actionCreator:Ti,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=V1.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:Wee(u),activeDataKey:$E(u),activeIndex:Jo(u),activeLabel:k6(u),activeTooltipIndex:Jo(u),isTooltipActive:Xee(u)};n(d,r)}finally{V1.delete(i)}});V1.set(i,l)}}});var sce=ee([sd],t=>t.tooltipItemPayloads),oce=ee([sce,qh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),WL=Ri("touchMove"),XL=jh();XL.startListening({actionCreator:WL,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=ME(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=fA(r,hA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(S6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(h3),g=(u=h.getAttribute(m3))!==null&&u!==void 0?u:void 0,b=od(r).find(E=>E.id===g);if(p==null||b==null||g==null)return;var{dataKey:w}=b,A=oce(r,p,g);e.dispatch(_6({activeDataKey:w,activeIndex:p,activeCoordinate:A,activeGraphicalItemId:g}))}}}});var lce=k4({brush:xae,cartesianAxis:iae,chartData:Yte,errorBars:vse,graphicalItems:die,layout:xG,legend:jY,options:qte,polarAxis:Are,polarOptions:ace,referenceElements:Nae,rootProps:nce,tooltip:uee,zIndex:Ite}),cce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return HK({reducer:lce,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([$L.middleware,qL.middleware,mA.middleware,YL.middleware,XL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(W4({type:"raf"}))},devTools:{serialize:{replacer:tce},name:"recharts-".concat(n)}})};function QL(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Wn(),s=_.useRef(null);if(i)return n;s.current==null&&(s.current=cce(e,r));var l=AS;return _.createElement(Hse,{context:l,store:s.current},n)}function uce(t){var{layout:e,margin:n}=t,r=Vt(),i=Wn();return _.useEffect(()=>{i||(r(vG(e)),r(gG(n)))},[r,i,e,n]),null}var ZL=_.memo(uce,Gh);function JL(t){var e=Vt();return _.useEffect(()=>{e(rce(t))},[e,t]),null}function dk(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),i=Vt();return _.useLayoutEffect(()=>(r.current&&i(Cte({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Ote({zIndex:e,isPanorama:n}))}),[i,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function fk(t){var{children:e,isPanorama:n}=t,r=Oe(bte);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return _.createElement(_.Fragment,null,i.map(l=>_.createElement(dk,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>_.createElement(dk,{key:l,zIndex:l,isPanorama:n})))}var dce=["children"];function fce(t,e){if(t==null)return{};var n,r,i=hce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}var mce={width:"100%",height:"100%",display:"block"},pce=_.forwardRef((t,e)=>{var n=kS(),r=DS(),i=O3();if(!La(n)||!La(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),_.createElement(mS,bv({},l,{title:u,desc:d,role:p,tabIndex:h,width:n,height:r,style:mce,ref:e}),s)}),gce=t=>{var{children:e}=t,n=Oe(sy);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return _.createElement(mS,{width:r,height:i,x:l,y:s},e)},hk=_.forwardRef((t,e)=>{var{children:n}=t,r=fce(t,dce),i=Wn();return i?_.createElement(gce,null,_.createElement(fk,{isPanorama:!0},n)):_.createElement(pce,bv({ref:e},r),_.createElement(fk,{isPanorama:!1},n))});function vce(){var t=Vt(),[e,n]=_.useState(null),r=Oe(LG);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Dt(s)&&s!==r&&t(bG(s))}},[e,t,r]),n}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=_ce(t,"string");return typeof e=="symbol"?e:e+""}function _ce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}var wce=()=>(rne(),null);function xv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Sce=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[s,l]=_.useState({containerWidth:xv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:xv((r=t.style)===null||r===void 0?void 0:r.height)}),u=_.useCallback((h,p)=>{l(g=>{var b=Math.round(h),w=Math.round(p);return g.containerWidth===b&&g.containerHeight===w?g:{containerWidth:b,containerHeight:w}})},[]),d=_.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var b=A=>{var{width:E,height:S}=A[0].contentRect;u(E,S)},w=new ResizeObserver(b);w.observe(h),i.current=w}},[e,u]);return _.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),_.createElement(_.Fragment,null,_.createElement(cy,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",lc({ref:d},t)))}),Ece=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=_.useState({containerWidth:xv(n),containerHeight:xv(r)}),l=_.useCallback((d,h)=>{s(p=>{var g=Math.round(d),b=Math.round(h);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=_.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();l(h,p)}},[e,l]);return _.createElement(_.Fragment,null,_.createElement(cy,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",lc({ref:u},t)))}),Ace=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(cy,{width:n,height:r}),_.createElement("div",lc({ref:e},t)))}),Tce=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return Cs(n)||Cs(r)?_.createElement(Ece,lc({},t,{ref:e})):_.createElement(Ace,lc({},t,{ref:e}))});function Nce(t){return t===!0?Sce:Tce}var jce=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:w,onTouchMove:A,onTouchStart:E,style:S,width:O,responsive:M,dispatchTouchEvents:R=!0}=t,V=_.useRef(null),D=Vt(),[L,N]=_.useState(null),[j,I]=_.useState(null),z=vce(),k=RS(),$=k?.width>0?k.width:O,U=k?.height>0?k.height:i,ce=_.useCallback(le=>{z(le),typeof e=="function"&&e(le),N(le),I(le),le!=null&&(V.current=le)},[z,e,N,I]),pe=_.useCallback(le=>{D(BL(le)),D(Ti({handler:s,reactEvent:le}))},[D,s]),K=_.useCallback(le=>{D(uw(le)),D(Ti({handler:h,reactEvent:le}))},[D,h]),Z=_.useCallback(le=>{D(w6()),D(Ti({handler:p,reactEvent:le}))},[D,p]),W=_.useCallback(le=>{D(uw(le)),D(Ti({handler:g,reactEvent:le}))},[D,g]),oe=_.useCallback(()=>{D(GL())},[D]),xe=_.useCallback(le=>{D(KL(le.key))},[D]),F=_.useCallback(le=>{D(Ti({handler:l,reactEvent:le}))},[D,l]),X=_.useCallback(le=>{D(Ti({handler:u,reactEvent:le}))},[D,u]),ue=_.useCallback(le=>{D(Ti({handler:d,reactEvent:le}))},[D,d]),ge=_.useCallback(le=>{D(Ti({handler:b,reactEvent:le}))},[D,b]),je=_.useCallback(le=>{D(Ti({handler:E,reactEvent:le}))},[D,E]),se=_.useCallback(le=>{R&&D(WL(le)),D(Ti({handler:A,reactEvent:le}))},[D,R,A]),we=_.useCallback(le=>{D(Ti({handler:w,reactEvent:le}))},[D,w]),Ue=Nce(M);return _.createElement($6.Provider,{value:L},_.createElement(XM.Provider,{value:j},_.createElement(Ue,{width:$??S?.width,height:U??S?.height,className:ct("recharts-wrapper",r),style:yce({position:"relative",cursor:"default",width:$,height:U},S),onClick:pe,onContextMenu:F,onDoubleClick:X,onFocus:oe,onKeyDown:xe,onMouseDown:ue,onMouseEnter:K,onMouseLeave:Z,onMouseMove:W,onMouseUp:ge,onTouchEnd:we,onTouchMove:se,onTouchStart:je,ref:ce},_.createElement(wce,null),n)))}),Cce=["width","height","responsive","children","className","style","compact","title","desc"];function Oce(t,e){if(t==null)return{};var n,r,i=Ice(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ez=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:h,desc:p}=t,g=Oce(t,Cce),b=Nr(g);return d?_.createElement(_.Fragment,null,_.createElement(cy,{width:n,height:r}),_.createElement(hk,{otherAttributes:b,title:h,desc:p},s)):_.createElement(jce,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(hk,{otherAttributes:b,title:h,desc:p,ref:e},_.createElement(Cae,null,s)))});function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}var Pce={top:5,right:5,bottom:5,left:5},Rce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Pce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},kce=_.forwardRef(function(e,n){var r,i=cn(e.categoricalChartProps,Rce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return _.createElement(QL,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},_.createElement(pL,{chartData:h.data}),_.createElement(ZL,{layout:i.layout,margin:i.margin}),_.createElement(JL,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(ez,dw({},i,{ref:n})))});function Dce(t){var e=Vt();return _.useEffect(()=>{e(ice(t))},[e,t]),null}var Mce=["layout"];function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(null,arguments)}function Lce(t,e){if(t==null)return{};var n,r,i=zce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vce={top:5,right:5,bottom:5,left:5},tz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Uce=_.forwardRef(function(e,n){var r,i=cn(e.categoricalChartProps,tz),{layout:s}=i,l=Lce(i,Mce),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(QL,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},_.createElement(pL,{chartData:i.data}),_.createElement(ZL,{layout:s,margin:i.margin}),_.createElement(JL,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(Dce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(ez,fw({},l,{ref:n})))});function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){Bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bce(t,e,n){return(e=$ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ce(t){var e=qce(t,"string");return typeof e=="symbol"?e:e+""}function qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fce=["item"],Hce=gk(gk({},tz),{},{layout:"centric",startAngle:0,endAngle:360}),Kce=_.forwardRef((t,e)=>{var n=cn(t,Hce);return _.createElement(Uce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Fce,tooltipPayloadSearcher:q6,categoricalChartProps:n,ref:e})}),Gce=["axis"],pA=_.forwardRef((t,e)=>_.createElement(kce,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gce,tooltipPayloadSearcher:q6,categoricalChartProps:t,ref:e}));const Yce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wce=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),vk=t=>{const e=Wce(t);return e.charAt(0).toUpperCase()+e.slice(1)},nz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Xce=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Qce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zce=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>_.createElement("svg",{ref:d,...Qce,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nz("lucide",i),...!s&&!Xce(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>_.createElement(h,p)),...Array.isArray(s)?s:[s]]));const Ie=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(Zce,{ref:s,iconNode:e,className:nz(`lucide-${Yce(vk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=vk(t),n};const Jce=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Vu=Ie("activity",Jce);const eue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tue=Ie("arrow-left",eue);const nue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rz=Ie("arrow-right",nue);const rue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],hw=Ie("award",rue);const iue=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],aue=Ie("bell",iue);const sue=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],oue=Ie("bug",sue);const lue=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],cue=Ie("calculator",lue);const uue=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],due=Ie("calendar-off",uue);const fue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ks=Ie("calendar",fue);const hue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yk=Ie("chevron-down",hue);const mue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],iz=Ie("chevron-left",mue);const pue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],az=Ie("chevron-right",pue);const gue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uu=Ie("circle-alert",gue);const vue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bu=Ie("circle-check-big",vue);const yue=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],bue=Ie("clipboard-check",yue);const xue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_ue=Ie("clock",xue);const wue=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],sz=Ie("coffee",wue);const Sue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mw=Ie("credit-card",Sue);const Eue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Aue=Ie("crown",Eue);const Tue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],cc=Ie("dollar-sign",Tue);const Nue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jue=Ie("download",Nue);const Cue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Oue=Ie("file-exclamation-point",Cue);const Iue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oz=Ie("file-text",Iue);const Pue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],lz=Ie("funnel",Pue);const Rue=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kue=Ie("key",Rue);const Due=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Mue=Ie("layers",Due);const Lue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zue=Ie("layout-dashboard",Lue);const Vue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Do=Ie("loader-circle",Vue);const Uue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Pf=Ie("lock",Uue);const Bue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cz=Ie("log-out",Bue);const $ue=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gA=Ie("map-pin",$ue);const que=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],uz=Ie("map",que);const Fue=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Hue=Ie("medal",Fue);const Kue=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Gue=Ie("menu",Kue);const Yue=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Wue=Ie("monitor",Yue);const Xue=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],dz=Ie("pen",Xue);const Que=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Up=Ie("plus",Que);const Zue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jue=Ie("refresh-cw",Zue);const ede=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fz=Ie("rotate-ccw",ede);const tde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fy=Ie("save",tde);const nde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vA=Ie("search",nde);const rde=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ide=Ie("settings",rde);const ade=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],sde=Ie("shopping-bag",ade);const ode=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],lde=Ie("smartphone",ode);const cde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bk=Ie("sparkles",cde);const ude=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dde=Ie("square-check-big",ude);const fde=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hde=Ie("square-pen",fde);const mde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xk=Ie("star",mde);const pde=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Ii=Ie("store",pde);const gde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hy=Ie("target",gde);const vde=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ng=Ie("trash-2",vde);const yde=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],hz=Ie("trending-down",yde);const bde=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_v=Ie("trending-up",bde);const xde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ah=Ie("triangle-alert",xde);const _de=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wde=Ie("trophy",_de);const Sde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mz=Ie("upload",Sde);const Ede=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pz=Ie("user-check",Ede);const Ade=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Tde=Ie("user-cog",Ade);const Nde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],gz=Ie("user-x",Nde);const jde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pc=Ie("user",jde);const Cde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sh=Ie("users",Cde);const Ode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mo=Ie("x",Ode),Pn={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},uc=[{id:"dashboard",label:"",icon:zue},{id:"annual",label:"",icon:Ks},{id:"targets",label:"",icon:Hy},{id:"regional",label:"",icon:uz},{id:"store-analysis",label:"",icon:Ii},{id:"ranking",label:"",icon:_v},{id:"audit",label:"",icon:bue},{id:"history",label:"",icon:oz},{id:"input",label:"",icon:mz},{id:"logs",label:"",icon:Vu},{id:"t-targets",label:"",icon:Tde},{id:"t-schedule",label:"",icon:due},{id:"settings",label:"",icon:ide}],Ide={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},vz={director:uc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},Pde=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},yz=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},gr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},Yl=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},rr=t=>t?Number(t.toString().replace(/,/g,"")):0,$r=({children:t})=>m.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),It=({title:t,subtitle:e,children:n,className:r=""})=>m.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&m.jsxs("div",{className:"mb-6",children:[t&&m.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&m.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),Rde=({message:t,type:e,onClose:n})=>{_.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return m.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?m.jsx(Bu,{size:20}):e==="error"?m.jsx(Uu,{size:20}):m.jsx(aue,{size:20}),m.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},kde=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?m.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[m.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),m.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),m.jsxs("div",{className:"flex gap-3 justify-end",children:[m.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),m.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,Dde=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const d=_.useMemo(()=>{if(!i)return[];if(i==="director")return uc;const h=l[i]||[];return uc.filter(p=>h.includes(p.id))},[i,l]);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),m.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[m.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-400 to-orange-600 rounded-xl flex items-center justify-center shadow-lg shadow-orange-200 mr-3 shrink-0",children:m.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),m.jsx("span",{className:`font-extrabold text-xl text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:"DRCYJ Cloud"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:d.map(h=>{const p=h.icon,g=t===h.id;return m.jsxs("button",{onClick:()=>{e(h.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${g?"bg-amber-50 text-amber-700 shadow-sm":"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":h.label,children:[m.jsx(p,{size:22,className:`shrink-0 transition-colors ${g?"text-amber-600":"text-stone-400 group-hover:text-stone-600"}`}),m.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:h.label}),g&&m.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-amber-500 rounded-l-full"})]},h.id)})}),m.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[m.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:m.jsx(pc,{size:20,className:"text-stone-400"})}),n&&m.jsxs("div",{className:"overflow-hidden",children:[m.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),m.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:Pn[i?.toUpperCase()]?.label||i})]})]}),m.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[m.jsx(cz,{size:20}),n&&m.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},Mde=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const s=_.useMemo(()=>{if(!r)return[];if(r==="director")return uc;const l=n[r]||[];return uc.filter(u=>l.includes(u.id))},[r,n]);return m.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto",children:m.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[s.map(l=>{const u=l.icon,d=t===l.id;return m.jsxs("button",{onClick:()=>e(l.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${d?"bg-stone-800 text-white shadow-md shadow-stone-200":"bg-stone-100 text-stone-500"}`,children:[m.jsx(u,{size:14}),l.label]},l.id)}),m.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[m.jsx(cz,{size:14}),""]})]})})},Lde=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:d})=>{const[h,p]=_.useState("director"),[g,b]=_.useState(""),[w,A]=_.useState(""),[E,S]=_.useState(""),[O,M]=_.useState(!1),[R,V]=_.useState(!1),[D,L]=_.useState(""),[N,j]=_.useState(""),[I,z]=_.useState([]),[k,$]=_.useState(!1),[U,ce]=_.useState(""),[pe,K]=_.useState(""),[Z,W]=_.useState(""),[oe,xe]=_.useState("");_.useEffect(()=>{h==="therapist"&&(async()=>{$(!0);try{const we=Ou(ri(qe,"artifacts",ze,"public","data","therapists"),Ll("status","==","active")),le=(await d_(we)).docs.map(Re=>({id:Re.id,...Re.data()}));z(le)}catch(we){console.error("",we),S("")}finally{$(!1)}})()},[h]);const F=_.useMemo(()=>U?n[U]||[]:[],[U,n]),X=_.useMemo(()=>pe?I.filter(se=>se.store===pe):[],[pe,I]),ue=async()=>{S(""),M(!0),await new Promise(se=>setTimeout(se,600));try{if(h==="director")g===Pn.DIRECTOR.pass?t("director",{name:""}):S("");else if(h==="trainer"){const se=u?.password||"0000";g===se?t("trainer",{name:""}):S("")}else if(h==="manager"){if(!w){S(""),M(!1);return}const se=r[w]||"0000";g===se?t("manager",{name:w}):S("")}else if(h==="store"){if(!w){S(""),M(!1);return}const se=e.find(we=>we.id===w);se&&se.password===g?t("store",{name:se.name,storeName:se.stores?.[0]||se.storeName,stores:se.stores}):S("")}}catch{S("")}finally{M(!1)}},ge=async()=>{S(""),M(!0),await new Promise(se=>setTimeout(se,600));try{if(!Z){S(""),M(!1);return}const se=I.find(we=>we.id===Z);se&&se.password===oe?t("therapist",se):S(" ( 0000)")}catch{S("")}finally{M(!1)}},je=async()=>{if(S(""),!N||!D){S("");return}M(!0);let se=!1;if(h==="store"&&w){const Ue=e.find(le=>le.id===w);Ue&&Ue.password===D&&(se=!0)}else if(h==="manager"&&w)(r[w]||"0000")===D&&(se=!0);else if(h==="therapist"&&Z){const Ue=I.find(le=>le.id===Z);Ue&&Ue.password===D&&(se=!0)}else h==="trainer"&&(u?.password||"0000")===D&&(se=!0);if(!se){S(""),M(!1);return}let we=!1;h==="store"&&w?we=await i(w,N):h==="manager"&&w?we=await s(w,N):h==="therapist"&&Z?we=await l(Z,N):h==="trainer"&&(we=await d(N)),we?(alert(""),V(!1),j(""),L(""),b(""),xe("")):S(""),M(!1)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F9F8F6] p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-md p-8 rounded-3xl shadow-xl shadow-stone-200/50 border border-stone-100",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-200 mx-auto mb-4",children:m.jsx(sz,{size:32,className:"text-white"})}),m.jsx("h1",{className:"text-2xl font-extrabold text-stone-800 tracking-tight",children:"DRCYJ OPC Cloud"}),m.jsx("p",{className:"text-stone-400 font-medium mt-2",children:""})]}),m.jsx("div",{className:"bg-stone-100 p-1.5 rounded-2xl flex mb-8 overflow-x-auto",children:Object.entries(Pn).map(([se,we])=>m.jsx("button",{onClick:()=>{p(we.id),S(""),b(""),A(""),V(!1),ce(""),K(""),W(""),xe("")},className:`flex-1 py-2.5 px-2 rounded-xl text-sm font-bold transition-all whitespace-nowrap ${h===we.id?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:we.label},se))}),m.jsx("div",{className:"space-y-4",children:h==="therapist"?k?m.jsxs("div",{className:"py-10 text-center text-stone-400 flex flex-col items-center gap-2",children:[m.jsx(Do,{className:"animate-spin text-amber-400",size:32}),m.jsx("p",{className:"text-xs",children:"..."})]}):m.jsxs(m.Fragment,{children:[R?m.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-right-4 duration-300",children:[m.jsx("input",{type:"password",value:D,onChange:se=>L(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"}),m.jsx("input",{type:"text",value:N,onChange:se=>j(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative",children:[m.jsx(gA,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),m.jsxs("select",{value:U,onChange:se=>{ce(se.target.value),K(""),W("")},className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(n).map(se=>m.jsxs("option",{value:se,children:[se,""]},se))]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Ii,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),m.jsxs("select",{value:pe,onChange:se=>{K(se.target.value),W("")},disabled:!U,className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none disabled:opacity-50",children:[m.jsx("option",{value:"",children:"..."}),F.map(se=>m.jsxs("option",{value:se,children:[se,""]},se))]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pz,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),m.jsxs("select",{value:Z,onChange:se=>W(se.target.value),disabled:!pe,className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none disabled:opacity-50",children:[m.jsx("option",{value:"",children:"..."}),X.map(se=>m.jsx("option",{value:se.id,children:se.name},se.id))]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Pf,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),m.jsx("input",{type:"password",value:oe,onChange:se=>xe(se.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",onKeyDown:se=>se.key==="Enter"&&ge()})]})]}),E&&m.jsxs("div",{className:"p-3 bg-rose-50 text-rose-500 text-sm font-bold rounded-xl flex items-center gap-2",children:[m.jsx(Uu,{size:16})," ",E]}),R?m.jsx("button",{onClick:je,disabled:O,className:"w-full py-4 bg-rose-500 hover:bg-rose-600 text-white rounded-2xl font-bold shadow-lg",children:O?m.jsx(Do,{className:"animate-spin"}):""}):m.jsx("button",{onClick:ge,disabled:O||!Z||!oe,className:"w-full py-4 bg-stone-800 hover:bg-stone-900 text-white rounded-2xl font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:O?m.jsx(Do,{className:"animate-spin"}):""}),Z&&m.jsx("button",{onClick:()=>{V(!R),S("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 font-bold py-2",children:R?"":"?"})]}):m.jsxs(m.Fragment,{children:[h==="manager"&&m.jsx("div",{className:"relative",children:m.jsxs("select",{value:w,onChange:se=>A(se.target.value),className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(n).map(se=>m.jsx("option",{value:se,children:se},se))]})}),h==="store"&&m.jsx("div",{className:"relative",children:m.jsxs("select",{value:w,onChange:se=>A(se.target.value),className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",children:[m.jsx("option",{value:"",children:"..."}),e.map(se=>m.jsx("option",{value:se.id,children:se.name},se.id))]})}),R?m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{type:"password",value:D,onChange:se=>L(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"}),m.jsx("input",{type:"text",value:N,onChange:se=>j(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"})]}):m.jsx("input",{type:"password",value:g,onChange:se=>b(se.target.value),placeholder:"",className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",onKeyDown:se=>se.key==="Enter"&&ue()}),E&&m.jsxs("div",{className:"p-3 bg-rose-50 text-rose-500 text-sm font-bold rounded-xl flex items-center gap-2",children:[m.jsx(Uu,{size:16})," ",E]}),R?m.jsx("button",{onClick:je,disabled:O,className:"w-full py-4 bg-rose-500 hover:bg-rose-600 text-white rounded-2xl font-bold shadow-lg",children:O?m.jsx(Do,{className:"animate-spin"}):""}):m.jsx("button",{onClick:ue,disabled:O,className:"w-full py-4 bg-stone-800 hover:bg-stone-900 text-white rounded-2xl font-bold shadow-lg",children:O?m.jsx(Do,{className:"animate-spin"}):""}),(h==="store"||h==="manager"||h==="trainer")&&m.jsx("button",{onClick:()=>{V(!R),S("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 font-bold py-2",children:R?"":"?"})]})})]})})},Or=wk.createContext(null),zde=()=>{const{analytics:t,fmtMoney:e,fmtNum:n,targets:r,userRole:i,currentUser:s,allReports:l,budgets:u,managers:d,selectedYear:h,selectedMonth:p,therapistReports:g}=_.useContext(Or),[b,w]=_.useState(i==="therapist"||i==="trainer"?"therapist":"store"),A=_.useMemo(()=>{if(i!=="store"&&i!=="manager"||!l)return[];const L={};l.forEach(z=>{const k=new Date(z.date);k.getFullYear()!==parseInt(h)||k.getMonth()+1!==parseInt(p)||(L[z.storeName]||(L[z.storeName]=0),L[z.storeName]+=Number(z.cash)||0)});const N=Object.keys(L).map(z=>{const k=`${z}_${h}_${parseInt(p)}`,$=u[k],U=$?Number($.cashTarget||0):0,ce=L[z],pe=U>0?ce/U*100:0;return{storeName:z,actual:ce,target:U,rate:pe}});N.sort((z,k)=>k.rate-z.rate);const j=N.map((z,k)=>({...z,rank:k+1,totalStores:N.length,isBottom5:k+1>N.length-5}));let I=[];return i==="store"&&s?I=(s.stores||[s.storeName]).filter(z=>z):i==="manager"&&d&&s&&(I=(d[s.name]||[]).map(k=>`CYJ${k}`)),j.filter(z=>I.some(k=>{if(!k||!z.storeName)return!1;const $=k.replace("CYJ","").replace("","");return z.storeName.replace("CYJ","").replace("","")===$}))},[i,l,s,d,u,h,p]),E=_.useMemo(()=>{if(!g)return{rankings:[],myStats:null,grandTotal:{}};const L=g.filter(k=>{const $=new Date(k.date);return $.getFullYear()===parseInt(h)&&$.getMonth()+1===parseInt(p)}),N={};L.forEach(k=>{const $=k.therapistId;N[$]||(N[$]={id:$,name:k.therapistName,store:k.storeName,totalRevenue:0,serviceCount:0,newCustomerRevenue:0,returnRevenue:0}),N[$].totalRevenue+=Number(k.totalRevenue)||0,N[$].serviceCount+=Number(k.serviceCount)||0,N[$].newCustomerRevenue+=Number(k.newCustomerRevenue)||0,N[$].returnRevenue+=Number(k.returnRevenue)||0});const j=Object.values(N).sort((k,$)=>$.totalRevenue-k.totalRevenue);j.forEach((k,$)=>{k.rank=$+1});let I=null;i==="therapist"&&s&&(I=j.find(k=>k.id===s.id));const z=j.reduce((k,$)=>({totalRevenue:k.totalRevenue+$.totalRevenue,serviceCount:k.serviceCount+$.serviceCount,newCustomerRevenue:k.newCustomerRevenue+$.newCustomerRevenue,returnRevenue:k.returnRevenue+$.returnRevenue,count:k.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,returnRevenue:0,count:0});return{rankings:j,myStats:I,grandTotal:z}},[g,h,p,i,s]);if(!t||!t.grandTotal)return m.jsxs("div",{className:"flex h-96 items-center justify-center",children:[m.jsx(Do,{className:"h-10 w-10 animate-spin text-stone-300"}),m.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});const{grandTotal:S,dailyTotals:O,totalAchievement:M}=t,R=t.daysInMonth>0?t.daysPassed/t.daysInMonth*100:0,V=M-R,D=({title:L,value:N,subText:j,icon:I,color:z})=>m.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[m.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${z}`,children:m.jsx(I,{size:64})}),m.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:L}),m.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:N})]}),j&&m.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:j})]})]});return m.jsx($r,{children:m.jsxs("div",{className:"space-y-8 pb-10",children:[i!=="therapist"&&i!=="trainer"&&m.jsx("div",{className:"flex justify-center mb-4",children:m.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[m.jsxs("button",{onClick:()=>w("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.jsx(Ii,{size:16})," "]}),m.jsxs("button",{onClick:()=>w("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.jsx(pc,{size:16})," "]})]})}),b==="store"&&m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i==="store"&&A.length>0&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(L=>m.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${L.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:L.isBottom5?m.jsx(ah,{size:120}):m.jsx(wde,{size:120})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:L.isBottom5?m.jsx(Vu,{size:20,className:"text-white"}):m.jsx(Hue,{size:20,className:"text-yellow-100"})}),m.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:L.storeName}),L.isBottom5&&m.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),m.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",L.rank]}),m.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",L.totalStores]})]})]}),m.jsxs("div",{className:"flex-1 text-right",children:[m.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),m.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[L.rate.toFixed(1),"%"]})]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[m.jsxs("span",{children:[": ",e(L.actual)]}),m.jsxs("span",{children:[": ",e(L.target)]})]})]})]},L.storeName))}),i==="manager"&&A.length>0&&m.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[m.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[m.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:m.jsx(uz,{size:100})}),m.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:m.jsx(Aue,{size:24,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),m.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),m.jsxs("div",{className:"relative z-10 text-right",children:[m.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),m.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:A.length})]})]}),m.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[m.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),m.jsx("th",{className:"p-3 sm:p-4",children:""}),m.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),m.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),m.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),m.jsx("tbody",{children:A.map((L,N)=>m.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${L.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[m.jsx("td",{className:"p-3 sm:p-4 text-center",children:m.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${N===0?"bg-amber-100 text-amber-700":N===1?"bg-stone-200 text-stone-600":N===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:L.rank})}),m.jsx("td",{className:"p-3 sm:p-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[m.jsx("span",{className:`font-bold text-sm sm:text-base ${L.isBottom5?"text-rose-700":"text-stone-700"}`,children:L.storeName}),L.isBottom5&&m.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[m.jsx(ah,{size:10})," ",m.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),m.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:e(L.actual)}),m.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:e(L.target)}),m.jsx("td",{className:"p-3 sm:p-4 text-right",children:m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${L.isBottom5?"text-rose-600":L.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[L.rate.toFixed(1),"%"]}),m.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:m.jsx("div",{className:`h-full rounded-full ${L.isBottom5?"bg-rose-500":L.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(L.rate,100)}%`}})})]})})]},L.storeName))})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:m.jsx(Vu,{size:16,className:"text-indigo-500"})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),m.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",t.daysPassed," ",m.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",t.daysInMonth]})]})]}),m.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${V>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[m.jsx("span",{className:"text-sm font-bold",children:V>=0?"":""}),m.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs(V).toFixed(1),"%"]})]})]}),m.jsxs("div",{className:"space-y-6 relative z-10",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[m.jsx("span",{className:"text-stone-500",children:""}),m.jsxs("span",{className:M>=R?"text-emerald-500":"text-rose-500",children:[M.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:m.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${M>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":M>=R?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(M,100)}%`}})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[m.jsx("span",{className:"text-stone-400",children:" ()"}),m.jsxs("span",{className:"text-stone-400",children:[R.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(R,100)}%`}})})]})]})]}),m.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:m.jsxs("div",{className:"relative z-10",children:[m.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[m.jsx(Hy,{size:14})," "]}),m.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:e(S.projection)}),m.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:[S.budget>0?(S.projection/S.budget*100).toFixed(1):0,"%"]})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:m.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"font-mono font-bold text-stone-500",children:e(S.budget)})]})})]})})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[m.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx(D,{title:"",value:e(S.cash),icon:cc,color:"text-amber-500",subText:m.jsxs("span",{className:`font-bold ${M>=100?"text-emerald-600":"text-amber-600"}`,children:[M.toFixed(1),"% "]})}),m.jsx(D,{title:"",value:e(S.accrual),icon:mw,color:"text-cyan-500",subText:""}),m.jsx(D,{title:"",value:e(S.skincareSales),icon:sde,color:"text-rose-500",subText:m.jsxs(m.Fragment,{children:[" ",m.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[S.accrual>0?(S.skincareSales/S.accrual*100).toFixed(1):0,"%"]})]})})]})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[m.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[m.jsx(D,{title:"",value:n(S.traffic),icon:sh,color:"text-blue-500",subText:""}),m.jsx(D,{title:"",value:e(t.avgTrafficASP),icon:_v,color:"text-indigo-500",subText:m.jsxs("span",{className:t.avgTrafficASP>=r.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[t.avgTrafficASP>=r.trafficASP?"":""," ( ",n(r.trafficASP),")"]})}),m.jsx(D,{title:"",value:n(S.newCustomers),icon:bk,color:"text-purple-500",subText:""}),m.jsx(D,{title:"",value:n(S.newCustomerClosings),icon:dde,color:"text-teal-500",subText:m.jsxs("span",{children:[" ",m.jsxs("span",{className:"font-bold",children:[S.newCustomers>0?(S.newCustomerClosings/S.newCustomers*100).toFixed(0):0,"%"]})]})}),m.jsx(D,{title:"",value:e(t.avgNewCustomerASP),icon:hw,color:"text-fuchsia-500",subText:m.jsxs("span",{className:t.avgNewCustomerASP>=r.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[t.avgNewCustomerASP>=r.newASP?"":""," ( ",n(r.newASP),")"]})})]})]}),m.jsx(It,{title:"",subtitle:" vs ",children:m.jsx("div",{className:"h-[300px] w-full",children:m.jsx(oy,{width:"100%",height:"100%",children:m.jsxs(pA,{data:O,margin:{top:10,right:10,left:0,bottom:0},children:[m.jsx(By,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),m.jsx(qy,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),m.jsx(zu,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:L=>L===0?"0":`$${(L/1e3).toFixed(0)}k`}),m.jsx(zu,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:L=>n(L)}),m.jsx(Py,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(L,N)=>N===""?[e(L),N]:[n(L),N]}),m.jsx(uA,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),m.jsx(Lu,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),b==="therapist"&&m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.myStats&&m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:m.jsx(hw,{size:140})}),m.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm",children:["No.",E.myStats.rank]}),m.jsxs("span",{className:"text-indigo-200 font-bold tracking-wider text-sm",children:[E.myStats.store,""]})]}),m.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:E.myStats.name}),m.jsxs("p",{className:"text-indigo-100 text-sm",children:[" (",p,")"]})]}),m.jsxs("div",{className:"flex gap-6 text-right",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-indigo-200 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-3xl font-mono font-bold",children:e(E.myStats.totalRevenue)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-indigo-200 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-3xl font-mono font-bold",children:E.myStats.serviceCount})]})]})]})]}),i!=="therapist"&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx(D,{title:"",value:e(E.grandTotal.totalRevenue),icon:cc,color:"text-indigo-500",subText:`${E.grandTotal.count} `}),m.jsx(D,{title:"",value:n(E.grandTotal.serviceCount),icon:sh,color:"text-blue-500"}),m.jsx(D,{title:"",value:e(E.grandTotal.newCustomerRevenue),icon:bk,color:"text-amber-500"}),m.jsx(D,{title:"",value:e(E.grandTotal.returnRevenue),icon:Oue,color:"text-rose-500"})]}),m.jsx(It,{title:"",subtitle:" ()",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[500px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[m.jsx("th",{className:"p-4 w-16 text-center",children:""}),m.jsx("th",{className:"p-4",children:""}),m.jsx("th",{className:"p-4",children:""}),m.jsx("th",{className:"p-4 text-right",children:""}),m.jsx("th",{className:"p-4 text-right",children:""}),m.jsx("th",{className:"p-4 text-right",children:""})]})}),m.jsxs("tbody",{className:"text-sm",children:[E.rankings.map((L,N)=>m.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${s?.id===L.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[m.jsx("td",{className:"p-4 text-center",children:m.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${N<3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":"bg-stone-100 text-stone-500"}`,children:L.rank})}),m.jsxs("td",{className:"p-4 font-bold text-stone-700 flex items-center gap-2",children:[L.name,s?.id===L.id&&m.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"})]}),m.jsxs("td",{className:"p-4 text-stone-500",children:[L.store,""]}),m.jsx("td",{className:"p-4 text-right font-mono font-bold text-indigo-600",children:e(L.totalRevenue)}),m.jsx("td",{className:"p-4 text-right font-mono",children:L.serviceCount}),m.jsx("td",{className:"p-4 text-right font-mono text-amber-600",children:e(L.newCustomerRevenue)})]},L.id)),E.rankings.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"p-8 text-center text-stone-400",children:""})})]})]})})})]})]})})},_k=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},Vde=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=_.useState(()=>_k(t));_.useEffect(()=>{t&&l(_k(t))},[t]);const u=s.getFullYear(),d=s.getMonth(),h=new Date(u,d+1,0).getDate(),p=new Date(u,d,1).getDay(),g=E=>{if(!r||r.length===0)return"none";const O=`${u}-${String(d+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`.replace(/-/g,"/"),M=r.filter(V=>V.date?V.date.replace(/-/g,"/")===O:!1);if(M.length===0)return"none";if(!n||Array.isArray(n)&&n.length===0||typeof n=="object"&&Object.keys(n).length===0)return"complete";let R=[];return Array.isArray(n)?n.forEach(V=>{V.stores&&V.stores.forEach(D=>R.push(typeof D=="string"?D:D.name))}):Object.values(n).forEach(V=>{Array.isArray(V)&&V.forEach(D=>R.push(typeof D=="string"?D:D.name))}),M.length>=R.length?"complete":"incomplete"},b=()=>{l(new Date(u,d-1,1))},w=()=>{l(new Date(u,d+1,1))},A=E=>{const S=`${u}-${String(d+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`;e(S),i&&i()};return m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("button",{onClick:b,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:m.jsx(iz,{size:20})}),m.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",d+1,""]}),m.jsx("button",{onClick:w,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:m.jsx(az,{size:20})})]}),m.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(E=>m.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:E},E))}),m.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((E,S)=>m.jsx("div",{},`empty-${S}`)),Array.from({length:h}).map((E,S)=>{const O=S+1,R=`${u}-${String(d+1).padStart(2,"0")}-${String(O).padStart(2,"0")}`===t,V=g(O);return m.jsxs("button",{onClick:()=>A(O),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${R?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[O,!R&&V!=="none"&&m.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${V==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},O)})]}),i&&m.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},bz=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=_.useState(!1),l=_.useRef(null);return _.useEffect(()=>{const u=d=>{window.innerWidth>=768&&l.current&&!l.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),m.jsxs("div",{className:"relative w-full",ref:l,children:[" ",m.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[m.jsx("span",{className:"text-lg",children:t}),m.jsx(Ks,{size:18,className:"text-stone-400 ml-auto"})]}),i&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),m.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:m.jsx(Vde,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},wu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},Ude=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u}=_.useContext(Or),[d,h]=_.useState(""),[p,g]=_.useState(""),b={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[w,A]=_.useState(b),[E,S]=_.useState(!1),[O,M]=_.useState(!1),[R,V]=_.useState(!1),[D,L]=_.useState(null),N={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},j=wu();_.useEffect(()=>{const K=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const Z=wu(),W=Object.values(w).every(oe=>oe==="");r!==Z&&W&&(console.log(`[] : ${r} -> ${Z}`),i(Z))}};return document.addEventListener("visibilitychange",K),window.addEventListener("focus",K),()=>{document.removeEventListener("visibilitychange",K),window.removeEventListener("focus",K)}},[r,w,i]),_.useEffect(()=>{const K=localStorage.getItem("cyj_input_draft_v3");if(K)try{const Z=JSON.parse(K);Z.formData&&A(Z.formData),Z.store&&g(Z.store),Z.manager&&h(Z.manager);const W=Z.date;W===wu()&&i(W)}catch(Z){console.error(Z)}},[]),_.useEffect(()=>{const K={formData:w,store:p,manager:d,date:r,timestamp:Date.now()};localStorage.setItem("cyj_input_draft_v3",JSON.stringify(K))},[w,p,d,r]),_.useEffect(()=>{const K=rr(w.operationalAccrual),Z=rr(w.skincareSales);A(W=>{const oe=K+Z;return rr(W.accrual)!==oe?{...W,accrual:Yl(oe)}:W})},[w.operationalAccrual,w.skincareSales]);const I=(K,Z)=>{const W=Z.replace(/,/g,"");/^\d*$/.test(W)&&A(oe=>({...oe,[K]:Yl(W)}))},z=_.useMemo(()=>d?(n[d]||[]).map(K=>`CYJ${K}`):e==="store"&&t?(t.stores||[t.storeName]).map(K=>K.startsWith("CYJ")?K:`CYJ${K}`):[],[d,n,e,t]);_.useEffect(()=>{if(!p&&e==="store"&&t){const K=t.stores||[t.storeName];if(K.length>0){const Z=K[0].replace("CYJ","").replace("",""),W=Object.keys(n).find(xe=>n[xe].includes(Z));W&&h(W);const oe=K[0].startsWith("CYJ")?K[0]:`CYJ${K[0]}`;g(oe)}}else!d&&e==="manager"&&t&&h(t.name)},[e,t,n]);const k=()=>{confirm("")&&(A(b),localStorage.removeItem("cyj_input_draft_v3"),s("","info"))},$=K=>{if(K.preventDefault(),!p)return s("","error");if(r>j)return s("","error");const Z=gr(r),W=u.find(oe=>gr(oe.date)===Z&&oe.storeName===p);L(W?W.id:null),r!==j?V(!0):M(!0)},U=()=>{V(!1),M(!0)},ce=async()=>{S(!0);try{const K=gr(r),Z={date:K,storeName:p,...Object.keys(w).reduce((W,oe)=>({...W,[oe]:rr(w[oe])}),{}),timestamp:Qu(),submittedBy:t?.name||"unknown"};D?(await Hn(lt(qe,"artifacts",ze,"public","data","daily_reports",D),Z),l(e,t?.name,"()",`${p} ${K}`)):(await fS(ri(qe,"artifacts",ze,"public","data","daily_reports"),Z),l(e,t?.name,"",`${p} ${K}`)),A(b),localStorage.removeItem("cyj_input_draft_v3"),M(!1),L(null),s("","success")}catch(K){console.error(K),s("","error")}finally{S(!1)}},pe=K=>m.jsxs("div",{children:[m.jsx("label",{className:`block text-xs font-bold mb-1.5 ${K.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:N[K]||K}),m.jsx("input",{type:"text",value:w[K],onChange:Z=>I(K,Z.target.value),readOnly:K==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${K==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},K);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[m.jsx(Bu,{size:14})," "]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),m.jsx(bz,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),m.jsx("div",{className:"relative",children:m.jsxs("select",{value:d,onChange:K=>{h(K.target.value),g("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(n).map(K=>m.jsxs("option",{value:K,children:[K,""]},K))]})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),m.jsx("div",{className:"relative",children:m.jsxs("select",{value:p,onChange:K=>g(K.target.value),disabled:!d,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[m.jsx("option",{value:"",children:"..."}),z.map(K=>m.jsx("option",{value:K,children:K},K))]})})]})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[m.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[m.jsx(oz,{size:20,className:"text-amber-500"}),m.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[m.jsx(Mue,{size:14})," "]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[pe("cash"),pe("accrual"),pe("operationalAccrual"),pe("skincareSales")]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[m.jsx(sh,{size:14})," "]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[pe("newCustomerSales"),pe("traffic"),pe("newCustomers"),pe("newCustomerClosings")]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[m.jsx(hz,{size:14}),"  ()"]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[pe("refund"),pe("skincareRefund")]})]}),m.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[m.jsx("button",{onClick:k,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:m.jsx(fz,{size:20})}),m.jsx("button",{onClick:$,disabled:E,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70",children:E?m.jsx(Vu,{className:"animate-spin mx-auto"}):""})]})]}),R&&m.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[m.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[m.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:m.jsx(Ks,{size:32,className:"text-white"})}),m.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),m.jsxs("div",{className:"p-6 space-y-6 text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),m.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),m.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:m.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[m.jsx(ah,{size:18,className:"shrink-0 mt-0.5"}),m.jsxs("span",{children:[" ",m.jsx("u",{children:""})," (",j,")",D&&m.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",m.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),m.jsx("button",{onClick:U,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),O&&m.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[m.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[m.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[m.jsx(Uu,{})," "]}),m.jsx("button",{onClick:()=>M(!1),children:m.jsx(Mo,{className:"text-white"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[m.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[m.jsx("span",{children:""}),m.jsx("span",{children:r})]}),m.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[m.jsx("span",{children:""}),m.jsx("span",{children:p})]}),m.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:["$",w.cash]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:["$",w.accrual]})]})]}),D&&m.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>M(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),m.jsx("button",{onClick:ce,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900",children:""})]})]})]})})]})},Bde=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i}=_.useContext(Or),s={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[l,u]=_.useState(s),[d,h]=_.useState(!1),[p,g]=_.useState(!1),[b,w]=_.useState(!1),[A,E]=_.useState(!1),[S,O]=_.useState(null),M={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},R=wu();_.useEffect(()=>{const j=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const I=wu(),z=!l.newCustomerRevenue&&!l.oldCustomerRevenue;e!==I&&z&&(console.log(`[] : ${e} -> ${I}`),n(I))}};return document.addEventListener("visibilitychange",j),window.addEventListener("focus",j),()=>{document.removeEventListener("visibilitychange",j),window.removeEventListener("focus",j)}},[e,l,n]),_.useEffect(()=>{const j=localStorage.getItem("cyj_therapist_draft_v2");if(j)try{const I=JSON.parse(j);I.formData&&u(I.formData);const z=I.date;z===wu()&&n(z)}catch(I){console.error(I)}},[]),_.useEffect(()=>{const j={formData:l,date:e,timestamp:Date.now()};localStorage.setItem("cyj_therapist_draft_v2",JSON.stringify(j))},[l,e]),_.useEffect(()=>{const j=rr(l.newCustomerRevenue)||0,I=rr(l.oldCustomerRevenue)||0,z=rr(l.returnRevenue)||0,k=j+I-z;rr(l.totalRevenue)!==k&&u($=>({...$,totalRevenue:Yl(k)}))},[l.newCustomerRevenue,l.oldCustomerRevenue,l.returnRevenue]),_.useEffect(()=>{(async()=>{if(t?.id)try{const k=`${gr(e).replace(/\//g,"-")}_${t.id}`,$=lt(qe,"artifacts",ze,"public","data","therapist_daily_reports",k),U=await wC($);g(U.exists())}catch(I){console.error("",I)}})()},[e,t]);const V=(j,I)=>{const z=I.replace(/,/g,"");/^\d*$/.test(z)&&u(k=>({...k,[j]:Yl(z)}))},D=()=>{if(!(l.newCustomerRevenue||l.oldCustomerRevenue||l.newCustomerCount||l.oldCustomerCount||l.returnRevenue))return r("","error");e!==R?E(!0):w(!0)},L=()=>{E(!1),w(!0)},N=async()=>{h(!0),O(null);try{if(!t||!t.id)throw new Error(" ID ");const j=gr(e),z=`${j.replace(/\//g,"-")}_${t.id}`,k={date:j,therapistId:t.id,therapistName:t.name,storeName:t.store||"",totalRevenue:rr(l.totalRevenue),newCustomerRevenue:rr(l.newCustomerRevenue),newCustomerCount:rr(l.newCustomerCount),newCustomerClosings:rr(l.newCustomerClosings),oldCustomerRevenue:rr(l.oldCustomerRevenue),oldCustomerCount:rr(l.oldCustomerCount),returnRevenue:rr(l.returnRevenue),updatedAt:Qu()},$=lt(qe,"artifacts",ze,"public","data","therapist_daily_reports",z);if(await Hn($,k),(await wC($)).exists())i("therapist",t.name,"",`${j} `),r("","success"),g(!0),u(s),localStorage.removeItem("cyj_therapist_draft_v2"),w(!1);else throw new Error("")}catch(j){console.error(":",j),O({error:j.message,code:j.code||"unknown",path:`artifacts/${ze}/.../therapist_daily_reports`}),r("","error")}finally{h(!1)}};return m.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[m.jsx(pc,{className:"text-indigo-200"})," ",t?.name," "]}),m.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),m.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:m.jsx(xk,{size:120})})]}),m.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[m.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),m.jsx("div",{className:"relative",children:m.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:j=>n(j.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),p&&m.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[m.jsx(Bu,{size:16}),"  (",e,") "]}),S&&m.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[m.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[m.jsx(oue,{})," "]}),m.jsx("p",{className:"text-rose-700 text-sm font-bold",children:S.error})]}),m.jsx(It,{title:"",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[m.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[m.jsx(cue,{size:12})," ",M.totalRevenue," ()"]}),m.jsxs("div",{className:"relative",children:[m.jsx(cc,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),m.jsx("input",{type:"text",value:l.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[m.jsx(xk,{size:12})," "]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.newCustomerRevenue}),m.jsx("input",{type:"text",value:l.newCustomerRevenue,onChange:j=>V("newCustomerRevenue",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.newCustomerCount}),m.jsx("input",{type:"text",value:l.newCustomerCount,onChange:j=>V("newCustomerCount",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.newCustomerClosings}),m.jsx("input",{type:"text",value:l.newCustomerClosings,onChange:j=>V("newCustomerClosings",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[m.jsx(sh,{size:12})," "]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.oldCustomerRevenue}),m.jsx("input",{type:"text",value:l.oldCustomerRevenue,onChange:j=>V("oldCustomerRevenue",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:M.oldCustomerCount}),m.jsx("input",{type:"text",value:l.oldCustomerCount,onChange:j=>V("oldCustomerCount",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[m.jsx(hz,{size:12})," ",M.returnRevenue]}),m.jsx("input",{type:"text",value:l.returnRevenue,onChange:j=>V("returnRevenue",j.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),m.jsxs("button",{onClick:D,disabled:d,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[d?m.jsx(Vu,{className:"animate-spin"}):m.jsx(mz,{size:20}),""]})]})}),A&&m.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[m.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[m.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:m.jsx(Ks,{size:32,className:"text-white"})}),m.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),m.jsxs("div",{className:"p-6 space-y-6 text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),m.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),m.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:m.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[m.jsx(ah,{size:18,className:"shrink-0 mt-0.5"}),m.jsxs("span",{children:[" ",m.jsx("u",{children:""})," (",R,")",p&&m.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",m.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),m.jsx("button",{onClick:L,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),b&&m.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[m.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[m.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[m.jsx(Uu,{})," "]}),m.jsx("button",{onClick:()=>w(!1),children:m.jsx(Mo,{className:"text-white"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[m.jsx("span",{children:""}),m.jsx("span",{children:e})]}),m.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[m.jsx("span",{children:""}),m.jsx("span",{children:t?.name})]}),m.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-stone-500",children:""}),m.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",l.totalRevenue||0]})]}),m.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:m.jsxs("span",{children:["( $",l.newCustomerRevenue||0," +  $",l.oldCustomerRevenue||0,")"]})}),m.jsxs("div",{className:"flex justify-between mt-2",children:[m.jsx("span",{className:"text-stone-500",children:""}),m.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",l.returnRevenue||0]})]})]})]}),p&&m.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[m.jsx(ah,{size:12})," "]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),m.jsx("button",{onClick:N,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md",children:""})]})]})]})})]})},$de=()=>{const{userRole:t}=_.useContext(Or);return m.jsx($r,{children:t==="therapist"?m.jsx(Bde,{}):m.jsx(Ude,{})})},qde=()=>{const{showToast:t,managers:e,userRole:n}=_.useContext(Or),[r,i]=_.useState(n==="trainer"?"therapist":"store"),[s,l]=_.useState([]),[u,d]=_.useState([]),[h,p]=_.useState(!1),g=()=>new Date().toISOString().split("T")[0],[b,w]=_.useState(g()),[A,E]=_.useState(g()),[S,O]=_.useState(""),[M,R]=_.useState(null),[V,D]=_.useState({}),L=W=>typeof W=="number"?W.toLocaleString():W,N=_.useMemo(()=>Object.values(e).flat().map(W=>`CYJ${W}`).sort(),[e]),j=W=>W?W.storeName||W.store||"":"",I=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],z=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];_.useEffect(()=>{if(!b||!A)return;(async()=>{p(!0);try{const oe=r==="store"?"daily_reports":"therapist_daily_reports",xe=new Map,F=Ou(ri(qe,"artifacts",ze,"public","data",oe),Ll("date",">=",b),Ll("date","<=",A),Sg("date","desc"));(await d_(F)).docs.forEach(Ue=>xe.set(Ue.id,{id:Ue.id,...Ue.data()}));const ue=b.replace(/-/g,"/"),ge=A.replace(/-/g,"/"),je=Ou(ri(qe,"artifacts",ze,"public","data",oe),Ll("date",">=",ue),Ll("date","<=",ge),Sg("date","desc"));(await d_(je)).docs.forEach(Ue=>xe.set(Ue.id,{id:Ue.id,...Ue.data()}));const we=Array.from(xe.values()).sort((Ue,le)=>le.date.localeCompare(Ue.date));r==="store"?l(we):d(we)}catch(oe){console.error(oe),t(": "+oe.message,"error")}finally{p(!1)}})()},[r,b,A,ze,t]);const k=r==="store"?s:u,$=_.useMemo(()=>k.filter(W=>{let oe=!0;if(S){const xe=ue=>String(ue||"").replace(/CYJ/ig,"").replace(//g,"").replace(/\s/g,"").toLowerCase().trim(),F=xe(S),X=xe(j(W));oe=X.includes(F)||F.includes(X)}return oe}),[k,S]),U=W=>{R(W.id),D({...W,date:gr(W.date)})},ce=()=>{R(null),D({})},pe=(W,oe)=>{D(xe=>{const F={...xe,[W]:oe};if(r==="therapist"&&(W==="newCustomerRevenue"||W==="oldCustomerRevenue"||W==="returnRevenue")){const X=Number(F.newCustomerRevenue||0),ue=Number(F.oldCustomerRevenue||0),ge=Number(F.returnRevenue||0);F.totalRevenue=X+ue-ge}if(r==="store"&&(W==="operationalAccrual"||W==="skincareSales")){const X=Number(F.operationalAccrual||0),ue=Number(F.skincareSales||0);F.accrual=X+ue}return F})},K=async()=>{try{const oe=lt(qe,"artifacts",ze,"public","data",r==="store"?"daily_reports":"therapist_daily_reports",M);let xe={};r==="store"?xe={...V,cash:Number(V.cash||0),accrual:Number(V.accrual||0),operationalAccrual:Number(V.operationalAccrual||0),skincareSales:Number(V.skincareSales||0),traffic:Number(V.traffic||0),newCustomers:Number(V.newCustomers||0),newCustomerClosings:Number(V.newCustomerClosings||0),newCustomerSales:Number(V.newCustomerSales||0),refund:Number(V.refund||0),skincareRefund:Number(V.skincareRefund||0)}:xe={...V,totalRevenue:Number(V.totalRevenue||0),newCustomerRevenue:Number(V.newCustomerRevenue||0),newCustomerCount:Number(V.newCustomerCount||0),newCustomerClosings:Number(V.newCustomerClosings||0),oldCustomerRevenue:Number(V.oldCustomerRevenue||0),oldCustomerCount:Number(V.oldCustomerCount||0),returnRevenue:Number(V.returnRevenue||0)},await Eg(oe,xe),t("","success"),(r==="store"?l:d)(X=>X.map(ue=>ue.id===M?{...ue,...xe}:ue)),R(null)}catch{t("","error")}},Z=async W=>{if(confirm("?"))try{await FM(lt(qe,"artifacts",ze,"public","data",r==="store"?"daily_reports":"therapist_daily_reports",W)),t("","success"),(r==="store"?l:d)(F=>F.filter(X=>X.id!==W))}catch{t("","error")}};return m.jsx($r,{children:m.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),m.jsx("span",{className:"text-stone-400",children:"|"}),m.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl",children:[n!=="trainer"&&m.jsxs("button",{onClick:()=>{i("store"),O("")},className:`px-4 py-2 rounded-lg text-sm font-bold flex gap-2 transition-all ${r==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.jsx(Ii,{size:16})," "]}),m.jsxs("button",{onClick:()=>{i("therapist"),O("")},className:`px-4 py-2 rounded-lg text-sm font-bold flex gap-2 transition-all ${r==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[m.jsx(pc,{size:16})," "]})]})]}),m.jsx(It,{children:m.jsxs("div",{className:"space-y-4 w-full",children:[m.jsxs("div",{className:"flex flex-wrap gap-4 bg-stone-50 p-4 rounded-xl items-end border border-stone-100",children:[m.jsxs("div",{className:"w-full lg:w-auto flex-grow min-w-[340px]",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(Ks,{size:12})," "]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",value:b,onChange:W=>w(W.target.value),className:"flex-1 min-w-[140px] px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),m.jsx("span",{className:"shrink-0 text-stone-400 font-bold px-2",children:""}),m.jsx("input",{type:"date",value:A,onChange:W=>E(W.target.value),className:"flex-1 min-w-[140px] px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),m.jsxs("div",{className:"w-full sm:w-auto flex-grow min-w-[200px]",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsxs("select",{value:S,onChange:W=>O(W.target.value),className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400",children:[m.jsx("option",{value:"",children:""}),N.map(W=>m.jsx("option",{value:W,children:W},W))]})]}),m.jsxs("button",{onClick:()=>{w(g()),E(g()),O("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm shrink-0",children:[m.jsx(fz,{size:16})," "]})]}),m.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[m.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:m.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[m.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),r==="store"?I.map(W=>m.jsx("th",{className:`p-4 text-right ${W.isNegative?"text-rose-500":""} ${W.width}`,children:W.label},W.key)):m.jsxs(m.Fragment,{children:[m.jsx("th",{className:"p-4 min-w-[100px]",children:""}),z.map(W=>m.jsx("th",{className:`p-4 text-right ${W.isNegative?"text-rose-500":W.isHighlight?"text-indigo-600":""} ${W.width}`,children:W.label},W.key))]}),m.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),m.jsxs("tbody",{className:"divide-y divide-stone-100",children:[h&&m.jsx("tr",{children:m.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[m.jsx(Do,{className:"animate-spin inline mr-2"}),"..."]})}),!h&&(!b||!A)&&m.jsx("tr",{children:m.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx(vA,{size:24,className:"opacity-50"}),m.jsx("p",{className:"font-bold",children:""})]})})}),!h&&$.map(W=>{const oe=M===W.id,xe=j(W).replace("CYJ","").replace("","");return m.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[m.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:m.jsxs("div",{className:"flex flex-col",children:[oe?m.jsx("input",{type:"date",value:V.date,onChange:F=>pe("date",F.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):m.jsx("span",{className:"font-mono font-bold text-stone-600",children:W.date}),m.jsx("span",{className:"font-bold text-stone-800",children:xe||m.jsx("span",{className:"text-stone-300 text-xs",children:""})})]})}),r==="store"?I.map(F=>m.jsx("td",{className:"p-4 text-right",children:oe?m.jsx("input",{type:"number",value:V[F.key],onChange:X=>pe(F.key,X.target.value),readOnly:F.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${F.isNegative?"text-rose-500":""} ${F.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):m.jsx("span",{className:F.isNegative?"text-rose-500 font-bold":"",children:L(W[F.key])})},F.key)):m.jsxs(m.Fragment,{children:[m.jsx("td",{className:"p-4 font-bold",children:W.therapistName}),z.map(F=>m.jsx("td",{className:"p-4 text-right",children:oe?m.jsx("input",{type:"number",value:V[F.key],onChange:X=>pe(F.key,X.target.value),readOnly:F.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${F.isNegative?"text-rose-500":F.isHighlight?"font-bold text-indigo-600":""} ${F.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):m.jsx("span",{className:F.isNegative?"text-rose-500 font-bold":F.isHighlight?"text-indigo-600 font-bold":"",children:L(W[F.key])})},F.key))]}),m.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:oe?m.jsxs("div",{className:"flex gap-2 justify-center",children:[m.jsx("button",{onClick:K,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:m.jsx(Fy,{size:16})}),m.jsx("button",{onClick:ce,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:m.jsx(Mo,{size:16})})]}):m.jsxs("div",{className:"flex gap-2 justify-center",children:[m.jsx("button",{onClick:()=>U(W),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:m.jsx(dz,{size:16})}),m.jsx("button",{onClick:()=>Z(W.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:m.jsx(ng,{size:16})})]})})]},W.id)}),!h&&$.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:""})})]})]})}),m.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[m.jsx(tue,{size:12}),"  ",m.jsx(rz,{size:12})]})]})]})})]})})},Fde=()=>{const{analytics:t,fmtMoney:e,fmtNum:n,userRole:r}=_.useContext(Or),i=_.useMemo(()=>t.regionalStats.map(l=>({name:l.manager,value:l.cashTotal})).filter(l=>l.value>0),[t.regionalStats]),s=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return m.jsx($r,{children:m.jsxs("div",{className:"space-y-8",children:[m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.regionalStats.map(l=>m.jsxs(It,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg",children:l.manager.charAt(0)}),m.jsx("div",{children:m.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[l.manager," "]})})]}),m.jsx("div",{className:"text-right",children:m.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${l.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[l.achievement.toFixed(1),"%"]})})]}),m.jsxs("div",{className:"space-y-3 mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-stone-500 text-sm",children:""}),m.jsx("span",{className:"text-lg font-bold text-stone-700",children:e(l.cashTotal)})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-stone-500 text-sm",children:""}),m.jsx("span",{className:"text-base font-bold text-stone-600",children:e(l.accrualTotal)})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-stone-500 text-sm",children:""}),m.jsx("span",{className:"text-base font-bold text-rose-500",children:e(l.skincareSalesTotal)})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-stone-700 font-bold",children:n(l.trafficTotal)})]}),m.jsxs("div",{className:"text-center border-l border-stone-200",children:[m.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-stone-700 font-bold",children:n(l.newCustomersTotal)})]}),m.jsxs("div",{className:"text-center border-l border-stone-200",children:[m.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),m.jsx("p",{className:"text-stone-700 font-bold",children:n(l.newCustomerClosingsTotal)})]})]})]},l.manager))}),r==="director"?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:m.jsx(It,{title:"",subtitle:"",children:m.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:m.jsx(oy,{width:"100%",height:"100%",children:m.jsxs(Kce,{children:[m.jsx(dL,{data:i,cx:"50%",cy:"50%",labelLine:!0,label:({name:l,percent:u})=>`${l} ${(u*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:i.map((l,u)=>m.jsx(Kh,{fill:s[u%s.length]},`cell-${u}`))}),m.jsx(Py,{formatter:l=>e(l)}),m.jsx(hy,{verticalAlign:"bottom",height:36})]})})})})}):m.jsx("div",{className:"space-y-6",children:t.regionalStats.map(l=>{const u=t.storeList.filter(d=>d.manager===l.manager);return m.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[m.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:m.jsxs("h3",{className:"font-bold text-stone-700",children:[l.manager," "]})}),m.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map(d=>m.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h4",{className:"font-bold text-stone-700",children:d.name.replace("CYJ","").replace("","")}),m.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:[d.achievement.toFixed(1),"%"]})]}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-stone-400",children:""}),m.jsx("span",{className:"font-bold",children:e(d.cashTotal)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-stone-400",children:""}),m.jsx("span",{className:"font-bold",children:e(d.accrualTotal)})]})]})]},d.name))})]},l.manager)})})]})})},Hde=()=>{const{analytics:t,fmtMoney:e,fmtNum:n}=_.useContext(Or),[r,i]=_.useState({key:"achievement",direction:"desc"}),s=_.useMemo(()=>{let d=[...t.storeList];return r.key&&d.sort((h,p)=>h[r.key]<p[r.key]?r.direction==="ascending"?-1:1:h[r.key]>p[r.key]?r.direction==="ascending"?1:-1:0),d},[t.storeList,r]),l=d=>i({key:d,direction:r.key===d&&r.direction==="desc"?"ascending":"desc"}),u=()=>{const d=[",,,,,,,,,"],h=s.map((A,E)=>{const S=A.name.replace("CYJ","").replace("","");return[E+1,S,A.manager,A.cashTotal,A.achievement.toFixed(2)+"%",A.skincareSalesTotal,A.trafficTotal,A.trafficASP,A.newCustomersTotal,A.newCustomerClosingsTotal].join(",")}),p="\uFEFF"+[d,...h].join(`
`),g=new Blob([p],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a"),w=URL.createObjectURL(g);b.setAttribute("href",w),b.setAttribute("download",`_${new Date().toISOString().split("T")[0]}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)};return m.jsx($r,{children:m.jsxs(It,{title:"",subtitle:"",children:[m.jsx("div",{className:"flex justify-end mb-4",children:m.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[m.jsx(jue,{size:16}),"  CSV"]})}),m.jsx("div",{className:"overflow-x-auto rounded-2xl border border-stone-100 min-h-[500px]",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[m.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 w-16 text-center",children:""}),m.jsx("th",{className:"p-4 cursor-pointer",onClick:()=>l("name"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("cashTotal"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("achievement"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("trafficTotal"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("newCustomersTotal"),children:""}),m.jsx("th",{className:"p-4 cursor-pointer text-right",onClick:()=>l("newCustomerClosingsTotal"),children:""})]})}),m.jsx("tbody",{className:"text-sm divide-y divide-stone-50",children:s.map((d,h)=>m.jsxs("tr",{className:"hover:bg-stone-50",children:[m.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:h+1}),m.jsx("td",{className:"p-4 font-bold text-stone-700",children:d.name.replace("CYJ","").replace("","")}),m.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(d.cashTotal)}),m.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:[d.achievement.toFixed(1),"%"]}),m.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(d.trafficTotal)}),m.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(d.newCustomersTotal)}),m.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(d.newCustomerClosingsTotal)})]},d.name))})]})})]})})},Kde=()=>{const{rawData:t,budgets:e,managers:n,selectedYear:r,selectedMonth:i,fmtMoney:s,fmtNum:l,currentUser:u,userRole:d,activeView:h}=_.useContext(Or),[p,g]=_.useState(""),[b,w]=_.useState("");_.useEffect(()=>{h==="store-analysis"&&u&&n[u.name]&&g(u.name)},[h,u,n]),_.useEffect(()=>{const S=O=>w(O.detail);return window.addEventListener("navigate-to-store",S),()=>window.removeEventListener("navigate-to-store",S)},[]);const A=_.useMemo(()=>d==="director"?p?(n[p]||[]).map(S=>`CYJ${S}`):[]:d==="manager"?Object.values(n).flat().map(S=>`CYJ${S}`):d==="store"&&u?(u.stores||[u.storeName]).map(S=>S.startsWith("CYJ")?S:`CYJ${S}`):[],[p,n,u,d]);_.useEffect(()=>{u&&A.length===1&&!b&&w(A[0])},[u,A,b]);const E=_.useMemo(()=>{if(!b)return null;const S=parseInt(r),O=parseInt(i),M=S-1911,R=t.filter(U=>{if(U.storeName!==b||!U.date)return!1;const ce=U.date.replace(/-/g,"/").split("/"),pe=parseInt(ce[0]),K=parseInt(ce[1]);return(pe===S||pe===M)&&K===O}).sort((U,ce)=>{const pe=gr(U.date),K=gr(ce.date);return pe.localeCompare(K)}),V=R.reduce((U,ce)=>U+(ce.cash||0),0),D=R.reduce((U,ce)=>U+(ce.refund||0),0),L=V-D,N=R.reduce((U,ce)=>U+(ce.traffic||0),0),j=R.reduce((U,ce)=>U+(ce.operationalAccrual||0),0),I=R.reduce((U,ce)=>U+(ce.newCustomers||0),0),z=R.reduce((U,ce)=>U+(ce.newCustomerSales||0),0),k=R.reduce((U,ce)=>U+(ce.newCustomerClosings||0),0),$=e[`${b}_${S}_${O}`]?.cashTarget||0;return{totalCash:L,achievement:$>0?L/$*100:0,trafficASP:N>0?Math.round(j/N):0,newCustomerASP:I>0?Math.round(z/I):0,totalNewCustomerClosings:k,totalRefund:D,dailyData:R.map(U=>({date:gr(U.date).split("/")[2],cash:(U.cash||0)-(U.refund||0),accrual:U.accrual||0,traffic:U.traffic})),budget:$}},[b,r,i,t,e]);return m.jsx($r,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{title:"",children:m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("select",{value:p,onChange:S=>g(S.target.value),disabled:d!=="director",className:"px-4 py-2 border rounded-xl",children:[m.jsx("option",{value:"",children:""}),Object.keys(n).map(S=>m.jsx("option",{value:S,children:S},S))]}),m.jsxs("select",{value:b,onChange:S=>w(S.target.value),className:"px-4 py-2 border rounded-xl",children:[m.jsx("option",{value:"",children:""}),A.map(S=>m.jsx("option",{value:S,children:S},S))]})]})}),b&&E&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(E.totalCash)}),m.jsxs("p",{className:`text-sm font-bold ${E.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[E.achievement.toFixed(1),"% "]})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(E.trafficASP)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(E.budget)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(E.newCustomerASP)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(E.totalNewCustomerClosings)})]}),m.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[m.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),m.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:s(E.totalRefund)})]})]}),m.jsx(It,{title:"",subtitle:"()",children:m.jsx("div",{className:"h-[400px] w-full",children:m.jsx(oy,{width:"100%",height:"100%",children:m.jsxs(pA,{data:E.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[m.jsx(By,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),m.jsx(qy,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),m.jsx(zu,{yAxisId:"left",width:80,tickFormatter:S=>S===0?"0":`$${(S/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),m.jsx(zu,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),m.jsx(Py,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(S,O)=>O===""?[l(S),O]:[s(S),O],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),m.jsx(hy,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),m.jsx(dA,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),m.jsx(Lu,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),m.jsx(Lu,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]})]})})},Gde=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!1),[i,s]=_.useState(1),l=20,u=new Date().toISOString().split("T")[0],[d,h]=_.useState({start:u,end:u}),p=()=>{r(!0),e([]);const S=new Date(d.start);S.setHours(0,0,0,0);const O=new Date(d.end);O.setHours(23,59,59,999);const M=Ou(ri(qe,"artifacts",ze,"public","data","system_logs"),Ll("timestamp",">=",Rt.fromDate(S)),Ll("timestamp","<=",Rt.fromDate(O)),$M(500));return ni(M,V=>{let D=V.docs.map(L=>({id:L.id,...L.data()}));D.sort((L,N)=>{const j=L.timestamp?.toMillis?L.timestamp.toMillis():0;return(N.timestamp?.toMillis?N.timestamp.toMillis():0)-j}),e(D),r(!1)})};_.useEffect(()=>{const S=p();return()=>S()},[d]);const g=Math.ceil(t.length/l),b=t.slice((i-1)*l,i*l),w=S=>{if(!S)return"-";const O=S.toDate?S.toDate():new Date(S);return`${O.getMonth()+1}/${O.getDate()} ${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`},A=S=>{switch(S){case"director":return m.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return m.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return m.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return m.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return m.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},E=S=>S==="iOS"||S==="Android"||S==="Mobile"?m.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[m.jsx(lde,{size:12})," ",S]}):m.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[m.jsx(Wue,{size:12})," PC"]});return m.jsx($r,{children:m.jsx("div",{className:"space-y-6 pb-20",children:m.jsxs(It,{children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),m.jsx("p",{className:"text-xs text-stone-400",children:""})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[m.jsxs("div",{className:"flex items-center gap-2 px-2",children:[m.jsx(Ks,{size:14,className:"text-stone-400"}),m.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[m.jsx("input",{type:"date",value:d.start,onChange:S=>h(O=>({...O,start:S.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),m.jsx("span",{className:"text-stone-300",children:"~"}),m.jsx("input",{type:"date",value:d.end,onChange:S=>h(O=>({...O,end:S.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?m.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[m.jsx(Jue,{className:"animate-spin mx-auto mb-2"}),m.jsx("p",{children:"..."})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[m.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 w-32",children:""}),m.jsx("th",{className:"p-4 w-24",children:""}),m.jsx("th",{className:"p-4 w-24",children:""}),m.jsx("th",{className:"p-4 w-32",children:""}),m.jsx("th",{className:"p-4 w-32",children:""}),m.jsx("th",{className:"p-4",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:b.length>0?b.map(S=>m.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[m.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:w(S.timestamp)}),m.jsx("td",{className:"p-4",children:E(S.device)}),m.jsx("td",{className:"p-4",children:A(S.role)}),m.jsx("td",{className:"p-4 font-bold text-stone-700",children:S.user}),m.jsx("td",{className:"p-4 font-medium text-stone-600",children:S.action}),m.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof S.details=="string"?S.details:JSON.stringify(S.details),children:typeof S.details=="string"?S.details:JSON.stringify(S.details)})]},S.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&m.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[m.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>s(S=>Math.max(1,S-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:m.jsx(iz,{size:18})}),m.jsx("button",{onClick:()=>s(S=>Math.min(g,S+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:m.jsx(az,{size:18})})]})]})]})]})})})},Yde=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:d,therapists:h,trainerAuth:p,handleUpdateTrainerAuth:g}=_.useContext(Or),[b,w]=_.useState(""),[A,E]=_.useState(t),[S,O]=_.useState(u||vz),[M,R]=_.useState({name:"",password:"",stores:""}),[V,D]=_.useState(null),[L,N]=_.useState({name:"",password:"",stores:[]}),[j,I]=_.useState({name:"",password:""}),[z,k]=_.useState(null),[$,U]=_.useState([]),[ce,pe]=_.useState({name:"",manager:""}),[K,Z]=_.useState(!1),[W,oe]=_.useState(null),[xe,F]=_.useState(""),[X,ue]=_.useState(""),[ge,je]=_.useState(""),[se,we]=_.useState(""),[Ue,le]=_.useState("0000"),[Re,Be]=_.useState(""),be=_.useMemo(()=>{const H=[],ye=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0},{id:"permissions",label:"",isAdminOnly:!0},{id:"trainer-account",label:"",isAdminOnly:!0,icon:sh},{id:"shops",label:"",isAdminOnly:!0},{id:"stores",label:"",isAdminOnly:!0},{id:"managers",label:"",isAdminOnly:!0},{id:"therapists",label:"",isAdminOnly:!0}].forEach(Le=>{(l==="director"||!Le.isAdminOnly&&Le.permissionId&&ye.includes(Le.permissionId))&&H.push(Le)}),H},[l,u]);_.useEffect(()=>{if(be.length>0){const H=be.some(ye=>ye.id===b);(!b||!H)&&w(be[0].id)}},[be,b]);const St=async()=>{if(!Re)return n("","error");await g(Re)?(n("","success"),Be("")):n("","error")};_.useEffect(()=>{u&&O(u)},[u]),_.useEffect(()=>{t&&E(t)},[t]);const We=async()=>{try{await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","kpi_targets"),A),e(A),n("KPI ","success")}catch{n("","error")}},Kt=async()=>{try{await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","permissions"),S),n("","success")}catch{n("","error")}},Et=(H,ye)=>{const Se=S[H]||[],Le=Se.includes(ye)?Se.filter(yt=>yt!==ye):[...Se,ye];O({...S,[H]:Le})},tn=async()=>{if(!ce.name||!ce.manager)return n("","error");try{const H=r[ce.manager]||[];await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:{...r,[ce.manager]:[...H,ce.name]}}),pe({name:"",manager:""}),n("","success")}catch{n("","error")}},lr=async(H,ye)=>{if(confirm("?"))try{const Se=(r[ye]||[]).filter(Le=>Le!==H);await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:{...r,[ye]:Se}}),n("","success")}catch{n("","error")}},At=_.useMemo(()=>{const H=Object.values(r).flat(),ye=i.flatMap(Se=>Se.stores||[]);return H.filter(Se=>!ye.includes(Se)).sort()},[r,i]),Ut=_.useMemo(()=>{const H=Object.values(r).flat(),ye=i.filter(Se=>Se.id!==V?.id).flatMap(Se=>Se.stores||[]);return H.filter(Se=>!ye.includes(Se)&&!L.stores.includes(Se)).sort()},[r,i,V,L]),ui=async()=>{if(!M.name||!M.password)return n("","error");const H={id:Pde(),...M,stores:M.stores?[M.stores]:[]};try{await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","store_account_data"),{accounts:[...i,H]}),R({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},Fa=H=>{D(H),N({name:H.name,password:H.password,stores:H.stores||[]})},na=H=>{H&&!L.stores.includes(H)&&N({...L,stores:[...L.stores,H]})},un=H=>{N({...L,stores:L.stores.filter(ye=>ye!==H)})},Fr=async()=>{if(!L.name)return;const H=i.map(ye=>ye.id===V.id?{...ye,...L}:ye);await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","store_account_data"),{accounts:H}),D(null),n("","success")},Mi=async H=>{if(!confirm("?"))return;const ye=i.filter(Se=>Se.id!==H);await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","store_account_data"),{accounts:ye}),n("","success")};_.useMemo(()=>{const H=[...new Set(i.flatMap(Se=>Se.stores||[]))],ye=Object.values(r).flat();return H.filter(Se=>!ye.includes(Se)).sort()},[i,r]);const Li=async()=>{if(j.name)try{await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:{...r,[j.name]:[]}},{merge:!0}),await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","manager_auth"),{[j.name]:j.password},{merge:!0}),I({name:"",password:""}),n("","success")}catch{n("","error")}},Hr=async H=>{try{await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:{...r,[H]:$}}),k(null),n("","success")}catch{n("","error")}},Gs=H=>{H&&($.includes(H)||U([...$,H]))},ra=H=>{U($.filter(ye=>ye!==H))},ia=async H=>{if(!confirm("?"))return;const ye={...r};delete ye[H],await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:ye}),n("","success")},Ys=async()=>{if(!se)return n("","error");try{await fS(ri(qe,"artifacts",ze,"public","data","therapists"),{name:se,store:ge,manager:X,password:Ue,status:"active",createdAt:Qu()}),Z(!1),we(""),n("","success")}catch{n("","error")}},xr=async()=>{if(!W)return;const H=lt(qe,"artifacts",ze,"public","data","therapists",W.id);await Eg(H,{name:se,store:ge,manager:X,password:Ue}),oe(null),n("","success")},dn=async H=>{const ye=lt(qe,"artifacts",ze,"public","data","therapists",H.id);await Eg(ye,{status:H.status==="active"?"resigned":"active"}),n("","success")},cr=async H=>{confirm("?")&&(await FM(lt(qe,"artifacts",ze,"public","data","therapists",H)),n("","success"))},Bt=H=>{oe(H),ue(H.manager||""),je(H.store),we(H.name),le(H.password)},Ha=_.useMemo(()=>X?r[X]||[]:[],[X,r]),aa=_.useMemo(()=>h.filter(H=>(H.name||"").includes(xe)||(H.store||"").includes(xe)||H.status==="resigned"&&xe===""),[h,xe]);return be.length===0?m.jsx($r,{children:m.jsx(It,{title:"",children:m.jsxs("div",{className:"text-center py-10 text-stone-400",children:[m.jsx(Pf,{size:48,className:"mx-auto mb-4 opacity-50"}),m.jsx("p",{children:""})]})})}):m.jsx($r,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),m.jsx("div",{className:"bg-white p-1 rounded-xl shadow-sm border border-stone-100 flex overflow-x-auto max-w-full no-scrollbar",children:be.map(H=>m.jsxs("button",{onClick:()=>w(H.id),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-1 ${b===H.id?"bg-stone-800 text-white shadow":"text-stone-500 hover:bg-stone-50"}`,children:[H.icon&&m.jsx(H.icon,{size:14}),H.label]},H.id))})]}),b==="kpi"&&m.jsx(It,{title:"KPI ",subtitle:"",children:m.jsxs("div",{className:"max-w-md space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),m.jsx("input",{type:"number",value:A.newASP,onChange:H=>E({...A,newASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),m.jsx("input",{type:"number",value:A.trafficASP,onChange:H=>E({...A,trafficASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),m.jsx("button",{onClick:We,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold",children:" KPI "})]})}),b==="trainer-account"&&m.jsx(It,{title:"",subtitle:"/",children:m.jsxs("div",{className:"max-w-md space-y-6",children:[m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),m.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:p?.password||"0000"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),m.jsx("input",{type:"text",value:Re,onChange:H=>Be(H.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsx("button",{onClick:St,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),b==="permissions"&&m.jsxs(It,{title:"",subtitle:"",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-stone-200",children:[m.jsx("th",{className:"p-4 font-bold text-stone-500",children:""}),m.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),m.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),m.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),m.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:uc.map(H=>m.jsxs("tr",{className:"hover:bg-stone-50",children:[m.jsxs("td",{className:"p-4 flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500",children:m.jsx(H.icon,{size:18})}),m.jsx("span",{className:"font-bold text-stone-700",children:H.label})]}),m.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:m.jsx("input",{type:"checkbox",checked:S.trainer?.includes(H.id),onChange:()=>Et("trainer",H.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),m.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:m.jsx("input",{type:"checkbox",checked:S.manager?.includes(H.id),onChange:()=>Et("manager",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),m.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:m.jsx("input",{type:"checkbox",checked:S.store?.includes(H.id),onChange:()=>Et("store",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),m.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:m.jsx("input",{type:"checkbox",checked:S.therapist?.includes(H.id),onChange:()=>Et("therapist",H.id),className:"w-5 h-5 rounded cursor-pointer"})})]},H.id))})]})}),m.jsx("div",{className:"mt-6 flex justify-end",children:m.jsx("button",{onClick:Kt,className:"bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),b==="shops"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{title:"",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("input",{type:"text",value:ce.name,onChange:H=>pe({...ce,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:ce.manager,onChange:H=>pe({...ce,manager:H.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(r).map(H=>m.jsxs("option",{value:H,children:[H," "]},H))]}),m.jsx(yk,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),m.jsxs("button",{onClick:tn,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[m.jsx(Up,{size:18})," "]})]})}),m.jsx(It,{title:"",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(r).map(([H,ye])=>m.jsxs("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[m.jsxs("span",{className:"font-bold text-stone-700",children:[H," "]}),m.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[ye.length," "]})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:ye.map(Se=>m.jsxs("div",{className:"group relative flex items-center",children:[m.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Se}),m.jsx("button",{onClick:()=>lr(Se,H),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:m.jsx(Mo,{size:12})})]},Se))})]},H))})})]}),b==="stores"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{title:"",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),m.jsx("input",{type:"text",value:M.name,onChange:H=>R({...M,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("input",{type:"text",value:M.password,onChange:H=>R({...M,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative w-full",children:[m.jsx(Ii,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),m.jsxs("select",{value:M.stores,onChange:H=>R({...M,stores:H.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[m.jsx("option",{value:"",children:"..."}),At.map(H=>m.jsx("option",{value:H,children:H},H))]}),m.jsx(yk,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),m.jsx("button",{onClick:ui,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:m.jsx(Up,{size:20})})]})]})]})}),m.jsx(It,{title:"",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),m.jsx("th",{className:"p-4",children:""}),m.jsx("th",{className:"p-4",children:""}),m.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(H=>m.jsxs("tr",{className:"hover:bg-stone-50",children:[m.jsx("td",{className:"p-4 font-bold text-stone-700",children:H.name}),m.jsx("td",{className:"p-4 font-mono text-stone-500",children:H.password}),m.jsx("td",{className:"p-4",children:m.jsx("div",{className:"flex flex-wrap gap-1",children:H.stores&&H.stores.map(ye=>m.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:ye},ye))})}),m.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[m.jsx("button",{onClick:()=>Fa(H),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:m.jsx(dz,{size:18})}),m.jsx("button",{onClick:()=>Mi(H.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:m.jsx(ng,{size:18})})]})]},H.id))})]})})}),V&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[m.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[m.jsx("span",{children:""}),m.jsx("button",{onClick:()=>D(null),children:m.jsx(Mo,{size:20})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),m.jsx("input",{type:"text",value:L.name,onChange:H=>N({...L,name:H.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),m.jsx("input",{type:"text",value:L.password,onChange:H=>N({...L,password:H.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:L.stores.map(H=>m.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[H," ",m.jsx("button",{onClick:()=>un(H),className:"text-stone-300 hover:text-rose-500",children:m.jsx(Mo,{size:12})})]},H))}),m.jsx("div",{className:"relative",children:m.jsxs("select",{onChange:H=>{na(H.target.value),H.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[m.jsx("option",{value:"",children:"+ "}),Ut.map(H=>m.jsx("option",{value:H,children:H},H))]})})]}),m.jsxs("div",{className:"pt-4 flex gap-3",children:[m.jsx("button",{onClick:()=>D(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),m.jsx("button",{onClick:Fr,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),b==="managers"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{title:"",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("input",{type:"text",value:j.name,onChange:H=>I({...j,name:H.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("input",{type:"text",value:j.password,onChange:H=>I({...j,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),m.jsxs("button",{onClick:Li,className:"bg-stone-800 text-white py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[m.jsx(Up,{size:18})," "]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(r).map(([H,ye])=>m.jsxs(It,{className:"border border-stone-200",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[m.jsx(pc,{size:20,className:"text-amber-500"}),H," "]}),m.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[H]||""]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{k(H),U(ye)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold",children:""}),m.jsx("button",{onClick:()=>ia(H),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:m.jsx(ng,{size:16})})]})]}),z===H?m.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:$.map(Se=>m.jsxs("div",{className:"group relative flex items-center",children:[m.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Se}),m.jsx("button",{onClick:()=>ra(Se),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:m.jsx(Mo,{size:12})})]},Se))}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsxs("select",{onChange:Se=>{Gs(Se.target.value),Se.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[m.jsx("option",{value:"",children:"..."}),(At||[]).filter(Se=>!$.includes(Se)).map(Se=>m.jsx("option",{value:Se,children:Se},Se))]})]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>k(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400",children:""}),m.jsx("button",{onClick:()=>Hr(H),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg",children:""})]})]}):m.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:ye.map(Se=>m.jsx("span",{className:"px-2.5 py-1 bg-stone-50 border border-stone-100 rounded-lg text-xs font-bold text-stone-600",children:Se},Se))})," "]},H))})]}),b==="therapists"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx(It,{children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[m.jsxs("div",{className:"relative w-full md:w-64",children:[m.jsx(vA,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),m.jsx("input",{type:"text",placeholder:"...",value:xe,onChange:H=>F(H.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),m.jsxs("button",{onClick:()=>Z(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[m.jsx(Up,{size:18})," "]})]})}),(K||W)&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[m.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[m.jsx("span",{children:W?"":""}),m.jsx("button",{onClick:()=>{Z(!1),oe(null)},children:m.jsx(Mo,{size:20})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),m.jsxs("select",{value:X,onChange:H=>{ue(H.target.value),je("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[m.jsx("option",{value:"",children:""}),Object.keys(r).map(H=>m.jsxs("option",{value:H,children:[H,""]},H))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),m.jsxs("select",{value:ge,onChange:H=>je(H.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!X,children:[m.jsx("option",{value:"",children:""}),Ha.map(H=>m.jsx("option",{value:H,children:H},H))]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),m.jsx("input",{type:"text",value:se,onChange:H=>we(H.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),m.jsx("input",{type:"text",value:Ue,onChange:H=>le(H.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),m.jsxs("div",{className:"pt-4 flex gap-3",children:[m.jsx("button",{onClick:()=>{Z(!1),oe(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),m.jsx("button",{onClick:W?xr:Ys,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:W?"":""})]})]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:aa.map(H=>m.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${H.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[m.jsx(Ii,{size:12})," ",H.store,""]}),m.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[H.name,H.status==="resigned"&&m.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>Bt(H),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:m.jsx(hde,{size:16})}),m.jsx("button",{onClick:()=>dn(H),className:`p-2 rounded-lg ${H.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:H.status==="active"?"":"",children:H.status==="active"?m.jsx(gz,{size:16}):m.jsx(pz,{size:16})})]})]}),m.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[m.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[m.jsx(kue,{size:12})," : ",H.password]}),m.jsx("button",{onClick:()=>cr(H.id),className:"text-stone-300 hover:text-rose-400",children:m.jsx(ng,{size:14})})]})]},H.id))})]})]})})},Wde=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:d}=_.useContext(Or),[h,p]=_.useState(yz(new Date)),[g,b]=_.useState("daily"),w=_.useMemo(()=>Object.values(t).flat().map(D=>({id:D,name:`${D}`,stores:[D]})),[t]),A=_.useMemo(()=>s.map(V=>({...V,storeName:V.storeName?V.storeName.replace(/CYJ|/g,""):"",date:gr(V.date)})),[s]),E=_.useMemo(()=>{if(!h)return{submitted:[],missing:[],missingByManager:{}};const V=gr(h),D=new Set(s.filter(N=>gr(N.date)===V).map(N=>N.storeName)),L={};return Object.entries(t).forEach(([N,j])=>{const I=[];j.forEach(z=>{const k=`CYJ${z}`;!D.has(k)&&!D.has(z)&&I.push(k)}),I.length&&(L[N]=I)}),{submitted:Array.from(D),missing:Object.values(L).flat(),missingByManager:L}},[h,s,t]),S=_.useMemo(()=>{const V={},D=parseInt(r),L=parseInt(i);return Object.entries(t).forEach(([N,j])=>{const I=[];j.forEach(z=>{const k=`CYJ${z}`,$=`${k}_${D}_${L}`,U=n[$];(!U||!U.cashTarget&&!U.accrualTarget)&&I.push(k)}),I.length&&(V[N]=I)}),{missing:Object.values(V).flat(),missingByManager:V}},[n,t,r,i]),O=_.useMemo(()=>{if(!h)return{missing:[],missingByManager:{}};const V=new Date(h),D=gr(h),L=V.getFullYear().toString(),N=V.getMonth()+1,j=V.getDate(),I=new Set((u||[]).filter(k=>gr(k.date)===D).map(k=>k.therapistId)),z={};return(l||[]).filter(k=>k.status==="active").forEach(k=>{const $=`${k.id}_${L}_${N}`;if(!d[$]?.daysOff?.includes(j)&&!I.has(k.id)){const pe=k.manager||"";z[pe]||(z[pe]=[]),z[pe].push(`${k.name} (${k.store})`)}}),{missing:Object.values(z).flat(),missingByManager:z}},[h,l,u,d]),M=g==="daily"?E:g==="target"?S:O,R=()=>{let V="";g==="target"?V=`(${r}/${i})
`:g==="therapist"?V=`(${h})
`:V=`(${h})
`,Object.entries(M.missingByManager).forEach(([D,L])=>{const N=L.map(j=>g==="therapist"?j:j.replace("CYJ","").replace("",""));V+=`${D}${N.join("")}
`}),navigator.clipboard.writeText(V),e("","success")};return m.jsx($r,{children:m.jsxs(It,{title:"",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[m.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[m.jsx("button",{onClick:()=>b("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${g==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),m.jsx("button",{onClick:()=>b("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${g==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),m.jsx("button",{onClick:()=>b("therapist"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${g==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),(g==="daily"||g==="therapist")&&m.jsx("div",{className:"w-full sm:w-auto relative z-10",children:m.jsx(bz,{selectedDate:h,onDateSelect:p,stores:w,salesData:A})}),g==="target"&&m.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start",children:["",r,"  ",i," "]})]}),g!=="target"&&m.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),m.jsx("span",{className:"whitespace-nowrap",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),m.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),m.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[m.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[m.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[m.jsx(Uu,{size:20}),g==="therapist"?" ()":"",m.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:M.missing.length})]}),m.jsx("button",{onClick:R,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),m.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(M.missingByManager).map(([V,D])=>m.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[m.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[V," "]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((L,N)=>m.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[g==="therapist"&&m.jsx(gz,{size:10,className:"text-rose-400"}),g==="therapist"?L:L.replace("CYJ","").replace("","")]},N))})]},V)),M.missing.length===0&&m.jsx("div",{className:"col-span-3 text-center py-10",children:m.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:m.jsx(Bu,{size:24})}),"",g==="therapist"&&m.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]})})},Xde=(t,e,n,r,i)=>_.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,d=t.filter(N=>{if(!N.date)return!1;const j=N.date.replace(/-/g,"/"),[I]=j.split("/").map(Number);return I===s||I===u}),h=d.reduce((N,j)=>({cash:N.cash+(j.cash||0)-(j.refund||0),accrual:N.accrual+(j.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(N=>`CYJ${N}`);for(let N=1;N<=12;N++)g.forEach(j=>{const I=`${j}_${s}_${N}`;n[I]&&(p.cash+=n[I].cashTarget||0,p.accrual+=n[I].accrualTarget||0)});const b={cashActual:h.cash,cashTarget:p.cash,cashAchievement:p.cash>0?h.cash/p.cash*100:0,accrualActual:h.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?h.accrual/p.accrual*100:0},w=d.filter(N=>{const j=N.date.replace(/-/g,"/"),[,I]=j.split("/").map(Number);return I===l}),A=[...new Set(w.map(N=>gr(N.date)))].sort(),E=A[A.length-1]||"",S=new Date(s,l,0).getDate();let O=1;E!==""&&(O=parseInt(E.split("/")[2]));const M=A.map(N=>{const j=w.filter(I=>gr(I.date)===N);return{date:N.split("/")[2],fullDate:N,cash:j.reduce((I,z)=>I+(z.cash||0)-(z.refund||0),0),traffic:j.reduce((I,z)=>I+(z.traffic||0),0)}}),V=Object.entries(e).flatMap(([N,j])=>j.map(I=>({name:`CYJ${I}`,manager:N}))).map(N=>{const j=w.filter(ue=>ue.storeName===N.name),I=j.reduce((ue,ge)=>ue+(ge.cash||0),0),z=j.reduce((ue,ge)=>ue+(ge.refund||0),0),k=I-z,$=j.reduce((ue,ge)=>ue+(ge.accrual||0),0),U=j.reduce((ue,ge)=>ue+(ge.operationalAccrual||0),0),ce=j.reduce((ue,ge)=>ue+(ge.traffic||0),0),pe=j.reduce((ue,ge)=>ue+(ge.newCustomers||0),0),K=j.reduce((ue,ge)=>ue+(ge.newCustomerClosings||0),0),Z=j.reduce((ue,ge)=>ue+(ge.newCustomerSales||0),0),W=j.reduce((ue,ge)=>ue+(ge.skincareSales||0),0),oe=j.reduce((ue,ge)=>ue+(ge.skincareRefund||0),0),xe=W-oe,F=`${N.name}_${s}_${l}`,X=n[F]||{cashTarget:0,accrualTarget:0};return{...N,cashTotal:k,accrualTotal:$,operationalAccrualTotal:U,trafficTotal:ce,newCustomersTotal:pe,newCustomerClosingsTotal:K,newCustomerSalesTotal:Z,skincareSalesTotal:xe,skincareRefundTotal:oe,refundTotal:z,cashBudget:X.cashTarget,accrualBudget:X.accrualTarget,projection:O>0?Math.round(k/O*S):0,achievement:X.cashTarget>0?k/X.cashTarget*100:0,trafficASP:ce>0?Math.round(U/ce):0,newCustomerASP:pe>0?Math.round(Z/pe):0}}),D=V.reduce((N,j)=>({cash:N.cash+j.cashTotal,accrual:N.accrual+j.accrualTotal,operationalAccrual:N.operationalAccrual+j.operationalAccrualTotal,skincareSales:N.skincareSales+j.skincareSalesTotal,skincareRefund:N.skincareRefund+j.skincareRefundTotal,traffic:N.traffic+j.trafficTotal,newCustomers:N.newCustomers+j.newCustomersTotal,newCustomerClosings:N.newCustomerClosings+j.newCustomerClosingsTotal,newCustomerSales:N.newCustomerSales+j.newCustomerSalesTotal,refund:N.refund+j.refundTotal,budget:N.budget+j.cashBudget,accrualBudget:N.accrualBudget+j.accrualBudget,projection:N.projection+j.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),L=Object.entries(e).map(([N,j])=>{const I=V.filter(F=>F.manager===N),z=I.reduce((F,X)=>F+X.cashTotal,0),k=I.reduce((F,X)=>F+X.accrualTotal,0),$=I.reduce((F,X)=>F+X.operationalAccrualTotal,0),U=I.reduce((F,X)=>F+X.cashBudget,0),ce=I.reduce((F,X)=>F+X.skincareSalesTotal,0),pe=I.reduce((F,X)=>F+X.skincareRefundTotal,0),K=I.reduce((F,X)=>F+X.trafficTotal,0),Z=I.reduce((F,X)=>F+X.newCustomersTotal,0),W=I.reduce((F,X)=>F+X.newCustomerClosingsTotal,0),oe=I.reduce((F,X)=>F+X.refundTotal,0),xe=K>0?Math.round($/K):0;return{manager:N,cashTotal:z,accrualTotal:k,operationalAccrualTotal:$,skincareSalesTotal:ce,skincareRefundTotal:pe,trafficTotal:K,newCustomersTotal:Z,newCustomerClosingsTotal:W,refundTotal:oe,trafficASP:xe,achievement:U>0?z/U*100:0}});return{latestDate:E,daysPassed:O,daysInMonth:S,remainingDays:S-O,dailyTotals:M,storeList:V,grandTotal:D,regionalStats:L,yearlyStats:b,totalAchievement:D.budget>0?D.cash/D.budget*100:0,avgTrafficASP:D.traffic>0?Math.round(D.operationalAccrual/D.traffic):0,avgNewCustomerASP:D.newCustomers>0?Math.round(D.newCustomerSales/D.newCustomers):0,allDates:A}},[t,e,n,r,i]),Qde=()=>m.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),m.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"flex items-center justify-center w-6",children:m.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),m.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),m.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[m.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),m.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),m.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),Zde=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s}=_.useContext(Or),[l,u]=_.useState(`${s}-01`),[d,h]=_.useState(`${s}-12`);_.useEffect(()=>{u(`${s}-01`),h(`${s}-12`)},[s]);const p=E=>{let S="01",O="03";switch(E){case 1:S="01",O="03";break;case 2:S="04",O="06";break;case 3:S="07",O="09";break;case 4:S="10",O="12";break;case"ALL":S="01",O="12";break}u(`${s}-${S}`),h(`${s}-${O}`)},g=_.useMemo(()=>l===`${s}-01`&&d===`${s}-03`?1:l===`${s}-04`&&d===`${s}-06`?2:l===`${s}-07`&&d===`${s}-09`?3:l===`${s}-10`&&d===`${s}-12`?4:l===`${s}-01`&&d===`${s}-12`?"ALL":null,[l,d,s]),b=_.useMemo(()=>{const E=Object.values(n).flat().map(I=>`CYJ${I}`),S=[];let O=new Date(`${l}-01`);const M=new Date(`${d}-01`);for(O>M&&(O=new Date(`${l}-01`));O<=M;){const I=O.getFullYear(),z=O.getMonth()+1;S.push({label:`${I}/${z}`,y:I,m:z,dateKey:`${I}/${z.toString().padStart(2,"0")}`}),O.setMonth(O.getMonth()+1)}const R=S.map(I=>({...I,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(I=>{if(!I.date)return;const k=I.date.replace(/-/g,"/").split("/"),$=parseInt(k[0]),U=parseInt(k[1]),ce=$<1911?$+1911:$,pe=R.find(K=>K.y===ce&&K.m===U);pe&&(pe.cash+=(I.cash||0)-(I.refund||0),pe.accrual+=I.accrual||0,pe.traffic+=I.traffic||0)});let V=0,D=0,L=0,N=0,j=0;return R.forEach(I=>{E.forEach(z=>{const k=`${z}_${I.y}_${I.m}`;e[k]&&(I.budget+=e[k].cashTarget||0,I.accrualBudget+=e[k].accrualTarget||0)}),I.achievement=I.budget>0?I.cash/I.budget*100:0,I.accrualAchievement=I.accrualBudget>0?I.accrual/I.accrualBudget*100:0,V+=I.cash,D+=I.budget,L+=I.accrual,N+=I.accrualBudget,j+=I.traffic}),{monthlyStats:R,totals:{cash:V,budget:D,cashAch:D>0?V/D*100:0,accrual:L,accrualBudget:N,accrualAch:N>0?L/N*100:0,traffic:j}}},[t,e,n,l,d]),{monthlyStats:w,totals:A}=b;return m.jsx($r,{children:m.jsxs("div",{className:"space-y-6 pb-12",children:[m.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:m.jsx(Ks,{size:24})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-stone-800",children:""}),m.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),m.jsxs("div",{className:"md:ml-auto px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full self-start",children:[":  (",Object.values(n).flat().length," )"]})]}),m.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[m.jsx(lz,{size:18,className:"text-amber-500"}),m.jsx("span",{children:""})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>p("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${g==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(E=>m.jsxs("button",{onClick:()=>p(E),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${g===E?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",E]},E))]}),m.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),m.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:m.jsx("span",{children:""})}),m.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[m.jsx("input",{type:"month",value:l,onChange:E=>u(E.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),m.jsx("span",{className:"text-stone-400",children:m.jsx(rz,{size:16})}),m.jsx("input",{type:"month",value:d,onChange:E=>h(E.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:m.jsx(cc,{size:100})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[m.jsx(Hy,{size:14})," "]}),m.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(A.cash)}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[m.jsxs("span",{children:[" ",r(A.budget)]}),m.jsxs("span",{children:[A.cashAch.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(A.cashAch,100)}%`}})})]})]})]}),m.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:m.jsx(Vu,{size:100})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[m.jsx(hw,{size:14})," "]}),m.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(A.accrual)}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[m.jsxs("span",{children:[" ",r(A.accrualBudget)]}),m.jsxs("span",{className:A.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[A.accrualAch.toFixed(1),"%"]})]}),m.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:m.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(A.accrualAch,100)}%`}})})]})]})]})]}),m.jsx(It,{title:"",subtitle:" vs  (/)",children:m.jsx("div",{className:"h-[350px] w-full",children:m.jsx(oy,{width:"100%",height:"100%",children:m.jsxs(pA,{data:w,margin:{top:20,right:0,left:0,bottom:0},children:[m.jsx(By,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),m.jsx(qy,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),m.jsx(zu,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:E=>`${(E/1e4).toFixed(0)}`}),m.jsx(Py,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:E=>r(E),itemSorter:E=>({:1,:2,:3,:4})[E.name]||99}),m.jsx(hy,{content:m.jsx(Qde,{}),verticalAlign:"top",height:36}),m.jsx(uA,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),m.jsx(Lu,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),m.jsx(dA,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),m.jsx(Lu,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),m.jsx(It,{title:"",children:m.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:m.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[m.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"pb-3 pl-2",children:""}),m.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),m.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),m.jsx("th",{className:"pb-3 text-right",children:""}),m.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),m.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),m.jsx("th",{className:"pb-3 text-right",children:""}),m.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-50",children:w.map((E,S)=>m.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[m.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:E.label}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(E.budget)}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(E.cash)}),m.jsx("td",{className:"py-4 text-right font-bold",children:m.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${E.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[E.achievement.toFixed(1),"%"]})}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(E.accrualBudget)}),m.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(E.accrual)}),m.jsx("td",{className:"py-4 text-right font-bold",children:m.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${E.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[E.accrualAchievement.toFixed(1),"%"]})}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(E.traffic)})]},S))}),m.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:m.jsxs("tr",{children:[m.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(A.budget)}),m.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(A.cash)}),m.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[A.cashAch.toFixed(1),"%"]}),m.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(A.accrualBudget)}),m.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(A.accrual)}),m.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[A.accrualAch.toFixed(1),"%"]}),m.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(A.traffic)})]})})]})})})]})})},Jde=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s}=_.useContext(Or),l=new Date().getFullYear(),[u,d]=_.useState(l),[h,p]=_.useState(""),[g,b]=_.useState(""),[w,A]=_.useState(!1),[E,S]=_.useState(Array.from({length:12},(D,L)=>({month:L+1,cashTarget:"",accrualTarget:""}))),O=_.useMemo(()=>h?(e[h]||[]).map(D=>`CYJ${D}`):t==="store"&&n?(n.stores||[n.storeName]).map(D=>D.startsWith("CYJ")?D:`CYJ${D}`):[],[h,e,t,n]);_.useEffect(()=>{if(t==="store"&&n){const D=n.stores||[n.storeName];if(D.length>0){const L=D[0].replace("CYJ","").replace("",""),N=Object.keys(e).find(I=>e[I].includes(L));N&&p(N);const j=D[0].startsWith("CYJ")?D[0]:`CYJ${D[0]}`;b(j)}}else t==="manager"&&n&&p(n.name)},[t,n,e]),_.useEffect(()=>{if(!g)return;const D=Array.from({length:12},(L,N)=>{const j=N+1,I=`${g}_${u}_${j}`,z=r[I];return{month:j,cashTarget:z?Yl(z.cashTarget):"",accrualTarget:z?Yl(z.accrualTarget):""}});S(D)},[g,u,r]);const M=D=>{if(t==="director"||t==="manager")return!1;const L=D+1,N=`${g}_${u}_${L}`,j=r[N];return!!(j&&(j.cashTarget>0||j.accrualTarget>0))},R=(D,L,N)=>{if(M(D))return;const j=N.replace(/,/g,"");/^\d*$/.test(j)&&S(I=>{const z=[...I];return z[D]={...z[D],[L]:Yl(j)},z})},V=async()=>{if(!g){i("","error");return}A(!0);try{const D=rF(qe);let L=!1;if(E.forEach((N,j)=>{if(M(j))return;const I=rr(N.cashTarget),z=rr(N.accrualTarget);if(I>0||z>0){const k=`${g}_${u}_${N.month}`,$=lt(qe,"artifacts",ze,"public","data","monthly_targets",k);D.set($,{cashTarget:I,accrualTarget:z,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),L=!0}}),!L){i("","info"),A(!1);return}await D.commit(),i(`${u} `,"success"),s(t,n?.name,"",`${g} ${u}`)}catch(D){console.error("Save targets error:",D),i("","error")}finally{A(!1)}};return m.jsx($r,{children:m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[m.jsx(It,{children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:m.jsx(_v,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[m.jsx("p",{children:"Annual Budget Planning"}),t==="store"&&m.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[m.jsx(Pf,{size:10})," "]})]})]})]}),m.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[m.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[m.jsxs("select",{value:u,onChange:D=>d(Number(D.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[m.jsxs("option",{value:l-1,children:[l-1," "]}),m.jsxs("option",{value:l,children:[l," "]}),m.jsxs("option",{value:l+1,children:[l+1," "]})]}),m.jsx(Ks,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),m.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:m.jsxs("select",{value:h,onChange:D=>{p(D.target.value),b("")},disabled:t!=="director",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(e).map(D=>m.jsxs("option",{value:D,children:[D,""]},D))]})}),m.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[m.jsxs("select",{value:g,onChange:D=>b(D.target.value),disabled:!h,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[m.jsx("option",{value:"",children:"..."}),O.map(D=>m.jsx("option",{value:D,children:D},D))]}),m.jsx(Ii,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),g?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hidden md:block",children:m.jsx(It,{title:`${g} - ${u} `,children:m.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-3 pl-4",children:""}),m.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),m.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),m.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:E.map((D,L)=>{const N=M(L);return m.jsxs("tr",{className:`transition-colors ${N?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[m.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[D.month," "]}),m.jsx("td",{className:"py-2 px-2",children:m.jsxs("div",{className:"relative",children:[m.jsx(cc,{size:14,className:`absolute left-3 top-3 ${N?"text-stone-300":"text-stone-400"}`}),m.jsx("input",{type:"text",placeholder:N?"-":"0",value:D.cashTarget,onChange:j=>R(L,"cashTarget",j.target.value),disabled:N,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${N?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),m.jsx("td",{className:"py-2 px-2",children:m.jsxs("div",{className:"relative",children:[m.jsx(mw,{size:14,className:`absolute left-3 top-3 ${N?"text-stone-300":"text-stone-400"}`}),m.jsx("input",{type:"text",placeholder:N?"-":"0",value:D.accrualTarget,onChange:j=>R(L,"accrualTarget",j.target.value),disabled:N,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${N?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),m.jsx("td",{className:"py-2 px-2 text-center",children:N?m.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:m.jsx(Pf,{size:16})}):D.cashTarget?m.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:m.jsx(Bu,{size:16,className:"opacity-0 group-hover:opacity-50"})}):m.jsx("div",{className:"flex items-center justify-center text-stone-200",children:m.jsx(_v,{size:16})})})]},D.month)})})]})})})}),m.jsxs("div",{className:"md:hidden space-y-4",children:[m.jsx("div",{className:"flex items-center justify-between px-2",children:m.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[m.jsx(Ii,{size:18,className:"text-amber-500"}),g,m.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:u})]})}),E.map((D,L)=>{const N=M(L);return m.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${N?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[m.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[m.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[D.month," "]}),D.cashTarget&&!N&&m.jsx(Bu,{size:16,className:"text-emerald-500"})]}),N&&m.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[m.jsx(Pf,{size:12})," "]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[m.jsx(cc,{size:12}),"  (Cash)"]}),m.jsx("input",{type:"text",inputMode:"numeric",placeholder:N?"":"...",value:D.cashTarget,onChange:j=>R(L,"cashTarget",j.target.value),disabled:N,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${N?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[m.jsx(mw,{size:12}),"  (Accrual)"]}),m.jsx("input",{type:"text",inputMode:"numeric",placeholder:N?"":"...",value:D.accrualTarget,onChange:j=>R(L,"accrualTarget",j.target.value),disabled:N,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${N?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},D.month)})]}),m.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:m.jsx("button",{onClick:V,disabled:w,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:w?"...":m.jsxs(m.Fragment,{children:[m.jsx(Fy,{size:20})," "]})})}),m.jsx("div",{className:"h-24 md:hidden"})]}):m.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[m.jsx(Ii,{size:48,className:"mx-auto mb-2 opacity-20"}),m.jsx("p",{children:""})]})]})})},efe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s}=_.useContext(Or),[l,u]=_.useState(new Date().getFullYear().toString()),[d,h]=_.useState(""),[p,g]=_.useState(""),[b,w]=_.useState(""),[A,E]=_.useState({});_.useEffect(()=>{if(r==="therapist"&&i){const R=Object.keys(s).find(V=>s[V].includes(i.storeName?.replace("CYJ","").replace("","")));R&&h(R),g(i.store||""),w(i.id)}else if(r==="store"&&i){const R=i.stores||[i.storeName];if(R.length>0){const V=R[0].replace("CYJ","").replace("",""),D=Object.keys(s).find(L=>s[L].includes(V));D&&h(D),R.length===1&&g(V)}}else r==="manager"&&i&&h(i.name)},[r,i,s]);const S=_.useMemo(()=>{if(!d)return[];const R=s[d]||[];if(r==="store"&&i){const V=(i.stores||[i.storeName]).map(D=>D.replace("CYJ","").replace("",""));return R.filter(D=>V.includes(D))}return R},[d,s,r,i]),O=_.useMemo(()=>p?e.filter(R=>R.status==="active"&&R.store===p).sort((R,V)=>R.name.localeCompare(V.name)):[],[p,e]);_.useEffect(()=>{if(b&&l){const R=`${b}_${l}`,V=n[R]||{};E(V.monthlyTargets||{})}else E({})},[b,l,n]);const M=async()=>{if(!b)return t("","error");try{const R=`${b}_${l}`;await Hn(lt(qe,"artifacts",ze,"public","data","therapist_targets",R),{therapistId:b,year:l,monthlyTargets:A,updatedAt:Qu()},{merge:!0}),t("","success")}catch{t("","error")}};return m.jsx($r,{children:m.jsx(It,{title:"",subtitle:"",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(gA,{size:12}),"  ()"]}),m.jsxs("select",{value:d,onChange:R=>{h(R.target.value),g(""),w("")},disabled:r==="manager"||r==="therapist"||r==="store"&&d!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(s).map(R=>m.jsxs("option",{value:R,children:[R,""]},R))]})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(Ii,{size:12})," "]}),m.jsxs("select",{value:p,onChange:R=>{g(R.target.value),w("")},disabled:!d||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),S.map(R=>m.jsxs("option",{value:R,children:[R,""]},R))]})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(pc,{size:12})," "]}),m.jsxs("select",{value:b,onChange:R=>w(R.target.value),disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),O.map(R=>m.jsx("option",{value:R.id,children:R.name},R.id))]})]}),m.jsxs("div",{className:"w-full md:w-32",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("select",{value:l,onChange:R=>u(R.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(R=>m.jsxs("option",{value:R,children:[R,""]},R))})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:M,disabled:!b,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[m.jsx(Fy,{size:18})," "]})}),b?m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(R,V)=>V+1).map(R=>m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[R," "]}),m.jsxs("div",{className:"relative",children:[m.jsx(cc,{size:14,className:"absolute left-3 top-3 text-stone-400"}),m.jsx("input",{type:"number",value:A[R]||"",onChange:V=>E({...A,[R]:V.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},R))}):m.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:m.jsx(Hy,{size:32,className:"opacity-20"})}),m.jsx("p",{children:"  >  >  "})]})]})})})},tfe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s}=_.useContext(Or),[l,u]=_.useState(new Date().getFullYear().toString()),[d,h]=_.useState((new Date().getMonth()+1).toString()),[p,g]=_.useState(""),[b,w]=_.useState(""),[A,E]=_.useState(""),[S,O]=_.useState([]);_.useEffect(()=>{if(r==="therapist"&&i){const N=Object.keys(s).find(j=>s[j].includes(i.storeName?.replace("CYJ","").replace("","")));N&&g(N),w(i.store||""),E(i.id)}else if(r==="store"&&i){const N=i.stores||[i.storeName];if(N.length>0){const j=N[0].replace("CYJ","").replace("",""),I=Object.keys(s).find(z=>s[z].includes(j));I&&g(I),N.length===1&&w(j)}}else r==="manager"&&i&&g(i.name)},[r,i,s]);const M=_.useMemo(()=>{if(!p)return[];const N=s[p]||[];if(r==="store"&&i){const j=(i.stores||[i.storeName]).map(I=>I.replace("CYJ","").replace("",""));return N.filter(I=>j.includes(I))}return N},[p,s,r,i]),R=_.useMemo(()=>b?e.filter(N=>N.status==="active"&&N.store===b).sort((N,j)=>N.name.localeCompare(j.name)):[],[b,e]);_.useEffect(()=>{if(A&&l&&d){const N=`${A}_${l}_${parseInt(d)}`,j=n[N]||{};O(j.daysOff||[])}else O([])},[A,l,d,n]);const V=N=>{O(j=>j.includes(N)?j.filter(I=>I!==N):[...j,N].sort((I,z)=>I-z))},D=async()=>{if(!A)return t("","error");try{const N=`${A}_${l}_${parseInt(d)}`;await Hn(lt(qe,"artifacts",ze,"public","data","therapist_schedules",N),{therapistId:A,year:l,month:parseInt(d),daysOff:S,updatedAt:Qu()},{merge:!0}),t("","success")}catch{t("","error")}},L=(N,j)=>new Date(N,j,0).getDate();return m.jsx($r,{children:m.jsx(It,{title:"",subtitle:" ()",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(gA,{size:12}),"  ()"]}),m.jsxs("select",{value:p,onChange:N=>{g(N.target.value),w(""),E("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),Object.keys(s).map(N=>m.jsxs("option",{value:N,children:[N,""]},N))]})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(Ii,{size:12})," "]}),m.jsxs("select",{value:b,onChange:N=>{w(N.target.value),E("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),M.map(N=>m.jsxs("option",{value:N,children:[N,""]},N))]})]}),m.jsxs("div",{className:"flex-1 w-full",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[m.jsx(pc,{size:12})," "]}),m.jsxs("select",{value:A,onChange:N=>E(N.target.value),disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[m.jsx("option",{value:"",children:"..."}),R.map(N=>m.jsx("option",{value:N.id,children:N.name},N.id))]})]}),m.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[m.jsxs("div",{className:"w-1/2 md:w-24",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsxs("select",{value:l,onChange:N=>u(N.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[m.jsx("option",{value:"2024",children:"2024"}),m.jsx("option",{value:"2025",children:"2025"}),m.jsx("option",{value:"2026",children:"2026"})]})]}),m.jsxs("div",{className:"w-1/2 md:w-24",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),m.jsx("select",{value:d,onChange:N=>h(N.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(N,j)=>j+1).map(N=>m.jsxs("option",{value:N,children:[N,""]},N))})]})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:D,disabled:!A,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[m.jsx(Fy,{size:18})," "]})}),A?m.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[m.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(N=>m.jsx("div",{className:"text-xs font-bold text-stone-400",children:N},N))}),m.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(l,d-1,1).getDay()}).map((N,j)=>m.jsx("div",{},`empty-${j}`)),Array.from({length:L(l,d)}).map((N,j)=>{const I=j+1,z=S.includes(I);return m.jsxs("button",{onClick:()=>V(I),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${z?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[I,z&&m.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},I)})]}),m.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):m.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:m.jsx(Ks,{size:32,className:"opacity-20"})}),m.jsx("p",{children:"  >  >  "})]})]})})})};function nfe(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[i,s]=_.useState(null),[l,u]=_.useState(!0),[d,h]=_.useState("dashboard"),[p,g]=_.useState(!0),[b,w]=_.useState(null),[A,E]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[S,O]=_.useState(""),[M,R]=_.useState([]),[V,D]=_.useState({}),[L,N]=_.useState({newASP:3500,trafficASP:1200}),[j,I]=_.useState(Ide),[z,k]=_.useState([]),[$,U]=_.useState({}),[ce,pe]=_.useState(vz),[K,Z]=_.useState([]),[W,oe]=_.useState({password:"0000"}),[xe,F]=_.useState([]),[X,ue]=_.useState({}),[ge,je]=_.useState({}),[se,we]=_.useState(!1),[Ue,le]=_.useState(15),Re=_.useRef(Date.now()),[Be,be]=_.useState(new Date().getFullYear().toString()),[St,We]=_.useState((new Date().getMonth()+1).toString()),[Kt,Et]=_.useState(()=>yz(new Date)),tn=H=>(H||"").replace(/CYJ|/g,"").trim(),lr=_.useCallback(async(H,ye,Se,Le)=>{let yt="PC";if(typeof navigator<"u"){const Mt=navigator.userAgent.toLowerCase();Mt.includes("android")?yt="Android":Mt.includes("iphone")||Mt.includes("ipad")?yt="iOS":Mt.includes("mobile")&&(yt="Mobile")}try{await fS(ri(qe,"artifacts",ze,"public","data","system_logs"),{timestamp:Qu(),role:H,user:ye,action:Se,details:Le,device:yt})}catch(Mt){console.error("Failed to log activity",Mt)}},[]),At=_.useCallback(async(H="")=>{const ye=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&lr(n,ye,"",H),we(!1),le(15),Re.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),h("dashboard")},[i,n,lr]),Ut=_.useCallback(()=>{n&&(Re.current=Date.now(),se&&(we(!1),le(15)))},[n,se]);_.useEffect(()=>{let H=null;return n&&(H=setInterval(()=>{const Se=Date.now()-Re.current,Le=165*1e3,yt=180*1e3;if(Se>yt)clearInterval(H),At(" 3 ");else if(Se>Le){se||we(!0);const Mt=Math.ceil((yt-Se)/1e3);le(Mt>0?Mt:0)}else se&&we(!1)},1e3)),()=>{H&&clearInterval(H)}},[n,se,At]),_.useEffect(()=>{if(n){const H=["mousemove","mousedown","keypress","scroll","touchstart","click"];let ye;const Se=()=>{ye||(Ut(),ye=setTimeout(()=>{ye=null},500))};return H.forEach(Le=>window.addEventListener(Le,Se)),Re.current=Date.now(),()=>{H.forEach(Le=>window.removeEventListener(Le,Se))}}},[n,Ut]),_.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await PU(ax,__initial_auth_token):await NU(ax)}catch(ye){console.warn("Auth Error:",ye)}})(),DU(ax,ye=>{e(ye),u(!1)})),[]),_.useEffect(()=>{if(!t)return;const H=ni(Ou(ri(qe,"artifacts",ze,"public","data","daily_reports"),Sg("date","desc")),Qe=>R(Qe.docs.map(Zt=>({id:Zt.id,...Zt.data()})))),ye=ni(ri(qe,"artifacts",ze,"public","data","monthly_targets"),Qe=>{const Zt={};Qe.docs.forEach(Ir=>Zt[Ir.id]=Ir.data()),D(Zt)}),Se=ni(lt(qe,"artifacts",ze,"public","data","global_settings","kpi_targets"),Qe=>Qe.exists()&&N(Qe.data())),Le=ni(lt(qe,"artifacts",ze,"public","data","global_settings","org_structure"),Qe=>Qe.exists()&&I(Qe.data().managers)),yt=ni(lt(qe,"artifacts",ze,"public","data","global_settings","store_account_data"),Qe=>Qe.exists()&&k(Qe.data().accounts)),Mt=ni(lt(qe,"artifacts",ze,"public","data","global_settings","manager_auth"),Qe=>Qe.exists()&&U(Qe.data())),Kr=ni(lt(qe,"artifacts",ze,"public","data","global_settings","permissions"),Qe=>Qe.exists()&&pe(Qe.data())),cd=ni(ri(qe,"artifacts",ze,"public","data","therapists"),Qe=>Z(Qe.docs.map(Zt=>({id:Zt.id,...Zt.data()})))),gc=ni(Ou(ri(qe,"artifacts",ze,"public","data","therapist_daily_reports"),Sg("date","desc"),$M(1e3)),Qe=>F(Qe.docs.map(Zt=>({id:Zt.id,...Zt.data()})))),di=ni(ri(qe,"artifacts",ze,"public","data","therapist_schedules"),Qe=>{const Zt={};Qe.docs.forEach(Ir=>Zt[Ir.id]=Ir.data()),ue(Zt)}),Ka=ni(ri(qe,"artifacts",ze,"public","data","therapist_targets"),Qe=>{const Zt={};Qe.docs.forEach(Ir=>Zt[Ir.id]=Ir.data()),je(Zt)}),ud=ni(lt(qe,"artifacts",ze,"public","data","global_settings","trainer_auth"),Qe=>{Qe.exists()?oe(Qe.data()):oe({password:"0000"})});return()=>{H(),ye(),Se(),Le(),yt(),Mt(),Kr(),cd(),gc(),di(),Ka(),ud()}},[t]);const ui=(H,ye=null)=>{let Se=ye;if(H==="therapist"&&ye?.name){const yt=K.find(Mt=>Mt.name===ye.name);yt&&(Se={...ye,...yt,id:yt.id||ye.id})}r(H),Se&&s(Se);const Le=Se?.name||(H==="director"?"":H==="trainer"?"":"");lr(H,Le,"",""),h("dashboard")},Fa=async(H,ye)=>{try{const Se=z.map(Le=>Le.id===H?{...Le,password:ye}:Le);return await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","store_account_data"),{accounts:Se}),!0}catch{return!1}},na=async(H,ye)=>{try{return await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","manager_auth"),{[H]:ye},{merge:!0}),!0}catch{return!1}},un=async(H,ye)=>{try{return await Eg(lt(qe,"artifacts",ze,"public","data","therapists",H),{password:ye}),!0}catch(Se){return console.error(Se),!1}},Fr=async H=>{try{return await Hn(lt(qe,"artifacts",ze,"public","data","global_settings","trainer_auth"),{password:H}),!0}catch(ye){return console.error(ye),!1}},Mi=_.useCallback(H=>{h("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:H}))},[]),Li=_.useMemo(()=>{if(n===Pn.TRAINER.id)return[];if(n===Pn.STORE.id&&i){const H=(i.stores||[i.storeName]).map(ye=>ye&&ye.startsWith("CYJ")?ye:`CYJ${ye}`);return M.filter(ye=>H.includes(ye.storeName))}if(n===Pn.MANAGER.id&&i){const H=(j[i.name]||[]).map(ye=>`CYJ${ye}`);return M.filter(ye=>H.includes(ye.storeName))}return M},[M,n,i,j]),Hr=_.useMemo(()=>{if(n===Pn.DIRECTOR.id||n===Pn.TRAINER.id)return xe;if(n===Pn.MANAGER.id&&i){const H=j[i.name]||[];return xe.filter(ye=>H.includes(tn(ye.storeName)))}if(n===Pn.STORE.id&&i){const H=(i.stores||[i.storeName]).map(tn);return xe.filter(ye=>H.includes(tn(ye.storeName)))}return n===Pn.THERAPIST.id&&i?xe.filter(H=>H.therapistId===i.id):[]},[xe,n,i,j]),Gs=_.useMemo(()=>{if(n===Pn.DIRECTOR.id||n===Pn.TRAINER.id)return K;if(n===Pn.MANAGER.id&&i){const H=j[i.name]||[];return K.filter(ye=>H.includes(tn(ye.store)))}if(n===Pn.STORE.id&&i){const H=(i.stores||[i.storeName]).map(tn);return K.filter(ye=>H.includes(tn(ye.store)))}return n===Pn.THERAPIST.id&&i?K.filter(H=>H.id===i.id):[]},[K,n,i,j]),ra=_.useMemo(()=>{if(n===Pn.TRAINER.id)return j;if(n===Pn.MANAGER.id&&i){const H=j[i.name]||[];return{[i.name]:H}}if(n===Pn.STORE.id&&i){const H=i.stores||(i.storeName?[i.storeName]:[]),ye={};return Object.entries(j).forEach(([Se,Le])=>{const yt=Le.filter(Mt=>H.includes(Mt));yt.length>0&&(ye[Se]=yt)}),ye}return j},[j,n,i]),ia=Xde(Li,ra,V,Be,St),Ys=(H,ye="info")=>w({message:H,type:ye}),xr=_.useCallback((H,ye,Se)=>E({isOpen:!0,title:H,message:ye,onConfirm:()=>{Se(),E(Le=>({...Le,isOpen:!1}))}}),[]),dn=()=>E(H=>({...H,isOpen:!1})),cr=H=>`$${(H||0).toLocaleString()}`,Bt=H=>(H||0).toLocaleString(),Ha=_.useMemo(()=>Object.values(j).flat().map(H=>`CYJ${H}`),[j]),aa=_.useMemo(()=>({user:t,loading:l,analytics:ia,managers:ra,budgets:V,targets:L,rawData:Li,allReports:M,showToast:Ys,openConfirm:xr,fmtMoney:cr,fmtNum:Bt,inputDate:Kt,setInputDate:Et,storeList:ia?.storeList||[],setTargets:N,selectedYear:Be,selectedMonth:St,permissions:ce,storeAccounts:z,managerAuth:$,currentUser:i,userRole:n,logActivity:lr,handleUpdateStorePassword:Fa,handleUpdateManagerPassword:na,handleUpdateTherapistPassword:un,navigateToStore:Mi,activeView:d,appId:ze,therapists:Gs,therapistReports:Hr,therapistSchedules:X,therapistTargets:ge,trainerAuth:W,handleUpdateTrainerAuth:Fr}),[t,l,ia,ra,V,L,Li,M,Kt,Be,St,ce,z,$,i,n,lr,Fa,na,un,Mi,d,ze,Gs,Hr,X,ge,W,Fr]);return l?m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[m.jsx(Do,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),m.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?m.jsx(Or.Provider,{value:aa,children:m.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[m.jsx(Dde,{activeView:d,setActiveView:h,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>At(),permissions:ce,currentUser:i}),m.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[m.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:m.jsx(Gue,{size:24})}),m.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[m.jsx("span",{className:"text-amber-600",children:""})," ",uc.find(H=>H.id===d)?.label||(d==="targets"?"":"DRCYJ System")]}),m.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[m.jsx(sz,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),m.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[m.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[m.jsx(vA,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"...",value:S,onChange:H=>O(H.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),S&&m.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:Ha.filter(H=>H.includes(S)).length>0?Ha.filter(H=>H.includes(S)).map(H=>m.jsxs("button",{onClick:()=>{Mi(H),O("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[m.jsx(Ii,{size:16,className:"text-stone-400"})," ",H]},H)):m.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),m.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[m.jsx(lz,{size:16,className:"text-stone-400 hidden sm:block"}),m.jsx("select",{value:Be,onChange:H=>be(H.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(H=>m.jsx("option",{value:H,children:H},H))}),m.jsx("select",{value:St,onChange:H=>We(H.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(H,ye)=>ye+1).map(H=>m.jsxs("option",{value:H,children:[H,""]},H))})]})]})]}),m.jsx(Mde,{activeView:d,setActiveView:h,permissions:ce,userRole:n,onLogout:()=>At()}),m.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[d==="dashboard"&&m.jsx(zde,{}),d==="regional"&&m.jsx(Fde,{}),d==="ranking"&&m.jsx(Hde,{}),d==="audit"&&m.jsx(Wde,{}),d==="history"&&m.jsx(qde,{}),d==="input"&&m.jsx($de,{}),d==="logs"&&m.jsx(Gde,{}),d==="settings"&&m.jsx(Yde,{}),d==="annual"&&m.jsx(Zde,{}),d==="store-analysis"&&m.jsx(Kde,{}),d==="targets"&&m.jsx(Jde,{}),d==="t-targets"&&m.jsx(efe,{}),d==="t-schedule"&&m.jsx(tfe,{})]})]}),b&&m.jsx(Rde,{message:b.message,type:b.type,onClose:()=>w(null)}),m.jsx(kde,{isOpen:A.isOpen,title:A.title,message:A.message,onConfirm:A.onConfirm,onCancel:dn}),se&&m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[m.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[m.jsx(_ue,{size:40,className:"animate-pulse"})," "]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),m.jsxs("p",{className:"text-stone-500 font-medium",children:["",m.jsx("br",{})," ",m.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:Ue})," "]})]}),m.jsx("button",{onClick:Ut,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):m.jsx(Lde,{onLogin:ui,storeAccounts:z,managers:j,managerAuth:$,therapists:K,onUpdatePassword:Fa,onUpdateManagerPassword:na,onUpdateTherapistPassword:un,trainerAuth:W,handleUpdateTrainerAuth:Fr})}s9.createRoot(document.getElementById("root")).render(m.jsx(_.StrictMode,{children:m.jsx(nfe,{})}));
