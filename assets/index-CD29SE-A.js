function E8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ha(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bx={exports:{}},If={};var LN;function A8(){if(LN)return If;LN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return If.Fragment=e,If.jsx=n,If.jsxs=n,If}var zN;function T8(){return zN||(zN=1,bx.exports=A8()),bx.exports}var d=T8(),xx={exports:{}},Ye={};var VN;function j8(){if(VN)return Ye;VN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function C(V,Q,X){this.props=V,this.context=Q,this.refs=A,this.updater=X||S}C.prototype.isReactComponent={},C.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=C.prototype;function L(V,Q,X){this.props=V,this.context=Q,this.refs=A,this.updater=X||S}var q=L.prototype=new $;q.constructor=L,E(q,C.prototype),q.isPureReactComponent=!0;var U=Array.isArray;function z(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function k(V,Q,X){var W=X.ref;return{$$typeof:t,type:V,key:Q,ref:W!==void 0?W:null,props:X}}function P(V,Q){return k(V.type,Q,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function D(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(X){return Q[X]})}var M=/\/+/g;function se(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Q.toString(36)}function Y(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(z,z):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Q,X,W,me){var pe=typeof V;(pe==="undefined"||pe==="boolean")&&(V=null);var de=!1;if(V===null)de=!0;else switch(pe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(V.$$typeof){case t:case e:de=!0;break;case p:return de=V._init,G(de(V._payload),Q,X,W,me)}}if(de)return me=me(V),de=W===""?"."+se(V,0):W,U(me)?(X="",de!=null&&(X=de.replace(M,"$&/")+"/"),G(me,Q,X,"",function(Se){return Se})):me!=null&&(I(me)&&(me=P(me,X+(me.key==null||V&&V.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+de)),Q.push(me)),1;de=0;var ye=W===""?".":W+":";if(U(V))for(var ne=0;ne<V.length;ne++)W=V[ne],pe=ye+se(W,ne),de+=G(W,Q,X,pe,me);else if(ne=_(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(W=V.next()).done;)W=W.value,pe=ye+se(W,ne++),de+=G(W,Q,X,pe,me);else if(pe==="object"){if(typeof V.then=="function")return G(Y(V),Q,X,W,me);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return de}function K(V,Q,X){if(V==null)return V;var W=[],me=0;return G(V,W,"","",function(pe){return Q.call(X,pe,me++)}),W}function ee(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(X){(V._status===0||V._status===-1)&&(V._status=1,V._result=X)},function(X){(V._status===0||V._status===-1)&&(V._status=2,V._result=X)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var Z=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},re={map:K,forEach:function(V,Q,X){K(V,function(){Q.apply(this,arguments)},X)},count:function(V){var Q=0;return K(V,function(){Q++}),Q},toArray:function(V){return K(V,function(Q){return Q})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ye.Activity=g,Ye.Children=re,Ye.Component=C,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=L,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Ye.cache=function(V){return function(){return V.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(V,Q,X){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=E({},V.props),me=V.key;if(Q!=null)for(pe in Q.key!==void 0&&(me=""+Q.key),Q)!j.call(Q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Q.ref===void 0||(W[pe]=Q[pe]);var pe=arguments.length-2;if(pe===1)W.children=X;else if(1<pe){for(var de=Array(pe),ye=0;ye<pe;ye++)de[ye]=arguments[ye+2];W.children=de}return k(V.type,me,W)},Ye.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},Ye.createElement=function(V,Q,X){var W,me={},pe=null;if(Q!=null)for(W in Q.key!==void 0&&(pe=""+Q.key),Q)j.call(Q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(me[W]=Q[W]);var de=arguments.length-2;if(de===1)me.children=X;else if(1<de){for(var ye=Array(de),ne=0;ne<de;ne++)ye[ne]=arguments[ne+2];me.children=ye}if(V&&V.defaultProps)for(W in de=V.defaultProps,de)me[W]===void 0&&(me[W]=de[W]);return k(V,pe,me)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(V){return{$$typeof:u,render:V}},Ye.isValidElement=I,Ye.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:ee}},Ye.memo=function(V,Q){return{$$typeof:h,type:V,compare:Q===void 0?null:Q}},Ye.startTransition=function(V){var Q=N.T,X={};N.T=X;try{var W=V(),me=N.S;me!==null&&me(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(z,Z)}catch(pe){Z(pe)}finally{Q!==null&&X.types!==null&&(Q.types=X.types),N.T=Q}},Ye.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ye.use=function(V){return N.H.use(V)},Ye.useActionState=function(V,Q,X){return N.H.useActionState(V,Q,X)},Ye.useCallback=function(V,Q){return N.H.useCallback(V,Q)},Ye.useContext=function(V){return N.H.useContext(V)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(V,Q){return N.H.useDeferredValue(V,Q)},Ye.useEffect=function(V,Q){return N.H.useEffect(V,Q)},Ye.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Ye.useId=function(){return N.H.useId()},Ye.useImperativeHandle=function(V,Q,X){return N.H.useImperativeHandle(V,Q,X)},Ye.useInsertionEffect=function(V,Q){return N.H.useInsertionEffect(V,Q)},Ye.useLayoutEffect=function(V,Q){return N.H.useLayoutEffect(V,Q)},Ye.useMemo=function(V,Q){return N.H.useMemo(V,Q)},Ye.useOptimistic=function(V,Q){return N.H.useOptimistic(V,Q)},Ye.useReducer=function(V,Q,X){return N.H.useReducer(V,Q,X)},Ye.useRef=function(V){return N.H.useRef(V)},Ye.useState=function(V){return N.H.useState(V)},Ye.useSyncExternalStore=function(V,Q,X){return N.H.useSyncExternalStore(V,Q,X)},Ye.useTransition=function(){return N.H.useTransition()},Ye.version="19.2.3",Ye}var $N;function sd(){return $N||($N=1,xx.exports=j8()),xx.exports}var x=sd();const VM=ha(x),N8=E8({__proto__:null,default:VM},[x]);var wx={exports:{}},Rf={},_x={exports:{}},Sx={};var UN;function C8(){return UN||(UN=1,(function(t){function e(G,K){var ee=G.length;G.push(K);e:for(;0<ee;){var Z=ee-1>>>1,re=G[Z];if(0<i(re,K))G[Z]=K,G[ee]=re,ee=Z;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],ee=G.pop();if(ee!==K){G[0]=ee;e:for(var Z=0,re=G.length,V=re>>>1;Z<V;){var Q=2*(Z+1)-1,X=G[Q],W=Q+1,me=G[W];if(0>i(X,ee))W<re&&0>i(me,X)?(G[Z]=me,G[W]=ee,Z=W):(G[Z]=X,G[Q]=ee,Z=Q);else if(W<re&&0>i(me,ee))G[Z]=me,G[W]=ee,Z=W;else break e}}return K}function i(G,K){var ee=G.sortIndex-K.sortIndex;return ee!==0?ee:G.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],p=1,g=null,b=3,_=!1,S=!1,E=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(G){for(var K=n(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=G)r(h),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(h)}}function U(G){if(E=!1,q(G),!S)if(n(f)!==null)S=!0,z||(z=!0,D());else{var K=n(h);K!==null&&Y(U,K.startTime-G)}}var z=!1,N=-1,j=5,k=-1;function P(){return A?!0:!(t.unstable_now()-k<j)}function I(){if(A=!1,z){var G=t.unstable_now();k=G;var K=!0;try{e:{S=!1,E&&(E=!1,$(N),N=-1),_=!0;var ee=b;try{t:{for(q(G),g=n(f);g!==null&&!(g.expirationTime>G&&P());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,b=g.priorityLevel;var re=Z(g.expirationTime<=G);if(G=t.unstable_now(),typeof re=="function"){g.callback=re,q(G),K=!0;break t}g===n(f)&&r(f),q(G)}else r(f);g=n(f)}if(g!==null)K=!0;else{var V=n(h);V!==null&&Y(U,V.startTime-G),K=!1}}break e}finally{g=null,b=ee,_=!1}K=void 0}}finally{K?D():z=!1}}}var D;if(typeof L=="function")D=function(){L(I)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,se=M.port2;M.port1.onmessage=I,D=function(){se.postMessage(null)}}else D=function(){C(I,0)};function Y(G,K){N=C(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(G){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var ee=b;b=K;try{return G()}finally{b=ee}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=b;b=G;try{return K()}finally{b=ee}},t.unstable_scheduleCallback=function(G,K,ee){var Z=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,G){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ee+re,G={id:p++,callback:K,priorityLevel:G,startTime:ee,expirationTime:re,sortIndex:-1},ee>Z?(G.sortIndex=ee,e(h,G),n(f)===null&&G===n(h)&&(E?($(N),N=-1):E=!0,Y(U,ee-Z))):(G.sortIndex=re,e(f,G),S||_||(S=!0,z||(z=!0,D()))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var K=b;return function(){var ee=b;b=K;try{return G.apply(this,arguments)}finally{b=ee}}}})(Sx)),Sx}var BN;function O8(){return BN||(BN=1,_x.exports=C8()),_x.exports}var Ex={exports:{}},wr={};var qN;function P8(){if(qN)return wr;qN=1;var t=sd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},wr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},wr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},wr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},wr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},wr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},wr.requestFormReset=function(f){r.d.r(f)},wr.unstable_batchedUpdates=function(f,h){return f(h)},wr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},wr.version="19.2.3",wr}var FN;function $M(){if(FN)return Ex.exports;FN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ex.exports=P8(),Ex.exports}var HN;function I8(){if(HN)return Rf;HN=1;var t=O8(),e=sd(),n=$M();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return f(y),a;if(w===m)return f(y),o;w=w.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=w;else{for(var O=!1,B=y.child;B;){if(B===c){O=!0,c=y,m=w;break}if(B===m){O=!0,m=y,c=w;break}B=B.sibling}if(!O){for(B=w.child;B;){if(B===c){O=!0,c=w,m=y;break}if(B===m){O=!0,m=w,c=y;break}B=B.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case z:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case L:return a.displayName||"Context";case $:return(a._context.displayName||"Context")+".Consumer";case q:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:se(a.type)||"Memo";case j:o=a._payload,a=a._init;try{return se(a(o))}catch{}}return null}var Y=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Z=[],re=-1;function V(a){return{current:a}}function Q(a){0>re||(a.current=Z[re],Z[re]=null,re--)}function X(a,o){re++,Z[re]=a.current,a.current=o}var W=V(null),me=V(null),pe=V(null),de=V(null);function ye(a,o){switch(X(pe,o),X(me,a),X(W,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?sN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=sN(o),a=oN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(W),X(W,a)}function ne(){Q(W),Q(me),Q(pe)}function Se(a){a.memoizedState!==null&&X(de,a);var o=W.current,c=oN(o,a.type);o!==c&&(X(me,a),X(W,c))}function je(a){me.current===a&&(Q(W),Q(me)),de.current===a&&(Q(de),Nf._currentValue=ee)}var oe,he;function Pe(a){if(oe===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);oe=o&&o[1]||"",he=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+a+he}var Be=!1;function Ze(a,o){if(!a||Be)return"";Be=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ve){var fe=ve}Reflect.construct(a,[],_e)}else{try{_e.call()}catch(ve){fe=ve}a.call(_e.prototype)}}else{try{throw Error()}catch(ve){fe=ve}(_e=a())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ve){if(ve&&fe&&typeof ve.stack=="string")return[ve.stack,fe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),O=w[0],B=w[1];if(O&&B){var J=O.split(`
`),ue=B.split(`
`);for(y=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ue.length&&!ue[y].includes("DetermineComponentFrameRoot");)y++;if(m===J.length||y===ue.length)for(m=J.length-1,y=ue.length-1;1<=m&&0<=y&&J[m]!==ue[y];)y--;for(;1<=m&&0<=y;m--,y--)if(J[m]!==ue[y]){if(m!==1||y!==1)do if(m--,y--,0>y||J[m]!==ue[y]){var be=`
`+J[m].replace(" at new "," at ");return a.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",a.displayName)),be}while(1<=m&&0<=y);break}}}finally{Be=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Pe(c):""}function fn(a,o){switch(a.tag){case 26:case 27:case 5:return Pe(a.type);case 16:return Pe("Lazy");case 13:return a.child!==o&&o!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Ze(a.type,!1);case 11:return Ze(a.type.render,!1);case 1:return Ze(a.type,!0);case 31:return Pe("Activity");default:return""}}function ti(a){try{var o="",c=null;do o+=fn(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ot=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,bi=t.unstable_shouldYield,xi=t.unstable_requestPaint,Mn=t.unstable_now,ni=t.unstable_getCurrentPriorityLevel,as=t.unstable_ImmediatePriority,nr=t.unstable_UserBlockingPriority,rr=t.unstable_NormalPriority,ga=t.unstable_LowPriority,va=t.unstable_IdlePriority,co=t.log,ya=t.unstable_setDisableYieldValue,ir=null,on=null;function Kn(a){if(typeof co=="function"&&ya(a),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(ir,a)}catch{}}var Ft=Math.clz32?Math.clz32:ss,ba=Math.log,wi=Math.LN2;function ss(a){return a>>>=0,a===0?32:31-(ba(a)/wi|0)|0}var Or=256,ri=262144,en=4194304;function xr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function zr(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,w=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var B=m&134217727;return B!==0?(m=B&~w,m!==0?y=xr(m):(O&=B,O!==0?y=xr(O):c||(c=B&~a,c!==0&&(y=xr(c))))):(B=m&~w,B!==0?y=xr(B):O!==0?y=xr(O):c||(c=m&~a,c!==0&&(y=xr(c)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:y}function Pr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function El(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(){var a=en;return en<<=1,(en&62914560)===0&&(en=4194304),a}function Vr(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function _i(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Al(a,o,c,m,y,w){var O=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var B=a.entanglements,J=a.expirationTimes,ue=a.hiddenUpdates;for(c=O&~c;0<c;){var be=31-Ft(c),_e=1<<be;B[be]=0,J[be]=-1;var fe=ue[be];if(fe!==null)for(ue[be]=null,be=0;be<fe.length;be++){var ve=fe[be];ve!==null&&(ve.lane&=-536870913)}c&=~_e}m!==0&&Ae(a,m,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(O&~o))}function Ae(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-Ft(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function H(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-Ft(c),y=1<<m;y&o|a[m]&o&&(a[m]|=o),c&=~y}}function Ee(a,o){var c=o&-o;return c=(c&42)!==0?1:Ne(c),(c&(a.suspendedLanes|o))!==0?0:c}function Ne(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Oe(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function We(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:ON(a.type))}function mt(a,o){var c=K.p;try{return K.p=a,o()}finally{K.p=c}}var ar=Math.random().toString(36).slice(2),tn="__reactFiber$"+ar,Et="__reactProps$"+ar,Si="__reactContainer$"+ar,fo="__reactEvents$"+ar,Rd="__reactListeners$"+ar,rt="__reactHandles$"+ar,Wt="__reactResources$"+ar,hn="__reactMarker$"+ar;function Yi(a){delete a[tn],delete a[Et],delete a[fo],delete a[Rd],delete a[rt]}function xa(a){var o=a[tn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Si]||c[tn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=mN(a);a!==null;){if(c=a[tn])return c;a=mN(a)}return o}a=c,c=a.parentNode}return null}function Ei(a){if(a=a[tn]||a[Si]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ii(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function wa(a){var o=a[Wt];return o||(o=a[Wt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Sn(a){a[hn]=!0}var kd=new Set,Md={};function _a(a,o){Sa(a,o),Sa(a+"Capture",o)}function Sa(a,o){for(Md[a]=o,a=0;a<o.length;a++)kd.add(o[a])}var Dd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ld={},zd={};function Rm(a){return Ot.call(zd,a)?!0:Ot.call(Ld,a)?!1:Dd.test(a)?zd[a]=!0:(Ld[a]=!0,!1)}function Dc(a,o,c){if(Rm(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function ai(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function En(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function Yn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ho(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Vd(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,w=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(O){c=""+O,w.call(this,O)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function At(a){if(!a._valueTracker){var o=ho(a)?"checked":"value";a._valueTracker=Vd(a,o,""+a[o])}}function Tl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=ho(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function Ea(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var jl=/[\n"\\]/g;function $r(a){return a.replace(jl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Lc(a,o,c,m,y,w,O,B){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),o!=null?O==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Yn(o)):a.value!==""+Yn(o)&&(a.value=""+Yn(o)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),o!=null?$d(a,O,Yn(o)):c!=null?$d(a,O,Yn(c)):m!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.name=""+Yn(B):a.removeAttribute("name")}function km(a,o,c,m,y,w,O,B){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){At(a);return}c=c!=null?""+Yn(c):"",o=o!=null?""+Yn(o):c,B||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=B?a.checked:!!m,a.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),At(a)}function $d(a,o,c){o==="number"&&Ea(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function mo(a,o,c,m){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+Yn(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Mm(a,o,c){if(o!=null&&(o=""+Yn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Yn(c):""}function po(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(Y(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=Yn(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),At(a)}function Ur(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var Dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ud(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||Dm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Bd(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&Ud(a,y,m)}else for(var w in o)o.hasOwnProperty(w)&&Ud(a,w,o[w])}function zc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),go=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vc(a){return go.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Gi(){}var qd=null;function Ai(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var vo=null,Aa=null;function Nl(a){var o=Ei(a);if(o&&(a=o.stateNode)){var c=a[Et]||null;e:switch(a=o.stateNode,o.type){case"input":if(Lc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+$r(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var y=m[Et]||null;if(!y)throw Error(r(90));Lc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&Tl(m)}break e;case"textarea":Mm(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&mo(a,!!c.multiple,o,!1)}}}var $c=!1;function yo(a,o,c){if($c)return a(o,c);$c=!0;try{var m=a(o);return m}finally{if($c=!1,(vo!==null||Aa!==null)&&(Op(),vo&&(o=vo,a=Aa,Aa=vo=null,Nl(o),a)))for(o=0;o<a.length;o++)Nl(a[o])}}function Wi(a,o){var c=a.stateNode;if(c===null)return null;var m=c[Et]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(Ti)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Cl=!1}var Ta=null,Fd=null,Ol=null;function Hd(){if(Ol)return Ol;var a,o=Fd,c=o.length,m,y="value"in Ta?Ta.value:Ta.textContent,w=y.length;for(a=0;a<c&&o[a]===y[a];a++);var O=c-a;for(m=1;m<=O&&o[c-m]===y[w-m];m++);return Ol=y.slice(a,1<m?1-m:void 0)}function Pl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function os(){return!0}function Xi(){return!1}function sr(a){function o(c,m,y,w,O){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(c=a[B],this[B]=c?c(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?os:Xi,this.isPropagationStopped=Xi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),o}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=sr(ls),bo=g({},ls,{view:0,detail:0}),Kd=sr(bo),xo,Uc,Na,Bc=g({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Na&&(Na&&a.type==="mousemove"?(xo=a.screenX-Na.screenX,Uc=a.screenY-Na.screenY):Uc=xo=0,Na=a),xo)},movementY:function(a){return"movementY"in a?a.movementY:Uc}}),Yd=sr(Bc),Il=g({},Bc,{dataTransfer:0}),zm=sr(Il),Vm=g({},bo,{relatedTarget:0}),Rl=sr(Vm),Gd=g({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),$m=sr(Gd),qc=g({},ls,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Um=sr(qc),Bm=g({},ls,{data:0}),Ca=sr(Bm),qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Hm[a])?!!o[a]:!1}function wo(){return Km}var Ir=g({},bo,{key:function(a){if(a.key){var o=qm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Pl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Fm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(a){return a.type==="keypress"?Pl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ym=sr(Ir),Gm=g({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=sr(Gm),v=g({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),T=sr(v),R=g({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=sr(R),le=g({},Bc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=sr(le),Ce=g({},ls,{newState:0,oldState:0}),Qe=sr(Ce),vn=[9,13,27,32],bt=Ti&&"CompositionEvent"in window,nn=null;Ti&&"documentMode"in document&&(nn=document.documentMode);var ji=Ti&&"TextEvent"in window&&!nn,Oa=Ti&&(!bt||nn&&8<nn&&11>=nn),Qi=" ",Ji=!1;function kl(a,o){switch(a){case"keyup":return vn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hc=!1;function G9(a,o){switch(a){case"compositionend":return Fc(o);case"keypress":return o.which!==32?null:(Ji=!0,Qi);case"textInput":return a=o.data,a===Qi&&Ji?null:a;default:return null}}function W9(a,o){if(Hc)return a==="compositionend"||!bt&&kl(a,o)?(a=Hd(),Ol=Fd=Ta=null,Hc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oa&&o.locale!=="ko"?null:o.data;default:return null}}var X9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vT(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!X9[a.type]:o==="textarea"}function yT(a,o,c,m){vo?Aa?Aa.push(m):Aa=[m]:vo=m,o=Lp(o,"onChange"),0<o.length&&(c=new ja("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var Wd=null,Xd=null;function Q9(a){eN(a,0)}function Wm(a){var o=ii(a);if(Tl(o))return a}function bT(a,o){if(a==="change")return o}var xT=!1;if(Ti){var Ty;if(Ti){var jy="oninput"in document;if(!jy){var wT=document.createElement("div");wT.setAttribute("oninput","return;"),jy=typeof wT.oninput=="function"}Ty=jy}else Ty=!1;xT=Ty&&(!document.documentMode||9<document.documentMode)}function _T(){Wd&&(Wd.detachEvent("onpropertychange",ST),Xd=Wd=null)}function ST(a){if(a.propertyName==="value"&&Wm(Xd)){var o=[];yT(o,Xd,a,Ai(a)),yo(Q9,o)}}function J9(a,o,c){a==="focusin"?(_T(),Wd=o,Xd=c,Wd.attachEvent("onpropertychange",ST)):a==="focusout"&&_T()}function Z9(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wm(Xd)}function eV(a,o){if(a==="click")return Wm(o)}function tV(a,o){if(a==="input"||a==="change")return Wm(o)}function nV(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var si=typeof Object.is=="function"?Object.is:nV;function Qd(a,o){if(si(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!Ot.call(o,y)||!si(a[y],o[y]))return!1}return!0}function ET(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function AT(a,o){var c=ET(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ET(c)}}function TT(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?TT(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function jT(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ea(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Ea(a.document)}return o}function Ny(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var rV=Ti&&"documentMode"in document&&11>=document.documentMode,Kc=null,Cy=null,Jd=null,Oy=!1;function NT(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Oy||Kc==null||Kc!==Ea(m)||(m=Kc,"selectionStart"in m&&Ny(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Jd&&Qd(Jd,m)||(Jd=m,m=Lp(Cy,"onSelect"),0<m.length&&(o=new ja("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=Kc)))}function Ml(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Yc={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},Py={},CT={};Ti&&(CT=document.createElement("div").style,"AnimationEvent"in window||(delete Yc.animationend.animation,delete Yc.animationiteration.animation,delete Yc.animationstart.animation),"TransitionEvent"in window||delete Yc.transitionend.transition);function Dl(a){if(Py[a])return Py[a];if(!Yc[a])return a;var o=Yc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in CT)return Py[a]=o[c];return a}var OT=Dl("animationend"),PT=Dl("animationiteration"),IT=Dl("animationstart"),iV=Dl("transitionrun"),aV=Dl("transitionstart"),sV=Dl("transitioncancel"),RT=Dl("transitionend"),kT=new Map,Iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Iy.push("scrollEnd");function Zi(a,o){kT.set(a,o),_a(o,[a])}var Xm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ni=[],Gc=0,Ry=0;function Qm(){for(var a=Gc,o=Ry=Gc=0;o<a;){var c=Ni[o];Ni[o++]=null;var m=Ni[o];Ni[o++]=null;var y=Ni[o];Ni[o++]=null;var w=Ni[o];if(Ni[o++]=null,m!==null&&y!==null){var O=m.pending;O===null?y.next=y:(y.next=O.next,O.next=y),m.pending=y}w!==0&&MT(c,y,w)}}function Jm(a,o,c,m){Ni[Gc++]=a,Ni[Gc++]=o,Ni[Gc++]=c,Ni[Gc++]=m,Ry|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function ky(a,o,c,m){return Jm(a,o,c,m),Zm(a)}function Ll(a,o){return Jm(a,null,null,o),Zm(a)}function MT(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,w=a.return;w!==null;)w.childLanes|=c,m=w.alternate,m!==null&&(m.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&o!==null&&(y=31-Ft(c),a=w.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=c|536870912),w):null}function Zm(a){if(50<wf)throw wf=0,qb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Wc={};function oV(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(a,o,c,m){return new oV(a,o,c,m)}function My(a){return a=a.prototype,!(!a||!a.isReactComponent)}function us(a,o){var c=a.alternate;return c===null?(c=oi(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function DT(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function ep(a,o,c,m,y,w){var O=0;if(m=a,typeof a=="function")My(a)&&(O=1);else if(typeof a=="string")O=f8(a,c,W.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=oi(31,c,o,y),a.elementType=k,a.lanes=w,a;case E:return zl(c.children,y,w,o);case A:O=8,y|=24;break;case C:return a=oi(12,c,o,y|2),a.elementType=C,a.lanes=w,a;case U:return a=oi(13,c,o,y),a.elementType=U,a.lanes=w,a;case z:return a=oi(19,c,o,y),a.elementType=z,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:O=10;break e;case $:O=9;break e;case q:O=11;break e;case N:O=14;break e;case j:O=16,m=null;break e}O=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=oi(O,c,o,y),o.elementType=a,o.type=m,o.lanes=w,o}function zl(a,o,c,m){return a=oi(7,a,m,o),a.lanes=c,a}function Dy(a,o,c){return a=oi(6,a,null,o),a.lanes=c,a}function LT(a){var o=oi(18,null,null,0);return o.stateNode=a,o}function Ly(a,o,c){return o=oi(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var zT=new WeakMap;function Ci(a,o){if(typeof a=="object"&&a!==null){var c=zT.get(a);return c!==void 0?c:(o={value:a,source:o,stack:ti(o)},zT.set(a,o),o)}return{value:a,source:o,stack:ti(o)}}var Xc=[],Qc=0,tp=null,Zd=0,Oi=[],Pi=0,_o=null,Pa=1,Ia="";function ds(a,o){Xc[Qc++]=Zd,Xc[Qc++]=tp,tp=a,Zd=o}function VT(a,o,c){Oi[Pi++]=Pa,Oi[Pi++]=Ia,Oi[Pi++]=_o,_o=a;var m=Pa;a=Ia;var y=32-Ft(m)-1;m&=~(1<<y),c+=1;var w=32-Ft(o)+y;if(30<w){var O=y-y%5;w=(m&(1<<O)-1).toString(32),m>>=O,y-=O,Pa=1<<32-Ft(o)+y|c<<y|m,Ia=w+a}else Pa=1<<w|c<<y|m,Ia=a}function zy(a){a.return!==null&&(ds(a,1),VT(a,1,0))}function Vy(a){for(;a===tp;)tp=Xc[--Qc],Xc[Qc]=null,Zd=Xc[--Qc],Xc[Qc]=null;for(;a===_o;)_o=Oi[--Pi],Oi[Pi]=null,Ia=Oi[--Pi],Oi[Pi]=null,Pa=Oi[--Pi],Oi[Pi]=null}function $T(a,o){Oi[Pi++]=Pa,Oi[Pi++]=Ia,Oi[Pi++]=_o,Pa=o.id,Ia=o.overflow,_o=a}var or=null,Xt=null,dt=!1,So=null,Ii=!1,$y=Error(r(519));function Eo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ef(Ci(o,a)),$y}function UT(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[tn]=a,o[Et]=m,c){case"dialog":at("cancel",o),at("close",o);break;case"iframe":case"object":case"embed":at("load",o);break;case"video":case"audio":for(c=0;c<Sf.length;c++)at(Sf[c],o);break;case"source":at("error",o);break;case"img":case"image":case"link":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"input":at("invalid",o),km(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":at("invalid",o);break;case"textarea":at("invalid",o),po(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||iN(o.textContent,c)?(m.popover!=null&&(at("beforetoggle",o),at("toggle",o)),m.onScroll!=null&&at("scroll",o),m.onScrollEnd!=null&&at("scrollend",o),m.onClick!=null&&(o.onclick=Gi),o=!0):o=!1,o||Eo(a,!0)}function BT(a){for(or=a.return;or;)switch(or.tag){case 5:case 31:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:or=or.return}}function Jc(a){if(a!==or)return!1;if(!dt)return BT(a),dt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||ix(a.type,a.memoizedProps)),c=!c),c&&Xt&&Eo(a),BT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Xt=hN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Xt=hN(a)}else o===27?(o=Xt,zo(a.type)?(a=cx,cx=null,Xt=a):Xt=o):Xt=or?ki(a.stateNode.nextSibling):null;return!0}function Vl(){Xt=or=null,dt=!1}function Uy(){var a=So;return a!==null&&(Hr===null?Hr=a:Hr.push.apply(Hr,a),So=null),a}function ef(a){So===null?So=[a]:So.push(a)}var By=V(null),$l=null,fs=null;function Ao(a,o,c){X(By,o._currentValue),o._currentValue=c}function hs(a){a._currentValue=By.current,Q(By)}function qy(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function Fy(a,o,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var O=y.child;w=w.firstContext;e:for(;w!==null;){var B=w;w=y;for(var J=0;J<o.length;J++)if(B.context===o[J]){w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),qy(w.return,c,a),m||(O=null);break e}w=B.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(r(341));O.lanes|=c,w=O.alternate,w!==null&&(w.lanes|=c),qy(O,c,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function Zc(a,o,c,m){a=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var B=y.type;si(y.pendingProps.value,O.value)||(a!==null?a.push(B):a=[B])}}else if(y===de.current){if(O=y.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Nf):a=[Nf])}y=y.return}a!==null&&Fy(o,a,c,m),o.flags|=262144}function np(a){for(a=a.firstContext;a!==null;){if(!si(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ul(a){$l=a,fs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function lr(a){return qT($l,a)}function rp(a,o){return $l===null&&Ul(a),qT(a,o)}function qT(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},fs===null){if(a===null)throw Error(r(308));fs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else fs=fs.next=o;return c}var lV=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},cV=t.unstable_scheduleCallback,uV=t.unstable_NormalPriority,An={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hy(){return{controller:new lV,data:new Map,refCount:0}}function tf(a){a.refCount--,a.refCount===0&&cV(uV,function(){a.controller.abort()})}var nf=null,Ky=0,eu=0,tu=null;function dV(a,o){if(nf===null){var c=nf=[];Ky=0,eu=Wb(),tu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Ky++,o.then(FT,FT),o}function FT(){if(--Ky===0&&nf!==null){tu!==null&&(tu.status="fulfilled");var a=nf;nf=null,eu=0,tu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function fV(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var HT=G.S;G.S=function(a,o){Nj=Mn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&dV(a,o),HT!==null&&HT(a,o)};var Bl=V(null);function Yy(){var a=Bl.current;return a!==null?a:zt.pooledCache}function ip(a,o){o===null?X(Bl,Bl.current):X(Bl,o.pool)}function KT(){var a=Yy();return a===null?null:{parent:An._currentValue,pool:a}}var nu=Error(r(460)),Gy=Error(r(474)),ap=Error(r(542)),sp={then:function(){}};function YT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function GT(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Gi,Gi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,XT(a),a;default:if(typeof o.status=="string")o.then(Gi,Gi);else{if(a=zt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,XT(a),a}throw Fl=o,nu}}function ql(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Fl=c,nu):c}}var Fl=null;function WT(){if(Fl===null)throw Error(r(459));var a=Fl;return Fl=null,a}function XT(a){if(a===nu||a===ap)throw Error(r(483))}var ru=null,rf=0;function op(a){var o=rf;return rf+=1,ru===null&&(ru=[]),GT(ru,a,o)}function af(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function lp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function QT(a){function o(ie,te){if(a){var ce=ie.deletions;ce===null?(ie.deletions=[te],ie.flags|=16):ce.push(te)}}function c(ie,te){if(!a)return null;for(;te!==null;)o(ie,te),te=te.sibling;return null}function m(ie){for(var te=new Map;ie!==null;)ie.key!==null?te.set(ie.key,ie):te.set(ie.index,ie),ie=ie.sibling;return te}function y(ie,te){return ie=us(ie,te),ie.index=0,ie.sibling=null,ie}function w(ie,te,ce){return ie.index=ce,a?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<te?(ie.flags|=67108866,te):ce):(ie.flags|=67108866,te)):(ie.flags|=1048576,te)}function O(ie){return a&&ie.alternate===null&&(ie.flags|=67108866),ie}function B(ie,te,ce,we){return te===null||te.tag!==6?(te=Dy(ce,ie.mode,we),te.return=ie,te):(te=y(te,ce),te.return=ie,te)}function J(ie,te,ce,we){var $e=ce.type;return $e===E?be(ie,te,ce.props.children,we,ce.key):te!==null&&(te.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===j&&ql($e)===te.type)?(te=y(te,ce.props),af(te,ce),te.return=ie,te):(te=ep(ce.type,ce.key,ce.props,null,ie.mode,we),af(te,ce),te.return=ie,te)}function ue(ie,te,ce,we){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=Ly(ce,ie.mode,we),te.return=ie,te):(te=y(te,ce.children||[]),te.return=ie,te)}function be(ie,te,ce,we,$e){return te===null||te.tag!==7?(te=zl(ce,ie.mode,we,$e),te.return=ie,te):(te=y(te,ce),te.return=ie,te)}function _e(ie,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Dy(""+te,ie.mode,ce),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return ce=ep(te.type,te.key,te.props,null,ie.mode,ce),af(ce,te),ce.return=ie,ce;case S:return te=Ly(te,ie.mode,ce),te.return=ie,te;case j:return te=ql(te),_e(ie,te,ce)}if(Y(te)||D(te))return te=zl(te,ie.mode,ce,null),te.return=ie,te;if(typeof te.then=="function")return _e(ie,op(te),ce);if(te.$$typeof===L)return _e(ie,rp(ie,te),ce);lp(ie,te)}return null}function fe(ie,te,ce,we){var $e=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $e!==null?null:B(ie,te,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return ce.key===$e?J(ie,te,ce,we):null;case S:return ce.key===$e?ue(ie,te,ce,we):null;case j:return ce=ql(ce),fe(ie,te,ce,we)}if(Y(ce)||D(ce))return $e!==null?null:be(ie,te,ce,we,null);if(typeof ce.then=="function")return fe(ie,te,op(ce),we);if(ce.$$typeof===L)return fe(ie,te,rp(ie,ce),we);lp(ie,ce)}return null}function ve(ie,te,ce,we,$e){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ie=ie.get(ce)||null,B(te,ie,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return ie=ie.get(we.key===null?ce:we.key)||null,J(te,ie,we,$e);case S:return ie=ie.get(we.key===null?ce:we.key)||null,ue(te,ie,we,$e);case j:return we=ql(we),ve(ie,te,ce,we,$e)}if(Y(we)||D(we))return ie=ie.get(ce)||null,be(te,ie,we,$e,null);if(typeof we.then=="function")return ve(ie,te,ce,op(we),$e);if(we.$$typeof===L)return ve(ie,te,ce,rp(te,we),$e);lp(te,we)}return null}function ze(ie,te,ce,we){for(var $e=null,pt=null,Ve=te,et=te=0,ot=null;Ve!==null&&et<ce.length;et++){Ve.index>et?(ot=Ve,Ve=null):ot=Ve.sibling;var gt=fe(ie,Ve,ce[et],we);if(gt===null){Ve===null&&(Ve=ot);break}a&&Ve&&gt.alternate===null&&o(ie,Ve),te=w(gt,te,et),pt===null?$e=gt:pt.sibling=gt,pt=gt,Ve=ot}if(et===ce.length)return c(ie,Ve),dt&&ds(ie,et),$e;if(Ve===null){for(;et<ce.length;et++)Ve=_e(ie,ce[et],we),Ve!==null&&(te=w(Ve,te,et),pt===null?$e=Ve:pt.sibling=Ve,pt=Ve);return dt&&ds(ie,et),$e}for(Ve=m(Ve);et<ce.length;et++)ot=ve(Ve,ie,et,ce[et],we),ot!==null&&(a&&ot.alternate!==null&&Ve.delete(ot.key===null?et:ot.key),te=w(ot,te,et),pt===null?$e=ot:pt.sibling=ot,pt=ot);return a&&Ve.forEach(function(qo){return o(ie,qo)}),dt&&ds(ie,et),$e}function qe(ie,te,ce,we){if(ce==null)throw Error(r(151));for(var $e=null,pt=null,Ve=te,et=te=0,ot=null,gt=ce.next();Ve!==null&&!gt.done;et++,gt=ce.next()){Ve.index>et?(ot=Ve,Ve=null):ot=Ve.sibling;var qo=fe(ie,Ve,gt.value,we);if(qo===null){Ve===null&&(Ve=ot);break}a&&Ve&&qo.alternate===null&&o(ie,Ve),te=w(qo,te,et),pt===null?$e=qo:pt.sibling=qo,pt=qo,Ve=ot}if(gt.done)return c(ie,Ve),dt&&ds(ie,et),$e;if(Ve===null){for(;!gt.done;et++,gt=ce.next())gt=_e(ie,gt.value,we),gt!==null&&(te=w(gt,te,et),pt===null?$e=gt:pt.sibling=gt,pt=gt);return dt&&ds(ie,et),$e}for(Ve=m(Ve);!gt.done;et++,gt=ce.next())gt=ve(Ve,ie,et,gt.value,we),gt!==null&&(a&&gt.alternate!==null&&Ve.delete(gt.key===null?et:gt.key),te=w(gt,te,et),pt===null?$e=gt:pt.sibling=gt,pt=gt);return a&&Ve.forEach(function(S8){return o(ie,S8)}),dt&&ds(ie,et),$e}function kt(ie,te,ce,we){if(typeof ce=="object"&&ce!==null&&ce.type===E&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:e:{for(var $e=ce.key;te!==null;){if(te.key===$e){if($e=ce.type,$e===E){if(te.tag===7){c(ie,te.sibling),we=y(te,ce.props.children),we.return=ie,ie=we;break e}}else if(te.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===j&&ql($e)===te.type){c(ie,te.sibling),we=y(te,ce.props),af(we,ce),we.return=ie,ie=we;break e}c(ie,te);break}else o(ie,te);te=te.sibling}ce.type===E?(we=zl(ce.props.children,ie.mode,we,ce.key),we.return=ie,ie=we):(we=ep(ce.type,ce.key,ce.props,null,ie.mode,we),af(we,ce),we.return=ie,ie=we)}return O(ie);case S:e:{for($e=ce.key;te!==null;){if(te.key===$e)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){c(ie,te.sibling),we=y(te,ce.children||[]),we.return=ie,ie=we;break e}else{c(ie,te);break}else o(ie,te);te=te.sibling}we=Ly(ce,ie.mode,we),we.return=ie,ie=we}return O(ie);case j:return ce=ql(ce),kt(ie,te,ce,we)}if(Y(ce))return ze(ie,te,ce,we);if(D(ce)){if($e=D(ce),typeof $e!="function")throw Error(r(150));return ce=$e.call(ce),qe(ie,te,ce,we)}if(typeof ce.then=="function")return kt(ie,te,op(ce),we);if(ce.$$typeof===L)return kt(ie,te,rp(ie,ce),we);lp(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,te!==null&&te.tag===6?(c(ie,te.sibling),we=y(te,ce),we.return=ie,ie=we):(c(ie,te),we=Dy(ce,ie.mode,we),we.return=ie,ie=we),O(ie)):c(ie,te)}return function(ie,te,ce,we){try{rf=0;var $e=kt(ie,te,ce,we);return ru=null,$e}catch(Ve){if(Ve===nu||Ve===ap)throw Ve;var pt=oi(29,Ve,null,ie.mode);return pt.lanes=we,pt.return=ie,pt}}}var Hl=QT(!0),JT=QT(!1),To=!1;function Wy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function jo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function No(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(xt&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Zm(a),MT(a,null,c),o}return Jm(a,m,o,c),Zm(a)}function sf(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,H(a,c)}}function Qy(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?y=w=O:w=w.next=O,c=c.next}while(c!==null);w===null?y=w=o:w=w.next=o}else y=w=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Jy=!1;function of(){if(Jy){var a=tu;if(a!==null)throw a}}function lf(a,o,c,m){Jy=!1;var y=a.updateQueue;To=!1;var w=y.firstBaseUpdate,O=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var J=B,ue=J.next;J.next=null,O===null?w=ue:O.next=ue,O=J;var be=a.alternate;be!==null&&(be=be.updateQueue,B=be.lastBaseUpdate,B!==O&&(B===null?be.firstBaseUpdate=ue:B.next=ue,be.lastBaseUpdate=J))}if(w!==null){var _e=y.baseState;O=0,be=ue=J=null,B=w;do{var fe=B.lane&-536870913,ve=fe!==B.lane;if(ve?(st&fe)===fe:(m&fe)===fe){fe!==0&&fe===eu&&(Jy=!0),be!==null&&(be=be.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var ze=a,qe=B;fe=o;var kt=c;switch(qe.tag){case 1:if(ze=qe.payload,typeof ze=="function"){_e=ze.call(kt,_e,fe);break e}_e=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=qe.payload,fe=typeof ze=="function"?ze.call(kt,_e,fe):ze,fe==null)break e;_e=g({},_e,fe);break e;case 2:To=!0}}fe=B.callback,fe!==null&&(a.flags|=64,ve&&(a.flags|=8192),ve=y.callbacks,ve===null?y.callbacks=[fe]:ve.push(fe))}else ve={lane:fe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},be===null?(ue=be=ve,J=_e):be=be.next=ve,O|=fe;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;ve=B,B=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);be===null&&(J=_e),y.baseState=J,y.firstBaseUpdate=ue,y.lastBaseUpdate=be,w===null&&(y.shared.lanes=0),Ro|=O,a.lanes=O,a.memoizedState=_e}}function ZT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function e2(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)ZT(c[a],o)}var iu=V(null),cp=V(0);function t2(a,o){a=_s,X(cp,a),X(iu,o),_s=a|o.baseLanes}function Zy(){X(cp,_s),X(iu,iu.current)}function eb(){_s=cp.current,Q(iu),Q(cp)}var li=V(null),Ri=null;function Co(a){var o=a.alternate;X(yn,yn.current&1),X(li,a),Ri===null&&(o===null||iu.current!==null||o.memoizedState!==null)&&(Ri=a)}function tb(a){X(yn,yn.current),X(li,a),Ri===null&&(Ri=a)}function n2(a){a.tag===22?(X(yn,yn.current),X(li,a),Ri===null&&(Ri=a)):Oo()}function Oo(){X(yn,yn.current),X(li,li.current)}function ci(a){Q(li),Ri===a&&(Ri=null),Q(yn)}var yn=V(0);function up(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ox(c)||lx(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ms=0,Je=null,It=null,Tn=null,dp=!1,au=!1,Kl=!1,fp=0,cf=0,su=null,hV=0;function mn(){throw Error(r(321))}function nb(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!si(a[c],o[c]))return!1;return!0}function rb(a,o,c,m,y,w){return ms=w,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=a===null||a.memoizedState===null?V2:yb,Kl=!1,w=c(m,y),Kl=!1,au&&(w=i2(o,c,m,y)),r2(a),w}function r2(a){G.H=ff;var o=It!==null&&It.next!==null;if(ms=0,Tn=It=Je=null,dp=!1,cf=0,su=null,o)throw Error(r(300));a===null||jn||(a=a.dependencies,a!==null&&np(a)&&(jn=!0))}function i2(a,o,c,m){Je=a;var y=0;do{if(au&&(su=null),cf=0,au=!1,25<=y)throw Error(r(301));if(y+=1,Tn=It=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=$2,w=o(c,m)}while(au);return w}function mV(){var a=G.H,o=a.useState()[0];return o=typeof o.then=="function"?uf(o):o,a=a.useState()[0],(It!==null?It.memoizedState:null)!==a&&(Je.flags|=1024),o}function ib(){var a=fp!==0;return fp=0,a}function ab(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function sb(a){if(dp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}dp=!1}ms=0,Tn=It=Je=null,au=!1,cf=fp=0,su=null}function Rr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Je.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function bn(){if(It===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=It.next;var o=Tn===null?Je.memoizedState:Tn.next;if(o!==null)Tn=o,It=a;else{if(a===null)throw Je.alternate===null?Error(r(467)):Error(r(310));It=a,a={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Tn===null?Je.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function hp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uf(a){var o=cf;return cf+=1,su===null&&(su=[]),a=GT(su,a,o),o=Je,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?V2:yb),a}function mp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return uf(a);if(a.$$typeof===L)return lr(a)}throw Error(r(438,String(a)))}function ob(a){var o=null,c=Je.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Je.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=hp(),Je.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=P;return o.index++,c}function ps(a,o){return typeof o=="function"?o(a):o}function pp(a){var o=bn();return lb(o,It,a)}function lb(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,w=m.pending;if(w!==null){if(y!==null){var O=y.next;y.next=w.next,w.next=O}o.baseQueue=y=w,m.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{o=y.next;var B=O=null,J=null,ue=o,be=!1;do{var _e=ue.lane&-536870913;if(_e!==ue.lane?(st&_e)===_e:(ms&_e)===_e){var fe=ue.revertLane;if(fe===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),_e===eu&&(be=!0);else if((ms&fe)===fe){ue=ue.next,fe===eu&&(be=!0);continue}else _e={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(B=J=_e,O=w):J=J.next=_e,Je.lanes|=fe,Ro|=fe;_e=ue.action,Kl&&c(w,_e),w=ue.hasEagerState?ue.eagerState:c(w,_e)}else fe={lane:_e,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(B=J=fe,O=w):J=J.next=fe,Je.lanes|=_e,Ro|=_e;ue=ue.next}while(ue!==null&&ue!==o);if(J===null?O=w:J.next=B,!si(w,a.memoizedState)&&(jn=!0,be&&(c=tu,c!==null)))throw c;a.memoizedState=w,a.baseState=O,a.baseQueue=J,m.lastRenderedState=w}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function cb(a){var o=bn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,w=o.memoizedState;if(y!==null){c.pending=null;var O=y=y.next;do w=a(w,O.action),O=O.next;while(O!==y);si(w,o.memoizedState)||(jn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,m]}function a2(a,o,c){var m=Je,y=bn(),w=dt;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=o();var O=!si((It||y).memoizedState,c);if(O&&(y.memoizedState=c,jn=!0),y=y.queue,fb(l2.bind(null,m,y,a),[a]),y.getSnapshot!==o||O||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,ou(9,{destroy:void 0},o2.bind(null,m,y,c,o),null),zt===null)throw Error(r(349));w||(ms&127)!==0||s2(m,o,c)}return c}function s2(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Je.updateQueue,o===null?(o=hp(),Je.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function o2(a,o,c,m){o.value=c,o.getSnapshot=m,c2(o)&&u2(a)}function l2(a,o,c){return c(function(){c2(o)&&u2(a)})}function c2(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!si(a,c)}catch{return!0}}function u2(a){var o=Ll(a,2);o!==null&&Kr(o,a,2)}function ub(a){var o=Rr();if(typeof a=="function"){var c=a;if(a=c(),Kl){Kn(!0);try{c()}finally{Kn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:a},o}function d2(a,o,c,m){return a.baseState=c,lb(a,It,typeof m=="function"?m:ps)}function pV(a,o,c,m,y){if(yp(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};G.T!==null?c(!0):w.isTransition=!1,m(w),c=o.pending,c===null?(w.next=o.pending=w,f2(o,w)):(w.next=c.next,o.pending=c.next=w)}}function f2(a,o){var c=o.action,m=o.payload,y=a.state;if(o.isTransition){var w=G.T,O={};G.T=O;try{var B=c(y,m),J=G.S;J!==null&&J(O,B),h2(a,o,B)}catch(ue){db(a,o,ue)}finally{w!==null&&O.types!==null&&(w.types=O.types),G.T=w}}else try{w=c(y,m),h2(a,o,w)}catch(ue){db(a,o,ue)}}function h2(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){m2(a,o,m)},function(m){return db(a,o,m)}):m2(a,o,c)}function m2(a,o,c){o.status="fulfilled",o.value=c,p2(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,f2(a,c)))}function db(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,p2(o),o=o.next;while(o!==m)}a.action=null}function p2(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function g2(a,o){return o}function v2(a,o){if(dt){var c=zt.formState;if(c!==null){e:{var m=Je;if(dt){if(Xt){t:{for(var y=Xt,w=Ii;y.nodeType!==8;){if(!w){y=null;break t}if(y=ki(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Xt=ki(y.nextSibling),m=y.data==="F!";break e}}Eo(m)}m=!1}m&&(o=c[0])}}return c=Rr(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g2,lastRenderedState:o},c.queue=m,c=D2.bind(null,Je,m),m.dispatch=c,m=ub(!1),w=vb.bind(null,Je,!1,m.queue),m=Rr(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,c=pV.bind(null,Je,y,w,c),y.dispatch=c,m.memoizedState=a,[o,c,!1]}function y2(a){var o=bn();return b2(o,It,a)}function b2(a,o,c){if(o=lb(a,o,g2)[0],a=pp(ps)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=uf(o)}catch(O){throw O===nu?ap:O}else m=o;o=bn();var y=o.queue,w=y.dispatch;return c!==o.memoizedState&&(Je.flags|=2048,ou(9,{destroy:void 0},gV.bind(null,y,c),null)),[m,w,a]}function gV(a,o){a.action=o}function x2(a){var o=bn(),c=It;if(c!==null)return b2(o,c,a);bn(),o=o.memoizedState,c=bn();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function ou(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=Je.updateQueue,o===null&&(o=hp(),Je.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function w2(){return bn().memoizedState}function gp(a,o,c,m){var y=Rr();Je.flags|=a,y.memoizedState=ou(1|o,{destroy:void 0},c,m===void 0?null:m)}function vp(a,o,c,m){var y=bn();m=m===void 0?null:m;var w=y.memoizedState.inst;It!==null&&m!==null&&nb(m,It.memoizedState.deps)?y.memoizedState=ou(o,w,c,m):(Je.flags|=a,y.memoizedState=ou(1|o,w,c,m))}function _2(a,o){gp(8390656,8,a,o)}function fb(a,o){vp(2048,8,a,o)}function vV(a){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=hp(),Je.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function S2(a){var o=bn().memoizedState;return vV({ref:o,nextImpl:a}),function(){if((xt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function E2(a,o){return vp(4,2,a,o)}function A2(a,o){return vp(4,4,a,o)}function T2(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function j2(a,o,c){c=c!=null?c.concat([a]):null,vp(4,4,T2.bind(null,o,a),c)}function hb(){}function N2(a,o){var c=bn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&nb(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function C2(a,o){var c=bn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&nb(o,m[1]))return m[0];if(m=a(),Kl){Kn(!0);try{a()}finally{Kn(!1)}}return c.memoizedState=[m,o],m}function mb(a,o,c){return c===void 0||(ms&1073741824)!==0&&(st&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=Oj(),Je.lanes|=a,Ro|=a,c)}function O2(a,o,c,m){return si(c,o)?c:iu.current!==null?(a=mb(a,c,m),si(a,o)||(jn=!0),a):(ms&42)===0||(ms&1073741824)!==0&&(st&261930)===0?(jn=!0,a.memoizedState=c):(a=Oj(),Je.lanes|=a,Ro|=a,o)}function P2(a,o,c,m,y){var w=K.p;K.p=w!==0&&8>w?w:8;var O=G.T,B={};G.T=B,vb(a,!1,o,c);try{var J=y(),ue=G.S;if(ue!==null&&ue(B,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var be=fV(J,m);df(a,o,be,fi(a))}else df(a,o,m,fi(a))}catch(_e){df(a,o,{then:function(){},status:"rejected",reason:_e},fi())}finally{K.p=w,O!==null&&B.types!==null&&(O.types=B.types),G.T=O}}function yV(){}function pb(a,o,c,m){if(a.tag!==5)throw Error(r(476));var y=I2(a).queue;P2(a,y,o,ee,c===null?yV:function(){return R2(a),c(m)})}function I2(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:ee},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function R2(a){var o=I2(a);o.next===null&&(o=a.alternate.memoizedState),df(a,o.next.queue,{},fi())}function gb(){return lr(Nf)}function k2(){return bn().memoizedState}function M2(){return bn().memoizedState}function bV(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=fi();a=jo(c);var m=No(o,a,c);m!==null&&(Kr(m,o,c),sf(m,o,c)),o={cache:Hy()},a.payload=o;return}o=o.return}}function xV(a,o,c){var m=fi();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yp(a)?L2(o,c):(c=ky(a,o,c,m),c!==null&&(Kr(c,a,m),z2(c,o,m)))}function D2(a,o,c){var m=fi();df(a,o,c,m)}function df(a,o,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yp(a))L2(o,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var O=o.lastRenderedState,B=w(O,c);if(y.hasEagerState=!0,y.eagerState=B,si(B,O))return Jm(a,o,y,0),zt===null&&Qm(),!1}catch{}if(c=ky(a,o,y,m),c!==null)return Kr(c,a,m),z2(c,o,m),!0}return!1}function vb(a,o,c,m){if(m={lane:2,revertLane:Wb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},yp(a)){if(o)throw Error(r(479))}else o=ky(a,c,m,2),o!==null&&Kr(o,a,2)}function yp(a){var o=a.alternate;return a===Je||o!==null&&o===Je}function L2(a,o){au=dp=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function z2(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,H(a,c)}}var ff={readContext:lr,use:mp,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn};ff.useEffectEvent=mn;var V2={readContext:lr,use:mp,useCallback:function(a,o){return Rr().memoizedState=[a,o===void 0?null:o],a},useContext:lr,useEffect:_2,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,gp(4194308,4,T2.bind(null,o,a),c)},useLayoutEffect:function(a,o){return gp(4194308,4,a,o)},useInsertionEffect:function(a,o){gp(4,2,a,o)},useMemo:function(a,o){var c=Rr();o=o===void 0?null:o;var m=a();if(Kl){Kn(!0);try{a()}finally{Kn(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=Rr();if(c!==void 0){var y=c(o);if(Kl){Kn(!0);try{c(o)}finally{Kn(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=xV.bind(null,Je,a),[m.memoizedState,a]},useRef:function(a){var o=Rr();return a={current:a},o.memoizedState=a},useState:function(a){a=ub(a);var o=a.queue,c=D2.bind(null,Je,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:hb,useDeferredValue:function(a,o){var c=Rr();return mb(c,a,o)},useTransition:function(){var a=ub(!1);return a=P2.bind(null,Je,a.queue,!0,!1),Rr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=Je,y=Rr();if(dt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),zt===null)throw Error(r(349));(st&127)!==0||s2(m,o,c)}y.memoizedState=c;var w={value:c,getSnapshot:o};return y.queue=w,_2(l2.bind(null,m,w,a),[a]),m.flags|=2048,ou(9,{destroy:void 0},o2.bind(null,m,w,c,o),null),c},useId:function(){var a=Rr(),o=zt.identifierPrefix;if(dt){var c=Ia,m=Pa;c=(m&~(1<<32-Ft(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=fp++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=hV++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:gb,useFormState:v2,useActionState:v2,useOptimistic:function(a){var o=Rr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=vb.bind(null,Je,!0,c),c.dispatch=o,[a,o]},useMemoCache:ob,useCacheRefresh:function(){return Rr().memoizedState=bV.bind(null,Je)},useEffectEvent:function(a){var o=Rr(),c={impl:a};return o.memoizedState=c,function(){if((xt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},yb={readContext:lr,use:mp,useCallback:N2,useContext:lr,useEffect:fb,useImperativeHandle:j2,useInsertionEffect:E2,useLayoutEffect:A2,useMemo:C2,useReducer:pp,useRef:w2,useState:function(){return pp(ps)},useDebugValue:hb,useDeferredValue:function(a,o){var c=bn();return O2(c,It.memoizedState,a,o)},useTransition:function(){var a=pp(ps)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:uf(a),o]},useSyncExternalStore:a2,useId:k2,useHostTransitionStatus:gb,useFormState:y2,useActionState:y2,useOptimistic:function(a,o){var c=bn();return d2(c,It,a,o)},useMemoCache:ob,useCacheRefresh:M2};yb.useEffectEvent=S2;var $2={readContext:lr,use:mp,useCallback:N2,useContext:lr,useEffect:fb,useImperativeHandle:j2,useInsertionEffect:E2,useLayoutEffect:A2,useMemo:C2,useReducer:cb,useRef:w2,useState:function(){return cb(ps)},useDebugValue:hb,useDeferredValue:function(a,o){var c=bn();return It===null?mb(c,a,o):O2(c,It.memoizedState,a,o)},useTransition:function(){var a=cb(ps)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:uf(a),o]},useSyncExternalStore:a2,useId:k2,useHostTransitionStatus:gb,useFormState:x2,useActionState:x2,useOptimistic:function(a,o){var c=bn();return It!==null?d2(c,It,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:ob,useCacheRefresh:M2};$2.useEffectEvent=S2;function bb(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var xb={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=fi(),y=jo(m);y.payload=o,c!=null&&(y.callback=c),o=No(a,y,m),o!==null&&(Kr(o,a,m),sf(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=fi(),y=jo(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=No(a,y,m),o!==null&&(Kr(o,a,m),sf(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=fi(),m=jo(c);m.tag=2,o!=null&&(m.callback=o),o=No(a,m,c),o!==null&&(Kr(o,a,c),sf(o,a,c))}};function U2(a,o,c,m,y,w,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,O):o.prototype&&o.prototype.isPureReactComponent?!Qd(c,m)||!Qd(y,w):!0}function B2(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&xb.enqueueReplaceState(o,o.state,null)}function Yl(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function q2(a){Xm(a)}function F2(a){console.error(a)}function H2(a){Xm(a)}function bp(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function K2(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function wb(a,o,c){return c=jo(c),c.tag=3,c.payload={element:null},c.callback=function(){bp(a,o)},c}function Y2(a){return a=jo(a),a.tag=3,a}function G2(a,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;a.payload=function(){return y(w)},a.callback=function(){K2(o,c,m)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){K2(o,c,m),typeof y!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function wV(a,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&Zc(o,c,y,!0),c=li.current,c!==null){switch(c.tag){case 31:case 13:return Ri===null?Pp():c.alternate===null&&pn===0&&(pn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===sp?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Kb(a,m,y)),!1;case 22:return c.flags|=65536,m===sp?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Kb(a,m,y)),!1}throw Error(r(435,c.tag))}return Kb(a,m,y),Pp(),!1}if(dt)return o=li.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==$y&&(a=Error(r(422),{cause:m}),ef(Ci(a,c)))):(m!==$y&&(o=Error(r(423),{cause:m}),ef(Ci(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Ci(m,c),y=wb(a.stateNode,m,y),Qy(a,y),pn!==4&&(pn=2)),!1;var w=Error(r(520),{cause:m});if(w=Ci(w,c),xf===null?xf=[w]:xf.push(w),pn!==4&&(pn=2),o===null)return!0;m=Ci(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=wb(c.stateNode,m,a),Qy(c,a),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ko===null||!ko.has(w))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Y2(y),G2(y,a,c,m),Qy(c,y),!1}c=c.return}while(c!==null);return!1}var _b=Error(r(461)),jn=!1;function cr(a,o,c,m){o.child=a===null?JT(o,null,c,m):Hl(o,a.child,c,m)}function W2(a,o,c,m,y){c=c.render;var w=o.ref;if("ref"in m){var O={};for(var B in m)B!=="ref"&&(O[B]=m[B])}else O=m;return Ul(o),m=rb(a,o,c,O,w,y),B=ib(),a!==null&&!jn?(ab(a,o,y),gs(a,o,y)):(dt&&B&&zy(o),o.flags|=1,cr(a,o,m,y),o.child)}function X2(a,o,c,m,y){if(a===null){var w=c.type;return typeof w=="function"&&!My(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,Q2(a,o,w,m,y)):(a=ep(c.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!Ob(a,y)){var O=w.memoizedProps;if(c=c.compare,c=c!==null?c:Qd,c(O,m)&&a.ref===o.ref)return gs(a,o,y)}return o.flags|=1,a=us(w,m),a.ref=o.ref,a.return=o,o.child=a}function Q2(a,o,c,m,y){if(a!==null){var w=a.memoizedProps;if(Qd(w,m)&&a.ref===o.ref)if(jn=!1,o.pendingProps=m=w,Ob(a,y))(a.flags&131072)!==0&&(jn=!0);else return o.lanes=a.lanes,gs(a,o,y)}return Sb(a,o,c,m,y)}function J2(a,o,c,m){var y=m.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~w}else m=0,o.child=null;return Z2(a,o,w,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&ip(o,w!==null?w.cachePool:null),w!==null?t2(o,w):Zy(),n2(o);else return m=o.lanes=536870912,Z2(a,o,w!==null?w.baseLanes|c:c,c,m)}else w!==null?(ip(o,w.cachePool),t2(o,w),Oo(),o.memoizedState=null):(a!==null&&ip(o,null),Zy(),Oo());return cr(a,o,y,c),o.child}function hf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Z2(a,o,c,m,y){var w=Yy();return w=w===null?null:{parent:An._currentValue,pool:w},o.memoizedState={baseLanes:c,cachePool:w},a!==null&&ip(o,null),Zy(),n2(o),a!==null&&Zc(a,o,m,!0),o.childLanes=y,null}function xp(a,o){return o=_p({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function ej(a,o,c){return Hl(o,a.child,null,c),a=xp(o,o.pendingProps),a.flags|=2,ci(o),o.memoizedState=null,a}function _V(a,o,c){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(dt){if(m.mode==="hidden")return a=xp(o,m),o.lanes=536870912,hf(null,a);if(tb(o),(a=Xt)?(a=fN(a,Ii),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:_o!==null?{id:Pa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},c=LT(a),c.return=o,o.child=c,or=o,Xt=null)):a=null,a===null)throw Eo(o);return o.lanes=536870912,null}return xp(o,m)}var w=a.memoizedState;if(w!==null){var O=w.dehydrated;if(tb(o),y)if(o.flags&256)o.flags&=-257,o=ej(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(jn||Zc(a,o,c,!1),y=(c&a.childLanes)!==0,jn||y){if(m=zt,m!==null&&(O=Ee(m,c),O!==0&&O!==w.retryLane))throw w.retryLane=O,Ll(a,O),Kr(m,a,O),_b;Pp(),o=ej(a,o,c)}else a=w.treeContext,Xt=ki(O.nextSibling),or=o,dt=!0,So=null,Ii=!1,a!==null&&$T(o,a),o=xp(o,m),o.flags|=4096;return o}return a=us(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function wp(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Sb(a,o,c,m,y){return Ul(o),c=rb(a,o,c,m,void 0,y),m=ib(),a!==null&&!jn?(ab(a,o,y),gs(a,o,y)):(dt&&m&&zy(o),o.flags|=1,cr(a,o,c,y),o.child)}function tj(a,o,c,m,y,w){return Ul(o),o.updateQueue=null,c=i2(o,m,c,y),r2(a),m=ib(),a!==null&&!jn?(ab(a,o,w),gs(a,o,w)):(dt&&m&&zy(o),o.flags|=1,cr(a,o,c,w),o.child)}function nj(a,o,c,m,y){if(Ul(o),o.stateNode===null){var w=Wc,O=c.contextType;typeof O=="object"&&O!==null&&(w=lr(O)),w=new c(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=xb,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},Wy(o),O=c.contextType,w.context=typeof O=="object"&&O!==null?lr(O):Wc,w.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(bb(o,c,O,m),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&xb.enqueueReplaceState(w,w.state,null),lf(o,m,w,y),of(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){w=o.stateNode;var B=o.memoizedProps,J=Yl(c,B);w.props=J;var ue=w.context,be=c.contextType;O=Wc,typeof be=="object"&&be!==null&&(O=lr(be));var _e=c.getDerivedStateFromProps;be=typeof _e=="function"||typeof w.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,be||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B||ue!==O)&&B2(o,w,m,O),To=!1;var fe=o.memoizedState;w.state=fe,lf(o,m,w,y),of(),ue=o.memoizedState,B||fe!==ue||To?(typeof _e=="function"&&(bb(o,c,_e,m),ue=o.memoizedState),(J=To||U2(o,c,J,m,fe,ue,O))?(be||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ue),w.props=m,w.state=ue,w.context=O,m=J):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,Xy(a,o),O=o.memoizedProps,be=Yl(c,O),w.props=be,_e=o.pendingProps,fe=w.context,ue=c.contextType,J=Wc,typeof ue=="object"&&ue!==null&&(J=lr(ue)),B=c.getDerivedStateFromProps,(ue=typeof B=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==_e||fe!==J)&&B2(o,w,m,J),To=!1,fe=o.memoizedState,w.state=fe,lf(o,m,w,y),of();var ve=o.memoizedState;O!==_e||fe!==ve||To||a!==null&&a.dependencies!==null&&np(a.dependencies)?(typeof B=="function"&&(bb(o,c,B,m),ve=o.memoizedState),(be=To||U2(o,c,be,m,fe,ve,J)||a!==null&&a.dependencies!==null&&np(a.dependencies))?(ue||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ve,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ve,J)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===a.memoizedProps&&fe===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&fe===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ve),w.props=m,w.state=ve,w.context=J,m=be):(typeof w.componentDidUpdate!="function"||O===a.memoizedProps&&fe===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&fe===a.memoizedState||(o.flags|=1024),m=!1)}return w=m,wp(a,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&m?(o.child=Hl(o,a.child,null,y),o.child=Hl(o,null,c,y)):cr(a,o,c,y),o.memoizedState=w.state,a=o.child):a=gs(a,o,y),a}function rj(a,o,c,m){return Vl(),o.flags|=256,cr(a,o,c,m),o.child}var Eb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ab(a){return{baseLanes:a,cachePool:KT()}}function Tb(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=di),a}function ij(a,o,c){var m=o.pendingProps,y=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=a!==null&&a.memoizedState===null?!1:(yn.current&2)!==0),O&&(y=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,a===null){if(dt){if(y?Co(o):Oo(),(a=Xt)?(a=fN(a,Ii),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:_o!==null?{id:Pa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},c=LT(a),c.return=o,o.child=c,or=o,Xt=null)):a=null,a===null)throw Eo(o);return lx(a)?o.lanes=32:o.lanes=536870912,null}var B=m.children;return m=m.fallback,y?(Oo(),y=o.mode,B=_p({mode:"hidden",children:B},y),m=zl(m,y,c,null),B.return=o,m.return=o,B.sibling=m,o.child=B,m=o.child,m.memoizedState=Ab(c),m.childLanes=Tb(a,O,c),o.memoizedState=Eb,hf(null,m)):(Co(o),jb(o,B))}var J=a.memoizedState;if(J!==null&&(B=J.dehydrated,B!==null)){if(w)o.flags&256?(Co(o),o.flags&=-257,o=Nb(a,o,c)):o.memoizedState!==null?(Oo(),o.child=a.child,o.flags|=128,o=null):(Oo(),B=m.fallback,y=o.mode,m=_p({mode:"visible",children:m.children},y),B=zl(B,y,c,null),B.flags|=2,m.return=o,B.return=o,m.sibling=B,o.child=m,Hl(o,a.child,null,c),m=o.child,m.memoizedState=Ab(c),m.childLanes=Tb(a,O,c),o.memoizedState=Eb,o=hf(null,m));else if(Co(o),lx(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var ue=O.dgst;O=ue,m=Error(r(419)),m.stack="",m.digest=O,ef({value:m,source:null,stack:null}),o=Nb(a,o,c)}else if(jn||Zc(a,o,c,!1),O=(c&a.childLanes)!==0,jn||O){if(O=zt,O!==null&&(m=Ee(O,c),m!==0&&m!==J.retryLane))throw J.retryLane=m,Ll(a,m),Kr(O,a,m),_b;ox(B)||Pp(),o=Nb(a,o,c)}else ox(B)?(o.flags|=192,o.child=a.child,o=null):(a=J.treeContext,Xt=ki(B.nextSibling),or=o,dt=!0,So=null,Ii=!1,a!==null&&$T(o,a),o=jb(o,m.children),o.flags|=4096);return o}return y?(Oo(),B=m.fallback,y=o.mode,J=a.child,ue=J.sibling,m=us(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,ue!==null?B=us(ue,B):(B=zl(B,y,c,null),B.flags|=2),B.return=o,m.return=o,m.sibling=B,o.child=m,hf(null,m),m=o.child,B=a.child.memoizedState,B===null?B=Ab(c):(y=B.cachePool,y!==null?(J=An._currentValue,y=y.parent!==J?{parent:J,pool:J}:y):y=KT(),B={baseLanes:B.baseLanes|c,cachePool:y}),m.memoizedState=B,m.childLanes=Tb(a,O,c),o.memoizedState=Eb,hf(a.child,m)):(Co(o),c=a.child,a=c.sibling,c=us(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(O=o.deletions,O===null?(o.deletions=[a],o.flags|=16):O.push(a)),o.child=c,o.memoizedState=null,c)}function jb(a,o){return o=_p({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function _p(a,o){return a=oi(22,a,null,o),a.lanes=0,a}function Nb(a,o,c){return Hl(o,a.child,null,c),a=jb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function aj(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),qy(a.return,o,c)}function Cb(a,o,c,m,y,w){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:w}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=c,O.tailMode=y,O.treeForkCount=w)}function sj(a,o,c){var m=o.pendingProps,y=m.revealOrder,w=m.tail;m=m.children;var O=yn.current,B=(O&2)!==0;if(B?(O=O&1|2,o.flags|=128):O&=1,X(yn,O),cr(a,o,m,c),m=dt?Zd:0,!B&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&aj(a,c,o);else if(a.tag===19)aj(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&up(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Cb(o,!1,y,c,w,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&up(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Cb(o,!0,c,null,w,m);break;case"together":Cb(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function gs(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ro|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Zc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=us(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=us(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Ob(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&np(a)))}function SV(a,o,c){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),Ao(o,An,a.memoizedState.cache),Vl();break;case 27:case 5:Se(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:Ao(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,tb(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Co(o),o.flags|=128,null):(c&o.child.childLanes)!==0?ij(a,o,c):(Co(o),a=gs(a,o,c),a!==null?a.sibling:null);Co(o);break;case 19:var y=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(Zc(a,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return sj(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),X(yn,yn.current),m)break;return null;case 22:return o.lanes=0,J2(a,o,c,o.pendingProps);case 24:Ao(o,An,a.memoizedState.cache)}return gs(a,o,c)}function oj(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)jn=!0;else{if(!Ob(a,c)&&(o.flags&128)===0)return jn=!1,SV(a,o,c);jn=(a.flags&131072)!==0}else jn=!1,dt&&(o.flags&1048576)!==0&&VT(o,Zd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=ql(o.elementType),o.type=a,typeof a=="function")My(a)?(m=Yl(a,m),o.tag=1,o=nj(null,o,a,m,c)):(o.tag=0,o=Sb(null,o,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===q){o.tag=11,o=W2(null,o,a,m,c);break e}else if(y===N){o.tag=14,o=X2(null,o,a,m,c);break e}}throw o=se(a)||a,Error(r(306,o,""))}}return o;case 0:return Sb(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=Yl(m,o.pendingProps),nj(a,o,m,y,c);case 3:e:{if(ye(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var w=o.memoizedState;y=w.element,Xy(a,o),lf(o,m,null,c);var O=o.memoizedState;if(m=O.cache,Ao(o,An,m),m!==w.cache&&Fy(o,[An],c,!0),of(),m=O.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=rj(a,o,m,c);break e}else if(m!==y){y=Ci(Error(r(424)),o),ef(y),o=rj(a,o,m,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Xt=ki(a.firstChild),or=o,dt=!0,So=null,Ii=!0,c=JT(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vl(),m===y){o=gs(a,o,c);break e}cr(a,o,m,c)}o=o.child}return o;case 26:return wp(a,o),a===null?(c=yN(o.type,null,o.pendingProps,null))?o.memoizedState=c:dt||(c=o.type,a=o.pendingProps,m=zp(pe.current).createElement(c),m[tn]=o,m[Et]=a,ur(m,c,a),Sn(m),o.stateNode=m):o.memoizedState=yN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Se(o),a===null&&dt&&(m=o.stateNode=pN(o.type,o.pendingProps,pe.current),or=o,Ii=!0,y=Xt,zo(o.type)?(cx=y,Xt=ki(m.firstChild)):Xt=y),cr(a,o,o.pendingProps.children,c),wp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&dt&&((y=m=Xt)&&(m=ZV(m,o.type,o.pendingProps,Ii),m!==null?(o.stateNode=m,or=o,Xt=ki(m.firstChild),Ii=!1,y=!0):y=!1),y||Eo(o)),Se(o),y=o.type,w=o.pendingProps,O=a!==null?a.memoizedProps:null,m=w.children,ix(y,w)?m=null:O!==null&&ix(y,O)&&(o.flags|=32),o.memoizedState!==null&&(y=rb(a,o,mV,null,null,c),Nf._currentValue=y),wp(a,o),cr(a,o,m,c),o.child;case 6:return a===null&&dt&&((a=c=Xt)&&(c=e8(c,o.pendingProps,Ii),c!==null?(o.stateNode=c,or=o,Xt=null,a=!0):a=!1),a||Eo(o)),null;case 13:return ij(a,o,c);case 4:return ye(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Hl(o,null,m,c):cr(a,o,m,c),o.child;case 11:return W2(a,o,o.type,o.pendingProps,c);case 7:return cr(a,o,o.pendingProps,c),o.child;case 8:return cr(a,o,o.pendingProps.children,c),o.child;case 12:return cr(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Ao(o,o.type,m.value),cr(a,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,Ul(o),y=lr(y),m=m(y),o.flags|=1,cr(a,o,m,c),o.child;case 14:return X2(a,o,o.type,o.pendingProps,c);case 15:return Q2(a,o,o.type,o.pendingProps,c);case 19:return sj(a,o,c);case 31:return _V(a,o,c);case 22:return J2(a,o,c,o.pendingProps);case 24:return Ul(o),m=lr(An),a===null?(y=Yy(),y===null&&(y=zt,w=Hy(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=c),y=w),o.memoizedState={parent:m,cache:y},Wy(o),Ao(o,An,y)):((a.lanes&c)!==0&&(Xy(a,o),lf(o,null,null,c),of()),y=a.memoizedState,w=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ao(o,An,m)):(m=w.cache,Ao(o,An,m),m!==y.cache&&Fy(o,[An],c,!0))),cr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function vs(a){a.flags|=4}function Pb(a,o,c,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(kj())a.flags|=8192;else throw Fl=sp,Gy}else a.flags&=-16777217}function lj(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!SN(o))if(kj())a.flags|=8192;else throw Fl=sp,Gy}function Sp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?uo():536870912,a.lanes|=o,du|=o)}function mf(a,o){if(!dt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Qt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function EV(a,o,c){var m=o.pendingProps;switch(Vy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),hs(An),ne(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Jc(o)?vs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Uy())),Qt(o),null;case 26:var y=o.type,w=o.memoizedState;return a===null?(vs(o),w!==null?(Qt(o),lj(o,w)):(Qt(o),Pb(o,y,null,m,c))):w?w!==a.memoizedState?(vs(o),Qt(o),lj(o,w)):(Qt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&vs(o),Qt(o),Pb(o,y,a,m,c)),null;case 27:if(je(o),c=pe.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&vs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}a=W.current,Jc(o)?UT(o):(a=pN(y,m,c),o.stateNode=a,vs(o))}return Qt(o),null;case 5:if(je(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&vs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}if(w=W.current,Jc(o))UT(o);else{var O=zp(pe.current);switch(w){case 1:w=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=O.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?O.createElement(y,{is:m.is}):O.createElement(y)}}w[tn]=o,w[Et]=m;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)w.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=w;e:switch(ur(w,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&vs(o)}}return Qt(o),Pb(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&vs(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=pe.current,Jc(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,y=or,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[tn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||iN(a.nodeValue,c)),a||Eo(o,!0)}else a=zp(a).createTextNode(m),a[tn]=o,o.stateNode=a}return Qt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=Jc(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[tn]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),a=!1}else c=Uy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ci(o),o):(ci(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Qt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Jc(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[tn]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),y=!1}else y=Uy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ci(o),o):(ci(o),null)}return ci(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Sp(o,o.updateQueue),Qt(o),null);case 4:return ne(),a===null&&Zb(o.stateNode.containerInfo),Qt(o),null;case 10:return hs(o.type),Qt(o),null;case 19:if(Q(yn),m=o.memoizedState,m===null)return Qt(o),null;if(y=(o.flags&128)!==0,w=m.rendering,w===null)if(y)mf(m,!1);else{if(pn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=up(a),w!==null){for(o.flags|=128,mf(m,!1),a=w.updateQueue,o.updateQueue=a,Sp(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)DT(c,a),c=c.sibling;return X(yn,yn.current&1|2),dt&&ds(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Mn()>Np&&(o.flags|=128,y=!0,mf(m,!1),o.lanes=4194304)}else{if(!y)if(a=up(w),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Sp(o,a),mf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!dt)return Qt(o),null}else 2*Mn()-m.renderingStartTime>Np&&c!==536870912&&(o.flags|=128,y=!0,mf(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(a=m.last,a!==null?a.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Mn(),a.sibling=null,c=yn.current,X(yn,y?c&1|2:c&1),dt&&ds(o,m.treeForkCount),a):(Qt(o),null);case 22:case 23:return ci(o),eb(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),c=o.updateQueue,c!==null&&Sp(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&Q(Bl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),hs(An),Qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function AV(a,o){switch(Vy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return hs(An),ne(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return je(o),null;case 31:if(o.memoizedState!==null){if(ci(o),o.alternate===null)throw Error(r(340));Vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ci(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Q(yn),null;case 4:return ne(),null;case 10:return hs(o.type),null;case 22:case 23:return ci(o),eb(),a!==null&&Q(Bl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return hs(An),null;case 25:return null;default:return null}}function cj(a,o){switch(Vy(o),o.tag){case 3:hs(An),ne();break;case 26:case 27:case 5:je(o);break;case 4:ne();break;case 31:o.memoizedState!==null&&ci(o);break;case 13:ci(o);break;case 19:Q(yn);break;case 10:hs(o.type);break;case 22:case 23:ci(o),eb(),a!==null&&Q(Bl);break;case 24:hs(An)}}function pf(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var w=c.create,O=c.inst;m=w(),O.destroy=m}c=c.next}while(c!==y)}}catch(B){jt(o,o.return,B)}}function Po(a,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&a)===a){var O=m.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,y=o;var J=c,ue=B;try{ue()}catch(be){jt(y,J,be)}}}m=m.next}while(m!==w)}}catch(be){jt(o,o.return,be)}}function uj(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{e2(o,c)}catch(m){jt(a,a.return,m)}}}function dj(a,o,c){c.props=Yl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){jt(a,o,m)}}function gf(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){jt(a,o,y)}}function Ra(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){jt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){jt(a,o,y)}else c.current=null}function fj(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){jt(a,a.return,y)}}function Ib(a,o,c){try{var m=a.stateNode;YV(m,a.type,c,o),m[Et]=o}catch(y){jt(a,a.return,y)}}function hj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&zo(a.type)||a.tag===4}function Rb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&zo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function kb(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gi));else if(m!==4&&(m===27&&zo(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(kb(a,o,c),a=a.sibling;a!==null;)kb(a,o,c),a=a.sibling}function Ep(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&zo(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Ep(a,o,c),a=a.sibling;a!==null;)Ep(a,o,c),a=a.sibling}function mj(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);ur(o,m,c),o[tn]=a,o[Et]=c}catch(w){jt(a,a.return,w)}}var ys=!1,Nn=!1,Mb=!1,pj=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function TV(a,o){if(a=a.containerInfo,nx=Hp,a=jT(a),Ny(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var O=0,B=-1,J=-1,ue=0,be=0,_e=a,fe=null;t:for(;;){for(var ve;_e!==c||y!==0&&_e.nodeType!==3||(B=O+y),_e!==w||m!==0&&_e.nodeType!==3||(J=O+m),_e.nodeType===3&&(O+=_e.nodeValue.length),(ve=_e.firstChild)!==null;)fe=_e,_e=ve;for(;;){if(_e===a)break t;if(fe===c&&++ue===y&&(B=O),fe===w&&++be===m&&(J=O),(ve=_e.nextSibling)!==null)break;_e=fe,fe=_e.parentNode}_e=ve}c=B===-1||J===-1?null:{start:B,end:J}}else c=null}c=c||{start:0,end:0}}else c=null;for(rx={focusedElem:a,selectionRange:c},Hp=!1,Gn=o;Gn!==null;)if(o=Gn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Gn=a;else for(;Gn!==null;){switch(o=Gn,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=o,y=w.memoizedProps,w=w.memoizedState,m=c.stateNode;try{var ze=Yl(c.type,y);a=m.getSnapshotBeforeUpdate(ze,w),m.__reactInternalSnapshotBeforeUpdate=a}catch(qe){jt(c,c.return,qe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)sx(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":sx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Gn=a;break}Gn=o.return}}function gj(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:xs(a,c),m&4&&pf(5,c);break;case 1:if(xs(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(O){jt(c,c.return,O)}else{var y=Yl(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(O){jt(c,c.return,O)}}m&64&&uj(c),m&512&&gf(c,c.return);break;case 3:if(xs(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{e2(a,o)}catch(O){jt(c,c.return,O)}}break;case 27:o===null&&m&4&&mj(c);case 26:case 5:xs(a,c),o===null&&m&4&&fj(c),m&512&&gf(c,c.return);break;case 12:xs(a,c);break;case 31:xs(a,c),m&4&&bj(a,c);break;case 13:xs(a,c),m&4&&xj(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=MV.bind(null,c),t8(a,c))));break;case 22:if(m=c.memoizedState!==null||ys,!m){o=o!==null&&o.memoizedState!==null||Nn,y=ys;var w=Nn;ys=m,(Nn=o)&&!w?ws(a,c,(c.subtreeFlags&8772)!==0):xs(a,c),ys=y,Nn=w}break;case 30:break;default:xs(a,c)}}function vj(a){var o=a.alternate;o!==null&&(a.alternate=null,vj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Yi(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var rn=null,Br=!1;function bs(a,o,c){for(c=c.child;c!==null;)yj(a,o,c),c=c.sibling}function yj(a,o,c){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ir,c)}catch{}switch(c.tag){case 26:Nn||Ra(c,o),bs(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Nn||Ra(c,o);var m=rn,y=Br;zo(c.type)&&(rn=c.stateNode,Br=!1),bs(a,o,c),Af(c.stateNode),rn=m,Br=y;break;case 5:Nn||Ra(c,o);case 6:if(m=rn,y=Br,rn=null,bs(a,o,c),rn=m,Br=y,rn!==null)if(Br)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(c.stateNode)}catch(w){jt(c,o,w)}else try{rn.removeChild(c.stateNode)}catch(w){jt(c,o,w)}break;case 18:rn!==null&&(Br?(a=rn,uN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),bu(a)):uN(rn,c.stateNode));break;case 4:m=rn,y=Br,rn=c.stateNode.containerInfo,Br=!0,bs(a,o,c),rn=m,Br=y;break;case 0:case 11:case 14:case 15:Po(2,c,o),Nn||Po(4,c,o),bs(a,o,c);break;case 1:Nn||(Ra(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&dj(c,o,m)),bs(a,o,c);break;case 21:bs(a,o,c);break;case 22:Nn=(m=Nn)||c.memoizedState!==null,bs(a,o,c),Nn=m;break;default:bs(a,o,c)}}function bj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{bu(a)}catch(c){jt(o,o.return,c)}}}function xj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{bu(a)}catch(c){jt(o,o.return,c)}}function jV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new pj),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new pj),o;default:throw Error(r(435,a.tag))}}function Ap(a,o){var c=jV(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var y=DV.bind(null,a,m);m.then(y,y)}})}function qr(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],w=a,O=o,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(zo(B.type)){rn=B.stateNode,Br=!1;break e}break;case 5:rn=B.stateNode,Br=!1;break e;case 3:case 4:rn=B.stateNode.containerInfo,Br=!0;break e}B=B.return}if(rn===null)throw Error(r(160));yj(w,O,y),rn=null,Br=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)wj(o,a),o=o.sibling}var ea=null;function wj(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:qr(o,a),Fr(a),m&4&&(Po(3,a,a.return),pf(3,a),Po(5,a,a.return));break;case 1:qr(o,a),Fr(a),m&512&&(Nn||c===null||Ra(c,c.return)),m&64&&ys&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=ea;if(qr(o,a),Fr(a),m&512&&(Nn||c===null||Ra(c,c.return)),m&4){var w=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[hn]||w[tn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),ur(w,m,c),w[tn]=a,Sn(w),m=w;break e;case"link":var O=wN("link","href",y).get(m+(c.href||""));if(O){for(var B=0;B<O.length;B++)if(w=O[B],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(B,1);break t}}w=y.createElement(m),ur(w,m,c),y.head.appendChild(w);break;case"meta":if(O=wN("meta","content",y).get(m+(c.content||""))){for(B=0;B<O.length;B++)if(w=O[B],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(B,1);break t}}w=y.createElement(m),ur(w,m,c),y.head.appendChild(w);break;default:throw Error(r(468,m))}w[tn]=a,Sn(w),m=w}a.stateNode=m}else _N(y,a.type,a.stateNode);else a.stateNode=xN(y,m,a.memoizedProps);else w!==m?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,m===null?_N(y,a.type,a.stateNode):xN(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Ib(a,a.memoizedProps,c.memoizedProps)}break;case 27:qr(o,a),Fr(a),m&512&&(Nn||c===null||Ra(c,c.return)),c!==null&&m&4&&Ib(a,a.memoizedProps,c.memoizedProps);break;case 5:if(qr(o,a),Fr(a),m&512&&(Nn||c===null||Ra(c,c.return)),a.flags&32){y=a.stateNode;try{Ur(y,"")}catch(ze){jt(a,a.return,ze)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Ib(a,y,c!==null?c.memoizedProps:y)),m&1024&&(Mb=!0);break;case 6:if(qr(o,a),Fr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(ze){jt(a,a.return,ze)}}break;case 3:if(Up=null,y=ea,ea=Vp(o.containerInfo),qr(o,a),ea=y,Fr(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{bu(o.containerInfo)}catch(ze){jt(a,a.return,ze)}Mb&&(Mb=!1,_j(a));break;case 4:m=ea,ea=Vp(a.stateNode.containerInfo),qr(o,a),Fr(a),ea=m;break;case 12:qr(o,a),Fr(a);break;case 31:qr(o,a),Fr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ap(a,m)));break;case 13:qr(o,a),Fr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(jp=Mn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ap(a,m)));break;case 22:y=a.memoizedState!==null;var J=c!==null&&c.memoizedState!==null,ue=ys,be=Nn;if(ys=ue||y,Nn=be||J,qr(o,a),Nn=be,ys=ue,Fr(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||J||ys||Nn||Gl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){J=c=o;try{if(w=J.stateNode,y)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=J.stateNode;var _e=J.memoizedProps.style,fe=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;B.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(ze){jt(J,J.return,ze)}}}else if(o.tag===6){if(c===null){J=o;try{J.stateNode.nodeValue=y?"":J.memoizedProps}catch(ze){jt(J,J.return,ze)}}}else if(o.tag===18){if(c===null){J=o;try{var ve=J.stateNode;y?dN(ve,!0):dN(J.stateNode,!1)}catch(ze){jt(J,J.return,ze)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Ap(a,c))));break;case 19:qr(o,a),Fr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ap(a,m)));break;case 30:break;case 21:break;default:qr(o,a),Fr(a)}}function Fr(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(hj(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,w=Rb(a);Ep(a,w,y);break;case 5:var O=c.stateNode;c.flags&32&&(Ur(O,""),c.flags&=-33);var B=Rb(a);Ep(a,B,O);break;case 3:case 4:var J=c.stateNode.containerInfo,ue=Rb(a);kb(a,ue,J);break;default:throw Error(r(161))}}catch(be){jt(a,a.return,be)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function _j(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;_j(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function xs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)gj(a,o.alternate,o),o=o.sibling}function Gl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Po(4,o,o.return),Gl(o);break;case 1:Ra(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&dj(o,o.return,c),Gl(o);break;case 27:Af(o.stateNode);case 26:case 5:Ra(o,o.return),Gl(o);break;case 22:o.memoizedState===null&&Gl(o);break;case 30:Gl(o);break;default:Gl(o)}a=a.sibling}}function ws(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,w=o,O=w.flags;switch(w.tag){case 0:case 11:case 15:ws(y,w,c),pf(4,w);break;case 1:if(ws(y,w,c),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ue){jt(m,m.return,ue)}if(m=w,y=m.updateQueue,y!==null){var B=m.stateNode;try{var J=y.shared.hiddenCallbacks;if(J!==null)for(y.shared.hiddenCallbacks=null,y=0;y<J.length;y++)ZT(J[y],B)}catch(ue){jt(m,m.return,ue)}}c&&O&64&&uj(w),gf(w,w.return);break;case 27:mj(w);case 26:case 5:ws(y,w,c),c&&m===null&&O&4&&fj(w),gf(w,w.return);break;case 12:ws(y,w,c);break;case 31:ws(y,w,c),c&&O&4&&bj(y,w);break;case 13:ws(y,w,c),c&&O&4&&xj(y,w);break;case 22:w.memoizedState===null&&ws(y,w,c),gf(w,w.return);break;case 30:break;default:ws(y,w,c)}o=o.sibling}}function Db(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&tf(c))}function Lb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&tf(a))}function ta(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Sj(a,o,c,m),o=o.sibling}function Sj(a,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ta(a,o,c,m),y&2048&&pf(9,o);break;case 1:ta(a,o,c,m);break;case 3:ta(a,o,c,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&tf(a)));break;case 12:if(y&2048){ta(a,o,c,m),a=o.stateNode;try{var w=o.memoizedProps,O=w.id,B=w.onPostCommit;typeof B=="function"&&B(O,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){jt(o,o.return,J)}}else ta(a,o,c,m);break;case 31:ta(a,o,c,m);break;case 13:ta(a,o,c,m);break;case 23:break;case 22:w=o.stateNode,O=o.alternate,o.memoizedState!==null?w._visibility&2?ta(a,o,c,m):vf(a,o):w._visibility&2?ta(a,o,c,m):(w._visibility|=2,lu(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Db(O,o);break;case 24:ta(a,o,c,m),y&2048&&Lb(o.alternate,o);break;default:ta(a,o,c,m)}}function lu(a,o,c,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,O=o,B=c,J=m,ue=O.flags;switch(O.tag){case 0:case 11:case 15:lu(w,O,B,J,y),pf(8,O);break;case 23:break;case 22:var be=O.stateNode;O.memoizedState!==null?be._visibility&2?lu(w,O,B,J,y):vf(w,O):(be._visibility|=2,lu(w,O,B,J,y)),y&&ue&2048&&Db(O.alternate,O);break;case 24:lu(w,O,B,J,y),y&&ue&2048&&Lb(O.alternate,O);break;default:lu(w,O,B,J,y)}o=o.sibling}}function vf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,y=m.flags;switch(m.tag){case 22:vf(c,m),y&2048&&Db(m.alternate,m);break;case 24:vf(c,m),y&2048&&Lb(m.alternate,m);break;default:vf(c,m)}o=o.sibling}}var yf=8192;function cu(a,o,c){if(a.subtreeFlags&yf)for(a=a.child;a!==null;)Ej(a,o,c),a=a.sibling}function Ej(a,o,c){switch(a.tag){case 26:cu(a,o,c),a.flags&yf&&a.memoizedState!==null&&h8(c,ea,a.memoizedState,a.memoizedProps);break;case 5:cu(a,o,c);break;case 3:case 4:var m=ea;ea=Vp(a.stateNode.containerInfo),cu(a,o,c),ea=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=yf,yf=16777216,cu(a,o,c),yf=m):cu(a,o,c));break;default:cu(a,o,c)}}function Aj(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function bf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Gn=m,jj(m,a)}Aj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Tj(a),a=a.sibling}function Tj(a){switch(a.tag){case 0:case 11:case 15:bf(a),a.flags&2048&&Po(9,a,a.return);break;case 3:bf(a);break;case 12:bf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Tp(a)):bf(a);break;default:bf(a)}}function Tp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Gn=m,jj(m,a)}Aj(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Po(8,o,o.return),Tp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Tp(o));break;default:Tp(o)}a=a.sibling}}function jj(a,o){for(;Gn!==null;){var c=Gn;switch(c.tag){case 0:case 11:case 15:Po(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:tf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Gn=m;else e:for(c=a;Gn!==null;){m=Gn;var y=m.sibling,w=m.return;if(vj(m),m===c){Gn=null;break e}if(y!==null){y.return=w,Gn=y;break e}Gn=w}}}var NV={getCacheForType:function(a){var o=lr(An),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return lr(An).controller.signal}},CV=typeof WeakMap=="function"?WeakMap:Map,xt=0,zt=null,it=null,st=0,Tt=0,ui=null,Io=!1,uu=!1,zb=!1,_s=0,pn=0,Ro=0,Wl=0,Vb=0,di=0,du=0,xf=null,Hr=null,$b=!1,jp=0,Nj=0,Np=1/0,Cp=null,ko=null,Dn=0,Mo=null,fu=null,Ss=0,Ub=0,Bb=null,Cj=null,wf=0,qb=null;function fi(){return(xt&2)!==0&&st!==0?st&-st:G.T!==null?Wb():We()}function Oj(){if(di===0)if((st&536870912)===0||dt){var a=ri;ri<<=1,(ri&3932160)===0&&(ri=262144),di=a}else di=536870912;return a=li.current,a!==null&&(a.flags|=32),di}function Kr(a,o,c){(a===zt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(hu(a,0),Do(a,st,di,!1)),_i(a,c),((xt&2)===0||a!==zt)&&(a===zt&&((xt&2)===0&&(Wl|=c),pn===4&&Do(a,st,di,!1)),ka(a))}function Pj(a,o,c){if((xt&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Pr(a,o),y=m?IV(a,o):Hb(a,o,!0),w=m;do{if(y===0){uu&&!m&&Do(a,o,0,!1);break}else{if(c=a.current.alternate,w&&!OV(c)){y=Hb(a,o,!1),w=!1;continue}if(y===2){if(w=o,a.errorRecoveryDisabledLanes&w)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var B=a;y=xf;var J=B.current.memoizedState.isDehydrated;if(J&&(hu(B,O).flags|=256),O=Hb(B,O,!1),O!==2){if(zb&&!J){B.errorRecoveryDisabledLanes|=w,Wl|=w,y=4;break e}w=Hr,Hr=y,w!==null&&(Hr===null?Hr=w:Hr.push.apply(Hr,w))}y=O}if(w=!1,y!==2)continue}}if(y===1){hu(a,0),Do(a,o,0,!0);break}e:{switch(m=a,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Do(m,o,di,!Io);break e;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=jp+300-Mn(),10<y)){if(Do(m,o,di,!Io),zr(m,0,!0)!==0)break e;Ss=o,m.timeoutHandle=lN(Ij.bind(null,m,c,Hr,Cp,$b,o,di,Wl,du,Io,w,"Throttled",-0,0),y);break e}Ij(m,c,Hr,Cp,$b,o,di,Wl,du,Io,w,null,-0,0)}}break}while(!0);ka(a)}function Ij(a,o,c,m,y,w,O,B,J,ue,be,_e,fe,ve){if(a.timeoutHandle=-1,_e=o.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gi},Ej(o,w,_e);var ze=(w&62914560)===w?jp-Mn():(w&4194048)===w?Nj-Mn():0;if(ze=m8(_e,ze),ze!==null){Ss=w,a.cancelPendingCommit=ze($j.bind(null,a,o,w,c,m,y,O,B,J,be,_e,null,fe,ve)),Do(a,w,O,!ue);return}}$j(a,o,w,c,m,y,O,B,J)}function OV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],w=y.getSnapshot;y=y.value;try{if(!si(w(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Do(a,o,c,m){o&=~Vb,o&=~Wl,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var w=31-Ft(y),O=1<<w;m[w]=-1,y&=~O}c!==0&&Ae(a,c,o)}function Op(){return(xt&6)===0?(_f(0),!1):!0}function Fb(){if(it!==null){if(Tt===0)var a=it.return;else a=it,fs=$l=null,sb(a),ru=null,rf=0,a=it;for(;a!==null;)cj(a.alternate,a),a=a.return;it=null}}function hu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,XV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Ss=0,Fb(),zt=a,it=c=us(a.current,null),st=o,Tt=0,ui=null,Io=!1,uu=Pr(a,o),zb=!1,du=di=Vb=Wl=Ro=pn=0,Hr=xf=null,$b=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-Ft(m),w=1<<y;o|=a[y],m&=~w}return _s=o,Qm(),c}function Rj(a,o){Je=null,G.H=ff,o===nu||o===ap?(o=WT(),Tt=3):o===Gy?(o=WT(),Tt=4):Tt=o===_b?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ui=o,it===null&&(pn=1,bp(a,Ci(o,a.current)))}function kj(){var a=li.current;return a===null?!0:(st&4194048)===st?Ri===null:(st&62914560)===st||(st&536870912)!==0?a===Ri:!1}function Mj(){var a=G.H;return G.H=ff,a===null?ff:a}function Dj(){var a=G.A;return G.A=NV,a}function Pp(){pn=4,Io||(st&4194048)!==st&&li.current!==null||(uu=!0),(Ro&134217727)===0&&(Wl&134217727)===0||zt===null||Do(zt,st,di,!1)}function Hb(a,o,c){var m=xt;xt|=2;var y=Mj(),w=Dj();(zt!==a||st!==o)&&(Cp=null,hu(a,o)),o=!1;var O=pn;e:do try{if(Tt!==0&&it!==null){var B=it,J=ui;switch(Tt){case 8:Fb(),O=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(o=!0);var ue=Tt;if(Tt=0,ui=null,mu(a,B,J,ue),c&&uu){O=0;break e}break;default:ue=Tt,Tt=0,ui=null,mu(a,B,J,ue)}}PV(),O=pn;break}catch(be){Rj(a,be)}while(!0);return o&&a.shellSuspendCounter++,fs=$l=null,xt=m,G.H=y,G.A=w,it===null&&(zt=null,st=0,Qm()),O}function PV(){for(;it!==null;)Lj(it)}function IV(a,o){var c=xt;xt|=2;var m=Mj(),y=Dj();zt!==a||st!==o?(Cp=null,Np=Mn()+500,hu(a,o)):uu=Pr(a,o);e:do try{if(Tt!==0&&it!==null){o=it;var w=ui;t:switch(Tt){case 1:Tt=0,ui=null,mu(a,o,w,1);break;case 2:case 9:if(YT(w)){Tt=0,ui=null,zj(o);break}o=function(){Tt!==2&&Tt!==9||zt!==a||(Tt=7),ka(a)},w.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:YT(w)?(Tt=0,ui=null,zj(o)):(Tt=0,ui=null,mu(a,o,w,7));break;case 5:var O=null;switch(it.tag){case 26:O=it.memoizedState;case 5:case 27:var B=it;if(O?SN(O):B.stateNode.complete){Tt=0,ui=null;var J=B.sibling;if(J!==null)it=J;else{var ue=B.return;ue!==null?(it=ue,Ip(ue)):it=null}break t}}Tt=0,ui=null,mu(a,o,w,5);break;case 6:Tt=0,ui=null,mu(a,o,w,6);break;case 8:Fb(),pn=6;break e;default:throw Error(r(462))}}RV();break}catch(be){Rj(a,be)}while(!0);return fs=$l=null,G.H=m,G.A=y,xt=c,it!==null?0:(zt=null,st=0,Qm(),pn)}function RV(){for(;it!==null&&!bi();)Lj(it)}function Lj(a){var o=oj(a.alternate,a,_s);a.memoizedProps=a.pendingProps,o===null?Ip(a):it=o}function zj(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=tj(c,o,o.pendingProps,o.type,void 0,st);break;case 11:o=tj(c,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:sb(o);default:cj(c,o),o=it=DT(o,_s),o=oj(c,o,_s)}a.memoizedProps=a.pendingProps,o===null?Ip(a):it=o}function mu(a,o,c,m){fs=$l=null,sb(o),ru=null,rf=0;var y=o.return;try{if(wV(a,y,o,c,st)){pn=1,bp(a,Ci(c,a.current)),it=null;return}}catch(w){if(y!==null)throw it=y,w;pn=1,bp(a,Ci(c,a.current)),it=null;return}o.flags&32768?(dt||m===1?a=!0:uu||(st&536870912)!==0?a=!1:(Io=a=!0,(m===2||m===9||m===3||m===6)&&(m=li.current,m!==null&&m.tag===13&&(m.flags|=16384))),Vj(o,a)):Ip(o)}function Ip(a){var o=a;do{if((o.flags&32768)!==0){Vj(o,Io);return}a=o.return;var c=EV(o.alternate,o,_s);if(c!==null){it=c;return}if(o=o.sibling,o!==null){it=o;return}it=o=a}while(o!==null);pn===0&&(pn=5)}function Vj(a,o){do{var c=AV(a.alternate,a);if(c!==null){c.flags&=32767,it=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){it=a;return}it=a=c}while(a!==null);pn=6,it=null}function $j(a,o,c,m,y,w,O,B,J){a.cancelPendingCommit=null;do Rp();while(Dn!==0);if((xt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=Ry,Al(a,c,w,O,B,J),a===zt&&(it=zt=null,st=0),fu=o,Mo=a,Ss=c,Ub=w,Bb=y,Cj=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,LV(rr,function(){return Hj(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,y=K.p,K.p=2,O=xt,xt|=4;try{TV(a,o,c)}finally{xt=O,K.p=y,G.T=m}}Dn=1,Uj(),Bj(),qj()}}function Uj(){if(Dn===1){Dn=0;var a=Mo,o=fu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var m=K.p;K.p=2;var y=xt;xt|=4;try{wj(o,a);var w=rx,O=jT(a.containerInfo),B=w.focusedElem,J=w.selectionRange;if(O!==B&&B&&B.ownerDocument&&TT(B.ownerDocument.documentElement,B)){if(J!==null&&Ny(B)){var ue=J.start,be=J.end;if(be===void 0&&(be=ue),"selectionStart"in B)B.selectionStart=ue,B.selectionEnd=Math.min(be,B.value.length);else{var _e=B.ownerDocument||document,fe=_e&&_e.defaultView||window;if(fe.getSelection){var ve=fe.getSelection(),ze=B.textContent.length,qe=Math.min(J.start,ze),kt=J.end===void 0?qe:Math.min(J.end,ze);!ve.extend&&qe>kt&&(O=kt,kt=qe,qe=O);var ie=AT(B,qe),te=AT(B,kt);if(ie&&te&&(ve.rangeCount!==1||ve.anchorNode!==ie.node||ve.anchorOffset!==ie.offset||ve.focusNode!==te.node||ve.focusOffset!==te.offset)){var ce=_e.createRange();ce.setStart(ie.node,ie.offset),ve.removeAllRanges(),qe>kt?(ve.addRange(ce),ve.extend(te.node,te.offset)):(ce.setEnd(te.node,te.offset),ve.addRange(ce))}}}}for(_e=[],ve=B;ve=ve.parentNode;)ve.nodeType===1&&_e.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<_e.length;B++){var we=_e[B];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Hp=!!nx,rx=nx=null}finally{xt=y,K.p=m,G.T=c}}a.current=o,Dn=2}}function Bj(){if(Dn===2){Dn=0;var a=Mo,o=fu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var m=K.p;K.p=2;var y=xt;xt|=4;try{gj(a,o.alternate,o)}finally{xt=y,K.p=m,G.T=c}}Dn=3}}function qj(){if(Dn===4||Dn===3){Dn=0,xi();var a=Mo,o=fu,c=Ss,m=Cj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Dn=5:(Dn=0,fu=Mo=null,Fj(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(ko=null),Oe(c),o=o.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ir,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,y=K.p,K.p=2,G.T=null;try{for(var w=a.onRecoverableError,O=0;O<m.length;O++){var B=m[O];w(B.value,{componentStack:B.stack})}}finally{G.T=o,K.p=y}}(Ss&3)!==0&&Rp(),ka(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===qb?wf++:(wf=0,qb=a):wf=0,_f(0)}}function Fj(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,tf(o)))}function Rp(){return Uj(),Bj(),qj(),Hj()}function Hj(){if(Dn!==5)return!1;var a=Mo,o=Ub;Ub=0;var c=Oe(Ss),m=G.T,y=K.p;try{K.p=32>c?32:c,G.T=null,c=Bb,Bb=null;var w=Mo,O=Ss;if(Dn=0,fu=Mo=null,Ss=0,(xt&6)!==0)throw Error(r(331));var B=xt;if(xt|=4,Tj(w.current),Sj(w,w.current,O,c),xt=B,_f(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ir,w)}catch{}return!0}finally{K.p=y,G.T=m,Fj(a,o)}}function Kj(a,o,c){o=Ci(c,o),o=wb(a.stateNode,o,2),a=No(a,o,2),a!==null&&(_i(a,2),ka(a))}function jt(a,o,c){if(a.tag===3)Kj(a,a,c);else for(;o!==null;){if(o.tag===3){Kj(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ko===null||!ko.has(m))){a=Ci(c,a),c=Y2(2),m=No(o,c,2),m!==null&&(G2(c,m,o,a),_i(m,2),ka(m));break}}o=o.return}}function Kb(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new CV;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(zb=!0,y.add(c),a=kV.bind(null,a,o,c),o.then(a,a))}function kV(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,zt===a&&(st&c)===c&&(pn===4||pn===3&&(st&62914560)===st&&300>Mn()-jp?(xt&2)===0&&hu(a,0):Vb|=c,du===st&&(du=0)),ka(a)}function Yj(a,o){o===0&&(o=uo()),a=Ll(a,o),a!==null&&(_i(a,o),ka(a))}function MV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),Yj(a,c)}function DV(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),Yj(a,c)}function LV(a,o){return Lt(a,o)}var kp=null,pu=null,Yb=!1,Mp=!1,Gb=!1,Lo=0;function ka(a){a!==pu&&a.next===null&&(pu===null?kp=pu=a:pu=pu.next=a),Mp=!0,Yb||(Yb=!0,VV())}function _f(a,o){if(!Gb&&Mp){Gb=!0;do for(var c=!1,m=kp;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var O=m.suspendedLanes,B=m.pingedLanes;w=(1<<31-Ft(42|a)+1)-1,w&=y&~(O&~B),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Qj(m,w))}else w=st,w=zr(m,m===zt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Pr(m,w)||(c=!0,Qj(m,w));m=m.next}while(c);Gb=!1}}function zV(){Gj()}function Gj(){Mp=Yb=!1;var a=0;Lo!==0&&WV()&&(a=Lo);for(var o=Mn(),c=null,m=kp;m!==null;){var y=m.next,w=Wj(m,o);w===0?(m.next=null,c===null?kp=y:c.next=y,y===null&&(pu=c)):(c=m,(a!==0||(w&3)!==0)&&(Mp=!0)),m=y}Dn!==0&&Dn!==5||_f(a),Lo!==0&&(Lo=0)}function Wj(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var O=31-Ft(w),B=1<<O,J=y[O];J===-1?((B&c)===0||(B&m)!==0)&&(y[O]=El(B,o)):J<=o&&(a.expiredLanes|=B),w&=~B}if(o=zt,c=st,c=zr(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Xe(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Pr(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&Xe(m),Oe(c)){case 2:case 8:c=nr;break;case 32:c=rr;break;case 268435456:c=va;break;default:c=rr}return m=Xj.bind(null,a),c=Lt(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&Xe(m),a.callbackPriority=2,a.callbackNode=null,2}function Xj(a,o){if(Dn!==0&&Dn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Rp()&&a.callbackNode!==c)return null;var m=st;return m=zr(a,a===zt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Pj(a,m,o),Wj(a,Mn()),a.callbackNode!=null&&a.callbackNode===c?Xj.bind(null,a):null)}function Qj(a,o){if(Rp())return null;Pj(a,o,!0)}function VV(){QV(function(){(xt&6)!==0?Lt(as,zV):Gj()})}function Wb(){if(Lo===0){var a=eu;a===0&&(a=Or,Or<<=1,(Or&261888)===0&&(Or=256)),Lo=a}return Lo}function Jj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Vc(""+a)}function Zj(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function $V(a,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var w=Jj((y[Et]||null).action),O=m.submitter;O&&(o=(o=O[Et]||null)?Jj(o.formAction):O.getAttribute("formAction"),o!==null&&(w=o,O=null));var B=new ja("action","action",null,m,y);a.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Lo!==0){var J=O?Zj(y,O):new FormData(y);pb(c,{pending:!0,data:J,method:y.method,action:w},null,J)}}else typeof w=="function"&&(B.preventDefault(),J=O?Zj(y,O):new FormData(y),pb(c,{pending:!0,data:J,method:y.method,action:w},w,J))},currentTarget:y}]})}}for(var Xb=0;Xb<Iy.length;Xb++){var Qb=Iy[Xb],UV=Qb.toLowerCase(),BV=Qb[0].toUpperCase()+Qb.slice(1);Zi(UV,"on"+BV)}Zi(OT,"onAnimationEnd"),Zi(PT,"onAnimationIteration"),Zi(IT,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(iV,"onTransitionRun"),Zi(aV,"onTransitionStart"),Zi(sV,"onTransitionCancel"),Zi(RT,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sf));function eN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var O=m.length-1;0<=O;O--){var B=m[O],J=B.instance,ue=B.currentTarget;if(B=B.listener,J!==w&&y.isPropagationStopped())break e;w=B,y.currentTarget=ue;try{w(y)}catch(be){Xm(be)}y.currentTarget=null,w=J}else for(O=0;O<m.length;O++){if(B=m[O],J=B.instance,ue=B.currentTarget,B=B.listener,J!==w&&y.isPropagationStopped())break e;w=B,y.currentTarget=ue;try{w(y)}catch(be){Xm(be)}y.currentTarget=null,w=J}}}}function at(a,o){var c=o[fo];c===void 0&&(c=o[fo]=new Set);var m=a+"__bubble";c.has(m)||(tN(o,a,2,!1),c.add(m))}function Jb(a,o,c){var m=0;o&&(m|=4),tN(c,a,m,o)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function Zb(a){if(!a[Dp]){a[Dp]=!0,kd.forEach(function(c){c!=="selectionchange"&&(qV.has(c)||Jb(c,!1,a),Jb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Dp]||(o[Dp]=!0,Jb("selectionchange",!1,o))}}function tN(a,o,c,m){switch(ON(o)){case 2:var y=v8;break;case 8:y=y8;break;default:y=mx}c=y.bind(null,o,c,a),y=void 0,!Cl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function ex(a,o,c,m,y){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var B=m.stateNode.containerInfo;if(B===y)break;if(O===4)for(O=m.return;O!==null;){var J=O.tag;if((J===3||J===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;B!==null;){if(O=xa(B),O===null)return;if(J=O.tag,J===5||J===6||J===26||J===27){m=w=O;continue e}B=B.parentNode}}m=m.return}yo(function(){var ue=w,be=Ai(c),_e=[];e:{var fe=kT.get(a);if(fe!==void 0){var ve=ja,ze=a;switch(a){case"keypress":if(Pl(c)===0)break e;case"keydown":case"keyup":ve=Ym;break;case"focusin":ze="focus",ve=Rl;break;case"focusout":ze="blur",ve=Rl;break;case"beforeblur":case"afterblur":ve=Rl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=T;break;case OT:case PT:case IT:ve=$m;break;case RT:ve=F;break;case"scroll":case"scrollend":ve=Kd;break;case"wheel":ve=ge;break;case"copy":case"cut":case"paste":ve=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=cs;break;case"toggle":case"beforetoggle":ve=Qe}var qe=(o&4)!==0,kt=!qe&&(a==="scroll"||a==="scrollend"),ie=qe?fe!==null?fe+"Capture":null:fe;qe=[];for(var te=ue,ce;te!==null;){var we=te;if(ce=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ce===null||ie===null||(we=Wi(te,ie),we!=null&&qe.push(Ef(te,we,ce))),kt)break;te=te.return}0<qe.length&&(fe=new ve(fe,ze,null,c,be),_e.push({event:fe,listeners:qe}))}}if((o&7)===0){e:{if(fe=a==="mouseover"||a==="pointerover",ve=a==="mouseout"||a==="pointerout",fe&&c!==qd&&(ze=c.relatedTarget||c.fromElement)&&(xa(ze)||ze[Si]))break e;if((ve||fe)&&(fe=be.window===be?be:(fe=be.ownerDocument)?fe.defaultView||fe.parentWindow:window,ve?(ze=c.relatedTarget||c.toElement,ve=ue,ze=ze?xa(ze):null,ze!==null&&(kt=s(ze),qe=ze.tag,ze!==kt||qe!==5&&qe!==27&&qe!==6)&&(ze=null)):(ve=null,ze=ue),ve!==ze)){if(qe=Yd,we="onMouseLeave",ie="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(qe=cs,we="onPointerLeave",ie="onPointerEnter",te="pointer"),kt=ve==null?fe:ii(ve),ce=ze==null?fe:ii(ze),fe=new qe(we,te+"leave",ve,c,be),fe.target=kt,fe.relatedTarget=ce,we=null,xa(be)===ue&&(qe=new qe(ie,te+"enter",ze,c,be),qe.target=ce,qe.relatedTarget=kt,we=qe),kt=we,ve&&ze)t:{for(qe=FV,ie=ve,te=ze,ce=0,we=ie;we;we=qe(we))ce++;we=0;for(var $e=te;$e;$e=qe($e))we++;for(;0<ce-we;)ie=qe(ie),ce--;for(;0<we-ce;)te=qe(te),we--;for(;ce--;){if(ie===te||te!==null&&ie===te.alternate){qe=ie;break t}ie=qe(ie),te=qe(te)}qe=null}else qe=null;ve!==null&&nN(_e,fe,ve,qe,!1),ze!==null&&kt!==null&&nN(_e,kt,ze,qe,!0)}}e:{if(fe=ue?ii(ue):window,ve=fe.nodeName&&fe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&fe.type==="file")var pt=bT;else if(vT(fe))if(xT)pt=tV;else{pt=Z9;var Ve=J9}else ve=fe.nodeName,!ve||ve.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&zc(ue.elementType)&&(pt=bT):pt=eV;if(pt&&(pt=pt(a,ue))){yT(_e,pt,c,be);break e}Ve&&Ve(a,fe,ue),a==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&$d(fe,"number",fe.value)}switch(Ve=ue?ii(ue):window,a){case"focusin":(vT(Ve)||Ve.contentEditable==="true")&&(Kc=Ve,Cy=ue,Jd=null);break;case"focusout":Jd=Cy=Kc=null;break;case"mousedown":Oy=!0;break;case"contextmenu":case"mouseup":case"dragend":Oy=!1,NT(_e,c,be);break;case"selectionchange":if(rV)break;case"keydown":case"keyup":NT(_e,c,be)}var et;if(bt)e:{switch(a){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Hc?kl(a,c)&&(ot="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(ot="onCompositionStart");ot&&(Oa&&c.locale!=="ko"&&(Hc||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Hc&&(et=Hd()):(Ta=be,Fd="value"in Ta?Ta.value:Ta.textContent,Hc=!0)),Ve=Lp(ue,ot),0<Ve.length&&(ot=new Ca(ot,a,null,c,be),_e.push({event:ot,listeners:Ve}),et?ot.data=et:(et=Fc(c),et!==null&&(ot.data=et)))),(et=ji?G9(a,c):W9(a,c))&&(ot=Lp(ue,"onBeforeInput"),0<ot.length&&(Ve=new Ca("onBeforeInput","beforeinput",null,c,be),_e.push({event:Ve,listeners:ot}),Ve.data=et)),$V(_e,a,ue,c,be)}eN(_e,o)})}function Ef(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Lp(a,o){for(var c=o+"Capture",m=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Wi(a,c),y!=null&&m.unshift(Ef(a,y,w)),y=Wi(a,o),y!=null&&m.push(Ef(a,y,w))),a.tag===3)return m;a=a.return}return[]}function FV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nN(a,o,c,m,y){for(var w=o._reactName,O=[];c!==null&&c!==m;){var B=c,J=B.alternate,ue=B.stateNode;if(B=B.tag,J!==null&&J===m)break;B!==5&&B!==26&&B!==27||ue===null||(J=ue,y?(ue=Wi(c,w),ue!=null&&O.unshift(Ef(c,ue,J))):y||(ue=Wi(c,w),ue!=null&&O.push(Ef(c,ue,J)))),c=c.return}O.length!==0&&a.push({event:o,listeners:O})}var HV=/\r\n?/g,KV=/\u0000|\uFFFD/g;function rN(a){return(typeof a=="string"?a:""+a).replace(HV,`
`).replace(KV,"")}function iN(a,o){return o=rN(o),rN(a)===o}function Rt(a,o,c,m,y,w){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ur(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ur(a,""+m);break;case"className":ai(a,"class",m);break;case"tabIndex":ai(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(a,c,m);break;case"style":Bd(a,m,w);break;case"data":if(o!=="object"){ai(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Vc(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&Rt(a,o,"name",y.name,y,null),Rt(a,o,"formEncType",y.formEncType,y,null),Rt(a,o,"formMethod",y.formMethod,y,null),Rt(a,o,"formTarget",y.formTarget,y,null)):(Rt(a,o,"encType",y.encType,y,null),Rt(a,o,"method",y.method,y,null),Rt(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Vc(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Gi);break;case"onScroll":m!=null&&at("scroll",a);break;case"onScrollEnd":m!=null&&at("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Vc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":at("beforetoggle",a),at("toggle",a),Dc(a,"popover",m);break;case"xlinkActuate":En(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":En(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":En(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":En(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":En(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":En(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":En(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":En(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":En(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Dc(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Lm.get(c)||c,Dc(a,c,m))}}function tx(a,o,c,m,y,w){switch(c){case"style":Bd(a,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?Ur(a,m):(typeof m=="number"||typeof m=="bigint")&&Ur(a,""+m);break;case"onScroll":m!=null&&at("scroll",a);break;case"onScrollEnd":m!=null&&at("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Md.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),w=a[Et]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(o,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Dc(a,c,m)}}}function ur(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",a),at("load",a);var m=!1,y=!1,w;for(w in c)if(c.hasOwnProperty(w)){var O=c[w];if(O!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,w,O,c,null)}}y&&Rt(a,o,"srcSet",c.srcSet,c,null),m&&Rt(a,o,"src",c.src,c,null);return;case"input":at("invalid",a);var B=w=O=y=null,J=null,ue=null;for(m in c)if(c.hasOwnProperty(m)){var be=c[m];if(be!=null)switch(m){case"name":y=be;break;case"type":O=be;break;case"checked":J=be;break;case"defaultChecked":ue=be;break;case"value":w=be;break;case"defaultValue":B=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,o));break;default:Rt(a,o,m,be,c,null)}}km(a,w,B,J,ue,O,y,!1);return;case"select":at("invalid",a),m=O=w=null;for(y in c)if(c.hasOwnProperty(y)&&(B=c[y],B!=null))switch(y){case"value":w=B;break;case"defaultValue":O=B;break;case"multiple":m=B;default:Rt(a,o,y,B,c,null)}o=w,c=O,a.multiple=!!m,o!=null?mo(a,!!m,o,!1):c!=null&&mo(a,!!m,c,!0);return;case"textarea":at("invalid",a),w=y=m=null;for(O in c)if(c.hasOwnProperty(O)&&(B=c[O],B!=null))switch(O){case"value":m=B;break;case"defaultValue":y=B;break;case"children":w=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Rt(a,o,O,B,c,null)}po(a,m,y,w);return;case"option":for(J in c)c.hasOwnProperty(J)&&(m=c[J],m!=null)&&(J==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Rt(a,o,J,m,c,null));return;case"dialog":at("beforetoggle",a),at("toggle",a),at("cancel",a),at("close",a);break;case"iframe":case"object":at("load",a);break;case"video":case"audio":for(m=0;m<Sf.length;m++)at(Sf[m],a);break;case"image":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"embed":case"source":case"link":at("error",a),at("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(m=c[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,ue,m,c,null)}return;default:if(zc(o)){for(be in c)c.hasOwnProperty(be)&&(m=c[be],m!==void 0&&tx(a,o,be,m,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(m=c[B],m!=null&&Rt(a,o,B,m,c,null))}function YV(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,O=null,B=null,J=null,ue=null,be=null;for(ve in c){var _e=c[ve];if(c.hasOwnProperty(ve)&&_e!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":J=_e;default:m.hasOwnProperty(ve)||Rt(a,o,ve,null,m,_e)}}for(var fe in m){var ve=m[fe];if(_e=c[fe],m.hasOwnProperty(fe)&&(ve!=null||_e!=null))switch(fe){case"type":w=ve;break;case"name":y=ve;break;case"checked":ue=ve;break;case"defaultChecked":be=ve;break;case"value":O=ve;break;case"defaultValue":B=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,o));break;default:ve!==_e&&Rt(a,o,fe,ve,m,_e)}}Lc(a,O,B,J,ue,be,w,y);return;case"select":ve=O=B=fe=null;for(w in c)if(J=c[w],c.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":ve=J;default:m.hasOwnProperty(w)||Rt(a,o,w,null,m,J)}for(y in m)if(w=m[y],J=c[y],m.hasOwnProperty(y)&&(w!=null||J!=null))switch(y){case"value":fe=w;break;case"defaultValue":B=w;break;case"multiple":O=w;default:w!==J&&Rt(a,o,y,w,m,J)}o=B,c=O,m=ve,fe!=null?mo(a,!!c,fe,!1):!!m!=!!c&&(o!=null?mo(a,!!c,o,!0):mo(a,!!c,c?[]:"",!1));return;case"textarea":ve=fe=null;for(B in c)if(y=c[B],c.hasOwnProperty(B)&&y!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Rt(a,o,B,null,m,y)}for(O in m)if(y=m[O],w=c[O],m.hasOwnProperty(O)&&(y!=null||w!=null))switch(O){case"value":fe=y;break;case"defaultValue":ve=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&Rt(a,o,O,y,m,w)}Mm(a,fe,ve);return;case"option":for(var ze in c)fe=c[ze],c.hasOwnProperty(ze)&&fe!=null&&!m.hasOwnProperty(ze)&&(ze==="selected"?a.selected=!1:Rt(a,o,ze,null,m,fe));for(J in m)fe=m[J],ve=c[J],m.hasOwnProperty(J)&&fe!==ve&&(fe!=null||ve!=null)&&(J==="selected"?a.selected=fe&&typeof fe!="function"&&typeof fe!="symbol":Rt(a,o,J,fe,m,ve));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)fe=c[qe],c.hasOwnProperty(qe)&&fe!=null&&!m.hasOwnProperty(qe)&&Rt(a,o,qe,null,m,fe);for(ue in m)if(fe=m[ue],ve=c[ue],m.hasOwnProperty(ue)&&fe!==ve&&(fe!=null||ve!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:Rt(a,o,ue,fe,m,ve)}return;default:if(zc(o)){for(var kt in c)fe=c[kt],c.hasOwnProperty(kt)&&fe!==void 0&&!m.hasOwnProperty(kt)&&tx(a,o,kt,void 0,m,fe);for(be in m)fe=m[be],ve=c[be],!m.hasOwnProperty(be)||fe===ve||fe===void 0&&ve===void 0||tx(a,o,be,fe,m,ve);return}}for(var ie in c)fe=c[ie],c.hasOwnProperty(ie)&&fe!=null&&!m.hasOwnProperty(ie)&&Rt(a,o,ie,null,m,fe);for(_e in m)fe=m[_e],ve=c[_e],!m.hasOwnProperty(_e)||fe===ve||fe==null&&ve==null||Rt(a,o,_e,fe,m,ve)}function aN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],w=y.transferSize,O=y.initiatorType,B=y.duration;if(w&&B&&aN(O)){for(O=0,B=y.responseEnd,m+=1;m<c.length;m++){var J=c[m],ue=J.startTime;if(ue>B)break;var be=J.transferSize,_e=J.initiatorType;be&&aN(_e)&&(J=J.responseEnd,O+=be*(J<B?1:(B-ue)/(J-ue)))}if(--m,o+=8*(w+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var nx=null,rx=null;function zp(a){return a.nodeType===9?a:a.ownerDocument}function sN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function ix(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ax=null;function WV(){var a=window.event;return a&&a.type==="popstate"?a===ax?!1:(ax=a,!0):(ax=null,!1)}var lN=typeof setTimeout=="function"?setTimeout:void 0,XV=typeof clearTimeout=="function"?clearTimeout:void 0,cN=typeof Promise=="function"?Promise:void 0,QV=typeof queueMicrotask=="function"?queueMicrotask:typeof cN<"u"?function(a){return cN.resolve(null).then(a).catch(JV)}:lN;function JV(a){setTimeout(function(){throw a})}function zo(a){return a==="head"}function uN(a,o){var c=o,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),bu(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Af(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Af(c);for(var w=c.firstChild;w;){var O=w.nextSibling,B=w.nodeName;w[hn]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=O}}else c==="body"&&Af(a.ownerDocument.body);c=y}while(c);bu(o)}function dN(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function sx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":sx(c),Yi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function ZV(a,o,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[hn])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=ki(a.nextSibling),a===null)break}return null}function e8(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=ki(a.nextSibling),a===null))return null;return a}function fN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=ki(a.nextSibling),a===null))return null;return a}function ox(a){return a.data==="$?"||a.data==="$~"}function lx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function t8(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function ki(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var cx=null;function hN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return ki(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function mN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function pN(a,o,c){switch(o=zp(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Af(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Yi(a)}var Mi=new Map,gN=new Set;function Vp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Es=K.d;K.d={f:n8,r:r8,D:i8,C:a8,L:s8,m:o8,X:c8,S:l8,M:u8};function n8(){var a=Es.f(),o=Op();return a||o}function r8(a){var o=Ei(a);o!==null&&o.tag===5&&o.type==="form"?R2(o):Es.r(a)}var gu=typeof document>"u"?null:document;function vN(a,o,c){var m=gu;if(m&&typeof o=="string"&&o){var y=$r(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),gN.has(y)||(gN.add(y),a={rel:a,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),ur(o,"link",a),Sn(o),m.head.appendChild(o)))}}function i8(a){Es.D(a),vN("dns-prefetch",a,null)}function a8(a,o){Es.C(a,o),vN("preconnect",a,o)}function s8(a,o,c){Es.L(a,o,c);var m=gu;if(m&&a&&o){var y='link[rel="preload"][as="'+$r(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+$r(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+$r(c.imageSizes)+'"]')):y+='[href="'+$r(a)+'"]';var w=y;switch(o){case"style":w=vu(a);break;case"script":w=yu(a)}Mi.has(w)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Mi.set(w,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(Tf(w))||o==="script"&&m.querySelector(jf(w))||(o=m.createElement("link"),ur(o,"link",a),Sn(o),m.head.appendChild(o)))}}function o8(a,o){Es.m(a,o);var c=gu;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+$r(m)+'"][href="'+$r(a)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=yu(a)}if(!Mi.has(w)&&(a=g({rel:"modulepreload",href:a},o),Mi.set(w,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(jf(w)))return}m=c.createElement("link"),ur(m,"link",a),Sn(m),c.head.appendChild(m)}}}function l8(a,o,c){Es.S(a,o,c);var m=gu;if(m&&a){var y=wa(m).hoistableStyles,w=vu(a);o=o||"default";var O=y.get(w);if(!O){var B={loading:0,preload:null};if(O=m.querySelector(Tf(w)))B.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Mi.get(w))&&ux(a,c);var J=O=m.createElement("link");Sn(J),ur(J,"link",a),J._p=new Promise(function(ue,be){J.onload=ue,J.onerror=be}),J.addEventListener("load",function(){B.loading|=1}),J.addEventListener("error",function(){B.loading|=2}),B.loading|=4,$p(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:B},y.set(w,O)}}}function c8(a,o){Es.X(a,o);var c=gu;if(c&&a){var m=wa(c).hoistableScripts,y=yu(a),w=m.get(y);w||(w=c.querySelector(jf(y)),w||(a=g({src:a,async:!0},o),(o=Mi.get(y))&&dx(a,o),w=c.createElement("script"),Sn(w),ur(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function u8(a,o){Es.M(a,o);var c=gu;if(c&&a){var m=wa(c).hoistableScripts,y=yu(a),w=m.get(y);w||(w=c.querySelector(jf(y)),w||(a=g({src:a,async:!0,type:"module"},o),(o=Mi.get(y))&&dx(a,o),w=c.createElement("script"),Sn(w),ur(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function yN(a,o,c,m){var y=(y=pe.current)?Vp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=vu(c.href),c=wa(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=vu(c.href);var w=wa(y).hoistableStyles,O=w.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,O),(w=y.querySelector(Tf(a)))&&!w._p&&(O.instance=w,O.state.loading=5),Mi.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Mi.set(a,c),w||d8(y,a,c,O.state))),o&&m===null)throw Error(r(528,""));return O}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=yu(c),c=wa(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function vu(a){return'href="'+$r(a)+'"'}function Tf(a){return'link[rel="stylesheet"]['+a+"]"}function bN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function d8(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ur(o,"link",c),Sn(o),a.head.appendChild(o))}function yu(a){return'[src="'+$r(a)+'"]'}function jf(a){return"script[async]"+a}function xN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+$r(c.href)+'"]');if(m)return o.instance=m,Sn(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Sn(m),ur(m,"style",y),$p(m,c.precedence,a),o.instance=m;case"stylesheet":y=vu(c.href);var w=a.querySelector(Tf(y));if(w)return o.state.loading|=4,o.instance=w,Sn(w),w;m=bN(c),(y=Mi.get(y))&&ux(m,y),w=(a.ownerDocument||a).createElement("link"),Sn(w);var O=w;return O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),ur(w,"link",m),o.state.loading|=4,$p(w,c.precedence,a),o.instance=w;case"script":return w=yu(c.src),(y=a.querySelector(jf(w)))?(o.instance=y,Sn(y),y):(m=c,(y=Mi.get(w))&&(m=g({},c),dx(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),Sn(y),ur(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,$p(m,c.precedence,a));return o.instance}function $p(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,O=0;O<m.length;O++){var B=m[O];if(B.dataset.precedence===o)w=B;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function ux(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function dx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Up=null;function wN(a,o,c){if(Up===null){var m=new Map,y=Up=new Map;y.set(c,m)}else y=Up,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var w=c[y];if(!(w[hn]||w[tn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(o)||"";O=a+O;var B=m.get(O);B?B.push(w):m.set(O,[w])}}return m}function _N(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function f8(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function SN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function h8(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=vu(m.href),w=o.querySelector(Tf(y));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Bp.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=w,Sn(w);return}w=o.ownerDocument||o,m=bN(m),(y=Mi.get(y))&&ux(m,y),w=w.createElement("link"),Sn(w);var O=w;O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),ur(w,"link",m),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Bp.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var fx=0;function m8(a,o){return a.stylesheets&&a.count===0&&Fp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Fp(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&fx===0&&(fx=62500*GV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Fp(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>fx?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Bp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var qp=null;function Fp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,qp=new Map,o.forEach(p8,a),qp=null,Bp.call(a))}function p8(a,o){if(!(o.state.loading&4)){var c=qp.get(a);if(c)var m=c.get(null);else{c=new Map,qp.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var O=y[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),m=O)}m&&c.set(null,m)}y=o.instance,O=y.getAttribute("data-precedence"),w=c.get(O)||m,w===m&&c.set(null,y),c.set(O,y),this.count++,m=Bp.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Nf={$$typeof:L,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function g8(a,o,c,m,y,w,O,B,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function EN(a,o,c,m,y,w,O,B,J,ue,be,_e){return a=new g8(a,o,c,O,J,ue,be,_e,B),o=1,w===!0&&(o|=24),w=oi(3,null,null,o),a.current=w,w.stateNode=a,o=Hy(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:c,cache:o},Wy(w),a}function AN(a){return a?(a=Wc,a):Wc}function TN(a,o,c,m,y,w){y=AN(y),m.context===null?m.context=y:m.pendingContext=y,m=jo(o),m.payload={element:c},w=w===void 0?null:w,w!==null&&(m.callback=w),c=No(a,m,o),c!==null&&(Kr(c,a,o),sf(c,a,o))}function jN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function hx(a,o){jN(a,o),(a=a.alternate)&&jN(a,o)}function NN(a){if(a.tag===13||a.tag===31){var o=Ll(a,67108864);o!==null&&Kr(o,a,67108864),hx(a,67108864)}}function CN(a){if(a.tag===13||a.tag===31){var o=fi();o=Ne(o);var c=Ll(a,o);c!==null&&Kr(c,a,o),hx(a,o)}}var Hp=!0;function v8(a,o,c,m){var y=G.T;G.T=null;var w=K.p;try{K.p=2,mx(a,o,c,m)}finally{K.p=w,G.T=y}}function y8(a,o,c,m){var y=G.T;G.T=null;var w=K.p;try{K.p=8,mx(a,o,c,m)}finally{K.p=w,G.T=y}}function mx(a,o,c,m){if(Hp){var y=px(m);if(y===null)ex(a,o,m,Kp,c),PN(a,m);else if(x8(y,a,o,c,m))m.stopPropagation();else if(PN(a,m),o&4&&-1<b8.indexOf(a)){for(;y!==null;){var w=Ei(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=xr(w.pendingLanes);if(O!==0){var B=w;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var J=1<<31-Ft(O);B.entanglements[1]|=J,O&=~J}ka(w),(xt&6)===0&&(Np=Mn()+500,_f(0))}}break;case 31:case 13:B=Ll(w,2),B!==null&&Kr(B,w,2),Op(),hx(w,2)}if(w=px(m),w===null&&ex(a,o,m,Kp,c),w===y)break;y=w}y!==null&&m.stopPropagation()}else ex(a,o,m,null,c)}}function px(a){return a=Ai(a),gx(a)}var Kp=null;function gx(a){if(Kp=null,a=xa(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Kp=a,null}function ON(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case as:return 2;case nr:return 8;case rr:case ga:return 32;case va:return 268435456;default:return 32}default:return 32}}var vx=!1,Vo=null,$o=null,Uo=null,Cf=new Map,Of=new Map,Bo=[],b8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PN(a,o){switch(a){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Cf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(o.pointerId)}}function Pf(a,o,c,m,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Ei(o),o!==null&&NN(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function x8(a,o,c,m,y){switch(o){case"focusin":return Vo=Pf(Vo,a,o,c,m,y),!0;case"dragenter":return $o=Pf($o,a,o,c,m,y),!0;case"mouseover":return Uo=Pf(Uo,a,o,c,m,y),!0;case"pointerover":var w=y.pointerId;return Cf.set(w,Pf(Cf.get(w)||null,a,o,c,m,y)),!0;case"gotpointercapture":return w=y.pointerId,Of.set(w,Pf(Of.get(w)||null,a,o,c,m,y)),!0}return!1}function IN(a){var o=xa(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,mt(a.priority,function(){CN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,mt(a.priority,function(){CN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Yp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=px(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);qd=m,c.target.dispatchEvent(m),qd=null}else return o=Ei(c),o!==null&&NN(o),a.blockedOn=c,!1;o.shift()}return!0}function RN(a,o,c){Yp(a)&&c.delete(o)}function w8(){vx=!1,Vo!==null&&Yp(Vo)&&(Vo=null),$o!==null&&Yp($o)&&($o=null),Uo!==null&&Yp(Uo)&&(Uo=null),Cf.forEach(RN),Of.forEach(RN)}function Gp(a,o){a.blockedOn===o&&(a.blockedOn=null,vx||(vx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,w8)))}var Wp=null;function kN(a){Wp!==a&&(Wp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wp===a&&(Wp=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(gx(m||c)===null)continue;break}var w=Ei(c);w!==null&&(a.splice(o,3),o-=3,pb(w,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function bu(a){function o(J){return Gp(J,a)}Vo!==null&&Gp(Vo,a),$o!==null&&Gp($o,a),Uo!==null&&Gp(Uo,a),Cf.forEach(o),Of.forEach(o);for(var c=0;c<Bo.length;c++){var m=Bo[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Bo.length&&(c=Bo[0],c.blockedOn===null);)IN(c),c.blockedOn===null&&Bo.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],w=c[m+1],O=y[Et]||null;if(typeof w=="function")O||kN(c);else if(O){var B=null;if(w&&w.hasAttribute("formAction")){if(y=w,O=w[Et]||null)B=O.formAction;else if(gx(y)!==null)continue}else B=O.action;typeof B=="function"?c[m+1]=B:(c.splice(m,3),m-=3),kN(c)}}}function MN(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function yx(a){this._internalRoot=a}Xp.prototype.render=yx.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=fi();TN(c,m,a,o,null,null)},Xp.prototype.unmount=yx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;TN(a.current,2,null,a,null,null),Op(),o[Si]=null}};function Xp(a){this._internalRoot=a}Xp.prototype.unstable_scheduleHydration=function(a){if(a){var o=We();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Bo.length&&o!==0&&o<Bo[c].priority;c++);Bo.splice(c,0,a),c===0&&IN(a)}};var DN=e.version;if(DN!=="19.2.3")throw Error(r(527,DN,"19.2.3"));K.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var _8={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ir=Qp.inject(_8),on=Qp}catch{}}return Rf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",y=q2,w=F2,O=H2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=EN(a,1,!1,null,null,c,m,null,y,w,O,MN),a[Si]=o.current,Zb(a),new yx(o)},Rf.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,y="",w=q2,O=F2,B=H2,J=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.formState!==void 0&&(J=c.formState)),o=EN(a,1,!0,o,c??null,m,y,J,w,O,B,MN),o.context=AN(null),c=o.current,m=fi(),m=Ne(m),y=jo(m),y.callback=null,No(c,y,m),c=m,o.current.lanes=c,_i(o,c),ka(o),a[Si]=o.current,Zb(a),new Xp(o)},Rf.version="19.2.3",Rf}var KN;function R8(){if(KN)return wx.exports;KN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wx.exports=I8(),wx.exports}var k8=R8();const M8=()=>{};var YN={};const UM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},BM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|h>>6,_=h&63;f||(_=64,l||(b=64)),r.push(n[p],n[g],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new L8;const b=s<<2|u>>4;if(r.push(b),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z8=function(t){const e=UM(t);return BM.encodeByteArray(e,!0)},Vg=function(t){return z8(t).replace(/\./g,"")},qM=function(t){try{return BM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $8=()=>V8().__FIREBASE_DEFAULTS__,U8=()=>{if(typeof process>"u"||typeof YN>"u")return;const t=YN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qM(t[1]);return e&&JSON.parse(e)},l0=()=>{try{return M8()||$8()||U8()||B8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FM=t=>l0()?.emulatorHosts?.[t],q8=t=>{const e=FM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HM=()=>l0()?.config,KM=t=>l0()?.[`_${t}`];class F8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function od(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YM(t){return(await fetch(t,{credentials:"include"})).ok}function H8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vg(JSON.stringify(n)),Vg(JSON.stringify(l)),""].join(".")}const Qf={};function K8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qf))Qf[e]?t.emulator.push(e):t.prod.push(e);return t}function Y8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let GN=!1;function GM(t,e){if(typeof window>"u"||typeof document>"u"||!od(window.location.host)||Qf[t]===e||Qf[t]||GN)return;Qf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=K8().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{GN=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=Y8(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),C=n("preprendIcon"),$=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const L=b.element;u(L),p(A,E);const q=h();f($,C),L.append($,S,A,q),document.body.appendChild(L)}s?(S.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function W8(){const t=l0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z8(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function e$(){return!W8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t$(){try{return typeof indexedDB=="object"}catch{return!1}}function n$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const r$="FirebaseError";class Zs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r$,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uh.prototype.create)}}class Uh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?i$(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Zs(i,u,r)}}function i$(t,e){return t.replace(a$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a$=/\{\$([^}]+)}/g;function s$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(WN(s)&&WN(l)){if(!mc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function WN(t){return t!==null&&typeof t=="object"}function Bh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function o$(t,e){const n=new l$(t,e);return n.subscribe.bind(n)}class l${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ax),i.error===void 0&&(i.error=Ax),i.complete===void 0&&(i.complete=Ax);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ax(){}function $n(t){return t&&t._delegate?t._delegate:t}class pc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ql="[DEFAULT]";let u$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f$(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function d$(t){return t===Ql?void 0:t}function f$(t){return t.instantiationMode==="EAGER"}class h${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const m$={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},p$=lt.INFO,g$={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},v$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=g$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aS{constructor(e){this.name=e,this._logLevel=p$,this._logHandler=v$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const y$=(t,e)=>e.some(n=>t instanceof n);let XN,QN;function b$(){return XN||(XN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x$(){return QN||(QN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WM=new WeakMap,Nw=new WeakMap,XM=new WeakMap,Tx=new WeakMap,sS=new WeakMap;function w$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(el(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&WM.set(n,t)}).catch(()=>{}),sS.set(e,t),e}function _$(t){if(Nw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Nw.set(t,e)}let Cw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return el(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S$(t){Cw=t(Cw)}function E$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jx(this),e,...n);return XM.set(r,e.sort?e.sort():[e]),el(r)}:x$().includes(t)?function(...e){return t.apply(jx(this),e),el(WM.get(this))}:function(...e){return el(t.apply(jx(this),e))}}function A$(t){return typeof t=="function"?E$(t):(t instanceof IDBTransaction&&_$(t),y$(t,b$())?new Proxy(t,Cw):t)}function el(t){if(t instanceof IDBRequest)return w$(t);if(Tx.has(t))return Tx.get(t);const e=A$(t);return e!==t&&(Tx.set(t,e),sS.set(e,t)),e}const jx=t=>sS.get(t);function T$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=el(l);return r&&l.addEventListener("upgradeneeded",f=>{r(el(l.result),f.oldVersion,f.newVersion,el(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const j$=["get","getKey","getAll","getAllKeys","count"],N$=["put","add","delete","clear"],Nx=new Map;function JN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nx.get(e))return Nx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=N$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j$.includes(n)))return;const s=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return Nx.set(e,s),s}S$(t=>({...t,get:(e,n,r)=>JN(e,n)||t.get(e,n,r),has:(e,n)=>!!JN(e,n)||t.has(e,n)}));class C${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O$(t){return t.getComponent()?.type==="VERSION"}const Ow="@firebase/app",ZN="0.14.6";const Ls=new aS("@firebase/app"),P$="@firebase/app-compat",I$="@firebase/analytics-compat",R$="@firebase/analytics",k$="@firebase/app-check-compat",M$="@firebase/app-check",D$="@firebase/auth",L$="@firebase/auth-compat",z$="@firebase/database",V$="@firebase/data-connect",$$="@firebase/database-compat",U$="@firebase/functions",B$="@firebase/functions-compat",q$="@firebase/installations",F$="@firebase/installations-compat",H$="@firebase/messaging",K$="@firebase/messaging-compat",Y$="@firebase/performance",G$="@firebase/performance-compat",W$="@firebase/remote-config",X$="@firebase/remote-config-compat",Q$="@firebase/storage",J$="@firebase/storage-compat",Z$="@firebase/firestore",eU="@firebase/ai",tU="@firebase/firestore-compat",nU="firebase",rU="12.6.0";const Pw="[DEFAULT]",iU={[Ow]:"fire-core",[P$]:"fire-core-compat",[R$]:"fire-analytics",[I$]:"fire-analytics-compat",[M$]:"fire-app-check",[k$]:"fire-app-check-compat",[D$]:"fire-auth",[L$]:"fire-auth-compat",[z$]:"fire-rtdb",[V$]:"fire-data-connect",[$$]:"fire-rtdb-compat",[U$]:"fire-fn",[B$]:"fire-fn-compat",[q$]:"fire-iid",[F$]:"fire-iid-compat",[H$]:"fire-fcm",[K$]:"fire-fcm-compat",[Y$]:"fire-perf",[G$]:"fire-perf-compat",[W$]:"fire-rc",[X$]:"fire-rc-compat",[Q$]:"fire-gcs",[J$]:"fire-gcs-compat",[Z$]:"fire-fst",[tU]:"fire-fst-compat",[eU]:"fire-vertex","fire-js":"fire-js",[nU]:"fire-js-all"};const $g=new Map,aU=new Map,Iw=new Map;function eC(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bu(t){const e=t.name;if(Iw.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;Iw.set(e,t);for(const n of $g.values())eC(n,t);for(const n of aU.values())eC(n,t);return!0}function oS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $i(t){return t==null?!1:t.settings!==void 0}const sU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new Uh("app","Firebase",sU);class oU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}const ld=rU;function QM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(n||(n=HM()),!n)throw tl.create("no-options");const s=$g.get(i);if(s){if(mc(n,s.options)&&mc(r,s.config))return s;throw tl.create("duplicate-app",{appName:i})}const l=new h$(i);for(const f of Iw.values())l.addComponent(f);const u=new oU(n,r,l);return $g.set(i,u),u}function JM(t=Pw){const e=$g.get(t);if(!e&&t===Pw&&HM())return QM();if(!e)throw tl.create("no-app",{appName:t});return e}function nl(t,e,n){let r=iU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(l.join(" "));return}Bu(new pc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const lU="firebase-heartbeat-database",cU=1,sh="firebase-heartbeat-store";let Cx=null;function ZM(){return Cx||(Cx=T$(lU,cU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),Cx}async function uU(t){try{const n=(await ZM()).transaction(sh),r=await n.objectStore(sh).get(eD(t));return await n.done,r}catch(e){if(e instanceof Zs)Ls.warn(e.message);else{const n=tl.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(n.message)}}}async function tC(t,e){try{const r=(await ZM()).transaction(sh,"readwrite");await r.objectStore(sh).put(e,eD(t)),await r.done}catch(n){if(n instanceof Zs)Ls.warn(n.message);else{const r=tl.create("idb-set",{originalErrorMessage:n?.message});Ls.warn(r.message)}}}function eD(t){return`${t.name}!${t.options.appId}`}const dU=1024,fU=30;class hU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>fU){const i=gU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nC(),{heartbeatsToSend:n,unsentEntries:r}=mU(this._heartbeatsCache.heartbeats),i=Vg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ls.warn(e),""}}}function nC(){return new Date().toISOString().substring(0,10)}function mU(t,e=dU){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),rC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t$()?n$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rC(t){return Vg(JSON.stringify({version:2,heartbeats:t})).length}function gU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function vU(t){Bu(new pc("platform-logger",e=>new C$(e),"PRIVATE")),Bu(new pc("heartbeat",e=>new hU(e),"PRIVATE")),nl(Ow,ZN,t),nl(Ow,ZN,"esm2020"),nl("fire-js","")}vU("");var yU="firebase",bU="12.7.0";nl(yU,bU,"app");function tD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xU=tD,nD=new Uh("auth","Firebase",tD());const Ug=new aS("@firebase/auth");function wU(t,...e){Ug.logLevel<=lt.WARN&&Ug.warn(`Auth (${ld}): ${t}`,...e)}function _g(t,...e){Ug.logLevel<=lt.ERROR&&Ug.error(`Auth (${ld}): ${t}`,...e)}function zs(t,...e){throw lS(t,...e)}function Ua(t,...e){return lS(t,...e)}function rD(t,e,n){const r={...xU(),[e]:n};return new Uh("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return rD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nD.create(t,...e)}function He(t,e,...n){if(!t)throw lS(e,...n)}function js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _g(e),new Error(e)}function Vs(t,e){t||js(e)}function Rw(){return typeof self<"u"&&self.location?.href||""}function _U(){return iC()==="http:"||iC()==="https:"}function iC(){return typeof self<"u"&&self.location?.protocol||null}function SU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_U()||Q8()||"connection"in navigator)?navigator.onLine:!0}function EU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class qh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vs(n>e,"Short delay should be less than long delay!"),this.isMobile=G8()||J8()}get(){return SU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cS(t,e){Vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class iD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jU=new qh(3e4,6e4);function Fh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cd(t,e,n,r,i={}){return aD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Bh({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return X8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&od(t.emulatorConfig.host)&&(h.credentials="include"),iD.fetch()(await sD(t,t.config.apiHost,n,u),h)})}async function aD(t,e,n){t._canInitEmulator=!1;const r={...AU,...e};try{const i=new NU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Jp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Jp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Jp(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw rD(t,p,h);zs(t,p)}}catch(i){if(i instanceof Zs)throw i;zs(t,"network-request-failed",{message:String(i)})}}async function uS(t,e,n,r,i={}){const s=await cd(t,e,n,r,i);return"mfaPendingCredential"in s&&zs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function sD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?cS(t.config,i):`${t.config.apiScheme}://${i}`;return TU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class NU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ua(this.auth,"network-request-failed")),jU.get())})}}function Jp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ua(t,e,r);return i.customData._tokenResponse=n,i}async function CU(t,e){return cd(t,"POST","/v1/accounts:delete",e)}async function Bg(t,e){return cd(t,"POST","/v1/accounts:lookup",e)}function Jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OU(t,e=!1){const n=$n(t),r=await n.getIdToken(e),i=dS(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Jf(Ox(i.auth_time)),issuedAtTime:Jf(Ox(i.iat)),expirationTime:Jf(Ox(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Ox(t){return Number(t)*1e3}function dS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _g("JWT malformed, contained fewer than 3 sections"),null;try{const i=qM(n);return i?JSON.parse(i):(_g("Failed to decode base64 JWT payload"),null)}catch(i){return _g("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aC(t){const e=dS(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zs&&PU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class IU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jf(this.lastLoginAt),this.creationTime=Jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qg(t){const e=t.auth,n=await t.getIdToken(),r=await oh(t,Bg(e,{idToken:n}));He(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?oD(i.providerUserInfo):[],l=kU(t.providerData,s),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,h=u?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new kw(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function RU(t){const e=$n(t);await qg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function MU(t,e){const n=await aD(t,{},async()=>{const r=Bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await sD(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&od(t.emulatorConfig.host)&&(f.credentials="include"),iD.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DU(t,e){return cd(t,"POST","/v2/accounts:revokeToken",Fh(t,e))}class ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=aC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await MU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new ku;return r&&(He(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ku,this.toJSON())}_performRefresh(){return js("not implemented")}}function Fo(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new IU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await oh(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OU(this,e)}reload(){return RU(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($i(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await oh(this,CU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:_,providerData:S,stsTokenManager:E}=n;He(g&&E,e,"internal-error");const A=ku.fromJSON(this.name,E);He(typeof g=="string",e,"internal-error"),Fo(r,e.name),Fo(i,e.name),He(typeof b=="boolean",e,"internal-error"),He(typeof _=="boolean",e,"internal-error"),Fo(s,e.name),Fo(l,e.name),Fo(u,e.name),Fo(f,e.name),Fo(h,e.name),Fo(p,e.name);const C=new oa({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:A,createdAt:h,lastLoginAt:p});return S&&Array.isArray(S)&&(C.providerData=S.map($=>({...$}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ku;i.updateFromServerResponse(n);const s=new oa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new ku;u.updateFromIdToken(r);const f=new oa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const sC=new Map;function Ns(t){Vs(t instanceof Function,"Expected a class definition");let e=sC.get(t);return e?(Vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sC.set(t,e),e)}class lD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lD.type="NONE";const oC=lD;function Sg(t,e,n){return`firebase:${t}:${e}:${n}`}class Mu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bg(this.auth,{idToken:e}).catch(()=>{});return n?oa._fromGetAccountInfoResponse(this.auth,n,e):null}return oa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mu(Ns(oC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ns(oC);const l=Sg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const b=await Bg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await oa._fromGetAccountInfoResponse(e,b,p)}else g=oa._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Mu(s,e,r):(s=f[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Mu(s,e,r))}}function lC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mD(e))return"Blackberry";if(pD(e))return"Webos";if(uD(e))return"Safari";if((e.includes("chrome/")||dD(e))&&!e.includes("edge/"))return"Chrome";if(hD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cD(t=Cr()){return/firefox\//i.test(t)}function uD(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dD(t=Cr()){return/crios\//i.test(t)}function fD(t=Cr()){return/iemobile/i.test(t)}function hD(t=Cr()){return/android/i.test(t)}function mD(t=Cr()){return/blackberry/i.test(t)}function pD(t=Cr()){return/webos/i.test(t)}function fS(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LU(t=Cr()){return fS(t)&&!!window.navigator?.standalone}function zU(){return Z8()&&document.documentMode===10}function gD(t=Cr()){return fS(t)||hD(t)||pD(t)||mD(t)||/windows phone/i.test(t)||fD(t)}function vD(t,e=[]){let n;switch(t){case"Browser":n=lC(Cr());break;case"Worker":n=`${lC(Cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ld}/${r}`}class VU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const f=e(s);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $U(t,e={}){return cd(t,"GET","/v2/passwordPolicy",Fh(t,e))}const UU=6;class BU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class qU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cC(this),this.idTokenSubscription=new cC(this),this.beforeStateQueue=new VU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ns(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bg(this,{idToken:e}),r=await oa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($i(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($i(this.app))return Promise.reject(Rs(this));const n=e?$n(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $i(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $i(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $U(this),n=new BU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ns(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Mu.create(this,[Ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hh(t){return $n(t)}class cC{constructor(e){this.auth=e,this.observer=null,this.addObserver=o$(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FU(t){hS=t}function HU(t){return hS.loadJS(t)}function KU(){return hS.gapiScript}function YU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function GU(t,e){const n=oS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(mc(s,e??{}))return i;zs(i,"already-initialized")}return n.initialize({options:e})}function WU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ns);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function XU(t,e,n){const r=Hh(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=yD(e),{host:l,port:u}=QU(e),f=u===null?"":`:${u}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(mc(h,r.config.emulator)&&mc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,od(l)?(YM(`${s}//${l}${f}`),GM("Auth",!0)):JU()}function yD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QU(t){const e=yD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uC(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:uC(l)}}}function uC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class bD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,n){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function Du(t,e){return uS(t,"POST","/v1/accounts:signInWithIdp",Fh(t,e))}const ZU="http://localhost";class gc extends bD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new gc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Du(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Du(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Du(e,n)}buildRequest(){const e={requestUri:ZU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bh(n)}return e}}class xD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Kh extends xD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yo extends Kh{constructor(){super("facebook.com")}static credential(e){return gc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yo.PROVIDER_ID="facebook.com";class Go extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gc._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.GOOGLE_SIGN_IN_METHOD="google.com";Go.PROVIDER_ID="google.com";class Wo extends Kh{constructor(){super("github.com")}static credential(e){return gc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.GITHUB_SIGN_IN_METHOD="github.com";Wo.PROVIDER_ID="github.com";class Xo extends Kh{constructor(){super("twitter.com")}static credential(e,n){return gc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xo.credential(n,r)}catch{return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com";Xo.PROVIDER_ID="twitter.com";async function eB(t,e){return uS(t,"POST","/v1/accounts:signUp",Fh(t,e))}class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await oa._fromIdTokenResponse(e,r,i),l=dC(r);return new $s({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dC(r);return new $s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function tB(t){if($i(t.app))return Promise.reject(Rs(t));const e=Hh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new $s({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await eB(e,{returnSecureToken:!0}),r=await $s._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Fg extends Zs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fg(e,n,r,i)}}function wD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fg._fromErrorAndOperation(t,s,e,r):s})}async function nB(t,e,n=!1){const r=await oh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $s._forOperation(t,"link",r)}async function rB(t,e,n=!1){const{auth:r}=t;if($i(r.app))return Promise.reject(Rs(r));const i="reauthenticate";try{const s=await oh(t,wD(r,i,e,t),n);He(s.idToken,r,"internal-error");const l=dS(s.idToken);He(l,r,"internal-error");const{sub:u}=l;return He(t.uid===u,r,"user-mismatch"),$s._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&zs(r,"user-mismatch"),s}}async function iB(t,e,n=!1){if($i(t.app))return Promise.reject(Rs(t));const r="signIn",i=await wD(t,r,e),s=await $s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aB(t,e){return uS(t,"POST","/v1/accounts:signInWithCustomToken",Fh(t,e))}async function sB(t,e){if($i(t.app))return Promise.reject(Rs(t));const n=Hh(t),r=await aB(n,{token:e,returnSecureToken:!0}),i=await $s._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function oB(t,e,n,r){return $n(t).onIdTokenChanged(e,n,r)}function lB(t,e,n){return $n(t).beforeAuthStateChanged(e,n)}function cB(t,e,n,r){return $n(t).onAuthStateChanged(e,n,r)}const Hg="__sak";class _D{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uB=1e3,dB=10;class SD extends _D{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);zU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SD.type="LOCAL";const fB=SD;class ED extends _D{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ED.type="SESSION";const AD=ED;function hB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class c0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new c0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,s)),f=await hB(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}c0.receivers=[];function mS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class mB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,f)=>{const h=mS("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ba(){return window}function pB(t){Ba().location.href=t}function TD(){return typeof Ba().WorkerGlobalScope<"u"&&typeof Ba().importScripts=="function"}async function gB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vB(){return navigator?.serviceWorker?.controller||null}function yB(){return TD()?self:null}const jD="firebaseLocalStorageDb",bB=1,Kg="firebaseLocalStorage",ND="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function u0(t,e){return t.transaction([Kg],e?"readwrite":"readonly").objectStore(Kg)}function xB(){const t=indexedDB.deleteDatabase(jD);return new Yh(t).toPromise()}function Mw(){const t=indexedDB.open(jD,bB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kg,{keyPath:ND})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kg)?e(r):(r.close(),await xB(),e(await Mw()))})})}async function fC(t,e,n){const r=u0(t,!0).put({[ND]:e,value:n});return new Yh(r).toPromise()}async function wB(t,e){const n=u0(t,!1).get(e),r=await new Yh(n).toPromise();return r===void 0?null:r.value}function hC(t,e){const n=u0(t,!0).delete(e);return new Yh(n).toPromise()}const _B=800,SB=3;class CD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=c0._getInstance(yB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gB(),!this.activeServiceWorker)return;this.sender=new mB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mw();return await fC(e,Hg,"1"),await hC(e,Hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=u0(i,!1).getAll();return new Yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_B)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CD.type="LOCAL";const EB=CD;new qh(3e4,6e4);function AB(t,e){return e?Ns(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class pS extends bD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Du(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Du(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Du(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TB(t){return iB(t.auth,new pS(t),t.bypassAuthState)}function jB(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),rB(n,new pS(t),t.bypassAuthState)}async function NB(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),nB(n,new pS(t),t.bypassAuthState)}class OD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TB;case"linkViaPopup":case"linkViaRedirect":return NB;case"reauthViaPopup":case"reauthViaRedirect":return jB;default:zs(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CB=new qh(2e3,1e4);class Nu extends OD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=mS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CB.get())};e()}}Nu.currentPopupAction=null;const OB="pendingRedirect",Eg=new Map;class PB extends OD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eg.get(this.auth._key());if(!e){try{const r=await IB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eg.set(this.auth._key(),e)}return this.bypassAuthState||Eg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IB(t,e){const n=MB(e),r=kB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function RB(t,e){Eg.set(t._key(),e)}function kB(t){return Ns(t._redirectPersistence)}function MB(t){return Sg(OB,t.config.apiKey,t.name)}async function DB(t,e,n=!1){if($i(t.app))return Promise.reject(Rs(t));const r=Hh(t),i=AB(r,e),l=await new PB(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const LB=600*1e3;class zB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ua(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LB&&this.cachedEventUids.clear(),this.cachedEventUids.has(mC(e))}saveEventToCache(e){this.cachedEventUids.add(mC(e)),this.lastProcessedEventTime=Date.now()}}function mC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PD(t);default:return!1}}async function $B(t,e={}){return cd(t,"GET","/v1/projects",e)}const UB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BB=/^https?/;async function qB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $B(t);for(const n of e)try{if(FB(n))return}catch{}zs(t,"unauthorized-domain")}function FB(t){const e=Rw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!BB.test(n))return!1;if(UB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const HB=new qh(3e4,6e4);function pC(){const t=Ba().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KB(t){return new Promise((e,n)=>{function r(){pC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pC(),n(Ua(t,"network-request-failed"))},timeout:HB.get()})}if(Ba().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ba().gapi?.load)r();else{const i=YU("iframefcb");return Ba()[i]=()=>{gapi.load?r():n(Ua(t,"network-request-failed"))},HU(`${KU()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Ag=null,e})}let Ag=null;function YB(t){return Ag=Ag||KB(t),Ag}const GB=new qh(5e3,15e3),WB="__/auth/iframe",XB="emulator/auth/iframe",QB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZB(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cS(e,XB):`https://${t.config.authDomain}/${WB}`,r={apiKey:e.apiKey,appName:t.name,v:ld},i=JB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bh(r).slice(1)}`}async function e7(t){const e=await YB(t),n=Ba().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:ZB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Ua(t,"network-request-failed"),u=Ba().setTimeout(()=>{s(l)},GB.get());function f(){Ba().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{s(l)})}))}const t7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n7=500,r7=600,i7="_blank",a7="http://localhost";class gC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s7(t,e,n,r=n7,i=r7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...t7,width:r.toString(),height:i.toString(),top:s,left:l},h=Cr().toLowerCase();n&&(u=dD(h)?i7:n),cD(h)&&(e=e||a7,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[_,S])=>`${b}${_}=${S},`,"");if(LU(h)&&u!=="_self")return o7(e||"",u),new gC(null);const g=window.open(e||"",u,p);He(g,t,"popup-blocked");try{g.focus()}catch{}return new gC(g)}function o7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const l7="__/auth/handler",c7="emulator/auth/handler",u7=encodeURIComponent("fac");async function vC(t,e,n,r,i,s){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ld,eventId:i};if(e instanceof xD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",s$(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Kh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${u7}=${encodeURIComponent(f)}`:"";return`${d7(t)}?${Bh(u).slice(1)}${h}`}function d7({config:t}){return t.emulator?cS(t,c7):`https://${t.authDomain}/${l7}`}const Px="webStorageSupport";class f7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AD,this._completeRedirectFn=DB,this._overrideRedirectResult=RB}async _openPopup(e,n,r,i){Vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await vC(e,n,r,Rw(),i);return s7(e,s,mS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vC(e,n,r,Rw(),i);return pB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await e7(e),r=new zB(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Px,{type:Px},i=>{const s=i?.[0]?.[Px];s!==void 0&&n(!!s),zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gD()||uD()||fS()}}const h7=f7;var yC="@firebase/auth",bC="1.12.0";class m7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g7(t){Bu(new pc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vD(t)},h=new qU(r,i,s,f);return WU(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bu(new pc("auth-internal",e=>{const n=Hh(e.getProvider("auth").getImmediate());return(r=>new m7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nl(yC,bC,p7(t)),nl(yC,bC,"esm2020")}const v7=300,y7=KM("authIdTokenMaxAge")||v7;let xC=null;const b7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y7)return;const i=n?.token;xC!==i&&(xC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function x7(t=JM()){const e=oS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GU(t,{popupRedirectResolver:h7,persistence:[EB,fB,AD]}),r=KM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=b7(s.toString());lB(n,l,()=>l(n.currentUser)),oB(n,u=>l(u))}}const i=FM("auth");return i&&XU(n,`http://${i}`),n}function w7(){return document.getElementsByTagName("head")?.[0]??document}FU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ua("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",w7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g7("Browser");var wC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rl,ID;(function(){var t;function e(N,j){function k(){}k.prototype=j.prototype,N.F=j.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(P,I,D){for(var M=Array(arguments.length-2),se=2;se<arguments.length;se++)M[se-2]=arguments[se];return j.prototype[I].apply(P,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,j,k){k||(k=0);const P=Array(16);if(typeof j=="string")for(var I=0;I<16;++I)P[I]=j.charCodeAt(k++)|j.charCodeAt(k++)<<8|j.charCodeAt(k++)<<16|j.charCodeAt(k++)<<24;else for(I=0;I<16;++I)P[I]=j[k++]|j[k++]<<8|j[k++]<<16|j[k++]<<24;j=N.g[0],k=N.g[1],I=N.g[2];let D=N.g[3],M;M=j+(D^k&(I^D))+P[0]+3614090360&4294967295,j=k+(M<<7&4294967295|M>>>25),M=D+(I^j&(k^I))+P[1]+3905402710&4294967295,D=j+(M<<12&4294967295|M>>>20),M=I+(k^D&(j^k))+P[2]+606105819&4294967295,I=D+(M<<17&4294967295|M>>>15),M=k+(j^I&(D^j))+P[3]+3250441966&4294967295,k=I+(M<<22&4294967295|M>>>10),M=j+(D^k&(I^D))+P[4]+4118548399&4294967295,j=k+(M<<7&4294967295|M>>>25),M=D+(I^j&(k^I))+P[5]+1200080426&4294967295,D=j+(M<<12&4294967295|M>>>20),M=I+(k^D&(j^k))+P[6]+2821735955&4294967295,I=D+(M<<17&4294967295|M>>>15),M=k+(j^I&(D^j))+P[7]+4249261313&4294967295,k=I+(M<<22&4294967295|M>>>10),M=j+(D^k&(I^D))+P[8]+1770035416&4294967295,j=k+(M<<7&4294967295|M>>>25),M=D+(I^j&(k^I))+P[9]+2336552879&4294967295,D=j+(M<<12&4294967295|M>>>20),M=I+(k^D&(j^k))+P[10]+4294925233&4294967295,I=D+(M<<17&4294967295|M>>>15),M=k+(j^I&(D^j))+P[11]+2304563134&4294967295,k=I+(M<<22&4294967295|M>>>10),M=j+(D^k&(I^D))+P[12]+1804603682&4294967295,j=k+(M<<7&4294967295|M>>>25),M=D+(I^j&(k^I))+P[13]+4254626195&4294967295,D=j+(M<<12&4294967295|M>>>20),M=I+(k^D&(j^k))+P[14]+2792965006&4294967295,I=D+(M<<17&4294967295|M>>>15),M=k+(j^I&(D^j))+P[15]+1236535329&4294967295,k=I+(M<<22&4294967295|M>>>10),M=j+(I^D&(k^I))+P[1]+4129170786&4294967295,j=k+(M<<5&4294967295|M>>>27),M=D+(k^I&(j^k))+P[6]+3225465664&4294967295,D=j+(M<<9&4294967295|M>>>23),M=I+(j^k&(D^j))+P[11]+643717713&4294967295,I=D+(M<<14&4294967295|M>>>18),M=k+(D^j&(I^D))+P[0]+3921069994&4294967295,k=I+(M<<20&4294967295|M>>>12),M=j+(I^D&(k^I))+P[5]+3593408605&4294967295,j=k+(M<<5&4294967295|M>>>27),M=D+(k^I&(j^k))+P[10]+38016083&4294967295,D=j+(M<<9&4294967295|M>>>23),M=I+(j^k&(D^j))+P[15]+3634488961&4294967295,I=D+(M<<14&4294967295|M>>>18),M=k+(D^j&(I^D))+P[4]+3889429448&4294967295,k=I+(M<<20&4294967295|M>>>12),M=j+(I^D&(k^I))+P[9]+568446438&4294967295,j=k+(M<<5&4294967295|M>>>27),M=D+(k^I&(j^k))+P[14]+3275163606&4294967295,D=j+(M<<9&4294967295|M>>>23),M=I+(j^k&(D^j))+P[3]+4107603335&4294967295,I=D+(M<<14&4294967295|M>>>18),M=k+(D^j&(I^D))+P[8]+1163531501&4294967295,k=I+(M<<20&4294967295|M>>>12),M=j+(I^D&(k^I))+P[13]+2850285829&4294967295,j=k+(M<<5&4294967295|M>>>27),M=D+(k^I&(j^k))+P[2]+4243563512&4294967295,D=j+(M<<9&4294967295|M>>>23),M=I+(j^k&(D^j))+P[7]+1735328473&4294967295,I=D+(M<<14&4294967295|M>>>18),M=k+(D^j&(I^D))+P[12]+2368359562&4294967295,k=I+(M<<20&4294967295|M>>>12),M=j+(k^I^D)+P[5]+4294588738&4294967295,j=k+(M<<4&4294967295|M>>>28),M=D+(j^k^I)+P[8]+2272392833&4294967295,D=j+(M<<11&4294967295|M>>>21),M=I+(D^j^k)+P[11]+1839030562&4294967295,I=D+(M<<16&4294967295|M>>>16),M=k+(I^D^j)+P[14]+4259657740&4294967295,k=I+(M<<23&4294967295|M>>>9),M=j+(k^I^D)+P[1]+2763975236&4294967295,j=k+(M<<4&4294967295|M>>>28),M=D+(j^k^I)+P[4]+1272893353&4294967295,D=j+(M<<11&4294967295|M>>>21),M=I+(D^j^k)+P[7]+4139469664&4294967295,I=D+(M<<16&4294967295|M>>>16),M=k+(I^D^j)+P[10]+3200236656&4294967295,k=I+(M<<23&4294967295|M>>>9),M=j+(k^I^D)+P[13]+681279174&4294967295,j=k+(M<<4&4294967295|M>>>28),M=D+(j^k^I)+P[0]+3936430074&4294967295,D=j+(M<<11&4294967295|M>>>21),M=I+(D^j^k)+P[3]+3572445317&4294967295,I=D+(M<<16&4294967295|M>>>16),M=k+(I^D^j)+P[6]+76029189&4294967295,k=I+(M<<23&4294967295|M>>>9),M=j+(k^I^D)+P[9]+3654602809&4294967295,j=k+(M<<4&4294967295|M>>>28),M=D+(j^k^I)+P[12]+3873151461&4294967295,D=j+(M<<11&4294967295|M>>>21),M=I+(D^j^k)+P[15]+530742520&4294967295,I=D+(M<<16&4294967295|M>>>16),M=k+(I^D^j)+P[2]+3299628645&4294967295,k=I+(M<<23&4294967295|M>>>9),M=j+(I^(k|~D))+P[0]+4096336452&4294967295,j=k+(M<<6&4294967295|M>>>26),M=D+(k^(j|~I))+P[7]+1126891415&4294967295,D=j+(M<<10&4294967295|M>>>22),M=I+(j^(D|~k))+P[14]+2878612391&4294967295,I=D+(M<<15&4294967295|M>>>17),M=k+(D^(I|~j))+P[5]+4237533241&4294967295,k=I+(M<<21&4294967295|M>>>11),M=j+(I^(k|~D))+P[12]+1700485571&4294967295,j=k+(M<<6&4294967295|M>>>26),M=D+(k^(j|~I))+P[3]+2399980690&4294967295,D=j+(M<<10&4294967295|M>>>22),M=I+(j^(D|~k))+P[10]+4293915773&4294967295,I=D+(M<<15&4294967295|M>>>17),M=k+(D^(I|~j))+P[1]+2240044497&4294967295,k=I+(M<<21&4294967295|M>>>11),M=j+(I^(k|~D))+P[8]+1873313359&4294967295,j=k+(M<<6&4294967295|M>>>26),M=D+(k^(j|~I))+P[15]+4264355552&4294967295,D=j+(M<<10&4294967295|M>>>22),M=I+(j^(D|~k))+P[6]+2734768916&4294967295,I=D+(M<<15&4294967295|M>>>17),M=k+(D^(I|~j))+P[13]+1309151649&4294967295,k=I+(M<<21&4294967295|M>>>11),M=j+(I^(k|~D))+P[4]+4149444226&4294967295,j=k+(M<<6&4294967295|M>>>26),M=D+(k^(j|~I))+P[11]+3174756917&4294967295,D=j+(M<<10&4294967295|M>>>22),M=I+(j^(D|~k))+P[2]+718787259&4294967295,I=D+(M<<15&4294967295|M>>>17),M=k+(D^(I|~j))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+j&4294967295,N.g[1]=N.g[1]+(I+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+D&4294967295}r.prototype.v=function(N,j){j===void 0&&(j=N.length);const k=j-this.blockSize,P=this.C;let I=this.h,D=0;for(;D<j;){if(I==0)for(;D<=k;)i(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<j;)if(P[I++]=N.charCodeAt(D++),I==this.blockSize){i(this,P),I=0;break}}else for(;D<j;)if(P[I++]=N[D++],I==this.blockSize){i(this,P),I=0;break}}this.h=I,this.o+=j},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var j=1;j<N.length-8;++j)N[j]=0;j=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=j&255,j/=256;for(this.v(N),N=Array(16),j=0,k=0;k<4;++k)for(let P=0;P<32;P+=8)N[j++]=this.g[k]>>>P&255;return N};function s(N,j){var k=u;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=j(N)}function l(N,j){this.h=j;const k=[];let P=!0;for(let I=N.length-1;I>=0;I--){const D=N[I]|0;P&&D==j||(k[I]=D,P=!1)}this.g=k}var u={};function f(N){return-128<=N&&N<128?s(N,function(j){return new l([j|0],j<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return A(h(-N));const j=[];let k=1;for(let P=0;N>=k;P++)j[P]=N/k|0,k*=4294967296;return new l(j,0)}function p(N,j){if(N.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(N.charAt(0)=="-")return A(p(N.substring(1),j));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(j,8));let P=g;for(let D=0;D<N.length;D+=8){var I=Math.min(8,N.length-D);const M=parseInt(N.substring(D,D+I),j);I<8?(I=h(Math.pow(j,I)),P=P.j(I).add(h(M))):(P=P.j(k),P=P.add(h(M)))}return P}var g=f(0),b=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-A(this).m();let N=0,j=1;for(let k=0;k<this.g.length;k++){const P=this.i(k);N+=(P>=0?P:4294967296+P)*j,j*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(E(this))return"-"+A(this).toString(N);const j=h(Math.pow(N,6));var k=this;let P="";for(;;){const I=q(k,j).g;k=C(k,I.j(j));let D=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=I,S(k))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let j=0;j<N.g.length;j++)if(N.g[j]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=C(this,N),E(N)?-1:S(N)?0:1};function A(N){const j=N.g.length,k=[];for(let P=0;P<j;P++)k[P]=~N.g[P];return new l(k,~N.h).add(b)}t.abs=function(){return E(this)?A(this):this},t.add=function(N){const j=Math.max(this.g.length,N.g.length),k=[];let P=0;for(let I=0;I<=j;I++){let D=P+(this.i(I)&65535)+(N.i(I)&65535),M=(D>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);P=M>>>16,D&=65535,M&=65535,k[I]=M<<16|D}return new l(k,k[k.length-1]&-2147483648?-1:0)};function C(N,j){return N.add(A(j))}t.j=function(N){if(S(this)||S(N))return g;if(E(this))return E(N)?A(this).j(A(N)):A(A(this).j(N));if(E(N))return A(this.j(A(N)));if(this.l(_)<0&&N.l(_)<0)return h(this.m()*N.m());const j=this.g.length+N.g.length,k=[];for(var P=0;P<2*j;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(let I=0;I<N.g.length;I++){const D=this.i(P)>>>16,M=this.i(P)&65535,se=N.i(I)>>>16,Y=N.i(I)&65535;k[2*P+2*I]+=M*Y,$(k,2*P+2*I),k[2*P+2*I+1]+=D*Y,$(k,2*P+2*I+1),k[2*P+2*I+1]+=M*se,$(k,2*P+2*I+1),k[2*P+2*I+2]+=D*se,$(k,2*P+2*I+2)}for(N=0;N<j;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=j;N<2*j;N++)k[N]=0;return new l(k,0)};function $(N,j){for(;(N[j]&65535)!=N[j];)N[j+1]+=N[j]>>>16,N[j]&=65535,j++}function L(N,j){this.g=N,this.h=j}function q(N,j){if(S(j))throw Error("division by zero");if(S(N))return new L(g,g);if(E(N))return j=q(A(N),j),new L(A(j.g),A(j.h));if(E(j))return j=q(N,A(j)),new L(A(j.g),j.h);if(N.g.length>30){if(E(N)||E(j))throw Error("slowDivide_ only works with positive integers.");for(var k=b,P=j;P.l(N)<=0;)k=U(k),P=U(P);var I=z(k,1),D=z(P,1);for(P=z(P,2),k=z(k,2);!S(P);){var M=D.add(P);M.l(N)<=0&&(I=I.add(k),D=M),P=z(P,1),k=z(k,1)}return j=C(N,I.j(j)),new L(I,j)}for(I=g;N.l(j)>=0;){for(k=Math.max(1,Math.floor(N.m()/j.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=h(k),M=D.j(j);E(M)||M.l(N)>0;)k-=P,D=h(k),M=D.j(j);S(D)&&(D=b),I=I.add(D),N=C(N,M)}return new L(I,N)}t.B=function(N){return q(this,N).h},t.and=function(N){const j=Math.max(this.g.length,N.g.length),k=[];for(let P=0;P<j;P++)k[P]=this.i(P)&N.i(P);return new l(k,this.h&N.h)},t.or=function(N){const j=Math.max(this.g.length,N.g.length),k=[];for(let P=0;P<j;P++)k[P]=this.i(P)|N.i(P);return new l(k,this.h|N.h)},t.xor=function(N){const j=Math.max(this.g.length,N.g.length),k=[];for(let P=0;P<j;P++)k[P]=this.i(P)^N.i(P);return new l(k,this.h^N.h)};function U(N){const j=N.g.length+1,k=[];for(let P=0;P<j;P++)k[P]=N.i(P)<<1|N.i(P-1)>>>31;return new l(k,N.h)}function z(N,j){const k=j>>5;j%=32;const P=N.g.length-k,I=[];for(let D=0;D<P;D++)I[D]=j>0?N.i(D+k)>>>j|N.i(D+k+1)<<32-j:N.i(D+k);return new l(I,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ID=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,rl=l}).apply(typeof wC<"u"?wC:typeof self<"u"?self:typeof window<"u"?window:{});var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RD,Ff,kD,Tg,Dw,MD,DD,LD;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zp=="object"&&Zp];for(var T=0;T<v.length;++T){var R=v[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var R=r;v=v.split(".");for(var F=0;F<v.length-1;F++){var le=v[F];if(!(le in R))break e;R=R[le]}v=v[v.length-1],F=R[v],T=T(F),T!=F&&T!=null&&e(R,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var R=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&R.push([F,T[F]]);return R}});var s=s||{},l=this||self;function u(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function f(v,T,R){return v.call.apply(v.bind,arguments)}function h(v,T,R){return h=f,h.apply(null,arguments)}function p(v,T){var R=Array.prototype.slice.call(arguments,1);return function(){var F=R.slice();return F.push.apply(F,arguments),v.apply(this,F)}}function g(v,T){function R(){}R.prototype=T.prototype,v.Z=T.prototype,v.prototype=new R,v.prototype.constructor=v,v.Ob=function(F,le,ge){for(var Ce=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)Ce[Qe-2]=arguments[Qe];return T.prototype[le].apply(F,Ce)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function _(v){const T=v.length;if(T>0){const R=Array(T);for(let F=0;F<T;F++)R[F]=v[F];return R}return[]}function S(v,T){for(let F=1;F<arguments.length;F++){const le=arguments[F];var R=typeof le;if(R=R!="object"?R:le?Array.isArray(le)?"array":R:"null",R=="array"||R=="object"&&typeof le.length=="number"){R=v.length||0;const ge=le.length||0;v.length=R+ge;for(let Ce=0;Ce<ge;Ce++)v[R+Ce]=le[Ce]}else v.push(le)}}class E{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(v){l.setTimeout(()=>{throw v},0)}function C(){var v=N;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class ${constructor(){this.h=this.g=null}add(T,R){const F=L.get();F.set(T,R),this.h?this.h.next=F:this.g=F,this.h=F}}var L=new E(()=>new q,v=>v.reset());class q{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let U,z=!1,N=new $,j=()=>{const v=Promise.resolve(void 0);U=()=>{v.then(k)}};function k(){for(var v;v=C();){try{v.h.call(v.g)}catch(R){A(R)}var T=L;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}z=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const R=()=>{};l.addEventListener("test",R,T),l.removeEventListener("test",R,T)}catch{}return v})();function M(v){return/^[\s\xa0]*$/.test(v)}function se(v,T){I.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(se,I),se.prototype.init=function(v,T){const R=this.type=v.type,F=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(R=="mouseover"?T=v.fromElement:R=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),G=0;function K(v,T,R,F,le){this.listener=v,this.proxy=null,this.src=T,this.type=R,this.capture=!!F,this.ha=le,this.key=++G,this.da=this.fa=!1}function ee(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Z(v,T,R){for(const F in v)T.call(R,v[F],F,v)}function re(v,T){for(const R in v)T.call(void 0,v[R],R,v)}function V(v){const T={};for(const R in v)T[R]=v[R];return T}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(v,T){let R,F;for(let le=1;le<arguments.length;le++){F=arguments[le];for(R in F)v[R]=F[R];for(let ge=0;ge<Q.length;ge++)R=Q[ge],Object.prototype.hasOwnProperty.call(F,R)&&(v[R]=F[R])}}function W(v){this.src=v,this.g={},this.h=0}W.prototype.add=function(v,T,R,F,le){const ge=v.toString();v=this.g[ge],v||(v=this.g[ge]=[],this.h++);const Ce=pe(v,T,F,le);return Ce>-1?(T=v[Ce],R||(T.fa=!1)):(T=new K(T,this.src,ge,!!F,le),T.fa=R,v.push(T)),T};function me(v,T){const R=T.type;if(R in v.g){var F=v.g[R],le=Array.prototype.indexOf.call(F,T,void 0),ge;(ge=le>=0)&&Array.prototype.splice.call(F,le,1),ge&&(ee(T),v.g[R].length==0&&(delete v.g[R],v.h--))}}function pe(v,T,R,F){for(let le=0;le<v.length;++le){const ge=v[le];if(!ge.da&&ge.listener==T&&ge.capture==!!R&&ge.ha==F)return le}return-1}var de="closure_lm_"+(Math.random()*1e6|0),ye={};function ne(v,T,R,F,le){if(Array.isArray(T)){for(let ge=0;ge<T.length;ge++)ne(v,T[ge],R,F,le);return null}return R=ti(R),v&&v[Y]?v.J(T,R,u(F)?!!F.capture:!1,le):Se(v,T,R,!1,F,le)}function Se(v,T,R,F,le,ge){if(!T)throw Error("Invalid event type");const Ce=u(le)?!!le.capture:!!le;let Qe=Ze(v);if(Qe||(v[de]=Qe=new W(v)),R=Qe.add(T,R,F,Ce,ge),R.proxy)return R;if(F=je(),R.proxy=F,F.src=v,F.listener=R,v.addEventListener)D||(le=Ce),le===void 0&&(le=!1),v.addEventListener(T.toString(),F,le);else if(v.attachEvent)v.attachEvent(Pe(T.toString()),F);else if(v.addListener&&v.removeListener)v.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return R}function je(){function v(R){return T.call(v.src,v.listener,R)}const T=Be;return v}function oe(v,T,R,F,le){if(Array.isArray(T))for(var ge=0;ge<T.length;ge++)oe(v,T[ge],R,F,le);else F=u(F)?!!F.capture:!!F,R=ti(R),v&&v[Y]?(v=v.i,ge=String(T).toString(),ge in v.g&&(T=v.g[ge],R=pe(T,R,F,le),R>-1&&(ee(T[R]),Array.prototype.splice.call(T,R,1),T.length==0&&(delete v.g[ge],v.h--)))):v&&(v=Ze(v))&&(T=v.g[T.toString()],v=-1,T&&(v=pe(T,R,F,le)),(R=v>-1?T[v]:null)&&he(R))}function he(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[Y])me(T.i,v);else{var R=v.type,F=v.proxy;T.removeEventListener?T.removeEventListener(R,F,v.capture):T.detachEvent?T.detachEvent(Pe(R),F):T.addListener&&T.removeListener&&T.removeListener(F),(R=Ze(T))?(me(R,v),R.h==0&&(R.src=null,T[de]=null)):ee(v)}}}function Pe(v){return v in ye?ye[v]:ye[v]="on"+v}function Be(v,T){if(v.da)v=!0;else{T=new se(T,this);const R=v.listener,F=v.ha||v.src;v.fa&&he(v),v=R.call(F,T)}return v}function Ze(v){return v=v[de],v instanceof W?v:null}var fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ti(v){return typeof v=="function"?v:(v[fn]||(v[fn]=function(T){return v.handleEvent(T)}),v[fn])}function Ot(){P.call(this),this.i=new W(this),this.M=this,this.G=null}g(Ot,P),Ot.prototype[Y]=!0,Ot.prototype.removeEventListener=function(v,T,R,F){oe(this,v,T,R,F)};function Lt(v,T){var R,F=v.G;if(F)for(R=[];F;F=F.G)R.push(F);if(v=v.M,F=T.type||T,typeof T=="string")T=new I(T,v);else if(T instanceof I)T.target=T.target||v;else{var le=T;T=new I(F,v),X(T,le)}le=!0;let ge,Ce;if(R)for(Ce=R.length-1;Ce>=0;Ce--)ge=T.g=R[Ce],le=Xe(ge,F,!0,T)&&le;if(ge=T.g=v,le=Xe(ge,F,!0,T)&&le,le=Xe(ge,F,!1,T)&&le,R)for(Ce=0;Ce<R.length;Ce++)ge=T.g=R[Ce],le=Xe(ge,F,!1,T)&&le}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const R=v.g[T];for(let F=0;F<R.length;F++)ee(R[F]);delete v.g[T],v.h--}}this.G=null},Ot.prototype.J=function(v,T,R,F){return this.i.add(String(v),T,!1,R,F)},Ot.prototype.K=function(v,T,R,F){return this.i.add(String(v),T,!0,R,F)};function Xe(v,T,R,F){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let le=!0;for(let ge=0;ge<T.length;++ge){const Ce=T[ge];if(Ce&&!Ce.da&&Ce.capture==R){const Qe=Ce.listener,vn=Ce.ha||Ce.src;Ce.fa&&me(v.i,Ce),le=Qe.call(vn,F)!==!1&&le}}return le&&!F.defaultPrevented}function bi(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function xi(v){v.g=bi(()=>{v.g=null,v.i&&(v.i=!1,xi(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class Mn extends P{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:xi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(v){P.call(this),this.h=v,this.g={}}g(ni,P);var as=[];function nr(v){Z(v.g,function(T,R){this.g.hasOwnProperty(R)&&he(T)},v),v.g={}}ni.prototype.N=function(){ni.Z.N.call(this),nr(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=l.JSON.stringify,ga=l.JSON.parse,va=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function co(){}function ya(){}var ir={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){I.call(this,"d")}g(on,I);function Kn(){I.call(this,"c")}g(Kn,I);var Ft={},ba=null;function wi(){return ba=ba||new Ot}Ft.Ia="serverreachability";function ss(v){I.call(this,Ft.Ia,v)}g(ss,I);function Or(v){const T=wi();Lt(T,new ss(T))}Ft.STAT_EVENT="statevent";function ri(v,T){I.call(this,Ft.STAT_EVENT,v),this.stat=T}g(ri,I);function en(v){const T=wi();Lt(T,new ri(T,v))}Ft.Ja="timingevent";function xr(v,T){I.call(this,Ft.Ja,v),this.size=T}g(xr,I);function zr(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Pr(){this.g=!0}Pr.prototype.ua=function(){this.g=!1};function El(v,T,R,F,le,ge){v.info(function(){if(v.g)if(ge){var Ce="",Qe=ge.split("&");for(let bt=0;bt<Qe.length;bt++){var vn=Qe[bt].split("=");if(vn.length>1){const nn=vn[0];vn=vn[1];const ji=nn.split("_");Ce=ji.length>=2&&ji[1]=="type"?Ce+(nn+"="+vn+"&"):Ce+(nn+"=redacted&")}}}else Ce=null;else Ce=ge;return"XMLHTTP REQ ("+F+") [attempt "+le+"]: "+T+`
`+R+`
`+Ce})}function uo(v,T,R,F,le,ge,Ce){v.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+le+"]: "+T+`
`+R+`
`+ge+" "+Ce})}function Vr(v,T,R,F){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+Al(v,R)+(F?" "+F:"")})}function _i(v,T){v.info(function(){return"TIMEOUT: "+T})}Pr.prototype.info=function(){};function Al(v,T){if(!v.g)return T;if(!T)return null;try{const ge=JSON.parse(T);if(ge){for(v=0;v<ge.length;v++)if(Array.isArray(ge[v])){var R=ge[v];if(!(R.length<2)){var F=R[1];if(Array.isArray(F)&&!(F.length<1)){var le=F[0];if(le!="noop"&&le!="stop"&&le!="close")for(let Ce=1;Ce<F.length;Ce++)F[Ce]=""}}}}return rr(ge)}catch{return T}}var Ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},H={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ee;function Ne(){}g(Ne,co),Ne.prototype.g=function(){return new XMLHttpRequest},Ee=new Ne;function Oe(v){return encodeURIComponent(String(v))}function We(v){var T=1;v=v.split(":");const R=[];for(;T>0&&v.length;)R.push(v.shift()),T--;return v.length&&R.push(v.join(":")),R}function mt(v,T,R,F){this.j=v,this.i=T,this.l=R,this.S=F||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ar}function ar(){this.i=null,this.g="",this.h=!1}var tn={},Et={};function Si(v,T,R){v.M=1,v.A=Tl(En(T)),v.u=R,v.R=!0,fo(v,null)}function fo(v,T){v.F=Date.now(),hn(v),v.B=En(v.A);var R=v.B,F=v.S;Array.isArray(F)||(F=[String(F)]),zc(R.i,"t",F),v.C=0,R=v.j.L,v.h=new ar,v.g=Hm(v.j,R?T:null,!v.u),v.P>0&&(v.O=new Mn(h(v.Y,v,v.g),v.P)),T=v.V,R=v.g,F=v.ba;var le="readystatechange";Array.isArray(le)||(le&&(as[0]=le.toString()),le=as);for(let ge=0;ge<le.length;ge++){const Ce=ne(R,le[ge],F||T.handleEvent,!1,T.h||T);if(!Ce)break;T.g[Ce.key]=Ce}T=v.J?V(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),Or(),El(v.i,v.v,v.B,v.l,v.S,v.u)}mt.prototype.ba=function(v){v=v.target;const T=this.O;T&&Xi(v)==3?T.j():this.Y(v)},mt.prototype.Y=function(v){try{if(v==this.g)e:{const Qe=Xi(this.g),vn=this.g.ya(),bt=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||sr(this.g)))){this.K||Qe!=4||vn==7||(vn==8||bt<=0?Or(3):Or(2)),xa(this);var T=this.g.ca();this.X=T;var R=Rd(this);if(this.o=T==200,uo(this.i,this.v,this.B,this.l,this.S,Qe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,le=this.g;if((F=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(F)){var ge=F;break t}}ge=null}if(v=ge)Vr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wa(this,v);else{this.o=!1,this.m=3,en(12),ii(this),Ei(this);break e}}if(this.R){v=!0;let nn;for(;!this.K&&this.C<R.length;)if(nn=Wt(this,R),nn==Et){Qe==4&&(this.m=4,en(14),v=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==tn){this.m=4,en(15),Vr(this.i,this.l,R,"[Invalid Chunk]"),v=!1;break}else Vr(this.i,this.l,nn,null),wa(this,nn);if(rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||R.length!=0||this.h.h||(this.m=1,en(16),v=!1),this.o=this.o&&v,!v)Vr(this.i,this.l,R,"[Invalid Chunked Response]"),ii(this),Ei(this);else if(R.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Gd(Ce),Ce.P=!0,en(11))}}else Vr(this.i,this.l,R,null),wa(this,R);Qe==4&&ii(this),this.o&&!this.K&&(Qe==4?Um(this.j,this):(this.o=!1,hn(this)))}else ls(this.g),T==400&&R.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),ii(this),Ei(this)}}}catch{}};function Rd(v){if(!rt(v))return v.g.la();const T=sr(v.g);if(T==="")return"";let R="";const F=T.length,le=Xi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ii(v),Ei(v),"";v.h.i=new l.TextDecoder}for(let ge=0;ge<F;ge++)v.h.h=!0,R+=v.h.i.decode(T[ge],{stream:!(le&&ge==F-1)});return T.length=0,v.h.g+=R,v.C=0,v.h.g}function rt(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Wt(v,T){var R=v.C,F=T.indexOf(`
`,R);return F==-1?Et:(R=Number(T.substring(R,F)),isNaN(R)?tn:(F+=1,F+R>T.length?Et:(T=T.slice(F,F+R),v.C=F+R,T)))}mt.prototype.cancel=function(){this.K=!0,ii(this)};function hn(v){v.T=Date.now()+v.H,Yi(v,v.H)}function Yi(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=zr(h(v.aa,v),T)}function xa(v){v.D&&(l.clearTimeout(v.D),v.D=null)}mt.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(_i(this.i,this.B),this.M!=2&&(Or(),en(17)),ii(this),this.m=2,Ei(this)):Yi(this,this.T-v)};function Ei(v){v.j.I==0||v.K||Um(v.j,v)}function ii(v){xa(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,nr(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function wa(v,T){try{var R=v.j;if(R.I!=0&&(R.g==v||Sa(R.h,v))){if(!v.L&&Sa(R.h,v)&&R.I==3){try{var F=R.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var le=F;if(le[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<v.F)qc(R),xo(R);else break e;Rl(R),en(18)}}else R.xa=le[1],0<R.xa-R.K&&le[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=zr(h(R.Va,R),6e3));_a(R.h)<=1&&R.ta&&(R.ta=void 0)}else Ca(R,11)}else if((v.L||R.g==v)&&qc(R),!M(T))for(le=R.Ba.g.parse(T),T=0;T<le.length;T++){let bt=le[T];const nn=bt[0];if(!(nn<=R.K))if(R.K=nn,bt=bt[1],R.I==2)if(bt[0]=="c"){R.M=bt[1],R.ba=bt[2];const ji=bt[3];ji!=null&&(R.ka=ji,R.j.info("VER="+R.ka));const Oa=bt[4];Oa!=null&&(R.za=Oa,R.j.info("SVER="+R.za));const Qi=bt[5];Qi!=null&&typeof Qi=="number"&&Qi>0&&(F=1.5*Qi,R.O=F,R.j.info("backChannelRequestTimeoutMs_="+F)),F=R;const Ji=v.g;if(Ji){const kl=Ji.g?Ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kl){var ge=F.h;ge.g||kl.indexOf("spdy")==-1&&kl.indexOf("quic")==-1&&kl.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Dd(ge,ge.h),ge.h=null))}if(F.G){const Fc=Ji.g?Ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(F.wa=Fc,At(F.J,F.G,Fc))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-v.F,R.j.info("Handshake RTT: "+R.T+"ms")),F=R;var Ce=v;if(F.na=Fm(F,F.L?F.ba:null,F.W),Ce.L){Ld(F.h,Ce);var Qe=Ce,vn=F.O;vn&&(Qe.H=vn),Qe.D&&(xa(Qe),hn(Qe)),F.g=Ce}else Vm(F);R.i.length>0&&Na(R)}else bt[0]!="stop"&&bt[0]!="close"||Ca(R,7);else R.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Ca(R,7):Kd(R):bt[0]!="noop"&&R.l&&R.l.qa(bt),R.A=0)}}Or(4)}catch{}}var Sn=class{constructor(v,T){this.g=v,this.map=T}};function kd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Md(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function _a(v){return v.h?1:v.g?v.g.size:0}function Sa(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function Dd(v,T){v.g?v.g.add(T):v.h=T}function Ld(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}kd.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function zd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const R of v.g.values())T=T.concat(R.G);return T}return _(v.i)}var Rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(v,T){if(v){v=v.split("&");for(let R=0;R<v.length;R++){const F=v[R].indexOf("=");let le,ge=null;F>=0?(le=v[R].substring(0,F),ge=v[R].substring(F+1)):le=v[R],T(le,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function ai(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof ai?(this.l=v.l,Yn(this,v.j),this.o=v.o,this.g=v.g,ho(this,v.u),this.h=v.h,Vd(this,Lm(v.i)),this.m=v.m):v&&(T=String(v).match(Rm))?(this.l=!1,Yn(this,T[1]||"",!0),this.o=Ea(T[2]||""),this.g=Ea(T[3]||"",!0),ho(this,T[4]),this.h=Ea(T[5]||"",!0),Vd(this,T[6]||"",!0),this.m=Ea(T[7]||"")):(this.l=!1,this.i=new po(null,this.l))}ai.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(jl(T,Lc,!0),":");var R=this.g;return(R||T=="file")&&(v.push("//"),(T=this.o)&&v.push(jl(T,Lc,!0),"@"),v.push(Oe(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&v.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&v.push("/"),v.push(jl(R,R.charAt(0)=="/"?$d:km,!0))),(R=this.i.toString())&&v.push("?",R),(R=this.m)&&v.push("#",jl(R,Mm)),v.join("")},ai.prototype.resolve=function(v){const T=En(this);let R=!!v.j;R?Yn(T,v.j):R=!!v.o,R?T.o=v.o:R=!!v.g,R?T.g=v.g:R=v.u!=null;var F=v.h;if(R)ho(T,v.u);else if(R=!!v.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var le=T.h.lastIndexOf("/");le!=-1&&(F=T.h.slice(0,le+1)+F)}if(le=F,le==".."||le==".")F="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){F=le.lastIndexOf("/",0)==0,le=le.split("/");const ge=[];for(let Ce=0;Ce<le.length;){const Qe=le[Ce++];Qe=="."?F&&Ce==le.length&&ge.push(""):Qe==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),F&&Ce==le.length&&ge.push("")):(ge.push(Qe),F=!0)}F=ge.join("/")}else F=le}return R?T.h=F:R=v.i.toString()!=="",R?Vd(T,Lm(v.i)):R=!!v.m,R&&(T.m=v.m),T};function En(v){return new ai(v)}function Yn(v,T,R){v.j=R?Ea(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function ho(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function Vd(v,T,R){T instanceof po?(v.i=T,Vc(v.i,v.l)):(R||(T=jl(T,mo)),v.i=new po(T,v.l))}function At(v,T,R){v.i.set(T,R)}function Tl(v){return At(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Ea(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function jl(v,T,R){return typeof v=="string"?(v=encodeURI(v).replace(T,$r),R&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function $r(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Lc=/[#\/\?@]/g,km=/[#\?:]/g,$d=/[#\?]/g,mo=/[#\?@]/g,Mm=/#/g;function po(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Ur(v){v.g||(v.g=new Map,v.h=0,v.i&&Dc(v.i,function(T,R){v.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=po.prototype,t.add=function(v,T){Ur(this),this.i=null,v=go(this,v);let R=this.g.get(v);return R||this.g.set(v,R=[]),R.push(T),this.h+=1,this};function Dm(v,T){Ur(v),T=go(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function Ud(v,T){return Ur(v),T=go(v,T),v.g.has(T)}t.forEach=function(v,T){Ur(this),this.g.forEach(function(R,F){R.forEach(function(le){v.call(T,le,F,this)},this)},this)};function Bd(v,T){Ur(v);let R=[];if(typeof T=="string")Ud(v,T)&&(R=R.concat(v.g.get(go(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)R=R.concat(v[T]);return R}t.set=function(v,T){return Ur(this),this.i=null,v=go(this,v),Ud(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=Bd(this,v),v.length>0?String(v[0]):T):T};function zc(v,T,R){Dm(v,T),R.length>0&&(v.i=null,v.g.set(go(v,T),_(R)),v.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var R=T[F];const le=Oe(R);R=Bd(this,R);for(let ge=0;ge<R.length;ge++){let Ce=le;R[ge]!==""&&(Ce+="="+Oe(R[ge])),v.push(Ce)}}return this.i=v.join("&")};function Lm(v){const T=new po;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function go(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Vc(v,T){T&&!v.j&&(Ur(v),v.i=null,v.g.forEach(function(R,F){const le=F.toLowerCase();F!=le&&(Dm(this,F),zc(this,le,R))},v)),v.j=T}function Gi(v,T){const R=new Pr;if(l.Image){const F=new Image;F.onload=p(Ai,R,"TestLoadImage: loaded",!0,T,F),F.onerror=p(Ai,R,"TestLoadImage: error",!1,T,F),F.onabort=p(Ai,R,"TestLoadImage: abort",!1,T,F),F.ontimeout=p(Ai,R,"TestLoadImage: timeout",!1,T,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=v}else T(!1)}function qd(v,T){const R=new Pr,F=new AbortController,le=setTimeout(()=>{F.abort(),Ai(R,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:F.signal}).then(ge=>{clearTimeout(le),ge.ok?Ai(R,"TestPingServer: ok",!0,T):Ai(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(le),Ai(R,"TestPingServer: error",!1,T)})}function Ai(v,T,R,F,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),F(R)}catch{}}function vo(){this.g=new va}function Aa(v){this.i=v.Sb||null,this.h=v.ab||!1}g(Aa,co),Aa.prototype.g=function(){return new Nl(this.i,this.h)};function Nl(v,T){Ot.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Nl,Ot),t=Nl.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,Wi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$c(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function $c(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?yo(this):Wi(this),this.readyState==3&&$c(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,yo(this))},t.Na=function(v){this.g&&(this.response=v,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Wi(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,v.push(R[0]+": "+R[1]),R=T.next();return v.join(`\r
`)};function Wi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ti(v){let T="";return Z(v,function(R,F){T+=F,T+=":",T+=R,T+=`\r
`}),T}function Cl(v,T,R){e:{for(F in R){var F=!1;break e}F=!0}F||(R=Ti(R),typeof v=="string"?R!=null&&Oe(R):At(v,T,R))}function Pt(v){Ot.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Pt,Ot);var Ta=/^https?$/i,Fd=["POST","PUT"];t=Pt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,R,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=b(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(ge){Ol(this,ge);return}if(v=R||"",R=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var le in F)R.set(le,F[le]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ge of F.keys())R.set(ge,F.get(ge));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(R.keys()).find(ge=>ge.toLowerCase()=="content-type"),le=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Fd,T,void 0)>=0)||F||le||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Ce]of R)this.g.setRequestHeader(ge,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ge){Ol(this,ge)}};function Ol(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,Hd(v),os(v)}function Hd(v){v.A||(v.A=!0,Lt(v,"complete"),Lt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Lt(this,"complete"),Lt(this,"abort"),os(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pl(this):this.Xa())},t.Xa=function(){Pl(this)};function Pl(v){if(v.h&&typeof s<"u"){if(v.v&&Xi(v)==4)setTimeout(v.Ca.bind(v),0);else if(Lt(v,"readystatechange"),Xi(v)==4){v.h=!1;try{const ge=v.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var F;if(F=ge===0){let Ce=String(v.D).match(Rm)[1]||null;!Ce&&l.self&&l.self.location&&(Ce=l.self.location.protocol.slice(0,-1)),F=!Ta.test(Ce?Ce.toLowerCase():"")}R=F}if(R)Lt(v,"complete"),Lt(v,"success");else{v.o=6;try{var le=Xi(v)>2?v.g.statusText:""}catch{le=""}v.l=le+" ["+v.ca()+"]",Hd(v)}}finally{os(v)}}}}function os(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const R=v.g;v.g=null,T||Lt(v,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),ga(T)}};function sr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(v){const T={};v=(v.g&&Xi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<v.length;F++){if(M(v[F]))continue;var R=We(v[F]);const le=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ge=T[le]||[];T[le]=ge,ge.push(R)}re(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(v,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[v]||T}function bo(v){this.za=0,this.i=[],this.j=new Pr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ja("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ja("baseRetryDelayMs",5e3,v),this.Za=ja("retryDelaySeedMs",1e4,v),this.Ta=ja("forwardChannelMaxRetries",2,v),this.va=ja("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new kd(v&&v.concurrentRequestLimit),this.Ba=new vo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=bo.prototype,t.ka=8,t.I=1,t.connect=function(v,T,R,F){en(0),this.W=v,this.H=T||{},R&&F!==void 0&&(this.H.OSID=R,this.H.OAID=F),this.F=this.X,this.J=Fm(this,null,this.W),Na(this)};function Kd(v){if(Uc(v),v.I==3){var T=v.V++,R=En(v.J);if(At(R,"SID",v.M),At(R,"RID",T),At(R,"TYPE","terminate"),Il(v,R),T=new mt(v,v.j,T),T.M=2,T.A=Tl(En(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!R&&l.Image&&(new Image().src=T.A,R=!0),R||(T.g=Hm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),hn(T)}qm(v)}function xo(v){v.g&&(Gd(v),v.g.cancel(),v.g=null)}function Uc(v){xo(v),v.v&&(l.clearTimeout(v.v),v.v=null),qc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function Na(v){if(!Md(v.h)&&!v.m){v.m=!0;var T=v.Ea;U||j(),z||(U(),z=!0),N.add(T,v),v.D=0}}function Bc(v,T){return _a(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=zr(h(v.Ea,v,T),Bm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const le=new mt(this,this.j,v);let ge=this.o;if(this.U&&(ge?(ge=V(ge),X(ge,this.U)):ge=this.U),this.u!==null||this.R||(le.J=ge,ge=null),this.S)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var F=this.i[R];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=zm(this,le,T),R=En(this.J),At(R,"RID",v),At(R,"CVER",22),this.G&&At(R,"X-HTTP-Session-Id",this.G),Il(this,R),ge&&(this.R?T="headers="+Oe(Ti(ge))+"&"+T:this.u&&Cl(R,this.u,ge)),Dd(this.h,le),this.Ra&&At(R,"TYPE","init"),this.S?(At(R,"$req",T),At(R,"SID","null"),le.U=!0,Si(le,R,null)):Si(le,R,T),this.I=2}}else this.I==3&&(v?Yd(this,v):this.i.length==0||Md(this.h)||Yd(this))};function Yd(v,T){var R;T?R=T.l:R=v.V++;const F=En(v.J);At(F,"SID",v.M),At(F,"RID",R),At(F,"AID",v.K),Il(v,F),v.u&&v.o&&Cl(F,v.u,v.o),R=new mt(v,v.j,R,v.D+1),v.u===null&&(R.J=v.o),T&&(v.i=T.G.concat(v.i)),T=zm(v,R,1e3),R.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Dd(v.h,R),Si(R,F,T)}function Il(v,T){v.H&&Z(v.H,function(R,F){At(T,F,R)}),v.l&&Z({},function(R,F){At(T,F,R)})}function zm(v,T,R){R=Math.min(v.i.length,R);const F=v.l?h(v.l.Ka,v.l,v):null;e:{var le=v.i;let Qe=-1;for(;;){const vn=["count="+R];Qe==-1?R>0?(Qe=le[0].g,vn.push("ofs="+Qe)):Qe=0:vn.push("ofs="+Qe);let bt=!0;for(let nn=0;nn<R;nn++){var ge=le[nn].g;const ji=le[nn].map;if(ge-=Qe,ge<0)Qe=Math.max(0,le[nn].g-100),bt=!1;else try{ge="req"+ge+"_"||"";try{var Ce=ji instanceof Map?ji:Object.entries(ji);for(const[Oa,Qi]of Ce){let Ji=Qi;u(Qi)&&(Ji=rr(Qi)),vn.push(ge+Oa+"="+encodeURIComponent(Ji))}}catch(Oa){throw vn.push(ge+"type="+encodeURIComponent("_badmap")),Oa}}catch{F&&F(ji)}}if(bt){Ce=vn.join("&");break e}}Ce=void 0}return v=v.i.splice(0,R),T.G=v,Ce}function Vm(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;U||j(),z||(U(),z=!0),N.add(T,v),v.A=0}}function Rl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=zr(h(v.Da,v),Bm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,$m(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=zr(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),xo(this),$m(this))};function Gd(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function $m(v){v.g=new mt(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=En(v.na);At(T,"RID","rpc"),At(T,"SID",v.M),At(T,"AID",v.K),At(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&At(T,"TO",v.ia),At(T,"TYPE","xmlhttp"),Il(v,T),v.u&&v.o&&Cl(T,v.u,v.o),v.O&&(v.g.H=v.O);var R=v.g;v=v.ba,R.M=1,R.A=Tl(En(T)),R.u=null,R.R=!0,fo(R,v)}t.Va=function(){this.C!=null&&(this.C=null,xo(this),Rl(this),en(19))};function qc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Um(v,T){var R=null;if(v.g==T){qc(v),Gd(v),v.g=null;var F=2}else if(Sa(v.h,T))R=T.G,Ld(v.h,T),F=1;else return;if(v.I!=0){if(T.o)if(F==1){R=T.u?T.u.length:0,T=Date.now()-T.F;var le=v.D;F=wi(),Lt(F,new xr(F,R)),Na(v)}else Vm(v);else if(le=T.m,le==3||le==0&&T.X>0||!(F==1&&Bc(v,T)||F==2&&Rl(v)))switch(R&&R.length>0&&(T=v.h,T.i=T.i.concat(R)),le){case 1:Ca(v,5);break;case 4:Ca(v,10);break;case 3:Ca(v,6);break;default:Ca(v,2)}}}function Bm(v,T){let R=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(R*=2),R*T}function Ca(v,T){if(v.j.info("Error code "+T),T==2){var R=h(v.bb,v),F=v.Ua;const le=!F;F=new ai(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Yn(F,"https"),Tl(F),le?Gi(F.toString(),R):qd(F.toString(),R)}else en(2);v.I=0,v.l&&v.l.pa(T),qm(v),Uc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function qm(v){if(v.I=0,v.ja=[],v.l){const T=zd(v.h);(T.length!=0||v.i.length!=0)&&(S(v.ja,T),S(v.ja,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.oa()}}function Fm(v,T,R){var F=R instanceof ai?En(R):new ai(R);if(F.g!="")T&&(F.g=T+"."+F.g),ho(F,F.u);else{var le=l.location;F=le.protocol,T=T?T+"."+le.hostname:le.hostname,le=+le.port;const ge=new ai(null);F&&Yn(ge,F),T&&(ge.g=T),le&&ho(ge,le),R&&(ge.h=R),F=ge}return R=v.G,T=v.wa,R&&T&&At(F,R,T),At(F,"VER",v.ka),Il(v,F),F}function Hm(v,T,R){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new Pt(new Aa({ab:R})):new Pt(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Km(){}t=Km.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wo(){}wo.prototype.g=function(v,T){return new Ir(v,T)};function Ir(v,T){Ot.call(this),this.g=new bo(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!M(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new cs(this)}g(Ir,Ot),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){Kd(this.g)},Ir.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var R={};R.__data__=v,v=R}else this.v&&(R={},R.__data__=rr(v),v=R);T.i.push(new Sn(T.Ya++,v)),T.I==3&&Na(T)},Ir.prototype.N=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,Ir.Z.N.call(this)};function Ym(v){on.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const R in T){v=R;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(Ym,on);function Gm(){Kn.call(this),this.status=1}g(Gm,Kn);function cs(v){this.g=v}g(cs,Km),cs.prototype.ra=function(){Lt(this.g,"a")},cs.prototype.qa=function(v){Lt(this.g,new Ym(v))},cs.prototype.pa=function(v){Lt(this.g,new Gm)},cs.prototype.oa=function(){Lt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,LD=function(){return new wo},DD=function(){return wi()},MD=Ft,Dw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Tg=Ae,H.COMPLETE="complete",kD=H,ya.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,Ff=ya,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,RD=Pt}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});const _C="@firebase/firestore",SC="4.9.3";let Er=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");let ud="12.7.0";const vc=new aS("@firebase/firestore");function Su(){return vc.logLevel}function De(t,...e){if(vc.logLevel<=lt.DEBUG){const n=e.map(gS);vc.debug(`Firestore (${ud}): ${t}`,...n)}}function Us(t,...e){if(vc.logLevel<=lt.ERROR){const n=e.map(gS);vc.error(`Firestore (${ud}): ${t}`,...n)}}function qu(t,...e){if(vc.logLevel<=lt.WARN){const n=e.map(gS);vc.warn(`Firestore (${ud}): ${t}`,...n)}}function gS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zD(t,r,n)}function zD(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Us(r),new Error(r)}function _t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||zD(e,i,r)}function Ge(t,e){return t}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class VD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Er.UNAUTHENTICATED)))}shutdown(){}}class S7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class E7{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new VD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Er(e)}}class A7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class EC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new EC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new EC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class vS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=N7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function Lw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Ix(i)===Ix(s)?ct(i,s):Ix(i)?1:-1}return ct(t.length,e.length)}const C7=55296,O7=57343;function Ix(t){const e=t.charCodeAt(0);return e>=C7&&e<=O7}function Fu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const AC="__name__";class Da{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Da.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ct(e.length,n.length)}static compareSegments(e,n){const r=Da.isNumericId(e),i=Da.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Da.extractNumericId(e).compare(Da.extractNumericId(n)):Lw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rl.fromString(e.substring(4,e.length-2))}}class Kt extends Da{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const P7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Da{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return P7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AC}static keyField(){return new vr([AC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ie(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Ie(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Kt.fromString(e))}static fromName(e){return new Ue(Kt.fromString(e).popFirst(5))}static empty(){return new Ue(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Kt(e.slice()))}}function $D(t,e,n){if(!n)throw new Ie(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I7(t,e,n,r){if(e===!0&&r===!0)throw new Ie(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TC(t){if(!Ue.isDocumentKey(t))throw new Ie(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jC(t){if(Ue.isDocumentKey(t))throw new Ie(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function d0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe(12329,{type:typeof t})}function yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=d0(t);throw new Ie(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function R7(t,e){if(e<=0)throw new Ie(xe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function In(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gh(t,e){if(!UD(t))throw new Ie(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ie(xe.INVALID_ARGUMENT,n);return!0}const NC=-62135596800,CC=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*CC);return new Vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NC)throw new Ie(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CC}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gh(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:In("string",Vt._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Vt(0,0))}static max(){return new Ke(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lh=-1;function k7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new ol(i,Ue.empty(),e)}function M7(t){return new ol(t.readTime,t.key,lh)}class ol{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ol(Ke.min(),Ue.empty(),lh)}static max(){return new ol(Ke.max(),Ue.empty(),lh)}}function D7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}const L7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dd(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==L7)throw t;De("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Te(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Te.reject(n)}static resolve(e){return new Te(((n,r)=>{n(e)}))}static reject(e){return new Te(((n,r)=>{r(e)}))}static waitFor(e){return new Te(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=Te.resolve(!1);for(const r of e)n=n.next((i=>i?Te.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Te(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new Te(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function V7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fd(t){return t.name==="IndexedDbTransactionError"}class f0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}f0.ce=-1;const yS=-1;function h0(t){return t==null}function Yg(t){return t===0&&1/t==-1/0}function $7(t){return typeof t=="number"&&Number.isInteger(t)&&!Yg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const BD="";function U7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OC(e)),e=B7(t.get(n),e);return OC(e)}function B7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case BD:n+="";break;default:n+=s}}return n}function OC(t){return t+BD+""}function PC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class un{constructor(e,n){this.comparator=e,this.root=n||pr.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eg(this.root,e,this.comparator,!0)}}class eg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pr.RED,this.left=i??pr.EMPTY,this.right=s??pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IC(this.data.getIterator())}getIteratorFrom(e){return new IC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class IC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mi{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new mi([])}unionWith(e){let n=new Vn(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class FD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FD("Invalid base64 string: "+s):s}})(e);return new br(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const q7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=q7.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}const HD="server_timestamp",KD="__type__",YD="__previous_value__",GD="__local_write_time__";function bS(t){return(t?.mapValue?.fields||{})[KD]?.stringValue===HD}function m0(t){const e=t.mapValue.fields[YD];return bS(e)?m0(e):e}function ch(t){const e=ll(t.mapValue.fields[GD].timestampValue);return new Vt(e.seconds,e.nanos)}class F7{constructor(e,n,r,i,s,l,u,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Gg="(default)";class uh{constructor(e,n){this.projectId=e,this.database=n||Gg}static empty(){return new uh("","")}get isDefaultDatabase(){return this.database===Gg}isEqual(e){return e instanceof uh&&e.projectId===this.projectId&&e.database===this.database}}const WD="__type__",H7="__max__",tg={mapValue:{}},XD="__vector__",Wg="value";function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bS(t)?4:Y7(t)?9007199254740991:K7(t)?10:11:Fe(28295,{value:t})}function Wa(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=ll(i.timestampValue),u=ll(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return cl(i.bytesValue).isEqual(cl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return wn(i.geoPointValue.latitude)===wn(s.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return wn(i.integerValue)===wn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=wn(i.doubleValue),u=wn(s.doubleValue);return l===u?Yg(l)===Yg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(PC(l)!==PC(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Wa(l[f],u[f])))return!1;return!0})(t,e);default:return Fe(52216,{left:t})}}function dh(t,e){return(t.values||[]).find((n=>Wa(n,e)))!==void 0}function Hu(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=wn(s.integerValue||s.doubleValue),f=wn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return RC(t.timestampValue,e.timestampValue);case 4:return RC(ch(t),ch(e));case 5:return Lw(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=cl(s),f=cl(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=ct(u[h],f[h]);if(p!==0)return p}return ct(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=ct(wn(s.latitude),wn(l.latitude));return u!==0?u:ct(wn(s.longitude),wn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kC(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},f=l.fields||{},h=u[Wg]?.arrayValue,p=f[Wg]?.arrayValue,g=ct(h?.values?.length||0,p?.values?.length||0);return g!==0?g:kC(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===tg.mapValue&&l===tg.mapValue)return 0;if(s===tg.mapValue)return 1;if(l===tg.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const b=Lw(f[g],p[g]);if(b!==0)return b;const _=Hu(u[f[g]],h[p[g]]);if(_!==0)return _}return ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Fe(23264,{he:n})}}function RC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=ll(t),r=ll(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function kC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Hu(n[i],r[i]);if(s)return s}return ct(n.length,r.length)}function Ku(t){return zw(t)}function zw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ll(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return cl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ue.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${zw(n.fields[l])}`;return i+"}"})(t.mapValue):Fe(61005,{value:t})}function jg(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=m0(t);return e?16+jg(e):16;case 5:return 2*t.stringValue.length;case 6:return cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+jg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vl(r.fields,((s,l)=>{i+=s.length+jg(l)})),i})(t.mapValue);default:throw Fe(13486,{value:t})}}function MC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vw(t){return!!t&&"integerValue"in t}function xS(t){return!!t&&"arrayValue"in t}function DC(t){return!!t&&"nullValue"in t}function LC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ng(t){return!!t&&"mapValue"in t}function K7(t){return(t?.mapValue?.fields||{})[WD]?.stringValue===XD}function Zf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return{...t}}function Y7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===H7}class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ng(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=vr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Zf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ng(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ng(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Xr(Zf(this.value))}}function QD(t){const e=[];return vl(t.fields,((n,r)=>{const i=new vr([n]);if(Ng(r)){const s=QD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new mi(e)}class Ar{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ar(e,0,Ke.min(),Ke.min(),Ke.min(),Xr.empty(),0)}static newFoundDocument(e,n,r,i){return new Ar(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new Ar(e,2,n,Ke.min(),Ke.min(),Xr.empty(),0)}static newUnknownDocument(e,n){return new Ar(e,3,n,Ke.min(),Ke.min(),Xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xg{constructor(e,n){this.position=e,this.inclusive=n}}function zC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ue.comparator(Ue.fromName(l.referenceValue),n.key):r=Hu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function VC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function G7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class JD{}class Pn extends JD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X7(e,n,r):n==="array-contains"?new Z7(e,r):n==="in"?new eq(e,r):n==="not-in"?new tq(e,r):n==="array-contains-any"?new nq(e,r):new Pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q7(e,r):new J7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hu(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(Hu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends JD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ua(e,n)}matches(e){return ZD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZD(t){return t.op==="and"}function e4(t){return W7(t)&&ZD(t)}function W7(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function $w(t){if(t instanceof Pn)return t.field.canonicalString()+t.op.toString()+Ku(t.value);if(e4(t))return t.filters.map((e=>$w(e))).join(",");{const e=t.filters.map((n=>$w(n))).join(",");return`${t.op}(${e})`}}function t4(t,e){return t instanceof Pn?(function(r,i){return i instanceof Pn&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(t,e):t instanceof ua?(function(r,i){return i instanceof ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&t4(l,i.filters[u])),!0):!1})(t,e):void Fe(19439)}function n4(t){return t instanceof Pn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ku(n.value)}`})(t):t instanceof ua?(function(n){return n.op.toString()+" {"+n.getFilters().map(n4).join(" ,")+"}"})(t):"Filter"}class X7 extends Pn{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q7 extends Pn{constructor(e,n){super(e,"in",n),this.keys=r4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class J7 extends Pn{constructor(e,n){super(e,"not-in",n),this.keys=r4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function r4(t,e){return(e.arrayValue?.values||[]).map((n=>Ue.fromName(n.referenceValue)))}class Z7 extends Pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xS(n)&&dh(n.arrayValue,this.value)}}class eq extends Pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dh(this.value.arrayValue,n)}}class tq extends Pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dh(this.value.arrayValue,n)}}class nq extends Pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>dh(this.value.arrayValue,r)))}}class rq{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function $C(t,e=null,n=[],r=[],i=null,s=null,l=null){return new rq(t,e,n,r,i,s,l)}function wS(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$w(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),h0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ku(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ku(r))).join(",")),e.Te=n}return e.Te}function _S(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VC(t.startAt,e.startAt)&&VC(t.endAt,e.endAt)}function Uw(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class hd{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iq(t,e,n,r,i,s,l,u){return new hd(t,e,n,r,i,s,l,u)}function p0(t){return new hd(t)}function UC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i4(t){return t.collectionGroup!==null}function eh(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Vn(vr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new fh(s,r))})),n.has(vr.keyField().canonicalString())||e.Ie.push(new fh(vr.keyField(),r))}return e.Ie}function qa(t){const e=Ge(t);return e.Ee||(e.Ee=aq(e,eh(t))),e.Ee}function aq(t,e){if(t.limitType==="F")return $C(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new fh(i.field,s)}));const n=t.endAt?new Xg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xg(t.startAt.position,t.startAt.inclusive):null;return $C(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bw(t,e){const n=t.filters.concat([e]);return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qg(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function g0(t,e){return _S(qa(t),qa(e))&&t.limitType===e.limitType}function a4(t){return`${wS(qa(t))}|lt:${t.limitType}`}function Eu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>n4(i))).join(", ")}]`),h0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ku(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ku(i))).join(",")),`Target(${r})`})(qa(t))}; limitType=${t.limitType})`}function v0(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of eh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const h=zC(l,u,f);return l.inclusive?h<=0:h<0})(r.startAt,eh(r),i)||r.endAt&&!(function(l,u,f){const h=zC(l,u,f);return l.inclusive?h>=0:h>0})(r.endAt,eh(r),i))})(t,e)}function sq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function s4(t){return(e,n)=>{let r=!1;for(const i of eh(t)){const s=oq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oq(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):(function(s,l,u){const f=l.data.field(s),h=u.data.field(s);return f!==null&&h!==null?Hu(f,h):Fe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:t.dir})}}class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return qD(this.inner)}size(){return this.innerSize}}const lq=new un(Ue.comparator);function Bs(){return lq}const o4=new un(Ue.comparator);function Hf(...t){let e=o4;for(const n of t)e=e.insert(n.key,n);return e}function l4(t){let e=o4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function tc(){return th()}function c4(){return th()}function th(){return new Cc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cq=new un(Ue.comparator),uq=new Vn(Ue.comparator);function ut(...t){let e=uq;for(const n of t)e=e.add(n);return e}const dq=new Vn(ct);function fq(){return dq}function SS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yg(e)?"-0":e}}function u4(t){return{integerValue:""+t}}function hq(t,e){return $7(e)?u4(e):SS(t,e)}class y0{constructor(){this._=void 0}}function mq(t,e,n){return t instanceof hh?(function(i,s){const l={fields:{[KD]:{stringValue:HD},[GD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bS(s)&&(s=m0(s)),s&&(l.fields[YD]=s),{mapValue:l}})(n,e):t instanceof mh?f4(t,e):t instanceof ph?h4(t,e):(function(i,s){const l=d4(i,s),u=BC(l)+BC(i.Ae);return Vw(l)&&Vw(i.Ae)?u4(u):SS(i.serializer,u)})(t,e)}function pq(t,e,n){return t instanceof mh?f4(t,e):t instanceof ph?h4(t,e):n}function d4(t,e){return t instanceof Jg?(function(r){return Vw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class hh extends y0{}class mh extends y0{constructor(e){super(),this.elements=e}}function f4(t,e){const n=m4(e);for(const r of t.elements)n.some((i=>Wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ph extends y0{constructor(e){super(),this.elements=e}}function h4(t,e){let n=m4(e);for(const r of t.elements)n=n.filter((i=>!Wa(i,r)));return{arrayValue:{values:n}}}class Jg extends y0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BC(t){return wn(t.integerValue||t.doubleValue)}function m4(t){return xS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class gq{constructor(e,n){this.field=e,this.transform=n}}function vq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof mh&&i instanceof mh||r instanceof ph&&i instanceof ph?Fu(r.elements,i.elements,Wa):r instanceof Jg&&i instanceof Jg?Wa(r.Ae,i.Ae):r instanceof hh&&i instanceof hh})(t.transform,e.transform)}class yq{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class b0{}function p4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x0(t.key,Dr.none()):new Wh(t.key,t.data,Dr.none());{const n=t.data,r=Xr.empty();let i=new Vn(vr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new yl(t.key,r,new mi(i.toArray()),Dr.none())}}function bq(t,e,n){t instanceof Wh?(function(i,s,l){const u=i.value.clone(),f=FC(i.fieldTransforms,s,l.transformResults);u.setAll(f),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof yl?(function(i,s,l){if(!Cg(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=FC(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(g4(i)),f.setAll(u),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function nh(t,e,n,r){return t instanceof Wh?(function(s,l,u,f){if(!Cg(s.precondition,l))return u;const h=s.value.clone(),p=HC(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof yl?(function(s,l,u,f){if(!Cg(s.precondition,l))return u;const h=HC(s.fieldTransforms,f,l),p=l.data;return p.setAll(g4(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return Cg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function xq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=d4(r.transform,i||null);s!=null&&(n===null&&(n=Xr.empty()),n.set(r.field,s))}return n||null}function qC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fu(r,i,((s,l)=>vq(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends b0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yl extends b0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function g4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function FC(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,pq(l,u,n[i]))}return r}function HC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,mq(s,l,e))}return r}class x0 extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wq extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _q{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=c4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const f=p4(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,((n,r)=>qC(n,r)))&&Fu(this.baseMutations,e.baseMutations,((n,r)=>qC(n,r)))}}class ES{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return cq})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new ES(e,n,r,i)}}class Sq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Eq{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cn,ft;function Aq(t){switch(t){case xe.OK:return Fe(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return Fe(15467,{code:t})}}function v4(t){if(t===void 0)return Us("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Cn.OK:return xe.OK;case Cn.CANCELLED:return xe.CANCELLED;case Cn.UNKNOWN:return xe.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return xe.INTERNAL;case Cn.UNAVAILABLE:return xe.UNAVAILABLE;case Cn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Cn.NOT_FOUND:return xe.NOT_FOUND;case Cn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Cn.ABORTED:return xe.ABORTED;case Cn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Cn.DATA_LOSS:return xe.DATA_LOSS;default:return Fe(39323,{code:t})}}(ft=Cn||(Cn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";function Tq(){return new TextEncoder}const jq=new rl([4294967295,4294967295],0);function KC(t){const e=Tq().encode(t),n=new ID;return n.update(e),new Uint8Array(n.digest())}function YC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rl([n,r],0),new rl([i,s],0)]}class AS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kf(`Invalid padding: ${n}`);if(r<0)throw new Kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(rl.fromNumber(r)));return i.compare(jq)===1&&(i=new rl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KC(e),[r,i]=YC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new AS(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=KC(e),[r,i]=YC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class w0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new w0(Ke.min(),i,new un(ct),Bs(),ut())}}class Xh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xh(r,n,ut(),ut(),ut())}}class Og{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class y4{constructor(e,n){this.targetId=e,this.Ce=n}}class b4{constructor(e,n,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class GC{constructor(){this.ve=0,this.Fe=WC(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:s})}})),new Xh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=WC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nq{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=ng(),this.He=ng(),this.Ye=new un(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Uw(s))if(r===0){const l=new Ue(s.path);this.et(n,l,Ar.newNoDocument(l,Ke.min()))}else _t(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=cl(r).toUint8Array()}catch(f){if(f instanceof FD)return qu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new AS(l,i,s)}catch(f){return qu(f instanceof Kf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&Uw(u.target)){const f=new Ue(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Ar.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ut();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new w0(e,n,this.Ye,this.je,r);return this.je=Bs(),this.Je=ng(),this.He=ng(),this.Ye=new un(ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new GC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ng(){return new un(Ue.comparator)}function WC(){return new un(Ue.comparator)}const Cq={asc:"ASCENDING",desc:"DESCENDING"},Oq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pq={and:"AND",or:"OR"};class Iq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qw(t,e){return t.useProto3Json||h0(e)?e:{value:e}}function Zg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rq(t,e){return Zg(t,e.toTimestamp())}function Fa(t){return _t(!!t,49232),Ke.fromTimestamp((function(n){const r=ll(n);return new Vt(r.seconds,r.nanos)})(t))}function TS(t,e){return Fw(t,e).canonicalString()}function Fw(t,e){const n=(function(i){return new Kt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function w4(t){const e=Kt.fromString(t);return _t(T4(e),10190,{key:e.toString()}),e}function Hw(t,e){return TS(t.databaseId,e.path)}function Rx(t,e){const n=w4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(S4(n))}function _4(t,e){return TS(t.databaseId,e)}function kq(t){const e=w4(t);return e.length===4?Kt.emptyPath():S4(e)}function Kw(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S4(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XC(t,e,n){return{name:Hw(t,e),fields:n.value.mapValue.fields}}function Mq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Fe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(_t(p===void 0||typeof p=="string",58123),br.fromBase64String(p||"")):(_t(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),br.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?xe.UNKNOWN:v4(h.code);return new Ie(p,h.message||"")})(l);n=new b4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rx(t,r.document.name),s=Fa(r.document.updateTime),l=r.document.createTime?Fa(r.document.createTime):Ke.min(),u=new Xr({mapValue:{fields:r.document.fields}}),f=Ar.newFoundDocument(i,s,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Og(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rx(t,r.document),s=r.readTime?Fa(r.readTime):Ke.min(),l=Ar.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Og([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rx(t,r.document),s=r.removedTargetIds||[];n=new Og([],s,i,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Eq(i,s),u=r.targetId;n=new y4(u,l)}}return n}function Dq(t,e){let n;if(e instanceof Wh)n={update:XC(t,e.key,e.value)};else if(e instanceof x0)n={delete:Hw(t,e.key)};else if(e instanceof yl)n={update:XC(t,e.key,e.data),updateMask:Hq(e.fieldMask)};else{if(!(e instanceof wq))return Fe(16599,{Vt:e.type});n={verify:Hw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof hh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ph)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Jg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Fe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Rq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Fe(27497)})(t,e.precondition)),n}function Lq(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Fa(i.updateTime):Fa(s);return l.isEqual(Ke.min())&&(l=Fa(s)),new yq(l,i.transformResults||[])})(n,e)))):[]}function zq(t,e){return{documents:[_4(t,e.path)]}}function Vq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_4(t,i);const s=(function(h){if(h.length!==0)return A4(ua.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(b){return{field:Au(b.field),direction:Bq(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=qw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function $q(t){let e=kq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=E4(g);return b instanceof ua&&e4(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(S){return new fh(Tu(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,h0(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(g){const b=!!g.before,_=g.values||[];return new Xg(_,b)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const b=!g.before,_=g.values||[];return new Xg(_,b)})(n.endAt)),iq(e,i,l,s,u,"F",f,h)}function Uq(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function E4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tu(n.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tu(n.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tu(n.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tu(n.unaryFilter.field);return Pn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pn.create(Tu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ua.create(n.compositeFilter.filters.map((r=>E4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(n.compositeFilter.op))})(t):Fe(30097,{filter:t})}function Bq(t){return Cq[t]}function qq(t){return Oq[t]}function Fq(t){return Pq[t]}function Au(t){return{fieldPath:t.canonicalString()}}function Tu(t){return vr.fromServerFormat(t.fieldPath)}function A4(t){return t instanceof Pn?(function(n){if(n.op==="=="){if(LC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NAN"}};if(DC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NAN"}};if(DC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(n.field),op:qq(n.op),value:n.value}}})(t):t instanceof ua?(function(n){const r=n.getFilters().map((i=>A4(i)));return r.length===1?r[0]:{compositeFilter:{op:Fq(n.op),filters:r}}})(t):Fe(54877,{filter:t})}function Hq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function T4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Jo{constructor(e,n,r,i,s=Ke.min(),l=Ke.min(),u=br.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kq{constructor(e){this.yt=e}}function Yq(t){const e=$q({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qg(e,e.limit,"L"):e}class Gq{constructor(){this.Cn=new Wq}addToCollectionParentIndex(e,n){return this.Cn.add(n),Te.resolve()}getCollectionParents(e,n){return Te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Te.resolve()}deleteFieldIndex(e,n){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,n){return Te.resolve()}getDocumentsMatchingTarget(e,n){return Te.resolve(null)}getIndexType(e,n){return Te.resolve(0)}getFieldIndexes(e,n){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,n){return Te.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,n){return Te.resolve(ol.min())}updateCollectionGroup(e,n,r){return Te.resolve()}updateIndexEntries(e,n){return Te.resolve()}}class Wq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vn(Kt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(Kt.comparator)).toArray()}}const QC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j4=41943040;class Gr{static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(j4,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);class Yu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yu(0)}static cr(){return new Yu(-1)}}const JC="LruGarbageCollector",Xq=1048576;function ZC([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class Qq{constructor(e){this.Ir=e,this.buffer=new Vn(ZC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(JC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fd(n)?De(JC,"Ignoring IndexedDB error during garbage collection: ",n):await dd(n)}await this.Vr(3e5)}))}}class Zq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Te.resolve(f0.ce);const r=new Qq(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(QC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Su()<=lt.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function eF(t,e){return new Zq(t,e)}class tF{constructor(){this.changes=new Cc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&nh(r.mutation,i,mi.empty(),Vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const i=tc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Hf();return s.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=tc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=Bs();const l=th(),u=(function(){return th()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof yl)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),nh(p.mutation,h,p.mutation.getFieldMask(),Vt.now())):l.set(h.key,mi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new nF(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=th();let i=new un(((l,u)=>l-u)),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||mi.empty();p=u.applyToLocalView(h,p),r.set(f,p);const g=(i.get(u.batchId)||ut()).add(f);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,g=c4();p.forEach((b=>{if(!s.has(b)){const _=p4(n.get(b),r.get(b));_!==null&&g.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ue.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Te.resolve(tc());let u=lh,f=s;return l.next((h=>Te.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?Te.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{f=f.insert(p,b)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,ut()))).next((p=>({batchId:u,changes:l4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((r=>{let i=Hf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Hf();return this.indexManager.getCollectionParents(e,s).next((u=>Te.forEach(u,(f=>{const h=(function(g,b){return new hd(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Ar.newInvalidDocument(p)))}));let u=Hf();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&nh(p.mutation,h,mi.empty(),Vt.now()),v0(n,h)&&(u=u.insert(f,h))})),u}))}}class iF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fa(i.createTime)}})(n)),Te.resolve()}getNamedQuery(e,n){return Te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Yq(i.bundledQuery),readTime:Fa(i.readTime)}})(n)),Te.resolve()}}class aF{constructor(){this.overlays=new un(Ue.comparator),this.qr=new Map}getOverlay(e,n){return Te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tc();return Te.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Te.resolve()}getOverlaysForCollection(e,n,r){const i=tc(),s=n.length+1,l=new Ue(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new un(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=tc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=tc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return Te.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Sq(n,r));let s=this.qr.get(n);s===void 0&&(s=ut(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class sF{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Te.resolve()}}class jS{constructor(){this.Qr=new Vn(Qn.$r),this.Ur=new Vn(Qn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Qn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Qn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ue(new Kt([])),r=new Qn(n,e),i=new Qn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ue(new Kt([])),r=new Qn(n,e),i=new Qn(n,e+1);let s=ut();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Qn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ue.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Ue.comparator(e.key,n.key)}}class oF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vn(Qn.$r)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new _q(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Qn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Te.resolve(l)}lookupMutationBatch(e,n){return Te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?yS:this.tr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qn(n,0),i=new Qn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),Te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vn(ct);return n.forEach((i=>{const s=new Qn(i,0),l=new Qn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),Te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ue.isDocumentKey(s)||(s=s.child(""));const l=new Qn(new Ue(s),0);let u=new Vn(ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Yr)),!0)}),l),Te.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Te.forEach(n.mutations,(i=>{const s=new Qn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Qn(n,0),i=this.Zr.firstAfterOrEqual(r);return Te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lF{constructor(e){this.ri=e,this.docs=(function(){return new un(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Te.resolve(r?r.document.mutableCopy():Ar.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ar.newInvalidDocument(i))})),Te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bs();const l=n.path,u=new Ue(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||D7(M7(p),r)<=0||(i.has(p.key)||v0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Fe(9500)}ii(e,n){return Te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cF(this)}getSize(e){return Te.resolve(this.size)}}class cF extends tF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class uF{constructor(e){this.persistence=e,this.si=new Cc((n=>wS(n)),_S),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.oi=0,this._i=new jS,this.targetCount=0,this.ai=Yu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Te.resolve()}updateTargetData(e,n){return this.Pr(n),Te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Te.waitFor(s).next((()=>i))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Te.resolve(r)}containsKey(e,n){return Te.resolve(this._i.containsKey(n))}}class N4{constructor(e,n){this.ui={},this.overlays={},this.ci=new f0(0),this.li=!1,this.li=!0,this.hi=new sF,this.referenceDelegate=e(this),this.Pi=new uF(this),this.indexManager=new Gq,this.remoteDocumentCache=(function(i){return new lF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Kq(n),this.Ii=new iF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new oF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new dF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class dF extends z7{constructor(e){super(),this.currentSequenceNumber=e}}class NS{constructor(e){this.persistence=e,this.Ri=new jS,this.Vi=null}static mi(e){return new NS(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(r=>{const i=Ue.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Te.or([()=>Te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ev{constructor(e,n){this.persistence=e,this.pi=new Cc((r=>U7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=eF(this,n)}static mi(e,n){return new ev(e,n)}Ei(){}di(e){return Te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Te.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Te.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Ke.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jg(e.data.value)),n}br(e,n,r){return Te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class CS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ut(),i=ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new CS(e,n.fromCache,r,i)}}class fF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return e$()?8:V7(Cr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new fF;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Su()<=lt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Eu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(Su()<=lt.DEBUG&&De("QueryEngine","Query:",Eu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Su()<=lt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Eu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qa(n))):Te.resolve())}ys(e,n){if(UC(n))return Te.resolve(null);let r=qa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Qg(n,null,"F"),r=qa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ut(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,u);return this.Cs(n,h,l,f.readTime)?this.ys(e,Qg(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return UC(n)||i.isEqual(Ke.min())?Te.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Te.resolve(null):(Su()<=lt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eu(n)),this.vs(e,l,n,k7(i,lh)).next((u=>u)))}))}Ds(e,n){let r=new Vn(s4(e));return n.forEach(((i,s)=>{v0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Su()<=lt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Eu(n)),this.ps.getDocumentsMatchingQuery(e,n,ol.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const OS="LocalStore",mF=3e8;class pF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new un(ct),this.xs=new Cc((s=>wS(s)),_S),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function gF(t,e,n,r){return new pF(t,e,n,r)}async function C4(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let f=ut();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function vF(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,p){const g=h.batch,b=g.keys();let _=Te.resolve();return b.forEach((S=>{_=_.next((()=>p.getEntry(f,S))).next((E=>{const A=h.docVersions.get(S);_t(A!==null,48541),E.version.compareTo(A)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ut();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function O4(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function yF(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(br.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(E,A,C){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=mF?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(s,_))}));let f=Bs(),h=ut();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(bF(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Ke.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return Te.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function bF(t,e,n){let r=ut(),i=ut();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Bs();return n.forEach(((u,f)=>{const h=s.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Ke.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):De(OS,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function xF(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function wF(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Te.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Jo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Yw(t,e,n){const r=Ge(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!fd(l))throw l;De(OS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function eO(t,e,n){const r=Ge(t);let i=Ke.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=Ge(f),b=g.xs.get(p);return b!==void 0?Te.resolve(g.Ms.get(b)):g.Pi.getTargetData(h,p)})(r,l,qa(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ke.min(),n?s:ut()))).next((u=>(_F(r,sq(e),u),{documents:u,Qs:s})))))}function _F(t,e,n){let r=t.Os.get(e)||Ke.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class tO{constructor(){this.activeTargetIds=fq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SF{constructor(){this.Mo=new tO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class EF{Oo(e){}shutdown(){}}const nO="ConnectivityMonitor";class rO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(nO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(nO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rg=null;function Gw(){return rg===null?rg=(function(){return 268435456+Math.round(2147483648*Math.random())})():rg++,"0x"+rg.toString(16)}const kx="RestConnection",AF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Gw(),u=this.zo(e,n.toUriEncodedString());De(kx,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:h}=new URL(u),p=od(h);return this.Jo(e,u,f,r,p).then((g=>(De(kx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw qu(kx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=AF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class jF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _r="WebChannelConnection";class NF extends TF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Gw();return new Promise(((u,f)=>{const h=new RD;h.setWithCredentials(!0),h.listenOnce(kD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Tg.NO_ERROR:const g=h.getResponseJson();De(_r,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Tg.TIMEOUT:De(_r,`RPC '${e}' ${l} timed out`),f(new Ie(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Tg.HTTP_ERROR:const b=h.getStatus();if(De(_r,`RPC '${e}' ${l} failed with status:`,b,"response text:",h.getResponseText()),b>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const E=(function(C){const $=C.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf($)>=0?$:xe.UNKNOWN})(S.status);f(new Ie(E,S.message))}else f(new Ie(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ie(xe.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{De(_r,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);De(_r,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Gw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=LD(),u=DD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");De(_r,`Creating RPC '${e}' stream ${i}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let b=!1,_=!1;const S=new jF({Yo:A=>{_?De(_r,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(b||(De(_r,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),De(_r,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),E=(A,C,$)=>{A.listen(C,(L=>{try{$(L)}catch(q){setTimeout((()=>{throw q}),0)}}))};return E(g,Ff.EventType.OPEN,(()=>{_||(De(_r,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),E(g,Ff.EventType.CLOSE,(()=>{_||(_=!0,De(_r,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(g))})),E(g,Ff.EventType.ERROR,(A=>{_||(_=!0,qu(_r,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Ie(xe.UNAVAILABLE,"The operation could not be completed")))})),E(g,Ff.EventType.MESSAGE,(A=>{if(!_){const C=A.data[0];_t(!!C,16349);const $=C,L=$?.error||$[0]?.error;if(L){De(_r,`RPC '${e}' stream ${i} received error:`,L);const q=L.status;let U=(function(j){const k=Cn[j];if(k!==void 0)return v4(k)})(q),z=L.message;U===void 0&&(U=xe.INTERNAL,z="Unknown error status: "+q+" with message "+L.message),_=!0,S.a_(new Ie(U,z)),g.close()}else De(_r,`RPC '${e}' stream ${i} received:`,C),S.u_(C)}})),E(u,MD.STAT_EVENT,(A=>{A.stat===Dw.PROXY?De(_r,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Dw.NOPROXY&&De(_r,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mx(){return typeof document<"u"?document:null}function _0(t){return new Iq(t,!0)}class P4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iO="PersistentStream";class I4{constructor(e,n,r,i,s,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(iO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(iO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CF extends I4{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Mq(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ke.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ke.min():l.readTime?Fa(l.readTime):Ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Kw(this.serializer),n.addTarget=(function(s,l){let u;const f=l.target;if(u=Uw(f)?{documents:zq(s,f)}:{query:Vq(s,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=x4(s,l.resumeToken);const h=qw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ke.min())>0){u.readTime=Zg(s,l.snapshotVersion.toTimestamp());const h=qw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=Uq(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Kw(this.serializer),n.removeTarget=e,this.q_(n)}}class OF extends I4{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Lq(e.writeResults,e.commitTime),r=Fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Kw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Dq(this.serializer,r)))};this.q_(n)}}class PF{}class IF extends PF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Fw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(xe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Fw(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(xe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const yc="RemoteStore";class kF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Oc(this)&&(De(yc,"Restarting streams for network reachability change."),await(async function(f){const h=Ge(f);h.Ea.add(4),await Qh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await S0(h)})(this))}))})),this.Ra=new RF(r,i)}}async function S0(t){if(Oc(t))for(const e of t.da)await e(!0)}async function Qh(t){for(const e of t.da)await e(!1)}function R4(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kS(n)?RS(n):md(n).O_()&&IS(n,e))}function PS(t,e){const n=Ge(t),r=md(n);n.Ia.delete(e),r.O_()&&k4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Oc(n)&&n.Ra.set("Unknown"))}function IS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}md(t).Y_(e)}function k4(t,e){t.Va.Ue(e),md(t).Z_(e)}function RS(t){t.Va=new Nq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),md(t).start(),t.Ra.ua()}function kS(t){return Oc(t)&&!md(t).x_()&&t.Ia.size>0}function Oc(t){return Ge(t).Ea.size===0}function M4(t){t.Va=void 0}async function MF(t){t.Ra.set("Online")}async function DF(t){t.Ia.forEach(((e,n)=>{IS(t,e)}))}async function LF(t,e){M4(t),kS(t)?(t.Ra.ha(e),RS(t)):t.Ra.set("Unknown")}async function zF(t,e,n){if(t.Ra.set("Online"),e instanceof b4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){De(yc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tv(t,r)}else if(e instanceof Og?t.Va.Ze(e):e instanceof y4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ke.min()))try{const r=await O4(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(br.EMPTY_BYTE_STRING,p.snapshotVersion)),k4(s,f);const g=new Jo(p.target,f,h,p.sequenceNumber);IS(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){De(yc,"Failed to raise snapshot:",r),await tv(t,r)}}async function tv(t,e,n){if(!fd(e))throw e;t.Ea.add(1),await Qh(t),t.Ra.set("Offline"),n||(n=()=>O4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(yc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await S0(t)}))}function D4(t,e){return e().catch((n=>tv(t,n,e)))}async function E0(t){const e=Ge(t),n=dl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yS;for(;VF(e);)try{const i=await xF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,$F(e,i)}catch(i){await tv(e,i)}L4(e)&&z4(e)}function VF(t){return Oc(t)&&t.Ta.length<10}function $F(t,e){t.Ta.push(e);const n=dl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function L4(t){return Oc(t)&&!dl(t).x_()&&t.Ta.length>0}function z4(t){dl(t).start()}async function UF(t){dl(t).ra()}async function BF(t){const e=dl(t);for(const n of t.Ta)e.ea(n.mutations)}async function qF(t,e,n){const r=t.Ta.shift(),i=ES.from(r,e,n);await D4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await E0(t)}async function FF(t,e){e&&dl(t).X_&&await(async function(r,i){if((function(l){return Aq(l)&&l!==xe.ABORTED})(i.code)){const s=r.Ta.shift();dl(r).B_(),await D4(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await E0(r)}})(t,e),L4(t)&&z4(t)}async function aO(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),De(yc,"RemoteStore received new credentials");const r=Oc(n);n.Ea.add(3),await Qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await S0(n)}async function HF(t,e){const n=Ge(t);e?(n.Ea.delete(2),await S0(n)):e||(n.Ea.add(2),await Qh(n),n.Ra.set("Unknown"))}function md(t){return t.ma||(t.ma=(function(n,r,i){const s=Ge(n);return s.sa(),new CF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:MF.bind(null,t),t_:DF.bind(null,t),r_:LF.bind(null,t),H_:zF.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),kS(t)?RS(t):t.Ra.set("Unknown")):(await t.ma.stop(),M4(t))}))),t.ma}function dl(t){return t.fa||(t.fa=(function(n,r,i){const s=Ge(n);return s.sa(),new OF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UF.bind(null,t),r_:FF.bind(null,t),ta:BF.bind(null,t),na:qF.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await E0(t)):(await t.fa.stop(),t.Ta.length>0&&(De(yc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class MS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new MS(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DS(t,e){if(Us("AsyncQueue",`${e}: ${t}`),fd(t))return new Ie(xe.UNAVAILABLE,`${e}: ${t}`);throw t}class Lu{static emptySet(e){return new Lu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Hf(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class sO{constructor(){this.ga=new un(Ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Gu{constructor(e,n,r,i,s,l,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Gu(e,n,Lu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class KF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YF{constructor(){this.queries=oO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ge(n),s=i.queries;i.queries=oO(),s.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Ie(xe.ABORTED,"Firestore shutting down"))}}function oO(){return new Cc((t=>a4(t)),g0)}async function LS(t,e){const n=Ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new KF,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=DS(l,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&VS(n)}async function zS(t,e){const n=Ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GF(t,e){const n=Ge(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&VS(n)}function WF(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function VS(t){t.Ca.forEach((e=>{e.next()}))}var Ww,lO;(lO=Ww||(Ww={})).Ma="default",lO.Cache="cache";class $S{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ww.Cache}}class V4{constructor(e){this.key=e}}class $4{constructor(e){this.key=e}}class XF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=s4(e),this.tu=new Lu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),_=v0(this.query,g)?g:null,S=!!b&&this.mutatedKeys.has(b.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;b&&_?b.data.isEqual(_.data)?S!==E&&(r.track({type:3,doc:_}),A=!0):this.su(b,_)||(r.track({type:2,doc:_}),A=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(u=!0)):!b&&_?(r.track({type:0,doc:_}),A=!0):b&&!_&&(r.track({type:1,doc:b}),A=!0,(f||h)&&(u=!0)),A&&(_?(l=l.add(_),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:A})}};return E(_)-E(S)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Gu(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new $4(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new V4(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Gu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const US="SyncEngine";class QF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JF{constructor(e){this.key=e,this.hu=!1}}class ZF{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Cc((u=>a4(u)),g0),this.Iu=new Map,this.Eu=new Set,this.du=new un(Ue.comparator),this.Au=new Map,this.Ru=new jS,this.Vu={},this.mu=new Map,this.fu=Yu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eH(t,e,n=!0){const r=K4(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await U4(r,e,n,!0),i}async function tH(t,e){const n=K4(t);await U4(n,e,!0,!1)}async function U4(t,e,n,r){const i=await wF(t.localStore,qa(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await nH(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&R4(t.remoteStore,i),u}async function nH(t,e,n,r,i){t.pu=(g,b,_)=>(async function(E,A,C,$){let L=A.view.ru(C);L.Cs&&(L=await eO(E.localStore,A.query,!1).then((({documents:N})=>A.view.ru(N,L))));const q=$&&$.targetChanges.get(A.targetId),U=$&&$.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(L,E.isPrimaryClient,q,U);return uO(E,A.targetId,z.au),z.snapshot})(t,g,b,_);const s=await eO(t.localStore,e,!0),l=new XF(e,s.Qs),u=l.ru(s.documents),f=Xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,f);uO(t,n,h.au);const p=new QF(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function rH(t,e,n){const r=Ge(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!g0(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&PS(r.remoteStore,i.targetId),Xw(r,i.targetId)})).catch(dd)):(Xw(r,i.targetId),await Yw(r.localStore,i.targetId,!0))}async function iH(t,e){const n=Ge(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),PS(n.remoteStore,r.targetId))}async function aH(t,e,n){const r=fH(t);try{const i=await(function(l,u){const f=Ge(l),h=Vt.now(),p=u.reduce(((_,S)=>_.add(S.key)),ut());let g,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=Bs(),E=ut();return f.Ns.getEntries(_,p).next((A=>{S=A,S.forEach(((C,$)=>{$.isValidDocument()||(E=E.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,S))).next((A=>{g=A;const C=[];for(const $ of u){const L=xq($,g.get($.key).overlayedDocument);L!=null&&C.push(new yl($.key,L,QD(L.value.mapValue),Dr.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,C,u)})).next((A=>{b=A;const C=A.applyToLocalDocumentSet(g,E);return f.documentOverlayCache.saveOverlays(_,A.batchId,C)}))})).then((()=>({batchId:b.batchId,changes:l4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new un(ct)),h=h.insert(u,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await Jh(r,i.changes),await E0(r.remoteStore)}catch(i){const s=DS(i,"Failed to persist write");n.reject(s)}}async function B4(t,e){const n=Ge(t);try{const r=await yF(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?_t(l.hu,14607):i.removedDocuments.size>0&&(_t(l.hu,42227),l.hu=!1))})),await Jh(n,r,e)}catch(r){await dd(r)}}function cO(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=Ge(l);f.onlineState=u;let h=!1;f.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(h=!0)})),h&&VS(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sH(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new un(Ue.comparator);l=l.insert(s,Ar.newNoDocument(s,Ke.min()));const u=ut().add(s),f=new w0(Ke.min(),new Map,new un(ct),l,u);await B4(r,f),r.du=r.du.remove(s),r.Au.delete(e),BS(r)}else await Yw(r.localStore,e,!1).then((()=>Xw(r,e,n))).catch(dd)}async function oH(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await vF(n.localStore,e);F4(n,r,null),q4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jh(n,i)}catch(i){await dd(i)}}async function lH(t,e,n){const r=Ge(t);try{const i=await(function(l,u){const f=Ge(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,u).next((g=>(_t(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);F4(r,e,n),q4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jh(r,i)}catch(i){await dd(i)}}function q4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function F4(t,e,n){const r=Ge(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Xw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||H4(t,r)}))}function H4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(PS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),BS(t))}function uO(t,e,n){for(const r of n)r instanceof V4?(t.Ru.addReference(r.key,e),cH(t,r)):r instanceof $4?(De(US,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||H4(t,r.key)):Fe(19791,{wu:r})}function cH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(US,"New document in limbo: "+n),t.Eu.add(r),BS(t))}function BS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ue(Kt.fromString(e)),r=t.fu.next();t.Au.set(r,new JF(n)),t.du=t.du.insert(n,r),R4(t.remoteStore,new Jo(qa(p0(n.path)),r,"TargetPurposeLimboResolution",f0.ce))}}async function Jh(t,e,n){const r=Ge(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=CS.As(f.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=Ge(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Te.forEach(h,(b=>Te.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(g,b.targetId,_))).next((()=>Te.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(g,b.targetId,_)))))))))}catch(g){if(!fd(g))throw g;De(OS,"Failed to update sequence numbers: "+g)}for(const g of h){const b=g.targetId;if(!g.fromCache){const _=p.Ms.get(b),S=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(b,E)}}})(r.localStore,s))}async function uH(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){De(US,"User change. New user:",e.toKey());const r=await C4(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ie(xe.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jh(n,r.Ls)}}function dH(t,e){const n=Ge(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let i=ut();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function K4(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sH.bind(null,e),e.Pu.H_=GF.bind(null,e.eventManager),e.Pu.yu=WF.bind(null,e.eventManager),e}function fH(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lH.bind(null,e),e}class nv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gF(this.persistence,new hF,e.initialUser,this.serializer)}Cu(e){return new N4(NS.mi,this.serializer)}Du(e){return new SF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nv.provider={build:()=>new nv};class hH extends nv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof ev,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Jq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new N4((r=>ev.mi(r,n)),this.serializer)}}class Qw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uH.bind(null,this.syncEngine),await HF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YF})()}createDatastore(e){const n=_0(e.databaseInfo.databaseId),r=(function(s){return new NF(s)})(e.databaseInfo);return(function(s,l,u,f){return new IF(s,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new kF(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>cO(this.syncEngine,n,0)),(function(){return rO.v()?new rO:new EF})())}createSyncEngine(e,n){return(function(i,s,l,u,f,h,p){const g=new ZF(i,s,l,u,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ge(n);De(yc,"RemoteStore shutting down."),r.Ea.add(5),await Qh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qw.provider={build:()=>new Qw};class qS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fl="FirestoreClient";class mH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Er.UNAUTHENTICATED,this.clientId=vS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{De(fl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(De(fl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=DS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dx(t,e){t.asyncQueue.verifyOperationInProgress(),De(fl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await C4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pH(t);De(fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>aO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>aO(e.remoteStore,i))),t._onlineComponents=e}async function pH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(fl,"Using user provided OfflineComponentProvider");try{await Dx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;qu("Error using user provided cache. Falling back to memory cache: "+n),await Dx(t,new nv)}}else De(fl,"Using default OfflineComponentProvider"),await Dx(t,new hH(void 0));return t._offlineComponents}async function Y4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(fl,"Using user provided OnlineComponentProvider"),await dO(t,t._uninitializedComponentsProvider._online)):(De(fl,"Using default OnlineComponentProvider"),await dO(t,new Qw))),t._onlineComponents}function gH(t){return Y4(t).then((e=>e.syncEngine))}async function rv(t){const e=await Y4(t),n=e.eventManager;return n.onListen=eH.bind(null,e.syncEngine),n.onUnlisten=rH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iH.bind(null,e.syncEngine),n}function G4(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,h){const p=new qS({next:b=>{p.Nu(),l.enqueueAndForget((()=>zS(s,g)));const _=b.docs.has(u);!_&&b.fromCache?h.reject(new Ie(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&f&&f.source==="server"?h.reject(new Ie(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new $S(p0(u.path),p,{includeMetadataChanges:!0,qa:!0});return LS(s,g)})(await rv(t),t.asyncQueue,e,n,r))),r.promise}function vH(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,h){const p=new qS({next:b=>{p.Nu(),l.enqueueAndForget((()=>zS(s,g))),b.fromCache&&f.source==="server"?h.reject(new Ie(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new $S(u,p,{includeMetadataChanges:!0,qa:!0});return LS(s,g)})(await rv(t),t.asyncQueue,e,n,r))),r.promise}function W4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const fO=new Map;const X4="firestore.googleapis.com",hO=!0;class mO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X4,this.ssl=hO}else this.host=e.host,this.ssl=e.ssl??hO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xq)throw new Ie(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _7;switch(r.type){case"firstParty":return new T7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=fO.get(n);r&&(De("ComponentProvider","Removing Datastore"),fO.delete(n),r.terminate())})(this),Promise.resolve()}}function yH(t,e,n,r={}){t=yr(t,A0);const i=od(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(YM(`https://${u}`),GM("Firestore",!0)),s.host!==X4&&s.host!==u&&qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:i,emulatorOptions:r};if(!mc(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Er.MOCK_USER;else{h=H8(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ie(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Er(g)}t._authCredentials=new S7(new VD(h,p))}}class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gh(n,cn._jsonSchema))return new cn(e,r||null,new Ue(Kt.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:In("string",cn._jsonSchemaVersion),referencePath:In("string")};class il extends eo{constructor(e,n,r){super(e,n,p0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Ue(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function gh(t,e,...n){if(t=$n(t),$D("collection","path",e),t instanceof A0){const r=Kt.fromString(e,...n);return jC(r),new il(t,null,r)}{if(!(t instanceof cn||t instanceof il))throw new Ie(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return jC(r),new il(t.firestore,null,r)}}function jr(t,e,...n){if(t=$n(t),arguments.length===1&&(e=vS.newId()),$D("doc","path",e),t instanceof A0){const r=Kt.fromString(e,...n);return TC(r),new cn(t,null,new Ue(r))}{if(!(t instanceof cn||t instanceof il))throw new Ie(xe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return TC(r),new cn(t.firestore,t instanceof il?t.converter:null,new Ue(r))}}const pO="AsyncQueue";class gO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P4(this,"async_queue_retry"),this._c=()=>{const r=Mx();r&&De(pO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fd(e))throw e;De(pO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",vO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=MS.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Fe(47125,{Pc:vO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function yO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class da extends A0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gO(e),this._firestoreClient=void 0,await e}}}function bH(t,e){const n=typeof t=="object"?t:JM(),r=typeof t=="string"?t:Gg,i=oS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=q8("firestore");s&&yH(i,...s)}return i}function pd(t){if(t._terminated)throw new Ie(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xH(t),t._firestoreClient}function xH(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new F7(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,W4(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(br.fromBase64String(e))}catch(n){throw new Ie(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gh(e,Ui._jsonSchema))return Ui.fromBase64String(e.bytes)}}Ui._jsonSchemaVersion="firestore/bytes/1.0",Ui._jsonSchema={type:In("string",Ui._jsonSchemaVersion),bytes:In("string")};class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class T0{constructor(e){this._methodName=e}}class Ha{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ha._jsonSchemaVersion}}static fromJSON(e){if(Gh(e,Ha._jsonSchema))return new Ha(e.latitude,e.longitude)}}Ha._jsonSchemaVersion="firestore/geoPoint/1.0",Ha._jsonSchema={type:In("string",Ha._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};class Ka{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gh(e,Ka._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ka(e.vectorValues);throw new Ie(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ka._jsonSchemaVersion="firestore/vectorValue/1.0",Ka._jsonSchema={type:In("string",Ka._jsonSchemaVersion),vectorValues:In("object")};const wH=/^__.*__$/;class _H{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}class Q4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:t})}}class FS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new FS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return iv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(J4(this.Ac)&&wH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_0(e)}Cc(e,n,r,i=!1){return new FS({Ac:e,methodName:n,Dc:r,path:vr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(t){const e=t._freezeSettings(),n=_0(t._databaseId);return new SH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);YS("Data must be an object, but it was:",l,r);const u=t5(r,l);let f,h;if(s.merge)f=new mi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=Jw(e,g,n);if(!l.contains(b))throw new Ie(xe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);r5(p,b)||p.push(b)}f=new mi(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new _H(new Xr(u),f,h)}class j0 extends T0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j0}}class KS extends T0{_toFieldTransform(e){return new gq(e.path,new hh)}isEqual(e){return e instanceof KS}}function Z4(t,e,n,r){const i=t.Cc(1,e,n);YS("Data must be an object, but it was:",i,r);const s=[],l=Xr.empty();vl(r,((f,h)=>{const p=GS(e,f,n);h=$n(h);const g=i.yc(p);if(h instanceof j0)s.push(p);else{const b=tm(h,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new mi(s);return new Q4(l,u,i.fieldTransforms)}function e5(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[Jw(e,r,n)],f=[i];if(s.length%2!=0)throw new Ie(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(Jw(e,s[b])),f.push(s[b+1]);const h=[],p=Xr.empty();for(let b=u.length-1;b>=0;--b)if(!r5(h,u[b])){const _=u[b];let S=f[b];S=$n(S);const E=l.yc(_);if(S instanceof j0)h.push(_);else{const A=tm(S,E);A!=null&&(h.push(_),p.set(_,A))}}const g=new mi(h);return new Q4(p,g,l.fieldTransforms)}function EH(t,e,n,r=!1){return tm(n,t.Cc(r?4:3,e))}function tm(t,e){if(n5(t=$n(t)))return YS("Unsupported field value:",e,t),t5(t,e);if(t instanceof T0)return(function(r,i){if(!J4(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let f=tm(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=$n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vt.fromDate(r);return{timestampValue:Zg(i.serializer,s)}}if(r instanceof Vt){const s=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zg(i.serializer,s)}}if(r instanceof Ha)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ui)return{bytesValue:x4(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:TS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ka)return(function(l,u){return{mapValue:{fields:{[WD]:{stringValue:XD},[Wg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return SS(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${d0(r)}`)})(t,e)}function t5(t,e){const n={};return qD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,((r,i)=>{const s=tm(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function n5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof Ha||t instanceof Ui||t instanceof cn||t instanceof T0||t instanceof Ka)}function YS(t,e,n){if(!n5(n)||!UD(n)){const r=d0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Jw(t,e,n){if((e=$n(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return GS(t,e);throw iv("Field path arguments must be of type string or ",t,!1,void 0,n)}const AH=new RegExp("[~\\*/\\[\\]]");function GS(t,e,n){if(e.search(AH)>=0)throw iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iv(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ie(xe.INVALID_ARGUMENT,u+t+f)}function r5(t,e){return t.some((n=>n.isEqual(e)))}class i5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TH extends i5{data(){return super.data()}}function N0(t,e){return typeof e=="string"?GS(t,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}function a5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WS{}class XS extends WS{}function vh(t,e,...n){let r=[];e instanceof WS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof QS)).length,u=s.filter((f=>f instanceof C0)).length;if(l>1||l>0&&u>0)throw new Ie(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class C0 extends XS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new C0(e,n,r)}_apply(e){const n=this._parse(e);return o5(e._query,n),new eo(e.firestore,e.converter,Bw(e._query,n))}_parse(e){const n=em(e.firestore);return(function(s,l,u,f,h,p,g){let b;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ie(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){xO(g,p);const S=[];for(const E of g)S.push(bO(f,s,E));b={arrayValue:{values:S}}}else b=bO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||xO(g,p),b=EH(u,l,g,p==="in"||p==="not-in");return Pn.create(h,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cu(t,e,n){const r=e,i=N0("where",t);return C0._create(i,r,n)}class QS extends WS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ua.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const f of u)o5(l,f),l=Bw(l,f)})(e._query,n),new eo(e.firestore,e.converter,Bw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class JS extends XS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new JS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ie(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fh(s,l)})(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new hd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function av(t,e="asc"){const n=e,r=N0("orderBy",t);return JS._create(r,n)}class ZS extends XS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ZS(e,n,r)}_apply(e){return new eo(e.firestore,e.converter,Qg(e._query,this._limit,this._limitType))}}function s5(t){return R7("limit",t),ZS._create("limit",t,"F")}function bO(t,e,n){if(typeof(n=$n(n))=="string"){if(n==="")throw new Ie(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i4(e)&&n.indexOf("/")!==-1)throw new Ie(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!Ue.isDocumentKey(r))throw new Ie(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return MC(t,new Ue(r))}if(n instanceof cn)return MC(t,n._key);throw new Ie(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d0(n)}.`)}function xO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o5(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ie(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jH{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Wg].arrayValue?.values?.map((r=>wn(r.doubleValue)));return new Ka(n)}convertGeoPoint(e){return new Ha(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=m0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const n=ll(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);_t(T4(r),9688,{name:e});const i=new uh(r.get(1),r.get(3)),s=new Ue(r.popFirst(5));return i.isEqual(n)||Us(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function eE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends i5{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(N0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sc._jsonSchemaVersion="firestore/documentSnapshot/1.0",sc._jsonSchema={type:In("string",sc._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class Pg extends sc{data(e={}){return super.data(e)}}class oc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Pg(this._firestore,this._userDataWriter,r.key,r,new Yf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Pg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new Pg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:NH(u.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:t})}}function kf(t){t=yr(t,cn);const e=yr(t.firestore,da);return G4(pd(e),t._key).then((n=>rE(e,t,n)))}oc._jsonSchemaVersion="firestore/querySnapshot/1.0",oc._jsonSchema={type:In("string",oc._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};class tE extends jH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function wO(t){t=yr(t,cn);const e=yr(t.firestore,da);return G4(pd(e),t._key,{source:"server"}).then((n=>rE(e,t,n)))}function sv(t){t=yr(t,eo);const e=yr(t.firestore,da),n=pd(e),r=new tE(e);return a5(t._query),vH(n,t._query).then((i=>new oc(e,r,t,i)))}function Ln(t,e,n){t=yr(t,cn);const r=yr(t.firestore,da),i=eE(t.converter,e,n);return nm(r,[HS(em(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function ov(t,e,n,...r){t=yr(t,cn);const i=yr(t.firestore,da),s=em(i);let l;return l=typeof(e=$n(e))=="string"||e instanceof Zh?e5(s,"updateDoc",t._key,e,n,r):Z4(s,"updateDoc",t._key,e),nm(i,[l.toMutation(t._key,Dr.exists(!0))])}function l5(t){return nm(yr(t.firestore,da),[new x0(t._key,Dr.none())])}function nE(t,e){const n=yr(t.firestore,da),r=jr(t),i=eE(t.converter,e);return nm(n,[HS(em(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then((()=>r))}function Yr(t,...e){t=$n(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yO(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,l,u;if(t instanceof cn)l=yr(t.firestore,da),u=p0(t._key.path),s={next:f=>{e[r]&&e[r](rE(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=yr(t,eo);l=yr(f.firestore,da),u=f._query;const h=new tE(l);s={next:p=>{e[r]&&e[r](new oc(l,h,f,p))},error:e[r+1],complete:e[r+2]},a5(t._query)}return(function(h,p,g,b){const _=new qS(b),S=new $S(p,_,g);return h.asyncQueue.enqueueAndForget((async()=>LS(await rv(h),S))),()=>{_.Nu(),h.asyncQueue.enqueueAndForget((async()=>zS(await rv(h),S)))}})(pd(l),u,i,s)}function nm(t,e){return(function(r,i){const s=new ks;return r.asyncQueue.enqueueAndForget((async()=>aH(await gH(r),i,s))),s.promise})(pd(t),e)}function rE(t,e,n){const r=n.docs.get(e._key),i=new tE(t);return new sc(t,i,e._key,r,new Yf(n.hasPendingWrites,n.fromCache),e.converter)}class CH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=em(e)}set(e,n,r){this._verifyNotCommitted();const i=Lx(e,this._firestore),s=eE(i.converter,n,r),l=HS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Dr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Lx(e,this._firestore);let l;return l=typeof(n=$n(n))=="string"||n instanceof Zh?e5(this._dataReader,"WriteBatch.update",s._key,n,r,i):Z4(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Lx(e,this._firestore);return this._mutations=this._mutations.concat(new x0(n._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lx(t,e){if((t=$n(t)).firestore!==e)throw new Ie(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function gd(){return new KS("serverTimestamp")}function Zw(t){return pd(t=yr(t,da)),new CH(t,(e=>nm(t,e)))}(function(e,n=!0){(function(i){ud=i})(ld),Bu(new pc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new da(new E7(r.getProvider("auth-internal")),new j7(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),nl(_C,SC,e),nl(_C,SC,"esm2020")})();const OH={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},PH=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):OH,c5=QM(PH),zx=x7(c5),na=bH(c5),IH=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",Gf=IH.replace(/\//g,"_");function u5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u5(t))&&(r&&(r+=" "),r+=e);return r}var RH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function iE(t){if(typeof t!="string")return!1;var e=RH;return e.includes(t)}var kH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MH=new Set(kH);function d5(t){return typeof t!="string"?!1:MH.has(t)}function f5(t){return typeof t=="string"&&t.startsWith("data-")}function Yt(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(d5(n)||f5(n))&&(e[n]=t[n]);return e}function qs(t){if(t==null)return null;if(x.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Yt(e)}return typeof t=="object"&&!Array.isArray(t)?Yt(t):null}function _n(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(d5(n)||f5(n)||iE(n))&&(e[n]=t[n]);return e}function DH(t){return t==null?null:x.isValidElement(t)?_n(t.props):typeof t=="object"&&!Array.isArray(t)?_n(t):null}var LH=["children","width","height","viewBox","className","style","title","desc"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(null,arguments)}function zH(t,e){if(t==null)return{};var n,r,i=VH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aE=x.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:f,desc:h}=t,p=zH(t,LH),g=s||{width:r,height:i,x:0,y:0},b=tt("recharts-surface",l);return x.createElement("svg",e_({},_n(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),x.createElement("title",null,f),x.createElement("desc",null,h),n)}),$H=["children","className"];function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(null,arguments)}function UH(t,e){if(t==null)return{};var n,r,i=BH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var St=x.forwardRef((t,e)=>{var{children:n,className:r}=t,i=UH(t,$H),s=tt("recharts-layer",r);return x.createElement("g",t_({className:s},_n(i),{ref:e}),n)}),sE=$M(),h5=x.createContext(null),qH=()=>x.useContext(h5);function Ht(t){return function(){return t}}const m5=Math.cos,lv=Math.sin,ma=Math.sqrt,cv=Math.PI,O0=2*cv,n_=Math.PI,r_=2*n_,Jl=1e-6,FH=r_-Jl;function p5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function HH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return p5;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class KH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?p5:HH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=r-e,h=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Jl)if(!(Math.abs(g*f-h*p)>Jl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,S=i-u,E=f*f+h*h,A=_*_+S*S,C=Math.sqrt(E),$=Math.sqrt(b),L=s*Math.tan((n_-Math.acos((E+b-A)/(2*C*$)))/2),q=L/$,U=L/C;Math.abs(q-1)>Jl&&this._append`L${e+q*p},${n+q*g}`,this._append`A${s},${s},0,0,${+(g*_>p*S)},${this._x1=e+U*f},${this._y1=n+U*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,p=n+f,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Jl||Math.abs(this._y1-p)>Jl)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%r_+r_),b>FH?this._append`A${r},${r},0,1,${g},${e-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:b>Jl&&this._append`A${r},${r},0,${+(b>=n_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KH(e)}function lE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g5(t){this._context=t}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function P0(t){return new g5(t)}function v5(t){return t[0]}function y5(t){return t[1]}function b5(t,e){var n=Ht(!0),r=null,i=P0,s=null,l=oE(u);t=typeof t=="function"?t:t===void 0?v5:Ht(t),e=typeof e=="function"?e:e===void 0?y5:Ht(e);function u(f){var h,p=(f=lE(f)).length,g,b=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,h,f),+e(g,h,f));if(_)return s=null,_+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ht(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),u):r},u}function ig(t,e,n){var r=null,i=Ht(!0),s=null,l=P0,u=null,f=oE(h);t=typeof t=="function"?t:t===void 0?v5:Ht(+t),e=typeof e=="function"?e:Ht(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y5:Ht(+n);function h(g){var b,_,S,E=(g=lE(g)).length,A,C=!1,$,L=new Array(E),q=new Array(E);for(s==null&&(u=l($=f())),b=0;b<=E;++b){if(!(b<E&&i(A=g[b],b,g))===C)if(C=!C)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=b-1;S>=_;--S)u.point(L[S],q[S]);u.lineEnd(),u.areaEnd()}C&&(L[b]=+t(A,b,g),q[b]=+e(A,b,g),u.point(r?+r(A,b,g):L[b],n?+n(A,b,g):q[b]))}if($)return u=null,$+""||null}function p(){return b5().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Ht(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Ht(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ht(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Ht(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Ht(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ht(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Ht(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class x5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YH(t){return new x5(t,!0)}function GH(t){return new x5(t,!1)}const cE={draw(t,e){const n=ma(e/cv);t.moveTo(n,0),t.arc(0,0,n,0,O0)}},WH={draw(t,e){const n=ma(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},w5=ma(1/3),XH=w5*2,QH={draw(t,e){const n=ma(e/XH),r=n*w5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},JH={draw(t,e){const n=ma(e),r=-n/2;t.rect(r,r,n,n)}},ZH=.8908130915292852,_5=lv(cv/10)/lv(7*cv/10),eK=lv(O0/10)*_5,tK=-m5(O0/10)*_5,nK={draw(t,e){const n=ma(e*ZH),r=eK*n,i=tK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=O0*s/5,u=m5(l),f=lv(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Vx=ma(3),rK={draw(t,e){const n=-ma(e/(Vx*3));t.moveTo(0,n*2),t.lineTo(-Vx*n,-n),t.lineTo(Vx*n,-n),t.closePath()}},Di=-.5,Li=ma(3)/2,i_=1/ma(12),iK=(i_/2+1)*3,aK={draw(t,e){const n=ma(e/iK),r=n/2,i=n*i_,s=r,l=n*i_+n,u=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,f),t.lineTo(Di*r-Li*i,Li*r+Di*i),t.lineTo(Di*s-Li*l,Li*s+Di*l),t.lineTo(Di*u-Li*f,Li*u+Di*f),t.lineTo(Di*r+Li*i,Di*i-Li*r),t.lineTo(Di*s+Li*l,Di*l-Li*s),t.lineTo(Di*u+Li*f,Di*f-Li*u),t.closePath()}};function sK(t,e){let n=null,r=oE(i);t=typeof t=="function"?t:Ht(t||cE),e=typeof e=="function"?e:Ht(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ht(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ht(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function uv(){}function dv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function S5(t){this._context=t}S5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oK(t){return new S5(t)}function E5(t){this._context=t}E5.prototype={areaStart:uv,areaEnd:uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lK(t){return new E5(t)}function A5(t){this._context=t}A5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cK(t){return new A5(t)}function T5(t){this._context=t}T5.prototype={areaStart:uv,areaEnd:uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uK(t){return new T5(t)}function _O(t){return t<0?-1:1}function SO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(_O(s)+_O(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function EO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $x(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function fv(t){this._context=t}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$x(this,this._t0,EO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$x(this,EO(this,n=SO(this,t,e)),n);break;default:$x(this,this._t0,n=SO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function j5(t){this._context=new N5(t)}(j5.prototype=Object.create(fv.prototype)).point=function(t,e){fv.prototype.point.call(this,e,t)};function N5(t){this._context=t}N5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function dK(t){return new fv(t)}function fK(t){return new j5(t)}function C5(t){this._context=t}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AO(t),i=AO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function hK(t){return new C5(t)}function I0(t,e){this._context=t,this._t=e}I0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function mK(t){return new I0(t,.5)}function pK(t){return new I0(t,0)}function gK(t){return new I0(t,1)}function bc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function a_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vK(t,e){return t[e]}function yK(t){const e=[];return e.key=t,e}function bK(){var t=Ht([]),e=a_,n=bc,r=vK;function i(s){var l=Array.from(t.apply(this,arguments),yK),u,f=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<f;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=lE(e(l));u<f;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ht(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ht(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?a_:typeof s=="function"?s:Ht(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??bc,i):n},i}function xK(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}bc(t,e)}}function wK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}bc(t,e)}}function _K(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,f=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,_=(g-b)/2,S=0;S<u;++S){var E=t[e[S]],A=E[r][1]||0,C=E[r-1][1]||0;_+=A-C}f+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,bc(t,e)}}var Ux={},Bx={},TO;function SK(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Bx)),Bx}var qx={},jO;function O5(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(qx)),qx}var Fx={},NO;function uE(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Fx)),Fx}var Hx={},Kx={},CO;function EK(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Kx)),Kx}var OO;function dE(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EK(),n=uE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,f+=i[u]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}t.toPath=r})(Hx)),Hx}var PO;function fE(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SK(),n=O5(),r=uE(),i=dE();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?n.isDeepKey(f)?s(u,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function l(u,f,h){if(f.length===0)return h;let p=u;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(Ux)),Ux}var Yx,IO;function AK(){return IO||(IO=1,Yx=fE().get),Yx}var TK=AK();const xc=ha(TK);var jK=4;function Zo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jK,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function ln(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+Zo(u)+s:i+s},"")}var Zn=t=>t===0?0:t>0?1:-1,qi=t=>typeof t=="number"&&t!=+t,Fs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Me=t=>(typeof t=="number"||t instanceof Number)&&!qi(t),Xa=t=>Me(t)||typeof t=="string",NK=0,yh=t=>{var e=++NK;return"".concat(t||"").concat(e)},Nr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(e)&&typeof e!="string")return r;var s;if(Fs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return qi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},P5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function ht(t,e,n){return Me(t)&&Me(e)?Zo(t+n*(e-t)):e}function I5(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):xc(r,e))===n)}var Ut=t=>t===null||typeof t>"u",rm=t=>Ut(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function CK(t){return t!=null}function im(){}var OK=["type","size","sizeType"];function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(null,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){PK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PK(t,e,n){return(e=IK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IK(t){var e=RK(t,"string");return typeof e=="symbol"?e:e+""}function RK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kK(t,e){if(t==null)return{};var n,r,i=MK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R5={symbolCircle:cE,symbolCross:WH,symbolDiamond:QH,symbolSquare:JH,symbolStar:nK,symbolTriangle:rK,symbolWye:aK},DK=Math.PI/180,LK=t=>{var e="symbol".concat(rm(t));return R5[e]||cE},zK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*DK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},VK=(t,e)=>{R5["symbol".concat(rm(t))]=e},hE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=kK(t,OK),s=kO(kO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=LK(l),_=sK().type(b).size(zK(n,r,l)),S=_();if(S!==null)return S},{className:f,cx:h,cy:p}=s,g=_n(s);return Me(h)&&Me(p)&&Me(n)?x.createElement("path",s_({},g,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};hE.registerSymbol=VK;var k5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,mE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{iE(i)&&(r[i]=(s=>n[i](n,s)))}),r},$K=(t,e,n)=>r=>(t(e,n,r),null),Pc=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];iE(i)&&typeof s=="function"&&(r||(r={}),r[i]=$K(s,e,n))}),r};function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){BK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BK(t,e,n){return(e=qK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qK(t){var e=FK(t,"string");return typeof e=="symbol"?e:e+""}function FK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gt(t,e){var n=UK({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){KK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KK(t,e,n){return(e=YK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YK(t){var e=GK(t,"string");return typeof e=="symbol"?e:e+""}function GK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vi=32,WK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function XK(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Vi/2,s=Vi/6,l=Vi/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline"){var h;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Vi,y2:i,className:"recharts-legend-icon"})}if(f==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Vi,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Vi/8,"h").concat(Vi,"v").concat(Vi*3/4,"h").concat(-Vi,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var p=HK({},e);return delete p.legendIcon,x.cloneElement(e.legendIcon,p)}return x.createElement(hE,{fill:u,cx:i,cy:i,size:Vi,sizeType:"diameter",type:f})}function QK(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:Vi,height:Vi},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,_=tt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?s:p.color,E=b?b(p.value,p,g):p.value;return x.createElement("li",hv({className:_,style:f,key:"legend-item-".concat(g)},Pc(t,p,g)),x.createElement(aE,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(E," legend icon")},x.createElement(XK,{data:p,iconType:l,inactiveColor:s})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}var JK=t=>{var e=Gt(t,WK),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},x.createElement(QK,hv({},e,{payload:n})))},Gx={},Wx={},LO;function ZK(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Wx)),Wx}var Xx={},zO;function R0(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Xx)),Xx}var Qx={},Jx={},Zx={},VO;function eY(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Zx)),Zx}var $O;function pE(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eY();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Jx)),Jx}var e1={},UO;function tY(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(e1)),e1}var BO;function nY(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pE(),n=tY();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Qx)),Qx}var t1={},n1={},qO;function rY(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(n1)),n1}var r1={},i1={},a1={},s1={},FO;function M5(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(s1)),s1}var o1={},HO;function D5(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(o1)),o1}var l1={},KO;function L5(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(l1)),l1}var YO;function iY(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M5(),n=D5(),r=L5();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function _(S,E,A,C,$,L){const q=b(S,E,A,C,$,L);return q!==void 0?!!q:s(S,E,_,L)},new Map)}function s(p,g,b,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,_);case"function":return Object.keys(g).length>0?s(p,{...g},b,_):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,_){if(g==null)return!0;if(Array.isArray(g))return f(p,g,b,_);if(g instanceof Map)return u(p,g,b,_);if(g instanceof Set)return h(p,g,b,_);const S=Object.keys(g);if(p==null||n.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let E=0;E<S.length;E++){const A=S[E];if(!n.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!b(p[A],g[A],A,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,b,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of g.entries()){const A=p.get(S);if(b(A,E,S,p,g,_)===!1)return!1}return!0}function f(p,g,b,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<g.length;E++){const A=g[E];let C=!1;for(let $=0;$<p.length;$++){if(S.has($))continue;const L=p[$];let q=!1;if(b(L,A,E,p,g,_)&&(q=!0),q){S.add($),C=!0;break}}if(!C)return!1}return!0}function h(p,g,b,_){return g.size===0?!0:p instanceof Set?f([...p],[...g],b,_):!1}t.isMatchWith=i,t.isSetMatch=h})(a1)),a1}var GO;function z5(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iY();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(i1)),i1}var c1={},u1={},d1={},WO;function aY(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(d1)),d1}var f1={},XO;function V5(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(f1)),f1}var h1={},QO;function $5(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",$="[object Uint16Array]",L="[object Uint32Array]",q="[object BigUint64Array]",U="[object Int8Array]",z="[object Int16Array]",N="[object Int32Array]",j="[object BigInt64Array]",k="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=j,t.bigUint64ArrayTag=q,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=k,t.float64ArrayTag=P,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=N,t.int8ArrayTag=U,t.mapTag=f,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=$,t.uint32ArrayTag=L,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=C})(h1)),h1}var m1={},JO;function sY(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(m1)),m1}var ZO;function U5(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aY(),n=V5(),r=$5(),i=D5(),s=sY();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,_=new Map,S=void 0){const E=S?.(p,g,b,_);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const A=new Array(p.length);_.set(p,A);for(let C=0;C<p.length;C++)A[C]=u(p[C],C,b,_,S);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;_.set(p,A);for(const[C,$]of p)A.set(C,u($,C,b,_,S));return A}if(p instanceof Set){const A=new Set;_.set(p,A);for(const C of p)A.add(u(C,void 0,b,_,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,A);for(let C=0;C<p.length;C++)A[C]=u(p[C],C,b,_,S);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,A),f(A,p,b,_,S),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return _.set(p,A),f(A,p,b,_,S),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return _.set(p,A),f(A,p,b,_,S),A}if(p instanceof Error){const A=new p.constructor;return _.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,f(A,p,b,_,S),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return _.set(p,A),f(A,p,b,_,S),A}if(p instanceof Number){const A=new Number(p.valueOf());return _.set(p,A),f(A,p,b,_,S),A}if(p instanceof String){const A=new String(p.valueOf());return _.set(p,A),f(A,p,b,_,S),A}if(typeof p=="object"&&h(p)){const A=Object.create(Object.getPrototypeOf(p));return _.set(p,A),f(A,p,b,_,S),A}return p}function f(p,g,b=p,_,S){const E=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<E.length;A++){const C=E[A],$=Object.getOwnPropertyDescriptor(p,C);($==null||$.writable)&&(p[C]=u(g[C],C,b,_,S))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(u1)),u1}var eP;function oY(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(c1)),c1}var tP;function lY(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z5(),n=oY();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(r1)),r1}var p1={},g1={},v1={},nP;function cY(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U5(),n=$5();function r(i,s){return e.cloneDeepWith(i,(l,u,f,h)=>{const p=s?.(l,u,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(v1)),v1}var rP;function uY(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cY();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(g1)),g1}var y1={},b1={},iP;function B5(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(b1)),b1}var x1={},aP;function dY(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(x1)),x1}var sP;function fY(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O5(),n=B5(),r=dY(),i=dE();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(y1)),y1}var oP;function hY(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z5(),n=uE(),r=uY(),i=fE(),s=fY();function l(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(p1)),p1}var lP;function gE(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R0(),n=rY(),r=lY(),i=hY();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(t1)),t1}var cP;function mY(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZK(),n=R0(),r=nY(),i=gE();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(Gx)),Gx}var w1,uP;function pY(){return uP||(uP=1,w1=mY().uniqBy),w1}var gY=pY();const dP=ha(gY);function q5(t,e,n){return e===!0?dP(t,n):typeof e=="function"?dP(t,e):t}var _1={exports:{}},S1={},E1={exports:{}},A1={};var fP;function vY(){if(fP)return A1;fP=1;var t=sd();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),E=S[0].inst,A=S[1];return s(function(){E.value=_,E.getSnapshot=b,f(E)&&A({inst:E})},[g,_,b]),i(function(){return f(E)&&A({inst:E}),g(function(){f(E)&&A({inst:E})})},[g]),l(_),_}function f(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return A1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,A1}var hP;function yY(){return hP||(hP=1,E1.exports=vY()),E1.exports}var mP;function bY(){if(mP)return S1;mP=1;var t=sd(),e=yY();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return S1.useSyncExternalStoreWithSelector=function(h,p,g,b,_){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function C(z){if(!$){if($=!0,L=z,z=b(z),_!==void 0&&E.hasValue){var N=E.value;if(_(N,z))return q=N}return q=z}if(N=q,r(L,z))return N;var j=b(z);return _!==void 0&&_(N,j)?(L=z,N):(L=z,q=j)}var $=!1,L,q,U=g===void 0?null:g;return[function(){return C(p())},U===null?void 0:function(){return C(U())}]},[p,g,b,_]);var A=i(h,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),f(A),A},S1}var pP;function xY(){return pP||(pP=1,_1.exports=bY()),_1.exports}var wY=xY(),vE=x.createContext(null),_Y=t=>t,Dt=()=>{var t=x.useContext(vE);return t?t.store.dispatch:_Y},Ig=()=>{},SY=()=>Ig,EY=(t,e)=>t===e;function Re(t){var e=x.useContext(vE);return wY.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:SY,e?e.store.getState:Ig,e?e.store.getState:Ig,e?t:Ig,EY)}function AY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function TY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function jY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var gP=t=>Array.isArray(t)?t:[t];function NY(t){const e=Array.isArray(t[0])?t[0]:t;return jY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function CY(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var OY=class{constructor(t){this.value=t}deref(){return this.value}},PY=typeof WeakRef<"u"?WeakRef:OY,IY=0,vP=1;function ag(){return{s:IY,v:void 0,o:null,p:null}}function F5(t,e={}){let n=ag();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:f}=arguments;for(let g=0,b=f;g<b;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const E=S.get(_);E===void 0?(u=ag(),S.set(_,u)):u=E}else{let S=u.p;S===null&&(u.p=S=new Map);const E=S.get(_);E===void 0?(u=ag(),S.set(_,u)):u=E}}const h=u;let p;if(u.s===vP)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new PY(p):p}return h.s=vP,h.v=p,p}return l.clearCache=()=>{n=ag(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function RY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),AY(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:b=[],argsMemoize:_=F5,argsMemoizeOptions:S=[]}=p,E=gP(b),A=gP(S),C=NY(i),$=g(function(){return s++,h.apply(null,arguments)},...E),L=_(function(){l++;const U=CY(C,arguments);return u=$.apply(null,U),u},...A);return Object.assign(L,{resultFunc:h,memoizedResultFunc:$,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ae=RY(F5),kY=Object.assign((t,e=ae)=>{TY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>kY}),T1={},j1={},N1={},yP;function MY(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(N1)),N1}var C1={},O1={},bP;function H5(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(O1)),O1}var xP;function DY(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(C1)),C1}var wP;function LY(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MY(),n=DY(),r=dE();function i(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const h=(_,S)=>{let E=_;for(let A=0;A<S.length&&E!=null;++A)E=E[S[A]];return E},p=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:h(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?h(S,_):typeof S=="object"?S[_]:S,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(S=>p(S,_))})).slice().sort((_,S)=>{for(let E=0;E<g.length;E++){const A=e.compareValues(_.criteria[E],S.criteria[E],u[E]);if(A!==0)return A}return 0}).map(_=>_.original)}t.orderBy=i})(j1)),j1}var P1={},_P;function zY(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(n,0),i}t.flatten=e})(P1)),P1}var I1={},SP;function K5(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B5(),n=pE(),r=M5(),i=L5();function s(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=s})(I1)),I1}var EP;function VY(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LY(),n=zY(),r=K5();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(T1)),T1}var R1,AP;function $Y(){return AP||(AP=1,R1=VY().sortBy),R1}var UY=$Y();const k0=ha(UY);var Y5=t=>t.legend.settings,BY=t=>t.legend.size,qY=t=>t.legend.payload,FY=ae([qY,Y5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?k0(r,n):r});function HY(){return Re(FY)}var sg=1;function G5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>sg||Math.abs(l.left-e.left)>sg||Math.abs(l.top-e.top)>sg||Math.abs(l.width-e.width)>sg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function fr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var KY=typeof Symbol=="function"&&Symbol.observable||"@@observable",TP=KY,k1=()=>Math.random().toString(36).substring(7).split("").join("."),YY={INIT:`@@redux/INIT${k1()}`,REPLACE:`@@redux/REPLACE${k1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${k1()}`},mv=YY;function yE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function W5(t,e,n){if(typeof t!="function")throw new Error(fr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fr(1));return n(W5)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((A,C)=>{l.set(C,A)}))}function p(){if(f)throw new Error(fr(3));return i}function g(A){if(typeof A!="function")throw new Error(fr(4));if(f)throw new Error(fr(5));let C=!0;h();const $=u++;return l.set($,A),function(){if(C){if(f)throw new Error(fr(6));C=!1,h(),l.delete($),s=null}}}function b(A){if(!yE(A))throw new Error(fr(7));if(typeof A.type>"u")throw new Error(fr(8));if(typeof A.type!="string")throw new Error(fr(17));if(f)throw new Error(fr(9));try{f=!0,i=r(i,A)}finally{f=!1}return(s=l).forEach($=>{$()}),A}function _(A){if(typeof A!="function")throw new Error(fr(10));r=A,b({type:mv.REPLACE})}function S(){const A=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(fr(11));function $(){const q=C;q.next&&q.next(p())}return $(),{unsubscribe:A($)}},[TP](){return this}}}return b({type:mv.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:_,[TP]:S}}function GY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:mv.INIT})>"u")throw new Error(fr(12));if(typeof n(void 0,{type:mv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fr(13))})}function X5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{GY(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],_=l[g],S=b(_,u);if(typeof S>"u")throw u&&u.type,new Error(fr(14));h[g]=S,f=f||S!==_}return f=f||r.length!==Object.keys(l).length,f?h:l}}function pv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function WY(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(fr(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},u=t.map(f=>f(l));return s=pv(...u)(i.dispatch),{...i,dispatch:s}}}function Q5(t){return yE(t)&&"type"in t&&typeof t.type=="string"}var J5=Symbol.for("immer-nothing"),jP=Symbol.for("immer-draftable"),Lr=Symbol.for("immer-state");function ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var pi=Object,Wu=pi.getPrototypeOf,gv="constructor",M0="prototype",o_="configurable",vv="enumerable",Rg="writable",bh="value",Hs=t=>!!t&&!!t[Lr];function fa(t){return t?Z5(t)||L0(t)||!!t[jP]||!!t[gv]?.[jP]||z0(t)||V0(t):!1}var XY=pi[M0][gv].toString(),NP=new WeakMap;function Z5(t){if(!t||!bE(t))return!1;const e=Wu(t);if(e===null||e===pi[M0])return!0;const n=pi.hasOwnProperty.call(e,gv)&&e[gv];if(n===Object)return!0;if(!ju(n))return!1;let r=NP.get(n);return r===void 0&&(r=Function.toString.call(n),NP.set(n,r)),r===XY}function D0(t,e,n=!0){am(t)===0?(n?Reflect.ownKeys(t):pi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function am(t){const e=t[Lr];return e?e.type_:L0(t)?1:z0(t)?2:V0(t)?3:0}var CP=(t,e,n=am(t))=>n===2?t.has(e):pi[M0].hasOwnProperty.call(t,e),l_=(t,e,n=am(t))=>n===2?t.get(e):t[e],yv=(t,e,n,r=am(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function QY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var L0=Array.isArray,z0=t=>t instanceof Map,V0=t=>t instanceof Set,bE=t=>typeof t=="object",ju=t=>typeof t=="function",M1=t=>typeof t=="boolean";function JY(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var As=t=>t.copy_||t.base_,xE=t=>t.modified_?t.copy_:t.base_;function c_(t,e){if(z0(t))return new Map(t);if(V0(t))return new Set(t);if(L0(t))return Array[M0].slice.call(t);const n=Z5(t);if(e===!0||e==="class_only"&&!n){const r=pi.getOwnPropertyDescriptors(t);delete r[Lr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[Rg]===!1&&(u[Rg]=!0,u[o_]=!0),(u.get||u.set)&&(r[l]={[o_]:!0,[Rg]:!0,[vv]:u[vv],[bh]:t[l]})}return pi.create(Wu(t),r)}else{const r=Wu(t);if(r!==null&&n)return{...t};const i=pi.create(r);return pi.assign(i,t)}}function wE(t,e=!1){return $0(t)||Hs(t)||!fa(t)||(am(t)>1&&pi.defineProperties(t,{set:og,add:og,clear:og,delete:og}),pi.freeze(t),e&&D0(t,(n,r)=>{wE(r,!0)},!1)),t}function ZY(){ra(2)}var og={[bh]:ZY};function $0(t){return t===null||!bE(t)?!0:pi.isFrozen(t)}var bv="MapSet",u_="Patches",OP="ArrayMethods",e3={};function wc(t){const e=e3[t];return e||ra(0,t),e}var PP=t=>!!e3[t],xh,t3=()=>xh,eG=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:PP(bv)?wc(bv):void 0,arrayMethodsPlugin_:PP(OP)?wc(OP):void 0});function IP(t,e){e&&(t.patchPlugin_=wc(u_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function d_(t){f_(t),t.drafts_.forEach(tG),t.drafts_=null}function f_(t){t===xh&&(xh=t.parent_)}var RP=t=>xh=eG(xh,t);function tG(t){const e=t[Lr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Lr].modified_&&(d_(e),ra(4)),fa(t)&&(t=MP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Lr].base_,t,e)}else t=MP(e,n);return nG(e,t,!0),d_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==J5?t:void 0}function MP(t,e){if($0(e))return e;const n=e[Lr];if(!n)return xv(e,t.handledSet_,t);if(!U0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);i3(n,t)}return n.copy_}function nG(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wE(e,n)}function n3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var U0=(t,e)=>t.scope_===e,rG=[];function r3(t,e,n,r){const i=As(t),s=t.type_;if(r!==void 0&&l_(i,r,s)===e){yv(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;D0(i,(f,h)=>{if(Hs(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const l=t.draftLocations_.get(e)??rG;for(const u of l)yv(i,u,n,s)}function iG(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!U0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=xE(s);r3(t,s.draft_??s,l,n),i3(s,i)})}function i3(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}n3(t)}}function aG(t,e,n){const{scope_:r}=t;if(Hs(n)){const i=n[Lr];U0(i,r)&&i.callbacks_.push(function(){kg(t);const l=xE(i);r3(t,n,l,e)})}else fa(n)&&t.callbacks_.push(function(){const s=As(t);t.type_===3?s.has(n)&&xv(n,r.handledSet_,r):l_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&xv(l_(t.copy_,e,t.type_),r.handledSet_,r)})}function xv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Hs(t)||e.has(t)||!fa(t)||$0(t)||(e.add(t),D0(t,(r,i)=>{if(Hs(i)){const s=i[Lr];if(U0(s,n)){const l=xE(s);yv(t,r,l,t.type_),n3(s)}}else fa(i)&&xv(i,e,n)})),t}function sG(t,e){const n=L0(t),r={type_:n?1:0,scope_:e?e.scope_:t3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=wv;n&&(i=[r],s=wh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var wv={get(t,e){if(e===Lr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=As(t);if(!CP(i,e,t.type_))return oG(t,i,e);const s=i[e];if(t.finalized_||!fa(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&JY(e))return s;if(s===D1(t.base_,e)){kg(t);const l=t.type_===1?+e:e,u=m_(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in As(t)},ownKeys(t){return Reflect.ownKeys(As(t))},set(t,e,n){const r=a3(As(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=D1(As(t),e),s=i?.[Lr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(QY(n,i)&&(n!==void 0||CP(t.base_,e,t.type_)))return!0;kg(t),h_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),aG(t,e,n)),!0},deleteProperty(t,e){return kg(t),D1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),h_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=As(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Rg]:!0,[o_]:t.type_!==1||e!=="length",[vv]:r[vv],[bh]:n[e]}},defineProperty(){ra(11)},getPrototypeOf(t){return Wu(t.base_)},setPrototypeOf(){ra(12)}},wh={};for(let t in wv){let e=wv[t];wh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}wh.deleteProperty=function(t,e){return wh.set.call(this,t,e,void 0)};wh.set=function(t,e,n){return wv.set.call(this,t[0],e,n,t[0])};function D1(t,e){const n=t[Lr];return(n?As(n):t)[e]}function oG(t,e,n){const r=a3(e,n);return r?bh in r?r[bh]:r.get?.call(t.draft_):void 0}function a3(t,e){if(!(e in t))return;let n=Wu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wu(n)}}function h_(t){t.modified_||(t.modified_=!0,t.parent_&&h_(t.parent_))}function kg(t){t.copy_||(t.assigned_=new Map,t.copy_=c_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ju(n)&&!ju(r)){const l=r;r=n;const u=this;return function(h=l,...p){return u.produce(h,g=>r.call(this,g,...p))}}ju(r)||ra(6),i!==void 0&&!ju(i)&&ra(7);let s;if(fa(n)){const l=RP(this),u=m_(l,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?d_(l):f_(l)}return IP(l,i),kP(s,l)}else if(!n||!bE(n)){if(s=r(n),s===void 0&&(s=n),s===J5&&(s=void 0),this.autoFreeze_&&wE(s,!0),i){const l=[],u=[];wc(u_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else ra(1,n)},this.produceWithPatches=(n,r)=>{if(ju(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,s;return[this.produce(n,r,(u,f)=>{i=u,s=f}),i,s]},M1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),M1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),M1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){fa(e)||ra(8),Hs(e)&&(e=ca(e));const n=RP(this),r=m_(n,e,void 0);return r[Lr].isManual_=!0,f_(n),r}finishDraft(e,n){const r=e&&e[Lr];(!r||!r.isManual_)&&ra(9);const{scope_:i}=r;return IP(i,n),kP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=wc(u_).applyPatches_;return Hs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function m_(t,e,n,r){const[i,s]=z0(e)?wc(bv).proxyMap_(e,n):V0(e)?wc(bv).proxySet_(e,n):sG(e,n);return(n?.scope_??t3()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?iG(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function ca(t){return Hs(t)||ra(10,t),s3(t)}function s3(t){if(!fa(t)||$0(t))return t;const e=t[Lr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=c_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=c_(t,!0);return D0(n,(i,s)=>{yv(n,i,s3(s))},r),e&&(e.finalized_=!1),n}var cG=new lG,o3=cG.produce;function l3(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var uG=l3(),dG=l3,fG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pv:pv.apply(null,arguments)};function Fi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(gi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Q5(r)&&r.type===t,n}var c3=class Wf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wf.prototype)}static get[Symbol.species](){return Wf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wf(...e[0].concat(this)):new Wf(...e.concat(this))}};function DP(t){return fa(t)?o3(t,()=>{}):t}function lg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function hG(t){return typeof t=="boolean"}var mG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new c3;return n&&(hG(n)?l.push(uG):l.push(dG(n.extraArgument))),l},u3="RTK_autoBatch",an=()=>t=>({payload:t,meta:{[u3]:!0}}),LP=t=>e=>{setTimeout(e,t)},d3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LP(10):t.type==="callback"?t.queueNotification:LP(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[u3],s=!i,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},pG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new c3(t);return r&&i.push(d3(typeof r=="object"?r:void 0)),i};function gG(t){const e=mG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(yE(n))u=X5(n);else throw new Error(gi(1));let f;typeof r=="function"?f=r(e):f=e();let h=pv;i&&(h=fG({trace:!1,...typeof i=="object"&&i}));const p=WY(...f),g=pG(p);let b=typeof l=="function"?l(g):g();const _=h(...b);return W5(u,s,_)}function f3(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(gi(28));if(u in e)throw new Error(gi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function vG(t){return typeof t=="function"}function yG(t,e){let[n,r,i]=f3(e),s;if(vG(t))s=()=>DP(t());else{const u=DP(t);s=()=>u}function l(u=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Hs(p)){const _=g(p,f);return _===void 0?p:_}else{if(fa(p))return o3(p,b=>g(b,f));{const b=g(p,f);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var bG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xG=(t=21)=>{let e="",n=t;for(;n--;)e+=bG[Math.random()*64|0];return e},wG=Symbol.for("rtk-slice-createasyncthunk");function _G(t,e){return`${t}/${e}`}function SG({creators:t}={}){const e=t?.asyncThunk?.[wG];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(gi(11));const l=(typeof r.reducers=="function"?r.reducers(AG()):r.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(L,q){const U=typeof L=="string"?L:L.type;if(!U)throw new Error(gi(12));if(U in f.sliceCaseReducersByType)throw new Error(gi(13));return f.sliceCaseReducersByType[U]=q,h},addMatcher(L,q){return f.sliceMatchers.push({matcher:L,reducer:q}),h},exposeAction(L,q){return f.actionCreators[L]=q,h},exposeCaseReducer(L,q){return f.sliceCaseReducersByName[L]=q,h}};u.forEach(L=>{const q=l[L],U={reducerName:L,type:_G(i,L),createNotation:typeof r.reducers=="function"};jG(q)?CG(U,q,h,e):TG(U,q,h)});function p(){const[L={},q=[],U=void 0]=typeof r.extraReducers=="function"?f3(r.extraReducers):[r.extraReducers],z={...L,...f.sliceCaseReducersByType};return yG(r.initialState,N=>{for(let j in z)N.addCase(j,z[j]);for(let j of f.sliceMatchers)N.addMatcher(j.matcher,j.reducer);for(let j of q)N.addMatcher(j.matcher,j.reducer);U&&N.addDefaultCase(U)})}const g=L=>L,b=new Map,_=new WeakMap;let S;function E(L,q){return S||(S=p()),S(L,q)}function A(){return S||(S=p()),S.getInitialState()}function C(L,q=!1){function U(N){let j=N[L];return typeof j>"u"&&q&&(j=lg(_,U,A)),j}function z(N=g){const j=lg(b,q,()=>new WeakMap);return lg(j,N,()=>{const k={};for(const[P,I]of Object.entries(r.selectors??{}))k[P]=EG(I,N,()=>lg(_,N,A),q);return k})}return{reducerPath:L,getSelectors:z,get selectors(){return z(U)},selectSlice:U}}const $={name:i,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...C(s),injectInto(L,{reducerPath:q,...U}={}){const z=q??s;return L.inject({reducerPath:z,reducer:E},U),{...$,...C(z,!0)}}};return $}}function EG(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var ei=SG();function AG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function TG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!NG(r))throw new Error(gi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Fi(t,l):Fi(t))}function jG(t){return t._reducerDefinitionType==="asyncThunk"}function NG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function CG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(gi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||cg,pending:u||cg,rejected:f||cg,settled:h||cg})}function cg(){}var OG="task",h3="listener",m3="completed",_E="cancelled",PG=`task-${_E}`,IG=`task-${m3}`,p_=`${h3}-${_E}`,RG=`${h3}-${m3}`,B0=class{constructor(t){this.code=t,this.message=`${OG} ${_E} (reason: ${t})`}name="TaskAbortError";message},SE=(t,e)=>{if(typeof t!="function")throw new TypeError(gi(32))},_v=()=>{},p3=(t,e=_v)=>(t.catch(e),t),g3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),lc=t=>{if(t.aborted)throw new B0(t.reason)};function v3(t,e){let n=_v;return new Promise((r,i)=>{const s=()=>i(new B0(t.reason));if(t.aborted){s();return}n=g3(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=_v})}var kG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof B0?"cancelled":"rejected",error:n}}finally{e?.()}},Sv=t=>e=>p3(v3(t,e).then(n=>(lc(t),n))),y3=t=>{const e=Sv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:zu}=Object,zP={},q0="listenerMiddleware",MG=(t,e)=>{const n=r=>g3(t,()=>r.abort(t.reason));return(r,i)=>{SE(r);const s=new AbortController;n(s);const l=kG(async()=>{lc(t),lc(s.signal);const u=await r({pause:Sv(s.signal),delay:y3(s.signal),signal:s.signal});return lc(s.signal),u},()=>s.abort(IG));return i?.autoJoin&&e.push(l.catch(_v)),{result:Sv(t)(l),cancel(){s.abort(PG)}}}},DG=(t,e)=>{const n=async(r,i)=>{lc(e);let s=()=>{};const u=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),f([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await v3(e,Promise.race(u));return lc(e),f}finally{s()}};return(r,i)=>p3(n(r,i))},b3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Fi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(gi(21));return SE(s),{predicate:i,type:e,effect:s}},x3=zu(t=>{const{type:e,predicate:n,effect:r}=b3(t);return{id:xG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gi(22))}}},{withTypes:()=>x3}),VP=(t,e)=>{const{type:n,effect:r,predicate:i}=b3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},g_=t=>{t.pending.forEach(e=>{e.abort(p_)})},LG=(t,e)=>()=>{for(const n of e.keys())g_(n);t.clear()},$P=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},w3=zu(Fi(`${q0}/add`),{withTypes:()=>w3}),zG=Fi(`${q0}/removeAll`),_3=zu(Fi(`${q0}/remove`),{withTypes:()=>_3}),VG=(...t)=>{console.error(`${q0}/error`,...t)},sm=(t={})=>{const e=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:s,onError:l=VG}=t;SE(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),S=>{_.unsubscribe(),S?.cancelActive&&g_(_)}),f=_=>{const S=VP(e,_)??x3(_);return u(S)};zu(f,{withTypes:()=>f});const h=_=>{const S=VP(e,_);return S&&(S.unsubscribe(),_.cancelActive&&g_(S)),!!S};zu(h,{withTypes:()=>h});const p=async(_,S,E,A)=>{const C=new AbortController,$=DG(f,C.signal),L=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(S,zu({},E,{getOriginalState:A,condition:(q,U)=>$(q,U).then(Boolean),take:$,delay:y3(C.signal),pause:Sv(C.signal),extra:s,signal:C.signal,fork:MG(C.signal,L),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((q,U,z)=>{q!==C&&(q.abort(p_),z.delete(q))})},cancel:()=>{C.abort(p_),_.pending.delete(C)},throwIfCancelled:()=>{lc(C.signal)}})))}catch(q){q instanceof B0||$P(l,q,{raisedBy:"effect"})}finally{await Promise.all(L),C.abort(RG),i(_),_.pending.delete(C)}},g=LG(e,n);return{middleware:_=>S=>E=>{if(!Q5(E))return S(E);if(w3.match(E))return f(E.payload);if(zG.match(E)){g();return}if(_3.match(E))return h(E.payload);let A=_.getState();const C=()=>{if(A===zP)throw new Error(gi(23));return A};let $;try{if($=S(E),e.size>0){const L=_.getState(),q=Array.from(e.values());for(const U of q){let z=!1;try{z=U.predicate(E,L,A)}catch(N){z=!1,$P(l,N,{raisedBy:"predicate"})}z&&p(U,E,_,C)}}}finally{A=zP}return $},startListening:f,stopListening:h,clearListeners:g}};function gi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $G={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},S3=ei({name:"chartLayout",initialState:$G,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:UG,setLayout:BG,setChartSize:qG,setScale:FG}=S3.actions,HG=S3.reducer;function E3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Bt(t){return Number.isFinite(t)}function Qa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){KG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KG(t,e,n){return(e=YG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=GG(t,"string");return typeof e=="symbol"?e:e+""}function GG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vt(t,e,n){return Ut(t)||Ut(e)?n:Xa(e)?xc(t,e,n):typeof e=="function"?e(t):n}var WG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Me(t[s]))return Ou(Ou({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Me(t[l]))return Ou(Ou({},t),{},{[l]:t[l]+(i||0)})}return t},pa=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",A3=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},T3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:b,axisType:_}=t;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=_==="angleAxis"&&s&&s.length>=2?Zn(s[0]-s[1])*2*E:E,g||b){var A=(g||b||[]).map((C,$)=>{var L=r?r.indexOf(C):C;return{coordinate:l(L)+E,value:C,offset:E,index:$}});return A.filter(C=>!qi(C.coordinate))}return f&&h?h.map((C,$)=>({coordinate:l(C)+E,value:C,index:$,offset:E})):l.ticks&&p!=null?l.ticks(p).map((C,$)=>({coordinate:l(C)+E,value:C,offset:E,index:$})):l.domain().map((C,$)=>({coordinate:l(C)+E,value:r?r[C]:C,index:$,offset:E}))},BP=1e-4,XG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-BP,s=Math.max(r[0],r[1])+BP,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},QG=(t,e)=>{if(!e||e.length!==2||!Me(e[0])||!Me(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Me(t[0])||t[0]<n)&&(i[0]=n),(!Me(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},JG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var f=t[u],h=f?.[i];if(h!=null){var p=h[1],g=h[0],b=qi(p)?g:p;b>=0?(h[0]=s,h[1]=s+b,s=p):(h[0]=l,h[1]=l+b,l=p)}}}},ZG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],f=u?.[i];if(f!=null){var h=qi(f[1])?f[0]:f[1];h>=0?(f[0]=s,f[1]=s+h,s=f[1]):(f[0]=0,f[1]=0)}}}},eW={sign:JG,expand:xK,none:bc,silhouette:wK,wiggle:_K,positive:ZG},tW=(t,e,n)=>{var r,i=(r=eW[n])!==null&&r!==void 0?r:bc,s=bK().keys(e).value((u,f)=>Number(vt(u,f,0))).order(a_).offset(i),l=s(t);return l.forEach((u,f)=>{u.forEach((h,p)=>{var g=vt(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Me(g[0])&&Me(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function j3(t){return t==null?void 0:String(t)}function Ev(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ut(i[e.dataKey])){var u=I5(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=vt(i,Ut(l)?e.dataKey:l);return Ut(f)?null:e.scale(f)}var qP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=vt(s,e.dataKey,e.scale.domain()[l]);return Ut(u)?null:e.scale(u)-i/2+r},nW=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},rW=t=>{var e=t.flat(2).filter(Me);return[Math.min(...e),Math.max(...e)]},iW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],aW=(t,e,n)=>{if(t!=null)return iW(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((f,h)=>{var p=E3(h,e,n),g=rW(p);return!Bt(g[0])||!Bt(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},FP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ja=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=k0(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var f=i[l],h=i[l-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function KP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Ou(Ou({},e),{},{dataKey:n,payload:r,value:i,name:s})}function ns(t,e){if(t)return String(t);if(typeof e=="string")return e}var sW=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},oW=(t,e)=>e==="centric"?t.angle:t.radius,to=t=>t.layout.width,no=t=>t.layout.height,lW=t=>t.layout.scale,N3=t=>t.layout.margin,F0=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),H0=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),C3="data-recharts-item-index",O3="data-recharts-item-id",om=60;function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=uW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uW(t){var e=dW(t,"string");return typeof e=="symbol"?e:e+""}function dW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fW=t=>t.brush.height;function hW(t){var e=H0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:om;return n+i}return n},0)}function mW(t){var e=H0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:om;return n+i}return n},0)}function pW(t){var e=F0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function gW(t){var e=F0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Un=ae([to,no,N3,fW,hW,mW,pW,gW,Y5,BY],(t,e,n,r,i,s,l,u,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=ug(ug({},g),p),_=b.bottom;b.bottom+=r,b=WG(b,f,h);var S=t-b.left-b.right,E=e-b.top-b.bottom;return ug(ug({brushBottom:_},b),{},{width:Math.max(S,0),height:Math.max(E,0)})}),vW=ae(Un,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),EE=ae(to,no,(t,e)=>({x:0,y:0,width:t,height:e})),yW=x.createContext(null),kn=()=>x.useContext(yW)!=null,K0=t=>t.brush,Y0=ae([K0,Un,N3],(t,e,n)=>({height:t.height,x:Me(t.x)?t.x:e.left,y:Me(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Me(t.width)?t.width:e.width})),L1={},z1={},V1={},GP;function bW(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),E()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{S(),l=void 0,u=null},A=()=>{p()},C=function(...$){if(i?.aborted)return;l=this,u=$;const L=b==null;_(),f&&L&&p()};return C.schedule=_,C.cancel=E,C.flush=A,i?.addEventListener("abort",E,{once:!0}),C}t.debounce=e})(V1)),V1}var WP;function xW(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bW();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const b=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:h}),_=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},S=()=>(b.flush(),p);return _.cancel=b.cancel,_.flush=S,_}t.debounce=n})(z1)),z1}var XP;function wW(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xW();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(L1)),L1}var $1,QP;function _W(){return QP||(QP=1,$1=wW().throttle),$1}var SW=_W();const EW=ha(SW);var Av=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},P3=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Fs(r)?t:Number(r),f=Fs(i)?e:Number(i);return s&&s>0&&(u?f=u/s:f&&(u=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},AW={width:0,height:0,overflow:"visible"},TW={width:0,overflowX:"visible"},jW={height:0,overflowY:"visible"},NW={},CW=t=>{var{width:e,height:n}=t,r=Fs(e),i=Fs(n);return r&&i?AW:r?TW:i?jW:NW};function OW(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(null,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return(e=IW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=RW(t,"string");return typeof e=="symbol"?e:e+""}function RW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I3=x.createContext({width:-1,height:-1});function kW(t){return Qa(t.width)&&Qa(t.height)}function R3(t){var{children:e,width:n,height:r}=t,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return kW(i)?x.createElement(I3.Provider,{value:i},e):null}var AE=()=>x.useContext(I3),MW=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:f,children:h,debounce:p=0,id:g,className:b,onResize:_,style:S={}}=t,E=x.useRef(null),A=x.useRef();A.current=_,x.useImperativeHandle(e,()=>E.current);var[C,$]=x.useState({containerWidth:r.width,containerHeight:r.height}),L=x.useCallback((j,k)=>{$(P=>{var I=Math.round(j),D=Math.round(k);return P.containerWidth===I&&P.containerHeight===D?P:{containerWidth:I,containerHeight:D}})},[]);x.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return im;var j=D=>{var M,{width:se,height:Y}=D[0].contentRect;L(se,Y),(M=A.current)===null||M===void 0||M.call(A,se,Y)};p>0&&(j=EW(j,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(j),{width:P,height:I}=E.current.getBoundingClientRect();return L(P,I),k.observe(E.current),()=>{k.disconnect()}},[L,p]);var{containerWidth:q,containerHeight:U}=C;Av(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:N}=P3(q,U,{width:i,height:s,aspect:n,maxHeight:f});return Av(z!=null&&z>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,N,i,s,l,u,n),x.createElement("div",{id:g?"".concat(g):void 0,className:tt("recharts-responsive-container",b),style:ZP(ZP({},S),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:E},x.createElement("div",{style:CW({width:i,height:s})},x.createElement(R3,{width:z,height:N},h)))}),_h=x.forwardRef((t,e)=>{var n=AE();if(Qa(n.width)&&Qa(n.height))return t.children;var{width:r,height:i}=OW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=P3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Me(s)&&Me(l)?x.createElement(R3,{width:s,height:l},t.children):x.createElement(MW,v_({},t,{width:r,height:i,ref:e}))});function k3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var G0=()=>{var t,e=kn(),n=Re(vW),r=Re(Y0),i=(t=Re(K0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},DW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},M3=()=>{var t;return(t=Re(Un))!==null&&t!==void 0?t:DW},TE=()=>Re(to),jE=()=>Re(no),LW=()=>Re(t=>t.layout.margin),nt=t=>t.layout.layoutType,bl=()=>Re(nt),zW=()=>{var t=bl();if(t==="horizontal"||t==="vertical")return t},VW=()=>{var t=bl();return t!==void 0},W0=t=>{var e=Dt(),n=kn(),{width:r,height:i}=t,s=AE(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),x.useEffect(()=>{!n&&Qa(l)&&Qa(u)&&e(qG({width:l,height:u}))},[e,n,l,u]),null},D3=Symbol.for("immer-nothing"),eI=Symbol.for("immer-draftable"),yi=Symbol.for("immer-state");function ia(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Sh=Object.getPrototypeOf;function Xu(t){return!!t&&!!t[yi]}function _c(t){return t?L3(t)||Array.isArray(t)||!!t[eI]||!!t.constructor?.[eI]||lm(t)||Q0(t):!1}var $W=Object.prototype.constructor.toString(),tI=new WeakMap;function L3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=tI.get(n);return r===void 0&&(r=Function.toString.call(n),tI.set(n,r)),r===$W}function Tv(t,e,n=!0){X0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function X0(t){const e=t[yi];return e?e.type_:Array.isArray(t)?1:lm(t)?2:Q0(t)?3:0}function y_(t,e){return X0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function z3(t,e,n){const r=X0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function UW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function lm(t){return t instanceof Map}function Q0(t){return t instanceof Set}function Zl(t){return t.copy_||t.base_}function b_(t,e){if(lm(t))return new Map(t);if(Q0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=L3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[yi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Sh(t),r)}else{const r=Sh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function NE(t,e=!1){return J0(t)||Xu(t)||!_c(t)||(X0(t)>1&&Object.defineProperties(t,{set:dg,add:dg,clear:dg,delete:dg}),Object.freeze(t),e&&Object.values(t).forEach(n=>NE(n,!0))),t}function BW(){ia(2)}var dg={value:BW};function J0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var qW={};function Sc(t){const e=qW[t];return e||ia(0,t),e}var Eh;function V3(){return Eh}function FW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nI(t,e){e&&(Sc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function x_(t){w_(t),t.drafts_.forEach(HW),t.drafts_=null}function w_(t){t===Eh&&(Eh=t.parent_)}function rI(t){return Eh=FW(Eh,t)}function HW(t){const e=t[yi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[yi].modified_&&(x_(e),ia(4)),_c(t)&&(t=jv(e,t),e.parent_||Nv(e,t)),e.patches_&&Sc("Patches").generateReplacementPatches_(n[yi].base_,t,e.patches_,e.inversePatches_)):t=jv(e,n,[]),x_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==D3?t:void 0}function jv(t,e,n){if(J0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[yi];if(!i)return Tv(e,(s,l)=>aI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Nv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Tv(l,(f,h)=>aI(t,i,s,f,h,n,u),r),Nv(t,s,!1),n&&t.patches_&&Sc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function aI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=J0(i);if(!(u&&!l)){if(Xu(i)){const f=s&&e&&e.type_!==3&&!y_(e.assigned_,r)?s.concat(r):void 0,h=jv(t,i,f);if(z3(n,r,h),Xu(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(_c(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;jv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Nv(t,i)}}}function Nv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&NE(e,n)}function KW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:V3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=CE;n&&(i=[r],s=Ah);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var CE={get(t,e){if(e===yi)return t;const n=Zl(t);if(!y_(n,e))return YW(t,n,e);const r=n[e];return t.finalized_||!_c(r)?r:r===U1(t.base_,e)?(B1(t),t.copy_[e]=S_(r,t)):r},has(t,e){return e in Zl(t)},ownKeys(t){return Reflect.ownKeys(Zl(t))},set(t,e,n){const r=$3(Zl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=U1(Zl(t),e),s=i?.[yi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(UW(n,i)&&(n!==void 0||y_(t.base_,e)))return!0;B1(t),__(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return U1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,B1(t),__(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Zl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ia(11)},getPrototypeOf(t){return Sh(t.base_)},setPrototypeOf(){ia(12)}},Ah={};Tv(CE,(t,e)=>{Ah[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ah.deleteProperty=function(t,e){return Ah.set.call(this,t,e,void 0)};Ah.set=function(t,e,n){return CE.set.call(this,t[0],e,n,t[0])};function U1(t,e){const n=t[yi];return(n?Zl(n):t)[e]}function YW(t,e,n){const r=$3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function $3(t,e){if(!(e in t))return;let n=Sh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Sh(n)}}function __(t){t.modified_||(t.modified_=!0,t.parent_&&__(t.parent_))}function B1(t){t.copy_||(t.copy_=b_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&ia(6),r!==void 0&&typeof r!="function"&&ia(7);let i;if(_c(e)){const s=rI(this),l=S_(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?x_(s):w_(s)}return nI(s,r),iI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===D3&&(i=void 0),this.autoFreeze_&&NE(i,!0),r){const s=[],l=[];Sc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ia(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_c(t)||ia(8),Xu(t)&&(t=WW(t));const e=rI(this),n=S_(t,void 0);return n[yi].isManual_=!0,w_(e),n}finishDraft(t,e){const n=t&&t[yi];(!n||!n.isManual_)&&ia(9);const{scope_:r}=n;return nI(r,e),iI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Sc("Patches").applyPatches_;return Xu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function S_(t,e){const n=lm(t)?Sc("MapSet").proxyMap_(t,e):Q0(t)?Sc("MapSet").proxySet_(t,e):KW(t,e);return(e?e.scope_:V3()).drafts_.push(n),n}function WW(t){return Xu(t)||ia(10,t),U3(t)}function U3(t){if(!_c(t)||J0(t))return t;const e=t[yi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=b_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=b_(t,!0);return Tv(n,(i,s)=>{z3(n,i,U3(s))},r),e&&(e.finalized_=!1),n}var XW=new GW;XW.produce;var QW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},B3=ei({name:"legend",initialState:QW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:an()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(t,e){var n=ca(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:sI,setLegendSettings:JW,addLegendPayload:q3,replaceLegendPayload:F3,removeLegendPayload:H3}=B3.actions,ZW=B3.reducer,eX=["contextPayload"];function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(null,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iX(t,e){if(t==null)return{};var n,r,i=aX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sX(t){return t.value}function oX(t){var{contextPayload:e}=t,n=iX(t,eX),r=q5(e,t.payloadUniqBy,sX),i=Qu(Qu({},n),{},{payload:r});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(JK,i)}function lX(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Qu(Qu({},h),p)}function cX(t){var e=Dt();return x.useEffect(()=>{e(JW(t))},[e,t]),null}function uX(t){var e=Dt();return x.useEffect(()=>(e(sI(t)),()=>{e(sI({width:0,height:0}))}),[e,t]),null}function dX(t,e,n,r){return t==="vertical"&&Me(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var fX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Th(t){var e=Gt(t,fX),n=HY(),r=qH(),i=LW(),{width:s,height:l,wrapperStyle:u,portal:f}=e,[h,p]=G5([n]),g=TE(),b=jE();if(g==null||b==null)return null;var _=g-(i?.left||0)-(i?.right||0),S=dX(e.layout,l,s,_),E=f?u:Qu(Qu({position:"absolute",width:S?.width||s||"auto",height:S?.height||l||"auto"},lX(u,e,i,g,b,h)),u),A=f??r;if(A==null||n==null)return null;var C=x.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:p},x.createElement(cX,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!f&&x.createElement(uX,{width:h.width,height:h.height}),x.createElement(oX,E_({},e,S,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return sE.createPortal(C,A)}Th.displayName="Legend";function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(null,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){hX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hX(t,e,n){return(e=mX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=pX(t,"string");return typeof e=="symbol"?e:e+""}function pX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gX(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var vX=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var U={padding:0,margin:0},z=(u?k0(s,u):s).map((N,j)=>{if(N.type==="none")return null;var k=N.formatter||l||gX,{value:P,name:I}=N,D=P,M=I;if(k){var se=k(P,I,N,j,s);if(Array.isArray(se))[D,M]=se;else if(se!=null)D=se;else return null}var Y=q1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:Y},Xa(M)?x.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Xa(M)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},D),x.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:U},z)}return null},S=q1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=q1({margin:0},i),A=!Ut(p),C=A?p:"",$=tt("recharts-default-tooltip",f),L=tt("recharts-tooltip-label",h);A&&g&&s!==void 0&&s!==null&&(C=g(p,s));var q=b?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",A_({className:$,style:S},q),x.createElement("p",{className:L,style:E},x.isValidElement(C)?C:"".concat(C)),_())},Mf="recharts-tooltip-wrapper",yX={visibility:"hidden"};function bX(t){var{coordinate:e,translateX:n,translateY:r}=t;return tt(Mf,{["".concat(Mf,"-right")]:Me(n)&&e&&Me(e.x)&&n>=e.x,["".concat(Mf,"-left")]:Me(n)&&e&&Me(e.x)&&n<e.x,["".concat(Mf,"-bottom")]:Me(r)&&e&&Me(e.y)&&r>=e.y,["".concat(Mf,"-top")]:Me(r)&&e&&Me(e.y)&&r<e.y})}function cI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(s&&Me(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=f[r];if(b==null)return 0;if(l[r]){var _=p,S=b;return _<S?Math.max(g,b):Math.max(p,b)}if(h==null)return 0;var E=g+u,A=b+h;return E>A?Math.max(p,b):Math.max(g,b)}function xX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wX(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=cI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=cI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=xX({translateX:p,translateY:g,useTranslate3d:u})):h=yX,{cssProperties:h,cssClasses:bX({translateX:p,translateY:g,coordinate:n})}}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){T_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T_(t,e,n){return(e=_X(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _X(t){var e=SX(t,"string");return typeof e=="symbol"?e:e+""}function SX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class EX extends x.PureComponent{constructor(){super(...arguments),T_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),T_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:b,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:A,hasPortalFromProps:C}=this.props,{cssClasses:$,cssProperties:L}=wX({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:_}),q=C?{}:fg(fg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),U=fg(fg({},q),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:$,style:U,ref:A},s)}}var K3=()=>{var t;return(t=Re(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(null,arguments)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){AX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AX(t,e,n){return(e=TX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=jX(t,"string");return typeof e=="symbol"?e:e+""}function jX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hI={curveBasisClosed:lK,curveBasisOpen:cK,curveBasis:oK,curveBumpX:YH,curveBumpY:GH,curveLinearClosed:uK,curveLinear:P0,curveMonotoneX:dK,curveMonotoneY:fK,curveNatural:hK,curveStep:mK,curveStepAfter:gK,curveStepBefore:pK},Cv=t=>Bt(t.x)&&Bt(t.y),mI=t=>t.base!=null&&Cv(t.base)&&Cv(t),Df=t=>t.x,Lf=t=>t.y,NX=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(rm(t));return(n==="curveMonotone"||n==="curveBump")&&e?hI["".concat(n).concat(e==="vertical"?"Y":"X")]:hI[n]||P0},CX=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=NX(e,i),u=s?n.filter(Cv):n,f;if(Array.isArray(r)){var h=n.map((_,S)=>fI(fI({},_),{},{base:r[S]}));i==="vertical"?f=ig().y(Lf).x1(Df).x0(_=>_.base.x):f=ig().x(Df).y1(Lf).y0(_=>_.base.y);var p=f.defined(mI).curve(l),g=s?h.filter(mI):h;return p(g)}i==="vertical"&&Me(r)?f=ig().y(Lf).x1(Df).x0(r):Me(r)?f=ig().x(Df).y1(Lf).y0(r):f=b5().x(Df).y(Lf);var b=f.defined(Cv).curve(l);return b(u)},Vu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=bl();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?CX(l):r;return x.createElement("path",j_({},Yt(t),mE(t),{className:tt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},OX=["x","y","top","left","width","height","className"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(null,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return(e=RX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RX(t){var e=kX(t,"string");return typeof e=="symbol"?e:e+""}function kX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MX(t,e){if(t==null)return{};var n,r,i=DX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LX=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),zX=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,f=MX(t,OX),h=PX({x:e,y:n,top:r,left:i,width:s,height:l},f);return!Me(e)||!Me(n)||!Me(s)||!Me(l)||!Me(r)||!Me(i)?null:x.createElement("path",N_({},_n(h),{className:tt("recharts-cross",u),d:LX(e,n,s,l,r,i)}))};function VX(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){$X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $X(t,e,n){return(e=UX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=BX(t,"string");return typeof e=="symbol"?e:e+""}function BX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Y3=(t,e,n)=>t.map(r=>"".concat(qX(r)," ").concat(e,"ms ").concat(n)).join(","),FX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),jh=(t,e)=>Object.keys(e).reduce((n,r)=>vI(vI({},n),{},{[r]:t(r,e[r])}),{});function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){HX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HX(t,e,n){return(e=KX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ov=(t,e,n)=>t+(e-t)*n,C_=t=>{var{from:e,to:n}=t;return e!==n},G3=(t,e,n)=>{var r=jh((i,s)=>{if(C_(s)){var[l,u]=t(s.from,s.to,s.velocity);return zn(zn({},s),{},{from:l,velocity:u})}return s},e);return n<1?jh((i,s)=>C_(s)&&r[i]!=null?zn(zn({},s),{},{velocity:Ov(s.velocity,r[i].velocity,n),from:Ov(s.from,r[i].from,n)}):s,e):G3(t,r,n-1)};function GX(t,e,n,r,i,s){var l,u=r.reduce((b,_)=>zn(zn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),f=()=>jh((b,_)=>_.from,u),h=()=>!Object.values(u).filter(C_).length,p=null,g=b=>{l||(l=b);var _=b-l,S=_/n.dt;u=G3(n,u,S),i(zn(zn(zn({},t),e),f())),l=b,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function WX(t,e,n,r,i,s,l){var u=null,f=i.reduce((g,b)=>{var _=t[b],S=e[b];return _==null||S==null?g:zn(zn({},g),{},{[b]:[_,S]})},{}),h,p=g=>{h||(h=g);var b=(g-h)/r,_=jh((E,A)=>Ov(...A,n(b)),f);if(s(zn(zn(zn({},t),e),_)),b<1)u=l.setTimeout(p);else{var S=jh((E,A)=>Ov(...A,n(1)),f);s(zn(zn(zn({},t),e),S))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const XX=(t,e,n,r,i,s)=>{var l=FX(t,e);return n==null?()=>(i(zn(zn({},t),e)),()=>{}):n.isStepper===!0?GX(t,e,n,l,i,s):WX(t,e,n,r,l,i,s)};var Pv=1e-4,W3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],X3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),bI=(t,e)=>n=>{var r=W3(t,e);return X3(r,n)},QX=(t,e)=>n=>{var r=W3(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return X3(i,n)},JX=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},ZX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=JX(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},eQ=(t,e,n,r)=>{var i=bI(t,n),s=bI(e,r),l=QX(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,b=0;b<8;++b){var _=i(g)-p,S=l(g);if(Math.abs(_-p)<Pv||S<Pv)return s(g);g=u(g-_/S)}return s(g)};return f.isStepper=!1,f},xI=function(){return eQ(...ZX(...arguments))},tQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,f)=>{var h=-(l-u)*n,p=f*r,g=f+(h-p)*i/1e3,b=f*i/1e3+l;return Math.abs(b-u)<Pv&&Math.abs(g)<Pv?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},nQ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xI(t);case"spring":return tQ();default:if(t.split("(")[0]==="cubic-bezier")return xI(t)}return typeof t=="function"?t:null};function rQ(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class iQ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function aQ(){return rQ(new iQ)}var sQ=x.createContext(aQ);function oQ(t,e){var n=x.useContext(sQ);return x.useMemo(()=>e??n(t),[t,e,n])}var lQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),cm={isSsr:lQ()},cQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wI={t:0},F1={t:1};function Ic(t){var e=Gt(t,cQ),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=e,p=n==="auto"?!cm.isSsr:n,g=oQ(e.animationId,e.animationManager),[b,_]=x.useState(p?wI:F1),S=x.useRef(null);return x.useEffect(()=>{p||_(F1)},[p]),x.useEffect(()=>{if(!p||!r)return im;var E=XX(wI,F1,nQ(s),i,_,g.getTimeoutController()),A=()=>{S.current=E()};return g.start([f,l,A,i,u]),()=>{g.stop(),S.current&&S.current(),u()}},[p,r,i,s,l,f,u,g]),h(b.t)}function Rc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(yh(e)),r=x.useRef(t);return r.current!==t&&(n.current=yh(e),r.current=t),n.current}var uQ=["radius"],dQ=["radius"],_I,SI,EI,AI,TI,jI,NI,CI,OI,PI;function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){fQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e,n){return(e=hQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hQ(t){var e=mQ(t,"string");return typeof e=="symbol"?e:e+""}function mQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(null,arguments)}function kI(t,e){if(t==null)return{};var n,r,i=pQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ma(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var MI=(t,e,n,r,i)=>{var s=Zo(n),l=Zo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],_=0,S=4;_<S;_++)b[_]=i[_]>u?u:i[_];g=ln(_I||(_I=Ma(["M",",",""])),t,e+f*b[0]),b[0]>0&&(g+=ln(SI||(SI=Ma(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+h*b[0],e)),g+=ln(EI||(EI=Ma(["L ",",",""])),t+n-h*b[1],e),b[1]>0&&(g+=ln(AI||(AI=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+f*b[1])),g+=ln(TI||(TI=Ma(["L ",",",""])),t+n,e+r-f*b[2]),b[2]>0&&(g+=ln(jI||(jI=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-h*b[2],e+r)),g+=ln(NI||(NI=Ma(["L ",",",""])),t+h*b[3],e+r),b[3]>0&&(g+=ln(CI||(CI=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-f*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);g=ln(OI||(OI=Ma(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*E,E,E,p,t+h*E,e,t+n-h*E,e,E,E,p,t+n,e+f*E,t+n,e+r-f*E,E,E,p,t+n-h*E,e+r,t+h*E,e+r,E,E,p,t,e+r-f*E)}else g=ln(PI||(PI=Ma(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},DI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q3=t=>{var e=Gt(t,DI),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=e,A=x.useRef(u),C=x.useRef(f),$=x.useRef(s),L=x.useRef(l),q=x.useMemo(()=>({x:s,y:l,width:u,height:f,radius:h}),[s,l,u,f,h]),U=Rc(q,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var z=tt("recharts-rectangle",p);if(!E){var N=_n(e),{radius:j}=N,k=kI(N,uQ);return x.createElement("path",Iv({},k,{x:Zo(s),y:Zo(l),width:Zo(u),height:Zo(f),radius:typeof h=="number"?h:void 0,className:z,d:MI(s,l,u,f,h)}))}var P=A.current,I=C.current,D=$.current,M=L.current,se="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),G=Y3(["strokeDasharray"],b,typeof g=="string"?g:DI.animationEasing);return x.createElement(Ic,{animationId:U,key:U,canBegin:r>0,duration:b,easing:g,isActive:E,begin:_},K=>{var ee=ht(P,u,K),Z=ht(I,f,K),re=ht(D,s,K),V=ht(M,l,K);n.current&&(A.current=ee,C.current=Z,$.current=re,L.current=V);var Q;S?K>0?Q={transition:G,strokeDasharray:Y}:Q={strokeDasharray:se}:Q={strokeDasharray:Y};var X=_n(e),{radius:W}=X,me=kI(X,dQ);return x.createElement("path",Iv({},me,{radius:typeof h=="number"?h:void 0,className:z,d:MI(re,V,ee,Z,h),ref:n,style:RI(RI({},Q),e.style)}))})};function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){gQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gQ(t,e,n){return(e=vQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vQ(t){var e=yQ(t,"string");return typeof e=="symbol"?e:e+""}function yQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rv=Math.PI/180,kv=t=>t*Math.PI/180,bQ=t=>t*180/Math.PI,wt=(t,e,n,r)=>({x:t+Math.cos(-Rv*r)*n,y:e+Math.sin(-Rv*r)*n}),J3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},wQ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=xQ({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:l,angle:bQ(f),angleInRadian:f}},_Q=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},SQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},EQ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=wQ({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:h}=_Q(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?zI(zI({},e),{},{radius:i,angle:SQ(p,e)}):null},Z3=t=>!x.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function e6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=wt(e,n,r,i),u=wt(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var VI,$I,UI,BI,qI,FI,HI;function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(null,arguments)}function nc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var AQ=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},hg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/Rv,g=f?i:i+s*p,b=wt(e,n,h,g),_=wt(e,n,r,g),S=f?i-s*p:i,E=wt(e,n,h*Math.cos(p*Rv),S);return{center:b,circleTangency:_,lineTangency:E,theta:p}},t6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=AQ(s,l),f=s+u,h=wt(e,n,i,s),p=wt(e,n,i,f),g=ln(VI||(VI=nc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>f),p.x,p.y);if(r>0){var b=wt(e,n,r,s),_=wt(e,n,r,f);g+=ln($I||($I=nc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=f),b.x,b.y)}else g+=ln(UI||(UI=nc(["L ",","," Z"])),e,n);return g},TQ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=t,p=Zn(h-f),{circleTangency:g,lineTangency:b,theta:_}=hg({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:A}=hg({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),C=u?Math.abs(f-h):Math.abs(f-h)-_-A;if(C<0)return l?ln(BI||(BI=nc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):t6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var $=ln(qI||(qI=nc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(C>180),+(p<0),S.x,S.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:L,lineTangency:q,theta:U}=hg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:z,lineTangency:N,theta:j}=hg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(f-h):Math.abs(f-h)-U-j;if(k<0&&s===0)return"".concat($,"L").concat(e,",").concat(n,"Z");$+=ln(FI||(FI=nc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(p<0),z.x,z.y,r,r,+(k>180),+(p>0),L.x,L.y,s,s,+(p<0),q.x,q.y)}else $+=ln(HI||(HI=nc(["L",",","Z"])),e,n);return $},jQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n6=t=>{var e=Gt(t,jQ),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var b=tt("recharts-sector",g),_=s-i,S=Nr(l,_,0,!0),E;return S>0&&Math.abs(h-p)<360?E=TQ({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):E=t6({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),x.createElement("path",O_({},_n(e),{className:b,d:E}))};function NQ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(k5(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,f=wt(r,i,s,u),h=wt(r,i,l,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return e6(e)}}var H1={},K1={},Y1={},KI;function CQ(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Y1)),Y1}var YI;function OQ(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CQ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(K1)),K1}var GI;function PQ(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5(),n=OQ();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=l;return f}t.range=r})(H1)),H1}var G1,WI;function IQ(){return WI||(WI=1,G1=PQ().range),G1}var RQ=IQ();const r6=ha(RQ);function al(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OE(t){let e,n,r;t.length!==2?(e=al,n=(u,f)=>al(t(u),f),r=(u,f)=>t(u)-f):(e=t===al||t===kQ?t:MQ,n=t,r=t);function i(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,f,h=0,p=u.length){const g=i(u,f,h,p-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:l,right:s}}function MQ(){return 0}function i6(t){return t===null?NaN:+t}function*DQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const LQ=OE(al),um=LQ.right;OE(i6).center;class XI extends Map{constructor(e,n=$Q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QI(this,e))}has(e){return super.has(QI(this,e))}set(e,n){return super.set(zQ(this,e),n)}delete(e){return super.delete(VQ(this,e))}}function QI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function zQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function VQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $Q(t){return t!==null&&typeof t=="object"?t.valueOf():t}function UQ(t=al){if(t===al)return a6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function a6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const BQ=Math.sqrt(50),qQ=Math.sqrt(10),FQ=Math.sqrt(2);function Mv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=BQ?10:s>=qQ?5:s>=FQ?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?Mv(t,e,n*2):[u,f,h]}function P_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Mv(e,t,n):Mv(t,e,n);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)f[h]=(s-h)/-l;else for(let h=0;h<u;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(i+h)/-l;else for(let h=0;h<u;++h)f[h]=(i+h)*l;return f}function I_(t,e,n){return e=+e,t=+t,n=+n,Mv(t,e,n)[2]}function R_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?I_(e,t,n):I_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function s6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?a6:UQ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*g/f+b)),S=Math.min(r,Math.floor(e+(f-h)*g/f+b));s6(t,e,_,S,i)}const s=t[e];let l=n,u=r;for(zf(t,n,e),i(t[r],s)>0&&zf(t,n,r);l<u;){for(zf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?zf(t,n,u):(++u,zf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function zf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function HQ(t,e,n){if(t=Float64Array.from(DQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZI(t);if(e>=1)return JI(t);var r,i=(r-1)*e,s=Math.floor(i),l=JI(s6(t,s).subarray(0,s+1)),u=ZI(t.subarray(s+1));return l+(u-l)*(i-s)}}function KQ(t,e,n=i6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function YQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ro(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const k_=Symbol("implicit");function PE(){var t=new XI,e=[],n=[],r=k_;function i(s){let l=t.get(s);if(l===void 0){if(r!==k_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new XI;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return PE(e,n).unknown(r)},Ki.apply(i,arguments),i}function IE(){var t=PE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var b=e().length,_=i<r,S=_?i:r,E=_?r:i;s=(E-S)/Math.max(1,b-f+h*2),u&&(s=Math.floor(s)),S+=(E-S-s*(b-f))*p,l=s*(1-f),u&&(S=Math.round(S),l=Math.round(l));var A=YQ(b).map(function(C){return S+s*C});return n(_?A.reverse():A)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(f=Math.min(1,h=+b),g()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),g()):f},t.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return IE(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(p)},Ki.apply(g(),arguments)}function o6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return o6(e())},t}function GQ(){return o6(IE.apply(null,arguments).paddingInner(1))}function RE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function l6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dm(){}var Nh=.7,Dv=1/Nh,$u="\\s*([+-]?\\d+)\\s*",Ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WQ=/^#([0-9a-f]{3,8})$/,XQ=new RegExp(`^rgb\\(${$u},${$u},${$u}\\)$`),QQ=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),JQ=new RegExp(`^rgba\\(${$u},${$u},${$u},${Ch}\\)$`),ZQ=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${Ch}\\)$`),eJ=new RegExp(`^hsl\\(${Ch},${Ya},${Ya}\\)$`),tJ=new RegExp(`^hsla\\(${Ch},${Ya},${Ya},${Ch}\\)$`),eR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RE(dm,Oh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tR,formatHex:tR,formatHex8:nJ,formatHsl:rJ,formatRgb:nR,toString:nR});function tR(){return this.rgb().formatHex()}function nJ(){return this.rgb().formatHex8()}function rJ(){return c6(this).formatHsl()}function nR(){return this.rgb().formatRgb()}function Oh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=WQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rR(e):n===3?new Qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XQ.exec(t))?new Qr(e[1],e[2],e[3],1):(e=QQ.exec(t))?new Qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JQ.exec(t))?mg(e[1],e[2],e[3],e[4]):(e=ZQ.exec(t))?mg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eJ.exec(t))?sR(e[1],e[2]/100,e[3]/100,1):(e=tJ.exec(t))?sR(e[1],e[2]/100,e[3]/100,e[4]):eR.hasOwnProperty(t)?rR(eR[t]):t==="transparent"?new Qr(NaN,NaN,NaN,0):null}function rR(t){return new Qr(t>>16&255,t>>8&255,t&255,1)}function mg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qr(t,e,n,r)}function iJ(t){return t instanceof dm||(t=Oh(t)),t?(t=t.rgb(),new Qr(t.r,t.g,t.b,t.opacity)):new Qr}function M_(t,e,n,r){return arguments.length===1?iJ(t):new Qr(t,e,n,r??1)}function Qr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}RE(Qr,M_,l6(dm,{brighter(t){return t=t==null?Dv:Math.pow(Dv,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nh:Math.pow(Nh,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qr(cc(this.r),cc(this.g),cc(this.b),Lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iR,formatHex:iR,formatHex8:aJ,formatRgb:aR,toString:aR}));function iR(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}`}function aJ(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}${rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function aR(){const t=Lv(this.opacity);return`${t===1?"rgb(":"rgba("}${cc(this.r)}, ${cc(this.g)}, ${cc(this.b)}${t===1?")":`, ${t})`}`}function Lv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rc(t){return t=cc(t),(t<16?"0":"")+t.toString(16)}function sR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new aa(t,e,n,r)}function c6(t){if(t instanceof aa)return new aa(t.h,t.s,t.l,t.opacity);if(t instanceof dm||(t=Oh(t)),!t)return new aa;if(t instanceof aa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,f=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?s+i:2-s-i,l*=60):u=f>0&&f<1?0:l,new aa(l,u,f,t.opacity)}function sJ(t,e,n,r){return arguments.length===1?c6(t):new aa(t,e,n,r??1)}function aa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}RE(aa,sJ,l6(dm,{brighter(t){return t=t==null?Dv:Math.pow(Dv,t),new aa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nh:Math.pow(Nh,t),new aa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qr(W1(t>=240?t-240:t+120,i,r),W1(t,i,r),W1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new aa(oR(this.h),pg(this.s),pg(this.l),Lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lv(this.opacity);return`${t===1?"hsl(":"hsla("}${oR(this.h)}, ${pg(this.s)*100}%, ${pg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oR(t){return t=(t||0)%360,t<0?t+360:t}function pg(t){return Math.max(0,Math.min(1,t||0))}function W1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const kE=t=>()=>t;function oJ(t,e){return function(n){return t+n*e}}function lJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cJ(t){return(t=+t)==1?u6:function(e,n){return n-e?lJ(e,n,t):kE(isNaN(e)?n:e)}}function u6(t,e){var n=e-t;return n?oJ(t,n):kE(isNaN(t)?e:t)}const lR=(function t(e){var n=cJ(e);function r(i,s){var l=n((i=M_(i)).r,(s=M_(s)).r),u=n(i.g,s.g),f=n(i.b,s.b),h=u6(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function uJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function dJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=vd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function hJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=vd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var D_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X1=new RegExp(D_.source,"g");function pJ(t){return function(){return t}}function gJ(t){return function(e){return t(e)+""}}function vJ(t,e){var n=D_.lastIndex=X1.lastIndex=0,r,i,s,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=D_.exec(t))&&(i=X1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:zv(r,i)})),n=X1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?gJ(f[0].x):pJ(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function vd(t,e){var n=typeof e,r;return e==null||n==="boolean"?kE(e):(n==="number"?zv:n==="string"?(r=Oh(e))?(e=r,lR):vJ:e instanceof Oh?lR:e instanceof Date?hJ:dJ(e)?uJ:Array.isArray(e)?fJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mJ:zv)(t,e)}function ME(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yJ(t,e){e===void 0&&(e=t,t=vd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function bJ(t){return function(){return t}}function Vv(t){return+t}var cR=[0,1];function Mr(t){return t}function L_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bJ(isNaN(e)?NaN:.5)}function xJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wJ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=L_(i,r),s=n(l,s)):(r=L_(r,i),s=n(s,l)),function(u){return s(r(u))}}function _J(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=L_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var f=um(t,u,1,r)-1;return s[f](i[f](u))}}function fm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Z0(){var t=cR,e=cR,n=vd,r,i,s,l=Mr,u,f,h;function p(){var b=Math.min(t.length,e.length);return l!==Mr&&(l=xJ(t[0],t[b-1])),u=b>2?_J:wJ,f=h=null,g}function g(b){return b==null||isNaN(b=+b)?s:(f||(f=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((h||(h=u(e,t.map(r),zv)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,Vv),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=ME,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Mr,p()):l!==Mr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,_){return r=b,i=_,p()}}function DE(){return Z0()(Mr,Mr)}function SJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $v(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ju(t){return t=$v(Math.abs(t)),t?t[1]:NaN}function EJ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function AJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var TJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ph(t){if(!(e=TJ.exec(t)))throw new Error("invalid format: "+t);var e;return new LE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ph.prototype=LE.prototype;function LE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var d6;function NJ(t,e){var n=$v(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(d6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+$v(t,Math.max(0,e+s-1))[0]}function uR(t,e){var n=$v(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:SJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uR(t*100,e),r:uR,s:NJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fR(t){return t}var hR=Array.prototype.map,mR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CJ(t){var e=t.grouping===void 0||t.thousands===void 0?fR:EJ(hR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?fR:AJ(hR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Ph(g);var b=g.fill,_=g.align,S=g.sign,E=g.symbol,A=g.zero,C=g.width,$=g.comma,L=g.precision,q=g.trim,U=g.type;U==="n"?($=!0,U="g"):dR[U]||(L===void 0&&(L=12),q=!0,U="g"),(A||b==="0"&&_==="=")&&(A=!0,b="0",_="=");var z=E==="$"?n:E==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",N=E==="$"?r:/[%p]/.test(U)?l:"",j=dR[U],k=/[defgprs%]/.test(U);L=L===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function P(I){var D=z,M=N,se,Y,G;if(U==="c")M=j(I)+M,I="";else{I=+I;var K=I<0||1/I<0;if(I=isNaN(I)?f:j(Math.abs(I),L),q&&(I=jJ(I)),K&&+I==0&&S!=="+"&&(K=!1),D=(K?S==="("?S:u:S==="-"||S==="("?"":S)+D,M=(U==="s"?mR[8+d6/3]:"")+M+(K&&S==="("?")":""),k){for(se=-1,Y=I.length;++se<Y;)if(G=I.charCodeAt(se),48>G||G>57){M=(G===46?i+I.slice(se+1):I.slice(se))+M,I=I.slice(0,se);break}}}$&&!A&&(I=e(I,1/0));var ee=D.length+I.length+M.length,Z=ee<C?new Array(C-ee+1).join(b):"";switch($&&A&&(I=e(Z+I,Z.length?C-M.length:1/0),Z=""),_){case"<":I=D+I+M+Z;break;case"=":I=D+Z+I+M;break;case"^":I=Z.slice(0,ee=Z.length>>1)+D+I+M+Z.slice(ee);break;default:I=Z+D+I+M;break}return s(I)}return P.toString=function(){return g+""},P}function p(g,b){var _=h((g=Ph(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(Ju(b)/3)))*3,E=Math.pow(10,-S),A=mR[8+S/3];return function(C){return _(E*C)+A}}return{format:h,formatPrefix:p}}var gg,zE,f6;OJ({thousands:",",grouping:[3],currency:["$",""]});function OJ(t){return gg=CJ(t),zE=gg.format,f6=gg.formatPrefix,gg}function PJ(t){return Math.max(0,-Ju(Math.abs(t)))}function IJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ju(e)/3)))*3-Ju(Math.abs(t)))}function RJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ju(e)-Ju(t))+1}function h6(t,e,n,r){var i=R_(t,e,n),s;switch(r=Ph(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=IJ(i,l))&&(r.precision=s),f6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=RJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=PJ(i))&&(r.precision=s-(r.type==="%")*2);break}}return zE(r)}function xl(t){var e=t.domain;return t.ticks=function(n){var r=e();return P_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return h6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],f,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=I_(l,u,n),h===f)return r[i]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function m6(){var t=DE();return t.copy=function(){return fm(t,m6())},Ki.apply(t,arguments),xl(t)}function p6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return p6(t).unknown(e)},t=arguments.length?Array.from(t,Vv):[0,1],xl(n)}function g6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function pR(t){return Math.log(t)}function gR(t){return Math.exp(t)}function kJ(t){return-Math.log(-t)}function MJ(t){return-Math.exp(-t)}function DJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function LJ(t){return t===10?DJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vR(t){return(e,n)=>-t(-e,n)}function VE(t){const e=t(pR,gR),n=e.domain;let r=10,i,s;function l(){return i=zJ(r),s=LJ(r),n()[0]<0?(i=vR(i),s=vR(s),t(kJ,MJ)):t(pR,gR),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let b=i(h),_=i(p),S,E;const A=u==null?10:+u;let C=[];if(!(r%1)&&_-b<A){if(b=Math.floor(b),_=Math.ceil(_),h>0){for(;b<=_;++b)for(S=1;S<r;++S)if(E=b<0?S/s(-b):S*s(b),!(E<h)){if(E>p)break;C.push(E)}}else for(;b<=_;++b)for(S=r-1;S>=1;--S)if(E=b>0?S/s(-b):S*s(b),!(E<h)){if(E>p)break;C.push(E)}C.length*2<A&&(C=P_(h,p,A))}else C=P_(b,_,Math.min(_-b,A)).map(s);return g?C.reverse():C},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Ph(f)).precision==null&&(f.trim=!0),f=zE(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(g6(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function v6(){const t=VE(Z0()).domain([1,10]);return t.copy=()=>fm(t,v6()).base(t.base()),Ki.apply(t,arguments),t}function yR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $E(t){var e=1,n=t(yR(e),bR(e));return n.constant=function(r){return arguments.length?t(yR(e=+r),bR(e)):e},xl(n)}function y6(){var t=$E(Z0());return t.copy=function(){return fm(t,y6()).constant(t.constant())},Ki.apply(t,arguments)}function xR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function VJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $J(t){return t<0?-t*t:t*t}function UE(t){var e=t(Mr,Mr),n=1;function r(){return n===1?t(Mr,Mr):n===.5?t(VJ,$J):t(xR(n),xR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(e)}function BE(){var t=UE(Z0());return t.copy=function(){return fm(t,BE()).exponent(t.exponent())},Ki.apply(t,arguments),t}function UJ(){return BE.apply(null,arguments).exponent(.5)}function wR(t){return Math.sign(t)*t*t}function BJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function b6(){var t=DE(),e=[0,1],n=!1,r;function i(s){var l=BJ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(wR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Vv)).map(wR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return b6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ki.apply(i,arguments),xl(i)}function x6(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=KQ(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[um(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(al),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return x6().domain(t).range(e).unknown(r)},Ki.apply(s,arguments)}function w6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[um(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return w6().domain([t,e]).range(i).unknown(s)},Ki.apply(xl(l),arguments)}function _6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[um(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return _6().domain(t).range(e).unknown(n)},Ki.apply(i,arguments)}const Q1=new Date,J1=new Date;function Bn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let h;do f.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return f},i.filter=s=>Bn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Q1.setTime(+s),J1.setTime(+l),t(Q1),t(J1),Math.floor(n(Q1,J1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Uv=Bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Uv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Uv);Uv.range;const Cs=1e3,Bi=Cs*60,Os=Bi*60,Ks=Os*24,qE=Ks*7,_R=Ks*30,Z1=Ks*365,ic=Bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getUTCSeconds());ic.range;const FE=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cs)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getMinutes());FE.range;const HE=Bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCMinutes());HE.range;const KE=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cs-t.getMinutes()*Bi)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getHours());KE.range;const YE=Bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCHours());YE.range;const hm=Bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bi)/Ks,t=>t.getDate()-1);hm.range;const ey=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>t.getUTCDate()-1);ey.range;const S6=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>Math.floor(t/Ks));S6.range;function kc(t){return Bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Bi)/qE)}const ty=kc(0),Bv=kc(1),qJ=kc(2),FJ=kc(3),Zu=kc(4),HJ=kc(5),KJ=kc(6);ty.range;Bv.range;qJ.range;FJ.range;Zu.range;HJ.range;KJ.range;function Mc(t){return Bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qE)}const ny=Mc(0),qv=Mc(1),YJ=Mc(2),GJ=Mc(3),ed=Mc(4),WJ=Mc(5),XJ=Mc(6);ny.range;qv.range;YJ.range;GJ.range;ed.range;WJ.range;XJ.range;const GE=Bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());GE.range;const WE=Bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());WE.range;const Ys=Bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ys.range;const Gs=Bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Gs.range;function E6(t,e,n,r,i,s){const l=[[ic,1,Cs],[ic,5,5*Cs],[ic,15,15*Cs],[ic,30,30*Cs],[s,1,Bi],[s,5,5*Bi],[s,15,15*Bi],[s,30,30*Bi],[i,1,Os],[i,3,3*Os],[i,6,6*Os],[i,12,12*Os],[r,1,Ks],[r,2,2*Ks],[n,1,qE],[e,1,_R],[e,3,3*_R],[t,1,Z1]];function u(h,p,g){const b=p<h;b&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:f(h,p,g),S=_?_.range(h,+p+1):[];return b?S.reverse():S}function f(h,p,g){const b=Math.abs(p-h)/g,_=OE(([,,A])=>A).right(l,b);if(_===l.length)return t.every(R_(h/Z1,p/Z1,g));if(_===0)return Uv.every(Math.max(R_(h,p,g),1));const[S,E]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return S.every(E)}return[u,f]}const[QJ,JJ]=E6(Gs,WE,ny,S6,YE,HE),[ZJ,eZ]=E6(Ys,GE,ty,hm,KE,FE);function ew(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,h=$f(i),p=Uf(i),g=$f(s),b=Uf(s),_=$f(l),S=Uf(l),E=$f(u),A=Uf(u),C=$f(f),$=Uf(f),L={a:K,A:ee,b:Z,B:re,c:null,d:NR,e:NR,f:EZ,g:kZ,G:DZ,H:wZ,I:_Z,j:SZ,L:A6,m:AZ,M:TZ,p:V,q:Q,Q:PR,s:IR,S:jZ,u:NZ,U:CZ,V:OZ,w:PZ,W:IZ,x:null,X:null,y:RZ,Y:MZ,Z:LZ,"%":OR},q={a:X,A:W,b:me,B:pe,c:null,d:CR,e:CR,f:UZ,g:QZ,G:ZZ,H:zZ,I:VZ,j:$Z,L:j6,m:BZ,M:qZ,p:de,q:ye,Q:PR,s:IR,S:FZ,u:HZ,U:KZ,V:YZ,w:GZ,W:WZ,x:null,X:null,y:XZ,Y:JZ,Z:eee,"%":OR},U={a:P,A:I,b:D,B:M,c:se,d:TR,e:TR,f:vZ,g:AR,G:ER,H:jR,I:jR,j:hZ,L:gZ,m:fZ,M:mZ,p:k,q:dZ,Q:bZ,s:xZ,S:pZ,u:sZ,U:oZ,V:lZ,w:aZ,W:cZ,x:Y,X:G,y:AR,Y:ER,Z:uZ,"%":yZ};L.x=z(n,L),L.X=z(r,L),L.c=z(e,L),q.x=z(n,q),q.X=z(r,q),q.c=z(e,q);function z(ne,Se){return function(je){var oe=[],he=-1,Pe=0,Be=ne.length,Ze,fn,ti;for(je instanceof Date||(je=new Date(+je));++he<Be;)ne.charCodeAt(he)===37&&(oe.push(ne.slice(Pe,he)),(fn=SR[Ze=ne.charAt(++he)])!=null?Ze=ne.charAt(++he):fn=Ze==="e"?" ":"0",(ti=Se[Ze])&&(Ze=ti(je,fn)),oe.push(Ze),Pe=he+1);return oe.push(ne.slice(Pe,he)),oe.join("")}}function N(ne,Se){return function(je){var oe=Vf(1900,void 0,1),he=j(oe,ne,je+="",0),Pe,Be;if(he!=je.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Se&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Pe=tw(Vf(oe.y,0,1)),Be=Pe.getUTCDay(),Pe=Be>4||Be===0?qv.ceil(Pe):qv(Pe),Pe=ey.offset(Pe,(oe.V-1)*7),oe.y=Pe.getUTCFullYear(),oe.m=Pe.getUTCMonth(),oe.d=Pe.getUTCDate()+(oe.w+6)%7):(Pe=ew(Vf(oe.y,0,1)),Be=Pe.getDay(),Pe=Be>4||Be===0?Bv.ceil(Pe):Bv(Pe),Pe=hm.offset(Pe,(oe.V-1)*7),oe.y=Pe.getFullYear(),oe.m=Pe.getMonth(),oe.d=Pe.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Be="Z"in oe?tw(Vf(oe.y,0,1)).getUTCDay():ew(Vf(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Be+5)%7:oe.w+oe.U*7-(Be+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,tw(oe)):ew(oe)}}function j(ne,Se,je,oe){for(var he=0,Pe=Se.length,Be=je.length,Ze,fn;he<Pe;){if(oe>=Be)return-1;if(Ze=Se.charCodeAt(he++),Ze===37){if(Ze=Se.charAt(he++),fn=U[Ze in SR?Se.charAt(he++):Ze],!fn||(oe=fn(ne,je,oe))<0)return-1}else if(Ze!=je.charCodeAt(oe++))return-1}return oe}function k(ne,Se,je){var oe=h.exec(Se.slice(je));return oe?(ne.p=p.get(oe[0].toLowerCase()),je+oe[0].length):-1}function P(ne,Se,je){var oe=_.exec(Se.slice(je));return oe?(ne.w=S.get(oe[0].toLowerCase()),je+oe[0].length):-1}function I(ne,Se,je){var oe=g.exec(Se.slice(je));return oe?(ne.w=b.get(oe[0].toLowerCase()),je+oe[0].length):-1}function D(ne,Se,je){var oe=C.exec(Se.slice(je));return oe?(ne.m=$.get(oe[0].toLowerCase()),je+oe[0].length):-1}function M(ne,Se,je){var oe=E.exec(Se.slice(je));return oe?(ne.m=A.get(oe[0].toLowerCase()),je+oe[0].length):-1}function se(ne,Se,je){return j(ne,e,Se,je)}function Y(ne,Se,je){return j(ne,n,Se,je)}function G(ne,Se,je){return j(ne,r,Se,je)}function K(ne){return l[ne.getDay()]}function ee(ne){return s[ne.getDay()]}function Z(ne){return f[ne.getMonth()]}function re(ne){return u[ne.getMonth()]}function V(ne){return i[+(ne.getHours()>=12)]}function Q(ne){return 1+~~(ne.getMonth()/3)}function X(ne){return l[ne.getUTCDay()]}function W(ne){return s[ne.getUTCDay()]}function me(ne){return f[ne.getUTCMonth()]}function pe(ne){return u[ne.getUTCMonth()]}function de(ne){return i[+(ne.getUTCHours()>=12)]}function ye(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Se=z(ne+="",L);return Se.toString=function(){return ne},Se},parse:function(ne){var Se=N(ne+="",!1);return Se.toString=function(){return ne},Se},utcFormat:function(ne){var Se=z(ne+="",q);return Se.toString=function(){return ne},Se},utcParse:function(ne){var Se=N(ne+="",!0);return Se.toString=function(){return ne},Se}}}var SR={"-":"",_:" ",0:"0"},er=/^\s*\d+/,nZ=/^%/,rZ=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function iZ(t){return t.replace(rZ,"\\$&")}function $f(t){return new RegExp("^(?:"+t.map(iZ).join("|")+")","i")}function Uf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aZ(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sZ(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function oZ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cZ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ER(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function AR(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dZ(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fZ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TR(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hZ(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jR(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mZ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pZ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gZ(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vZ(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yZ(t,e,n){var r=nZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bZ(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xZ(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function NR(t,e){return yt(t.getDate(),e,2)}function wZ(t,e){return yt(t.getHours(),e,2)}function _Z(t,e){return yt(t.getHours()%12||12,e,2)}function SZ(t,e){return yt(1+hm.count(Ys(t),t),e,3)}function A6(t,e){return yt(t.getMilliseconds(),e,3)}function EZ(t,e){return A6(t,e)+"000"}function AZ(t,e){return yt(t.getMonth()+1,e,2)}function TZ(t,e){return yt(t.getMinutes(),e,2)}function jZ(t,e){return yt(t.getSeconds(),e,2)}function NZ(t){var e=t.getDay();return e===0?7:e}function CZ(t,e){return yt(ty.count(Ys(t)-1,t),e,2)}function T6(t){var e=t.getDay();return e>=4||e===0?Zu(t):Zu.ceil(t)}function OZ(t,e){return t=T6(t),yt(Zu.count(Ys(t),t)+(Ys(t).getDay()===4),e,2)}function PZ(t){return t.getDay()}function IZ(t,e){return yt(Bv.count(Ys(t)-1,t),e,2)}function RZ(t,e){return yt(t.getFullYear()%100,e,2)}function kZ(t,e){return t=T6(t),yt(t.getFullYear()%100,e,2)}function MZ(t,e){return yt(t.getFullYear()%1e4,e,4)}function DZ(t,e){var n=t.getDay();return t=n>=4||n===0?Zu(t):Zu.ceil(t),yt(t.getFullYear()%1e4,e,4)}function LZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function CR(t,e){return yt(t.getUTCDate(),e,2)}function zZ(t,e){return yt(t.getUTCHours(),e,2)}function VZ(t,e){return yt(t.getUTCHours()%12||12,e,2)}function $Z(t,e){return yt(1+ey.count(Gs(t),t),e,3)}function j6(t,e){return yt(t.getUTCMilliseconds(),e,3)}function UZ(t,e){return j6(t,e)+"000"}function BZ(t,e){return yt(t.getUTCMonth()+1,e,2)}function qZ(t,e){return yt(t.getUTCMinutes(),e,2)}function FZ(t,e){return yt(t.getUTCSeconds(),e,2)}function HZ(t){var e=t.getUTCDay();return e===0?7:e}function KZ(t,e){return yt(ny.count(Gs(t)-1,t),e,2)}function N6(t){var e=t.getUTCDay();return e>=4||e===0?ed(t):ed.ceil(t)}function YZ(t,e){return t=N6(t),yt(ed.count(Gs(t),t)+(Gs(t).getUTCDay()===4),e,2)}function GZ(t){return t.getUTCDay()}function WZ(t,e){return yt(qv.count(Gs(t)-1,t),e,2)}function XZ(t,e){return yt(t.getUTCFullYear()%100,e,2)}function QZ(t,e){return t=N6(t),yt(t.getUTCFullYear()%100,e,2)}function JZ(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function ZZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ed(t):ed.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function eee(){return"+0000"}function OR(){return"%"}function PR(t){return+t}function IR(t){return Math.floor(+t/1e3)}var xu,C6,O6;tee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tee(t){return xu=tZ(t),C6=xu.format,xu.parse,O6=xu.utcFormat,xu.utcParse,xu}function nee(t){return new Date(t)}function ree(t){return t instanceof Date?+t:+new Date(+t)}function XE(t,e,n,r,i,s,l,u,f,h){var p=DE(),g=p.invert,b=p.domain,_=h(".%L"),S=h(":%S"),E=h("%I:%M"),A=h("%I %p"),C=h("%a %d"),$=h("%b %d"),L=h("%B"),q=h("%Y");function U(z){return(f(z)<z?_:u(z)<z?S:l(z)<z?E:s(z)<z?A:r(z)<z?i(z)<z?C:$:n(z)<z?L:q)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?b(Array.from(z,ree)):b().map(nee)},p.ticks=function(z){var N=b();return t(N[0],N[N.length-1],z??10)},p.tickFormat=function(z,N){return N==null?U:h(N)},p.nice=function(z){var N=b();return(!z||typeof z.range!="function")&&(z=e(N[0],N[N.length-1],z??10)),z?b(g6(N,z)):p},p.copy=function(){return fm(p,XE(t,e,n,r,i,s,l,u,f,h))},p}function iee(){return Ki.apply(XE(ZJ,eZ,Ys,GE,ty,hm,KE,FE,ic,C6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aee(){return Ki.apply(XE(QJ,JJ,Gs,WE,ny,ey,YE,HE,ic,O6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ry(){var t=0,e=1,n,r,i,s,l=Mr,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(b){var _,S;return arguments.length?([_,S]=b,l=g(_,S),h):[l(0),l(1)]}}return h.range=p(vd),h.rangeRound=p(ME),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function P6(){var t=xl(ry()(Mr));return t.copy=function(){return wl(t,P6())},ro.apply(t,arguments)}function I6(){var t=VE(ry()).domain([1,10]);return t.copy=function(){return wl(t,I6()).base(t.base())},ro.apply(t,arguments)}function R6(){var t=$E(ry());return t.copy=function(){return wl(t,R6()).constant(t.constant())},ro.apply(t,arguments)}function QE(){var t=UE(ry());return t.copy=function(){return wl(t,QE()).exponent(t.exponent())},ro.apply(t,arguments)}function see(){return QE.apply(null,arguments).exponent(.5)}function k6(){var t=[],e=Mr;function n(r){if(r!=null&&!isNaN(r=+r))return e((um(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(al),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>HQ(t,s/r))},n.copy=function(){return k6(e).domain(t)},ro.apply(n,arguments)}function iy(){var t=0,e=.5,n=1,r=1,i,s,l,u,f,h=Mr,p,g=!1,b;function _(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(r*E<r*s?u:f),h(g?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(g=!!E,_):g},_.interpolator=function(E){return arguments.length?(h=E,_):h};function S(E){return function(A){var C,$,L;return arguments.length?([C,$,L]=A,h=yJ(E,[C,$,L]),_):[h(0),h(.5),h(1)]}}return _.range=S(vd),_.rangeRound=S(ME),_.unknown=function(E){return arguments.length?(b=E,_):b},function(E){return p=E,i=E(t),s=E(e),l=E(n),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function M6(){var t=xl(iy()(Mr));return t.copy=function(){return wl(t,M6())},ro.apply(t,arguments)}function D6(){var t=VE(iy()).domain([.1,1,10]);return t.copy=function(){return wl(t,D6()).base(t.base())},ro.apply(t,arguments)}function L6(){var t=$E(iy());return t.copy=function(){return wl(t,L6()).constant(t.constant())},ro.apply(t,arguments)}function JE(){var t=UE(iy());return t.copy=function(){return wl(t,JE()).exponent(t.exponent())},ro.apply(t,arguments)}function oee(){return JE.apply(null,arguments).exponent(.5)}const Xf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:IE,scaleDiverging:M6,scaleDivergingLog:D6,scaleDivergingPow:JE,scaleDivergingSqrt:oee,scaleDivergingSymlog:L6,scaleIdentity:p6,scaleImplicit:k_,scaleLinear:m6,scaleLog:v6,scaleOrdinal:PE,scalePoint:GQ,scalePow:BE,scaleQuantile:x6,scaleQuantize:w6,scaleRadial:b6,scaleSequential:P6,scaleSequentialLog:I6,scaleSequentialPow:QE,scaleSequentialQuantile:k6,scaleSequentialSqrt:see,scaleSequentialSymlog:R6,scaleSqrt:UJ,scaleSymlog:y6,scaleThreshold:_6,scaleTime:iee,scaleUtc:aee,tickFormat:h6},Symbol.toStringTag,{value:"Module"}));var io=t=>t.chartData,mm=ae([io],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ZE=(t,e,n,r)=>r?mm(t):io(t),z6=(t,e,n)=>n?mm(t):io(t);function hl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Bt(e)&&Bt(n))return!0}return!1}function RR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function V6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Bt(n))i=n;else if(typeof n=="function")return;if(Bt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(hl(l))return l}}function lee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(hl(r))return RR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Me(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&FP.test(i)){var f=FP.exec(i);if(f==null||f[1]==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Me(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&HP.test(s)){var p=HP.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(hl(b))return e==null?b:RR(b,e,n)}}}var yd=1e9,cee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tA,sn=!0,Hi="[DecimalError] ",uc=Hi+"Invalid argument: ",eA=Hi+"Exponent out of range: ",bd=Math.floor,ec=Math.pow,uee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,Jn=1e7,Jt=7,$6=9007199254740991,Fv=bd($6/Jt),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(t){return Ms(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,n=e.constructor;return $t(Ms(e,new n(t),0,1),n.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return Rn(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(hi))throw Error(Hi+"NaN");if(n.s<1)throw Error(Hi+(n.s?"NaN":"-Infinity"));return n.eq(hi)?new r(0):(sn=!1,e=Ms(Ih(n,s),Ih(t,s),s),sn=!0,$t(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?q6(e,t):U6(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Hi+"NaN");return n.s?(sn=!1,e=Ms(n,t,0,1).times(t),sn=!0,n.minus(e)):$t(new r(n),i)};Le.naturalExponential=Le.exp=function(){return B6(this)};Le.naturalLogarithm=Le.ln=function(){return Ih(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?U6(e,t):q6(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uc+t);if(e=Rn(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Le.squareRoot=Le.sqrt=function(){var t,e,n,r,i,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Hi+"NaN")}for(t=Rn(u),sn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=$a(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=bd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(Ms(u,s,l+2)).times(.5),$a(s.d).slice(0,l)===(e=$a(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if($t(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return sn=!0,$t(r,n)};Le.times=Le.mul=function(t){var e,n,r,i,s,l,u,f,h,p=this,g=p.constructor,b=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=b.length,h=_.length,f<h&&(s=b,b=_,_=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=s[i]+_[r]*b[i-r-1]+e,s[i--]=u%Jn|0,e=u/Jn|0;s[i]=(s[i]+e)%Jn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,sn?$t(t,g.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Za(t,0,yd),e===void 0?e=r.rounding:Za(e,0,8),$t(n,t+Rn(n)+1,e))};Le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ec(r,!0):(Za(t,0,yd),e===void 0?e=i.rounding:Za(e,0,8),r=$t(new i(r),t+1,e),n=Ec(r,!0,t+1)),n};Le.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Ec(i):(Za(t,0,yd),e===void 0?e=s.rounding:Za(e,0,8),r=$t(new s(i),t+Rn(i)+1,e),n=Ec(r.abs(),!1,t+Rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return $t(new e(t),Rn(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,n,r,i,s,l,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(hi);if(u=new f(u),!u.s){if(t.s<1)throw Error(Hi+"Infinity");return u}if(u.eq(hi))return u;if(r=f.precision,t.eq(hi))return $t(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=$6){for(i=new f(hi),e=Math.ceil(r/Jt+4),sn=!1;n%2&&(i=i.times(u),MR(i.d,e)),n=bd(n/2),n!==0;)u=u.times(u),MR(u.d,e);return sn=!0,t.s<0?new f(hi).div(i):$t(i,r)}}else if(s<0)throw Error(Hi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,sn=!1,i=t.times(Ih(u,r+h)),sn=!0,i=B6(i),i.s=s,i};Le.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Rn(i),r=Ec(i,n<=s.toExpNeg||n>=s.toExpPos)):(Za(t,1,yd),e===void 0?e=s.rounding:Za(e,0,8),i=$t(new s(i),t,e),n=Rn(i),r=Ec(i,t<=n||n<=s.toExpNeg,t)),r};Le.toSignificantDigits=Le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Za(t,1,yd),e===void 0?e=r.rounding:Za(e,0,8)),$t(new r(n),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rn(t),n=t.constructor;return Ec(t,e<=n.toExpNeg||e>=n.toExpPos)};function U6(t,e){var n,r,i,s,l,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),sn?$t(e,g):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,u=h.length):(r=h,i=l,u=f.length),l=Math.ceil(g/Jt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Jn|0,f[s]%=Jn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,sn?$t(e,g):e}function Za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uc+t)}function $a(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Jt-r.length,n&&(s+=Ho(n)),s+=r;l=t[e],r=l+"",n=Jt-r.length,n&&(s+=Ho(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ms=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Jn|0,l=s/Jn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Jn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,f,h,p,g,b,_,S,E,A,C,$,L,q,U,z,N,j,k=r.constructor,P=r.s==i.s?1:-1,I=r.d,D=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Hi+"Division by zero");for(f=r.e-i.e,N=D.length,U=I.length,_=new k(P),S=_.d=[],h=0;D[h]==(I[h]||0);)++h;if(D[h]>(I[h]||0)&&--f,s==null?$=s=k.precision:l?$=s+(Rn(r)-Rn(i))+1:$=s,$<0)return new k(0);if($=$/Jt+2|0,h=0,N==1)for(p=0,D=D[0],$++;(h<U||p)&&$--;h++)L=p*Jn+(I[h]||0),S[h]=L/D|0,p=L%D|0;else{for(p=Jn/(D[0]+1)|0,p>1&&(D=t(D,p),I=t(I,p),N=D.length,U=I.length),q=N,E=I.slice(0,N),A=E.length;A<N;)E[A++]=0;j=D.slice(),j.unshift(0),z=D[0],D[1]>=Jn/2&&++z;do p=0,u=e(D,E,N,A),u<0?(C=E[0],N!=A&&(C=C*Jn+(E[1]||0)),p=C/z|0,p>1?(p>=Jn&&(p=Jn-1),g=t(D,p),b=g.length,A=E.length,u=e(g,E,b,A),u==1&&(p--,n(g,N<b?j:D,b))):(p==0&&(u=p=1),g=D.slice()),b=g.length,b<A&&g.unshift(0),n(E,g,A),u==-1&&(A=E.length,u=e(D,E,N,A),u<1&&(p++,n(E,N<A?j:D,A))),A=E.length):u===0&&(p++,E=[0]),S[h++]=p,u&&E[0]?E[A++]=I[q]||0:(E=[I[q]],A=1);while((q++<U||E[0]!==void 0)&&$--)}return S[0]||S.shift(),_.e=f,$t(_,l?s+Rn(_)+1:s)}})();function B6(t,e){var n,r,i,s,l,u,f=0,h=0,p=t.constructor,g=p.precision;if(Rn(t)>16)throw Error(eA+Rn(t));if(!t.s)return new p(hi);for(sn=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ec(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(hi),p.precision=u;;){if(i=$t(i.times(t),u),n=n.times(++f),l=s.plus(Ms(i,n,u)),$a(l.d).slice(0,u)===$a(s.d).slice(0,u)){for(;h--;)s=$t(s.times(s),u);return p.precision=g,e==null?(sn=!0,$t(s,g)):s}s=l}}function Rn(t){for(var e=t.e*Jt,n=t.d[0];n>=10;n/=10)e++;return e}function nw(t,e,n){if(e>t.LN10.sd())throw sn=!0,n&&(t.precision=n),Error(Hi+"LN10 precision limit exceeded");return $t(new t(t.LN10),e)}function Ho(t){for(var e="";t--;)e+="0";return e}function Ih(t,e){var n,r,i,s,l,u,f,h,p,g=1,b=10,_=t,S=_.d,E=_.constructor,A=E.precision;if(_.s<1)throw Error(Hi+(_.s?"NaN":"-Infinity"));if(_.eq(hi))return new E(0);if(e==null?(sn=!1,h=A):h=e,_.eq(10))return e==null&&(sn=!0),nw(E,h);if(h+=b,E.precision=h,n=$a(S),r=n.charAt(0),s=Rn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=$a(_.d),r=n.charAt(0),g++;s=Rn(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return f=nw(E,h+2,A).times(s+""),_=Ih(new E(r+"."+n.slice(1)),h-b).plus(f),E.precision=A,e==null?(sn=!0,$t(_,A)):_;for(u=l=_=Ms(_.minus(hi),_.plus(hi),h),p=$t(_.times(_),h),i=3;;){if(l=$t(l.times(p),h),f=u.plus(Ms(l,new E(i),h)),$a(f.d).slice(0,h)===$a(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(nw(E,h+2,A).times(s+""))),u=Ms(u,new E(g),h),E.precision=A,e==null?(sn=!0,$t(u,A)):u;u=f,i+=2}}function kR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=bd(n/Jt),t.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Jt;r<i;)t.d.push(+e.slice(r,r+=Jt));e=e.slice(r),r=Jt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),sn&&(t.e>Fv||t.e<-Fv))throw Error(eA+n)}else t.s=0,t.e=0,t.d=[0];return t}function $t(t,e,n){var r,i,s,l,u,f,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Jt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Jt),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=Jt,i=r-Jt+l}if(n!==void 0&&(s=ec(10,l-i-1),u=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/ec(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Rn(t),g.length=1,e=e-s-1,g[0]=ec(10,(Jt-e%Jt)%Jt),t.e=bd(-e/Jt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ec(10,Jt-r),g[p]=i>0?(h/ec(10,l-i)%ec(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Jn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Jn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(sn&&(t.e>Fv||t.e<-Fv))throw Error(eA+Rn(t));return t}function q6(t,e){var n,r,i,s,l,u,f,h,p,g,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),sn?$t(e,_):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,u=g.length):(n=g,r=h,u=f.length),i=Math.max(Math.ceil(_/Jt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Jn-1;--f[s],f[i]+=Jn}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,sn?$t(e,_):e):new b(0)}function Ec(t,e,n){var r,i=Rn(t),s=$a(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ho(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ho(-i-1)+s,n&&(r=n-l)>0&&(s+=Ho(r))):i>=l?(s+=Ho(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Ho(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Ho(r))),t.s<0?"-"+s:s}function MR(t,e){if(t.length>e)return t.length=e,!0}function F6(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(uc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return kR(l,s.toString())}else if(typeof s!="string")throw Error(uc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,uee.test(s))kR(l,s);else throw Error(uc+s)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=F6,i.config=i.set=dee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dee(t){if(!t||typeof t!="object")throw Error(Hi+"Object expected");var e,n,r,i=["precision",1,yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(bd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uc+n+": "+r);return this}var tA=F6(cee);hi=new tA(1);const Ct=tA;var fee=t=>t,H6={},K6=t=>t===H6,DR=t=>function e(){return arguments.length===0||arguments.length===1&&K6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Y6=(t,e)=>t===1?e:DR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==H6).length;return s>=t?e(...r):Y6(t-s,DR(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=r.map(p=>K6(p)?u.shift():p);return e(...h,...u)}))}),hee=t=>Y6(t.length,t),z_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},mee=hee((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),pee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fee;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),s(...arguments))}};function G6(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function W6(t,e,n){for(var r=new Ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var X6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Q6=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=G6(t.toNumber()),i=new Ct(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new Ct(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new Ct(f.toNumber()):new Ct(Math.ceil(f.toNumber()))},gee=(t,e,n)=>{var r=new Ct(1),i=new Ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ct(10).pow(G6(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));var l=Math.floor((e-1)/2),u=pee(mee(f=>i.add(new Ct(f-l).mul(r)).toNumber()),z_);return u(0,e)},J6=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var l=Q6(new Ct(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new Ct(0):(u=new Ct(e).add(n).div(2),u=u.sub(new Ct(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new Ct(n).sub(u).div(l).toNumber()),p=f+h+1;return p>r?J6(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:u.sub(new Ct(f).mul(l)),tickMax:u.add(new Ct(h).mul(l))})},vee=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=X6([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...z_(0,i-1).map(()=>1/0)]:[...z_(0,i-1).map(()=>-1/0),f];return n>r?h.reverse():h}if(u===f)return gee(u,i,s);var{step:p,tickMin:g,tickMax:b}=J6(u,f,l,s,0),_=W6(g,b.add(new Ct(.1).mul(p)),p);return n>r?_.reverse():_},yee=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=X6([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),h=Q6(new Ct(u).sub(l).div(f-1),s,0),p=[...W6(new Ct(l),new Ct(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},Z6=t=>t.rootProps.maxBarSize,bee=t=>t.rootProps.barGap,eL=t=>t.rootProps.barCategoryGap,xee=t=>t.rootProps.barSize,pm=t=>t.rootProps.stackOffset,tL=t=>t.rootProps.reverseStackOrder,nA=t=>t.options.chartName,rA=t=>t.rootProps.syncId,nL=t=>t.rootProps.syncMethod,iA=t=>t.options.eventEmitter,wee=t=>t.rootProps.baseValue,Zt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},za={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Zt.axis},Wr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Zt.axis},ay=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},_ee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:za.angleAxisId,includeHidden:!1,name:void 0,reversed:za.reversed,scale:za.scale,tick:za.tick,tickCount:void 0,ticks:void 0,type:za.type,unit:void 0},See={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},Eee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:za.scale,tick:za.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Aee={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:"category",unit:void 0},xd=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Eee:_ee,gm=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Aee:See,sy=t=>t.polarOptions,aA=ae([to,no,Un],J3),rL=ae([sy,aA],(t,e)=>{if(t!=null)return Nr(t.innerRadius,e,0)}),iL=ae([sy,aA],(t,e)=>{if(t!=null)return Nr(t.outerRadius,e,e*.8)}),Tee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},aL=ae([sy],Tee),jee=ae([xd,aL],ay),sL=ae([aA,rL,iL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),Nee=ae([gm,sL],ay),wd=ae([nt,sy,rL,iL,to,no],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=e;return{cx:Nr(l,i,i/2),cy:Nr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),qt=(t,e)=>e,vm=(t,e,n)=>n;function oy(t){return t?.id}function oL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=oy(u);h.forEach((g,b)=>{var _=s==null||i?b:String(vt(g,s,null)),S=vt(g,u.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[p]:S}),l.set(_,E)})}}),Array.from(l.values())}function ly(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var cy=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function uy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Cee(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var qn=t=>{var e=nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},_d=t=>t.tooltip.settings.axisId;function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=Pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V_=[0,"auto"],Wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lL=(t,e)=>t.cartesianAxis.xAxis[e],ao=(t,e)=>{var n=lL(t,e);return n??Wn},Xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:V_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:om},cL=(t,e)=>t.cartesianAxis.yAxis[e],so=(t,e)=>{var n=cL(t,e);return n??Xn},Ree={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Ree},dn=(t,e,n)=>{switch(e){case"xAxis":return ao(t,n);case"yAxis":return so(t,n);case"zAxis":return sA(t,n);case"angleAxis":return xd(t,n);case"radiusAxis":return gm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kee=(t,e,n)=>{switch(e){case"xAxis":return ao(t,n);case"yAxis":return so(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Sd=(t,e,n)=>{switch(e){case"xAxis":return ao(t,n);case"yAxis":return so(t,n);case"angleAxis":return xd(t,n);case"radiusAxis":return gm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function oA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ym=t=>t.graphicalItems.cartesianItems,Mee=ae([qt,vm],oA),lA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),bm=ae([ym,dn,Mee],lA,{memoizeOptions:{resultEqualityCheck:uy}}),dL=ae([bm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ly)),fL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Dee=ae([bm],fL),cA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Lee=ae([bm],cA,{memoizeOptions:{resultEqualityCheck:uy}}),uA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},dA=ae([Lee,ZE],uA),fA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:vt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:vt(i,r)}))):t.map(r=>({value:r})),dy=ae([dA,dn,bm],fA);function hL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Mg(t){if(Xa(t)||t instanceof Date){var e=Number(t);if(Bt(e))return e}}function zR(t){if(Array.isArray(t)){var e=[Mg(t[0]),Mg(t[1])];return hl(e)?e:void 0}var n=Mg(t);if(n!=null)return[n,n]}function Ws(t){return t.map(Mg).filter(CK)}function zee(t,e,n){return!n||typeof e!="number"||qi(e)?[]:n.length?Ws(n.flatMap(r=>{var i=vt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Bt(s)||!Bt(l)))return[e-s,e+l]})):[]}var Fn=t=>{var e=qn(t),n=_d(t);return Sd(t,e,n)},xm=ae([Fn],t=>t?.dataKey),Vee=ae([dL,ZE,Fn],oL),mL=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,f]=l,h=r?[...f].reverse():f,p=h.map(oy);return[u,{stackedData:tW(t,p,n),graphicalItems:h}]}))},Kv=ae([Vee,dL,pm,tL],mL),pL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=aW(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},$ee=ae([dn],t=>t.allowDataOverflow),hA=t=>{var e;if(t==null||!("domain"in t))return V_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ws(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:V_},mA=ae([dn],hA),pA=ae([mA,$ee],V6),Uee=ae([Kv,io,qt,pA],pL,{memoizeOptions:{resultEqualityCheck:cy}}),fy=t=>t.errorBars,Bee=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>hL(n,r)),Yv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},gA=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>hL(i,C)),b=vt(u,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),_=zee(u,b,g);if(_.length>=2){var S=Math.min(..._),E=Math.max(..._);(s==null||S<s)&&(s=S),(l==null||E>l)&&(l=E)}var A=zR(b);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=zR(vt(u,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Bt(s)&&Bt(l))return[s,l]},qee=ae([dA,dn,Dee,fy,qt],gA,{memoizeOptions:{resultEqualityCheck:cy}});function Fee(t){var{value:e}=t;if(Xa(e)||e instanceof Date)return e}var Hee=(t,e,n)=>{var r=t.map(Fee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&P5(r))?r6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},gL=t=>t.referenceElements.dots,Ed=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Kee=ae([gL,qt,vm],Ed),vL=t=>t.referenceElements.areas,Yee=ae([vL,qt,vm],Ed),yL=t=>t.referenceElements.lines,Gee=ae([yL,qt,vm],Ed),bL=(t,e)=>{if(t!=null){var n=Ws(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Wee=ae(Kee,qt,bL),xL=(t,e)=>{if(t!=null){var n=Ws(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Xee=ae([Yee,qt],xL);function Qee(t){var e;if(t.x!=null)return Ws([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ws(n)}function Jee(t){var e;if(t.y!=null)return Ws([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ws(n)}var wL=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Qee(r):Jee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Zee=ae([Gee,qt],wL),ete=ae(Wee,Zee,Xee,(t,e,n)=>Yv(t,n,e)),vA=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=f?Yv(r,s,i):Yv(s,i);return lee(e,h,t.allowDataOverflow)},tte=ae([dn,mA,pA,Uee,qee,ete,nt,qt],vA,{memoizeOptions:{resultEqualityCheck:cy}}),nte=[0,1],yA=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,h=pa(e,s);if(h&&u==null){var p;return r6(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Hee(r,t,h):i==="expand"?nte:l}},bA=ae([dn,nt,dA,dy,pm,qt,tte],yA),_L=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(rm(s));return u in Xf?u:"point"}}},_l=ae([dn,nt,uL,nA,qt],_L);function rte(t){if(t!=null){if(t in Xf)return Xf[t]();var e="scale".concat(rm(t));if(e in Xf)return Xf[e]()}}function hy(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=rte(e);if(i!=null){var s=i.domain(n).range(r);return XG(s),s}}}var xA=(t,e,n)=>{var r=hA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hl(t))return vee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hl(t))return yee(t,e.tickCount,e.allowDecimals)}},wA=ae([bA,Sd,_l],xA),_A=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&hl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},ite=ae([dn,bA,wA,qt],_A),ate=ae(dy,dn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ws(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],h=r[u+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/l}}),SL=ae(ate,nt,eL,Un,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Bt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Nr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),ste=(t,e,n)=>{var r=ao(t,e);return r==null||typeof r.padding!="string"?0:SL(t,"xAxis",e,n,r.padding)},ote=(t,e,n)=>{var r=so(t,e);return r==null||typeof r.padding!="string"?0:SL(t,"yAxis",e,n,r.padding)},lte=ae(ao,ste,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),cte=ae(so,ote,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ute=ae([Un,lte,Y0,K0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),dte=ae([Un,nt,cte,Y0,K0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),wm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ute(t,n,r);case"yAxis":return dte(t,n,r);case"zAxis":return(i=sA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return aL(t);case"radiusAxis":return sL(t,n);default:return}},EL=ae([dn,wm],ay),my=ae([dn,_l,ite,EL],hy);ae([bm,fy,qt],Bee);function AL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var py=(t,e)=>e,gy=(t,e,n)=>n,fte=ae(F0,py,gy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(AL)),hte=ae(H0,py,gy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(AL)),TL=(t,e)=>({width:t.width,height:e.height}),mte=(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}},jL=ae(Un,ao,TL),pte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},gte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},vte=ae(no,Un,fte,py,gy,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var f=TL(e,u);l==null&&(l=pte(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),yte=ae(to,Un,hte,py,gy,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var f=mte(e,u);l==null&&(l=gte(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),bte=(t,e)=>{var n=ao(t,e);if(n!=null)return vte(t,n.orientation,n.mirror)},xte=ae([Un,ao,bte,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),wte=(t,e)=>{var n=so(t,e);if(n!=null)return yte(t,n.orientation,n.mirror)},_te=ae([Un,so,wte,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),NL=ae(Un,so,(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}}),VR=(t,e,n)=>{switch(e){case"xAxis":return jL(t,n).width;case"yAxis":return NL(t,n).height;default:return}},CL=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=pa(t,r),f=e.map(h=>h.value);if(l&&u&&s==="category"&&i&&P5(f))return f}},_m=ae([nt,dy,dn,qt],CL),SA=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=pa(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},EA=ae([nt,dy,Sd,qt],SA),$R=ae([nt,kee,_l,my,_m,EA,wm,wA,qt],(t,e,n,r,i,s,l,u,f)=>{if(e!=null){var h=pa(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),OL=(t,e,n,r,i,s,l,u,f)=>{if(!(e==null||r==null)){var h=pa(t,f),{type:p,ticks:g,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/_:0;S=f==="angleAxis"&&s!=null&&s.length>=2?Zn(s[0]-s[1])*2*S:S;var E=g||i;if(E){var A=E.map((C,$)=>{var L=l?l.indexOf(C):C;return{index:$,coordinate:r(L)+S,value:C,offset:S}});return A.filter(C=>Bt(C.coordinate))}return h&&u?u.map((C,$)=>({coordinate:r(C)+S,value:C,index:$,offset:S})).filter(C=>Bt(C.coordinate)):r.ticks?r.ticks(b).map(C=>({coordinate:r(C)+S,value:C,offset:S})):r.domain().map((C,$)=>({coordinate:r(C)+S,value:l?l[C]:C,index:$,offset:S}))}},PL=ae([nt,Sd,_l,my,wA,wm,_m,EA,qt],OL),IL=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=pa(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Zn(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},es=ae([nt,Sd,my,wm,_m,EA,qt],IL),ts=ae(dn,my,(t,e)=>{if(!(t==null||e==null))return Hv(Hv({},t),{},{scale:e})}),Ste=ae([dn,_l,bA,EL],hy);ae((t,e,n)=>sA(t,n),Ste,(t,e)=>{if(!(t==null||e==null))return Hv(Hv({},t),{},{scale:e})});var Ete=ae([nt,F0,H0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RL=t=>t.options.defaultTooltipEventType,kL=t=>t.options.validateTooltipEventTypes;function ML(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function AA(t,e){var n=RL(t),r=kL(t);return ML(e,n,r)}function Ate(t){return Re(e=>AA(e,t))}var DL=(t,e)=>{var n,r=Number(e);if(!(qi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Tte=t=>t.tooltip.settings,Qo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jte={itemInteraction:{click:Qo,hover:Qo},axisInteraction:{click:Qo,hover:Qo},keyboardInteraction:Qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},LL=ei({name:"tooltip",initialState:jte,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(t,e){var n=ca(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Nte,replaceTooltipEntrySettings:Cte,removeTooltipEntrySettings:Ote,setTooltipSettingsState:Pte,setActiveMouseOverItemIndex:zL,mouseLeaveItem:Ite,mouseLeaveChart:VL,setActiveClickItemIndex:Rte,setMouseOverAxisIndex:$L,setMouseClickAxisIndex:kte,setSyncInteraction:$_,setKeyboardInteraction:U_}=LL.actions,Mte=LL.reducer;function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=zte(t,"string");return typeof e=="symbol"?e:e+""}function zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function $te(t){return t.index!=null}var UL=(t,e,n,r)=>{if(e==null)return Qo;var i=Vte(t,e,n);if(i==null)return Qo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if($te(i)){if(s)return vg(vg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return vg(vg({},Qo),{},{coordinate:i.coordinate})};function Ute(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Bte(t,e){var n=Ute(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function qte(t,e,n){if(n==null||e==null)return!0;var r=vt(t,e);return r==null||!hl(n)?!0:Bte(r,n)}var TA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Bt(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(l,Math.min(s,u)),h=e[f];return h==null||qte(h,n,r)?String(f):null},BL=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var f=l[0],h=f==null?void 0:u(f.positions,s);if(h!=null)return h;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},qL=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Sm=t=>t.options.tooltipPayloadSearcher,Ad=t=>t.tooltip;function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return(e=Hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t,e){return t??e}var FL=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((b,_)=>{var S,{dataDefinedOnItem:E,settings:A}=_,C=Yte(E,u),$=Array.isArray(C)?E3(C,h,p):C,L=(S=A?.dataKey)!==null&&S!==void 0?S:r,q=A?.nameKey,U;if(r&&Array.isArray($)&&!Array.isArray($[0])&&l==="axis"?U=I5($,r,i):U=s($,e,f,q),Array.isArray(U))U.forEach(N=>{var j=qR(qR({},A),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});b.push(KP({tooltipEntrySettings:j,dataKey:N.dataKey,payload:N.payload,value:vt(N.payload,N.dataKey),name:N.name}))});else{var z;b.push(KP({tooltipEntrySettings:A,dataKey:L,payload:U,value:vt(U,L),name:(z=vt(U,q))!==null&&z!==void 0?z:A?.name}))}return b},g)}},jA=ae([Fn,nt,uL,nA,qn],_L),Gte=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Wte=ae([qn,_d],oA),Td=ae([Gte,Fn,Wte],lA,{memoizeOptions:{resultEqualityCheck:uy}}),Xte=ae([Td],t=>t.filter(ly)),Qte=ae([Td],cA,{memoizeOptions:{resultEqualityCheck:uy}}),jd=ae([Qte,io],uA),Jte=ae([Xte,io,Fn],oL),NA=ae([jd,Fn,Td],fA),HL=ae([Fn],hA),Zte=ae([Fn],t=>t.allowDataOverflow),KL=ae([HL,Zte],V6),ene=ae([Td],t=>t.filter(ly)),tne=ae([Jte,ene,pm,tL],mL),nne=ae([tne,io,qn,KL],pL),rne=ae([Td],fL),ine=ae([jd,Fn,rne,fy,qn],gA,{memoizeOptions:{resultEqualityCheck:cy}}),ane=ae([gL,qn,_d],Ed),sne=ae([ane,qn],bL),one=ae([vL,qn,_d],Ed),lne=ae([one,qn],xL),cne=ae([yL,qn,_d],Ed),une=ae([cne,qn],wL),dne=ae([sne,une,lne],Yv),fne=ae([Fn,HL,KL,nne,ine,dne,nt,qn],vA),Em=ae([Fn,nt,jd,NA,pm,qn,fne],yA),hne=ae([Em,Fn,jA],xA),mne=ae([Fn,Em,hne,qn],_A),YL=t=>{var e=qn(t),n=_d(t),r=!1;return wm(t,e,n,r)},GL=ae([Fn,YL],ay),WL=ae([Fn,jA,mne,GL],hy),pne=ae([nt,NA,Fn,qn],CL),gne=ae([nt,NA,Fn,qn],SA),vne=(t,e,n,r,i,s,l,u)=>{if(e){var{type:f}=e,h=pa(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Zn(i[0]-i[1])*2*g:g,h&&l?l.map((b,_)=>({coordinate:r(b)+g,value:b,index:_,offset:g})):r.domain().map((b,_)=>({coordinate:r(b)+g,value:s?s[b]:b,index:_,offset:g}))}}},oo=ae([nt,Fn,jA,WL,YL,pne,gne,qn],vne),CA=ae([RL,kL,Tte],(t,e,n)=>ML(n.shared,t,e)),XL=t=>t.tooltip.settings.trigger,OA=t=>t.tooltip.settings.defaultIndex,Am=ae([Ad,CA,XL,OA],UL),ml=ae([Am,jd,xm,Em],TA),QL=ae([oo,ml],DL),PA=ae([Am],t=>{if(t)return t.dataKey}),yne=ae([Am],t=>{if(t)return t.graphicalItemId}),JL=ae([Ad,CA,XL,OA],qL),bne=ae([to,no,nt,Un,oo,OA,JL,Sm],BL),xne=ae([Am,bne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),wne=ae([Am],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),_ne=ae([JL,ml,io,xm,QL,Sm,CA],FL),Sne=ae([_ne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ene(t,e,n){return(e=Ane(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=Tne(t,"string");return typeof e=="symbol"?e:e+""}function Tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jne=()=>Re(Fn),Nne=()=>{var t=jne(),e=Re(oo),n=Re(WL);return Ja(!t||!n?void 0:HR(HR({},t),{},{scale:n}),e)};function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return(e=One(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=Pne(t,"string");return typeof e=="symbol"?e:e+""}function Pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ine=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Rne=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return wu(wu(wu({},r),wt(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:f}=r;return wu(wu(wu({},r),wt(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kne(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var ZL=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,h,p,g,b,_=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,S=(p=n[u])===null||p===void 0?void 0:p.coordinate,E=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,A=void 0;if(!(_==null||S==null||E==null))if(Zn(S-_)!==Zn(E-S)){var C=[];if(Zn(E-S)===Zn(i[1]-i[0])){A=E;var $=S+i[1]-i[0];C[0]=Math.min($,($+_)/2),C[1]=Math.max($,($+_)/2)}else{A=_;var L=E+i[1]-i[0];C[0]=Math.min(S,(L+S)/2),C[1]=Math.max(S,(L+S)/2)}var q=[Math.min(S,(A+S)/2),Math.max(S,(A+S)/2)];if(t>q[0]&&t<=q[1]||t>=C[0]&&t<=C[1]){var U;return(U=n[u])===null||U===void 0?void 0:U.index}}else{var z=Math.min(_,E),N=Math.max(_,E);if(t>(z+S)/2&&t<=(N+S)/2){var j;return(j=n[u])===null||j===void 0?void 0:j.index}}}else if(e)for(var k=0;k<l;k++){var P=e[k];if(P!=null){var I=e[k+1],D=e[k-1];if(k===0&&I!=null&&t<=(P.coordinate+I.coordinate)/2||k===l-1&&D!=null&&t>(P.coordinate+D.coordinate)/2||k>0&&k<l-1&&D!=null&&I!=null&&t>(P.coordinate+D.coordinate)/2&&t<=(P.coordinate+I.coordinate)/2)return P.index}}return-1},ez=()=>Re(nA),IA=(t,e)=>e,tz=(t,e,n)=>n,RA=(t,e,n,r)=>r,Mne=ae(oo,t=>k0(t,e=>e.coordinate)),kA=ae([Ad,IA,tz,RA],UL),MA=ae([kA,jd,xm,Em],TA),Dne=(t,e,n)=>{if(e!=null){var r=Ad(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},nz=ae([Ad,IA,tz,RA],qL),Gv=ae([to,no,nt,Un,oo,RA,nz,Sm],BL),Lne=ae([kA,Gv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),rz=ae([oo,MA],DL),zne=ae([nz,MA,io,xm,rz,Sm,IA],FL),Vne=ae([kA,MA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),$ne=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&kne(t,l)){var u=sW(t,e),f=ZL(u,s,i,n,r),h=Ine(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Une=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=EQ(t,n);if(u){var f=oW(u,e),h=ZL(f,l,s,r,i),p=Rne(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},Bne=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?$ne(t,e,r,i,s,l,u):Une(t,e,n,r,i,s,l)},qne=ae(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Fne=ae(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Zt)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Cee}});function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return(e=Kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Yne(t,"string");return typeof e=="symbol"?e:e+""}function Yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gne={},Wne={zIndexMap:Object.values(Zt).reduce((t,e)=>GR(GR({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Gne)},Xne=new Set(Object.values(Zt));function Qne(t){return Xne.has(t)}var iz=ei({name:"zIndex",initialState:Wne,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Qne(n)&&delete t.zIndexMap[n])},prepare:an()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:an()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:an()}}}),{registerZIndexPortal:Jne,unregisterZIndexPortal:Zne,registerZIndexPortalElement:ere,unregisterZIndexPortalElement:tre}=iz.actions,nre=iz.reducer;function Hn(t){var{zIndex:e,children:n}=t,r=VW(),i=r&&e!==void 0&&e!==0,s=kn(),l=Dt();x.useLayoutEffect(()=>i?(l(Jne({zIndex:e})),()=>{l(Zne({zIndex:e}))}):im,[l,e,i]);var u=Re(f=>qne(f,e,s));return i?u?sE.createPortal(n,u):null:n}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(null,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return(e=ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=are(t,"string");return typeof e=="symbol"?e:e+""}function are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sre(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return x.isValidElement(e)?x.cloneElement(e,r):x.createElement(n,r)}function ore(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,b=r,_=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var S,E,A;if(p==="ScatterChart")S=g,E=zX,A=Zt.cursorLine;else if(p==="BarChart")S=VX(u,g,s,l),E=Q3,A=Zt.cursorRectangle;else if(u==="radial"&&k5(g)){var{cx:C,cy:$,radius:L,startAngle:q,endAngle:U}=e6(g);S={cx:C,cy:$,startAngle:q,endAngle:U,innerRadius:L,outerRadius:L},E=n6,A=Zt.cursorLine}else S={points:NQ(u,g,s)},E=Vu,A=Zt.cursorLine;var z=typeof f=="object"&&"className"in f?f.className:void 0,N=yg(yg(yg(yg({stroke:"#ccc",pointerEvents:"none"},s),S),qs(f)),{},{payload:b,payloadIndex:_,className:tt("recharts-tooltip-cursor",z)});return x.createElement(Hn,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},x.createElement(sre,{cursor:f,cursorComp:E,cursorProps:N}))}function lre(t){var e=Nne(),n=M3(),r=bl(),i=ez();return e==null||n==null||r==null||i==null?null:x.createElement(ore,B_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var az=x.createContext(null),cre=()=>x.useContext(az),rw={exports:{}},XR;function ure(){return XR||(XR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||f,b),S=n?n+h:h;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],_]:f._events[S].push(_):(f._events[S]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,S=new Array(_);b<_;b++)S[b]=g[b].fn;return S},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,b,_,S){var E=n?n+h:h;if(!this._events[E])return!1;var A=this._events[E],C=arguments.length,$,L;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,b),!0;case 5:return A.fn.call(A.context,p,g,b,_),!0;case 6:return A.fn.call(A.context,p,g,b,_,S),!0}for(L=1,$=new Array(C-1);L<C;L++)$[L-1]=arguments[L];A.fn.apply(A.context,$)}else{var q=A.length,U;for(L=0;L<q;L++)switch(A[L].once&&this.removeListener(h,A[L].fn,void 0,!0),C){case 1:A[L].fn.call(A[L].context);break;case 2:A[L].fn.call(A[L].context,p);break;case 3:A[L].fn.call(A[L].context,p,g);break;case 4:A[L].fn.call(A[L].context,p,g,b);break;default:if(!$)for(U=1,$=new Array(C-1);U<C;U++)$[U-1]=arguments[U];A[L].fn.apply(A[L].context,$)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,b){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===p&&(!b||S.once)&&(!g||S.context===g)&&l(this,_);else{for(var E=0,A=[],C=S.length;E<C;E++)(S[E].fn!==p||b&&!S[E].once||g&&S[E].context!==g)&&A.push(S[E]);A.length?this._events[_]=A.length===1?A[0]:A:l(this,_)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(rw)),rw.exports}var dre=ure();const fre=ha(dre);var Rh=new fre,q_="recharts.syncEvent.tooltip",QR="recharts.syncEvent.brush";function DA(t,e){if(e){var n=Number.parseInt(e,10);if(!qi(n))return t?.[n]}}var hre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sz=ei({name:"options",initialState:hre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mre=sz.reducer,{createEventEmitter:pre}=sz.actions;function gre(t){return t.tooltip.syncInteraction}var vre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oz=ei({name:"chartData",initialState:vre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:JR,setDataStartEndIndexes:yre,setComputedData:kpe}=oz.actions,bre=oz.reducer,xre=["x","y"];function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wre(t,e,n){return(e=_re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ere(t,e){if(t==null)return{};var n,r,i=Are(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tre(){var t=Re(rA),e=Re(iA),n=Dt(),r=Re(nL),i=Re(oo),s=bl(),l=G0(),u=Re(f=>f.rootProps.className);x.useEffect(()=>{if(t==null)return im;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:S,y:E}=_,A=Ere(_,xre),{x:C,y:$,width:L,height:q}=p.payload.sourceViewBox,U=_u(_u({},A),{},{x:l.x+(L?(S-C)/L:0)*l.width,y:l.y+(q?(E-$)/q:0)*l.height});n(_u(_u({},p),{},{payload:_u(_u({},p.payload),{},{coordinate:U})}))}else n(p);return}if(i!=null){var z;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},j=r(i,N);z=i[j]}else r==="value"&&(z=i.find(G=>String(G.value)===p.payload.label));var{coordinate:k}=p.payload;if(z==null||p.payload.active===!1||k==null||l==null){n($_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:I}=k,D=Math.min(P,l.x+l.width),M=Math.min(I,l.y+l.height),se={x:s==="horizontal"?z.coordinate:D,y:s==="horizontal"?M:z.coordinate},Y=$_({active:p.payload.active,coordinate:se,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Y)}}};return Rh.on(q_,f),()=>{Rh.off(q_,f)}},[u,n,e,t,r,i,s,l])}function jre(){var t=Re(rA),e=Re(iA),n=Dt();x.useEffect(()=>{if(t==null)return im;var r=(i,s,l)=>{e!==l&&t===i&&n(yre(s))};return Rh.on(QR,r),()=>{Rh.off(QR,r)}},[n,e,t])}function Nre(){var t=Dt();x.useEffect(()=>{t(pre())},[t]),Tre(),jre()}function Cre(t,e,n,r,i,s){var l=Re(_=>Dne(_,t,e)),u=Re(iA),f=Re(rA),h=Re(nL),p=Re(gre),g=p?.active,b=G0();x.useEffect(()=>{if(!g&&f!=null&&u!=null){var _=$_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Rh.emit(q_,f,_,u)}},[g,n,l,i,r,u,f,h,s,b])}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e,n){return(e=Pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=Ire(t,"string");return typeof e=="symbol"?e:e+""}function Ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rre(t){return t.dataKey}function kre(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(vX,e)}var nk=[],Mre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kh(t){var e,n,r=Gt(t,Mre),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:b,position:_,reverseDirection:S,useTranslate3d:E,wrapperStyle:A,cursor:C,shared:$,trigger:L,defaultIndex:q,portal:U,axisId:z}=r,N=Dt(),j=typeof q=="number"?String(q):q;x.useEffect(()=>{N(Pte({shared:$,trigger:L,axisId:z,active:i,defaultIndex:j}))},[N,$,L,z,i,j]);var k=G0(),P=K3(),I=Ate($),{activeIndex:D,isActive:M}=(e=Re(de=>Vne(de,I,L,j)))!==null&&e!==void 0?e:{},se=Re(de=>zne(de,I,L,j)),Y=Re(de=>rz(de,I,L,j)),G=Re(de=>Lne(de,I,L,j)),K=se,ee=cre(),Z=(n=i??M)!==null&&n!==void 0?n:!1,[re,V]=G5([K,Z]),Q=I==="axis"?Y:void 0;Cre(I,L,G,Q,D,Z);var X=U??ee;if(X==null||k==null||I==null)return null;var W=K??nk;Z||(W=nk),h&&W.length&&(W=q5(W.filter(de=>de.value!=null&&(de.hide!==!0||r.includeHidden)),b,Rre));var me=W.length>0,pe=x.createElement(EX,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:Z,coordinate:G,hasPayload:me,offset:g,position:_,reverseDirection:S,useTranslate3d:E,viewBox:k,wrapperStyle:A,lastBoundingBox:re,innerRef:V,hasPortalFromProps:!!U},kre(f,tk(tk({},r),{},{payload:W,label:Q,active:Z,activeIndex:D,coordinate:G,accessibilityLayer:P})));return x.createElement(x.Fragment,null,sE.createPortal(pe,X),Z&&x.createElement(lre,{cursor:C,tooltipEventType:I,coordinate:G,payload:W,index:D}))}var Tm=t=>null;Tm.displayName="Cell";function Dre(t,e,n){return(e=Lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vre{constructor(e){Dre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=qre(t,"string");return typeof e=="symbol"?e:e+""}function qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fre={cacheSize:2e3,enableCache:!0},lz=$re({},Fre),ik=new Vre(lz.cacheSize),Hre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ak="recharts_measurement_span";function Kre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var sk=(t,e)=>{try{var n=document.getElementById(ak);n||(n=document.createElement("span"),n.setAttribute("id",ak),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Hre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},rh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cm.isSsr)return{width:0,height:0};if(!lz.enableCache)return sk(e,n);var r=Kre(e,n),i=ik.get(r);if(i)return i;var s=sk(e,n);return ik.set(r,s),s},cz;function Yre(t,e,n){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zre=["cm","mm","pt","pc","in","Q","px"];function eie(t){return Zre.includes(t)}var Pu="NaN";function tie(t,e){return t*Jre[e]}class mr{static parse(e){var n,[,r,i]=(n=Qre.exec(e))!==null&&n!==void 0?n:[];return r==null?mr.NaN:new mr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,qi(e)&&(this.unit=""),n!==""&&!Xre.test(n)&&(this.num=NaN,this.unit=""),eie(n)&&(this.num=tie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new mr(NaN,""):new mr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new mr(NaN,""):new mr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mr(NaN,""):new mr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mr(NaN,""):new mr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qi(this.num)}}cz=mr;Yre(mr,"NaN",new cz(NaN,""));function uz(t){if(t==null||t.includes(Pu))return Pu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=ok.exec(e))!==null&&n!==void 0?n:[],l=mr.parse(r??""),u=mr.parse(s??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Pu;e=e.replace(ok,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,b]=(h=lk.exec(e))!==null&&h!==void 0?h:[],_=mr.parse(p??""),S=mr.parse(b??""),E=g==="+"?_.add(S):_.subtract(S);if(E.isNaN())return Pu;e=e.replace(lk,E.toString())}return e}var ck=/\(([^()]*)\)/;function nie(t){for(var e=t,n;(n=ck.exec(e))!=null;){var[,r]=n;e=e.replace(ck,uz(r))}return e}function rie(t){var e=t.replace(/\s+/g,"");return e=nie(e),e=uz(e),e}function iie(t){try{return rie(t)}catch{return Pu}}function iw(t){var e=iie(t.slice(5,-1));return e===Pu?"":e}var aie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sie=["dx","dy","angle","className","breakAll"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(null,arguments)}function uk(t,e){if(t==null)return{};var n,r,i=oie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dz=/[ \f\n\r\t\v\u2028\u2029]+/,fz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ut(e)||(n?i=e.toString().split(""):i=e.toString().split(dz));var s=i.map(u=>({word:u,width:rh(u,r).width})),l=n?0:rh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function lie(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var hz=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),mz=t=>t.reduce((e,n)=>e.width>n.width?e:n),cie="",dk=(t,e,n,r,i,s,l,u)=>{var f=t.slice(0,e),h=fz({breakAll:n,style:r,children:f+cie});if(!h)return[!1,[]];var p=hz(h.wordsWithComputedWidth,s,l,u),g=p.length>i||mz(p).width>Number(s);return[g,p]},uie=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:f}=t,h=Me(s),p=String(l),g=hz(e,r,n,i);if(!h||i)return g;var b=g.length>s||mz(g).width>Number(r);if(!b)return g;for(var _=0,S=p.length-1,E=0,A;_<=S&&E<=p.length-1;){var C=Math.floor((_+S)/2),$=C-1,[L,q]=dk(p,$,f,u,s,r,n,i),[U]=dk(p,C,f,u,s,r,n,i);if(!L&&!U&&(_=C+1),L&&U&&(S=C-1),!L&&U){A=q;break}E++}return A||g},fk=t=>{var e=Ut(t)?[]:t.toString().split(dz);return[{words:e,width:void 0}]},die=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!cm.isSsr){var u,f,h=fz({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,f=g}else return fk(r);return uie({breakAll:s,children:r,maxLines:l,style:i},u,f,e,!!n)}return fk(r)},pz="#808080",fie={angle:0,breakAll:!1,capHeight:"0.71em",fill:pz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Nd=x.forwardRef((t,e)=>{var n=Gt(t,fie),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=uk(n,aie),b=x.useMemo(()=>die({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:_,dy:S,angle:E,className:A,breakAll:C}=g,$=uk(g,sie);if(!Xa(r)||!Xa(i)||b.length===0)return null;var L=Number(r)+(Me(_)?_:0),q=Number(i)+(Me(S)?S:0);if(!Bt(L)||!Bt(q))return null;var U;switch(p){case"start":U=iw("calc(".concat(l,")"));break;case"middle":U=iw("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:U=iw("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(f){var N=b[0].width,{width:j}=g;z.push("scale(".concat(Me(j)&&Me(N)?j/N:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(L,", ").concat(q,")")),z.length&&($.transform=z.join(" ")),x.createElement("text",F_({},_n($),{ref:e,x:L,y:q,className:tt("recharts-text",A),textAnchor:h,fill:u.includes("url")?pz:u}),b.map((k,P)=>{var I=k.words.join(C?"":" ");return x.createElement("tspan",{x:L,dy:P===0?U:s,key:"".concat(I,"-").concat(P)},I)}))});Nd.displayName="Text";var hie=["labelRef"],mie=["content"];function hk(t,e){if(t==null)return{};var n,r,i=pie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(null,arguments)}var gz=x.createContext(null),bie=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,f=x.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return x.createElement(gz.Provider,{value:f},u)},vz=()=>{var t=x.useContext(gz),e=G0();return t||k3(e)},yz=x.createContext(null),xie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l,clockWise:u,children:f}=t,h=x.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l,clockWise:u}),[e,n,r,i,s,l,u]);return x.createElement(yz.Provider,{value:h},f)},bz=()=>{var t=x.useContext(yz),e=Re(wd);return t||e},wie=t=>{var{value:e,formatter:n}=t,r=Ut(t.children)?e:t.children;return typeof n=="function"?n(r):r},LA=t=>t!=null&&typeof t=="function",_ie=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Sie=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:b,clockWise:_}=i,S=(h+p)/2,E=_ie(g,b),A=E>=0?1:-1,C,$;switch(e){case"insideStart":C=g+A*s,$=_;break;case"insideEnd":C=b-A*s,$=!_;break;case"end":C=b+A*s,$=_;break;default:throw new Error("Unsupported position ".concat(e))}$=E<=0?$:!$;var L=wt(u,f,S,C),q=wt(u,f,S,C+($?1:-1)*359),U="M".concat(L.x,",").concat(L.y,`
    A`).concat(S,",").concat(S,",0,1,").concat($?0:1,`,
    `).concat(q.x,",").concat(q.y),z=Ut(t.id)?yh("recharts-radial-line-"):t.id;return x.createElement("text",Ts({},r,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:z,d:U})),x.createElement("textPath",{xlinkHref:"#".concat(z)},n))},Eie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:p,y:g}=wt(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:S}=wt(r,i,b,h);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},H_=t=>"cx"in t&&Me(t.cx),Aie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!H_(n)&&(s=n);var{x:l,y:u,upperWidth:f,lowerWidth:h,height:p}=e,g=l,b=l+(f-h)/2,_=(g+b)/2,S=(f+h)/2,E=g+f/2,A=p>=0?1:-1,C=A*r,$=A>0?"end":"start",L=A>0?"start":"end",q=f>=0?1:-1,U=q*r,z=q>0?"end":"start",N=q>0?"start":"end";if(i==="top"){var j={x:g+f/2,y:u-C,textAnchor:"middle",verticalAnchor:$};return xn(xn({},j),s?{height:Math.max(u-s.y,0),width:f}:{})}if(i==="bottom"){var k={x:b+h/2,y:u+p+C,textAnchor:"middle",verticalAnchor:L};return xn(xn({},k),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var P={x:_-U,y:u+p/2,textAnchor:z,verticalAnchor:"middle"};return xn(xn({},P),s?{width:Math.max(P.x-s.x,0),height:p}:{})}if(i==="right"){var I={x:_+S+U,y:u+p/2,textAnchor:N,verticalAnchor:"middle"};return xn(xn({},I),s?{width:Math.max(s.x+s.width-I.x,0),height:p}:{})}var D=s?{width:S,height:p}:{};return i==="insideLeft"?xn({x:_+U,y:u+p/2,textAnchor:N,verticalAnchor:"middle"},D):i==="insideRight"?xn({x:_+S-U,y:u+p/2,textAnchor:z,verticalAnchor:"middle"},D):i==="insideTop"?xn({x:g+f/2,y:u+C,textAnchor:"middle",verticalAnchor:L},D):i==="insideBottom"?xn({x:b+h/2,y:u+p-C,textAnchor:"middle",verticalAnchor:$},D):i==="insideTopLeft"?xn({x:g+U,y:u+C,textAnchor:N,verticalAnchor:L},D):i==="insideTopRight"?xn({x:g+f-U,y:u+C,textAnchor:z,verticalAnchor:L},D):i==="insideBottomLeft"?xn({x:b+U,y:u+p-C,textAnchor:N,verticalAnchor:$},D):i==="insideBottomRight"?xn({x:b+h-U,y:u+p-C,textAnchor:z,verticalAnchor:$},D):i&&typeof i=="object"&&(Me(i.x)||Fs(i.x))&&(Me(i.y)||Fs(i.y))?xn({x:l+Nr(i.x,S),y:u+Nr(i.y,p),textAnchor:"end",verticalAnchor:"end"},D):xn({x:E,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Tie={angle:0,offset:5,zIndex:Zt.label,position:"middle",textBreakAll:!1};function Ko(t){var e=Gt(t,Tie),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:f,labelRef:h}=e,p=bz(),g=vz(),b=r==="center"?g:p??g,_,S,E;if(n==null?_=b:H_(n)?_=n:_=k3(n),!_||Ut(i)&&Ut(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var A=xn(xn({},e),{},{viewBox:_});if(x.isValidElement(l)){var{labelRef:C}=A,$=hk(A,hie);return x.cloneElement(l,$)}if(typeof l=="function"){var{content:L}=A,q=hk(A,mie);if(S=x.createElement(l,q),x.isValidElement(S))return S}else S=wie(e);var U=_n(e);if(H_(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Sie(e,r,S,U,_);E=Eie(_,e.offset,e.position)}else E=Aie(e,_);return x.createElement(Hn,{zIndex:e.zIndex},x.createElement(Nd,Ts({ref:h,className:tt("recharts-label",u)},U,E,{textAnchor:lie(U.textAnchor)?U.textAnchor:E.textAnchor,breakAll:f}),S))}Ko.displayName="Label";var xz=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(Ko,Ts({key:"label-implicit"},r)):Xa(t)?x.createElement(Ko,Ts({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Ko?x.cloneElement(t,xn({key:"label-implicit"},r)):x.createElement(Ko,Ts({key:"label-implicit",content:t},r)):LA(t)?x.createElement(Ko,Ts({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Ko,Ts({},t,{key:"label-implicit"},r)):null};function jie(t){var{label:e,labelRef:n}=t,r=vz();return xz(e,r,n)||null}function Nie(t){var{label:e}=t,n=bz();return xz(e,n)||null}var aw={},sw={},pk;function Cie(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(sw)),sw}var ow={},gk;function Oie(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(ow)),ow}var vk;function Pie(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cie(),n=Oie(),r=pE();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(aw)),aw}var lw,yk;function Iie(){return yk||(yk=1,lw=Pie().last),lw}var Rie=Iie();const wz=ha(Rie);var kie=["valueAccessor"],Mie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(null,arguments)}function bk(t,e){if(t==null)return{};var n,r,i=Die(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Die(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lie=t=>Array.isArray(t.value)?wz(t.value):t.value,_z=x.createContext(void 0),vy=_z.Provider,Sz=x.createContext(void 0),zie=Sz.Provider;function Vie(){return x.useContext(_z)}function $ie(){return x.useContext(Sz)}function Dg(t){var{valueAccessor:e=Lie}=t,n=bk(t,kie),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,f=bk(n,Mie),h=Vie(),p=$ie(),g=h||p;return!g||!g.length?null:x.createElement(Hn,{zIndex:u??Zt.label},x.createElement(St,{className:"recharts-label-list"},g.map((b,_)=>{var S,E=Ut(r)?e(b,_):vt(b&&b.payload,r),A=Ut(s)?{}:{id:"".concat(s,"-").concat(_)};return x.createElement(Ko,Wv({key:"label-".concat(_)},_n(b),f,A,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}Dg.displayName="LabelList";function jm(t){var{label:e}=t;return e?e===!0?x.createElement(Dg,{key:"labelList-implicit"}):x.isValidElement(e)||LA(e)?x.createElement(Dg,{key:"labelList-implicit",content:e}):typeof e=="object"?x.createElement(Dg,Wv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Uie=["points","className","baseLinePoints","connectNulls"],xk;function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(null,arguments)}function Bie(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fie(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var wk=t=>t&&t.x===+t.x&&t.y===+t.y,Hie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{wk(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),wk(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ih=(t,e)=>{var n=Hie(t);e&&(n=[n.reduce((i,s)=>[...i,...s],[])]);var r=n.map(i=>i.reduce((s,l,u)=>ln(xk||(xk=Fie(["","","",",",""])),s,u===0?"M":"L",l.x,l.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},Kie=(t,e,n)=>{var r=ih(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(ih(Array.from(e).reverse(),n).slice(1))},Ez=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,s=Bie(t,Uie);if(!e||!e.length)return null;var l=tt("recharts-polygon",n);if(r&&r.length){var u=s.stroke&&s.stroke!=="none",f=Kie(e,r,i);return x.createElement("g",{className:l},x.createElement("path",Iu({},_n(s),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),u?x.createElement("path",Iu({},_n(s),{fill:"none",d:ih(e,i)})):null,u?x.createElement("path",Iu({},_n(s),{fill:"none",d:ih(r,i)})):null)}var h=ih(e,i);return x.createElement("path",Iu({},_n(s),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))};function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(null,arguments)}var zA=t=>{var{cx:e,cy:n,r,className:i}=t,s=tt("recharts-dot",i);return Me(e)&&Me(n)&&Me(r)?x.createElement("circle",K_({},Yt(t),mE(t),{className:s,cx:e,cy:n,r})):null},VA=t=>t.graphicalItems.polarItems,Yie=ae([qt,vm],oA),yy=ae([VA,dn,Yie],lA),Gie=ae([yy],cA),by=ae([Gie,mm],uA),Az=ae([by,dn,yy],fA);ae([by,dn,yy],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=vt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:vt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var _k=()=>{},Wie=ae([by,dn,yy,fy,qt],gA),Xie=ae([dn,mA,pA,_k,Wie,_k,nt,qt],vA),Tz=ae([dn,nt,by,Az,pm,qt,Xie],yA),jz=ae([Tz,dn,_l],xA),Qie=ae([dn,Tz,jz,qt],_A),$A=(t,e,n)=>{switch(e){case"angleAxis":return xd(t,n);case"radiusAxis":return gm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},UA=(t,e,n)=>{switch(e){case"angleAxis":return jee(t,n);case"radiusAxis":return Nee(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Cd=ae([$A,_l,Qie,UA],hy),Nz=ae([nt,Az,Sd,qt],SA),Od=ae([nt,$A,_l,Cd,jz,UA,_m,Nz,qt],OL),Jie=ae([Od],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}});ae([nt,$A,Cd,UA,_m,Nz,qt],IL);var Zie=(t,e)=>Od(t,"angleAxis",e,!1),eae=ae([Zie],t=>{if(t)return t.map(e=>e.coordinate)}),tae=(t,e)=>Od(t,"radiusAxis",e,!1),nae=ae([tae],t=>{if(t)return t.map(e=>e.coordinate)}),rae=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function iae(t,e){if(t==null)return{};var n,r,i=aae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(null,arguments)}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cae=(t,e,n,r)=>{var i="";return r.forEach((s,l)=>{var u=wt(e,n,t,s);l?i+="L ".concat(u.x,",").concat(u.y):i+="M ".concat(u.x,",").concat(u.y)}),i+="Z",i},uae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:s,radialLines:l}=t;if(!s||!s.length||!l)return null;var u=Mh({stroke:"#ccc"},Yt(t));return x.createElement("g",{className:"recharts-polar-grid-angle"},s.map(f=>{var h=wt(e,n,r,f),p=wt(e,n,i,f);return x.createElement("line",la({key:"line-".concat(f)},u,{x1:h.x,y1:h.y,x2:p.x,y2:p.y}))}))},Ek=t=>{var{cx:e,cy:n,radius:r}=t,i=Mh({stroke:"#ccc",fill:"none"},Yt(t));return x.createElement("circle",la({},i,{className:tt("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},Ak=t=>{var{radius:e}=t,n=Mh({stroke:"#ccc",fill:"none"},Yt(t));return x.createElement("path",la({},n,{className:tt("recharts-polar-grid-concentric-polygon",t.className),d:cae(e,t.cx,t.cy,t.polarAngles)}))},dae=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&x.createElement(Ek,la({},t,{radius:r})),i&&n!=="circle"&&x.createElement(Ak,la({},t,{radius:r})),e.map((s,l)=>{var u=l;return n==="circle"?x.createElement(Ek,la({key:u},t,{fill:"none",radius:s})):x.createElement(Ak,la({key:u},t,{fill:"none",radius:s}))}))},Cz=t=>{var e,n,r,i,s,l,u,f,h,{gridType:p="polygon",radialLines:g=!0,angleAxisId:b=0,radiusAxisId:_=0,cx:S,cy:E,innerRadius:A,outerRadius:C,polarAngles:$,polarRadius:L}=t,q=iae(t,rae),U=Re(wd),z=Re(D=>eae(D,b)),N=Re(D=>nae(D,_)),j=Array.isArray($)?$:z,k=Array.isArray(L)?L:N;if(j==null||k==null)return null;var P=Mh(Mh({cx:(e=(n=U?.cx)!==null&&n!==void 0?n:S)!==null&&e!==void 0?e:0,cy:(r=(i=U?.cy)!==null&&i!==void 0?i:E)!==null&&r!==void 0?r:0,innerRadius:(s=(l=U?.innerRadius)!==null&&l!==void 0?l:A)!==null&&s!==void 0?s:0,outerRadius:(u=(f=U?.outerRadius)!==null&&f!==void 0?f:C)!==null&&u!==void 0?u:0,polarAngles:j,polarRadius:k},q),{},{zIndex:(h=q.zIndex)!==null&&h!==void 0?h:Zt.grid}),{outerRadius:I}=P;return I<=0?null:x.createElement(Hn,{zIndex:P.zIndex},x.createElement("g",{className:"recharts-polar-grid"},x.createElement(dae,la({gridType:p,radialLines:g},P,{polarAngles:j,polarRadius:k})),x.createElement(uae,la({gridType:p,radialLines:g},P,{polarAngles:j,polarRadius:k}))))};Cz.displayName="PolarGrid";var cw={},uw={},Tk;function fae(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],s=r(i);for(let l=1;l<n.length;l++){const u=n[l],f=r(u);f>s&&(s=f,i=u)}return i}t.maxBy=e})(uw)),uw}var jk;function hae(){return jk||(jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fae(),n=R0(),r=gE();function i(s,l){if(s!=null)return e.maxBy(Array.from(s),r.iteratee(l??n.identity))}t.maxBy=i})(cw)),cw}var dw,Nk;function mae(){return Nk||(Nk=1,dw=hae().maxBy),dw}var pae=mae();const gae=ha(pae);var fw={},hw={},Ck;function vae(){return Ck||(Ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],s=r(i);for(let l=1;l<n.length;l++){const u=n[l],f=r(u);f<s&&(s=f,i=u)}return i}t.minBy=e})(hw)),hw}var Ok;function yae(){return Ok||(Ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vae(),n=R0(),r=gE();function i(s,l){if(s!=null)return e.minBy(Array.from(s),r.iteratee(l??n.identity))}t.minBy=i})(fw)),fw}var mw,Pk;function bae(){return Pk||(Pk=1,mw=yae().minBy),mw}var xae=bae();const wae=ha(xae);var _ae={radiusAxis:{},angleAxis:{}},Oz=ei({name:"polarAxis",initialState:_ae,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Sae,removeRadiusAxis:Eae,addAngleAxis:Aae,removeAngleAxis:Tae}=Oz.actions,jae=Oz.reducer,Nae=["cx","cy","angle","axisLine"],Cae=["angle","tickFormatter","stroke","tick"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(null,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pz(t,e){if(t==null)return{};var n,r,i=Rae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kae="radiusAxis";function Mae(t){var e=Dt();return x.useEffect(()=>(e(Sae(t)),()=>{e(Eae(t))})),null}var Dae=(t,e,n,r)=>{var{coordinate:i}=t;return wt(n,r,i,e)},Lae=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},zae=(t,e,n,r)=>{var i=gae(r,l=>l.coordinate||0),s=wae(r,l=>l.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:s?.coordinate||0,outerRadius:i?.coordinate||0,clockWise:!1}},Vae=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:s}=t,l=Pz(t,Nae),u=e.reduce((g,b)=>[Math.min(g[0],b.coordinate),Math.max(g[1],b.coordinate)],[1/0,-1/0]),f=wt(n,r,u[0],i),h=wt(n,r,u[1],i),p=Ps(Ps(Ps({},Yt(l)),{},{fill:"none"},Yt(s)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return x.createElement("line",Dh({className:"recharts-polar-radius-axis-line"},p))},$ae=(t,e,n)=>{var r;return x.isValidElement(t)?r=x.cloneElement(t,e):typeof t=="function"?r=t(e):r=x.createElement(Nd,Dh({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},Uae=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:s}=t,l=Pz(t,Cae),u=Lae(t.orientation),f=Yt(l),h=qs(s),p=e.map((g,b)=>{var _=Dae(g,t.angle,t.cx,t.cy),S=Ps(Ps(Ps(Ps({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(_.x,", ").concat(_.y,")")},f),{},{stroke:"none",fill:i},h),{},{index:b},_),{},{payload:g});return x.createElement(St,Dh({className:tt("recharts-polar-radius-axis-tick",Z3(s)),key:"tick-".concat(g.coordinate)},Pc(t,g,b)),$ae(s,S,r?r(g.value,b):g.value))});return x.createElement(St,{className:"recharts-polar-radius-axis-ticks"},p)},Bae=t=>{var{radiusAxisId:e}=t,n=Re(wd),r=Re(f=>Cd(f,"radiusAxis",e)),i=Re(f=>Od(f,"radiusAxis",e,!1));if(n==null||!i||!i.length||r==null)return null;var s=Ps(Ps({},t),{},{scale:r},n),{tick:l,axisLine:u}=s;return x.createElement(Hn,{zIndex:s.zIndex},x.createElement(St,{className:tt("recharts-polar-radius-axis",kae,s.className)},u&&Vae(s,i),l&&Uae(s,i),x.createElement(xie,zae(s.angle,s.cx,s.cy,i),x.createElement(Nie,{label:s.label}),s.children)))};function Iz(t){var e=Gt(t,Wr);return x.createElement(x.Fragment,null,x.createElement(Mae,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),x.createElement(Bae,e))}Iz.displayName="PolarRadiusAxis";var qae=["children"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(null,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Kae(t,"string");return typeof e=="symbol"?e:e+""}function Kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yae(t,e){if(t==null)return{};var n,r,i=Gae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kk=1e-5,Wae=Math.cos(kv(45)),Xae="angleAxis";function Qae(t){var e=Dt(),n=x.useMemo(()=>{var{children:s}=t,l=Yae(t,qae);return l},[t]),r=Re(s=>xd(s,n.id)),i=n===r;return x.useEffect(()=>(e(Aae(n)),()=>{e(Tae(n))}),[e,n]),i?t.children:null}var Jae=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:s,tickSize:l}=e,u=l||8,f=wt(n,r,i,t.coordinate),h=wt(n,r,i+(s==="inner"?-1:1)*u,t.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}},Zae=(t,e)=>{var n=Math.cos(kv(-t.coordinate));return n>kk?e==="outer"?"start":"end":n<-kk?e==="outer"?"end":"start":"middle"},ese=t=>{var e=Math.cos(kv(-t.coordinate)),n=Math.sin(kv(-t.coordinate));return Math.abs(e)<=Wae?n>0?"start":"end":"middle"},tse=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:s,ticks:l}=t;if(!s)return null;var u=Va(Va({},Yt(t)),{},{fill:"none"},Yt(s));if(i==="circle")return x.createElement(zA,Ac({className:"recharts-polar-angle-axis-line"},u,{cx:e,cy:n,r}));var f=l.map(h=>wt(e,n,r,h.coordinate));return x.createElement(Ez,Ac({className:"recharts-polar-angle-axis-line"},u,{points:f}))},nse=t=>{var{tick:e,tickProps:n,value:r}=t;return e?x.isValidElement(e)?x.cloneElement(e,n):typeof e=="function"?e(n):x.createElement(Nd,Ac({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},rse=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:s}=t,l=Yt(t),u=qs(e),f=Va(Va({},l),{},{fill:"none"},Yt(n)),h=s.map((p,g)=>{var b=Jae(p,t),_=Zae(p,t.orientation),S=ese(p),E=Va(Va(Va({},l),{},{textAnchor:_,verticalAnchor:S,stroke:"none",fill:i},u),{},{index:g,payload:p,x:b.x2,y:b.y2});return x.createElement(St,Ac({className:tt("recharts-polar-angle-axis-tick",Z3(e)),key:"tick-".concat(p.coordinate)},Pc(t,p,g)),n&&x.createElement("line",Ac({className:"recharts-polar-angle-axis-tick-line"},f,b)),x.createElement(nse,{tick:e,tickProps:E,value:r?r(p.value,g):p.value}))});return x.createElement(St,{className:"recharts-polar-angle-axis-ticks"},h)},ise=t=>{var{angleAxisId:e}=t,n=Re(wd),r=Re(u=>Cd(u,"angleAxis",e)),i=kn(),s=Re(u=>Jie(u,"angleAxis",e,i));if(n==null||!s||!s.length||r==null)return null;var l=Va(Va(Va({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:s});return x.createElement(Hn,{zIndex:l.zIndex},x.createElement(St,{className:tt("recharts-polar-angle-axis",Xae,l.className)},x.createElement(tse,l),x.createElement(rse,l)))};function Rz(t){var e=Gt(t,za);return x.createElement(Qae,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},x.createElement(ise,e))}Rz.displayName="PolarAngleAxis";function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ase(t,e,n){return(e=sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sse(t){var e=ose(t,"string");return typeof e=="symbol"?e:e+""}function ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lse=(t,e)=>e,BA=ae([VA,lse],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),cse=[],qA=(t,e,n)=>n?.length===0?cse:n,kz=ae([mm,BA,qA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>Dk(Dk({},e.presentationProps),s.props))),i!=null)return i}}),use=ae([kz,BA,qA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=vt(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:ns(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),dse=ae([kz,BA,qA,Un],(t,e,n,r)=>{if(!(e==null||t==null))return doe({offset:r,pieSettings:e,displayedData:t,cells:n})}),pw={exports:{}},Mt={};var Lk;function fse(){if(Lk)return Mt;Lk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case p:return E;case s:return E;default:return A}}case e:return A}}}return Mt.ContextConsumer=s,Mt.ContextProvider=l,Mt.Element=t,Mt.ForwardRef=u,Mt.Fragment=n,Mt.Lazy=g,Mt.Memo=p,Mt.Portal=e,Mt.Profiler=i,Mt.StrictMode=r,Mt.Suspense=f,Mt.SuspenseList=h,Mt.isContextConsumer=function(E){return S(E)===s},Mt.isContextProvider=function(E){return S(E)===l},Mt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Mt.isForwardRef=function(E){return S(E)===u},Mt.isFragment=function(E){return S(E)===n},Mt.isLazy=function(E){return S(E)===g},Mt.isMemo=function(E){return S(E)===p},Mt.isPortal=function(E){return S(E)===e},Mt.isProfiler=function(E){return S(E)===i},Mt.isStrictMode=function(E){return S(E)===r},Mt.isSuspense=function(E){return S(E)===f},Mt.isSuspenseList=function(E){return S(E)===h},Mt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},Mt.typeOf=S,Mt}var zk;function hse(){return zk||(zk=1,pw.exports=fse()),pw.exports}var mse=hse(),Vk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",$k=null,gw=null,Mz=t=>{if(t===$k&&Array.isArray(gw))return gw;var e=[];return x.Children.forEach(t,n=>{Ut(n)||(mse.isFragment(n)?e=e.concat(Mz(n.props.children)):e.push(n))}),gw=e,$k=t,e};function FA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Vk(i)):r=[Vk(e)],Mz(t).forEach(i=>{var s=xc(i,"type.displayName")||xc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var HA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,vw={},Uk;function pse(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(vw)),vw}var yw,Bk;function gse(){return Bk||(Bk=1,yw=pse().isPlainObject),yw}var vse=gse();const yse=ha(vse);var qk,Fk,Hk,Kk,Yk;function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return(e=xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(null,arguments)}function Bf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Xk=(t,e,n,r,i)=>{var s=n-r,l;return l=ln(qk||(qk=Bf(["M ",",",""])),t,e),l+=ln(Fk||(Fk=Bf(["L ",",",""])),t+n,e),l+=ln(Hk||(Hk=Bf(["L ",",",""])),t+n-s/2,e+i),l+=ln(Kk||(Kk=Bf(["L ",",",""])),t+n-s/2-r,e+i),l+=ln(Yk||(Yk=Bf(["L ",","," Z"])),t,e),l},_se={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sse=t=>{var e=Gt(t,_se),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,b=x.useRef(null),[_,S]=x.useState(-1),E=x.useRef(i),A=x.useRef(s),C=x.useRef(l),$=x.useRef(n),L=x.useRef(r),q=Rc(t,"trapezoid-");if(x.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var se=b.current.getTotalLength();se&&S(se)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var U=tt("recharts-trapezoid",u);if(!g)return x.createElement("g",null,x.createElement("path",Xv({},_n(e),{className:U,d:Xk(n,r,i,s,l)})));var z=E.current,N=A.current,j=C.current,k=$.current,P=L.current,I="0px ".concat(_===-1?1:_,"px"),D="".concat(_,"px 0px"),M=Y3(["strokeDasharray"],h,f);return x.createElement(Ic,{animationId:q,key:q,canBegin:_>0,duration:h,easing:f,isActive:g,begin:p},se=>{var Y=ht(z,i,se),G=ht(N,s,se),K=ht(j,l,se),ee=ht(k,n,se),Z=ht(P,r,se);b.current&&(E.current=Y,A.current=G,C.current=K,$.current=ee,L.current=Z);var re=se>0?{transition:M,strokeDasharray:D}:{strokeDasharray:I};return x.createElement("path",Xv({},_n(e),{className:U,d:Xk(ee,Z,Y,G,K),ref:b,style:Wk(Wk({},re),e.style)}))})},Ese=["option","shapeType","activeClassName"];function Ase(t,e){if(t==null)return{};var n,r,i=Tse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jse(t,e,n){return(e=Nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nse(t){var e=Cse(t,"string");return typeof e=="symbol"?e:e+""}function Cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t,e){return Qv(Qv({},e),t)}function Pse(t,e){return t==="symbols"}function Jk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(Q3,n);case"trapezoid":return x.createElement(Sse,n);case"sector":return x.createElement(n6,n);case"symbols":if(Pse(e))return x.createElement(hE,n);break;case"curve":return x.createElement(Vu,n);default:return null}}function Ise(t){return x.isValidElement(t)?t.props:t}function KA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Ase(t,Ese),s;if(x.isValidElement(e))s=x.cloneElement(e,Qv(Qv({},i),Ise(e)));else if(typeof e=="function")s=e(i,i.index);else if(yse(e)&&typeof e!="boolean"){var l=Ose(e,i);s=x.createElement(Jk,{shapeType:n,elementProps:l})}else{var u=i;s=x.createElement(Jk,{shapeType:n,elementProps:u})}return i.isActive?x.createElement(St,{className:r},s):s}var YA=(t,e,n)=>{var r=Dt();return(i,s)=>l=>{t?.(i,s,l),r(zL({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},GA=t=>{var e=Dt();return(n,r)=>i=>{t?.(n,r,i),e(Ite())}},WA=(t,e,n)=>{var r=Dt();return(i,s)=>l=>{t?.(i,s,l),r(Rte({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Nm(t){var{tooltipEntrySettings:e}=t,n=Dt(),r=kn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(Nte(e)):i.current!==e&&n(Cte({prev:i.current,next:e})),i.current=e)},[e,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(Ote(i.current)),i.current=null)},[n]),null}function XA(t){var{legendPayload:e}=t,n=Dt(),r=kn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(q3(e)):i.current!==e&&n(F3({prev:i.current,next:e})),i.current=e)},[n,r,e]),x.useLayoutEffect(()=>()=>{i.current&&(n(H3(i.current)),i.current=null)},[n]),null}function Dz(t){var{legendPayload:e}=t,n=Dt(),r=Re(nt),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(q3(e)):i.current!==e&&n(F3({prev:i.current,next:e})),i.current=e)},[n,r,e]),x.useLayoutEffect(()=>()=>{i.current&&(n(H3(i.current)),i.current=null)},[n]),null}var bw,Rse=()=>{var[t]=x.useState(()=>yh("uid-"));return t},kse=(bw=N8.useId)!==null&&bw!==void 0?bw:Rse;function Mse(t,e){var n=kse();return e||(t?"".concat(t,"-").concat(n):n)}var Dse=x.createContext(void 0),Cm=t=>{var{id:e,type:n,children:r}=t,i=Mse("recharts-".concat(n),e);return x.createElement(Dse.Provider,{value:i},r(i))},Lse={cartesianItems:[],polarItems:[]},Lz=ei({name:"graphicalItems",initialState:Lse,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(t,e){var n=ca(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:an()},removePolarGraphicalItem:{reducer(t,e){var n=ca(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:zse,replaceCartesianGraphicalItem:Vse,removeCartesianGraphicalItem:$se,addPolarGraphicalItem:Use,removePolarGraphicalItem:Bse}=Lz.actions,qse=Lz.reducer,Fse=t=>{var e=Dt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(zse(t)):n.current!==t&&e(Vse({prev:n.current,next:t})),n.current=t},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(e($se(n.current)),n.current=null)},[e]),null},QA=x.memo(Fse);function zz(t){var e=Dt();return x.useLayoutEffect(()=>(e(Use(t)),()=>{e(Bse(t))}),[e,t]),null}var Hse=["key"],Kse=["onMouseEnter","onClick","onMouseLeave"],Yse=["id"],Gse=["id"];function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xse(t){var e=Qse(t,"string");return typeof e=="symbol"?e:e+""}function Qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(null,arguments)}function xy(t,e){if(t==null)return{};var n,r,i=Jse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zse(t){var e=x.useMemo(()=>FA(t.children,Tm),[t.children]),n=Re(r=>use(r,t.id,e));return n==null?null:x.createElement(Dz,{legendPayload:n})}var eoe=x.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:ns(u,e),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return x.createElement(Nm,{tooltipEntrySettings:g})}),toe=(t,e)=>t>e?"start":t<e?"end":"middle",noe=(t,e,n)=>Nr(typeof e=="function"?e(t):e,n,n*.8),roe=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=J3(s,l),f=i+Nr(t.cx,s,s/2),h=r+Nr(t.cy,l,l/2),p=Nr(t.innerRadius,u,0),g=noe(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:b}},ioe=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function aoe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var soe=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var n=tt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=xy(e,Hse);return x.createElement(Vu,pl({},i,{type:"linear",className:n}))},ooe=(t,e,n)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),x.isValidElement(r)))return r;var i=tt("recharts-pie-label-text",aoe(t));return x.createElement(Nd,pl({},e,{alignmentBaseline:"middle",className:i}),r)};function loe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=Yt(n),f=qs(i),h=qs(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,_)=>{var S=(b.startAngle+b.endAngle)/2,E=wt(b.cx,b.cy,b.outerRadius+p,S),A=gn(gn(gn(gn({},u),b),{},{stroke:"none"},f),{},{index:_,textAnchor:toe(E.x,b.cx)},E),C=gn(gn(gn(gn({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:_,points:[wt(b.cx,b.cy,b.outerRadius,S),E],key:"line"});return x.createElement(Hn,{zIndex:Zt.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},x.createElement(St,null,s&&soe(s,C),ooe(i,A,vt(b,l))))});return x.createElement(St,{className:"recharts-pie-labels"},g)}function coe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(jm,{label:i}):x.createElement(loe,{sectors:e,props:n,showLabels:r})}function uoe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=Re(ml),f=Re(PA),h=Re(yne),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,_=xy(i,Kse),S=YA(p,i.dataKey,l),E=GA(b),A=WA(g,i.dataKey,l);return e==null||e.length===0?null:x.createElement(x.Fragment,null,e.map((C,$)=>{if(C?.startAngle===0&&C?.endAngle===0&&e.length!==1)return null;var L=h==null||h===l,q=String($)===u&&(f==null||i.dataKey===f)&&L,U=u?r:null,z=n&&q?n:U,N=gn(gn({},C),{},{stroke:C.stroke,tabIndex:-1,[C3]:$,[O3]:l});return x.createElement(St,pl({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat($),tabIndex:-1,className:"recharts-pie-sector"},Pc(_,C,$),{onMouseEnter:S(C,$),onMouseLeave:E(C,$),onClick:A(C,$)}),x.createElement(KA,pl({option:s??z,index:$,shapeType:"sector",isActive:q},N)))}))}function doe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),_=ioe(u,f),S=Math.abs(_),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(z=>vt(z,h,0)!==0).length,C=(S>=360?A:A-1)*E,$=S-A*b-C,L=r.reduce((z,N)=>{var j=vt(N,h,0);return z+(Me(j)?j:0)},0),q;if(L>0){var U;q=r.map((z,N)=>{var j=vt(z,h,0),k=vt(z,p,N),P=roe(n,s,z),I=(Me(j)?j:0)/L,D,M=gn(gn({},z),i&&i[N]&&i[N].props);N?D=U.endAngle+Zn(_)*E*(j!==0?1:0):D=u;var se=D+Zn(_)*((j!==0?b:0)+I*$),Y=(D+se)/2,G=(P.innerRadius+P.outerRadius)/2,K=[{name:k,value:j,payload:M,dataKey:h,type:g,graphicalItemId:n.id}],ee=wt(P.cx,P.cy,G,Y);return U=gn(gn(gn(gn({},n.presentationProps),{},{percent:I,cornerRadius:typeof l=="string"?parseFloat(l):l,name:k,tooltipPayload:K,midAngle:Y,middleRadius:G,tooltipPosition:ee},M),P),{},{value:j,dataKey:h,startAngle:D,endAngle:se,payload:M,paddingAngle:Zn(_)*E}),U})}return q}function foe(t){var{showLabels:e,sectors:n,children:r}=t,i=x.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return x.createElement(zie,{value:e?i:void 0},r)}function hoe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,_=Rc(e,"recharts-pie-"),S=n.current,[E,A]=x.useState(!1),C=x.useCallback(()=>{typeof b=="function"&&b(),A(!1)},[b]),$=x.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return x.createElement(foe,{showLabels:!E,sectors:i},x.createElement(Ic,{animationId:_,begin:l,duration:u,isActive:s,easing:f,onAnimationStart:$,onAnimationEnd:C,key:_},L=>{var q=[],U=i&&i[0],z=U?.startAngle;return i?.forEach((N,j)=>{var k=S&&S[j],P=j>0?xc(N,"paddingAngle",0):0;if(k){var I=ht(k.endAngle-k.startAngle,N.endAngle-N.startAngle,L),D=gn(gn({},N),{},{startAngle:z+P,endAngle:z+I+P});q.push(D),z=D.endAngle}else{var{endAngle:M,startAngle:se}=N,Y=ht(0,M-se,L),G=gn(gn({},N),{},{startAngle:z+P,endAngle:z+Y+P});q.push(G),z=G.endAngle}}),n.current=q,x.createElement(St,null,x.createElement(uoe,{sectors:q,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),x.createElement(coe,{showLabels:!E,sectors:i,props:e}),e.children)}var moe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Zt.area};function poe(t){var{id:e}=t,n=xy(t,Yse),{hide:r,className:i,rootTabIndex:s}=t,l=x.useMemo(()=>FA(t.children,Tm),[t.children]),u=Re(p=>dse(p,e,l)),f=x.useRef(null),h=tt("recharts-pie",i);return r||u==null?(f.current=null,x.createElement(St,{tabIndex:s,className:h})):x.createElement(Hn,{zIndex:t.zIndex},x.createElement(eoe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),x.createElement(St,{tabIndex:s,className:h},x.createElement(hoe,{props:gn(gn({},n),{},{sectors:u}),previousSectorsRef:f,id:e})))}function Vz(t){var e=Gt(t,moe),{id:n}=e,r=xy(e,Gse),i=Yt(r);return x.createElement(Cm,{id:n,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(zz,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),x.createElement(Zse,pl({},r,{id:s})),x.createElement(poe,pl({},r,{id:s}))))}Vz.displayName="Pie";var goe=["points"];function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e,n){return(e=yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yoe(t){var e=boe(t,"string");return typeof e=="symbol"?e:e+""}function boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(null,arguments)}function xoe(t,e){if(t==null)return{};var n,r,i=woe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function woe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _oe(t){var{option:e,dotProps:n,className:r}=t;if(x.isValidElement(e))return x.cloneElement(e,n);if(typeof e=="function")return e(n);var i=tt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=xoe(s,goe);return x.createElement(zA,Jv({},u,{className:i}))}function Soe(t,e){return t==null?!1:e?!0:t.length===1}function JA(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:f,zIndex:h=Zt.scatter}=t;if(!Soe(e,n))return null;var p=HA(n),g=DH(n),b=e.map((S,E)=>{var A,C,$=xw(xw(xw({r:3},l),g),{},{index:E,cx:(A=S.x)!==null&&A!==void 0?A:void 0,cy:(C=S.y)!==null&&C!==void 0?C:void 0,dataKey:s,value:S.value,payload:S.payload,points:e});return x.createElement(_oe,{key:"dot-".concat(E),option:n,dotProps:$,className:i})}),_={};return u&&f!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),x.createElement(Hn,{zIndex:h},x.createElement(St,Jv({className:r},_),b))}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){Eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e,n){return(e=Aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aoe(t){var e=Toe(t,"string");return typeof e=="symbol"?e:e+""}function Toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $z=0,joe={xAxis:{},yAxis:{},zAxis:{}},Uz=ei({name:"cartesianAxis",initialState:joe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:an()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:an()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:an()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:an()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:an()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:an()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=nM(nM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Noe,replaceXAxis:Coe,removeXAxis:Ooe,addYAxis:Poe,replaceYAxis:Ioe,removeYAxis:Roe,addZAxis:Mpe,replaceZAxis:Dpe,removeZAxis:Lpe,updateYAxisWidth:koe}=Uz.actions,Moe=Uz.reducer,Doe=ae([Un],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Loe=ae([Doe,to,no],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),wy=()=>Re(Loe),zoe=()=>Re(Sne);function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Voe(t,e,n){return(e=$oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $oe(t){var e=Uoe(t,"string");return typeof e=="symbol"?e:e+""}function Uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Boe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=ww(ww(ww({},u),qs(i)),mE(i)),h;return x.isValidElement(i)?h=x.cloneElement(i,f):typeof i=="function"?h=i(f):h=x.createElement(zA,f),x.createElement(St,{className:"recharts-active-dot",clipPath:l},h)};function Zv(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=Zt.activeDot}=t,u=Re(ml),f=zoe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return Ut(h)?null:x.createElement(Hn,{zIndex:l},x.createElement(Boe,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qoe(t,e,n){return(e=Foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=Hoe(t,"string");return typeof e=="symbol"?e:e+""}function Hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bz=(t,e)=>Cd(t,"radiusAxis",e),Koe=ae([Bz],t=>{if(t!=null)return{scale:t}}),Yoe=ae([gm,Bz],(t,e)=>{if(!(t==null||e==null))return e0(e0({},t),{},{scale:e})}),Goe=(t,e,n,r)=>Od(t,"radiusAxis",e,r),qz=(t,e,n)=>xd(t,n),Fz=(t,e,n)=>Cd(t,"angleAxis",n),Woe=ae([qz,Fz],(t,e)=>{if(!(t==null||e==null))return e0(e0({},t),{},{scale:e})}),Xoe=(t,e,n,r)=>Od(t,"angleAxis",n,r),Qoe=ae([qz,Fz,wd],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Joe=(t,e,n,r,i)=>i,Zoe=ae([nt,Yoe,Goe,Woe,Xoe],(t,e,n,r,i)=>pa(t,"radiusAxis")?Ja(e,n,!1):Ja(r,i,!1)),ele=ae([VA,Joe],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n?.dataKey}}),tle=ae([Koe,Qoe,mm,ele,Zoe],(t,e,n,r,i)=>{var{chartData:s,dataStartIndex:l,dataEndIndex:u}=n;if(!(t==null||e==null||s==null||i==null||r==null)){var f=s.slice(l,u+1);return dle({radiusAxis:t,angleAxis:e,displayedData:f,dataKey:r,bandSize:i})}}),nle=["id"];function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(null,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return(e=ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ale(t,"string");return typeof e=="symbol"?e:e+""}function ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t,e){if(t==null)return{};var n,r,i=ole(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ole(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZA(t,e){return t&&t!=="none"?t:e}var lle=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:ZA(r,i),value:ns(n,e),payload:t}]},cle=x.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,tooltipType:u,id:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:ns(s,e),hide:l,type:u,color:ZA(n,i),unit:"",graphicalItemId:f}};return x.createElement(Nm,{tooltipEntrySettings:h})});function ule(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n,{id:s}=n,l=sle(n,nle),u=Yt(l);return x.createElement(JA,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:u})}function dle(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:s}=t,{cx:l,cy:u}=n,f=!1,h=[],p=n.type!=="number"?s??0:0;r.forEach((b,_)=>{var S=vt(b,n.dataKey,_),E=vt(b,i),A=n.scale(S)+p,C=Array.isArray(E)?wz(E):E,$=Ut(C)?0:e.scale(C);Array.isArray(E)&&E.length>=2&&(f=!0),h.push(Jr(Jr({},wt(l,u,$,A)),{},{name:S,value:E,cx:l,cy:u,radius:$,angle:A,payload:b}))});var g=[];return f&&h.forEach(b=>{if(Array.isArray(b.value)){var _=b.value[0],S=Ut(_)?0:e.scale(_);g.push(Jr(Jr({},b),{},{radius:S},wt(l,u,S,b.angle)))}else g.push(b)}),{points:h,isRange:f,baseLinePoints:g}}function fle(t){var{showLabels:e,points:n,children:r}=t,i=n.map(s=>{var l,u={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Jr(Jr({},u),{},{value:(l=s.value)!==null&&l!==void 0?l:"",payload:s.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return x.createElement(vy,{value:e?i:void 0},r)}function hle(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:s,connectNulls:l}=r,u=p=>{var{onMouseEnter:g}=r;g&&g(r,p)},f=p=>{var{onMouseLeave:g}=r;g&&g(r,p)},h;return x.isValidElement(i)?h=x.cloneElement(i,Jr(Jr({},r),{},{points:e})):typeof i=="function"?h=i(Jr(Jr({},r),{},{points:e})):h=x.createElement(Ez,Lh({},_n(r),{onMouseEnter:u,onMouseLeave:f,points:e,baseLinePoints:s?n:void 0,connectNulls:l})),x.createElement(St,{className:"recharts-radar-polygon"},h,x.createElement(ule,{props:r,points:e}))}var sM=(t,e,n)=>(r,i)=>{var s=t&&t[Math.floor(i*e)];return s?Jr(Jr({},r),{},{x:ht(s.x,r.x,n),y:ht(s.y,r.y,n)}):Jr(Jr({},r),{},{x:ht(r.cx,r.x,n),y:ht(r.cy,r.y,n)})};function mle(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:s,isAnimationActive:l,animationBegin:u,animationDuration:f,animationEasing:h,onAnimationEnd:p,onAnimationStart:g}=e,b=n.current,_=r.current,S=b?b.length/i.length:1,E=_?_.length/s.length:1,A=Rc(e,"recharts-radar-"),[C,$]=x.useState(!1),L=!C,q=x.useCallback(()=>{typeof p=="function"&&p(),$(!1)},[p]),U=x.useCallback(()=>{typeof g=="function"&&g(),$(!0)},[g]);return x.createElement(fle,{showLabels:L,points:i},x.createElement(Ic,{animationId:A,begin:u,duration:f,isActive:l,easing:h,key:"radar-".concat(A),onAnimationEnd:q,onAnimationStart:U},z=>{var N=z===1?i:i.map(sM(b,S,z)),j=z===1?s:s?.map(sM(_,E,z));return z>0&&(n.current=N,r.current=j),x.createElement(hle,{points:N,baseLinePoints:j,props:e})}),x.createElement(jm,{label:e.label}),e.children)}function ple(t){var e=x.useRef(void 0),n=x.useRef(void 0);return x.createElement(mle,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var gle={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Zt.area};function vle(t){var{hide:e,className:n,points:r}=t;if(e)return null;var i=tt("recharts-radar",n);return x.createElement(Hn,{zIndex:t.zIndex},x.createElement(St,{className:i},x.createElement(ple,t)),x.createElement(Zv,{points:r,mainColor:ZA(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function yle(t){var e=kn(),n=Re(r=>tle(r,t.radiusAxisId,t.angleAxisId,e,t.id));return n?.points==null?null:x.createElement(vle,Lh({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}function Y_(t){var e=Gt(t,gle);return x.createElement(Cm,{id:e.id,type:"radar"},n=>x.createElement(x.Fragment,null,x.createElement(zz,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),x.createElement(Dz,{legendPayload:lle(e)}),x.createElement(cle,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),x.createElement(yle,Lh({},e,{id:n}))))}Y_.displayName="Radar";var oM=(t,e,n)=>{var r=n??t;if(!Ut(r))return Nr(r,e,0)},ble=(t,e,n)=>{var r={},i=t.filter(ly),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,b=g.map(S=>S.dataKey),_=oM(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:_}}),f=s.map(h=>{var p=[h.dataKey].filter(b=>b!=null),g=oM(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...f]};function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=_le(t,"string");return typeof e=="symbol"?e:e+""}function _le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sle(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Nr(t,n,0,!0),u,f=[];if(Bt(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((C,$)=>C+($.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,_={offset:b-l,size:0};u=r.reduce((C,$)=>{var L,q={stackId:$.stackId,dataKeys:$.dataKeys,position:{offset:_.offset+_.size+l,size:h?p:(L=$.barSize)!==null&&L!==void 0?L:0}},U=[...C,q];return _=U[U.length-1].position,U},f)}else{var S=Nr(e,n,0,!0);n-2*S-(s-1)*l<=0&&(l=0);var E=(n-2*S-(s-1)*l)/s;E>1&&(E>>=0);var A=Bt(i)?Math.min(E,i):E;u=r.reduce((C,$,L)=>[...C,{stackId:$.stackId,dataKeys:$.dataKeys,position:{offset:S+(E+l)*L+(E-A)/2,size:A}}],f)}return u}}var Ele=(t,e,n,r,i,s,l)=>{var u=Ut(l)?e:l,f=Sle(n,r,i!==s?i:s,t,u);return i!==s&&f!=null&&(f=f.map(h=>bg(bg({},h),{},{position:bg(bg({},h.position),{},{offset:h.position.offset-i/2})}))),f},Ale=(t,e)=>{var n=oy(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function Tle(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Bt(t.zIndex)?t.zIndex:e}var Hz=t=>{var{chartData:e}=t,n=Dt(),r=kn();return x.useEffect(()=>r?()=>{}:(n(JR(e)),()=>{n(JR(void 0))}),[e,n,r]),null},cM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Kz=ei({name:"brush",initialState:cM,reducers:{setBrushSettings(t,e){return e.payload==null?cM:e.payload}}}),{setBrushSettings:zpe}=Kz.actions,jle=Kz.reducer;function Nle(t,e,n){return(e=Cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class eT{static create(e){return new eT(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Nle(eT,"EPS",1e-4);function Ple(t){return(t%180+180)%180}var Ile=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ple(i),l=s*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Rle={dots:[],areas:[],lines:[]},Yz=ei({name:"referenceElements",initialState:Rle,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ca(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ca(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ca(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Vpe,removeDot:$pe,addArea:Upe,removeArea:Bpe,addLine:qpe,removeLine:Fpe}=Yz.actions,kle=Yz.reducer,Mle=x.createContext(void 0),Dle=t=>{var{children:e}=t,[n]=x.useState("".concat(yh("recharts"),"-clip")),r=wy();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return x.createElement(Mle.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function Gz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Lle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ile(r,n)}function zle(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function zh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Vle(t,e){return Gz(t,e+1)}function $le(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,f=0,h=1,p=l,g=function(){var S=r?.[f];if(S===void 0)return{v:Gz(r,h)};var E=f,A,C=()=>(A===void 0&&(A=n(S,E)),A),$=S.coordinate,L=f===0||zh(t,$,C,p,u);L||(f=0,p=l,h+=1),L&&(p=$+t*(C()/2+i),f+=h)},b;h<=s.length;)if(b=g(),b)return b.v;return[]}function Ule(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:f}=e,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,b=!0,_=function(){var $=r[S],L=S,q,U=()=>(q===void 0&&(q=n($,L)),q),z=$.coordinate,N=S===p||zh(t,z,U,g,f);if(!N)return b=!1,1;N&&(g=z+t*(U()/2+i))},S=p;S<l&&!_();S+=h);if(b){for(var E=[],A=p;A<l;A+=h)E.push(r[A]);return E}}return[]}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return(e=qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hle(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:f}=e,h=function(b){var _=s[b],S,E=()=>(S===void 0&&(S=n(_,b)),S);if(b===l-1){var A=t*(_.coordinate+t*E()/2-f);s[b]=_=Sr(Sr({},_),{},{tickCoord:A>0?_.coordinate-A*t:_.coordinate})}else s[b]=_=Sr(Sr({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=zh(t,_.tickCoord,E,u,f);C&&(f=_.tickCoord-t*(E()/2+i),s[b]=Sr(Sr({},_),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Kle(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:f,end:h}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-h);if(l[u-1]=p=Sr(Sr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var _=zh(t,p.tickCoord,()=>g,f,h);_&&(h=p.tickCoord-t*(g/2+i),l[u-1]=Sr(Sr({},p),{},{isShow:!0}))}}for(var S=s?u-1:u,E=function($){var L=l[$],q,U=()=>(q===void 0&&(q=n(L,$)),q);if($===0){var z=t*(L.coordinate-t*U()/2-f);l[$]=L=Sr(Sr({},L),{},{tickCoord:z<0?L.coordinate-z*t:L.coordinate})}else l[$]=L=Sr(Sr({},L),{},{tickCoord:L.coordinate});if(L.tickCoord!=null){var N=zh(t,L.tickCoord,U,f,h);N&&(f=L.tickCoord+t*(U()/2+i),l[$]=Sr(Sr({},L),{},{isShow:!0}))}},A=0;A<S;A++)E(A);return l}function tT(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Me(f)||cm.isSsr){var b;return(b=Vle(i,Me(f)?f:0))!==null&&b!==void 0?b:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",E=p&&S==="width"?rh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(L,q)=>{var U=typeof h=="function"?h(L.value,q):L.value;return S==="width"?Lle(rh(U,{fontSize:e,letterSpacing:n}),E,g):rh(U,{fontSize:e,letterSpacing:n})[S]},C=i.length>=2?Zn(i[1].coordinate-i[0].coordinate):1,$=zle(s,C,S);return f==="equidistantPreserveStart"?$le(C,$,A,i,l):f==="equidistantPreserveEnd"?Ule(C,$,A,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=Kle(C,$,A,i,l,f==="preserveStartEnd"):_=Hle(C,$,A,i,l),_.filter(L=>L.isShow))}var Yle=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+s,h=l+f+u+(n?r:0);return Math.round(h)}return 0},Gle=["axisLine","width","height","className","hide","ticks","axisType"];function Wle(t,e){if(t==null)return{};var n,r,i=Xle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(null,arguments)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qle(t,e,n){return(e=Jle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zt.axis};function ece(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=On(On(On({},f),Yt(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=On(On({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=On(On({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return x.createElement("line",Tc({},h,{className:tt("recharts-cartesian-axis-line",xc(u,"className"))}))}function tce(t,e,n,r,i,s,l,u,f){var h,p,g,b,_,S,E=u?-1:1,A=t.tickSize||l,C=Me(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,b=n+ +!u*i,g=b-E*A,S=g-E*f,_=C;break;case"left":g=b=t.coordinate,p=e+ +!u*r,h=p-E*A,_=h-E*f,S=C;break;case"right":g=b=t.coordinate,p=e+ +u*r,h=p+E*A,_=h+E*f,S=C;break;default:h=p=t.coordinate,b=n+ +u*i,g=b+E*A,S=g+E*f,_=C;break}return{line:{x1:h,y1:g,x2:p,y2:b},tick:{x:_,y:S}}}function nce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function rce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ice(t){var{option:e,tickProps:n,value:r}=t,i,s=tt(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,On(On({},n),{},{className:s}));else if(typeof e=="function")i=e(On(On({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=tt(l,e?.className)),i=x.createElement(Nd,Tc({},n,{className:l}),r)}return i}var ace=x.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:g,x:b,y:_,width:S,height:E,tickSize:A,tickMargin:C,fontSize:$,letterSpacing:L,getTicksConfig:q,events:U,axisType:z}=t,N=tT(On(On({},q),{},{ticks:n}),$,L),j=nce(p,g),k=rce(p,g),P=Yt(q),I=qs(r),D={};typeof i=="object"&&(D=i);var M=On(On({},P),{},{fill:"none"},D),se=N.map(K=>On({entry:K},tce(K,b,_,S,E,p,A,g,C))),Y=se.map(K=>{var{entry:ee,line:Z}=K;return x.createElement(St,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&x.createElement("line",Tc({},M,Z,{className:tt("recharts-cartesian-axis-tick-line",xc(i,"className"))})))}),G=se.map((K,ee)=>{var{entry:Z,tick:re}=K,V=On(On(On(On({textAnchor:j,verticalAnchor:k},P),{},{stroke:"none",fill:s},I),re),{},{index:ee,payload:Z,visibleTicksCount:N.length,tickFormatter:l,padding:f},h);return x.createElement(St,Tc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},Pc(U,Z,ee)),r&&x.createElement(ice,{option:r,tickProps:V,value:"".concat(typeof l=="function"?l(Z.value,ee):Z.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},G.length>0&&x.createElement(Hn,{zIndex:Zt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},G)),Y.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},Y))}),sce=x.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:f}=t,h=Wle(t,Gle),[p,g]=x.useState(""),[b,_]=x.useState(""),S=x.useRef(null);x.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Yle({ticks:S.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=x.useCallback(A=>{if(A){var C=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=C;var $=C[0];if($){var L=window.getComputedStyle($),q=L.fontSize,U=L.letterSpacing;(q!==p||U!==b)&&(g(q),_(U))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Hn,{zIndex:t.zIndex},x.createElement(St,{className:tt("recharts-cartesian-axis",s)},x.createElement(ece,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Yt(t)}),x.createElement(ace,{ref:E,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),x.createElement(bie,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},x.createElement(jie,{label:t.label,labelRef:t.labelRef}),t.children)))}),nT=x.forwardRef((t,e)=>{var n=Gt(t,Ds);return x.createElement(sce,Tc({},n,{ref:e}))});nT.displayName="CartesianAxis";var oce=["x1","y1","x2","y2","key"],lce=["offset"],cce=["xAxisId","yAxisId"],uce=["xAxisId","yAxisId"];function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dce(t,e,n){return(e=fce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=hce(t,"string");return typeof e=="symbol"?e:e+""}function hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(null,arguments)}function t0(t,e){if(t==null)return{};var n,r,i=mce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return x.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Wz(t){var{option:e,lineItemProps:n}=t,r;if(x.isValidElement(e))r=x.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:f,key:h}=n,p=t0(n,oce),g=(i=Yt(p))!==null&&i!==void 0?i:{},{offset:b}=g,_=t0(g,lce);r=x.createElement("line",ac({},_,{x1:s,y1:l,x2:u,y2:f,fill:"none",key:h}))}return r}function gce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=t0(t,cce),f=i.map((h,p)=>{var g=Tr(Tr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return x.createElement(Wz,{key:"line-".concat(p),option:r,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function vce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=t0(t,uce),f=i.map((h,p)=>{var g=Tr(Tr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return x.createElement(Wz,{option:r,lineItemProps:g,key:"line-".concat(p)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function yce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],S=_?i+l-g:h[b+1]-g;if(S<=0)return null;var E=b%e.length;return x.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:S,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function bce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],S=_?i+l-g:h[b+1]-g;if(S<=0)return null;var E=b%n.length;return x.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var xce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return A3(tT(Tr(Tr(Tr({},Ds),n),{},{ticks:T3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},wce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return A3(tT(Tr(Tr(Tr({},Ds),n),{},{ticks:T3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},_ce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zt.grid};function _y(t){var e=TE(),n=jE(),r=M3(),i=Tr(Tr({},Gt(t,_ce)),{},{x:Me(t.x)?t.x:r.left,y:Me(t.y)?t.y:r.top,width:Me(t.width)?t.width:r.width,height:Me(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:_}=i,S=kn(),E=Re(k=>$R(k,"xAxis",s,S)),A=Re(k=>$R(k,"yAxis",l,S));if(!Qa(h)||!Qa(p)||!Me(u)||!Me(f))return null;var C=i.verticalCoordinatesGenerator||xce,$=i.horizontalCoordinatesGenerator||wce,{horizontalPoints:L,verticalPoints:q}=i;if((!L||!L.length)&&typeof $=="function"){var U=b&&b.length,z=$({yAxis:A?Tr(Tr({},A),{},{ticks:U?b:A.ticks}):void 0,width:e??h,height:n??p,offset:r},U?!0:g);Av(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(L=z)}if((!q||!q.length)&&typeof C=="function"){var N=_&&_.length,j=C({xAxis:E?Tr(Tr({},E),{},{ticks:N?_:E.ticks}):void 0,width:e??h,height:n??p,offset:r},N?!0:g);Av(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(q=j)}return x.createElement(Hn,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(pce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(yce,ac({},i,{horizontalPoints:L})),x.createElement(bce,ac({},i,{verticalPoints:q})),x.createElement(gce,ac({},i,{offset:r,horizontalPoints:L,xAxis:E,yAxis:A})),x.createElement(vce,ac({},i,{offset:r,verticalPoints:q,xAxis:E,yAxis:A}))))}_y.displayName="CartesianGrid";var Sce={},Xz=ei({name:"errorBars",initialState:Sce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Hpe,replaceErrorBar:Kpe,removeErrorBar:Ype}=Xz.actions,Ece=Xz.reducer,Ace=["children"];function Tce(t,e){if(t==null)return{};var n,r,i=jce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Cce=x.createContext(Nce);function Qz(t){var{children:e}=t,n=Tce(t,Ace);return x.createElement(Cce.Provider,{value:n},e)}function Sy(t,e){var n,r,i=Re(h=>ao(h,t)),s=Re(h=>so(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Wn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Xn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function rT(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=wy(),{needClipX:s,needClipY:l,needClip:u}=Sy(e,n);if(!u||!i)return null;var{x:f,y:h,width:p,height:g}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var Jz=(t,e,n,r)=>ts(t,"xAxis",e,r),Zz=(t,e,n,r)=>es(t,"xAxis",e,r),e9=(t,e,n,r)=>ts(t,"yAxis",n,r),t9=(t,e,n,r)=>es(t,"yAxis",n,r),Oce=ae([nt,Jz,e9,Zz,t9],(t,e,n,r,i)=>pa(t,"xAxis")?Ja(e,r,!1):Ja(n,i,!1)),Pce=(t,e,n,r,i)=>i;function Ice(t){return t.type==="line"}var Rce=ae([ym,Pce],(t,e)=>t.filter(Ice).find(n=>n.id===e)),kce=ae([nt,Jz,e9,Zz,t9,Rce,Oce,ZE],(t,e,n,r,i,s,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,_;if(b!=null&&b.length>0?_=b:_=f?.slice(h,p+1),_!=null)return xue({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}});function n9(t){var e=qs(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var _w={exports:{}},Sw={};var hM;function Mce(){if(hM)return Sw;hM=1;var t=sd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Sw.useSyncExternalStoreWithSelector=function(f,h,p,g,b){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function A(U){if(!C){if(C=!0,$=U,U=g(U),b!==void 0&&S.hasValue){var z=S.value;if(b(z,U))return L=z}return L=U}if(z=L,n($,U))return z;var N=g(U);return b!==void 0&&b(z,N)?($=U,z):($=U,L=N)}var C=!1,$,L,q=p===void 0?null:p;return[function(){return A(h())},q===null?void 0:function(){return A(q())}]},[h,p,g,b]);var E=r(f,_[0],_[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},Sw}var mM;function Dce(){return mM||(mM=1,_w.exports=Mce()),_w.exports}Dce();function Lce(t){t()}function zce(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Lce(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var pM={notify(){},get:()=>[]};function Vce(t,e){let n,r=pM,i=0,s=!1;function l(E){p();const A=r.subscribe(E);let C=!1;return()=>{C||(C=!0,A(),g())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=zce())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=pM)}function b(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return S}var $ce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uce=$ce(),Bce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qce=Bce(),Fce=()=>Uce||qce?x.useLayoutEffect:x.useEffect,Hce=Fce();function gM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Kce(t,e){if(gM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!gM(t[n[i]],e[n[i]]))return!1;return!0}var Yce=Symbol.for("react-redux-context"),Gce=typeof globalThis<"u"?globalThis:{};function Wce(){if(!x.createContext)return{};const t=Gce[Yce]??=new Map;let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Xce=Wce();function Qce(t){const{children:e,context:n,serverState:r,store:i}=t,s=x.useMemo(()=>{const f=Vce(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);Hce(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=n||Xce;return x.createElement(u.Provider,{value:s},e)}var Jce=Qce,Zce=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function eue(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Om(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Zce.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Kce(t[r],e[r]))return!1}else if(!eue(t[r],e[r]))return!1;return!0}var tue=["id"],nue=["type","layout","connectNulls","needClip","shape"],rue=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(null,arguments)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return typeof e=="symbol"?e:e+""}function sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iT(t,e){if(t==null)return{};var n,r,i=oue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lue=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ns(n,e),payload:t}]},cue=x.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ns(l,e),hide:u,type:h,color:r,unit:f,graphicalItemId:p}};return x.createElement(Nm,{tooltipEntrySettings:g})}),r9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function uue(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var due=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return r9(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>s){u=[...n.slice(0,f),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...uue(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function fue(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,f=iT(r,tue),h=Yt(f);return x.createElement(JA,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function hue(t){var{showLabels:e,children:n,points:r}=t,i=x.useMemo(()=>r?.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return La(La({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(vy,{value:e?i:void 0},n)}function yM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:f,needClip:h,shape:p}=s,g=iT(s,nue),b=La(La({},_n(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(KA,Vh({shapeType:"curve",option:p},b,{pathRef:n})),x.createElement(fue,{points:r,clipPathId:e,props:s}))}function mue(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function pue(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:b,width:_,height:S,onAnimationEnd:E,onAnimationStart:A}=n,C=i.current,$=Rc(l,"recharts-line-"),L=x.useRef($),[q,U]=x.useState(!1),z=!q,N=x.useCallback(()=>{typeof E=="function"&&E(),U(!1)},[E]),j=x.useCallback(()=>{typeof A=="function"&&A(),U(!0)},[A]),k=mue(r.current),P=x.useRef(0);L.current!==$&&(P.current=s.current,L.current=$);var I=P.current;return x.createElement(hue,{points:l,showLabels:z},n.children,x.createElement(Ic,{animationId:$,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:N,onAnimationStart:j,key:$},D=>{var M=ht(I,k+I,D),se=Math.min(M,k),Y;if(f)if(u){var G="".concat(u).split(/[,\s]+/gim).map(Z=>parseFloat(Z));Y=due(se,k,G)}else Y=r9(k,se);else Y=u==null?void 0:String(u);if(D>0&&k>0&&(i.current=l,s.current=Math.max(s.current,se)),C){var K=C.length/l.length,ee=D===1?l:l.map((Z,re)=>{var V=Math.floor(re*K);if(C[V]){var Q=C[V];return La(La({},Z),{},{x:ht(Q.x,Z.x,D),y:ht(Q.y,Z.y,D)})}return b?La(La({},Z),{},{x:ht(_*2,Z.x,D),y:ht(S/2,Z.y,D)}):La(La({},Z),{},{x:Z.x,y:Z.y})});return i.current=ee,x.createElement(yM,{props:n,points:ee,clipPathId:e,pathRef:r,strokeDasharray:Y})}return x.createElement(yM,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Y})}),x.createElement(jm,{label:n.label}))}function gue(t){var{clipPathId:e,props:n}=t,r=x.useRef(null),i=x.useRef(0),s=x.useRef(null);return x.createElement(pue,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var vue=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vt(t.payload,e)}};class yue extends x.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:f,width:h,height:p,id:g,needClip:b,zIndex:_}=this.props;if(e)return null;var S=tt("recharts-line",i),E=g,{r:A,strokeWidth:C}=n9(n),$=HA(n),L=A*2+C,q=b?"url(#clipPath-".concat($?"":"dots-").concat(E,")"):void 0;return x.createElement(Hn,{zIndex:_},x.createElement(St,{className:S},b&&x.createElement("defs",null,x.createElement(rT,{clipPathId:E,xAxisId:s,yAxisId:l}),!$&&x.createElement("clipPath",{id:"clipPath-dots-".concat(E)},x.createElement("rect",{x:f-L/2,y:u-L/2,width:h+L,height:p+L}))),x.createElement(Qz,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:vue,errorBarOffset:0},x.createElement(gue,{props:this.props,clipPathId:E}))),x.createElement(Zv,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:q}))}}var i9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Zt.line,type:"linear"};function bue(t){var e=Gt(t,i9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,hide:h,isAnimationActive:p,label:g,legendType:b,xAxisId:_,yAxisId:S,id:E}=e,A=iT(e,rue),{needClip:C}=Sy(_,S),$=wy(),L=bl(),q=kn(),U=Re(P=>kce(P,_,S,q,E));if(L!=="horizontal"&&L!=="vertical"||U==null||$==null)return null;var{height:z,width:N,x:j,y:k}=$;return x.createElement(yue,Vh({},A,{id:E,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:b,xAxisId:_,yAxisId:S,points:U,layout:L,height:z,width:N,left:j,top:k,needClip:C}))}function xue(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((h,p)=>{var g=vt(h,l);if(e==="horizontal"){var b=Ev({axis:n,ticks:i,bandSize:u,entry:h,index:p}),_=Ut(g)?null:r.scale(g);return{x:b,y:_,value:g,payload:h}}var S=Ut(g)?null:n.scale(g),E=Ev({axis:r,ticks:s,bandSize:u,entry:h,index:p});return S==null||E==null?null:{x:S,y:E,value:g,payload:h}}).filter(Boolean)}function wue(t){var e=Gt(t,i9),n=kn();return x.createElement(Cm,{id:e.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(XA,{legendPayload:lue(e)}),x.createElement(cue,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),x.createElement(QA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),x.createElement(bue,Vh({},e,{id:r}))))}var td=x.memo(wue,Om);td.displayName="Line";function rs(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:$z}function is(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:$z}var a9=(t,e,n)=>ts(t,"xAxis",rs(t,e),n),s9=(t,e,n)=>es(t,"xAxis",rs(t,e),n),o9=(t,e,n)=>ts(t,"yAxis",is(t,e),n),l9=(t,e,n)=>es(t,"yAxis",is(t,e),n),_ue=ae([nt,a9,o9,s9,l9],(t,e,n,r,i)=>pa(t,"xAxis")?Ja(e,r,!1):Ja(n,i,!1)),Sue=(t,e)=>e,c9=ae([ym,Sue],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),u9=t=>{var e=nt(t),n=pa(e,"xAxis");return n?"yAxis":"xAxis"},Eue=(t,e)=>{var n=u9(t);return n==="yAxis"?is(t,e):rs(t,e)},Aue=(t,e,n)=>Kv(t,u9(t),Eue(t,e),n),Tue=ae([c9,Aue],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=oy(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),jue=ae([nt,a9,o9,s9,l9,Tue,z6,_ue,c9,wee],(t,e,n,r,i,s,l,u,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=f,S;if(_&&_.length>0?S=_:S=p?.slice(g,b+1),S!=null)return Kue({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:S,chartBaseValue:h,bandSize:u})}}),Nue=["id"],Cue=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function d9(t,e){if(t==null)return{};var n,r,i=Oue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Pue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e,n){return(e=Iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Rue(t,"string");return typeof e=="symbol"?e:e+""}function Rue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n0(t,e){return t&&t!=="none"?t:e}var kue=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:n0(r,i),value:ns(n,e),payload:t}]},Mue=x.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ns(l,e),hide:u,type:h,color:n0(r,s),unit:f,graphicalItemId:p}};return x.createElement(Nm,{tooltipEntrySettings:g})});function Due(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=Yt(r);return x.createElement(JA,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function Lue(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ru(Ru({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return x.createElement(vy,{value:e?i:void 0},n)}function xM(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:f,connectNulls:h,isRange:p}=s,{id:g}=s,b=d9(s,Nue),_=Yt(b),S=_n(b);return x.createElement(x.Fragment,null,e?.length>1&&x.createElement(St,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},x.createElement(Vu,dc({},S,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&x.createElement(Vu,dc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&x.createElement(Vu,dc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),x.createElement(Due,{points:e,props:b,clipPathId:i}))}function zue(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,f=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Bt(u)||!Bt(f))return null;var h=r*Math.abs(u-f),p=Math.max(...s.map(g=>g.x||0));return Me(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Me(p)?x.createElement("rect",{x:0,y:u<f?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}function Vue(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,f=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Bt(u)||!Bt(f))return null;var h=r*Math.abs(u-f),p=Math.max(...s.map(g=>g.y||0));return Me(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Me(p)?x.createElement("rect",{x:u<f?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function $ue(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?x.createElement(zue,{alpha:e,points:r,baseLine:i,strokeWidth:s}):x.createElement(Vue,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Uue(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:_}=r,S=x.useMemo(()=>({points:l,baseLine:u}),[l,u]),E=Rc(S,"recharts-area-"),A=zW(),[C,$]=x.useState(!1),L=!C,q=x.useCallback(()=>{typeof _=="function"&&_(),$(!1)},[_]),U=x.useCallback(()=>{typeof b=="function"&&b(),$(!0)},[b]);if(A==null)return null;var z=i.current,N=s.current;return x.createElement(Lue,{showLabels:L,points:l},r.children,x.createElement(Ic,{animationId:E,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:q,onAnimationStart:U,key:E},j=>{if(z){var k=z.length/l.length,P=j===1?l:l.map((D,M)=>{var se=Math.floor(M*k);if(z[se]){var Y=z[se];return Ru(Ru({},D),{},{x:ht(Y.x,D.x,j),y:ht(Y.y,D.y,j)})}return D}),I;return Me(u)?I=ht(N,u,j):Ut(u)||qi(u)?I=ht(N,0,j):I=u.map((D,M)=>{var se=Math.floor(M*k);if(Array.isArray(N)&&N[se]){var Y=N[se];return Ru(Ru({},D),{},{x:ht(Y.x,D.x,j),y:ht(Y.y,D.y,j)})}return D}),j>0&&(i.current=P,s.current=I),x.createElement(xM,{points:P,baseLine:I,needClip:e,clipPathId:n,props:r})}return j>0&&(i.current=l,s.current=u),x.createElement(St,null,f&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(n)},x.createElement($ue,{alpha:j,points:l,baseLine:u,layout:A,strokeWidth:r.strokeWidth}))),x.createElement(St,{clipPath:"url(#animationClipPath-".concat(n,")")},x.createElement(xM,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),x.createElement(jm,{label:r.label}))}function Bue(t){var{needClip:e,clipPathId:n,props:r}=t,i=x.useRef(null),s=x.useRef();return x.createElement(Uue,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class que extends x.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:f,yAxisId:h,width:p,height:g,id:b,baseLine:_,zIndex:S}=this.props;if(e)return null;var E=tt("recharts-area",i),A=b,{r:C,strokeWidth:$}=n9(n),L=HA(n),q=C*2+$,U=u?"url(#clipPath-".concat(L?"":"dots-").concat(A,")"):void 0;return x.createElement(Hn,{zIndex:S},x.createElement(St,{className:E},u&&x.createElement("defs",null,x.createElement(rT,{clipPathId:A,xAxisId:f,yAxisId:h}),!L&&x.createElement("clipPath",{id:"clipPath-dots-".concat(A)},x.createElement("rect",{x:l-q/2,y:s-q/2,width:p+q,height:g+q}))),x.createElement(Bue,{needClip:u,clipPathId:A,props:this.props})),x.createElement(Zv,{points:r,mainColor:n0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:U}),this.props.isRange&&Array.isArray(_)&&x.createElement(Zv,{points:_,mainColor:n0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:U}))}}var f9={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Zt.area};function Fue(t){var e,n=Gt(t,f9),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:b,legendType:_,stroke:S,xAxisId:E,yAxisId:A}=n,C=d9(n,Cue),$=bl(),L=ez(),{needClip:q}=Sy(E,A),U=kn(),{points:z,isRange:N,baseLine:j}=(e=Re(se=>jue(se,t.id,U)))!==null&&e!==void 0?e:{},k=wy();if($!=="horizontal"&&$!=="vertical"||k==null||L!=="AreaChart"&&L!=="ComposedChart")return null;var{height:P,width:I,x:D,y:M}=k;return!z||!z.length?null:x.createElement(que,dc({},C,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:j,connectNulls:u,dot:f,fill:h,fillOpacity:p,height:P,hide:g,layout:$,isAnimationActive:b==="auto"?!cm.isSsr:b,isRange:N,legendType:_,needClip:q,points:z,stroke:S,width:I,left:D,top:M,xAxisId:E,yAxisId:A}))}var Hue=(t,e,n,r,i)=>{var s=n??e;if(Me(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Kue(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:_}=t,S=i&&i.length,E=Hue(s,l,n,u,f),A=s==="horizontal",C=!1,$=h.map((q,U)=>{var z,N,j;if(S)j=i[p+U];else{var k=vt(q,r);Array.isArray(k)?(j=k,C=!0):j=[E,k]}var P=(z=(N=j)===null||N===void 0?void 0:N[1])!==null&&z!==void 0?z:null,I=P==null||S&&!e&&vt(q,r)==null;return A?{x:Ev({axis:u,ticks:g,bandSize:_,entry:q,index:U}),y:I?null:f.scale(P),value:j,payload:q}:{x:I?null:u.scale(P),y:Ev({axis:f,ticks:b,bandSize:_,entry:q,index:U}),value:j,payload:q}}),L;return S||C?L=$.map(q=>{var U=Array.isArray(q.value)?q.value[0]:null;return A?{x:q.x,y:U!=null&&q.y!=null?f.scale(U):null,payload:q.payload}:{x:U!=null?u.scale(U):null,y:q.y,payload:q.payload}}):L=A?f.scale(E):u.scale(E),{points:$,baseLine:L,isRange:C}}function Yue(t){var e=Gt(t,f9),n=kn();return x.createElement(Cm,{id:e.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(XA,{legendPayload:kue(e)}),x.createElement(Mue,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),x.createElement(QA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:j3(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),x.createElement(Fue,dc({},e,{id:r}))))}var aT=x.memo(Yue,Om);aT.displayName="Area";var Gue="Invariant failed";function Wue(t,e){throw new Error(Gue)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(null,arguments)}function r0(t){return x.createElement(KA,G_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Xue=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Me(e))return e;var s=Me(r)||Ut(r);return s?e(r,i):(s||Wue(),n)}},Que=(t,e,n)=>n,Jue=(t,e)=>e,Pm=ae([ym,Jue],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Zue=ae([Pm],t=>t?.maxBarSize),ede=(t,e,n,r)=>r,tde=ae([nt,ym,rs,is,Que],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),nde=(t,e,n)=>{var r=nt(t),i=rs(t,e),s=is(t,e);if(!(i==null||s==null))return r==="horizontal"?Kv(t,"yAxis",s,n):Kv(t,"xAxis",i,n)},rde=(t,e)=>{var n=nt(t),r=rs(t,e),i=is(t,e);if(!(r==null||i==null))return n==="horizontal"?VR(t,"xAxis",r):VR(t,"yAxis",i)},ide=ae([tde,xee,rde],ble),ade=(t,e,n)=>{var r,i,s=Pm(t,e);if(s!=null){var l=rs(t,e),u=is(t,e);if(!(l==null||u==null)){var f=nt(t),h=Z6(t),{maxBarSize:p}=s,g=Ut(p)?h:p,b,_;return f==="horizontal"?(b=ts(t,"xAxis",l,n),_=es(t,"xAxis",l,n)):(b=ts(t,"yAxis",u,n),_=es(t,"yAxis",u,n)),(r=(i=Ja(b,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},h9=(t,e,n)=>{var r=nt(t),i=rs(t,e),s=is(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=ts(t,"xAxis",i,n),u=es(t,"xAxis",i,n)):(l=ts(t,"yAxis",s,n),u=es(t,"yAxis",s,n)),Ja(l,u)}},sde=ae([ide,Z6,bee,eL,ade,h9,Zue],Ele),ode=(t,e,n)=>{var r=rs(t,e);if(r!=null)return ts(t,"xAxis",r,n)},lde=(t,e,n)=>{var r=is(t,e);if(r!=null)return ts(t,"yAxis",r,n)},cde=(t,e,n)=>{var r=rs(t,e);if(r!=null)return es(t,"xAxis",r,n)},ude=(t,e,n)=>{var r=is(t,e);if(r!=null)return es(t,"yAxis",r,n)},dde=ae([sde,Pm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),fde=ae([nde,Pm],Ale),hde=ae([Un,EE,ode,lde,cde,ude,dde,nt,z6,h9,fde,Pm,ede],(t,e,n,r,i,s,l,u,f,h,p,g,b)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:E}=f;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:A}=g,C;if(A!=null&&A.length>0?C=A:C=_?.slice(S,E+1),C!=null)return Bde({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:C,offset:t,cells:b,dataStartIndex:S})}}),mde=["index"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(null,arguments)}function pde(t,e){if(t==null)return{};var n,r,i=gde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var m9=x.createContext(void 0),vde=t=>{var e=x.useContext(m9);if(e!=null)return e.stackId;if(t!=null)return j3(t)},yde=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),bde=t=>{var e=x.useContext(m9);if(e!=null){var{stackId:n}=e;return"url(#".concat(yde(n,t),")")}},xde=t=>{var{index:e}=t,n=pde(t,mde),r=bde(e);return x.createElement(St,W_({className:"recharts-bar-stack-layer",clipPath:r},n))},wde=["onMouseEnter","onMouseLeave","onClick"],_de=["value","background","tooltipPosition"],Sde=["id"],Ede=["onMouseEnter","onClick","onMouseLeave"];function Xs(){return Xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xs.apply(null,arguments)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e,n){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tde(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i0(t,e){if(t==null)return{};var n,r,i=Nde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cde=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ns(n,e),payload:t}]},Ode=x.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ns(s,e),hide:l,type:f,color:i,unit:u,graphicalItemId:h}};return x.createElement(Nm,{tooltipEntrySettings:p})});function Pde(t){var e=Re(ml),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=s,h=i0(s,wde),p=YA(l,r,s.id),g=GA(u),b=WA(f,r,s.id);if(!i||n==null)return null;var _=qs(i);return x.createElement(Hn,{zIndex:Tle(i,Zt.barBackground)},n.map((S,E)=>{var{value:A,background:C,tooltipPosition:$}=S,L=i0(S,_de);if(!C)return null;var q=p(S,E),U=g(S,E),z=b(S,E),N=kr(kr(kr(kr(kr({option:i,isActive:String(E)===e},L),{},{fill:"#eee"},C),_),Pc(h,S,E)),{},{onMouseEnter:q,onMouseLeave:U,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return x.createElement(r0,Xs({key:"background-bar-".concat(E)},N))}))}function Ide(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return kr(kr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return x.createElement(vy,{value:e?i:void 0},n)}function Rde(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Re(ml),f=Re(PA),h=n&&String(s)===u&&(f==null||l===f),p=h?n:e;return h?x.createElement(Hn,{zIndex:Zt.activeBar},x.createElement(r0,Xs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))):x.createElement(r0,Xs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function kde(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return x.createElement(r0,Xs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Mde(t){var e,{data:n,props:r}=t,i=(e=Yt(r))!==null&&e!==void 0?e:{},{id:s}=i,l=i0(i,Sde),{shape:u,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,_=i0(r,Ede),S=YA(p,f,s),E=GA(b),A=WA(g,f,s);return n?x.createElement(x.Fragment,null,n.map((C,$)=>x.createElement(xde,Xs({index:$,key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat($),className:"recharts-bar-rectangle"},Pc(_,C,$),{onMouseEnter:S(C,$),onMouseLeave:E(C,$),onClick:A(C,$)}),h?x.createElement(Rde,{shape:u,activeBar:h,baseProps:l,entry:C,index:$,dataKey:f}):x.createElement(kde,{shape:u,baseProps:l,entry:C,index:$,dataKey:f})))):null}function Dde(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,b=Rc(e,"recharts-bar-"),[_,S]=x.useState(!1),E=!_,A=x.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),C=x.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return x.createElement(Ide,{showLabels:E,rects:r},x.createElement(Ic,{animationId:b,begin:l,duration:u,isActive:s,easing:f,onAnimationEnd:A,onAnimationStart:C,key:b},$=>{var L=$===1?r:r?.map((q,U)=>{var z=g&&g[U];if(z)return kr(kr({},q),{},{x:ht(z.x,q.x,$),y:ht(z.y,q.y,$),width:ht(z.width,q.width,$),height:ht(z.height,q.height,$)});if(i==="horizontal"){var N=ht(0,q.height,$),j=ht(q.stackedBarStart,q.y,$);return kr(kr({},q),{},{y:j,height:N})}var k=ht(0,q.width,$),P=ht(q.stackedBarStart,q.x,$);return kr(kr({},q),{},{width:k,x:P})});return $>0&&(n.current=L??null),L==null?null:x.createElement(St,null,x.createElement(Mde,{props:e,data:L}))}),x.createElement(jm,{label:e.label}),e.children)}function Lde(t){var e=x.useRef(null);return x.createElement(Dde,{previousRectanglesRef:e,props:t})}var p9=0,zde=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:vt(t,e)}};class Vde extends x.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:f,id:h}=this.props;if(e||n==null)return null;var p=tt("recharts-bar",i),g=h;return x.createElement(St,{className:p,id:h},u&&x.createElement("defs",null,x.createElement(rT,{clipPathId:g,xAxisId:s,yAxisId:l})),x.createElement(St,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},x.createElement(Pde,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),x.createElement(Lde,this.props)))}}var $de={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:p9,xAxisId:0,yAxisId:0,zIndex:Zt.bar};function Ude(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=Sy(e,n),b=bl(),_=kn(),S=FA(t.children,Tm),E=Re($=>hde($,t.id,_,S));if(b!=="vertical"&&b!=="horizontal")return null;var A,C=E?.[0];return C==null||C.height==null||C.width==null?A=0:A=b==="vertical"?C.height/2:C.width/2,x.createElement(Qz,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:zde,errorBarOffset:A},x.createElement(Vde,Xs({},t,{layout:b,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Bde(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:b,cells:_,parentViewBox:S,dataStartIndex:E}=t,A=e==="horizontal"?u:l,C=p?A.scale.domain():null,$=nW({numericAxis:A}),L=A.scale($);return g.map((q,U)=>{var z,N,j,k,P,I;if(p){var D=p[U+E];if(D==null)return null;z=QG(D,C)}else z=vt(q,n),Array.isArray(z)||(z=[$,z]);var M=Xue(r,p9)(z[1],U);if(e==="horizontal"){var se,[Y,G]=[u.scale(z[0]),u.scale(z[1])];N=qP({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:q,index:U}),j=(se=G??Y)!==null&&se!==void 0?se:void 0,k=i.size;var K=Y-G;if(P=qi(K)?0:K,I={x:N,y:b.top,width:k,height:b.height},Math.abs(M)>0&&Math.abs(P)<Math.abs(M)){var ee=Zn(P||M)*(Math.abs(M)-Math.abs(P));j-=ee,P+=ee}}else{var[Z,re]=[l.scale(z[0]),l.scale(z[1])];if(N=Z,j=qP({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:q,index:U}),k=re-Z,P=i.size,I={x:b.left,y:j,width:b.width,height:P},Math.abs(M)>0&&Math.abs(k)<Math.abs(M)){var V=Zn(k||M)*(Math.abs(M)-Math.abs(k));k+=V}}if(N==null||j==null||k==null||P==null)return null;var Q=kr(kr({},q),{},{stackedBarStart:L,x:N,y:j,width:k,height:P,value:p?z:z[1],payload:q,background:I,tooltipPosition:{x:N+k/2,y:j+P/2},parentViewBox:S},_&&_[U]&&_[U].props);return Q}).filter(Boolean)}function qde(t){var e=Gt(t,$de),n=vde(e.stackId),r=kn();return x.createElement(Cm,{id:e.id,type:"bar"},i=>x.createElement(x.Fragment,null,x.createElement(XA,{legendPayload:Cde(e)}),x.createElement(Ode,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),x.createElement(QA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(Hn,{zIndex:e.zIndex},x.createElement(Ude,Xs({},e,{id:i})))))}var sT=x.memo(qde,Om);sT.displayName="Bar";var Fde=["domain","range"],Hde=["domain","range"];function _M(t,e){if(t==null)return{};var n,r,i=Kde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function g9(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=_M(t,Fde),{domain:s,range:l}=e,u=_M(e,Hde);return!SM(n,s)||!SM(r,l)?!1:Om(i,u)}var Yde=["dangerouslySetInnerHTML","ticks","scale"],Gde=["id","scale"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(null,arguments)}function EM(t,e){if(t==null)return{};var n,r,i=Wde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xde(t){var e=Dt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(Noe(t)):n.current!==t&&e(Coe({prev:n.current,next:t})),n.current=t},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(e(Ooe(n.current)),n.current=null)},[e]),null}var Qde=t=>{var{xAxisId:e,className:n}=t,r=Re(EE),i=kn(),s="xAxis",l=Re(C=>PL(C,s,e,i)),u=Re(C=>jL(C,e)),f=Re(C=>xte(C,e)),h=Re(C=>lL(C,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,_=EM(t,Yde),{id:S,scale:E}=h,A=EM(h,Gde);return x.createElement(nT,X_({},_,A,{x:f.x,y:f.y,width:u.width,height:u.height,className:tt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Jde={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:Wn.allowDecimals,allowDuplicatedCategory:Wn.allowDuplicatedCategory,angle:Wn.angle,axisLine:Ds.axisLine,height:Wn.height,hide:!1,includeHidden:Wn.includeHidden,interval:Wn.interval,minTickGap:Wn.minTickGap,mirror:Wn.mirror,orientation:Wn.orientation,padding:Wn.padding,reversed:Wn.reversed,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,tickLine:Ds.tickLine,tickSize:Ds.tickSize,type:Wn.type,xAxisId:0},Zde=t=>{var e=Gt(t,Jde);return x.createElement(x.Fragment,null,x.createElement(Xde,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),x.createElement(Qde,e))},Ey=x.memo(Zde,g9);Ey.displayName="XAxis";var efe=["dangerouslySetInnerHTML","ticks","scale"],tfe=["id","scale"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(null,arguments)}function AM(t,e){if(t==null)return{};var n,r,i=nfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rfe(t){var e=Dt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(Poe(t)):n.current!==t&&e(Ioe({prev:n.current,next:t})),n.current=t},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(e(Roe(n.current)),n.current=null)},[e]),null}var ife=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=x.useRef(null),l=x.useRef(null),u=Re(EE),f=kn(),h=Dt(),p="yAxis",g=Re(z=>NL(z,e)),b=Re(z=>_te(z,e)),_=Re(z=>PL(z,p,e,f)),S=Re(z=>cL(z,e));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!g||LA(i)||x.isValidElement(i)||S==null)){var z=s.current;if(z){var N=z.getCalculatedWidth();Math.round(g.width)!==Math.round(N)&&h(koe({id:e,width:N}))}}},[_,g,h,i,e,r,S]),g==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:C}=t,$=AM(t,efe),{id:L,scale:q}=S,U=AM(S,tfe);return x.createElement(nT,Q_({},$,U,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:tt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},afe={allowDataOverflow:Xn.allowDataOverflow,allowDecimals:Xn.allowDecimals,allowDuplicatedCategory:Xn.allowDuplicatedCategory,angle:Xn.angle,axisLine:Ds.axisLine,hide:!1,includeHidden:Xn.includeHidden,interval:Xn.interval,minTickGap:Xn.minTickGap,mirror:Xn.mirror,orientation:Xn.orientation,padding:Xn.padding,reversed:Xn.reversed,scale:Xn.scale,tick:Xn.tick,tickCount:Xn.tickCount,tickLine:Ds.tickLine,tickSize:Ds.tickSize,type:Xn.type,width:Xn.width,yAxisId:0},sfe=t=>{var e=Gt(t,afe);return x.createElement(x.Fragment,null,x.createElement(rfe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),x.createElement(ife,e))},nd=x.memo(sfe,g9);nd.displayName="YAxis";var ofe=(t,e)=>e,oT=ae([ofe,nt,wd,qn,GL,oo,Mne,Un],Bne),lT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},v9=Fi("mouseClick"),y9=sm();y9.startListening({actionCreator:v9,effect:(t,e)=>{var n=t.payload,r=oT(e.getState(),lT(n));r?.activeIndex!=null&&e.dispatch(kte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var J_=Fi("mouseMove"),b9=sm(),xg=null;b9.startListening({actionCreator:J_,effect:(t,e)=>{var n=t.payload;xg!==null&&cancelAnimationFrame(xg);var r=lT(n);xg=requestAnimationFrame(()=>{var i=e.getState(),s=AA(i,i.tooltip.settings.shared);if(s==="axis"){var l=oT(i,r);l?.activeIndex!=null?e.dispatch($L({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(VL())}xg=null})}});function lfe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var TM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},x9=ei({name:"rootProps",initialState:TM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:TM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),cfe=x9.reducer,{updateOptions:ufe}=x9.actions,w9=ei({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:dfe}=w9.actions,ffe=w9.reducer,_9=Fi("keyDown"),S9=Fi("focus"),cT=sm();cT.startListening({actionCreator:_9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=TA(i,jd(n),xm(n),Em(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=oo(n);if(s==="Enter"){var h=Gv(n,"axis","hover",String(i.index));e.dispatch(U_({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=Ete(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=u+b*g;if(!(f==null||_>=f.length||_<0)){var S=Gv(n,"axis","hover",String(_));e.dispatch(U_({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});cT.startListening({actionCreator:S9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Gv(n,"axis","hover",String(s));e.dispatch(U_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var zi=Fi("externalEvent"),E9=sm(),Ew=new Map;E9.startListening({actionCreator:zi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=Ew.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:xne(u),activeDataKey:PA(u),activeIndex:ml(u),activeLabel:QL(u),activeTooltipIndex:ml(u),isTooltipActive:wne(u)};n(f,r)}finally{Ew.delete(i)}});Ew.set(i,l)}}});var hfe=ae([Ad],t=>t.tooltipItemPayloads),mfe=ae([hfe,Sm,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),A9=Fi("touchMove"),T9=sm();T9.startListening({actionCreator:A9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=AA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=oT(r,lT({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch($L({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(C3),g=(u=h.getAttribute(O3))!==null&&u!==void 0?u:void 0,b=Td(r).find(E=>E.id===g);if(p==null||b==null||g==null)return;var{dataKey:_}=b,S=mfe(r,p,g);e.dispatch(zL({activeDataKey:_,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var pfe=X5({brush:jle,cartesianAxis:Moe,chartData:bre,errorBars:Ece,graphicalItems:qse,layout:HG,legend:ZW,options:mre,polarAxis:jae,polarOptions:ffe,referenceElements:kle,rootProps:cfe,tooltip:Mte,zIndex:nre}),gfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gG({reducer:pfe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([y9.middleware,b9.middleware,cT.middleware,E9.middleware,T9.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(d3({type:"raf"}))},devTools:{serialize:{replacer:lfe},name:"recharts-".concat(n)}})};function j9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=kn(),s=x.useRef(null);if(i)return n;s.current==null&&(s.current=gfe(e,r));var l=vE;return x.createElement(Jce,{context:l,store:s.current},n)}function vfe(t){var{layout:e,margin:n}=t,r=Dt(),i=kn();return x.useEffect(()=>{i||(r(BG(e)),r(UG(n)))},[r,i,e,n]),null}var N9=x.memo(vfe,Om);function C9(t){var e=Dt();return x.useEffect(()=>{e(ufe(t))},[e,t]),null}function jM(t){var{zIndex:e,isPanorama:n}=t,r=x.useRef(null),i=Dt();return x.useLayoutEffect(()=>(r.current&&i(ere({zIndex:e,element:r.current,isPanorama:n})),()=>{i(tre({zIndex:e,isPanorama:n}))}),[i,e,n]),x.createElement("g",{tabIndex:-1,ref:r})}function NM(t){var{children:e,isPanorama:n}=t,r=Re(Fne);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return x.createElement(x.Fragment,null,i.map(l=>x.createElement(jM,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>x.createElement(jM,{key:l,zIndex:l,isPanorama:n})))}var yfe=["children"];function bfe(t,e){if(t==null)return{};var n,r,i=xfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(null,arguments)}var wfe={width:"100%",height:"100%",display:"block"},_fe=x.forwardRef((t,e)=>{var n=TE(),r=jE(),i=K3();if(!Qa(n)||!Qa(r))return null;var{children:s,otherAttributes:l,title:u,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),x.createElement(aE,a0({},l,{title:u,desc:f,role:p,tabIndex:h,width:n,height:r,style:wfe,ref:e}),s)}),Sfe=t=>{var{children:e}=t,n=Re(Y0);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return x.createElement(aE,{width:r,height:i,x:l,y:s},e)},CM=x.forwardRef((t,e)=>{var{children:n}=t,r=bfe(t,yfe),i=kn();return i?x.createElement(Sfe,null,x.createElement(NM,{isPanorama:!0},n)):x.createElement(_fe,a0({ref:e},r),x.createElement(NM,{isPanorama:!1},n))});function Efe(){var t=Dt(),[e,n]=x.useState(null),r=Re(lW);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Bt(s)&&s!==r&&t(FG(s))}},[e,t,r]),n}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Afe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){Tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tfe(t,e,n){return(e=jfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}var Cfe=()=>(Nre(),null);function s0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Ofe=x.forwardRef((t,e)=>{var n,r,i=x.useRef(null),[s,l]=x.useState({containerWidth:s0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:s0((r=t.style)===null||r===void 0?void 0:r.height)}),u=x.useCallback((h,p)=>{l(g=>{var b=Math.round(h),_=Math.round(p);return g.containerWidth===b&&g.containerHeight===_?g:{containerWidth:b,containerHeight:_}})},[]),f=x.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var b=S=>{var{width:E,height:A}=S[0].contentRect;u(E,A)},_=new ResizeObserver(b);_.observe(h),i.current=_}},[e,u]);return x.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(W0,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",jc({ref:f},t)))}),Pfe=x.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=x.useState({containerWidth:s0(n),containerHeight:s0(r)}),l=x.useCallback((f,h)=>{s(p=>{var g=Math.round(f),b=Math.round(h);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=x.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return x.createElement(x.Fragment,null,x.createElement(W0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",jc({ref:u},t)))}),Ife=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return x.createElement(x.Fragment,null,x.createElement(W0,{width:n,height:r}),x.createElement("div",jc({ref:e},t)))}),Rfe=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return Fs(n)||Fs(r)?x.createElement(Pfe,jc({},t,{ref:e})):x.createElement(Ife,jc({},t,{ref:e}))});function kfe(t){return t===!0?Ofe:Rfe}var Mfe=x.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:A,width:C,responsive:$,dispatchTouchEvents:L=!0}=t,q=x.useRef(null),U=Dt(),[z,N]=x.useState(null),[j,k]=x.useState(null),P=Efe(),I=AE(),D=I?.width>0?I.width:C,M=I?.height>0?I.height:i,se=x.useCallback(ne=>{P(ne),typeof e=="function"&&e(ne),N(ne),k(ne),ne!=null&&(q.current=ne)},[P,e,N,k]),Y=x.useCallback(ne=>{U(v9(ne)),U(zi({handler:s,reactEvent:ne}))},[U,s]),G=x.useCallback(ne=>{U(J_(ne)),U(zi({handler:h,reactEvent:ne}))},[U,h]),K=x.useCallback(ne=>{U(VL()),U(zi({handler:p,reactEvent:ne}))},[U,p]),ee=x.useCallback(ne=>{U(J_(ne)),U(zi({handler:g,reactEvent:ne}))},[U,g]),Z=x.useCallback(()=>{U(S9())},[U]),re=x.useCallback(ne=>{U(_9(ne.key))},[U]),V=x.useCallback(ne=>{U(zi({handler:l,reactEvent:ne}))},[U,l]),Q=x.useCallback(ne=>{U(zi({handler:u,reactEvent:ne}))},[U,u]),X=x.useCallback(ne=>{U(zi({handler:f,reactEvent:ne}))},[U,f]),W=x.useCallback(ne=>{U(zi({handler:b,reactEvent:ne}))},[U,b]),me=x.useCallback(ne=>{U(zi({handler:E,reactEvent:ne}))},[U,E]),pe=x.useCallback(ne=>{L&&U(A9(ne)),U(zi({handler:S,reactEvent:ne}))},[U,L,S]),de=x.useCallback(ne=>{U(zi({handler:_,reactEvent:ne}))},[U,_]),ye=kfe($);return x.createElement(az.Provider,{value:z},x.createElement(h5.Provider,{value:j},x.createElement(ye,{width:D??A?.width,height:M??A?.height,className:tt("recharts-wrapper",r),style:Afe({position:"relative",cursor:"default",width:D,height:M},A),onClick:Y,onContextMenu:V,onDoubleClick:Q,onFocus:Z,onKeyDown:re,onMouseDown:X,onMouseEnter:G,onMouseLeave:K,onMouseMove:ee,onMouseUp:W,onTouchEnd:de,onTouchMove:pe,onTouchStart:me,ref:se},x.createElement(Cfe,null),n)))}),Dfe=["width","height","responsive","children","className","style","compact","title","desc"];function Lfe(t,e){if(t==null)return{};var n,r,i=zfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O9=x.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:f,title:h,desc:p}=t,g=Lfe(t,Dfe),b=Yt(g);return f?x.createElement(x.Fragment,null,x.createElement(W0,{width:n,height:r}),x.createElement(CM,{otherAttributes:b,title:h,desc:p},s)):x.createElement(Mfe,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(CM,{otherAttributes:b,title:h,desc:p,ref:e},x.createElement(Dle,null,s)))});function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(null,arguments)}var Vfe={top:5,right:5,bottom:5,left:5},$fe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Vfe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ufe=x.forwardRef(function(e,n){var r,i=Gt(e.categoricalChartProps,$fe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(j9,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},x.createElement(Hz,{chartData:h.data}),x.createElement(N9,{layout:i.layout,margin:i.margin}),x.createElement(C9,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(O9,Z_({},i,{ref:n})))});function Bfe(t){var e=Dt();return x.useEffect(()=>{e(dfe(t))},[e,t]),null}var qfe=["layout"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}function Ffe(t,e){if(t==null)return{};var n,r,i=Hfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kfe={top:5,right:5,bottom:5,left:5},uT={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Kfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},P9=x.forwardRef(function(e,n){var r,i=Gt(e.categoricalChartProps,uT),{layout:s}=i,l=Ffe(i,qfe),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(j9,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},x.createElement(Hz,{chartData:i.data}),x.createElement(N9,{layout:s,margin:i.margin}),x.createElement(C9,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Bfe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(O9,eS({},l,{ref:n})))});function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){Yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yfe(t,e,n){return(e=Gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=Wfe(t,"string");return typeof e=="symbol"?e:e+""}function Wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xfe=["item"],Qfe=IM(IM({},uT),{},{layout:"centric",startAngle:0,endAngle:360}),Jfe=x.forwardRef((t,e)=>{var n=Gt(t,Qfe);return x.createElement(P9,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xfe,tooltipPayloadSearcher:DA,categoricalChartProps:n,ref:e})});function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e,n){return(e=ehe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ehe(t){var e=the(t,"string");return typeof e=="symbol"?e:e+""}function the(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nhe=["axis"],rhe=kM(kM({},uT),{},{layout:"centric",startAngle:90,endAngle:-270}),ihe=x.forwardRef((t,e)=>{var n=Gt(t,rhe);return x.createElement(P9,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nhe,tooltipPayloadSearcher:DA,categoricalChartProps:n,ref:e})}),ahe=["axis"],dT=x.forwardRef((t,e)=>x.createElement(Ufe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ahe,tooltipPayloadSearcher:DA,categoricalChartProps:t,ref:e}));const she=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ohe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),MM=t=>{const e=ohe(t);return e.charAt(0).toUpperCase()+e.slice(1)},I9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lhe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var che={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uhe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},f)=>x.createElement("svg",{ref:f,...che,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:I9("lucide",i),...!s&&!lhe(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>x.createElement(h,p)),...Array.isArray(s)?s:[s]]));const ke=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(uhe,{ref:s,iconNode:e,className:I9(`lucide-${she(MM(t))}`,`lucide-${t}`,r),...i}));return n.displayName=MM(t),n};const dhe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ga=ke("activity",dhe);const fhe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fT=ke("arrow-left",fhe);const hhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Im=ke("arrow-right",hhe);const mhe=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ah=ke("award",mhe);const phe=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hT=ke("ban",phe);const ghe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vhe=ke("bell",ghe);const yhe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bhe=ke("briefcase",yhe);const xhe=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],whe=ke("bug",xhe);const _he=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],She=ke("calculator",_he);const Ehe=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ahe=ke("calendar-off",Ehe);const The=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lo=ke("calendar",The);const jhe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Aw=ke("chevron-down",jhe);const Nhe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mT=ke("chevron-left",Nhe);const Che=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R9=ke("chevron-right",Che);const Ohe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rd=ke("circle-alert",Ohe);const Phe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qs=ke("circle-check-big",Phe);const Ihe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],k9=ke("circle-question-mark",Ihe);const Rhe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],khe=ke("clipboard-check",Rhe);const Mhe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dhe=ke("clock",Mhe);const Lhe=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],M9=ke("coffee",Lhe);const zhe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tS=ke("credit-card",zhe);const Vhe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],$h=ke("crown",Vhe);const $he=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],D9=ke("database",$he);const Uhe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Js=ke("dollar-sign",Uhe);const Bhe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],o0=ke("download",Bhe);const qhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fhe=ke("file-exclamation-point",qhe);const Hhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],L9=ke("file-text",Hhe);const Khe=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Yhe=ke("flame",Khe);const Ghe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Whe=ke("frown",Ghe);const Xhe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],z9=ke("funnel",Xhe);const Qhe=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nS=ke("heart",Qhe);const Jhe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zhe=ke("key",Jhe);const eme=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tme=ke("layers",eme);const nme=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rme=ke("layout-dashboard",nme);const ime=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],DM=ke("layout-grid",ime);const ame=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Is=ke("loader-circle",ame);const sme=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fc=ke("lock",sme);const ome=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V9=ke("log-out",ome);const lme=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pT=ke("map-pin",lme);const cme=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],$9=ke("map",cme);const ume=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],dme=ke("medal",ume);const fme=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hme=ke("menu",fme);const mme=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],pme=ke("monitor",mme);const gme=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],vme=ke("music",gme);const yme=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],U9=ke("pen",yme);const bme=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xme=ke("play",bme);const wme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wg=ke("plus",wme);const _me=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rS=ke("refresh-cw",_me);const Sme=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],B9=ke("rotate-ccw",Sme);const Eme=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sl=ke("save",Eme);const Ame=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gT=ke("search",Ame);const Tme=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ay=ke("settings",Tme);const jme=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Nme=ke("shopping-bag",jme);const Cme=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ome=ke("smartphone",Cme);const Pme=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],id=ke("sparkles",Pme);const Ime=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rme=ke("square-check-big",Ime);const kme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Mme=ke("square-pen",kme);const Dme=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],LM=ke("star",Dme);const Lme=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],vi=ke("store",Lme);const zme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Pd=ke("target",zme);const Vme=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lg=ke("trash-2",Vme);const $me=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],q9=ke("trending-down",$me);const Ume=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ad=ke("trending-up",Ume);const Bme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sl=ke("triangle-alert",Bme);const qme=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Fme=ke("trophy",qme);const Hme=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],F9=ke("upload",Hme);const Kme=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iS=ke("user-check",Kme);const Yme=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gme=ke("user-cog",Yme);const Wme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],H9=ke("user-x",Wme);const Xme=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gl=ke("user",Xme);const Qme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Id=ke("users",Qme);const Jme=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sa=ke("x",Jme);const Zme=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],epe=ke("zap",Zme),Tw=[{id:"cyj",label:"CYJ",pathType:"legacy"},{id:"anniu",label:"",pathType:"standard"},{id:"yibo",label:"",pathType:"standard"}],dr={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},Nc=[{id:"dashboard",label:"",icon:rme},{id:"annual",label:"",icon:lo},{id:"targets",label:"",icon:Pd},{id:"regional",label:"",icon:$9},{id:"store-analysis",label:"",icon:vi},{id:"ranking",label:"",icon:ad},{id:"audit",label:"",icon:khe},{id:"history",label:"",icon:L9},{id:"input",label:"",icon:F9},{id:"logs",label:"",icon:Ga},{id:"t-targets",label:"",icon:Gme},{id:"t-schedule",label:"",icon:Ahe},{id:"settings",label:"",icon:Ay}],tpe={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},zg={director:Nc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},npe=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},K9=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},gr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},hc=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},hr=t=>t?Number(t.toString().replace(/,/g,"")):0,Zr=({children:t})=>d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),Nt=({title:t,subtitle:e,children:n,className:r=""})=>d.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&d.jsxs("div",{className:"mb-6",children:[t&&d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&d.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),rpe=({message:t,type:e,onClose:n})=>{x.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return d.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?d.jsx(Qs,{size:20}):e==="error"?d.jsx(rd,{size:20}):d.jsx(vhe,{size:20}),d.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},ipe=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?d.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[d.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),d.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,tr=VM.createContext(null),ape=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const{currentBrand:f}=x.useContext(tr),h=x.useMemo(()=>{let _="cyj",S="CYJ";f&&(_=typeof f=="string"?f:f.id||"cyj",_.includes("anniu")?(_="anniu",S=""):_.includes("yibo")?(_="yibo",S=""):(_="cyj",S="CYJ"));let E={gradient:"from-amber-400 to-orange-600",shadow:"shadow-orange-200",activeBg:"bg-amber-50",activeText:"text-amber-700",iconColor:"text-amber-600",indicator:"bg-amber-500",logoChar:"C",Icon:$h};return _==="anniu"?E={gradient:"from-rose-400 to-pink-600",shadow:"shadow-rose-200",activeBg:"bg-rose-50",activeText:"text-rose-700",iconColor:"text-rose-600",indicator:"bg-rose-500",logoChar:"A",Icon:M9}:_==="yibo"&&(E={gradient:"from-yellow-400 to-yellow-600",shadow:"shadow-yellow-200",activeBg:"bg-yellow-50",activeText:"text-yellow-700",iconColor:"text-yellow-600",indicator:"bg-yellow-500",logoChar:"Y",Icon:id}),{id:_,label:S,theme:E}},[f]),{theme:p,label:g}=h,b=x.useMemo(()=>{if(!i)return[];if(i==="director")return Nc;const _=l[i]||[];return Nc.filter(S=>_.includes(S.id))},[i,l]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),d.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[d.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[d.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${p.gradient} rounded-xl flex items-center justify-center shadow-lg ${p.shadow} mr-3 shrink-0 transition-all duration-500`,children:h.id==="cyj"?d.jsx("span",{className:"text-white font-bold text-lg",children:"C"}):d.jsx(p.Icon,{size:18,className:"text-white"})}),d.jsxs("span",{className:`font-extrabold text-lg text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:[g," "]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:b.map(_=>{const S=_.icon,E=t===_.id;return d.jsxs("button",{onClick:()=>{e(_.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${E?`${p.activeBg} ${p.activeText} shadow-sm`:"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":_.label,children:[d.jsx(S,{size:22,className:`shrink-0 transition-colors ${E?p.iconColor:"text-stone-400 group-hover:text-stone-600"}`}),d.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:_.label}),E&&d.jsx("div",{className:`absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 ${p.indicator} rounded-l-full`})]},_.id)})}),d.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[d.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:d.jsx(gl,{size:20,className:"text-stone-400"})}),n&&d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),d.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:dr[i?.toUpperCase()]?.label||i})]})]}),d.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[d.jsx(V9,{size:20}),n&&d.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},spe=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const{currentBrand:s}=x.useContext(tr),l=x.useMemo(()=>{const f=s?.id||"cyj";return f.includes("anniu")?"bg-rose-600 text-white shadow-rose-200":f.includes("yibo")?"bg-yellow-500 text-white shadow-yellow-200":"bg-stone-800 text-white shadow-stone-200"},[s]),u=x.useMemo(()=>{if(!r)return[];if(r==="director")return Nc;const f=n[r]||[];return Nc.filter(h=>f.includes(h.id))},[r,n]);return d.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto no-scrollbar",children:d.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[u.map(f=>{const h=f.icon,p=t===f.id;return d.jsxs("button",{onClick:()=>e(f.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${p?`${l} shadow-md`:"bg-stone-100 text-stone-500"}`,children:[d.jsx(h,{size:14}),f.label]},f.id)}),d.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[d.jsx(V9,{size:14}),""]})]})})},ope={cyj:"16500",anniu:"8888",yibo:"9999"},lpe=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:f,currentBrandId:h,onSwitchBrand:p,therapists:g=[],hasSelectedBrand:b=!1})=>{const[_,S]=x.useState(!b),[E,A]=x.useState("director"),[C,$]=x.useState(""),[L,q]=x.useState(""),[U,z]=x.useState(""),[N,j]=x.useState(!1),[k,P]=x.useState(!1),[I,D]=x.useState(""),[M,se]=x.useState(""),[Y,G]=x.useState(""),[K,ee]=x.useState(""),[Z,re]=x.useState(""),[V,Q]=x.useState(""),X=x.useMemo(()=>Tw.find(he=>he.id===h)||Tw[0],[h]),W=x.useMemo(()=>{switch(h){case"anniu":return{text:"text-rose-900",accent:"bg-rose-600 hover:bg-rose-700",border:"focus:border-rose-400",ring:"focus:ring-rose-100"};case"yibo":return{text:"text-yellow-900",accent:"bg-yellow-500 hover:bg-yellow-600",border:"focus:border-yellow-400",ring:"focus:ring-yellow-100"};default:return{text:"text-stone-800",accent:"bg-stone-800 hover:bg-stone-900",border:"focus:border-stone-400",ring:"focus:ring-stone-100"}}},[h]),me=he=>{p&&p(he),setTimeout(()=>{S(!1)},150)};x.useEffect(()=>{G(""),ee(""),re("")},[E,h]);const pe=x.useMemo(()=>Y?n[Y]||[]:[],[Y,n]),de=x.useMemo(()=>K?g.filter(he=>he.store===K):[],[K,g]),ye=async()=>{z(""),j(!0),await new Promise(he=>setTimeout(he,600));try{if(E==="director"){const he=ope[h]||"0000";C===he?t("director",{name:`${X.label}`}):z("")}else if(E==="trainer"){const he=u?.password||"0000";C===he?t("trainer",{name:""}):z("")}else if(E==="manager"){if(!L){z(""),j(!1);return}const he=r[L]||"0000";C===he?t("manager",{name:L}):z("")}else if(E==="store"){if(!L){z(""),j(!1);return}const he=e.find(Pe=>Pe.id===L);he&&he.password===C?t("store",{name:he.name,storeName:he.stores?.[0]||he.storeName,stores:he.stores}):z("")}}catch{z("")}finally{j(!1)}},ne=async()=>{z(""),j(!0),await new Promise(he=>setTimeout(he,600));try{if(!Z){z(""),j(!1);return}const he=g.find(Pe=>Pe.id===Z);he&&he.password===V?t("therapist",he):z(" ( 0000)")}catch{z("")}finally{j(!1)}},Se=async()=>{if(z(""),!M||!I){z("");return}j(!0);let he=!1;if(E==="store"&&L){const Be=e.find(Ze=>Ze.id===L);Be&&Be.password===I&&(he=!0)}else if(E==="manager"&&L)(r[L]||"0000")===I&&(he=!0);else if(E==="therapist"&&Z){const Be=g.find(Ze=>Ze.id===Z);Be&&Be.password===I&&(he=!0)}else E==="trainer"&&(u?.password||"0000")===I&&(he=!0);if(!he){z(""),j(!1);return}let Pe=!1;E==="store"&&L?Pe=await i(L,M):E==="manager"&&L?Pe=await s(L,M):E==="therapist"&&Z?Pe=await l(Z,M):E==="trainer"&&(Pe=await f(M)),Pe?(alert(""),P(!1),se(""),D(""),$(""),Q("")):z(""),j(!1)},je=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 transition-all focus:border-stone-400 focus:ring-2 ${W.ring}`,oe=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 appearance-none transition-all focus:border-stone-400 focus:ring-2 ${W.ring} disabled:bg-stone-50 disabled:text-stone-400`;return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-stone-50 p-4 font-sans text-stone-800",children:[d.jsxs("div",{className:`w-full max-w-md bg-white p-8 rounded-2xl shadow-sm border border-stone-200 transition-all duration-500 transform 
          ${_?"opacity-0 scale-95 pointer-events-none absolute":"opacity-100 scale-100 relative"}
        `,children:[d.jsxs("button",{onClick:()=>S(!0),className:"absolute top-6 left-6 text-stone-400 hover:text-stone-600 transition-colors flex items-center gap-1 text-sm font-medium",children:[d.jsx(mT,{size:16})," "]}),d.jsxs("div",{className:"text-center mb-10 mt-2",children:[d.jsx("div",{className:"flex justify-center mb-4",children:h==="yibo"?d.jsx(id,{size:40,className:W.text,strokeWidth:1.5}):h==="anniu"?d.jsx(nS,{size:40,className:W.text,strokeWidth:1.5}):d.jsx($h,{size:40,className:W.text,strokeWidth:1.5})}),d.jsxs("h1",{className:`text-2xl font-bold tracking-tight ${W.text}`,children:[X.label," "]}),d.jsx("p",{className:"text-stone-400 text-sm mt-1",children:""})]}),d.jsx("div",{className:"flex justify-center mb-8 border-b border-stone-100 pb-1",children:Object.entries(dr).map(([he,Pe])=>d.jsxs("button",{onClick:()=>{A(Pe.id),z(""),$(""),q(""),P(!1),G(""),ee(""),re(""),Q("")},className:`px-4 py-2 text-sm font-medium transition-all relative ${E===Pe.id?"text-stone-800":"text-stone-400 hover:text-stone-600"}`,children:[Pe.label,E===Pe.id&&d.jsx("span",{className:"absolute bottom-[-5px] left-0 w-full h-[2px] bg-stone-800 rounded-full"})]},he))}),d.jsx("div",{className:"space-y-4",children:E==="therapist"?d.jsxs(d.Fragment,{children:[k?d.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[d.jsx("input",{type:"password",value:I,onChange:he=>D(he.target.value),placeholder:"",className:je}),d.jsx("input",{type:"text",value:M,onChange:he=>se(he.target.value),placeholder:"",className:je})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(pT,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:Y,onChange:he=>{G(he.target.value),ee(""),re("")},className:`${oe} pl-12`,children:[d.jsx("option",{value:"",children:""}),Object.keys(n).map(he=>d.jsxs("option",{value:he,children:[he,""]},he))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(vi,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:K,onChange:he=>{ee(he.target.value),re("")},disabled:!Y,className:`${oe} pl-12`,children:[d.jsx("option",{value:"",children:""}),pe.map(he=>d.jsx("option",{value:he,children:he},he))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(iS,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:Z,onChange:he=>re(he.target.value),disabled:!K,className:`${oe} pl-12`,children:[d.jsx("option",{value:"",children:""}),de.map(he=>d.jsx("option",{value:he.id,children:he.name},he.id))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(fc,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsx("input",{type:"password",value:V,onChange:he=>Q(he.target.value),placeholder:"",className:`${je} pl-12`,onKeyDown:he=>he.key==="Enter"&&ne()})]})]}),U&&d.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[d.jsx(rd,{size:14})," ",U]}),k?d.jsx("button",{onClick:Se,disabled:N,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:N?d.jsx(Is,{className:"animate-spin mx-auto"}):""}):d.jsx("button",{onClick:ne,disabled:N||!Z||!V,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${W.accent}`,children:N?d.jsx(Is,{className:"animate-spin mx-auto"}):""}),Z&&d.jsx("button",{onClick:()=>{P(!k),z("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:k?"":"?"})]}):d.jsxs(d.Fragment,{children:[E==="manager"&&d.jsx("div",{className:"relative",children:d.jsxs("select",{value:L,onChange:he=>q(he.target.value),className:oe,children:[d.jsx("option",{value:"",children:""}),Object.keys(n).map(he=>d.jsx("option",{value:he,children:he},he))]})}),E==="store"&&d.jsx("div",{className:"relative",children:d.jsxs("select",{value:L,onChange:he=>q(he.target.value),className:oe,children:[d.jsx("option",{value:"",children:""}),e.map(he=>d.jsx("option",{value:he.id,children:he.name},he.id))]})}),k?d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"password",value:I,onChange:he=>D(he.target.value),placeholder:"",className:je}),d.jsx("input",{type:"text",value:M,onChange:he=>se(he.target.value),placeholder:"",className:je})]}):d.jsx("input",{type:"password",value:C,onChange:he=>$(he.target.value),placeholder:"",className:je,onKeyDown:he=>he.key==="Enter"&&ye()}),U&&d.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[d.jsx(rd,{size:14})," ",U]}),k?d.jsx("button",{onClick:Se,disabled:N,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:N?d.jsx(Is,{className:"animate-spin mx-auto"}):""}):d.jsx("button",{onClick:ye,disabled:N,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${W.accent}`,children:N?d.jsx(Is,{className:"animate-spin mx-auto"}):""}),(E==="store"||E==="manager"||E==="trainer")&&d.jsx("button",{onClick:()=>{P(!k),z("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:k?"":"?"})]})})]}),_&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-sm animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-lg p-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2 tracking-tight",children:""}),d.jsx("p",{className:"text-stone-400",children:""})]}),d.jsx("div",{className:"space-y-4",children:Tw.map(he=>{let Pe=$h,Be="hover:border-stone-400 hover:bg-stone-50";he.id==="anniu"?(Pe=nS,Be="hover:border-rose-200 hover:bg-rose-50 hover:text-rose-900"):he.id==="yibo"?(Pe=id,Be="hover:border-yellow-200 hover:bg-yellow-50 hover:text-yellow-900"):Be="hover:border-stone-400 hover:bg-stone-50 hover:text-stone-900";const Ze=Pe;return d.jsxs("button",{onClick:()=>me(he.id),className:`w-full flex items-center justify-between p-6 rounded-xl border border-stone-200 bg-white transition-all duration-200 group ${Be}`,children:[d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx(Ze,{size:24,strokeWidth:1.5,className:"text-stone-400 group-hover:text-current transition-colors"}),d.jsx("div",{className:"text-left",children:d.jsx("h3",{className:"text-lg font-bold text-stone-700 group-hover:text-current transition-colors",children:he.label})})]}),d.jsx(Im,{size:20,className:"text-stone-300 group-hover:text-current transition-colors opacity-0 group-hover:opacity-100 transform group-hover:translate-x-1 duration-300"})]},he.id)})}),d.jsx("div",{className:"mt-12 text-center",children:d.jsx("p",{className:"text-[10px] text-stone-300 font-medium tracking-widest uppercase",children:"DRCYJ Cloud System"})})]})})]})},cpe=()=>{const{fmtMoney:t,fmtNum:e,targets:n,userRole:r,currentUser:i,allReports:s,budgets:l,managers:u,selectedYear:f,selectedMonth:h,therapistReports:p,currentBrand:g}=x.useContext(tr),[b,_]=x.useState(r==="therapist"||r==="trainer"?"therapist":"store"),{brandInfo:S,brandPrefix:E}=x.useMemo(()=>{let Y="CYJ",G="CYJ";g&&(typeof g=="string"?Y=g:typeof g=="object"&&(Y=g.id||"CYJ",G=g.name||g.label||Y));const K=Y.toLowerCase();return K.includes("anniu")||K.includes("anew")?G="":K.includes("yibo")?G="":G="CYJ",{brandInfo:{id:Y,name:G},brandPrefix:G}},[g]),A=x.useMemo(()=>Y=>Y?Y.replace(new RegExp(`^(${E}|CYJ|Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",[E]),C=x.useMemo(()=>r==="director"?Object.values(u).flat():r==="manager"&&i?u[i.name]||[]:r==="store"&&i?(i.stores||[i.storeName]).map(G=>A(G)).filter(G=>G):[],[r,i,u,A]),$=x.useMemo(()=>{if(!s)return null;const Y=parseInt(f),G=parseInt(h),K=new Date(Y,G,0).getDate(),ee=new Date;let Z=K;ee.getFullYear()===Y&&ee.getMonth()+1===G?Z=ee.getDate():ee<new Date(Y,G-1,1)&&(Z=0);const re={cash:0,accrual:0,operationalAccrual:0,skincareSales:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,budget:0,accrualBudget:0,dailyData:Array.from({length:K},(pe,de)=>({date:`${G}/${de+1}`,day:de+1,cash:0,traffic:0}))};s.forEach(pe=>{const de=new Date(pe.date);if(de.getFullYear()!==Y||de.getMonth()+1!==G)return;const ye=A(pe.storeName);if(!C.includes(ye))return;const ne=(Number(pe.cash)||0)-(Number(pe.refund)||0),Se=Number(pe.accrual)||0,je=Number(pe.traffic)||0;re.cash+=ne,re.accrual+=Se,re.operationalAccrual+=Number(pe.operationalAccrual)||0,re.newCustomerSales+=Number(pe.newCustomerSales)||0,re.skincareSales+=Number(pe.skincareSales)||0,re.traffic+=je,re.newCustomers+=Number(pe.newCustomers)||0,re.newCustomerClosings+=Number(pe.newCustomerClosings)||0;const oe=de.getDate()-1;re.dailyData[oe]&&(re.dailyData[oe].cash+=ne,re.dailyData[oe].traffic+=je)}),C.forEach(pe=>{const ye=`${`${E}${pe}`}_${Y}_${G}`,ne=l[ye];ne&&(re.budget+=Number(ne.cashTarget)||0,re.accrualBudget+=Number(ne.accrualTarget)||0)});const V=re.budget>0?re.cash/re.budget*100:0,Q=Z>0?Math.round(re.cash/Z*K):0,X=re.traffic>0?Math.round(re.operationalAccrual/re.traffic):0,W=re.newCustomers>0?Math.round(re.newCustomerSales/re.newCustomers):0,me=re.dailyData.slice(0,Z===0?K:Z);return{grandTotal:{cash:re.cash,accrual:re.accrual,operationalAccrual:re.operationalAccrual,skincareSales:re.skincareSales,traffic:re.traffic,newCustomers:re.newCustomers,newCustomerClosings:re.newCustomerClosings,newCustomerSales:re.newCustomerSales,budget:re.budget,projection:Q},dailyTotals:me,totalAchievement:V,avgTrafficASP:X,avgNewCustomerASP:W,daysPassed:Z,daysInMonth:K}},[s,l,f,h,C,E,A]),L=x.useMemo(()=>{if(r!=="store"&&r!=="manager"||!s)return[];const Y={},G=parseInt(f),K=parseInt(h);s.forEach(re=>{const V=new Date(re.date);if(V.getFullYear()!==G||V.getMonth()+1!==K)return;const Q=re.storeName;Y[Q]||(Y[Q]=0),Y[Q]+=(Number(re.cash)||0)-(Number(re.refund)||0)});const ee=Object.keys(Y).map(re=>{const V=`${re}_${G}_${K}`,Q=l[V],X=Q?Number(Q.cashTarget||0):0,W=Y[re],me=X>0?W/X*100:0;return{storeName:re,actual:W,target:X,rate:me}});return ee.sort((re,V)=>V.rate-re.rate),ee.map((re,V)=>({...re,rank:V+1,totalStores:ee.length,isBottom5:V+1>ee.length-5})).filter(re=>{const V=A(re.storeName);return C.includes(V)})},[r,s,C,l,f,h,A]),q=x.useMemo(()=>{if(!p)return{rankings:[],myStats:null,grandTotal:{}};const Y=p.filter(V=>{const Q=V.date.replace(/-/g,"/"),X=new Date(Q);return X.getFullYear()===parseInt(f)&&X.getMonth()+1===parseInt(h)}),G={};Y.forEach(V=>{const Q=V.therapistId;G[Q]||(G[Q]={id:Q,name:V.therapistName,store:V.storeName,totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,newCustomerCount:0,oldCustomerCount:0,newCustomerClosings:0,returnRevenue:0}),G[Q].totalRevenue+=Number(V.totalRevenue)||0,G[Q].serviceCount+=Number(V.serviceCount)||0,G[Q].newCustomerRevenue+=Number(V.newCustomerRevenue)||0,G[Q].oldCustomerRevenue+=Number(V.oldCustomerRevenue)||0,G[Q].newCustomerCount+=Number(V.newCustomerCount)||0,G[Q].oldCustomerCount+=Number(V.oldCustomerCount)||0,G[Q].newCustomerClosings+=Number(V.newCustomerClosings)||0,G[Q].returnRevenue+=Number(V.returnRevenue)||0});const K=Object.values(G).map(V=>{const Q=V.totalRevenue||1,X=Math.round(V.newCustomerRevenue/Q*100),W=Math.round(V.oldCustomerRevenue/Q*100),me=V.newCustomerCount||1,pe=V.newCustomerClosings/me*100,de=V.oldCustomerCount||1,ye=V.newCustomerRevenue/me,ne=V.oldCustomerRevenue/de;return{...V,revenueMix:`${X}% / ${W}%`,newClosingRate:pe,newAsp:ye,oldAsp:ne}}).sort((V,Q)=>Q.totalRevenue-V.totalRevenue),ee=K.length;K.forEach((V,Q)=>{V.rank=Q+1,V.totalPeers=ee,V.rank<=3?V.status="TOP":V.rank>ee-10?V.status="DANGER":V.status="NORMAL",V.gapToNext=Q>0?K[Q-1].totalRevenue-V.totalRevenue:0});let Z=null;r==="therapist"&&i&&(Z=K.find(V=>V.id===i.id));const re=K.reduce((V,Q)=>({totalRevenue:V.totalRevenue+Q.totalRevenue,serviceCount:V.serviceCount+Q.serviceCount,newCustomerRevenue:V.newCustomerRevenue+Q.newCustomerRevenue,oldCustomerRevenue:V.oldCustomerRevenue+Q.oldCustomerRevenue,returnRevenue:V.returnRevenue+Q.returnRevenue,count:V.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,returnRevenue:0,count:0});return{rankings:K,myStats:Z,grandTotal:re}},[p,f,h,r,i]),U=()=>{const Y=q.rankings.filter(X=>r!=="therapist"||X.id===i?.id),G=[",,,,,,,,,"],K=Y.map(X=>[X.rank,X.name,X.store,X.totalRevenue,X.newCustomerRevenue,X.oldCustomerRevenue,`"${X.revenueMix}"`,`${X.newClosingRate.toFixed(0)}%`,Math.round(X.newAsp),Math.round(X.oldAsp)].join(",")),ee="\uFEFF"+[G,...K].join(`
`),Z=new Blob([ee],{type:"text/csv;charset=utf-8;"}),re=document.createElement("a"),V=URL.createObjectURL(Z),Q=new Date().toISOString().split("T")[0];re.setAttribute("href",V),re.setAttribute("download",`${S.name}__${Q}.csv`),re.style.visibility="hidden",document.body.appendChild(re),re.click(),document.body.removeChild(re)},z=Y=>{if(!Y)return{title:"...",sub:"Data Loading..."};const{rank:G,totalPeers:K,status:ee,gapToNext:Z}=Y,re=K-G;return ee==="TOP"?{title:G===1?"":"",sub:"",icon:$h}:ee==="DANGER"?{title:` ${re} `,sub:` ${t(Z)}`,icon:sl}:{title:` ${re} `,sub:` ${t(Z)} `,icon:epe}};if(!$)return d.jsxs("div",{className:"flex h-96 items-center justify-center",children:[d.jsx(Is,{className:"h-10 w-10 animate-spin text-stone-300"}),d.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});const{grandTotal:N,dailyTotals:j,totalAchievement:k,daysPassed:P,daysInMonth:I}=$,D=I>0?P/I*100:0,M=k-D,se=({title:Y,value:G,subText:K,icon:ee,color:Z})=>d.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden h-full",children:[d.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${Z}`,children:d.jsx(ee,{size:64})}),d.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:Y}),d.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:G})]}),K&&d.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:K})]})]});return d.jsx(Zr,{children:d.jsxs("div",{className:"space-y-8 pb-10 w-full min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2 animate-in fade-in slide-in-from-left-2 duration-500",children:[d.jsx("div",{className:`w-2 h-8 rounded-full ${S.id.toLowerCase().includes("anniu")?"bg-teal-500":S.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),d.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[S.name," "]})]}),r!=="therapist"&&r!=="trainer"&&d.jsx("div",{className:"flex justify-center mb-4",children:d.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[d.jsxs("button",{onClick:()=>_("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(vi,{size:16})," "]}),d.jsxs("button",{onClick:()=>_("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(gl,{size:16})," "]})]})}),b==="store"&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r==="store"&&L.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:L.map(Y=>d.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${Y.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:Y.isBottom5?d.jsx(sl,{size:120}):d.jsx(Fme,{size:120})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:Y.isBottom5?d.jsx(Ga,{size:20,className:"text-white"}):d.jsx(dme,{size:20,className:"text-yellow-100"})}),d.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:Y.storeName}),Y.isBottom5&&d.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),d.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",Y.rank]}),d.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",Y.totalStores]})]})]}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),d.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[Y.rate.toFixed(0),"%"]})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[d.jsxs("span",{children:[": ",t(Y.actual)]}),d.jsxs("span",{children:[": ",t(Y.target)]})]})]})]},Y.storeName))}),r==="manager"&&L.length>0&&d.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[d.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:d.jsx($9,{size:100})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:d.jsx($h,{size:24,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),d.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),d.jsxs("div",{className:"relative z-10 text-right",children:[d.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),d.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:L.length})]})]}),d.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[d.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),d.jsx("th",{className:"p-3 sm:p-4",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),d.jsx("tbody",{children:L.map((Y,G)=>d.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${Y.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[d.jsx("td",{className:"p-3 sm:p-4 text-center",children:d.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${G===0?"bg-amber-100 text-amber-700":G===1?"bg-stone-200 text-stone-600":G===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:Y.rank})}),d.jsx("td",{className:"p-3 sm:p-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[d.jsx("span",{className:`font-bold text-sm sm:text-base ${Y.isBottom5?"text-rose-700":"text-stone-700"}`,children:Y.storeName}),Y.isBottom5&&d.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[d.jsx(sl,{size:10})," ",d.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),d.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:t(Y.actual)}),d.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:t(Y.target)}),d.jsx("td",{className:"p-3 sm:p-4 text-right",children:d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${Y.isBottom5?"text-rose-600":Y.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[Y.rate.toFixed(0),"%"]}),d.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${Y.isBottom5?"bg-rose-500":Y.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(Y.rate,100)}%`}})})]})})]},Y.storeName))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:d.jsx(Ga,{size:16,className:"text-indigo-500"})}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),d.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",P," ",d.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",I]})]})]}),d.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${M>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[d.jsx("span",{className:"text-sm font-bold",children:M>=0?"":""}),d.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs(M).toFixed(0),"%"]})]})]}),d.jsxs("div",{className:"space-y-6 relative z-10",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:k>=D?"text-emerald-500":"text-rose-500",children:[k.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${k>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":k>=D?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(k,100)}%`}})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[d.jsx("span",{className:"text-stone-400",children:" ()"}),d.jsxs("span",{className:"text-stone-400",children:[D.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(D,100)}%`}})})]})]})]}),d.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[d.jsx(Pd,{size:14})," "]}),d.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:t(N.projection)}),d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:[N.budget>0?(N.projection/N.budget*100).toFixed(0):0,"%"]})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:d.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-mono font-bold text-stone-500",children:t(N.budget)})]})})]})})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[d.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(se,{title:"",value:t(N.cash),icon:Js,color:"text-amber-500",subText:d.jsxs("span",{className:`font-bold ${k>=100?"text-emerald-600":"text-amber-600"}`,children:[k.toFixed(0),"% "]})}),d.jsx(se,{title:"",value:t(N.accrual),icon:tS,color:"text-cyan-500",subText:""}),d.jsx(se,{title:"",value:t(N.skincareSales),icon:Nme,color:"text-rose-500",subText:d.jsxs(d.Fragment,{children:[" ",d.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[N.accrual>0?(N.skincareSales/N.accrual*100).toFixed(0):0,"%"]})]})})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[d.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[d.jsx(se,{title:"",value:e(N.traffic),icon:Id,color:"text-blue-500",subText:""}),d.jsx(se,{title:"",value:t($.avgTrafficASP),icon:ad,color:"text-indigo-500",subText:d.jsxs("span",{className:$.avgTrafficASP>=n.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[$.avgTrafficASP>=n.trafficASP?"":""," ( ",e(n.trafficASP),")"]})}),d.jsx(se,{title:"",value:e(N.newCustomers),icon:id,color:"text-purple-500",subText:""}),d.jsx(se,{title:"",value:e(N.newCustomerClosings),icon:Rme,color:"text-teal-500",subText:d.jsxs("span",{children:[" ",d.jsxs("span",{className:"font-bold",children:[N.newCustomers>0?(N.newCustomerClosings/N.newCustomers*100).toFixed(0):0,"%"]})]})}),d.jsx(se,{title:"",value:t($.avgNewCustomerASP),icon:ah,color:"text-fuchsia-500",subText:d.jsxs("span",{className:$.avgNewCustomerASP>=n.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[$.avgNewCustomerASP>=n.newASP?"":""," ( ",e(n.newASP),")"]})})]})]}),d.jsx(Nt,{title:`${S.name} `,subtitle:" vs ",children:d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(dT,{data:j,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx(_y,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),d.jsx(Ey,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),d.jsx(nd,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:Y=>Y===0?"0":`$${(Y/1e3).toFixed(0)}k`}),d.jsx(nd,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:Y=>e(Y)}),d.jsx(kh,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(Y,G)=>G===""?[t(Y),G]:[e(Y),G]}),d.jsx(aT,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),d.jsx(td,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),b==="therapist"&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 w-full min-w-0",children:[q.myStats&&(()=>{const Y=z(q.myStats),G=q.myStats.status;let K="bg-gradient-to-br from-indigo-600 to-purple-700",ee="shadow-indigo-200";return G==="TOP"?(K="bg-gradient-to-br from-amber-400 to-orange-500",ee="shadow-amber-200"):G==="DANGER"&&(K="bg-gradient-to-br from-rose-600 to-red-700",ee="shadow-rose-200"),d.jsxs("div",{className:`${K} rounded-3xl p-6 text-white shadow-xl ${ee} relative overflow-hidden transition-all duration-500`,children:[" ",d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(Y.icon,{size:140})})," ",d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[" ",d.jsxs("div",{children:[" ",d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-1",children:[G==="DANGER"&&d.jsx(Yhe,{size:12,className:"animate-pulse"}),"No.",q.myStats.rank]}),d.jsxs("span",{className:"text-white/80 font-bold tracking-wider text-sm",children:[q.myStats.store,""]})]}),d.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:q.myStats.name}),d.jsxs("div",{className:"mt-2 p-3 bg-black/10 rounded-xl backdrop-blur-md border border-white/10 max-w-md",children:[d.jsxs("p",{className:"font-bold text-sm flex items-center gap-2",children:[G==="DANGER"&&d.jsx(Whe,{size:16}),Y.title]}),d.jsx("p",{className:"text-xs text-white/70 mt-1",children:Y.sub})]})," "]})," ",d.jsxs("div",{className:"flex gap-6 text-right",children:[" ",d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-bold",children:t(q.myStats.totalRevenue)})]})," ",d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),d.jsxs("p",{className:"text-3xl font-mono font-bold",children:[q.myStats.newClosingRate.toFixed(0),"%"]})]})," "]})," "]})," "]})})(),r!=="therapist"&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:[" ",d.jsx(se,{title:"",value:t(q.grandTotal.totalRevenue),icon:Js,color:"text-indigo-500",subText:`${q.grandTotal.count} `})," ",d.jsx(se,{title:"",value:t(q.grandTotal.newCustomerRevenue),icon:id,color:"text-amber-500"})," ",d.jsx(se,{title:"",value:t(q.grandTotal.oldCustomerRevenue),icon:ad,color:"text-cyan-500"})," ",d.jsx(se,{title:"",value:`${Math.round(q.grandTotal.newCustomerRevenue/(q.grandTotal.totalRevenue||1)*100)}% / ${Math.round(q.grandTotal.oldCustomerRevenue/(q.grandTotal.totalRevenue||1)*100)}%`,icon:Ga,color:"text-fuchsia-500",subText:" / "})," ",d.jsx(se,{title:"",value:t(q.grandTotal.returnRevenue),icon:Fhe,color:"text-rose-500"})," "]}),d.jsx(Nt,{title:"",subtitle:" ()",children:d.jsxs("div",{className:"grid grid-cols-1 w-full",children:[d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[d.jsx(o0,{size:16}),"  CSV"]})}),d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px] whitespace-nowrap",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100 bg-stone-50/50",children:[d.jsx("th",{className:"p-3 md:p-4 w-16 text-center",children:""}),d.jsx("th",{className:"p-3 md:p-4",children:""}),d.jsx("th",{className:"p-3 md:p-4",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""})]})}),d.jsxs("tbody",{className:"text-sm",children:[q.rankings.filter(Y=>r!=="therapist"||Y.id===i?.id).map((Y,G)=>d.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${i?.id===Y.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[d.jsx("td",{className:"p-3 md:p-4 text-center",children:d.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${Y.rank<=3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":Y.status==="DANGER"?"bg-rose-100 text-rose-700 ring-4 ring-rose-50":"bg-stone-100 text-stone-500"}`,children:Y.rank})}),d.jsxs("td",{className:"p-3 md:p-4 font-bold text-stone-700 flex items-center gap-2",children:[Y.name,i?.id===Y.id&&d.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"}),Y.status==="DANGER"&&d.jsx("span",{className:"text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold",children:""})]}),d.jsxs("td",{className:"p-3 md:p-4 text-stone-500",children:[Y.store,""]}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-indigo-600",children:t(Y.totalRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(Y.newCustomerRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(Y.oldCustomerRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-center font-mono text-xs text-stone-400",children:Y.revenueMix}),d.jsxs("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-stone-700",children:[Y.newClosingRate.toFixed(0),"%"]}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(Y.newAsp))}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(Y.oldAsp))})]},Y.id))," ",q.rankings.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:10,className:"p-8 text-center text-stone-400",children:""})})]})]})}),d.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[d.jsx(fT,{size:12}),"  ",d.jsx(Im,{size:12})]})]})})]})]})})},zM=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},upe=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=x.useState(()=>zM(t));x.useEffect(()=>{t&&l(zM(t))},[t]);const u=s.getFullYear(),f=s.getMonth(),h=new Date(u,f+1,0).getDate(),p=new Date(u,f,1).getDay(),g=E=>{const A=new Date(u,f,E),C=new Date;if(C.setHours(0,0,0,0),A>C)return"none";const $=`${u}-${String(f+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`,L=r.filter(U=>U.date?U.date.replace(/\//g,"-")===$:!1);return!n||Array.isArray(n)&&n.length===0?"none":n.every(U=>{const z=Array.isArray(U.stores)?U.stores.map(j=>typeof j=="string"?j:j.name):[];return z.length===0?!0:L.some(j=>z.includes(j.storeName))})?"complete":"incomplete"},b=()=>{l(new Date(u,f-1,1))},_=()=>{l(new Date(u,f+1,1))},S=E=>{const A=`${u}-${String(f+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`;e(A),i&&i()};return d.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("button",{onClick:b,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:d.jsx(mT,{size:20})}),d.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",f+1,""]}),d.jsx("button",{onClick:_,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:d.jsx(R9,{size:20})})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(E=>d.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:E},E))}),d.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((E,A)=>d.jsx("div",{},`empty-${A}`)),Array.from({length:h}).map((E,A)=>{const C=A+1,L=`${u}-${String(f+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`===t,q=g(C);return d.jsxs("button",{onClick:()=>S(C),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${L?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[C,!L&&q!=="none"&&d.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${q==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},C)})]}),i&&d.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},Y9=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=x.useState(!1),l=x.useRef(null);return x.useEffect(()=>{const u=f=>{window.innerWidth>=768&&l.current&&!l.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),d.jsxs("div",{className:"relative w-full",ref:l,children:[" ",d.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[d.jsx("span",{className:"text-lg",children:t}),d.jsx(lo,{size:18,className:"text-stone-400 ml-auto"})]}),i&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),d.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:d.jsx(upe,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},Uu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},dpe=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u,getCollectionPath:f,currentBrand:h}=x.useContext(tr),[p,g]=x.useState(""),[b,_]=x.useState(""),S={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[E,A]=x.useState(S),[C,$]=x.useState(!1),[L,q]=x.useState(!1),[U,z]=x.useState(!1),[N,j]=x.useState(null),k={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},P=Uu(),I=x.useMemo(()=>{if(!h)return"CYJ";switch(typeof h=="string"?h:h.id){case"anniu":return"";case"yibo":return"";case"cyj":return"CYJ";default:return"CYJ"}},[h]);x.useEffect(()=>{A(S),_(""),g("")},[h]),x.useEffect(()=>{const Z=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const re=Uu(),V=Object.values(E).every(Q=>Q==="");r!==re&&V&&(console.log(`[] : ${r} -> ${re}`),i(re))}};return document.addEventListener("visibilitychange",Z),window.addEventListener("focus",Z),()=>{document.removeEventListener("visibilitychange",Z),window.removeEventListener("focus",Z)}},[r,E,i]),x.useEffect(()=>{const Z=typeof h=="string"?h:h?.id||"unknown",re=localStorage.getItem(`input_draft_${Z}`);if(re)try{const V=JSON.parse(re);V.formData&&A(V.formData),V.store&&_(V.store),V.manager&&g(V.manager);const Q=V.date;Q===Uu()&&i(Q)}catch(V){console.error(V)}},[h]),x.useEffect(()=>{const Z=typeof h=="string"?h:h?.id||"unknown",re={formData:E,store:b,manager:p,date:r,timestamp:Date.now()};localStorage.setItem(`input_draft_${Z}`,JSON.stringify(re))},[E,b,p,r,h]),x.useEffect(()=>{const Z=hr(E.operationalAccrual),re=hr(E.skincareSales);A(V=>{const Q=Z+re;return hr(V.accrual)!==Q?{...V,accrual:hc(Q)}:V})},[E.operationalAccrual,E.skincareSales]);const D=(Z,re)=>{const V=re.replace(/,/g,"");/^\d*$/.test(V)&&A(Q=>({...Q,[Z]:hc(V)}))},M=x.useMemo(()=>p?(n[p]||[]).map(Z=>{let re=Z.replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").replace(/$/,"");return`${I}${re}`}):e==="store"&&t?(t.stores||[t.storeName]).map(Z=>{let re=Z.replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").replace(/$/,"");return`${I}${re}`}):[],[p,n,e,t,I]);x.useEffect(()=>{if(!b&&e==="store"&&t){const Z=t.stores||[t.storeName];if(Z.length>0){let re=Z[0];re=re.replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").replace(/$/,"");const V=Object.keys(n).find(Q=>n[Q].some(X=>X.includes(re)));V&&g(V),_(`${I}${re}`)}}else!p&&e==="manager"&&t&&g(t.name)},[e,t,n,I]);const se=()=>{if(confirm("")){A(S);const Z=typeof h=="string"?h:h?.id||"unknown";localStorage.removeItem(`input_draft_${Z}`),s("","info")}},Y=Z=>{if(Z.preventDefault(),!b)return s("","error");if(r>P)return s("","error");const re=gr(r),V=u.find(Q=>gr(Q.date)===re&&Q.storeName===b);j(V?V.id:null),r!==P?z(!0):q(!0)},G=()=>{z(!1),q(!0)},K=async()=>{$(!0);try{const Z=gr(r),re=typeof h=="string"?h:h?.id||"unknown",V={date:Z,storeName:b,brandId:re,...Object.keys(E).reduce((Q,X)=>({...Q,[X]:hr(E[X])}),{}),timestamp:gd(),submittedBy:t?.name||"unknown"};N?(await Ln(jr(f("daily_reports"),N),V),l(e,t?.name,"()",`${b} ${Z}`)):(await nE(f("daily_reports"),V),l(e,t?.name,"",`${b} ${Z}`)),A(S),localStorage.removeItem(`input_draft_${re}`),q(!1),j(null),s("","success")}catch(Z){console.error(Z),s(": "+Z.message,"error")}finally{$(!1)}},ee=Z=>d.jsxs("div",{children:[d.jsx("label",{className:`block text-xs font-bold mb-1.5 ${Z.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:k[Z]||Z}),d.jsx("input",{type:"text",value:E[Z],onChange:re=>D(Z,re.target.value),readOnly:Z==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${Z==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},Z);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[d.jsx(Qs,{size:14}),"  (",I,")"]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),d.jsx(Y9,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),d.jsx("div",{className:"relative",children:d.jsxs("select",{value:p,onChange:Z=>{g(Z.target.value),_("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(n).map(Z=>d.jsxs("option",{value:Z,children:[Z,""]},Z))]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),d.jsx("div",{className:"relative",children:d.jsxs("select",{value:b,onChange:Z=>_(Z.target.value),disabled:!p,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[d.jsx("option",{value:"",children:"..."}),M.map(Z=>d.jsx("option",{value:Z,children:Z},Z))]})})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[d.jsx(L9,{size:20,className:"text-amber-500"}),d.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[d.jsx(tme,{size:14})," "]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ee("cash"),ee("accrual"),ee("operationalAccrual"),ee("skincareSales")]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[d.jsx(Id,{size:14})," "]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ee("newCustomerSales"),ee("traffic"),ee("newCustomers"),ee("newCustomerClosings")]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[d.jsx(q9,{size:14}),"  ()"]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ee("refund"),ee("skincareRefund")]})]}),d.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[d.jsx("button",{onClick:se,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:d.jsx(B9,{size:20})}),d.jsx("button",{onClick:Y,disabled:C,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70",children:C?d.jsx(Ga,{className:"animate-spin mx-auto"}):""})]})]}),U&&d.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[d.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[d.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:d.jsx(lo,{size:32,className:"text-white"})}),d.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),d.jsxs("div",{className:"p-6 space-y-6 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),d.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:d.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[d.jsx(sl,{size:18,className:"shrink-0 mt-0.5"}),d.jsxs("span",{children:[" ",d.jsx("u",{children:""})," (",P,")",N&&d.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",d.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),d.jsx("button",{onClick:G,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),L&&d.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[d.jsx(rd,{})," "]}),d.jsx("button",{onClick:()=>q(!1),children:d.jsx(sa,{className:"text-white"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:r})]}),d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:b})]}),d.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["$",E.cash]})]}),d.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["$",E.accrual]})]})]}),N&&d.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsx("button",{onClick:K,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900",children:""})]})]})]})})]})},fpe=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i,getCollectionPath:s,currentBrand:l}=x.useContext(tr),u={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[f,h]=x.useState(u),[p,g]=x.useState(!1),[b,_]=x.useState(!1),[S,E]=x.useState(!1),[A,C]=x.useState(!1),[$,L]=x.useState(null),q={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},U=Uu();x.useEffect(()=>{const P=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const I=Uu(),D=!f.newCustomerRevenue&&!f.oldCustomerRevenue;e!==I&&D&&(console.log(`[] : ${e} -> ${I}`),n(I))}};return document.addEventListener("visibilitychange",P),window.addEventListener("focus",P),()=>{document.removeEventListener("visibilitychange",P),window.removeEventListener("focus",P)}},[e,f,n]),x.useEffect(()=>{const P=typeof l=="string"?l:l?.id||"unknown",I=localStorage.getItem(`therapist_draft_${P}`);if(I)try{const D=JSON.parse(I);D.formData&&h(D.formData);const M=D.date;M===Uu()&&n(M)}catch(D){console.error(D)}},[l]),x.useEffect(()=>{const P=typeof l=="string"?l:l?.id||"unknown",I={formData:f,date:e,timestamp:Date.now()};localStorage.setItem(`therapist_draft_${P}`,JSON.stringify(I))},[f,e,l]),x.useEffect(()=>{const P=hr(f.newCustomerRevenue)||0,I=hr(f.oldCustomerRevenue)||0,D=hr(f.returnRevenue)||0,M=P+I-D;hr(f.totalRevenue)!==M&&h(se=>({...se,totalRevenue:hc(M)}))},[f.newCustomerRevenue,f.oldCustomerRevenue,f.returnRevenue]),x.useEffect(()=>{(async()=>{if(t?.id)try{const M=`${gr(e).replace(/\//g,"-")}_${t.id}`,se=jr(s("therapist_daily_reports"),M),Y=await wO(se);_(Y.exists())}catch(I){console.error("",I)}})()},[e,t,s]);const z=(P,I)=>{const D=I.replace(/,/g,"");/^\d*$/.test(D)&&h(M=>({...M,[P]:hc(D)}))},N=()=>{if(!(f.newCustomerRevenue||f.oldCustomerRevenue||f.newCustomerCount||f.oldCustomerCount||f.returnRevenue))return r("","error");e!==U?C(!0):E(!0)},j=()=>{C(!1),E(!0)},k=async()=>{g(!0),L(null);try{if(!t||!t.id)throw new Error(" ID ");const P=gr(e),D=`${P.replace(/\//g,"-")}_${t.id}`,M=typeof l=="string"?l:l?.id||"unknown",se={date:P,therapistId:t.id,therapistName:t.name,storeName:t.store||"",brandId:M,totalRevenue:hr(f.totalRevenue),newCustomerRevenue:hr(f.newCustomerRevenue),newCustomerCount:hr(f.newCustomerCount),newCustomerClosings:hr(f.newCustomerClosings),oldCustomerRevenue:hr(f.oldCustomerRevenue),oldCustomerCount:hr(f.oldCustomerCount),returnRevenue:hr(f.returnRevenue),updatedAt:gd()},Y=jr(s("therapist_daily_reports"),D);if(await Ln(Y,se),(await wO(Y)).exists())i("therapist",t.name,"",`${P} `),r("","success"),_(!0),h(u),localStorage.removeItem(`therapist_draft_${M}`),E(!1);else throw new Error("")}catch(P){console.error(":",P),L({error:P.message,code:P.code||"unknown",path:"brands/.../therapist_daily_reports"}),r("","error")}finally{g(!1)}};return d.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[d.jsx(gl,{className:"text-indigo-200"})," ",t?.name," "]}),d.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),d.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:d.jsx(LM,{size:120})})]}),d.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:P=>n(P.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),b&&d.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[d.jsx(Qs,{size:16}),"  (",e,") "]}),$&&d.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[d.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[d.jsx(whe,{})," "]}),d.jsx("p",{className:"text-rose-700 text-sm font-bold",children:$.error})]}),d.jsx(Nt,{title:"",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[d.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[d.jsx(She,{size:12})," ",q.totalRevenue," ()"]}),d.jsxs("div",{className:"relative",children:[d.jsx(Js,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),d.jsx("input",{type:"text",value:f.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[d.jsx(LM,{size:12})," "]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.newCustomerRevenue}),d.jsx("input",{type:"text",value:f.newCustomerRevenue,onChange:P=>z("newCustomerRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.newCustomerCount}),d.jsx("input",{type:"text",value:f.newCustomerCount,onChange:P=>z("newCustomerCount",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.newCustomerClosings}),d.jsx("input",{type:"text",value:f.newCustomerClosings,onChange:P=>z("newCustomerClosings",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[d.jsx(Id,{size:12})," "]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.oldCustomerRevenue}),d.jsx("input",{type:"text",value:f.oldCustomerRevenue,onChange:P=>z("oldCustomerRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.oldCustomerCount}),d.jsx("input",{type:"text",value:f.oldCustomerCount,onChange:P=>z("oldCustomerCount",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[d.jsx(q9,{size:12})," ",q.returnRevenue]}),d.jsx("input",{type:"text",value:f.returnRevenue,onChange:P=>z("returnRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),d.jsxs("button",{onClick:N,disabled:p,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[p?d.jsx(Ga,{className:"animate-spin"}):d.jsx(F9,{size:20}),""]})]})}),A&&d.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[d.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[d.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:d.jsx(lo,{size:32,className:"text-white"})}),d.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),d.jsxs("div",{className:"p-6 space-y-6 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),d.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:d.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[d.jsx(sl,{size:18,className:"shrink-0 mt-0.5"}),d.jsxs("span",{children:[" ",d.jsx("u",{children:""})," (",U,")",b&&d.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",d.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),d.jsx("button",{onClick:j,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),S&&d.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[d.jsx(rd,{})," "]}),d.jsx("button",{onClick:()=>E(!1),children:d.jsx(sa,{className:"text-white"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:e})]}),d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t?.name})]}),d.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",f.totalRevenue||0]})]}),d.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:d.jsxs("span",{children:["( $",f.newCustomerRevenue||0," +  $",f.oldCustomerRevenue||0,")"]})}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",f.returnRevenue||0]})]})]})]}),b&&d.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[d.jsx(sl,{size:12})," "]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsx("button",{onClick:k,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md",children:""})]})]})]})})]})},hpe=()=>{const{userRole:t}=x.useContext(tr);return d.jsx(Zr,{children:t==="therapist"?d.jsx(fpe,{}):d.jsx(dpe,{})})},mpe=()=>{const{showToast:t,managers:e,userRole:n,currentUser:r,getCollectionPath:i,getDocPath:s,currentBrand:l}=x.useContext(tr),[u,f]=x.useState(n==="trainer"||n==="therapist"?"therapist":"store"),[h,p]=x.useState([]),[g,b]=x.useState([]),[_,S]=x.useState(!1),E=()=>new Date().toISOString().split("T")[0],[A,C]=x.useState(E()),[$,L]=x.useState(E()),[q,U]=x.useState(""),[z,N]=x.useState(null),[j,k]=x.useState({}),P=W=>typeof W=="number"?W.toLocaleString():W,I=x.useMemo(()=>{let W="CYJ";if(l){const pe=(typeof l=="string"?l:l.id||"CYJ").toLowerCase();pe.includes("anniu")||pe.includes("anew")?W="":pe.includes("yibo")?W="":W="CYJ"}return W},[l]),D=x.useMemo(()=>n==="director"||n==="trainer"?null:n==="manager"&&r?(e[r.name]||[]).map(W=>W.trim()):n==="store"&&r?(r.stores||[r.storeName]).map(me=>me.replace(/CYJ|||Anew|Yibo|/gi,"").trim()):n==="therapist"&&r?[r.store]:[],[n,r,e]),M=x.useMemo(()=>{let W=[];return D!==null?W=D:W=Object.values(e).flat(),W.filter(me=>me).map(me=>`${I}${me}`).sort()},[e,D,I]);x.useEffect(()=>{M.length===1&&U(M[0])},[M]);const se=W=>W?W.storeName||W.store||"":"",Y=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],G=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];x.useEffect(()=>{if(!A||!$)return;(async()=>{S(!0);try{const me=u==="store"?"daily_reports":"therapist_daily_reports",pe=new Map,de=i(me),ye=vh(de,Cu("date",">=",A),Cu("date","<=",$),av("date","desc"));(await sv(ye)).docs.forEach(Be=>pe.set(Be.id,{id:Be.id,...Be.data()}));const Se=A.replace(/-/g,"/"),je=$.replace(/-/g,"/"),oe=vh(de,Cu("date",">=",Se),Cu("date","<=",je),av("date","desc"));(await sv(oe)).docs.forEach(Be=>pe.set(Be.id,{id:Be.id,...Be.data()}));const Pe=Array.from(pe.values()).sort((Be,Ze)=>Ze.date.localeCompare(Be.date));u==="store"?p(Pe):b(Pe)}catch(me){console.error(me),t(": "+me.message,"error")}finally{S(!1)}})()},[u,A,$,i,t,l]);const K=u==="store"?h:g,ee=x.useMemo(()=>K.filter(W=>{if(n==="therapist"){if(u!=="therapist"||W.therapistId!==r?.id)return!1}else if(D!==null){const pe=ne=>String(ne||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),de=pe(se(W));if(!D.some(ne=>de===pe(ne)))return!1}let me=!0;if(q){const pe=ne=>String(ne||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),de=pe(q);me=pe(se(W))===de}return me}),[K,q,D,n,r,u]),Z=W=>{N(W.id),k({...W,date:gr(W.date)})},re=()=>{N(null),k({})},V=(W,me)=>{k(pe=>{const de={...pe,[W]:me};if(u==="therapist"&&(W==="newCustomerRevenue"||W==="oldCustomerRevenue"||W==="returnRevenue")){const ye=Number(de.newCustomerRevenue||0),ne=Number(de.oldCustomerRevenue||0),Se=Number(de.returnRevenue||0);de.totalRevenue=ye+ne-Se}if(u==="store"&&(W==="operationalAccrual"||W==="skincareSales")){const ye=Number(de.operationalAccrual||0),ne=Number(de.skincareSales||0);de.accrual=ye+ne}return de})},Q=async()=>{try{const me=i(u==="store"?"daily_reports":"therapist_daily_reports"),pe=jr(me,z);let de={};u==="store"?de={...j,cash:Number(j.cash||0),accrual:Number(j.accrual||0),operationalAccrual:Number(j.operationalAccrual||0),skincareSales:Number(j.skincareSales||0),traffic:Number(j.traffic||0),newCustomers:Number(j.newCustomers||0),newCustomerClosings:Number(j.newCustomerClosings||0),newCustomerSales:Number(j.newCustomerSales||0),refund:Number(j.refund||0),skincareRefund:Number(j.skincareRefund||0)}:de={...j,totalRevenue:Number(j.totalRevenue||0),newCustomerRevenue:Number(j.newCustomerRevenue||0),newCustomerCount:Number(j.newCustomerCount||0),newCustomerClosings:Number(j.newCustomerClosings||0),oldCustomerRevenue:Number(j.oldCustomerRevenue||0),oldCustomerCount:Number(j.oldCustomerCount||0),returnRevenue:Number(j.returnRevenue||0)},await ov(pe,de),t("","success"),(u==="store"?p:b)(ne=>ne.map(Se=>Se.id===z?{...Se,...de}:Se)),N(null)}catch{t("","error")}},X=async W=>{if(confirm("?"))try{const pe=i(u==="store"?"daily_reports":"therapist_daily_reports");await l5(jr(pe,W)),t("","success"),(u==="store"?p:b)(ye=>ye.filter(ne=>ne.id!==W))}catch{t("","error")}};return d.jsx(Zr,{children:d.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),d.jsx("span",{className:"px-2 py-1 bg-stone-100 text-stone-500 rounded text-xs font-bold",children:I})]}),d.jsx("span",{className:"hidden sm:inline text-stone-400",children:"|"}),d.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl w-full sm:w-auto",children:[n!=="trainer"&&n!=="therapist"&&d.jsxs("button",{onClick:()=>{f("store"),U("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(vi,{size:16})," "]}),d.jsxs("button",{onClick:()=>{f("therapist"),U("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(gl,{size:16})," "]})]})]}),d.jsx(Nt,{children:d.jsxs("div",{className:"space-y-4 w-full",children:[d.jsxs("div",{className:"flex flex-wrap items-end gap-4 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[d.jsxs("div",{className:"w-full md:w-auto flex-grow",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(lo,{size:12})," "]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full",children:[d.jsx("input",{type:"date",value:A,onChange:W=>C(W.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),d.jsx("span",{className:"text-stone-400 font-bold transform rotate-90 md:rotate-0",children:""}),d.jsx("input",{type:"date",value:$,onChange:W=>L(W.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[d.jsxs("div",{className:"flex-grow min-w-[150px]",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("select",{value:q,onChange:W=>U(W.target.value),disabled:M.length===1,className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400 h-[42px] disabled:bg-stone-100 disabled:text-stone-500",children:[M.length>1&&d.jsx("option",{value:"",children:""}),M.map(W=>d.jsx("option",{value:W,children:W},W))]})]}),d.jsx("div",{className:"flex items-end",children:d.jsxs("button",{onClick:()=>{C(E()),L(E()),M.length>1&&U("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm h-[42px] items-center justify-center whitespace-nowrap",children:[d.jsx(B9,{size:16})," ",d.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),d.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[d.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:d.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[d.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),u==="store"?Y.map(W=>d.jsx("th",{className:`p-4 text-right ${W.isNegative?"text-rose-500":""} ${W.width}`,children:W.label},W.key)):d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"p-4 min-w-[100px]",children:""}),G.map(W=>d.jsx("th",{className:`p-4 text-right ${W.isNegative?"text-rose-500":W.isHighlight?"text-indigo-600":""} ${W.width}`,children:W.label},W.key))]}),d.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),d.jsxs("tbody",{className:"divide-y divide-stone-100",children:[_&&d.jsx("tr",{children:d.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[d.jsx(Is,{className:"animate-spin inline mr-2"}),"..."]})}),!_&&(!A||!$)&&d.jsx("tr",{children:d.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(gT,{size:24,className:"opacity-50"}),d.jsx("p",{className:"font-bold",children:""})]})})}),!_&&ee.map(W=>{const me=z===W.id,pe=se(W).replace(/CYJ|||Anew|Yibo|/gi,"");return d.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:d.jsxs("div",{className:"flex flex-col",children:[me?d.jsx("input",{type:"date",value:j.date,onChange:de=>V("date",de.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):d.jsx("span",{className:"font-mono font-bold text-stone-600",children:W.date}),d.jsxs("span",{className:"font-bold text-stone-800",children:[pe,""]})]})}),u==="store"?Y.map(de=>d.jsx("td",{className:"p-4 text-right",children:me?d.jsx("input",{type:"number",value:j[de.key],onChange:ye=>V(de.key,ye.target.value),readOnly:de.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${de.isNegative?"text-rose-500":""} ${de.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):d.jsx("span",{className:de.isNegative?"text-rose-500 font-bold":"",children:P(W[de.key])})},de.key)):d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"p-4 font-bold",children:W.therapistName}),G.map(de=>d.jsx("td",{className:"p-4 text-right",children:me?d.jsx("input",{type:"number",value:j[de.key],onChange:ye=>V(de.key,ye.target.value),readOnly:de.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${de.isNegative?"text-rose-500":de.isHighlight?"font-bold text-indigo-600":""} ${de.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):d.jsx("span",{className:de.isNegative?"text-rose-500 font-bold":de.isHighlight?"text-indigo-600 font-bold":"",children:P(W[de.key])})},de.key))]}),d.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:me?d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{onClick:Q,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:d.jsx(Sl,{size:16})}),d.jsx("button",{onClick:re,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:d.jsx(sa,{size:16})})]}):d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{onClick:()=>Z(W),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:d.jsx(U9,{size:16})}),d.jsx("button",{onClick:()=>X(W.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:d.jsx(Lg,{size:16})})]})})]},W.id)}),!_&&ee.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:" ()"})})]})]})}),d.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[d.jsx(fT,{size:12}),"  ",d.jsx(Im,{size:12})]})]})]})})]})})},ppe=()=>{const{fmtMoney:t,fmtNum:e,userRole:n,currentBrand:r,allReports:i,managers:s,budgets:l,selectedYear:u,selectedMonth:f}=x.useContext(tr),{brandInfo:h,brandPrefix:p}=x.useMemo(()=>{let S="CYJ",E="CYJ";r&&(typeof r=="string"?S=r:typeof r=="object"&&(S=r.id||"CYJ",E=r.name||r.label||S));const A=S.toLowerCase();return A.includes("anniu")||A.includes("anew")?E="":A.includes("yibo")?E="":E="CYJ",{brandInfo:{id:S,name:E},brandPrefix:E}},[r]),g=x.useMemo(()=>{if(!i||!s)return null;const S=parseInt(u),E=parseInt(f),A=Object.keys(s).map(C=>({manager:C,stores:[],cashTotal:0,accrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0,budgetTotal:0,achievement:0}));return A.forEach(C=>{(s[C.manager]||[]).forEach(L=>{const q=`${p}${L}`,U={name:q,cleanName:L,cashTotal:0,accrualTotal:0,budget:0,achievement:0};i.forEach(j=>{const k=new Date(j.date);if(k.getFullYear()!==S||k.getMonth()+1!==E||j.storeName!==q)return;const P=(Number(j.cash)||0)-(Number(j.refund)||0),I=Number(j.accrual)||0;U.cashTotal+=P,U.accrualTotal+=I,C.cashTotal+=P,C.accrualTotal+=I,C.skincareSalesTotal+=Number(j.skincareSales)||0,C.trafficTotal+=Number(j.traffic)||0,C.newCustomersTotal+=Number(j.newCustomers)||0,C.newCustomerClosingsTotal+=Number(j.newCustomerClosings)||0});const z=`${q}_${S}_${E}`,N=l[z];N&&(U.budget=Number(N.cashTarget)||0,C.budgetTotal+=U.budget),U.achievement=U.budget>0?U.cashTotal/U.budget*100:0,C.stores.push(U)}),C.achievement=C.budgetTotal>0?C.cashTotal/C.budgetTotal*100:0}),A.sort((C,$)=>$.cashTotal-C.cashTotal)},[i,s,l,u,f,p]),b=x.useMemo(()=>g?g.map(S=>({name:S.manager,value:S.cashTotal})).filter(S=>S.value>0):[],[g]),_=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return g?d.jsx(Zr,{children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2",children:[d.jsx("div",{className:`w-2 h-8 rounded-full ${h.id.toLowerCase().includes("anniu")?"bg-teal-500":h.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),d.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[h.name," "]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(S=>d.jsxs(Nt,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg",children:S.manager.charAt(0)}),d.jsx("div",{children:d.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[S.manager," "]})})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${S.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[S.achievement.toFixed(0),"%"]})})]}),d.jsxs("div",{className:"space-y-3 mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-lg font-bold text-stone-700",children:t(S.cashTotal)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-base font-bold text-stone-600",children:t(S.accrualTotal)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-base font-bold text-rose-500",children:t(S.skincareSalesTotal)})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(S.trafficTotal)})]}),d.jsxs("div",{className:"text-center border-l border-stone-200",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(S.newCustomersTotal)})]}),d.jsxs("div",{className:"text-center border-l border-stone-200",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(S.newCustomerClosingsTotal)})]})]})]},S.manager))}),n==="director"?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:d.jsx(Nt,{title:` (${p})`,subtitle:"",children:d.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(Jfe,{children:[d.jsx(Vz,{data:b,cx:"50%",cy:"50%",labelLine:!0,label:({name:S,percent:E})=>`${S} ${(E*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:b.map((S,E)=>d.jsx(Tm,{fill:_[E%_.length]},`cell-${E}`))}),d.jsx(kh,{formatter:S=>t(S)}),d.jsx(Th,{verticalAlign:"bottom",height:36})]})})})})}):d.jsx("div",{className:"space-y-6",children:g.map(S=>n==="manager"&&currentUser&&currentUser.name!==S.manager?null:d.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[d.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:d.jsxs("h3",{className:"font-bold text-stone-700",children:[S.manager," "]})}),d.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:S.stores.map(E=>d.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h4",{className:"font-bold text-stone-700",children:E.cleanName}),d.jsxs("span",{className:`text-sm font-bold ${E.achievement>=100?"text-emerald-600":"text-amber-500"}`,children:[E.achievement.toFixed(0),"%"]})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-400",children:""}),d.jsx("span",{className:"font-bold",children:t(E.cashTotal)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-400",children:""}),d.jsx("span",{className:"font-bold",children:t(E.accrualTotal)})]})]})]},E.name))})]},S.manager))})]})}):d.jsxs("div",{className:"flex h-96 items-center justify-center",children:[d.jsx(Is,{className:"h-10 w-10 animate-spin text-stone-300"}),d.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]})},gpe=()=>{const{allReports:t,fmtMoney:e,fmtNum:n,budgets:r,selectedYear:i,selectedMonth:s,managers:l,auditExclusions:u,handleUpdateAuditExclusions:f,showToast:h,currentBrand:p}=x.useContext(tr),[g,b]=x.useState({key:"achievement",direction:"desc"}),[_,S]=x.useState(!1),[E,A]=x.useState([]),C=x.useMemo(()=>{let I="CYJ";if(p){const M=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();M.includes("anniu")||M.includes("anew")?I="":M.includes("yibo")?I="":I="CYJ"}return I},[p]),$=I=>I?I.replace(new RegExp(`^(${C}|CYJ|||Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",L=()=>{A(u||[]),S(!0)},q=async()=>{await f(E),S(!1),h("","success")},U=I=>{A(D=>D.includes(I)?D.filter(M=>M!==I):[...D,I])},z=x.useMemo(()=>{if(!t)return[];const I=parseInt(i),D=parseInt(s),M={};t.forEach(Y=>{const G=new Date(Y.date);if(G.getFullYear()!==I||G.getMonth()+1!==D)return;const K=Y.storeName;if(!K)return;M[K]||(M[K]={name:K,displayName:$(K),manager:"",cashTotal:0,refundTotal:0,accrualTotal:0,operationalAccrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0});const ee=M[K];ee.cashTotal+=Number(Y.cash)||0,ee.refundTotal+=Number(Y.refund)||0,ee.accrualTotal+=Number(Y.accrual)||0,ee.operationalAccrualTotal+=Number(Y.operationalAccrual)||0,ee.skincareSalesTotal+=Number(Y.skincareSales)||0,ee.trafficTotal+=Number(Y.traffic)||0,ee.newCustomersTotal+=Number(Y.newCustomers)||0,ee.newCustomerClosingsTotal+=Number(Y.newCustomerClosings)||0});let se=Object.values(M).map(Y=>{const G=Y.displayName,K=Object.keys(l).find(X=>l[X].includes(G));Y.manager=K||"";const ee=Y.cashTotal-Y.refundTotal;Y.cashTotal=ee;const Z=`${Y.name}_${I}_${D}`,re=r[Z],V=re?Number(re.cashTarget||0):0,Q=re?Number(re.accrualTarget||0):0;return{...Y,cashTarget:V,achievement:V>0?ee/V*100:0,accrualTarget:Q,accrualAchievement:Q>0?Y.accrualTotal/Q*100:0,trafficASP:Y.trafficTotal>0?Math.round(Y.operationalAccrualTotal/Y.trafficTotal):0}});return se=se.filter(Y=>!(u||[]).includes(Y.displayName)),se},[t,r,i,s,u,l,C]),N=x.useMemo(()=>{let I=[...z];return g.key&&I.sort((D,M)=>{const se=D[g.key]||0,Y=M[g.key]||0;return se<Y?g.direction==="ascending"?-1:1:se>Y?g.direction==="ascending"?1:-1:0}),I},[z,g]),j=I=>b({key:I,direction:g.key===I&&g.direction==="desc"?"ascending":"desc"}),k=()=>{const I=[",,,,,,,,,,,,"],D=N.map((K,ee)=>[ee+1,K.displayName,K.manager,K.cashTotal||0,(K.achievement||0).toFixed(2)+"%",K.accrualTotal||0,K.accrualTarget||0,(K.accrualAchievement||0).toFixed(2)+"%",K.skincareSalesTotal||0,K.trafficTotal||0,K.trafficASP||0,K.newCustomersTotal||0,K.newCustomerClosingsTotal||0].join(",")),M="\uFEFF"+[I,...D].join(`
`),se=new Blob([M],{type:"text/csv;charset=utf-8;"}),Y=URL.createObjectURL(se),G=document.createElement("a");G.href=Y,G.download=`${C}__${new Date().toISOString().split("T")[0]}.csv`,G.click()},P=({store:I,index:D})=>d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm mb-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-stone-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D<3?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-500"}`,children:D+1}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700 text-lg",children:I.displayName}),d.jsxs("p",{className:"text-xs text-stone-400",children:[I.manager,""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-xs text-stone-400 font-bold uppercase",children:""}),d.jsxs("div",{className:`text-xl font-mono font-bold ${I.achievement>=100?"text-emerald-500":"text-stone-700"}`,children:[I.achievement.toFixed(1),"%"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(Js,{size:10})," "]}),d.jsx("p",{className:"font-mono font-bold text-stone-700",children:e(I.cashTotal)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(bhe,{size:10})," "]}),d.jsxs("p",{className:`font-mono font-bold ${I.accrualAchievement>=100?"text-emerald-600":"text-blue-600"}`,children:[I.accrualAchievement.toFixed(1),"%"]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(ad,{size:10})," "]}),d.jsx("p",{className:"font-mono font-bold text-stone-600",children:e(I.accrualTotal)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(Id,{size:10})," /"]}),d.jsxs("p",{className:"font-mono text-stone-600 text-sm",children:[n(I.trafficTotal)," / ",d.jsx("span",{className:"text-stone-800 font-bold",children:n(I.newCustomersTotal)})]})]})]})]});return d.jsxs(Zr,{children:[d.jsxs(Nt,{title:`${C} `,subtitle:"",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mb-4 gap-2",children:[d.jsxs("button",{onClick:L,className:"flex items-center justify-center gap-2 px-4 py-2 bg-stone-100 text-stone-600 rounded-xl text-sm font-bold hover:bg-stone-200 transition-colors",children:[d.jsx(Ay,{size:16})," "]}),d.jsxs("button",{onClick:k,className:"flex items-center justify-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[d.jsx(o0,{size:16}),"  CSV"]})]}),d.jsx("div",{className:"block md:hidden",children:N.map((I,D)=>d.jsx(P,{store:I,index:D},I.name))}),d.jsx("div",{className:"hidden md:block w-full overflow-hidden rounded-2xl border border-stone-100",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[d.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase sticky top-0 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-16 text-center",children:""}),d.jsx("th",{className:"p-4 cursor-pointer hover:text-stone-700",onClick:()=>j("displayName"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("cashTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("achievement"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>j("accrualTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>j("accrualAchievement"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("trafficTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("newCustomersTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("newCustomerClosingsTotal"),children:""})]})}),d.jsxs("tbody",{className:"text-sm divide-y divide-stone-50",children:[N.map((I,D)=>d.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:D+1}),d.jsx("td",{className:"p-4 font-bold text-stone-700",children:I.displayName}),d.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(I.cashTotal)}),d.jsxs("td",{className:`p-4 text-right font-mono font-bold ${I.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[I.achievement.toFixed(1),"%"]}),d.jsx("td",{className:"p-4 text-right font-mono font-bold text-blue-600",children:e(I.accrualTotal)}),d.jsxs("td",{className:`p-4 text-right font-mono font-bold ${I.accrualAchievement>=100?"text-emerald-500":"text-blue-400"}`,children:[I.accrualAchievement.toFixed(1),"%"]}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.trafficTotal)}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.newCustomersTotal)}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.newCustomerClosingsTotal)})]},I.name)),N.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:13,className:"p-8 text-center text-stone-400",children:""})})]})]})})})]}),_&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(hT,{size:20,className:"text-rose-400"}),"  (",C,")"]}),d.jsx("button",{onClick:()=>S(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(sa,{size:20})})]}),d.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(l).map(([I,D])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[I," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:D.map(M=>{const se=E.includes(M);return d.jsxs("button",{onClick:()=>U(M),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${se?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[se&&d.jsx(Qs,{size:14}),M]},M)})})]},I))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>S(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:q,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Xl={default:{financial:{min:80,max:120,label:""},sales:{min:10,max:45,label:""},loyalty:{min:50,max:80,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}},:{financial:{min:70,max:110,label:""},sales:{min:10,max:40,label:""},loyalty:{min:30,max:60,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}},:{financial:{min:70,max:110,label:""},sales:{min:10,max:40,label:""},loyalty:{min:30,max:60,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}}},vpe=()=>{const{rawData:t,budgets:e,managers:n,targets:r,selectedYear:i,selectedMonth:s,fmtMoney:l,fmtNum:u,currentUser:f,userRole:h,activeView:p,currentBrand:g}=x.useContext(tr),[b,_]=x.useState(""),[S,E]=x.useState(""),[A,C]=x.useState(!0),{brandPrefix:$,brandId:L}=x.useMemo(()=>{let K="CYJ",ee="default";if(g){const re=(typeof g=="string"?g:g.id||"CYJ").toLowerCase();re.includes("anniu")||re.includes("anew")?(K="",ee=""):re.includes("yibo")?(K="",ee=""):(K="CYJ",ee="default")}return{brandPrefix:K,brandId:ee}},[g]),q=x.useMemo(()=>{const K=r?.benchmarks||{},ee=K[L]||K.default||Xl[L]||Xl.default;return{financial:{...Xl.default.financial,...ee?.financial},sales:{...Xl.default.sales,...ee?.sales},loyalty:{...Xl.default.loyalty,...ee?.loyalty},mining:{...Xl.default.mining,...ee?.mining},acquisition:{...Xl.default.acquisition,...ee?.acquisition}}},[L,r]),U=h==="director"||h==="trainer"||h==="manager",z=x.useMemo(()=>{if(!n)return[];if(L==="default")return Object.keys(n).filter(ee=>!(n[ee]||[]).some(V=>/|Anew||Yibo/i.test(V)));const K=new Set;return Object.keys(n).forEach(ee=>{const Z=n[ee]||[];(L===""?Z.some(V=>/|Anew|Ann/i.test(V)):Z.some(V=>/|Yibo/i.test(V)))&&K.add(ee)}),K.size===0&&t&&t.forEach(ee=>{const Z=ee.storeName;if(L===""?/|Anew|Ann/i.test(Z):/|Yibo/i.test(Z)){const V=Z.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim();Object.keys(n).forEach(Q=>{(n[Q]||[]).some(W=>W.includes(V))&&K.add(Q)})}}),K.size===0?Object.keys(n):Array.from(K)},[n,L,t]);x.useEffect(()=>{if(p==="store-analysis")if(h==="store"&&f){const ee=(f.stores?.[0]||f.storeName).replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim(),Z=`${$}${ee}`;E(Z)}else h==="manager"&&f&&_(f.name)},[p,f,h,$]),x.useEffect(()=>{const K=ee=>E(ee.detail);return window.addEventListener("navigate-to-store",K),()=>window.removeEventListener("navigate-to-store",K)},[]);const N=x.useMemo(()=>{const K=ee=>{let Z=ee.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim();return`${$}${Z}`};return h==="director"||h==="trainer"?b?(n[b]||[]).map(K):z.flatMap(Z=>n[Z]||[]).map(K):h==="manager"?Object.values(n).flat().map(K):h==="store"&&f?(f.stores||[f.storeName]).map(ee=>K(ee)):[]},[b,n,f,h,$,z]);x.useEffect(()=>{h==="store"&&f&&N.length>0&&(!S||!N.includes(S))&&E(N[0])},[f,N,S,h]);const j=x.useMemo(()=>{if(!U||!t)return null;let K=[];if(h==="manager"&&f?K=n[f.name]||[]:(h==="director"||h==="trainer")&&(K=z.flatMap(ye=>n[ye]||[])),K.length===0)return null;const ee=parseInt(i),Z=parseInt(s),re=ee-1911,V={};K.forEach(ye=>{const ne=ye.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim();let Se="";Object.entries(n).forEach(([je,oe])=>{oe.includes(ye)&&(Se=je)}),V[ne]={id:ye,name:`${ne}`,manager:Se,cash:0,accrual:0,skincare:0,traffic:0,newCust:0,newSales:0,foundData:!1}}),t.forEach(ye=>{if(!ye.date)return;const ne=ye.date.replace(/-/g,"/").split("/"),Se=parseInt(ne[0]),je=parseInt(ne[1]);if(!((Se===ee||Se===re)&&je===Z))return;const oe=ye.storeName.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim();V[oe]&&(V[oe].foundData=!0,V[oe].cash+=(ye.cash||0)-(ye.refund||0),V[oe].accrual+=ye.accrual||0,V[oe].skincare+=ye.skincareSales||0,V[oe].traffic+=ye.traffic||0,V[oe].newCust+=ye.newCustomers||0,V[oe].newSales+=ye.newCustomerSales||0)});const Q=q,X=ye=>ye>5?ye/100:ye,W=Object.values(V).filter(ye=>ye.foundData).map(ye=>{const ne=Math.max(0,ye.traffic-ye.newCust),Se=ye.accrual>0?ye.cash/ye.accrual:0,je=ye.cash>0?ye.skincare/ye.cash:0,oe=ye.traffic>0?ne/ye.traffic:0,he=ye.newCust>0?Math.round(ye.newSales/ye.newCust):0,Pe=r.newASP||3500,Be=Pe>0?he/Pe:0;return{...ye,cashToAccrual:Se,productRatio:je,retentionRate:oe,newCustomerASP:he,acquisitionRate:Be}}),me=W.filter(ye=>ye.cashToAccrual<X(Q.financial.min)&&ye.cash>0).sort((ye,ne)=>ye.cashToAccrual-ne.cashToAccrual),pe=W.filter(ye=>ye.retentionRate<X(Q.loyalty.min)-.1&&ye.traffic>10).sort((ye,ne)=>ye.retentionRate-ne.retentionRate),de=W.filter(ye=>ye.acquisitionRate<X(Q.acquisition.min)&&ye.newCust>0).sort((ye,ne)=>ye.acquisitionRate-ne.acquisitionRate);return{financialRisks:me,retentionRisks:pe,salesRisks:de}},[t,h,f,n,U,r,q,z,i,s]),k=K=>{if(!K||K.length===0)return null;const ee=K.reduce((Se,je)=>Se+(je.cash||0)-(je.refund||0),0),Z=K.reduce((Se,je)=>Se+(je.accrual||0),0),re=K.reduce((Se,je)=>Se+(je.skincareSales||0),0),V=K.reduce((Se,je)=>Se+(je.traffic||0),0),Q=K.reduce((Se,je)=>Se+(je.newCustomers||0),0),X=K.reduce((Se,je)=>Se+(je.newCustomerSales||0),0),W=Math.max(0,V-Q),me=Math.max(0,ee-X),pe={cashToAccrual:Z>0?ee/Z:0,retailRatio:ee>0?re/ee:0,retention:V>0?W/V:0,aspMining:W>0&&Q>0&&X/Q>0?me/W/(X/Q):0,acquisitionQuality:Q>0&&r.newASP>0?X/Q/r.newASP:0},de=(Se,je,oe)=>{const he=je>5?je/100:je,Pe=oe>5?oe/100:oe;return Se<=he?60*(Se/he):Se>=Pe?100:60+(Se-he)/(Pe-he)*40},ye=q,ne={financial:de(pe.cashToAccrual,ye.financial.min,ye.financial.max),sales:de(pe.retailRatio,ye.sales.min,ye.sales.max),loyalty:de(pe.retention,ye.loyalty.min,ye.loyalty.max),mining:de(pe.aspMining,ye.mining.min,ye.mining.max),acquisition:de(pe.acquisitionQuality,ye.acquisition.min,ye.acquisition.max)};return{raw:pe,scores:ne}},P=x.useMemo(()=>{if(!S)return null;const K=parseInt(i),ee=parseInt(s),Z=K-1911,re=S.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim(),V=t.filter(oe=>{if(!oe.date)return!1;const he=oe.date.replace(/-/g,"/").split("/"),Pe=parseInt(he[0]),Be=parseInt(he[1]);return(Pe===K||Pe===Z)&&Be===ee?oe.storeName.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim()===re:!1}).sort((oe,he)=>gr(oe.date).localeCompare(gr(he.date))),Q=V.reduce((oe,he)=>oe+(he.cash||0),0),X=V.reduce((oe,he)=>oe+(he.refund||0),0),W=Q-X,me=V.reduce((oe,he)=>oe+(he.traffic||0),0),pe=V.reduce((oe,he)=>oe+(he.operationalAccrual||0),0),de=V.reduce((oe,he)=>oe+(he.newCustomers||0),0),ye=V.reduce((oe,he)=>oe+(he.newCustomerSales||0),0),ne=V.reduce((oe,he)=>oe+(he.newCustomerClosings||0),0),Se=e[`${S}_${K}_${ee}`]?.cashTarget||0,je=k(V);return{totalCash:W,achievement:Se>0?W/Se*100:0,trafficASP:me>0?Math.round(pe/me):0,newCustomerASP:de>0?Math.round(ye/de):0,totalNewCustomerClosings:ne,totalRefund:X,dailyData:V.map(oe=>({date:gr(oe.date).split("/")[2],cash:(oe.cash||0)-(oe.refund||0),accrual:oe.accrual||0,traffic:oe.traffic})),budget:Se,health:je}},[S,i,s,t,e,r,q]),I=x.useMemo(()=>{if(!A)return null;const K=parseInt(i),ee=parseInt(s),Z=K-1911,re=new Set;(h==="manager"&&b?[b]:z).forEach(W=>{(n[W]||[]).forEach(me=>{const pe=me.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim();pe&&re.add(pe)})});const X=t.filter(W=>{const me=W.storeName.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim();return re.has(me)}).filter(W=>{if(!W.date)return!1;const me=W.date.replace(/-/g,"/").split("/"),pe=parseInt(me[0]),de=parseInt(me[1]);return(pe===K||pe===Z)&&de===ee}).filter(W=>W.storeName!==S);return k(X)},[i,s,t,n,b,h,$,A,r,S,q,L,z]),D=x.useMemo(()=>{if(!P?.health)return[];const K=P.health.scores,ee=I?.scores||{financial:0,sales:0,loyalty:0,mining:0,acquisition:0},Z=q;return[{subject:"",A:K.financial,B:ee.financial,fullMark:100,label:Z.financial.label},{subject:"",A:K.sales,B:ee.sales,fullMark:100,label:Z.sales.label},{subject:"",A:K.loyalty,B:ee.loyalty,fullMark:100,label:Z.loyalty.label},{subject:"",A:K.mining,B:ee.mining,fullMark:100,label:Z.mining.label},{subject:"",A:K.acquisition,B:ee.acquisition,fullMark:100,label:Z.acquisition.label}]},[P,I,q]),M=({store:K,value:ee,label:Z,type:re,onClick:V,fmtMoney:Q})=>d.jsxs("div",{onClick:()=>V(K.id),className:"flex items-center justify-between p-3 hover:bg-stone-50 rounded-lg cursor-pointer group transition-colors border-b border-stone-100 last:border-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${re==="danger"?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-600"}`,children:"!"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700 text-sm group-hover:text-amber-600 transition-colors",children:K.name}),d.jsxs("p",{className:"text-xs text-stone-400",children:[K.manager,""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`font-mono font-bold text-sm ${re==="danger"?"text-rose-500":"text-amber-500"}`,children:re==="currency"?Q(ee):`${(ee*100).toFixed(0)}%`}),d.jsx("p",{className:"text-[10px] text-stone-400",children:Z})]}),d.jsx(Im,{size:14,className:"text-stone-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),se=K=>{E((Z=>{let re=Z.replace(/^(CYJ|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim();return`${$}${re}`})(K))},Y=q,G=K=>`${(K>5?K:K*100).toFixed(0)}%`;return d.jsx(Zr,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsx(Nt,{title:"",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[d.jsxs("div",{className:"flex gap-3 w-full sm:w-auto items-center overflow-x-auto no-scrollbar",children:[S&&U&&d.jsxs("button",{onClick:()=>E(""),className:"h-[42px] px-4 bg-stone-800 text-white rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-stone-700 transition-all shadow-sm whitespace-nowrap",children:[d.jsx(fT,{size:16}),""]}),d.jsxs("select",{value:b,onChange:K=>_(K.target.value),disabled:h!=="director"&&h!=="trainer",className:"h-[42px] px-4 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white flex-1 sm:flex-none min-w-[120px]",children:[d.jsx("option",{value:"",children:h==="director"?"":""}),z.map(K=>d.jsxs("option",{value:K,children:[K,""]},K))]}),d.jsxs("select",{value:S,onChange:K=>E(K.target.value),className:"h-[42px] px-4 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white flex-1 sm:flex-none min-w-[140px]",children:[d.jsx("option",{value:"",children:"..."}),N.map(K=>d.jsx("option",{value:K,children:K},K))]})]}),S&&d.jsx("div",{className:"flex items-center gap-2 mt-2 sm:mt-0",children:d.jsxs("label",{className:"flex items-center cursor-pointer relative",children:[d.jsx("input",{type:"checkbox",checked:A,onChange:K=>C(K.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-stone-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-stone-500"}),d.jsx("span",{className:"ml-3 text-sm font-bold text-stone-500",children:h==="manager"?"":""})]})})]})}),!S&&U&&j?d.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-2 text-stone-500",children:[d.jsx(Ga,{size:20}),d.jsxs("h3",{className:"font-bold",children:[h==="manager"?`${f.name}`:$,"  ()"]}),d.jsxs("span",{className:"text-xs bg-stone-100 text-stone-400 px-2 py-1 rounded-lg",children:["",L==="default"?"":L," ( ",G(Y.financial.min),")"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-rose-50 border-b border-rose-100 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-rose-800 flex items-center gap-2",children:[d.jsx(sl,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-rose-200 text-rose-800 px-2 py-0.5 rounded-full font-bold",children:[j.financialRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:j.financialRisks.length>0?j.financialRisks.map(K=>d.jsx(M,{store:K,value:K.cashToAccrual,label:Y.financial.label,type:"percent",onClick:se,fmtMoney:l},K.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ah,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:["",Y.financial.label," < ",G(Y.financial.min)]})]}),d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-amber-50 border-b border-amber-100 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-amber-800 flex items-center gap-2",children:[d.jsx(Id,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-amber-200 text-amber-800 px-2 py-0.5 rounded-full font-bold",children:[j.retentionRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:j.retentionRisks.length>0?j.retentionRisks.map(K=>d.jsx(M,{store:K,value:K.retentionRate,label:Y.loyalty.label,type:"percent",onClick:se,fmtMoney:l},K.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ah,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:["",Y.loyalty.label," < ",G((Y.loyalty.min>5?Y.loyalty.min/100:Y.loyalty.min)-.1)]})]}),d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-stone-100 border-b border-stone-200 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-stone-700 flex items-center gap-2",children:[d.jsx(Js,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-stone-300 text-stone-800 px-2 py-0.5 rounded-full font-bold",children:[j.salesRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:j.salesRisks.length>0?j.salesRisks.map(K=>d.jsx(M,{store:K,value:K.acquisitionRate,label:"",type:"percent",onClick:se,fmtMoney:l},K.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ah,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:[" < ",G(Y.acquisition.min)]})]})]})]}):null,S&&P?d.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-500",children:[d.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[d.jsxs("div",{className:"w-full xl:w-1/3 bg-white rounded-2xl border border-stone-100 shadow-sm p-4 flex flex-col relative overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-stone-700 flex items-center gap-2",children:[d.jsx(Ga,{size:18,className:"text-amber-500"})," "]}),d.jsx("p",{className:"text-xs text-stone-400",children:"Five-Force Store Analysis"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-xs font-bold px-3 py-1 rounded-full border ${P.health.scores.financial<60||P.health.scores.loyalty<60||P.health.scores.sales<60?"bg-rose-50 text-rose-600 border-rose-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:["",P.health.scores.financial<60?"":P.health.scores.loyalty<60?"":P.health.scores.sales<60?"":""]}),d.jsxs("div",{className:"group relative",children:[d.jsx(k9,{size:16,className:"text-stone-300 cursor-help"}),d.jsxs("div",{className:"absolute right-0 w-64 p-3 bg-stone-800 text-white text-xs rounded-xl shadow-xl opacity-0 group-hover:opacity-100 transition-opacity z-50 pointer-events-none",children:[d.jsx("p",{className:"font-bold mb-1",children:" ()"}),d.jsxs("ul",{className:"space-y-1 opacity-90",children:[d.jsxs("li",{children:[" ",Y.financial.label,"",G(Y.financial.max)," ()"]}),d.jsxs("li",{children:[" ",Y.sales.label,"",G(Y.sales.max)," ()"]}),d.jsxs("li",{children:[" ",Y.loyalty.label,"",G(Y.loyalty.max)," ()"]}),d.jsxs("li",{children:[" ",Y.mining.label,"",G(Y.mining.max)," ( > )"]}),d.jsxs("li",{children:[" ",Y.acquisition.label,"",G(Y.acquisition.max)," ()"]})]})]})]})]})]}),d.jsx("div",{className:"h-[350px] w-full relative",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(ihe,{cx:"50%",cy:"50%",outerRadius:"70%",data:D,children:[d.jsx(Cz,{stroke:"#cbd5e1"}),d.jsx(Rz,{dataKey:"subject",tick:{fill:"#78716c",fontSize:12,fontWeight:"bold"}}),d.jsx(Iz,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),A&&d.jsx(Y_,{name:h==="manager"?"":"",dataKey:"B",stroke:"#a8a29e",fill:"#a8a29e",fillOpacity:.1}),d.jsx(Y_,{name:S,dataKey:"A",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.4}),d.jsx(Th,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"}}),d.jsx(kh,{contentStyle:{borderRadius:"12px",fontSize:"12px"},formatter:K=>K.toFixed(0)})]})})})]}),d.jsxs("div",{className:"w-full xl:w-2/3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 content-start",children:[d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(P.totalCash)})]}),d.jsxs("p",{className:`text-sm font-bold mt-2 ${P.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[P.achievement.toFixed(1),"% "]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(P.trafficASP)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(P.budget)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(P.newCustomerASP)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(P.totalNewCustomerClosings)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:l(P.totalRefund)})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[Y.financial.label," ()"]}),d.jsxs("h3",{className:`text-xl font-bold font-mono ${P.health.raw.cashToAccrual<getCalcThreshold(Y.financial.min)?"text-rose-500":"text-stone-700"}`,children:[(P.health.raw.cashToAccrual*100).toFixed(0),"%"]})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[Y.sales.label," ()"]}),d.jsxs("h3",{className:`text-xl font-bold font-mono ${P.health.raw.retailRatio<getCalcThreshold(Y.sales.min)?"text-rose-500":"text-stone-700"}`,children:[(P.health.raw.retailRatio*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[Y.loyalty.label," ()"]}),d.jsxs("h3",{className:"text-xl font-bold font-mono text-stone-700",children:[(P.health.raw.retention*100).toFixed(1),"%"]})]})]})]}),d.jsx(Nt,{title:`${S} `,subtitle:"()",children:d.jsx("div",{className:"h-[400px] w-full",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(dT,{data:P.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[d.jsx(_y,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),d.jsx(Ey,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),d.jsx(nd,{yAxisId:"left",width:80,tickFormatter:K=>K===0?"0":`$${(K/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),d.jsx(nd,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),d.jsx(kh,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(K,ee)=>ee===""?[u(K),ee]:[l(K),ee],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),d.jsx(Th,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),d.jsx(sT,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),d.jsx(td,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),d.jsx(td,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]}):!U&&d.jsx("div",{className:"p-10 text-center text-stone-400 bg-stone-50 rounded-xl border border-stone-100",children:d.jsx("p",{className:"font-bold",children:""})})]})})},ype=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(!1),[i,s]=x.useState(1),l=20,u=new Date().toISOString().split("T")[0],[f,h]=x.useState({start:u,end:u}),p=()=>{r(!0),e([]);const A=new Date(f.start);A.setHours(0,0,0,0);const C=new Date(f.end);C.setHours(23,59,59,999);const $=vh(gh(na,"artifacts",Gf,"public","data","system_logs"),Cu("timestamp",">=",Vt.fromDate(A)),Cu("timestamp","<=",Vt.fromDate(C)),s5(500));return Yr($,q=>{let U=q.docs.map(z=>({id:z.id,...z.data()}));U.sort((z,N)=>{const j=z.timestamp?.toMillis?z.timestamp.toMillis():0;return(N.timestamp?.toMillis?N.timestamp.toMillis():0)-j}),e(U),r(!1)})};x.useEffect(()=>{const A=p();return()=>A()},[f]);const g=Math.ceil(t.length/l),b=t.slice((i-1)*l,i*l),_=A=>{if(!A)return"-";const C=A.toDate?A.toDate():new Date(A);return`${C.getMonth()+1}/${C.getDate()} ${C.getHours().toString().padStart(2,"0")}:${C.getMinutes().toString().padStart(2,"0")}`},S=A=>{switch(A){case"director":return d.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return d.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return d.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return d.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return d.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},E=A=>A==="iOS"||A==="Android"||A==="Mobile"?d.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[d.jsx(Ome,{size:12})," ",A]}):d.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[d.jsx(pme,{size:12})," PC"]});return d.jsx(Zr,{children:d.jsx("div",{className:"space-y-6 pb-20",children:d.jsxs(Nt,{children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),d.jsx("p",{className:"text-xs text-stone-400",children:""})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2",children:[d.jsx(lo,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[d.jsx("input",{type:"date",value:f.start,onChange:A=>h(C=>({...C,start:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),d.jsx("span",{className:"text-stone-300",children:"~"}),d.jsx("input",{type:"date",value:f.end,onChange:A=>h(C=>({...C,end:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?d.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[d.jsx(rS,{className:"animate-spin mx-auto mb-2"}),d.jsx("p",{children:"..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[d.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4 w-24",children:""}),d.jsx("th",{className:"p-4 w-24",children:""}),d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:b.length>0?b.map(A=>d.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:_(A.timestamp)}),d.jsx("td",{className:"p-4",children:E(A.device)}),d.jsx("td",{className:"p-4",children:S(A.role)}),d.jsx("td",{className:"p-4 font-bold text-stone-700",children:A.user}),d.jsx("td",{className:"p-4 font-medium text-stone-600",children:A.action}),d.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof A.details=="string"?A.details:JSON.stringify(A.details),children:typeof A.details=="string"?A.details:JSON.stringify(A.details)})]},A.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&d.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[d.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>s(A=>Math.max(1,A-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:d.jsx(mT,{size:18})}),d.jsx("button",{onClick:()=>s(A=>Math.min(g,A+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:d.jsx(R9,{size:18})})]})]})]})]})})})};function bpe(){const{currentBrand:t,userRole:e,showToast:n}=x.useContext(tr),[r,i]=x.useState([]),[s,l]=x.useState(!1),[u,f]=x.useState(0);if(e!=="director")return d.jsxs("div",{className:"p-8 text-center text-stone-400 bg-stone-50 rounded-2xl border border-stone-200",children:[d.jsx(sl,{className:"mx-auto mb-2"}),d.jsx("p",{children:""})]});const h=_=>i(S=>[`[${new Date().toLocaleTimeString()}] ${_}`,...S]),p=async()=>{if(confirm(`${t.name}
 YYYY-MM-DD `)){l(!0),i([]),h(`  ${t.name} ...`);try{const _=gh(na,"brands",t.id,"daily_reports"),S=await sv(_);h(`  ${S.size} `);let E=Zw(na),A=0,C=0,$=0;for(const L of S.docs){const q=L.data();if($++,f(Math.round($/S.size*100)),q.date&&q.date.includes("/")){const U=q.date.replace(/\//g,"-"),z=jr(na,"brands",t.id,"daily_reports",L.id);E.update(z,{date:U}),C++,A++}A>=400&&(await E.commit(),E=Zw(na),A=0,h(" ..."))}A>0&&await E.commit(),h(`  ${C} `),n("","success")}catch(_){h(` : ${_.message}`)}finally{l(!1),f(0)}}},g=async()=>{l(!0),i([]),h(`  ${t.name} ...`);try{const _=gh(na,"brands",t.id,"daily_reports"),E=(await sv(_)).docs.map(U=>({id:U.id,...U.data()})),A=JSON.stringify(E,null,2),C=new Blob([A],{type:"application/json"}),$=URL.createObjectURL(C),L=document.createElement("a"),q=`${t.id}_backup_${new Date().toISOString().split("T")[0]}.json`;L.href=$,L.download=q,document.body.appendChild(L),L.click(),document.body.removeChild(L),h(` : ${q}`),h(` : ${E.length}`),n("","success")}catch(_){h(` : ${_.message}`)}finally{l(!1)}},b=()=>{confirm("")&&(localStorage.clear(),window.location.reload(!0))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-stone-800 rounded-full"}),d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-amber-600 mb-4",children:d.jsx(D9,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:" YYYY/MM/DD  YYYY-MM-DD "}),d.jsxs("button",{onClick:p,disabled:s,className:"w-full py-2 bg-stone-800 text-white rounded-lg text-sm font-bold hover:bg-stone-700 disabled:bg-stone-300 flex items-center justify-center gap-2",children:[s?d.jsx(Is,{className:"animate-spin",size:16}):d.jsx(xme,{size:16}),""]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 mb-4",children:d.jsx(o0,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:" JSON "}),d.jsxs("button",{onClick:g,disabled:s,className:"w-full py-2 bg-white border border-stone-200 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-50 disabled:opacity-50 flex items-center justify-center gap-2",children:[d.jsx(o0,{size:16}),""]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-xl flex items-center justify-center text-rose-600 mb-4",children:d.jsx(rS,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:""}),d.jsxs("button",{onClick:b,className:"w-full py-2 bg-white border border-rose-100 text-rose-600 rounded-lg text-sm font-bold hover:bg-rose-50 flex items-center justify-center gap-2",children:[d.jsx(rS,{size:16}),""]})]})]}),d.jsxs("div",{className:"bg-stone-900 rounded-2xl p-4 font-mono text-xs text-green-400 h-48 overflow-y-auto shadow-inner border border-stone-800",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 border-b border-stone-800 pb-2",children:[d.jsx("span",{className:"font-bold text-stone-500",children:"SYSTEM LOGS"}),s&&d.jsxs("span",{className:"text-amber-400 animate-pulse",children:["Processing... ",u,"%"]})]}),d.jsxs("div",{className:"space-y-1",children:[r.length===0&&d.jsx("span",{className:"text-stone-700",children:"..."}),r.map((_,S)=>d.jsx("div",{children:_},S))]})]})]})}const qf={default:{financial:{min:.8,max:1.2,label:""},sales:{min:.1,max:.45,label:""},loyalty:{min:.5,max:.8,label:""},mining:{min:.8,max:1.2,label:""},acquisition:{min:.8,max:1.2,label:""}},:{financial:{min:.7,max:1.1,label:""},sales:{min:.1,max:.4,label:""},loyalty:{min:.3,max:.6,label:""},mining:{min:.8,max:1.2,label:""},acquisition:{min:.8,max:1.2,label:""}}},xpe=[{id:"financial",title:" ()",sub:" ( 80% )",type:"percent",suffix:"%",step:5},{id:"sales",title:" ()",sub:" ( 10%-45%)",type:"percent",suffix:"%",step:1},{id:"loyalty",title:" ()",sub:" ( 50% )",type:"percent",suffix:"%",step:1},{id:"mining",title:" ()",sub:"% ( >100%)",type:"percent",suffix:"%",step:5},{id:"acquisition",title:" ()",sub:"% ( 100%)",type:"percent",suffix:"%",step:5}],wpe=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:f,therapists:h,therapistTargets:p,therapistSchedules:g,trainerAuth:b,handleUpdateTrainerAuth:_,getDocPath:S,getCollectionPath:E,currentBrand:A}=x.useContext(tr),[C,$]=x.useState(""),[L,q]=x.useState(t||{}),[U,z]=x.useState(u||zg),[N,j]=x.useState(r||{}),{brandKey:k,brandLabel:P}=x.useMemo(()=>{let H="default",Ee=" (CYJ)";if(A){const Oe=(typeof A=="string"?A:A.id||"CYJ").toLowerCase();Oe.includes("anniu")||Oe.includes("anew")?(H="",Ee=""):Oe.includes("yibo")?(H="",Ee=""):(H="default",Ee=" (CYJ)")}return{brandKey:H,brandLabel:Ee}},[A]);x.useEffect(()=>{r&&j(r)},[r]),x.useEffect(()=>{u&&z(u)},[u]),x.useEffect(()=>{t&&q(H=>({...H,...t,benchmarks:t.benchmarks||qf}))},[t]);const[I,D]=x.useState({name:"",password:"",stores:""}),[M,se]=x.useState(null),[Y,G]=x.useState({name:"",password:"",stores:[]}),[K,ee]=x.useState({name:"",password:""}),[Z,re]=x.useState(null),[V,Q]=x.useState([]),[X,W]=x.useState({name:"",manager:""}),[me,pe]=x.useState(!1),[de,ye]=x.useState(null),[ne,Se]=x.useState(""),[je,oe]=x.useState(""),[he,Pe]=x.useState(""),[Be,Ze]=x.useState(""),[fn,ti]=x.useState("0000"),[Ot,Lt]=x.useState(""),Xe="",bi=x.useMemo(()=>{const H=[],Ee=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0,icon:Pd},{id:"health",label:"",isAdminOnly:!0,icon:Ga},{id:"permissions",label:"",isAdminOnly:!0,icon:fc},{id:"trainer-account",label:"",isAdminOnly:!0,icon:Id},{id:"shops",label:"",isAdminOnly:!0,icon:vi},{id:"stores",label:"",isAdminOnly:!0,icon:iS},{id:"managers",label:"",isAdminOnly:!0,icon:DM},{id:"therapists",label:"",isAdminOnly:!0,icon:gl},{id:"maintenance",label:"",isAdminOnly:!0,icon:D9}].forEach(Oe=>{(l==="director"||!Oe.isAdminOnly&&Oe.permissionId&&Ee.includes(Oe.permissionId))&&H.push(Oe)}),H},[l,u]);x.useEffect(()=>{if(bi.length>0){const H=bi.some(Ee=>Ee.id===C);(!C||!H)&&$(bi[0].id)}},[bi,C]);const xi=x.useMemo(()=>{const Ee=Object.entries(N||{});return Ee.some(([Oe])=>Oe===Xe)||Ee.push([Xe,[]]),Ee.sort((Oe,We)=>Oe[0]===Xe?1:We[0]===Xe?-1:Oe[0].localeCompare(We[0]))},[N]);x.useMemo(()=>{let H=h.filter(Ee=>Ee.status==="active");if(l==="director"||l==="trainer")return H.sort((Ee,Ne)=>Ee.store.localeCompare(Ne.store));if(l==="manager"){const Ee=N[f?.name]||[];return H.filter(Ne=>Ee.includes(Ne.store)).sort((Ne,Oe)=>Ne.store.localeCompare(Oe.store))}if(l==="store"){const Ne=(f?.stores||[f?.storeName]).map(Oe=>Oe.replace("CYJ","").replace("",""));return H.filter(Oe=>Ne.includes(Oe.store))}return l==="therapist"?H.filter(Ee=>Ee.id===f?.id):[]},[h,l,f,N]);const Mn=async()=>{if(!Ot)return n("","error");await _(Ot)?(n("","success"),Lt("")):n("","error")},ni=async()=>{try{await Ln(S("kpi_targets"),L),e(L),n("","success")}catch{n("","error")}},as=async()=>{try{await Ln(S("permissions"),U),n("","success")}catch{n("","error")}},nr=(H,Ee)=>{const Ne=U[H]||[],Oe=Ne.includes(Ee)?Ne.filter(We=>We!==Ee):[...Ne,Ee];z({...U,[H]:Oe})},rr=(H,Ee,Ne,Oe)=>{let We=parseFloat(Ne);isNaN(We)&&(We=0),Oe==="percent"&&(We=We/100),q(mt=>({...mt,benchmarks:{...mt.benchmarks,[k]:{...mt.benchmarks?.[k]||qf.default,[H]:{...mt.benchmarks?.[k]?.[H]||qf.default[H],[Ee]:We}}}}))},ga=async()=>{if(!X.name||!X.manager)return n("","error");try{const H=X.manager,Ee=S("org_structure"),Ne=await kf(Ee);let Oe=Ne.exists()?{...Ne.data().managers}:{};Oe[H]||(Oe[H]=[]),Oe[H].includes(X.name)||Oe[H].push(X.name),await Ln(Ee,{managers:Oe}),j(Oe),W({name:"",manager:""}),n("","success")}catch(H){n(": "+H.message,"error")}},va=async(H,Ee)=>{const Ne=Ee===Xe;if(confirm(Ne?"":""))try{const Oe=S("org_structure"),We=await kf(Oe);if(!We.exists())throw new Error("");let mt=JSON.parse(JSON.stringify(We.data().managers||{}));Array.isArray(mt[Ee])&&(mt[Ee]=mt[Ee].filter(ar=>ar!==H)),Ne||(Array.isArray(mt[Xe])||(mt[Xe]=[]),mt[Xe].includes(H)||mt[Xe].push(H)),await Ln(Oe,{managers:mt}),j(mt),n(Ne?"":"","success")}catch(Oe){console.error(Oe),n(": "+Oe.message,"error")}},co=async H=>{try{const Ee=S("org_structure"),Ne=await kf(Ee);let Oe=Ne.exists()?JSON.parse(JSON.stringify(Ne.data().managers)):{};const We=V,mt=Oe[H]||[],ar=mt.filter(Et=>!We.includes(Et)),tn=We.filter(Et=>!mt.includes(Et));Oe[H]=We,Array.isArray(Oe[Xe])||(Oe[Xe]=[]),ar.forEach(Et=>{Oe[Xe].includes(Et)||Oe[Xe].push(Et)}),Oe[Xe]=Oe[Xe].filter(Et=>!tn.includes(Et)),await Ln(Ee,{managers:Oe}),j(Oe),re(null),n("","success")}catch{n("","error")}},ya=x.useMemo(()=>{const H=Object.values(N||{}).flat(),Ee=i.flatMap(Ne=>Ne.stores||[]);return H.filter(Ne=>!Ee.includes(Ne)).sort()},[N,i]),ir=x.useMemo(()=>N&&N[Xe]?N[Xe].sort():[],[N]),on=x.useMemo(()=>{const H=Object.values(N||{}).flat(),Ee=i.filter(Ne=>Ne.id!==M?.id).flatMap(Ne=>Ne.stores||[]);return H.filter(Ne=>!Ee.includes(Ne)&&!Y.stores.includes(Ne)).sort()},[N,i,M,Y]),Kn=async()=>{if(!I.name||!I.password)return n("","error");const H={id:npe(),...I,stores:I.stores?[I.stores]:[]};try{await Ln(S("store_account_data"),{accounts:[...i,H]}),D({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},Ft=H=>{se(H),G({name:H.name,password:H.password,stores:H.stores||[]})},ba=H=>{H&&!Y.stores.includes(H)&&G({...Y,stores:[...Y.stores,H]})},wi=H=>{G({...Y,stores:Y.stores.filter(Ee=>Ee!==H)})},ss=async()=>{if(!Y.name)return;const H=i.map(Ee=>Ee.id===M.id?{...Ee,...Y}:Ee);await Ln(S("store_account_data"),{accounts:H}),se(null),n("","success")},Or=async H=>{if(!confirm("?"))return;const Ee=i.filter(Ne=>Ne.id!==H);await Ln(S("store_account_data"),{accounts:Ee}),n("","success")},ri=async()=>{if(K.name)try{const H=S("org_structure"),Ee=await kf(H);let Ne=Ee.exists()?Ee.data().managers:{};Ne[K.name]=[],await Ln(H,{managers:Ne}),j(Ne),await Ln(S("manager_auth"),{[K.name]:K.password},{merge:!0}),ee({name:"",password:""}),n("","success")}catch{n("","error")}},en=H=>{H&&(V.includes(H)||Q([...V,H]))},xr=H=>{Q(V.filter(Ee=>Ee!==H))},zr=async H=>{if(confirm("?"))try{const Ee=S("org_structure"),Ne=await kf(Ee);let Oe=Ne.exists()?Ne.data().managers:{};delete Oe[H],await Ln(Ee,{managers:Oe}),j(Oe),n("","success")}catch{n("","error")}},Pr=async()=>{if(!Be)return n("","error");try{await nE(E("therapists"),{name:Be,store:he,manager:je,password:fn,status:"active",createdAt:gd()}),pe(!1),Ze(""),n("","success")}catch{n("","error")}},El=async()=>{if(!de)return;const H=jr(E("therapists"),de.id);await ov(H,{name:Be,store:he,manager:je,password:fn}),ye(null),n("","success")},uo=async H=>{const Ee=jr(E("therapists"),H.id);await ov(Ee,{status:H.status==="active"?"resigned":"active"}),n("","success")},Vr=async H=>{confirm("?")&&(await l5(jr(E("therapists"),H)),n("","success"))},_i=H=>{ye(H),oe(H.manager||""),Pe(H.store),Ze(H.name),ti(H.password)},Al=x.useMemo(()=>je?N&&N[je]?N[je]:[]:[],[je,N]),Ae=x.useMemo(()=>h.filter(H=>(H.name||"").includes(ne)||(H.store||"").includes(ne)||H.status==="resigned"&&ne===""),[h,ne]);return bi.length===0?d.jsx(Zr,{children:d.jsx(Nt,{title:"",children:d.jsxs("div",{className:"text-center py-10 text-stone-400",children:[d.jsx(fc,{size:48,className:"mx-auto mb-4 opacity-50"}),d.jsx("p",{children:""})]})})}):d.jsx(Zr,{children:d.jsxs("div",{className:"grid grid-cols-1 w-[99%] max-w-full gap-6 pb-20 mx-auto",children:[d.jsxs("div",{className:"flex flex-col gap-4 w-full min-w-0",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800 px-1",children:""}),d.jsx("div",{className:"w-full bg-white p-1 rounded-xl shadow-sm border border-stone-100 overflow-x-auto no-scrollbar",children:d.jsx("div",{className:"flex gap-2 min-w-max p-1",children:bi.map(H=>d.jsxs("button",{onClick:()=>$(H.id),className:`px-4 py-2.5 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-2 ${C===H.id?"bg-stone-800 text-white shadow-md":"text-stone-500 hover:bg-stone-50"}`,children:[H.icon&&d.jsx(H.icon,{size:16}),H.label]},H.id))})})]}),C==="kpi"&&d.jsx(Nt,{title:"KPI ",children:d.jsxs("div",{className:"max-w-md w-full space-y-6 min-w-0",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"number",value:L.newASP||3500,onChange:H=>q({...L,newASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-amber-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"number",value:L.trafficASP||1200,onChange:H=>q({...L,trafficASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-amber-400"})]}),d.jsx("button",{onClick:ni,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold active:scale-95 transition-transform",children:""})]})}),C==="health"&&d.jsx(Nt,{title:"",children:d.jsxs("div",{className:"space-y-6 w-full min-w-0",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200 flex items-center gap-2",children:[d.jsx(fc,{size:18,className:"text-amber-500"}),d.jsx("span",{className:"text-sm font-bold text-stone-600",children:""}),d.jsx("span",{className:"text-lg font-bold text-amber-600",children:P})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-4",children:xpe.map(H=>{const Ee=L.benchmarks?.[k]?.[H.id]||qf[k]?.[H.id]||qf.default[H.id],Ne=(Ee.min*100).toFixed(0),Oe=(Ee.max*100).toFixed(0);return d.jsxs("div",{className:"bg-stone-50 border border-stone-200 rounded-xl p-4 hover:shadow-sm transition-shadow",children:[d.jsxs("div",{className:"mb-3 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700",children:H.title}),d.jsx("p",{className:"text-[10px] text-stone-400 mt-0.5",children:H.sub})]}),d.jsxs("span",{className:"text-[10px] font-bold text-stone-400 bg-white px-2 py-1 rounded border border-stone-100 ml-2 whitespace-nowrap",children:[": ",Ne,"% - ",Oe,"%"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] font-bold text-stone-400 mb-1",children:[" (",H.suffix,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",step:H.step,value:Ne,onChange:We=>rr(H.id,"min",We.target.value,H.type),className:"w-full pl-3 pr-8 py-2 border rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none text-center bg-white"}),d.jsx("span",{className:"absolute right-3 top-2 text-xs font-bold text-stone-400 pointer-events-none",children:H.suffix})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] font-bold text-stone-400 mb-1",children:[" (",H.suffix,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",step:H.step,value:Oe,onChange:We=>rr(H.id,"max",We.target.value,H.type),className:"w-full pl-3 pr-8 py-2 border rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none text-center bg-white"}),d.jsx("span",{className:"absolute right-3 top-2 text-xs font-bold text-stone-400 pointer-events-none",children:H.suffix})]})]})]})]},H.id)})}),d.jsx("div",{className:"flex justify-end pt-4 border-t border-stone-100",children:d.jsxs("button",{onClick:ni,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[d.jsx(Sl,{size:18})," "]})})]})}),C==="trainer-account"&&d.jsx(Nt,{title:"",children:d.jsxs("div",{className:"max-w-md w-full space-y-6 min-w-0",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),d.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:b?.password||"0000"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"text",value:Ot,onChange:H=>Lt(H.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsx("button",{onClick:Mn,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),C==="permissions"&&d.jsxs(Nt,{title:"",children:[d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsx("div",{className:"min-w-[600px]",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-stone-200",children:[d.jsx("th",{className:"p-4 font-bold text-stone-500 sticky left-0 bg-white z-10",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:Nc.map(H=>d.jsxs("tr",{className:"hover:bg-stone-50",children:[d.jsxs("td",{className:"p-4 flex items-center gap-3 sticky left-0 bg-white/95 backdrop-blur-sm z-10 border-r border-stone-100 md:border-none shadow-[2px_0_5px_-2px_rgba(0,0,0,0.05)] md:shadow-none",children:[d.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500 shrink-0",children:d.jsx(H.icon,{size:18})}),d.jsx("span",{className:"font-bold text-stone-700 whitespace-nowrap",children:H.label})]}),d.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:d.jsx("input",{type:"checkbox",checked:U.trainer?.includes(H.id),onChange:()=>nr("trainer",H.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:d.jsx("input",{type:"checkbox",checked:U.manager?.includes(H.id),onChange:()=>nr("manager",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:d.jsx("input",{type:"checkbox",checked:U.store?.includes(H.id),onChange:()=>nr("store",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:d.jsx("input",{type:"checkbox",checked:U.therapist?.includes(H.id),onChange:()=>nr("therapist",H.id),className:"w-5 h-5 rounded cursor-pointer"})})]},H.id))})]})})}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:as,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),C==="shops"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(Nt,{title:"",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:X.name,onChange:H=>W({...X,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:X.manager,onChange:H=>W({...X,manager:H.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(N).map(H=>d.jsxs("option",{value:H,children:[H," "]},H))]}),d.jsx(Aw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),d.jsxs("button",{onClick:ga,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[d.jsx(wg,{size:18})," "]})]})}),d.jsx(Nt,{title:"",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xi.map(([H,Ee])=>d.jsxs("div",{className:`bg-stone-50 rounded-2xl p-4 border ${H===Xe?"border-stone-300 shadow-inner":"border-stone-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[d.jsxs("span",{className:`font-bold ${H===Xe?"text-stone-500":"text-stone-700"}`,children:[H," ",H!==Xe&&""]}),d.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[Ee.length," "]})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Ee.map(Ne=>d.jsxs("div",{className:"group relative flex items-center",children:[d.jsx("span",{className:`px-3 py-1.5 border rounded-lg text-xs font-bold shadow-sm pr-7 ${H===Xe?"bg-white text-stone-500 border-stone-200":"bg-white text-stone-600 border-stone-200"}`,children:Ne}),d.jsx("button",{onClick:()=>va(Ne,H),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:d.jsx(sa,{size:12})})]},Ne))})]},H))})})]}),C==="stores"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(Nt,{title:"",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),d.jsx("input",{type:"text",value:I.name,onChange:H=>D({...I,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:I.password,onChange:H=>D({...I,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative w-full",children:[d.jsx(vi,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),d.jsxs("select",{value:I.stores,onChange:H=>D({...I,stores:H.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[d.jsx("option",{value:"",children:"..."}),ya.map(H=>d.jsx("option",{value:H,children:H},H))]}),d.jsx(Aw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),d.jsx("button",{onClick:Kn,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:d.jsx(wg,{size:20})})]})]})]})}),d.jsx(Nt,{title:"",children:d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsx("div",{className:"min-w-[600px]",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),d.jsx("th",{className:"p-4",children:""}),d.jsx("th",{className:"p-4",children:""}),d.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(H=>d.jsxs("tr",{className:"hover:bg-stone-50",children:[d.jsx("td",{className:"p-4 font-bold text-stone-700",children:H.name}),d.jsx("td",{className:"p-4 font-mono text-stone-500",children:H.password}),d.jsx("td",{className:"p-4",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:H.stores&&H.stores.map(Ee=>d.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:Ee},Ee))})}),d.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[d.jsx("button",{onClick:()=>Ft(H),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:d.jsx(U9,{size:18})}),d.jsx("button",{onClick:()=>Or(H.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:d.jsx(Lg,{size:18})})]})]},H.id))})]})})})}),M&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[d.jsx("span",{children:""}),d.jsx("button",{onClick:()=>se(null),children:d.jsx(sa,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),d.jsx("input",{type:"text",value:Y.name,onChange:H=>G({...Y,name:H.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsx("input",{type:"text",value:Y.password,onChange:H=>G({...Y,password:H.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:Y.stores.map(H=>d.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[H," ",d.jsx("button",{onClick:()=>wi(H),className:"text-stone-300 hover:text-rose-500",children:d.jsx(sa,{size:12})})]},H))}),d.jsx("div",{className:"relative",children:d.jsxs("select",{onChange:H=>{ba(H.target.value),H.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[d.jsx("option",{value:"",children:"+ "}),on.map(H=>d.jsx("option",{value:H,children:H},H))]})})]}),d.jsxs("div",{className:"pt-4 flex gap-3",children:[d.jsx("button",{onClick:()=>se(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),d.jsx("button",{onClick:ss,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),C==="managers"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(Nt,{title:"",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:K.name,onChange:H=>ee({...K,name:H.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:K.password,onChange:H=>ee({...K,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("button",{onClick:ri,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[d.jsx(wg,{size:18})," "]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:xi.map(([H,Ee])=>d.jsxs(Nt,{className:`border ${H===Xe?"border-stone-300 bg-stone-50":"border-stone-200"}`,children:[d.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${H===Xe?"text-stone-500":"text-stone-700"}`,children:[H===Xe?d.jsx(DM,{size:20}):d.jsx(gl,{size:20,className:"text-amber-500"}),H," ",H!==Xe&&""]}),H!==Xe&&d.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[H]||""]})]}),H!==Xe&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>{re(H),Q(Ee)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold whitespace-nowrap",children:""}),d.jsx("button",{onClick:()=>zr(H),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:d.jsx(Lg,{size:16})})]})]}),Z===H?d.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:V.map(Ne=>d.jsxs("div",{className:"group relative flex items-center",children:[d.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Ne}),d.jsx("button",{onClick:()=>xr(Ne),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:d.jsx(sa,{size:12})})]},Ne))}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{onChange:Ne=>{en(Ne.target.value),Ne.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white appearance-none text-stone-700",children:[d.jsx("option",{value:"",children:"+ "}),ir.filter(Ne=>!V.includes(Ne)).map(Ne=>d.jsx("option",{value:Ne,children:Ne},Ne))]}),d.jsx(Aw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("button",{onClick:()=>re(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400 hover:text-stone-600",children:""}),d.jsx("button",{onClick:()=>co(H),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg hover:bg-stone-700 shadow-sm",children:""})]})]}):d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Ee.map(Ne=>d.jsx("span",{className:`px-2.5 py-1 border rounded-lg text-xs font-bold ${H===Xe?"bg-white border-stone-200 text-stone-400":"bg-stone-50 border-stone-100 text-stone-600"}`,children:Ne},Ne))})]},H))})]}),C==="therapists"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(Nt,{children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[d.jsxs("div",{className:"relative w-full md:w-64",children:[d.jsx(gT,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),d.jsx("input",{type:"text",placeholder:"...",value:ne,onChange:H=>Se(H.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),d.jsxs("button",{onClick:()=>pe(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[d.jsx(wg,{size:18})," "]})]})}),(me||de)&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[d.jsx("span",{children:de?"":""}),d.jsx("button",{onClick:()=>{pe(!1),ye(null)},children:d.jsx(sa,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsxs("select",{value:je,onChange:H=>{oe(H.target.value),Pe("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[d.jsx("option",{value:"",children:""}),Object.keys(N).map(H=>d.jsxs("option",{value:H,children:[H,""]},H))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsxs("select",{value:he,onChange:H=>Pe(H.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!je,children:[d.jsx("option",{value:"",children:""}),Al.map(H=>d.jsx("option",{value:H,children:H},H))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsx("input",{type:"text",value:Be,onChange:H=>Ze(H.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),d.jsx("input",{type:"text",value:fn,onChange:H=>ti(H.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),d.jsxs("div",{className:"pt-4 flex gap-3",children:[d.jsx("button",{onClick:()=>{pe(!1),ye(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),d.jsx("button",{onClick:de?El:Pr,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:de?"":""})]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ae.map(H=>d.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${H.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[d.jsx(vi,{size:12})," ",H.store,""]}),d.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[H.name,H.status==="resigned"&&d.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>_i(H),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:d.jsx(Mme,{size:16})}),d.jsx("button",{onClick:()=>uo(H),className:`p-2 rounded-lg ${H.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:H.status==="active"?"":"",children:H.status==="active"?d.jsx(H9,{size:16}):d.jsx(iS,{size:16})})]})]}),d.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[d.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[d.jsx(Zhe,{size:12})," : ",H.password]}),d.jsx("button",{onClick:()=>Vr(H.id),className:"text-stone-300 hover:text-rose-400",children:d.jsx(Lg,{size:14})})]})]},H.id))})]}),C==="maintenance"&&d.jsx(bpe,{})]})})},_pe=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:f,userRole:h,therapistTargets:p,auditExclusions:g=[],handleUpdateAuditExclusions:b,currentBrand:_}=x.useContext(tr),[S,E]=x.useState(K9(new Date)),[A,C]=x.useState(h==="trainer"?"therapist-daily":"daily"),[$,L]=x.useState(!1),[q,U]=x.useState([]),z=x.useMemo(()=>{let X="CYJ";if(_){const me=(typeof _=="string"?_:_.id||"CYJ").toLowerCase();me.includes("anniu")||me.includes("anew")?X="":me.includes("yibo")?X="":X="CYJ"}return X},[_]),N=()=>{U(g||[]),L(!0)},j=async()=>{await b(q),L(!1),e("","success")},k=X=>{U(W=>W.includes(X)?W.filter(me=>me!==X):[...W,X])},P=x.useMemo(()=>Object.values(t).flat().filter(W=>!g.includes(W)).map(W=>{const me=[W,`${W}`,`${z}${W}`,`${z}${W}`,`CYJ${W}`];return{id:W,name:`${W}`,stores:me}}),[t,g,z]),I=x.useMemo(()=>l.filter(X=>X.status==="active").map(X=>({id:X.id,name:X.name,stores:[X.id]})),[l]),D=x.useMemo(()=>s.map(X=>{const W=X.date?gr(X.date):"";return{...X,storeName:X.storeName,date:W}}),[s]),M=x.useMemo(()=>{const X=u.map(de=>({...de,storeName:de.therapistId,date:de.date?gr(de.date):""}));if(A!=="therapist-daily")return X;const W=[],me=parseInt(r),pe=parseInt(i);return l.filter(de=>de.status==="active").forEach(de=>{const ye=`${de.id}_${me}_${pe}`;(f[ye]?.daysOff||[]).forEach(je=>{const oe=`${me}-${pe.toString().padStart(2,"0")}-${je.toString().padStart(2,"0")}`;W.push({id:`ghost_${de.id}_${oe}`,storeName:de.id,date:oe,isGhost:!0,revenue:0})})}),[...X,...W]},[u,A,r,i,l,f]),se=A==="therapist-daily",Y=se?I:P,G=se?M:D,K=x.useMemo(()=>{if(!S)return{submitted:[],missing:[],missingByManager:{}};const X=gr(S),W=s.filter(pe=>gr(pe.date)===X).map(pe=>pe.storeName),me={};return Object.entries(t).forEach(([pe,de])=>{const ye=[];de.forEach(ne=>{if(g.includes(ne))return;W.some(je=>je&&je.includes(ne))||ye.push(`${z}${ne}`)}),ye.length&&(me[pe]=ye)}),{submitted:W,missing:Object.values(me).flat(),missingByManager:me}},[S,s,t,g,z]),ee=x.useMemo(()=>{const X={},W=parseInt(r),me=parseInt(i);return Object.entries(t).forEach(([pe,de])=>{const ye=[];de.forEach(ne=>{if(g.includes(ne))return;const Se=`${z}${ne}`,je=`${Se}_${W}_${me}`,oe=n[je];(!oe||!oe.cashTarget&&!oe.accrualTarget)&&ye.push(Se)}),ye.length&&(X[pe]=ye)}),{missing:Object.values(X).flat(),missingByManager:X}},[n,t,r,i,g,z]),Z=x.useMemo(()=>{if(!S)return{missing:[],missingByManager:{}};const X=gr(S),W=new Date(X),me=W.getFullYear().toString(),pe=W.getMonth()+1,de=W.getDate(),ye=new Set((u||[]).filter(Se=>gr(Se.date)===X).map(Se=>Se.therapistId)),ne={};return(l||[]).filter(Se=>Se.status==="active").forEach(Se=>{const je=`${Se.id}_${me}_${pe}`;if(!f[je]?.daysOff?.includes(de)&&!ye.has(Se.id)){const Pe=Se.manager||"";ne[Pe]||(ne[Pe]=[]),ne[Pe].push(`${Se.name} (${Se.store})`)}}),{missing:Object.values(ne).flat(),missingByManager:ne}},[S,l,u,f]),re=x.useMemo(()=>{const X={},W=r,me=parseInt(i).toString();return(l||[]).filter(pe=>pe.status==="active").forEach(pe=>{const de=`${pe.id}_${W}`,ne=p[de]?.monthlyTargets?.[me];if(!(ne&&parseInt(ne)>0)){const je=pe.manager||"";X[je]||(X[je]=[]),X[je].push(`${pe.name} (${pe.store})`)}}),{missing:Object.values(X).flat(),missingByManager:X}},[l,p,r,i]),V=A==="daily"?K:A==="target"?ee:A==="therapist-daily"?Z:re,Q=()=>{let X="";A==="target"?X=`(${r}/${i})
`:A==="therapist-target"?X=`(${r}/${i})
`:A==="therapist-daily"?X=`(${S})
`:X=`(${S})
`,Object.entries(V.missingByManager).forEach(([W,me])=>{const pe=me.map(de=>A.includes("therapist")?de:de.replace(/CYJ|||Anew|Yibo|/gi,"").trim());X+=`${W}${pe.join("")}
`}),navigator.clipboard.writeText(X),e("","success")};return d.jsxs(Zr,{children:[d.jsxs(Nt,{title:"",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[d.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[h!=="trainer"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>C("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),d.jsx("button",{onClick:()=>C("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),d.jsx("button",{onClick:()=>C("therapist-daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="therapist-daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),d.jsx("button",{onClick:()=>C("therapist-target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="therapist-target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),d.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[A==="daily"||A==="therapist-daily"?d.jsx("div",{className:"w-full sm:w-auto relative z-10",children:P.length===0?d.jsxs("div",{className:"px-4 py-3 bg-rose-50 text-rose-600 text-sm font-bold rounded-xl border border-rose-100 flex items-center gap-2 whitespace-nowrap animate-pulse",children:[d.jsx(k9,{size:18}),"  ()"]}):d.jsx(Y9,{selectedDate:S,onDateSelect:E,stores:Y,salesData:G})}):d.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start flex-grow",children:[d.jsx(Pd,{size:16})," ",r,"  ",i," "]}),(h==="director"||h==="manager")&&(A==="daily"||A==="target")&&d.jsx("button",{onClick:N,className:"p-2 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200",title:"",children:d.jsx(Ay,{size:20})})]})]}),(A==="daily"||A==="therapist-daily")&&d.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),d.jsx("span",{className:"whitespace-nowrap",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),d.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),d.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[d.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[d.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[d.jsx(rd,{size:20}),A==="therapist-daily"?" ()":A==="therapist-target"?"":"",d.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:V.missing.length})]}),d.jsx("button",{onClick:Q,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),d.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(V.missingByManager).map(([X,W])=>d.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[d.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[X," "]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:W.map((me,pe)=>d.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[A.includes("therapist")&&d.jsx(H9,{size:10,className:"text-rose-400"}),A.includes("therapist")?me:me.replace(/CYJ|||Anew|Yibo|/gi,"").replace(z,"")]},pe))})]},X)),V.missing.length===0&&d.jsx("div",{className:"col-span-3 text-center py-10",children:d.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:d.jsx(Qs,{size:24})}),"",A==="therapist-daily"&&d.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]}),$&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(hT,{size:20,className:"text-rose-400"})," "]}),d.jsx("button",{onClick:()=>L(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(sa,{size:20})})]}),d.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(t).map(([X,W])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[X," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:W.map(me=>{const pe=q.includes(me);return d.jsxs("button",{onClick:()=>k(me),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${pe?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[pe&&d.jsx(Qs,{size:14}),me]},me)})})]},X))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>L(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:j,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Spe=(t,e,n,r,i)=>x.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,f=t.filter(N=>{if(!N.date)return!1;const j=N.date.replace(/-/g,"/"),[k]=j.split("/").map(Number);return k===s||k===u}),h=f.reduce((N,j)=>({cash:N.cash+(j.cash||0)-(j.refund||0),accrual:N.accrual+(j.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(N=>`CYJ${N}`);for(let N=1;N<=12;N++)g.forEach(j=>{const k=`${j}_${s}_${N}`;n[k]&&(p.cash+=n[k].cashTarget||0,p.accrual+=n[k].accrualTarget||0)});const b={cashActual:h.cash,cashTarget:p.cash,cashAchievement:p.cash>0?h.cash/p.cash*100:0,accrualActual:h.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?h.accrual/p.accrual*100:0},_=f.filter(N=>{const j=N.date.replace(/-/g,"/"),[,k]=j.split("/").map(Number);return k===l}),S=[...new Set(_.map(N=>gr(N.date)))].sort(),E=S[S.length-1]||"",A=new Date(s,l,0).getDate();let C=1;E!==""&&(C=parseInt(E.split("/")[2]));const $=S.map(N=>{const j=_.filter(k=>gr(k.date)===N);return{date:N.split("/")[2],fullDate:N,cash:j.reduce((k,P)=>k+(P.cash||0)-(P.refund||0),0),traffic:j.reduce((k,P)=>k+(P.traffic||0),0)}}),q=Object.entries(e).flatMap(([N,j])=>j.map(k=>({name:`CYJ${k}`,manager:N}))).map(N=>{const j=_.filter(X=>X.storeName===N.name),k=j.reduce((X,W)=>X+(W.cash||0),0),P=j.reduce((X,W)=>X+(W.refund||0),0),I=k-P,D=j.reduce((X,W)=>X+(W.accrual||0),0),M=j.reduce((X,W)=>X+(W.operationalAccrual||0),0),se=j.reduce((X,W)=>X+(W.traffic||0),0),Y=j.reduce((X,W)=>X+(W.newCustomers||0),0),G=j.reduce((X,W)=>X+(W.newCustomerClosings||0),0),K=j.reduce((X,W)=>X+(W.newCustomerSales||0),0),ee=j.reduce((X,W)=>X+(W.skincareSales||0),0),Z=j.reduce((X,W)=>X+(W.skincareRefund||0),0),re=ee-Z,V=`${N.name}_${s}_${l}`,Q=n[V]||{cashTarget:0,accrualTarget:0};return{...N,cashTotal:I,accrualTotal:D,operationalAccrualTotal:M,trafficTotal:se,newCustomersTotal:Y,newCustomerClosingsTotal:G,newCustomerSalesTotal:K,skincareSalesTotal:re,skincareRefundTotal:Z,refundTotal:P,cashBudget:Q.cashTarget,accrualBudget:Q.accrualTarget,projection:C>0?Math.round(I/C*A):0,achievement:Q.cashTarget>0?I/Q.cashTarget*100:0,trafficASP:se>0?Math.round(M/se):0,newCustomerASP:Y>0?Math.round(K/Y):0}}),U=q.reduce((N,j)=>({cash:N.cash+j.cashTotal,accrual:N.accrual+j.accrualTotal,operationalAccrual:N.operationalAccrual+j.operationalAccrualTotal,skincareSales:N.skincareSales+j.skincareSalesTotal,skincareRefund:N.skincareRefund+j.skincareRefundTotal,traffic:N.traffic+j.trafficTotal,newCustomers:N.newCustomers+j.newCustomersTotal,newCustomerClosings:N.newCustomerClosings+j.newCustomerClosingsTotal,newCustomerSales:N.newCustomerSales+j.newCustomerSalesTotal,refund:N.refund+j.refundTotal,budget:N.budget+j.cashBudget,accrualBudget:N.accrualBudget+j.accrualBudget,projection:N.projection+j.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),z=Object.entries(e).map(([N,j])=>{const k=q.filter(V=>V.manager===N),P=k.reduce((V,Q)=>V+Q.cashTotal,0),I=k.reduce((V,Q)=>V+Q.accrualTotal,0),D=k.reduce((V,Q)=>V+Q.operationalAccrualTotal,0),M=k.reduce((V,Q)=>V+Q.cashBudget,0),se=k.reduce((V,Q)=>V+Q.skincareSalesTotal,0),Y=k.reduce((V,Q)=>V+Q.skincareRefundTotal,0),G=k.reduce((V,Q)=>V+Q.trafficTotal,0),K=k.reduce((V,Q)=>V+Q.newCustomersTotal,0),ee=k.reduce((V,Q)=>V+Q.newCustomerClosingsTotal,0),Z=k.reduce((V,Q)=>V+Q.refundTotal,0),re=G>0?Math.round(D/G):0;return{manager:N,cashTotal:P,accrualTotal:I,operationalAccrualTotal:D,skincareSalesTotal:se,skincareRefundTotal:Y,trafficTotal:G,newCustomersTotal:K,newCustomerClosingsTotal:ee,refundTotal:Z,trafficASP:re,achievement:M>0?P/M*100:0}});return{latestDate:E,daysPassed:C,daysInMonth:A,remainingDays:A-C,dailyTotals:$,storeList:q,grandTotal:U,regionalStats:z,yearlyStats:b,totalAchievement:U.budget>0?U.cash/U.budget*100:0,avgTrafficASP:U.traffic>0?Math.round(U.operationalAccrual/U.traffic):0,avgNewCustomerASP:U.newCustomers>0?Math.round(U.newCustomerSales/U.newCustomers):0,allDates:S}},[t,e,n,r,i]),Epe=()=>d.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"flex items-center justify-center w-6",children:d.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[d.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),d.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),Ape=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s,auditExclusions:l,handleUpdateAuditExclusions:u,userRole:f,showToast:h,currentBrand:p}=x.useContext(tr),[g,b]=x.useState(`${s}-01`),[_,S]=x.useState(`${s}-12`),[E,A]=x.useState(!1),[C,$]=x.useState([]),L=x.useMemo(()=>{let M="CYJ";if(p){const Y=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();Y.includes("anniu")||Y.includes("anew")?M="":Y.includes("yibo")?M="":M="CYJ"}return M},[p]),q=M=>M?M.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";x.useEffect(()=>{b(`${s}-01`),S(`${s}-12`)},[s]);const U=()=>{$(l||[]),A(!0)},z=async()=>{await u(C),A(!1),h("","success")},N=M=>{$(se=>se.includes(M)?se.filter(Y=>Y!==M):[...se,M])},j=M=>{let se="01",Y="03";switch(M){case 1:se="01",Y="03";break;case 2:se="04",Y="06";break;case 3:se="07",Y="09";break;case 4:se="10",Y="12";break;case"ALL":se="01",Y="12";break}b(`${s}-${se}`),S(`${s}-${Y}`)},k=x.useMemo(()=>g===`${s}-01`&&_===`${s}-03`?1:g===`${s}-04`&&_===`${s}-06`?2:g===`${s}-07`&&_===`${s}-09`?3:g===`${s}-10`&&_===`${s}-12`?4:g===`${s}-01`&&_===`${s}-12`?"ALL":null,[g,_,s]),P=x.useMemo(()=>{const M=Object.values(n).flat().filter(X=>!l.includes(X)).map(X=>`${L}${X}`),se=[];let Y=new Date(`${g}-01`);const G=new Date(`${_}-01`);for(Y>G&&(Y=new Date(`${g}-01`));Y<=G;){const X=Y.getFullYear(),W=Y.getMonth()+1;se.push({label:`${X}/${W}`,y:X,m:W,dateKey:`${X}/${W.toString().padStart(2,"0")}`}),Y.setMonth(Y.getMonth()+1)}const K=se.map(X=>({...X,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(X=>{const W=q(X.storeName);if(l.includes(W)||!X.date)return;const pe=X.date.replace(/-/g,"/").split("/"),de=parseInt(pe[0]),ye=parseInt(pe[1]),ne=de<1911?de+1911:de,Se=K.find(je=>je.y===ne&&je.m===ye);Se&&(Se.cash+=(X.cash||0)-(X.refund||0),Se.accrual+=X.accrual||0,Se.traffic+=X.traffic||0)});let ee=0,Z=0,re=0,V=0,Q=0;return K.forEach(X=>{M.forEach(W=>{const me=`${W}_${X.y}_${X.m}`;e[me]&&(X.budget+=e[me].cashTarget||0,X.accrualBudget+=e[me].accrualTarget||0)}),X.achievement=X.budget>0?X.cash/X.budget*100:0,X.accrualAchievement=X.accrualBudget>0?X.accrual/X.accrualBudget*100:0,ee+=X.cash,Z+=X.budget,re+=X.accrual,V+=X.accrualBudget,Q+=X.traffic}),{monthlyStats:K,totals:{cash:ee,budget:Z,cashAch:Z>0?ee/Z*100:0,accrual:re,accrualBudget:V,accrualAch:V>0?re/V*100:0,traffic:Q}}},[t,e,n,g,_,l,L]),{monthlyStats:I,totals:D}=P;return d.jsxs(Zr,{children:[d.jsxs("div",{className:"space-y-6 pb-12",children:[d.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:d.jsx(lo,{size:24})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-stone-800",children:[" (",L,")"]}),d.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 self-start md:self-auto md:ml-auto",children:[d.jsxs("div",{className:"px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full",children:[":  (",Object.values(n).flat().filter(M=>!l.includes(M)).length," )"]}),(f==="director"||f==="manager")&&d.jsx("button",{onClick:U,className:"p-1.5 bg-stone-100 text-stone-500 rounded-full hover:bg-stone-200 transition-colors",title:" ()",children:d.jsx(Ay,{size:16})})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[d.jsx(z9,{size:18,className:"text-amber-500"}),d.jsx("span",{children:""})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>j("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${k==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(M=>d.jsxs("button",{onClick:()=>j(M),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${k===M?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",M]},M))]}),d.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),d.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:d.jsx("span",{children:""})}),d.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[d.jsx("input",{type:"month",value:g,onChange:M=>b(M.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),d.jsx("span",{className:"text-stone-400",children:d.jsx(Im,{size:16})}),d.jsx("input",{type:"month",value:_,onChange:M=>S(M.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:d.jsx(Js,{size:100})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[d.jsx(Pd,{size:14})," "]}),d.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(D.cash)}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[d.jsxs("span",{children:[" ",r(D.budget)]}),d.jsxs("span",{children:[D.cashAch.toFixed(1),"%"]})]}),d.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(D.cashAch,100)}%`}})})]})]})]}),d.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:d.jsx(Ga,{size:100})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[d.jsx(ah,{size:14})," "]}),d.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(D.accrual)}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[d.jsxs("span",{children:[" ",r(D.accrualBudget)]}),d.jsxs("span",{className:D.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[D.accrualAch.toFixed(1),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(D.accrualAch,100)}%`}})})]})]})]})]}),d.jsx(Nt,{title:"",subtitle:" vs  (/)",children:d.jsx("div",{className:"h-[350px] w-full",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(dT,{data:I,margin:{top:20,right:0,left:0,bottom:0},children:[d.jsx(_y,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),d.jsx(Ey,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),d.jsx(nd,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:M=>`${(M/1e4).toFixed(0)}`}),d.jsx(kh,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:M=>r(M),itemSorter:M=>({:1,:2,:3,:4})[M.name]||99}),d.jsx(Th,{content:d.jsx(Epe,{}),verticalAlign:"top",height:36}),d.jsx(aT,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),d.jsx(td,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),d.jsx(sT,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),d.jsx(td,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),d.jsx(Nt,{title:"",children:d.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:d.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[d.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:d.jsxs("tr",{children:[d.jsx("th",{className:"pb-3 pl-2",children:""}),d.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),d.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),d.jsx("th",{className:"pb-3 text-right",children:""}),d.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),d.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),d.jsx("th",{className:"pb-3 text-right",children:""}),d.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-50",children:I.map((M,se)=>d.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:M.label}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(M.budget)}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(M.cash)}),d.jsx("td",{className:"py-4 text-right font-bold",children:d.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${M.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[M.achievement.toFixed(1),"%"]})}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(M.accrualBudget)}),d.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(M.accrual)}),d.jsx("td",{className:"py-4 text-right font-bold",children:d.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${M.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[M.accrualAchievement.toFixed(1),"%"]})}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(M.traffic)})]},se))}),d.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:d.jsxs("tr",{children:[d.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(D.budget)}),d.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(D.cash)}),d.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[D.cashAch.toFixed(1),"%"]}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(D.accrualBudget)}),d.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(D.accrual)}),d.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[D.accrualAch.toFixed(1),"%"]}),d.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(D.traffic)})]})})]})})})]}),E&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(hT,{size:20,className:"text-rose-400"}),"  (",L,")"]}),d.jsx("button",{onClick:()=>A(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(sa,{size:20})})]}),d.jsxs("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:[d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]}),d.jsx("p",{className:"text-xs mt-1 text-stone-400",children:"()"})]}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(n).map(([M,se])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[M," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:se.map(Y=>{const G=C.includes(Y);return d.jsxs("button",{onClick:()=>N(Y),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${G?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[G&&d.jsx(Qs,{size:14}),Y]},Y)})})]},M))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>A(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:z,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Tpe=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s,getCollectionPath:l,currentBrand:u}=x.useContext(tr),f=new Date().getFullYear(),[h,p]=x.useState(f),[g,b]=x.useState(""),[_,S]=x.useState(""),[E,A]=x.useState(!1),[C,$]=x.useState(Array.from({length:12},(j,k)=>({month:k+1,cashTarget:"",accrualTarget:""}))),L=x.useMemo(()=>{let j="CYJ";if(u){const P=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();P.includes("anniu")||P.includes("anew")?j="":P.includes("yibo")?j="":j="CYJ"}return j},[u]),q=x.useMemo(()=>{const j=k=>{const P=k.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${L}${P}`};return t==="director"||t==="trainer"?g?(e[g]||[]).map(j):[]:t==="manager"?Object.values(e).flat().map(j):t==="store"&&n?(n.stores||[n.storeName]).map(j):[]},[g,e,n,t,L]);x.useEffect(()=>{if(_&&!q.includes(_)&&S(""),t==="store"&&n){const j=n.stores||[n.storeName];if(j.length>0){let k=j[0];k=k.replace(/CYJ|||Anew|Yibo|/gi,"").trim();const P=Object.keys(e).find(D=>e[D].includes(k));P&&b(P);const I=`${L}${k}`;S(I)}}else t==="manager"&&n&&b(n.name)},[t,n,e,L,q]),x.useEffect(()=>{if(!_){$(Array.from({length:12},(k,P)=>({month:P+1,cashTarget:"",accrualTarget:""})));return}const j=Array.from({length:12},(k,P)=>{const I=P+1,D=`${_}_${h}_${I}`,M=r[D];return{month:I,cashTarget:M?hc(M.cashTarget):"",accrualTarget:M?hc(M.accrualTarget):""}});$(j)},[_,h,r]);const U=j=>{if(t==="director"||t==="manager"||t==="trainer")return!1;const k=j+1,P=`${_}_${h}_${k}`,I=r[P];return!!(I&&(I.cashTarget>0||I.accrualTarget>0))},z=(j,k,P)=>{if(U(j))return;const I=P.replace(/,/g,"");/^\d*$/.test(I)&&$(D=>{const M=[...D];return M[j]={...M[j],[k]:hc(I)},M})},N=async()=>{if(!_){i("","error");return}A(!0);try{const j=Zw(na);let k=!1;if(C.forEach((P,I)=>{if(U(I))return;const D=hr(P.cashTarget),M=hr(P.accrualTarget);if(D>0||M>0){const se=`${_}_${h}_${P.month}`,Y=jr(l("monthly_targets"),se);j.set(Y,{cashTarget:D,accrualTarget:M,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),k=!0}}),!k){i("","info"),A(!1);return}await j.commit(),i(`${h} `,"success"),s(t,n?.name,"",`${_} ${h}`)}catch(j){console.error("Save targets error:",j),i("","error")}finally{A(!1)}};return d.jsx(Zr,{children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[d.jsx(Nt,{children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:d.jsx(ad,{size:24})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[d.jsxs("p",{children:["Annual Budget Planning (",L,")"]}),t==="store"&&d.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[d.jsx(fc,{size:10})," "]})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[d.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[d.jsxs("select",{value:h,onChange:j=>p(Number(j.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[d.jsxs("option",{value:f-1,children:[f-1," "]}),d.jsxs("option",{value:f,children:[f," "]}),d.jsxs("option",{value:f+1,children:[f+1," "]})]}),d.jsx(lo,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),d.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:d.jsxs("select",{value:g,onChange:j=>{b(j.target.value),S("")},disabled:t!=="director"&&t!=="trainer",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(e).map(j=>d.jsxs("option",{value:j,children:[j,""]},j))]})}),d.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[d.jsxs("select",{value:_,onChange:j=>S(j.target.value),disabled:!g,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",children:"..."}),q.map(j=>d.jsx("option",{value:j,children:j},j))]}),d.jsx(vi,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),_?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block",children:d.jsx(Nt,{title:`${_} - ${h} `,children:d.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-3 pl-4",children:""}),d.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),d.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),d.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:C.map((j,k)=>{const P=U(k);return d.jsxs("tr",{className:`transition-colors ${P?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[d.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[j.month," "]}),d.jsx("td",{className:"py-2 px-2",children:d.jsxs("div",{className:"relative",children:[d.jsx(Js,{size:14,className:`absolute left-3 top-3 ${P?"text-stone-300":"text-stone-400"}`}),d.jsx("input",{type:"text",placeholder:P?"-":"0",value:j.cashTarget,onChange:I=>z(k,"cashTarget",I.target.value),disabled:P,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${P?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),d.jsx("td",{className:"py-2 px-2",children:d.jsxs("div",{className:"relative",children:[d.jsx(tS,{size:14,className:`absolute left-3 top-3 ${P?"text-stone-300":"text-stone-400"}`}),d.jsx("input",{type:"text",placeholder:P?"-":"0",value:j.accrualTarget,onChange:I=>z(k,"accrualTarget",I.target.value),disabled:P,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${P?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),d.jsx("td",{className:"py-2 px-2 text-center",children:P?d.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:d.jsx(fc,{size:16})}):j.cashTarget?d.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:d.jsx(Qs,{size:16,className:"opacity-0 group-hover:opacity-50"})}):d.jsx("div",{className:"flex items-center justify-center text-stone-200",children:d.jsx(ad,{size:16})})})]},j.month)})})]})})})}),d.jsxs("div",{className:"md:hidden space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between px-2",children:d.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[d.jsx(vi,{size:18,className:"text-amber-500"}),_,d.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:h})]})}),C.map((j,k)=>{const P=U(k);return d.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${P?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[d.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[d.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[j.month," "]}),j.cashTarget&&!P&&d.jsx(Qs,{size:16,className:"text-emerald-500"})]}),P&&d.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[d.jsx(fc,{size:12})," "]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[d.jsx(Js,{size:12}),"  (Cash)"]}),d.jsx("input",{type:"text",inputMode:"numeric",placeholder:P?"":"...",value:j.cashTarget,onChange:I=>z(k,"cashTarget",I.target.value),disabled:P,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${P?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[d.jsx(tS,{size:12}),"  (Accrual)"]}),d.jsx("input",{type:"text",inputMode:"numeric",placeholder:P?"":"...",value:j.accrualTarget,onChange:I=>z(k,"accrualTarget",I.target.value),disabled:P,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${P?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},j.month)})]}),d.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:d.jsx("button",{onClick:N,disabled:E,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:E?"...":d.jsxs(d.Fragment,{children:[d.jsx(Sl,{size:20})," "]})})}),d.jsx("div",{className:"h-24 md:hidden"})]}):d.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[d.jsx(vi,{size:48,className:"mx-auto mb-2 opacity-20"}),d.jsx("p",{children:""})]})]})})},jpe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=x.useContext(tr),[f,h]=x.useState(new Date().getFullYear().toString()),[p,g]=x.useState(""),[b,_]=x.useState(""),[S,E]=x.useState(""),[A,C]=x.useState({}),$=x.useMemo(()=>{let z="CYJ";if(u){const j=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();j.includes("anniu")||j.includes("anew")?z="":j.includes("yibo")?z="":z="CYJ"}return z},[u]);x.useEffect(()=>{g(""),_(""),E("");const z=N=>N?N.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const N=i.storeName||i.store||"",j=z(N),k=Object.keys(s).find(P=>s[P].includes(j));k&&g(k),_(j||i.store),E(i.id)}else if(r==="store"&&i){const N=i.stores||[i.storeName];if(N.length>0){const j=N[0],k=z(j),P=Object.keys(s).find(I=>s[I].includes(k));P&&g(P),N.length===1&&_(k)}}else r==="manager"&&i&&g(i.name)},[r,i,s,$,u]);const L=x.useMemo(()=>{if(!p)return[];const z=s[p]||[];if(r==="store"&&i){const j=(i.stores||[i.storeName]).map(k=>k.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return z.filter(k=>j.includes(k))}return z},[p,s,r,i]),q=x.useMemo(()=>b?e.filter(z=>z.status==="active"&&z.store===b).sort((z,N)=>z.name.localeCompare(N.name)):[],[b,e]);x.useEffect(()=>{if(S&&f){const z=`${S}_${f}`,N=n[z]||{};C(N.monthlyTargets||{})}else C({})},[S,f,n]);const U=async()=>{if(!S)return t("","error");try{const z=`${S}_${f}`;await Ln(jr(l("therapist_targets"),z),{therapistId:S,year:f,monthlyTargets:A,updatedAt:gd()},{merge:!0}),t("","success")}catch(z){console.error(z),t("","error")}};return d.jsx(Zr,{children:d.jsx(Nt,{title:"",subtitle:"",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(pT,{size:12}),"  ()"]}),d.jsxs("select",{value:p,onChange:z=>{g(z.target.value),_(""),E("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(s).map(z=>d.jsxs("option",{value:z,children:[z,""]},z))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(vi,{size:12})," "]}),d.jsxs("select",{value:b,onChange:z=>{_(z.target.value),E("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),L.map(z=>d.jsxs("option",{value:z,children:[$,z,""]},z))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(gl,{size:12})," "]}),d.jsxs("select",{value:S,onChange:z=>E(z.target.value),disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),q.map(z=>d.jsx("option",{value:z.id,children:z.name},z.id))]})]}),d.jsxs("div",{className:"w-full md:w-32",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:f,onChange:z=>h(z.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(z=>d.jsxs("option",{value:z,children:[z,""]},z))})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:U,disabled:!S,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[d.jsx(Sl,{size:18})," "]})}),S?d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(z,N)=>N+1).map(z=>d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[z," "]}),d.jsxs("div",{className:"relative",children:[d.jsx(Js,{size:14,className:"absolute left-3 top-3 text-stone-400"}),d.jsx("input",{type:"number",value:A[z]||"",onChange:N=>C({...A,[z]:N.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},z))}):d.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:d.jsx(Pd,{size:32,className:"opacity-20"})}),d.jsx("p",{children:"  >  >  "})]})]})})})},Npe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=x.useContext(tr),[f,h]=x.useState(new Date().getFullYear().toString()),[p,g]=x.useState((new Date().getMonth()+1).toString()),[b,_]=x.useState(""),[S,E]=x.useState(""),[A,C]=x.useState(""),[$,L]=x.useState([]),q=x.useMemo(()=>{let P="CYJ";if(u){const D=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();D.includes("anniu")||D.includes("anew")?P="":D.includes("yibo")?P="":P="CYJ"}return P},[u]);x.useEffect(()=>{_(""),E(""),C("");const P=I=>I?I.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const I=i.storeName||i.store||"",D=P(I),M=Object.keys(s).find(se=>s[se].includes(D));M&&_(M),E(D||i.store),C(i.id)}else if(r==="store"&&i){const I=i.stores||[i.storeName];if(I.length>0){const D=I[0],M=P(D),se=Object.keys(s).find(Y=>s[Y].includes(M));se&&_(se),I.length===1&&E(M)}}else r==="manager"&&i&&_(i.name)},[r,i,s,q,u]);const U=x.useMemo(()=>{if(!b)return[];const P=s[b]||[];if(r==="store"&&i){const D=(i.stores||[i.storeName]).map(M=>M.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return P.filter(M=>D.includes(M))}return P},[b,s,r,i]),z=x.useMemo(()=>S?e.filter(P=>P.status==="active"&&P.store===S).sort((P,I)=>P.name.localeCompare(I.name)):[],[S,e]);x.useEffect(()=>{if(A&&f&&p){const P=`${A}_${f}_${parseInt(p)}`,I=n[P]||{};L(I.daysOff||[])}else L([])},[A,f,p,n]);const N=P=>{L(I=>I.includes(P)?I.filter(D=>D!==P):[...I,P].sort((D,M)=>D-M))},j=async()=>{if(!A)return t("","error");try{const P=`${A}_${f}_${parseInt(p)}`;await Ln(jr(l("therapist_schedules"),P),{therapistId:A,year:f,month:parseInt(p),daysOff:$,updatedAt:gd()},{merge:!0}),t("","success")}catch(P){console.error(P),t("","error")}},k=(P,I)=>new Date(P,I,0).getDate();return d.jsx(Zr,{children:d.jsx(Nt,{title:"",subtitle:" ()",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(pT,{size:12}),"  ()"]}),d.jsxs("select",{value:b,onChange:P=>{_(P.target.value),E(""),C("")},disabled:r==="manager"||r==="therapist"||r==="store"&&b!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(s).map(P=>d.jsxs("option",{value:P,children:[P,""]},P))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(vi,{size:12})," "]}),d.jsxs("select",{value:S,onChange:P=>{E(P.target.value),C("")},disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),U.map(P=>d.jsxs("option",{value:P,children:[q,P,""]},P))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(gl,{size:12})," "]}),d.jsxs("select",{value:A,onChange:P=>C(P.target.value),disabled:!S||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),z.map(P=>d.jsx("option",{value:P.id,children:P.name},P.id))]})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsxs("div",{className:"w-1/2 md:w-24",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:f,onChange:P=>h(P.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[2024,2025,2026].map(P=>d.jsx("option",{value:P,children:P},P))})]}),d.jsxs("div",{className:"w-1/2 md:w-24",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:p,onChange:P=>g(P.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(P,I)=>I+1).map(P=>d.jsxs("option",{value:P,children:[P,""]},P))})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:j,disabled:!A,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[d.jsx(Sl,{size:18})," "]})}),A?d.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[d.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(P=>d.jsx("div",{className:"text-xs font-bold text-stone-400",children:P},P))}),d.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(f,p-1,1).getDay()}).map((P,I)=>d.jsx("div",{},`empty-${I}`)),Array.from({length:k(f,p)}).map((P,I)=>{const D=I+1,M=$.includes(D);return d.jsxs("button",{onClick:()=>N(D),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${M?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[D,M&&d.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},D)})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):d.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:d.jsx(lo,{size:32,className:"opacity-20"})}),d.jsx("p",{children:"  >  >  "})]})]})})})},jw=[{id:"cyj",label:"CYJ",icon:id,pathType:"legacy",color:"amber",gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-600"},{id:"anniu",label:"Anew ()",icon:nS,pathType:"new",color:"rose",gradient:"from-rose-400 to-pink-600",bg:"bg-rose-50",text:"text-rose-600"},{id:"yibo",label:"Yibo ()",icon:vme,pathType:"new",color:"sky",gradient:"from-sky-400 to-indigo-600",bg:"bg-sky-50",text:"text-sky-600"}];function Cpe(){const[t,e]=x.useState(null),[n,r]=x.useState(null),[i,s]=x.useState(null),[l,u]=x.useState(!0),[f,h]=x.useState("dashboard"),[p,g]=x.useState(!0),[b,_]=x.useState(null),[S,E]=x.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[A,C]=x.useState(""),[$,L]=x.useState("cyj"),[q,U]=x.useState(!1),z=x.useMemo(()=>jw.find(Ae=>Ae.id===$)||jw[0],[$]),N=Ae=>{L(Ae),U(!0)},j=x.useCallback(Ae=>z.pathType==="legacy"?gh(na,"artifacts",Gf,"public","data",Ae):gh(na,"brands",z.id,Ae),[z]),k=x.useCallback(Ae=>z.pathType==="legacy"?jr(na,"artifacts",Gf,"public","data","global_settings",Ae):jr(na,"brands",z.id,"settings",Ae),[z]),[P,I]=x.useState([]),[D,M]=x.useState({}),[se,Y]=x.useState({newASP:3500,trafficASP:1200}),[G,K]=x.useState({}),[ee,Z]=x.useState([]),[re,V]=x.useState({}),[Q,X]=x.useState(zg),[W,me]=x.useState([]),[pe,de]=x.useState({password:"0000"}),[ye,ne]=x.useState([]),[Se,je]=x.useState({}),[oe,he]=x.useState({}),[Pe,Be]=x.useState([]),[Ze,fn]=x.useState(!1),[ti,Ot]=x.useState(15),Lt=x.useRef(Date.now()),[Xe,bi]=x.useState(new Date().getFullYear().toString()),[xi,Mn]=x.useState((new Date().getMonth()+1).toString()),[ni,as]=x.useState(()=>K9(new Date)),nr=Ae=>(Ae||"").replace(/CYJ|/g,"").trim(),rr=x.useCallback(async(Ae,H,Ee,Ne)=>{let Oe="PC";if(typeof navigator<"u"){const We=navigator.userAgent.toLowerCase();We.includes("android")?Oe="Android":We.includes("iphone")||We.includes("ipad")?Oe="iOS":We.includes("mobile")&&(Oe="Mobile")}try{await nE(j("system_logs"),{timestamp:gd(),role:Ae,user:H,action:Ee,details:Ne,device:Oe})}catch(We){console.error("Failed to log activity",We)}},[j]),ga=x.useCallback(async(Ae="")=>{const H=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&rr(n,H,"",Ae),fn(!1),Ot(15),Lt.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),h("dashboard")},[i,n,rr]),va=x.useCallback(()=>{n&&(Lt.current=Date.now(),Ze&&(fn(!1),Ot(15)))},[n,Ze]);x.useEffect(()=>{let Ae=null;return n&&(Ae=setInterval(()=>{const Ee=Date.now()-Lt.current,Ne=165*1e3,Oe=180*1e3;if(Ee>Oe)clearInterval(Ae),ga(" 3 ");else if(Ee>Ne){Ze||fn(!0);const We=Math.ceil((Oe-Ee)/1e3);Ot(We>0?We:0)}else Ze&&fn(!1)},1e3)),()=>{Ae&&clearInterval(Ae)}},[n,Ze,ga]),x.useEffect(()=>{if(n){const Ae=["mousemove","mousedown","keypress","scroll","touchstart","click"];let H;const Ee=()=>{H||(va(),H=setTimeout(()=>{H=null},500))};return Ae.forEach(Ne=>window.addEventListener(Ne,Ee)),Lt.current=Date.now(),()=>{Ae.forEach(Ne=>window.removeEventListener(Ne,Ee))}}},[n,va]),x.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await sB(zx,__initial_auth_token):await tB(zx)}catch(H){console.warn("Auth Error:",H)}})(),cB(zx,H=>{e(H),u(!1)})),[]),x.useEffect(()=>{if(!t)return;I([]),M({}),K({}),Z([]),V({}),me([]),ne([]),je({}),he({}),X(zg),Y({newASP:3500,trafficASP:1200});const Ae=Yr(vh(j("daily_reports"),av("date","desc")),rt=>I(rt.docs.map(Wt=>({id:Wt.id,...Wt.data()})))),H=Yr(j("monthly_targets"),rt=>{const Wt={};rt.docs.forEach(hn=>Wt[hn.id]=hn.data()),M(Wt)}),Ee=Yr(k("kpi_targets"),rt=>{rt.exists()?Y(rt.data()):Y({newASP:3500,trafficASP:1200})}),Ne=Yr(k("org_structure"),rt=>{if(rt.exists()){const Wt=rt.data().managers||{},hn={};Object.keys(Wt).forEach(Yi=>{!Yi.includes("")&&!Yi.includes("")&&(hn[Yi]=Wt[Yi])}),K(hn)}else z.id==="cyj"?K(tpe):K({})}),Oe=Yr(k("store_account_data"),rt=>{rt.exists()?Z(rt.data().accounts):Z([])}),We=Yr(k("manager_auth"),rt=>{rt.exists()?V(rt.data()):V({})}),mt=Yr(k("permissions"),rt=>{rt.exists()?X(rt.data()):X(zg)}),ar=Yr(j("therapists"),rt=>me(rt.docs.map(Wt=>({id:Wt.id,...Wt.data()})))),tn=Yr(vh(j("therapist_daily_reports"),av("date","desc"),s5(1e3)),rt=>ne(rt.docs.map(Wt=>({id:Wt.id,...Wt.data()})))),Et=Yr(j("therapist_schedules"),rt=>{const Wt={};rt.docs.forEach(hn=>Wt[hn.id]=hn.data()),je(Wt)}),Si=Yr(j("therapist_targets"),rt=>{const Wt={};rt.docs.forEach(hn=>Wt[hn.id]=hn.data()),he(Wt)}),fo=Yr(k("trainer_auth"),rt=>{rt.exists()?de(rt.data()):de({password:"0000"})}),Rd=Yr(k("audit_exclusions"),rt=>{rt.exists()?Be(rt.data().stores||[]):Be([])});return()=>{Ae(),H(),Ee(),Ne(),Oe(),We(),mt(),ar(),tn(),Et(),Si(),fo(),Rd()}},[t,z,j,k]);const co=(Ae,H=null)=>{let Ee=H;if(Ae==="therapist"&&H?.name){const Oe=W.find(We=>We.name===H.name);Oe&&(Ee={...H,...Oe,id:Oe.id||H.id})}r(Ae),Ee&&s(Ee);const Ne=Ee?.name||(Ae==="director"?"":Ae==="trainer"?"":"");rr(Ae,Ne,"",""),h("dashboard")},ya=async(Ae,H)=>{try{const Ee=ee.map(Ne=>Ne.id===Ae?{...Ne,password:H}:Ne);return await Ln(k("store_account_data"),{accounts:Ee}),!0}catch{return!1}},ir=async(Ae,H)=>{try{return await Ln(k("manager_auth"),{[Ae]:H},{merge:!0}),!0}catch{return!1}},on=async(Ae,H)=>{try{return await ov(jr(j("therapists"),Ae),{password:H}),!0}catch(Ee){return console.error(Ee),!1}},Kn=async Ae=>{try{return await Ln(k("trainer_auth"),{password:Ae}),!0}catch(H){return console.error(H),!1}},Ft=async Ae=>{try{return await Ln(k("audit_exclusions"),{stores:Ae}),!0}catch(H){return console.error(H),!1}},ba=x.useCallback(Ae=>{h("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:Ae}))},[]),wi=x.useMemo(()=>{if(n===dr.TRAINER.id)return[];if(n===dr.STORE.id&&i){const Ae=(i.stores||[i.storeName]).map(H=>H&&H.startsWith("CYJ")?H:`CYJ${H}`);return P.filter(H=>Ae.includes(H.storeName))}if(n===dr.MANAGER.id&&i){const Ae=(G[i.name]||[]).map(H=>`CYJ${H}`);return P.filter(H=>Ae.includes(H.storeName))}return P},[P,n,i,G]),ss=x.useMemo(()=>{if(n===dr.DIRECTOR.id||n===dr.TRAINER.id||n===dr.THERAPIST.id)return ye;if(n===dr.MANAGER.id&&i){const Ae=G[i.name]||[];return ye.filter(H=>Ae.includes(nr(H.storeName)))}if(n===dr.STORE.id&&i){const Ae=(i.stores||[i.storeName]).map(nr);return ye.filter(H=>Ae.includes(nr(H.storeName)))}return[]},[ye,n,i,G]),Or=x.useMemo(()=>{if(n===dr.DIRECTOR.id||n===dr.TRAINER.id)return W;if(n===dr.MANAGER.id&&i){const Ae=G[i.name]||[];return W.filter(H=>Ae.includes(nr(H.store)))}if(n===dr.STORE.id&&i){const Ae=(i.stores||[i.storeName]).map(nr);return W.filter(H=>Ae.includes(nr(H.store)))}return n===dr.THERAPIST.id&&i?W.filter(Ae=>Ae.id===i.id):[]},[W,n,i,G]),ri=x.useMemo(()=>{let Ae=G;if(n===dr.MANAGER.id&&i){const H=G[i.name]||[];Ae={[i.name]:H}}else if(n===dr.STORE.id&&i){const H=i.stores||(i.storeName?[i.storeName]:[]),Ee={};Object.entries(G).forEach(([Ne,Oe])=>{const We=Oe.filter(mt=>H.includes(mt));We.length>0&&(Ee[Ne]=We)}),Ae=Ee}if(f!=="settings"){const H={};return Object.entries(Ae).forEach(([Ee,Ne])=>{!Ee.includes("")&&!Ee.includes("")&&(H[Ee]=Ne)}),H}return Ae},[G,n,i,f]),en=x.useMemo(()=>{const Ae={};return Object.entries(G).forEach(([H,Ee])=>{!H.includes("")&&!H.includes("")&&(Ae[H]=Ee)}),Ae},[G]),xr=Spe(wi,ri,D,Xe,xi),zr=(Ae,H="info")=>_({message:Ae,type:H}),Pr=x.useCallback((Ae,H,Ee)=>E({isOpen:!0,title:Ae,message:H,onConfirm:()=>{Ee(),E(Ne=>({...Ne,isOpen:!1}))}}),[]),El=()=>E(Ae=>({...Ae,isOpen:!1})),uo=Ae=>`$${(Ae||0).toLocaleString()}`,Vr=Ae=>(Ae||0).toLocaleString(),_i=x.useMemo(()=>Object.values(G).flat().map(Ae=>`CYJ${Ae}`),[G]),Al=x.useMemo(()=>({user:t,loading:l,analytics:xr,managers:ri,budgets:D,targets:se,rawData:wi,allReports:P,showToast:zr,openConfirm:Pr,fmtMoney:uo,fmtNum:Vr,inputDate:ni,setInputDate:as,storeList:xr?.storeList||[],setTargets:Y,selectedYear:Xe,selectedMonth:xi,permissions:Q,storeAccounts:ee,managerAuth:re,currentUser:i,userRole:n,logActivity:rr,handleUpdateStorePassword:ya,handleUpdateManagerPassword:ir,handleUpdateTherapistPassword:on,navigateToStore:ba,activeView:f,appId:Gf,therapists:Or,therapistReports:ss,therapistSchedules:Se,therapistTargets:oe,trainerAuth:pe,handleUpdateTrainerAuth:Kn,auditExclusions:Pe,handleUpdateAuditExclusions:Ft,currentBrand:z,setCurrentBrandId:L,getCollectionPath:j,getDocPath:k}),[t,l,xr,ri,D,se,wi,P,ni,Xe,xi,Q,ee,re,i,n,rr,ya,ir,on,ba,f,Gf,Or,ss,Se,oe,pe,Kn,Pe,Ft,z,L,j,k]);return l?d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[d.jsx(Is,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),d.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?d.jsx(tr.Provider,{value:Al,children:d.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[d.jsx(ape,{activeView:f,setActiveView:h,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>ga(),permissions:Q,currentUser:i}),d.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[d.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:d.jsx(hme,{size:24})}),d.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[d.jsx("span",{className:"text-amber-600",children:""})," ",Nc.find(Ae=>Ae.id===f)?.label||(f==="targets"?"":"DRCYJ System")]}),d.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[d.jsx(M9,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),d.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[d.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[d.jsx(gT,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),d.jsx("input",{type:"text",placeholder:"...",value:A,onChange:Ae=>C(Ae.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),A&&d.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:_i.filter(Ae=>Ae.includes(A)).length>0?_i.filter(Ae=>Ae.includes(A)).map(Ae=>d.jsxs("button",{onClick:()=>{ba(Ae),C("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[d.jsx(vi,{size:16,className:"text-stone-400"})," ",Ae]},Ae)):d.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[d.jsx(z9,{size:16,className:"text-stone-400 hidden sm:block"}),d.jsx("select",{value:Xe,onChange:Ae=>bi(Ae.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(Ae=>d.jsx("option",{value:Ae,children:Ae},Ae))}),d.jsx("select",{value:xi,onChange:Ae=>Mn(Ae.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(Ae,H)=>H+1).map(Ae=>d.jsxs("option",{value:Ae,children:[Ae,""]},Ae))})]})]})]}),d.jsx(spe,{activeView:f,setActiveView:h,permissions:Q,userRole:n,onLogout:()=>ga()}),d.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[f==="dashboard"&&d.jsx(cpe,{}),f==="regional"&&d.jsx(ppe,{}),f==="ranking"&&d.jsx(gpe,{}),f==="audit"&&d.jsx(_pe,{}),f==="history"&&d.jsx(mpe,{}),f==="input"&&d.jsx(hpe,{}),f==="logs"&&d.jsx(ype,{}),f==="settings"&&d.jsx(wpe,{}),f==="annual"&&d.jsx(Ape,{}),f==="store-analysis"&&d.jsx(vpe,{}),f==="targets"&&d.jsx(Tpe,{}),f==="t-targets"&&d.jsx(jpe,{}),f==="t-schedule"&&d.jsx(Npe,{})]})]}),b&&d.jsx(rpe,{message:b.message,type:b.type,onClose:()=>_(null)}),d.jsx(ipe,{isOpen:S.isOpen,title:S.title,message:S.message,onConfirm:S.onConfirm,onCancel:El}),Ze&&d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:d.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[d.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[d.jsx(Dhe,{size:40,className:"animate-pulse"})," "]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),d.jsxs("p",{className:"text-stone-500 font-medium",children:["",d.jsx("br",{})," ",d.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:ti})," "]})]}),d.jsx("button",{onClick:va,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):d.jsx(lpe,{onLogin:co,storeAccounts:ee,managers:en,managerAuth:re,therapists:W,onUpdatePassword:ya,onUpdateManagerPassword:ir,onUpdateTherapistPassword:on,trainerAuth:pe,handleUpdateTrainerAuth:Kn,currentBrandId:$,onSwitchBrand:N,hasSelectedBrand:q,brands:jw})}k8.createRoot(document.getElementById("root")).render(d.jsx(x.StrictMode,{children:d.jsx(Cpe,{})}));
