function E8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ha(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bx={exports:{}},If={};var LN;function A8(){if(LN)return If;LN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return If.Fragment=e,If.jsx=n,If.jsxs=n,If}var zN;function T8(){return zN||(zN=1,bx.exports=A8()),bx.exports}var d=T8(),xx={exports:{}},Ge={};var VN;function j8(){if(VN)return Ge;VN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function C(V,X,W){this.props=V,this.context=X,this.refs=E,this.updater=W||S}C.prototype.isReactComponent={},C.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=C.prototype;function D(V,X,W){this.props=V,this.context=X,this.refs=E,this.updater=W||S}var U=D.prototype=new $;U.constructor=D,A(U,C.prototype),U.isPureReactComponent=!0;var B=Array.isArray;function z(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function R(V,X,W){var G=W.ref;return{$$typeof:t,type:V,key:X,ref:G!==void 0?G:null,props:W}}function I(V,X){return R(V.type,X,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function L(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(W){return X[W]})}var M=/\/+/g;function ie(V,X){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):X.toString(36)}function Q(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(z,z):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,X,W,G,fe){var ge=typeof V;(ge==="undefined"||ge==="boolean")&&(V=null);var oe=!1;if(V===null)oe=!0;else switch(ge){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(V.$$typeof){case t:case e:oe=!0;break;case p:return oe=V._init,K(oe(V._payload),X,W,G,fe)}}if(oe)return fe=fe(V),oe=G===""?"."+ie(V,0):G,B(fe)?(W="",oe!=null&&(W=oe.replace(M,"$&/")+"/"),K(fe,X,W,"",function(je){return je})):fe!=null&&(O(fe)&&(fe=I(fe,W+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(M,"$&/")+"/")+oe)),X.push(fe)),1;oe=0;var Oe=G===""?".":G+":";if(B(V))for(var ne=0;ne<V.length;ne++)G=V[ne],ge=Oe+ie(G,ne),oe+=K(G,X,W,ge,fe);else if(ne=_(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(G=V.next()).done;)G=G.value,ge=Oe+ie(G,ne++),oe+=K(G,X,W,ge,fe);else if(ge==="object"){if(typeof V.then=="function")return K(Q(V),X,W,G,fe);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ee(V,X,W){if(V==null)return V;var G=[],fe=0;return K(V,G,"","",function(ge){return X.call(W,ge,fe++)}),G}function se(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(W){(V._status===0||V._status===-1)&&(V._status=1,V._result=W)},function(W){(V._status===0||V._status===-1)&&(V._status=2,V._result=W)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Y=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Z={map:ee,forEach:function(V,X,W){ee(V,function(){X.apply(this,arguments)},W)},count:function(V){var X=0;return ee(V,function(){X++}),X},toArray:function(V){return ee(V,function(X){return X})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ge.Activity=g,Ge.Children=Z,Ge.Component=C,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=D,Ge.StrictMode=r,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Ge.cache=function(V){return function(){return V.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(V,X,W){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var G=A({},V.props),fe=V.key;if(X!=null)for(ge in X.key!==void 0&&(fe=""+X.key),X)!j.call(X,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&X.ref===void 0||(G[ge]=X[ge]);var ge=arguments.length-2;if(ge===1)G.children=W;else if(1<ge){for(var oe=Array(ge),Oe=0;Oe<ge;Oe++)oe[Oe]=arguments[Oe+2];G.children=oe}return R(V.type,fe,G)},Ge.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},Ge.createElement=function(V,X,W){var G,fe={},ge=null;if(X!=null)for(G in X.key!==void 0&&(ge=""+X.key),X)j.call(X,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(fe[G]=X[G]);var oe=arguments.length-2;if(oe===1)fe.children=W;else if(1<oe){for(var Oe=Array(oe),ne=0;ne<oe;ne++)Oe[ne]=arguments[ne+2];fe.children=Oe}if(V&&V.defaultProps)for(G in oe=V.defaultProps,oe)fe[G]===void 0&&(fe[G]=oe[G]);return R(V,ge,fe)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(V){return{$$typeof:u,render:V}},Ge.isValidElement=O,Ge.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:se}},Ge.memo=function(V,X){return{$$typeof:h,type:V,compare:X===void 0?null:X}},Ge.startTransition=function(V){var X=N.T,W={};N.T=W;try{var G=V(),fe=N.S;fe!==null&&fe(W,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(z,Y)}catch(ge){Y(ge)}finally{X!==null&&W.types!==null&&(X.types=W.types),N.T=X}},Ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ge.use=function(V){return N.H.use(V)},Ge.useActionState=function(V,X,W){return N.H.useActionState(V,X,W)},Ge.useCallback=function(V,X){return N.H.useCallback(V,X)},Ge.useContext=function(V){return N.H.useContext(V)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(V,X){return N.H.useDeferredValue(V,X)},Ge.useEffect=function(V,X){return N.H.useEffect(V,X)},Ge.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Ge.useId=function(){return N.H.useId()},Ge.useImperativeHandle=function(V,X,W){return N.H.useImperativeHandle(V,X,W)},Ge.useInsertionEffect=function(V,X){return N.H.useInsertionEffect(V,X)},Ge.useLayoutEffect=function(V,X){return N.H.useLayoutEffect(V,X)},Ge.useMemo=function(V,X){return N.H.useMemo(V,X)},Ge.useOptimistic=function(V,X){return N.H.useOptimistic(V,X)},Ge.useReducer=function(V,X,W){return N.H.useReducer(V,X,W)},Ge.useRef=function(V){return N.H.useRef(V)},Ge.useState=function(V){return N.H.useState(V)},Ge.useSyncExternalStore=function(V,X,W){return N.H.useSyncExternalStore(V,X,W)},Ge.useTransition=function(){return N.H.useTransition()},Ge.version="19.2.3",Ge}var $N;function sd(){return $N||($N=1,xx.exports=j8()),xx.exports}var x=sd();const $M=ha(x),N8=E8({__proto__:null,default:$M},[x]);var wx={exports:{}},Rf={},_x={exports:{}},Sx={};var UN;function C8(){return UN||(UN=1,(function(t){function e(K,ee){var se=K.length;K.push(ee);e:for(;0<se;){var Y=se-1>>>1,Z=K[Y];if(0<i(Z,ee))K[Y]=ee,K[se]=Z,se=Y;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ee=K[0],se=K.pop();if(se!==ee){K[0]=se;e:for(var Y=0,Z=K.length,V=Z>>>1;Y<V;){var X=2*(Y+1)-1,W=K[X],G=X+1,fe=K[G];if(0>i(W,se))G<Z&&0>i(fe,W)?(K[Y]=fe,K[G]=se,Y=G):(K[Y]=W,K[X]=se,Y=X);else if(G<Z&&0>i(fe,se))K[Y]=fe,K[G]=se,Y=G;else break e}}return ee}function i(K,ee){var se=K.sortIndex-ee.sortIndex;return se!==0?se:K.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],p=1,g=null,b=3,_=!1,S=!1,A=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(K){for(var ee=n(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=K)r(h),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=n(h)}}function B(K){if(A=!1,U(K),!S)if(n(f)!==null)S=!0,z||(z=!0,L());else{var ee=n(h);ee!==null&&Q(B,ee.startTime-K)}}var z=!1,N=-1,j=5,R=-1;function I(){return E?!0:!(t.unstable_now()-R<j)}function O(){if(E=!1,z){var K=t.unstable_now();R=K;var ee=!0;try{e:{S=!1,A&&(A=!1,$(N),N=-1),_=!0;var se=b;try{t:{for(U(K),g=n(f);g!==null&&!(g.expirationTime>K&&I());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,b=g.priorityLevel;var Z=Y(g.expirationTime<=K);if(K=t.unstable_now(),typeof Z=="function"){g.callback=Z,U(K),ee=!0;break t}g===n(f)&&r(f),U(K)}else r(f);g=n(f)}if(g!==null)ee=!0;else{var V=n(h);V!==null&&Q(B,V.startTime-K),ee=!1}}break e}finally{g=null,b=se,_=!1}ee=void 0}}finally{ee?L():z=!1}}}var L;if(typeof D=="function")L=function(){D(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ie=M.port2;M.port1.onmessage=O,L=function(){ie.postMessage(null)}}else L=function(){C(O,0)};function Q(K,ee){N=C(function(){K(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var se=b;b=ee;try{return K()}finally{b=se}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=b;b=K;try{return ee()}finally{b=se}},t.unstable_scheduleCallback=function(K,ee,se){var Y=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Y+se:Y):se=Y,K){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=se+Z,K={id:p++,callback:ee,priorityLevel:K,startTime:se,expirationTime:Z,sortIndex:-1},se>Y?(K.sortIndex=se,e(h,K),n(f)===null&&K===n(h)&&(A?($(N),N=-1):A=!0,Q(B,se-Y))):(K.sortIndex=Z,e(f,K),S||_||(S=!0,z||(z=!0,L()))),K},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(K){var ee=b;return function(){var se=b;b=ee;try{return K.apply(this,arguments)}finally{b=se}}}})(Sx)),Sx}var BN;function O8(){return BN||(BN=1,_x.exports=C8()),_x.exports}var Ex={exports:{}},_r={};var qN;function P8(){if(qN)return _r;qN=1;var t=sd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_r.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},_r.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},_r.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},_r.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},_r.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_r.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},_r.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_r.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},_r.requestFormReset=function(f){r.d.r(f)},_r.unstable_batchedUpdates=function(f,h){return f(h)},_r.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},_r.useFormStatus=function(){return l.H.useHostTransitionStatus()},_r.version="19.2.3",_r}var FN;function UM(){if(FN)return Ex.exports;FN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ex.exports=P8(),Ex.exports}var HN;function I8(){if(HN)return Rf;HN=1;var t=O8(),e=sd(),n=UM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return f(y),a;if(w===m)return f(y),o;w=w.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=w;else{for(var P=!1,q=y.child;q;){if(q===c){P=!0,c=y,m=w;break}if(q===m){P=!0,m=y,c=w;break}q=q.sibling}if(!P){for(q=w.child;q;){if(q===c){P=!0,c=w,m=y;break}if(q===m){P=!0,m=w,c=y;break}q=q.sibling}if(!P)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function ie(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case z:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case D:return a.displayName||"Context";case $:return(a._context.displayName||"Context")+".Consumer";case U:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:ie(a.type)||"Memo";case j:o=a._payload,a=a._init;try{return ie(a(o))}catch{}}return null}var Q=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Y=[],Z=-1;function V(a){return{current:a}}function X(a){0>Z||(a.current=Y[Z],Y[Z]=null,Z--)}function W(a,o){Z++,Y[Z]=a.current,a.current=o}var G=V(null),fe=V(null),ge=V(null),oe=V(null);function Oe(a,o){switch(W(ge,o),W(fe,a),W(G,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?sN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=sN(o),a=oN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(G),W(G,a)}function ne(){X(G),X(fe),X(ge)}function je(a){a.memoizedState!==null&&W(oe,a);var o=G.current,c=oN(o,a.type);o!==c&&(W(fe,a),W(G,c))}function me(a){fe.current===a&&(X(G),X(fe)),oe.current===a&&(X(oe),Nf._currentValue=se)}var ve,he;function Ne(a){if(ve===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ve=o&&o[1]||"",he=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+a+he}var Ce=!1;function ze(a,o){if(!a||Ce)return"";Ce=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ye){var de=ye}Reflect.construct(a,[],_e)}else{try{_e.call()}catch(ye){de=ye}a.call(_e.prototype)}}else{try{throw Error()}catch(ye){de=ye}(_e=a())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ye){if(ye&&de&&typeof ye.stack=="string")return[ye.stack,de.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),P=w[0],q=w[1];if(P&&q){var J=P.split(`
`),ue=q.split(`
`);for(y=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ue.length&&!ue[y].includes("DetermineComponentFrameRoot");)y++;if(m===J.length||y===ue.length)for(m=J.length-1,y=ue.length-1;1<=m&&0<=y&&J[m]!==ue[y];)y--;for(;1<=m&&0<=y;m--,y--)if(J[m]!==ue[y]){if(m!==1||y!==1)do if(m--,y--,0>y||J[m]!==ue[y]){var be=`
`+J[m].replace(" at new "," at ");return a.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",a.displayName)),be}while(1<=m&&0<=y);break}}}finally{Ce=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ne(c):""}function bt(a,o){switch(a.tag){case 26:case 27:case 5:return Ne(a.type);case 16:return Ne("Lazy");case 13:return a.child!==o&&o!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return ze(a.type,!1);case 11:return ze(a.type.render,!1);case 1:return ze(a.type,!0);case 31:return Ne("Activity");default:return""}}function rr(a){try{var o="",c=null;do o+=bt(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,bi=t.unstable_shouldYield,xi=t.unstable_requestPaint,Dn=t.unstable_now,ni=t.unstable_getCurrentPriorityLevel,as=t.unstable_ImmediatePriority,xt=t.unstable_UserBlockingPriority,ir=t.unstable_NormalPriority,ga=t.unstable_LowPriority,va=t.unstable_IdlePriority,uo=t.log,ya=t.unstable_setDisableYieldValue,ar=null,cn=null;function Yn(a){if(typeof uo=="function"&&ya(a),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(ar,a)}catch{}}var Kt=Math.clz32?Math.clz32:ss,ba=Math.log,wi=Math.LN2;function ss(a){return a>>>=0,a===0?32:31-(ba(a)/wi|0)|0}var Pr=256,ri=262144,nn=4194304;function wr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Vr(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,w=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var q=m&134217727;return q!==0?(m=q&~w,m!==0?y=wr(m):(P&=q,P!==0?y=wr(P):c||(c=q&~a,c!==0&&(y=wr(c))))):(q=m&~w,q!==0?y=wr(q):P!==0?y=wr(P):c||(c=m&~a,c!==0&&(y=wr(c)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:y}function Ir(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function El(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(){var a=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),a}function $r(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Ki(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Al(a,o,c,m,y,w){var P=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var q=a.entanglements,J=a.expirationTimes,ue=a.hiddenUpdates;for(c=P&~c;0<c;){var be=31-Kt(c),_e=1<<be;q[be]=0,J[be]=-1;var de=ue[be];if(de!==null)for(ue[be]=null,be=0;be<de.length;be++){var ye=de[be];ye!==null&&(ye.lane&=-536870913)}c&=~_e}m!==0&&Ee(a,m,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(P&~o))}function Ee(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-Kt(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function H(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-Kt(c),y=1<<m;y&o|a[m]&o&&(a[m]|=o),c&=~y}}function Se(a,o){var c=o&-o;return c=(c&42)!==0?1:Te(c),(c&(a.suspendedLanes|o))!==0?0:c}function Te(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ie(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Xe(){var a=ee.p;return a!==0?a:(a=window.event,a===void 0?32:ON(a.type))}function mt(a,o){var c=ee.p;try{return ee.p=a,o()}finally{ee.p=c}}var sr=Math.random().toString(36).slice(2),rn="__reactFiber$"+sr,jt="__reactProps$"+sr,_i="__reactContainer$"+sr,fo="__reactEvents$"+sr,Rd="__reactListeners$"+sr,rt="__reactHandles$"+sr,Qt="__reactResources$"+sr,mn="__reactMarker$"+sr;function Yi(a){delete a[rn],delete a[jt],delete a[fo],delete a[Rd],delete a[rt]}function xa(a){var o=a[rn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[_i]||c[rn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=mN(a);a!==null;){if(c=a[rn])return c;a=mN(a)}return o}a=c,c=a.parentNode}return null}function Si(a){if(a=a[rn]||a[_i]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ii(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function wa(a){var o=a[Qt];return o||(o=a[Qt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function En(a){a[mn]=!0}var kd=new Set,Md={};function _a(a,o){Sa(a,o),Sa(a+"Capture",o)}function Sa(a,o){for(Md[a]=o,a=0;a<o.length;a++)kd.add(o[a])}var Dd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ld={},zd={};function Rm(a){return Tt.call(zd,a)?!0:Tt.call(Ld,a)?!1:Dd.test(a)?zd[a]=!0:(Ld[a]=!0,!1)}function Dc(a,o,c){if(Rm(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function ai(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function An(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function Gn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ho(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Vd(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,w=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(P){c=""+P,w.call(this,P)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(P){c=""+P},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Nt(a){if(!a._valueTracker){var o=ho(a)?"checked":"value";a._valueTracker=Vd(a,o,""+a[o])}}function Tl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=ho(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function Ea(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var jl=/[\n"\\]/g;function Ur(a){return a.replace(jl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Lc(a,o,c,m,y,w,P,q){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),o!=null?P==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Gn(o)):a.value!==""+Gn(o)&&(a.value=""+Gn(o)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),o!=null?$d(a,P,Gn(o)):c!=null?$d(a,P,Gn(c)):m!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+Gn(q):a.removeAttribute("name")}function km(a,o,c,m,y,w,P,q){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Nt(a);return}c=c!=null?""+Gn(c):"",o=o!=null?""+Gn(o):c,q||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=q?a.checked:!!m,a.defaultChecked=!!m,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),Nt(a)}function $d(a,o,c){o==="number"&&Ea(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function mo(a,o,c,m){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+Gn(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Mm(a,o,c){if(o!=null&&(o=""+Gn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Gn(c):""}function po(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(Q(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=Gn(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),Nt(a)}function Br(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var Dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ud(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||Dm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Bd(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&Ud(a,y,m)}else for(var w in o)o.hasOwnProperty(w)&&Ud(a,w,o[w])}function zc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),go=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vc(a){return go.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Gi(){}var qd=null;function Ei(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var vo=null,Aa=null;function Nl(a){var o=Si(a);if(o&&(a=o.stateNode)){var c=a[jt]||null;e:switch(a=o.stateNode,o.type){case"input":if(Lc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ur(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var y=m[jt]||null;if(!y)throw Error(r(90));Lc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&Tl(m)}break e;case"textarea":Mm(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&mo(a,!!c.multiple,o,!1)}}}var $c=!1;function yo(a,o,c){if($c)return a(o,c);$c=!0;try{var m=a(o);return m}finally{if($c=!1,(vo!==null||Aa!==null)&&(Op(),vo&&(o=vo,a=Aa,Aa=vo=null,Nl(o),a)))for(o=0;o<a.length;o++)Nl(a[o])}}function Wi(a,o){var c=a.stateNode;if(c===null)return null;var m=c[jt]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(Ai)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Cl=!1}var Ta=null,Fd=null,Ol=null;function Hd(){if(Ol)return Ol;var a,o=Fd,c=o.length,m,y="value"in Ta?Ta.value:Ta.textContent,w=y.length;for(a=0;a<c&&o[a]===y[a];a++);var P=c-a;for(m=1;m<=P&&o[c-m]===y[w-m];m++);return Ol=y.slice(a,1<m?1-m:void 0)}function Pl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ls(){return!0}function Xi(){return!1}function or(a){function o(c,m,y,w,P){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(c=a[q],this[q]=c?c(w):w[q]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ls:Xi,this.isPropagationStopped=Xi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),o}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=or(cs),bo=g({},cs,{view:0,detail:0}),Kd=or(bo),xo,Uc,Na,Bc=g({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Na&&(Na&&a.type==="mousemove"?(xo=a.screenX-Na.screenX,Uc=a.screenY-Na.screenY):Uc=xo=0,Na=a),xo)},movementY:function(a){return"movementY"in a?a.movementY:Uc}}),Yd=or(Bc),Il=g({},Bc,{dataTransfer:0}),zm=or(Il),Vm=g({},bo,{relatedTarget:0}),Rl=or(Vm),Gd=g({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),$m=or(Gd),qc=g({},cs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Um=or(qc),Bm=g({},cs,{data:0}),Ca=or(Bm),qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Hm[a])?!!o[a]:!1}function wo(){return Km}var Rr=g({},bo,{key:function(a){if(a.key){var o=qm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Pl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Fm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(a){return a.type==="keypress"?Pl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ym=or(Rr),Gm=g({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=or(Gm),v=g({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),T=or(v),k=g({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=or(k),le=g({},Bc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=or(le),Pe=g({},cs,{newState:0,oldState:0}),Je=or(Pe),yn=[9,13,27,32],wt=Ai&&"CompositionEvent"in window,an=null;Ai&&"documentMode"in document&&(an=document.documentMode);var Ti=Ai&&"TextEvent"in window&&!an,Oa=Ai&&(!wt||an&&8<an&&11>=an),Qi=" ",Ji=!1;function kl(a,o){switch(a){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hc=!1;function G9(a,o){switch(a){case"compositionend":return Fc(o);case"keypress":return o.which!==32?null:(Ji=!0,Qi);case"textInput":return a=o.data,a===Qi&&Ji?null:a;default:return null}}function W9(a,o){if(Hc)return a==="compositionend"||!wt&&kl(a,o)?(a=Hd(),Ol=Fd=Ta=null,Hc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oa&&o.locale!=="ko"?null:o.data;default:return null}}var X9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vT(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!X9[a.type]:o==="textarea"}function yT(a,o,c,m){vo?Aa?Aa.push(m):Aa=[m]:vo=m,o=Lp(o,"onChange"),0<o.length&&(c=new ja("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var Wd=null,Xd=null;function Q9(a){eN(a,0)}function Wm(a){var o=ii(a);if(Tl(o))return a}function bT(a,o){if(a==="change")return o}var xT=!1;if(Ai){var Ty;if(Ai){var jy="oninput"in document;if(!jy){var wT=document.createElement("div");wT.setAttribute("oninput","return;"),jy=typeof wT.oninput=="function"}Ty=jy}else Ty=!1;xT=Ty&&(!document.documentMode||9<document.documentMode)}function _T(){Wd&&(Wd.detachEvent("onpropertychange",ST),Xd=Wd=null)}function ST(a){if(a.propertyName==="value"&&Wm(Xd)){var o=[];yT(o,Xd,a,Ei(a)),yo(Q9,o)}}function J9(a,o,c){a==="focusin"?(_T(),Wd=o,Xd=c,Wd.attachEvent("onpropertychange",ST)):a==="focusout"&&_T()}function Z9(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wm(Xd)}function eV(a,o){if(a==="click")return Wm(o)}function tV(a,o){if(a==="input"||a==="change")return Wm(o)}function nV(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var si=typeof Object.is=="function"?Object.is:nV;function Qd(a,o){if(si(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!Tt.call(o,y)||!si(a[y],o[y]))return!1}return!0}function ET(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function AT(a,o){var c=ET(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ET(c)}}function TT(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?TT(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function jT(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ea(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Ea(a.document)}return o}function Ny(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var rV=Ai&&"documentMode"in document&&11>=document.documentMode,Kc=null,Cy=null,Jd=null,Oy=!1;function NT(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Oy||Kc==null||Kc!==Ea(m)||(m=Kc,"selectionStart"in m&&Ny(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Jd&&Qd(Jd,m)||(Jd=m,m=Lp(Cy,"onSelect"),0<m.length&&(o=new ja("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=Kc)))}function Ml(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Yc={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},Py={},CT={};Ai&&(CT=document.createElement("div").style,"AnimationEvent"in window||(delete Yc.animationend.animation,delete Yc.animationiteration.animation,delete Yc.animationstart.animation),"TransitionEvent"in window||delete Yc.transitionend.transition);function Dl(a){if(Py[a])return Py[a];if(!Yc[a])return a;var o=Yc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in CT)return Py[a]=o[c];return a}var OT=Dl("animationend"),PT=Dl("animationiteration"),IT=Dl("animationstart"),iV=Dl("transitionrun"),aV=Dl("transitionstart"),sV=Dl("transitioncancel"),RT=Dl("transitionend"),kT=new Map,Iy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Iy.push("scrollEnd");function Zi(a,o){kT.set(a,o),_a(o,[a])}var Xm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ji=[],Gc=0,Ry=0;function Qm(){for(var a=Gc,o=Ry=Gc=0;o<a;){var c=ji[o];ji[o++]=null;var m=ji[o];ji[o++]=null;var y=ji[o];ji[o++]=null;var w=ji[o];if(ji[o++]=null,m!==null&&y!==null){var P=m.pending;P===null?y.next=y:(y.next=P.next,P.next=y),m.pending=y}w!==0&&MT(c,y,w)}}function Jm(a,o,c,m){ji[Gc++]=a,ji[Gc++]=o,ji[Gc++]=c,ji[Gc++]=m,Ry|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function ky(a,o,c,m){return Jm(a,o,c,m),Zm(a)}function Ll(a,o){return Jm(a,null,null,o),Zm(a)}function MT(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,w=a.return;w!==null;)w.childLanes|=c,m=w.alternate,m!==null&&(m.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&o!==null&&(y=31-Kt(c),a=w.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=c|536870912),w):null}function Zm(a){if(50<wf)throw wf=0,qb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Wc={};function oV(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(a,o,c,m){return new oV(a,o,c,m)}function My(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ds(a,o){var c=a.alternate;return c===null?(c=oi(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function DT(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function ep(a,o,c,m,y,w){var P=0;if(m=a,typeof a=="function")My(a)&&(P=1);else if(typeof a=="string")P=f8(a,c,G.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=oi(31,c,o,y),a.elementType=R,a.lanes=w,a;case A:return zl(c.children,y,w,o);case E:P=8,y|=24;break;case C:return a=oi(12,c,o,y|2),a.elementType=C,a.lanes=w,a;case B:return a=oi(13,c,o,y),a.elementType=B,a.lanes=w,a;case z:return a=oi(19,c,o,y),a.elementType=z,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:P=10;break e;case $:P=9;break e;case U:P=11;break e;case N:P=14;break e;case j:P=16,m=null;break e}P=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=oi(P,c,o,y),o.elementType=a,o.type=m,o.lanes=w,o}function zl(a,o,c,m){return a=oi(7,a,m,o),a.lanes=c,a}function Dy(a,o,c){return a=oi(6,a,null,o),a.lanes=c,a}function LT(a){var o=oi(18,null,null,0);return o.stateNode=a,o}function Ly(a,o,c){return o=oi(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var zT=new WeakMap;function Ni(a,o){if(typeof a=="object"&&a!==null){var c=zT.get(a);return c!==void 0?c:(o={value:a,source:o,stack:rr(o)},zT.set(a,o),o)}return{value:a,source:o,stack:rr(o)}}var Xc=[],Qc=0,tp=null,Zd=0,Ci=[],Oi=0,_o=null,Pa=1,Ia="";function fs(a,o){Xc[Qc++]=Zd,Xc[Qc++]=tp,tp=a,Zd=o}function VT(a,o,c){Ci[Oi++]=Pa,Ci[Oi++]=Ia,Ci[Oi++]=_o,_o=a;var m=Pa;a=Ia;var y=32-Kt(m)-1;m&=~(1<<y),c+=1;var w=32-Kt(o)+y;if(30<w){var P=y-y%5;w=(m&(1<<P)-1).toString(32),m>>=P,y-=P,Pa=1<<32-Kt(o)+y|c<<y|m,Ia=w+a}else Pa=1<<w|c<<y|m,Ia=a}function zy(a){a.return!==null&&(fs(a,1),VT(a,1,0))}function Vy(a){for(;a===tp;)tp=Xc[--Qc],Xc[Qc]=null,Zd=Xc[--Qc],Xc[Qc]=null;for(;a===_o;)_o=Ci[--Oi],Ci[Oi]=null,Ia=Ci[--Oi],Ci[Oi]=null,Pa=Ci[--Oi],Ci[Oi]=null}function $T(a,o){Ci[Oi++]=Pa,Ci[Oi++]=Ia,Ci[Oi++]=_o,Pa=o.id,Ia=o.overflow,_o=a}var lr=null,Jt=null,dt=!1,So=null,Pi=!1,$y=Error(r(519));function Eo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ef(Ni(o,a)),$y}function UT(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[rn]=a,o[jt]=m,c){case"dialog":at("cancel",o),at("close",o);break;case"iframe":case"object":case"embed":at("load",o);break;case"video":case"audio":for(c=0;c<Sf.length;c++)at(Sf[c],o);break;case"source":at("error",o);break;case"img":case"image":case"link":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"input":at("invalid",o),km(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":at("invalid",o);break;case"textarea":at("invalid",o),po(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||iN(o.textContent,c)?(m.popover!=null&&(at("beforetoggle",o),at("toggle",o)),m.onScroll!=null&&at("scroll",o),m.onScrollEnd!=null&&at("scrollend",o),m.onClick!=null&&(o.onclick=Gi),o=!0):o=!1,o||Eo(a,!0)}function BT(a){for(lr=a.return;lr;)switch(lr.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:lr=lr.return}}function Jc(a){if(a!==lr)return!1;if(!dt)return BT(a),dt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||ix(a.type,a.memoizedProps)),c=!c),c&&Jt&&Eo(a),BT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Jt=hN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Jt=hN(a)}else o===27?(o=Jt,zo(a.type)?(a=cx,cx=null,Jt=a):Jt=o):Jt=lr?Ri(a.stateNode.nextSibling):null;return!0}function Vl(){Jt=lr=null,dt=!1}function Uy(){var a=So;return a!==null&&(Kr===null?Kr=a:Kr.push.apply(Kr,a),So=null),a}function ef(a){So===null?So=[a]:So.push(a)}var By=V(null),$l=null,hs=null;function Ao(a,o,c){W(By,o._currentValue),o._currentValue=c}function ms(a){a._currentValue=By.current,X(By)}function qy(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function Fy(a,o,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var P=y.child;w=w.firstContext;e:for(;w!==null;){var q=w;w=y;for(var J=0;J<o.length;J++)if(q.context===o[J]){w.lanes|=c,q=w.alternate,q!==null&&(q.lanes|=c),qy(w.return,c,a),m||(P=null);break e}w=q.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(r(341));P.lanes|=c,w=P.alternate,w!==null&&(w.lanes|=c),qy(P,c,a),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===a){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function Zc(a,o,c,m){a=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var q=y.type;si(y.pendingProps.value,P.value)||(a!==null?a.push(q):a=[q])}}else if(y===oe.current){if(P=y.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Nf):a=[Nf])}y=y.return}a!==null&&Fy(o,a,c,m),o.flags|=262144}function np(a){for(a=a.firstContext;a!==null;){if(!si(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ul(a){$l=a,hs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cr(a){return qT($l,a)}function rp(a,o){return $l===null&&Ul(a),qT(a,o)}function qT(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},hs===null){if(a===null)throw Error(r(308));hs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else hs=hs.next=o;return c}var lV=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},cV=t.unstable_scheduleCallback,uV=t.unstable_NormalPriority,Tn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hy(){return{controller:new lV,data:new Map,refCount:0}}function tf(a){a.refCount--,a.refCount===0&&cV(uV,function(){a.controller.abort()})}var nf=null,Ky=0,eu=0,tu=null;function dV(a,o){if(nf===null){var c=nf=[];Ky=0,eu=Wb(),tu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Ky++,o.then(FT,FT),o}function FT(){if(--Ky===0&&nf!==null){tu!==null&&(tu.status="fulfilled");var a=nf;nf=null,eu=0,tu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function fV(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var HT=K.S;K.S=function(a,o){Nj=Dn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&dV(a,o),HT!==null&&HT(a,o)};var Bl=V(null);function Yy(){var a=Bl.current;return a!==null?a:$t.pooledCache}function ip(a,o){o===null?W(Bl,Bl.current):W(Bl,o.pool)}function KT(){var a=Yy();return a===null?null:{parent:Tn._currentValue,pool:a}}var nu=Error(r(460)),Gy=Error(r(474)),ap=Error(r(542)),sp={then:function(){}};function YT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function GT(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Gi,Gi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,XT(a),a;default:if(typeof o.status=="string")o.then(Gi,Gi);else{if(a=$t,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,XT(a),a}throw Fl=o,nu}}function ql(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Fl=c,nu):c}}var Fl=null;function WT(){if(Fl===null)throw Error(r(459));var a=Fl;return Fl=null,a}function XT(a){if(a===nu||a===ap)throw Error(r(483))}var ru=null,rf=0;function op(a){var o=rf;return rf+=1,ru===null&&(ru=[]),GT(ru,a,o)}function af(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function lp(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function QT(a){function o(re,te){if(a){var ce=re.deletions;ce===null?(re.deletions=[te],re.flags|=16):ce.push(te)}}function c(re,te){if(!a)return null;for(;te!==null;)o(re,te),te=te.sibling;return null}function m(re){for(var te=new Map;re!==null;)re.key!==null?te.set(re.key,re):te.set(re.index,re),re=re.sibling;return te}function y(re,te){return re=ds(re,te),re.index=0,re.sibling=null,re}function w(re,te,ce){return re.index=ce,a?(ce=re.alternate,ce!==null?(ce=ce.index,ce<te?(re.flags|=67108866,te):ce):(re.flags|=67108866,te)):(re.flags|=1048576,te)}function P(re){return a&&re.alternate===null&&(re.flags|=67108866),re}function q(re,te,ce,we){return te===null||te.tag!==6?(te=Dy(ce,re.mode,we),te.return=re,te):(te=y(te,ce),te.return=re,te)}function J(re,te,ce,we){var Be=ce.type;return Be===A?be(re,te,ce.props.children,we,ce.key):te!==null&&(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===j&&ql(Be)===te.type)?(te=y(te,ce.props),af(te,ce),te.return=re,te):(te=ep(ce.type,ce.key,ce.props,null,re.mode,we),af(te,ce),te.return=re,te)}function ue(re,te,ce,we){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=Ly(ce,re.mode,we),te.return=re,te):(te=y(te,ce.children||[]),te.return=re,te)}function be(re,te,ce,we,Be){return te===null||te.tag!==7?(te=zl(ce,re.mode,we,Be),te.return=re,te):(te=y(te,ce),te.return=re,te)}function _e(re,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Dy(""+te,re.mode,ce),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return ce=ep(te.type,te.key,te.props,null,re.mode,ce),af(ce,te),ce.return=re,ce;case S:return te=Ly(te,re.mode,ce),te.return=re,te;case j:return te=ql(te),_e(re,te,ce)}if(Q(te)||L(te))return te=zl(te,re.mode,ce,null),te.return=re,te;if(typeof te.then=="function")return _e(re,op(te),ce);if(te.$$typeof===D)return _e(re,rp(re,te),ce);lp(re,te)}return null}function de(re,te,ce,we){var Be=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Be!==null?null:q(re,te,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return ce.key===Be?J(re,te,ce,we):null;case S:return ce.key===Be?ue(re,te,ce,we):null;case j:return ce=ql(ce),de(re,te,ce,we)}if(Q(ce)||L(ce))return Be!==null?null:be(re,te,ce,we,null);if(typeof ce.then=="function")return de(re,te,op(ce),we);if(ce.$$typeof===D)return de(re,te,rp(re,ce),we);lp(re,ce)}return null}function ye(re,te,ce,we,Be){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return re=re.get(ce)||null,q(te,re,""+we,Be);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return re=re.get(we.key===null?ce:we.key)||null,J(te,re,we,Be);case S:return re=re.get(we.key===null?ce:we.key)||null,ue(te,re,we,Be);case j:return we=ql(we),ye(re,te,ce,we,Be)}if(Q(we)||L(we))return re=re.get(ce)||null,be(te,re,we,Be,null);if(typeof we.then=="function")return ye(re,te,ce,op(we),Be);if(we.$$typeof===D)return ye(re,te,ce,rp(te,we),Be);lp(te,we)}return null}function $e(re,te,ce,we){for(var Be=null,pt=null,Ue=te,et=te=0,ot=null;Ue!==null&&et<ce.length;et++){Ue.index>et?(ot=Ue,Ue=null):ot=Ue.sibling;var gt=de(re,Ue,ce[et],we);if(gt===null){Ue===null&&(Ue=ot);break}a&&Ue&&gt.alternate===null&&o(re,Ue),te=w(gt,te,et),pt===null?Be=gt:pt.sibling=gt,pt=gt,Ue=ot}if(et===ce.length)return c(re,Ue),dt&&fs(re,et),Be;if(Ue===null){for(;et<ce.length;et++)Ue=_e(re,ce[et],we),Ue!==null&&(te=w(Ue,te,et),pt===null?Be=Ue:pt.sibling=Ue,pt=Ue);return dt&&fs(re,et),Be}for(Ue=m(Ue);et<ce.length;et++)ot=ye(Ue,re,et,ce[et],we),ot!==null&&(a&&ot.alternate!==null&&Ue.delete(ot.key===null?et:ot.key),te=w(ot,te,et),pt===null?Be=ot:pt.sibling=ot,pt=ot);return a&&Ue.forEach(function(qo){return o(re,qo)}),dt&&fs(re,et),Be}function Fe(re,te,ce,we){if(ce==null)throw Error(r(151));for(var Be=null,pt=null,Ue=te,et=te=0,ot=null,gt=ce.next();Ue!==null&&!gt.done;et++,gt=ce.next()){Ue.index>et?(ot=Ue,Ue=null):ot=Ue.sibling;var qo=de(re,Ue,gt.value,we);if(qo===null){Ue===null&&(Ue=ot);break}a&&Ue&&qo.alternate===null&&o(re,Ue),te=w(qo,te,et),pt===null?Be=qo:pt.sibling=qo,pt=qo,Ue=ot}if(gt.done)return c(re,Ue),dt&&fs(re,et),Be;if(Ue===null){for(;!gt.done;et++,gt=ce.next())gt=_e(re,gt.value,we),gt!==null&&(te=w(gt,te,et),pt===null?Be=gt:pt.sibling=gt,pt=gt);return dt&&fs(re,et),Be}for(Ue=m(Ue);!gt.done;et++,gt=ce.next())gt=ye(Ue,re,et,gt.value,we),gt!==null&&(a&&gt.alternate!==null&&Ue.delete(gt.key===null?et:gt.key),te=w(gt,te,et),pt===null?Be=gt:pt.sibling=gt,pt=gt);return a&&Ue.forEach(function(S8){return o(re,S8)}),dt&&fs(re,et),Be}function Dt(re,te,ce,we){if(typeof ce=="object"&&ce!==null&&ce.type===A&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:e:{for(var Be=ce.key;te!==null;){if(te.key===Be){if(Be=ce.type,Be===A){if(te.tag===7){c(re,te.sibling),we=y(te,ce.props.children),we.return=re,re=we;break e}}else if(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===j&&ql(Be)===te.type){c(re,te.sibling),we=y(te,ce.props),af(we,ce),we.return=re,re=we;break e}c(re,te);break}else o(re,te);te=te.sibling}ce.type===A?(we=zl(ce.props.children,re.mode,we,ce.key),we.return=re,re=we):(we=ep(ce.type,ce.key,ce.props,null,re.mode,we),af(we,ce),we.return=re,re=we)}return P(re);case S:e:{for(Be=ce.key;te!==null;){if(te.key===Be)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){c(re,te.sibling),we=y(te,ce.children||[]),we.return=re,re=we;break e}else{c(re,te);break}else o(re,te);te=te.sibling}we=Ly(ce,re.mode,we),we.return=re,re=we}return P(re);case j:return ce=ql(ce),Dt(re,te,ce,we)}if(Q(ce))return $e(re,te,ce,we);if(L(ce)){if(Be=L(ce),typeof Be!="function")throw Error(r(150));return ce=Be.call(ce),Fe(re,te,ce,we)}if(typeof ce.then=="function")return Dt(re,te,op(ce),we);if(ce.$$typeof===D)return Dt(re,te,rp(re,ce),we);lp(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,te!==null&&te.tag===6?(c(re,te.sibling),we=y(te,ce),we.return=re,re=we):(c(re,te),we=Dy(ce,re.mode,we),we.return=re,re=we),P(re)):c(re,te)}return function(re,te,ce,we){try{rf=0;var Be=Dt(re,te,ce,we);return ru=null,Be}catch(Ue){if(Ue===nu||Ue===ap)throw Ue;var pt=oi(29,Ue,null,re.mode);return pt.lanes=we,pt.return=re,pt}}}var Hl=QT(!0),JT=QT(!1),To=!1;function Wy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function jo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function No(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(_t&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Zm(a),MT(a,null,c),o}return Jm(a,m,o,c),Zm(a)}function sf(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,H(a,c)}}function Qy(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=o:w=w.next=o}else y=w=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Jy=!1;function of(){if(Jy){var a=tu;if(a!==null)throw a}}function lf(a,o,c,m){Jy=!1;var y=a.updateQueue;To=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var J=q,ue=J.next;J.next=null,P===null?w=ue:P.next=ue,P=J;var be=a.alternate;be!==null&&(be=be.updateQueue,q=be.lastBaseUpdate,q!==P&&(q===null?be.firstBaseUpdate=ue:q.next=ue,be.lastBaseUpdate=J))}if(w!==null){var _e=y.baseState;P=0,be=ue=J=null,q=w;do{var de=q.lane&-536870913,ye=de!==q.lane;if(ye?(st&de)===de:(m&de)===de){de!==0&&de===eu&&(Jy=!0),be!==null&&(be=be.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var $e=a,Fe=q;de=o;var Dt=c;switch(Fe.tag){case 1:if($e=Fe.payload,typeof $e=="function"){_e=$e.call(Dt,_e,de);break e}_e=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Fe.payload,de=typeof $e=="function"?$e.call(Dt,_e,de):$e,de==null)break e;_e=g({},_e,de);break e;case 2:To=!0}}de=q.callback,de!==null&&(a.flags|=64,ye&&(a.flags|=8192),ye=y.callbacks,ye===null?y.callbacks=[de]:ye.push(de))}else ye={lane:de,tag:q.tag,payload:q.payload,callback:q.callback,next:null},be===null?(ue=be=ye,J=_e):be=be.next=ye,P|=de;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;ye=q,q=ye.next,ye.next=null,y.lastBaseUpdate=ye,y.shared.pending=null}}while(!0);be===null&&(J=_e),y.baseState=J,y.firstBaseUpdate=ue,y.lastBaseUpdate=be,w===null&&(y.shared.lanes=0),Ro|=P,a.lanes=P,a.memoizedState=_e}}function ZT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function e2(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)ZT(c[a],o)}var iu=V(null),cp=V(0);function t2(a,o){a=Ss,W(cp,a),W(iu,o),Ss=a|o.baseLanes}function Zy(){W(cp,Ss),W(iu,iu.current)}function eb(){Ss=cp.current,X(iu),X(cp)}var li=V(null),Ii=null;function Co(a){var o=a.alternate;W(bn,bn.current&1),W(li,a),Ii===null&&(o===null||iu.current!==null||o.memoizedState!==null)&&(Ii=a)}function tb(a){W(bn,bn.current),W(li,a),Ii===null&&(Ii=a)}function n2(a){a.tag===22?(W(bn,bn.current),W(li,a),Ii===null&&(Ii=a)):Oo()}function Oo(){W(bn,bn.current),W(li,li.current)}function ci(a){X(li),Ii===a&&(Ii=null),X(bn)}var bn=V(0);function up(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ox(c)||lx(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ps=0,Ze=null,kt=null,jn=null,dp=!1,au=!1,Kl=!1,fp=0,cf=0,su=null,hV=0;function pn(){throw Error(r(321))}function nb(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!si(a[c],o[c]))return!1;return!0}function rb(a,o,c,m,y,w){return ps=w,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=a===null||a.memoizedState===null?V2:yb,Kl=!1,w=c(m,y),Kl=!1,au&&(w=i2(o,c,m,y)),r2(a),w}function r2(a){K.H=ff;var o=kt!==null&&kt.next!==null;if(ps=0,jn=kt=Ze=null,dp=!1,cf=0,su=null,o)throw Error(r(300));a===null||Nn||(a=a.dependencies,a!==null&&np(a)&&(Nn=!0))}function i2(a,o,c,m){Ze=a;var y=0;do{if(au&&(su=null),cf=0,au=!1,25<=y)throw Error(r(301));if(y+=1,jn=kt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}K.H=$2,w=o(c,m)}while(au);return w}function mV(){var a=K.H,o=a.useState()[0];return o=typeof o.then=="function"?uf(o):o,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(Ze.flags|=1024),o}function ib(){var a=fp!==0;return fp=0,a}function ab(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function sb(a){if(dp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}dp=!1}ps=0,jn=kt=Ze=null,au=!1,cf=fp=0,su=null}function kr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Ze.memoizedState=jn=a:jn=jn.next=a,jn}function xn(){if(kt===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var o=jn===null?Ze.memoizedState:jn.next;if(o!==null)jn=o,kt=a;else{if(a===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},jn===null?Ze.memoizedState=jn=a:jn=jn.next=a}return jn}function hp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uf(a){var o=cf;return cf+=1,su===null&&(su=[]),a=GT(su,a,o),o=Ze,(jn===null?o.memoizedState:jn.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?V2:yb),a}function mp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return uf(a);if(a.$$typeof===D)return cr(a)}throw Error(r(438,String(a)))}function ob(a){var o=null,c=Ze.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Ze.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=hp(),Ze.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=I;return o.index++,c}function gs(a,o){return typeof o=="function"?o(a):o}function pp(a){var o=xn();return lb(o,kt,a)}function lb(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,w=m.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}o.baseQueue=y=w,m.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{o=y.next;var q=P=null,J=null,ue=o,be=!1;do{var _e=ue.lane&-536870913;if(_e!==ue.lane?(st&_e)===_e:(ps&_e)===_e){var de=ue.revertLane;if(de===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),_e===eu&&(be=!0);else if((ps&de)===de){ue=ue.next,de===eu&&(be=!0);continue}else _e={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(q=J=_e,P=w):J=J.next=_e,Ze.lanes|=de,Ro|=de;_e=ue.action,Kl&&c(w,_e),w=ue.hasEagerState?ue.eagerState:c(w,_e)}else de={lane:_e,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(q=J=de,P=w):J=J.next=de,Ze.lanes|=_e,Ro|=_e;ue=ue.next}while(ue!==null&&ue!==o);if(J===null?P=w:J.next=q,!si(w,a.memoizedState)&&(Nn=!0,be&&(c=tu,c!==null)))throw c;a.memoizedState=w,a.baseState=P,a.baseQueue=J,m.lastRenderedState=w}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function cb(a){var o=xn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,w=o.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=a(w,P.action),P=P.next;while(P!==y);si(w,o.memoizedState)||(Nn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,m]}function a2(a,o,c){var m=Ze,y=xn(),w=dt;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=o();var P=!si((kt||y).memoizedState,c);if(P&&(y.memoizedState=c,Nn=!0),y=y.queue,fb(l2.bind(null,m,y,a),[a]),y.getSnapshot!==o||P||jn!==null&&jn.memoizedState.tag&1){if(m.flags|=2048,ou(9,{destroy:void 0},o2.bind(null,m,y,c,o),null),$t===null)throw Error(r(349));w||(ps&127)!==0||s2(m,o,c)}return c}function s2(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ze.updateQueue,o===null?(o=hp(),Ze.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function o2(a,o,c,m){o.value=c,o.getSnapshot=m,c2(o)&&u2(a)}function l2(a,o,c){return c(function(){c2(o)&&u2(a)})}function c2(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!si(a,c)}catch{return!0}}function u2(a){var o=Ll(a,2);o!==null&&Yr(o,a,2)}function ub(a){var o=kr();if(typeof a=="function"){var c=a;if(a=c(),Kl){Yn(!0);try{c()}finally{Yn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:a},o}function d2(a,o,c,m){return a.baseState=c,lb(a,kt,typeof m=="function"?m:gs)}function pV(a,o,c,m,y){if(yp(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){w.listeners.push(P)}};K.T!==null?c(!0):w.isTransition=!1,m(w),c=o.pending,c===null?(w.next=o.pending=w,f2(o,w)):(w.next=c.next,o.pending=c.next=w)}}function f2(a,o){var c=o.action,m=o.payload,y=a.state;if(o.isTransition){var w=K.T,P={};K.T=P;try{var q=c(y,m),J=K.S;J!==null&&J(P,q),h2(a,o,q)}catch(ue){db(a,o,ue)}finally{w!==null&&P.types!==null&&(w.types=P.types),K.T=w}}else try{w=c(y,m),h2(a,o,w)}catch(ue){db(a,o,ue)}}function h2(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){m2(a,o,m)},function(m){return db(a,o,m)}):m2(a,o,c)}function m2(a,o,c){o.status="fulfilled",o.value=c,p2(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,f2(a,c)))}function db(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,p2(o),o=o.next;while(o!==m)}a.action=null}function p2(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function g2(a,o){return o}function v2(a,o){if(dt){var c=$t.formState;if(c!==null){e:{var m=Ze;if(dt){if(Jt){t:{for(var y=Jt,w=Pi;y.nodeType!==8;){if(!w){y=null;break t}if(y=Ri(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Jt=Ri(y.nextSibling),m=y.data==="F!";break e}}Eo(m)}m=!1}m&&(o=c[0])}}return c=kr(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g2,lastRenderedState:o},c.queue=m,c=D2.bind(null,Ze,m),m.dispatch=c,m=ub(!1),w=vb.bind(null,Ze,!1,m.queue),m=kr(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,c=pV.bind(null,Ze,y,w,c),y.dispatch=c,m.memoizedState=a,[o,c,!1]}function y2(a){var o=xn();return b2(o,kt,a)}function b2(a,o,c){if(o=lb(a,o,g2)[0],a=pp(gs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=uf(o)}catch(P){throw P===nu?ap:P}else m=o;o=xn();var y=o.queue,w=y.dispatch;return c!==o.memoizedState&&(Ze.flags|=2048,ou(9,{destroy:void 0},gV.bind(null,y,c),null)),[m,w,a]}function gV(a,o){a.action=o}function x2(a){var o=xn(),c=kt;if(c!==null)return b2(o,c,a);xn(),o=o.memoizedState,c=xn();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function ou(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=hp(),Ze.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function w2(){return xn().memoizedState}function gp(a,o,c,m){var y=kr();Ze.flags|=a,y.memoizedState=ou(1|o,{destroy:void 0},c,m===void 0?null:m)}function vp(a,o,c,m){var y=xn();m=m===void 0?null:m;var w=y.memoizedState.inst;kt!==null&&m!==null&&nb(m,kt.memoizedState.deps)?y.memoizedState=ou(o,w,c,m):(Ze.flags|=a,y.memoizedState=ou(1|o,w,c,m))}function _2(a,o){gp(8390656,8,a,o)}function fb(a,o){vp(2048,8,a,o)}function vV(a){Ze.flags|=4;var o=Ze.updateQueue;if(o===null)o=hp(),Ze.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function S2(a){var o=xn().memoizedState;return vV({ref:o,nextImpl:a}),function(){if((_t&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function E2(a,o){return vp(4,2,a,o)}function A2(a,o){return vp(4,4,a,o)}function T2(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function j2(a,o,c){c=c!=null?c.concat([a]):null,vp(4,4,T2.bind(null,o,a),c)}function hb(){}function N2(a,o){var c=xn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&nb(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function C2(a,o){var c=xn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&nb(o,m[1]))return m[0];if(m=a(),Kl){Yn(!0);try{a()}finally{Yn(!1)}}return c.memoizedState=[m,o],m}function mb(a,o,c){return c===void 0||(ps&1073741824)!==0&&(st&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=Oj(),Ze.lanes|=a,Ro|=a,c)}function O2(a,o,c,m){return si(c,o)?c:iu.current!==null?(a=mb(a,c,m),si(a,o)||(Nn=!0),a):(ps&42)===0||(ps&1073741824)!==0&&(st&261930)===0?(Nn=!0,a.memoizedState=c):(a=Oj(),Ze.lanes|=a,Ro|=a,o)}function P2(a,o,c,m,y){var w=ee.p;ee.p=w!==0&&8>w?w:8;var P=K.T,q={};K.T=q,vb(a,!1,o,c);try{var J=y(),ue=K.S;if(ue!==null&&ue(q,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var be=fV(J,m);df(a,o,be,fi(a))}else df(a,o,m,fi(a))}catch(_e){df(a,o,{then:function(){},status:"rejected",reason:_e},fi())}finally{ee.p=w,P!==null&&q.types!==null&&(P.types=q.types),K.T=P}}function yV(){}function pb(a,o,c,m){if(a.tag!==5)throw Error(r(476));var y=I2(a).queue;P2(a,y,o,se,c===null?yV:function(){return R2(a),c(m)})}function I2(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:se},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function R2(a){var o=I2(a);o.next===null&&(o=a.alternate.memoizedState),df(a,o.next.queue,{},fi())}function gb(){return cr(Nf)}function k2(){return xn().memoizedState}function M2(){return xn().memoizedState}function bV(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=fi();a=jo(c);var m=No(o,a,c);m!==null&&(Yr(m,o,c),sf(m,o,c)),o={cache:Hy()},a.payload=o;return}o=o.return}}function xV(a,o,c){var m=fi();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yp(a)?L2(o,c):(c=ky(a,o,c,m),c!==null&&(Yr(c,a,m),z2(c,o,m)))}function D2(a,o,c){var m=fi();df(a,o,c,m)}function df(a,o,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yp(a))L2(o,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var P=o.lastRenderedState,q=w(P,c);if(y.hasEagerState=!0,y.eagerState=q,si(q,P))return Jm(a,o,y,0),$t===null&&Qm(),!1}catch{}if(c=ky(a,o,y,m),c!==null)return Yr(c,a,m),z2(c,o,m),!0}return!1}function vb(a,o,c,m){if(m={lane:2,revertLane:Wb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},yp(a)){if(o)throw Error(r(479))}else o=ky(a,c,m,2),o!==null&&Yr(o,a,2)}function yp(a){var o=a.alternate;return a===Ze||o!==null&&o===Ze}function L2(a,o){au=dp=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function z2(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,H(a,c)}}var ff={readContext:cr,use:mp,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};ff.useEffectEvent=pn;var V2={readContext:cr,use:mp,useCallback:function(a,o){return kr().memoizedState=[a,o===void 0?null:o],a},useContext:cr,useEffect:_2,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,gp(4194308,4,T2.bind(null,o,a),c)},useLayoutEffect:function(a,o){return gp(4194308,4,a,o)},useInsertionEffect:function(a,o){gp(4,2,a,o)},useMemo:function(a,o){var c=kr();o=o===void 0?null:o;var m=a();if(Kl){Yn(!0);try{a()}finally{Yn(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=kr();if(c!==void 0){var y=c(o);if(Kl){Yn(!0);try{c(o)}finally{Yn(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=xV.bind(null,Ze,a),[m.memoizedState,a]},useRef:function(a){var o=kr();return a={current:a},o.memoizedState=a},useState:function(a){a=ub(a);var o=a.queue,c=D2.bind(null,Ze,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:hb,useDeferredValue:function(a,o){var c=kr();return mb(c,a,o)},useTransition:function(){var a=ub(!1);return a=P2.bind(null,Ze,a.queue,!0,!1),kr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=Ze,y=kr();if(dt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),$t===null)throw Error(r(349));(st&127)!==0||s2(m,o,c)}y.memoizedState=c;var w={value:c,getSnapshot:o};return y.queue=w,_2(l2.bind(null,m,w,a),[a]),m.flags|=2048,ou(9,{destroy:void 0},o2.bind(null,m,w,c,o),null),c},useId:function(){var a=kr(),o=$t.identifierPrefix;if(dt){var c=Ia,m=Pa;c=(m&~(1<<32-Kt(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=fp++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=hV++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:gb,useFormState:v2,useActionState:v2,useOptimistic:function(a){var o=kr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=vb.bind(null,Ze,!0,c),c.dispatch=o,[a,o]},useMemoCache:ob,useCacheRefresh:function(){return kr().memoizedState=bV.bind(null,Ze)},useEffectEvent:function(a){var o=kr(),c={impl:a};return o.memoizedState=c,function(){if((_t&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},yb={readContext:cr,use:mp,useCallback:N2,useContext:cr,useEffect:fb,useImperativeHandle:j2,useInsertionEffect:E2,useLayoutEffect:A2,useMemo:C2,useReducer:pp,useRef:w2,useState:function(){return pp(gs)},useDebugValue:hb,useDeferredValue:function(a,o){var c=xn();return O2(c,kt.memoizedState,a,o)},useTransition:function(){var a=pp(gs)[0],o=xn().memoizedState;return[typeof a=="boolean"?a:uf(a),o]},useSyncExternalStore:a2,useId:k2,useHostTransitionStatus:gb,useFormState:y2,useActionState:y2,useOptimistic:function(a,o){var c=xn();return d2(c,kt,a,o)},useMemoCache:ob,useCacheRefresh:M2};yb.useEffectEvent=S2;var $2={readContext:cr,use:mp,useCallback:N2,useContext:cr,useEffect:fb,useImperativeHandle:j2,useInsertionEffect:E2,useLayoutEffect:A2,useMemo:C2,useReducer:cb,useRef:w2,useState:function(){return cb(gs)},useDebugValue:hb,useDeferredValue:function(a,o){var c=xn();return kt===null?mb(c,a,o):O2(c,kt.memoizedState,a,o)},useTransition:function(){var a=cb(gs)[0],o=xn().memoizedState;return[typeof a=="boolean"?a:uf(a),o]},useSyncExternalStore:a2,useId:k2,useHostTransitionStatus:gb,useFormState:x2,useActionState:x2,useOptimistic:function(a,o){var c=xn();return kt!==null?d2(c,kt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:ob,useCacheRefresh:M2};$2.useEffectEvent=S2;function bb(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var xb={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=fi(),y=jo(m);y.payload=o,c!=null&&(y.callback=c),o=No(a,y,m),o!==null&&(Yr(o,a,m),sf(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=fi(),y=jo(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=No(a,y,m),o!==null&&(Yr(o,a,m),sf(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=fi(),m=jo(c);m.tag=2,o!=null&&(m.callback=o),o=No(a,m,c),o!==null&&(Yr(o,a,c),sf(o,a,c))}};function U2(a,o,c,m,y,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,P):o.prototype&&o.prototype.isPureReactComponent?!Qd(c,m)||!Qd(y,w):!0}function B2(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&xb.enqueueReplaceState(o,o.state,null)}function Yl(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function q2(a){Xm(a)}function F2(a){console.error(a)}function H2(a){Xm(a)}function bp(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function K2(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function wb(a,o,c){return c=jo(c),c.tag=3,c.payload={element:null},c.callback=function(){bp(a,o)},c}function Y2(a){return a=jo(a),a.tag=3,a}function G2(a,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var w=m.value;a.payload=function(){return y(w)},a.callback=function(){K2(o,c,m)}}var P=c.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){K2(o,c,m),typeof y!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})})}function wV(a,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&Zc(o,c,y,!0),c=li.current,c!==null){switch(c.tag){case 31:case 13:return Ii===null?Pp():c.alternate===null&&gn===0&&(gn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===sp?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Kb(a,m,y)),!1;case 22:return c.flags|=65536,m===sp?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Kb(a,m,y)),!1}throw Error(r(435,c.tag))}return Kb(a,m,y),Pp(),!1}if(dt)return o=li.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==$y&&(a=Error(r(422),{cause:m}),ef(Ni(a,c)))):(m!==$y&&(o=Error(r(423),{cause:m}),ef(Ni(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Ni(m,c),y=wb(a.stateNode,m,y),Qy(a,y),gn!==4&&(gn=2)),!1;var w=Error(r(520),{cause:m});if(w=Ni(w,c),xf===null?xf=[w]:xf.push(w),gn!==4&&(gn=2),o===null)return!0;m=Ni(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=wb(c.stateNode,m,a),Qy(c,a),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ko===null||!ko.has(w))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Y2(y),G2(y,a,c,m),Qy(c,y),!1}c=c.return}while(c!==null);return!1}var _b=Error(r(461)),Nn=!1;function ur(a,o,c,m){o.child=a===null?JT(o,null,c,m):Hl(o,a.child,c,m)}function W2(a,o,c,m,y){c=c.render;var w=o.ref;if("ref"in m){var P={};for(var q in m)q!=="ref"&&(P[q]=m[q])}else P=m;return Ul(o),m=rb(a,o,c,P,w,y),q=ib(),a!==null&&!Nn?(ab(a,o,y),vs(a,o,y)):(dt&&q&&zy(o),o.flags|=1,ur(a,o,m,y),o.child)}function X2(a,o,c,m,y){if(a===null){var w=c.type;return typeof w=="function"&&!My(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,Q2(a,o,w,m,y)):(a=ep(c.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!Ob(a,y)){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:Qd,c(P,m)&&a.ref===o.ref)return vs(a,o,y)}return o.flags|=1,a=ds(w,m),a.ref=o.ref,a.return=o,o.child=a}function Q2(a,o,c,m,y){if(a!==null){var w=a.memoizedProps;if(Qd(w,m)&&a.ref===o.ref)if(Nn=!1,o.pendingProps=m=w,Ob(a,y))(a.flags&131072)!==0&&(Nn=!0);else return o.lanes=a.lanes,vs(a,o,y)}return Sb(a,o,c,m,y)}function J2(a,o,c,m){var y=m.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~w}else m=0,o.child=null;return Z2(a,o,w,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&ip(o,w!==null?w.cachePool:null),w!==null?t2(o,w):Zy(),n2(o);else return m=o.lanes=536870912,Z2(a,o,w!==null?w.baseLanes|c:c,c,m)}else w!==null?(ip(o,w.cachePool),t2(o,w),Oo(),o.memoizedState=null):(a!==null&&ip(o,null),Zy(),Oo());return ur(a,o,y,c),o.child}function hf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Z2(a,o,c,m,y){var w=Yy();return w=w===null?null:{parent:Tn._currentValue,pool:w},o.memoizedState={baseLanes:c,cachePool:w},a!==null&&ip(o,null),Zy(),n2(o),a!==null&&Zc(a,o,m,!0),o.childLanes=y,null}function xp(a,o){return o=_p({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function ej(a,o,c){return Hl(o,a.child,null,c),a=xp(o,o.pendingProps),a.flags|=2,ci(o),o.memoizedState=null,a}function _V(a,o,c){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(dt){if(m.mode==="hidden")return a=xp(o,m),o.lanes=536870912,hf(null,a);if(tb(o),(a=Jt)?(a=fN(a,Pi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:_o!==null?{id:Pa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},c=LT(a),c.return=o,o.child=c,lr=o,Jt=null)):a=null,a===null)throw Eo(o);return o.lanes=536870912,null}return xp(o,m)}var w=a.memoizedState;if(w!==null){var P=w.dehydrated;if(tb(o),y)if(o.flags&256)o.flags&=-257,o=ej(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Nn||Zc(a,o,c,!1),y=(c&a.childLanes)!==0,Nn||y){if(m=$t,m!==null&&(P=Se(m,c),P!==0&&P!==w.retryLane))throw w.retryLane=P,Ll(a,P),Yr(m,a,P),_b;Pp(),o=ej(a,o,c)}else a=w.treeContext,Jt=Ri(P.nextSibling),lr=o,dt=!0,So=null,Pi=!1,a!==null&&$T(o,a),o=xp(o,m),o.flags|=4096;return o}return a=ds(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function wp(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Sb(a,o,c,m,y){return Ul(o),c=rb(a,o,c,m,void 0,y),m=ib(),a!==null&&!Nn?(ab(a,o,y),vs(a,o,y)):(dt&&m&&zy(o),o.flags|=1,ur(a,o,c,y),o.child)}function tj(a,o,c,m,y,w){return Ul(o),o.updateQueue=null,c=i2(o,m,c,y),r2(a),m=ib(),a!==null&&!Nn?(ab(a,o,w),vs(a,o,w)):(dt&&m&&zy(o),o.flags|=1,ur(a,o,c,w),o.child)}function nj(a,o,c,m,y){if(Ul(o),o.stateNode===null){var w=Wc,P=c.contextType;typeof P=="object"&&P!==null&&(w=cr(P)),w=new c(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=xb,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},Wy(o),P=c.contextType,w.context=typeof P=="object"&&P!==null?cr(P):Wc,w.state=o.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(bb(o,c,P,m),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(P=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),P!==w.state&&xb.enqueueReplaceState(w,w.state,null),lf(o,m,w,y),of(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){w=o.stateNode;var q=o.memoizedProps,J=Yl(c,q);w.props=J;var ue=w.context,be=c.contextType;P=Wc,typeof be=="object"&&be!==null&&(P=cr(be));var _e=c.getDerivedStateFromProps;be=typeof _e=="function"||typeof w.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,be||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(q||ue!==P)&&B2(o,w,m,P),To=!1;var de=o.memoizedState;w.state=de,lf(o,m,w,y),of(),ue=o.memoizedState,q||de!==ue||To?(typeof _e=="function"&&(bb(o,c,_e,m),ue=o.memoizedState),(J=To||U2(o,c,J,m,de,ue,P))?(be||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ue),w.props=m,w.state=ue,w.context=P,m=J):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,Xy(a,o),P=o.memoizedProps,be=Yl(c,P),w.props=be,_e=o.pendingProps,de=w.context,ue=c.contextType,J=Wc,typeof ue=="object"&&ue!==null&&(J=cr(ue)),q=c.getDerivedStateFromProps,(ue=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==_e||de!==J)&&B2(o,w,m,J),To=!1,de=o.memoizedState,w.state=de,lf(o,m,w,y),of();var ye=o.memoizedState;P!==_e||de!==ye||To||a!==null&&a.dependencies!==null&&np(a.dependencies)?(typeof q=="function"&&(bb(o,c,q,m),ye=o.memoizedState),(be=To||U2(o,c,be,m,de,ye,J)||a!==null&&a.dependencies!==null&&np(a.dependencies))?(ue||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ye,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ye,J)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ye),w.props=m,w.state=ye,w.context=J,m=be):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),m=!1)}return w=m,wp(a,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&m?(o.child=Hl(o,a.child,null,y),o.child=Hl(o,null,c,y)):ur(a,o,c,y),o.memoizedState=w.state,a=o.child):a=vs(a,o,y),a}function rj(a,o,c,m){return Vl(),o.flags|=256,ur(a,o,c,m),o.child}var Eb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ab(a){return{baseLanes:a,cachePool:KT()}}function Tb(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=di),a}function ij(a,o,c){var m=o.pendingProps,y=!1,w=(o.flags&128)!==0,P;if((P=w)||(P=a!==null&&a.memoizedState===null?!1:(bn.current&2)!==0),P&&(y=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,a===null){if(dt){if(y?Co(o):Oo(),(a=Jt)?(a=fN(a,Pi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:_o!==null?{id:Pa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},c=LT(a),c.return=o,o.child=c,lr=o,Jt=null)):a=null,a===null)throw Eo(o);return lx(a)?o.lanes=32:o.lanes=536870912,null}var q=m.children;return m=m.fallback,y?(Oo(),y=o.mode,q=_p({mode:"hidden",children:q},y),m=zl(m,y,c,null),q.return=o,m.return=o,q.sibling=m,o.child=q,m=o.child,m.memoizedState=Ab(c),m.childLanes=Tb(a,P,c),o.memoizedState=Eb,hf(null,m)):(Co(o),jb(o,q))}var J=a.memoizedState;if(J!==null&&(q=J.dehydrated,q!==null)){if(w)o.flags&256?(Co(o),o.flags&=-257,o=Nb(a,o,c)):o.memoizedState!==null?(Oo(),o.child=a.child,o.flags|=128,o=null):(Oo(),q=m.fallback,y=o.mode,m=_p({mode:"visible",children:m.children},y),q=zl(q,y,c,null),q.flags|=2,m.return=o,q.return=o,m.sibling=q,o.child=m,Hl(o,a.child,null,c),m=o.child,m.memoizedState=Ab(c),m.childLanes=Tb(a,P,c),o.memoizedState=Eb,o=hf(null,m));else if(Co(o),lx(q)){if(P=q.nextSibling&&q.nextSibling.dataset,P)var ue=P.dgst;P=ue,m=Error(r(419)),m.stack="",m.digest=P,ef({value:m,source:null,stack:null}),o=Nb(a,o,c)}else if(Nn||Zc(a,o,c,!1),P=(c&a.childLanes)!==0,Nn||P){if(P=$t,P!==null&&(m=Se(P,c),m!==0&&m!==J.retryLane))throw J.retryLane=m,Ll(a,m),Yr(P,a,m),_b;ox(q)||Pp(),o=Nb(a,o,c)}else ox(q)?(o.flags|=192,o.child=a.child,o=null):(a=J.treeContext,Jt=Ri(q.nextSibling),lr=o,dt=!0,So=null,Pi=!1,a!==null&&$T(o,a),o=jb(o,m.children),o.flags|=4096);return o}return y?(Oo(),q=m.fallback,y=o.mode,J=a.child,ue=J.sibling,m=ds(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,ue!==null?q=ds(ue,q):(q=zl(q,y,c,null),q.flags|=2),q.return=o,m.return=o,m.sibling=q,o.child=m,hf(null,m),m=o.child,q=a.child.memoizedState,q===null?q=Ab(c):(y=q.cachePool,y!==null?(J=Tn._currentValue,y=y.parent!==J?{parent:J,pool:J}:y):y=KT(),q={baseLanes:q.baseLanes|c,cachePool:y}),m.memoizedState=q,m.childLanes=Tb(a,P,c),o.memoizedState=Eb,hf(a.child,m)):(Co(o),c=a.child,a=c.sibling,c=ds(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(P=o.deletions,P===null?(o.deletions=[a],o.flags|=16):P.push(a)),o.child=c,o.memoizedState=null,c)}function jb(a,o){return o=_p({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function _p(a,o){return a=oi(22,a,null,o),a.lanes=0,a}function Nb(a,o,c){return Hl(o,a.child,null,c),a=jb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function aj(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),qy(a.return,o,c)}function Cb(a,o,c,m,y,w){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:w}:(P.isBackwards=o,P.rendering=null,P.renderingStartTime=0,P.last=m,P.tail=c,P.tailMode=y,P.treeForkCount=w)}function sj(a,o,c){var m=o.pendingProps,y=m.revealOrder,w=m.tail;m=m.children;var P=bn.current,q=(P&2)!==0;if(q?(P=P&1|2,o.flags|=128):P&=1,W(bn,P),ur(a,o,m,c),m=dt?Zd:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&aj(a,c,o);else if(a.tag===19)aj(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&up(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Cb(o,!1,y,c,w,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&up(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Cb(o,!0,c,null,w,m);break;case"together":Cb(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function vs(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ro|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Zc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=ds(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=ds(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Ob(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&np(a)))}function SV(a,o,c){switch(o.tag){case 3:Oe(o,o.stateNode.containerInfo),Ao(o,Tn,a.memoizedState.cache),Vl();break;case 27:case 5:je(o);break;case 4:Oe(o,o.stateNode.containerInfo);break;case 10:Ao(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,tb(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Co(o),o.flags|=128,null):(c&o.child.childLanes)!==0?ij(a,o,c):(Co(o),a=vs(a,o,c),a!==null?a.sibling:null);Co(o);break;case 19:var y=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(Zc(a,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return sj(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),W(bn,bn.current),m)break;return null;case 22:return o.lanes=0,J2(a,o,c,o.pendingProps);case 24:Ao(o,Tn,a.memoizedState.cache)}return vs(a,o,c)}function oj(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Nn=!0;else{if(!Ob(a,c)&&(o.flags&128)===0)return Nn=!1,SV(a,o,c);Nn=(a.flags&131072)!==0}else Nn=!1,dt&&(o.flags&1048576)!==0&&VT(o,Zd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=ql(o.elementType),o.type=a,typeof a=="function")My(a)?(m=Yl(a,m),o.tag=1,o=nj(null,o,a,m,c)):(o.tag=0,o=Sb(null,o,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===U){o.tag=11,o=W2(null,o,a,m,c);break e}else if(y===N){o.tag=14,o=X2(null,o,a,m,c);break e}}throw o=ie(a)||a,Error(r(306,o,""))}}return o;case 0:return Sb(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=Yl(m,o.pendingProps),nj(a,o,m,y,c);case 3:e:{if(Oe(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var w=o.memoizedState;y=w.element,Xy(a,o),lf(o,m,null,c);var P=o.memoizedState;if(m=P.cache,Ao(o,Tn,m),m!==w.cache&&Fy(o,[Tn],c,!0),of(),m=P.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=rj(a,o,m,c);break e}else if(m!==y){y=Ni(Error(r(424)),o),ef(y),o=rj(a,o,m,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Jt=Ri(a.firstChild),lr=o,dt=!0,So=null,Pi=!0,c=JT(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vl(),m===y){o=vs(a,o,c);break e}ur(a,o,m,c)}o=o.child}return o;case 26:return wp(a,o),a===null?(c=yN(o.type,null,o.pendingProps,null))?o.memoizedState=c:dt||(c=o.type,a=o.pendingProps,m=zp(ge.current).createElement(c),m[rn]=o,m[jt]=a,dr(m,c,a),En(m),o.stateNode=m):o.memoizedState=yN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return je(o),a===null&&dt&&(m=o.stateNode=pN(o.type,o.pendingProps,ge.current),lr=o,Pi=!0,y=Jt,zo(o.type)?(cx=y,Jt=Ri(m.firstChild)):Jt=y),ur(a,o,o.pendingProps.children,c),wp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&dt&&((y=m=Jt)&&(m=ZV(m,o.type,o.pendingProps,Pi),m!==null?(o.stateNode=m,lr=o,Jt=Ri(m.firstChild),Pi=!1,y=!0):y=!1),y||Eo(o)),je(o),y=o.type,w=o.pendingProps,P=a!==null?a.memoizedProps:null,m=w.children,ix(y,w)?m=null:P!==null&&ix(y,P)&&(o.flags|=32),o.memoizedState!==null&&(y=rb(a,o,mV,null,null,c),Nf._currentValue=y),wp(a,o),ur(a,o,m,c),o.child;case 6:return a===null&&dt&&((a=c=Jt)&&(c=e8(c,o.pendingProps,Pi),c!==null?(o.stateNode=c,lr=o,Jt=null,a=!0):a=!1),a||Eo(o)),null;case 13:return ij(a,o,c);case 4:return Oe(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Hl(o,null,m,c):ur(a,o,m,c),o.child;case 11:return W2(a,o,o.type,o.pendingProps,c);case 7:return ur(a,o,o.pendingProps,c),o.child;case 8:return ur(a,o,o.pendingProps.children,c),o.child;case 12:return ur(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Ao(o,o.type,m.value),ur(a,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,Ul(o),y=cr(y),m=m(y),o.flags|=1,ur(a,o,m,c),o.child;case 14:return X2(a,o,o.type,o.pendingProps,c);case 15:return Q2(a,o,o.type,o.pendingProps,c);case 19:return sj(a,o,c);case 31:return _V(a,o,c);case 22:return J2(a,o,c,o.pendingProps);case 24:return Ul(o),m=cr(Tn),a===null?(y=Yy(),y===null&&(y=$t,w=Hy(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=c),y=w),o.memoizedState={parent:m,cache:y},Wy(o),Ao(o,Tn,y)):((a.lanes&c)!==0&&(Xy(a,o),lf(o,null,null,c),of()),y=a.memoizedState,w=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ao(o,Tn,m)):(m=w.cache,Ao(o,Tn,m),m!==y.cache&&Fy(o,[Tn],c,!0))),ur(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ys(a){a.flags|=4}function Pb(a,o,c,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(kj())a.flags|=8192;else throw Fl=sp,Gy}else a.flags&=-16777217}function lj(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!SN(o))if(kj())a.flags|=8192;else throw Fl=sp,Gy}function Sp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?os():536870912,a.lanes|=o,du|=o)}function mf(a,o){if(!dt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Zt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function EV(a,o,c){var m=o.pendingProps;switch(Vy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(o),null;case 1:return Zt(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ms(Tn),ne(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Jc(o)?ys(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Uy())),Zt(o),null;case 26:var y=o.type,w=o.memoizedState;return a===null?(ys(o),w!==null?(Zt(o),lj(o,w)):(Zt(o),Pb(o,y,null,m,c))):w?w!==a.memoizedState?(ys(o),Zt(o),lj(o,w)):(Zt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&ys(o),Zt(o),Pb(o,y,a,m,c)),null;case 27:if(me(o),c=ge.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Zt(o),null}a=G.current,Jc(o)?UT(o):(a=pN(y,m,c),o.stateNode=a,ys(o))}return Zt(o),null;case 5:if(me(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Zt(o),null}if(w=G.current,Jc(o))UT(o);else{var P=zp(ge.current);switch(w){case 1:w=P.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=P.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=P.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?P.createElement("select",{is:m.is}):P.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?P.createElement(y,{is:m.is}):P.createElement(y)}}w[rn]=o,w[jt]=m;e:for(P=o.child;P!==null;){if(P.tag===5||P.tag===6)w.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===o)break e;for(;P.sibling===null;){if(P.return===null||P.return===o)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}o.stateNode=w;e:switch(dr(w,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ys(o)}}return Zt(o),Pb(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&ys(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=ge.current,Jc(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,y=lr,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[rn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||iN(a.nodeValue,c)),a||Eo(o,!0)}else a=zp(a).createTextNode(m),a[rn]=o,o.stateNode=a}return Zt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=Jc(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[rn]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),a=!1}else c=Uy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ci(o),o):(ci(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Zt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Jc(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[rn]=o}else Vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),y=!1}else y=Uy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ci(o),o):(ci(o),null)}return ci(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==y&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Sp(o,o.updateQueue),Zt(o),null);case 4:return ne(),a===null&&Zb(o.stateNode.containerInfo),Zt(o),null;case 10:return ms(o.type),Zt(o),null;case 19:if(X(bn),m=o.memoizedState,m===null)return Zt(o),null;if(y=(o.flags&128)!==0,w=m.rendering,w===null)if(y)mf(m,!1);else{if(gn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=up(a),w!==null){for(o.flags|=128,mf(m,!1),a=w.updateQueue,o.updateQueue=a,Sp(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)DT(c,a),c=c.sibling;return W(bn,bn.current&1|2),dt&&fs(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Dn()>Np&&(o.flags|=128,y=!0,mf(m,!1),o.lanes=4194304)}else{if(!y)if(a=up(w),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Sp(o,a),mf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!dt)return Zt(o),null}else 2*Dn()-m.renderingStartTime>Np&&c!==536870912&&(o.flags|=128,y=!0,mf(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(a=m.last,a!==null?a.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Dn(),a.sibling=null,c=bn.current,W(bn,y?c&1|2:c&1),dt&&fs(o,m.treeForkCount),a):(Zt(o),null);case 22:case 23:return ci(o),eb(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(Zt(o),o.subtreeFlags&6&&(o.flags|=8192)):Zt(o),c=o.updateQueue,c!==null&&Sp(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&X(Bl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ms(Tn),Zt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function AV(a,o){switch(Vy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ms(Tn),ne(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return me(o),null;case 31:if(o.memoizedState!==null){if(ci(o),o.alternate===null)throw Error(r(340));Vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ci(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Vl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return X(bn),null;case 4:return ne(),null;case 10:return ms(o.type),null;case 22:case 23:return ci(o),eb(),a!==null&&X(Bl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ms(Tn),null;case 25:return null;default:return null}}function cj(a,o){switch(Vy(o),o.tag){case 3:ms(Tn),ne();break;case 26:case 27:case 5:me(o);break;case 4:ne();break;case 31:o.memoizedState!==null&&ci(o);break;case 13:ci(o);break;case 19:X(bn);break;case 10:ms(o.type);break;case 22:case 23:ci(o),eb(),a!==null&&X(Bl);break;case 24:ms(Tn)}}function pf(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var w=c.create,P=c.inst;m=w(),P.destroy=m}c=c.next}while(c!==y)}}catch(q){Ot(o,o.return,q)}}function Po(a,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var w=y.next;m=w;do{if((m.tag&a)===a){var P=m.inst,q=P.destroy;if(q!==void 0){P.destroy=void 0,y=o;var J=c,ue=q;try{ue()}catch(be){Ot(y,J,be)}}}m=m.next}while(m!==w)}}catch(be){Ot(o,o.return,be)}}function uj(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{e2(o,c)}catch(m){Ot(a,a.return,m)}}}function dj(a,o,c){c.props=Yl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){Ot(a,o,m)}}function gf(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){Ot(a,o,y)}}function Ra(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){Ot(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Ot(a,o,y)}else c.current=null}function fj(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){Ot(a,a.return,y)}}function Ib(a,o,c){try{var m=a.stateNode;YV(m,a.type,c,o),m[jt]=o}catch(y){Ot(a,a.return,y)}}function hj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&zo(a.type)||a.tag===4}function Rb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&zo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function kb(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gi));else if(m!==4&&(m===27&&zo(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(kb(a,o,c),a=a.sibling;a!==null;)kb(a,o,c),a=a.sibling}function Ep(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&zo(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Ep(a,o,c),a=a.sibling;a!==null;)Ep(a,o,c),a=a.sibling}function mj(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);dr(o,m,c),o[rn]=a,o[jt]=c}catch(w){Ot(a,a.return,w)}}var bs=!1,Cn=!1,Mb=!1,pj=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function TV(a,o){if(a=a.containerInfo,nx=Hp,a=jT(a),Ny(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,q=-1,J=-1,ue=0,be=0,_e=a,de=null;t:for(;;){for(var ye;_e!==c||y!==0&&_e.nodeType!==3||(q=P+y),_e!==w||m!==0&&_e.nodeType!==3||(J=P+m),_e.nodeType===3&&(P+=_e.nodeValue.length),(ye=_e.firstChild)!==null;)de=_e,_e=ye;for(;;){if(_e===a)break t;if(de===c&&++ue===y&&(q=P),de===w&&++be===m&&(J=P),(ye=_e.nextSibling)!==null)break;_e=de,de=_e.parentNode}_e=ye}c=q===-1||J===-1?null:{start:q,end:J}}else c=null}c=c||{start:0,end:0}}else c=null;for(rx={focusedElem:a,selectionRange:c},Hp=!1,Wn=o;Wn!==null;)if(o=Wn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Wn=a;else for(;Wn!==null;){switch(o=Wn,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=o,y=w.memoizedProps,w=w.memoizedState,m=c.stateNode;try{var $e=Yl(c.type,y);a=m.getSnapshotBeforeUpdate($e,w),m.__reactInternalSnapshotBeforeUpdate=a}catch(Fe){Ot(c,c.return,Fe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)sx(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":sx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Wn=a;break}Wn=o.return}}function gj(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ws(a,c),m&4&&pf(5,c);break;case 1:if(ws(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(P){Ot(c,c.return,P)}else{var y=Yl(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(P){Ot(c,c.return,P)}}m&64&&uj(c),m&512&&gf(c,c.return);break;case 3:if(ws(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{e2(a,o)}catch(P){Ot(c,c.return,P)}}break;case 27:o===null&&m&4&&mj(c);case 26:case 5:ws(a,c),o===null&&m&4&&fj(c),m&512&&gf(c,c.return);break;case 12:ws(a,c);break;case 31:ws(a,c),m&4&&bj(a,c);break;case 13:ws(a,c),m&4&&xj(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=MV.bind(null,c),t8(a,c))));break;case 22:if(m=c.memoizedState!==null||bs,!m){o=o!==null&&o.memoizedState!==null||Cn,y=bs;var w=Cn;bs=m,(Cn=o)&&!w?_s(a,c,(c.subtreeFlags&8772)!==0):ws(a,c),bs=y,Cn=w}break;case 30:break;default:ws(a,c)}}function vj(a){var o=a.alternate;o!==null&&(a.alternate=null,vj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Yi(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var sn=null,qr=!1;function xs(a,o,c){for(c=c.child;c!==null;)yj(a,o,c),c=c.sibling}function yj(a,o,c){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(ar,c)}catch{}switch(c.tag){case 26:Cn||Ra(c,o),xs(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Cn||Ra(c,o);var m=sn,y=qr;zo(c.type)&&(sn=c.stateNode,qr=!1),xs(a,o,c),Af(c.stateNode),sn=m,qr=y;break;case 5:Cn||Ra(c,o);case 6:if(m=sn,y=qr,sn=null,xs(a,o,c),sn=m,qr=y,sn!==null)if(qr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(c.stateNode)}catch(w){Ot(c,o,w)}else try{sn.removeChild(c.stateNode)}catch(w){Ot(c,o,w)}break;case 18:sn!==null&&(qr?(a=sn,uN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),bu(a)):uN(sn,c.stateNode));break;case 4:m=sn,y=qr,sn=c.stateNode.containerInfo,qr=!0,xs(a,o,c),sn=m,qr=y;break;case 0:case 11:case 14:case 15:Po(2,c,o),Cn||Po(4,c,o),xs(a,o,c);break;case 1:Cn||(Ra(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&dj(c,o,m)),xs(a,o,c);break;case 21:xs(a,o,c);break;case 22:Cn=(m=Cn)||c.memoizedState!==null,xs(a,o,c),Cn=m;break;default:xs(a,o,c)}}function bj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{bu(a)}catch(c){Ot(o,o.return,c)}}}function xj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{bu(a)}catch(c){Ot(o,o.return,c)}}function jV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new pj),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new pj),o;default:throw Error(r(435,a.tag))}}function Ap(a,o){var c=jV(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var y=DV.bind(null,a,m);m.then(y,y)}})}function Fr(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],w=a,P=o,q=P;e:for(;q!==null;){switch(q.tag){case 27:if(zo(q.type)){sn=q.stateNode,qr=!1;break e}break;case 5:sn=q.stateNode,qr=!1;break e;case 3:case 4:sn=q.stateNode.containerInfo,qr=!0;break e}q=q.return}if(sn===null)throw Error(r(160));yj(w,P,y),sn=null,qr=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)wj(o,a),o=o.sibling}var ea=null;function wj(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Fr(o,a),Hr(a),m&4&&(Po(3,a,a.return),pf(3,a),Po(5,a,a.return));break;case 1:Fr(o,a),Hr(a),m&512&&(Cn||c===null||Ra(c,c.return)),m&64&&bs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=ea;if(Fr(o,a),Hr(a),m&512&&(Cn||c===null||Ra(c,c.return)),m&4){var w=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":w=y.getElementsByTagName("title")[0],(!w||w[mn]||w[rn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(m),y.head.insertBefore(w,y.querySelector("head > title"))),dr(w,m,c),w[rn]=a,En(w),m=w;break e;case"link":var P=wN("link","href",y).get(m+(c.href||""));if(P){for(var q=0;q<P.length;q++)if(w=P[q],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){P.splice(q,1);break t}}w=y.createElement(m),dr(w,m,c),y.head.appendChild(w);break;case"meta":if(P=wN("meta","content",y).get(m+(c.content||""))){for(q=0;q<P.length;q++)if(w=P[q],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){P.splice(q,1);break t}}w=y.createElement(m),dr(w,m,c),y.head.appendChild(w);break;default:throw Error(r(468,m))}w[rn]=a,En(w),m=w}a.stateNode=m}else _N(y,a.type,a.stateNode);else a.stateNode=xN(y,m,a.memoizedProps);else w!==m?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,m===null?_N(y,a.type,a.stateNode):xN(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Ib(a,a.memoizedProps,c.memoizedProps)}break;case 27:Fr(o,a),Hr(a),m&512&&(Cn||c===null||Ra(c,c.return)),c!==null&&m&4&&Ib(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Fr(o,a),Hr(a),m&512&&(Cn||c===null||Ra(c,c.return)),a.flags&32){y=a.stateNode;try{Br(y,"")}catch($e){Ot(a,a.return,$e)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Ib(a,y,c!==null?c.memoizedProps:y)),m&1024&&(Mb=!0);break;case 6:if(Fr(o,a),Hr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch($e){Ot(a,a.return,$e)}}break;case 3:if(Up=null,y=ea,ea=Vp(o.containerInfo),Fr(o,a),ea=y,Hr(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{bu(o.containerInfo)}catch($e){Ot(a,a.return,$e)}Mb&&(Mb=!1,_j(a));break;case 4:m=ea,ea=Vp(a.stateNode.containerInfo),Fr(o,a),Hr(a),ea=m;break;case 12:Fr(o,a),Hr(a);break;case 31:Fr(o,a),Hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ap(a,m)));break;case 13:Fr(o,a),Hr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(jp=Dn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ap(a,m)));break;case 22:y=a.memoizedState!==null;var J=c!==null&&c.memoizedState!==null,ue=bs,be=Cn;if(bs=ue||y,Cn=be||J,Fr(o,a),Cn=be,bs=ue,Hr(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||J||bs||Cn||Gl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){J=c=o;try{if(w=J.stateNode,y)P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{q=J.stateNode;var _e=J.memoizedProps.style,de=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;q.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch($e){Ot(J,J.return,$e)}}}else if(o.tag===6){if(c===null){J=o;try{J.stateNode.nodeValue=y?"":J.memoizedProps}catch($e){Ot(J,J.return,$e)}}}else if(o.tag===18){if(c===null){J=o;try{var ye=J.stateNode;y?dN(ye,!0):dN(J.stateNode,!1)}catch($e){Ot(J,J.return,$e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Ap(a,c))));break;case 19:Fr(o,a),Hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ap(a,m)));break;case 30:break;case 21:break;default:Fr(o,a),Hr(a)}}function Hr(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(hj(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,w=Rb(a);Ep(a,w,y);break;case 5:var P=c.stateNode;c.flags&32&&(Br(P,""),c.flags&=-33);var q=Rb(a);Ep(a,q,P);break;case 3:case 4:var J=c.stateNode.containerInfo,ue=Rb(a);kb(a,ue,J);break;default:throw Error(r(161))}}catch(be){Ot(a,a.return,be)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function _j(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;_j(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ws(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)gj(a,o.alternate,o),o=o.sibling}function Gl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Po(4,o,o.return),Gl(o);break;case 1:Ra(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&dj(o,o.return,c),Gl(o);break;case 27:Af(o.stateNode);case 26:case 5:Ra(o,o.return),Gl(o);break;case 22:o.memoizedState===null&&Gl(o);break;case 30:Gl(o);break;default:Gl(o)}a=a.sibling}}function _s(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,w=o,P=w.flags;switch(w.tag){case 0:case 11:case 15:_s(y,w,c),pf(4,w);break;case 1:if(_s(y,w,c),m=w,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ue){Ot(m,m.return,ue)}if(m=w,y=m.updateQueue,y!==null){var q=m.stateNode;try{var J=y.shared.hiddenCallbacks;if(J!==null)for(y.shared.hiddenCallbacks=null,y=0;y<J.length;y++)ZT(J[y],q)}catch(ue){Ot(m,m.return,ue)}}c&&P&64&&uj(w),gf(w,w.return);break;case 27:mj(w);case 26:case 5:_s(y,w,c),c&&m===null&&P&4&&fj(w),gf(w,w.return);break;case 12:_s(y,w,c);break;case 31:_s(y,w,c),c&&P&4&&bj(y,w);break;case 13:_s(y,w,c),c&&P&4&&xj(y,w);break;case 22:w.memoizedState===null&&_s(y,w,c),gf(w,w.return);break;case 30:break;default:_s(y,w,c)}o=o.sibling}}function Db(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&tf(c))}function Lb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&tf(a))}function ta(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Sj(a,o,c,m),o=o.sibling}function Sj(a,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ta(a,o,c,m),y&2048&&pf(9,o);break;case 1:ta(a,o,c,m);break;case 3:ta(a,o,c,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&tf(a)));break;case 12:if(y&2048){ta(a,o,c,m),a=o.stateNode;try{var w=o.memoizedProps,P=w.id,q=w.onPostCommit;typeof q=="function"&&q(P,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Ot(o,o.return,J)}}else ta(a,o,c,m);break;case 31:ta(a,o,c,m);break;case 13:ta(a,o,c,m);break;case 23:break;case 22:w=o.stateNode,P=o.alternate,o.memoizedState!==null?w._visibility&2?ta(a,o,c,m):vf(a,o):w._visibility&2?ta(a,o,c,m):(w._visibility|=2,lu(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Db(P,o);break;case 24:ta(a,o,c,m),y&2048&&Lb(o.alternate,o);break;default:ta(a,o,c,m)}}function lu(a,o,c,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,P=o,q=c,J=m,ue=P.flags;switch(P.tag){case 0:case 11:case 15:lu(w,P,q,J,y),pf(8,P);break;case 23:break;case 22:var be=P.stateNode;P.memoizedState!==null?be._visibility&2?lu(w,P,q,J,y):vf(w,P):(be._visibility|=2,lu(w,P,q,J,y)),y&&ue&2048&&Db(P.alternate,P);break;case 24:lu(w,P,q,J,y),y&&ue&2048&&Lb(P.alternate,P);break;default:lu(w,P,q,J,y)}o=o.sibling}}function vf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,y=m.flags;switch(m.tag){case 22:vf(c,m),y&2048&&Db(m.alternate,m);break;case 24:vf(c,m),y&2048&&Lb(m.alternate,m);break;default:vf(c,m)}o=o.sibling}}var yf=8192;function cu(a,o,c){if(a.subtreeFlags&yf)for(a=a.child;a!==null;)Ej(a,o,c),a=a.sibling}function Ej(a,o,c){switch(a.tag){case 26:cu(a,o,c),a.flags&yf&&a.memoizedState!==null&&h8(c,ea,a.memoizedState,a.memoizedProps);break;case 5:cu(a,o,c);break;case 3:case 4:var m=ea;ea=Vp(a.stateNode.containerInfo),cu(a,o,c),ea=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=yf,yf=16777216,cu(a,o,c),yf=m):cu(a,o,c));break;default:cu(a,o,c)}}function Aj(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function bf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Wn=m,jj(m,a)}Aj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Tj(a),a=a.sibling}function Tj(a){switch(a.tag){case 0:case 11:case 15:bf(a),a.flags&2048&&Po(9,a,a.return);break;case 3:bf(a);break;case 12:bf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Tp(a)):bf(a);break;default:bf(a)}}function Tp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Wn=m,jj(m,a)}Aj(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Po(8,o,o.return),Tp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Tp(o));break;default:Tp(o)}a=a.sibling}}function jj(a,o){for(;Wn!==null;){var c=Wn;switch(c.tag){case 0:case 11:case 15:Po(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:tf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Wn=m;else e:for(c=a;Wn!==null;){m=Wn;var y=m.sibling,w=m.return;if(vj(m),m===c){Wn=null;break e}if(y!==null){y.return=w,Wn=y;break e}Wn=w}}}var NV={getCacheForType:function(a){var o=cr(Tn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return cr(Tn).controller.signal}},CV=typeof WeakMap=="function"?WeakMap:Map,_t=0,$t=null,it=null,st=0,Ct=0,ui=null,Io=!1,uu=!1,zb=!1,Ss=0,gn=0,Ro=0,Wl=0,Vb=0,di=0,du=0,xf=null,Kr=null,$b=!1,jp=0,Nj=0,Np=1/0,Cp=null,ko=null,Ln=0,Mo=null,fu=null,Es=0,Ub=0,Bb=null,Cj=null,wf=0,qb=null;function fi(){return(_t&2)!==0&&st!==0?st&-st:K.T!==null?Wb():Xe()}function Oj(){if(di===0)if((st&536870912)===0||dt){var a=ri;ri<<=1,(ri&3932160)===0&&(ri=262144),di=a}else di=536870912;return a=li.current,a!==null&&(a.flags|=32),di}function Yr(a,o,c){(a===$t&&(Ct===2||Ct===9)||a.cancelPendingCommit!==null)&&(hu(a,0),Do(a,st,di,!1)),Ki(a,c),((_t&2)===0||a!==$t)&&(a===$t&&((_t&2)===0&&(Wl|=c),gn===4&&Do(a,st,di,!1)),ka(a))}function Pj(a,o,c){if((_t&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Ir(a,o),y=m?IV(a,o):Hb(a,o,!0),w=m;do{if(y===0){uu&&!m&&Do(a,o,0,!1);break}else{if(c=a.current.alternate,w&&!OV(c)){y=Hb(a,o,!1),w=!1;continue}if(y===2){if(w=o,a.errorRecoveryDisabledLanes&w)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var q=a;y=xf;var J=q.current.memoizedState.isDehydrated;if(J&&(hu(q,P).flags|=256),P=Hb(q,P,!1),P!==2){if(zb&&!J){q.errorRecoveryDisabledLanes|=w,Wl|=w,y=4;break e}w=Kr,Kr=y,w!==null&&(Kr===null?Kr=w:Kr.push.apply(Kr,w))}y=P}if(w=!1,y!==2)continue}}if(y===1){hu(a,0),Do(a,o,0,!0);break}e:{switch(m=a,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Do(m,o,di,!Io);break e;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=jp+300-Dn(),10<y)){if(Do(m,o,di,!Io),Vr(m,0,!0)!==0)break e;Es=o,m.timeoutHandle=lN(Ij.bind(null,m,c,Kr,Cp,$b,o,di,Wl,du,Io,w,"Throttled",-0,0),y);break e}Ij(m,c,Kr,Cp,$b,o,di,Wl,du,Io,w,null,-0,0)}}break}while(!0);ka(a)}function Ij(a,o,c,m,y,w,P,q,J,ue,be,_e,de,ye){if(a.timeoutHandle=-1,_e=o.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gi},Ej(o,w,_e);var $e=(w&62914560)===w?jp-Dn():(w&4194048)===w?Nj-Dn():0;if($e=m8(_e,$e),$e!==null){Es=w,a.cancelPendingCommit=$e($j.bind(null,a,o,w,c,m,y,P,q,J,be,_e,null,de,ye)),Do(a,w,P,!ue);return}}$j(a,o,w,c,m,y,P,q,J)}function OV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],w=y.getSnapshot;y=y.value;try{if(!si(w(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Do(a,o,c,m){o&=~Vb,o&=~Wl,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var w=31-Kt(y),P=1<<w;m[w]=-1,y&=~P}c!==0&&Ee(a,c,o)}function Op(){return(_t&6)===0?(_f(0),!1):!0}function Fb(){if(it!==null){if(Ct===0)var a=it.return;else a=it,hs=$l=null,sb(a),ru=null,rf=0,a=it;for(;a!==null;)cj(a.alternate,a),a=a.return;it=null}}function hu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,XV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Es=0,Fb(),$t=a,it=c=ds(a.current,null),st=o,Ct=0,ui=null,Io=!1,uu=Ir(a,o),zb=!1,du=di=Vb=Wl=Ro=gn=0,Kr=xf=null,$b=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-Kt(m),w=1<<y;o|=a[y],m&=~w}return Ss=o,Qm(),c}function Rj(a,o){Ze=null,K.H=ff,o===nu||o===ap?(o=WT(),Ct=3):o===Gy?(o=WT(),Ct=4):Ct=o===_b?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ui=o,it===null&&(gn=1,bp(a,Ni(o,a.current)))}function kj(){var a=li.current;return a===null?!0:(st&4194048)===st?Ii===null:(st&62914560)===st||(st&536870912)!==0?a===Ii:!1}function Mj(){var a=K.H;return K.H=ff,a===null?ff:a}function Dj(){var a=K.A;return K.A=NV,a}function Pp(){gn=4,Io||(st&4194048)!==st&&li.current!==null||(uu=!0),(Ro&134217727)===0&&(Wl&134217727)===0||$t===null||Do($t,st,di,!1)}function Hb(a,o,c){var m=_t;_t|=2;var y=Mj(),w=Dj();($t!==a||st!==o)&&(Cp=null,hu(a,o)),o=!1;var P=gn;e:do try{if(Ct!==0&&it!==null){var q=it,J=ui;switch(Ct){case 8:Fb(),P=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(o=!0);var ue=Ct;if(Ct=0,ui=null,mu(a,q,J,ue),c&&uu){P=0;break e}break;default:ue=Ct,Ct=0,ui=null,mu(a,q,J,ue)}}PV(),P=gn;break}catch(be){Rj(a,be)}while(!0);return o&&a.shellSuspendCounter++,hs=$l=null,_t=m,K.H=y,K.A=w,it===null&&($t=null,st=0,Qm()),P}function PV(){for(;it!==null;)Lj(it)}function IV(a,o){var c=_t;_t|=2;var m=Mj(),y=Dj();$t!==a||st!==o?(Cp=null,Np=Dn()+500,hu(a,o)):uu=Ir(a,o);e:do try{if(Ct!==0&&it!==null){o=it;var w=ui;t:switch(Ct){case 1:Ct=0,ui=null,mu(a,o,w,1);break;case 2:case 9:if(YT(w)){Ct=0,ui=null,zj(o);break}o=function(){Ct!==2&&Ct!==9||$t!==a||(Ct=7),ka(a)},w.then(o,o);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:YT(w)?(Ct=0,ui=null,zj(o)):(Ct=0,ui=null,mu(a,o,w,7));break;case 5:var P=null;switch(it.tag){case 26:P=it.memoizedState;case 5:case 27:var q=it;if(P?SN(P):q.stateNode.complete){Ct=0,ui=null;var J=q.sibling;if(J!==null)it=J;else{var ue=q.return;ue!==null?(it=ue,Ip(ue)):it=null}break t}}Ct=0,ui=null,mu(a,o,w,5);break;case 6:Ct=0,ui=null,mu(a,o,w,6);break;case 8:Fb(),gn=6;break e;default:throw Error(r(462))}}RV();break}catch(be){Rj(a,be)}while(!0);return hs=$l=null,K.H=m,K.A=y,_t=c,it!==null?0:($t=null,st=0,Qm(),gn)}function RV(){for(;it!==null&&!bi();)Lj(it)}function Lj(a){var o=oj(a.alternate,a,Ss);a.memoizedProps=a.pendingProps,o===null?Ip(a):it=o}function zj(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=tj(c,o,o.pendingProps,o.type,void 0,st);break;case 11:o=tj(c,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:sb(o);default:cj(c,o),o=it=DT(o,Ss),o=oj(c,o,Ss)}a.memoizedProps=a.pendingProps,o===null?Ip(a):it=o}function mu(a,o,c,m){hs=$l=null,sb(o),ru=null,rf=0;var y=o.return;try{if(wV(a,y,o,c,st)){gn=1,bp(a,Ni(c,a.current)),it=null;return}}catch(w){if(y!==null)throw it=y,w;gn=1,bp(a,Ni(c,a.current)),it=null;return}o.flags&32768?(dt||m===1?a=!0:uu||(st&536870912)!==0?a=!1:(Io=a=!0,(m===2||m===9||m===3||m===6)&&(m=li.current,m!==null&&m.tag===13&&(m.flags|=16384))),Vj(o,a)):Ip(o)}function Ip(a){var o=a;do{if((o.flags&32768)!==0){Vj(o,Io);return}a=o.return;var c=EV(o.alternate,o,Ss);if(c!==null){it=c;return}if(o=o.sibling,o!==null){it=o;return}it=o=a}while(o!==null);gn===0&&(gn=5)}function Vj(a,o){do{var c=AV(a.alternate,a);if(c!==null){c.flags&=32767,it=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){it=a;return}it=a=c}while(a!==null);gn=6,it=null}function $j(a,o,c,m,y,w,P,q,J){a.cancelPendingCommit=null;do Rp();while(Ln!==0);if((_t&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=Ry,Al(a,c,w,P,q,J),a===$t&&(it=$t=null,st=0),fu=o,Mo=a,Es=c,Ub=w,Bb=y,Cj=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,LV(ir,function(){return Hj(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=K.T,K.T=null,y=ee.p,ee.p=2,P=_t,_t|=4;try{TV(a,o,c)}finally{_t=P,ee.p=y,K.T=m}}Ln=1,Uj(),Bj(),qj()}}function Uj(){if(Ln===1){Ln=0;var a=Mo,o=fu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var m=ee.p;ee.p=2;var y=_t;_t|=4;try{wj(o,a);var w=rx,P=jT(a.containerInfo),q=w.focusedElem,J=w.selectionRange;if(P!==q&&q&&q.ownerDocument&&TT(q.ownerDocument.documentElement,q)){if(J!==null&&Ny(q)){var ue=J.start,be=J.end;if(be===void 0&&(be=ue),"selectionStart"in q)q.selectionStart=ue,q.selectionEnd=Math.min(be,q.value.length);else{var _e=q.ownerDocument||document,de=_e&&_e.defaultView||window;if(de.getSelection){var ye=de.getSelection(),$e=q.textContent.length,Fe=Math.min(J.start,$e),Dt=J.end===void 0?Fe:Math.min(J.end,$e);!ye.extend&&Fe>Dt&&(P=Dt,Dt=Fe,Fe=P);var re=AT(q,Fe),te=AT(q,Dt);if(re&&te&&(ye.rangeCount!==1||ye.anchorNode!==re.node||ye.anchorOffset!==re.offset||ye.focusNode!==te.node||ye.focusOffset!==te.offset)){var ce=_e.createRange();ce.setStart(re.node,re.offset),ye.removeAllRanges(),Fe>Dt?(ye.addRange(ce),ye.extend(te.node,te.offset)):(ce.setEnd(te.node,te.offset),ye.addRange(ce))}}}}for(_e=[],ye=q;ye=ye.parentNode;)ye.nodeType===1&&_e.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<_e.length;q++){var we=_e[q];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Hp=!!nx,rx=nx=null}finally{_t=y,ee.p=m,K.T=c}}a.current=o,Ln=2}}function Bj(){if(Ln===2){Ln=0;var a=Mo,o=fu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var m=ee.p;ee.p=2;var y=_t;_t|=4;try{gj(a,o.alternate,o)}finally{_t=y,ee.p=m,K.T=c}}Ln=3}}function qj(){if(Ln===4||Ln===3){Ln=0,xi();var a=Mo,o=fu,c=Es,m=Cj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ln=5:(Ln=0,fu=Mo=null,Fj(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(ko=null),Ie(c),o=o.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(ar,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=K.T,y=ee.p,ee.p=2,K.T=null;try{for(var w=a.onRecoverableError,P=0;P<m.length;P++){var q=m[P];w(q.value,{componentStack:q.stack})}}finally{K.T=o,ee.p=y}}(Es&3)!==0&&Rp(),ka(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===qb?wf++:(wf=0,qb=a):wf=0,_f(0)}}function Fj(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,tf(o)))}function Rp(){return Uj(),Bj(),qj(),Hj()}function Hj(){if(Ln!==5)return!1;var a=Mo,o=Ub;Ub=0;var c=Ie(Es),m=K.T,y=ee.p;try{ee.p=32>c?32:c,K.T=null,c=Bb,Bb=null;var w=Mo,P=Es;if(Ln=0,fu=Mo=null,Es=0,(_t&6)!==0)throw Error(r(331));var q=_t;if(_t|=4,Tj(w.current),Sj(w,w.current,P,c),_t=q,_f(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(ar,w)}catch{}return!0}finally{ee.p=y,K.T=m,Fj(a,o)}}function Kj(a,o,c){o=Ni(c,o),o=wb(a.stateNode,o,2),a=No(a,o,2),a!==null&&(Ki(a,2),ka(a))}function Ot(a,o,c){if(a.tag===3)Kj(a,a,c);else for(;o!==null;){if(o.tag===3){Kj(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ko===null||!ko.has(m))){a=Ni(c,a),c=Y2(2),m=No(o,c,2),m!==null&&(G2(c,m,o,a),Ki(m,2),ka(m));break}}o=o.return}}function Kb(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new CV;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(zb=!0,y.add(c),a=kV.bind(null,a,o,c),o.then(a,a))}function kV(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,$t===a&&(st&c)===c&&(gn===4||gn===3&&(st&62914560)===st&&300>Dn()-jp?(_t&2)===0&&hu(a,0):Vb|=c,du===st&&(du=0)),ka(a)}function Yj(a,o){o===0&&(o=os()),a=Ll(a,o),a!==null&&(Ki(a,o),ka(a))}function MV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),Yj(a,c)}function DV(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),Yj(a,c)}function LV(a,o){return Vt(a,o)}var kp=null,pu=null,Yb=!1,Mp=!1,Gb=!1,Lo=0;function ka(a){a!==pu&&a.next===null&&(pu===null?kp=pu=a:pu=pu.next=a),Mp=!0,Yb||(Yb=!0,VV())}function _f(a,o){if(!Gb&&Mp){Gb=!0;do for(var c=!1,m=kp;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var w=0;else{var P=m.suspendedLanes,q=m.pingedLanes;w=(1<<31-Kt(42|a)+1)-1,w&=y&~(P&~q),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Qj(m,w))}else w=st,w=Vr(m,m===$t?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Ir(m,w)||(c=!0,Qj(m,w));m=m.next}while(c);Gb=!1}}function zV(){Gj()}function Gj(){Mp=Yb=!1;var a=0;Lo!==0&&WV()&&(a=Lo);for(var o=Dn(),c=null,m=kp;m!==null;){var y=m.next,w=Wj(m,o);w===0?(m.next=null,c===null?kp=y:c.next=y,y===null&&(pu=c)):(c=m,(a!==0||(w&3)!==0)&&(Mp=!0)),m=y}Ln!==0&&Ln!==5||_f(a),Lo!==0&&(Lo=0)}function Wj(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var P=31-Kt(w),q=1<<P,J=y[P];J===-1?((q&c)===0||(q&m)!==0)&&(y[P]=El(q,o)):J<=o&&(a.expiredLanes|=q),w&=~q}if(o=$t,c=st,c=Vr(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(Ct===2||Ct===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Qe(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ir(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&Qe(m),Ie(c)){case 2:case 8:c=xt;break;case 32:c=ir;break;case 268435456:c=va;break;default:c=ir}return m=Xj.bind(null,a),c=Vt(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&Qe(m),a.callbackPriority=2,a.callbackNode=null,2}function Xj(a,o){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Rp()&&a.callbackNode!==c)return null;var m=st;return m=Vr(a,a===$t?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Pj(a,m,o),Wj(a,Dn()),a.callbackNode!=null&&a.callbackNode===c?Xj.bind(null,a):null)}function Qj(a,o){if(Rp())return null;Pj(a,o,!0)}function VV(){QV(function(){(_t&6)!==0?Vt(as,zV):Gj()})}function Wb(){if(Lo===0){var a=eu;a===0&&(a=Pr,Pr<<=1,(Pr&261888)===0&&(Pr=256)),Lo=a}return Lo}function Jj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Vc(""+a)}function Zj(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function $V(a,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var w=Jj((y[jt]||null).action),P=m.submitter;P&&(o=(o=P[jt]||null)?Jj(o.formAction):P.getAttribute("formAction"),o!==null&&(w=o,P=null));var q=new ja("action","action",null,m,y);a.push({event:q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Lo!==0){var J=P?Zj(y,P):new FormData(y);pb(c,{pending:!0,data:J,method:y.method,action:w},null,J)}}else typeof w=="function"&&(q.preventDefault(),J=P?Zj(y,P):new FormData(y),pb(c,{pending:!0,data:J,method:y.method,action:w},w,J))},currentTarget:y}]})}}for(var Xb=0;Xb<Iy.length;Xb++){var Qb=Iy[Xb],UV=Qb.toLowerCase(),BV=Qb[0].toUpperCase()+Qb.slice(1);Zi(UV,"on"+BV)}Zi(OT,"onAnimationEnd"),Zi(PT,"onAnimationIteration"),Zi(IT,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(iV,"onTransitionRun"),Zi(aV,"onTransitionStart"),Zi(sV,"onTransitionCancel"),Zi(RT,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sf));function eN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var P=m.length-1;0<=P;P--){var q=m[P],J=q.instance,ue=q.currentTarget;if(q=q.listener,J!==w&&y.isPropagationStopped())break e;w=q,y.currentTarget=ue;try{w(y)}catch(be){Xm(be)}y.currentTarget=null,w=J}else for(P=0;P<m.length;P++){if(q=m[P],J=q.instance,ue=q.currentTarget,q=q.listener,J!==w&&y.isPropagationStopped())break e;w=q,y.currentTarget=ue;try{w(y)}catch(be){Xm(be)}y.currentTarget=null,w=J}}}}function at(a,o){var c=o[fo];c===void 0&&(c=o[fo]=new Set);var m=a+"__bubble";c.has(m)||(tN(o,a,2,!1),c.add(m))}function Jb(a,o,c){var m=0;o&&(m|=4),tN(c,a,m,o)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function Zb(a){if(!a[Dp]){a[Dp]=!0,kd.forEach(function(c){c!=="selectionchange"&&(qV.has(c)||Jb(c,!1,a),Jb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Dp]||(o[Dp]=!0,Jb("selectionchange",!1,o))}}function tN(a,o,c,m){switch(ON(o)){case 2:var y=v8;break;case 8:y=y8;break;default:y=mx}c=y.bind(null,o,c,a),y=void 0,!Cl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function ex(a,o,c,m,y){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var q=m.stateNode.containerInfo;if(q===y)break;if(P===4)for(P=m.return;P!==null;){var J=P.tag;if((J===3||J===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;q!==null;){if(P=xa(q),P===null)return;if(J=P.tag,J===5||J===6||J===26||J===27){m=w=P;continue e}q=q.parentNode}}m=m.return}yo(function(){var ue=w,be=Ei(c),_e=[];e:{var de=kT.get(a);if(de!==void 0){var ye=ja,$e=a;switch(a){case"keypress":if(Pl(c)===0)break e;case"keydown":case"keyup":ye=Ym;break;case"focusin":$e="focus",ye=Rl;break;case"focusout":$e="blur",ye=Rl;break;case"beforeblur":case"afterblur":ye=Rl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=T;break;case OT:case PT:case IT:ye=$m;break;case RT:ye=F;break;case"scroll":case"scrollend":ye=Kd;break;case"wheel":ye=pe;break;case"copy":case"cut":case"paste":ye=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=us;break;case"toggle":case"beforetoggle":ye=Je}var Fe=(o&4)!==0,Dt=!Fe&&(a==="scroll"||a==="scrollend"),re=Fe?de!==null?de+"Capture":null:de;Fe=[];for(var te=ue,ce;te!==null;){var we=te;if(ce=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ce===null||re===null||(we=Wi(te,re),we!=null&&Fe.push(Ef(te,we,ce))),Dt)break;te=te.return}0<Fe.length&&(de=new ye(de,$e,null,c,be),_e.push({event:de,listeners:Fe}))}}if((o&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",ye=a==="mouseout"||a==="pointerout",de&&c!==qd&&($e=c.relatedTarget||c.fromElement)&&(xa($e)||$e[_i]))break e;if((ye||de)&&(de=be.window===be?be:(de=be.ownerDocument)?de.defaultView||de.parentWindow:window,ye?($e=c.relatedTarget||c.toElement,ye=ue,$e=$e?xa($e):null,$e!==null&&(Dt=s($e),Fe=$e.tag,$e!==Dt||Fe!==5&&Fe!==27&&Fe!==6)&&($e=null)):(ye=null,$e=ue),ye!==$e)){if(Fe=Yd,we="onMouseLeave",re="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(Fe=us,we="onPointerLeave",re="onPointerEnter",te="pointer"),Dt=ye==null?de:ii(ye),ce=$e==null?de:ii($e),de=new Fe(we,te+"leave",ye,c,be),de.target=Dt,de.relatedTarget=ce,we=null,xa(be)===ue&&(Fe=new Fe(re,te+"enter",$e,c,be),Fe.target=ce,Fe.relatedTarget=Dt,we=Fe),Dt=we,ye&&$e)t:{for(Fe=FV,re=ye,te=$e,ce=0,we=re;we;we=Fe(we))ce++;we=0;for(var Be=te;Be;Be=Fe(Be))we++;for(;0<ce-we;)re=Fe(re),ce--;for(;0<we-ce;)te=Fe(te),we--;for(;ce--;){if(re===te||te!==null&&re===te.alternate){Fe=re;break t}re=Fe(re),te=Fe(te)}Fe=null}else Fe=null;ye!==null&&nN(_e,de,ye,Fe,!1),$e!==null&&Dt!==null&&nN(_e,Dt,$e,Fe,!0)}}e:{if(de=ue?ii(ue):window,ye=de.nodeName&&de.nodeName.toLowerCase(),ye==="select"||ye==="input"&&de.type==="file")var pt=bT;else if(vT(de))if(xT)pt=tV;else{pt=Z9;var Ue=J9}else ye=de.nodeName,!ye||ye.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&zc(ue.elementType)&&(pt=bT):pt=eV;if(pt&&(pt=pt(a,ue))){yT(_e,pt,c,be);break e}Ue&&Ue(a,de,ue),a==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&$d(de,"number",de.value)}switch(Ue=ue?ii(ue):window,a){case"focusin":(vT(Ue)||Ue.contentEditable==="true")&&(Kc=Ue,Cy=ue,Jd=null);break;case"focusout":Jd=Cy=Kc=null;break;case"mousedown":Oy=!0;break;case"contextmenu":case"mouseup":case"dragend":Oy=!1,NT(_e,c,be);break;case"selectionchange":if(rV)break;case"keydown":case"keyup":NT(_e,c,be)}var et;if(wt)e:{switch(a){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Hc?kl(a,c)&&(ot="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(ot="onCompositionStart");ot&&(Oa&&c.locale!=="ko"&&(Hc||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Hc&&(et=Hd()):(Ta=be,Fd="value"in Ta?Ta.value:Ta.textContent,Hc=!0)),Ue=Lp(ue,ot),0<Ue.length&&(ot=new Ca(ot,a,null,c,be),_e.push({event:ot,listeners:Ue}),et?ot.data=et:(et=Fc(c),et!==null&&(ot.data=et)))),(et=Ti?G9(a,c):W9(a,c))&&(ot=Lp(ue,"onBeforeInput"),0<ot.length&&(Ue=new Ca("onBeforeInput","beforeinput",null,c,be),_e.push({event:Ue,listeners:ot}),Ue.data=et)),$V(_e,a,ue,c,be)}eN(_e,o)})}function Ef(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Lp(a,o){for(var c=o+"Capture",m=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Wi(a,c),y!=null&&m.unshift(Ef(a,y,w)),y=Wi(a,o),y!=null&&m.push(Ef(a,y,w))),a.tag===3)return m;a=a.return}return[]}function FV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nN(a,o,c,m,y){for(var w=o._reactName,P=[];c!==null&&c!==m;){var q=c,J=q.alternate,ue=q.stateNode;if(q=q.tag,J!==null&&J===m)break;q!==5&&q!==26&&q!==27||ue===null||(J=ue,y?(ue=Wi(c,w),ue!=null&&P.unshift(Ef(c,ue,J))):y||(ue=Wi(c,w),ue!=null&&P.push(Ef(c,ue,J)))),c=c.return}P.length!==0&&a.push({event:o,listeners:P})}var HV=/\r\n?/g,KV=/\u0000|\uFFFD/g;function rN(a){return(typeof a=="string"?a:""+a).replace(HV,`
`).replace(KV,"")}function iN(a,o){return o=rN(o),rN(a)===o}function Mt(a,o,c,m,y,w){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Br(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Br(a,""+m);break;case"className":ai(a,"class",m);break;case"tabIndex":ai(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(a,c,m);break;case"style":Bd(a,m,w);break;case"data":if(o!=="object"){ai(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Vc(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&Mt(a,o,"name",y.name,y,null),Mt(a,o,"formEncType",y.formEncType,y,null),Mt(a,o,"formMethod",y.formMethod,y,null),Mt(a,o,"formTarget",y.formTarget,y,null)):(Mt(a,o,"encType",y.encType,y,null),Mt(a,o,"method",y.method,y,null),Mt(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Vc(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Gi);break;case"onScroll":m!=null&&at("scroll",a);break;case"onScrollEnd":m!=null&&at("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Vc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":at("beforetoggle",a),at("toggle",a),Dc(a,"popover",m);break;case"xlinkActuate":An(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":An(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":An(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":An(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":An(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":An(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":An(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":An(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":An(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Dc(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Lm.get(c)||c,Dc(a,c,m))}}function tx(a,o,c,m,y,w){switch(c){case"style":Bd(a,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?Br(a,m):(typeof m=="number"||typeof m=="bigint")&&Br(a,""+m);break;case"onScroll":m!=null&&at("scroll",a);break;case"onScrollEnd":m!=null&&at("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Md.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),w=a[jt]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(o,w,y),typeof m=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Dc(a,c,m)}}}function dr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",a),at("load",a);var m=!1,y=!1,w;for(w in c)if(c.hasOwnProperty(w)){var P=c[w];if(P!=null)switch(w){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(a,o,w,P,c,null)}}y&&Mt(a,o,"srcSet",c.srcSet,c,null),m&&Mt(a,o,"src",c.src,c,null);return;case"input":at("invalid",a);var q=w=P=y=null,J=null,ue=null;for(m in c)if(c.hasOwnProperty(m)){var be=c[m];if(be!=null)switch(m){case"name":y=be;break;case"type":P=be;break;case"checked":J=be;break;case"defaultChecked":ue=be;break;case"value":w=be;break;case"defaultValue":q=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,o));break;default:Mt(a,o,m,be,c,null)}}km(a,w,q,J,ue,P,y,!1);return;case"select":at("invalid",a),m=P=w=null;for(y in c)if(c.hasOwnProperty(y)&&(q=c[y],q!=null))switch(y){case"value":w=q;break;case"defaultValue":P=q;break;case"multiple":m=q;default:Mt(a,o,y,q,c,null)}o=w,c=P,a.multiple=!!m,o!=null?mo(a,!!m,o,!1):c!=null&&mo(a,!!m,c,!0);return;case"textarea":at("invalid",a),w=y=m=null;for(P in c)if(c.hasOwnProperty(P)&&(q=c[P],q!=null))switch(P){case"value":m=q;break;case"defaultValue":y=q;break;case"children":w=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Mt(a,o,P,q,c,null)}po(a,m,y,w);return;case"option":for(J in c)c.hasOwnProperty(J)&&(m=c[J],m!=null)&&(J==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Mt(a,o,J,m,c,null));return;case"dialog":at("beforetoggle",a),at("toggle",a),at("cancel",a),at("close",a);break;case"iframe":case"object":at("load",a);break;case"video":case"audio":for(m=0;m<Sf.length;m++)at(Sf[m],a);break;case"image":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"embed":case"source":case"link":at("error",a),at("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(m=c[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(a,o,ue,m,c,null)}return;default:if(zc(o)){for(be in c)c.hasOwnProperty(be)&&(m=c[be],m!==void 0&&tx(a,o,be,m,c,void 0));return}}for(q in c)c.hasOwnProperty(q)&&(m=c[q],m!=null&&Mt(a,o,q,m,c,null))}function YV(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,P=null,q=null,J=null,ue=null,be=null;for(ye in c){var _e=c[ye];if(c.hasOwnProperty(ye)&&_e!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":J=_e;default:m.hasOwnProperty(ye)||Mt(a,o,ye,null,m,_e)}}for(var de in m){var ye=m[de];if(_e=c[de],m.hasOwnProperty(de)&&(ye!=null||_e!=null))switch(de){case"type":w=ye;break;case"name":y=ye;break;case"checked":ue=ye;break;case"defaultChecked":be=ye;break;case"value":P=ye;break;case"defaultValue":q=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:ye!==_e&&Mt(a,o,de,ye,m,_e)}}Lc(a,P,q,J,ue,be,w,y);return;case"select":ye=P=q=de=null;for(w in c)if(J=c[w],c.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":ye=J;default:m.hasOwnProperty(w)||Mt(a,o,w,null,m,J)}for(y in m)if(w=m[y],J=c[y],m.hasOwnProperty(y)&&(w!=null||J!=null))switch(y){case"value":de=w;break;case"defaultValue":q=w;break;case"multiple":P=w;default:w!==J&&Mt(a,o,y,w,m,J)}o=q,c=P,m=ye,de!=null?mo(a,!!c,de,!1):!!m!=!!c&&(o!=null?mo(a,!!c,o,!0):mo(a,!!c,c?[]:"",!1));return;case"textarea":ye=de=null;for(q in c)if(y=c[q],c.hasOwnProperty(q)&&y!=null&&!m.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Mt(a,o,q,null,m,y)}for(P in m)if(y=m[P],w=c[P],m.hasOwnProperty(P)&&(y!=null||w!=null))switch(P){case"value":de=y;break;case"defaultValue":ye=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&Mt(a,o,P,y,m,w)}Mm(a,de,ye);return;case"option":for(var $e in c)de=c[$e],c.hasOwnProperty($e)&&de!=null&&!m.hasOwnProperty($e)&&($e==="selected"?a.selected=!1:Mt(a,o,$e,null,m,de));for(J in m)de=m[J],ye=c[J],m.hasOwnProperty(J)&&de!==ye&&(de!=null||ye!=null)&&(J==="selected"?a.selected=de&&typeof de!="function"&&typeof de!="symbol":Mt(a,o,J,de,m,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in c)de=c[Fe],c.hasOwnProperty(Fe)&&de!=null&&!m.hasOwnProperty(Fe)&&Mt(a,o,Fe,null,m,de);for(ue in m)if(de=m[ue],ye=c[ue],m.hasOwnProperty(ue)&&de!==ye&&(de!=null||ye!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Mt(a,o,ue,de,m,ye)}return;default:if(zc(o)){for(var Dt in c)de=c[Dt],c.hasOwnProperty(Dt)&&de!==void 0&&!m.hasOwnProperty(Dt)&&tx(a,o,Dt,void 0,m,de);for(be in m)de=m[be],ye=c[be],!m.hasOwnProperty(be)||de===ye||de===void 0&&ye===void 0||tx(a,o,be,de,m,ye);return}}for(var re in c)de=c[re],c.hasOwnProperty(re)&&de!=null&&!m.hasOwnProperty(re)&&Mt(a,o,re,null,m,de);for(_e in m)de=m[_e],ye=c[_e],!m.hasOwnProperty(_e)||de===ye||de==null&&ye==null||Mt(a,o,_e,de,m,ye)}function aN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],w=y.transferSize,P=y.initiatorType,q=y.duration;if(w&&q&&aN(P)){for(P=0,q=y.responseEnd,m+=1;m<c.length;m++){var J=c[m],ue=J.startTime;if(ue>q)break;var be=J.transferSize,_e=J.initiatorType;be&&aN(_e)&&(J=J.responseEnd,P+=be*(J<q?1:(q-ue)/(J-ue)))}if(--m,o+=8*(w+P)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var nx=null,rx=null;function zp(a){return a.nodeType===9?a:a.ownerDocument}function sN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function ix(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ax=null;function WV(){var a=window.event;return a&&a.type==="popstate"?a===ax?!1:(ax=a,!0):(ax=null,!1)}var lN=typeof setTimeout=="function"?setTimeout:void 0,XV=typeof clearTimeout=="function"?clearTimeout:void 0,cN=typeof Promise=="function"?Promise:void 0,QV=typeof queueMicrotask=="function"?queueMicrotask:typeof cN<"u"?function(a){return cN.resolve(null).then(a).catch(JV)}:lN;function JV(a){setTimeout(function(){throw a})}function zo(a){return a==="head"}function uN(a,o){var c=o,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),bu(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Af(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Af(c);for(var w=c.firstChild;w;){var P=w.nextSibling,q=w.nodeName;w[mn]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=P}}else c==="body"&&Af(a.ownerDocument.body);c=y}while(c);bu(o)}function dN(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function sx(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":sx(c),Yi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function ZV(a,o,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[mn])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Ri(a.nextSibling),a===null)break}return null}function e8(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ri(a.nextSibling),a===null))return null;return a}function fN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ri(a.nextSibling),a===null))return null;return a}function ox(a){return a.data==="$?"||a.data==="$~"}function lx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function t8(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ri(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var cx=null;function hN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Ri(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function mN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function pN(a,o,c){switch(o=zp(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Af(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Yi(a)}var ki=new Map,gN=new Set;function Vp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var As=ee.d;ee.d={f:n8,r:r8,D:i8,C:a8,L:s8,m:o8,X:c8,S:l8,M:u8};function n8(){var a=As.f(),o=Op();return a||o}function r8(a){var o=Si(a);o!==null&&o.tag===5&&o.type==="form"?R2(o):As.r(a)}var gu=typeof document>"u"?null:document;function vN(a,o,c){var m=gu;if(m&&typeof o=="string"&&o){var y=Ur(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),gN.has(y)||(gN.add(y),a={rel:a,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),dr(o,"link",a),En(o),m.head.appendChild(o)))}}function i8(a){As.D(a),vN("dns-prefetch",a,null)}function a8(a,o){As.C(a,o),vN("preconnect",a,o)}function s8(a,o,c){As.L(a,o,c);var m=gu;if(m&&a&&o){var y='link[rel="preload"][as="'+Ur(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Ur(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Ur(c.imageSizes)+'"]')):y+='[href="'+Ur(a)+'"]';var w=y;switch(o){case"style":w=vu(a);break;case"script":w=yu(a)}ki.has(w)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),ki.set(w,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(Tf(w))||o==="script"&&m.querySelector(jf(w))||(o=m.createElement("link"),dr(o,"link",a),En(o),m.head.appendChild(o)))}}function o8(a,o){As.m(a,o);var c=gu;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Ur(m)+'"][href="'+Ur(a)+'"]',w=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=yu(a)}if(!ki.has(w)&&(a=g({rel:"modulepreload",href:a},o),ki.set(w,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(jf(w)))return}m=c.createElement("link"),dr(m,"link",a),En(m),c.head.appendChild(m)}}}function l8(a,o,c){As.S(a,o,c);var m=gu;if(m&&a){var y=wa(m).hoistableStyles,w=vu(a);o=o||"default";var P=y.get(w);if(!P){var q={loading:0,preload:null};if(P=m.querySelector(Tf(w)))q.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=ki.get(w))&&ux(a,c);var J=P=m.createElement("link");En(J),dr(J,"link",a),J._p=new Promise(function(ue,be){J.onload=ue,J.onerror=be}),J.addEventListener("load",function(){q.loading|=1}),J.addEventListener("error",function(){q.loading|=2}),q.loading|=4,$p(P,o,m)}P={type:"stylesheet",instance:P,count:1,state:q},y.set(w,P)}}}function c8(a,o){As.X(a,o);var c=gu;if(c&&a){var m=wa(c).hoistableScripts,y=yu(a),w=m.get(y);w||(w=c.querySelector(jf(y)),w||(a=g({src:a,async:!0},o),(o=ki.get(y))&&dx(a,o),w=c.createElement("script"),En(w),dr(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function u8(a,o){As.M(a,o);var c=gu;if(c&&a){var m=wa(c).hoistableScripts,y=yu(a),w=m.get(y);w||(w=c.querySelector(jf(y)),w||(a=g({src:a,async:!0,type:"module"},o),(o=ki.get(y))&&dx(a,o),w=c.createElement("script"),En(w),dr(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(y,w))}}function yN(a,o,c,m){var y=(y=ge.current)?Vp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=vu(c.href),c=wa(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=vu(c.href);var w=wa(y).hoistableStyles,P=w.get(a);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,P),(w=y.querySelector(Tf(a)))&&!w._p&&(P.instance=w,P.state.loading=5),ki.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ki.set(a,c),w||d8(y,a,c,P.state))),o&&m===null)throw Error(r(528,""));return P}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=yu(c),c=wa(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function vu(a){return'href="'+Ur(a)+'"'}function Tf(a){return'link[rel="stylesheet"]['+a+"]"}function bN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function d8(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),dr(o,"link",c),En(o),a.head.appendChild(o))}function yu(a){return'[src="'+Ur(a)+'"]'}function jf(a){return"script[async]"+a}function xN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Ur(c.href)+'"]');if(m)return o.instance=m,En(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),En(m),dr(m,"style",y),$p(m,c.precedence,a),o.instance=m;case"stylesheet":y=vu(c.href);var w=a.querySelector(Tf(y));if(w)return o.state.loading|=4,o.instance=w,En(w),w;m=bN(c),(y=ki.get(y))&&ux(m,y),w=(a.ownerDocument||a).createElement("link"),En(w);var P=w;return P._p=new Promise(function(q,J){P.onload=q,P.onerror=J}),dr(w,"link",m),o.state.loading|=4,$p(w,c.precedence,a),o.instance=w;case"script":return w=yu(c.src),(y=a.querySelector(jf(w)))?(o.instance=y,En(y),y):(m=c,(y=ki.get(w))&&(m=g({},c),dx(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),En(y),dr(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,$p(m,c.precedence,a));return o.instance}function $p(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,w=y,P=0;P<m.length;P++){var q=m[P];if(q.dataset.precedence===o)w=q;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function ux(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function dx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Up=null;function wN(a,o,c){if(Up===null){var m=new Map,y=Up=new Map;y.set(c,m)}else y=Up,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var w=c[y];if(!(w[mn]||w[rn]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var P=w.getAttribute(o)||"";P=a+P;var q=m.get(P);q?q.push(w):m.set(P,[w])}}return m}function _N(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function f8(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function SN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function h8(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=vu(m.href),w=o.querySelector(Tf(y));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Bp.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=w,En(w);return}w=o.ownerDocument||o,m=bN(m),(y=ki.get(y))&&ux(m,y),w=w.createElement("link"),En(w);var P=w;P._p=new Promise(function(q,J){P.onload=q,P.onerror=J}),dr(w,"link",m),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Bp.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var fx=0;function m8(a,o){return a.stylesheets&&a.count===0&&Fp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Fp(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&fx===0&&(fx=62500*GV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Fp(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>fx?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Bp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var qp=null;function Fp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,qp=new Map,o.forEach(p8,a),qp=null,Bp.call(a))}function p8(a,o){if(!(o.state.loading&4)){var c=qp.get(a);if(c)var m=c.get(null);else{c=new Map,qp.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var P=y[w];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(c.set(P.dataset.precedence,P),m=P)}m&&c.set(null,m)}y=o.instance,P=y.getAttribute("data-precedence"),w=c.get(P)||m,w===m&&c.set(null,y),c.set(P,y),this.count++,m=Bp.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Nf={$$typeof:D,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function g8(a,o,c,m,y,w,P,q,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function EN(a,o,c,m,y,w,P,q,J,ue,be,_e){return a=new g8(a,o,c,P,J,ue,be,_e,q),o=1,w===!0&&(o|=24),w=oi(3,null,null,o),a.current=w,w.stateNode=a,o=Hy(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:c,cache:o},Wy(w),a}function AN(a){return a?(a=Wc,a):Wc}function TN(a,o,c,m,y,w){y=AN(y),m.context===null?m.context=y:m.pendingContext=y,m=jo(o),m.payload={element:c},w=w===void 0?null:w,w!==null&&(m.callback=w),c=No(a,m,o),c!==null&&(Yr(c,a,o),sf(c,a,o))}function jN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function hx(a,o){jN(a,o),(a=a.alternate)&&jN(a,o)}function NN(a){if(a.tag===13||a.tag===31){var o=Ll(a,67108864);o!==null&&Yr(o,a,67108864),hx(a,67108864)}}function CN(a){if(a.tag===13||a.tag===31){var o=fi();o=Te(o);var c=Ll(a,o);c!==null&&Yr(c,a,o),hx(a,o)}}var Hp=!0;function v8(a,o,c,m){var y=K.T;K.T=null;var w=ee.p;try{ee.p=2,mx(a,o,c,m)}finally{ee.p=w,K.T=y}}function y8(a,o,c,m){var y=K.T;K.T=null;var w=ee.p;try{ee.p=8,mx(a,o,c,m)}finally{ee.p=w,K.T=y}}function mx(a,o,c,m){if(Hp){var y=px(m);if(y===null)ex(a,o,m,Kp,c),PN(a,m);else if(x8(y,a,o,c,m))m.stopPropagation();else if(PN(a,m),o&4&&-1<b8.indexOf(a)){for(;y!==null;){var w=Si(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var P=wr(w.pendingLanes);if(P!==0){var q=w;for(q.pendingLanes|=2,q.entangledLanes|=2;P;){var J=1<<31-Kt(P);q.entanglements[1]|=J,P&=~J}ka(w),(_t&6)===0&&(Np=Dn()+500,_f(0))}}break;case 31:case 13:q=Ll(w,2),q!==null&&Yr(q,w,2),Op(),hx(w,2)}if(w=px(m),w===null&&ex(a,o,m,Kp,c),w===y)break;y=w}y!==null&&m.stopPropagation()}else ex(a,o,m,null,c)}}function px(a){return a=Ei(a),gx(a)}var Kp=null;function gx(a){if(Kp=null,a=xa(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Kp=a,null}function ON(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case as:return 2;case xt:return 8;case ir:case ga:return 32;case va:return 268435456;default:return 32}default:return 32}}var vx=!1,Vo=null,$o=null,Uo=null,Cf=new Map,Of=new Map,Bo=[],b8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PN(a,o){switch(a){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Cf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(o.pointerId)}}function Pf(a,o,c,m,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Si(o),o!==null&&NN(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function x8(a,o,c,m,y){switch(o){case"focusin":return Vo=Pf(Vo,a,o,c,m,y),!0;case"dragenter":return $o=Pf($o,a,o,c,m,y),!0;case"mouseover":return Uo=Pf(Uo,a,o,c,m,y),!0;case"pointerover":var w=y.pointerId;return Cf.set(w,Pf(Cf.get(w)||null,a,o,c,m,y)),!0;case"gotpointercapture":return w=y.pointerId,Of.set(w,Pf(Of.get(w)||null,a,o,c,m,y)),!0}return!1}function IN(a){var o=xa(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,mt(a.priority,function(){CN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,mt(a.priority,function(){CN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Yp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=px(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);qd=m,c.target.dispatchEvent(m),qd=null}else return o=Si(c),o!==null&&NN(o),a.blockedOn=c,!1;o.shift()}return!0}function RN(a,o,c){Yp(a)&&c.delete(o)}function w8(){vx=!1,Vo!==null&&Yp(Vo)&&(Vo=null),$o!==null&&Yp($o)&&($o=null),Uo!==null&&Yp(Uo)&&(Uo=null),Cf.forEach(RN),Of.forEach(RN)}function Gp(a,o){a.blockedOn===o&&(a.blockedOn=null,vx||(vx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,w8)))}var Wp=null;function kN(a){Wp!==a&&(Wp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wp===a&&(Wp=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(gx(m||c)===null)continue;break}var w=Si(c);w!==null&&(a.splice(o,3),o-=3,pb(w,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function bu(a){function o(J){return Gp(J,a)}Vo!==null&&Gp(Vo,a),$o!==null&&Gp($o,a),Uo!==null&&Gp(Uo,a),Cf.forEach(o),Of.forEach(o);for(var c=0;c<Bo.length;c++){var m=Bo[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Bo.length&&(c=Bo[0],c.blockedOn===null);)IN(c),c.blockedOn===null&&Bo.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],w=c[m+1],P=y[jt]||null;if(typeof w=="function")P||kN(c);else if(P){var q=null;if(w&&w.hasAttribute("formAction")){if(y=w,P=w[jt]||null)q=P.formAction;else if(gx(y)!==null)continue}else q=P.action;typeof q=="function"?c[m+1]=q:(c.splice(m,3),m-=3),kN(c)}}}function MN(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(P){return y=P})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function yx(a){this._internalRoot=a}Xp.prototype.render=yx.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=fi();TN(c,m,a,o,null,null)},Xp.prototype.unmount=yx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;TN(a.current,2,null,a,null,null),Op(),o[_i]=null}};function Xp(a){this._internalRoot=a}Xp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Xe();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Bo.length&&o!==0&&o<Bo[c].priority;c++);Bo.splice(c,0,a),c===0&&IN(a)}};var DN=e.version;if(DN!=="19.2.3")throw Error(r(527,DN,"19.2.3"));ee.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var _8={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ar=Qp.inject(_8),cn=Qp}catch{}}return Rf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",y=q2,w=F2,P=H2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError)),o=EN(a,1,!1,null,null,c,m,null,y,w,P,MN),a[_i]=o.current,Zb(a),new yx(o)},Rf.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,y="",w=q2,P=F2,q=H2,J=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(q=c.onRecoverableError),c.formState!==void 0&&(J=c.formState)),o=EN(a,1,!0,o,c??null,m,y,J,w,P,q,MN),o.context=AN(null),c=o.current,m=fi(),m=Te(m),y=jo(m),y.callback=null,No(c,y,m),c=m,o.current.lanes=c,Ki(o,c),ka(o),a[_i]=o.current,Zb(a),new Xp(o)},Rf.version="19.2.3",Rf}var KN;function R8(){if(KN)return wx.exports;KN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wx.exports=I8(),wx.exports}var k8=R8();const M8=()=>{};var YN={};const BM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},qM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|h>>6,_=h&63;f||(_=64,l||(b=64)),r.push(n[p],n[g],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new L8;const b=s<<2|u>>4;if(r.push(b),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z8=function(t){const e=BM(t);return qM.encodeByteArray(e,!0)},Vg=function(t){return z8(t).replace(/\./g,"")},FM=function(t){try{return qM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $8=()=>V8().__FIREBASE_DEFAULTS__,U8=()=>{if(typeof process>"u"||typeof YN>"u")return;const t=YN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FM(t[1]);return e&&JSON.parse(e)},l0=()=>{try{return M8()||$8()||U8()||B8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HM=t=>l0()?.emulatorHosts?.[t],q8=t=>{const e=HM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KM=()=>l0()?.config,YM=t=>l0()?.[`_${t}`];class F8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function od(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GM(t){return(await fetch(t,{credentials:"include"})).ok}function H8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vg(JSON.stringify(n)),Vg(JSON.stringify(l)),""].join(".")}const Qf={};function K8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qf))Qf[e]?t.emulator.push(e):t.prod.push(e);return t}function Y8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let GN=!1;function WM(t,e){if(typeof window>"u"||typeof document>"u"||!od(window.location.host)||Qf[t]===e||Qf[t]||GN)return;Qf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=K8().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{GN=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=Y8(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),A=n("learnmore"),E=document.getElementById(A)||document.createElement("a"),C=n("preprendIcon"),$=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const D=b.element;u(D),p(E,A);const U=h();f($,C),D.append($,S,E,U),document.body.appendChild(D)}s?(S.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function W8(){const t=l0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z8(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function e$(){return!W8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t$(){try{return typeof indexedDB=="object"}catch{return!1}}function n$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const r$="FirebaseError";class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r$,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uh.prototype.create)}}class Uh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?i$(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new eo(i,u,r)}}function i$(t,e){return t.replace(a$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a$=/\{\$([^}]+)}/g;function s$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(WN(s)&&WN(l)){if(!mc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function WN(t){return t!==null&&typeof t=="object"}function Bh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function o$(t,e){const n=new l$(t,e);return n.subscribe.bind(n)}class l${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ax),i.error===void 0&&(i.error=Ax),i.complete===void 0&&(i.complete=Ax);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ax(){}function Un(t){return t&&t._delegate?t._delegate:t}class pc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ql="[DEFAULT]";let u$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f$(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function d$(t){return t===Ql?void 0:t}function f$(t){return t.instantiationMode==="EAGER"}class h${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const m$={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},p$=lt.INFO,g$={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},v$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=g$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iS{constructor(e){this.name=e,this._logLevel=p$,this._logHandler=v$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const y$=(t,e)=>e.some(n=>t instanceof n);let XN,QN;function b$(){return XN||(XN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x$(){return QN||(QN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XM=new WeakMap,jw=new WeakMap,QM=new WeakMap,Tx=new WeakMap,aS=new WeakMap;function w$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(el(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&XM.set(n,t)}).catch(()=>{}),aS.set(e,t),e}function _$(t){if(jw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});jw.set(t,e)}let Nw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return el(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S$(t){Nw=t(Nw)}function E$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jx(this),e,...n);return QM.set(r,e.sort?e.sort():[e]),el(r)}:x$().includes(t)?function(...e){return t.apply(jx(this),e),el(XM.get(this))}:function(...e){return el(t.apply(jx(this),e))}}function A$(t){return typeof t=="function"?E$(t):(t instanceof IDBTransaction&&_$(t),y$(t,b$())?new Proxy(t,Nw):t)}function el(t){if(t instanceof IDBRequest)return w$(t);if(Tx.has(t))return Tx.get(t);const e=A$(t);return e!==t&&(Tx.set(t,e),aS.set(e,t)),e}const jx=t=>aS.get(t);function T$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=el(l);return r&&l.addEventListener("upgradeneeded",f=>{r(el(l.result),f.oldVersion,f.newVersion,el(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const j$=["get","getKey","getAll","getAllKeys","count"],N$=["put","add","delete","clear"],Nx=new Map;function JN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nx.get(e))return Nx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=N$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j$.includes(n)))return;const s=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return Nx.set(e,s),s}S$(t=>({...t,get:(e,n,r)=>JN(e,n)||t.get(e,n,r),has:(e,n)=>!!JN(e,n)||t.has(e,n)}));class C${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O$(t){return t.getComponent()?.type==="VERSION"}const Cw="@firebase/app",ZN="0.14.6";const zs=new iS("@firebase/app"),P$="@firebase/app-compat",I$="@firebase/analytics-compat",R$="@firebase/analytics",k$="@firebase/app-check-compat",M$="@firebase/app-check",D$="@firebase/auth",L$="@firebase/auth-compat",z$="@firebase/database",V$="@firebase/data-connect",$$="@firebase/database-compat",U$="@firebase/functions",B$="@firebase/functions-compat",q$="@firebase/installations",F$="@firebase/installations-compat",H$="@firebase/messaging",K$="@firebase/messaging-compat",Y$="@firebase/performance",G$="@firebase/performance-compat",W$="@firebase/remote-config",X$="@firebase/remote-config-compat",Q$="@firebase/storage",J$="@firebase/storage-compat",Z$="@firebase/firestore",eU="@firebase/ai",tU="@firebase/firestore-compat",nU="firebase",rU="12.6.0";const Ow="[DEFAULT]",iU={[Cw]:"fire-core",[P$]:"fire-core-compat",[R$]:"fire-analytics",[I$]:"fire-analytics-compat",[M$]:"fire-app-check",[k$]:"fire-app-check-compat",[D$]:"fire-auth",[L$]:"fire-auth-compat",[z$]:"fire-rtdb",[V$]:"fire-data-connect",[$$]:"fire-rtdb-compat",[U$]:"fire-fn",[B$]:"fire-fn-compat",[q$]:"fire-iid",[F$]:"fire-iid-compat",[H$]:"fire-fcm",[K$]:"fire-fcm-compat",[Y$]:"fire-perf",[G$]:"fire-perf-compat",[W$]:"fire-rc",[X$]:"fire-rc-compat",[Q$]:"fire-gcs",[J$]:"fire-gcs-compat",[Z$]:"fire-fst",[tU]:"fire-fst-compat",[eU]:"fire-vertex","fire-js":"fire-js",[nU]:"fire-js-all"};const $g=new Map,aU=new Map,Pw=new Map;function eC(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bu(t){const e=t.name;if(Pw.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;Pw.set(e,t);for(const n of $g.values())eC(n,t);for(const n of aU.values())eC(n,t);return!0}function sS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vi(t){return t==null?!1:t.settings!==void 0}const sU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new Uh("app","Firebase",sU);class oU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}const ld=rU;function JM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ow,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(n||(n=KM()),!n)throw tl.create("no-options");const s=$g.get(i);if(s){if(mc(n,s.options)&&mc(r,s.config))return s;throw tl.create("duplicate-app",{appName:i})}const l=new h$(i);for(const f of Pw.values())l.addComponent(f);const u=new oU(n,r,l);return $g.set(i,u),u}function ZM(t=Ow){const e=$g.get(t);if(!e&&t===Ow&&KM())return JM();if(!e)throw tl.create("no-app",{appName:t});return e}function nl(t,e,n){let r=iU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(l.join(" "));return}Bu(new pc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const lU="firebase-heartbeat-database",cU=1,sh="firebase-heartbeat-store";let Cx=null;function eD(){return Cx||(Cx=T$(lU,cU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),Cx}async function uU(t){try{const n=(await eD()).transaction(sh),r=await n.objectStore(sh).get(tD(t));return await n.done,r}catch(e){if(e instanceof eo)zs.warn(e.message);else{const n=tl.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function tC(t,e){try{const r=(await eD()).transaction(sh,"readwrite");await r.objectStore(sh).put(e,tD(t)),await r.done}catch(n){if(n instanceof eo)zs.warn(n.message);else{const r=tl.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}}function tD(t){return`${t.name}!${t.options.appId}`}const dU=1024,fU=30;class hU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>fU){const i=gU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nC(),{heartbeatsToSend:n,unsentEntries:r}=mU(this._heartbeatsCache.heartbeats),i=Vg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zs.warn(e),""}}}function nC(){return new Date().toISOString().substring(0,10)}function mU(t,e=dU){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),rC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t$()?n$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rC(t){return Vg(JSON.stringify({version:2,heartbeats:t})).length}function gU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function vU(t){Bu(new pc("platform-logger",e=>new C$(e),"PRIVATE")),Bu(new pc("heartbeat",e=>new hU(e),"PRIVATE")),nl(Cw,ZN,t),nl(Cw,ZN,"esm2020"),nl("fire-js","")}vU("");var yU="firebase",bU="12.7.0";nl(yU,bU,"app");function nD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xU=nD,rD=new Uh("auth","Firebase",nD());const Ug=new iS("@firebase/auth");function wU(t,...e){Ug.logLevel<=lt.WARN&&Ug.warn(`Auth (${ld}): ${t}`,...e)}function _g(t,...e){Ug.logLevel<=lt.ERROR&&Ug.error(`Auth (${ld}): ${t}`,...e)}function Vs(t,...e){throw oS(t,...e)}function Ua(t,...e){return oS(t,...e)}function iD(t,e,n){const r={...xU(),[e]:n};return new Uh("auth","Firebase",r).create(e,{appName:t.name})}function ks(t){return iD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rD.create(t,...e)}function Ke(t,e,...n){if(!t)throw oS(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _g(e),new Error(e)}function $s(t,e){t||Ns(e)}function Iw(){return typeof self<"u"&&self.location?.href||""}function _U(){return iC()==="http:"||iC()==="https:"}function iC(){return typeof self<"u"&&self.location?.protocol||null}function SU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_U()||Q8()||"connection"in navigator)?navigator.onLine:!0}function EU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class qh{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=G8()||J8()}get(){return SU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lS(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jU=new qh(3e4,6e4);function Fh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cd(t,e,n,r,i={}){return sD(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Bh({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return X8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&od(t.emulatorConfig.host)&&(h.credentials="include"),aD.fetch()(await oD(t,t.config.apiHost,n,u),h)})}async function sD(t,e,n){t._canInitEmulator=!1;const r={...AU,...e};try{const i=new NU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Jp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Jp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Jp(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw iD(t,p,h);Vs(t,p)}}catch(i){if(i instanceof eo)throw i;Vs(t,"network-request-failed",{message:String(i)})}}async function cS(t,e,n,r,i={}){const s=await cd(t,e,n,r,i);return"mfaPendingCredential"in s&&Vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function oD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?lS(t.config,i):`${t.config.apiScheme}://${i}`;return TU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class NU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ua(this.auth,"network-request-failed")),jU.get())})}}function Jp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ua(t,e,r);return i.customData._tokenResponse=n,i}async function CU(t,e){return cd(t,"POST","/v1/accounts:delete",e)}async function Bg(t,e){return cd(t,"POST","/v1/accounts:lookup",e)}function Jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OU(t,e=!1){const n=Un(t),r=await n.getIdToken(e),i=uS(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Jf(Ox(i.auth_time)),issuedAtTime:Jf(Ox(i.iat)),expirationTime:Jf(Ox(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Ox(t){return Number(t)*1e3}function uS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _g("JWT malformed, contained fewer than 3 sections"),null;try{const i=FM(n);return i?JSON.parse(i):(_g("Failed to decode base64 JWT payload"),null)}catch(i){return _g("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aC(t){const e=uS(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&PU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class IU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jf(this.lastLoginAt),this.creationTime=Jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qg(t){const e=t.auth,n=await t.getIdToken(),r=await oh(t,Bg(e,{idToken:n}));Ke(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?lD(i.providerUserInfo):[],l=kU(t.providerData,s),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,h=u?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Rw(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function RU(t){const e=Un(t);await qg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function MU(t,e){const n=await sD(t,{},async()=>{const r=Bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await oD(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&od(t.emulatorConfig.host)&&(f.credentials="include"),aD.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DU(t,e){return cd(t,"POST","/v2/accounts:revokeToken",Fh(t,e))}class ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=aC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await MU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new ku;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ke(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ku,this.toJSON())}_performRefresh(){return Ns("not implemented")}}function Fo(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new IU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await oh(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OU(this,e)}reload(){return RU(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await oh(this,CU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:_,providerData:S,stsTokenManager:A}=n;Ke(g&&A,e,"internal-error");const E=ku.fromJSON(this.name,A);Ke(typeof g=="string",e,"internal-error"),Fo(r,e.name),Fo(i,e.name),Ke(typeof b=="boolean",e,"internal-error"),Ke(typeof _=="boolean",e,"internal-error"),Fo(s,e.name),Fo(l,e.name),Fo(u,e.name),Fo(f,e.name),Fo(h,e.name),Fo(p,e.name);const C=new oa({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:E,createdAt:h,lastLoginAt:p});return S&&Array.isArray(S)&&(C.providerData=S.map($=>({...$}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ku;i.updateFromServerResponse(n);const s=new oa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lD(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new ku;u.updateFromIdToken(r);const f=new oa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Rw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const sC=new Map;function Cs(t){$s(t instanceof Function,"Expected a class definition");let e=sC.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sC.set(t,e),e)}class cD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cD.type="NONE";const oC=cD;function Sg(t,e,n){return`firebase:${t}:${e}:${n}`}class Mu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bg(this.auth,{idToken:e}).catch(()=>{});return n?oa._fromGetAccountInfoResponse(this.auth,n,e):null}return oa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mu(Cs(oC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Cs(oC);const l=Sg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const b=await Bg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await oa._fromGetAccountInfoResponse(e,b,p)}else g=oa._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Mu(s,e,r):(s=f[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Mu(s,e,r))}}function lC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pD(e))return"Blackberry";if(gD(e))return"Webos";if(dD(e))return"Safari";if((e.includes("chrome/")||fD(e))&&!e.includes("edge/"))return"Chrome";if(mD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function uD(t=Or()){return/firefox\//i.test(t)}function dD(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fD(t=Or()){return/crios\//i.test(t)}function hD(t=Or()){return/iemobile/i.test(t)}function mD(t=Or()){return/android/i.test(t)}function pD(t=Or()){return/blackberry/i.test(t)}function gD(t=Or()){return/webos/i.test(t)}function dS(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LU(t=Or()){return dS(t)&&!!window.navigator?.standalone}function zU(){return Z8()&&document.documentMode===10}function vD(t=Or()){return dS(t)||mD(t)||gD(t)||pD(t)||/windows phone/i.test(t)||hD(t)}function yD(t,e=[]){let n;switch(t){case"Browser":n=lC(Or());break;case"Worker":n=`${lC(Or())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ld}/${r}`}class VU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const f=e(s);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $U(t,e={}){return cd(t,"GET","/v2/passwordPolicy",Fh(t,e))}const UU=6;class BU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class qU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cC(this),this.idTokenSubscription=new cC(this),this.beforeStateQueue=new VU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bg(this,{idToken:e}),r=await oa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vi(this.app))return Promise.reject(ks(this));const n=e?Un(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vi(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $U(this),n=new BU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Mu.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hh(t){return Un(t)}class cC{constructor(e){this.auth=e,this.observer=null,this.addObserver=o$(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FU(t){fS=t}function HU(t){return fS.loadJS(t)}function KU(){return fS.gapiScript}function YU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function GU(t,e){const n=sS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(mc(s,e??{}))return i;Vs(i,"already-initialized")}return n.initialize({options:e})}function WU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function XU(t,e,n){const r=Hh(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=bD(e),{host:l,port:u}=QU(e),f=u===null?"":`:${u}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(mc(h,r.config.emulator)&&mc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,od(l)?(GM(`${s}//${l}${f}`),WM("Auth",!0)):JU()}function bD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QU(t){const e=bD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uC(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:uC(l)}}}function uC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class xD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function Du(t,e){return cS(t,"POST","/v1/accounts:signInWithIdp",Fh(t,e))}const ZU="http://localhost";class gc extends xD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new gc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Du(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Du(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Du(e,n)}buildRequest(){const e={requestUri:ZU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bh(n)}return e}}class wD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Kh extends wD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yo extends Kh{constructor(){super("facebook.com")}static credential(e){return gc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yo.PROVIDER_ID="facebook.com";class Go extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gc._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.GOOGLE_SIGN_IN_METHOD="google.com";Go.PROVIDER_ID="google.com";class Wo extends Kh{constructor(){super("github.com")}static credential(e){return gc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wo.credential(e.oauthAccessToken)}catch{return null}}}Wo.GITHUB_SIGN_IN_METHOD="github.com";Wo.PROVIDER_ID="github.com";class Xo extends Kh{constructor(){super("twitter.com")}static credential(e,n){return gc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xo.credential(n,r)}catch{return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com";Xo.PROVIDER_ID="twitter.com";async function eB(t,e){return cS(t,"POST","/v1/accounts:signUp",Fh(t,e))}class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await oa._fromIdTokenResponse(e,r,i),l=dC(r);return new Us({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dC(r);return new Us({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function tB(t){if(Vi(t.app))return Promise.reject(ks(t));const e=Hh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Us({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await eB(e,{returnSecureToken:!0}),r=await Us._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class Fg extends eo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fg(e,n,r,i)}}function _D(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fg._fromErrorAndOperation(t,s,e,r):s})}async function nB(t,e,n=!1){const r=await oh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}async function rB(t,e,n=!1){const{auth:r}=t;if(Vi(r.app))return Promise.reject(ks(r));const i="reauthenticate";try{const s=await oh(t,_D(r,i,e,t),n);Ke(s.idToken,r,"internal-error");const l=uS(s.idToken);Ke(l,r,"internal-error");const{sub:u}=l;return Ke(t.uid===u,r,"user-mismatch"),Us._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Vs(r,"user-mismatch"),s}}async function iB(t,e,n=!1){if(Vi(t.app))return Promise.reject(ks(t));const r="signIn",i=await _D(t,r,e),s=await Us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aB(t,e){return cS(t,"POST","/v1/accounts:signInWithCustomToken",Fh(t,e))}async function sB(t,e){if(Vi(t.app))return Promise.reject(ks(t));const n=Hh(t),r=await aB(n,{token:e,returnSecureToken:!0}),i=await Us._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function oB(t,e,n,r){return Un(t).onIdTokenChanged(e,n,r)}function lB(t,e,n){return Un(t).beforeAuthStateChanged(e,n)}function cB(t,e,n,r){return Un(t).onAuthStateChanged(e,n,r)}const Hg="__sak";class SD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uB=1e3,dB=10;class ED extends SD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);zU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ED.type="LOCAL";const fB=ED;class AD extends SD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AD.type="SESSION";const TD=AD;function hB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class c0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new c0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,s)),f=await hB(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}c0.receivers=[];function hS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class mB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,f)=>{const h=hS("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ba(){return window}function pB(t){Ba().location.href=t}function jD(){return typeof Ba().WorkerGlobalScope<"u"&&typeof Ba().importScripts=="function"}async function gB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vB(){return navigator?.serviceWorker?.controller||null}function yB(){return jD()?self:null}const ND="firebaseLocalStorageDb",bB=1,Kg="firebaseLocalStorage",CD="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function u0(t,e){return t.transaction([Kg],e?"readwrite":"readonly").objectStore(Kg)}function xB(){const t=indexedDB.deleteDatabase(ND);return new Yh(t).toPromise()}function kw(){const t=indexedDB.open(ND,bB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kg,{keyPath:CD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kg)?e(r):(r.close(),await xB(),e(await kw()))})})}async function fC(t,e,n){const r=u0(t,!0).put({[CD]:e,value:n});return new Yh(r).toPromise()}async function wB(t,e){const n=u0(t,!1).get(e),r=await new Yh(n).toPromise();return r===void 0?null:r.value}function hC(t,e){const n=u0(t,!0).delete(e);return new Yh(n).toPromise()}const _B=800,SB=3;class OD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=c0._getInstance(yB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gB(),!this.activeServiceWorker)return;this.sender=new mB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kw();return await fC(e,Hg,"1"),await hC(e,Hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=u0(i,!1).getAll();return new Yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_B)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OD.type="LOCAL";const EB=OD;new qh(3e4,6e4);function AB(t,e){return e?Cs(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class mS extends xD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Du(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Du(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Du(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TB(t){return iB(t.auth,new mS(t),t.bypassAuthState)}function jB(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),rB(n,new mS(t),t.bypassAuthState)}async function NB(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),nB(n,new mS(t),t.bypassAuthState)}class PD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TB;case"linkViaPopup":case"linkViaRedirect":return NB;case"reauthViaPopup":case"reauthViaRedirect":return jB;default:Vs(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CB=new qh(2e3,1e4);class Nu extends PD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=hS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CB.get())};e()}}Nu.currentPopupAction=null;const OB="pendingRedirect",Eg=new Map;class PB extends PD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eg.get(this.auth._key());if(!e){try{const r=await IB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eg.set(this.auth._key(),e)}return this.bypassAuthState||Eg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IB(t,e){const n=MB(e),r=kB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function RB(t,e){Eg.set(t._key(),e)}function kB(t){return Cs(t._redirectPersistence)}function MB(t){return Sg(OB,t.config.apiKey,t.name)}async function DB(t,e,n=!1){if(Vi(t.app))return Promise.reject(ks(t));const r=Hh(t),i=AB(r,e),l=await new PB(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const LB=600*1e3;class zB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ID(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ua(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LB&&this.cachedEventUids.clear(),this.cachedEventUids.has(mC(e))}saveEventToCache(e){this.cachedEventUids.add(mC(e)),this.lastProcessedEventTime=Date.now()}}function mC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ID({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ID(t);default:return!1}}async function $B(t,e={}){return cd(t,"GET","/v1/projects",e)}const UB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BB=/^https?/;async function qB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $B(t);for(const n of e)try{if(FB(n))return}catch{}Vs(t,"unauthorized-domain")}function FB(t){const e=Iw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!BB.test(n))return!1;if(UB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const HB=new qh(3e4,6e4);function pC(){const t=Ba().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KB(t){return new Promise((e,n)=>{function r(){pC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pC(),n(Ua(t,"network-request-failed"))},timeout:HB.get()})}if(Ba().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ba().gapi?.load)r();else{const i=YU("iframefcb");return Ba()[i]=()=>{gapi.load?r():n(Ua(t,"network-request-failed"))},HU(`${KU()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Ag=null,e})}let Ag=null;function YB(t){return Ag=Ag||KB(t),Ag}const GB=new qh(5e3,15e3),WB="__/auth/iframe",XB="emulator/auth/iframe",QB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZB(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lS(e,XB):`https://${t.config.authDomain}/${WB}`,r={apiKey:e.apiKey,appName:t.name,v:ld},i=JB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bh(r).slice(1)}`}async function e7(t){const e=await YB(t),n=Ba().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:ZB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Ua(t,"network-request-failed"),u=Ba().setTimeout(()=>{s(l)},GB.get());function f(){Ba().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{s(l)})}))}const t7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n7=500,r7=600,i7="_blank",a7="http://localhost";class gC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s7(t,e,n,r=n7,i=r7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...t7,width:r.toString(),height:i.toString(),top:s,left:l},h=Or().toLowerCase();n&&(u=fD(h)?i7:n),uD(h)&&(e=e||a7,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[_,S])=>`${b}${_}=${S},`,"");if(LU(h)&&u!=="_self")return o7(e||"",u),new gC(null);const g=window.open(e||"",u,p);Ke(g,t,"popup-blocked");try{g.focus()}catch{}return new gC(g)}function o7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const l7="__/auth/handler",c7="emulator/auth/handler",u7=encodeURIComponent("fac");async function vC(t,e,n,r,i,s){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ld,eventId:i};if(e instanceof wD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",s$(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Kh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${u7}=${encodeURIComponent(f)}`:"";return`${d7(t)}?${Bh(u).slice(1)}${h}`}function d7({config:t}){return t.emulator?lS(t,c7):`https://${t.authDomain}/${l7}`}const Px="webStorageSupport";class f7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TD,this._completeRedirectFn=DB,this._overrideRedirectResult=RB}async _openPopup(e,n,r,i){$s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await vC(e,n,r,Iw(),i);return s7(e,s,hS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vC(e,n,r,Iw(),i);return pB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await e7(e),r=new zB(e);return n.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Px,{type:Px},i=>{const s=i?.[0]?.[Px];s!==void 0&&n(!!s),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vD()||dD()||dS()}}const h7=f7;var yC="@firebase/auth",bC="1.12.0";class m7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g7(t){Bu(new pc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yD(t)},h=new qU(r,i,s,f);return WU(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bu(new pc("auth-internal",e=>{const n=Hh(e.getProvider("auth").getImmediate());return(r=>new m7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nl(yC,bC,p7(t)),nl(yC,bC,"esm2020")}const v7=300,y7=YM("authIdTokenMaxAge")||v7;let xC=null;const b7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y7)return;const i=n?.token;xC!==i&&(xC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function x7(t=ZM()){const e=sS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GU(t,{popupRedirectResolver:h7,persistence:[EB,fB,TD]}),r=YM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=b7(s.toString());lB(n,l,()=>l(n.currentUser)),oB(n,u=>l(u))}}const i=HM("auth");return i&&XU(n,`http://${i}`),n}function w7(){return document.getElementsByTagName("head")?.[0]??document}FU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ua("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",w7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g7("Browser");var wC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rl,RD;(function(){var t;function e(N,j){function R(){}R.prototype=j.prototype,N.F=j.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(I,O,L){for(var M=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)M[ie-2]=arguments[ie];return j.prototype[O].apply(I,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,j,R){R||(R=0);const I=Array(16);if(typeof j=="string")for(var O=0;O<16;++O)I[O]=j.charCodeAt(R++)|j.charCodeAt(R++)<<8|j.charCodeAt(R++)<<16|j.charCodeAt(R++)<<24;else for(O=0;O<16;++O)I[O]=j[R++]|j[R++]<<8|j[R++]<<16|j[R++]<<24;j=N.g[0],R=N.g[1],O=N.g[2];let L=N.g[3],M;M=j+(L^R&(O^L))+I[0]+3614090360&4294967295,j=R+(M<<7&4294967295|M>>>25),M=L+(O^j&(R^O))+I[1]+3905402710&4294967295,L=j+(M<<12&4294967295|M>>>20),M=O+(R^L&(j^R))+I[2]+606105819&4294967295,O=L+(M<<17&4294967295|M>>>15),M=R+(j^O&(L^j))+I[3]+3250441966&4294967295,R=O+(M<<22&4294967295|M>>>10),M=j+(L^R&(O^L))+I[4]+4118548399&4294967295,j=R+(M<<7&4294967295|M>>>25),M=L+(O^j&(R^O))+I[5]+1200080426&4294967295,L=j+(M<<12&4294967295|M>>>20),M=O+(R^L&(j^R))+I[6]+2821735955&4294967295,O=L+(M<<17&4294967295|M>>>15),M=R+(j^O&(L^j))+I[7]+4249261313&4294967295,R=O+(M<<22&4294967295|M>>>10),M=j+(L^R&(O^L))+I[8]+1770035416&4294967295,j=R+(M<<7&4294967295|M>>>25),M=L+(O^j&(R^O))+I[9]+2336552879&4294967295,L=j+(M<<12&4294967295|M>>>20),M=O+(R^L&(j^R))+I[10]+4294925233&4294967295,O=L+(M<<17&4294967295|M>>>15),M=R+(j^O&(L^j))+I[11]+2304563134&4294967295,R=O+(M<<22&4294967295|M>>>10),M=j+(L^R&(O^L))+I[12]+1804603682&4294967295,j=R+(M<<7&4294967295|M>>>25),M=L+(O^j&(R^O))+I[13]+4254626195&4294967295,L=j+(M<<12&4294967295|M>>>20),M=O+(R^L&(j^R))+I[14]+2792965006&4294967295,O=L+(M<<17&4294967295|M>>>15),M=R+(j^O&(L^j))+I[15]+1236535329&4294967295,R=O+(M<<22&4294967295|M>>>10),M=j+(O^L&(R^O))+I[1]+4129170786&4294967295,j=R+(M<<5&4294967295|M>>>27),M=L+(R^O&(j^R))+I[6]+3225465664&4294967295,L=j+(M<<9&4294967295|M>>>23),M=O+(j^R&(L^j))+I[11]+643717713&4294967295,O=L+(M<<14&4294967295|M>>>18),M=R+(L^j&(O^L))+I[0]+3921069994&4294967295,R=O+(M<<20&4294967295|M>>>12),M=j+(O^L&(R^O))+I[5]+3593408605&4294967295,j=R+(M<<5&4294967295|M>>>27),M=L+(R^O&(j^R))+I[10]+38016083&4294967295,L=j+(M<<9&4294967295|M>>>23),M=O+(j^R&(L^j))+I[15]+3634488961&4294967295,O=L+(M<<14&4294967295|M>>>18),M=R+(L^j&(O^L))+I[4]+3889429448&4294967295,R=O+(M<<20&4294967295|M>>>12),M=j+(O^L&(R^O))+I[9]+568446438&4294967295,j=R+(M<<5&4294967295|M>>>27),M=L+(R^O&(j^R))+I[14]+3275163606&4294967295,L=j+(M<<9&4294967295|M>>>23),M=O+(j^R&(L^j))+I[3]+4107603335&4294967295,O=L+(M<<14&4294967295|M>>>18),M=R+(L^j&(O^L))+I[8]+1163531501&4294967295,R=O+(M<<20&4294967295|M>>>12),M=j+(O^L&(R^O))+I[13]+2850285829&4294967295,j=R+(M<<5&4294967295|M>>>27),M=L+(R^O&(j^R))+I[2]+4243563512&4294967295,L=j+(M<<9&4294967295|M>>>23),M=O+(j^R&(L^j))+I[7]+1735328473&4294967295,O=L+(M<<14&4294967295|M>>>18),M=R+(L^j&(O^L))+I[12]+2368359562&4294967295,R=O+(M<<20&4294967295|M>>>12),M=j+(R^O^L)+I[5]+4294588738&4294967295,j=R+(M<<4&4294967295|M>>>28),M=L+(j^R^O)+I[8]+2272392833&4294967295,L=j+(M<<11&4294967295|M>>>21),M=O+(L^j^R)+I[11]+1839030562&4294967295,O=L+(M<<16&4294967295|M>>>16),M=R+(O^L^j)+I[14]+4259657740&4294967295,R=O+(M<<23&4294967295|M>>>9),M=j+(R^O^L)+I[1]+2763975236&4294967295,j=R+(M<<4&4294967295|M>>>28),M=L+(j^R^O)+I[4]+1272893353&4294967295,L=j+(M<<11&4294967295|M>>>21),M=O+(L^j^R)+I[7]+4139469664&4294967295,O=L+(M<<16&4294967295|M>>>16),M=R+(O^L^j)+I[10]+3200236656&4294967295,R=O+(M<<23&4294967295|M>>>9),M=j+(R^O^L)+I[13]+681279174&4294967295,j=R+(M<<4&4294967295|M>>>28),M=L+(j^R^O)+I[0]+3936430074&4294967295,L=j+(M<<11&4294967295|M>>>21),M=O+(L^j^R)+I[3]+3572445317&4294967295,O=L+(M<<16&4294967295|M>>>16),M=R+(O^L^j)+I[6]+76029189&4294967295,R=O+(M<<23&4294967295|M>>>9),M=j+(R^O^L)+I[9]+3654602809&4294967295,j=R+(M<<4&4294967295|M>>>28),M=L+(j^R^O)+I[12]+3873151461&4294967295,L=j+(M<<11&4294967295|M>>>21),M=O+(L^j^R)+I[15]+530742520&4294967295,O=L+(M<<16&4294967295|M>>>16),M=R+(O^L^j)+I[2]+3299628645&4294967295,R=O+(M<<23&4294967295|M>>>9),M=j+(O^(R|~L))+I[0]+4096336452&4294967295,j=R+(M<<6&4294967295|M>>>26),M=L+(R^(j|~O))+I[7]+1126891415&4294967295,L=j+(M<<10&4294967295|M>>>22),M=O+(j^(L|~R))+I[14]+2878612391&4294967295,O=L+(M<<15&4294967295|M>>>17),M=R+(L^(O|~j))+I[5]+4237533241&4294967295,R=O+(M<<21&4294967295|M>>>11),M=j+(O^(R|~L))+I[12]+1700485571&4294967295,j=R+(M<<6&4294967295|M>>>26),M=L+(R^(j|~O))+I[3]+2399980690&4294967295,L=j+(M<<10&4294967295|M>>>22),M=O+(j^(L|~R))+I[10]+4293915773&4294967295,O=L+(M<<15&4294967295|M>>>17),M=R+(L^(O|~j))+I[1]+2240044497&4294967295,R=O+(M<<21&4294967295|M>>>11),M=j+(O^(R|~L))+I[8]+1873313359&4294967295,j=R+(M<<6&4294967295|M>>>26),M=L+(R^(j|~O))+I[15]+4264355552&4294967295,L=j+(M<<10&4294967295|M>>>22),M=O+(j^(L|~R))+I[6]+2734768916&4294967295,O=L+(M<<15&4294967295|M>>>17),M=R+(L^(O|~j))+I[13]+1309151649&4294967295,R=O+(M<<21&4294967295|M>>>11),M=j+(O^(R|~L))+I[4]+4149444226&4294967295,j=R+(M<<6&4294967295|M>>>26),M=L+(R^(j|~O))+I[11]+3174756917&4294967295,L=j+(M<<10&4294967295|M>>>22),M=O+(j^(L|~R))+I[2]+718787259&4294967295,O=L+(M<<15&4294967295|M>>>17),M=R+(L^(O|~j))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+j&4294967295,N.g[1]=N.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,j){j===void 0&&(j=N.length);const R=j-this.blockSize,I=this.C;let O=this.h,L=0;for(;L<j;){if(O==0)for(;L<=R;)i(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<j;)if(I[O++]=N.charCodeAt(L++),O==this.blockSize){i(this,I),O=0;break}}else for(;L<j;)if(I[O++]=N[L++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=j},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var j=1;j<N.length-8;++j)N[j]=0;j=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=j&255,j/=256;for(this.v(N),N=Array(16),j=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)N[j++]=this.g[R]>>>I&255;return N};function s(N,j){var R=u;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=j(N)}function l(N,j){this.h=j;const R=[];let I=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;I&&L==j||(R[O]=L,I=!1)}this.g=R}var u={};function f(N){return-128<=N&&N<128?s(N,function(j){return new l([j|0],j<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return E(h(-N));const j=[];let R=1;for(let I=0;N>=R;I++)j[I]=N/R|0,R*=4294967296;return new l(j,0)}function p(N,j){if(N.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(N.charAt(0)=="-")return E(p(N.substring(1),j));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=h(Math.pow(j,8));let I=g;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const M=parseInt(N.substring(L,L+O),j);O<8?(O=h(Math.pow(j,O)),I=I.j(O).add(h(M))):(I=I.j(R),I=I.add(h(M)))}return I}var g=f(0),b=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(A(this))return-E(this).m();let N=0,j=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);N+=(I>=0?I:4294967296+I)*j,j*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(A(this))return"-"+E(this).toString(N);const j=h(Math.pow(N,6));var R=this;let I="";for(;;){const O=U(R,j).g;R=C(R,O.j(j));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,S(R))return L+I;for(;L.length<6;)L="0"+L;I=L+I}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let j=0;j<N.g.length;j++)if(N.g[j]!=0)return!1;return!0}function A(N){return N.h==-1}t.l=function(N){return N=C(this,N),A(N)?-1:S(N)?0:1};function E(N){const j=N.g.length,R=[];for(let I=0;I<j;I++)R[I]=~N.g[I];return new l(R,~N.h).add(b)}t.abs=function(){return A(this)?E(this):this},t.add=function(N){const j=Math.max(this.g.length,N.g.length),R=[];let I=0;for(let O=0;O<=j;O++){let L=I+(this.i(O)&65535)+(N.i(O)&65535),M=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);I=M>>>16,L&=65535,M&=65535,R[O]=M<<16|L}return new l(R,R[R.length-1]&-2147483648?-1:0)};function C(N,j){return N.add(E(j))}t.j=function(N){if(S(this)||S(N))return g;if(A(this))return A(N)?E(this).j(E(N)):E(E(this).j(N));if(A(N))return E(this.j(E(N)));if(this.l(_)<0&&N.l(_)<0)return h(this.m()*N.m());const j=this.g.length+N.g.length,R=[];for(var I=0;I<2*j;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<N.g.length;O++){const L=this.i(I)>>>16,M=this.i(I)&65535,ie=N.i(O)>>>16,Q=N.i(O)&65535;R[2*I+2*O]+=M*Q,$(R,2*I+2*O),R[2*I+2*O+1]+=L*Q,$(R,2*I+2*O+1),R[2*I+2*O+1]+=M*ie,$(R,2*I+2*O+1),R[2*I+2*O+2]+=L*ie,$(R,2*I+2*O+2)}for(N=0;N<j;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=j;N<2*j;N++)R[N]=0;return new l(R,0)};function $(N,j){for(;(N[j]&65535)!=N[j];)N[j+1]+=N[j]>>>16,N[j]&=65535,j++}function D(N,j){this.g=N,this.h=j}function U(N,j){if(S(j))throw Error("division by zero");if(S(N))return new D(g,g);if(A(N))return j=U(E(N),j),new D(E(j.g),E(j.h));if(A(j))return j=U(N,E(j)),new D(E(j.g),j.h);if(N.g.length>30){if(A(N)||A(j))throw Error("slowDivide_ only works with positive integers.");for(var R=b,I=j;I.l(N)<=0;)R=B(R),I=B(I);var O=z(R,1),L=z(I,1);for(I=z(I,2),R=z(R,2);!S(I);){var M=L.add(I);M.l(N)<=0&&(O=O.add(R),L=M),I=z(I,1),R=z(R,1)}return j=C(N,O.j(j)),new D(O,j)}for(O=g;N.l(j)>=0;){for(R=Math.max(1,Math.floor(N.m()/j.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),L=h(R),M=L.j(j);A(M)||M.l(N)>0;)R-=I,L=h(R),M=L.j(j);S(L)&&(L=b),O=O.add(L),N=C(N,M)}return new D(O,N)}t.B=function(N){return U(this,N).h},t.and=function(N){const j=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<j;I++)R[I]=this.i(I)&N.i(I);return new l(R,this.h&N.h)},t.or=function(N){const j=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<j;I++)R[I]=this.i(I)|N.i(I);return new l(R,this.h|N.h)},t.xor=function(N){const j=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<j;I++)R[I]=this.i(I)^N.i(I);return new l(R,this.h^N.h)};function B(N){const j=N.g.length+1,R=[];for(let I=0;I<j;I++)R[I]=N.i(I)<<1|N.i(I-1)>>>31;return new l(R,N.h)}function z(N,j){const R=j>>5;j%=32;const I=N.g.length-R,O=[];for(let L=0;L<I;L++)O[L]=j>0?N.i(L+R)>>>j|N.i(L+R+1)<<32-j:N.i(L+R);return new l(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,rl=l}).apply(typeof wC<"u"?wC:typeof self<"u"?self:typeof window<"u"?window:{});var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kD,Ff,MD,Tg,Mw,DD,LD,zD;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zp=="object"&&Zp];for(var T=0;T<v.length;++T){var k=v[T];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var k=r;v=v.split(".");for(var F=0;F<v.length-1;F++){var le=v[F];if(!(le in k))break e;k=k[le]}v=v[v.length-1],F=k[v],T=T(F),T!=F&&T!=null&&e(k,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var k=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&k.push([F,T[F]]);return k}});var s=s||{},l=this||self;function u(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function f(v,T,k){return v.call.apply(v.bind,arguments)}function h(v,T,k){return h=f,h.apply(null,arguments)}function p(v,T){var k=Array.prototype.slice.call(arguments,1);return function(){var F=k.slice();return F.push.apply(F,arguments),v.apply(this,F)}}function g(v,T){function k(){}k.prototype=T.prototype,v.Z=T.prototype,v.prototype=new k,v.prototype.constructor=v,v.Ob=function(F,le,pe){for(var Pe=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Pe[Je-2]=arguments[Je];return T.prototype[le].apply(F,Pe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function _(v){const T=v.length;if(T>0){const k=Array(T);for(let F=0;F<T;F++)k[F]=v[F];return k}return[]}function S(v,T){for(let F=1;F<arguments.length;F++){const le=arguments[F];var k=typeof le;if(k=k!="object"?k:le?Array.isArray(le)?"array":k:"null",k=="array"||k=="object"&&typeof le.length=="number"){k=v.length||0;const pe=le.length||0;v.length=k+pe;for(let Pe=0;Pe<pe;Pe++)v[k+Pe]=le[Pe]}else v.push(le)}}class A{constructor(T,k){this.i=T,this.j=k,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function E(v){l.setTimeout(()=>{throw v},0)}function C(){var v=N;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class ${constructor(){this.h=this.g=null}add(T,k){const F=D.get();F.set(T,k),this.h?this.h.next=F:this.g=F,this.h=F}}var D=new A(()=>new U,v=>v.reset());class U{constructor(){this.next=this.g=this.h=null}set(T,k){this.h=T,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let B,z=!1,N=new $,j=()=>{const v=Promise.resolve(void 0);B=()=>{v.then(R)}};function R(){for(var v;v=C();){try{v.h.call(v.g)}catch(k){E(k)}var T=D;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}z=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const k=()=>{};l.addEventListener("test",k,T),l.removeEventListener("test",k,T)}catch{}return v})();function M(v){return/^[\s\xa0]*$/.test(v)}function ie(v,T){O.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(ie,O),ie.prototype.init=function(v,T){const k=this.type=v.type,F=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(k=="mouseover"?T=v.fromElement:k=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),K=0;function ee(v,T,k,F,le){this.listener=v,this.proxy=null,this.src=T,this.type=k,this.capture=!!F,this.ha=le,this.key=++K,this.da=this.fa=!1}function se(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Y(v,T,k){for(const F in v)T.call(k,v[F],F,v)}function Z(v,T){for(const k in v)T.call(void 0,v[k],k,v)}function V(v){const T={};for(const k in v)T[k]=v[k];return T}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(v,T){let k,F;for(let le=1;le<arguments.length;le++){F=arguments[le];for(k in F)v[k]=F[k];for(let pe=0;pe<X.length;pe++)k=X[pe],Object.prototype.hasOwnProperty.call(F,k)&&(v[k]=F[k])}}function G(v){this.src=v,this.g={},this.h=0}G.prototype.add=function(v,T,k,F,le){const pe=v.toString();v=this.g[pe],v||(v=this.g[pe]=[],this.h++);const Pe=ge(v,T,F,le);return Pe>-1?(T=v[Pe],k||(T.fa=!1)):(T=new ee(T,this.src,pe,!!F,le),T.fa=k,v.push(T)),T};function fe(v,T){const k=T.type;if(k in v.g){var F=v.g[k],le=Array.prototype.indexOf.call(F,T,void 0),pe;(pe=le>=0)&&Array.prototype.splice.call(F,le,1),pe&&(se(T),v.g[k].length==0&&(delete v.g[k],v.h--))}}function ge(v,T,k,F){for(let le=0;le<v.length;++le){const pe=v[le];if(!pe.da&&pe.listener==T&&pe.capture==!!k&&pe.ha==F)return le}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),Oe={};function ne(v,T,k,F,le){if(Array.isArray(T)){for(let pe=0;pe<T.length;pe++)ne(v,T[pe],k,F,le);return null}return k=rr(k),v&&v[Q]?v.J(T,k,u(F)?!!F.capture:!1,le):je(v,T,k,!1,F,le)}function je(v,T,k,F,le,pe){if(!T)throw Error("Invalid event type");const Pe=u(le)?!!le.capture:!!le;let Je=ze(v);if(Je||(v[oe]=Je=new G(v)),k=Je.add(T,k,F,Pe,pe),k.proxy)return k;if(F=me(),k.proxy=F,F.src=v,F.listener=k,v.addEventListener)L||(le=Pe),le===void 0&&(le=!1),v.addEventListener(T.toString(),F,le);else if(v.attachEvent)v.attachEvent(Ne(T.toString()),F);else if(v.addListener&&v.removeListener)v.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return k}function me(){function v(k){return T.call(v.src,v.listener,k)}const T=Ce;return v}function ve(v,T,k,F,le){if(Array.isArray(T))for(var pe=0;pe<T.length;pe++)ve(v,T[pe],k,F,le);else F=u(F)?!!F.capture:!!F,k=rr(k),v&&v[Q]?(v=v.i,pe=String(T).toString(),pe in v.g&&(T=v.g[pe],k=ge(T,k,F,le),k>-1&&(se(T[k]),Array.prototype.splice.call(T,k,1),T.length==0&&(delete v.g[pe],v.h--)))):v&&(v=ze(v))&&(T=v.g[T.toString()],v=-1,T&&(v=ge(T,k,F,le)),(k=v>-1?T[v]:null)&&he(k))}function he(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[Q])fe(T.i,v);else{var k=v.type,F=v.proxy;T.removeEventListener?T.removeEventListener(k,F,v.capture):T.detachEvent?T.detachEvent(Ne(k),F):T.addListener&&T.removeListener&&T.removeListener(F),(k=ze(T))?(fe(k,v),k.h==0&&(k.src=null,T[oe]=null)):se(v)}}}function Ne(v){return v in Oe?Oe[v]:Oe[v]="on"+v}function Ce(v,T){if(v.da)v=!0;else{T=new ie(T,this);const k=v.listener,F=v.ha||v.src;v.fa&&he(v),v=k.call(F,T)}return v}function ze(v){return v=v[oe],v instanceof G?v:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function rr(v){return typeof v=="function"?v:(v[bt]||(v[bt]=function(T){return v.handleEvent(T)}),v[bt])}function Tt(){I.call(this),this.i=new G(this),this.M=this,this.G=null}g(Tt,I),Tt.prototype[Q]=!0,Tt.prototype.removeEventListener=function(v,T,k,F){ve(this,v,T,k,F)};function Vt(v,T){var k,F=v.G;if(F)for(k=[];F;F=F.G)k.push(F);if(v=v.M,F=T.type||T,typeof T=="string")T=new O(T,v);else if(T instanceof O)T.target=T.target||v;else{var le=T;T=new O(F,v),W(T,le)}le=!0;let pe,Pe;if(k)for(Pe=k.length-1;Pe>=0;Pe--)pe=T.g=k[Pe],le=Qe(pe,F,!0,T)&&le;if(pe=T.g=v,le=Qe(pe,F,!0,T)&&le,le=Qe(pe,F,!1,T)&&le,k)for(Pe=0;Pe<k.length;Pe++)pe=T.g=k[Pe],le=Qe(pe,F,!1,T)&&le}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const k=v.g[T];for(let F=0;F<k.length;F++)se(k[F]);delete v.g[T],v.h--}}this.G=null},Tt.prototype.J=function(v,T,k,F){return this.i.add(String(v),T,!1,k,F)},Tt.prototype.K=function(v,T,k,F){return this.i.add(String(v),T,!0,k,F)};function Qe(v,T,k,F){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let le=!0;for(let pe=0;pe<T.length;++pe){const Pe=T[pe];if(Pe&&!Pe.da&&Pe.capture==k){const Je=Pe.listener,yn=Pe.ha||Pe.src;Pe.fa&&fe(v.i,Pe),le=Je.call(yn,F)!==!1&&le}}return le&&!F.defaultPrevented}function bi(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function xi(v){v.g=bi(()=>{v.g=null,v.i&&(v.i=!1,xi(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class Dn extends I{constructor(T,k){super(),this.m=T,this.l=k,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:xi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(v){I.call(this),this.h=v,this.g={}}g(ni,I);var as=[];function xt(v){Y(v.g,function(T,k){this.g.hasOwnProperty(k)&&he(T)},v),v.g={}}ni.prototype.N=function(){ni.Z.N.call(this),xt(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=l.JSON.stringify,ga=l.JSON.parse,va=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function uo(){}function ya(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cn(){O.call(this,"d")}g(cn,O);function Yn(){O.call(this,"c")}g(Yn,O);var Kt={},ba=null;function wi(){return ba=ba||new Tt}Kt.Ia="serverreachability";function ss(v){O.call(this,Kt.Ia,v)}g(ss,O);function Pr(v){const T=wi();Vt(T,new ss(T))}Kt.STAT_EVENT="statevent";function ri(v,T){O.call(this,Kt.STAT_EVENT,v),this.stat=T}g(ri,O);function nn(v){const T=wi();Vt(T,new ri(T,v))}Kt.Ja="timingevent";function wr(v,T){O.call(this,Kt.Ja,v),this.size=T}g(wr,O);function Vr(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Ir(){this.g=!0}Ir.prototype.ua=function(){this.g=!1};function El(v,T,k,F,le,pe){v.info(function(){if(v.g)if(pe){var Pe="",Je=pe.split("&");for(let wt=0;wt<Je.length;wt++){var yn=Je[wt].split("=");if(yn.length>1){const an=yn[0];yn=yn[1];const Ti=an.split("_");Pe=Ti.length>=2&&Ti[1]=="type"?Pe+(an+"="+yn+"&"):Pe+(an+"=redacted&")}}}else Pe=null;else Pe=pe;return"XMLHTTP REQ ("+F+") [attempt "+le+"]: "+T+`
`+k+`
`+Pe})}function os(v,T,k,F,le,pe,Pe){v.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+le+"]: "+T+`
`+k+`
`+pe+" "+Pe})}function $r(v,T,k,F){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+Al(v,k)+(F?" "+F:"")})}function Ki(v,T){v.info(function(){return"TIMEOUT: "+T})}Ir.prototype.info=function(){};function Al(v,T){if(!v.g)return T;if(!T)return null;try{const pe=JSON.parse(T);if(pe){for(v=0;v<pe.length;v++)if(Array.isArray(pe[v])){var k=pe[v];if(!(k.length<2)){var F=k[1];if(Array.isArray(F)&&!(F.length<1)){var le=F[0];if(le!="noop"&&le!="stop"&&le!="close")for(let Pe=1;Pe<F.length;Pe++)F[Pe]=""}}}}return ir(pe)}catch{return T}}var Ee={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},H={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Se;function Te(){}g(Te,uo),Te.prototype.g=function(){return new XMLHttpRequest},Se=new Te;function Ie(v){return encodeURIComponent(String(v))}function Xe(v){var T=1;v=v.split(":");const k=[];for(;T>0&&v.length;)k.push(v.shift()),T--;return v.length&&k.push(v.join(":")),k}function mt(v,T,k,F){this.j=v,this.i=T,this.l=k,this.S=F||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}var rn={},jt={};function _i(v,T,k){v.M=1,v.A=Tl(An(T)),v.u=k,v.R=!0,fo(v,null)}function fo(v,T){v.F=Date.now(),mn(v),v.B=An(v.A);var k=v.B,F=v.S;Array.isArray(F)||(F=[String(F)]),zc(k.i,"t",F),v.C=0,k=v.j.L,v.h=new sr,v.g=Hm(v.j,k?T:null,!v.u),v.P>0&&(v.O=new Dn(h(v.Y,v,v.g),v.P)),T=v.V,k=v.g,F=v.ba;var le="readystatechange";Array.isArray(le)||(le&&(as[0]=le.toString()),le=as);for(let pe=0;pe<le.length;pe++){const Pe=ne(k,le[pe],F||T.handleEvent,!1,T.h||T);if(!Pe)break;T.g[Pe.key]=Pe}T=v.J?V(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),Pr(),El(v.i,v.v,v.B,v.l,v.S,v.u)}mt.prototype.ba=function(v){v=v.target;const T=this.O;T&&Xi(v)==3?T.j():this.Y(v)},mt.prototype.Y=function(v){try{if(v==this.g)e:{const Je=Xi(this.g),yn=this.g.ya(),wt=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||or(this.g)))){this.K||Je!=4||yn==7||(yn==8||wt<=0?Pr(3):Pr(2)),xa(this);var T=this.g.ca();this.X=T;var k=Rd(this);if(this.o=T==200,os(this.i,this.v,this.B,this.l,this.S,Je,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,le=this.g;if((F=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(F)){var pe=F;break t}}pe=null}if(v=pe)$r(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wa(this,v);else{this.o=!1,this.m=3,nn(12),ii(this),Si(this);break e}}if(this.R){v=!0;let an;for(;!this.K&&this.C<k.length;)if(an=Qt(this,k),an==jt){Je==4&&(this.m=4,nn(14),v=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(an==rn){this.m=4,nn(15),$r(this.i,this.l,k,"[Invalid Chunk]"),v=!1;break}else $r(this.i,this.l,an,null),wa(this,an);if(rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||k.length!=0||this.h.h||(this.m=1,nn(16),v=!1),this.o=this.o&&v,!v)$r(this.i,this.l,k,"[Invalid Chunked Response]"),ii(this),Si(this);else if(k.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Gd(Pe),Pe.P=!0,nn(11))}}else $r(this.i,this.l,k,null),wa(this,k);Je==4&&ii(this),this.o&&!this.K&&(Je==4?Um(this.j,this):(this.o=!1,mn(this)))}else cs(this.g),T==400&&k.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),ii(this),Si(this)}}}catch{}};function Rd(v){if(!rt(v))return v.g.la();const T=or(v.g);if(T==="")return"";let k="";const F=T.length,le=Xi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ii(v),Si(v),"";v.h.i=new l.TextDecoder}for(let pe=0;pe<F;pe++)v.h.h=!0,k+=v.h.i.decode(T[pe],{stream:!(le&&pe==F-1)});return T.length=0,v.h.g+=k,v.C=0,v.h.g}function rt(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Qt(v,T){var k=v.C,F=T.indexOf(`
`,k);return F==-1?jt:(k=Number(T.substring(k,F)),isNaN(k)?rn:(F+=1,F+k>T.length?jt:(T=T.slice(F,F+k),v.C=F+k,T)))}mt.prototype.cancel=function(){this.K=!0,ii(this)};function mn(v){v.T=Date.now()+v.H,Yi(v,v.H)}function Yi(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Vr(h(v.aa,v),T)}function xa(v){v.D&&(l.clearTimeout(v.D),v.D=null)}mt.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(Pr(),nn(17)),ii(this),this.m=2,Si(this)):Yi(this,this.T-v)};function Si(v){v.j.I==0||v.K||Um(v.j,v)}function ii(v){xa(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,xt(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function wa(v,T){try{var k=v.j;if(k.I!=0&&(k.g==v||Sa(k.h,v))){if(!v.L&&Sa(k.h,v)&&k.I==3){try{var F=k.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var le=F;if(le[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<v.F)qc(k),xo(k);else break e;Rl(k),nn(18)}}else k.xa=le[1],0<k.xa-k.K&&le[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Vr(h(k.Va,k),6e3));_a(k.h)<=1&&k.ta&&(k.ta=void 0)}else Ca(k,11)}else if((v.L||k.g==v)&&qc(k),!M(T))for(le=k.Ba.g.parse(T),T=0;T<le.length;T++){let wt=le[T];const an=wt[0];if(!(an<=k.K))if(k.K=an,wt=wt[1],k.I==2)if(wt[0]=="c"){k.M=wt[1],k.ba=wt[2];const Ti=wt[3];Ti!=null&&(k.ka=Ti,k.j.info("VER="+k.ka));const Oa=wt[4];Oa!=null&&(k.za=Oa,k.j.info("SVER="+k.za));const Qi=wt[5];Qi!=null&&typeof Qi=="number"&&Qi>0&&(F=1.5*Qi,k.O=F,k.j.info("backChannelRequestTimeoutMs_="+F)),F=k;const Ji=v.g;if(Ji){const kl=Ji.g?Ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kl){var pe=F.h;pe.g||kl.indexOf("spdy")==-1&&kl.indexOf("quic")==-1&&kl.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Dd(pe,pe.h),pe.h=null))}if(F.G){const Fc=Ji.g?Ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(F.wa=Fc,Nt(F.J,F.G,Fc))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-v.F,k.j.info("Handshake RTT: "+k.T+"ms")),F=k;var Pe=v;if(F.na=Fm(F,F.L?F.ba:null,F.W),Pe.L){Ld(F.h,Pe);var Je=Pe,yn=F.O;yn&&(Je.H=yn),Je.D&&(xa(Je),mn(Je)),F.g=Pe}else Vm(F);k.i.length>0&&Na(k)}else wt[0]!="stop"&&wt[0]!="close"||Ca(k,7);else k.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Ca(k,7):Kd(k):wt[0]!="noop"&&k.l&&k.l.qa(wt),k.A=0)}}Pr(4)}catch{}}var En=class{constructor(v,T){this.g=v,this.map=T}};function kd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Md(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function _a(v){return v.h?1:v.g?v.g.size:0}function Sa(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function Dd(v,T){v.g?v.g.add(T):v.h=T}function Ld(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}kd.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function zd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const k of v.g.values())T=T.concat(k.G);return T}return _(v.i)}var Rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(v,T){if(v){v=v.split("&");for(let k=0;k<v.length;k++){const F=v[k].indexOf("=");let le,pe=null;F>=0?(le=v[k].substring(0,F),pe=v[k].substring(F+1)):le=v[k],T(le,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function ai(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof ai?(this.l=v.l,Gn(this,v.j),this.o=v.o,this.g=v.g,ho(this,v.u),this.h=v.h,Vd(this,Lm(v.i)),this.m=v.m):v&&(T=String(v).match(Rm))?(this.l=!1,Gn(this,T[1]||"",!0),this.o=Ea(T[2]||""),this.g=Ea(T[3]||"",!0),ho(this,T[4]),this.h=Ea(T[5]||"",!0),Vd(this,T[6]||"",!0),this.m=Ea(T[7]||"")):(this.l=!1,this.i=new po(null,this.l))}ai.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(jl(T,Lc,!0),":");var k=this.g;return(k||T=="file")&&(v.push("//"),(T=this.o)&&v.push(jl(T,Lc,!0),"@"),v.push(Ie(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&v.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&v.push("/"),v.push(jl(k,k.charAt(0)=="/"?$d:km,!0))),(k=this.i.toString())&&v.push("?",k),(k=this.m)&&v.push("#",jl(k,Mm)),v.join("")},ai.prototype.resolve=function(v){const T=An(this);let k=!!v.j;k?Gn(T,v.j):k=!!v.o,k?T.o=v.o:k=!!v.g,k?T.g=v.g:k=v.u!=null;var F=v.h;if(k)ho(T,v.u);else if(k=!!v.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var le=T.h.lastIndexOf("/");le!=-1&&(F=T.h.slice(0,le+1)+F)}if(le=F,le==".."||le==".")F="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){F=le.lastIndexOf("/",0)==0,le=le.split("/");const pe=[];for(let Pe=0;Pe<le.length;){const Je=le[Pe++];Je=="."?F&&Pe==le.length&&pe.push(""):Je==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),F&&Pe==le.length&&pe.push("")):(pe.push(Je),F=!0)}F=pe.join("/")}else F=le}return k?T.h=F:k=v.i.toString()!=="",k?Vd(T,Lm(v.i)):k=!!v.m,k&&(T.m=v.m),T};function An(v){return new ai(v)}function Gn(v,T,k){v.j=k?Ea(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function ho(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function Vd(v,T,k){T instanceof po?(v.i=T,Vc(v.i,v.l)):(k||(T=jl(T,mo)),v.i=new po(T,v.l))}function Nt(v,T,k){v.i.set(T,k)}function Tl(v){return Nt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Ea(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function jl(v,T,k){return typeof v=="string"?(v=encodeURI(v).replace(T,Ur),k&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ur(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Lc=/[#\/\?@]/g,km=/[#\?:]/g,$d=/[#\?]/g,mo=/[#\?@]/g,Mm=/#/g;function po(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Br(v){v.g||(v.g=new Map,v.h=0,v.i&&Dc(v.i,function(T,k){v.add(decodeURIComponent(T.replace(/\+/g," ")),k)}))}t=po.prototype,t.add=function(v,T){Br(this),this.i=null,v=go(this,v);let k=this.g.get(v);return k||this.g.set(v,k=[]),k.push(T),this.h+=1,this};function Dm(v,T){Br(v),T=go(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function Ud(v,T){return Br(v),T=go(v,T),v.g.has(T)}t.forEach=function(v,T){Br(this),this.g.forEach(function(k,F){k.forEach(function(le){v.call(T,le,F,this)},this)},this)};function Bd(v,T){Br(v);let k=[];if(typeof T=="string")Ud(v,T)&&(k=k.concat(v.g.get(go(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)k=k.concat(v[T]);return k}t.set=function(v,T){return Br(this),this.i=null,v=go(this,v),Ud(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=Bd(this,v),v.length>0?String(v[0]):T):T};function zc(v,T,k){Dm(v,T),k.length>0&&(v.i=null,v.g.set(go(v,T),_(k)),v.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var k=T[F];const le=Ie(k);k=Bd(this,k);for(let pe=0;pe<k.length;pe++){let Pe=le;k[pe]!==""&&(Pe+="="+Ie(k[pe])),v.push(Pe)}}return this.i=v.join("&")};function Lm(v){const T=new po;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function go(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Vc(v,T){T&&!v.j&&(Br(v),v.i=null,v.g.forEach(function(k,F){const le=F.toLowerCase();F!=le&&(Dm(this,F),zc(this,le,k))},v)),v.j=T}function Gi(v,T){const k=new Ir;if(l.Image){const F=new Image;F.onload=p(Ei,k,"TestLoadImage: loaded",!0,T,F),F.onerror=p(Ei,k,"TestLoadImage: error",!1,T,F),F.onabort=p(Ei,k,"TestLoadImage: abort",!1,T,F),F.ontimeout=p(Ei,k,"TestLoadImage: timeout",!1,T,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=v}else T(!1)}function qd(v,T){const k=new Ir,F=new AbortController,le=setTimeout(()=>{F.abort(),Ei(k,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:F.signal}).then(pe=>{clearTimeout(le),pe.ok?Ei(k,"TestPingServer: ok",!0,T):Ei(k,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(le),Ei(k,"TestPingServer: error",!1,T)})}function Ei(v,T,k,F,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),F(k)}catch{}}function vo(){this.g=new va}function Aa(v){this.i=v.Sb||null,this.h=v.ab||!1}g(Aa,uo),Aa.prototype.g=function(){return new Nl(this.i,this.h)};function Nl(v,T){Tt.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Nl,Tt),t=Nl.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,Wi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$c(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function $c(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?yo(this):Wi(this),this.readyState==3&&$c(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,yo(this))},t.Na=function(v){this.g&&(this.response=v,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Wi(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var k=T.next();!k.done;)k=k.value,v.push(k[0]+": "+k[1]),k=T.next();return v.join(`\r
`)};function Wi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ai(v){let T="";return Y(v,function(k,F){T+=F,T+=":",T+=k,T+=`\r
`}),T}function Cl(v,T,k){e:{for(F in k){var F=!1;break e}F=!0}F||(k=Ai(k),typeof v=="string"?k!=null&&Ie(k):Nt(v,T,k))}function Rt(v){Tt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Rt,Tt);var Ta=/^https?$/i,Fd=["POST","PUT"];t=Rt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,k,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Se.g(),this.g.onreadystatechange=b(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(pe){Ol(this,pe);return}if(v=k||"",k=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var le in F)k.set(le,F[le]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const pe of F.keys())k.set(pe,F.get(pe));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(k.keys()).find(pe=>pe.toLowerCase()=="content-type"),le=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Fd,T,void 0)>=0)||F||le||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Pe]of k)this.g.setRequestHeader(pe,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(pe){Ol(this,pe)}};function Ol(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,Hd(v),ls(v)}function Hd(v){v.A||(v.A=!0,Vt(v,"complete"),Vt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Vt(this,"complete"),Vt(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pl(this):this.Xa())},t.Xa=function(){Pl(this)};function Pl(v){if(v.h&&typeof s<"u"){if(v.v&&Xi(v)==4)setTimeout(v.Ca.bind(v),0);else if(Vt(v,"readystatechange"),Xi(v)==4){v.h=!1;try{const pe=v.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var k;if(!(k=T)){var F;if(F=pe===0){let Pe=String(v.D).match(Rm)[1]||null;!Pe&&l.self&&l.self.location&&(Pe=l.self.location.protocol.slice(0,-1)),F=!Ta.test(Pe?Pe.toLowerCase():"")}k=F}if(k)Vt(v,"complete"),Vt(v,"success");else{v.o=6;try{var le=Xi(v)>2?v.g.statusText:""}catch{le=""}v.l=le+" ["+v.ca()+"]",Hd(v)}}finally{ls(v)}}}}function ls(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const k=v.g;v.g=null,T||Vt(v,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),ga(T)}};function or(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(v){const T={};v=(v.g&&Xi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<v.length;F++){if(M(v[F]))continue;var k=Xe(v[F]);const le=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const pe=T[le]||[];T[le]=pe,pe.push(k)}Z(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(v,T,k){return k&&k.internalChannelParams&&k.internalChannelParams[v]||T}function bo(v){this.za=0,this.i=[],this.j=new Ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ja("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ja("baseRetryDelayMs",5e3,v),this.Za=ja("retryDelaySeedMs",1e4,v),this.Ta=ja("forwardChannelMaxRetries",2,v),this.va=ja("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new kd(v&&v.concurrentRequestLimit),this.Ba=new vo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=bo.prototype,t.ka=8,t.I=1,t.connect=function(v,T,k,F){nn(0),this.W=v,this.H=T||{},k&&F!==void 0&&(this.H.OSID=k,this.H.OAID=F),this.F=this.X,this.J=Fm(this,null,this.W),Na(this)};function Kd(v){if(Uc(v),v.I==3){var T=v.V++,k=An(v.J);if(Nt(k,"SID",v.M),Nt(k,"RID",T),Nt(k,"TYPE","terminate"),Il(v,k),T=new mt(v,v.j,T),T.M=2,T.A=Tl(An(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!k&&l.Image&&(new Image().src=T.A,k=!0),k||(T.g=Hm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),mn(T)}qm(v)}function xo(v){v.g&&(Gd(v),v.g.cancel(),v.g=null)}function Uc(v){xo(v),v.v&&(l.clearTimeout(v.v),v.v=null),qc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function Na(v){if(!Md(v.h)&&!v.m){v.m=!0;var T=v.Ea;B||j(),z||(B(),z=!0),N.add(T,v),v.D=0}}function Bc(v,T){return _a(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Vr(h(v.Ea,v,T),Bm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const le=new mt(this,this.j,v);let pe=this.o;if(this.U&&(pe?(pe=V(pe),W(pe,this.U)):pe=this.U),this.u!==null||this.R||(le.J=pe,pe=null),this.S)e:{for(var T=0,k=0;k<this.i.length;k++){t:{var F=this.i[k];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=k;break e}if(T===4096||k===this.i.length-1){T=k+1;break e}}T=1e3}else T=1e3;T=zm(this,le,T),k=An(this.J),Nt(k,"RID",v),Nt(k,"CVER",22),this.G&&Nt(k,"X-HTTP-Session-Id",this.G),Il(this,k),pe&&(this.R?T="headers="+Ie(Ai(pe))+"&"+T:this.u&&Cl(k,this.u,pe)),Dd(this.h,le),this.Ra&&Nt(k,"TYPE","init"),this.S?(Nt(k,"$req",T),Nt(k,"SID","null"),le.U=!0,_i(le,k,null)):_i(le,k,T),this.I=2}}else this.I==3&&(v?Yd(this,v):this.i.length==0||Md(this.h)||Yd(this))};function Yd(v,T){var k;T?k=T.l:k=v.V++;const F=An(v.J);Nt(F,"SID",v.M),Nt(F,"RID",k),Nt(F,"AID",v.K),Il(v,F),v.u&&v.o&&Cl(F,v.u,v.o),k=new mt(v,v.j,k,v.D+1),v.u===null&&(k.J=v.o),T&&(v.i=T.G.concat(v.i)),T=zm(v,k,1e3),k.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Dd(v.h,k),_i(k,F,T)}function Il(v,T){v.H&&Y(v.H,function(k,F){Nt(T,F,k)}),v.l&&Y({},function(k,F){Nt(T,F,k)})}function zm(v,T,k){k=Math.min(v.i.length,k);const F=v.l?h(v.l.Ka,v.l,v):null;e:{var le=v.i;let Je=-1;for(;;){const yn=["count="+k];Je==-1?k>0?(Je=le[0].g,yn.push("ofs="+Je)):Je=0:yn.push("ofs="+Je);let wt=!0;for(let an=0;an<k;an++){var pe=le[an].g;const Ti=le[an].map;if(pe-=Je,pe<0)Je=Math.max(0,le[an].g-100),wt=!1;else try{pe="req"+pe+"_"||"";try{var Pe=Ti instanceof Map?Ti:Object.entries(Ti);for(const[Oa,Qi]of Pe){let Ji=Qi;u(Qi)&&(Ji=ir(Qi)),yn.push(pe+Oa+"="+encodeURIComponent(Ji))}}catch(Oa){throw yn.push(pe+"type="+encodeURIComponent("_badmap")),Oa}}catch{F&&F(Ti)}}if(wt){Pe=yn.join("&");break e}}Pe=void 0}return v=v.i.splice(0,k),T.G=v,Pe}function Vm(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;B||j(),z||(B(),z=!0),N.add(T,v),v.A=0}}function Rl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Vr(h(v.Da,v),Bm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,$m(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Vr(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),xo(this),$m(this))};function Gd(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function $m(v){v.g=new mt(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=An(v.na);Nt(T,"RID","rpc"),Nt(T,"SID",v.M),Nt(T,"AID",v.K),Nt(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&Nt(T,"TO",v.ia),Nt(T,"TYPE","xmlhttp"),Il(v,T),v.u&&v.o&&Cl(T,v.u,v.o),v.O&&(v.g.H=v.O);var k=v.g;v=v.ba,k.M=1,k.A=Tl(An(T)),k.u=null,k.R=!0,fo(k,v)}t.Va=function(){this.C!=null&&(this.C=null,xo(this),Rl(this),nn(19))};function qc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Um(v,T){var k=null;if(v.g==T){qc(v),Gd(v),v.g=null;var F=2}else if(Sa(v.h,T))k=T.G,Ld(v.h,T),F=1;else return;if(v.I!=0){if(T.o)if(F==1){k=T.u?T.u.length:0,T=Date.now()-T.F;var le=v.D;F=wi(),Vt(F,new wr(F,k)),Na(v)}else Vm(v);else if(le=T.m,le==3||le==0&&T.X>0||!(F==1&&Bc(v,T)||F==2&&Rl(v)))switch(k&&k.length>0&&(T=v.h,T.i=T.i.concat(k)),le){case 1:Ca(v,5);break;case 4:Ca(v,10);break;case 3:Ca(v,6);break;default:Ca(v,2)}}}function Bm(v,T){let k=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(k*=2),k*T}function Ca(v,T){if(v.j.info("Error code "+T),T==2){var k=h(v.bb,v),F=v.Ua;const le=!F;F=new ai(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gn(F,"https"),Tl(F),le?Gi(F.toString(),k):qd(F.toString(),k)}else nn(2);v.I=0,v.l&&v.l.pa(T),qm(v),Uc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function qm(v){if(v.I=0,v.ja=[],v.l){const T=zd(v.h);(T.length!=0||v.i.length!=0)&&(S(v.ja,T),S(v.ja,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.oa()}}function Fm(v,T,k){var F=k instanceof ai?An(k):new ai(k);if(F.g!="")T&&(F.g=T+"."+F.g),ho(F,F.u);else{var le=l.location;F=le.protocol,T=T?T+"."+le.hostname:le.hostname,le=+le.port;const pe=new ai(null);F&&Gn(pe,F),T&&(pe.g=T),le&&ho(pe,le),k&&(pe.h=k),F=pe}return k=v.G,T=v.wa,k&&T&&Nt(F,k,T),Nt(F,"VER",v.ka),Il(v,F),F}function Hm(v,T,k){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new Rt(new Aa({ab:k})):new Rt(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Km(){}t=Km.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wo(){}wo.prototype.g=function(v,T){return new Rr(v,T)};function Rr(v,T){Tt.call(this),this.g=new bo(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!M(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new us(this)}g(Rr,Tt),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){Kd(this.g)},Rr.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var k={};k.__data__=v,v=k}else this.v&&(k={},k.__data__=ir(v),v=k);T.i.push(new En(T.Ya++,v)),T.I==3&&Na(T)},Rr.prototype.N=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,Rr.Z.N.call(this)};function Ym(v){cn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const k in T){v=k;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(Ym,cn);function Gm(){Yn.call(this),this.status=1}g(Gm,Yn);function us(v){this.g=v}g(us,Km),us.prototype.ra=function(){Vt(this.g,"a")},us.prototype.qa=function(v){Vt(this.g,new Ym(v))},us.prototype.pa=function(v){Vt(this.g,new Gm)},us.prototype.oa=function(){Vt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,zD=function(){return new wo},LD=function(){return wi()},DD=Kt,Mw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Tg=Ee,H.COMPLETE="complete",MD=H,ya.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Ff=ya,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,kD=Rt}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});const _C="@firebase/firestore",SC="4.9.3";let Ar=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let ud="12.7.0";const vc=new iS("@firebase/firestore");function Su(){return vc.logLevel}function Le(t,...e){if(vc.logLevel<=lt.DEBUG){const n=e.map(pS);vc.debug(`Firestore (${ud}): ${t}`,...n)}}function Bs(t,...e){if(vc.logLevel<=lt.ERROR){const n=e.map(pS);vc.error(`Firestore (${ud}): ${t}`,...n)}}function qu(t,...e){if(vc.logLevel<=lt.WARN){const n=e.map(pS);vc.warn(`Firestore (${ud}): ${t}`,...n)}}function pS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VD(t,r,n)}function VD(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bs(r),new Error(r)}function Et(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||VD(e,i,r)}function We(t,e){return t}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $D{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ar.UNAUTHENTICATED)))}shutdown(){}}class S7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class E7{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ms,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ms)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new $D(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Ar(e)}}class A7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class EC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=s=>{s.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new EC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new EC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class gS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=N7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function Dw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Ix(i)===Ix(s)?ct(i,s):Ix(i)?1:-1}return ct(t.length,e.length)}const C7=55296,O7=57343;function Ix(t){const e=t.charCodeAt(0);return e>=C7&&e<=O7}function Fu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const AC="__name__";class Da{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Da?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Da.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ct(e.length,n.length)}static compareSegments(e,n){const r=Da.isNumericId(e),i=Da.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Da.extractNumericId(e).compare(Da.extractNumericId(n)):Dw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rl.fromString(e.substring(4,e.length-2))}}class Gt extends Da{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const P7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Da{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return P7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AC}static keyField(){return new yr([AC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Re(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Re(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Re(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Re(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Gt.fromString(e))}static fromName(e){return new qe(Gt.fromString(e).popFirst(5))}static empty(){return new qe(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Gt(e.slice()))}}function UD(t,e,n){if(!n)throw new Re(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I7(t,e,n,r){if(e===!0&&r===!0)throw new Re(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TC(t){if(!qe.isDocumentKey(t))throw new Re(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jC(t){if(qe.isDocumentKey(t))throw new Re(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function d0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=d0(t);throw new Re(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function R7(t,e){if(e<=0)throw new Re(xe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gh(t,e){if(!BD(t))throw new Re(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Re(xe.INVALID_ARGUMENT,n);return!0}const NC=-62135596800,CC=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*CC);return new Ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NC)throw new Re(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CC}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gh(e,Ut._jsonSchema))return new Ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ut._jsonSchemaVersion="firestore/timestamp/1.0",Ut._jsonSchema={type:Rn("string",Ut._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Ut(0,0))}static max(){return new Ye(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lh=-1;function k7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new ol(i,qe.empty(),e)}function M7(t){return new ol(t.readTime,t.key,lh)}class ol{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ol(Ye.min(),qe.empty(),lh)}static max(){return new ol(Ye.max(),qe.empty(),lh)}}function D7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}const L7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dd(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==L7)throw t;Le("LocalStore","Unexpectedly lost primary lease")}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((i=>i?Ae.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new Ae(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function V7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fd(t){return t.name==="IndexedDbTransactionError"}class f0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}f0.ce=-1;const vS=-1;function h0(t){return t==null}function Yg(t){return t===0&&1/t==-1/0}function $7(t){return typeof t=="number"&&Number.isInteger(t)&&!Yg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const qD="";function U7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OC(e)),e=B7(t.get(n),e);return OC(e)}function B7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case qD:n+="";break;default:n+=s}}return n}function OC(t){return t+qD+""}function PC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class fn{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eg(this.root,e,this.comparator,!0)}}class eg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gr.RED,this.left=i??gr.EMPTY,this.right=s??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IC(this.data.getIterator())}getIteratorFrom(e){return new IC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $n(this.comparator);return n.data=e,n}}class IC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mi{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new mi([])}unionWith(e){let n=new $n(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class HD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HD("Invalid base64 string: "+s):s}})(e);return new xr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new xr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const q7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=q7.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?xr.fromBase64String(t):xr.fromUint8Array(t)}const KD="server_timestamp",YD="__type__",GD="__previous_value__",WD="__local_write_time__";function yS(t){return(t?.mapValue?.fields||{})[YD]?.stringValue===KD}function m0(t){const e=t.mapValue.fields[GD];return yS(e)?m0(e):e}function ch(t){const e=ll(t.mapValue.fields[WD].timestampValue);return new Ut(e.seconds,e.nanos)}class F7{constructor(e,n,r,i,s,l,u,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Gg="(default)";class uh{constructor(e,n){this.projectId=e,this.database=n||Gg}static empty(){return new uh("","")}get isDefaultDatabase(){return this.database===Gg}isEqual(e){return e instanceof uh&&e.projectId===this.projectId&&e.database===this.database}}const XD="__type__",H7="__max__",tg={mapValue:{}},QD="__vector__",Wg="value";function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yS(t)?4:Y7(t)?9007199254740991:K7(t)?10:11:He(28295,{value:t})}function Wa(t,e){if(t===e)return!0;const n=ul(t);if(n!==ul(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=ll(i.timestampValue),u=ll(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return cl(i.bytesValue).isEqual(cl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return _n(i.geoPointValue.latitude)===_n(s.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return _n(i.integerValue)===_n(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=_n(i.doubleValue),u=_n(s.doubleValue);return l===u?Yg(l)===Yg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(PC(l)!==PC(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Wa(l[f],u[f])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function dh(t,e){return(t.values||[]).find((n=>Wa(n,e)))!==void 0}function Hu(t,e){if(t===e)return 0;const n=ul(t),r=ul(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=_n(s.integerValue||s.doubleValue),f=_n(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return RC(t.timestampValue,e.timestampValue);case 4:return RC(ch(t),ch(e));case 5:return Dw(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=cl(s),f=cl(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=ct(u[h],f[h]);if(p!==0)return p}return ct(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=ct(_n(s.latitude),_n(l.latitude));return u!==0?u:ct(_n(s.longitude),_n(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kC(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},f=l.fields||{},h=u[Wg]?.arrayValue,p=f[Wg]?.arrayValue,g=ct(h?.values?.length||0,p?.values?.length||0);return g!==0?g:kC(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===tg.mapValue&&l===tg.mapValue)return 0;if(s===tg.mapValue)return 1;if(l===tg.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const b=Dw(f[g],p[g]);if(b!==0)return b;const _=Hu(u[f[g]],h[p[g]]);if(_!==0)return _}return ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function RC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=ll(t),r=ll(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function kC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Hu(n[i],r[i]);if(s)return s}return ct(n.length,r.length)}function Ku(t){return Lw(t)}function Lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ll(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return cl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Lw(n.fields[l])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function jg(t){switch(ul(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=m0(t);return e?16+jg(e):16;case 5:return 2*t.stringValue.length;case 6:return cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+jg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vl(r.fields,((s,l)=>{i+=s.length+jg(l)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function MC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zw(t){return!!t&&"integerValue"in t}function bS(t){return!!t&&"arrayValue"in t}function DC(t){return!!t&&"nullValue"in t}function LC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ng(t){return!!t&&"mapValue"in t}function K7(t){return(t?.mapValue?.fields||{})[XD]?.stringValue===QD}function Zf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return{...t}}function Y7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===H7}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ng(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Zf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ng(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ng(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Qr(Zf(this.value))}}function JD(t){const e=[];return vl(t.fields,((n,r)=>{const i=new yr([n]);if(Ng(r)){const s=JD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new mi(e)}class Tr{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Tr(e,0,Ye.min(),Ye.min(),Ye.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,i){return new Tr(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new Tr(e,2,n,Ye.min(),Ye.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,Ye.min(),Ye.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xg{constructor(e,n){this.position=e,this.inclusive=n}}function zC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=qe.comparator(qe.fromName(l.referenceValue),n.key):r=Hu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function VC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function G7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ZD{}class In extends ZD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X7(e,n,r):n==="array-contains"?new Z7(e,r):n==="in"?new eq(e,r):n==="not-in"?new tq(e,r):n==="array-contains-any"?new nq(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q7(e,r):new J7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hu(n,this.value)):n!==null&&ul(this.value)===ul(n)&&this.matchesComparison(Hu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends ZD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ua(e,n)}matches(e){return e4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e4(t){return t.op==="and"}function t4(t){return W7(t)&&e4(t)}function W7(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function Vw(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Ku(t.value);if(t4(t))return t.filters.map((e=>Vw(e))).join(",");{const e=t.filters.map((n=>Vw(n))).join(",");return`${t.op}(${e})`}}function n4(t,e){return t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)})(t,e):t instanceof ua?(function(r,i){return i instanceof ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&n4(l,i.filters[u])),!0):!1})(t,e):void He(19439)}function r4(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ku(n.value)}`})(t):t instanceof ua?(function(n){return n.op.toString()+" {"+n.getFilters().map(r4).join(" ,")+"}"})(t):"Filter"}class X7 extends In{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q7 extends In{constructor(e,n){super(e,"in",n),this.keys=i4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class J7 extends In{constructor(e,n){super(e,"not-in",n),this.keys=i4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function i4(t,e){return(e.arrayValue?.values||[]).map((n=>qe.fromName(n.referenceValue)))}class Z7 extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bS(n)&&dh(n.arrayValue,this.value)}}class eq extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dh(this.value.arrayValue,n)}}class tq extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dh(this.value.arrayValue,n)}}class nq extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>dh(this.value.arrayValue,r)))}}class rq{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function $C(t,e=null,n=[],r=[],i=null,s=null,l=null){return new rq(t,e,n,r,i,s,l)}function xS(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Vw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),h0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ku(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ku(r))).join(",")),e.Te=n}return e.Te}function wS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!n4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VC(t.startAt,e.startAt)&&VC(t.endAt,e.endAt)}function $w(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class hd{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iq(t,e,n,r,i,s,l,u){return new hd(t,e,n,r,i,s,l,u)}function p0(t){return new hd(t)}function UC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function a4(t){return t.collectionGroup!==null}function eh(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new $n(yr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new fh(s,r))})),n.has(yr.keyField().canonicalString())||e.Ie.push(new fh(yr.keyField(),r))}return e.Ie}function qa(t){const e=We(t);return e.Ee||(e.Ee=aq(e,eh(t))),e.Ee}function aq(t,e){if(t.limitType==="F")return $C(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new fh(i.field,s)}));const n=t.endAt?new Xg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xg(t.startAt.position,t.startAt.inclusive):null;return $C(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uw(t,e){const n=t.filters.concat([e]);return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qg(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function g0(t,e){return wS(qa(t),qa(e))&&t.limitType===e.limitType}function s4(t){return`${xS(qa(t))}|lt:${t.limitType}`}function Eu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>r4(i))).join(", ")}]`),h0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ku(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ku(i))).join(",")),`Target(${r})`})(qa(t))}; limitType=${t.limitType})`}function v0(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of eh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const h=zC(l,u,f);return l.inclusive?h<=0:h<0})(r.startAt,eh(r),i)||r.endAt&&!(function(l,u,f){const h=zC(l,u,f);return l.inclusive?h>=0:h>0})(r.endAt,eh(r),i))})(t,e)}function sq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function o4(t){return(e,n)=>{let r=!1;for(const i of eh(t)){const s=oq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oq(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(s,l,u){const f=l.data.field(s),h=u.data.field(s);return f!==null&&h!==null?Hu(f,h):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return FD(this.inner)}size(){return this.innerSize}}const lq=new fn(qe.comparator);function qs(){return lq}const l4=new fn(qe.comparator);function Hf(...t){let e=l4;for(const n of t)e=e.insert(n.key,n);return e}function c4(t){let e=l4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function tc(){return th()}function u4(){return th()}function th(){return new Cc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cq=new fn(qe.comparator),uq=new $n(qe.comparator);function ut(...t){let e=uq;for(const n of t)e=e.add(n);return e}const dq=new $n(ct);function fq(){return dq}function _S(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yg(e)?"-0":e}}function d4(t){return{integerValue:""+t}}function hq(t,e){return $7(e)?d4(e):_S(t,e)}class y0{constructor(){this._=void 0}}function mq(t,e,n){return t instanceof hh?(function(i,s){const l={fields:{[YD]:{stringValue:KD},[WD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yS(s)&&(s=m0(s)),s&&(l.fields[GD]=s),{mapValue:l}})(n,e):t instanceof mh?h4(t,e):t instanceof ph?m4(t,e):(function(i,s){const l=f4(i,s),u=BC(l)+BC(i.Ae);return zw(l)&&zw(i.Ae)?d4(u):_S(i.serializer,u)})(t,e)}function pq(t,e,n){return t instanceof mh?h4(t,e):t instanceof ph?m4(t,e):n}function f4(t,e){return t instanceof Jg?(function(r){return zw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class hh extends y0{}class mh extends y0{constructor(e){super(),this.elements=e}}function h4(t,e){const n=p4(e);for(const r of t.elements)n.some((i=>Wa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ph extends y0{constructor(e){super(),this.elements=e}}function m4(t,e){let n=p4(e);for(const r of t.elements)n=n.filter((i=>!Wa(i,r)));return{arrayValue:{values:n}}}class Jg extends y0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BC(t){return _n(t.integerValue||t.doubleValue)}function p4(t){return bS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class gq{constructor(e,n){this.field=e,this.transform=n}}function vq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof mh&&i instanceof mh||r instanceof ph&&i instanceof ph?Fu(r.elements,i.elements,Wa):r instanceof Jg&&i instanceof Jg?Wa(r.Ae,i.Ae):r instanceof hh&&i instanceof hh})(t.transform,e.transform)}class yq{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class b0{}function g4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x0(t.key,Lr.none()):new Wh(t.key,t.data,Lr.none());{const n=t.data,r=Qr.empty();let i=new $n(yr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new yl(t.key,r,new mi(i.toArray()),Lr.none())}}function bq(t,e,n){t instanceof Wh?(function(i,s,l){const u=i.value.clone(),f=FC(i.fieldTransforms,s,l.transformResults);u.setAll(f),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof yl?(function(i,s,l){if(!Cg(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=FC(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(v4(i)),f.setAll(u),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function nh(t,e,n,r){return t instanceof Wh?(function(s,l,u,f){if(!Cg(s.precondition,l))return u;const h=s.value.clone(),p=HC(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof yl?(function(s,l,u,f){if(!Cg(s.precondition,l))return u;const h=HC(s.fieldTransforms,f,l),p=l.data;return p.setAll(v4(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return Cg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function xq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=f4(r.transform,i||null);s!=null&&(n===null&&(n=Qr.empty()),n.set(r.field,s))}return n||null}function qC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fu(r,i,((s,l)=>vq(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends b0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yl extends b0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function v4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function FC(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,pq(l,u,n[i]))}return r}function HC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,mq(s,l,e))}return r}class x0 extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wq extends b0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _q{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=u4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const f=g4(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,((n,r)=>qC(n,r)))&&Fu(this.baseMutations,e.baseMutations,((n,r)=>qC(n,r)))}}class SS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return cq})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new SS(e,n,r,i)}}class Sq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Eq{constructor(e,n){this.count=e,this.unchangedNames=n}}var On,ft;function Aq(t){switch(t){case xe.OK:return He(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function y4(t){if(t===void 0)return Bs("GRPC error has no .code"),xe.UNKNOWN;switch(t){case On.OK:return xe.OK;case On.CANCELLED:return xe.CANCELLED;case On.UNKNOWN:return xe.UNKNOWN;case On.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case On.INTERNAL:return xe.INTERNAL;case On.UNAVAILABLE:return xe.UNAVAILABLE;case On.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case On.NOT_FOUND:return xe.NOT_FOUND;case On.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case On.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case On.ABORTED:return xe.ABORTED;case On.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case On.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case On.DATA_LOSS:return xe.DATA_LOSS;default:return He(39323,{code:t})}}(ft=On||(On={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";function Tq(){return new TextEncoder}const jq=new rl([4294967295,4294967295],0);function KC(t){const e=Tq().encode(t),n=new RD;return n.update(e),new Uint8Array(n.digest())}function YC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rl([n,r],0),new rl([i,s],0)]}class ES{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kf(`Invalid padding: ${n}`);if(r<0)throw new Kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(rl.fromNumber(r)));return i.compare(jq)===1&&(i=new rl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KC(e),[r,i]=YC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new ES(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=KC(e),[r,i]=YC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class w0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new w0(Ye.min(),i,new fn(ct),qs(),ut())}}class Xh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xh(r,n,ut(),ut(),ut())}}class Og{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class b4{constructor(e,n){this.targetId=e,this.Ce=n}}class x4{constructor(e,n,r=xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class GC{constructor(){this.ve=0,this.Fe=WC(),this.Me=xr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:s})}})),new Xh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=WC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nq{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=ng(),this.He=ng(),this.Ye=new fn(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if($w(s))if(r===0){const l=new qe(s.path);this.et(n,l,Tr.newNoDocument(l,Ye.min()))}else Et(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=cl(r).toUint8Array()}catch(f){if(f instanceof HD)return qu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new ES(l,i,s)}catch(f){return qu(f instanceof Kf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&$w(u.target)){const f=new qe(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Tr.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ut();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new w0(e,n,this.Ye,this.je,r);return this.je=qs(),this.Je=ng(),this.He=ng(),this.Ye=new fn(ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new GC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $n(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $n(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ng(){return new fn(qe.comparator)}function WC(){return new fn(qe.comparator)}const Cq={asc:"ASCENDING",desc:"DESCENDING"},Oq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pq={and:"AND",or:"OR"};class Iq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bw(t,e){return t.useProto3Json||h0(e)?e:{value:e}}function Zg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rq(t,e){return Zg(t,e.toTimestamp())}function Fa(t){return Et(!!t,49232),Ye.fromTimestamp((function(n){const r=ll(n);return new Ut(r.seconds,r.nanos)})(t))}function AS(t,e){return qw(t,e).canonicalString()}function qw(t,e){const n=(function(i){return new Gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _4(t){const e=Gt.fromString(t);return Et(j4(e),10190,{key:e.toString()}),e}function Fw(t,e){return AS(t.databaseId,e.path)}function Rx(t,e){const n=_4(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(E4(n))}function S4(t,e){return AS(t.databaseId,e)}function kq(t){const e=_4(t);return e.length===4?Gt.emptyPath():E4(e)}function Hw(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E4(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XC(t,e,n){return{name:Fw(t,e),fields:n.value.mapValue.fields}}function Mq(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:He(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Et(p===void 0||typeof p=="string",58123),xr.fromBase64String(p||"")):(Et(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),xr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?xe.UNKNOWN:y4(h.code);return new Re(p,h.message||"")})(l);n=new x4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rx(t,r.document.name),s=Fa(r.document.updateTime),l=r.document.createTime?Fa(r.document.createTime):Ye.min(),u=new Qr({mapValue:{fields:r.document.fields}}),f=Tr.newFoundDocument(i,s,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Og(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rx(t,r.document),s=r.readTime?Fa(r.readTime):Ye.min(),l=Tr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Og([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rx(t,r.document),s=r.removedTargetIds||[];n=new Og([],s,i,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Eq(i,s),u=r.targetId;n=new b4(u,l)}}return n}function Dq(t,e){let n;if(e instanceof Wh)n={update:XC(t,e.key,e.value)};else if(e instanceof x0)n={delete:Fw(t,e.key)};else if(e instanceof yl)n={update:XC(t,e.key,e.data),updateMask:Hq(e.fieldMask)};else{if(!(e instanceof wq))return He(16599,{Vt:e.type});n={verify:Fw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof hh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ph)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Jg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw He(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Rq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function Lq(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Fa(i.updateTime):Fa(s);return l.isEqual(Ye.min())&&(l=Fa(s)),new yq(l,i.transformResults||[])})(n,e)))):[]}function zq(t,e){return{documents:[S4(t,e.path)]}}function Vq(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=S4(t,i);const s=(function(h){if(h.length!==0)return T4(ua.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(b){return{field:Au(b.field),direction:Bq(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Bw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function $q(t){let e=kq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=A4(g);return b instanceof ua&&t4(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(S){return new fh(Tu(S.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,h0(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(g){const b=!!g.before,_=g.values||[];return new Xg(_,b)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const b=!g.before,_=g.values||[];return new Xg(_,b)})(n.endAt)),iq(e,i,l,s,u,"F",f,h)}function Uq(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function A4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tu(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tu(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tu(n.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tu(n.unaryFilter.field);return In.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(Tu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ua.create(n.compositeFilter.filters.map((r=>A4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function Bq(t){return Cq[t]}function qq(t){return Oq[t]}function Fq(t){return Pq[t]}function Au(t){return{fieldPath:t.canonicalString()}}function Tu(t){return yr.fromServerFormat(t.fieldPath)}function T4(t){return t instanceof In?(function(n){if(n.op==="=="){if(LC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NAN"}};if(DC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NAN"}};if(DC(n.value))return{unaryFilter:{field:Au(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(n.field),op:qq(n.op),value:n.value}}})(t):t instanceof ua?(function(n){const r=n.getFilters().map((i=>T4(i)));return r.length===1?r[0]:{compositeFilter:{op:Fq(n.op),filters:r}}})(t):He(54877,{filter:t})}function Hq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function j4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Jo{constructor(e,n,r,i,s=Ye.min(),l=Ye.min(),u=xr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kq{constructor(e){this.yt=e}}function Yq(t){const e=$q({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qg(e,e.limit,"L"):e}class Gq{constructor(){this.Cn=new Wq}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(ol.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class Wq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $n(Gt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $n(Gt.comparator)).toArray()}}const QC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N4=41943040;class Wr{static withCacheSize(e){return new Wr(e,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Wr.DEFAULT_COLLECTION_PERCENTILE=10,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wr.DEFAULT=new Wr(N4,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wr.DISABLED=new Wr(-1,0,0);class Yu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yu(0)}static cr(){return new Yu(-1)}}const JC="LruGarbageCollector",Xq=1048576;function ZC([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class Qq{constructor(e){this.Ir=e,this.buffer=new $n(ZC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(JC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fd(n)?Le(JC,"Ignoring IndexedDB error during garbage collection: ",n):await dd(n)}await this.Vr(3e5)}))}}class Zq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(f0.ce);const r=new Qq(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(QC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Su()<=lt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function eF(t,e){return new Zq(t,e)}class tF{constructor(){this.changes=new Cc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&nh(r.mutation,i,mi.empty(),Ut.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const i=tc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Hf();return s.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=tc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=qs();const l=th(),u=(function(){return th()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof yl)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),nh(p.mutation,h,p.mutation.getFieldMask(),Ut.now())):l.set(h.key,mi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new nF(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=th();let i=new fn(((l,u)=>l-u)),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||mi.empty();p=u.applyToLocalView(h,p),r.set(f,p);const g=(i.get(u.batchId)||ut()).add(f);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,g=u4();p.forEach((b=>{if(!s.has(b)){const _=g4(n.get(b),r.get(b));_!==null&&g.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ae.resolve(tc());let u=lh,f=s;return l.next((h=>Ae.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?Ae.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{f=f.insert(p,b)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,ut()))).next((p=>({batchId:u,changes:c4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=Hf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Hf();return this.indexManager.getCollectionParents(e,s).next((u=>Ae.forEach(u,(f=>{const h=(function(g,b){return new hd(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Tr.newInvalidDocument(p)))}));let u=Hf();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&nh(p.mutation,h,mi.empty(),Ut.now()),v0(n,h)&&(u=u.insert(f,h))})),u}))}}class iF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fa(i.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Yq(i.bundledQuery),readTime:Fa(i.readTime)}})(n)),Ae.resolve()}}class aF{constructor(){this.overlays=new fn(qe.comparator),this.qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tc();return Ae.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=tc(),s=n.length+1,l=new qe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new fn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=tc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=tc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return Ae.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Sq(n,r));let s=this.qr.get(n);s===void 0&&(s=ut(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class sF{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}class TS{constructor(){this.Qr=new $n(Jn.$r),this.Ur=new $n(Jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Jn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Jn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new qe(new Gt([])),r=new Jn(n,e),i=new Jn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new qe(new Gt([])),r=new Jn(n,e),i=new Jn(n,e+1);let s=ut();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Jn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return qe.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||qe.comparator(e.key,n.key)}}class oF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $n(Jn.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new _q(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Jn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?vS:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jn(n,0),i=new Jn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $n(ct);return n.forEach((i=>{const s=new Jn(i,0),l=new Jn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),Ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const l=new Jn(new qe(s),0);let u=new $n(ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Yr)),!0)}),l),Ae.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ae.forEach(n.mutations,(i=>{const s=new Jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Jn(n,0),i=this.Zr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lF{constructor(e){this.ri=e,this.docs=(function(){return new fn(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tr.newInvalidDocument(i))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qs();const l=n.path,u=new qe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||D7(M7(p),r)<=0||(i.has(p.key)||v0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Ae.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ii(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cF(this)}getSize(e){return Ae.resolve(this.size)}}class cF extends tF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class uF{constructor(e){this.persistence=e,this.si=new Cc((n=>xS(n)),wS),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new TS,this.targetCount=0,this.ai=Yu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Pr(n),Ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ae.waitFor(s).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Ae.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this._i.containsKey(n))}}class C4{constructor(e,n){this.ui={},this.overlays={},this.ci=new f0(0),this.li=!1,this.li=!0,this.hi=new sF,this.referenceDelegate=e(this),this.Pi=new uF(this),this.indexManager=new Gq,this.remoteDocumentCache=(function(i){return new lF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Kq(n),this.Ii=new iF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new oF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new dF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class dF extends z7{constructor(e){super(),this.currentSequenceNumber=e}}class jS{constructor(e){this.persistence=e,this.Ri=new TS,this.Vi=null}static mi(e){return new jS(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(r=>{const i=qe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ev{constructor(e,n){this.persistence=e,this.pi=new Cc((r=>U7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=eF(this,n)}static mi(e,n){return new ev(e,n)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ae.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ae.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Ye.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jg(e.data.value)),n}br(e,n,r){return Ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class NS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ut(),i=ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new NS(e,n.fromCache,r,i)}}class fF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return e$()?8:V7(Or())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new fF;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Su()<=lt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Eu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(Su()<=lt.DEBUG&&Le("QueryEngine","Query:",Eu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Su()<=lt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Eu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qa(n))):Ae.resolve())}ys(e,n){if(UC(n))return Ae.resolve(null);let r=qa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Qg(n,null,"F"),r=qa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ut(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,u);return this.Cs(n,h,l,f.readTime)?this.ys(e,Qg(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return UC(n)||i.isEqual(Ye.min())?Ae.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?Ae.resolve(null):(Su()<=lt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eu(n)),this.vs(e,l,n,k7(i,lh)).next((u=>u)))}))}Ds(e,n){let r=new $n(o4(e));return n.forEach(((i,s)=>{v0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Su()<=lt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Eu(n)),this.ps.getDocumentsMatchingQuery(e,n,ol.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const CS="LocalStore",mF=3e8;class pF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new fn(ct),this.xs=new Cc((s=>xS(s)),wS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function gF(t,e,n,r){return new pF(t,e,n,r)}async function O4(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let f=ut();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function vF(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,p){const g=h.batch,b=g.keys();let _=Ae.resolve();return b.forEach((S=>{_=_.next((()=>p.getEntry(f,S))).next((A=>{const E=h.docVersions.get(S);Et(E!==null,48541),A.version.compareTo(E)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ut();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function P4(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function yF(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(xr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(A,E,C){return A.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=mF?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(s,_))}));let f=qs(),h=ut();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(bF(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Ye.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return Ae.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function bF(t,e,n){let r=ut(),i=ut();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=qs();return n.forEach(((u,f)=>{const h=s.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Ye.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Le(CS,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function xF(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function wF(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ae.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Jo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Kw(t,e,n){const r=We(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!fd(l))throw l;Le(CS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function eO(t,e,n){const r=We(t);let i=Ye.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=We(f),b=g.xs.get(p);return b!==void 0?Ae.resolve(g.Ms.get(b)):g.Pi.getTargetData(h,p)})(r,l,qa(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ye.min(),n?s:ut()))).next((u=>(_F(r,sq(e),u),{documents:u,Qs:s})))))}function _F(t,e,n){let r=t.Os.get(e)||Ye.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class tO{constructor(){this.activeTargetIds=fq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SF{constructor(){this.Mo=new tO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class EF{Oo(e){}shutdown(){}}const nO="ConnectivityMonitor";class rO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(nO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(nO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rg=null;function Yw(){return rg===null?rg=(function(){return 268435456+Math.round(2147483648*Math.random())})():rg++,"0x"+rg.toString(16)}const kx="RestConnection",AF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Yw(),u=this.zo(e,n.toUriEncodedString());Le(kx,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:h}=new URL(u),p=od(h);return this.Jo(e,u,f,r,p).then((g=>(Le(kx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw qu(kx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=AF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class jF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Sr="WebChannelConnection";class NF extends TF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Yw();return new Promise(((u,f)=>{const h=new kD;h.setWithCredentials(!0),h.listenOnce(MD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Tg.NO_ERROR:const g=h.getResponseJson();Le(Sr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Tg.TIMEOUT:Le(Sr,`RPC '${e}' ${l} timed out`),f(new Re(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Tg.HTTP_ERROR:const b=h.getStatus();if(Le(Sr,`RPC '${e}' ${l} failed with status:`,b,"response text:",h.getResponseText()),b>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const A=(function(C){const $=C.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf($)>=0?$:xe.UNKNOWN})(S.status);f(new Re(A,S.message))}else f(new Re(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Re(xe.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Le(Sr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Le(Sr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Yw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zD(),u=LD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");Le(Sr,`Creating RPC '${e}' stream ${i}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let b=!1,_=!1;const S=new jF({Yo:E=>{_?Le(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(b||(Le(Sr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Le(Sr,`RPC '${e}' stream ${i} sending:`,E),g.send(E))},Zo:()=>g.close()}),A=(E,C,$)=>{E.listen(C,(D=>{try{$(D)}catch(U){setTimeout((()=>{throw U}),0)}}))};return A(g,Ff.EventType.OPEN,(()=>{_||(Le(Sr,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),A(g,Ff.EventType.CLOSE,(()=>{_||(_=!0,Le(Sr,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(g))})),A(g,Ff.EventType.ERROR,(E=>{_||(_=!0,qu(Sr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new Re(xe.UNAVAILABLE,"The operation could not be completed")))})),A(g,Ff.EventType.MESSAGE,(E=>{if(!_){const C=E.data[0];Et(!!C,16349);const $=C,D=$?.error||$[0]?.error;if(D){Le(Sr,`RPC '${e}' stream ${i} received error:`,D);const U=D.status;let B=(function(j){const R=On[j];if(R!==void 0)return y4(R)})(U),z=D.message;B===void 0&&(B=xe.INTERNAL,z="Unknown error status: "+U+" with message "+D.message),_=!0,S.a_(new Re(B,z)),g.close()}else Le(Sr,`RPC '${e}' stream ${i} received:`,C),S.u_(C)}})),A(u,DD.STAT_EVENT,(E=>{E.stat===Mw.PROXY?Le(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Mw.NOPROXY&&Le(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mx(){return typeof document<"u"?document:null}function _0(t){return new Iq(t,!0)}class I4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iO="PersistentStream";class R4{constructor(e,n,r,i,s,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new I4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Re(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(iO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Le(iO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CF extends R4{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Mq(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ye.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ye.min():l.readTime?Fa(l.readTime):Ye.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Hw(this.serializer),n.addTarget=(function(s,l){let u;const f=l.target;if(u=$w(f)?{documents:zq(s,f)}:{query:Vq(s,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=w4(s,l.resumeToken);const h=Bw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ye.min())>0){u.readTime=Zg(s,l.snapshotVersion.toTimestamp());const h=Bw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=Uq(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Hw(this.serializer),n.removeTarget=e,this.q_(n)}}class OF extends R4{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Lq(e.writeResults,e.commitTime),r=Fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Dq(this.serializer,r)))};this.q_(n)}}class PF{}class IF extends PF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Re(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,qw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(xe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,qw(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(xe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):Le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const yc="RemoteStore";class kF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Oc(this)&&(Le(yc,"Restarting streams for network reachability change."),await(async function(f){const h=We(f);h.Ea.add(4),await Qh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await S0(h)})(this))}))})),this.Ra=new RF(r,i)}}async function S0(t){if(Oc(t))for(const e of t.da)await e(!0)}async function Qh(t){for(const e of t.da)await e(!1)}function k4(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),RS(n)?IS(n):md(n).O_()&&PS(n,e))}function OS(t,e){const n=We(t),r=md(n);n.Ia.delete(e),r.O_()&&M4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Oc(n)&&n.Ra.set("Unknown"))}function PS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}md(t).Y_(e)}function M4(t,e){t.Va.Ue(e),md(t).Z_(e)}function IS(t){t.Va=new Nq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),md(t).start(),t.Ra.ua()}function RS(t){return Oc(t)&&!md(t).x_()&&t.Ia.size>0}function Oc(t){return We(t).Ea.size===0}function D4(t){t.Va=void 0}async function MF(t){t.Ra.set("Online")}async function DF(t){t.Ia.forEach(((e,n)=>{PS(t,e)}))}async function LF(t,e){D4(t),RS(t)?(t.Ra.ha(e),IS(t)):t.Ra.set("Unknown")}async function zF(t,e,n){if(t.Ra.set("Online"),e instanceof x4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Le(yc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tv(t,r)}else if(e instanceof Og?t.Va.Ze(e):e instanceof b4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ye.min()))try{const r=await P4(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(xr.EMPTY_BYTE_STRING,p.snapshotVersion)),M4(s,f);const g=new Jo(p.target,f,h,p.sequenceNumber);PS(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Le(yc,"Failed to raise snapshot:",r),await tv(t,r)}}async function tv(t,e,n){if(!fd(e))throw e;t.Ea.add(1),await Qh(t),t.Ra.set("Offline"),n||(n=()=>P4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Le(yc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await S0(t)}))}function L4(t,e){return e().catch((n=>tv(t,n,e)))}async function E0(t){const e=We(t),n=dl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vS;for(;VF(e);)try{const i=await xF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,$F(e,i)}catch(i){await tv(e,i)}z4(e)&&V4(e)}function VF(t){return Oc(t)&&t.Ta.length<10}function $F(t,e){t.Ta.push(e);const n=dl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function z4(t){return Oc(t)&&!dl(t).x_()&&t.Ta.length>0}function V4(t){dl(t).start()}async function UF(t){dl(t).ra()}async function BF(t){const e=dl(t);for(const n of t.Ta)e.ea(n.mutations)}async function qF(t,e,n){const r=t.Ta.shift(),i=SS.from(r,e,n);await L4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await E0(t)}async function FF(t,e){e&&dl(t).X_&&await(async function(r,i){if((function(l){return Aq(l)&&l!==xe.ABORTED})(i.code)){const s=r.Ta.shift();dl(r).B_(),await L4(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await E0(r)}})(t,e),z4(t)&&V4(t)}async function aO(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Le(yc,"RemoteStore received new credentials");const r=Oc(n);n.Ea.add(3),await Qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await S0(n)}async function HF(t,e){const n=We(t);e?(n.Ea.delete(2),await S0(n)):e||(n.Ea.add(2),await Qh(n),n.Ra.set("Unknown"))}function md(t){return t.ma||(t.ma=(function(n,r,i){const s=We(n);return s.sa(),new CF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:MF.bind(null,t),t_:DF.bind(null,t),r_:LF.bind(null,t),H_:zF.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),RS(t)?IS(t):t.Ra.set("Unknown")):(await t.ma.stop(),D4(t))}))),t.ma}function dl(t){return t.fa||(t.fa=(function(n,r,i){const s=We(n);return s.sa(),new OF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UF.bind(null,t),r_:FF.bind(null,t),ta:BF.bind(null,t),na:qF.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await E0(t)):(await t.fa.stop(),t.Ta.length>0&&(Le(yc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class kS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new kS(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MS(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),fd(t))return new Re(xe.UNAVAILABLE,`${e}: ${t}`);throw t}class Lu{static emptySet(e){return new Lu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Hf(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class sO{constructor(){this.ga=new fn(qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Gu{constructor(e,n,r,i,s,l,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Gu(e,n,Lu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class KF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YF{constructor(){this.queries=oO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=We(n),s=i.queries;i.queries=oO(),s.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Re(xe.ABORTED,"Firestore shutting down"))}}function oO(){return new Cc((t=>s4(t)),g0)}async function DS(t,e){const n=We(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new KF,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=MS(l,`Initialization of query '${Eu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&zS(n)}async function LS(t,e){const n=We(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GF(t,e){const n=We(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&zS(n)}function WF(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function zS(t){t.Ca.forEach((e=>{e.next()}))}var Gw,lO;(lO=Gw||(Gw={})).Ma="default",lO.Cache="cache";class VS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gw.Cache}}class $4{constructor(e){this.key=e}}class U4{constructor(e){this.key=e}}class XF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=o4(e),this.tu=new Lu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sO,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),_=v0(this.query,g)?g:null,S=!!b&&this.mutatedKeys.has(b.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;b&&_?b.data.isEqual(_.data)?S!==A&&(r.track({type:3,doc:_}),E=!0):this.su(b,_)||(r.track({type:2,doc:_}),E=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(u=!0)):!b&&_?(r.track({type:0,doc:_}),E=!0):b&&!_&&(r.track({type:1,doc:b}),E=!0,(f||h)&&(u=!0)),E&&(_?(l=l.add(_),s=A?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,S){const A=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:E})}};return A(_)-A(S)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Gu(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new U4(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new $4(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Gu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $S="SyncEngine";class QF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JF{constructor(e){this.key=e,this.hu=!1}}class ZF{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Cc((u=>s4(u)),g0),this.Iu=new Map,this.Eu=new Set,this.du=new fn(qe.comparator),this.Au=new Map,this.Ru=new TS,this.Vu={},this.mu=new Map,this.fu=Yu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eH(t,e,n=!0){const r=Y4(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await B4(r,e,n,!0),i}async function tH(t,e){const n=Y4(t);await B4(n,e,!0,!1)}async function B4(t,e,n,r){const i=await wF(t.localStore,qa(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await nH(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&k4(t.remoteStore,i),u}async function nH(t,e,n,r,i){t.pu=(g,b,_)=>(async function(A,E,C,$){let D=E.view.ru(C);D.Cs&&(D=await eO(A.localStore,E.query,!1).then((({documents:N})=>E.view.ru(N,D))));const U=$&&$.targetChanges.get(E.targetId),B=$&&$.targetMismatches.get(E.targetId)!=null,z=E.view.applyChanges(D,A.isPrimaryClient,U,B);return uO(A,E.targetId,z.au),z.snapshot})(t,g,b,_);const s=await eO(t.localStore,e,!0),l=new XF(e,s.Qs),u=l.ru(s.documents),f=Xh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,f);uO(t,n,h.au);const p=new QF(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function rH(t,e,n){const r=We(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!g0(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&OS(r.remoteStore,i.targetId),Ww(r,i.targetId)})).catch(dd)):(Ww(r,i.targetId),await Kw(r.localStore,i.targetId,!0))}async function iH(t,e){const n=We(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),OS(n.remoteStore,r.targetId))}async function aH(t,e,n){const r=fH(t);try{const i=await(function(l,u){const f=We(l),h=Ut.now(),p=u.reduce(((_,S)=>_.add(S.key)),ut());let g,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=qs(),A=ut();return f.Ns.getEntries(_,p).next((E=>{S=E,S.forEach(((C,$)=>{$.isValidDocument()||(A=A.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,S))).next((E=>{g=E;const C=[];for(const $ of u){const D=xq($,g.get($.key).overlayedDocument);D!=null&&C.push(new yl($.key,D,JD(D.value.mapValue),Lr.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,C,u)})).next((E=>{b=E;const C=E.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(_,E.batchId,C)}))})).then((()=>({batchId:b.batchId,changes:c4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new fn(ct)),h=h.insert(u,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await Jh(r,i.changes),await E0(r.remoteStore)}catch(i){const s=MS(i,"Failed to persist write");n.reject(s)}}async function q4(t,e){const n=We(t);try{const r=await yF(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Et(l.hu,14607):i.removedDocuments.size>0&&(Et(l.hu,42227),l.hu=!1))})),await Jh(n,r,e)}catch(r){await dd(r)}}function cO(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=We(l);f.onlineState=u;let h=!1;f.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(h=!0)})),h&&zS(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sH(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new fn(qe.comparator);l=l.insert(s,Tr.newNoDocument(s,Ye.min()));const u=ut().add(s),f=new w0(Ye.min(),new Map,new fn(ct),l,u);await q4(r,f),r.du=r.du.remove(s),r.Au.delete(e),US(r)}else await Kw(r.localStore,e,!1).then((()=>Ww(r,e,n))).catch(dd)}async function oH(t,e){const n=We(t),r=e.batch.batchId;try{const i=await vF(n.localStore,e);H4(n,r,null),F4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jh(n,i)}catch(i){await dd(i)}}async function lH(t,e,n){const r=We(t);try{const i=await(function(l,u){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,u).next((g=>(Et(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);H4(r,e,n),F4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jh(r,i)}catch(i){await dd(i)}}function F4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function H4(t,e,n){const r=We(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ww(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||K4(t,r)}))}function K4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(OS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),US(t))}function uO(t,e,n){for(const r of n)r instanceof $4?(t.Ru.addReference(r.key,e),cH(t,r)):r instanceof U4?(Le($S,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||K4(t,r.key)):He(19791,{wu:r})}function cH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Le($S,"New document in limbo: "+n),t.Eu.add(r),US(t))}function US(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(Gt.fromString(e)),r=t.fu.next();t.Au.set(r,new JF(n)),t.du=t.du.insert(n,r),k4(t.remoteStore,new Jo(qa(p0(n.path)),r,"TargetPurposeLimboResolution",f0.ce))}}async function Jh(t,e,n){const r=We(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=NS.As(f.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=We(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ae.forEach(h,(b=>Ae.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(g,b.targetId,_))).next((()=>Ae.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(g,b.targetId,_)))))))))}catch(g){if(!fd(g))throw g;Le(CS,"Failed to update sequence numbers: "+g)}for(const g of h){const b=g.targetId;if(!g.fromCache){const _=p.Ms.get(b),S=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(b,A)}}})(r.localStore,s))}async function uH(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Le($S,"User change. New user:",e.toKey());const r=await O4(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Re(xe.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jh(n,r.Ls)}}function dH(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let i=ut();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function Y4(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=q4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sH.bind(null,e),e.Pu.H_=GF.bind(null,e.eventManager),e.Pu.yu=WF.bind(null,e.eventManager),e}function fH(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lH.bind(null,e),e}class nv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gF(this.persistence,new hF,e.initialUser,this.serializer)}Cu(e){return new C4(jS.mi,this.serializer)}Du(e){return new SF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nv.provider={build:()=>new nv};class hH extends nv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof ev,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Jq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wr.withCacheSize(this.cacheSizeBytes):Wr.DEFAULT;return new C4((r=>ev.mi(r,n)),this.serializer)}}class Xw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uH.bind(null,this.syncEngine),await HF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YF})()}createDatastore(e){const n=_0(e.databaseInfo.databaseId),r=(function(s){return new NF(s)})(e.databaseInfo);return(function(s,l,u,f){return new IF(s,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new kF(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>cO(this.syncEngine,n,0)),(function(){return rO.v()?new rO:new EF})())}createSyncEngine(e,n){return(function(i,s,l,u,f,h,p){const g=new ZF(i,s,l,u,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=We(n);Le(yc,"RemoteStore shutting down."),r.Ea.add(5),await Qh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xw.provider={build:()=>new Xw};class BS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fl="FirestoreClient";class mH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=gS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Le(fl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Le(fl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=MS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dx(t,e){t.asyncQueue.verifyOperationInProgress(),Le(fl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await O4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pH(t);Le(fl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>aO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>aO(e.remoteStore,i))),t._onlineComponents=e}async function pH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le(fl,"Using user provided OfflineComponentProvider");try{await Dx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;qu("Error using user provided cache. Falling back to memory cache: "+n),await Dx(t,new nv)}}else Le(fl,"Using default OfflineComponentProvider"),await Dx(t,new hH(void 0));return t._offlineComponents}async function G4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le(fl,"Using user provided OnlineComponentProvider"),await dO(t,t._uninitializedComponentsProvider._online)):(Le(fl,"Using default OnlineComponentProvider"),await dO(t,new Xw))),t._onlineComponents}function gH(t){return G4(t).then((e=>e.syncEngine))}async function rv(t){const e=await G4(t),n=e.eventManager;return n.onListen=eH.bind(null,e.syncEngine),n.onUnlisten=rH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iH.bind(null,e.syncEngine),n}function W4(t,e,n={}){const r=new Ms;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,h){const p=new BS({next:b=>{p.Nu(),l.enqueueAndForget((()=>LS(s,g)));const _=b.docs.has(u);!_&&b.fromCache?h.reject(new Re(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&f&&f.source==="server"?h.reject(new Re(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new VS(p0(u.path),p,{includeMetadataChanges:!0,qa:!0});return DS(s,g)})(await rv(t),t.asyncQueue,e,n,r))),r.promise}function vH(t,e,n={}){const r=new Ms;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,h){const p=new BS({next:b=>{p.Nu(),l.enqueueAndForget((()=>LS(s,g))),b.fromCache&&f.source==="server"?h.reject(new Re(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new VS(u,p,{includeMetadataChanges:!0,qa:!0});return DS(s,g)})(await rv(t),t.asyncQueue,e,n,r))),r.promise}function X4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const fO=new Map;const Q4="firestore.googleapis.com",hO=!0;class mO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q4,this.ssl=hO}else this.host=e.host,this.ssl=e.ssl??hO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xq)throw new Re(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _7;switch(r.type){case"firstParty":return new T7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=fO.get(n);r&&(Le("ComponentProvider","Removing Datastore"),fO.delete(n),r.terminate())})(this),Promise.resolve()}}function yH(t,e,n,r={}){t=br(t,A0);const i=od(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(GM(`https://${u}`),WM("Firestore",!0)),s.host!==Q4&&s.host!==u&&qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:i,emulatorOptions:r};if(!mc(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ar.MOCK_USER;else{h=H8(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Re(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ar(g)}t._authCredentials=new S7(new $D(h,p))}}class to{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gh(n,dn._jsonSchema))return new dn(e,r||null,new qe(Gt.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Rn("string",dn._jsonSchemaVersion),referencePath:Rn("string")};class il extends to{constructor(e,n,r){super(e,n,p0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new qe(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function gh(t,e,...n){if(t=Un(t),UD("collection","path",e),t instanceof A0){const r=Gt.fromString(e,...n);return jC(r),new il(t,null,r)}{if(!(t instanceof dn||t instanceof il))throw new Re(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return jC(r),new il(t.firestore,null,r)}}function Nr(t,e,...n){if(t=Un(t),arguments.length===1&&(e=gS.newId()),UD("doc","path",e),t instanceof A0){const r=Gt.fromString(e,...n);return TC(r),new dn(t,null,new qe(r))}{if(!(t instanceof dn||t instanceof il))throw new Re(xe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return TC(r),new dn(t.firestore,t instanceof il?t.converter:null,new qe(r))}}const pO="AsyncQueue";class gO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new I4(this,"async_queue_retry"),this._c=()=>{const r=Mx();r&&Le(pO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fd(e))throw e;Le(pO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",vO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=kS.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:vO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function yO(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class da extends A0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gO(e),this._firestoreClient=void 0,await e}}}function bH(t,e){const n=typeof t=="object"?t:ZM(),r=typeof t=="string"?t:Gg,i=sS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=q8("firestore");s&&yH(i,...s)}return i}function pd(t){if(t._terminated)throw new Re(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xH(t),t._firestoreClient}function xH(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new F7(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,X4(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(xr.fromBase64String(e))}catch(n){throw new Re(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $i(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gh(e,$i._jsonSchema))return $i.fromBase64String(e.bytes)}}$i._jsonSchemaVersion="firestore/bytes/1.0",$i._jsonSchema={type:Rn("string",$i._jsonSchemaVersion),bytes:Rn("string")};class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class T0{constructor(e){this._methodName=e}}class Ha{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ha._jsonSchemaVersion}}static fromJSON(e){if(Gh(e,Ha._jsonSchema))return new Ha(e.latitude,e.longitude)}}Ha._jsonSchemaVersion="firestore/geoPoint/1.0",Ha._jsonSchema={type:Rn("string",Ha._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};class Ka{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gh(e,Ka._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ka(e.vectorValues);throw new Re(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ka._jsonSchemaVersion="firestore/vectorValue/1.0",Ka._jsonSchema={type:Rn("string",Ka._jsonSchemaVersion),vectorValues:Rn("object")};const wH=/^__.*__$/;class _H{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}class J4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Z4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:t})}}class qS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return iv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Z4(this.Ac)&&wH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_0(e)}Cc(e,n,r,i=!1){return new qS({Ac:e,methodName:n,Dc:r,path:yr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(t){const e=t._freezeSettings(),n=_0(t._databaseId);return new SH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);KS("Data must be an object, but it was:",l,r);const u=n5(r,l);let f,h;if(s.merge)f=new mi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=Qw(e,g,n);if(!l.contains(b))throw new Re(xe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);i5(p,b)||p.push(b)}f=new mi(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new _H(new Qr(u),f,h)}class j0 extends T0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j0}}class HS extends T0{_toFieldTransform(e){return new gq(e.path,new hh)}isEqual(e){return e instanceof HS}}function e5(t,e,n,r){const i=t.Cc(1,e,n);KS("Data must be an object, but it was:",i,r);const s=[],l=Qr.empty();vl(r,((f,h)=>{const p=YS(e,f,n);h=Un(h);const g=i.yc(p);if(h instanceof j0)s.push(p);else{const b=tm(h,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new mi(s);return new J4(l,u,i.fieldTransforms)}function t5(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[Qw(e,r,n)],f=[i];if(s.length%2!=0)throw new Re(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(Qw(e,s[b])),f.push(s[b+1]);const h=[],p=Qr.empty();for(let b=u.length-1;b>=0;--b)if(!i5(h,u[b])){const _=u[b];let S=f[b];S=Un(S);const A=l.yc(_);if(S instanceof j0)h.push(_);else{const E=tm(S,A);E!=null&&(h.push(_),p.set(_,E))}}const g=new mi(h);return new J4(p,g,l.fieldTransforms)}function EH(t,e,n,r=!1){return tm(n,t.Cc(r?4:3,e))}function tm(t,e){if(r5(t=Un(t)))return KS("Unsupported field value:",e,t),n5(t,e);if(t instanceof T0)return(function(r,i){if(!Z4(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let f=tm(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ut.fromDate(r);return{timestampValue:Zg(i.serializer,s)}}if(r instanceof Ut){const s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zg(i.serializer,s)}}if(r instanceof Ha)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $i)return{bytesValue:w4(i.serializer,r._byteString)};if(r instanceof dn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:AS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ka)return(function(l,u){return{mapValue:{fields:{[XD]:{stringValue:QD},[Wg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return _S(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${d0(r)}`)})(t,e)}function n5(t,e){const n={};return FD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,((r,i)=>{const s=tm(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function r5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof Ha||t instanceof $i||t instanceof dn||t instanceof T0||t instanceof Ka)}function KS(t,e,n){if(!r5(n)||!BD(n)){const r=d0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Qw(t,e,n){if((e=Un(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return YS(t,e);throw iv("Field path arguments must be of type string or ",t,!1,void 0,n)}const AH=new RegExp("[~\\*/\\[\\]]");function YS(t,e,n){if(e.search(AH)>=0)throw iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iv(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Re(xe.INVALID_ARGUMENT,u+t+f)}function i5(t,e){return t.some((n=>n.isEqual(e)))}class a5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TH extends a5{data(){return super.data()}}function N0(t,e){return typeof e=="string"?YS(t,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}function s5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GS{}class WS extends GS{}function vh(t,e,...n){let r=[];e instanceof GS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof XS)).length,u=s.filter((f=>f instanceof C0)).length;if(l>1||l>0&&u>0)throw new Re(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class C0 extends WS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new C0(e,n,r)}_apply(e){const n=this._parse(e);return l5(e._query,n),new to(e.firestore,e.converter,Uw(e._query,n))}_parse(e){const n=em(e.firestore);return(function(s,l,u,f,h,p,g){let b;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){xO(g,p);const S=[];for(const A of g)S.push(bO(f,s,A));b={arrayValue:{values:S}}}else b=bO(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||xO(g,p),b=EH(u,l,g,p==="in"||p==="not-in");return In.create(h,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cu(t,e,n){const r=e,i=N0("where",t);return C0._create(i,r,n)}class XS extends GS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new XS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ua.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const f of u)l5(l,f),l=Uw(l,f)})(e._query,n),new to(e.firestore,e.converter,Uw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QS extends WS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new QS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Re(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Re(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fh(s,l)})(e._query,this._field,this._direction);return new to(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new hd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function av(t,e="asc"){const n=e,r=N0("orderBy",t);return QS._create(r,n)}class JS extends WS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new JS(e,n,r)}_apply(e){return new to(e.firestore,e.converter,Qg(e._query,this._limit,this._limitType))}}function o5(t){return R7("limit",t),JS._create("limit",t,"F")}function bO(t,e,n){if(typeof(n=Un(n))=="string"){if(n==="")throw new Re(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a4(e)&&n.indexOf("/")!==-1)throw new Re(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!qe.isDocumentKey(r))throw new Re(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return MC(t,new qe(r))}if(n instanceof dn)return MC(t,n._key);throw new Re(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d0(n)}.`)}function xO(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l5(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Re(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jH{convertValue(e,n="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Wg].arrayValue?.values?.map((r=>_n(r.doubleValue)));return new Ka(n)}convertGeoPoint(e){return new Ha(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=m0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const n=ll(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Et(j4(r),9688,{name:e});const i=new uh(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(n)||Bs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function ZS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends a5{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(N0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sc._jsonSchemaVersion="firestore/documentSnapshot/1.0",sc._jsonSchema={type:Rn("string",sc._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class Pg extends sc{data(e={}){return super.data(e)}}class oc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Pg(this._firestore,this._userDataWriter,r.key,r,new Yf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Pg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new Pg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:NH(u.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}function kf(t){t=br(t,dn);const e=br(t.firestore,da);return W4(pd(e),t._key).then((n=>nE(e,t,n)))}oc._jsonSchemaVersion="firestore/querySnapshot/1.0",oc._jsonSchema={type:Rn("string",oc._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class eE extends jH{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function wO(t){t=br(t,dn);const e=br(t.firestore,da);return W4(pd(e),t._key,{source:"server"}).then((n=>nE(e,t,n)))}function sv(t){t=br(t,to);const e=br(t.firestore,da),n=pd(e),r=new eE(e);return s5(t._query),vH(n,t._query).then((i=>new oc(e,r,t,i)))}function zn(t,e,n){t=br(t,dn);const r=br(t.firestore,da),i=ZS(t.converter,e,n);return nm(r,[FS(em(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lr.none())])}function ov(t,e,n,...r){t=br(t,dn);const i=br(t.firestore,da),s=em(i);let l;return l=typeof(e=Un(e))=="string"||e instanceof Zh?t5(s,"updateDoc",t._key,e,n,r):e5(s,"updateDoc",t._key,e),nm(i,[l.toMutation(t._key,Lr.exists(!0))])}function c5(t){return nm(br(t.firestore,da),[new x0(t._key,Lr.none())])}function tE(t,e){const n=br(t.firestore,da),r=Nr(t),i=ZS(t.converter,e);return nm(n,[FS(em(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then((()=>r))}function Gr(t,...e){t=Un(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yO(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yO(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,l,u;if(t instanceof dn)l=br(t.firestore,da),u=p0(t._key.path),s={next:f=>{e[r]&&e[r](nE(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=br(t,to);l=br(f.firestore,da),u=f._query;const h=new eE(l);s={next:p=>{e[r]&&e[r](new oc(l,h,f,p))},error:e[r+1],complete:e[r+2]},s5(t._query)}return(function(h,p,g,b){const _=new BS(b),S=new VS(p,_,g);return h.asyncQueue.enqueueAndForget((async()=>DS(await rv(h),S))),()=>{_.Nu(),h.asyncQueue.enqueueAndForget((async()=>LS(await rv(h),S)))}})(pd(l),u,i,s)}function nm(t,e){return(function(r,i){const s=new Ms;return r.asyncQueue.enqueueAndForget((async()=>aH(await gH(r),i,s))),s.promise})(pd(t),e)}function nE(t,e,n){const r=n.docs.get(e._key),i=new eE(t);return new sc(t,i,e._key,r,new Yf(n.hasPendingWrites,n.fromCache),e.converter)}class CH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=em(e)}set(e,n,r){this._verifyNotCommitted();const i=Lx(e,this._firestore),s=ZS(i.converter,n,r),l=FS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Lr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Lx(e,this._firestore);let l;return l=typeof(n=Un(n))=="string"||n instanceof Zh?t5(this._dataReader,"WriteBatch.update",s._key,n,r,i):e5(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Lx(e,this._firestore);return this._mutations=this._mutations.concat(new x0(n._key,Lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lx(t,e){if((t=Un(t)).firestore!==e)throw new Re(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function gd(){return new HS("serverTimestamp")}function Jw(t){return pd(t=br(t,da)),new CH(t,(e=>nm(t,e)))}(function(e,n=!0){(function(i){ud=i})(ld),Bu(new pc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new da(new E7(r.getProvider("auth-internal")),new j7(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),nl(_C,SC,e),nl(_C,SC,"esm2020")})();const OH={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},PH=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):OH,u5=JM(PH),zx=x7(u5),na=bH(u5),IH=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",Gf=IH.replace(/\//g,"_");function d5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=d5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=d5(t))&&(r&&(r+=" "),r+=e);return r}var RH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rE(t){if(typeof t!="string")return!1;var e=RH;return e.includes(t)}var kH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MH=new Set(kH);function f5(t){return typeof t!="string"?!1:MH.has(t)}function h5(t){return typeof t=="string"&&t.startsWith("data-")}function Wt(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(f5(n)||h5(n))&&(e[n]=t[n]);return e}function Fs(t){if(t==null)return null;if(x.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Wt(e)}return typeof t=="object"&&!Array.isArray(t)?Wt(t):null}function Sn(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(f5(n)||h5(n)||rE(n))&&(e[n]=t[n]);return e}function DH(t){return t==null?null:x.isValidElement(t)?Sn(t.props):typeof t=="object"&&!Array.isArray(t)?Sn(t):null}var LH=["children","width","height","viewBox","className","style","title","desc"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(null,arguments)}function zH(t,e){if(t==null)return{};var n,r,i=VH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iE=x.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:f,desc:h}=t,p=zH(t,LH),g=s||{width:r,height:i,x:0,y:0},b=tt("recharts-surface",l);return x.createElement("svg",Zw({},Sn(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),x.createElement("title",null,f),x.createElement("desc",null,h),n)}),$H=["children","className"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(null,arguments)}function UH(t,e){if(t==null)return{};var n,r,i=BH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var At=x.forwardRef((t,e)=>{var{children:n,className:r}=t,i=UH(t,$H),s=tt("recharts-layer",r);return x.createElement("g",e_({className:s},Sn(i),{ref:e}),n)}),aE=UM(),m5=x.createContext(null),qH=()=>x.useContext(m5);function Yt(t){return function(){return t}}const p5=Math.cos,lv=Math.sin,ma=Math.sqrt,cv=Math.PI,O0=2*cv,t_=Math.PI,n_=2*t_,Jl=1e-6,FH=n_-Jl;function g5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function HH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return g5;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class KH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?g5:HH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=r-e,h=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Jl)if(!(Math.abs(g*f-h*p)>Jl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,S=i-u,A=f*f+h*h,E=_*_+S*S,C=Math.sqrt(A),$=Math.sqrt(b),D=s*Math.tan((t_-Math.acos((A+b-E)/(2*C*$)))/2),U=D/$,B=D/C;Math.abs(U-1)>Jl&&this._append`L${e+U*p},${n+U*g}`,this._append`A${s},${s},0,0,${+(g*_>p*S)},${this._x1=e+B*f},${this._y1=n+B*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,p=n+f,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Jl||Math.abs(this._y1-p)>Jl)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%n_+n_),b>FH?this._append`A${r},${r},0,1,${g},${e-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:b>Jl&&this._append`A${r},${r},0,${+(b>=t_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function sE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KH(e)}function oE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function v5(t){this._context=t}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function P0(t){return new v5(t)}function y5(t){return t[0]}function b5(t){return t[1]}function x5(t,e){var n=Yt(!0),r=null,i=P0,s=null,l=sE(u);t=typeof t=="function"?t:t===void 0?y5:Yt(t),e=typeof e=="function"?e:e===void 0?b5:Yt(e);function u(f){var h,p=(f=oE(f)).length,g,b=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,h,f),+e(g,h,f));if(_)return s=null,_+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Yt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),u):r},u}function ig(t,e,n){var r=null,i=Yt(!0),s=null,l=P0,u=null,f=sE(h);t=typeof t=="function"?t:t===void 0?y5:Yt(+t),e=typeof e=="function"?e:Yt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?b5:Yt(+n);function h(g){var b,_,S,A=(g=oE(g)).length,E,C=!1,$,D=new Array(A),U=new Array(A);for(s==null&&(u=l($=f())),b=0;b<=A;++b){if(!(b<A&&i(E=g[b],b,g))===C)if(C=!C)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=b-1;S>=_;--S)u.point(D[S],U[S]);u.lineEnd(),u.areaEnd()}C&&(D[b]=+t(E,b,g),U[b]=+e(E,b,g),u.point(r?+r(E,b,g):D[b],n?+n(E,b,g):U[b]))}if($)return u=null,$+""||null}function p(){return x5().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Yt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Yt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Yt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Yt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Yt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Yt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Yt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class w5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YH(t){return new w5(t,!0)}function GH(t){return new w5(t,!1)}const lE={draw(t,e){const n=ma(e/cv);t.moveTo(n,0),t.arc(0,0,n,0,O0)}},WH={draw(t,e){const n=ma(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_5=ma(1/3),XH=_5*2,QH={draw(t,e){const n=ma(e/XH),r=n*_5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},JH={draw(t,e){const n=ma(e),r=-n/2;t.rect(r,r,n,n)}},ZH=.8908130915292852,S5=lv(cv/10)/lv(7*cv/10),eK=lv(O0/10)*S5,tK=-p5(O0/10)*S5,nK={draw(t,e){const n=ma(e*ZH),r=eK*n,i=tK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=O0*s/5,u=p5(l),f=lv(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Vx=ma(3),rK={draw(t,e){const n=-ma(e/(Vx*3));t.moveTo(0,n*2),t.lineTo(-Vx*n,-n),t.lineTo(Vx*n,-n),t.closePath()}},Mi=-.5,Di=ma(3)/2,r_=1/ma(12),iK=(r_/2+1)*3,aK={draw(t,e){const n=ma(e/iK),r=n/2,i=n*r_,s=r,l=n*r_+n,u=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,f),t.lineTo(Mi*r-Di*i,Di*r+Mi*i),t.lineTo(Mi*s-Di*l,Di*s+Mi*l),t.lineTo(Mi*u-Di*f,Di*u+Mi*f),t.lineTo(Mi*r+Di*i,Mi*i-Di*r),t.lineTo(Mi*s+Di*l,Mi*l-Di*s),t.lineTo(Mi*u+Di*f,Mi*f-Di*u),t.closePath()}};function sK(t,e){let n=null,r=sE(i);t=typeof t=="function"?t:Yt(t||lE),e=typeof e=="function"?e:Yt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Yt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Yt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function uv(){}function dv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function E5(t){this._context=t}E5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oK(t){return new E5(t)}function A5(t){this._context=t}A5.prototype={areaStart:uv,areaEnd:uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lK(t){return new A5(t)}function T5(t){this._context=t}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cK(t){return new T5(t)}function j5(t){this._context=t}j5.prototype={areaStart:uv,areaEnd:uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uK(t){return new j5(t)}function _O(t){return t<0?-1:1}function SO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(_O(s)+_O(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function EO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $x(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function fv(t){this._context=t}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$x(this,this._t0,EO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$x(this,EO(this,n=SO(this,t,e)),n);break;default:$x(this,this._t0,n=SO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function N5(t){this._context=new C5(t)}(N5.prototype=Object.create(fv.prototype)).point=function(t,e){fv.prototype.point.call(this,e,t)};function C5(t){this._context=t}C5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function dK(t){return new fv(t)}function fK(t){return new N5(t)}function O5(t){this._context=t}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AO(t),i=AO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function hK(t){return new O5(t)}function I0(t,e){this._context=t,this._t=e}I0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function mK(t){return new I0(t,.5)}function pK(t){return new I0(t,0)}function gK(t){return new I0(t,1)}function bc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function i_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vK(t,e){return t[e]}function yK(t){const e=[];return e.key=t,e}function bK(){var t=Yt([]),e=i_,n=bc,r=vK;function i(s){var l=Array.from(t.apply(this,arguments),yK),u,f=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<f;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=oE(e(l));u<f;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Yt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Yt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?i_:typeof s=="function"?s:Yt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??bc,i):n},i}function xK(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}bc(t,e)}}function wK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}bc(t,e)}}function _K(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,f=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,_=(g-b)/2,S=0;S<u;++S){var A=t[e[S]],E=A[r][1]||0,C=A[r-1][1]||0;_+=E-C}f+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,bc(t,e)}}var Ux={},Bx={},TO;function SK(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Bx)),Bx}var qx={},jO;function P5(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(qx)),qx}var Fx={},NO;function cE(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Fx)),Fx}var Hx={},Kx={},CO;function EK(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Kx)),Kx}var OO;function uE(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EK(),n=cE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,f+=i[u]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}t.toPath=r})(Hx)),Hx}var PO;function dE(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SK(),n=P5(),r=cE(),i=uE();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?n.isDeepKey(f)?s(u,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function l(u,f,h){if(f.length===0)return h;let p=u;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(Ux)),Ux}var Yx,IO;function AK(){return IO||(IO=1,Yx=dE().get),Yx}var TK=AK();const xc=ha(TK);var jK=4;function Zo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jK,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function un(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+Zo(u)+s:i+s},"")}var er=t=>t===0?0:t>0?1:-1,Bi=t=>typeof t=="number"&&t!=+t,Hs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,De=t=>(typeof t=="number"||t instanceof Number)&&!Bi(t),Xa=t=>De(t)||typeof t=="string",NK=0,yh=t=>{var e=++NK;return"".concat(t||"").concat(e)},Cr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&typeof e!="string")return r;var s;if(Hs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Bi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},I5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function ht(t,e,n){return De(t)&&De(e)?Zo(t+n*(e-t)):e}function R5(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):xc(r,e))===n)}var qt=t=>t===null||typeof t>"u",rm=t=>qt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function CK(t){return t!=null}function im(){}var OK=["type","size","sizeType"];function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(null,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){PK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PK(t,e,n){return(e=IK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IK(t){var e=RK(t,"string");return typeof e=="symbol"?e:e+""}function RK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kK(t,e){if(t==null)return{};var n,r,i=MK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k5={symbolCircle:lE,symbolCross:WH,symbolDiamond:QH,symbolSquare:JH,symbolStar:nK,symbolTriangle:rK,symbolWye:aK},DK=Math.PI/180,LK=t=>{var e="symbol".concat(rm(t));return k5[e]||lE},zK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*DK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},VK=(t,e)=>{k5["symbol".concat(rm(t))]=e},fE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=kK(t,OK),s=kO(kO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=LK(l),_=sK().type(b).size(zK(n,r,l)),S=_();if(S!==null)return S},{className:f,cx:h,cy:p}=s,g=Sn(s);return De(h)&&De(p)&&De(n)?x.createElement("path",a_({},g,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};fE.registerSymbol=VK;var M5=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,hE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{rE(i)&&(r[i]=(s=>n[i](n,s)))}),r},$K=(t,e,n)=>r=>(t(e,n,r),null),Pc=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];rE(i)&&typeof s=="function"&&(r||(r={}),r[i]=$K(s,e,n))}),r};function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){BK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BK(t,e,n){return(e=qK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qK(t){var e=FK(t,"string");return typeof e=="symbol"?e:e+""}function FK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xt(t,e){var n=UK({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){KK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KK(t,e,n){return(e=YK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YK(t){var e=GK(t,"string");return typeof e=="symbol"?e:e+""}function GK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zi=32,WK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function XK(t){var{data:e,iconType:n,inactiveColor:r}=t,i=zi/2,s=zi/6,l=zi/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline"){var h;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:zi,y2:i,className:"recharts-legend-icon"})}if(f==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(zi,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(zi/8,"h").concat(zi,"v").concat(zi*3/4,"h").concat(-zi,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var p=HK({},e);return delete p.legendIcon,x.cloneElement(e.legendIcon,p)}return x.createElement(fE,{fill:u,cx:i,cy:i,size:zi,sizeType:"diameter",type:f})}function QK(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:zi,height:zi},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,_=tt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?s:p.color,A=b?b(p.value,p,g):p.value;return x.createElement("li",hv({className:_,style:f,key:"legend-item-".concat(g)},Pc(t,p,g)),x.createElement(iE,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(A," legend icon")},x.createElement(XK,{data:p,iconType:l,inactiveColor:s})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},A))})}var JK=t=>{var e=Xt(t,WK),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},x.createElement(QK,hv({},e,{payload:n})))},Gx={},Wx={},LO;function ZK(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Wx)),Wx}var Xx={},zO;function R0(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Xx)),Xx}var Qx={},Jx={},Zx={},VO;function eY(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Zx)),Zx}var $O;function mE(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eY();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Jx)),Jx}var e1={},UO;function tY(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(e1)),e1}var BO;function nY(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mE(),n=tY();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Qx)),Qx}var t1={},n1={},qO;function rY(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(n1)),n1}var r1={},i1={},a1={},s1={},FO;function D5(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(s1)),s1}var o1={},HO;function L5(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(o1)),o1}var l1={},KO;function z5(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(l1)),l1}var YO;function iY(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D5(),n=L5(),r=z5();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function _(S,A,E,C,$,D){const U=b(S,A,E,C,$,D);return U!==void 0?!!U:s(S,A,_,D)},new Map)}function s(p,g,b,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,_);case"function":return Object.keys(g).length>0?s(p,{...g},b,_):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,_){if(g==null)return!0;if(Array.isArray(g))return f(p,g,b,_);if(g instanceof Map)return u(p,g,b,_);if(g instanceof Set)return h(p,g,b,_);const S=Object.keys(g);if(p==null||n.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let A=0;A<S.length;A++){const E=S[A];if(!n.isPrimitive(p)&&!(E in p)||g[E]===void 0&&p[E]!==void 0||g[E]===null&&p[E]!==null||!b(p[E],g[E],E,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,b,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,A]of g.entries()){const E=p.get(S);if(b(E,A,S,p,g,_)===!1)return!1}return!0}function f(p,g,b,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let A=0;A<g.length;A++){const E=g[A];let C=!1;for(let $=0;$<p.length;$++){if(S.has($))continue;const D=p[$];let U=!1;if(b(D,E,A,p,g,_)&&(U=!0),U){S.add($),C=!0;break}}if(!C)return!1}return!0}function h(p,g,b,_){return g.size===0?!0:p instanceof Set?f([...p],[...g],b,_):!1}t.isMatchWith=i,t.isSetMatch=h})(a1)),a1}var GO;function V5(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iY();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(i1)),i1}var c1={},u1={},d1={},WO;function aY(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(d1)),d1}var f1={},XO;function $5(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(f1)),f1}var h1={},QO;function U5(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",_="[object Object]",S="[object Error]",A="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",$="[object Uint16Array]",D="[object Uint32Array]",U="[object BigUint64Array]",B="[object Int8Array]",z="[object Int16Array]",N="[object Int32Array]",j="[object BigInt64Array]",R="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=j,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=A,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=R,t.float64ArrayTag=I,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=N,t.int8ArrayTag=B,t.mapTag=f,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=$,t.uint32ArrayTag=D,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=C})(h1)),h1}var m1={},JO;function sY(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(m1)),m1}var ZO;function B5(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aY(),n=$5(),r=U5(),i=L5(),s=sY();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,_=new Map,S=void 0){const A=S?.(p,g,b,_);if(A!==void 0)return A;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const E=new Array(p.length);_.set(p,E);for(let C=0;C<p.length;C++)E[C]=u(p[C],C,b,_,S);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;_.set(p,E);for(const[C,$]of p)E.set(C,u($,C,b,_,S));return E}if(p instanceof Set){const E=new Set;_.set(p,E);for(const C of p)E.add(u(C,void 0,b,_,S));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,E);for(let C=0;C<p.length;C++)E[C]=u(p[C],C,b,_,S);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,E),f(E,p,b,_,S),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return _.set(p,E),f(E,p,b,_,S),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return _.set(p,E),f(E,p,b,_,S),E}if(p instanceof Error){const E=new p.constructor;return _.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,f(E,p,b,_,S),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return _.set(p,E),f(E,p,b,_,S),E}if(p instanceof Number){const E=new Number(p.valueOf());return _.set(p,E),f(E,p,b,_,S),E}if(p instanceof String){const E=new String(p.valueOf());return _.set(p,E),f(E,p,b,_,S),E}if(typeof p=="object"&&h(p)){const E=Object.create(Object.getPrototypeOf(p));return _.set(p,E),f(E,p,b,_,S),E}return p}function f(p,g,b=p,_,S){const A=[...Object.keys(g),...e.getSymbols(g)];for(let E=0;E<A.length;E++){const C=A[E],$=Object.getOwnPropertyDescriptor(p,C);($==null||$.writable)&&(p[C]=u(g[C],C,b,_,S))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(u1)),u1}var eP;function oY(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(c1)),c1}var tP;function lY(){return tP||(tP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V5(),n=oY();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(r1)),r1}var p1={},g1={},v1={},nP;function cY(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B5(),n=U5();function r(i,s){return e.cloneDeepWith(i,(l,u,f,h)=>{const p=s?.(l,u,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(v1)),v1}var rP;function uY(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cY();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(g1)),g1}var y1={},b1={},iP;function q5(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(b1)),b1}var x1={},aP;function dY(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(x1)),x1}var sP;function fY(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P5(),n=q5(),r=dY(),i=uE();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?f=i.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(y1)),y1}var oP;function hY(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V5(),n=cE(),r=uY(),i=dE(),s=fY();function l(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(p1)),p1}var lP;function pE(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R0(),n=rY(),r=lY(),i=hY();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(t1)),t1}var cP;function mY(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZK(),n=R0(),r=nY(),i=pE();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(Gx)),Gx}var w1,uP;function pY(){return uP||(uP=1,w1=mY().uniqBy),w1}var gY=pY();const dP=ha(gY);function F5(t,e,n){return e===!0?dP(t,n):typeof e=="function"?dP(t,e):t}var _1={exports:{}},S1={},E1={exports:{}},A1={};var fP;function vY(){if(fP)return A1;fP=1;var t=sd();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),A=S[0].inst,E=S[1];return s(function(){A.value=_,A.getSnapshot=b,f(A)&&E({inst:A})},[g,_,b]),i(function(){return f(A)&&E({inst:A}),g(function(){f(A)&&E({inst:A})})},[g]),l(_),_}function f(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return A1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,A1}var hP;function yY(){return hP||(hP=1,E1.exports=vY()),E1.exports}var mP;function bY(){if(mP)return S1;mP=1;var t=sd(),e=yY();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return S1.useSyncExternalStoreWithSelector=function(h,p,g,b,_){var S=s(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=u(function(){function C(z){if(!$){if($=!0,D=z,z=b(z),_!==void 0&&A.hasValue){var N=A.value;if(_(N,z))return U=N}return U=z}if(N=U,r(D,z))return N;var j=b(z);return _!==void 0&&_(N,j)?(D=z,N):(D=z,U=j)}var $=!1,D,U,B=g===void 0?null:g;return[function(){return C(p())},B===null?void 0:function(){return C(B())}]},[p,g,b,_]);var E=i(h,S[0],S[1]);return l(function(){A.hasValue=!0,A.value=E},[E]),f(E),E},S1}var pP;function xY(){return pP||(pP=1,_1.exports=bY()),_1.exports}var wY=xY(),gE=x.createContext(null),_Y=t=>t,zt=()=>{var t=x.useContext(gE);return t?t.store.dispatch:_Y},Ig=()=>{},SY=()=>Ig,EY=(t,e)=>t===e;function ke(t){var e=x.useContext(gE);return wY.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:SY,e?e.store.getState:Ig,e?e.store.getState:Ig,e?t:Ig,EY)}function AY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function TY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function jY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var gP=t=>Array.isArray(t)?t:[t];function NY(t){const e=Array.isArray(t[0])?t[0]:t;return jY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function CY(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var OY=class{constructor(t){this.value=t}deref(){return this.value}},PY=typeof WeakRef<"u"?WeakRef:OY,IY=0,vP=1;function ag(){return{s:IY,v:void 0,o:null,p:null}}function H5(t,e={}){let n=ag();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:f}=arguments;for(let g=0,b=f;g<b;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const A=S.get(_);A===void 0?(u=ag(),S.set(_,u)):u=A}else{let S=u.p;S===null&&(u.p=S=new Map);const A=S.get(_);A===void 0?(u=ag(),S.set(_,u)):u=A}}const h=u;let p;if(u.s===vP)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new PY(p):p}return h.s=vP,h.v=p,p}return l.clearCache=()=>{n=ag(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function RY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),AY(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:b=[],argsMemoize:_=H5,argsMemoizeOptions:S=[]}=p,A=gP(b),E=gP(S),C=NY(i),$=g(function(){return s++,h.apply(null,arguments)},...A),D=_(function(){l++;const B=CY(C,arguments);return u=$.apply(null,B),u},...E);return Object.assign(D,{resultFunc:h,memoizedResultFunc:$,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ae=RY(H5),kY=Object.assign((t,e=ae)=>{TY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>kY}),T1={},j1={},N1={},yP;function MY(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(N1)),N1}var C1={},O1={},bP;function K5(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(O1)),O1}var xP;function DY(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(C1)),C1}var wP;function LY(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MY(),n=DY(),r=uE();function i(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const h=(_,S)=>{let A=_;for(let E=0;E<S.length&&A!=null;++E)A=A[S[E]];return A},p=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:h(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?h(S,_):typeof S=="object"?S[_]:S,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(S=>p(S,_))})).slice().sort((_,S)=>{for(let A=0;A<g.length;A++){const E=e.compareValues(_.criteria[A],S.criteria[A],u[A]);if(E!==0)return E}return 0}).map(_=>_.original)}t.orderBy=i})(j1)),j1}var P1={},_P;function zY(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(n,0),i}t.flatten=e})(P1)),P1}var I1={},SP;function Y5(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q5(),n=mE(),r=D5(),i=z5();function s(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=s})(I1)),I1}var EP;function VY(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LY(),n=zY(),r=Y5();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(T1)),T1}var R1,AP;function $Y(){return AP||(AP=1,R1=VY().sortBy),R1}var UY=$Y();const k0=ha(UY);var G5=t=>t.legend.settings,BY=t=>t.legend.size,qY=t=>t.legend.payload,FY=ae([qY,G5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?k0(r,n):r});function HY(){return ke(FY)}var sg=1;function W5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>sg||Math.abs(l.left-e.left)>sg||Math.abs(l.top-e.top)>sg||Math.abs(l.width-e.width)>sg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function hr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var KY=typeof Symbol=="function"&&Symbol.observable||"@@observable",TP=KY,k1=()=>Math.random().toString(36).substring(7).split("").join("."),YY={INIT:`@@redux/INIT${k1()}`,REPLACE:`@@redux/REPLACE${k1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${k1()}`},mv=YY;function vE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function X5(t,e,n){if(typeof t!="function")throw new Error(hr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hr(1));return n(X5)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((E,C)=>{l.set(C,E)}))}function p(){if(f)throw new Error(hr(3));return i}function g(E){if(typeof E!="function")throw new Error(hr(4));if(f)throw new Error(hr(5));let C=!0;h();const $=u++;return l.set($,E),function(){if(C){if(f)throw new Error(hr(6));C=!1,h(),l.delete($),s=null}}}function b(E){if(!vE(E))throw new Error(hr(7));if(typeof E.type>"u")throw new Error(hr(8));if(typeof E.type!="string")throw new Error(hr(17));if(f)throw new Error(hr(9));try{f=!0,i=r(i,E)}finally{f=!1}return(s=l).forEach($=>{$()}),E}function _(E){if(typeof E!="function")throw new Error(hr(10));r=E,b({type:mv.REPLACE})}function S(){const E=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(hr(11));function $(){const U=C;U.next&&U.next(p())}return $(),{unsubscribe:E($)}},[TP](){return this}}}return b({type:mv.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:_,[TP]:S}}function GY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:mv.INIT})>"u")throw new Error(hr(12));if(typeof n(void 0,{type:mv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function Q5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{GY(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],_=l[g],S=b(_,u);if(typeof S>"u")throw u&&u.type,new Error(hr(14));h[g]=S,f=f||S!==_}return f=f||r.length!==Object.keys(l).length,f?h:l}}function pv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function WY(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(hr(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},u=t.map(f=>f(l));return s=pv(...u)(i.dispatch),{...i,dispatch:s}}}function J5(t){return vE(t)&&"type"in t&&typeof t.type=="string"}var Z5=Symbol.for("immer-nothing"),jP=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var pi=Object,Wu=pi.getPrototypeOf,gv="constructor",M0="prototype",s_="configurable",vv="enumerable",Rg="writable",bh="value",Ks=t=>!!t&&!!t[zr];function fa(t){return t?e3(t)||L0(t)||!!t[jP]||!!t[gv]?.[jP]||z0(t)||V0(t):!1}var XY=pi[M0][gv].toString(),NP=new WeakMap;function e3(t){if(!t||!yE(t))return!1;const e=Wu(t);if(e===null||e===pi[M0])return!0;const n=pi.hasOwnProperty.call(e,gv)&&e[gv];if(n===Object)return!0;if(!ju(n))return!1;let r=NP.get(n);return r===void 0&&(r=Function.toString.call(n),NP.set(n,r)),r===XY}function D0(t,e,n=!0){am(t)===0?(n?Reflect.ownKeys(t):pi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function am(t){const e=t[zr];return e?e.type_:L0(t)?1:z0(t)?2:V0(t)?3:0}var CP=(t,e,n=am(t))=>n===2?t.has(e):pi[M0].hasOwnProperty.call(t,e),o_=(t,e,n=am(t))=>n===2?t.get(e):t[e],yv=(t,e,n,r=am(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function QY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var L0=Array.isArray,z0=t=>t instanceof Map,V0=t=>t instanceof Set,yE=t=>typeof t=="object",ju=t=>typeof t=="function",M1=t=>typeof t=="boolean";function JY(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ts=t=>t.copy_||t.base_,bE=t=>t.modified_?t.copy_:t.base_;function l_(t,e){if(z0(t))return new Map(t);if(V0(t))return new Set(t);if(L0(t))return Array[M0].slice.call(t);const n=e3(t);if(e===!0||e==="class_only"&&!n){const r=pi.getOwnPropertyDescriptors(t);delete r[zr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[Rg]===!1&&(u[Rg]=!0,u[s_]=!0),(u.get||u.set)&&(r[l]={[s_]:!0,[Rg]:!0,[vv]:u[vv],[bh]:t[l]})}return pi.create(Wu(t),r)}else{const r=Wu(t);if(r!==null&&n)return{...t};const i=pi.create(r);return pi.assign(i,t)}}function xE(t,e=!1){return $0(t)||Ks(t)||!fa(t)||(am(t)>1&&pi.defineProperties(t,{set:og,add:og,clear:og,delete:og}),pi.freeze(t),e&&D0(t,(n,r)=>{xE(r,!0)},!1)),t}function ZY(){ra(2)}var og={[bh]:ZY};function $0(t){return t===null||!yE(t)?!0:pi.isFrozen(t)}var bv="MapSet",c_="Patches",OP="ArrayMethods",t3={};function wc(t){const e=t3[t];return e||ra(0,t),e}var PP=t=>!!t3[t],xh,n3=()=>xh,eG=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:PP(bv)?wc(bv):void 0,arrayMethodsPlugin_:PP(OP)?wc(OP):void 0});function IP(t,e){e&&(t.patchPlugin_=wc(c_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function u_(t){d_(t),t.drafts_.forEach(tG),t.drafts_=null}function d_(t){t===xh&&(xh=t.parent_)}var RP=t=>xh=eG(xh,t);function tG(t){const e=t[zr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[zr].modified_&&(u_(e),ra(4)),fa(t)&&(t=MP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[zr].base_,t,e)}else t=MP(e,n);return nG(e,t,!0),u_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Z5?t:void 0}function MP(t,e){if($0(e))return e;const n=e[zr];if(!n)return xv(e,t.handledSet_,t);if(!U0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);a3(n,t)}return n.copy_}function nG(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&xE(e,n)}function r3(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var U0=(t,e)=>t.scope_===e,rG=[];function i3(t,e,n,r){const i=Ts(t),s=t.type_;if(r!==void 0&&o_(i,r,s)===e){yv(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;D0(i,(f,h)=>{if(Ks(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const l=t.draftLocations_.get(e)??rG;for(const u of l)yv(i,u,n,s)}function iG(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!U0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=bE(s);i3(t,s.draft_??s,l,n),a3(s,i)})}function a3(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}r3(t)}}function aG(t,e,n){const{scope_:r}=t;if(Ks(n)){const i=n[zr];U0(i,r)&&i.callbacks_.push(function(){kg(t);const l=bE(i);i3(t,n,l,e)})}else fa(n)&&t.callbacks_.push(function(){const s=Ts(t);t.type_===3?s.has(n)&&xv(n,r.handledSet_,r):o_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&xv(o_(t.copy_,e,t.type_),r.handledSet_,r)})}function xv(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ks(t)||e.has(t)||!fa(t)||$0(t)||(e.add(t),D0(t,(r,i)=>{if(Ks(i)){const s=i[zr];if(U0(s,n)){const l=bE(s);yv(t,r,l,t.type_),r3(s)}}else fa(i)&&xv(i,e,n)})),t}function sG(t,e){const n=L0(t),r={type_:n?1:0,scope_:e?e.scope_:n3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=wv;n&&(i=[r],s=wh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var wv={get(t,e){if(e===zr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Ts(t);if(!CP(i,e,t.type_))return oG(t,i,e);const s=i[e];if(t.finalized_||!fa(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&JY(e))return s;if(s===D1(t.base_,e)){kg(t);const l=t.type_===1?+e:e,u=h_(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in Ts(t)},ownKeys(t){return Reflect.ownKeys(Ts(t))},set(t,e,n){const r=s3(Ts(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=D1(Ts(t),e),s=i?.[zr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(QY(n,i)&&(n!==void 0||CP(t.base_,e,t.type_)))return!0;kg(t),f_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),aG(t,e,n)),!0},deleteProperty(t,e){return kg(t),D1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),f_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ts(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Rg]:!0,[s_]:t.type_!==1||e!=="length",[vv]:r[vv],[bh]:n[e]}},defineProperty(){ra(11)},getPrototypeOf(t){return Wu(t.base_)},setPrototypeOf(){ra(12)}},wh={};for(let t in wv){let e=wv[t];wh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}wh.deleteProperty=function(t,e){return wh.set.call(this,t,e,void 0)};wh.set=function(t,e,n){return wv.set.call(this,t[0],e,n,t[0])};function D1(t,e){const n=t[zr];return(n?Ts(n):t)[e]}function oG(t,e,n){const r=s3(e,n);return r?bh in r?r[bh]:r.get?.call(t.draft_):void 0}function s3(t,e){if(!(e in t))return;let n=Wu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wu(n)}}function f_(t){t.modified_||(t.modified_=!0,t.parent_&&f_(t.parent_))}function kg(t){t.copy_||(t.assigned_=new Map,t.copy_=l_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ju(n)&&!ju(r)){const l=r;r=n;const u=this;return function(h=l,...p){return u.produce(h,g=>r.call(this,g,...p))}}ju(r)||ra(6),i!==void 0&&!ju(i)&&ra(7);let s;if(fa(n)){const l=RP(this),u=h_(l,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?u_(l):d_(l)}return IP(l,i),kP(s,l)}else if(!n||!yE(n)){if(s=r(n),s===void 0&&(s=n),s===Z5&&(s=void 0),this.autoFreeze_&&xE(s,!0),i){const l=[],u=[];wc(c_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else ra(1,n)},this.produceWithPatches=(n,r)=>{if(ju(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let i,s;return[this.produce(n,r,(u,f)=>{i=u,s=f}),i,s]},M1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),M1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),M1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){fa(e)||ra(8),Ks(e)&&(e=ca(e));const n=RP(this),r=h_(n,e,void 0);return r[zr].isManual_=!0,d_(n),r}finishDraft(e,n){const r=e&&e[zr];(!r||!r.isManual_)&&ra(9);const{scope_:i}=r;return IP(i,n),kP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=wc(c_).applyPatches_;return Ks(e)?i(e,n):this.produce(e,s=>i(s,n))}};function h_(t,e,n,r){const[i,s]=z0(e)?wc(bv).proxyMap_(e,n):V0(e)?wc(bv).proxySet_(e,n):sG(e,n);return(n?.scope_??n3()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?iG(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function ca(t){return Ks(t)||ra(10,t),o3(t)}function o3(t){if(!fa(t)||$0(t))return t;const e=t[zr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=l_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=l_(t,!0);return D0(n,(i,s)=>{yv(n,i,o3(s))},r),e&&(e.finalized_=!1),n}var cG=new lG,l3=cG.produce;function c3(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var uG=c3(),dG=c3,fG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pv:pv.apply(null,arguments)};function qi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(gi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>J5(r)&&r.type===t,n}var u3=class Wf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wf.prototype)}static get[Symbol.species](){return Wf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wf(...e[0].concat(this)):new Wf(...e.concat(this))}};function DP(t){return fa(t)?l3(t,()=>{}):t}function lg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function hG(t){return typeof t=="boolean"}var mG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new u3;return n&&(hG(n)?l.push(uG):l.push(dG(n.extraArgument))),l},d3="RTK_autoBatch",on=()=>t=>({payload:t,meta:{[d3]:!0}}),LP=t=>e=>{setTimeout(e,t)},f3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LP(10):t.type==="callback"?t.queueNotification:LP(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[d3],s=!i,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},pG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new u3(t);return r&&i.push(f3(typeof r=="object"?r:void 0)),i};function gG(t){const e=mG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(vE(n))u=Q5(n);else throw new Error(gi(1));let f;typeof r=="function"?f=r(e):f=e();let h=pv;i&&(h=fG({trace:!1,...typeof i=="object"&&i}));const p=WY(...f),g=pG(p);let b=typeof l=="function"?l(g):g();const _=h(...b);return X5(u,s,_)}function h3(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(gi(28));if(u in e)throw new Error(gi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function vG(t){return typeof t=="function"}function yG(t,e){let[n,r,i]=h3(e),s;if(vG(t))s=()=>DP(t());else{const u=DP(t);s=()=>u}function l(u=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Ks(p)){const _=g(p,f);return _===void 0?p:_}else{if(fa(p))return l3(p,b=>g(b,f));{const b=g(p,f);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var bG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xG=(t=21)=>{let e="",n=t;for(;n--;)e+=bG[Math.random()*64|0];return e},wG=Symbol.for("rtk-slice-createasyncthunk");function _G(t,e){return`${t}/${e}`}function SG({creators:t}={}){const e=t?.asyncThunk?.[wG];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(gi(11));const l=(typeof r.reducers=="function"?r.reducers(AG()):r.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(D,U){const B=typeof D=="string"?D:D.type;if(!B)throw new Error(gi(12));if(B in f.sliceCaseReducersByType)throw new Error(gi(13));return f.sliceCaseReducersByType[B]=U,h},addMatcher(D,U){return f.sliceMatchers.push({matcher:D,reducer:U}),h},exposeAction(D,U){return f.actionCreators[D]=U,h},exposeCaseReducer(D,U){return f.sliceCaseReducersByName[D]=U,h}};u.forEach(D=>{const U=l[D],B={reducerName:D,type:_G(i,D),createNotation:typeof r.reducers=="function"};jG(U)?CG(B,U,h,e):TG(B,U,h)});function p(){const[D={},U=[],B=void 0]=typeof r.extraReducers=="function"?h3(r.extraReducers):[r.extraReducers],z={...D,...f.sliceCaseReducersByType};return yG(r.initialState,N=>{for(let j in z)N.addCase(j,z[j]);for(let j of f.sliceMatchers)N.addMatcher(j.matcher,j.reducer);for(let j of U)N.addMatcher(j.matcher,j.reducer);B&&N.addDefaultCase(B)})}const g=D=>D,b=new Map,_=new WeakMap;let S;function A(D,U){return S||(S=p()),S(D,U)}function E(){return S||(S=p()),S.getInitialState()}function C(D,U=!1){function B(N){let j=N[D];return typeof j>"u"&&U&&(j=lg(_,B,E)),j}function z(N=g){const j=lg(b,U,()=>new WeakMap);return lg(j,N,()=>{const R={};for(const[I,O]of Object.entries(r.selectors??{}))R[I]=EG(O,N,()=>lg(_,N,E),U);return R})}return{reducerPath:D,getSelectors:z,get selectors(){return z(B)},selectSlice:B}}const $={name:i,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...C(s),injectInto(D,{reducerPath:U,...B}={}){const z=U??s;return D.inject({reducerPath:z,reducer:A},B),{...$,...C(z,!0)}}};return $}}function EG(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var ti=SG();function AG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function TG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!NG(r))throw new Error(gi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?qi(t,l):qi(t))}function jG(t){return t._reducerDefinitionType==="asyncThunk"}function NG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function CG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(gi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||cg,pending:u||cg,rejected:f||cg,settled:h||cg})}function cg(){}var OG="task",m3="listener",p3="completed",wE="cancelled",PG=`task-${wE}`,IG=`task-${p3}`,m_=`${m3}-${wE}`,RG=`${m3}-${p3}`,B0=class{constructor(t){this.code=t,this.message=`${OG} ${wE} (reason: ${t})`}name="TaskAbortError";message},_E=(t,e)=>{if(typeof t!="function")throw new TypeError(gi(32))},_v=()=>{},g3=(t,e=_v)=>(t.catch(e),t),v3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),lc=t=>{if(t.aborted)throw new B0(t.reason)};function y3(t,e){let n=_v;return new Promise((r,i)=>{const s=()=>i(new B0(t.reason));if(t.aborted){s();return}n=v3(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=_v})}var kG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof B0?"cancelled":"rejected",error:n}}finally{e?.()}},Sv=t=>e=>g3(y3(t,e).then(n=>(lc(t),n))),b3=t=>{const e=Sv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:zu}=Object,zP={},q0="listenerMiddleware",MG=(t,e)=>{const n=r=>v3(t,()=>r.abort(t.reason));return(r,i)=>{_E(r);const s=new AbortController;n(s);const l=kG(async()=>{lc(t),lc(s.signal);const u=await r({pause:Sv(s.signal),delay:b3(s.signal),signal:s.signal});return lc(s.signal),u},()=>s.abort(IG));return i?.autoJoin&&e.push(l.catch(_v)),{result:Sv(t)(l),cancel(){s.abort(PG)}}}},DG=(t,e)=>{const n=async(r,i)=>{lc(e);let s=()=>{};const u=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),f([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await y3(e,Promise.race(u));return lc(e),f}finally{s()}};return(r,i)=>g3(n(r,i))},x3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=qi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(gi(21));return _E(s),{predicate:i,type:e,effect:s}},w3=zu(t=>{const{type:e,predicate:n,effect:r}=x3(t);return{id:xG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gi(22))}}},{withTypes:()=>w3}),VP=(t,e)=>{const{type:n,effect:r,predicate:i}=x3(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},p_=t=>{t.pending.forEach(e=>{e.abort(m_)})},LG=(t,e)=>()=>{for(const n of e.keys())p_(n);t.clear()},$P=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},_3=zu(qi(`${q0}/add`),{withTypes:()=>_3}),zG=qi(`${q0}/removeAll`),S3=zu(qi(`${q0}/remove`),{withTypes:()=>S3}),VG=(...t)=>{console.error(`${q0}/error`,...t)},sm=(t={})=>{const e=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:s,onError:l=VG}=t;_E(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),S=>{_.unsubscribe(),S?.cancelActive&&p_(_)}),f=_=>{const S=VP(e,_)??w3(_);return u(S)};zu(f,{withTypes:()=>f});const h=_=>{const S=VP(e,_);return S&&(S.unsubscribe(),_.cancelActive&&p_(S)),!!S};zu(h,{withTypes:()=>h});const p=async(_,S,A,E)=>{const C=new AbortController,$=DG(f,C.signal),D=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(S,zu({},A,{getOriginalState:E,condition:(U,B)=>$(U,B).then(Boolean),take:$,delay:b3(C.signal),pause:Sv(C.signal),extra:s,signal:C.signal,fork:MG(C.signal,D),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((U,B,z)=>{U!==C&&(U.abort(m_),z.delete(U))})},cancel:()=>{C.abort(m_),_.pending.delete(C)},throwIfCancelled:()=>{lc(C.signal)}})))}catch(U){U instanceof B0||$P(l,U,{raisedBy:"effect"})}finally{await Promise.all(D),C.abort(RG),i(_),_.pending.delete(C)}},g=LG(e,n);return{middleware:_=>S=>A=>{if(!J5(A))return S(A);if(_3.match(A))return f(A.payload);if(zG.match(A)){g();return}if(S3.match(A))return h(A.payload);let E=_.getState();const C=()=>{if(E===zP)throw new Error(gi(23));return E};let $;try{if($=S(A),e.size>0){const D=_.getState(),U=Array.from(e.values());for(const B of U){let z=!1;try{z=B.predicate(A,D,E)}catch(N){z=!1,$P(l,N,{raisedBy:"predicate"})}z&&p(B,A,_,C)}}}finally{E=zP}return $},startListening:f,stopListening:h,clearListeners:g}};function gi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $G={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},E3=ti({name:"chartLayout",initialState:$G,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:UG,setLayout:BG,setChartSize:qG,setScale:FG}=E3.actions,HG=E3.reducer;function A3(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ft(t){return Number.isFinite(t)}function Qa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){KG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KG(t,e,n){return(e=YG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=GG(t,"string");return typeof e=="symbol"?e:e+""}function GG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vt(t,e,n){return qt(t)||qt(e)?n:Xa(e)?xc(t,e,n):typeof e=="function"?e(t):n}var WG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&De(t[s]))return Ou(Ou({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&De(t[l]))return Ou(Ou({},t),{},{[l]:t[l]+(i||0)})}return t},pa=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",T3=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},j3=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:b,axisType:_}=t;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(A=_==="angleAxis"&&s&&s.length>=2?er(s[0]-s[1])*2*A:A,g||b){var E=(g||b||[]).map((C,$)=>{var D=r?r.indexOf(C):C;return{coordinate:l(D)+A,value:C,offset:A,index:$}});return E.filter(C=>!Bi(C.coordinate))}return f&&h?h.map((C,$)=>({coordinate:l(C)+A,value:C,index:$,offset:A})):l.ticks&&p!=null?l.ticks(p).map((C,$)=>({coordinate:l(C)+A,value:C,offset:A,index:$})):l.domain().map((C,$)=>({coordinate:l(C)+A,value:r?r[C]:C,index:$,offset:A}))},BP=1e-4,XG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-BP,s=Math.max(r[0],r[1])+BP,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},QG=(t,e)=>{if(!e||e.length!==2||!De(e[0])||!De(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!De(t[0])||t[0]<n)&&(i[0]=n),(!De(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},JG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var f=t[u],h=f?.[i];if(h!=null){var p=h[1],g=h[0],b=Bi(p)?g:p;b>=0?(h[0]=s,h[1]=s+b,s=p):(h[0]=l,h[1]=l+b,l=p)}}}},ZG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],f=u?.[i];if(f!=null){var h=Bi(f[1])?f[0]:f[1];h>=0?(f[0]=s,f[1]=s+h,s=f[1]):(f[0]=0,f[1]=0)}}}},eW={sign:JG,expand:xK,none:bc,silhouette:wK,wiggle:_K,positive:ZG},tW=(t,e,n)=>{var r,i=(r=eW[n])!==null&&r!==void 0?r:bc,s=bK().keys(e).value((u,f)=>Number(vt(u,f,0))).order(i_).offset(i),l=s(t);return l.forEach((u,f)=>{u.forEach((h,p)=>{var g=vt(t[p],e[f],0);Array.isArray(g)&&g.length===2&&De(g[0])&&De(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function N3(t){return t==null?void 0:String(t)}function Ev(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qt(i[e.dataKey])){var u=R5(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=vt(i,qt(l)?e.dataKey:l);return qt(f)?null:e.scale(f)}var qP=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=vt(s,e.dataKey,e.scale.domain()[l]);return qt(u)?null:e.scale(u)-i/2+r},nW=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},rW=t=>{var e=t.flat(2).filter(De);return[Math.min(...e),Math.max(...e)]},iW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],aW=(t,e,n)=>{if(t!=null)return iW(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((f,h)=>{var p=A3(h,e,n),g=rW(p);return!Ft(g[0])||!Ft(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},FP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ja=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=k0(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var f=i[l],h=i[l-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function KP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Ou(Ou({},e),{},{dataKey:n,payload:r,value:i,name:s})}function ns(t,e){if(t)return String(t);if(typeof e=="string")return e}var sW=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},oW=(t,e)=>e==="centric"?t.angle:t.radius,no=t=>t.layout.width,ro=t=>t.layout.height,lW=t=>t.layout.scale,C3=t=>t.layout.margin,F0=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),H0=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),O3="data-recharts-item-index",P3="data-recharts-item-id",om=60;function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=uW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uW(t){var e=dW(t,"string");return typeof e=="symbol"?e:e+""}function dW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fW=t=>t.brush.height;function hW(t){var e=H0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:om;return n+i}return n},0)}function mW(t){var e=H0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:om;return n+i}return n},0)}function pW(t){var e=F0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function gW(t){var e=F0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Bn=ae([no,ro,C3,fW,hW,mW,pW,gW,G5,BY],(t,e,n,r,i,s,l,u,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=ug(ug({},g),p),_=b.bottom;b.bottom+=r,b=WG(b,f,h);var S=t-b.left-b.right,A=e-b.top-b.bottom;return ug(ug({brushBottom:_},b),{},{width:Math.max(S,0),height:Math.max(A,0)})}),vW=ae(Bn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),SE=ae(no,ro,(t,e)=>({x:0,y:0,width:t,height:e})),yW=x.createContext(null),Mn=()=>x.useContext(yW)!=null,K0=t=>t.brush,Y0=ae([K0,Bn,C3],(t,e,n)=>({height:t.height,x:De(t.x)?t.x:e.left,y:De(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:De(t.width)?t.width:e.width})),L1={},z1={},V1={},GP;function bW(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),A()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},A=()=>{S(),l=void 0,u=null},E=()=>{p()},C=function(...$){if(i?.aborted)return;l=this,u=$;const D=b==null;_(),f&&D&&p()};return C.schedule=_,C.cancel=A,C.flush=E,i?.addEventListener("abort",A,{once:!0}),C}t.debounce=e})(V1)),V1}var WP;function xW(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bW();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const b=e.debounce(function(...A){p=r.apply(this,A),g=null},i,{edges:h}),_=function(...A){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,A),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,A),p)},S=()=>(b.flush(),p);return _.cancel=b.cancel,_.flush=S,_}t.debounce=n})(z1)),z1}var XP;function wW(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xW();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(L1)),L1}var $1,QP;function _W(){return QP||(QP=1,$1=wW().throttle),$1}var SW=_W();const EW=ha(SW);var Av=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},I3=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Hs(r)?t:Number(r),f=Hs(i)?e:Number(i);return s&&s>0&&(u?f=u/s:f&&(u=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},AW={width:0,height:0,overflow:"visible"},TW={width:0,overflowX:"visible"},jW={height:0,overflowY:"visible"},NW={},CW=t=>{var{width:e,height:n}=t,r=Hs(e),i=Hs(n);return r&&i?AW:r?TW:i?jW:NW};function OW(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(null,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return(e=IW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=RW(t,"string");return typeof e=="symbol"?e:e+""}function RW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R3=x.createContext({width:-1,height:-1});function kW(t){return Qa(t.width)&&Qa(t.height)}function k3(t){var{children:e,width:n,height:r}=t,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return kW(i)?x.createElement(R3.Provider,{value:i},e):null}var EE=()=>x.useContext(R3),MW=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:f,children:h,debounce:p=0,id:g,className:b,onResize:_,style:S={}}=t,A=x.useRef(null),E=x.useRef();E.current=_,x.useImperativeHandle(e,()=>A.current);var[C,$]=x.useState({containerWidth:r.width,containerHeight:r.height}),D=x.useCallback((j,R)=>{$(I=>{var O=Math.round(j),L=Math.round(R);return I.containerWidth===O&&I.containerHeight===L?I:{containerWidth:O,containerHeight:L}})},[]);x.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return im;var j=L=>{var M,{width:ie,height:Q}=L[0].contentRect;D(ie,Q),(M=E.current)===null||M===void 0||M.call(E,ie,Q)};p>0&&(j=EW(j,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(j),{width:I,height:O}=A.current.getBoundingClientRect();return D(I,O),R.observe(A.current),()=>{R.disconnect()}},[D,p]);var{containerWidth:U,containerHeight:B}=C;Av(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:N}=I3(U,B,{width:i,height:s,aspect:n,maxHeight:f});return Av(z!=null&&z>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,N,i,s,l,u,n),x.createElement("div",{id:g?"".concat(g):void 0,className:tt("recharts-responsive-container",b),style:ZP(ZP({},S),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:A},x.createElement("div",{style:CW({width:i,height:s})},x.createElement(k3,{width:z,height:N},h)))}),_h=x.forwardRef((t,e)=>{var n=EE();if(Qa(n.width)&&Qa(n.height))return t.children;var{width:r,height:i}=OW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=I3(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return De(s)&&De(l)?x.createElement(k3,{width:s,height:l},t.children):x.createElement(MW,g_({},t,{width:r,height:i,ref:e}))});function M3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var G0=()=>{var t,e=Mn(),n=ke(vW),r=ke(Y0),i=(t=ke(K0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},DW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},D3=()=>{var t;return(t=ke(Bn))!==null&&t!==void 0?t:DW},AE=()=>ke(no),TE=()=>ke(ro),LW=()=>ke(t=>t.layout.margin),nt=t=>t.layout.layoutType,bl=()=>ke(nt),zW=()=>{var t=bl();if(t==="horizontal"||t==="vertical")return t},VW=()=>{var t=bl();return t!==void 0},W0=t=>{var e=zt(),n=Mn(),{width:r,height:i}=t,s=EE(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),x.useEffect(()=>{!n&&Qa(l)&&Qa(u)&&e(qG({width:l,height:u}))},[e,n,l,u]),null},L3=Symbol.for("immer-nothing"),eI=Symbol.for("immer-draftable"),yi=Symbol.for("immer-state");function ia(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Sh=Object.getPrototypeOf;function Xu(t){return!!t&&!!t[yi]}function _c(t){return t?z3(t)||Array.isArray(t)||!!t[eI]||!!t.constructor?.[eI]||lm(t)||Q0(t):!1}var $W=Object.prototype.constructor.toString(),tI=new WeakMap;function z3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=tI.get(n);return r===void 0&&(r=Function.toString.call(n),tI.set(n,r)),r===$W}function Tv(t,e,n=!0){X0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function X0(t){const e=t[yi];return e?e.type_:Array.isArray(t)?1:lm(t)?2:Q0(t)?3:0}function v_(t,e){return X0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function V3(t,e,n){const r=X0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function UW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function lm(t){return t instanceof Map}function Q0(t){return t instanceof Set}function Zl(t){return t.copy_||t.base_}function y_(t,e){if(lm(t))return new Map(t);if(Q0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=z3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[yi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Sh(t),r)}else{const r=Sh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function jE(t,e=!1){return J0(t)||Xu(t)||!_c(t)||(X0(t)>1&&Object.defineProperties(t,{set:dg,add:dg,clear:dg,delete:dg}),Object.freeze(t),e&&Object.values(t).forEach(n=>jE(n,!0))),t}function BW(){ia(2)}var dg={value:BW};function J0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var qW={};function Sc(t){const e=qW[t];return e||ia(0,t),e}var Eh;function $3(){return Eh}function FW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nI(t,e){e&&(Sc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function b_(t){x_(t),t.drafts_.forEach(HW),t.drafts_=null}function x_(t){t===Eh&&(Eh=t.parent_)}function rI(t){return Eh=FW(Eh,t)}function HW(t){const e=t[yi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[yi].modified_&&(b_(e),ia(4)),_c(t)&&(t=jv(e,t),e.parent_||Nv(e,t)),e.patches_&&Sc("Patches").generateReplacementPatches_(n[yi].base_,t,e.patches_,e.inversePatches_)):t=jv(e,n,[]),b_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==L3?t:void 0}function jv(t,e,n){if(J0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[yi];if(!i)return Tv(e,(s,l)=>aI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Nv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Tv(l,(f,h)=>aI(t,i,s,f,h,n,u),r),Nv(t,s,!1),n&&t.patches_&&Sc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function aI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=J0(i);if(!(u&&!l)){if(Xu(i)){const f=s&&e&&e.type_!==3&&!v_(e.assigned_,r)?s.concat(r):void 0,h=jv(t,i,f);if(V3(n,r,h),Xu(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(_c(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;jv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Nv(t,i)}}}function Nv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jE(e,n)}function KW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:$3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=NE;n&&(i=[r],s=Ah);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var NE={get(t,e){if(e===yi)return t;const n=Zl(t);if(!v_(n,e))return YW(t,n,e);const r=n[e];return t.finalized_||!_c(r)?r:r===U1(t.base_,e)?(B1(t),t.copy_[e]=__(r,t)):r},has(t,e){return e in Zl(t)},ownKeys(t){return Reflect.ownKeys(Zl(t))},set(t,e,n){const r=U3(Zl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=U1(Zl(t),e),s=i?.[yi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(UW(n,i)&&(n!==void 0||v_(t.base_,e)))return!0;B1(t),w_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return U1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,B1(t),w_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Zl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ia(11)},getPrototypeOf(t){return Sh(t.base_)},setPrototypeOf(){ia(12)}},Ah={};Tv(NE,(t,e)=>{Ah[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ah.deleteProperty=function(t,e){return Ah.set.call(this,t,e,void 0)};Ah.set=function(t,e,n){return NE.set.call(this,t[0],e,n,t[0])};function U1(t,e){const n=t[yi];return(n?Zl(n):t)[e]}function YW(t,e,n){const r=U3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function U3(t,e){if(!(e in t))return;let n=Sh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Sh(n)}}function w_(t){t.modified_||(t.modified_=!0,t.parent_&&w_(t.parent_))}function B1(t){t.copy_||(t.copy_=y_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&ia(6),r!==void 0&&typeof r!="function"&&ia(7);let i;if(_c(e)){const s=rI(this),l=__(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?b_(s):x_(s)}return nI(s,r),iI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===L3&&(i=void 0),this.autoFreeze_&&jE(i,!0),r){const s=[],l=[];Sc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ia(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_c(t)||ia(8),Xu(t)&&(t=WW(t));const e=rI(this),n=__(t,void 0);return n[yi].isManual_=!0,x_(e),n}finishDraft(t,e){const n=t&&t[yi];(!n||!n.isManual_)&&ia(9);const{scope_:r}=n;return nI(r,e),iI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Sc("Patches").applyPatches_;return Xu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function __(t,e){const n=lm(t)?Sc("MapSet").proxyMap_(t,e):Q0(t)?Sc("MapSet").proxySet_(t,e):KW(t,e);return(e?e.scope_:$3()).drafts_.push(n),n}function WW(t){return Xu(t)||ia(10,t),B3(t)}function B3(t){if(!_c(t)||J0(t))return t;const e=t[yi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=y_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=y_(t,!0);return Tv(n,(i,s)=>{V3(n,i,B3(s))},r),e&&(e.finalized_=!1),n}var XW=new GW;XW.produce;var QW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},q3=ti({name:"legend",initialState:QW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:on()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:on()},removeLegendPayload:{reducer(t,e){var n=ca(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:on()}}}),{setLegendSize:sI,setLegendSettings:JW,addLegendPayload:F3,replaceLegendPayload:H3,removeLegendPayload:K3}=q3.actions,ZW=q3.reducer,eX=["contextPayload"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(null,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iX(t,e){if(t==null)return{};var n,r,i=aX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sX(t){return t.value}function oX(t){var{contextPayload:e}=t,n=iX(t,eX),r=F5(e,t.payloadUniqBy,sX),i=Qu(Qu({},n),{},{payload:r});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(JK,i)}function lX(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Qu(Qu({},h),p)}function cX(t){var e=zt();return x.useEffect(()=>{e(JW(t))},[e,t]),null}function uX(t){var e=zt();return x.useEffect(()=>(e(sI(t)),()=>{e(sI({width:0,height:0}))}),[e,t]),null}function dX(t,e,n,r){return t==="vertical"&&De(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var fX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Th(t){var e=Xt(t,fX),n=HY(),r=qH(),i=LW(),{width:s,height:l,wrapperStyle:u,portal:f}=e,[h,p]=W5([n]),g=AE(),b=TE();if(g==null||b==null)return null;var _=g-(i?.left||0)-(i?.right||0),S=dX(e.layout,l,s,_),A=f?u:Qu(Qu({position:"absolute",width:S?.width||s||"auto",height:S?.height||l||"auto"},lX(u,e,i,g,b,h)),u),E=f??r;if(E==null||n==null)return null;var C=x.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:p},x.createElement(cX,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!f&&x.createElement(uX,{width:h.width,height:h.height}),x.createElement(oX,S_({},e,S,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return aE.createPortal(C,E)}Th.displayName="Legend";function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(null,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){hX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hX(t,e,n){return(e=mX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=pX(t,"string");return typeof e=="symbol"?e:e+""}function pX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gX(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var vX=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var B={padding:0,margin:0},z=(u?k0(s,u):s).map((N,j)=>{if(N.type==="none")return null;var R=N.formatter||l||gX,{value:I,name:O}=N,L=I,M=O;if(R){var ie=R(I,O,N,j,s);if(Array.isArray(ie))[L,M]=ie;else if(ie!=null)L=ie;else return null}var Q=q1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:Q},Xa(M)?x.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Xa(M)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},L),x.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:B},z)}return null},S=q1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=q1({margin:0},i),E=!qt(p),C=E?p:"",$=tt("recharts-default-tooltip",f),D=tt("recharts-tooltip-label",h);E&&g&&s!==void 0&&s!==null&&(C=g(p,s));var U=b?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",E_({className:$,style:S},U),x.createElement("p",{className:D,style:A},x.isValidElement(C)?C:"".concat(C)),_())},Mf="recharts-tooltip-wrapper",yX={visibility:"hidden"};function bX(t){var{coordinate:e,translateX:n,translateY:r}=t;return tt(Mf,{["".concat(Mf,"-right")]:De(n)&&e&&De(e.x)&&n>=e.x,["".concat(Mf,"-left")]:De(n)&&e&&De(e.x)&&n<e.x,["".concat(Mf,"-bottom")]:De(r)&&e&&De(e.y)&&r>=e.y,["".concat(Mf,"-top")]:De(r)&&e&&De(e.y)&&r<e.y})}function cI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(s&&De(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=f[r];if(b==null)return 0;if(l[r]){var _=p,S=b;return _<S?Math.max(g,b):Math.max(p,b)}if(h==null)return 0;var A=g+u,E=b+h;return A>E?Math.max(p,b):Math.max(g,b)}function xX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wX(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=cI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=cI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=xX({translateX:p,translateY:g,useTranslate3d:u})):h=yX,{cssProperties:h,cssClasses:bX({translateX:p,translateY:g,coordinate:n})}}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A_(t,e,n){return(e=_X(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _X(t){var e=SX(t,"string");return typeof e=="symbol"?e:e+""}function SX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class EX extends x.PureComponent{constructor(){super(...arguments),A_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),A_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:b,viewBox:_,wrapperStyle:S,lastBoundingBox:A,innerRef:E,hasPortalFromProps:C}=this.props,{cssClasses:$,cssProperties:D}=wX({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:b,viewBox:_}),U=C?{}:fg(fg({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),B=fg(fg({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:$,style:B,ref:E},s)}}var Y3=()=>{var t;return(t=ke(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(null,arguments)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){AX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AX(t,e,n){return(e=TX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=jX(t,"string");return typeof e=="symbol"?e:e+""}function jX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hI={curveBasisClosed:lK,curveBasisOpen:cK,curveBasis:oK,curveBumpX:YH,curveBumpY:GH,curveLinearClosed:uK,curveLinear:P0,curveMonotoneX:dK,curveMonotoneY:fK,curveNatural:hK,curveStep:mK,curveStepAfter:gK,curveStepBefore:pK},Cv=t=>Ft(t.x)&&Ft(t.y),mI=t=>t.base!=null&&Cv(t.base)&&Cv(t),Df=t=>t.x,Lf=t=>t.y,NX=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(rm(t));return(n==="curveMonotone"||n==="curveBump")&&e?hI["".concat(n).concat(e==="vertical"?"Y":"X")]:hI[n]||P0},CX=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=NX(e,i),u=s?n.filter(Cv):n,f;if(Array.isArray(r)){var h=n.map((_,S)=>fI(fI({},_),{},{base:r[S]}));i==="vertical"?f=ig().y(Lf).x1(Df).x0(_=>_.base.x):f=ig().x(Df).y1(Lf).y0(_=>_.base.y);var p=f.defined(mI).curve(l),g=s?h.filter(mI):h;return p(g)}i==="vertical"&&De(r)?f=ig().y(Lf).x1(Df).x0(r):De(r)?f=ig().x(Df).y1(Lf).y0(r):f=x5().x(Df).y(Lf);var b=f.defined(Cv).curve(l);return b(u)},Vu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=bl();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?CX(l):r;return x.createElement("path",T_({},Wt(t),hE(t),{className:tt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},OX=["x","y","top","left","width","height","className"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(null,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return(e=RX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RX(t){var e=kX(t,"string");return typeof e=="symbol"?e:e+""}function kX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MX(t,e){if(t==null)return{};var n,r,i=DX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LX=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),zX=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,f=MX(t,OX),h=PX({x:e,y:n,top:r,left:i,width:s,height:l},f);return!De(e)||!De(n)||!De(s)||!De(l)||!De(r)||!De(i)?null:x.createElement("path",j_({},Sn(h),{className:tt("recharts-cross",u),d:LX(e,n,s,l,r,i)}))};function VX(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){$X(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $X(t,e,n){return(e=UX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=BX(t,"string");return typeof e=="symbol"?e:e+""}function BX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qX=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),G3=(t,e,n)=>t.map(r=>"".concat(qX(r)," ").concat(e,"ms ").concat(n)).join(","),FX=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),jh=(t,e)=>Object.keys(e).reduce((n,r)=>vI(vI({},n),{},{[r]:t(r,e[r])}),{});function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){HX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HX(t,e,n){return(e=KX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ov=(t,e,n)=>t+(e-t)*n,N_=t=>{var{from:e,to:n}=t;return e!==n},W3=(t,e,n)=>{var r=jh((i,s)=>{if(N_(s)){var[l,u]=t(s.from,s.to,s.velocity);return Vn(Vn({},s),{},{from:l,velocity:u})}return s},e);return n<1?jh((i,s)=>N_(s)&&r[i]!=null?Vn(Vn({},s),{},{velocity:Ov(s.velocity,r[i].velocity,n),from:Ov(s.from,r[i].from,n)}):s,e):W3(t,r,n-1)};function GX(t,e,n,r,i,s){var l,u=r.reduce((b,_)=>Vn(Vn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),f=()=>jh((b,_)=>_.from,u),h=()=>!Object.values(u).filter(N_).length,p=null,g=b=>{l||(l=b);var _=b-l,S=_/n.dt;u=W3(n,u,S),i(Vn(Vn(Vn({},t),e),f())),l=b,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function WX(t,e,n,r,i,s,l){var u=null,f=i.reduce((g,b)=>{var _=t[b],S=e[b];return _==null||S==null?g:Vn(Vn({},g),{},{[b]:[_,S]})},{}),h,p=g=>{h||(h=g);var b=(g-h)/r,_=jh((A,E)=>Ov(...E,n(b)),f);if(s(Vn(Vn(Vn({},t),e),_)),b<1)u=l.setTimeout(p);else{var S=jh((A,E)=>Ov(...E,n(1)),f);s(Vn(Vn(Vn({},t),e),S))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const XX=(t,e,n,r,i,s)=>{var l=FX(t,e);return n==null?()=>(i(Vn(Vn({},t),e)),()=>{}):n.isStepper===!0?GX(t,e,n,l,i,s):WX(t,e,n,r,l,i,s)};var Pv=1e-4,X3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Q3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),bI=(t,e)=>n=>{var r=X3(t,e);return Q3(r,n)},QX=(t,e)=>n=>{var r=X3(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return Q3(i,n)},JX=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},ZX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=JX(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},eQ=(t,e,n,r)=>{var i=bI(t,n),s=bI(e,r),l=QX(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,b=0;b<8;++b){var _=i(g)-p,S=l(g);if(Math.abs(_-p)<Pv||S<Pv)return s(g);g=u(g-_/S)}return s(g)};return f.isStepper=!1,f},xI=function(){return eQ(...ZX(...arguments))},tQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,f)=>{var h=-(l-u)*n,p=f*r,g=f+(h-p)*i/1e3,b=f*i/1e3+l;return Math.abs(b-u)<Pv&&Math.abs(g)<Pv?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},nQ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xI(t);case"spring":return tQ();default:if(t.split("(")[0]==="cubic-bezier")return xI(t)}return typeof t=="function"?t:null};function rQ(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){i=t.setTimeout(s.bind(null,h),f);return}s(f),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class iQ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function aQ(){return rQ(new iQ)}var sQ=x.createContext(aQ);function oQ(t,e){var n=x.useContext(sQ);return x.useMemo(()=>e??n(t),[t,e,n])}var lQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),cm={isSsr:lQ()},cQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wI={t:0},F1={t:1};function Ic(t){var e=Xt(t,cQ),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=e,p=n==="auto"?!cm.isSsr:n,g=oQ(e.animationId,e.animationManager),[b,_]=x.useState(p?wI:F1),S=x.useRef(null);return x.useEffect(()=>{p||_(F1)},[p]),x.useEffect(()=>{if(!p||!r)return im;var A=XX(wI,F1,nQ(s),i,_,g.getTimeoutController()),E=()=>{S.current=A()};return g.start([f,l,E,i,u]),()=>{g.stop(),S.current&&S.current(),u()}},[p,r,i,s,l,f,u,g]),h(b.t)}function Rc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(yh(e)),r=x.useRef(t);return r.current!==t&&(n.current=yh(e),r.current=t),n.current}var uQ=["radius"],dQ=["radius"],_I,SI,EI,AI,TI,jI,NI,CI,OI,PI;function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){fQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e,n){return(e=hQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hQ(t){var e=mQ(t,"string");return typeof e=="symbol"?e:e+""}function mQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(null,arguments)}function kI(t,e){if(t==null)return{};var n,r,i=pQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ma(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var MI=(t,e,n,r,i)=>{var s=Zo(n),l=Zo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],_=0,S=4;_<S;_++)b[_]=i[_]>u?u:i[_];g=un(_I||(_I=Ma(["M",",",""])),t,e+f*b[0]),b[0]>0&&(g+=un(SI||(SI=Ma(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+h*b[0],e)),g+=un(EI||(EI=Ma(["L ",",",""])),t+n-h*b[1],e),b[1]>0&&(g+=un(AI||(AI=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+f*b[1])),g+=un(TI||(TI=Ma(["L ",",",""])),t+n,e+r-f*b[2]),b[2]>0&&(g+=un(jI||(jI=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-h*b[2],e+r)),g+=un(NI||(NI=Ma(["L ",",",""])),t+h*b[3],e+r),b[3]>0&&(g+=un(CI||(CI=Ma(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-f*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var A=Math.min(u,i);g=un(OI||(OI=Ma(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*A,A,A,p,t+h*A,e,t+n-h*A,e,A,A,p,t+n,e+f*A,t+n,e+r-f*A,A,A,p,t+n-h*A,e+r,t+h*A,e+r,A,A,p,t,e+r-f*A)}else g=un(PI||(PI=Ma(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},DI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J3=t=>{var e=Xt(t,DI),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:A}=e,E=x.useRef(u),C=x.useRef(f),$=x.useRef(s),D=x.useRef(l),U=x.useMemo(()=>({x:s,y:l,width:u,height:f,radius:h}),[s,l,u,f,h]),B=Rc(U,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var z=tt("recharts-rectangle",p);if(!A){var N=Sn(e),{radius:j}=N,R=kI(N,uQ);return x.createElement("path",Iv({},R,{x:Zo(s),y:Zo(l),width:Zo(u),height:Zo(f),radius:typeof h=="number"?h:void 0,className:z,d:MI(s,l,u,f,h)}))}var I=E.current,O=C.current,L=$.current,M=D.current,ie="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),K=G3(["strokeDasharray"],b,typeof g=="string"?g:DI.animationEasing);return x.createElement(Ic,{animationId:B,key:B,canBegin:r>0,duration:b,easing:g,isActive:A,begin:_},ee=>{var se=ht(I,u,ee),Y=ht(O,f,ee),Z=ht(L,s,ee),V=ht(M,l,ee);n.current&&(E.current=se,C.current=Y,$.current=Z,D.current=V);var X;S?ee>0?X={transition:K,strokeDasharray:Q}:X={strokeDasharray:ie}:X={strokeDasharray:Q};var W=Sn(e),{radius:G}=W,fe=kI(W,dQ);return x.createElement("path",Iv({},fe,{radius:typeof h=="number"?h:void 0,className:z,d:MI(Z,V,se,Y,h),ref:n,style:RI(RI({},X),e.style)}))})};function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){gQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gQ(t,e,n){return(e=vQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vQ(t){var e=yQ(t,"string");return typeof e=="symbol"?e:e+""}function yQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rv=Math.PI/180,kv=t=>t*Math.PI/180,bQ=t=>t*180/Math.PI,St=(t,e,n,r)=>({x:t+Math.cos(-Rv*r)*n,y:e+Math.sin(-Rv*r)*n}),Z3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},wQ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=xQ({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:l,angle:bQ(f),angleInRadian:f}},_Q=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},SQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},EQ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=wQ({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:h}=_Q(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?zI(zI({},e),{},{radius:i,angle:SQ(p,e)}):null},e6=t=>!x.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function t6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=St(e,n,r,i),u=St(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var VI,$I,UI,BI,qI,FI,HI;function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(null,arguments)}function nc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var AQ=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},hg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/Rv,g=f?i:i+s*p,b=St(e,n,h,g),_=St(e,n,r,g),S=f?i-s*p:i,A=St(e,n,h*Math.cos(p*Rv),S);return{center:b,circleTangency:_,lineTangency:A,theta:p}},n6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=AQ(s,l),f=s+u,h=St(e,n,i,s),p=St(e,n,i,f),g=un(VI||(VI=nc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>f),p.x,p.y);if(r>0){var b=St(e,n,r,s),_=St(e,n,r,f);g+=un($I||($I=nc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=f),b.x,b.y)}else g+=un(UI||(UI=nc(["L ",","," Z"])),e,n);return g},TQ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=t,p=er(h-f),{circleTangency:g,lineTangency:b,theta:_}=hg({cx:e,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:A,theta:E}=hg({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),C=u?Math.abs(f-h):Math.abs(f-h)-_-E;if(C<0)return l?un(BI||(BI=nc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):n6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var $=un(qI||(qI=nc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(C>180),+(p<0),S.x,S.y,s,s,+(p<0),A.x,A.y);if(r>0){var{circleTangency:D,lineTangency:U,theta:B}=hg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:z,lineTangency:N,theta:j}=hg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),R=u?Math.abs(f-h):Math.abs(f-h)-B-j;if(R<0&&s===0)return"".concat($,"L").concat(e,",").concat(n,"Z");$+=un(FI||(FI=nc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(p<0),z.x,z.y,r,r,+(R>180),+(p>0),D.x,D.y,s,s,+(p<0),U.x,U.y)}else $+=un(HI||(HI=nc(["L",",","Z"])),e,n);return $},jQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r6=t=>{var e=Xt(t,jQ),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var b=tt("recharts-sector",g),_=s-i,S=Cr(l,_,0,!0),A;return S>0&&Math.abs(h-p)<360?A=TQ({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):A=n6({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),x.createElement("path",C_({},Sn(e),{className:b,d:A}))};function NQ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(M5(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,f=St(r,i,s,u),h=St(r,i,l,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return t6(e)}}var H1={},K1={},Y1={},KI;function CQ(){return KI||(KI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Y1)),Y1}var YI;function OQ(){return YI||(YI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CQ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(K1)),K1}var GI;function PQ(){return GI||(GI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y5(),n=OQ();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=i,i+=l;return f}t.range=r})(H1)),H1}var G1,WI;function IQ(){return WI||(WI=1,G1=PQ().range),G1}var RQ=IQ();const i6=ha(RQ);function al(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CE(t){let e,n,r;t.length!==2?(e=al,n=(u,f)=>al(t(u),f),r=(u,f)=>t(u)-f):(e=t===al||t===kQ?t:MQ,n=t,r=t);function i(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,f,h=0,p=u.length){const g=i(u,f,h,p-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:l,right:s}}function MQ(){return 0}function a6(t){return t===null?NaN:+t}function*DQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const LQ=CE(al),um=LQ.right;CE(a6).center;class XI extends Map{constructor(e,n=$Q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QI(this,e))}has(e){return super.has(QI(this,e))}set(e,n){return super.set(zQ(this,e),n)}delete(e){return super.delete(VQ(this,e))}}function QI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function zQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function VQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $Q(t){return t!==null&&typeof t=="object"?t.valueOf():t}function UQ(t=al){if(t===al)return s6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function s6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const BQ=Math.sqrt(50),qQ=Math.sqrt(10),FQ=Math.sqrt(2);function Mv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=BQ?10:s>=qQ?5:s>=FQ?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?Mv(t,e,n*2):[u,f,h]}function O_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Mv(e,t,n):Mv(t,e,n);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)f[h]=(s-h)/-l;else for(let h=0;h<u;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(i+h)/-l;else for(let h=0;h<u;++h)f[h]=(i+h)*l;return f}function P_(t,e,n){return e=+e,t=+t,n=+n,Mv(t,e,n)[2]}function I_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?P_(e,t,n):P_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function JI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function o6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?s6:UQ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*g/f+b)),S=Math.min(r,Math.floor(e+(f-h)*g/f+b));o6(t,e,_,S,i)}const s=t[e];let l=n,u=r;for(zf(t,n,e),i(t[r],s)>0&&zf(t,n,r);l<u;){for(zf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?zf(t,n,u):(++u,zf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function zf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function HQ(t,e,n){if(t=Float64Array.from(DQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZI(t);if(e>=1)return JI(t);var r,i=(r-1)*e,s=Math.floor(i),l=JI(o6(t,s).subarray(0,s+1)),u=ZI(t.subarray(s+1));return l+(u-l)*(i-s)}}function KQ(t,e,n=a6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function YQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const R_=Symbol("implicit");function OE(){var t=new XI,e=[],n=[],r=R_;function i(s){let l=t.get(s);if(l===void 0){if(r!==R_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new XI;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return OE(e,n).unknown(r)},Hi.apply(i,arguments),i}function PE(){var t=OE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var b=e().length,_=i<r,S=_?i:r,A=_?r:i;s=(A-S)/Math.max(1,b-f+h*2),u&&(s=Math.floor(s)),S+=(A-S-s*(b-f))*p,l=s*(1-f),u&&(S=Math.round(S),l=Math.round(l));var E=YQ(b).map(function(C){return S+s*C});return n(_?E.reverse():E)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(f=Math.min(1,h=+b),g()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),g()):f},t.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return PE(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(p)},Hi.apply(g(),arguments)}function l6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l6(e())},t}function GQ(){return l6(PE.apply(null,arguments).paddingInner(1))}function IE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function c6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function dm(){}var Nh=.7,Dv=1/Nh,$u="\\s*([+-]?\\d+)\\s*",Ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WQ=/^#([0-9a-f]{3,8})$/,XQ=new RegExp(`^rgb\\(${$u},${$u},${$u}\\)$`),QQ=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),JQ=new RegExp(`^rgba\\(${$u},${$u},${$u},${Ch}\\)$`),ZQ=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${Ch}\\)$`),eJ=new RegExp(`^hsl\\(${Ch},${Ya},${Ya}\\)$`),tJ=new RegExp(`^hsla\\(${Ch},${Ya},${Ya},${Ch}\\)$`),eR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IE(dm,Oh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tR,formatHex:tR,formatHex8:nJ,formatHsl:rJ,formatRgb:nR,toString:nR});function tR(){return this.rgb().formatHex()}function nJ(){return this.rgb().formatHex8()}function rJ(){return u6(this).formatHsl()}function nR(){return this.rgb().formatRgb()}function Oh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=WQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rR(e):n===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XQ.exec(t))?new Jr(e[1],e[2],e[3],1):(e=QQ.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JQ.exec(t))?mg(e[1],e[2],e[3],e[4]):(e=ZQ.exec(t))?mg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eJ.exec(t))?sR(e[1],e[2]/100,e[3]/100,1):(e=tJ.exec(t))?sR(e[1],e[2]/100,e[3]/100,e[4]):eR.hasOwnProperty(t)?rR(eR[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function rR(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function mg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jr(t,e,n,r)}function iJ(t){return t instanceof dm||(t=Oh(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function k_(t,e,n,r){return arguments.length===1?iJ(t):new Jr(t,e,n,r??1)}function Jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}IE(Jr,k_,c6(dm,{brighter(t){return t=t==null?Dv:Math.pow(Dv,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nh:Math.pow(Nh,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(cc(this.r),cc(this.g),cc(this.b),Lv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iR,formatHex:iR,formatHex8:aJ,formatRgb:aR,toString:aR}));function iR(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}`}function aJ(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}${rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function aR(){const t=Lv(this.opacity);return`${t===1?"rgb(":"rgba("}${cc(this.r)}, ${cc(this.g)}, ${cc(this.b)}${t===1?")":`, ${t})`}`}function Lv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rc(t){return t=cc(t),(t<16?"0":"")+t.toString(16)}function sR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new aa(t,e,n,r)}function u6(t){if(t instanceof aa)return new aa(t.h,t.s,t.l,t.opacity);if(t instanceof dm||(t=Oh(t)),!t)return new aa;if(t instanceof aa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,f=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?s+i:2-s-i,l*=60):u=f>0&&f<1?0:l,new aa(l,u,f,t.opacity)}function sJ(t,e,n,r){return arguments.length===1?u6(t):new aa(t,e,n,r??1)}function aa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}IE(aa,sJ,c6(dm,{brighter(t){return t=t==null?Dv:Math.pow(Dv,t),new aa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nh:Math.pow(Nh,t),new aa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Jr(W1(t>=240?t-240:t+120,i,r),W1(t,i,r),W1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new aa(oR(this.h),pg(this.s),pg(this.l),Lv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lv(this.opacity);return`${t===1?"hsl(":"hsla("}${oR(this.h)}, ${pg(this.s)*100}%, ${pg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oR(t){return t=(t||0)%360,t<0?t+360:t}function pg(t){return Math.max(0,Math.min(1,t||0))}function W1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const RE=t=>()=>t;function oJ(t,e){return function(n){return t+n*e}}function lJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cJ(t){return(t=+t)==1?d6:function(e,n){return n-e?lJ(e,n,t):RE(isNaN(e)?n:e)}}function d6(t,e){var n=e-t;return n?oJ(t,n):RE(isNaN(t)?e:t)}const lR=(function t(e){var n=cJ(e);function r(i,s){var l=n((i=k_(i)).r,(s=k_(s)).r),u=n(i.g,s.g),f=n(i.b,s.b),h=d6(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function uJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function dJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=vd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function hJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=vd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var M_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X1=new RegExp(M_.source,"g");function pJ(t){return function(){return t}}function gJ(t){return function(e){return t(e)+""}}function vJ(t,e){var n=M_.lastIndex=X1.lastIndex=0,r,i,s,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=M_.exec(t))&&(i=X1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:zv(r,i)})),n=X1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?gJ(f[0].x):pJ(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function vd(t,e){var n=typeof e,r;return e==null||n==="boolean"?RE(e):(n==="number"?zv:n==="string"?(r=Oh(e))?(e=r,lR):vJ:e instanceof Oh?lR:e instanceof Date?hJ:dJ(e)?uJ:Array.isArray(e)?fJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mJ:zv)(t,e)}function kE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yJ(t,e){e===void 0&&(e=t,t=vd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function bJ(t){return function(){return t}}function Vv(t){return+t}var cR=[0,1];function Dr(t){return t}function D_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bJ(isNaN(e)?NaN:.5)}function xJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wJ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=D_(i,r),s=n(l,s)):(r=D_(r,i),s=n(s,l)),function(u){return s(r(u))}}function _J(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=D_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var f=um(t,u,1,r)-1;return s[f](i[f](u))}}function fm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Z0(){var t=cR,e=cR,n=vd,r,i,s,l=Dr,u,f,h;function p(){var b=Math.min(t.length,e.length);return l!==Dr&&(l=xJ(t[0],t[b-1])),u=b>2?_J:wJ,f=h=null,g}function g(b){return b==null||isNaN(b=+b)?s:(f||(f=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((h||(h=u(e,t.map(r),zv)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,Vv),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=kE,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Dr,p()):l!==Dr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,_){return r=b,i=_,p()}}function ME(){return Z0()(Dr,Dr)}function SJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $v(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ju(t){return t=$v(Math.abs(t)),t?t[1]:NaN}function EJ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function AJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var TJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ph(t){if(!(e=TJ.exec(t)))throw new Error("invalid format: "+t);var e;return new DE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ph.prototype=DE.prototype;function DE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var f6;function NJ(t,e){var n=$v(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(f6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+$v(t,Math.max(0,e+s-1))[0]}function uR(t,e){var n=$v(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:SJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uR(t*100,e),r:uR,s:NJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fR(t){return t}var hR=Array.prototype.map,mR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CJ(t){var e=t.grouping===void 0||t.thousands===void 0?fR:EJ(hR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?fR:AJ(hR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Ph(g);var b=g.fill,_=g.align,S=g.sign,A=g.symbol,E=g.zero,C=g.width,$=g.comma,D=g.precision,U=g.trim,B=g.type;B==="n"?($=!0,B="g"):dR[B]||(D===void 0&&(D=12),U=!0,B="g"),(E||b==="0"&&_==="=")&&(E=!0,b="0",_="=");var z=A==="$"?n:A==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",N=A==="$"?r:/[%p]/.test(B)?l:"",j=dR[B],R=/[defgprs%]/.test(B);D=D===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function I(O){var L=z,M=N,ie,Q,K;if(B==="c")M=j(O)+M,O="";else{O=+O;var ee=O<0||1/O<0;if(O=isNaN(O)?f:j(Math.abs(O),D),U&&(O=jJ(O)),ee&&+O==0&&S!=="+"&&(ee=!1),L=(ee?S==="("?S:u:S==="-"||S==="("?"":S)+L,M=(B==="s"?mR[8+f6/3]:"")+M+(ee&&S==="("?")":""),R){for(ie=-1,Q=O.length;++ie<Q;)if(K=O.charCodeAt(ie),48>K||K>57){M=(K===46?i+O.slice(ie+1):O.slice(ie))+M,O=O.slice(0,ie);break}}}$&&!E&&(O=e(O,1/0));var se=L.length+O.length+M.length,Y=se<C?new Array(C-se+1).join(b):"";switch($&&E&&(O=e(Y+O,Y.length?C-M.length:1/0),Y=""),_){case"<":O=L+O+M+Y;break;case"=":O=L+Y+O+M;break;case"^":O=Y.slice(0,se=Y.length>>1)+L+O+M+Y.slice(se);break;default:O=Y+L+O+M;break}return s(O)}return I.toString=function(){return g+""},I}function p(g,b){var _=h((g=Ph(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(Ju(b)/3)))*3,A=Math.pow(10,-S),E=mR[8+S/3];return function(C){return _(A*C)+E}}return{format:h,formatPrefix:p}}var gg,LE,h6;OJ({thousands:",",grouping:[3],currency:["$",""]});function OJ(t){return gg=CJ(t),LE=gg.format,h6=gg.formatPrefix,gg}function PJ(t){return Math.max(0,-Ju(Math.abs(t)))}function IJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ju(e)/3)))*3-Ju(Math.abs(t)))}function RJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ju(e)-Ju(t))+1}function m6(t,e,n,r){var i=I_(t,e,n),s;switch(r=Ph(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=IJ(i,l))&&(r.precision=s),h6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=RJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=PJ(i))&&(r.precision=s-(r.type==="%")*2);break}}return LE(r)}function xl(t){var e=t.domain;return t.ticks=function(n){var r=e();return O_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return m6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],f,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=P_(l,u,n),h===f)return r[i]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function p6(){var t=ME();return t.copy=function(){return fm(t,p6())},Hi.apply(t,arguments),xl(t)}function g6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return g6(t).unknown(e)},t=arguments.length?Array.from(t,Vv):[0,1],xl(n)}function v6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function pR(t){return Math.log(t)}function gR(t){return Math.exp(t)}function kJ(t){return-Math.log(-t)}function MJ(t){return-Math.exp(-t)}function DJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function LJ(t){return t===10?DJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vR(t){return(e,n)=>-t(-e,n)}function zE(t){const e=t(pR,gR),n=e.domain;let r=10,i,s;function l(){return i=zJ(r),s=LJ(r),n()[0]<0?(i=vR(i),s=vR(s),t(kJ,MJ)):t(pR,gR),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let b=i(h),_=i(p),S,A;const E=u==null?10:+u;let C=[];if(!(r%1)&&_-b<E){if(b=Math.floor(b),_=Math.ceil(_),h>0){for(;b<=_;++b)for(S=1;S<r;++S)if(A=b<0?S/s(-b):S*s(b),!(A<h)){if(A>p)break;C.push(A)}}else for(;b<=_;++b)for(S=r-1;S>=1;--S)if(A=b>0?S/s(-b):S*s(b),!(A<h)){if(A>p)break;C.push(A)}C.length*2<E&&(C=O_(h,p,E))}else C=O_(b,_,Math.min(_-b,E)).map(s);return g?C.reverse():C},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Ph(f)).precision==null&&(f.trim=!0),f=LE(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(v6(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function y6(){const t=zE(Z0()).domain([1,10]);return t.copy=()=>fm(t,y6()).base(t.base()),Hi.apply(t,arguments),t}function yR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function VE(t){var e=1,n=t(yR(e),bR(e));return n.constant=function(r){return arguments.length?t(yR(e=+r),bR(e)):e},xl(n)}function b6(){var t=VE(Z0());return t.copy=function(){return fm(t,b6()).constant(t.constant())},Hi.apply(t,arguments)}function xR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function VJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $J(t){return t<0?-t*t:t*t}function $E(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(VJ,$J):t(xR(n),xR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(e)}function UE(){var t=$E(Z0());return t.copy=function(){return fm(t,UE()).exponent(t.exponent())},Hi.apply(t,arguments),t}function UJ(){return UE.apply(null,arguments).exponent(.5)}function wR(t){return Math.sign(t)*t*t}function BJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function x6(){var t=ME(),e=[0,1],n=!1,r;function i(s){var l=BJ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(wR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Vv)).map(wR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return x6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Hi.apply(i,arguments),xl(i)}function w6(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=KQ(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[um(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(al),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return w6().domain(t).range(e).unknown(r)},Hi.apply(s,arguments)}function _6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[um(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return _6().domain([t,e]).range(i).unknown(s)},Hi.apply(xl(l),arguments)}function S6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[um(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return S6().domain(t).range(e).unknown(n)},Hi.apply(i,arguments)}const Q1=new Date,J1=new Date;function qn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let h;do f.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return f},i.filter=s=>qn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Q1.setTime(+s),J1.setTime(+l),t(Q1),t(J1),Math.floor(n(Q1,J1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Uv=qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Uv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Uv);Uv.range;const Os=1e3,Ui=Os*60,Ps=Ui*60,Ys=Ps*24,BE=Ys*7,_R=Ys*30,Z1=Ys*365,ic=qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCSeconds());ic.range;const qE=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getMinutes());qE.range;const FE=qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getUTCMinutes());FE.range;const HE=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os-t.getMinutes()*Ui)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getHours());HE.range;const KE=qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCHours());KE.range;const hm=qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ui)/Ys,t=>t.getDate()-1);hm.range;const ey=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>t.getUTCDate()-1);ey.range;const E6=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>Math.floor(t/Ys));E6.range;function kc(t){return qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/BE)}const ty=kc(0),Bv=kc(1),qJ=kc(2),FJ=kc(3),Zu=kc(4),HJ=kc(5),KJ=kc(6);ty.range;Bv.range;qJ.range;FJ.range;Zu.range;HJ.range;KJ.range;function Mc(t){return qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/BE)}const ny=Mc(0),qv=Mc(1),YJ=Mc(2),GJ=Mc(3),ed=Mc(4),WJ=Mc(5),XJ=Mc(6);ny.range;qv.range;YJ.range;GJ.range;ed.range;WJ.range;XJ.range;const YE=qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YE.range;const GE=qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());GE.range;const Gs=qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Gs.range;const Ws=qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ws.range;function A6(t,e,n,r,i,s){const l=[[ic,1,Os],[ic,5,5*Os],[ic,15,15*Os],[ic,30,30*Os],[s,1,Ui],[s,5,5*Ui],[s,15,15*Ui],[s,30,30*Ui],[i,1,Ps],[i,3,3*Ps],[i,6,6*Ps],[i,12,12*Ps],[r,1,Ys],[r,2,2*Ys],[n,1,BE],[e,1,_R],[e,3,3*_R],[t,1,Z1]];function u(h,p,g){const b=p<h;b&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:f(h,p,g),S=_?_.range(h,+p+1):[];return b?S.reverse():S}function f(h,p,g){const b=Math.abs(p-h)/g,_=CE(([,,E])=>E).right(l,b);if(_===l.length)return t.every(I_(h/Z1,p/Z1,g));if(_===0)return Uv.every(Math.max(I_(h,p,g),1));const[S,A]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return S.every(A)}return[u,f]}const[QJ,JJ]=A6(Ws,GE,ny,E6,KE,FE),[ZJ,eZ]=A6(Gs,YE,ty,hm,HE,qE);function ew(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,h=$f(i),p=Uf(i),g=$f(s),b=Uf(s),_=$f(l),S=Uf(l),A=$f(u),E=Uf(u),C=$f(f),$=Uf(f),D={a:ee,A:se,b:Y,B:Z,c:null,d:NR,e:NR,f:EZ,g:kZ,G:DZ,H:wZ,I:_Z,j:SZ,L:T6,m:AZ,M:TZ,p:V,q:X,Q:PR,s:IR,S:jZ,u:NZ,U:CZ,V:OZ,w:PZ,W:IZ,x:null,X:null,y:RZ,Y:MZ,Z:LZ,"%":OR},U={a:W,A:G,b:fe,B:ge,c:null,d:CR,e:CR,f:UZ,g:QZ,G:ZZ,H:zZ,I:VZ,j:$Z,L:N6,m:BZ,M:qZ,p:oe,q:Oe,Q:PR,s:IR,S:FZ,u:HZ,U:KZ,V:YZ,w:GZ,W:WZ,x:null,X:null,y:XZ,Y:JZ,Z:eee,"%":OR},B={a:I,A:O,b:L,B:M,c:ie,d:TR,e:TR,f:vZ,g:AR,G:ER,H:jR,I:jR,j:hZ,L:gZ,m:fZ,M:mZ,p:R,q:dZ,Q:bZ,s:xZ,S:pZ,u:sZ,U:oZ,V:lZ,w:aZ,W:cZ,x:Q,X:K,y:AR,Y:ER,Z:uZ,"%":yZ};D.x=z(n,D),D.X=z(r,D),D.c=z(e,D),U.x=z(n,U),U.X=z(r,U),U.c=z(e,U);function z(ne,je){return function(me){var ve=[],he=-1,Ne=0,Ce=ne.length,ze,bt,rr;for(me instanceof Date||(me=new Date(+me));++he<Ce;)ne.charCodeAt(he)===37&&(ve.push(ne.slice(Ne,he)),(bt=SR[ze=ne.charAt(++he)])!=null?ze=ne.charAt(++he):bt=ze==="e"?" ":"0",(rr=je[ze])&&(ze=rr(me,bt)),ve.push(ze),Ne=he+1);return ve.push(ne.slice(Ne,he)),ve.join("")}}function N(ne,je){return function(me){var ve=Vf(1900,void 0,1),he=j(ve,ne,me+="",0),Ne,Ce;if(he!=me.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(je&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ne=tw(Vf(ve.y,0,1)),Ce=Ne.getUTCDay(),Ne=Ce>4||Ce===0?qv.ceil(Ne):qv(Ne),Ne=ey.offset(Ne,(ve.V-1)*7),ve.y=Ne.getUTCFullYear(),ve.m=Ne.getUTCMonth(),ve.d=Ne.getUTCDate()+(ve.w+6)%7):(Ne=ew(Vf(ve.y,0,1)),Ce=Ne.getDay(),Ne=Ce>4||Ce===0?Bv.ceil(Ne):Bv(Ne),Ne=hm.offset(Ne,(ve.V-1)*7),ve.y=Ne.getFullYear(),ve.m=Ne.getMonth(),ve.d=Ne.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Ce="Z"in ve?tw(Vf(ve.y,0,1)).getUTCDay():ew(Vf(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Ce+5)%7:ve.w+ve.U*7-(Ce+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,tw(ve)):ew(ve)}}function j(ne,je,me,ve){for(var he=0,Ne=je.length,Ce=me.length,ze,bt;he<Ne;){if(ve>=Ce)return-1;if(ze=je.charCodeAt(he++),ze===37){if(ze=je.charAt(he++),bt=B[ze in SR?je.charAt(he++):ze],!bt||(ve=bt(ne,me,ve))<0)return-1}else if(ze!=me.charCodeAt(ve++))return-1}return ve}function R(ne,je,me){var ve=h.exec(je.slice(me));return ve?(ne.p=p.get(ve[0].toLowerCase()),me+ve[0].length):-1}function I(ne,je,me){var ve=_.exec(je.slice(me));return ve?(ne.w=S.get(ve[0].toLowerCase()),me+ve[0].length):-1}function O(ne,je,me){var ve=g.exec(je.slice(me));return ve?(ne.w=b.get(ve[0].toLowerCase()),me+ve[0].length):-1}function L(ne,je,me){var ve=C.exec(je.slice(me));return ve?(ne.m=$.get(ve[0].toLowerCase()),me+ve[0].length):-1}function M(ne,je,me){var ve=A.exec(je.slice(me));return ve?(ne.m=E.get(ve[0].toLowerCase()),me+ve[0].length):-1}function ie(ne,je,me){return j(ne,e,je,me)}function Q(ne,je,me){return j(ne,n,je,me)}function K(ne,je,me){return j(ne,r,je,me)}function ee(ne){return l[ne.getDay()]}function se(ne){return s[ne.getDay()]}function Y(ne){return f[ne.getMonth()]}function Z(ne){return u[ne.getMonth()]}function V(ne){return i[+(ne.getHours()>=12)]}function X(ne){return 1+~~(ne.getMonth()/3)}function W(ne){return l[ne.getUTCDay()]}function G(ne){return s[ne.getUTCDay()]}function fe(ne){return f[ne.getUTCMonth()]}function ge(ne){return u[ne.getUTCMonth()]}function oe(ne){return i[+(ne.getUTCHours()>=12)]}function Oe(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var je=z(ne+="",D);return je.toString=function(){return ne},je},parse:function(ne){var je=N(ne+="",!1);return je.toString=function(){return ne},je},utcFormat:function(ne){var je=z(ne+="",U);return je.toString=function(){return ne},je},utcParse:function(ne){var je=N(ne+="",!0);return je.toString=function(){return ne},je}}}var SR={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,nZ=/^%/,rZ=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function iZ(t){return t.replace(rZ,"\\$&")}function $f(t){return new RegExp("^(?:"+t.map(iZ).join("|")+")","i")}function Uf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aZ(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sZ(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function oZ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cZ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ER(t,e,n){var r=tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function AR(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dZ(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fZ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TR(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hZ(t,e,n){var r=tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jR(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mZ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pZ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gZ(t,e,n){var r=tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vZ(t,e,n){var r=tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yZ(t,e,n){var r=nZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bZ(t,e,n){var r=tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xZ(t,e,n){var r=tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function NR(t,e){return yt(t.getDate(),e,2)}function wZ(t,e){return yt(t.getHours(),e,2)}function _Z(t,e){return yt(t.getHours()%12||12,e,2)}function SZ(t,e){return yt(1+hm.count(Gs(t),t),e,3)}function T6(t,e){return yt(t.getMilliseconds(),e,3)}function EZ(t,e){return T6(t,e)+"000"}function AZ(t,e){return yt(t.getMonth()+1,e,2)}function TZ(t,e){return yt(t.getMinutes(),e,2)}function jZ(t,e){return yt(t.getSeconds(),e,2)}function NZ(t){var e=t.getDay();return e===0?7:e}function CZ(t,e){return yt(ty.count(Gs(t)-1,t),e,2)}function j6(t){var e=t.getDay();return e>=4||e===0?Zu(t):Zu.ceil(t)}function OZ(t,e){return t=j6(t),yt(Zu.count(Gs(t),t)+(Gs(t).getDay()===4),e,2)}function PZ(t){return t.getDay()}function IZ(t,e){return yt(Bv.count(Gs(t)-1,t),e,2)}function RZ(t,e){return yt(t.getFullYear()%100,e,2)}function kZ(t,e){return t=j6(t),yt(t.getFullYear()%100,e,2)}function MZ(t,e){return yt(t.getFullYear()%1e4,e,4)}function DZ(t,e){var n=t.getDay();return t=n>=4||n===0?Zu(t):Zu.ceil(t),yt(t.getFullYear()%1e4,e,4)}function LZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function CR(t,e){return yt(t.getUTCDate(),e,2)}function zZ(t,e){return yt(t.getUTCHours(),e,2)}function VZ(t,e){return yt(t.getUTCHours()%12||12,e,2)}function $Z(t,e){return yt(1+ey.count(Ws(t),t),e,3)}function N6(t,e){return yt(t.getUTCMilliseconds(),e,3)}function UZ(t,e){return N6(t,e)+"000"}function BZ(t,e){return yt(t.getUTCMonth()+1,e,2)}function qZ(t,e){return yt(t.getUTCMinutes(),e,2)}function FZ(t,e){return yt(t.getUTCSeconds(),e,2)}function HZ(t){var e=t.getUTCDay();return e===0?7:e}function KZ(t,e){return yt(ny.count(Ws(t)-1,t),e,2)}function C6(t){var e=t.getUTCDay();return e>=4||e===0?ed(t):ed.ceil(t)}function YZ(t,e){return t=C6(t),yt(ed.count(Ws(t),t)+(Ws(t).getUTCDay()===4),e,2)}function GZ(t){return t.getUTCDay()}function WZ(t,e){return yt(qv.count(Ws(t)-1,t),e,2)}function XZ(t,e){return yt(t.getUTCFullYear()%100,e,2)}function QZ(t,e){return t=C6(t),yt(t.getUTCFullYear()%100,e,2)}function JZ(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function ZZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ed(t):ed.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function eee(){return"+0000"}function OR(){return"%"}function PR(t){return+t}function IR(t){return Math.floor(+t/1e3)}var xu,O6,P6;tee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tee(t){return xu=tZ(t),O6=xu.format,xu.parse,P6=xu.utcFormat,xu.utcParse,xu}function nee(t){return new Date(t)}function ree(t){return t instanceof Date?+t:+new Date(+t)}function WE(t,e,n,r,i,s,l,u,f,h){var p=ME(),g=p.invert,b=p.domain,_=h(".%L"),S=h(":%S"),A=h("%I:%M"),E=h("%I %p"),C=h("%a %d"),$=h("%b %d"),D=h("%B"),U=h("%Y");function B(z){return(f(z)<z?_:u(z)<z?S:l(z)<z?A:s(z)<z?E:r(z)<z?i(z)<z?C:$:n(z)<z?D:U)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?b(Array.from(z,ree)):b().map(nee)},p.ticks=function(z){var N=b();return t(N[0],N[N.length-1],z??10)},p.tickFormat=function(z,N){return N==null?B:h(N)},p.nice=function(z){var N=b();return(!z||typeof z.range!="function")&&(z=e(N[0],N[N.length-1],z??10)),z?b(v6(N,z)):p},p.copy=function(){return fm(p,WE(t,e,n,r,i,s,l,u,f,h))},p}function iee(){return Hi.apply(WE(ZJ,eZ,Gs,YE,ty,hm,HE,qE,ic,O6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aee(){return Hi.apply(WE(QJ,JJ,Ws,GE,ny,ey,KE,FE,ic,P6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ry(){var t=0,e=1,n,r,i,s,l=Dr,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(b){var _,S;return arguments.length?([_,S]=b,l=g(_,S),h):[l(0),l(1)]}}return h.range=p(vd),h.rangeRound=p(kE),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function I6(){var t=xl(ry()(Dr));return t.copy=function(){return wl(t,I6())},io.apply(t,arguments)}function R6(){var t=zE(ry()).domain([1,10]);return t.copy=function(){return wl(t,R6()).base(t.base())},io.apply(t,arguments)}function k6(){var t=VE(ry());return t.copy=function(){return wl(t,k6()).constant(t.constant())},io.apply(t,arguments)}function XE(){var t=$E(ry());return t.copy=function(){return wl(t,XE()).exponent(t.exponent())},io.apply(t,arguments)}function see(){return XE.apply(null,arguments).exponent(.5)}function M6(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((um(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(al),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>HQ(t,s/r))},n.copy=function(){return M6(e).domain(t)},io.apply(n,arguments)}function iy(){var t=0,e=.5,n=1,r=1,i,s,l,u,f,h=Dr,p,g=!1,b;function _(A){return isNaN(A=+A)?b:(A=.5+((A=+p(A))-s)*(r*A<r*s?u:f),h(g?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(g=!!A,_):g},_.interpolator=function(A){return arguments.length?(h=A,_):h};function S(A){return function(E){var C,$,D;return arguments.length?([C,$,D]=E,h=yJ(A,[C,$,D]),_):[h(0),h(.5),h(1)]}}return _.range=S(vd),_.rangeRound=S(kE),_.unknown=function(A){return arguments.length?(b=A,_):b},function(A){return p=A,i=A(t),s=A(e),l=A(n),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function D6(){var t=xl(iy()(Dr));return t.copy=function(){return wl(t,D6())},io.apply(t,arguments)}function L6(){var t=zE(iy()).domain([.1,1,10]);return t.copy=function(){return wl(t,L6()).base(t.base())},io.apply(t,arguments)}function z6(){var t=VE(iy());return t.copy=function(){return wl(t,z6()).constant(t.constant())},io.apply(t,arguments)}function QE(){var t=$E(iy());return t.copy=function(){return wl(t,QE()).exponent(t.exponent())},io.apply(t,arguments)}function oee(){return QE.apply(null,arguments).exponent(.5)}const Xf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:PE,scaleDiverging:D6,scaleDivergingLog:L6,scaleDivergingPow:QE,scaleDivergingSqrt:oee,scaleDivergingSymlog:z6,scaleIdentity:g6,scaleImplicit:R_,scaleLinear:p6,scaleLog:y6,scaleOrdinal:OE,scalePoint:GQ,scalePow:UE,scaleQuantile:w6,scaleQuantize:_6,scaleRadial:x6,scaleSequential:I6,scaleSequentialLog:R6,scaleSequentialPow:XE,scaleSequentialQuantile:M6,scaleSequentialSqrt:see,scaleSequentialSymlog:k6,scaleSqrt:UJ,scaleSymlog:b6,scaleThreshold:S6,scaleTime:iee,scaleUtc:aee,tickFormat:m6},Symbol.toStringTag,{value:"Module"}));var ao=t=>t.chartData,mm=ae([ao],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),JE=(t,e,n,r)=>r?mm(t):ao(t),V6=(t,e,n)=>n?mm(t):ao(t);function hl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ft(e)&&Ft(n))return!0}return!1}function RR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function $6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Ft(n))i=n;else if(typeof n=="function")return;if(Ft(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(hl(l))return l}}function lee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(hl(r))return RR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(De(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&FP.test(i)){var f=FP.exec(i);if(f==null||f[1]==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(De(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&HP.test(s)){var p=HP.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(hl(b))return e==null?b:RR(b,e,n)}}}var yd=1e9,cee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eA,ln=!0,Fi="[DecimalError] ",uc=Fi+"Invalid argument: ",ZE=Fi+"Exponent out of range: ",bd=Math.floor,ec=Math.pow,uee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,Zn=1e7,en=7,U6=9007199254740991,Fv=bd(U6/en),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*en;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(t){return Ds(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,n=e.constructor;return Bt(Ds(e,new n(t),0,1),n.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return kn(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(hi))throw Error(Fi+"NaN");if(n.s<1)throw Error(Fi+(n.s?"NaN":"-Infinity"));return n.eq(hi)?new r(0):(ln=!1,e=Ds(Ih(n,s),Ih(t,s),s),ln=!0,Bt(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?F6(e,t):B6(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fi+"NaN");return n.s?(ln=!1,e=Ds(n,t,0,1).times(t),ln=!0,n.minus(e)):Bt(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return q6(this)};Ve.naturalLogarithm=Ve.ln=function(){return Ih(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B6(e,t):F6(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uc+t);if(e=kn(i)+1,r=i.d.length-1,n=r*en+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ve.squareRoot=Ve.sqrt=function(){var t,e,n,r,i,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Fi+"NaN")}for(t=kn(u),ln=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=$a(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=bd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(Ds(u,s,l+2)).times(.5),$a(s.d).slice(0,l)===(e=$a(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Bt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return ln=!0,Bt(r,n)};Ve.times=Ve.mul=function(t){var e,n,r,i,s,l,u,f,h,p=this,g=p.constructor,b=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=b.length,h=_.length,f<h&&(s=b,b=_,_=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=s[i]+_[r]*b[i-r-1]+e,s[i--]=u%Zn|0,e=u/Zn|0;s[i]=(s[i]+e)%Zn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,ln?Bt(t,g.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Za(t,0,yd),e===void 0?e=r.rounding:Za(e,0,8),Bt(n,t+kn(n)+1,e))};Ve.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ec(r,!0):(Za(t,0,yd),e===void 0?e=i.rounding:Za(e,0,8),r=Bt(new i(r),t+1,e),n=Ec(r,!0,t+1)),n};Ve.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Ec(i):(Za(t,0,yd),e===void 0?e=s.rounding:Za(e,0,8),r=Bt(new s(i),t+kn(i)+1,e),n=Ec(r.abs(),!1,t+kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return Bt(new e(t),kn(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,n,r,i,s,l,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(hi);if(u=new f(u),!u.s){if(t.s<1)throw Error(Fi+"Infinity");return u}if(u.eq(hi))return u;if(r=f.precision,t.eq(hi))return Bt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=U6){for(i=new f(hi),e=Math.ceil(r/en+4),ln=!1;n%2&&(i=i.times(u),MR(i.d,e)),n=bd(n/2),n!==0;)u=u.times(u),MR(u.d,e);return ln=!0,t.s<0?new f(hi).div(i):Bt(i,r)}}else if(s<0)throw Error(Fi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,ln=!1,i=t.times(Ih(u,r+h)),ln=!0,i=q6(i),i.s=s,i};Ve.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=kn(i),r=Ec(i,n<=s.toExpNeg||n>=s.toExpPos)):(Za(t,1,yd),e===void 0?e=s.rounding:Za(e,0,8),i=Bt(new s(i),t,e),n=kn(i),r=Ec(i,t<=n||n<=s.toExpNeg,t)),r};Ve.toSignificantDigits=Ve.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Za(t,1,yd),e===void 0?e=r.rounding:Za(e,0,8)),Bt(new r(n),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kn(t),n=t.constructor;return Ec(t,e<=n.toExpNeg||e>=n.toExpPos)};function B6(t,e){var n,r,i,s,l,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),ln?Bt(e,g):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,u=h.length):(r=h,i=l,u=f.length),l=Math.ceil(g/en),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Zn|0,f[s]%=Zn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,ln?Bt(e,g):e}function Za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uc+t)}function $a(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=en-r.length,n&&(s+=Ho(n)),s+=r;l=t[e],r=l+"",n=en-r.length,n&&(s+=Ho(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ds=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Zn|0,l=s/Zn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Zn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,f,h,p,g,b,_,S,A,E,C,$,D,U,B,z,N,j,R=r.constructor,I=r.s==i.s?1:-1,O=r.d,L=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Fi+"Division by zero");for(f=r.e-i.e,N=L.length,B=O.length,_=new R(I),S=_.d=[],h=0;L[h]==(O[h]||0);)++h;if(L[h]>(O[h]||0)&&--f,s==null?$=s=R.precision:l?$=s+(kn(r)-kn(i))+1:$=s,$<0)return new R(0);if($=$/en+2|0,h=0,N==1)for(p=0,L=L[0],$++;(h<B||p)&&$--;h++)D=p*Zn+(O[h]||0),S[h]=D/L|0,p=D%L|0;else{for(p=Zn/(L[0]+1)|0,p>1&&(L=t(L,p),O=t(O,p),N=L.length,B=O.length),U=N,A=O.slice(0,N),E=A.length;E<N;)A[E++]=0;j=L.slice(),j.unshift(0),z=L[0],L[1]>=Zn/2&&++z;do p=0,u=e(L,A,N,E),u<0?(C=A[0],N!=E&&(C=C*Zn+(A[1]||0)),p=C/z|0,p>1?(p>=Zn&&(p=Zn-1),g=t(L,p),b=g.length,E=A.length,u=e(g,A,b,E),u==1&&(p--,n(g,N<b?j:L,b))):(p==0&&(u=p=1),g=L.slice()),b=g.length,b<E&&g.unshift(0),n(A,g,E),u==-1&&(E=A.length,u=e(L,A,N,E),u<1&&(p++,n(A,N<E?j:L,E))),E=A.length):u===0&&(p++,A=[0]),S[h++]=p,u&&A[0]?A[E++]=O[U]||0:(A=[O[U]],E=1);while((U++<B||A[0]!==void 0)&&$--)}return S[0]||S.shift(),_.e=f,Bt(_,l?s+kn(_)+1:s)}})();function q6(t,e){var n,r,i,s,l,u,f=0,h=0,p=t.constructor,g=p.precision;if(kn(t)>16)throw Error(ZE+kn(t));if(!t.s)return new p(hi);for(ln=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ec(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(hi),p.precision=u;;){if(i=Bt(i.times(t),u),n=n.times(++f),l=s.plus(Ds(i,n,u)),$a(l.d).slice(0,u)===$a(s.d).slice(0,u)){for(;h--;)s=Bt(s.times(s),u);return p.precision=g,e==null?(ln=!0,Bt(s,g)):s}s=l}}function kn(t){for(var e=t.e*en,n=t.d[0];n>=10;n/=10)e++;return e}function nw(t,e,n){if(e>t.LN10.sd())throw ln=!0,n&&(t.precision=n),Error(Fi+"LN10 precision limit exceeded");return Bt(new t(t.LN10),e)}function Ho(t){for(var e="";t--;)e+="0";return e}function Ih(t,e){var n,r,i,s,l,u,f,h,p,g=1,b=10,_=t,S=_.d,A=_.constructor,E=A.precision;if(_.s<1)throw Error(Fi+(_.s?"NaN":"-Infinity"));if(_.eq(hi))return new A(0);if(e==null?(ln=!1,h=E):h=e,_.eq(10))return e==null&&(ln=!0),nw(A,h);if(h+=b,A.precision=h,n=$a(S),r=n.charAt(0),s=kn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=$a(_.d),r=n.charAt(0),g++;s=kn(_),r>1?(_=new A("0."+n),s++):_=new A(r+"."+n.slice(1))}else return f=nw(A,h+2,E).times(s+""),_=Ih(new A(r+"."+n.slice(1)),h-b).plus(f),A.precision=E,e==null?(ln=!0,Bt(_,E)):_;for(u=l=_=Ds(_.minus(hi),_.plus(hi),h),p=Bt(_.times(_),h),i=3;;){if(l=Bt(l.times(p),h),f=u.plus(Ds(l,new A(i),h)),$a(f.d).slice(0,h)===$a(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(nw(A,h+2,E).times(s+""))),u=Ds(u,new A(g),h),A.precision=E,e==null?(ln=!0,Bt(u,E)):u;u=f,i+=2}}function kR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=bd(n/en),t.d=[],r=(n+1)%en,n<0&&(r+=en),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=en;r<i;)t.d.push(+e.slice(r,r+=en));e=e.slice(r),r=en-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ln&&(t.e>Fv||t.e<-Fv))throw Error(ZE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Bt(t,e,n){var r,i,s,l,u,f,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=en,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/en),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=en,i=r-en+l}if(n!==void 0&&(s=ec(10,l-i-1),u=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/ec(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=kn(t),g.length=1,e=e-s-1,g[0]=ec(10,(en-e%en)%en),t.e=bd(-e/en)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ec(10,en-r),g[p]=i>0?(h/ec(10,l-i)%ec(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Zn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Zn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(ln&&(t.e>Fv||t.e<-Fv))throw Error(ZE+kn(t));return t}function F6(t,e){var n,r,i,s,l,u,f,h,p,g,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),ln?Bt(e,_):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,u=g.length):(n=g,r=h,u=f.length),i=Math.max(Math.ceil(_/en),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Zn-1;--f[s],f[i]+=Zn}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,ln?Bt(e,_):e):new b(0)}function Ec(t,e,n){var r,i=kn(t),s=$a(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ho(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ho(-i-1)+s,n&&(r=n-l)>0&&(s+=Ho(r))):i>=l?(s+=Ho(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Ho(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Ho(r))),t.s<0?"-"+s:s}function MR(t,e){if(t.length>e)return t.length=e,!0}function H6(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(uc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return kR(l,s.toString())}else if(typeof s!="string")throw Error(uc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,uee.test(s))kR(l,s);else throw Error(uc+s)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=H6,i.config=i.set=dee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dee(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,n,r,i=["precision",1,yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(bd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uc+n+": "+r);return this}var eA=H6(cee);hi=new eA(1);const It=eA;var fee=t=>t,K6={},Y6=t=>t===K6,DR=t=>function e(){return arguments.length===0||arguments.length===1&&Y6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},G6=(t,e)=>t===1?e:DR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==K6).length;return s>=t?e(...r):G6(t-s,DR(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=r.map(p=>Y6(p)?u.shift():p);return e(...h,...u)}))}),hee=t=>G6(t.length,t),L_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},mee=hee((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),pee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fee;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),s(...arguments))}};function W6(t){var e;return t===0?e=1:e=Math.floor(new It(t).abs().log(10).toNumber())+1,e}function X6(t,e,n){for(var r=new It(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Q6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},J6=(t,e,n)=>{if(t.lte(0))return new It(0);var r=W6(t.toNumber()),i=new It(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new It(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new It(f.toNumber()):new It(Math.ceil(f.toNumber()))},gee=(t,e,n)=>{var r=new It(1),i=new It(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new It(10).pow(W6(t)-1),i=new It(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new It(Math.floor(t)))}else t===0?i=new It(Math.floor((e-1)/2)):n||(i=new It(Math.floor(t)));var l=Math.floor((e-1)/2),u=pee(mee(f=>i.add(new It(f-l).mul(r)).toNumber()),L_);return u(0,e)},Z6=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var l=J6(new It(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new It(0):(u=new It(e).add(n).div(2),u=u.sub(new It(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new It(n).sub(u).div(l).toNumber()),p=f+h+1;return p>r?Z6(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:u.sub(new It(f).mul(l)),tickMax:u.add(new It(h).mul(l))})},vee=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=Q6([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...L_(0,i-1).map(()=>1/0)]:[...L_(0,i-1).map(()=>-1/0),f];return n>r?h.reverse():h}if(u===f)return gee(u,i,s);var{step:p,tickMin:g,tickMax:b}=Z6(u,f,l,s,0),_=X6(g,b.add(new It(.1).mul(p)),p);return n>r?_.reverse():_},yee=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=Q6([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),h=J6(new It(u).sub(l).div(f-1),s,0),p=[...X6(new It(l),new It(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},eL=t=>t.rootProps.maxBarSize,bee=t=>t.rootProps.barGap,tL=t=>t.rootProps.barCategoryGap,xee=t=>t.rootProps.barSize,pm=t=>t.rootProps.stackOffset,nL=t=>t.rootProps.reverseStackOrder,tA=t=>t.options.chartName,nA=t=>t.rootProps.syncId,rL=t=>t.rootProps.syncMethod,rA=t=>t.options.eventEmitter,wee=t=>t.rootProps.baseValue,tn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},za={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:tn.axis},Xr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:tn.axis},ay=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},_ee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:za.angleAxisId,includeHidden:!1,name:void 0,reversed:za.reversed,scale:za.scale,tick:za.tick,tickCount:void 0,ticks:void 0,type:za.type,unit:void 0},See={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:Xr.type,unit:void 0},Eee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:za.scale,tick:za.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Aee={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:"category",unit:void 0},xd=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Eee:_ee,gm=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Aee:See,sy=t=>t.polarOptions,iA=ae([no,ro,Bn],Z3),iL=ae([sy,iA],(t,e)=>{if(t!=null)return Cr(t.innerRadius,e,0)}),aL=ae([sy,iA],(t,e)=>{if(t!=null)return Cr(t.outerRadius,e,e*.8)}),Tee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},sL=ae([sy],Tee),jee=ae([xd,sL],ay),oL=ae([iA,iL,aL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),Nee=ae([gm,oL],ay),wd=ae([nt,sy,iL,aL,no,ro],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=e;return{cx:Cr(l,i,i/2),cy:Cr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Ht=(t,e)=>e,vm=(t,e,n)=>n;function oy(t){return t?.id}function lL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=oy(u);h.forEach((g,b)=>{var _=s==null||i?b:String(vt(g,s,null)),S=vt(g,u.dataKey,0),A;l.has(_)?A=l.get(_):A={},Object.assign(A,{[p]:S}),l.set(_,A)})}}),Array.from(l.values())}function ly(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var cy=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function uy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Cee(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Fn=t=>{var e=nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},_d=t=>t.tooltip.settings.axisId;function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=Pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z_=[0,"auto"],Xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},cL=(t,e)=>t.cartesianAxis.xAxis[e],so=(t,e)=>{var n=cL(t,e);return n??Xn},Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:z_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:om},uL=(t,e)=>t.cartesianAxis.yAxis[e],oo=(t,e)=>{var n=uL(t,e);return n??Qn},Ree={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Ree},hn=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"zAxis":return aA(t,n);case"angleAxis":return xd(t,n);case"radiusAxis":return gm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kee=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Sd=(t,e,n)=>{switch(e){case"xAxis":return so(t,n);case"yAxis":return oo(t,n);case"angleAxis":return xd(t,n);case"radiusAxis":return gm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},dL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function sA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ym=t=>t.graphicalItems.cartesianItems,Mee=ae([Ht,vm],sA),oA=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),bm=ae([ym,hn,Mee],oA,{memoizeOptions:{resultEqualityCheck:uy}}),fL=ae([bm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ly)),hL=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Dee=ae([bm],hL),lA=t=>t.map(e=>e.data).filter(Boolean).flat(1),Lee=ae([bm],lA,{memoizeOptions:{resultEqualityCheck:uy}}),cA=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},uA=ae([Lee,JE],cA),dA=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:vt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:vt(i,r)}))):t.map(r=>({value:r})),dy=ae([uA,hn,bm],dA);function mL(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Mg(t){if(Xa(t)||t instanceof Date){var e=Number(t);if(Ft(e))return e}}function zR(t){if(Array.isArray(t)){var e=[Mg(t[0]),Mg(t[1])];return hl(e)?e:void 0}var n=Mg(t);if(n!=null)return[n,n]}function Xs(t){return t.map(Mg).filter(CK)}function zee(t,e,n){return!n||typeof e!="number"||Bi(e)?[]:n.length?Xs(n.flatMap(r=>{var i=vt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Ft(s)||!Ft(l)))return[e-s,e+l]})):[]}var Hn=t=>{var e=Fn(t),n=_d(t);return Sd(t,e,n)},xm=ae([Hn],t=>t?.dataKey),Vee=ae([fL,JE,Hn],lL),pL=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,f]=l,h=r?[...f].reverse():f,p=h.map(oy);return[u,{stackedData:tW(t,p,n),graphicalItems:h}]}))},Kv=ae([Vee,fL,pm,nL],pL),gL=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=aW(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},$ee=ae([hn],t=>t.allowDataOverflow),fA=t=>{var e;if(t==null||!("domain"in t))return z_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Xs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:z_},hA=ae([hn],fA),mA=ae([hA,$ee],$6),Uee=ae([Kv,ao,Ht,mA],gL,{memoizeOptions:{resultEqualityCheck:cy}}),fy=t=>t.errorBars,Bee=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>mL(n,r)),Yv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},pA=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>mL(i,C)),b=vt(u,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),_=zee(u,b,g);if(_.length>=2){var S=Math.min(..._),A=Math.max(..._);(s==null||S<s)&&(s=S),(l==null||A>l)&&(l=A)}var E=zR(b);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=zR(vt(u,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Ft(s)&&Ft(l))return[s,l]},qee=ae([uA,hn,Dee,fy,Ht],pA,{memoizeOptions:{resultEqualityCheck:cy}});function Fee(t){var{value:e}=t;if(Xa(e)||e instanceof Date)return e}var Hee=(t,e,n)=>{var r=t.map(Fee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&I5(r))?i6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},vL=t=>t.referenceElements.dots,Ed=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Kee=ae([vL,Ht,vm],Ed),yL=t=>t.referenceElements.areas,Yee=ae([yL,Ht,vm],Ed),bL=t=>t.referenceElements.lines,Gee=ae([bL,Ht,vm],Ed),xL=(t,e)=>{if(t!=null){var n=Xs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Wee=ae(Kee,Ht,xL),wL=(t,e)=>{if(t!=null){var n=Xs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Xee=ae([Yee,Ht],wL);function Qee(t){var e;if(t.x!=null)return Xs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Xs(n)}function Jee(t){var e;if(t.y!=null)return Xs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Xs(n)}var _L=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Qee(r):Jee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Zee=ae([Gee,Ht],_L),ete=ae(Wee,Zee,Xee,(t,e,n)=>Yv(t,n,e)),gA=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=f?Yv(r,s,i):Yv(s,i);return lee(e,h,t.allowDataOverflow)},tte=ae([hn,hA,mA,Uee,qee,ete,nt,Ht],gA,{memoizeOptions:{resultEqualityCheck:cy}}),nte=[0,1],vA=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,h=pa(e,s);if(h&&u==null){var p;return i6(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Hee(r,t,h):i==="expand"?nte:l}},yA=ae([hn,nt,uA,dy,pm,Ht,tte],vA),SL=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(rm(s));return u in Xf?u:"point"}}},_l=ae([hn,nt,dL,tA,Ht],SL);function rte(t){if(t!=null){if(t in Xf)return Xf[t]();var e="scale".concat(rm(t));if(e in Xf)return Xf[e]()}}function hy(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=rte(e);if(i!=null){var s=i.domain(n).range(r);return XG(s),s}}}var bA=(t,e,n)=>{var r=fA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hl(t))return vee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hl(t))return yee(t,e.tickCount,e.allowDecimals)}},xA=ae([yA,Sd,_l],bA),wA=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&hl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},ite=ae([hn,yA,xA,Ht],wA),ate=ae(dy,hn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Xs(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],h=r[u+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/l}}),EL=ae(ate,nt,tL,Bn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ft(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Cr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),ste=(t,e,n)=>{var r=so(t,e);return r==null||typeof r.padding!="string"?0:EL(t,"xAxis",e,n,r.padding)},ote=(t,e,n)=>{var r=oo(t,e);return r==null||typeof r.padding!="string"?0:EL(t,"yAxis",e,n,r.padding)},lte=ae(so,ste,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),cte=ae(oo,ote,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ute=ae([Bn,lte,Y0,K0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),dte=ae([Bn,nt,cte,Y0,K0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),wm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ute(t,n,r);case"yAxis":return dte(t,n,r);case"zAxis":return(i=aA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return sL(t);case"radiusAxis":return oL(t,n);default:return}},AL=ae([hn,wm],ay),my=ae([hn,_l,ite,AL],hy);ae([bm,fy,Ht],Bee);function TL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var py=(t,e)=>e,gy=(t,e,n)=>n,fte=ae(F0,py,gy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(TL)),hte=ae(H0,py,gy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(TL)),jL=(t,e)=>({width:t.width,height:e.height}),mte=(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}},NL=ae(Bn,so,jL),pte=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},gte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},vte=ae(ro,Bn,fte,py,gy,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var f=jL(e,u);l==null&&(l=pte(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),yte=ae(no,Bn,hte,py,gy,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var f=mte(e,u);l==null&&(l=gte(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),bte=(t,e)=>{var n=so(t,e);if(n!=null)return vte(t,n.orientation,n.mirror)},xte=ae([Bn,so,bte,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),wte=(t,e)=>{var n=oo(t,e);if(n!=null)return yte(t,n.orientation,n.mirror)},_te=ae([Bn,oo,wte,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),CL=ae(Bn,oo,(t,e)=>{var n=typeof e.width=="number"?e.width:om;return{width:n,height:t.height}}),VR=(t,e,n)=>{switch(e){case"xAxis":return NL(t,n).width;case"yAxis":return CL(t,n).height;default:return}},OL=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=pa(t,r),f=e.map(h=>h.value);if(l&&u&&s==="category"&&i&&I5(f))return f}},_m=ae([nt,dy,hn,Ht],OL),_A=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=pa(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},SA=ae([nt,dy,Sd,Ht],_A),$R=ae([nt,kee,_l,my,_m,SA,wm,xA,Ht],(t,e,n,r,i,s,l,u,f)=>{if(e!=null){var h=pa(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),PL=(t,e,n,r,i,s,l,u,f)=>{if(!(e==null||r==null)){var h=pa(t,f),{type:p,ticks:g,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/_:0;S=f==="angleAxis"&&s!=null&&s.length>=2?er(s[0]-s[1])*2*S:S;var A=g||i;if(A){var E=A.map((C,$)=>{var D=l?l.indexOf(C):C;return{index:$,coordinate:r(D)+S,value:C,offset:S}});return E.filter(C=>Ft(C.coordinate))}return h&&u?u.map((C,$)=>({coordinate:r(C)+S,value:C,index:$,offset:S})).filter(C=>Ft(C.coordinate)):r.ticks?r.ticks(b).map(C=>({coordinate:r(C)+S,value:C,offset:S})):r.domain().map((C,$)=>({coordinate:r(C)+S,value:l?l[C]:C,index:$,offset:S}))}},IL=ae([nt,Sd,_l,my,xA,wm,_m,SA,Ht],PL),RL=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=pa(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?er(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},es=ae([nt,Sd,my,wm,_m,SA,Ht],RL),ts=ae(hn,my,(t,e)=>{if(!(t==null||e==null))return Hv(Hv({},t),{},{scale:e})}),Ste=ae([hn,_l,yA,AL],hy);ae((t,e,n)=>aA(t,n),Ste,(t,e)=>{if(!(t==null||e==null))return Hv(Hv({},t),{},{scale:e})});var Ete=ae([nt,F0,H0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kL=t=>t.options.defaultTooltipEventType,ML=t=>t.options.validateTooltipEventTypes;function DL(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function EA(t,e){var n=kL(t),r=ML(t);return DL(e,n,r)}function Ate(t){return ke(e=>EA(e,t))}var LL=(t,e)=>{var n,r=Number(e);if(!(Bi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Tte=t=>t.tooltip.settings,Qo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jte={itemInteraction:{click:Qo,hover:Qo},axisInteraction:{click:Qo,hover:Qo},keyboardInteraction:Qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zL=ti({name:"tooltip",initialState:jte,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:on()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:on()},removeTooltipEntrySettings:{reducer(t,e){var n=ca(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:on()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Nte,replaceTooltipEntrySettings:Cte,removeTooltipEntrySettings:Ote,setTooltipSettingsState:Pte,setActiveMouseOverItemIndex:VL,mouseLeaveItem:Ite,mouseLeaveChart:$L,setActiveClickItemIndex:Rte,setMouseOverAxisIndex:UL,setMouseClickAxisIndex:kte,setSyncInteraction:V_,setKeyboardInteraction:$_}=zL.actions,Mte=zL.reducer;function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dte(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=zte(t,"string");return typeof e=="symbol"?e:e+""}function zte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function $te(t){return t.index!=null}var BL=(t,e,n,r)=>{if(e==null)return Qo;var i=Vte(t,e,n);if(i==null)return Qo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if($te(i)){if(s)return vg(vg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return vg(vg({},Qo),{},{coordinate:i.coordinate})};function Ute(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Bte(t,e){var n=Ute(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function qte(t,e,n){if(n==null||e==null)return!0;var r=vt(t,e);return r==null||!hl(n)?!0:Bte(r,n)}var AA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Ft(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(l,Math.min(s,u)),h=e[f];return h==null||qte(h,n,r)?String(f):null},qL=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var f=l[0],h=f==null?void 0:u(f.positions,s);if(h!=null)return h;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},FL=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Sm=t=>t.options.tooltipPayloadSearcher,Ad=t=>t.tooltip;function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return(e=Hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t,e){return t??e}var HL=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((b,_)=>{var S,{dataDefinedOnItem:A,settings:E}=_,C=Yte(A,u),$=Array.isArray(C)?A3(C,h,p):C,D=(S=E?.dataKey)!==null&&S!==void 0?S:r,U=E?.nameKey,B;if(r&&Array.isArray($)&&!Array.isArray($[0])&&l==="axis"?B=R5($,r,i):B=s($,e,f,U),Array.isArray(B))B.forEach(N=>{var j=qR(qR({},E),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});b.push(KP({tooltipEntrySettings:j,dataKey:N.dataKey,payload:N.payload,value:vt(N.payload,N.dataKey),name:N.name}))});else{var z;b.push(KP({tooltipEntrySettings:E,dataKey:D,payload:B,value:vt(B,D),name:(z=vt(B,U))!==null&&z!==void 0?z:E?.name}))}return b},g)}},TA=ae([Hn,nt,dL,tA,Fn],SL),Gte=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Wte=ae([Fn,_d],sA),Td=ae([Gte,Hn,Wte],oA,{memoizeOptions:{resultEqualityCheck:uy}}),Xte=ae([Td],t=>t.filter(ly)),Qte=ae([Td],lA,{memoizeOptions:{resultEqualityCheck:uy}}),jd=ae([Qte,ao],cA),Jte=ae([Xte,ao,Hn],lL),jA=ae([jd,Hn,Td],dA),KL=ae([Hn],fA),Zte=ae([Hn],t=>t.allowDataOverflow),YL=ae([KL,Zte],$6),ene=ae([Td],t=>t.filter(ly)),tne=ae([Jte,ene,pm,nL],pL),nne=ae([tne,ao,Fn,YL],gL),rne=ae([Td],hL),ine=ae([jd,Hn,rne,fy,Fn],pA,{memoizeOptions:{resultEqualityCheck:cy}}),ane=ae([vL,Fn,_d],Ed),sne=ae([ane,Fn],xL),one=ae([yL,Fn,_d],Ed),lne=ae([one,Fn],wL),cne=ae([bL,Fn,_d],Ed),une=ae([cne,Fn],_L),dne=ae([sne,une,lne],Yv),fne=ae([Hn,KL,YL,nne,ine,dne,nt,Fn],gA),Em=ae([Hn,nt,jd,jA,pm,Fn,fne],vA),hne=ae([Em,Hn,TA],bA),mne=ae([Hn,Em,hne,Fn],wA),GL=t=>{var e=Fn(t),n=_d(t),r=!1;return wm(t,e,n,r)},WL=ae([Hn,GL],ay),XL=ae([Hn,TA,mne,WL],hy),pne=ae([nt,jA,Hn,Fn],OL),gne=ae([nt,jA,Hn,Fn],_A),vne=(t,e,n,r,i,s,l,u)=>{if(e){var{type:f}=e,h=pa(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?er(i[0]-i[1])*2*g:g,h&&l?l.map((b,_)=>({coordinate:r(b)+g,value:b,index:_,offset:g})):r.domain().map((b,_)=>({coordinate:r(b)+g,value:s?s[b]:b,index:_,offset:g}))}}},lo=ae([nt,Hn,TA,XL,GL,pne,gne,Fn],vne),NA=ae([kL,ML,Tte],(t,e,n)=>DL(n.shared,t,e)),QL=t=>t.tooltip.settings.trigger,CA=t=>t.tooltip.settings.defaultIndex,Am=ae([Ad,NA,QL,CA],BL),ml=ae([Am,jd,xm,Em],AA),JL=ae([lo,ml],LL),OA=ae([Am],t=>{if(t)return t.dataKey}),yne=ae([Am],t=>{if(t)return t.graphicalItemId}),ZL=ae([Ad,NA,QL,CA],FL),bne=ae([no,ro,nt,Bn,lo,CA,ZL,Sm],qL),xne=ae([Am,bne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),wne=ae([Am],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),_ne=ae([ZL,ml,ao,xm,JL,Sm,NA],HL),Sne=ae([_ne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ene(t,e,n){return(e=Ane(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=Tne(t,"string");return typeof e=="symbol"?e:e+""}function Tne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jne=()=>ke(Hn),Nne=()=>{var t=jne(),e=ke(lo),n=ke(XL);return Ja(!t||!n?void 0:HR(HR({},t),{},{scale:n}),e)};function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return(e=One(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=Pne(t,"string");return typeof e=="symbol"?e:e+""}function Pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ine=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Rne=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return wu(wu(wu({},r),St(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:f}=r;return wu(wu(wu({},r),St(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kne(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var ez=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,h,p,g,b,_=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,S=(p=n[u])===null||p===void 0?void 0:p.coordinate,A=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,E=void 0;if(!(_==null||S==null||A==null))if(er(S-_)!==er(A-S)){var C=[];if(er(A-S)===er(i[1]-i[0])){E=A;var $=S+i[1]-i[0];C[0]=Math.min($,($+_)/2),C[1]=Math.max($,($+_)/2)}else{E=_;var D=A+i[1]-i[0];C[0]=Math.min(S,(D+S)/2),C[1]=Math.max(S,(D+S)/2)}var U=[Math.min(S,(E+S)/2),Math.max(S,(E+S)/2)];if(t>U[0]&&t<=U[1]||t>=C[0]&&t<=C[1]){var B;return(B=n[u])===null||B===void 0?void 0:B.index}}else{var z=Math.min(_,A),N=Math.max(_,A);if(t>(z+S)/2&&t<=(N+S)/2){var j;return(j=n[u])===null||j===void 0?void 0:j.index}}}else if(e)for(var R=0;R<l;R++){var I=e[R];if(I!=null){var O=e[R+1],L=e[R-1];if(R===0&&O!=null&&t<=(I.coordinate+O.coordinate)/2||R===l-1&&L!=null&&t>(I.coordinate+L.coordinate)/2||R>0&&R<l-1&&L!=null&&O!=null&&t>(I.coordinate+L.coordinate)/2&&t<=(I.coordinate+O.coordinate)/2)return I.index}}return-1},tz=()=>ke(tA),PA=(t,e)=>e,nz=(t,e,n)=>n,IA=(t,e,n,r)=>r,Mne=ae(lo,t=>k0(t,e=>e.coordinate)),RA=ae([Ad,PA,nz,IA],BL),kA=ae([RA,jd,xm,Em],AA),Dne=(t,e,n)=>{if(e!=null){var r=Ad(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},rz=ae([Ad,PA,nz,IA],FL),Gv=ae([no,ro,nt,Bn,lo,IA,rz,Sm],qL),Lne=ae([RA,Gv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),iz=ae([lo,kA],LL),zne=ae([rz,kA,ao,xm,iz,Sm,PA],HL),Vne=ae([RA,kA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),$ne=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&kne(t,l)){var u=sW(t,e),f=ez(u,s,i,n,r),h=Ine(e,i,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Une=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=EQ(t,n);if(u){var f=oW(u,e),h=ez(f,l,s,r,i),p=Rne(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},Bne=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?$ne(t,e,r,i,s,l,u):Une(t,e,n,r,i,s,l)},qne=ae(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Fne=ae(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(tn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Cee}});function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return(e=Kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Yne(t,"string");return typeof e=="symbol"?e:e+""}function Yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gne={},Wne={zIndexMap:Object.values(tn).reduce((t,e)=>GR(GR({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Gne)},Xne=new Set(Object.values(tn));function Qne(t){return Xne.has(t)}var az=ti({name:"zIndex",initialState:Wne,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:on()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Qne(n)&&delete t.zIndexMap[n])},prepare:on()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:on()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:on()}}}),{registerZIndexPortal:Jne,unregisterZIndexPortal:Zne,registerZIndexPortalElement:ere,unregisterZIndexPortalElement:tre}=az.actions,nre=az.reducer;function Kn(t){var{zIndex:e,children:n}=t,r=VW(),i=r&&e!==void 0&&e!==0,s=Mn(),l=zt();x.useLayoutEffect(()=>i?(l(Jne({zIndex:e})),()=>{l(Zne({zIndex:e}))}):im,[l,e,i]);var u=ke(f=>qne(f,e,s));return i?u?aE.createPortal(n,u):null:n}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(null,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return(e=ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=are(t,"string");return typeof e=="symbol"?e:e+""}function are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sre(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return x.isValidElement(e)?x.cloneElement(e,r):x.createElement(n,r)}function ore(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,b=r,_=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var S,A,E;if(p==="ScatterChart")S=g,A=zX,E=tn.cursorLine;else if(p==="BarChart")S=VX(u,g,s,l),A=J3,E=tn.cursorRectangle;else if(u==="radial"&&M5(g)){var{cx:C,cy:$,radius:D,startAngle:U,endAngle:B}=t6(g);S={cx:C,cy:$,startAngle:U,endAngle:B,innerRadius:D,outerRadius:D},A=r6,E=tn.cursorLine}else S={points:NQ(u,g,s)},A=Vu,E=tn.cursorLine;var z=typeof f=="object"&&"className"in f?f.className:void 0,N=yg(yg(yg(yg({stroke:"#ccc",pointerEvents:"none"},s),S),Fs(f)),{},{payload:b,payloadIndex:_,className:tt("recharts-tooltip-cursor",z)});return x.createElement(Kn,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},x.createElement(sre,{cursor:f,cursorComp:A,cursorProps:N}))}function lre(t){var e=Nne(),n=D3(),r=bl(),i=tz();return e==null||n==null||r==null||i==null?null:x.createElement(ore,U_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var sz=x.createContext(null),cre=()=>x.useContext(sz),rw={exports:{}},XR;function ure(){return XR||(XR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||f,b),S=n?n+h:h;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],_]:f._events[S].push(_):(f._events[S]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,S=new Array(_);b<_;b++)S[b]=g[b].fn;return S},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,b,_,S){var A=n?n+h:h;if(!this._events[A])return!1;var E=this._events[A],C=arguments.length,$,D;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,g),!0;case 4:return E.fn.call(E.context,p,g,b),!0;case 5:return E.fn.call(E.context,p,g,b,_),!0;case 6:return E.fn.call(E.context,p,g,b,_,S),!0}for(D=1,$=new Array(C-1);D<C;D++)$[D-1]=arguments[D];E.fn.apply(E.context,$)}else{var U=E.length,B;for(D=0;D<U;D++)switch(E[D].once&&this.removeListener(h,E[D].fn,void 0,!0),C){case 1:E[D].fn.call(E[D].context);break;case 2:E[D].fn.call(E[D].context,p);break;case 3:E[D].fn.call(E[D].context,p,g);break;case 4:E[D].fn.call(E[D].context,p,g,b);break;default:if(!$)for(B=1,$=new Array(C-1);B<C;B++)$[B-1]=arguments[B];E[D].fn.apply(E[D].context,$)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,b){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===p&&(!b||S.once)&&(!g||S.context===g)&&l(this,_);else{for(var A=0,E=[],C=S.length;A<C;A++)(S[A].fn!==p||b&&!S[A].once||g&&S[A].context!==g)&&E.push(S[A]);E.length?this._events[_]=E.length===1?E[0]:E:l(this,_)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(rw)),rw.exports}var dre=ure();const fre=ha(dre);var Rh=new fre,B_="recharts.syncEvent.tooltip",QR="recharts.syncEvent.brush";function MA(t,e){if(e){var n=Number.parseInt(e,10);if(!Bi(n))return t?.[n]}}var hre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oz=ti({name:"options",initialState:hre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mre=oz.reducer,{createEventEmitter:pre}=oz.actions;function gre(t){return t.tooltip.syncInteraction}var vre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lz=ti({name:"chartData",initialState:vre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:JR,setDataStartEndIndexes:yre,setComputedData:kpe}=lz.actions,bre=lz.reducer,xre=["x","y"];function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wre(t,e,n){return(e=_re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ere(t,e){if(t==null)return{};var n,r,i=Are(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tre(){var t=ke(nA),e=ke(rA),n=zt(),r=ke(rL),i=ke(lo),s=bl(),l=G0(),u=ke(f=>f.rootProps.className);x.useEffect(()=>{if(t==null)return im;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:S,y:A}=_,E=Ere(_,xre),{x:C,y:$,width:D,height:U}=p.payload.sourceViewBox,B=_u(_u({},E),{},{x:l.x+(D?(S-C)/D:0)*l.width,y:l.y+(U?(A-$)/U:0)*l.height});n(_u(_u({},p),{},{payload:_u(_u({},p.payload),{},{coordinate:B})}))}else n(p);return}if(i!=null){var z;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},j=r(i,N);z=i[j]}else r==="value"&&(z=i.find(K=>String(K.value)===p.payload.label));var{coordinate:R}=p.payload;if(z==null||p.payload.active===!1||R==null||l==null){n(V_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:O}=R,L=Math.min(I,l.x+l.width),M=Math.min(O,l.y+l.height),ie={x:s==="horizontal"?z.coordinate:L,y:s==="horizontal"?M:z.coordinate},Q=V_({active:p.payload.active,coordinate:ie,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Q)}}};return Rh.on(B_,f),()=>{Rh.off(B_,f)}},[u,n,e,t,r,i,s,l])}function jre(){var t=ke(nA),e=ke(rA),n=zt();x.useEffect(()=>{if(t==null)return im;var r=(i,s,l)=>{e!==l&&t===i&&n(yre(s))};return Rh.on(QR,r),()=>{Rh.off(QR,r)}},[n,e,t])}function Nre(){var t=zt();x.useEffect(()=>{t(pre())},[t]),Tre(),jre()}function Cre(t,e,n,r,i,s){var l=ke(_=>Dne(_,t,e)),u=ke(rA),f=ke(nA),h=ke(rL),p=ke(gre),g=p?.active,b=G0();x.useEffect(()=>{if(!g&&f!=null&&u!=null){var _=V_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Rh.emit(B_,f,_,u)}},[g,n,l,i,r,u,f,h,s,b])}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e,n){return(e=Pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=Ire(t,"string");return typeof e=="symbol"?e:e+""}function Ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rre(t){return t.dataKey}function kre(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(vX,e)}var nk=[],Mre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kh(t){var e,n,r=Xt(t,Mre),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:b,position:_,reverseDirection:S,useTranslate3d:A,wrapperStyle:E,cursor:C,shared:$,trigger:D,defaultIndex:U,portal:B,axisId:z}=r,N=zt(),j=typeof U=="number"?String(U):U;x.useEffect(()=>{N(Pte({shared:$,trigger:D,axisId:z,active:i,defaultIndex:j}))},[N,$,D,z,i,j]);var R=G0(),I=Y3(),O=Ate($),{activeIndex:L,isActive:M}=(e=ke(oe=>Vne(oe,O,D,j)))!==null&&e!==void 0?e:{},ie=ke(oe=>zne(oe,O,D,j)),Q=ke(oe=>iz(oe,O,D,j)),K=ke(oe=>Lne(oe,O,D,j)),ee=ie,se=cre(),Y=(n=i??M)!==null&&n!==void 0?n:!1,[Z,V]=W5([ee,Y]),X=O==="axis"?Q:void 0;Cre(O,D,K,X,L,Y);var W=B??se;if(W==null||R==null||O==null)return null;var G=ee??nk;Y||(G=nk),h&&G.length&&(G=F5(G.filter(oe=>oe.value!=null&&(oe.hide!==!0||r.includeHidden)),b,Rre));var fe=G.length>0,ge=x.createElement(EX,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:Y,coordinate:K,hasPayload:fe,offset:g,position:_,reverseDirection:S,useTranslate3d:A,viewBox:R,wrapperStyle:E,lastBoundingBox:Z,innerRef:V,hasPortalFromProps:!!B},kre(f,tk(tk({},r),{},{payload:G,label:X,active:Y,activeIndex:L,coordinate:K,accessibilityLayer:I})));return x.createElement(x.Fragment,null,aE.createPortal(ge,W),Y&&x.createElement(lre,{cursor:C,tooltipEventType:O,coordinate:K,payload:G,index:L}))}var Tm=t=>null;Tm.displayName="Cell";function Dre(t,e,n){return(e=Lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vre{constructor(e){Dre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return(e=Bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=qre(t,"string");return typeof e=="symbol"?e:e+""}function qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fre={cacheSize:2e3,enableCache:!0},cz=$re({},Fre),ik=new Vre(cz.cacheSize),Hre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ak="recharts_measurement_span";function Kre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var sk=(t,e)=>{try{var n=document.getElementById(ak);n||(n=document.createElement("span"),n.setAttribute("id",ak),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Hre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},rh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cm.isSsr)return{width:0,height:0};if(!cz.enableCache)return sk(e,n);var r=Kre(e,n),i=ik.get(r);if(i)return i;var s=sk(e,n);return ik.set(r,s),s},uz;function Yre(t,e,n){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zre=["cm","mm","pt","pc","in","Q","px"];function eie(t){return Zre.includes(t)}var Pu="NaN";function tie(t,e){return t*Jre[e]}class pr{static parse(e){var n,[,r,i]=(n=Qre.exec(e))!==null&&n!==void 0?n:[];return r==null?pr.NaN:new pr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Bi(e)&&(this.unit=""),n!==""&&!Xre.test(n)&&(this.num=NaN,this.unit=""),eie(n)&&(this.num=tie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Bi(this.num)}}uz=pr;Yre(pr,"NaN",new uz(NaN,""));function dz(t){if(t==null||t.includes(Pu))return Pu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=ok.exec(e))!==null&&n!==void 0?n:[],l=pr.parse(r??""),u=pr.parse(s??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Pu;e=e.replace(ok,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,b]=(h=lk.exec(e))!==null&&h!==void 0?h:[],_=pr.parse(p??""),S=pr.parse(b??""),A=g==="+"?_.add(S):_.subtract(S);if(A.isNaN())return Pu;e=e.replace(lk,A.toString())}return e}var ck=/\(([^()]*)\)/;function nie(t){for(var e=t,n;(n=ck.exec(e))!=null;){var[,r]=n;e=e.replace(ck,dz(r))}return e}function rie(t){var e=t.replace(/\s+/g,"");return e=nie(e),e=dz(e),e}function iie(t){try{return rie(t)}catch{return Pu}}function iw(t){var e=iie(t.slice(5,-1));return e===Pu?"":e}var aie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sie=["dx","dy","angle","className","breakAll"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(null,arguments)}function uk(t,e){if(t==null)return{};var n,r,i=oie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fz=/[ \f\n\r\t\v\u2028\u2029]+/,hz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];qt(e)||(n?i=e.toString().split(""):i=e.toString().split(fz));var s=i.map(u=>({word:u,width:rh(u,r).width})),l=n?0:rh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function lie(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var mz=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),pz=t=>t.reduce((e,n)=>e.width>n.width?e:n),cie="",dk=(t,e,n,r,i,s,l,u)=>{var f=t.slice(0,e),h=hz({breakAll:n,style:r,children:f+cie});if(!h)return[!1,[]];var p=mz(h.wordsWithComputedWidth,s,l,u),g=p.length>i||pz(p).width>Number(s);return[g,p]},uie=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:f}=t,h=De(s),p=String(l),g=mz(e,r,n,i);if(!h||i)return g;var b=g.length>s||pz(g).width>Number(r);if(!b)return g;for(var _=0,S=p.length-1,A=0,E;_<=S&&A<=p.length-1;){var C=Math.floor((_+S)/2),$=C-1,[D,U]=dk(p,$,f,u,s,r,n,i),[B]=dk(p,C,f,u,s,r,n,i);if(!D&&!B&&(_=C+1),D&&B&&(S=C-1),!D&&B){E=U;break}A++}return E||g},fk=t=>{var e=qt(t)?[]:t.toString().split(fz);return[{words:e,width:void 0}]},die=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!cm.isSsr){var u,f,h=hz({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,f=g}else return fk(r);return uie({breakAll:s,children:r,maxLines:l,style:i},u,f,e,!!n)}return fk(r)},gz="#808080",fie={angle:0,breakAll:!1,capHeight:"0.71em",fill:gz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Nd=x.forwardRef((t,e)=>{var n=Xt(t,fie),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=uk(n,aie),b=x.useMemo(()=>die({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:_,dy:S,angle:A,className:E,breakAll:C}=g,$=uk(g,sie);if(!Xa(r)||!Xa(i)||b.length===0)return null;var D=Number(r)+(De(_)?_:0),U=Number(i)+(De(S)?S:0);if(!Ft(D)||!Ft(U))return null;var B;switch(p){case"start":B=iw("calc(".concat(l,")"));break;case"middle":B=iw("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:B=iw("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(f){var N=b[0].width,{width:j}=g;z.push("scale(".concat(De(j)&&De(N)?j/N:1,")"))}return A&&z.push("rotate(".concat(A,", ").concat(D,", ").concat(U,")")),z.length&&($.transform=z.join(" ")),x.createElement("text",q_({},Sn($),{ref:e,x:D,y:U,className:tt("recharts-text",E),textAnchor:h,fill:u.includes("url")?gz:u}),b.map((R,I)=>{var O=R.words.join(C?"":" ");return x.createElement("tspan",{x:D,dy:I===0?B:s,key:"".concat(O,"-").concat(I)},O)}))});Nd.displayName="Text";var hie=["labelRef"],mie=["content"];function hk(t,e){if(t==null)return{};var n,r,i=pie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(null,arguments)}var vz=x.createContext(null),bie=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,f=x.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return x.createElement(vz.Provider,{value:f},u)},yz=()=>{var t=x.useContext(vz),e=G0();return t||M3(e)},bz=x.createContext(null),xie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l,clockWise:u,children:f}=t,h=x.useMemo(()=>({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l,clockWise:u}),[e,n,r,i,s,l,u]);return x.createElement(bz.Provider,{value:h},f)},xz=()=>{var t=x.useContext(bz),e=ke(wd);return t||e},wie=t=>{var{value:e,formatter:n}=t,r=qt(t.children)?e:t.children;return typeof n=="function"?n(r):r},DA=t=>t!=null&&typeof t=="function",_ie=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Sie=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:b,clockWise:_}=i,S=(h+p)/2,A=_ie(g,b),E=A>=0?1:-1,C,$;switch(e){case"insideStart":C=g+E*s,$=_;break;case"insideEnd":C=b-E*s,$=!_;break;case"end":C=b+E*s,$=_;break;default:throw new Error("Unsupported position ".concat(e))}$=A<=0?$:!$;var D=St(u,f,S,C),U=St(u,f,S,C+($?1:-1)*359),B="M".concat(D.x,",").concat(D.y,`
    A`).concat(S,",").concat(S,",0,1,").concat($?0:1,`,
    `).concat(U.x,",").concat(U.y),z=qt(t.id)?yh("recharts-radial-line-"):t.id;return x.createElement("text",js({},r,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:z,d:B})),x.createElement("textPath",{xlinkHref:"#".concat(z)},n))},Eie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:p,y:g}=St(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:S}=St(r,i,b,h);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},F_=t=>"cx"in t&&De(t.cx),Aie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!F_(n)&&(s=n);var{x:l,y:u,upperWidth:f,lowerWidth:h,height:p}=e,g=l,b=l+(f-h)/2,_=(g+b)/2,S=(f+h)/2,A=g+f/2,E=p>=0?1:-1,C=E*r,$=E>0?"end":"start",D=E>0?"start":"end",U=f>=0?1:-1,B=U*r,z=U>0?"end":"start",N=U>0?"start":"end";if(i==="top"){var j={x:g+f/2,y:u-C,textAnchor:"middle",verticalAnchor:$};return wn(wn({},j),s?{height:Math.max(u-s.y,0),width:f}:{})}if(i==="bottom"){var R={x:b+h/2,y:u+p+C,textAnchor:"middle",verticalAnchor:D};return wn(wn({},R),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var I={x:_-B,y:u+p/2,textAnchor:z,verticalAnchor:"middle"};return wn(wn({},I),s?{width:Math.max(I.x-s.x,0),height:p}:{})}if(i==="right"){var O={x:_+S+B,y:u+p/2,textAnchor:N,verticalAnchor:"middle"};return wn(wn({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:p}:{})}var L=s?{width:S,height:p}:{};return i==="insideLeft"?wn({x:_+B,y:u+p/2,textAnchor:N,verticalAnchor:"middle"},L):i==="insideRight"?wn({x:_+S-B,y:u+p/2,textAnchor:z,verticalAnchor:"middle"},L):i==="insideTop"?wn({x:g+f/2,y:u+C,textAnchor:"middle",verticalAnchor:D},L):i==="insideBottom"?wn({x:b+h/2,y:u+p-C,textAnchor:"middle",verticalAnchor:$},L):i==="insideTopLeft"?wn({x:g+B,y:u+C,textAnchor:N,verticalAnchor:D},L):i==="insideTopRight"?wn({x:g+f-B,y:u+C,textAnchor:z,verticalAnchor:D},L):i==="insideBottomLeft"?wn({x:b+B,y:u+p-C,textAnchor:N,verticalAnchor:$},L):i==="insideBottomRight"?wn({x:b+h-B,y:u+p-C,textAnchor:z,verticalAnchor:$},L):i&&typeof i=="object"&&(De(i.x)||Hs(i.x))&&(De(i.y)||Hs(i.y))?wn({x:l+Cr(i.x,S),y:u+Cr(i.y,p),textAnchor:"end",verticalAnchor:"end"},L):wn({x:A,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Tie={angle:0,offset:5,zIndex:tn.label,position:"middle",textBreakAll:!1};function Ko(t){var e=Xt(t,Tie),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:f,labelRef:h}=e,p=xz(),g=yz(),b=r==="center"?g:p??g,_,S,A;if(n==null?_=b:F_(n)?_=n:_=M3(n),!_||qt(i)&&qt(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var E=wn(wn({},e),{},{viewBox:_});if(x.isValidElement(l)){var{labelRef:C}=E,$=hk(E,hie);return x.cloneElement(l,$)}if(typeof l=="function"){var{content:D}=E,U=hk(E,mie);if(S=x.createElement(l,U),x.isValidElement(S))return S}else S=wie(e);var B=Sn(e);if(F_(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Sie(e,r,S,B,_);A=Eie(_,e.offset,e.position)}else A=Aie(e,_);return x.createElement(Kn,{zIndex:e.zIndex},x.createElement(Nd,js({ref:h,className:tt("recharts-label",u)},B,A,{textAnchor:lie(B.textAnchor)?B.textAnchor:A.textAnchor,breakAll:f}),S))}Ko.displayName="Label";var wz=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(Ko,js({key:"label-implicit"},r)):Xa(t)?x.createElement(Ko,js({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Ko?x.cloneElement(t,wn({key:"label-implicit"},r)):x.createElement(Ko,js({key:"label-implicit",content:t},r)):DA(t)?x.createElement(Ko,js({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Ko,js({},t,{key:"label-implicit"},r)):null};function jie(t){var{label:e,labelRef:n}=t,r=yz();return wz(e,r,n)||null}function Nie(t){var{label:e}=t,n=xz();return wz(e,n)||null}var aw={},sw={},pk;function Cie(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(sw)),sw}var ow={},gk;function Oie(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(ow)),ow}var vk;function Pie(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cie(),n=Oie(),r=mE();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(aw)),aw}var lw,yk;function Iie(){return yk||(yk=1,lw=Pie().last),lw}var Rie=Iie();const _z=ha(Rie);var kie=["valueAccessor"],Mie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(null,arguments)}function bk(t,e){if(t==null)return{};var n,r,i=Die(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Die(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lie=t=>Array.isArray(t.value)?_z(t.value):t.value,Sz=x.createContext(void 0),vy=Sz.Provider,Ez=x.createContext(void 0),zie=Ez.Provider;function Vie(){return x.useContext(Sz)}function $ie(){return x.useContext(Ez)}function Dg(t){var{valueAccessor:e=Lie}=t,n=bk(t,kie),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,f=bk(n,Mie),h=Vie(),p=$ie(),g=h||p;return!g||!g.length?null:x.createElement(Kn,{zIndex:u??tn.label},x.createElement(At,{className:"recharts-label-list"},g.map((b,_)=>{var S,A=qt(r)?e(b,_):vt(b&&b.payload,r),E=qt(s)?{}:{id:"".concat(s,"-").concat(_)};return x.createElement(Ko,Wv({key:"label-".concat(_)},Sn(b),f,E,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:A,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}Dg.displayName="LabelList";function jm(t){var{label:e}=t;return e?e===!0?x.createElement(Dg,{key:"labelList-implicit"}):x.isValidElement(e)||DA(e)?x.createElement(Dg,{key:"labelList-implicit",content:e}):typeof e=="object"?x.createElement(Dg,Wv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Uie=["points","className","baseLinePoints","connectNulls"],xk;function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(null,arguments)}function Bie(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fie(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var wk=t=>t&&t.x===+t.x&&t.y===+t.y,Hie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{wk(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),wk(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ih=(t,e)=>{var n=Hie(t);e&&(n=[n.reduce((i,s)=>[...i,...s],[])]);var r=n.map(i=>i.reduce((s,l,u)=>un(xk||(xk=Fie(["","","",",",""])),s,u===0?"M":"L",l.x,l.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},Kie=(t,e,n)=>{var r=ih(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(ih(Array.from(e).reverse(),n).slice(1))},Az=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,s=Bie(t,Uie);if(!e||!e.length)return null;var l=tt("recharts-polygon",n);if(r&&r.length){var u=s.stroke&&s.stroke!=="none",f=Kie(e,r,i);return x.createElement("g",{className:l},x.createElement("path",Iu({},Sn(s),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),u?x.createElement("path",Iu({},Sn(s),{fill:"none",d:ih(e,i)})):null,u?x.createElement("path",Iu({},Sn(s),{fill:"none",d:ih(r,i)})):null)}var h=ih(e,i);return x.createElement("path",Iu({},Sn(s),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))};function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(null,arguments)}var LA=t=>{var{cx:e,cy:n,r,className:i}=t,s=tt("recharts-dot",i);return De(e)&&De(n)&&De(r)?x.createElement("circle",H_({},Wt(t),hE(t),{className:s,cx:e,cy:n,r})):null},zA=t=>t.graphicalItems.polarItems,Yie=ae([Ht,vm],sA),yy=ae([zA,hn,Yie],oA),Gie=ae([yy],lA),by=ae([Gie,mm],cA),Tz=ae([by,hn,yy],dA);ae([by,hn,yy],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=vt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:vt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var _k=()=>{},Wie=ae([by,hn,yy,fy,Ht],pA),Xie=ae([hn,hA,mA,_k,Wie,_k,nt,Ht],gA),jz=ae([hn,nt,by,Tz,pm,Ht,Xie],vA),Nz=ae([jz,hn,_l],bA),Qie=ae([hn,jz,Nz,Ht],wA),VA=(t,e,n)=>{switch(e){case"angleAxis":return xd(t,n);case"radiusAxis":return gm(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$A=(t,e,n)=>{switch(e){case"angleAxis":return jee(t,n);case"radiusAxis":return Nee(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Cd=ae([VA,_l,Qie,$A],hy),Cz=ae([nt,Tz,Sd,Ht],_A),Od=ae([nt,VA,_l,Cd,Nz,$A,_m,Cz,Ht],PL),Jie=ae([Od],t=>{if(t){var e=new Map;return t.forEach(n=>{var r=(n.coordinate+360)%360;e.has(r)||e.set(r,n)}),Array.from(e.values())}});ae([nt,VA,Cd,$A,_m,Cz,Ht],RL);var Zie=(t,e)=>Od(t,"angleAxis",e,!1),eae=ae([Zie],t=>{if(t)return t.map(e=>e.coordinate)}),tae=(t,e)=>Od(t,"radiusAxis",e,!1),nae=ae([tae],t=>{if(t)return t.map(e=>e.coordinate)}),rae=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function iae(t,e){if(t==null)return{};var n,r,i=aae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(null,arguments)}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cae=(t,e,n,r)=>{var i="";return r.forEach((s,l)=>{var u=St(e,n,t,s);l?i+="L ".concat(u.x,",").concat(u.y):i+="M ".concat(u.x,",").concat(u.y)}),i+="Z",i},uae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:s,radialLines:l}=t;if(!s||!s.length||!l)return null;var u=Mh({stroke:"#ccc"},Wt(t));return x.createElement("g",{className:"recharts-polar-grid-angle"},s.map(f=>{var h=St(e,n,r,f),p=St(e,n,i,f);return x.createElement("line",la({key:"line-".concat(f)},u,{x1:h.x,y1:h.y,x2:p.x,y2:p.y}))}))},Ek=t=>{var{cx:e,cy:n,radius:r}=t,i=Mh({stroke:"#ccc",fill:"none"},Wt(t));return x.createElement("circle",la({},i,{className:tt("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r}))},Ak=t=>{var{radius:e}=t,n=Mh({stroke:"#ccc",fill:"none"},Wt(t));return x.createElement("path",la({},n,{className:tt("recharts-polar-grid-concentric-polygon",t.className),d:cae(e,t.cx,t.cy,t.polarAngles)}))},dae=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var r=Math.max(...e),i=t.fill&&t.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&x.createElement(Ek,la({},t,{radius:r})),i&&n!=="circle"&&x.createElement(Ak,la({},t,{radius:r})),e.map((s,l)=>{var u=l;return n==="circle"?x.createElement(Ek,la({key:u},t,{fill:"none",radius:s})):x.createElement(Ak,la({key:u},t,{fill:"none",radius:s}))}))},Oz=t=>{var e,n,r,i,s,l,u,f,h,{gridType:p="polygon",radialLines:g=!0,angleAxisId:b=0,radiusAxisId:_=0,cx:S,cy:A,innerRadius:E,outerRadius:C,polarAngles:$,polarRadius:D}=t,U=iae(t,rae),B=ke(wd),z=ke(L=>eae(L,b)),N=ke(L=>nae(L,_)),j=Array.isArray($)?$:z,R=Array.isArray(D)?D:N;if(j==null||R==null)return null;var I=Mh(Mh({cx:(e=(n=B?.cx)!==null&&n!==void 0?n:S)!==null&&e!==void 0?e:0,cy:(r=(i=B?.cy)!==null&&i!==void 0?i:A)!==null&&r!==void 0?r:0,innerRadius:(s=(l=B?.innerRadius)!==null&&l!==void 0?l:E)!==null&&s!==void 0?s:0,outerRadius:(u=(f=B?.outerRadius)!==null&&f!==void 0?f:C)!==null&&u!==void 0?u:0,polarAngles:j,polarRadius:R},U),{},{zIndex:(h=U.zIndex)!==null&&h!==void 0?h:tn.grid}),{outerRadius:O}=I;return O<=0?null:x.createElement(Kn,{zIndex:I.zIndex},x.createElement("g",{className:"recharts-polar-grid"},x.createElement(dae,la({gridType:p,radialLines:g},I,{polarAngles:j,polarRadius:R})),x.createElement(uae,la({gridType:p,radialLines:g},I,{polarAngles:j,polarRadius:R}))))};Oz.displayName="PolarGrid";var cw={},uw={},Tk;function fae(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],s=r(i);for(let l=1;l<n.length;l++){const u=n[l],f=r(u);f>s&&(s=f,i=u)}return i}t.maxBy=e})(uw)),uw}var jk;function hae(){return jk||(jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fae(),n=R0(),r=pE();function i(s,l){if(s!=null)return e.maxBy(Array.from(s),r.iteratee(l??n.identity))}t.maxBy=i})(cw)),cw}var dw,Nk;function mae(){return Nk||(Nk=1,dw=hae().maxBy),dw}var pae=mae();const gae=ha(pae);var fw={},hw={},Ck;function vae(){return Ck||(Ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],s=r(i);for(let l=1;l<n.length;l++){const u=n[l],f=r(u);f<s&&(s=f,i=u)}return i}t.minBy=e})(hw)),hw}var Ok;function yae(){return Ok||(Ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vae(),n=R0(),r=pE();function i(s,l){if(s!=null)return e.minBy(Array.from(s),r.iteratee(l??n.identity))}t.minBy=i})(fw)),fw}var mw,Pk;function bae(){return Pk||(Pk=1,mw=yae().minBy),mw}var xae=bae();const wae=ha(xae);var _ae={radiusAxis:{},angleAxis:{}},Pz=ti({name:"polarAxis",initialState:_ae,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Sae,removeRadiusAxis:Eae,addAngleAxis:Aae,removeAngleAxis:Tae}=Pz.actions,jae=Pz.reducer,Nae=["cx","cy","angle","axisLine"],Cae=["angle","tickFormatter","stroke","tick"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(null,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iz(t,e){if(t==null)return{};var n,r,i=Rae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kae="radiusAxis";function Mae(t){var e=zt();return x.useEffect(()=>(e(Sae(t)),()=>{e(Eae(t))})),null}var Dae=(t,e,n,r)=>{var{coordinate:i}=t;return St(n,r,i,e)},Lae=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},zae=(t,e,n,r)=>{var i=gae(r,l=>l.coordinate||0),s=wae(r,l=>l.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:s?.coordinate||0,outerRadius:i?.coordinate||0,clockWise:!1}},Vae=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:s}=t,l=Iz(t,Nae),u=e.reduce((g,b)=>[Math.min(g[0],b.coordinate),Math.max(g[1],b.coordinate)],[1/0,-1/0]),f=St(n,r,u[0],i),h=St(n,r,u[1],i),p=Is(Is(Is({},Wt(l)),{},{fill:"none"},Wt(s)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return x.createElement("line",Dh({className:"recharts-polar-radius-axis-line"},p))},$ae=(t,e,n)=>{var r;return x.isValidElement(t)?r=x.cloneElement(t,e):typeof t=="function"?r=t(e):r=x.createElement(Nd,Dh({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},Uae=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:s}=t,l=Iz(t,Cae),u=Lae(t.orientation),f=Wt(l),h=Fs(s),p=e.map((g,b)=>{var _=Dae(g,t.angle,t.cx,t.cy),S=Is(Is(Is(Is({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(_.x,", ").concat(_.y,")")},f),{},{stroke:"none",fill:i},h),{},{index:b},_),{},{payload:g});return x.createElement(At,Dh({className:tt("recharts-polar-radius-axis-tick",e6(s)),key:"tick-".concat(g.coordinate)},Pc(t,g,b)),$ae(s,S,r?r(g.value,b):g.value))});return x.createElement(At,{className:"recharts-polar-radius-axis-ticks"},p)},Bae=t=>{var{radiusAxisId:e}=t,n=ke(wd),r=ke(f=>Cd(f,"radiusAxis",e)),i=ke(f=>Od(f,"radiusAxis",e,!1));if(n==null||!i||!i.length||r==null)return null;var s=Is(Is({},t),{},{scale:r},n),{tick:l,axisLine:u}=s;return x.createElement(Kn,{zIndex:s.zIndex},x.createElement(At,{className:tt("recharts-polar-radius-axis",kae,s.className)},u&&Vae(s,i),l&&Uae(s,i),x.createElement(xie,zae(s.angle,s.cx,s.cy,i),x.createElement(Nie,{label:s.label}),s.children)))};function Rz(t){var e=Xt(t,Xr);return x.createElement(x.Fragment,null,x.createElement(Mae,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),x.createElement(Bae,e))}Rz.displayName="PolarRadiusAxis";var qae=["children"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(null,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Kae(t,"string");return typeof e=="symbol"?e:e+""}function Kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yae(t,e){if(t==null)return{};var n,r,i=Gae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kk=1e-5,Wae=Math.cos(kv(45)),Xae="angleAxis";function Qae(t){var e=zt(),n=x.useMemo(()=>{var{children:s}=t,l=Yae(t,qae);return l},[t]),r=ke(s=>xd(s,n.id)),i=n===r;return x.useEffect(()=>(e(Aae(n)),()=>{e(Tae(n))}),[e,n]),i?t.children:null}var Jae=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:s,tickSize:l}=e,u=l||8,f=St(n,r,i,t.coordinate),h=St(n,r,i+(s==="inner"?-1:1)*u,t.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}},Zae=(t,e)=>{var n=Math.cos(kv(-t.coordinate));return n>kk?e==="outer"?"start":"end":n<-kk?e==="outer"?"end":"start":"middle"},ese=t=>{var e=Math.cos(kv(-t.coordinate)),n=Math.sin(kv(-t.coordinate));return Math.abs(e)<=Wae?n>0?"start":"end":"middle"},tse=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:s,ticks:l}=t;if(!s)return null;var u=Va(Va({},Wt(t)),{},{fill:"none"},Wt(s));if(i==="circle")return x.createElement(LA,Ac({className:"recharts-polar-angle-axis-line"},u,{cx:e,cy:n,r}));var f=l.map(h=>St(e,n,r,h.coordinate));return x.createElement(Az,Ac({className:"recharts-polar-angle-axis-line"},u,{points:f}))},nse=t=>{var{tick:e,tickProps:n,value:r}=t;return e?x.isValidElement(e)?x.cloneElement(e,n):typeof e=="function"?e(n):x.createElement(Nd,Ac({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},rse=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:s}=t,l=Wt(t),u=Fs(e),f=Va(Va({},l),{},{fill:"none"},Wt(n)),h=s.map((p,g)=>{var b=Jae(p,t),_=Zae(p,t.orientation),S=ese(p),A=Va(Va(Va({},l),{},{textAnchor:_,verticalAnchor:S,stroke:"none",fill:i},u),{},{index:g,payload:p,x:b.x2,y:b.y2});return x.createElement(At,Ac({className:tt("recharts-polar-angle-axis-tick",e6(e)),key:"tick-".concat(p.coordinate)},Pc(t,p,g)),n&&x.createElement("line",Ac({className:"recharts-polar-angle-axis-tick-line"},f,b)),x.createElement(nse,{tick:e,tickProps:A,value:r?r(p.value,g):p.value}))});return x.createElement(At,{className:"recharts-polar-angle-axis-ticks"},h)},ise=t=>{var{angleAxisId:e}=t,n=ke(wd),r=ke(u=>Cd(u,"angleAxis",e)),i=Mn(),s=ke(u=>Jie(u,"angleAxis",e,i));if(n==null||!s||!s.length||r==null)return null;var l=Va(Va(Va({},t),{},{scale:r},n),{},{radius:n.outerRadius,ticks:s});return x.createElement(Kn,{zIndex:l.zIndex},x.createElement(At,{className:tt("recharts-polar-angle-axis",Xae,l.className)},x.createElement(tse,l),x.createElement(rse,l)))};function kz(t){var e=Xt(t,za);return x.createElement(Qae,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},x.createElement(ise,e))}kz.displayName="PolarAngleAxis";function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ase(t,e,n){return(e=sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sse(t){var e=ose(t,"string");return typeof e=="symbol"?e:e+""}function ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lse=(t,e)=>e,UA=ae([zA,lse],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),cse=[],BA=(t,e,n)=>n?.length===0?cse:n,Mz=ae([mm,UA,BA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>Dk(Dk({},e.presentationProps),s.props))),i!=null)return i}}),use=ae([Mz,UA,BA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=vt(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:ns(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),dse=ae([Mz,UA,BA,Bn],(t,e,n,r)=>{if(!(e==null||t==null))return doe({offset:r,pieSettings:e,displayedData:t,cells:n})}),pw={exports:{}},Lt={};var Lk;function fse(){if(Lk)return Lt;Lk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(A){if(typeof A=="object"&&A!==null){var E=A.$$typeof;switch(E){case t:switch(A=A.type,A){case n:case i:case r:case f:case h:case b:return A;default:switch(A=A&&A.$$typeof,A){case l:case u:case g:case p:return A;case s:return A;default:return E}}case e:return E}}}return Lt.ContextConsumer=s,Lt.ContextProvider=l,Lt.Element=t,Lt.ForwardRef=u,Lt.Fragment=n,Lt.Lazy=g,Lt.Memo=p,Lt.Portal=e,Lt.Profiler=i,Lt.StrictMode=r,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isContextConsumer=function(A){return S(A)===s},Lt.isContextProvider=function(A){return S(A)===l},Lt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},Lt.isForwardRef=function(A){return S(A)===u},Lt.isFragment=function(A){return S(A)===n},Lt.isLazy=function(A){return S(A)===g},Lt.isMemo=function(A){return S(A)===p},Lt.isPortal=function(A){return S(A)===e},Lt.isProfiler=function(A){return S(A)===i},Lt.isStrictMode=function(A){return S(A)===r},Lt.isSuspense=function(A){return S(A)===f},Lt.isSuspenseList=function(A){return S(A)===h},Lt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===f||A===h||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===p||A.$$typeof===l||A.$$typeof===s||A.$$typeof===u||A.$$typeof===_||A.getModuleId!==void 0)},Lt.typeOf=S,Lt}var zk;function hse(){return zk||(zk=1,pw.exports=fse()),pw.exports}var mse=hse(),Vk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",$k=null,gw=null,Dz=t=>{if(t===$k&&Array.isArray(gw))return gw;var e=[];return x.Children.forEach(t,n=>{qt(n)||(mse.isFragment(n)?e=e.concat(Dz(n.props.children)):e.push(n))}),gw=e,$k=t,e};function qA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>Vk(i)):r=[Vk(e)],Dz(t).forEach(i=>{var s=xc(i,"type.displayName")||xc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var FA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,vw={},Uk;function pse(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(vw)),vw}var yw,Bk;function gse(){return Bk||(Bk=1,yw=pse().isPlainObject),yw}var vse=gse();const yse=ha(vse);var qk,Fk,Hk,Kk,Yk;function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return(e=xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(null,arguments)}function Bf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Xk=(t,e,n,r,i)=>{var s=n-r,l;return l=un(qk||(qk=Bf(["M ",",",""])),t,e),l+=un(Fk||(Fk=Bf(["L ",",",""])),t+n,e),l+=un(Hk||(Hk=Bf(["L ",",",""])),t+n-s/2,e+i),l+=un(Kk||(Kk=Bf(["L ",",",""])),t+n-s/2-r,e+i),l+=un(Yk||(Yk=Bf(["L ",","," Z"])),t,e),l},_se={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sse=t=>{var e=Xt(t,_se),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,b=x.useRef(null),[_,S]=x.useState(-1),A=x.useRef(i),E=x.useRef(s),C=x.useRef(l),$=x.useRef(n),D=x.useRef(r),U=Rc(t,"trapezoid-");if(x.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ie=b.current.getTotalLength();ie&&S(ie)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var B=tt("recharts-trapezoid",u);if(!g)return x.createElement("g",null,x.createElement("path",Xv({},Sn(e),{className:B,d:Xk(n,r,i,s,l)})));var z=A.current,N=E.current,j=C.current,R=$.current,I=D.current,O="0px ".concat(_===-1?1:_,"px"),L="".concat(_,"px 0px"),M=G3(["strokeDasharray"],h,f);return x.createElement(Ic,{animationId:U,key:U,canBegin:_>0,duration:h,easing:f,isActive:g,begin:p},ie=>{var Q=ht(z,i,ie),K=ht(N,s,ie),ee=ht(j,l,ie),se=ht(R,n,ie),Y=ht(I,r,ie);b.current&&(A.current=Q,E.current=K,C.current=ee,$.current=se,D.current=Y);var Z=ie>0?{transition:M,strokeDasharray:L}:{strokeDasharray:O};return x.createElement("path",Xv({},Sn(e),{className:B,d:Xk(se,Y,Q,K,ee),ref:b,style:Wk(Wk({},Z),e.style)}))})},Ese=["option","shapeType","activeClassName"];function Ase(t,e){if(t==null)return{};var n,r,i=Tse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jse(t,e,n){return(e=Nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nse(t){var e=Cse(t,"string");return typeof e=="symbol"?e:e+""}function Cse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t,e){return Qv(Qv({},e),t)}function Pse(t,e){return t==="symbols"}function Jk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(J3,n);case"trapezoid":return x.createElement(Sse,n);case"sector":return x.createElement(r6,n);case"symbols":if(Pse(e))return x.createElement(fE,n);break;case"curve":return x.createElement(Vu,n);default:return null}}function Ise(t){return x.isValidElement(t)?t.props:t}function HA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Ase(t,Ese),s;if(x.isValidElement(e))s=x.cloneElement(e,Qv(Qv({},i),Ise(e)));else if(typeof e=="function")s=e(i,i.index);else if(yse(e)&&typeof e!="boolean"){var l=Ose(e,i);s=x.createElement(Jk,{shapeType:n,elementProps:l})}else{var u=i;s=x.createElement(Jk,{shapeType:n,elementProps:u})}return i.isActive?x.createElement(At,{className:r},s):s}var KA=(t,e,n)=>{var r=zt();return(i,s)=>l=>{t?.(i,s,l),r(VL({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},YA=t=>{var e=zt();return(n,r)=>i=>{t?.(n,r,i),e(Ite())}},GA=(t,e,n)=>{var r=zt();return(i,s)=>l=>{t?.(i,s,l),r(Rte({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Nm(t){var{tooltipEntrySettings:e}=t,n=zt(),r=Mn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(Nte(e)):i.current!==e&&n(Cte({prev:i.current,next:e})),i.current=e)},[e,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(Ote(i.current)),i.current=null)},[n]),null}function WA(t){var{legendPayload:e}=t,n=zt(),r=Mn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(F3(e)):i.current!==e&&n(H3({prev:i.current,next:e})),i.current=e)},[n,r,e]),x.useLayoutEffect(()=>()=>{i.current&&(n(K3(i.current)),i.current=null)},[n]),null}function Lz(t){var{legendPayload:e}=t,n=zt(),r=ke(nt),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(F3(e)):i.current!==e&&n(H3({prev:i.current,next:e})),i.current=e)},[n,r,e]),x.useLayoutEffect(()=>()=>{i.current&&(n(K3(i.current)),i.current=null)},[n]),null}var bw,Rse=()=>{var[t]=x.useState(()=>yh("uid-"));return t},kse=(bw=N8.useId)!==null&&bw!==void 0?bw:Rse;function Mse(t,e){var n=kse();return e||(t?"".concat(t,"-").concat(n):n)}var Dse=x.createContext(void 0),Cm=t=>{var{id:e,type:n,children:r}=t,i=Mse("recharts-".concat(n),e);return x.createElement(Dse.Provider,{value:i},r(i))},Lse={cartesianItems:[],polarItems:[]},zz=ti({name:"graphicalItems",initialState:Lse,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:on()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ca(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:on()},removeCartesianGraphicalItem:{reducer(t,e){var n=ca(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:on()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:on()},removePolarGraphicalItem:{reducer(t,e){var n=ca(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:on()}}}),{addCartesianGraphicalItem:zse,replaceCartesianGraphicalItem:Vse,removeCartesianGraphicalItem:$se,addPolarGraphicalItem:Use,removePolarGraphicalItem:Bse}=zz.actions,qse=zz.reducer,Fse=t=>{var e=zt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(zse(t)):n.current!==t&&e(Vse({prev:n.current,next:t})),n.current=t},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(e($se(n.current)),n.current=null)},[e]),null},XA=x.memo(Fse);function Vz(t){var e=zt();return x.useLayoutEffect(()=>(e(Use(t)),()=>{e(Bse(t))}),[e,t]),null}var Hse=["key"],Kse=["onMouseEnter","onClick","onMouseLeave"],Yse=["id"],Gse=["id"];function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xse(t){var e=Qse(t,"string");return typeof e=="symbol"?e:e+""}function Qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(null,arguments)}function xy(t,e){if(t==null)return{};var n,r,i=Jse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zse(t){var e=x.useMemo(()=>qA(t.children,Tm),[t.children]),n=ke(r=>use(r,t.id,e));return n==null?null:x.createElement(Lz,{legendPayload:n})}var eoe=x.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:ns(u,e),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return x.createElement(Nm,{tooltipEntrySettings:g})}),toe=(t,e)=>t>e?"start":t<e?"end":"middle",noe=(t,e,n)=>Cr(typeof e=="function"?e(t):e,n,n*.8),roe=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=Z3(s,l),f=i+Cr(t.cx,s,s/2),h=r+Cr(t.cy,l,l/2),p=Cr(t.innerRadius,u,0),g=noe(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:b}},ioe=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function aoe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var soe=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var n=tt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=xy(e,Hse);return x.createElement(Vu,pl({},i,{type:"linear",className:n}))},ooe=(t,e,n)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),x.isValidElement(r)))return r;var i=tt("recharts-pie-label-text",aoe(t));return x.createElement(Nd,pl({},e,{alignmentBaseline:"middle",className:i}),r)};function loe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=Wt(n),f=Fs(i),h=Fs(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,_)=>{var S=(b.startAngle+b.endAngle)/2,A=St(b.cx,b.cy,b.outerRadius+p,S),E=vn(vn(vn(vn({},u),b),{},{stroke:"none"},f),{},{index:_,textAnchor:toe(A.x,b.cx)},A),C=vn(vn(vn(vn({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:_,points:[St(b.cx,b.cy,b.outerRadius,S),A],key:"line"});return x.createElement(Kn,{zIndex:tn.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},x.createElement(At,null,s&&soe(s,C),ooe(i,E,vt(b,l))))});return x.createElement(At,{className:"recharts-pie-labels"},g)}function coe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(jm,{label:i}):x.createElement(loe,{sectors:e,props:n,showLabels:r})}function uoe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=ke(ml),f=ke(OA),h=ke(yne),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,_=xy(i,Kse),S=KA(p,i.dataKey,l),A=YA(b),E=GA(g,i.dataKey,l);return e==null||e.length===0?null:x.createElement(x.Fragment,null,e.map((C,$)=>{if(C?.startAngle===0&&C?.endAngle===0&&e.length!==1)return null;var D=h==null||h===l,U=String($)===u&&(f==null||i.dataKey===f)&&D,B=u?r:null,z=n&&U?n:B,N=vn(vn({},C),{},{stroke:C.stroke,tabIndex:-1,[O3]:$,[P3]:l});return x.createElement(At,pl({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat($),tabIndex:-1,className:"recharts-pie-sector"},Pc(_,C,$),{onMouseEnter:S(C,$),onMouseLeave:A(C,$),onClick:E(C,$)}),x.createElement(HA,pl({option:s??z,index:$,shapeType:"sector",isActive:U},N)))}))}function doe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),_=ioe(u,f),S=Math.abs(_),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,E=r.filter(z=>vt(z,h,0)!==0).length,C=(S>=360?E:E-1)*A,$=S-E*b-C,D=r.reduce((z,N)=>{var j=vt(N,h,0);return z+(De(j)?j:0)},0),U;if(D>0){var B;U=r.map((z,N)=>{var j=vt(z,h,0),R=vt(z,p,N),I=roe(n,s,z),O=(De(j)?j:0)/D,L,M=vn(vn({},z),i&&i[N]&&i[N].props);N?L=B.endAngle+er(_)*A*(j!==0?1:0):L=u;var ie=L+er(_)*((j!==0?b:0)+O*$),Q=(L+ie)/2,K=(I.innerRadius+I.outerRadius)/2,ee=[{name:R,value:j,payload:M,dataKey:h,type:g,graphicalItemId:n.id}],se=St(I.cx,I.cy,K,Q);return B=vn(vn(vn(vn({},n.presentationProps),{},{percent:O,cornerRadius:typeof l=="string"?parseFloat(l):l,name:R,tooltipPayload:ee,midAngle:Q,middleRadius:K,tooltipPosition:se},M),I),{},{value:j,dataKey:h,startAngle:L,endAngle:ie,payload:M,paddingAngle:er(_)*A}),B})}return U}function foe(t){var{showLabels:e,sectors:n,children:r}=t,i=x.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return x.createElement(zie,{value:e?i:void 0},r)}function hoe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,_=Rc(e,"recharts-pie-"),S=n.current,[A,E]=x.useState(!1),C=x.useCallback(()=>{typeof b=="function"&&b(),E(!1)},[b]),$=x.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]);return x.createElement(foe,{showLabels:!A,sectors:i},x.createElement(Ic,{animationId:_,begin:l,duration:u,isActive:s,easing:f,onAnimationStart:$,onAnimationEnd:C,key:_},D=>{var U=[],B=i&&i[0],z=B?.startAngle;return i?.forEach((N,j)=>{var R=S&&S[j],I=j>0?xc(N,"paddingAngle",0):0;if(R){var O=ht(R.endAngle-R.startAngle,N.endAngle-N.startAngle,D),L=vn(vn({},N),{},{startAngle:z+I,endAngle:z+O+I});U.push(L),z=L.endAngle}else{var{endAngle:M,startAngle:ie}=N,Q=ht(0,M-ie,D),K=vn(vn({},N),{},{startAngle:z+I,endAngle:z+Q+I});U.push(K),z=K.endAngle}}),n.current=U,x.createElement(At,null,x.createElement(uoe,{sectors:U,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),x.createElement(coe,{showLabels:!A,sectors:i,props:e}),e.children)}var moe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:tn.area};function poe(t){var{id:e}=t,n=xy(t,Yse),{hide:r,className:i,rootTabIndex:s}=t,l=x.useMemo(()=>qA(t.children,Tm),[t.children]),u=ke(p=>dse(p,e,l)),f=x.useRef(null),h=tt("recharts-pie",i);return r||u==null?(f.current=null,x.createElement(At,{tabIndex:s,className:h})):x.createElement(Kn,{zIndex:t.zIndex},x.createElement(eoe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),x.createElement(At,{tabIndex:s,className:h},x.createElement(hoe,{props:vn(vn({},n),{},{sectors:u}),previousSectorsRef:f,id:e})))}function $z(t){var e=Xt(t,moe),{id:n}=e,r=xy(e,Gse),i=Wt(r);return x.createElement(Cm,{id:n,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(Vz,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),x.createElement(Zse,pl({},r,{id:s})),x.createElement(poe,pl({},r,{id:s}))))}$z.displayName="Pie";var goe=["points"];function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function voe(t,e,n){return(e=yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yoe(t){var e=boe(t,"string");return typeof e=="symbol"?e:e+""}function boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(null,arguments)}function xoe(t,e){if(t==null)return{};var n,r,i=woe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function woe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _oe(t){var{option:e,dotProps:n,className:r}=t;if(x.isValidElement(e))return x.cloneElement(e,n);if(typeof e=="function")return e(n);var i=tt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=xoe(s,goe);return x.createElement(LA,Jv({},u,{className:i}))}function Soe(t,e){return t==null?!1:e?!0:t.length===1}function QA(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:f,zIndex:h=tn.scatter}=t;if(!Soe(e,n))return null;var p=FA(n),g=DH(n),b=e.map((S,A)=>{var E,C,$=xw(xw(xw({r:3},l),g),{},{index:A,cx:(E=S.x)!==null&&E!==void 0?E:void 0,cy:(C=S.y)!==null&&C!==void 0?C:void 0,dataKey:s,value:S.value,payload:S.payload,points:e});return x.createElement(_oe,{key:"dot-".concat(A),option:n,dotProps:$,className:i})}),_={};return u&&f!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),x.createElement(Kn,{zIndex:h},x.createElement(At,Jv({className:r},_),b))}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){Eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e,n){return(e=Aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aoe(t){var e=Toe(t,"string");return typeof e=="symbol"?e:e+""}function Toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uz=0,joe={xAxis:{},yAxis:{},zAxis:{}},Bz=ti({name:"cartesianAxis",initialState:joe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:on()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:on()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:on()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:on()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:on()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:on()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:on()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:on()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:on()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=nM(nM({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Noe,replaceXAxis:Coe,removeXAxis:Ooe,addYAxis:Poe,replaceYAxis:Ioe,removeYAxis:Roe,addZAxis:Mpe,replaceZAxis:Dpe,removeZAxis:Lpe,updateYAxisWidth:koe}=Bz.actions,Moe=Bz.reducer,Doe=ae([Bn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Loe=ae([Doe,no,ro],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),wy=()=>ke(Loe),zoe=()=>ke(Sne);function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Voe(t,e,n){return(e=$oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $oe(t){var e=Uoe(t,"string");return typeof e=="symbol"?e:e+""}function Uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Boe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=ww(ww(ww({},u),Fs(i)),hE(i)),h;return x.isValidElement(i)?h=x.cloneElement(i,f):typeof i=="function"?h=i(f):h=x.createElement(LA,f),x.createElement(At,{className:"recharts-active-dot",clipPath:l},h)};function Zv(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=tn.activeDot}=t,u=ke(ml),f=zoe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return qt(h)?null:x.createElement(Kn,{zIndex:l},x.createElement(Boe,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qoe(t,e,n){return(e=Foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=Hoe(t,"string");return typeof e=="symbol"?e:e+""}function Hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qz=(t,e)=>Cd(t,"radiusAxis",e),Koe=ae([qz],t=>{if(t!=null)return{scale:t}}),Yoe=ae([gm,qz],(t,e)=>{if(!(t==null||e==null))return e0(e0({},t),{},{scale:e})}),Goe=(t,e,n,r)=>Od(t,"radiusAxis",e,r),Fz=(t,e,n)=>xd(t,n),Hz=(t,e,n)=>Cd(t,"angleAxis",n),Woe=ae([Fz,Hz],(t,e)=>{if(!(t==null||e==null))return e0(e0({},t),{},{scale:e})}),Xoe=(t,e,n,r)=>Od(t,"angleAxis",n,r),Qoe=ae([Fz,Hz,wd],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),Joe=(t,e,n,r,i)=>i,Zoe=ae([nt,Yoe,Goe,Woe,Xoe],(t,e,n,r,i)=>pa(t,"radiusAxis")?Ja(e,n,!1):Ja(r,i,!1)),ele=ae([zA,Joe],(t,e)=>{if(t!=null){var n=t.find(r=>r.type==="radar"&&e===r.id);return n?.dataKey}}),tle=ae([Koe,Qoe,mm,ele,Zoe],(t,e,n,r,i)=>{var{chartData:s,dataStartIndex:l,dataEndIndex:u}=n;if(!(t==null||e==null||s==null||i==null||r==null)){var f=s.slice(l,u+1);return dle({radiusAxis:t,angleAxis:e,displayedData:f,dataKey:r,bandSize:i})}}),nle=["id"];function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(null,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return(e=ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ale(t,"string");return typeof e=="symbol"?e:e+""}function ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t,e){if(t==null)return{};var n,r,i=ole(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ole(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JA(t,e){return t&&t!=="none"?t:e}var lle=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:JA(r,i),value:ns(n,e),payload:t}]},cle=x.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,tooltipType:u,id:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:ns(s,e),hide:l,type:u,color:JA(n,i),unit:"",graphicalItemId:f}};return x.createElement(Nm,{tooltipEntrySettings:h})});function ule(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n,{id:s}=n,l=sle(n,nle),u=Wt(l);return x.createElement(QA,{points:e,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:u})}function dle(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:s}=t,{cx:l,cy:u}=n,f=!1,h=[],p=n.type!=="number"?s??0:0;r.forEach((b,_)=>{var S=vt(b,n.dataKey,_),A=vt(b,i),E=n.scale(S)+p,C=Array.isArray(A)?_z(A):A,$=qt(C)?0:e.scale(C);Array.isArray(A)&&A.length>=2&&(f=!0),h.push(Zr(Zr({},St(l,u,$,E)),{},{name:S,value:A,cx:l,cy:u,radius:$,angle:E,payload:b}))});var g=[];return f&&h.forEach(b=>{if(Array.isArray(b.value)){var _=b.value[0],S=qt(_)?0:e.scale(_);g.push(Zr(Zr({},b),{},{radius:S},St(l,u,S,b.angle)))}else g.push(b)}),{points:h,isRange:f,baseLinePoints:g}}function fle(t){var{showLabels:e,points:n,children:r}=t,i=n.map(s=>{var l,u={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Zr(Zr({},u),{},{value:(l=s.value)!==null&&l!==void 0?l:"",payload:s.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return x.createElement(vy,{value:e?i:void 0},r)}function hle(t){var{points:e,baseLinePoints:n,props:r}=t;if(e==null)return null;var{shape:i,isRange:s,connectNulls:l}=r,u=p=>{var{onMouseEnter:g}=r;g&&g(r,p)},f=p=>{var{onMouseLeave:g}=r;g&&g(r,p)},h;return x.isValidElement(i)?h=x.cloneElement(i,Zr(Zr({},r),{},{points:e})):typeof i=="function"?h=i(Zr(Zr({},r),{},{points:e})):h=x.createElement(Az,Lh({},Sn(r),{onMouseEnter:u,onMouseLeave:f,points:e,baseLinePoints:s?n:void 0,connectNulls:l})),x.createElement(At,{className:"recharts-radar-polygon"},h,x.createElement(ule,{props:r,points:e}))}var sM=(t,e,n)=>(r,i)=>{var s=t&&t[Math.floor(i*e)];return s?Zr(Zr({},r),{},{x:ht(s.x,r.x,n),y:ht(s.y,r.y,n)}):Zr(Zr({},r),{},{x:ht(r.cx,r.x,n),y:ht(r.cy,r.y,n)})};function mle(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:r}=t,{points:i,baseLinePoints:s,isAnimationActive:l,animationBegin:u,animationDuration:f,animationEasing:h,onAnimationEnd:p,onAnimationStart:g}=e,b=n.current,_=r.current,S=b?b.length/i.length:1,A=_?_.length/s.length:1,E=Rc(e,"recharts-radar-"),[C,$]=x.useState(!1),D=!C,U=x.useCallback(()=>{typeof p=="function"&&p(),$(!1)},[p]),B=x.useCallback(()=>{typeof g=="function"&&g(),$(!0)},[g]);return x.createElement(fle,{showLabels:D,points:i},x.createElement(Ic,{animationId:E,begin:u,duration:f,isActive:l,easing:h,key:"radar-".concat(E),onAnimationEnd:U,onAnimationStart:B},z=>{var N=z===1?i:i.map(sM(b,S,z)),j=z===1?s:s?.map(sM(_,A,z));return z>0&&(n.current=N,r.current=j),x.createElement(hle,{points:N,baseLinePoints:j,props:e})}),x.createElement(jm,{label:e.label}),e.children)}function ple(t){var e=x.useRef(void 0),n=x.useRef(void 0);return x.createElement(mle,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var gle={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:tn.area};function vle(t){var{hide:e,className:n,points:r}=t;if(e)return null;var i=tt("recharts-radar",n);return x.createElement(Kn,{zIndex:t.zIndex},x.createElement(At,{className:i},x.createElement(ple,t)),x.createElement(Zv,{points:r,mainColor:JA(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function yle(t){var e=Mn(),n=ke(r=>tle(r,t.radiusAxisId,t.angleAxisId,e,t.id));return n?.points==null?null:x.createElement(vle,Lh({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}function K_(t){var e=Xt(t,gle);return x.createElement(Cm,{id:e.id,type:"radar"},n=>x.createElement(x.Fragment,null,x.createElement(Vz,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),x.createElement(Lz,{legendPayload:lle(e)}),x.createElement(cle,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:n}),x.createElement(yle,Lh({},e,{id:n}))))}K_.displayName="Radar";var oM=(t,e,n)=>{var r=n??t;if(!qt(r))return Cr(r,e,0)},ble=(t,e,n)=>{var r={},i=t.filter(ly),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,b=g.map(S=>S.dataKey),_=oM(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:_}}),f=s.map(h=>{var p=[h.dataKey].filter(b=>b!=null),g=oM(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...f]};function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xle(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=_le(t,"string");return typeof e=="symbol"?e:e+""}function _le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sle(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Cr(t,n,0,!0),u,f=[];if(Ft(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((C,$)=>C+($.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,_={offset:b-l,size:0};u=r.reduce((C,$)=>{var D,U={stackId:$.stackId,dataKeys:$.dataKeys,position:{offset:_.offset+_.size+l,size:h?p:(D=$.barSize)!==null&&D!==void 0?D:0}},B=[...C,U];return _=B[B.length-1].position,B},f)}else{var S=Cr(e,n,0,!0);n-2*S-(s-1)*l<=0&&(l=0);var A=(n-2*S-(s-1)*l)/s;A>1&&(A>>=0);var E=Ft(i)?Math.min(A,i):A;u=r.reduce((C,$,D)=>[...C,{stackId:$.stackId,dataKeys:$.dataKeys,position:{offset:S+(A+l)*D+(A-E)/2,size:E}}],f)}return u}}var Ele=(t,e,n,r,i,s,l)=>{var u=qt(l)?e:l,f=Sle(n,r,i!==s?i:s,t,u);return i!==s&&f!=null&&(f=f.map(h=>bg(bg({},h),{},{position:bg(bg({},h.position),{},{offset:h.position.offset-i/2})}))),f},Ale=(t,e)=>{var n=oy(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function Tle(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ft(t.zIndex)?t.zIndex:e}var Kz=t=>{var{chartData:e}=t,n=zt(),r=Mn();return x.useEffect(()=>r?()=>{}:(n(JR(e)),()=>{n(JR(void 0))}),[e,n,r]),null},cM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Yz=ti({name:"brush",initialState:cM,reducers:{setBrushSettings(t,e){return e.payload==null?cM:e.payload}}}),{setBrushSettings:zpe}=Yz.actions,jle=Yz.reducer;function Nle(t,e,n){return(e=Cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ZA{static create(e){return new ZA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Nle(ZA,"EPS",1e-4);function Ple(t){return(t%180+180)%180}var Ile=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ple(i),l=s*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Rle={dots:[],areas:[],lines:[]},Gz=ti({name:"referenceElements",initialState:Rle,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ca(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ca(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ca(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Vpe,removeDot:$pe,addArea:Upe,removeArea:Bpe,addLine:qpe,removeLine:Fpe}=Gz.actions,kle=Gz.reducer,Mle=x.createContext(void 0),Dle=t=>{var{children:e}=t,[n]=x.useState("".concat(yh("recharts"),"-clip")),r=wy();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return x.createElement(Mle.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function Wz(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Lle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ile(r,n)}function zle(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function zh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Vle(t,e){return Wz(t,e+1)}function $le(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,f=0,h=1,p=l,g=function(){var S=r?.[f];if(S===void 0)return{v:Wz(r,h)};var A=f,E,C=()=>(E===void 0&&(E=n(S,A)),E),$=S.coordinate,D=f===0||zh(t,$,C,p,u);D||(f=0,p=l,h+=1),D&&(p=$+t*(C()/2+i),f+=h)},b;h<=s.length;)if(b=g(),b)return b.v;return[]}function Ule(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:f}=e,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,b=!0,_=function(){var $=r[S],D=S,U,B=()=>(U===void 0&&(U=n($,D)),U),z=$.coordinate,N=S===p||zh(t,z,B,g,f);if(!N)return b=!1,1;N&&(g=z+t*(B()/2+i))},S=p;S<l&&!_();S+=h);if(b){for(var A=[],E=p;E<l;E+=h)A.push(r[E]);return A}}return[]}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return(e=qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=Fle(t,"string");return typeof e=="symbol"?e:e+""}function Fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hle(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:f}=e,h=function(b){var _=s[b],S,A=()=>(S===void 0&&(S=n(_,b)),S);if(b===l-1){var E=t*(_.coordinate+t*A()/2-f);s[b]=_=Er(Er({},_),{},{tickCoord:E>0?_.coordinate-E*t:_.coordinate})}else s[b]=_=Er(Er({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=zh(t,_.tickCoord,A,u,f);C&&(f=_.tickCoord-t*(A()/2+i),s[b]=Er(Er({},_),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Kle(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:f,end:h}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-h);if(l[u-1]=p=Er(Er({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var _=zh(t,p.tickCoord,()=>g,f,h);_&&(h=p.tickCoord-t*(g/2+i),l[u-1]=Er(Er({},p),{},{isShow:!0}))}}for(var S=s?u-1:u,A=function($){var D=l[$],U,B=()=>(U===void 0&&(U=n(D,$)),U);if($===0){var z=t*(D.coordinate-t*B()/2-f);l[$]=D=Er(Er({},D),{},{tickCoord:z<0?D.coordinate-z*t:D.coordinate})}else l[$]=D=Er(Er({},D),{},{tickCoord:D.coordinate});if(D.tickCoord!=null){var N=zh(t,D.tickCoord,B,f,h);N&&(f=D.tickCoord+t*(B()/2+i),l[$]=Er(Er({},D),{},{isShow:!0}))}},E=0;E<S;E++)A(E);return l}function eT(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(De(f)||cm.isSsr){var b;return(b=Vle(i,De(f)?f:0))!==null&&b!==void 0?b:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",A=p&&S==="width"?rh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(D,U)=>{var B=typeof h=="function"?h(D.value,U):D.value;return S==="width"?Lle(rh(B,{fontSize:e,letterSpacing:n}),A,g):rh(B,{fontSize:e,letterSpacing:n})[S]},C=i.length>=2?er(i[1].coordinate-i[0].coordinate):1,$=zle(s,C,S);return f==="equidistantPreserveStart"?$le(C,$,E,i,l):f==="equidistantPreserveEnd"?Ule(C,$,E,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=Kle(C,$,E,i,l,f==="preserveStartEnd"):_=Hle(C,$,E,i,l),_.filter(D=>D.isShow))}var Yle=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+s,h=l+f+u+(n?r:0);return Math.round(h)}return 0},Gle=["axisLine","width","height","className","hide","ticks","axisType"];function Wle(t,e){if(t==null)return{};var n,r,i=Xle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(null,arguments)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qle(t,e,n){return(e=Jle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ls={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:tn.axis};function ece(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=Pn(Pn(Pn({},f),Wt(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Pn(Pn({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Pn(Pn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return x.createElement("line",Tc({},h,{className:tt("recharts-cartesian-axis-line",xc(u,"className"))}))}function tce(t,e,n,r,i,s,l,u,f){var h,p,g,b,_,S,A=u?-1:1,E=t.tickSize||l,C=De(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,b=n+ +!u*i,g=b-A*E,S=g-A*f,_=C;break;case"left":g=b=t.coordinate,p=e+ +!u*r,h=p-A*E,_=h-A*f,S=C;break;case"right":g=b=t.coordinate,p=e+ +u*r,h=p+A*E,_=h+A*f,S=C;break;default:h=p=t.coordinate,b=n+ +u*i,g=b+A*E,S=g+A*f,_=C;break}return{line:{x1:h,y1:g,x2:p,y2:b},tick:{x:_,y:S}}}function nce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function rce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ice(t){var{option:e,tickProps:n,value:r}=t,i,s=tt(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,Pn(Pn({},n),{},{className:s}));else if(typeof e=="function")i=e(Pn(Pn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=tt(l,e?.className)),i=x.createElement(Nd,Tc({},n,{className:l}),r)}return i}var ace=x.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:g,x:b,y:_,width:S,height:A,tickSize:E,tickMargin:C,fontSize:$,letterSpacing:D,getTicksConfig:U,events:B,axisType:z}=t,N=eT(Pn(Pn({},U),{},{ticks:n}),$,D),j=nce(p,g),R=rce(p,g),I=Wt(U),O=Fs(r),L={};typeof i=="object"&&(L=i);var M=Pn(Pn({},I),{},{fill:"none"},L),ie=N.map(ee=>Pn({entry:ee},tce(ee,b,_,S,A,p,E,g,C))),Q=ie.map(ee=>{var{entry:se,line:Y}=ee;return x.createElement(At,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},i&&x.createElement("line",Tc({},M,Y,{className:tt("recharts-cartesian-axis-tick-line",xc(i,"className"))})))}),K=ie.map((ee,se)=>{var{entry:Y,tick:Z}=ee,V=Pn(Pn(Pn(Pn({textAnchor:j,verticalAnchor:R},I),{},{stroke:"none",fill:s},O),Z),{},{index:se,payload:Y,visibleTicksCount:N.length,tickFormatter:l,padding:f},h);return x.createElement(At,Tc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},Pc(B,Y,se)),r&&x.createElement(ice,{option:r,tickProps:V,value:"".concat(typeof l=="function"?l(Y.value,se):Y.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},K.length>0&&x.createElement(Kn,{zIndex:tn.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},K)),Q.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},Q))}),sce=x.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:f}=t,h=Wle(t,Gle),[p,g]=x.useState(""),[b,_]=x.useState(""),S=x.useRef(null);x.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return Yle({ticks:S.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=x.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=C;var $=C[0];if($){var D=window.getComputedStyle($),U=D.fontSize,B=D.letterSpacing;(U!==p||B!==b)&&(g(U),_(B))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Kn,{zIndex:t.zIndex},x.createElement(At,{className:tt("recharts-cartesian-axis",s)},x.createElement(ece,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Wt(t)}),x.createElement(ace,{ref:A,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),x.createElement(bie,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},x.createElement(jie,{label:t.label,labelRef:t.labelRef}),t.children)))}),tT=x.forwardRef((t,e)=>{var n=Xt(t,Ls);return x.createElement(sce,Tc({},n,{ref:e}))});tT.displayName="CartesianAxis";var oce=["x1","y1","x2","y2","key"],lce=["offset"],cce=["xAxisId","yAxisId"],uce=["xAxisId","yAxisId"];function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dce(t,e,n){return(e=fce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=hce(t,"string");return typeof e=="symbol"?e:e+""}function hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(null,arguments)}function t0(t,e){if(t==null)return{};var n,r,i=mce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return x.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Xz(t){var{option:e,lineItemProps:n}=t,r;if(x.isValidElement(e))r=x.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:f,key:h}=n,p=t0(n,oce),g=(i=Wt(p))!==null&&i!==void 0?i:{},{offset:b}=g,_=t0(g,lce);r=x.createElement("line",ac({},_,{x1:s,y1:l,x2:u,y2:f,fill:"none",key:h}))}return r}function gce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=t0(t,cce),f=i.map((h,p)=>{var g=jr(jr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return x.createElement(Xz,{key:"line-".concat(p),option:r,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function vce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=t0(t,uce),f=i.map((h,p)=>{var g=jr(jr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return x.createElement(Xz,{option:r,lineItemProps:g,key:"line-".concat(p)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function yce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],S=_?i+l-g:h[b+1]-g;if(S<=0)return null;var A=b%e.length;return x.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:S,width:s,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function bce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],S=_?i+l-g:h[b+1]-g;if(S<=0)return null;var A=b%n.length;return x.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:S,height:u,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var xce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return T3(eT(jr(jr(jr({},Ls),n),{},{ticks:j3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},wce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return T3(eT(jr(jr(jr({},Ls),n),{},{ticks:j3(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},_ce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:tn.grid};function _y(t){var e=AE(),n=TE(),r=D3(),i=jr(jr({},Xt(t,_ce)),{},{x:De(t.x)?t.x:r.left,y:De(t.y)?t.y:r.top,width:De(t.width)?t.width:r.width,height:De(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:_}=i,S=Mn(),A=ke(R=>$R(R,"xAxis",s,S)),E=ke(R=>$R(R,"yAxis",l,S));if(!Qa(h)||!Qa(p)||!De(u)||!De(f))return null;var C=i.verticalCoordinatesGenerator||xce,$=i.horizontalCoordinatesGenerator||wce,{horizontalPoints:D,verticalPoints:U}=i;if((!D||!D.length)&&typeof $=="function"){var B=b&&b.length,z=$({yAxis:E?jr(jr({},E),{},{ticks:B?b:E.ticks}):void 0,width:e??h,height:n??p,offset:r},B?!0:g);Av(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(D=z)}if((!U||!U.length)&&typeof C=="function"){var N=_&&_.length,j=C({xAxis:A?jr(jr({},A),{},{ticks:N?_:A.ticks}):void 0,width:e??h,height:n??p,offset:r},N?!0:g);Av(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(U=j)}return x.createElement(Kn,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(pce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(yce,ac({},i,{horizontalPoints:D})),x.createElement(bce,ac({},i,{verticalPoints:U})),x.createElement(gce,ac({},i,{offset:r,horizontalPoints:D,xAxis:A,yAxis:E})),x.createElement(vce,ac({},i,{offset:r,verticalPoints:U,xAxis:A,yAxis:E}))))}_y.displayName="CartesianGrid";var Sce={},Qz=ti({name:"errorBars",initialState:Sce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Hpe,replaceErrorBar:Kpe,removeErrorBar:Ype}=Qz.actions,Ece=Qz.reducer,Ace=["children"];function Tce(t,e){if(t==null)return{};var n,r,i=jce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Cce=x.createContext(Nce);function Jz(t){var{children:e}=t,n=Tce(t,Ace);return x.createElement(Cce.Provider,{value:n},e)}function Sy(t,e){var n,r,i=ke(h=>so(h,t)),s=ke(h=>oo(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Xn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Qn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function nT(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=wy(),{needClipX:s,needClipY:l,needClip:u}=Sy(e,n);if(!u||!i)return null;var{x:f,y:h,width:p,height:g}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var Zz=(t,e,n,r)=>ts(t,"xAxis",e,r),e9=(t,e,n,r)=>es(t,"xAxis",e,r),t9=(t,e,n,r)=>ts(t,"yAxis",n,r),n9=(t,e,n,r)=>es(t,"yAxis",n,r),Oce=ae([nt,Zz,t9,e9,n9],(t,e,n,r,i)=>pa(t,"xAxis")?Ja(e,r,!1):Ja(n,i,!1)),Pce=(t,e,n,r,i)=>i;function Ice(t){return t.type==="line"}var Rce=ae([ym,Pce],(t,e)=>t.filter(Ice).find(n=>n.id===e)),kce=ae([nt,Zz,t9,e9,n9,Rce,Oce,JE],(t,e,n,r,i,s,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,_;if(b!=null&&b.length>0?_=b:_=f?.slice(h,p+1),_!=null)return xue({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}});function r9(t){var e=Fs(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var _w={exports:{}},Sw={};var hM;function Mce(){if(hM)return Sw;hM=1;var t=sd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Sw.useSyncExternalStoreWithSelector=function(f,h,p,g,b){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function E(B){if(!C){if(C=!0,$=B,B=g(B),b!==void 0&&S.hasValue){var z=S.value;if(b(z,B))return D=z}return D=B}if(z=D,n($,B))return z;var N=g(B);return b!==void 0&&b(z,N)?($=B,z):($=B,D=N)}var C=!1,$,D,U=p===void 0?null:p;return[function(){return E(h())},U===null?void 0:function(){return E(U())}]},[h,p,g,b]);var A=r(f,_[0],_[1]);return s(function(){S.hasValue=!0,S.value=A},[A]),u(A),A},Sw}var mM;function Dce(){return mM||(mM=1,_w.exports=Mce()),_w.exports}Dce();function Lce(t){t()}function zce(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Lce(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var pM={notify(){},get:()=>[]};function Vce(t,e){let n,r=pM,i=0,s=!1;function l(A){p();const E=r.subscribe(A);let C=!1;return()=>{C||(C=!0,E(),g())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(f),r=zce())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=pM)}function b(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return S}var $ce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uce=$ce(),Bce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qce=Bce(),Fce=()=>Uce||qce?x.useLayoutEffect:x.useEffect,Hce=Fce();function gM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Kce(t,e){if(gM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!gM(t[n[i]],e[n[i]]))return!1;return!0}var Yce=Symbol.for("react-redux-context"),Gce=typeof globalThis<"u"?globalThis:{};function Wce(){if(!x.createContext)return{};const t=Gce[Yce]??=new Map;let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Xce=Wce();function Qce(t){const{children:e,context:n,serverState:r,store:i}=t,s=x.useMemo(()=>{const f=Vce(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);Hce(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=n||Xce;return x.createElement(u.Provider,{value:s},e)}var Jce=Qce,Zce=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function eue(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Om(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Zce.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Kce(t[r],e[r]))return!1}else if(!eue(t[r],e[r]))return!1;return!0}var tue=["id"],nue=["type","layout","connectNulls","needClip","shape"],rue=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(null,arguments)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return typeof e=="symbol"?e:e+""}function sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rT(t,e){if(t==null)return{};var n,r,i=oue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lue=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ns(n,e),payload:t}]},cue=x.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ns(l,e),hide:u,type:h,color:r,unit:f,graphicalItemId:p}};return x.createElement(Nm,{tooltipEntrySettings:g})}),i9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function uue(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var due=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return i9(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>s){u=[...n.slice(0,f),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...uue(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function fue(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,f=rT(r,tue),h=Wt(f);return x.createElement(QA,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function hue(t){var{showLabels:e,children:n,points:r}=t,i=x.useMemo(()=>r?.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return La(La({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(vy,{value:e?i:void 0},n)}function yM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:f,needClip:h,shape:p}=s,g=rT(s,nue),b=La(La({},Sn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(HA,Vh({shapeType:"curve",option:p},b,{pathRef:n})),x.createElement(fue,{points:r,clipPathId:e,props:s}))}function mue(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function pue(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:b,width:_,height:S,onAnimationEnd:A,onAnimationStart:E}=n,C=i.current,$=Rc(l,"recharts-line-"),D=x.useRef($),[U,B]=x.useState(!1),z=!U,N=x.useCallback(()=>{typeof A=="function"&&A(),B(!1)},[A]),j=x.useCallback(()=>{typeof E=="function"&&E(),B(!0)},[E]),R=mue(r.current),I=x.useRef(0);D.current!==$&&(I.current=s.current,D.current=$);var O=I.current;return x.createElement(hue,{points:l,showLabels:z},n.children,x.createElement(Ic,{animationId:$,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:N,onAnimationStart:j,key:$},L=>{var M=ht(O,R+O,L),ie=Math.min(M,R),Q;if(f)if(u){var K="".concat(u).split(/[,\s]+/gim).map(Y=>parseFloat(Y));Q=due(ie,R,K)}else Q=i9(R,ie);else Q=u==null?void 0:String(u);if(L>0&&R>0&&(i.current=l,s.current=Math.max(s.current,ie)),C){var ee=C.length/l.length,se=L===1?l:l.map((Y,Z)=>{var V=Math.floor(Z*ee);if(C[V]){var X=C[V];return La(La({},Y),{},{x:ht(X.x,Y.x,L),y:ht(X.y,Y.y,L)})}return b?La(La({},Y),{},{x:ht(_*2,Y.x,L),y:ht(S/2,Y.y,L)}):La(La({},Y),{},{x:Y.x,y:Y.y})});return i.current=se,x.createElement(yM,{props:n,points:se,clipPathId:e,pathRef:r,strokeDasharray:Q})}return x.createElement(yM,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Q})}),x.createElement(jm,{label:n.label}))}function gue(t){var{clipPathId:e,props:n}=t,r=x.useRef(null),i=x.useRef(0),s=x.useRef(null);return x.createElement(pue,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var vue=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vt(t.payload,e)}};class yue extends x.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:f,width:h,height:p,id:g,needClip:b,zIndex:_}=this.props;if(e)return null;var S=tt("recharts-line",i),A=g,{r:E,strokeWidth:C}=r9(n),$=FA(n),D=E*2+C,U=b?"url(#clipPath-".concat($?"":"dots-").concat(A,")"):void 0;return x.createElement(Kn,{zIndex:_},x.createElement(At,{className:S},b&&x.createElement("defs",null,x.createElement(nT,{clipPathId:A,xAxisId:s,yAxisId:l}),!$&&x.createElement("clipPath",{id:"clipPath-dots-".concat(A)},x.createElement("rect",{x:f-D/2,y:u-D/2,width:h+D,height:p+D}))),x.createElement(Jz,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:vue,errorBarOffset:0},x.createElement(gue,{props:this.props,clipPathId:A}))),x.createElement(Zv,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:U}))}}var a9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:tn.line,type:"linear"};function bue(t){var e=Xt(t,a9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,hide:h,isAnimationActive:p,label:g,legendType:b,xAxisId:_,yAxisId:S,id:A}=e,E=rT(e,rue),{needClip:C}=Sy(_,S),$=wy(),D=bl(),U=Mn(),B=ke(I=>kce(I,_,S,U,A));if(D!=="horizontal"&&D!=="vertical"||B==null||$==null)return null;var{height:z,width:N,x:j,y:R}=$;return x.createElement(yue,Vh({},E,{id:A,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:b,xAxisId:_,yAxisId:S,points:B,layout:D,height:z,width:N,left:j,top:R,needClip:C}))}function xue(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((h,p)=>{var g=vt(h,l);if(e==="horizontal"){var b=Ev({axis:n,ticks:i,bandSize:u,entry:h,index:p}),_=qt(g)?null:r.scale(g);return{x:b,y:_,value:g,payload:h}}var S=qt(g)?null:n.scale(g),A=Ev({axis:r,ticks:s,bandSize:u,entry:h,index:p});return S==null||A==null?null:{x:S,y:A,value:g,payload:h}}).filter(Boolean)}function wue(t){var e=Xt(t,a9),n=Mn();return x.createElement(Cm,{id:e.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(WA,{legendPayload:lue(e)}),x.createElement(cue,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),x.createElement(XA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),x.createElement(bue,Vh({},e,{id:r}))))}var td=x.memo(wue,Om);td.displayName="Line";function rs(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Uz}function is(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Uz}var s9=(t,e,n)=>ts(t,"xAxis",rs(t,e),n),o9=(t,e,n)=>es(t,"xAxis",rs(t,e),n),l9=(t,e,n)=>ts(t,"yAxis",is(t,e),n),c9=(t,e,n)=>es(t,"yAxis",is(t,e),n),_ue=ae([nt,s9,l9,o9,c9],(t,e,n,r,i)=>pa(t,"xAxis")?Ja(e,r,!1):Ja(n,i,!1)),Sue=(t,e)=>e,u9=ae([ym,Sue],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),d9=t=>{var e=nt(t),n=pa(e,"xAxis");return n?"yAxis":"xAxis"},Eue=(t,e)=>{var n=d9(t);return n==="yAxis"?is(t,e):rs(t,e)},Aue=(t,e,n)=>Kv(t,d9(t),Eue(t,e),n),Tue=ae([u9,Aue],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=oy(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),jue=ae([nt,s9,l9,o9,c9,Tue,V6,_ue,u9,wee],(t,e,n,r,i,s,l,u,f,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=f,S;if(_&&_.length>0?S=_:S=p?.slice(g,b+1),S!=null)return Kue({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:f,stackedData:s,displayedData:S,chartBaseValue:h,bandSize:u})}}),Nue=["id"],Cue=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function f9(t,e){if(t==null)return{};var n,r,i=Oue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Pue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e,n){return(e=Iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iue(t){var e=Rue(t,"string");return typeof e=="symbol"?e:e+""}function Rue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n0(t,e){return t&&t!=="none"?t:e}var kue=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:n0(r,i),value:ns(n,e),payload:t}]},Mue=x.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ns(l,e),hide:u,type:h,color:n0(r,s),unit:f,graphicalItemId:p}};return x.createElement(Nm,{tooltipEntrySettings:g})});function Due(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=Wt(r);return x.createElement(QA,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function Lue(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ru(Ru({},f),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return x.createElement(vy,{value:e?i:void 0},n)}function xM(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:f,connectNulls:h,isRange:p}=s,{id:g}=s,b=f9(s,Nue),_=Wt(b),S=Sn(b);return x.createElement(x.Fragment,null,e?.length>1&&x.createElement(At,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},x.createElement(Vu,dc({},S,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&x.createElement(Vu,dc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),f!=="none"&&p&&x.createElement(Vu,dc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),x.createElement(Due,{points:e,props:b,clipPathId:i}))}function zue(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,f=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Ft(u)||!Ft(f))return null;var h=r*Math.abs(u-f),p=Math.max(...s.map(g=>g.x||0));return De(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),De(p)?x.createElement("rect",{x:0,y:u<f?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}function Vue(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,f=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Ft(u)||!Ft(f))return null;var h=r*Math.abs(u-f),p=Math.max(...s.map(g=>g.y||0));return De(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),De(p)?x.createElement("rect",{x:u<f?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function $ue(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?x.createElement(zue,{alpha:e,points:r,baseLine:i,strokeWidth:s}):x.createElement(Vue,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Uue(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:_}=r,S=x.useMemo(()=>({points:l,baseLine:u}),[l,u]),A=Rc(S,"recharts-area-"),E=zW(),[C,$]=x.useState(!1),D=!C,U=x.useCallback(()=>{typeof _=="function"&&_(),$(!1)},[_]),B=x.useCallback(()=>{typeof b=="function"&&b(),$(!0)},[b]);if(E==null)return null;var z=i.current,N=s.current;return x.createElement(Lue,{showLabels:D,points:l},r.children,x.createElement(Ic,{animationId:A,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:U,onAnimationStart:B,key:A},j=>{if(z){var R=z.length/l.length,I=j===1?l:l.map((L,M)=>{var ie=Math.floor(M*R);if(z[ie]){var Q=z[ie];return Ru(Ru({},L),{},{x:ht(Q.x,L.x,j),y:ht(Q.y,L.y,j)})}return L}),O;return De(u)?O=ht(N,u,j):qt(u)||Bi(u)?O=ht(N,0,j):O=u.map((L,M)=>{var ie=Math.floor(M*R);if(Array.isArray(N)&&N[ie]){var Q=N[ie];return Ru(Ru({},L),{},{x:ht(Q.x,L.x,j),y:ht(Q.y,L.y,j)})}return L}),j>0&&(i.current=I,s.current=O),x.createElement(xM,{points:I,baseLine:O,needClip:e,clipPathId:n,props:r})}return j>0&&(i.current=l,s.current=u),x.createElement(At,null,f&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(n)},x.createElement($ue,{alpha:j,points:l,baseLine:u,layout:E,strokeWidth:r.strokeWidth}))),x.createElement(At,{clipPath:"url(#animationClipPath-".concat(n,")")},x.createElement(xM,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),x.createElement(jm,{label:r.label}))}function Bue(t){var{needClip:e,clipPathId:n,props:r}=t,i=x.useRef(null),s=x.useRef();return x.createElement(Uue,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class que extends x.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:f,yAxisId:h,width:p,height:g,id:b,baseLine:_,zIndex:S}=this.props;if(e)return null;var A=tt("recharts-area",i),E=b,{r:C,strokeWidth:$}=r9(n),D=FA(n),U=C*2+$,B=u?"url(#clipPath-".concat(D?"":"dots-").concat(E,")"):void 0;return x.createElement(Kn,{zIndex:S},x.createElement(At,{className:A},u&&x.createElement("defs",null,x.createElement(nT,{clipPathId:E,xAxisId:f,yAxisId:h}),!D&&x.createElement("clipPath",{id:"clipPath-dots-".concat(E)},x.createElement("rect",{x:l-U/2,y:s-U/2,width:p+U,height:g+U}))),x.createElement(Bue,{needClip:u,clipPathId:E,props:this.props})),x.createElement(Zv,{points:r,mainColor:n0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:B}),this.props.isRange&&Array.isArray(_)&&x.createElement(Zv,{points:_,mainColor:n0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:B}))}}var h9={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:tn.area};function Fue(t){var e,n=Xt(t,h9),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,fill:h,fillOpacity:p,hide:g,isAnimationActive:b,legendType:_,stroke:S,xAxisId:A,yAxisId:E}=n,C=f9(n,Cue),$=bl(),D=tz(),{needClip:U}=Sy(A,E),B=Mn(),{points:z,isRange:N,baseLine:j}=(e=ke(ie=>jue(ie,t.id,B)))!==null&&e!==void 0?e:{},R=wy();if($!=="horizontal"&&$!=="vertical"||R==null||D!=="AreaChart"&&D!=="ComposedChart")return null;var{height:I,width:O,x:L,y:M}=R;return!z||!z.length?null:x.createElement(que,dc({},C,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:j,connectNulls:u,dot:f,fill:h,fillOpacity:p,height:I,hide:g,layout:$,isAnimationActive:b==="auto"?!cm.isSsr:b,isRange:N,legendType:_,needClip:U,points:z,stroke:S,width:O,left:L,top:M,xAxisId:A,yAxisId:E}))}var Hue=(t,e,n,r,i)=>{var s=n??e;if(De(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Kue(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:f,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:_}=t,S=i&&i.length,A=Hue(s,l,n,u,f),E=s==="horizontal",C=!1,$=h.map((U,B)=>{var z,N,j;if(S)j=i[p+B];else{var R=vt(U,r);Array.isArray(R)?(j=R,C=!0):j=[A,R]}var I=(z=(N=j)===null||N===void 0?void 0:N[1])!==null&&z!==void 0?z:null,O=I==null||S&&!e&&vt(U,r)==null;return E?{x:Ev({axis:u,ticks:g,bandSize:_,entry:U,index:B}),y:O?null:f.scale(I),value:j,payload:U}:{x:O?null:u.scale(I),y:Ev({axis:f,ticks:b,bandSize:_,entry:U,index:B}),value:j,payload:U}}),D;return S||C?D=$.map(U=>{var B=Array.isArray(U.value)?U.value[0]:null;return E?{x:U.x,y:B!=null&&U.y!=null?f.scale(B):null,payload:U.payload}:{x:B!=null?u.scale(B):null,y:U.y,payload:U.payload}}):D=E?f.scale(A):u.scale(A),{points:$,baseLine:D,isRange:C}}function Yue(t){var e=Xt(t,h9),n=Mn();return x.createElement(Cm,{id:e.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(WA,{legendPayload:kue(e)}),x.createElement(Mue,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),x.createElement(XA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:N3(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),x.createElement(Fue,dc({},e,{id:r}))))}var iT=x.memo(Yue,Om);iT.displayName="Area";var Gue="Invariant failed";function Wue(t,e){throw new Error(Gue)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(null,arguments)}function r0(t){return x.createElement(HA,Y_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Xue=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(De(e))return e;var s=De(r)||qt(r);return s?e(r,i):(s||Wue(),n)}},Que=(t,e,n)=>n,Jue=(t,e)=>e,Pm=ae([ym,Jue],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Zue=ae([Pm],t=>t?.maxBarSize),ede=(t,e,n,r)=>r,tde=ae([nt,ym,rs,is,Que],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),nde=(t,e,n)=>{var r=nt(t),i=rs(t,e),s=is(t,e);if(!(i==null||s==null))return r==="horizontal"?Kv(t,"yAxis",s,n):Kv(t,"xAxis",i,n)},rde=(t,e)=>{var n=nt(t),r=rs(t,e),i=is(t,e);if(!(r==null||i==null))return n==="horizontal"?VR(t,"xAxis",r):VR(t,"yAxis",i)},ide=ae([tde,xee,rde],ble),ade=(t,e,n)=>{var r,i,s=Pm(t,e);if(s!=null){var l=rs(t,e),u=is(t,e);if(!(l==null||u==null)){var f=nt(t),h=eL(t),{maxBarSize:p}=s,g=qt(p)?h:p,b,_;return f==="horizontal"?(b=ts(t,"xAxis",l,n),_=es(t,"xAxis",l,n)):(b=ts(t,"yAxis",u,n),_=es(t,"yAxis",u,n)),(r=(i=Ja(b,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},m9=(t,e,n)=>{var r=nt(t),i=rs(t,e),s=is(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=ts(t,"xAxis",i,n),u=es(t,"xAxis",i,n)):(l=ts(t,"yAxis",s,n),u=es(t,"yAxis",s,n)),Ja(l,u)}},sde=ae([ide,eL,bee,tL,ade,m9,Zue],Ele),ode=(t,e,n)=>{var r=rs(t,e);if(r!=null)return ts(t,"xAxis",r,n)},lde=(t,e,n)=>{var r=is(t,e);if(r!=null)return ts(t,"yAxis",r,n)},cde=(t,e,n)=>{var r=rs(t,e);if(r!=null)return es(t,"xAxis",r,n)},ude=(t,e,n)=>{var r=is(t,e);if(r!=null)return es(t,"yAxis",r,n)},dde=ae([sde,Pm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),fde=ae([nde,Pm],Ale),hde=ae([Bn,SE,ode,lde,cde,ude,dde,nt,V6,m9,fde,Pm,ede],(t,e,n,r,i,s,l,u,f,h,p,g,b)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:A}=f;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:E}=g,C;if(E!=null&&E.length>0?C=E:C=_?.slice(S,A+1),C!=null)return Bde({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:C,offset:t,cells:b,dataStartIndex:S})}}),mde=["index"];function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(null,arguments)}function pde(t,e){if(t==null)return{};var n,r,i=gde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p9=x.createContext(void 0),vde=t=>{var e=x.useContext(p9);if(e!=null)return e.stackId;if(t!=null)return N3(t)},yde=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),bde=t=>{var e=x.useContext(p9);if(e!=null){var{stackId:n}=e;return"url(#".concat(yde(n,t),")")}},xde=t=>{var{index:e}=t,n=pde(t,mde),r=bde(e);return x.createElement(At,G_({className:"recharts-bar-stack-layer",clipPath:r},n))},wde=["onMouseEnter","onMouseLeave","onClick"],_de=["value","background","tooltipPosition"],Sde=["id"],Ede=["onMouseEnter","onClick","onMouseLeave"];function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(null,arguments)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e,n){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tde(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i0(t,e){if(t==null)return{};var n,r,i=Nde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cde=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ns(n,e),payload:t}]},Ode=x.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ns(s,e),hide:l,type:f,color:i,unit:u,graphicalItemId:h}};return x.createElement(Nm,{tooltipEntrySettings:p})});function Pde(t){var e=ke(ml),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=s,h=i0(s,wde),p=KA(l,r,s.id),g=YA(u),b=GA(f,r,s.id);if(!i||n==null)return null;var _=Fs(i);return x.createElement(Kn,{zIndex:Tle(i,tn.barBackground)},n.map((S,A)=>{var{value:E,background:C,tooltipPosition:$}=S,D=i0(S,_de);if(!C)return null;var U=p(S,A),B=g(S,A),z=b(S,A),N=Mr(Mr(Mr(Mr(Mr({option:i,isActive:String(A)===e},D),{},{fill:"#eee"},C),_),Pc(h,S,A)),{},{onMouseEnter:U,onMouseLeave:B,onClick:z,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return x.createElement(r0,Qs({key:"background-bar-".concat(A)},N))}))}function Ide(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Mr(Mr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return x.createElement(vy,{value:e?i:void 0},n)}function Rde(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=ke(ml),f=ke(OA),h=n&&String(s)===u&&(f==null||l===f),p=h?n:e;return h?x.createElement(Kn,{zIndex:tn.activeBar},x.createElement(r0,Qs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))):x.createElement(r0,Qs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function kde(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return x.createElement(r0,Qs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Mde(t){var e,{data:n,props:r}=t,i=(e=Wt(r))!==null&&e!==void 0?e:{},{id:s}=i,l=i0(i,Sde),{shape:u,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,_=i0(r,Ede),S=KA(p,f,s),A=YA(b),E=GA(g,f,s);return n?x.createElement(x.Fragment,null,n.map((C,$)=>x.createElement(xde,Qs({index:$,key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat($),className:"recharts-bar-rectangle"},Pc(_,C,$),{onMouseEnter:S(C,$),onMouseLeave:A(C,$),onClick:E(C,$)}),h?x.createElement(Rde,{shape:u,activeBar:h,baseProps:l,entry:C,index:$,dataKey:f}):x.createElement(kde,{shape:u,baseProps:l,entry:C,index:$,dataKey:f})))):null}function Dde(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,b=Rc(e,"recharts-bar-"),[_,S]=x.useState(!1),A=!_,E=x.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),C=x.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return x.createElement(Ide,{showLabels:A,rects:r},x.createElement(Ic,{animationId:b,begin:l,duration:u,isActive:s,easing:f,onAnimationEnd:E,onAnimationStart:C,key:b},$=>{var D=$===1?r:r?.map((U,B)=>{var z=g&&g[B];if(z)return Mr(Mr({},U),{},{x:ht(z.x,U.x,$),y:ht(z.y,U.y,$),width:ht(z.width,U.width,$),height:ht(z.height,U.height,$)});if(i==="horizontal"){var N=ht(0,U.height,$),j=ht(U.stackedBarStart,U.y,$);return Mr(Mr({},U),{},{y:j,height:N})}var R=ht(0,U.width,$),I=ht(U.stackedBarStart,U.x,$);return Mr(Mr({},U),{},{width:R,x:I})});return $>0&&(n.current=D??null),D==null?null:x.createElement(At,null,x.createElement(Mde,{props:e,data:D}))}),x.createElement(jm,{label:e.label}),e.children)}function Lde(t){var e=x.useRef(null);return x.createElement(Dde,{previousRectanglesRef:e,props:t})}var g9=0,zde=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:vt(t,e)}};class Vde extends x.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:f,id:h}=this.props;if(e||n==null)return null;var p=tt("recharts-bar",i),g=h;return x.createElement(At,{className:p,id:h},u&&x.createElement("defs",null,x.createElement(nT,{clipPathId:g,xAxisId:s,yAxisId:l})),x.createElement(At,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},x.createElement(Pde,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),x.createElement(Lde,this.props)))}}var $de={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:g9,xAxisId:0,yAxisId:0,zIndex:tn.bar};function Ude(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=Sy(e,n),b=bl(),_=Mn(),S=qA(t.children,Tm),A=ke($=>hde($,t.id,_,S));if(b!=="vertical"&&b!=="horizontal")return null;var E,C=A?.[0];return C==null||C.height==null||C.width==null?E=0:E=b==="vertical"?C.height/2:C.width/2,x.createElement(Jz,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:zde,errorBarOffset:E},x.createElement(Vde,Qs({},t,{layout:b,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Bde(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:b,cells:_,parentViewBox:S,dataStartIndex:A}=t,E=e==="horizontal"?u:l,C=p?E.scale.domain():null,$=nW({numericAxis:E}),D=E.scale($);return g.map((U,B)=>{var z,N,j,R,I,O;if(p){var L=p[B+A];if(L==null)return null;z=QG(L,C)}else z=vt(U,n),Array.isArray(z)||(z=[$,z]);var M=Xue(r,g9)(z[1],B);if(e==="horizontal"){var ie,[Q,K]=[u.scale(z[0]),u.scale(z[1])];N=qP({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:U,index:B}),j=(ie=K??Q)!==null&&ie!==void 0?ie:void 0,R=i.size;var ee=Q-K;if(I=Bi(ee)?0:ee,O={x:N,y:b.top,width:R,height:b.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var se=er(I||M)*(Math.abs(M)-Math.abs(I));j-=se,I+=se}}else{var[Y,Z]=[l.scale(z[0]),l.scale(z[1])];if(N=Y,j=qP({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:U,index:B}),R=Z-Y,I=i.size,O={x:b.left,y:j,width:b.width,height:I},Math.abs(M)>0&&Math.abs(R)<Math.abs(M)){var V=er(R||M)*(Math.abs(M)-Math.abs(R));R+=V}}if(N==null||j==null||R==null||I==null)return null;var X=Mr(Mr({},U),{},{stackedBarStart:D,x:N,y:j,width:R,height:I,value:p?z:z[1],payload:U,background:O,tooltipPosition:{x:N+R/2,y:j+I/2},parentViewBox:S},_&&_[B]&&_[B].props);return X}).filter(Boolean)}function qde(t){var e=Xt(t,$de),n=vde(e.stackId),r=Mn();return x.createElement(Cm,{id:e.id,type:"bar"},i=>x.createElement(x.Fragment,null,x.createElement(WA,{legendPayload:Cde(e)}),x.createElement(Ode,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),x.createElement(XA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(Kn,{zIndex:e.zIndex},x.createElement(Ude,Qs({},e,{id:i})))))}var aT=x.memo(qde,Om);aT.displayName="Bar";var Fde=["domain","range"],Hde=["domain","range"];function _M(t,e){if(t==null)return{};var n,r,i=Kde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function v9(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=_M(t,Fde),{domain:s,range:l}=e,u=_M(e,Hde);return!SM(n,s)||!SM(r,l)?!1:Om(i,u)}var Yde=["dangerouslySetInnerHTML","ticks","scale"],Gde=["id","scale"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(null,arguments)}function EM(t,e){if(t==null)return{};var n,r,i=Wde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xde(t){var e=zt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(Noe(t)):n.current!==t&&e(Coe({prev:n.current,next:t})),n.current=t},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(e(Ooe(n.current)),n.current=null)},[e]),null}var Qde=t=>{var{xAxisId:e,className:n}=t,r=ke(SE),i=Mn(),s="xAxis",l=ke(C=>IL(C,s,e,i)),u=ke(C=>NL(C,e)),f=ke(C=>xte(C,e)),h=ke(C=>cL(C,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,_=EM(t,Yde),{id:S,scale:A}=h,E=EM(h,Gde);return x.createElement(tT,W_({},_,E,{x:f.x,y:f.y,width:u.width,height:u.height,className:tt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Jde={allowDataOverflow:Xn.allowDataOverflow,allowDecimals:Xn.allowDecimals,allowDuplicatedCategory:Xn.allowDuplicatedCategory,angle:Xn.angle,axisLine:Ls.axisLine,height:Xn.height,hide:!1,includeHidden:Xn.includeHidden,interval:Xn.interval,minTickGap:Xn.minTickGap,mirror:Xn.mirror,orientation:Xn.orientation,padding:Xn.padding,reversed:Xn.reversed,scale:Xn.scale,tick:Xn.tick,tickCount:Xn.tickCount,tickLine:Ls.tickLine,tickSize:Ls.tickSize,type:Xn.type,xAxisId:0},Zde=t=>{var e=Xt(t,Jde);return x.createElement(x.Fragment,null,x.createElement(Xde,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),x.createElement(Qde,e))},Ey=x.memo(Zde,v9);Ey.displayName="XAxis";var efe=["dangerouslySetInnerHTML","ticks","scale"],tfe=["id","scale"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(null,arguments)}function AM(t,e){if(t==null)return{};var n,r,i=nfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rfe(t){var e=zt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?e(Poe(t)):n.current!==t&&e(Ioe({prev:n.current,next:t})),n.current=t},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(e(Roe(n.current)),n.current=null)},[e]),null}var ife=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=x.useRef(null),l=x.useRef(null),u=ke(SE),f=Mn(),h=zt(),p="yAxis",g=ke(z=>CL(z,e)),b=ke(z=>_te(z,e)),_=ke(z=>IL(z,p,e,f)),S=ke(z=>uL(z,e));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!g||DA(i)||x.isValidElement(i)||S==null)){var z=s.current;if(z){var N=z.getCalculatedWidth();Math.round(g.width)!==Math.round(N)&&h(koe({id:e,width:N}))}}},[_,g,h,i,e,r,S]),g==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:E,scale:C}=t,$=AM(t,efe),{id:D,scale:U}=S,B=AM(S,tfe);return x.createElement(tT,X_({},$,B,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:tt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},afe={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,angle:Qn.angle,axisLine:Ls.axisLine,hide:!1,includeHidden:Qn.includeHidden,interval:Qn.interval,minTickGap:Qn.minTickGap,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,tickLine:Ls.tickLine,tickSize:Ls.tickSize,type:Qn.type,width:Qn.width,yAxisId:0},sfe=t=>{var e=Xt(t,afe);return x.createElement(x.Fragment,null,x.createElement(rfe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),x.createElement(ife,e))},nd=x.memo(sfe,v9);nd.displayName="YAxis";var ofe=(t,e)=>e,sT=ae([ofe,nt,wd,Fn,WL,lo,Mne,Bn],Bne),oT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},y9=qi("mouseClick"),b9=sm();b9.startListening({actionCreator:y9,effect:(t,e)=>{var n=t.payload,r=sT(e.getState(),oT(n));r?.activeIndex!=null&&e.dispatch(kte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Q_=qi("mouseMove"),x9=sm(),xg=null;x9.startListening({actionCreator:Q_,effect:(t,e)=>{var n=t.payload;xg!==null&&cancelAnimationFrame(xg);var r=oT(n);xg=requestAnimationFrame(()=>{var i=e.getState(),s=EA(i,i.tooltip.settings.shared);if(s==="axis"){var l=sT(i,r);l?.activeIndex!=null?e.dispatch(UL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch($L())}xg=null})}});function lfe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var TM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},w9=ti({name:"rootProps",initialState:TM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:TM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),cfe=w9.reducer,{updateOptions:ufe}=w9.actions,_9=ti({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:dfe}=_9.actions,ffe=_9.reducer,S9=qi("keyDown"),E9=qi("focus"),lT=sm();lT.startListening({actionCreator:S9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=AA(i,jd(n),xm(n),Em(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=lo(n);if(s==="Enter"){var h=Gv(n,"axis","hover",String(i.index));e.dispatch($_({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=Ete(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=u+b*g;if(!(f==null||_>=f.length||_<0)){var S=Gv(n,"axis","hover",String(_));e.dispatch($_({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});lT.startListening({actionCreator:E9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Gv(n,"axis","hover",String(s));e.dispatch($_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Li=qi("externalEvent"),A9=sm(),Ew=new Map;A9.startListening({actionCreator:Li,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=Ew.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:xne(u),activeDataKey:OA(u),activeIndex:ml(u),activeLabel:JL(u),activeTooltipIndex:ml(u),isTooltipActive:wne(u)};n(f,r)}finally{Ew.delete(i)}});Ew.set(i,l)}}});var hfe=ae([Ad],t=>t.tooltipItemPayloads),mfe=ae([hfe,Sm,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),T9=qi("touchMove"),j9=sm();j9.startListening({actionCreator:T9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=EA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=sT(r,oT({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(UL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(O3),g=(u=h.getAttribute(P3))!==null&&u!==void 0?u:void 0,b=Td(r).find(A=>A.id===g);if(p==null||b==null||g==null)return;var{dataKey:_}=b,S=mfe(r,p,g);e.dispatch(VL({activeDataKey:_,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var pfe=Q5({brush:jle,cartesianAxis:Moe,chartData:bre,errorBars:Ece,graphicalItems:qse,layout:HG,legend:ZW,options:mre,polarAxis:jae,polarOptions:ffe,referenceElements:kle,rootProps:cfe,tooltip:Mte,zIndex:nre}),gfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gG({reducer:pfe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([b9.middleware,x9.middleware,lT.middleware,A9.middleware,j9.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(f3({type:"raf"}))},devTools:{serialize:{replacer:lfe},name:"recharts-".concat(n)}})};function N9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Mn(),s=x.useRef(null);if(i)return n;s.current==null&&(s.current=gfe(e,r));var l=gE;return x.createElement(Jce,{context:l,store:s.current},n)}function vfe(t){var{layout:e,margin:n}=t,r=zt(),i=Mn();return x.useEffect(()=>{i||(r(BG(e)),r(UG(n)))},[r,i,e,n]),null}var C9=x.memo(vfe,Om);function O9(t){var e=zt();return x.useEffect(()=>{e(ufe(t))},[e,t]),null}function jM(t){var{zIndex:e,isPanorama:n}=t,r=x.useRef(null),i=zt();return x.useLayoutEffect(()=>(r.current&&i(ere({zIndex:e,element:r.current,isPanorama:n})),()=>{i(tre({zIndex:e,isPanorama:n}))}),[i,e,n]),x.createElement("g",{tabIndex:-1,ref:r})}function NM(t){var{children:e,isPanorama:n}=t,r=ke(Fne);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return x.createElement(x.Fragment,null,i.map(l=>x.createElement(jM,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>x.createElement(jM,{key:l,zIndex:l,isPanorama:n})))}var yfe=["children"];function bfe(t,e){if(t==null)return{};var n,r,i=xfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(null,arguments)}var wfe={width:"100%",height:"100%",display:"block"},_fe=x.forwardRef((t,e)=>{var n=AE(),r=TE(),i=Y3();if(!Qa(n)||!Qa(r))return null;var{children:s,otherAttributes:l,title:u,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),x.createElement(iE,a0({},l,{title:u,desc:f,role:p,tabIndex:h,width:n,height:r,style:wfe,ref:e}),s)}),Sfe=t=>{var{children:e}=t,n=ke(Y0);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return x.createElement(iE,{width:r,height:i,x:l,y:s},e)},CM=x.forwardRef((t,e)=>{var{children:n}=t,r=bfe(t,yfe),i=Mn();return i?x.createElement(Sfe,null,x.createElement(NM,{isPanorama:!0},n)):x.createElement(_fe,a0({ref:e},r),x.createElement(NM,{isPanorama:!1},n))});function Efe(){var t=zt(),[e,n]=x.useState(null),r=ke(lW);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ft(s)&&s!==r&&t(FG(s))}},[e,t,r]),n}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Afe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){Tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tfe(t,e,n){return(e=jfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}var Cfe=()=>(Nre(),null);function s0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Ofe=x.forwardRef((t,e)=>{var n,r,i=x.useRef(null),[s,l]=x.useState({containerWidth:s0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:s0((r=t.style)===null||r===void 0?void 0:r.height)}),u=x.useCallback((h,p)=>{l(g=>{var b=Math.round(h),_=Math.round(p);return g.containerWidth===b&&g.containerHeight===_?g:{containerWidth:b,containerHeight:_}})},[]),f=x.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var b=S=>{var{width:A,height:E}=S[0].contentRect;u(A,E)},_=new ResizeObserver(b);_.observe(h),i.current=_}},[e,u]);return x.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(W0,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",jc({ref:f},t)))}),Pfe=x.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=x.useState({containerWidth:s0(n),containerHeight:s0(r)}),l=x.useCallback((f,h)=>{s(p=>{var g=Math.round(f),b=Math.round(h);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=x.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return x.createElement(x.Fragment,null,x.createElement(W0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",jc({ref:u},t)))}),Ife=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return x.createElement(x.Fragment,null,x.createElement(W0,{width:n,height:r}),x.createElement("div",jc({ref:e},t)))}),Rfe=x.forwardRef((t,e)=>{var{width:n,height:r}=t;return Hs(n)||Hs(r)?x.createElement(Pfe,jc({},t,{ref:e})):x.createElement(Ife,jc({},t,{ref:e}))});function kfe(t){return t===!0?Ofe:Rfe}var Mfe=x.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:_,onTouchMove:S,onTouchStart:A,style:E,width:C,responsive:$,dispatchTouchEvents:D=!0}=t,U=x.useRef(null),B=zt(),[z,N]=x.useState(null),[j,R]=x.useState(null),I=Efe(),O=EE(),L=O?.width>0?O.width:C,M=O?.height>0?O.height:i,ie=x.useCallback(ne=>{I(ne),typeof e=="function"&&e(ne),N(ne),R(ne),ne!=null&&(U.current=ne)},[I,e,N,R]),Q=x.useCallback(ne=>{B(y9(ne)),B(Li({handler:s,reactEvent:ne}))},[B,s]),K=x.useCallback(ne=>{B(Q_(ne)),B(Li({handler:h,reactEvent:ne}))},[B,h]),ee=x.useCallback(ne=>{B($L()),B(Li({handler:p,reactEvent:ne}))},[B,p]),se=x.useCallback(ne=>{B(Q_(ne)),B(Li({handler:g,reactEvent:ne}))},[B,g]),Y=x.useCallback(()=>{B(E9())},[B]),Z=x.useCallback(ne=>{B(S9(ne.key))},[B]),V=x.useCallback(ne=>{B(Li({handler:l,reactEvent:ne}))},[B,l]),X=x.useCallback(ne=>{B(Li({handler:u,reactEvent:ne}))},[B,u]),W=x.useCallback(ne=>{B(Li({handler:f,reactEvent:ne}))},[B,f]),G=x.useCallback(ne=>{B(Li({handler:b,reactEvent:ne}))},[B,b]),fe=x.useCallback(ne=>{B(Li({handler:A,reactEvent:ne}))},[B,A]),ge=x.useCallback(ne=>{D&&B(T9(ne)),B(Li({handler:S,reactEvent:ne}))},[B,D,S]),oe=x.useCallback(ne=>{B(Li({handler:_,reactEvent:ne}))},[B,_]),Oe=kfe($);return x.createElement(sz.Provider,{value:z},x.createElement(m5.Provider,{value:j},x.createElement(Oe,{width:L??E?.width,height:M??E?.height,className:tt("recharts-wrapper",r),style:Afe({position:"relative",cursor:"default",width:L,height:M},E),onClick:Q,onContextMenu:V,onDoubleClick:X,onFocus:Y,onKeyDown:Z,onMouseDown:W,onMouseEnter:K,onMouseLeave:ee,onMouseMove:se,onMouseUp:G,onTouchEnd:oe,onTouchMove:ge,onTouchStart:fe,ref:ie},x.createElement(Cfe,null),n)))}),Dfe=["width","height","responsive","children","className","style","compact","title","desc"];function Lfe(t,e){if(t==null)return{};var n,r,i=zfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var P9=x.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:f,title:h,desc:p}=t,g=Lfe(t,Dfe),b=Wt(g);return f?x.createElement(x.Fragment,null,x.createElement(W0,{width:n,height:r}),x.createElement(CM,{otherAttributes:b,title:h,desc:p},s)):x.createElement(Mfe,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(CM,{otherAttributes:b,title:h,desc:p,ref:e},x.createElement(Dle,null,s)))});function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(null,arguments)}var Vfe={top:5,right:5,bottom:5,left:5},$fe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Vfe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ufe=x.forwardRef(function(e,n){var r,i=Xt(e.categoricalChartProps,$fe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(N9,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},x.createElement(Kz,{chartData:h.data}),x.createElement(C9,{layout:i.layout,margin:i.margin}),x.createElement(O9,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(P9,J_({},i,{ref:n})))});function Bfe(t){var e=zt();return x.useEffect(()=>{e(dfe(t))},[e,t]),null}var qfe=["layout"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(null,arguments)}function Ffe(t,e){if(t==null)return{};var n,r,i=Hfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kfe={top:5,right:5,bottom:5,left:5},cT={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Kfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},I9=x.forwardRef(function(e,n){var r,i=Xt(e.categoricalChartProps,cT),{layout:s}=i,l=Ffe(i,qfe),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(N9,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},x.createElement(Kz,{chartData:i.data}),x.createElement(C9,{layout:s,margin:i.margin}),x.createElement(O9,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Bfe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(P9,Z_({},l,{ref:n})))});function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){Yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yfe(t,e,n){return(e=Gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=Wfe(t,"string");return typeof e=="symbol"?e:e+""}function Wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xfe=["item"],Qfe=IM(IM({},cT),{},{layout:"centric",startAngle:0,endAngle:360}),Jfe=x.forwardRef((t,e)=>{var n=Xt(t,Qfe);return x.createElement(I9,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xfe,tooltipPayloadSearcher:MA,categoricalChartProps:n,ref:e})});function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e,n){return(e=ehe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ehe(t){var e=the(t,"string");return typeof e=="symbol"?e:e+""}function the(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nhe=["axis"],rhe=kM(kM({},cT),{},{layout:"centric",startAngle:90,endAngle:-270}),ihe=x.forwardRef((t,e)=>{var n=Xt(t,rhe);return x.createElement(I9,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nhe,tooltipPayloadSearcher:MA,categoricalChartProps:n,ref:e})}),ahe=["axis"],uT=x.forwardRef((t,e)=>x.createElement(Ufe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ahe,tooltipPayloadSearcher:MA,categoricalChartProps:t,ref:e}));const she=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ohe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),MM=t=>{const e=ohe(t);return e.charAt(0).toUpperCase()+e.slice(1)},R9=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lhe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var che={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uhe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},f)=>x.createElement("svg",{ref:f,...che,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:R9("lucide",i),...!s&&!lhe(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>x.createElement(h,p)),...Array.isArray(s)?s:[s]]));const Me=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(uhe,{ref:s,iconNode:e,className:R9(`lucide-${she(MM(t))}`,`lucide-${t}`,r),...i}));return n.displayName=MM(t),n};const dhe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ga=Me("activity",dhe);const fhe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dT=Me("arrow-left",fhe);const hhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Im=Me("arrow-right",hhe);const mhe=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ah=Me("award",mhe);const phe=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fT=Me("ban",phe);const ghe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vhe=Me("bell",ghe);const yhe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bhe=Me("briefcase",yhe);const xhe=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],whe=Me("bug",xhe);const _he=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],She=Me("calculator",_he);const Ehe=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ahe=Me("calendar-off",Ehe);const The=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],co=Me("calendar",The);const jhe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Aw=Me("chevron-down",jhe);const Nhe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hT=Me("chevron-left",Nhe);const Che=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k9=Me("chevron-right",Che);const Ohe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rd=Me("circle-alert",Ohe);const Phe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Js=Me("circle-check-big",Phe);const Ihe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],M9=Me("circle-question-mark",Ihe);const Rhe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],khe=Me("clipboard-check",Rhe);const Mhe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dhe=Me("clock",Mhe);const Lhe=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],D9=Me("coffee",Lhe);const zhe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],eS=Me("credit-card",zhe);const Vhe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],$h=Me("crown",Vhe);const $he=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],L9=Me("database",$he);const Uhe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zs=Me("dollar-sign",Uhe);const Bhe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],o0=Me("download",Bhe);const qhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fhe=Me("file-exclamation-point",qhe);const Hhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],z9=Me("file-text",Hhe);const Khe=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Yhe=Me("flame",Khe);const Ghe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Whe=Me("frown",Ghe);const Xhe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],V9=Me("funnel",Xhe);const Qhe=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],tS=Me("heart",Qhe);const Jhe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zhe=Me("key",Jhe);const eme=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tme=Me("layers",eme);const nme=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rme=Me("layout-dashboard",nme);const ime=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],DM=Me("layout-grid",ime);const ame=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rs=Me("loader-circle",ame);const sme=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fc=Me("lock",sme);const ome=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$9=Me("log-out",ome);const lme=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mT=Me("map-pin",lme);const cme=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],pT=Me("map",cme);const ume=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],dme=Me("medal",ume);const fme=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hme=Me("menu",fme);const mme=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],pme=Me("monitor",mme);const gme=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],vme=Me("music",gme);const yme=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],U9=Me("pen",yme);const bme=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xme=Me("play",bme);const wme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wg=Me("plus",wme);const _me=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nS=Me("refresh-cw",_me);const Sme=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],B9=Me("rotate-ccw",Sme);const Eme=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sl=Me("save",Eme);const Ame=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gT=Me("search",Ame);const Tme=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ay=Me("settings",Tme);const jme=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Nme=Me("shopping-bag",jme);const Cme=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ome=Me("smartphone",Cme);const Pme=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],id=Me("sparkles",Pme);const Ime=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rme=Me("square-check-big",Ime);const kme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Mme=Me("square-pen",kme);const Dme=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],LM=Me("star",Dme);const Lme=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],vi=Me("store",Lme);const zme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Pd=Me("target",zme);const Vme=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lg=Me("trash-2",Vme);const $me=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],q9=Me("trending-down",$me);const Ume=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ad=Me("trending-up",Ume);const Bme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sl=Me("triangle-alert",Bme);const qme=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Fme=Me("trophy",qme);const Hme=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],F9=Me("upload",Hme);const Kme=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rS=Me("user-check",Kme);const Yme=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gme=Me("user-cog",Yme);const Wme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],H9=Me("user-x",Wme);const Xme=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gl=Me("user",Xme);const Qme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Id=Me("users",Qme);const Jme=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sa=Me("x",Jme);const Zme=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],epe=Me("zap",Zme),Tw=[{id:"cyj",label:"CYJ",pathType:"legacy"},{id:"anniu",label:"",pathType:"standard"},{id:"yibo",label:"",pathType:"standard"}],fr={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},Nc=[{id:"dashboard",label:"",icon:rme},{id:"annual",label:"",icon:co},{id:"targets",label:"",icon:Pd},{id:"regional",label:"",icon:pT},{id:"store-analysis",label:"",icon:vi},{id:"ranking",label:"",icon:ad},{id:"audit",label:"",icon:khe},{id:"history",label:"",icon:z9},{id:"input",label:"",icon:F9},{id:"logs",label:"",icon:Ga},{id:"t-targets",label:"",icon:Gme},{id:"t-schedule",label:"",icon:Ahe},{id:"settings",label:"",icon:Ay}],tpe={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},zg={director:Nc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},npe=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},K9=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},vr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},hc=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},mr=t=>t?Number(t.toString().replace(/,/g,"")):0,ei=({children:t})=>d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),Pt=({title:t,subtitle:e,children:n,className:r=""})=>d.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&d.jsxs("div",{className:"mb-6",children:[t&&d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&d.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),rpe=({message:t,type:e,onClose:n})=>{x.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return d.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?d.jsx(Js,{size:20}):e==="error"?d.jsx(rd,{size:20}):d.jsx(vhe,{size:20}),d.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},ipe=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?d.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[d.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),d.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),d.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,nr=$M.createContext(null),ape=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const{currentBrand:f}=x.useContext(nr),h=x.useMemo(()=>{let _="cyj",S="CYJ";f&&(_=typeof f=="string"?f:f.id||"cyj",_.includes("anniu")?(_="anniu",S=""):_.includes("yibo")?(_="yibo",S=""):(_="cyj",S="CYJ"));let A={gradient:"from-amber-400 to-orange-600",shadow:"shadow-orange-200",activeBg:"bg-amber-50",activeText:"text-amber-700",iconColor:"text-amber-600",indicator:"bg-amber-500",logoChar:"C",Icon:$h};return _==="anniu"?A={gradient:"from-rose-400 to-pink-600",shadow:"shadow-rose-200",activeBg:"bg-rose-50",activeText:"text-rose-700",iconColor:"text-rose-600",indicator:"bg-rose-500",logoChar:"A",Icon:D9}:_==="yibo"&&(A={gradient:"from-yellow-400 to-yellow-600",shadow:"shadow-yellow-200",activeBg:"bg-yellow-50",activeText:"text-yellow-700",iconColor:"text-yellow-600",indicator:"bg-yellow-500",logoChar:"Y",Icon:id}),{id:_,label:S,theme:A}},[f]),{theme:p,label:g}=h,b=x.useMemo(()=>{if(!i)return[];if(i==="director")return Nc;const _=l[i]||[];return Nc.filter(S=>_.includes(S.id))},[i,l]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),d.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[d.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[d.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${p.gradient} rounded-xl flex items-center justify-center shadow-lg ${p.shadow} mr-3 shrink-0 transition-all duration-500`,children:h.id==="cyj"?d.jsx("span",{className:"text-white font-bold text-lg",children:"C"}):d.jsx(p.Icon,{size:18,className:"text-white"})}),d.jsxs("span",{className:`font-extrabold text-lg text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:[g," "]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:b.map(_=>{const S=_.icon,A=t===_.id;return d.jsxs("button",{onClick:()=>{e(_.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${A?`${p.activeBg} ${p.activeText} shadow-sm`:"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":_.label,children:[d.jsx(S,{size:22,className:`shrink-0 transition-colors ${A?p.iconColor:"text-stone-400 group-hover:text-stone-600"}`}),d.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:_.label}),A&&d.jsx("div",{className:`absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 ${p.indicator} rounded-l-full`})]},_.id)})}),d.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[d.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:d.jsx(gl,{size:20,className:"text-stone-400"})}),n&&d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),d.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:fr[i?.toUpperCase()]?.label||i})]})]}),d.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[d.jsx($9,{size:20}),n&&d.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},spe=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const{currentBrand:s}=x.useContext(nr),l=x.useMemo(()=>{const f=s?.id||"cyj";return f.includes("anniu")?"bg-rose-600 text-white shadow-rose-200":f.includes("yibo")?"bg-yellow-500 text-white shadow-yellow-200":"bg-stone-800 text-white shadow-stone-200"},[s]),u=x.useMemo(()=>{if(!r)return[];if(r==="director")return Nc;const f=n[r]||[];return Nc.filter(h=>f.includes(h.id))},[r,n]);return d.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto no-scrollbar",children:d.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[u.map(f=>{const h=f.icon,p=t===f.id;return d.jsxs("button",{onClick:()=>e(f.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${p?`${l} shadow-md`:"bg-stone-100 text-stone-500"}`,children:[d.jsx(h,{size:14}),f.label]},f.id)}),d.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[d.jsx($9,{size:14}),""]})]})})},ope={cyj:"16500",anniu:"8888",yibo:"9999"},lpe=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:f,currentBrandId:h,onSwitchBrand:p,therapists:g=[],hasSelectedBrand:b=!1})=>{const[_,S]=x.useState(!b),[A,E]=x.useState("director"),[C,$]=x.useState(""),[D,U]=x.useState(""),[B,z]=x.useState(""),[N,j]=x.useState(!1),[R,I]=x.useState(!1),[O,L]=x.useState(""),[M,ie]=x.useState(""),[Q,K]=x.useState(""),[ee,se]=x.useState(""),[Y,Z]=x.useState(""),[V,X]=x.useState(""),W=x.useMemo(()=>Tw.find(he=>he.id===h)||Tw[0],[h]),G=x.useMemo(()=>{switch(h){case"anniu":return{text:"text-rose-900",accent:"bg-rose-600 hover:bg-rose-700",border:"focus:border-rose-400",ring:"focus:ring-rose-100"};case"yibo":return{text:"text-yellow-900",accent:"bg-yellow-500 hover:bg-yellow-600",border:"focus:border-yellow-400",ring:"focus:ring-yellow-100"};default:return{text:"text-stone-800",accent:"bg-stone-800 hover:bg-stone-900",border:"focus:border-stone-400",ring:"focus:ring-stone-100"}}},[h]),fe=he=>{p&&p(he),setTimeout(()=>{S(!1)},150)};x.useEffect(()=>{K(""),se(""),Z("")},[A,h]);const ge=x.useMemo(()=>Q?n[Q]||[]:[],[Q,n]),oe=x.useMemo(()=>ee?g.filter(he=>he.store===ee):[],[ee,g]),Oe=async()=>{z(""),j(!0),await new Promise(he=>setTimeout(he,600));try{if(A==="director"){const he=ope[h]||"0000";C===he?t("director",{name:`${W.label}`}):z("")}else if(A==="trainer"){const he=u?.password||"0000";C===he?t("trainer",{name:""}):z("")}else if(A==="manager"){if(!D){z(""),j(!1);return}const he=r[D]||"0000";C===he?t("manager",{name:D}):z("")}else if(A==="store"){if(!D){z(""),j(!1);return}const he=e.find(Ne=>Ne.id===D);he&&he.password===C?t("store",{name:he.name,storeName:he.stores?.[0]||he.storeName,stores:he.stores}):z("")}}catch{z("")}finally{j(!1)}},ne=async()=>{z(""),j(!0),await new Promise(he=>setTimeout(he,600));try{if(!Y){z(""),j(!1);return}const he=g.find(Ne=>Ne.id===Y);he&&he.password===V?t("therapist",he):z(" ( 0000)")}catch{z("")}finally{j(!1)}},je=async()=>{if(z(""),!M||!O){z("");return}j(!0);let he=!1;if(A==="store"&&D){const Ce=e.find(ze=>ze.id===D);Ce&&Ce.password===O&&(he=!0)}else if(A==="manager"&&D)(r[D]||"0000")===O&&(he=!0);else if(A==="therapist"&&Y){const Ce=g.find(ze=>ze.id===Y);Ce&&Ce.password===O&&(he=!0)}else A==="trainer"&&(u?.password||"0000")===O&&(he=!0);if(!he){z(""),j(!1);return}let Ne=!1;A==="store"&&D?Ne=await i(D,M):A==="manager"&&D?Ne=await s(D,M):A==="therapist"&&Y?Ne=await l(Y,M):A==="trainer"&&(Ne=await f(M)),Ne?(alert(""),I(!1),ie(""),L(""),$(""),X("")):z(""),j(!1)},me=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 transition-all focus:border-stone-400 focus:ring-2 ${G.ring}`,ve=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 appearance-none transition-all focus:border-stone-400 focus:ring-2 ${G.ring} disabled:bg-stone-50 disabled:text-stone-400`;return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-stone-50 p-4 font-sans text-stone-800",children:[d.jsxs("div",{className:`w-full max-w-md bg-white p-8 rounded-2xl shadow-sm border border-stone-200 transition-all duration-500 transform 
          ${_?"opacity-0 scale-95 pointer-events-none absolute":"opacity-100 scale-100 relative"}
        `,children:[d.jsxs("button",{onClick:()=>S(!0),className:"absolute top-6 left-6 text-stone-400 hover:text-stone-600 transition-colors flex items-center gap-1 text-sm font-medium",children:[d.jsx(hT,{size:16})," "]}),d.jsxs("div",{className:"text-center mb-10 mt-2",children:[d.jsx("div",{className:"flex justify-center mb-4",children:h==="yibo"?d.jsx(id,{size:40,className:G.text,strokeWidth:1.5}):h==="anniu"?d.jsx(tS,{size:40,className:G.text,strokeWidth:1.5}):d.jsx($h,{size:40,className:G.text,strokeWidth:1.5})}),d.jsxs("h1",{className:`text-2xl font-bold tracking-tight ${G.text}`,children:[W.label," "]}),d.jsx("p",{className:"text-stone-400 text-sm mt-1",children:""})]}),d.jsx("div",{className:"flex justify-center mb-8 border-b border-stone-100 pb-1",children:Object.entries(fr).map(([he,Ne])=>d.jsxs("button",{onClick:()=>{E(Ne.id),z(""),$(""),U(""),I(!1),K(""),se(""),Z(""),X("")},className:`px-4 py-2 text-sm font-medium transition-all relative ${A===Ne.id?"text-stone-800":"text-stone-400 hover:text-stone-600"}`,children:[Ne.label,A===Ne.id&&d.jsx("span",{className:"absolute bottom-[-5px] left-0 w-full h-[2px] bg-stone-800 rounded-full"})]},he))}),d.jsx("div",{className:"space-y-4",children:A==="therapist"?d.jsxs(d.Fragment,{children:[R?d.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[d.jsx("input",{type:"password",value:O,onChange:he=>L(he.target.value),placeholder:"",className:me}),d.jsx("input",{type:"text",value:M,onChange:he=>ie(he.target.value),placeholder:"",className:me})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(mT,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:Q,onChange:he=>{K(he.target.value),se(""),Z("")},className:`${ve} pl-12`,children:[d.jsx("option",{value:"",children:""}),Object.keys(n).map(he=>d.jsxs("option",{value:he,children:[he,""]},he))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(vi,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:ee,onChange:he=>{se(he.target.value),Z("")},disabled:!Q,className:`${ve} pl-12`,children:[d.jsx("option",{value:"",children:""}),ge.map(he=>d.jsx("option",{value:he,children:he},he))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(rS,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsxs("select",{value:Y,onChange:he=>Z(he.target.value),disabled:!ee,className:`${ve} pl-12`,children:[d.jsx("option",{value:"",children:""}),oe.map(he=>d.jsx("option",{value:he.id,children:he.name},he.id))]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(fc,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),d.jsx("input",{type:"password",value:V,onChange:he=>X(he.target.value),placeholder:"",className:`${me} pl-12`,onKeyDown:he=>he.key==="Enter"&&ne()})]})]}),B&&d.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[d.jsx(rd,{size:14})," ",B]}),R?d.jsx("button",{onClick:je,disabled:N,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:N?d.jsx(Rs,{className:"animate-spin mx-auto"}):""}):d.jsx("button",{onClick:ne,disabled:N||!Y||!V,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${G.accent}`,children:N?d.jsx(Rs,{className:"animate-spin mx-auto"}):""}),Y&&d.jsx("button",{onClick:()=>{I(!R),z("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:R?"":"?"})]}):d.jsxs(d.Fragment,{children:[A==="manager"&&d.jsx("div",{className:"relative",children:d.jsxs("select",{value:D,onChange:he=>U(he.target.value),className:ve,children:[d.jsx("option",{value:"",children:""}),Object.keys(n).map(he=>d.jsx("option",{value:he,children:he},he))]})}),A==="store"&&d.jsx("div",{className:"relative",children:d.jsxs("select",{value:D,onChange:he=>U(he.target.value),className:ve,children:[d.jsx("option",{value:"",children:""}),e.map(he=>d.jsx("option",{value:he.id,children:he.name},he.id))]})}),R?d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"password",value:O,onChange:he=>L(he.target.value),placeholder:"",className:me}),d.jsx("input",{type:"text",value:M,onChange:he=>ie(he.target.value),placeholder:"",className:me})]}):d.jsx("input",{type:"password",value:C,onChange:he=>$(he.target.value),placeholder:"",className:me,onKeyDown:he=>he.key==="Enter"&&Oe()}),B&&d.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[d.jsx(rd,{size:14})," ",B]}),R?d.jsx("button",{onClick:je,disabled:N,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:N?d.jsx(Rs,{className:"animate-spin mx-auto"}):""}):d.jsx("button",{onClick:Oe,disabled:N,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${G.accent}`,children:N?d.jsx(Rs,{className:"animate-spin mx-auto"}):""}),(A==="store"||A==="manager"||A==="trainer")&&d.jsx("button",{onClick:()=>{I(!R),z("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:R?"":"?"})]})})]}),_&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-sm animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-lg p-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2 tracking-tight",children:""}),d.jsx("p",{className:"text-stone-400",children:""})]}),d.jsx("div",{className:"space-y-4",children:Tw.map(he=>{let Ne=$h,Ce="hover:border-stone-400 hover:bg-stone-50";he.id==="anniu"?(Ne=tS,Ce="hover:border-rose-200 hover:bg-rose-50 hover:text-rose-900"):he.id==="yibo"?(Ne=id,Ce="hover:border-yellow-200 hover:bg-yellow-50 hover:text-yellow-900"):Ce="hover:border-stone-400 hover:bg-stone-50 hover:text-stone-900";const ze=Ne;return d.jsxs("button",{onClick:()=>fe(he.id),className:`w-full flex items-center justify-between p-6 rounded-xl border border-stone-200 bg-white transition-all duration-200 group ${Ce}`,children:[d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx(ze,{size:24,strokeWidth:1.5,className:"text-stone-400 group-hover:text-current transition-colors"}),d.jsx("div",{className:"text-left",children:d.jsx("h3",{className:"text-lg font-bold text-stone-700 group-hover:text-current transition-colors",children:he.label})})]}),d.jsx(Im,{size:20,className:"text-stone-300 group-hover:text-current transition-colors opacity-0 group-hover:opacity-100 transform group-hover:translate-x-1 duration-300"})]},he.id)})}),d.jsx("div",{className:"mt-12 text-center",children:d.jsx("p",{className:"text-[10px] text-stone-300 font-medium tracking-widest uppercase",children:"DRCYJ Cloud System"})})]})})]})},cpe=()=>{const{fmtMoney:t,fmtNum:e,targets:n,userRole:r,currentUser:i,allReports:s,budgets:l,managers:u,selectedYear:f,selectedMonth:h,therapistReports:p,currentBrand:g}=x.useContext(nr),[b,_]=x.useState(r==="therapist"||r==="trainer"?"therapist":"store"),{brandInfo:S,brandPrefix:A}=x.useMemo(()=>{let Q="CYJ",K="CYJ";g&&(typeof g=="string"?Q=g:typeof g=="object"&&(Q=g.id||"CYJ",K=g.name||g.label||Q));const ee=Q.toLowerCase();return ee.includes("anniu")||ee.includes("anew")?K="":ee.includes("yibo")?K="":K="CYJ",{brandInfo:{id:Q,name:K},brandPrefix:K}},[g]),E=x.useMemo(()=>Q=>Q?Q.replace(new RegExp(`^(${A}|CYJ|Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",[A]),C=x.useMemo(()=>r==="director"?Object.values(u).flat():r==="manager"&&i?u[i.name]||[]:r==="store"&&i?(i.stores||[i.storeName]).map(K=>E(K)).filter(K=>K):[],[r,i,u,E]),$=x.useMemo(()=>{if(!s)return null;const Q=parseInt(f),K=parseInt(h),ee=new Date(Q,K,0).getDate(),se=new Date;let Y=ee;se.getFullYear()===Q&&se.getMonth()+1===K?Y=se.getDate():se<new Date(Q,K-1,1)&&(Y=0);const Z={cash:0,accrual:0,operationalAccrual:0,skincareSales:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,budget:0,accrualBudget:0,dailyData:Array.from({length:ee},(ge,oe)=>({date:`${K}/${oe+1}`,day:oe+1,cash:0,traffic:0}))};s.forEach(ge=>{const oe=new Date(ge.date);if(oe.getFullYear()!==Q||oe.getMonth()+1!==K)return;const Oe=E(ge.storeName);if(!C.includes(Oe))return;const ne=(Number(ge.cash)||0)-(Number(ge.refund)||0),je=Number(ge.accrual)||0,me=Number(ge.traffic)||0;Z.cash+=ne,Z.accrual+=je,Z.operationalAccrual+=Number(ge.operationalAccrual)||0,Z.newCustomerSales+=Number(ge.newCustomerSales)||0,Z.skincareSales+=Number(ge.skincareSales)||0,Z.traffic+=me,Z.newCustomers+=Number(ge.newCustomers)||0,Z.newCustomerClosings+=Number(ge.newCustomerClosings)||0;const ve=oe.getDate()-1;Z.dailyData[ve]&&(Z.dailyData[ve].cash+=ne,Z.dailyData[ve].traffic+=me)}),C.forEach(ge=>{const Oe=`${`${A}${ge}`}_${Q}_${K}`,ne=l[Oe];ne&&(Z.budget+=Number(ne.cashTarget)||0,Z.accrualBudget+=Number(ne.accrualTarget)||0)});const V=Z.budget>0?Z.cash/Z.budget*100:0,X=Y>0?Math.round(Z.cash/Y*ee):0,W=Z.traffic>0?Math.round(Z.operationalAccrual/Z.traffic):0,G=Z.newCustomers>0?Math.round(Z.newCustomerSales/Z.newCustomers):0,fe=Z.dailyData.slice(0,Y===0?ee:Y);return{grandTotal:{cash:Z.cash,accrual:Z.accrual,operationalAccrual:Z.operationalAccrual,skincareSales:Z.skincareSales,traffic:Z.traffic,newCustomers:Z.newCustomers,newCustomerClosings:Z.newCustomerClosings,newCustomerSales:Z.newCustomerSales,budget:Z.budget,projection:X},dailyTotals:fe,totalAchievement:V,avgTrafficASP:W,avgNewCustomerASP:G,daysPassed:Y,daysInMonth:ee}},[s,l,f,h,C,A,E]),D=x.useMemo(()=>{if(r!=="store"&&r!=="manager"||!s)return[];const Q={},K=parseInt(f),ee=parseInt(h);s.forEach(Z=>{const V=new Date(Z.date);if(V.getFullYear()!==K||V.getMonth()+1!==ee)return;const X=Z.storeName;Q[X]||(Q[X]=0),Q[X]+=(Number(Z.cash)||0)-(Number(Z.refund)||0)});const se=Object.keys(Q).map(Z=>{const V=`${Z}_${K}_${ee}`,X=l[V],W=X?Number(X.cashTarget||0):0,G=Q[Z],fe=W>0?G/W*100:0;return{storeName:Z,actual:G,target:W,rate:fe}});return se.sort((Z,V)=>V.rate-Z.rate),se.map((Z,V)=>({...Z,rank:V+1,totalStores:se.length,isBottom5:V+1>se.length-5})).filter(Z=>{const V=E(Z.storeName);return C.includes(V)})},[r,s,C,l,f,h,E]),U=x.useMemo(()=>{if(!p)return{rankings:[],myStats:null,grandTotal:{}};const Q=p.filter(V=>{const X=V.date.replace(/-/g,"/"),W=new Date(X);return W.getFullYear()===parseInt(f)&&W.getMonth()+1===parseInt(h)}),K={};Q.forEach(V=>{const X=V.therapistId;K[X]||(K[X]={id:X,name:V.therapistName,store:V.storeName,totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,newCustomerCount:0,oldCustomerCount:0,newCustomerClosings:0,returnRevenue:0}),K[X].totalRevenue+=Number(V.totalRevenue)||0,K[X].serviceCount+=Number(V.serviceCount)||0,K[X].newCustomerRevenue+=Number(V.newCustomerRevenue)||0,K[X].oldCustomerRevenue+=Number(V.oldCustomerRevenue)||0,K[X].newCustomerCount+=Number(V.newCustomerCount)||0,K[X].oldCustomerCount+=Number(V.oldCustomerCount)||0,K[X].newCustomerClosings+=Number(V.newCustomerClosings)||0,K[X].returnRevenue+=Number(V.returnRevenue)||0});const ee=Object.values(K).map(V=>{const X=V.totalRevenue||1,W=Math.round(V.newCustomerRevenue/X*100),G=Math.round(V.oldCustomerRevenue/X*100),fe=V.newCustomerCount||1,ge=V.newCustomerClosings/fe*100,oe=V.oldCustomerCount||1,Oe=V.newCustomerRevenue/fe,ne=V.oldCustomerRevenue/oe;return{...V,revenueMix:`${W}% / ${G}%`,newClosingRate:ge,newAsp:Oe,oldAsp:ne}}).sort((V,X)=>X.totalRevenue-V.totalRevenue),se=ee.length;ee.forEach((V,X)=>{V.rank=X+1,V.totalPeers=se,V.rank<=3?V.status="TOP":V.rank>se-10?V.status="DANGER":V.status="NORMAL",V.gapToNext=X>0?ee[X-1].totalRevenue-V.totalRevenue:0});let Y=null;r==="therapist"&&i&&(Y=ee.find(V=>V.id===i.id));const Z=ee.reduce((V,X)=>({totalRevenue:V.totalRevenue+X.totalRevenue,serviceCount:V.serviceCount+X.serviceCount,newCustomerRevenue:V.newCustomerRevenue+X.newCustomerRevenue,oldCustomerRevenue:V.oldCustomerRevenue+X.oldCustomerRevenue,returnRevenue:V.returnRevenue+X.returnRevenue,count:V.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,returnRevenue:0,count:0});return{rankings:ee,myStats:Y,grandTotal:Z}},[p,f,h,r,i]),B=()=>{const Q=U.rankings.filter(W=>r!=="therapist"||W.id===i?.id),K=[",,,,,,,,,"],ee=Q.map(W=>[W.rank,W.name,W.store,W.totalRevenue,W.newCustomerRevenue,W.oldCustomerRevenue,`"${W.revenueMix}"`,`${W.newClosingRate.toFixed(0)}%`,Math.round(W.newAsp),Math.round(W.oldAsp)].join(",")),se="\uFEFF"+[K,...ee].join(`
`),Y=new Blob([se],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a"),V=URL.createObjectURL(Y),X=new Date().toISOString().split("T")[0];Z.setAttribute("href",V),Z.setAttribute("download",`${S.name}__${X}.csv`),Z.style.visibility="hidden",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},z=Q=>{if(!Q)return{title:"...",sub:"Data Loading..."};const{rank:K,totalPeers:ee,status:se,gapToNext:Y}=Q,Z=ee-K;return se==="TOP"?{title:K===1?"":"",sub:"",icon:$h}:se==="DANGER"?{title:` ${Z} `,sub:` ${t(Y)}`,icon:sl}:{title:` ${Z} `,sub:` ${t(Y)} `,icon:epe}};if(!$)return d.jsxs("div",{className:"flex h-96 items-center justify-center",children:[d.jsx(Rs,{className:"h-10 w-10 animate-spin text-stone-300"}),d.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});const{grandTotal:N,dailyTotals:j,totalAchievement:R,daysPassed:I,daysInMonth:O}=$,L=O>0?I/O*100:0,M=R-L,ie=({title:Q,value:K,subText:ee,icon:se,color:Y})=>d.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden h-full",children:[d.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${Y}`,children:d.jsx(se,{size:64})}),d.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:Q}),d.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:K})]}),ee&&d.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:ee})]})]});return d.jsx(ei,{children:d.jsxs("div",{className:"space-y-8 pb-10 w-full min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2 animate-in fade-in slide-in-from-left-2 duration-500",children:[d.jsx("div",{className:`w-2 h-8 rounded-full ${S.id.toLowerCase().includes("anniu")?"bg-teal-500":S.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),d.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[S.name," "]})]}),r!=="therapist"&&r!=="trainer"&&d.jsx("div",{className:"flex justify-center mb-4",children:d.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[d.jsxs("button",{onClick:()=>_("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(vi,{size:16})," "]}),d.jsxs("button",{onClick:()=>_("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(gl,{size:16})," "]})]})}),b==="store"&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r==="store"&&D.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:D.map(Q=>d.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${Q.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:Q.isBottom5?d.jsx(sl,{size:120}):d.jsx(Fme,{size:120})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:Q.isBottom5?d.jsx(Ga,{size:20,className:"text-white"}):d.jsx(dme,{size:20,className:"text-yellow-100"})}),d.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:Q.storeName}),Q.isBottom5&&d.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),d.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",Q.rank]}),d.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",Q.totalStores]})]})]}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),d.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[Q.rate.toFixed(0),"%"]})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[d.jsxs("span",{children:[": ",t(Q.actual)]}),d.jsxs("span",{children:[": ",t(Q.target)]})]})]})]},Q.storeName))}),r==="manager"&&D.length>0&&d.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[d.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:d.jsx(pT,{size:100})}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:d.jsx($h,{size:24,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),d.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),d.jsxs("div",{className:"relative z-10 text-right",children:[d.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),d.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:D.length})]})]}),d.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[d.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),d.jsx("th",{className:"p-3 sm:p-4",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),d.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),d.jsx("tbody",{children:D.map((Q,K)=>d.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${Q.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[d.jsx("td",{className:"p-3 sm:p-4 text-center",children:d.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${K===0?"bg-amber-100 text-amber-700":K===1?"bg-stone-200 text-stone-600":K===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:Q.rank})}),d.jsx("td",{className:"p-3 sm:p-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[d.jsx("span",{className:`font-bold text-sm sm:text-base ${Q.isBottom5?"text-rose-700":"text-stone-700"}`,children:Q.storeName}),Q.isBottom5&&d.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[d.jsx(sl,{size:10})," ",d.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),d.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:t(Q.actual)}),d.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:t(Q.target)}),d.jsx("td",{className:"p-3 sm:p-4 text-right",children:d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${Q.isBottom5?"text-rose-600":Q.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[Q.rate.toFixed(0),"%"]}),d.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${Q.isBottom5?"bg-rose-500":Q.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(Q.rate,100)}%`}})})]})})]},Q.storeName))})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:d.jsx(Ga,{size:16,className:"text-indigo-500"})}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),d.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",I," ",d.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",O]})]})]}),d.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${M>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[d.jsx("span",{className:"text-sm font-bold",children:M>=0?"":""}),d.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs(M).toFixed(0),"%"]})]})]}),d.jsxs("div",{className:"space-y-6 relative z-10",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:R>=L?"text-emerald-500":"text-rose-500",children:[R.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${R>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":R>=L?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(R,100)}%`}})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[d.jsx("span",{className:"text-stone-400",children:" ()"}),d.jsxs("span",{className:"text-stone-400",children:[L.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(L,100)}%`}})})]})]})]}),d.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[d.jsx(Pd,{size:14})," "]}),d.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:t(N.projection)}),d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:[N.budget>0?(N.projection/N.budget*100).toFixed(0):0,"%"]})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:d.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"font-mono font-bold text-stone-500",children:t(N.budget)})]})})]})})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[d.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(ie,{title:"",value:t(N.cash),icon:Zs,color:"text-amber-500",subText:d.jsxs("span",{className:`font-bold ${R>=100?"text-emerald-600":"text-amber-600"}`,children:[R.toFixed(0),"% "]})}),d.jsx(ie,{title:"",value:t(N.accrual),icon:eS,color:"text-cyan-500",subText:""}),d.jsx(ie,{title:"",value:t(N.skincareSales),icon:Nme,color:"text-rose-500",subText:d.jsxs(d.Fragment,{children:[" ",d.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[N.accrual>0?(N.skincareSales/N.accrual*100).toFixed(0):0,"%"]})]})})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[d.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[d.jsx(ie,{title:"",value:e(N.traffic),icon:Id,color:"text-blue-500",subText:""}),d.jsx(ie,{title:"",value:t($.avgTrafficASP),icon:ad,color:"text-indigo-500",subText:d.jsxs("span",{className:$.avgTrafficASP>=n.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[$.avgTrafficASP>=n.trafficASP?"":""," ( ",e(n.trafficASP),")"]})}),d.jsx(ie,{title:"",value:e(N.newCustomers),icon:id,color:"text-purple-500",subText:""}),d.jsx(ie,{title:"",value:e(N.newCustomerClosings),icon:Rme,color:"text-teal-500",subText:d.jsxs("span",{children:[" ",d.jsxs("span",{className:"font-bold",children:[N.newCustomers>0?(N.newCustomerClosings/N.newCustomers*100).toFixed(0):0,"%"]})]})}),d.jsx(ie,{title:"",value:t($.avgNewCustomerASP),icon:ah,color:"text-fuchsia-500",subText:d.jsxs("span",{className:$.avgNewCustomerASP>=n.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[$.avgNewCustomerASP>=n.newASP?"":""," ( ",e(n.newASP),")"]})})]})]}),d.jsx(Pt,{title:`${S.name} `,subtitle:" vs ",children:d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(uT,{data:j,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx(_y,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),d.jsx(Ey,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),d.jsx(nd,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:Q=>Q===0?"0":`$${(Q/1e3).toFixed(0)}k`}),d.jsx(nd,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:Q=>e(Q)}),d.jsx(kh,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(Q,K)=>K===""?[t(Q),K]:[e(Q),K]}),d.jsx(iT,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),d.jsx(td,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),b==="therapist"&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 w-full min-w-0",children:[U.myStats&&(()=>{const Q=z(U.myStats),K=U.myStats.status;let ee="bg-gradient-to-br from-indigo-600 to-purple-700",se="shadow-indigo-200";return K==="TOP"?(ee="bg-gradient-to-br from-amber-400 to-orange-500",se="shadow-amber-200"):K==="DANGER"&&(ee="bg-gradient-to-br from-rose-600 to-red-700",se="shadow-rose-200"),d.jsxs("div",{className:`${ee} rounded-3xl p-6 text-white shadow-xl ${se} relative overflow-hidden transition-all duration-500`,children:[" ",d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(Q.icon,{size:140})})," ",d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[" ",d.jsxs("div",{children:[" ",d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-1",children:[K==="DANGER"&&d.jsx(Yhe,{size:12,className:"animate-pulse"}),"No.",U.myStats.rank]}),d.jsxs("span",{className:"text-white/80 font-bold tracking-wider text-sm",children:[U.myStats.store,""]})]}),d.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:U.myStats.name}),d.jsxs("div",{className:"mt-2 p-3 bg-black/10 rounded-xl backdrop-blur-md border border-white/10 max-w-md",children:[d.jsxs("p",{className:"font-bold text-sm flex items-center gap-2",children:[K==="DANGER"&&d.jsx(Whe,{size:16}),Q.title]}),d.jsx("p",{className:"text-xs text-white/70 mt-1",children:Q.sub})]})," "]})," ",d.jsxs("div",{className:"flex gap-6 text-right",children:[" ",d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-bold",children:t(U.myStats.totalRevenue)})]})," ",d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),d.jsxs("p",{className:"text-3xl font-mono font-bold",children:[U.myStats.newClosingRate.toFixed(0),"%"]})]})," "]})," "]})," "]})})(),r!=="therapist"&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:[" ",d.jsx(ie,{title:"",value:t(U.grandTotal.totalRevenue),icon:Zs,color:"text-indigo-500",subText:`${U.grandTotal.count} `})," ",d.jsx(ie,{title:"",value:t(U.grandTotal.newCustomerRevenue),icon:id,color:"text-amber-500"})," ",d.jsx(ie,{title:"",value:t(U.grandTotal.oldCustomerRevenue),icon:ad,color:"text-cyan-500"})," ",d.jsx(ie,{title:"",value:`${Math.round(U.grandTotal.newCustomerRevenue/(U.grandTotal.totalRevenue||1)*100)}% / ${Math.round(U.grandTotal.oldCustomerRevenue/(U.grandTotal.totalRevenue||1)*100)}%`,icon:Ga,color:"text-fuchsia-500",subText:" / "})," ",d.jsx(ie,{title:"",value:t(U.grandTotal.returnRevenue),icon:Fhe,color:"text-rose-500"})," "]}),d.jsx(Pt,{title:"",subtitle:" ()",children:d.jsxs("div",{className:"grid grid-cols-1 w-full",children:[d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[d.jsx(o0,{size:16}),"  CSV"]})}),d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px] whitespace-nowrap",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100 bg-stone-50/50",children:[d.jsx("th",{className:"p-3 md:p-4 w-16 text-center",children:""}),d.jsx("th",{className:"p-3 md:p-4",children:""}),d.jsx("th",{className:"p-3 md:p-4",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),d.jsx("th",{className:"p-3 md:p-4 text-right",children:""})]})}),d.jsxs("tbody",{className:"text-sm",children:[U.rankings.filter(Q=>r!=="therapist"||Q.id===i?.id).map((Q,K)=>d.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${i?.id===Q.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[d.jsx("td",{className:"p-3 md:p-4 text-center",children:d.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${Q.rank<=3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":Q.status==="DANGER"?"bg-rose-100 text-rose-700 ring-4 ring-rose-50":"bg-stone-100 text-stone-500"}`,children:Q.rank})}),d.jsxs("td",{className:"p-3 md:p-4 font-bold text-stone-700 flex items-center gap-2",children:[Q.name,i?.id===Q.id&&d.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"}),Q.status==="DANGER"&&d.jsx("span",{className:"text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold",children:""})]}),d.jsxs("td",{className:"p-3 md:p-4 text-stone-500",children:[Q.store,""]}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-indigo-600",children:t(Q.totalRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(Q.newCustomerRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(Q.oldCustomerRevenue)}),d.jsx("td",{className:"p-3 md:p-4 text-center font-mono text-xs text-stone-400",children:Q.revenueMix}),d.jsxs("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-stone-700",children:[Q.newClosingRate.toFixed(0),"%"]}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(Q.newAsp))}),d.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(Q.oldAsp))})]},Q.id))," ",U.rankings.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:10,className:"p-8 text-center text-stone-400",children:""})})]})]})}),d.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[d.jsx(dT,{size:12}),"  ",d.jsx(Im,{size:12})]})]})})]})]})})},zM=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},upe=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=x.useState(()=>zM(t));x.useEffect(()=>{t&&l(zM(t))},[t]);const u=s.getFullYear(),f=s.getMonth(),h=new Date(u,f+1,0).getDate(),p=new Date(u,f,1).getDay(),g=A=>{const E=new Date(u,f,A),C=new Date;if(C.setHours(0,0,0,0),E>C)return"none";const $=`${u}-${String(f+1).padStart(2,"0")}-${String(A).padStart(2,"0")}`,D=r.filter(B=>B.date?B.date.replace(/\//g,"-")===$:!1);return!n||Array.isArray(n)&&n.length===0?"none":n.every(B=>{const z=Array.isArray(B.stores)?B.stores.map(j=>typeof j=="string"?j:j.name):[];return z.length===0?!0:D.some(j=>z.includes(j.storeName))})?"complete":"incomplete"},b=()=>{l(new Date(u,f-1,1))},_=()=>{l(new Date(u,f+1,1))},S=A=>{const E=`${u}-${String(f+1).padStart(2,"0")}-${String(A).padStart(2,"0")}`;e(E),i&&i()};return d.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("button",{onClick:b,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:d.jsx(hT,{size:20})}),d.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",f+1,""]}),d.jsx("button",{onClick:_,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:d.jsx(k9,{size:20})})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(A=>d.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:A},A))}),d.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((A,E)=>d.jsx("div",{},`empty-${E}`)),Array.from({length:h}).map((A,E)=>{const C=E+1,D=`${u}-${String(f+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`===t,U=g(C);return d.jsxs("button",{onClick:()=>S(C),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${D?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[C,!D&&U!=="none"&&d.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${U==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},C)})]}),i&&d.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},Y9=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=x.useState(!1),l=x.useRef(null);return x.useEffect(()=>{const u=f=>{window.innerWidth>=768&&l.current&&!l.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),d.jsxs("div",{className:"relative w-full",ref:l,children:[" ",d.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[d.jsx("span",{className:"text-lg",children:t}),d.jsx(co,{size:18,className:"text-stone-400 ml-auto"})]}),i&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),d.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:d.jsx(upe,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},Uu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},dpe=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u,getCollectionPath:f,currentBrand:h}=x.useContext(nr),[p,g]=x.useState(""),[b,_]=x.useState(""),S={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[A,E]=x.useState(S),[C,$]=x.useState(!1),[D,U]=x.useState(!1),[B,z]=x.useState(!1),[N,j]=x.useState(null),R={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},I=Uu(),O=x.useMemo(()=>{if(!h)return"CYJ";switch(typeof h=="string"?h:h.id){case"anniu":return"";case"yibo":return"";case"cyj":return"CYJ";default:return"CYJ"}},[h]);x.useEffect(()=>{E(S),_(""),g("")},[h]),x.useEffect(()=>{const Y=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const Z=Uu(),V=Object.values(A).every(X=>X==="");r!==Z&&V&&(console.log(`[] : ${r} -> ${Z}`),i(Z))}};return document.addEventListener("visibilitychange",Y),window.addEventListener("focus",Y),()=>{document.removeEventListener("visibilitychange",Y),window.removeEventListener("focus",Y)}},[r,A,i]),x.useEffect(()=>{const Y=typeof h=="string"?h:h?.id||"unknown",Z=localStorage.getItem(`input_draft_${Y}`);if(Z)try{const V=JSON.parse(Z);V.formData&&E(V.formData),V.store&&_(V.store),V.manager&&g(V.manager);const X=V.date;X===Uu()&&i(X)}catch(V){console.error(V)}},[h]),x.useEffect(()=>{const Y=typeof h=="string"?h:h?.id||"unknown",Z={formData:A,store:b,manager:p,date:r,timestamp:Date.now()};localStorage.setItem(`input_draft_${Y}`,JSON.stringify(Z))},[A,b,p,r,h]),x.useEffect(()=>{const Y=mr(A.operationalAccrual),Z=mr(A.skincareSales);E(V=>{const X=Y+Z;return mr(V.accrual)!==X?{...V,accrual:hc(X)}:V})},[A.operationalAccrual,A.skincareSales]);const L=(Y,Z)=>{const V=Z.replace(/,/g,"");/^\d*$/.test(V)&&E(X=>({...X,[Y]:hc(V)}))},M=x.useMemo(()=>p?(n[p]||[]).map(Y=>{let Z=Y.replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").replace(/$/,"");return`${O}${Z}`}):e==="store"&&t?(t.stores||[t.storeName]).map(Y=>{let Z=Y.replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").replace(/$/,"");return`${O}${Z}`}):[],[p,n,e,t,O]);x.useEffect(()=>{if(!b&&e==="store"&&t){const Y=t.stores||[t.storeName];if(Y.length>0){let Z=Y[0];Z=Z.replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").replace(/$/,"");const V=Object.keys(n).find(X=>n[X].some(W=>W.includes(Z)));V&&g(V),_(`${O}${Z}`)}}else!p&&e==="manager"&&t&&g(t.name)},[e,t,n,O]);const ie=()=>{if(confirm("")){E(S);const Y=typeof h=="string"?h:h?.id||"unknown";localStorage.removeItem(`input_draft_${Y}`),s("","info")}},Q=Y=>{if(Y.preventDefault(),!b)return s("","error");if(r>I)return s("","error");const Z=vr(r),V=u.find(X=>vr(X.date)===Z&&X.storeName===b);j(V?V.id:null),r!==I?z(!0):U(!0)},K=()=>{z(!1),U(!0)},ee=async()=>{$(!0);try{const Y=vr(r),Z=typeof h=="string"?h:h?.id||"unknown",V={date:Y,storeName:b,brandId:Z,...Object.keys(A).reduce((X,W)=>({...X,[W]:mr(A[W])}),{}),timestamp:gd(),submittedBy:t?.name||"unknown"};N?(await zn(Nr(f("daily_reports"),N),V),l(e,t?.name,"()",`${b} ${Y}`)):(await tE(f("daily_reports"),V),l(e,t?.name,"",`${b} ${Y}`)),E(S),localStorage.removeItem(`input_draft_${Z}`),U(!1),j(null),s("","success")}catch(Y){console.error(Y),s(": "+Y.message,"error")}finally{$(!1)}},se=Y=>d.jsxs("div",{children:[d.jsx("label",{className:`block text-xs font-bold mb-1.5 ${Y.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:R[Y]||Y}),d.jsx("input",{type:"text",value:A[Y],onChange:Z=>L(Y,Z.target.value),readOnly:Y==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${Y==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},Y);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[d.jsx(Js,{size:14}),"  (",O,")"]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),d.jsx(Y9,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),d.jsx("div",{className:"relative",children:d.jsxs("select",{value:p,onChange:Y=>{g(Y.target.value),_("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(n).map(Y=>d.jsxs("option",{value:Y,children:[Y,""]},Y))]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),d.jsx("div",{className:"relative",children:d.jsxs("select",{value:b,onChange:Y=>_(Y.target.value),disabled:!p,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[d.jsx("option",{value:"",children:"..."}),M.map(Y=>d.jsx("option",{value:Y,children:Y},Y))]})})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[d.jsx(z9,{size:20,className:"text-amber-500"}),d.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[d.jsx(tme,{size:14})," "]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[se("cash"),se("accrual"),se("operationalAccrual"),se("skincareSales")]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[d.jsx(Id,{size:14})," "]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[se("newCustomerSales"),se("traffic"),se("newCustomers"),se("newCustomerClosings")]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[d.jsx(q9,{size:14}),"  ()"]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[se("refund"),se("skincareRefund")]})]}),d.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[d.jsx("button",{onClick:ie,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:d.jsx(B9,{size:20})}),d.jsx("button",{onClick:Q,disabled:C,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70",children:C?d.jsx(Ga,{className:"animate-spin mx-auto"}):""})]})]}),B&&d.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[d.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[d.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:d.jsx(co,{size:32,className:"text-white"})}),d.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),d.jsxs("div",{className:"p-6 space-y-6 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),d.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:d.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[d.jsx(sl,{size:18,className:"shrink-0 mt-0.5"}),d.jsxs("span",{children:[" ",d.jsx("u",{children:""})," (",I,")",N&&d.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",d.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),d.jsx("button",{onClick:K,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),D&&d.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[d.jsx(rd,{})," "]}),d.jsx("button",{onClick:()=>U(!1),children:d.jsx(sa,{className:"text-white"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:r})]}),d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:b})]}),d.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["$",A.cash]})]}),d.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["$",A.accrual]})]})]}),N&&d.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsx("button",{onClick:ee,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900",children:""})]})]})]})})]})},fpe=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i,getCollectionPath:s,currentBrand:l}=x.useContext(nr),u={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[f,h]=x.useState(u),[p,g]=x.useState(!1),[b,_]=x.useState(!1),[S,A]=x.useState(!1),[E,C]=x.useState(!1),[$,D]=x.useState(null),U={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},B=Uu();x.useEffect(()=>{const I=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const O=Uu(),L=!f.newCustomerRevenue&&!f.oldCustomerRevenue;e!==O&&L&&(console.log(`[] : ${e} -> ${O}`),n(O))}};return document.addEventListener("visibilitychange",I),window.addEventListener("focus",I),()=>{document.removeEventListener("visibilitychange",I),window.removeEventListener("focus",I)}},[e,f,n]),x.useEffect(()=>{const I=typeof l=="string"?l:l?.id||"unknown",O=localStorage.getItem(`therapist_draft_${I}`);if(O)try{const L=JSON.parse(O);L.formData&&h(L.formData);const M=L.date;M===Uu()&&n(M)}catch(L){console.error(L)}},[l]),x.useEffect(()=>{const I=typeof l=="string"?l:l?.id||"unknown",O={formData:f,date:e,timestamp:Date.now()};localStorage.setItem(`therapist_draft_${I}`,JSON.stringify(O))},[f,e,l]),x.useEffect(()=>{const I=mr(f.newCustomerRevenue)||0,O=mr(f.oldCustomerRevenue)||0,L=mr(f.returnRevenue)||0,M=I+O-L;mr(f.totalRevenue)!==M&&h(ie=>({...ie,totalRevenue:hc(M)}))},[f.newCustomerRevenue,f.oldCustomerRevenue,f.returnRevenue]),x.useEffect(()=>{(async()=>{if(t?.id)try{const M=`${vr(e).replace(/\//g,"-")}_${t.id}`,ie=Nr(s("therapist_daily_reports"),M),Q=await wO(ie);_(Q.exists())}catch(O){console.error("",O)}})()},[e,t,s]);const z=(I,O)=>{const L=O.replace(/,/g,"");/^\d*$/.test(L)&&h(M=>({...M,[I]:hc(L)}))},N=()=>{if(!(f.newCustomerRevenue||f.oldCustomerRevenue||f.newCustomerCount||f.oldCustomerCount||f.returnRevenue))return r("","error");e!==B?C(!0):A(!0)},j=()=>{C(!1),A(!0)},R=async()=>{g(!0),D(null);try{if(!t||!t.id)throw new Error(" ID ");const I=vr(e),L=`${I.replace(/\//g,"-")}_${t.id}`,M=typeof l=="string"?l:l?.id||"unknown",ie={date:I,therapistId:t.id,therapistName:t.name,storeName:t.store||"",brandId:M,totalRevenue:mr(f.totalRevenue),newCustomerRevenue:mr(f.newCustomerRevenue),newCustomerCount:mr(f.newCustomerCount),newCustomerClosings:mr(f.newCustomerClosings),oldCustomerRevenue:mr(f.oldCustomerRevenue),oldCustomerCount:mr(f.oldCustomerCount),returnRevenue:mr(f.returnRevenue),updatedAt:gd()},Q=Nr(s("therapist_daily_reports"),L);if(await zn(Q,ie),(await wO(Q)).exists())i("therapist",t.name,"",`${I} `),r("","success"),_(!0),h(u),localStorage.removeItem(`therapist_draft_${M}`),A(!1);else throw new Error("")}catch(I){console.error(":",I),D({error:I.message,code:I.code||"unknown",path:"brands/.../therapist_daily_reports"}),r("","error")}finally{g(!1)}};return d.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[d.jsx(gl,{className:"text-indigo-200"})," ",t?.name," "]}),d.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),d.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:d.jsx(LM,{size:120})})]}),d.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:I=>n(I.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),b&&d.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[d.jsx(Js,{size:16}),"  (",e,") "]}),$&&d.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[d.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[d.jsx(whe,{})," "]}),d.jsx("p",{className:"text-rose-700 text-sm font-bold",children:$.error})]}),d.jsx(Pt,{title:"",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[d.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[d.jsx(She,{size:12})," ",U.totalRevenue," ()"]}),d.jsxs("div",{className:"relative",children:[d.jsx(Zs,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),d.jsx("input",{type:"text",value:f.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[d.jsx(LM,{size:12})," "]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:U.newCustomerRevenue}),d.jsx("input",{type:"text",value:f.newCustomerRevenue,onChange:I=>z("newCustomerRevenue",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:U.newCustomerCount}),d.jsx("input",{type:"text",value:f.newCustomerCount,onChange:I=>z("newCustomerCount",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:U.newCustomerClosings}),d.jsx("input",{type:"text",value:f.newCustomerClosings,onChange:I=>z("newCustomerClosings",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[d.jsx(Id,{size:12})," "]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:U.oldCustomerRevenue}),d.jsx("input",{type:"text",value:f.oldCustomerRevenue,onChange:I=>z("oldCustomerRevenue",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:U.oldCustomerCount}),d.jsx("input",{type:"text",value:f.oldCustomerCount,onChange:I=>z("oldCustomerCount",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[d.jsx(q9,{size:12})," ",U.returnRevenue]}),d.jsx("input",{type:"text",value:f.returnRevenue,onChange:I=>z("returnRevenue",I.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),d.jsxs("button",{onClick:N,disabled:p,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[p?d.jsx(Ga,{className:"animate-spin"}):d.jsx(F9,{size:20}),""]})]})}),E&&d.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[d.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[d.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:d.jsx(co,{size:32,className:"text-white"})}),d.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),d.jsxs("div",{className:"p-6 space-y-6 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),d.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),d.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:d.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[d.jsx(sl,{size:18,className:"shrink-0 mt-0.5"}),d.jsxs("span",{children:[" ",d.jsx("u",{children:""})," (",B,")",b&&d.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",d.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),d.jsx("button",{onClick:j,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),S&&d.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[d.jsx(rd,{})," "]}),d.jsx("button",{onClick:()=>A(!1),children:d.jsx(sa,{className:"text-white"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:e})]}),d.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[d.jsx("span",{children:""}),d.jsx("span",{children:t?.name})]}),d.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",f.totalRevenue||0]})]}),d.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:d.jsxs("span",{children:["( $",f.newCustomerRevenue||0," +  $",f.oldCustomerRevenue||0,")"]})}),d.jsxs("div",{className:"flex justify-between mt-2",children:[d.jsx("span",{className:"text-stone-500",children:""}),d.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",f.returnRevenue||0]})]})]})]}),b&&d.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[d.jsx(sl,{size:12})," "]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsx("button",{onClick:R,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md",children:""})]})]})]})})]})},hpe=()=>{const{userRole:t}=x.useContext(nr);return d.jsx(ei,{children:t==="therapist"?d.jsx(fpe,{}):d.jsx(dpe,{})})},mpe=()=>{const{showToast:t,managers:e,userRole:n,currentUser:r,getCollectionPath:i,getDocPath:s,currentBrand:l}=x.useContext(nr),[u,f]=x.useState(n==="trainer"||n==="therapist"?"therapist":"store"),[h,p]=x.useState([]),[g,b]=x.useState([]),[_,S]=x.useState(!1),A=()=>new Date().toISOString().split("T")[0],[E,C]=x.useState(A()),[$,D]=x.useState(A()),[U,B]=x.useState(""),[z,N]=x.useState(null),[j,R]=x.useState({}),I=G=>typeof G=="number"?G.toLocaleString():G,O=x.useMemo(()=>{let G="CYJ";if(l){const ge=(typeof l=="string"?l:l.id||"CYJ").toLowerCase();ge.includes("anniu")||ge.includes("anew")?G="":ge.includes("yibo")?G="":G="CYJ"}return G},[l]),L=x.useMemo(()=>n==="director"||n==="trainer"?null:n==="manager"&&r?(e[r.name]||[]).map(G=>G.trim()):n==="store"&&r?(r.stores||[r.storeName]).map(fe=>fe.replace(/CYJ|||Anew|Yibo|/gi,"").trim()):n==="therapist"&&r?[r.store]:[],[n,r,e]),M=x.useMemo(()=>{let G=[];return L!==null?G=L:G=Object.values(e).flat(),G.filter(fe=>fe).map(fe=>`${O}${fe}`).sort()},[e,L,O]);x.useEffect(()=>{M.length===1&&B(M[0])},[M]);const ie=G=>G?G.storeName||G.store||"":"",Q=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],K=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];x.useEffect(()=>{if(!E||!$)return;(async()=>{S(!0);try{const fe=u==="store"?"daily_reports":"therapist_daily_reports",ge=new Map,oe=i(fe),Oe=vh(oe,Cu("date",">=",E),Cu("date","<=",$),av("date","desc"));(await sv(Oe)).docs.forEach(Ce=>ge.set(Ce.id,{id:Ce.id,...Ce.data()}));const je=E.replace(/-/g,"/"),me=$.replace(/-/g,"/"),ve=vh(oe,Cu("date",">=",je),Cu("date","<=",me),av("date","desc"));(await sv(ve)).docs.forEach(Ce=>ge.set(Ce.id,{id:Ce.id,...Ce.data()}));const Ne=Array.from(ge.values()).sort((Ce,ze)=>ze.date.localeCompare(Ce.date));u==="store"?p(Ne):b(Ne)}catch(fe){console.error(fe),t(": "+fe.message,"error")}finally{S(!1)}})()},[u,E,$,i,t,l]);const ee=u==="store"?h:g,se=x.useMemo(()=>ee.filter(G=>{if(n==="therapist"){if(u!=="therapist"||G.therapistId!==r?.id)return!1}else if(L!==null){const ge=ne=>String(ne||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),oe=ge(ie(G));if(!L.some(ne=>oe===ge(ne)))return!1}let fe=!0;if(U){const ge=ne=>String(ne||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),oe=ge(U);fe=ge(ie(G))===oe}return fe}),[ee,U,L,n,r,u]),Y=G=>{N(G.id),R({...G,date:vr(G.date)})},Z=()=>{N(null),R({})},V=(G,fe)=>{R(ge=>{const oe={...ge,[G]:fe};if(u==="therapist"&&(G==="newCustomerRevenue"||G==="oldCustomerRevenue"||G==="returnRevenue")){const Oe=Number(oe.newCustomerRevenue||0),ne=Number(oe.oldCustomerRevenue||0),je=Number(oe.returnRevenue||0);oe.totalRevenue=Oe+ne-je}if(u==="store"&&(G==="operationalAccrual"||G==="skincareSales")){const Oe=Number(oe.operationalAccrual||0),ne=Number(oe.skincareSales||0);oe.accrual=Oe+ne}return oe})},X=async()=>{try{const fe=i(u==="store"?"daily_reports":"therapist_daily_reports"),ge=Nr(fe,z);let oe={};u==="store"?oe={...j,cash:Number(j.cash||0),accrual:Number(j.accrual||0),operationalAccrual:Number(j.operationalAccrual||0),skincareSales:Number(j.skincareSales||0),traffic:Number(j.traffic||0),newCustomers:Number(j.newCustomers||0),newCustomerClosings:Number(j.newCustomerClosings||0),newCustomerSales:Number(j.newCustomerSales||0),refund:Number(j.refund||0),skincareRefund:Number(j.skincareRefund||0)}:oe={...j,totalRevenue:Number(j.totalRevenue||0),newCustomerRevenue:Number(j.newCustomerRevenue||0),newCustomerCount:Number(j.newCustomerCount||0),newCustomerClosings:Number(j.newCustomerClosings||0),oldCustomerRevenue:Number(j.oldCustomerRevenue||0),oldCustomerCount:Number(j.oldCustomerCount||0),returnRevenue:Number(j.returnRevenue||0)},await ov(ge,oe),t("","success"),(u==="store"?p:b)(ne=>ne.map(je=>je.id===z?{...je,...oe}:je)),N(null)}catch{t("","error")}},W=async G=>{if(confirm("?"))try{const ge=i(u==="store"?"daily_reports":"therapist_daily_reports");await c5(Nr(ge,G)),t("","success"),(u==="store"?p:b)(Oe=>Oe.filter(ne=>ne.id!==G))}catch{t("","error")}};return d.jsx(ei,{children:d.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),d.jsx("span",{className:"px-2 py-1 bg-stone-100 text-stone-500 rounded text-xs font-bold",children:O})]}),d.jsx("span",{className:"hidden sm:inline text-stone-400",children:"|"}),d.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl w-full sm:w-auto",children:[n!=="trainer"&&n!=="therapist"&&d.jsxs("button",{onClick:()=>{f("store"),B("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(vi,{size:16})," "]}),d.jsxs("button",{onClick:()=>{f("therapist"),B("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[d.jsx(gl,{size:16})," "]})]})]}),d.jsx(Pt,{children:d.jsxs("div",{className:"space-y-4 w-full",children:[d.jsxs("div",{className:"flex flex-wrap items-end gap-4 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[d.jsxs("div",{className:"w-full md:w-auto flex-grow",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(co,{size:12})," "]}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full",children:[d.jsx("input",{type:"date",value:E,onChange:G=>C(G.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),d.jsx("span",{className:"text-stone-400 font-bold transform rotate-90 md:rotate-0",children:""}),d.jsx("input",{type:"date",value:$,onChange:G=>D(G.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[d.jsxs("div",{className:"flex-grow min-w-[150px]",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("select",{value:U,onChange:G=>B(G.target.value),disabled:M.length===1,className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400 h-[42px] disabled:bg-stone-100 disabled:text-stone-500",children:[M.length>1&&d.jsx("option",{value:"",children:""}),M.map(G=>d.jsx("option",{value:G,children:G},G))]})]}),d.jsx("div",{className:"flex items-end",children:d.jsxs("button",{onClick:()=>{C(A()),D(A()),M.length>1&&B("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm h-[42px] items-center justify-center whitespace-nowrap",children:[d.jsx(B9,{size:16})," ",d.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),d.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[d.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:d.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[d.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),u==="store"?Q.map(G=>d.jsx("th",{className:`p-4 text-right ${G.isNegative?"text-rose-500":""} ${G.width}`,children:G.label},G.key)):d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"p-4 min-w-[100px]",children:""}),K.map(G=>d.jsx("th",{className:`p-4 text-right ${G.isNegative?"text-rose-500":G.isHighlight?"text-indigo-600":""} ${G.width}`,children:G.label},G.key))]}),d.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),d.jsxs("tbody",{className:"divide-y divide-stone-100",children:[_&&d.jsx("tr",{children:d.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[d.jsx(Rs,{className:"animate-spin inline mr-2"}),"..."]})}),!_&&(!E||!$)&&d.jsx("tr",{children:d.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(gT,{size:24,className:"opacity-50"}),d.jsx("p",{className:"font-bold",children:""})]})})}),!_&&se.map(G=>{const fe=z===G.id,ge=ie(G).replace(/CYJ|||Anew|Yibo|/gi,"");return d.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:d.jsxs("div",{className:"flex flex-col",children:[fe?d.jsx("input",{type:"date",value:j.date,onChange:oe=>V("date",oe.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):d.jsx("span",{className:"font-mono font-bold text-stone-600",children:G.date}),d.jsxs("span",{className:"font-bold text-stone-800",children:[ge,""]})]})}),u==="store"?Q.map(oe=>d.jsx("td",{className:"p-4 text-right",children:fe?d.jsx("input",{type:"number",value:j[oe.key],onChange:Oe=>V(oe.key,Oe.target.value),readOnly:oe.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${oe.isNegative?"text-rose-500":""} ${oe.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):d.jsx("span",{className:oe.isNegative?"text-rose-500 font-bold":"",children:I(G[oe.key])})},oe.key)):d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"p-4 font-bold",children:G.therapistName}),K.map(oe=>d.jsx("td",{className:"p-4 text-right",children:fe?d.jsx("input",{type:"number",value:j[oe.key],onChange:Oe=>V(oe.key,Oe.target.value),readOnly:oe.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${oe.isNegative?"text-rose-500":oe.isHighlight?"font-bold text-indigo-600":""} ${oe.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):d.jsx("span",{className:oe.isNegative?"text-rose-500 font-bold":oe.isHighlight?"text-indigo-600 font-bold":"",children:I(G[oe.key])})},oe.key))]}),d.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:fe?d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{onClick:X,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:d.jsx(Sl,{size:16})}),d.jsx("button",{onClick:Z,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:d.jsx(sa,{size:16})})]}):d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{onClick:()=>Y(G),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:d.jsx(U9,{size:16})}),d.jsx("button",{onClick:()=>W(G.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:d.jsx(Lg,{size:16})})]})})]},G.id)}),!_&&se.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:" ()"})})]})]})}),d.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[d.jsx(dT,{size:12}),"  ",d.jsx(Im,{size:12})]})]})]})})]})})},ppe=()=>{const{fmtMoney:t,fmtNum:e,userRole:n,currentUser:r,currentBrand:i,allReports:s,managers:l,budgets:u,selectedYear:f,selectedMonth:h}=x.useContext(nr),{brandInfo:p,brandPrefix:g}=x.useMemo(()=>{let E="CYJ",C="CYJ";i&&(typeof i=="string"?E=i:typeof i=="object"&&(E=i.id||"CYJ",C=i.name||i.label||E));const $=E.toLowerCase();return $.includes("anniu")||$.includes("anew")?C="":$.includes("yibo")?C="":C="CYJ",{brandInfo:{id:E,name:C},brandPrefix:C}},[i]),b=E=>E?E.replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").replace(/$/,"").trim():"",_=x.useMemo(()=>{if(!s||!l)return null;const E=parseInt(f),C=parseInt(h),$=Object.keys(l||{}).map(D=>({manager:D||"",stores:[],cashTotal:0,accrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0,budgetTotal:0,achievement:0}));return $.forEach(D=>{(l[D.manager]||[]).forEach(B=>{const z=`${g}${B}`,N={name:z,cleanName:B,cashTotal:0,accrualTotal:0,budget:0,achievement:0};s.forEach(I=>{const O=new Date(I.date);if(O.getFullYear()!==E||O.getMonth()+1!==C||b(I.storeName)!==B)return;const M=(Number(I.cash)||0)-(Number(I.refund)||0),ie=Number(I.accrual)||0;N.cashTotal+=M,N.accrualTotal+=ie,D.cashTotal+=M,D.accrualTotal+=ie,D.skincareSalesTotal+=Number(I.skincareSales)||0,D.trafficTotal+=Number(I.traffic)||0,D.newCustomersTotal+=Number(I.newCustomers)||0,D.newCustomerClosingsTotal+=Number(I.newCustomerClosings)||0});const j=`${z}_${E}_${C}`,R=u[j];R&&(N.budget=Number(R.cashTarget)||0,D.budgetTotal+=N.budget),N.achievement=N.budget>0?N.cashTotal/N.budget*100:0,D.stores.push(N)}),D.achievement=D.budgetTotal>0?D.cashTotal/D.budgetTotal*100:0}),$.sort((D,U)=>U.cashTotal-D.cashTotal)},[s,l,u,f,h,g]),S=x.useMemo(()=>_?_.map(E=>({name:E.manager,value:E.cashTotal})).filter(E=>E.value>0):[],[_]),A=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return _?d.jsx(ei,{children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2",children:[d.jsx("div",{className:`w-2 h-8 rounded-full ${p.id.toLowerCase().includes("anniu")?"bg-teal-500":p.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),d.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[p.name," "]})]}),_.length===0&&d.jsxs("div",{className:"p-16 text-center text-stone-400 bg-white rounded-3xl border border-stone-100 shadow-sm mt-6 flex flex-col items-center",children:[d.jsx(pT,{size:48,className:"mb-4 text-stone-200"}),d.jsx("p",{className:"text-lg font-bold text-stone-600",children:""}),d.jsx("p",{className:"text-sm mt-2",children:""})]}),_.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:_.map(E=>d.jsxs(Pt,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg uppercase",children:E.manager?.charAt(0)||"-"}),d.jsx("div",{children:d.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[E.manager," "]})})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${E.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[(E.achievement||0).toFixed(0),"%"]})})]}),d.jsxs("div",{className:"space-y-3 mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-lg font-bold text-stone-700",children:t(E.cashTotal)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-base font-bold text-stone-600",children:t(E.accrualTotal)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-stone-500 text-sm",children:""}),d.jsx("span",{className:"text-base font-bold text-rose-500",children:t(E.skincareSalesTotal)})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(E.trafficTotal)})]}),d.jsxs("div",{className:"text-center border-l border-stone-200",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(E.newCustomersTotal)})]}),d.jsxs("div",{className:"text-center border-l border-stone-200",children:[d.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),d.jsx("p",{className:"text-stone-700 font-bold",children:e(E.newCustomerClosingsTotal)})]})]})]},E.manager))}),n==="director"&&_.length>0&&S.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:d.jsx(Pt,{title:` (${g})`,subtitle:"",children:d.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(Jfe,{children:[d.jsx($z,{data:S,cx:"50%",cy:"50%",labelLine:!0,label:({name:E,percent:C})=>`${E} ${(C*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:S.map((E,C)=>d.jsx(Tm,{fill:A[C%A.length]},`cell-${C}`))}),d.jsx(kh,{formatter:E=>t(E)}),d.jsx(Th,{verticalAlign:"bottom",height:36})]})})})})}):n!=="director"&&_.length>0?d.jsx("div",{className:"space-y-6",children:_.map(E=>n==="manager"&&r&&r.name!==E.manager?null:d.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[d.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:d.jsxs("h3",{className:"font-bold text-stone-700",children:[E.manager," "]})}),d.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(E.stores||[]).map(C=>d.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h4",{className:"font-bold text-stone-700",children:C.cleanName}),d.jsxs("span",{className:`text-sm font-bold ${(C.achievement||0)>=100?"text-emerald-600":"text-amber-500"}`,children:[(C.achievement||0).toFixed(0),"%"]})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-400",children:""}),d.jsx("span",{className:"font-bold",children:t(C.cashTotal)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-stone-400",children:""}),d.jsx("span",{className:"font-bold",children:t(C.accrualTotal)})]})]})]},C.name))})]},E.manager))}):null]})}):d.jsxs("div",{className:"flex h-96 items-center justify-center",children:[d.jsx(Rs,{className:"h-10 w-10 animate-spin text-stone-300"}),d.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]})},gpe=()=>{const{allReports:t,fmtMoney:e,fmtNum:n,budgets:r,selectedYear:i,selectedMonth:s,managers:l,auditExclusions:u,handleUpdateAuditExclusions:f,showToast:h,currentBrand:p}=x.useContext(nr),[g,b]=x.useState({key:"achievement",direction:"desc"}),[_,S]=x.useState(!1),[A,E]=x.useState([]),C=x.useMemo(()=>{let O="CYJ";if(p){const M=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();M.includes("anniu")||M.includes("anew")?O="":M.includes("yibo")?O="":O="CYJ"}return O},[p]),$=O=>O?O.replace(new RegExp(`^(${C}|CYJ|||Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",D=()=>{E(u||[]),S(!0)},U=async()=>{await f(A),S(!1),h("","success")},B=O=>{E(L=>L.includes(O)?L.filter(M=>M!==O):[...L,O])},z=x.useMemo(()=>{if(!t)return[];const O=parseInt(i),L=parseInt(s),M={};t.forEach(Q=>{const K=new Date(Q.date);if(K.getFullYear()!==O||K.getMonth()+1!==L)return;const ee=Q.storeName;if(!ee)return;M[ee]||(M[ee]={name:ee,displayName:$(ee),manager:"",cashTotal:0,refundTotal:0,accrualTotal:0,operationalAccrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0});const se=M[ee];se.cashTotal+=Number(Q.cash)||0,se.refundTotal+=Number(Q.refund)||0,se.accrualTotal+=Number(Q.accrual)||0,se.operationalAccrualTotal+=Number(Q.operationalAccrual)||0,se.skincareSalesTotal+=Number(Q.skincareSales)||0,se.trafficTotal+=Number(Q.traffic)||0,se.newCustomersTotal+=Number(Q.newCustomers)||0,se.newCustomerClosingsTotal+=Number(Q.newCustomerClosings)||0});let ie=Object.values(M).map(Q=>{const K=Q.displayName,ee=Object.keys(l).find(W=>l[W].includes(K));Q.manager=ee||"";const se=Q.cashTotal-Q.refundTotal;Q.cashTotal=se;const Y=`${Q.name}_${O}_${L}`,Z=r[Y],V=Z?Number(Z.cashTarget||0):0,X=Z?Number(Z.accrualTarget||0):0;return{...Q,cashTarget:V,achievement:V>0?se/V*100:0,accrualTarget:X,accrualAchievement:X>0?Q.accrualTotal/X*100:0,trafficASP:Q.trafficTotal>0?Math.round(Q.operationalAccrualTotal/Q.trafficTotal):0}});return ie=ie.filter(Q=>!(u||[]).includes(Q.displayName)),ie},[t,r,i,s,u,l,C]),N=x.useMemo(()=>{let O=[...z];return g.key&&O.sort((L,M)=>{const ie=L[g.key]||0,Q=M[g.key]||0;return ie<Q?g.direction==="ascending"?-1:1:ie>Q?g.direction==="ascending"?1:-1:0}),O},[z,g]),j=O=>b({key:O,direction:g.key===O&&g.direction==="desc"?"ascending":"desc"}),R=()=>{const O=[",,,,,,,,,,,,"],L=N.map((ee,se)=>[se+1,ee.displayName,ee.manager,ee.cashTotal||0,(ee.achievement||0).toFixed(2)+"%",ee.accrualTotal||0,ee.accrualTarget||0,(ee.accrualAchievement||0).toFixed(2)+"%",ee.skincareSalesTotal||0,ee.trafficTotal||0,ee.trafficASP||0,ee.newCustomersTotal||0,ee.newCustomerClosingsTotal||0].join(",")),M="\uFEFF"+[O,...L].join(`
`),ie=new Blob([M],{type:"text/csv;charset=utf-8;"}),Q=URL.createObjectURL(ie),K=document.createElement("a");K.href=Q,K.download=`${C}__${new Date().toISOString().split("T")[0]}.csv`,K.click()},I=({store:O,index:L})=>d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm mb-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-stone-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${L<3?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-500"}`,children:L+1}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700 text-lg",children:O.displayName}),d.jsxs("p",{className:"text-xs text-stone-400",children:[O.manager,""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-xs text-stone-400 font-bold uppercase",children:""}),d.jsxs("div",{className:`text-xl font-mono font-bold ${O.achievement>=100?"text-emerald-500":"text-stone-700"}`,children:[O.achievement.toFixed(1),"%"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(Zs,{size:10})," "]}),d.jsx("p",{className:"font-mono font-bold text-stone-700",children:e(O.cashTotal)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(bhe,{size:10})," "]}),d.jsxs("p",{className:`font-mono font-bold ${O.accrualAchievement>=100?"text-emerald-600":"text-blue-600"}`,children:[O.accrualAchievement.toFixed(1),"%"]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(ad,{size:10})," "]}),d.jsx("p",{className:"font-mono font-bold text-stone-600",children:e(O.accrualTotal)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[d.jsx(Id,{size:10})," /"]}),d.jsxs("p",{className:"font-mono text-stone-600 text-sm",children:[n(O.trafficTotal)," / ",d.jsx("span",{className:"text-stone-800 font-bold",children:n(O.newCustomersTotal)})]})]})]})]});return d.jsxs(ei,{children:[d.jsxs(Pt,{title:`${C} `,subtitle:"",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mb-4 gap-2",children:[d.jsxs("button",{onClick:D,className:"flex items-center justify-center gap-2 px-4 py-2 bg-stone-100 text-stone-600 rounded-xl text-sm font-bold hover:bg-stone-200 transition-colors",children:[d.jsx(Ay,{size:16})," "]}),d.jsxs("button",{onClick:R,className:"flex items-center justify-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[d.jsx(o0,{size:16}),"  CSV"]})]}),d.jsx("div",{className:"block md:hidden",children:N.map((O,L)=>d.jsx(I,{store:O,index:L},O.name))}),d.jsx("div",{className:"hidden md:block w-full overflow-hidden rounded-2xl border border-stone-100",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[d.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase sticky top-0 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-16 text-center",children:""}),d.jsx("th",{className:"p-4 cursor-pointer hover:text-stone-700",onClick:()=>j("displayName"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("cashTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("achievement"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>j("accrualTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>j("accrualAchievement"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("trafficTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("newCustomersTotal"),children:""}),d.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>j("newCustomerClosingsTotal"),children:""})]})}),d.jsxs("tbody",{className:"text-sm divide-y divide-stone-50",children:[N.map((O,L)=>d.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:L+1}),d.jsx("td",{className:"p-4 font-bold text-stone-700",children:O.displayName}),d.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(O.cashTotal)}),d.jsxs("td",{className:`p-4 text-right font-mono font-bold ${O.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[O.achievement.toFixed(1),"%"]}),d.jsx("td",{className:"p-4 text-right font-mono font-bold text-blue-600",children:e(O.accrualTotal)}),d.jsxs("td",{className:`p-4 text-right font-mono font-bold ${O.accrualAchievement>=100?"text-emerald-500":"text-blue-400"}`,children:[O.accrualAchievement.toFixed(1),"%"]}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(O.trafficTotal)}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(O.newCustomersTotal)}),d.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(O.newCustomerClosingsTotal)})]},O.name)),N.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:13,className:"p-8 text-center text-stone-400",children:""})})]})]})})})]}),_&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(fT,{size:20,className:"text-rose-400"}),"  (",C,")"]}),d.jsx("button",{onClick:()=>S(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(sa,{size:20})})]}),d.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(l).map(([O,L])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[O," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:L.map(M=>{const ie=A.includes(M);return d.jsxs("button",{onClick:()=>B(M),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${ie?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[ie&&d.jsx(Js,{size:14}),M]},M)})})]},O))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>S(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:U,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Xl={default:{financial:{min:80,max:120,label:""},sales:{min:10,max:45,label:""},loyalty:{min:50,max:80,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}},:{financial:{min:70,max:110,label:""},sales:{min:10,max:40,label:""},loyalty:{min:30,max:60,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}},:{financial:{min:70,max:110,label:""},sales:{min:10,max:40,label:""},loyalty:{min:30,max:60,label:""},mining:{min:80,max:120,label:""},acquisition:{min:80,max:120,label:""}}},vpe=()=>{const{rawData:t,budgets:e,managers:n,targets:r,selectedYear:i,selectedMonth:s,fmtMoney:l,fmtNum:u,currentUser:f,userRole:h,activeView:p,currentBrand:g}=x.useContext(nr),[b,_]=x.useState(""),[S,A]=x.useState(""),[E,C]=x.useState(!0),{brandPrefix:$,brandId:D}=x.useMemo(()=>{let Y="CYJ",Z="default";if(g){const X=(typeof g=="string"?g:g.id||"CYJ").toLowerCase();X.includes("anniu")||X.includes("anew")?(Y="",Z=""):X.includes("yibo")?(Y="",Z=""):(Y="CYJ",Z="default")}return{brandPrefix:Y,brandId:Z}},[g]),U=x.useCallback(Y=>Y?String(Y).replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo|Ann)\s*/i,"").replace(/$/,"").trim():"",[]),B=x.useMemo(()=>{const Y=r?.benchmarks||{},Z=Y[D]||Y.default||Xl[D]||Xl.default;return{financial:{...Xl.default.financial,...Z?.financial},sales:{...Xl.default.sales,...Z?.sales},loyalty:{...Xl.default.loyalty,...Z?.loyalty},mining:{...Xl.default.mining,...Z?.mining},acquisition:{...Xl.default.acquisition,...Z?.acquisition}}},[D,r]),z=h==="director"||h==="trainer"||h==="manager",N=x.useMemo(()=>{const Y=n||{};if(D==="default")return Object.keys(Y).filter(V=>!(Y[V]||[]).some(G=>/|Anew||Yibo/i.test(String(G||""))));const Z=new Set;return Object.keys(Y).forEach(V=>{const X=Y[V]||[];(D===""?X.some(G=>/|Anew|Ann/i.test(String(G||""))):X.some(G=>/|Yibo/i.test(String(G||""))))&&Z.add(V)}),Z.size===0&&t&&t.forEach(V=>{const X=V.storeName||"";if(D===""?/|Anew|Ann/i.test(String(X)):/|Yibo/i.test(String(X))){const G=U(X);Object.keys(Y).forEach(fe=>{(Y[fe]||[]).some(oe=>U(oe)===G)&&Z.add(fe)})}}),Z.size===0?Object.keys(Y):Array.from(Z)},[n,D,t,U]);x.useEffect(()=>{if(p==="store-analysis")if(h==="store"&&f){const Y=f.stores?.[0]||f.storeName;if(Y){const Z=U(Y),V=`${$}${Z}`;A(V)}}else h==="manager"&&f&&_(f.name||"")},[p,f,h,$,U]),x.useEffect(()=>{const Y=Z=>A(Z.detail);return window.addEventListener("navigate-to-store",Y),()=>window.removeEventListener("navigate-to-store",Y)},[]);const j=x.useMemo(()=>{const Y=n||{},Z=V=>V?`${$}${U(V)}`:"";return h==="director"||h==="trainer"?b?(Y[b]||[]).map(Z).filter(Boolean):N.flatMap(X=>Y[X]||[]).map(Z).filter(Boolean):h==="manager"?Object.values(Y).flat().map(Z).filter(Boolean):h==="store"&&f?(f.stores||(f.storeName?[f.storeName]:[])).map(X=>Z(X)).filter(Boolean):[]},[b,n,f,h,$,N,U]);x.useEffect(()=>{h==="store"&&f&&j.length>0&&(!S||!j.includes(S))&&A(j[0])},[f,j,S,h]);const R=x.useMemo(()=>{if(!z||!t)return null;const Y=n||{};let Z=[];if(h==="manager"&&f?Z=Y[f.name]||[]:(h==="director"||h==="trainer")&&(Z=N.flatMap(me=>Y[me]||[])),Z.length===0)return null;const V=parseInt(i),X=parseInt(s),W=V-1911,G={};Z.forEach(me=>{if(!me)return;const ve=U(me);let he="";Object.entries(Y).forEach(([Ne,Ce])=>{(Ce||[]).includes(me)&&(he=Ne)}),G[ve]={id:String(me),name:`${ve}`,manager:he,cash:0,accrual:0,skincare:0,traffic:0,newCust:0,newSales:0,foundData:!1}}),t.forEach(me=>{if(!me.date||!me.storeName)return;const ve=String(me.date).replace(/-/g,"/").split("/"),he=parseInt(ve[0]),Ne=parseInt(ve[1]);if(!((he===V||he===W)&&Ne===X))return;const Ce=U(me.storeName);G[Ce]&&(G[Ce].foundData=!0,G[Ce].cash+=(Number(me.cash)||0)-(Number(me.refund)||0),G[Ce].accrual+=Number(me.accrual)||0,G[Ce].skincare+=Number(me.skincareSales)||0,G[Ce].traffic+=Number(me.traffic)||0,G[Ce].newCust+=Number(me.newCustomers)||0,G[Ce].newSales+=Number(me.newCustomerSales)||0)});const fe=B,ge=me=>Number(me)>5?Number(me)/100:Number(me),oe=Object.values(G).filter(me=>me.foundData).map(me=>{const ve=Math.max(0,me.traffic-me.newCust),he=me.accrual>0?me.cash/me.accrual:0,Ne=me.cash>0?me.skincare/me.cash:0,Ce=me.traffic>0?ve/me.traffic:0,ze=me.newCust>0?Math.round(me.newSales/me.newCust):0,bt=Number(r?.newASP)||3500,rr=bt>0?ze/bt:0;return{...me,cashToAccrual:he,productRatio:Ne,retentionRate:Ce,newCustomerASP:ze,acquisitionRate:rr}}),Oe=oe.filter(me=>me.cashToAccrual<ge(fe.financial.min)&&me.cash>0).sort((me,ve)=>me.cashToAccrual-ve.cashToAccrual),ne=oe.filter(me=>me.retentionRate<ge(fe.loyalty.min)-.1&&me.traffic>10).sort((me,ve)=>me.retentionRate-ve.retentionRate),je=oe.filter(me=>me.acquisitionRate<ge(fe.acquisition.min)&&me.newCust>0).sort((me,ve)=>me.acquisitionRate-ve.acquisitionRate);return{financialRisks:Oe,retentionRisks:ne,salesRisks:je}},[t,h,f,n,z,r,B,N,i,s,U]),I=Y=>{const Z={raw:{cashToAccrual:0,retailRatio:0,retention:0,aspMining:0,acquisitionQuality:0},scores:{financial:0,sales:0,loyalty:0,mining:0,acquisition:0}};if(!Y||Y.length===0)return Z;const V=Y.reduce((he,Ne)=>he+(Number(Ne.cash)||0)-(Number(Ne.refund)||0),0),X=Y.reduce((he,Ne)=>he+(Number(Ne.accrual)||0),0),W=Y.reduce((he,Ne)=>he+(Number(Ne.skincareSales)||0),0),G=Y.reduce((he,Ne)=>he+(Number(Ne.traffic)||0),0),fe=Y.reduce((he,Ne)=>he+(Number(Ne.newCustomers)||0),0),ge=Y.reduce((he,Ne)=>he+(Number(Ne.newCustomerSales)||0),0),oe=Math.max(0,G-fe),Oe=Math.max(0,V-ge),ne={cashToAccrual:X>0?V/X:0,retailRatio:V>0?W/V:0,retention:G>0?oe/G:0,aspMining:oe>0&&fe>0&&ge/fe>0?Oe/oe/(ge/fe):0,acquisitionQuality:fe>0&&(Number(r?.newASP)||3500)>0?ge/fe/(Number(r?.newASP)||3500):0},je=(he,Ne,Ce)=>{const ze=Number(Ne)>5?Number(Ne)/100:Number(Ne),bt=Number(Ce)>5?Number(Ce)/100:Number(Ce);return he<=ze?60*(he/ze):he>=bt?100:60+(he-ze)/(bt-ze)*40},me=B,ve={financial:je(ne.cashToAccrual,me.financial.min,me.financial.max),sales:je(ne.retailRatio,me.sales.min,me.sales.max),loyalty:je(ne.retention,me.loyalty.min,me.loyalty.max),mining:je(ne.aspMining,me.mining.min,me.mining.max),acquisition:je(ne.acquisitionQuality,me.acquisition.min,me.acquisition.max)};return{raw:ne,scores:ve}},O=x.useMemo(()=>{if(!S||!t)return null;const Y=parseInt(i),Z=parseInt(s),V=Y-1911,X=U(S),W=t.filter(Ce=>{if(!Ce.date||!Ce.storeName)return!1;const ze=String(Ce.date).replace(/-/g,"/").split("/"),bt=parseInt(ze[0]),rr=parseInt(ze[1]);return(bt===Y||bt===V)&&rr===Z?U(Ce.storeName)===X:!1}).sort((Ce,ze)=>vr(Ce.date).localeCompare(vr(ze.date))),G=W.reduce((Ce,ze)=>Ce+(Number(ze.cash)||0),0),fe=W.reduce((Ce,ze)=>Ce+(Number(ze.refund)||0),0),ge=G-fe,oe=W.reduce((Ce,ze)=>Ce+(Number(ze.traffic)||0),0),Oe=W.reduce((Ce,ze)=>Ce+(Number(ze.operationalAccrual)||0),0),ne=W.reduce((Ce,ze)=>Ce+(Number(ze.newCustomers)||0),0),je=W.reduce((Ce,ze)=>Ce+(Number(ze.newCustomerSales)||0),0),me=W.reduce((Ce,ze)=>Ce+(Number(ze.newCustomerClosings)||0),0),ve=e[`${S}_${Y}_${Z}`]||{},he=Number(ve.cashTarget||0),Ne=I(W);return{totalCash:ge,achievement:he>0?ge/he*100:0,trafficASP:oe>0?Math.round(Oe/oe):0,newCustomerASP:ne>0?Math.round(je/ne):0,totalNewCustomerClosings:me,totalRefund:fe,dailyData:W.map(Ce=>({date:String(vr(Ce.date)).split("/")[2],cash:(Number(Ce.cash)||0)-(Number(Ce.refund)||0),accrual:Number(Ce.accrual)||0,traffic:Number(Ce.traffic)||0})),budget:he,health:Ne}},[S,i,s,t,e,r,B,U]),L=x.useMemo(()=>{if(!E||!t)return null;const Y=parseInt(i),Z=parseInt(s),V=Y-1911,X=n||{},W=new Set;(h==="manager"&&b?[b]:N).forEach(oe=>{(X[oe]||[]).forEach(Oe=>{if(!Oe)return;const ne=U(Oe);ne&&W.add(ne)})});const ge=t.filter(oe=>{if(!oe.storeName)return!1;const Oe=U(oe.storeName);return W.has(Oe)}).filter(oe=>{if(!oe.date)return!1;const Oe=String(oe.date).replace(/-/g,"/").split("/"),ne=parseInt(Oe[0]),je=parseInt(Oe[1]);return(ne===Y||ne===V)&&je===Z}).filter(oe=>oe.storeName!==S);return I(ge)},[i,s,t,n,b,h,$,E,r,S,B,D,N,U]),M=x.useMemo(()=>{if(!O?.health)return[];const Y=O.health.scores,Z=L?.scores||{financial:0,sales:0,loyalty:0,mining:0,acquisition:0},V=B;return[{subject:"",A:Y.financial,B:Z.financial,fullMark:100,label:V.financial.label},{subject:"",A:Y.sales,B:Z.sales,fullMark:100,label:V.sales.label},{subject:"",A:Y.loyalty,B:Z.loyalty,fullMark:100,label:V.loyalty.label},{subject:"",A:Y.mining,B:Z.mining,fullMark:100,label:V.mining.label},{subject:"",A:Y.acquisition,B:Z.acquisition,fullMark:100,label:V.acquisition.label}]},[O,L,B]),ie=({store:Y,value:Z,label:V,type:X,onClick:W,fmtMoney:G})=>d.jsxs("div",{onClick:()=>W(Y.id),className:"flex items-center justify-between p-3 hover:bg-stone-50 rounded-lg cursor-pointer group transition-colors border-b border-stone-100 last:border-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${X==="danger"?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-600"}`,children:"!"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700 text-sm group-hover:text-amber-600 transition-colors",children:Y.name}),d.jsxs("p",{className:"text-xs text-stone-400",children:[Y.manager,""]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`font-mono font-bold text-sm ${X==="danger"?"text-rose-500":"text-amber-500"}`,children:X==="currency"?G(Z):`${(Number(Z)*100).toFixed(0)}%`}),d.jsx("p",{className:"text-[10px] text-stone-400",children:V})]}),d.jsx(Im,{size:14,className:"text-stone-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),Q=Y=>{A(`${$}${U(Y)}`)},K=B,ee=Y=>`${(Number(Y)>5?Number(Y):Number(Y)*100).toFixed(0)}%`,se=Y=>Number(Y)>5?Number(Y)/100:Number(Y);return d.jsx(ei,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsx(Pt,{title:"",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[d.jsxs("div",{className:"flex gap-3 w-full sm:w-auto items-center overflow-x-auto no-scrollbar",children:[S&&z&&d.jsxs("button",{onClick:()=>A(""),className:"h-[42px] px-4 bg-stone-800 text-white rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-stone-700 transition-all shadow-sm whitespace-nowrap",children:[d.jsx(dT,{size:16}),""]}),d.jsxs("select",{value:b,onChange:Y=>_(Y.target.value),disabled:h!=="director"&&h!=="trainer",className:"h-[42px] px-4 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white flex-1 sm:flex-none min-w-[120px]",children:[d.jsx("option",{value:"",children:h==="director"?"":""}),N.map(Y=>d.jsxs("option",{value:Y,children:[Y,""]},Y))]}),d.jsxs("select",{value:S,onChange:Y=>A(Y.target.value),className:"h-[42px] px-4 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white flex-1 sm:flex-none min-w-[140px]",children:[d.jsx("option",{value:"",children:"..."}),j.map(Y=>d.jsx("option",{value:Y,children:Y},Y))]})]}),S&&d.jsx("div",{className:"flex items-center gap-2 mt-2 sm:mt-0",children:d.jsxs("label",{className:"flex items-center cursor-pointer relative",children:[d.jsx("input",{type:"checkbox",checked:E,onChange:Y=>C(Y.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-stone-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-stone-500"}),d.jsx("span",{className:"ml-3 text-sm font-bold text-stone-500",children:h==="manager"?"":""})]})})]})}),!S&&z&&R?d.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-2 text-stone-500",children:[d.jsx(Ga,{size:20}),d.jsxs("h3",{className:"font-bold",children:[h==="manager"?`${f.name}`:$,"  ()"]}),d.jsxs("span",{className:"text-xs bg-stone-100 text-stone-400 px-2 py-1 rounded-lg",children:["",D==="default"?"":D," ( ",ee(K.financial.min),")"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-rose-50 border-b border-rose-100 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-rose-800 flex items-center gap-2",children:[d.jsx(sl,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-rose-200 text-rose-800 px-2 py-0.5 rounded-full font-bold",children:[R.financialRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:R.financialRisks.length>0?R.financialRisks.map(Y=>d.jsx(ie,{store:Y,value:Y.cashToAccrual,label:K.financial.label,type:"percent",onClick:Q,fmtMoney:l},Y.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ah,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:["",K.financial.label," < ",ee(K.financial.min)]})]}),d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-amber-50 border-b border-amber-100 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-amber-800 flex items-center gap-2",children:[d.jsx(Id,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-amber-200 text-amber-800 px-2 py-0.5 rounded-full font-bold",children:[R.retentionRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:R.retentionRisks.length>0?R.retentionRisks.map(Y=>d.jsx(ie,{store:Y,value:Y.retentionRate,label:K.loyalty.label,type:"percent",onClick:Q,fmtMoney:l},Y.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ah,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:["",K.loyalty.label," < ",ee(se(K.loyalty.min)-.1)]})]}),d.jsxs("div",{className:"bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 bg-stone-100 border-b border-stone-200 flex justify-between items-center",children:[d.jsxs("h3",{className:"font-bold text-stone-700 flex items-center gap-2",children:[d.jsx(Zs,{size:18})," "]}),d.jsxs("span",{className:"text-xs bg-stone-300 text-stone-800 px-2 py-0.5 rounded-full font-bold",children:[R.salesRisks.length," "]})]}),d.jsx("div",{className:"p-2 flex-1 min-h-[200px] max-h-[300px] overflow-y-auto no-scrollbar",children:R.salesRisks.length>0?R.salesRisks.map(Y=>d.jsx(ie,{store:Y,value:Y.acquisitionRate,label:"",type:"percent",onClick:Q,fmtMoney:l},Y.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-400 opacity-50",children:[d.jsx(ah,{size:48,className:"mb-2"}),d.jsx("p",{className:"text-sm font-bold",children:""})]})}),d.jsxs("div",{className:"p-3 bg-stone-50 text-xs text-stone-400 text-center border-t border-stone-100",children:[" < ",ee(K.acquisition.min)]})]})]})]}):null,S&&O?d.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-500",children:[d.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[d.jsxs("div",{className:"w-full xl:w-1/3 bg-white rounded-2xl border border-stone-100 shadow-sm p-4 flex flex-col relative overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-stone-700 flex items-center gap-2",children:[d.jsx(Ga,{size:18,className:"text-amber-500"})," "]}),d.jsx("p",{className:"text-xs text-stone-400",children:"Five-Force Store Analysis"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-xs font-bold px-3 py-1 rounded-full border ${O.health.scores.financial<60||O.health.scores.loyalty<60||O.health.scores.sales<60?"bg-rose-50 text-rose-600 border-rose-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:["",O.health.scores.financial<60?"":O.health.scores.loyalty<60?"":O.health.scores.sales<60?"":""]}),d.jsxs("div",{className:"group relative",children:[d.jsx(M9,{size:16,className:"text-stone-300 cursor-help"}),d.jsxs("div",{className:"absolute right-0 w-64 p-3 bg-stone-800 text-white text-xs rounded-xl shadow-xl opacity-0 group-hover:opacity-100 transition-opacity z-50 pointer-events-none",children:[d.jsx("p",{className:"font-bold mb-1",children:" ()"}),d.jsxs("ul",{className:"space-y-1 opacity-90",children:[d.jsxs("li",{children:[" ",K.financial.label,"",ee(K.financial.max)," ()"]}),d.jsxs("li",{children:[" ",K.sales.label,"",ee(K.sales.max)," ()"]}),d.jsxs("li",{children:[" ",K.loyalty.label,"",ee(K.loyalty.max)," ()"]}),d.jsxs("li",{children:[" ",K.mining.label,"",ee(K.mining.max)," ( > )"]}),d.jsxs("li",{children:[" ",K.acquisition.label,"",ee(K.acquisition.max)," ()"]})]})]})]})]})]}),d.jsx("div",{className:"h-[350px] w-full relative",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(ihe,{cx:"50%",cy:"50%",outerRadius:"70%",data:M,children:[d.jsx(Oz,{stroke:"#cbd5e1"}),d.jsx(kz,{dataKey:"subject",tick:{fill:"#78716c",fontSize:12,fontWeight:"bold"}}),d.jsx(Rz,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),E&&d.jsx(K_,{name:h==="manager"?"":"",dataKey:"B",stroke:"#a8a29e",fill:"#a8a29e",fillOpacity:.1}),d.jsx(K_,{name:S,dataKey:"A",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.4}),d.jsx(Th,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"}}),d.jsx(kh,{contentStyle:{borderRadius:"12px",fontSize:"12px"},formatter:Y=>(Number(Y)||0).toFixed(0)})]})})})]}),d.jsxs("div",{className:"w-full xl:w-2/3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 content-start",children:[d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(O.totalCash)})]}),d.jsxs("p",{className:`text-sm font-bold mt-2 ${O.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[O.achievement.toFixed(1),"% "]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(O.trafficASP)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(O.budget)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(O.newCustomerASP)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:u(O.totalNewCustomerClosings)})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[d.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),d.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:l(O.totalRefund)})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[K.financial.label," ()"]}),d.jsxs("h3",{className:`text-xl font-bold font-mono ${O.health.raw.cashToAccrual<se(K.financial.min)?"text-rose-500":"text-stone-700"}`,children:[(O.health.raw.cashToAccrual*100).toFixed(0),"%"]})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[K.sales.label," ()"]}),d.jsxs("h3",{className:`text-xl font-bold font-mono ${O.health.raw.retailRatio<se(K.sales.min)?"text-rose-500":"text-stone-700"}`,children:[(O.health.raw.retailRatio*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"bg-stone-50 p-5 rounded-2xl border border-stone-100",children:[d.jsxs("p",{className:"text-stone-400 text-xs font-bold mb-1",children:[K.loyalty.label," ()"]}),d.jsxs("h3",{className:"text-xl font-bold font-mono text-stone-700",children:[(O.health.raw.retention*100).toFixed(1),"%"]})]})]})]}),d.jsx(Pt,{title:`${S} `,subtitle:"()",children:d.jsx("div",{className:"h-[400px] w-full",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(uT,{data:O.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[d.jsx(_y,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),d.jsx(Ey,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),d.jsx(nd,{yAxisId:"left",width:80,tickFormatter:Y=>Y===0?"0":`$${(Y/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),d.jsx(nd,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),d.jsx(kh,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(Y,Z)=>Z===""?[u(Y),Z]:[l(Y),Z],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),d.jsx(Th,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),d.jsx(aT,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),d.jsx(td,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),d.jsx(td,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]}):!z&&d.jsx("div",{className:"p-10 text-center text-stone-400 bg-stone-50 rounded-xl border border-stone-100",children:d.jsx("p",{className:"font-bold",children:""})})]})})},ype=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(!1),[i,s]=x.useState(1),l=20,u=new Date().toISOString().split("T")[0],[f,h]=x.useState({start:u,end:u}),p=()=>{r(!0),e([]);const E=new Date(f.start);E.setHours(0,0,0,0);const C=new Date(f.end);C.setHours(23,59,59,999);const $=vh(gh(na,"artifacts",Gf,"public","data","system_logs"),Cu("timestamp",">=",Ut.fromDate(E)),Cu("timestamp","<=",Ut.fromDate(C)),o5(500));return Gr($,U=>{let B=U.docs.map(z=>({id:z.id,...z.data()}));B.sort((z,N)=>{const j=z.timestamp?.toMillis?z.timestamp.toMillis():0;return(N.timestamp?.toMillis?N.timestamp.toMillis():0)-j}),e(B),r(!1)})};x.useEffect(()=>{const E=p();return()=>E()},[f]);const g=Math.ceil(t.length/l),b=t.slice((i-1)*l,i*l),_=E=>{if(!E)return"-";const C=E.toDate?E.toDate():new Date(E);return`${C.getMonth()+1}/${C.getDate()} ${C.getHours().toString().padStart(2,"0")}:${C.getMinutes().toString().padStart(2,"0")}`},S=E=>{switch(E){case"director":return d.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return d.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return d.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return d.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return d.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},A=E=>E==="iOS"||E==="Android"||E==="Mobile"?d.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[d.jsx(Ome,{size:12})," ",E]}):d.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[d.jsx(pme,{size:12})," PC"]});return d.jsx(ei,{children:d.jsx("div",{className:"space-y-6 pb-20",children:d.jsxs(Pt,{children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),d.jsx("p",{className:"text-xs text-stone-400",children:""})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2",children:[d.jsx(co,{size:14,className:"text-stone-400"}),d.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[d.jsx("input",{type:"date",value:f.start,onChange:E=>h(C=>({...C,start:E.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),d.jsx("span",{className:"text-stone-300",children:"~"}),d.jsx("input",{type:"date",value:f.end,onChange:E=>h(C=>({...C,end:E.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?d.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[d.jsx(nS,{className:"animate-spin mx-auto mb-2"}),d.jsx("p",{children:"..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:d.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[d.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4 w-24",children:""}),d.jsx("th",{className:"p-4 w-24",children:""}),d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4 w-32",children:""}),d.jsx("th",{className:"p-4",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:b.length>0?b.map(E=>d.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:_(E.timestamp)}),d.jsx("td",{className:"p-4",children:A(E.device)}),d.jsx("td",{className:"p-4",children:S(E.role)}),d.jsx("td",{className:"p-4 font-bold text-stone-700",children:E.user}),d.jsx("td",{className:"p-4 font-medium text-stone-600",children:E.action}),d.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof E.details=="string"?E.details:JSON.stringify(E.details),children:typeof E.details=="string"?E.details:JSON.stringify(E.details)})]},E.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&d.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[d.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>s(E=>Math.max(1,E-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:d.jsx(hT,{size:18})}),d.jsx("button",{onClick:()=>s(E=>Math.min(g,E+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:d.jsx(k9,{size:18})})]})]})]})]})})})};function bpe(){const{currentBrand:t,userRole:e,showToast:n}=x.useContext(nr),[r,i]=x.useState([]),[s,l]=x.useState(!1),[u,f]=x.useState(0);if(e!=="director")return d.jsxs("div",{className:"p-8 text-center text-stone-400 bg-stone-50 rounded-2xl border border-stone-200",children:[d.jsx(sl,{className:"mx-auto mb-2"}),d.jsx("p",{children:""})]});const h=_=>i(S=>[`[${new Date().toLocaleTimeString()}] ${_}`,...S]),p=async()=>{if(confirm(`${t.name}
 YYYY-MM-DD `)){l(!0),i([]),h(`  ${t.name} ...`);try{const _=gh(na,"brands",t.id,"daily_reports"),S=await sv(_);h(`  ${S.size} `);let A=Jw(na),E=0,C=0,$=0;for(const D of S.docs){const U=D.data();if($++,f(Math.round($/S.size*100)),U.date&&U.date.includes("/")){const B=U.date.replace(/\//g,"-"),z=Nr(na,"brands",t.id,"daily_reports",D.id);A.update(z,{date:B}),C++,E++}E>=400&&(await A.commit(),A=Jw(na),E=0,h(" ..."))}E>0&&await A.commit(),h(`  ${C} `),n("","success")}catch(_){h(` : ${_.message}`)}finally{l(!1),f(0)}}},g=async()=>{l(!0),i([]),h(`  ${t.name} ...`);try{const _=gh(na,"brands",t.id,"daily_reports"),A=(await sv(_)).docs.map(B=>({id:B.id,...B.data()})),E=JSON.stringify(A,null,2),C=new Blob([E],{type:"application/json"}),$=URL.createObjectURL(C),D=document.createElement("a"),U=`${t.id}_backup_${new Date().toISOString().split("T")[0]}.json`;D.href=$,D.download=U,document.body.appendChild(D),D.click(),document.body.removeChild(D),h(` : ${U}`),h(` : ${A.length}`),n("","success")}catch(_){h(` : ${_.message}`)}finally{l(!1)}},b=()=>{confirm("")&&(localStorage.clear(),window.location.reload(!0))};return d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-stone-800 rounded-full"}),d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-amber-600 mb-4",children:d.jsx(L9,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:" YYYY/MM/DD  YYYY-MM-DD "}),d.jsxs("button",{onClick:p,disabled:s,className:"w-full py-2 bg-stone-800 text-white rounded-lg text-sm font-bold hover:bg-stone-700 disabled:bg-stone-300 flex items-center justify-center gap-2",children:[s?d.jsx(Rs,{className:"animate-spin",size:16}):d.jsx(xme,{size:16}),""]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 mb-4",children:d.jsx(o0,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:" JSON "}),d.jsxs("button",{onClick:g,disabled:s,className:"w-full py-2 bg-white border border-stone-200 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-50 disabled:opacity-50 flex items-center justify-center gap-2",children:[d.jsx(o0,{size:16}),""]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-stone-200 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-xl flex items-center justify-center text-rose-600 mb-4",children:d.jsx(nS,{size:24})}),d.jsx("h3",{className:"font-bold text-stone-700 mb-1",children:""}),d.jsx("p",{className:"text-xs text-stone-400 mb-4 h-10",children:""}),d.jsxs("button",{onClick:b,className:"w-full py-2 bg-white border border-rose-100 text-rose-600 rounded-lg text-sm font-bold hover:bg-rose-50 flex items-center justify-center gap-2",children:[d.jsx(nS,{size:16}),""]})]})]}),d.jsxs("div",{className:"bg-stone-900 rounded-2xl p-4 font-mono text-xs text-green-400 h-48 overflow-y-auto shadow-inner border border-stone-800",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 border-b border-stone-800 pb-2",children:[d.jsx("span",{className:"font-bold text-stone-500",children:"SYSTEM LOGS"}),s&&d.jsxs("span",{className:"text-amber-400 animate-pulse",children:["Processing... ",u,"%"]})]}),d.jsxs("div",{className:"space-y-1",children:[r.length===0&&d.jsx("span",{className:"text-stone-700",children:"..."}),r.map((_,S)=>d.jsx("div",{children:_},S))]})]})]})}const qf={default:{financial:{min:.8,max:1.2,label:""},sales:{min:.1,max:.45,label:""},loyalty:{min:.5,max:.8,label:""},mining:{min:.8,max:1.2,label:""},acquisition:{min:.8,max:1.2,label:""}},:{financial:{min:.7,max:1.1,label:""},sales:{min:.1,max:.4,label:""},loyalty:{min:.3,max:.6,label:""},mining:{min:.8,max:1.2,label:""},acquisition:{min:.8,max:1.2,label:""}}},xpe=[{id:"financial",title:" ()",sub:" ( 80% )",type:"percent",suffix:"%",step:5},{id:"sales",title:" ()",sub:" ( 10%-45%)",type:"percent",suffix:"%",step:1},{id:"loyalty",title:" ()",sub:" ( 50% )",type:"percent",suffix:"%",step:1},{id:"mining",title:" ()",sub:"% ( >100%)",type:"percent",suffix:"%",step:5},{id:"acquisition",title:" ()",sub:"% ( 100%)",type:"percent",suffix:"%",step:5}],wpe=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:f,therapists:h,therapistTargets:p,therapistSchedules:g,trainerAuth:b,handleUpdateTrainerAuth:_,getDocPath:S,getCollectionPath:A,currentBrand:E}=x.useContext(nr),[C,$]=x.useState(""),[D,U]=x.useState(t||{}),[B,z]=x.useState(u||zg),[N,j]=x.useState(r||{}),{brandKey:R,brandLabel:I}=x.useMemo(()=>{let H="default",Se=" (CYJ)";if(E){const Ie=(typeof E=="string"?E:E.id||"CYJ").toLowerCase();Ie.includes("anniu")||Ie.includes("anew")?(H="",Se=""):Ie.includes("yibo")?(H="",Se=""):(H="default",Se=" (CYJ)")}return{brandKey:H,brandLabel:Se}},[E]);x.useEffect(()=>{r&&j(r)},[r]),x.useEffect(()=>{u&&z(u)},[u]),x.useEffect(()=>{t&&U(H=>({...H,...t,benchmarks:t.benchmarks||qf}))},[t]);const[O,L]=x.useState({name:"",password:"",stores:""}),[M,ie]=x.useState(null),[Q,K]=x.useState({name:"",password:"",stores:[]}),[ee,se]=x.useState({name:"",password:""}),[Y,Z]=x.useState(null),[V,X]=x.useState([]),[W,G]=x.useState({name:"",manager:""}),[fe,ge]=x.useState(!1),[oe,Oe]=x.useState(null),[ne,je]=x.useState(""),[me,ve]=x.useState(""),[he,Ne]=x.useState(""),[Ce,ze]=x.useState(""),[bt,rr]=x.useState("0000"),[Tt,Vt]=x.useState(""),Qe="",bi=x.useMemo(()=>{const H=[],Se=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0,icon:Pd},{id:"health",label:"",isAdminOnly:!0,icon:Ga},{id:"permissions",label:"",isAdminOnly:!0,icon:fc},{id:"trainer-account",label:"",isAdminOnly:!0,icon:Id},{id:"shops",label:"",isAdminOnly:!0,icon:vi},{id:"stores",label:"",isAdminOnly:!0,icon:rS},{id:"managers",label:"",isAdminOnly:!0,icon:DM},{id:"therapists",label:"",isAdminOnly:!0,icon:gl},{id:"maintenance",label:"",isAdminOnly:!0,icon:L9}].forEach(Ie=>{(l==="director"||!Ie.isAdminOnly&&Ie.permissionId&&Se.includes(Ie.permissionId))&&H.push(Ie)}),H},[l,u]);x.useEffect(()=>{if(bi.length>0){const H=bi.some(Se=>Se.id===C);(!C||!H)&&$(bi[0].id)}},[bi,C]);const xi=x.useMemo(()=>{const Se=Object.entries(N||{});return Se.some(([Ie])=>Ie===Qe)||Se.push([Qe,[]]),Se.sort((Ie,Xe)=>Ie[0]===Qe?1:Xe[0]===Qe?-1:Ie[0].localeCompare(Xe[0]))},[N]);x.useMemo(()=>{let H=h.filter(Se=>Se.status==="active");if(l==="director"||l==="trainer")return H.sort((Se,Te)=>Se.store.localeCompare(Te.store));if(l==="manager"){const Se=N[f?.name]||[];return H.filter(Te=>Se.includes(Te.store)).sort((Te,Ie)=>Te.store.localeCompare(Ie.store))}if(l==="store"){const Te=(f?.stores||[f?.storeName]).map(Ie=>Ie.replace("CYJ","").replace("",""));return H.filter(Ie=>Te.includes(Ie.store))}return l==="therapist"?H.filter(Se=>Se.id===f?.id):[]},[h,l,f,N]);const Dn=async()=>{if(!Tt)return n("","error");await _(Tt)?(n("","success"),Vt("")):n("","error")},ni=async()=>{try{await zn(S("kpi_targets"),D),e(D),n("","success")}catch{n("","error")}},as=async()=>{try{await zn(S("permissions"),B),n("","success")}catch{n("","error")}},xt=(H,Se)=>{const Te=B[H]||[],Ie=Te.includes(Se)?Te.filter(Xe=>Xe!==Se):[...Te,Se];z({...B,[H]:Ie})},ir=(H,Se,Te,Ie)=>{let Xe=parseFloat(Te);isNaN(Xe)&&(Xe=0),Ie==="percent"&&(Xe=Xe/100),U(mt=>({...mt,benchmarks:{...mt.benchmarks,[R]:{...mt.benchmarks?.[R]||qf.default,[H]:{...mt.benchmarks?.[R]?.[H]||qf.default[H],[Se]:Xe}}}}))},ga=async()=>{if(!W.name||!W.manager)return n("","error");try{const H=W.manager,Se=S("org_structure"),Te=await kf(Se);let Ie=Te.exists()?{...Te.data().managers}:{};Ie[H]||(Ie[H]=[]),Ie[H].includes(W.name)||Ie[H].push(W.name),await zn(Se,{managers:Ie}),j(Ie),G({name:"",manager:""}),n("","success")}catch(H){n(": "+H.message,"error")}},va=async(H,Se)=>{const Te=Se===Qe;if(confirm(Te?"":""))try{const Ie=S("org_structure"),Xe=await kf(Ie);if(!Xe.exists())throw new Error("");let mt=JSON.parse(JSON.stringify(Xe.data().managers||{}));Array.isArray(mt[Se])&&(mt[Se]=mt[Se].filter(sr=>sr!==H)),Te||(Array.isArray(mt[Qe])||(mt[Qe]=[]),mt[Qe].includes(H)||mt[Qe].push(H)),await zn(Ie,{managers:mt}),j(mt),n(Te?"":"","success")}catch(Ie){console.error(Ie),n(": "+Ie.message,"error")}},uo=async H=>{try{const Se=S("org_structure"),Te=await kf(Se);let Ie=Te.exists()?JSON.parse(JSON.stringify(Te.data().managers)):{};const Xe=V,mt=Ie[H]||[],sr=mt.filter(jt=>!Xe.includes(jt)),rn=Xe.filter(jt=>!mt.includes(jt));Ie[H]=Xe,Array.isArray(Ie[Qe])||(Ie[Qe]=[]),sr.forEach(jt=>{Ie[Qe].includes(jt)||Ie[Qe].push(jt)}),Ie[Qe]=Ie[Qe].filter(jt=>!rn.includes(jt)),await zn(Se,{managers:Ie}),j(Ie),Z(null),n("","success")}catch{n("","error")}},ya=x.useMemo(()=>{const H=Object.values(N||{}).flat(),Se=i.flatMap(Te=>Te.stores||[]);return H.filter(Te=>!Se.includes(Te)).sort()},[N,i]),ar=x.useMemo(()=>N&&N[Qe]?N[Qe].sort():[],[N]),cn=x.useMemo(()=>{const H=Object.values(N||{}).flat(),Se=i.filter(Te=>Te.id!==M?.id).flatMap(Te=>Te.stores||[]);return H.filter(Te=>!Se.includes(Te)&&!Q.stores.includes(Te)).sort()},[N,i,M,Q]),Yn=async()=>{if(!O.name||!O.password)return n("","error");const H={id:npe(),...O,stores:O.stores?[O.stores]:[]};try{await zn(S("store_account_data"),{accounts:[...i,H]}),L({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},Kt=H=>{ie(H),K({name:H.name,password:H.password,stores:H.stores||[]})},ba=H=>{H&&!Q.stores.includes(H)&&K({...Q,stores:[...Q.stores,H]})},wi=H=>{K({...Q,stores:Q.stores.filter(Se=>Se!==H)})},ss=async()=>{if(!Q.name)return;const H=i.map(Se=>Se.id===M.id?{...Se,...Q}:Se);await zn(S("store_account_data"),{accounts:H}),ie(null),n("","success")},Pr=async H=>{if(!confirm("?"))return;const Se=i.filter(Te=>Te.id!==H);await zn(S("store_account_data"),{accounts:Se}),n("","success")},ri=async()=>{if(ee.name)try{const H=S("org_structure"),Se=await kf(H);let Te=Se.exists()?Se.data().managers:{};Te[ee.name]=[],await zn(H,{managers:Te}),j(Te),await zn(S("manager_auth"),{[ee.name]:ee.password},{merge:!0}),se({name:"",password:""}),n("","success")}catch{n("","error")}},nn=H=>{H&&(V.includes(H)||X([...V,H]))},wr=H=>{X(V.filter(Se=>Se!==H))},Vr=async H=>{if(confirm("?"))try{const Se=S("org_structure"),Te=await kf(Se);let Ie=Te.exists()?Te.data().managers:{};delete Ie[H],await zn(Se,{managers:Ie}),j(Ie),n("","success")}catch{n("","error")}},Ir=async()=>{if(!Ce)return n("","error");try{await tE(A("therapists"),{name:Ce,store:he,manager:me,password:bt,status:"active",createdAt:gd()}),ge(!1),ze(""),n("","success")}catch{n("","error")}},El=async()=>{if(!oe)return;const H=Nr(A("therapists"),oe.id);await ov(H,{name:Ce,store:he,manager:me,password:bt}),Oe(null),n("","success")},os=async H=>{const Se=Nr(A("therapists"),H.id);await ov(Se,{status:H.status==="active"?"resigned":"active"}),n("","success")},$r=async H=>{confirm("?")&&(await c5(Nr(A("therapists"),H)),n("","success"))},Ki=H=>{Oe(H),ve(H.manager||""),Ne(H.store),ze(H.name),rr(H.password)},Al=x.useMemo(()=>me?N&&N[me]?N[me]:[]:[],[me,N]),Ee=x.useMemo(()=>h.filter(H=>(H.name||"").includes(ne)||(H.store||"").includes(ne)||H.status==="resigned"&&ne===""),[h,ne]);return bi.length===0?d.jsx(ei,{children:d.jsx(Pt,{title:"",children:d.jsxs("div",{className:"text-center py-10 text-stone-400",children:[d.jsx(fc,{size:48,className:"mx-auto mb-4 opacity-50"}),d.jsx("p",{children:""})]})})}):d.jsx(ei,{children:d.jsxs("div",{className:"grid grid-cols-1 w-[99%] max-w-full gap-6 pb-20 mx-auto",children:[d.jsxs("div",{className:"flex flex-col gap-4 w-full min-w-0",children:[d.jsx("h2",{className:"text-2xl font-bold text-stone-800 px-1",children:""}),d.jsx("div",{className:"w-full bg-white p-1 rounded-xl shadow-sm border border-stone-100 overflow-x-auto no-scrollbar",children:d.jsx("div",{className:"flex gap-2 min-w-max p-1",children:bi.map(H=>d.jsxs("button",{onClick:()=>$(H.id),className:`px-4 py-2.5 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-2 ${C===H.id?"bg-stone-800 text-white shadow-md":"text-stone-500 hover:bg-stone-50"}`,children:[H.icon&&d.jsx(H.icon,{size:16}),H.label]},H.id))})})]}),C==="kpi"&&d.jsx(Pt,{title:"KPI ",children:d.jsxs("div",{className:"max-w-md w-full space-y-6 min-w-0",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"number",value:D.newASP||3500,onChange:H=>U({...D,newASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-amber-400"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"number",value:D.trafficASP||1200,onChange:H=>U({...D,trafficASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-amber-400"})]}),d.jsx("button",{onClick:ni,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold active:scale-95 transition-transform",children:""})]})}),C==="health"&&d.jsx(Pt,{title:"",children:d.jsxs("div",{className:"space-y-6 w-full min-w-0",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200 flex items-center gap-2",children:[d.jsx(fc,{size:18,className:"text-amber-500"}),d.jsx("span",{className:"text-sm font-bold text-stone-600",children:""}),d.jsx("span",{className:"text-lg font-bold text-amber-600",children:I})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-4",children:xpe.map(H=>{const Se=D.benchmarks?.[R]?.[H.id]||qf[R]?.[H.id]||qf.default[H.id],Te=(Se.min*100).toFixed(0),Ie=(Se.max*100).toFixed(0);return d.jsxs("div",{className:"bg-stone-50 border border-stone-200 rounded-xl p-4 hover:shadow-sm transition-shadow",children:[d.jsxs("div",{className:"mb-3 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-stone-700",children:H.title}),d.jsx("p",{className:"text-[10px] text-stone-400 mt-0.5",children:H.sub})]}),d.jsxs("span",{className:"text-[10px] font-bold text-stone-400 bg-white px-2 py-1 rounded border border-stone-100 ml-2 whitespace-nowrap",children:[": ",Te,"% - ",Ie,"%"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] font-bold text-stone-400 mb-1",children:[" (",H.suffix,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",step:H.step,value:Te,onChange:Xe=>ir(H.id,"min",Xe.target.value,H.type),className:"w-full pl-3 pr-8 py-2 border rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none text-center bg-white"}),d.jsx("span",{className:"absolute right-3 top-2 text-xs font-bold text-stone-400 pointer-events-none",children:H.suffix})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] font-bold text-stone-400 mb-1",children:[" (",H.suffix,")"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",step:H.step,value:Ie,onChange:Xe=>ir(H.id,"max",Xe.target.value,H.type),className:"w-full pl-3 pr-8 py-2 border rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none text-center bg-white"}),d.jsx("span",{className:"absolute right-3 top-2 text-xs font-bold text-stone-400 pointer-events-none",children:H.suffix})]})]})]})]},H.id)})}),d.jsx("div",{className:"flex justify-end pt-4 border-t border-stone-100",children:d.jsxs("button",{onClick:ni,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[d.jsx(Sl,{size:18})," "]})})]})}),C==="trainer-account"&&d.jsx(Pt,{title:"",children:d.jsxs("div",{className:"max-w-md w-full space-y-6 min-w-0",children:[d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),d.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:b?.password||"0000"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),d.jsx("input",{type:"text",value:Tt,onChange:H=>Vt(H.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsx("button",{onClick:Dn,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),C==="permissions"&&d.jsxs(Pt,{title:"",children:[d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsx("div",{className:"min-w-[600px]",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-stone-200",children:[d.jsx("th",{className:"p-4 font-bold text-stone-500 sticky left-0 bg-white z-10",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),d.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:Nc.map(H=>d.jsxs("tr",{className:"hover:bg-stone-50",children:[d.jsxs("td",{className:"p-4 flex items-center gap-3 sticky left-0 bg-white/95 backdrop-blur-sm z-10 border-r border-stone-100 md:border-none shadow-[2px_0_5px_-2px_rgba(0,0,0,0.05)] md:shadow-none",children:[d.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500 shrink-0",children:d.jsx(H.icon,{size:18})}),d.jsx("span",{className:"font-bold text-stone-700 whitespace-nowrap",children:H.label})]}),d.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:d.jsx("input",{type:"checkbox",checked:B.trainer?.includes(H.id),onChange:()=>xt("trainer",H.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:d.jsx("input",{type:"checkbox",checked:B.manager?.includes(H.id),onChange:()=>xt("manager",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:d.jsx("input",{type:"checkbox",checked:B.store?.includes(H.id),onChange:()=>xt("store",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),d.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:d.jsx("input",{type:"checkbox",checked:B.therapist?.includes(H.id),onChange:()=>xt("therapist",H.id),className:"w-5 h-5 rounded cursor-pointer"})})]},H.id))})]})})}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:as,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),C==="shops"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(Pt,{title:"",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:W.name,onChange:H=>G({...W,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:W.manager,onChange:H=>G({...W,manager:H.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(N).map(H=>d.jsxs("option",{value:H,children:[H," "]},H))]}),d.jsx(Aw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),d.jsxs("button",{onClick:ga,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[d.jsx(wg,{size:18})," "]})]})}),d.jsx(Pt,{title:"",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xi.map(([H,Se])=>d.jsxs("div",{className:`bg-stone-50 rounded-2xl p-4 border ${H===Qe?"border-stone-300 shadow-inner":"border-stone-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[d.jsxs("span",{className:`font-bold ${H===Qe?"text-stone-500":"text-stone-700"}`,children:[H," ",H!==Qe&&""]}),d.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[Se.length," "]})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Se.map(Te=>d.jsxs("div",{className:"group relative flex items-center",children:[d.jsx("span",{className:`px-3 py-1.5 border rounded-lg text-xs font-bold shadow-sm pr-7 ${H===Qe?"bg-white text-stone-500 border-stone-200":"bg-white text-stone-600 border-stone-200"}`,children:Te}),d.jsx("button",{onClick:()=>va(Te,H),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:d.jsx(sa,{size:12})})]},Te))})]},H))})})]}),C==="stores"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(Pt,{title:"",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),d.jsx("input",{type:"text",value:O.name,onChange:H=>L({...O,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:O.password,onChange:H=>L({...O,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative w-full",children:[d.jsx(vi,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),d.jsxs("select",{value:O.stores,onChange:H=>L({...O,stores:H.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[d.jsx("option",{value:"",children:"..."}),ya.map(H=>d.jsx("option",{value:H,children:H},H))]}),d.jsx(Aw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),d.jsx("button",{onClick:Yn,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:d.jsx(wg,{size:20})})]})]})]})}),d.jsx(Pt,{title:"",children:d.jsx("div",{className:"overflow-x-auto w-full pb-2",children:d.jsx("div",{className:"min-w-[600px]",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),d.jsx("th",{className:"p-4",children:""}),d.jsx("th",{className:"p-4",children:""}),d.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(H=>d.jsxs("tr",{className:"hover:bg-stone-50",children:[d.jsx("td",{className:"p-4 font-bold text-stone-700",children:H.name}),d.jsx("td",{className:"p-4 font-mono text-stone-500",children:H.password}),d.jsx("td",{className:"p-4",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:H.stores&&H.stores.map(Se=>d.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:Se},Se))})}),d.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[d.jsx("button",{onClick:()=>Kt(H),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:d.jsx(U9,{size:18})}),d.jsx("button",{onClick:()=>Pr(H.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:d.jsx(Lg,{size:18})})]})]},H.id))})]})})})}),M&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[d.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[d.jsx("span",{children:""}),d.jsx("button",{onClick:()=>ie(null),children:d.jsx(sa,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),d.jsx("input",{type:"text",value:Q.name,onChange:H=>K({...Q,name:H.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsx("input",{type:"text",value:Q.password,onChange:H=>K({...Q,password:H.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:Q.stores.map(H=>d.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[H," ",d.jsx("button",{onClick:()=>wi(H),className:"text-stone-300 hover:text-rose-500",children:d.jsx(sa,{size:12})})]},H))}),d.jsx("div",{className:"relative",children:d.jsxs("select",{onChange:H=>{ba(H.target.value),H.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[d.jsx("option",{value:"",children:"+ "}),cn.map(H=>d.jsx("option",{value:H,children:H},H))]})})]}),d.jsxs("div",{className:"pt-4 flex gap-3",children:[d.jsx("button",{onClick:()=>ie(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),d.jsx("button",{onClick:ss,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),C==="managers"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(Pt,{title:"",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:ee.name,onChange:H=>se({...ee,name:H.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("input",{type:"text",value:ee.password,onChange:H=>se({...ee,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),d.jsxs("button",{onClick:ri,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[d.jsx(wg,{size:18})," "]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:xi.map(([H,Se])=>d.jsxs(Pt,{className:`border ${H===Qe?"border-stone-300 bg-stone-50":"border-stone-200"}`,children:[d.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${H===Qe?"text-stone-500":"text-stone-700"}`,children:[H===Qe?d.jsx(DM,{size:20}):d.jsx(gl,{size:20,className:"text-amber-500"}),H," ",H!==Qe&&""]}),H!==Qe&&d.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[H]||""]})]}),H!==Qe&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>{Z(H),X(Se)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold whitespace-nowrap",children:""}),d.jsx("button",{onClick:()=>Vr(H),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:d.jsx(Lg,{size:16})})]})]}),Y===H?d.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:V.map(Te=>d.jsxs("div",{className:"group relative flex items-center",children:[d.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Te}),d.jsx("button",{onClick:()=>wr(Te),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:d.jsx(sa,{size:12})})]},Te))}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{onChange:Te=>{nn(Te.target.value),Te.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white appearance-none text-stone-700",children:[d.jsx("option",{value:"",children:"+ "}),ar.filter(Te=>!V.includes(Te)).map(Te=>d.jsx("option",{value:Te,children:Te},Te))]}),d.jsx(Aw,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("button",{onClick:()=>Z(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400 hover:text-stone-600",children:""}),d.jsx("button",{onClick:()=>uo(H),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg hover:bg-stone-700 shadow-sm",children:""})]})]}):d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Se.map(Te=>d.jsx("span",{className:`px-2.5 py-1 border rounded-lg text-xs font-bold ${H===Qe?"bg-white border-stone-200 text-stone-400":"bg-stone-50 border-stone-100 text-stone-600"}`,children:Te},Te))})]},H))})]}),C==="therapists"&&d.jsxs("div",{className:"space-y-6 w-full max-w-full min-w-0",children:[d.jsx(Pt,{children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[d.jsxs("div",{className:"relative w-full md:w-64",children:[d.jsx(gT,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),d.jsx("input",{type:"text",placeholder:"...",value:ne,onChange:H=>je(H.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),d.jsxs("button",{onClick:()=>ge(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[d.jsx(wg,{size:18})," "]})]})}),(fe||oe)&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[d.jsx("span",{children:oe?"":""}),d.jsx("button",{onClick:()=>{ge(!1),Oe(null)},children:d.jsx(sa,{size:20})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsxs("select",{value:me,onChange:H=>{ve(H.target.value),Ne("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[d.jsx("option",{value:"",children:""}),Object.keys(N).map(H=>d.jsxs("option",{value:H,children:[H,""]},H))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsxs("select",{value:he,onChange:H=>Ne(H.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!me,children:[d.jsx("option",{value:"",children:""}),Al.map(H=>d.jsx("option",{value:H,children:H},H))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),d.jsx("input",{type:"text",value:Ce,onChange:H=>ze(H.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),d.jsx("input",{type:"text",value:bt,onChange:H=>rr(H.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),d.jsxs("div",{className:"pt-4 flex gap-3",children:[d.jsx("button",{onClick:()=>{ge(!1),Oe(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),d.jsx("button",{onClick:oe?El:Ir,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:oe?"":""})]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ee.map(H=>d.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${H.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[d.jsx(vi,{size:12})," ",H.store,""]}),d.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[H.name,H.status==="resigned"&&d.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>Ki(H),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:d.jsx(Mme,{size:16})}),d.jsx("button",{onClick:()=>os(H),className:`p-2 rounded-lg ${H.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:H.status==="active"?"":"",children:H.status==="active"?d.jsx(H9,{size:16}):d.jsx(rS,{size:16})})]})]}),d.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[d.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[d.jsx(Zhe,{size:12})," : ",H.password]}),d.jsx("button",{onClick:()=>$r(H.id),className:"text-stone-300 hover:text-rose-400",children:d.jsx(Lg,{size:14})})]})]},H.id))})]}),C==="maintenance"&&d.jsx(bpe,{})]})})},_pe=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:f,userRole:h,therapistTargets:p,auditExclusions:g=[],handleUpdateAuditExclusions:b,currentBrand:_}=x.useContext(nr),[S,A]=x.useState(K9(new Date)),[E,C]=x.useState(h==="trainer"?"therapist-daily":"daily"),[$,D]=x.useState(!1),[U,B]=x.useState([]),z=x.useMemo(()=>{let W="CYJ";if(_){const fe=(typeof _=="string"?_:_.id||"CYJ").toLowerCase();fe.includes("anniu")||fe.includes("anew")?W="":fe.includes("yibo")?W="":W="CYJ"}return W},[_]),N=()=>{B(g||[]),D(!0)},j=async()=>{await b(U),D(!1),e("","success")},R=W=>{B(G=>G.includes(W)?G.filter(fe=>fe!==W):[...G,W])},I=x.useMemo(()=>Object.values(t).flat().filter(G=>!g.includes(G)).map(G=>{const fe=[G,`${G}`,`${z}${G}`,`${z}${G}`,`CYJ${G}`];return{id:G,name:`${G}`,stores:fe}}),[t,g,z]),O=x.useMemo(()=>l.filter(W=>W.status==="active").map(W=>({id:W.id,name:W.name,stores:[W.id]})),[l]),L=x.useMemo(()=>s.map(W=>{const G=W.date?vr(W.date):"";return{...W,storeName:W.storeName,date:G}}),[s]),M=x.useMemo(()=>{const W=u.map(oe=>({...oe,storeName:oe.therapistId,date:oe.date?vr(oe.date):""}));if(E!=="therapist-daily")return W;const G=[],fe=parseInt(r),ge=parseInt(i);return l.filter(oe=>oe.status==="active").forEach(oe=>{const Oe=`${oe.id}_${fe}_${ge}`;(f[Oe]?.daysOff||[]).forEach(me=>{const ve=`${fe}-${ge.toString().padStart(2,"0")}-${me.toString().padStart(2,"0")}`;G.push({id:`ghost_${oe.id}_${ve}`,storeName:oe.id,date:ve,isGhost:!0,revenue:0})})}),[...W,...G]},[u,E,r,i,l,f]),ie=E==="therapist-daily",Q=ie?O:I,K=ie?M:L,ee=x.useMemo(()=>{if(!S)return{submitted:[],missing:[],missingByManager:{}};const W=vr(S),G=s.filter(ge=>vr(ge.date)===W).map(ge=>ge.storeName),fe={};return Object.entries(t).forEach(([ge,oe])=>{const Oe=[];oe.forEach(ne=>{if(g.includes(ne))return;G.some(me=>me&&me.includes(ne))||Oe.push(`${z}${ne}`)}),Oe.length&&(fe[ge]=Oe)}),{submitted:G,missing:Object.values(fe).flat(),missingByManager:fe}},[S,s,t,g,z]),se=x.useMemo(()=>{const W={},G=parseInt(r),fe=parseInt(i);return Object.entries(t).forEach(([ge,oe])=>{const Oe=[];oe.forEach(ne=>{if(g.includes(ne))return;const je=`${z}${ne}`,me=`${je}_${G}_${fe}`,ve=n[me];(!ve||!ve.cashTarget&&!ve.accrualTarget)&&Oe.push(je)}),Oe.length&&(W[ge]=Oe)}),{missing:Object.values(W).flat(),missingByManager:W}},[n,t,r,i,g,z]),Y=x.useMemo(()=>{if(!S)return{missing:[],missingByManager:{}};const W=vr(S),G=new Date(W),fe=G.getFullYear().toString(),ge=G.getMonth()+1,oe=G.getDate(),Oe=new Set((u||[]).filter(je=>vr(je.date)===W).map(je=>je.therapistId)),ne={};return(l||[]).filter(je=>je.status==="active").forEach(je=>{const me=`${je.id}_${fe}_${ge}`;if(!f[me]?.daysOff?.includes(oe)&&!Oe.has(je.id)){const Ne=je.manager||"";ne[Ne]||(ne[Ne]=[]),ne[Ne].push(`${je.name} (${je.store})`)}}),{missing:Object.values(ne).flat(),missingByManager:ne}},[S,l,u,f]),Z=x.useMemo(()=>{const W={},G=r,fe=parseInt(i).toString();return(l||[]).filter(ge=>ge.status==="active").forEach(ge=>{const oe=`${ge.id}_${G}`,ne=p[oe]?.monthlyTargets?.[fe];if(!(ne&&parseInt(ne)>0)){const me=ge.manager||"";W[me]||(W[me]=[]),W[me].push(`${ge.name} (${ge.store})`)}}),{missing:Object.values(W).flat(),missingByManager:W}},[l,p,r,i]),V=E==="daily"?ee:E==="target"?se:E==="therapist-daily"?Y:Z,X=()=>{let W="";E==="target"?W=`(${r}/${i})
`:E==="therapist-target"?W=`(${r}/${i})
`:E==="therapist-daily"?W=`(${S})
`:W=`(${S})
`,Object.entries(V.missingByManager).forEach(([G,fe])=>{const ge=fe.map(oe=>E.includes("therapist")?oe:oe.replace(/CYJ|||Anew|Yibo|/gi,"").trim());W+=`${G}${ge.join("")}
`}),navigator.clipboard.writeText(W),e("","success")};return d.jsxs(ei,{children:[d.jsxs(Pt,{title:"",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[d.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[h!=="trainer"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>C("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${E==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),d.jsx("button",{onClick:()=>C("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${E==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),d.jsx("button",{onClick:()=>C("therapist-daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${E==="therapist-daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),d.jsx("button",{onClick:()=>C("therapist-target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${E==="therapist-target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),d.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[E==="daily"||E==="therapist-daily"?d.jsx("div",{className:"w-full sm:w-auto relative z-10",children:I.length===0?d.jsxs("div",{className:"px-4 py-3 bg-rose-50 text-rose-600 text-sm font-bold rounded-xl border border-rose-100 flex items-center gap-2 whitespace-nowrap animate-pulse",children:[d.jsx(M9,{size:18}),"  ()"]}):d.jsx(Y9,{selectedDate:S,onDateSelect:A,stores:Q,salesData:K})}):d.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start flex-grow",children:[d.jsx(Pd,{size:16})," ",r,"  ",i," "]}),(h==="director"||h==="manager")&&(E==="daily"||E==="target")&&d.jsx("button",{onClick:N,className:"p-2 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200",title:"",children:d.jsx(Ay,{size:20})})]})]}),(E==="daily"||E==="therapist-daily")&&d.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),d.jsx("span",{className:"whitespace-nowrap",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),d.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),d.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[d.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[d.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[d.jsx(rd,{size:20}),E==="therapist-daily"?" ()":E==="therapist-target"?"":"",d.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:V.missing.length})]}),d.jsx("button",{onClick:X,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),d.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(V.missingByManager).map(([W,G])=>d.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[d.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[W," "]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:G.map((fe,ge)=>d.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[E.includes("therapist")&&d.jsx(H9,{size:10,className:"text-rose-400"}),E.includes("therapist")?fe:fe.replace(/CYJ|||Anew|Yibo|/gi,"").replace(z,"")]},ge))})]},W)),V.missing.length===0&&d.jsx("div",{className:"col-span-3 text-center py-10",children:d.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:d.jsx(Js,{size:24})}),"",E==="therapist-daily"&&d.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]}),$&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(fT,{size:20,className:"text-rose-400"})," "]}),d.jsx("button",{onClick:()=>D(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(sa,{size:20})})]}),d.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(t).map(([W,G])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[W," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:G.map(fe=>{const ge=U.includes(fe);return d.jsxs("button",{onClick:()=>R(fe),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${ge?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[ge&&d.jsx(Js,{size:14}),fe]},fe)})})]},W))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>D(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:j,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Spe=(t,e,n,r,i)=>x.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,f=t.filter(N=>{if(!N.date)return!1;const j=N.date.replace(/-/g,"/"),[R]=j.split("/").map(Number);return R===s||R===u}),h=f.reduce((N,j)=>({cash:N.cash+(j.cash||0)-(j.refund||0),accrual:N.accrual+(j.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(N=>`CYJ${N}`);for(let N=1;N<=12;N++)g.forEach(j=>{const R=`${j}_${s}_${N}`;n[R]&&(p.cash+=n[R].cashTarget||0,p.accrual+=n[R].accrualTarget||0)});const b={cashActual:h.cash,cashTarget:p.cash,cashAchievement:p.cash>0?h.cash/p.cash*100:0,accrualActual:h.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?h.accrual/p.accrual*100:0},_=f.filter(N=>{const j=N.date.replace(/-/g,"/"),[,R]=j.split("/").map(Number);return R===l}),S=[...new Set(_.map(N=>vr(N.date)))].sort(),A=S[S.length-1]||"",E=new Date(s,l,0).getDate();let C=1;A!==""&&(C=parseInt(A.split("/")[2]));const $=S.map(N=>{const j=_.filter(R=>vr(R.date)===N);return{date:N.split("/")[2],fullDate:N,cash:j.reduce((R,I)=>R+(I.cash||0)-(I.refund||0),0),traffic:j.reduce((R,I)=>R+(I.traffic||0),0)}}),U=Object.entries(e).flatMap(([N,j])=>j.map(R=>({name:`CYJ${R}`,manager:N}))).map(N=>{const j=_.filter(W=>W.storeName===N.name),R=j.reduce((W,G)=>W+(G.cash||0),0),I=j.reduce((W,G)=>W+(G.refund||0),0),O=R-I,L=j.reduce((W,G)=>W+(G.accrual||0),0),M=j.reduce((W,G)=>W+(G.operationalAccrual||0),0),ie=j.reduce((W,G)=>W+(G.traffic||0),0),Q=j.reduce((W,G)=>W+(G.newCustomers||0),0),K=j.reduce((W,G)=>W+(G.newCustomerClosings||0),0),ee=j.reduce((W,G)=>W+(G.newCustomerSales||0),0),se=j.reduce((W,G)=>W+(G.skincareSales||0),0),Y=j.reduce((W,G)=>W+(G.skincareRefund||0),0),Z=se-Y,V=`${N.name}_${s}_${l}`,X=n[V]||{cashTarget:0,accrualTarget:0};return{...N,cashTotal:O,accrualTotal:L,operationalAccrualTotal:M,trafficTotal:ie,newCustomersTotal:Q,newCustomerClosingsTotal:K,newCustomerSalesTotal:ee,skincareSalesTotal:Z,skincareRefundTotal:Y,refundTotal:I,cashBudget:X.cashTarget,accrualBudget:X.accrualTarget,projection:C>0?Math.round(O/C*E):0,achievement:X.cashTarget>0?O/X.cashTarget*100:0,trafficASP:ie>0?Math.round(M/ie):0,newCustomerASP:Q>0?Math.round(ee/Q):0}}),B=U.reduce((N,j)=>({cash:N.cash+j.cashTotal,accrual:N.accrual+j.accrualTotal,operationalAccrual:N.operationalAccrual+j.operationalAccrualTotal,skincareSales:N.skincareSales+j.skincareSalesTotal,skincareRefund:N.skincareRefund+j.skincareRefundTotal,traffic:N.traffic+j.trafficTotal,newCustomers:N.newCustomers+j.newCustomersTotal,newCustomerClosings:N.newCustomerClosings+j.newCustomerClosingsTotal,newCustomerSales:N.newCustomerSales+j.newCustomerSalesTotal,refund:N.refund+j.refundTotal,budget:N.budget+j.cashBudget,accrualBudget:N.accrualBudget+j.accrualBudget,projection:N.projection+j.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),z=Object.entries(e).map(([N,j])=>{const R=U.filter(V=>V.manager===N),I=R.reduce((V,X)=>V+X.cashTotal,0),O=R.reduce((V,X)=>V+X.accrualTotal,0),L=R.reduce((V,X)=>V+X.operationalAccrualTotal,0),M=R.reduce((V,X)=>V+X.cashBudget,0),ie=R.reduce((V,X)=>V+X.skincareSalesTotal,0),Q=R.reduce((V,X)=>V+X.skincareRefundTotal,0),K=R.reduce((V,X)=>V+X.trafficTotal,0),ee=R.reduce((V,X)=>V+X.newCustomersTotal,0),se=R.reduce((V,X)=>V+X.newCustomerClosingsTotal,0),Y=R.reduce((V,X)=>V+X.refundTotal,0),Z=K>0?Math.round(L/K):0;return{manager:N,cashTotal:I,accrualTotal:O,operationalAccrualTotal:L,skincareSalesTotal:ie,skincareRefundTotal:Q,trafficTotal:K,newCustomersTotal:ee,newCustomerClosingsTotal:se,refundTotal:Y,trafficASP:Z,achievement:M>0?I/M*100:0}});return{latestDate:A,daysPassed:C,daysInMonth:E,remainingDays:E-C,dailyTotals:$,storeList:U,grandTotal:B,regionalStats:z,yearlyStats:b,totalAchievement:B.budget>0?B.cash/B.budget*100:0,avgTrafficASP:B.traffic>0?Math.round(B.operationalAccrual/B.traffic):0,avgNewCustomerASP:B.newCustomers>0?Math.round(B.newCustomerSales/B.newCustomers):0,allDates:S}},[t,e,n,r,i]),Epe=()=>d.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"flex items-center justify-center w-6",children:d.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[d.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),d.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),d.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),Ape=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s,auditExclusions:l,handleUpdateAuditExclusions:u,userRole:f,showToast:h,currentBrand:p}=x.useContext(nr),[g,b]=x.useState(`${s}-01`),[_,S]=x.useState(`${s}-12`),[A,E]=x.useState(!1),[C,$]=x.useState([]),D=x.useMemo(()=>{let M="CYJ";if(p){const Q=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();Q.includes("anniu")||Q.includes("anew")?M="":Q.includes("yibo")?M="":M="CYJ"}return M},[p]),U=M=>M?M.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";x.useEffect(()=>{b(`${s}-01`),S(`${s}-12`)},[s]);const B=()=>{$(l||[]),E(!0)},z=async()=>{await u(C),E(!1),h("","success")},N=M=>{$(ie=>ie.includes(M)?ie.filter(Q=>Q!==M):[...ie,M])},j=M=>{let ie="01",Q="03";switch(M){case 1:ie="01",Q="03";break;case 2:ie="04",Q="06";break;case 3:ie="07",Q="09";break;case 4:ie="10",Q="12";break;case"ALL":ie="01",Q="12";break}b(`${s}-${ie}`),S(`${s}-${Q}`)},R=x.useMemo(()=>g===`${s}-01`&&_===`${s}-03`?1:g===`${s}-04`&&_===`${s}-06`?2:g===`${s}-07`&&_===`${s}-09`?3:g===`${s}-10`&&_===`${s}-12`?4:g===`${s}-01`&&_===`${s}-12`?"ALL":null,[g,_,s]),I=x.useMemo(()=>{const M=Object.values(n).flat().filter(W=>!l.includes(W)).map(W=>`${D}${W}`),ie=[];let Q=new Date(`${g}-01`);const K=new Date(`${_}-01`);for(Q>K&&(Q=new Date(`${g}-01`));Q<=K;){const W=Q.getFullYear(),G=Q.getMonth()+1;ie.push({label:`${W}/${G}`,y:W,m:G,dateKey:`${W}/${G.toString().padStart(2,"0")}`}),Q.setMonth(Q.getMonth()+1)}const ee=ie.map(W=>({...W,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(W=>{const G=U(W.storeName);if(l.includes(G)||!W.date)return;const ge=W.date.replace(/-/g,"/").split("/"),oe=parseInt(ge[0]),Oe=parseInt(ge[1]),ne=oe<1911?oe+1911:oe,je=ee.find(me=>me.y===ne&&me.m===Oe);je&&(je.cash+=(W.cash||0)-(W.refund||0),je.accrual+=W.accrual||0,je.traffic+=W.traffic||0)});let se=0,Y=0,Z=0,V=0,X=0;return ee.forEach(W=>{M.forEach(G=>{const fe=`${G}_${W.y}_${W.m}`;e[fe]&&(W.budget+=e[fe].cashTarget||0,W.accrualBudget+=e[fe].accrualTarget||0)}),W.achievement=W.budget>0?W.cash/W.budget*100:0,W.accrualAchievement=W.accrualBudget>0?W.accrual/W.accrualBudget*100:0,se+=W.cash,Y+=W.budget,Z+=W.accrual,V+=W.accrualBudget,X+=W.traffic}),{monthlyStats:ee,totals:{cash:se,budget:Y,cashAch:Y>0?se/Y*100:0,accrual:Z,accrualBudget:V,accrualAch:V>0?Z/V*100:0,traffic:X}}},[t,e,n,g,_,l,D]),{monthlyStats:O,totals:L}=I;return d.jsxs(ei,{children:[d.jsxs("div",{className:"space-y-6 pb-12",children:[d.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:d.jsx(co,{size:24})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-stone-800",children:[" (",D,")"]}),d.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 self-start md:self-auto md:ml-auto",children:[d.jsxs("div",{className:"px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full",children:[":  (",Object.values(n).flat().filter(M=>!l.includes(M)).length," )"]}),(f==="director"||f==="manager")&&d.jsx("button",{onClick:B,className:"p-1.5 bg-stone-100 text-stone-500 rounded-full hover:bg-stone-200 transition-colors",title:" ()",children:d.jsx(Ay,{size:16})})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[d.jsx(V9,{size:18,className:"text-amber-500"}),d.jsx("span",{children:""})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:()=>j("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${R==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(M=>d.jsxs("button",{onClick:()=>j(M),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${R===M?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",M]},M))]}),d.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),d.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:d.jsx("span",{children:""})}),d.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[d.jsx("input",{type:"month",value:g,onChange:M=>b(M.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),d.jsx("span",{className:"text-stone-400",children:d.jsx(Im,{size:16})}),d.jsx("input",{type:"month",value:_,onChange:M=>S(M.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:d.jsx(Zs,{size:100})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[d.jsx(Pd,{size:14})," "]}),d.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(L.cash)}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[d.jsxs("span",{children:[" ",r(L.budget)]}),d.jsxs("span",{children:[L.cashAch.toFixed(1),"%"]})]}),d.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(L.cashAch,100)}%`}})})]})]})]}),d.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:d.jsx(Ga,{size:100})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[d.jsx(ah,{size:14})," "]}),d.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(L.accrual)}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[d.jsxs("span",{children:[" ",r(L.accrualBudget)]}),d.jsxs("span",{className:L.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[L.accrualAch.toFixed(1),"%"]})]}),d.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:d.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(L.accrualAch,100)}%`}})})]})]})]})]}),d.jsx(Pt,{title:"",subtitle:" vs  (/)",children:d.jsx("div",{className:"h-[350px] w-full",children:d.jsx(_h,{width:"100%",height:"100%",children:d.jsxs(uT,{data:O,margin:{top:20,right:0,left:0,bottom:0},children:[d.jsx(_y,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),d.jsx(Ey,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),d.jsx(nd,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:M=>`${(M/1e4).toFixed(0)}`}),d.jsx(kh,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:M=>r(M),itemSorter:M=>({:1,:2,:3,:4})[M.name]||99}),d.jsx(Th,{content:d.jsx(Epe,{}),verticalAlign:"top",height:36}),d.jsx(iT,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),d.jsx(td,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),d.jsx(aT,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),d.jsx(td,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),d.jsx(Pt,{title:"",children:d.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:d.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[d.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:d.jsxs("tr",{children:[d.jsx("th",{className:"pb-3 pl-2",children:""}),d.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),d.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),d.jsx("th",{className:"pb-3 text-right",children:""}),d.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),d.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),d.jsx("th",{className:"pb-3 text-right",children:""}),d.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-50",children:O.map((M,ie)=>d.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[d.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:M.label}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(M.budget)}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(M.cash)}),d.jsx("td",{className:"py-4 text-right font-bold",children:d.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${M.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[M.achievement.toFixed(1),"%"]})}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(M.accrualBudget)}),d.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(M.accrual)}),d.jsx("td",{className:"py-4 text-right font-bold",children:d.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${M.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[M.accrualAchievement.toFixed(1),"%"]})}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(M.traffic)})]},ie))}),d.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:d.jsxs("tr",{children:[d.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(L.budget)}),d.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(L.cash)}),d.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[L.cashAch.toFixed(1),"%"]}),d.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(L.accrualBudget)}),d.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(L.accrual)}),d.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[L.accrualAch.toFixed(1),"%"]}),d.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(L.traffic)})]})})]})})})]}),A&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(fT,{size:20,className:"text-rose-400"}),"  (",D,")"]}),d.jsx("button",{onClick:()=>E(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:d.jsx(sa,{size:20})})]}),d.jsxs("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:[d.jsxs("p",{children:[" ",d.jsx("span",{className:"font-bold text-rose-500",children:""})," "]}),d.jsx("p",{className:"text-xs mt-1 text-stone-400",children:"()"})]}),d.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(n).map(([M,ie])=>d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[M," "]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ie.map(Q=>{const K=C.includes(Q);return d.jsxs("button",{onClick:()=>N(Q),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${K?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[K&&d.jsx(Js,{size:14}),Q]},Q)})})]},M))}),d.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),d.jsxs("button",{onClick:z,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[d.jsx(Sl,{size:18})," "]})]})]})})]})},Tpe=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s,getCollectionPath:l,currentBrand:u}=x.useContext(nr),f=new Date().getFullYear(),[h,p]=x.useState(f),[g,b]=x.useState(""),[_,S]=x.useState(""),[A,E]=x.useState(!1),[C,$]=x.useState(Array.from({length:12},(j,R)=>({month:R+1,cashTarget:"",accrualTarget:""}))),D=x.useMemo(()=>{let j="CYJ";if(u){const I=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();I.includes("anniu")||I.includes("anew")?j="":I.includes("yibo")?j="":j="CYJ"}return j},[u]),U=x.useMemo(()=>{const j=R=>{const I=R.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${D}${I}`};return t==="director"||t==="trainer"?g?(e[g]||[]).map(j):[]:t==="manager"?Object.values(e).flat().map(j):t==="store"&&n?(n.stores||[n.storeName]).map(j):[]},[g,e,n,t,D]);x.useEffect(()=>{if(_&&!U.includes(_)&&S(""),t==="store"&&n){const j=n.stores||[n.storeName];if(j.length>0){let R=j[0];R=R.replace(/CYJ|||Anew|Yibo|/gi,"").trim();const I=Object.keys(e).find(L=>e[L].includes(R));I&&b(I);const O=`${D}${R}`;S(O)}}else t==="manager"&&n&&b(n.name)},[t,n,e,D,U]),x.useEffect(()=>{if(!_){$(Array.from({length:12},(R,I)=>({month:I+1,cashTarget:"",accrualTarget:""})));return}const j=Array.from({length:12},(R,I)=>{const O=I+1,L=`${_}_${h}_${O}`,M=r[L];return{month:O,cashTarget:M?hc(M.cashTarget):"",accrualTarget:M?hc(M.accrualTarget):""}});$(j)},[_,h,r]);const B=j=>{if(t==="director"||t==="manager"||t==="trainer")return!1;const R=j+1,I=`${_}_${h}_${R}`,O=r[I];return!!(O&&(O.cashTarget>0||O.accrualTarget>0))},z=(j,R,I)=>{if(B(j))return;const O=I.replace(/,/g,"");/^\d*$/.test(O)&&$(L=>{const M=[...L];return M[j]={...M[j],[R]:hc(O)},M})},N=async()=>{if(!_){i("","error");return}E(!0);try{const j=Jw(na);let R=!1;if(C.forEach((I,O)=>{if(B(O))return;const L=mr(I.cashTarget),M=mr(I.accrualTarget);if(L>0||M>0){const ie=`${_}_${h}_${I.month}`,Q=Nr(l("monthly_targets"),ie);j.set(Q,{cashTarget:L,accrualTarget:M,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),R=!0}}),!R){i("","info"),E(!1);return}await j.commit(),i(`${h} `,"success"),s(t,n?.name,"",`${_} ${h}`)}catch(j){console.error("Save targets error:",j),i("","error")}finally{E(!1)}};return d.jsx(ei,{children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[d.jsx(Pt,{children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:d.jsx(ad,{size:24})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[d.jsxs("p",{children:["Annual Budget Planning (",D,")"]}),t==="store"&&d.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[d.jsx(fc,{size:10})," "]})]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[d.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[d.jsxs("select",{value:h,onChange:j=>p(Number(j.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[d.jsxs("option",{value:f-1,children:[f-1," "]}),d.jsxs("option",{value:f,children:[f," "]}),d.jsxs("option",{value:f+1,children:[f+1," "]})]}),d.jsx(co,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),d.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:d.jsxs("select",{value:g,onChange:j=>{b(j.target.value),S("")},disabled:t!=="director"&&t!=="trainer",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(e).map(j=>d.jsxs("option",{value:j,children:[j,""]},j))]})}),d.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[d.jsxs("select",{value:_,onChange:j=>S(j.target.value),disabled:!g,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[d.jsx("option",{value:"",children:"..."}),U.map(j=>d.jsx("option",{value:j,children:j},j))]}),d.jsx(vi,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),_?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block",children:d.jsx(Pt,{title:`${_} - ${h} `,children:d.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"py-3 pl-4",children:""}),d.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),d.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),d.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-stone-100",children:C.map((j,R)=>{const I=B(R);return d.jsxs("tr",{className:`transition-colors ${I?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[d.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[j.month," "]}),d.jsx("td",{className:"py-2 px-2",children:d.jsxs("div",{className:"relative",children:[d.jsx(Zs,{size:14,className:`absolute left-3 top-3 ${I?"text-stone-300":"text-stone-400"}`}),d.jsx("input",{type:"text",placeholder:I?"-":"0",value:j.cashTarget,onChange:O=>z(R,"cashTarget",O.target.value),disabled:I,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${I?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),d.jsx("td",{className:"py-2 px-2",children:d.jsxs("div",{className:"relative",children:[d.jsx(eS,{size:14,className:`absolute left-3 top-3 ${I?"text-stone-300":"text-stone-400"}`}),d.jsx("input",{type:"text",placeholder:I?"-":"0",value:j.accrualTarget,onChange:O=>z(R,"accrualTarget",O.target.value),disabled:I,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${I?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),d.jsx("td",{className:"py-2 px-2 text-center",children:I?d.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:d.jsx(fc,{size:16})}):j.cashTarget?d.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:d.jsx(Js,{size:16,className:"opacity-0 group-hover:opacity-50"})}):d.jsx("div",{className:"flex items-center justify-center text-stone-200",children:d.jsx(ad,{size:16})})})]},j.month)})})]})})})}),d.jsxs("div",{className:"md:hidden space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between px-2",children:d.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[d.jsx(vi,{size:18,className:"text-amber-500"}),_,d.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:h})]})}),C.map((j,R)=>{const I=B(R);return d.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${I?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[d.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[d.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[j.month," "]}),j.cashTarget&&!I&&d.jsx(Js,{size:16,className:"text-emerald-500"})]}),I&&d.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[d.jsx(fc,{size:12})," "]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[d.jsx(Zs,{size:12}),"  (Cash)"]}),d.jsx("input",{type:"text",inputMode:"numeric",placeholder:I?"":"...",value:j.cashTarget,onChange:O=>z(R,"cashTarget",O.target.value),disabled:I,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${I?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[d.jsx(eS,{size:12}),"  (Accrual)"]}),d.jsx("input",{type:"text",inputMode:"numeric",placeholder:I?"":"...",value:j.accrualTarget,onChange:O=>z(R,"accrualTarget",O.target.value),disabled:I,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${I?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},j.month)})]}),d.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:d.jsx("button",{onClick:N,disabled:A,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:A?"...":d.jsxs(d.Fragment,{children:[d.jsx(Sl,{size:20})," "]})})}),d.jsx("div",{className:"h-24 md:hidden"})]}):d.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[d.jsx(vi,{size:48,className:"mx-auto mb-2 opacity-20"}),d.jsx("p",{children:""})]})]})})},jpe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=x.useContext(nr),[f,h]=x.useState(new Date().getFullYear().toString()),[p,g]=x.useState(""),[b,_]=x.useState(""),[S,A]=x.useState(""),[E,C]=x.useState({}),$=x.useMemo(()=>{let z="CYJ";if(u){const j=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();j.includes("anniu")||j.includes("anew")?z="":j.includes("yibo")?z="":z="CYJ"}return z},[u]);x.useEffect(()=>{g(""),_(""),A("");const z=N=>N?N.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const N=i.storeName||i.store||"",j=z(N),R=Object.keys(s).find(I=>s[I].includes(j));R&&g(R),_(j||i.store),A(i.id)}else if(r==="store"&&i){const N=i.stores||[i.storeName];if(N.length>0){const j=N[0],R=z(j),I=Object.keys(s).find(O=>s[O].includes(R));I&&g(I),N.length===1&&_(R)}}else r==="manager"&&i&&g(i.name)},[r,i,s,$,u]);const D=x.useMemo(()=>{if(!p)return[];const z=s[p]||[];if(r==="store"&&i){const j=(i.stores||[i.storeName]).map(R=>R.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return z.filter(R=>j.includes(R))}return z},[p,s,r,i]),U=x.useMemo(()=>b?e.filter(z=>z.status==="active"&&z.store===b).sort((z,N)=>z.name.localeCompare(N.name)):[],[b,e]);x.useEffect(()=>{if(S&&f){const z=`${S}_${f}`,N=n[z]||{};C(N.monthlyTargets||{})}else C({})},[S,f,n]);const B=async()=>{if(!S)return t("","error");try{const z=`${S}_${f}`;await zn(Nr(l("therapist_targets"),z),{therapistId:S,year:f,monthlyTargets:E,updatedAt:gd()},{merge:!0}),t("","success")}catch(z){console.error(z),t("","error")}};return d.jsx(ei,{children:d.jsx(Pt,{title:"",subtitle:"",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(mT,{size:12}),"  ()"]}),d.jsxs("select",{value:p,onChange:z=>{g(z.target.value),_(""),A("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(s).map(z=>d.jsxs("option",{value:z,children:[z,""]},z))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(vi,{size:12})," "]}),d.jsxs("select",{value:b,onChange:z=>{_(z.target.value),A("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),D.map(z=>d.jsxs("option",{value:z,children:[$,z,""]},z))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(gl,{size:12})," "]}),d.jsxs("select",{value:S,onChange:z=>A(z.target.value),disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),U.map(z=>d.jsx("option",{value:z.id,children:z.name},z.id))]})]}),d.jsxs("div",{className:"w-full md:w-32",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:f,onChange:z=>h(z.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(z=>d.jsxs("option",{value:z,children:[z,""]},z))})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:B,disabled:!S,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[d.jsx(Sl,{size:18})," "]})}),S?d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(z,N)=>N+1).map(z=>d.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[z," "]}),d.jsxs("div",{className:"relative",children:[d.jsx(Zs,{size:14,className:"absolute left-3 top-3 text-stone-400"}),d.jsx("input",{type:"number",value:E[z]||"",onChange:N=>C({...E,[z]:N.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},z))}):d.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:d.jsx(Pd,{size:32,className:"opacity-20"})}),d.jsx("p",{children:"  >  >  "})]})]})})})},Npe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=x.useContext(nr),[f,h]=x.useState(new Date().getFullYear().toString()),[p,g]=x.useState((new Date().getMonth()+1).toString()),[b,_]=x.useState(""),[S,A]=x.useState(""),[E,C]=x.useState(""),[$,D]=x.useState([]),U=x.useMemo(()=>{let I="CYJ";if(u){const L=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();L.includes("anniu")||L.includes("anew")?I="":L.includes("yibo")?I="":I="CYJ"}return I},[u]);x.useEffect(()=>{_(""),A(""),C("");const I=O=>O?O.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const O=i.storeName||i.store||"",L=I(O),M=Object.keys(s).find(ie=>s[ie].includes(L));M&&_(M),A(L||i.store),C(i.id)}else if(r==="store"&&i){const O=i.stores||[i.storeName];if(O.length>0){const L=O[0],M=I(L),ie=Object.keys(s).find(Q=>s[Q].includes(M));ie&&_(ie),O.length===1&&A(M)}}else r==="manager"&&i&&_(i.name)},[r,i,s,U,u]);const B=x.useMemo(()=>{if(!b)return[];const I=s[b]||[];if(r==="store"&&i){const L=(i.stores||[i.storeName]).map(M=>M.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return I.filter(M=>L.includes(M))}return I},[b,s,r,i]),z=x.useMemo(()=>S?e.filter(I=>I.status==="active"&&I.store===S).sort((I,O)=>I.name.localeCompare(O.name)):[],[S,e]);x.useEffect(()=>{if(E&&f&&p){const I=`${E}_${f}_${parseInt(p)}`,O=n[I]||{};D(O.daysOff||[])}else D([])},[E,f,p,n]);const N=I=>{D(O=>O.includes(I)?O.filter(L=>L!==I):[...O,I].sort((L,M)=>L-M))},j=async()=>{if(!E)return t("","error");try{const I=`${E}_${f}_${parseInt(p)}`;await zn(Nr(l("therapist_schedules"),I),{therapistId:E,year:f,month:parseInt(p),daysOff:$,updatedAt:gd()},{merge:!0}),t("","success")}catch(I){console.error(I),t("","error")}},R=(I,O)=>new Date(I,O,0).getDate();return d.jsx(ei,{children:d.jsx(Pt,{title:"",subtitle:" ()",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(mT,{size:12}),"  ()"]}),d.jsxs("select",{value:b,onChange:I=>{_(I.target.value),A(""),C("")},disabled:r==="manager"||r==="therapist"||r==="store"&&b!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),Object.keys(s).map(I=>d.jsxs("option",{value:I,children:[I,""]},I))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(vi,{size:12})," "]}),d.jsxs("select",{value:S,onChange:I=>{A(I.target.value),C("")},disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),B.map(I=>d.jsxs("option",{value:I,children:[U,I,""]},I))]})]}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[d.jsx(gl,{size:12})," "]}),d.jsxs("select",{value:E,onChange:I=>C(I.target.value),disabled:!S||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[d.jsx("option",{value:"",children:"..."}),z.map(I=>d.jsx("option",{value:I.id,children:I.name},I.id))]})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsxs("div",{className:"w-1/2 md:w-24",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:f,onChange:I=>h(I.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[2024,2025,2026].map(I=>d.jsx("option",{value:I,children:I},I))})]}),d.jsxs("div",{className:"w-1/2 md:w-24",children:[d.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),d.jsx("select",{value:p,onChange:I=>g(I.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(I,O)=>O+1).map(I=>d.jsxs("option",{value:I,children:[I,""]},I))})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:j,disabled:!E,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[d.jsx(Sl,{size:18})," "]})}),E?d.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[d.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(I=>d.jsx("div",{className:"text-xs font-bold text-stone-400",children:I},I))}),d.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(f,p-1,1).getDay()}).map((I,O)=>d.jsx("div",{},`empty-${O}`)),Array.from({length:R(f,p)}).map((I,O)=>{const L=O+1,M=$.includes(L);return d.jsxs("button",{onClick:()=>N(L),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${M?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[L,M&&d.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},L)})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):d.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:d.jsx(co,{size:32,className:"opacity-20"})}),d.jsx("p",{children:"  >  >  "})]})]})})})},VM=[{id:"cyj",label:"CYJ",icon:id,pathType:"legacy",color:"amber",gradient:"from-amber-500 to-orange-600",bg:"bg-amber-50",text:"text-amber-600"},{id:"anniu",label:"Anew ()",icon:tS,pathType:"new",color:"rose",gradient:"from-rose-400 to-pink-600",bg:"bg-rose-50",text:"text-rose-600"},{id:"yibo",label:"Yibo ()",icon:vme,pathType:"new",color:"sky",gradient:"from-sky-400 to-indigo-600",bg:"bg-sky-50",text:"text-sky-600"}];function Cpe(){const[t,e]=x.useState(null),[n,r]=x.useState(null),[i,s]=x.useState(null),[l,u]=x.useState(!0),[f,h]=x.useState("dashboard"),[p,g]=x.useState(!0),[b,_]=x.useState(null),[S,A]=x.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[E,C]=x.useState(""),[$,D]=x.useState("cyj"),[U,B]=x.useState(!1),z=x.useMemo(()=>VM.find(Ee=>Ee.id===$)||VM[0],[$]),N=Ee=>{D(Ee),B(!0)},j=x.useCallback(Ee=>z.pathType==="legacy"?gh(na,"artifacts",Gf,"public","data",Ee):gh(na,"brands",z.id,Ee),[z]),R=x.useCallback(Ee=>z.pathType==="legacy"?Nr(na,"artifacts",Gf,"public","data","global_settings",Ee):Nr(na,"brands",z.id,"settings",Ee),[z]),[I,O]=x.useState([]),[L,M]=x.useState({}),[ie,Q]=x.useState({newASP:3500,trafficASP:1200}),[K,ee]=x.useState({}),[se,Y]=x.useState([]),[Z,V]=x.useState({}),[X,W]=x.useState(zg),[G,fe]=x.useState([]),[ge,oe]=x.useState({password:"0000"}),[Oe,ne]=x.useState([]),[je,me]=x.useState({}),[ve,he]=x.useState({}),[Ne,Ce]=x.useState([]),[ze,bt]=x.useState(!1),[rr,Tt]=x.useState(15),Vt=x.useRef(Date.now()),[Qe,bi]=x.useState(new Date().getFullYear().toString()),[xi,Dn]=x.useState((new Date().getMonth()+1).toString()),[ni,as]=x.useState(()=>K9(new Date)),xt=x.useCallback(Ee=>String(Ee||"").replace(/^(CYJ|Anew\s*\(\)|Yibo\s*\(\)|||Anew|Yibo)\s*/i,"").replace(/$/,"").trim(),[]),ir=x.useCallback(async(Ee,H,Se,Te)=>{let Ie="PC";if(typeof navigator<"u"){const Xe=navigator.userAgent.toLowerCase();Xe.includes("android")?Ie="Android":Xe.includes("iphone")||Xe.includes("ipad")?Ie="iOS":Xe.includes("mobile")&&(Ie="Mobile")}try{await tE(j("system_logs"),{timestamp:gd(),role:Ee,user:H,action:Se,details:Te,device:Ie})}catch(Xe){console.error("Failed to log activity",Xe)}},[j]),ga=x.useCallback(async(Ee="")=>{const H=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&ir(n,H,"",Ee),bt(!1),Tt(15),Vt.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),h("dashboard")},[i,n,ir]),va=x.useCallback(()=>{n&&(Vt.current=Date.now(),ze&&(bt(!1),Tt(15)))},[n,ze]);x.useEffect(()=>{let Ee=null;return n&&(Ee=setInterval(()=>{const Se=Date.now()-Vt.current,Te=165*1e3,Ie=180*1e3;if(Se>Ie)clearInterval(Ee),ga(" 3 ");else if(Se>Te){ze||bt(!0);const Xe=Math.ceil((Ie-Se)/1e3);Tt(Xe>0?Xe:0)}else ze&&bt(!1)},1e3)),()=>{Ee&&clearInterval(Ee)}},[n,ze,ga]),x.useEffect(()=>{if(n){const Ee=["mousemove","mousedown","keypress","scroll","touchstart","click"];let H;const Se=()=>{H||(va(),H=setTimeout(()=>{H=null},500))};return Ee.forEach(Te=>window.addEventListener(Te,Se)),Vt.current=Date.now(),()=>{Ee.forEach(Te=>window.removeEventListener(Te,Se))}}},[n,va]),x.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await sB(zx,__initial_auth_token):await tB(zx)}catch(H){console.warn("Auth Error:",H)}})(),cB(zx,H=>{e(H),u(!1)})),[]),x.useEffect(()=>{if(!t)return;O([]),M({}),ee({}),Y([]),V({}),fe([]),ne([]),me({}),he({}),W(zg),Q({newASP:3500,trafficASP:1200});const Ee=Gr(vh(j("daily_reports"),av("date","desc")),rt=>O(rt.docs.map(Qt=>({id:Qt.id,...Qt.data()})))),H=Gr(j("monthly_targets"),rt=>{const Qt={};rt.docs.forEach(mn=>Qt[mn.id]=mn.data()),M(Qt)}),Se=Gr(R("kpi_targets"),rt=>{rt.exists()?Q(rt.data()):Q({newASP:3500,trafficASP:1200})}),Te=Gr(R("org_structure"),rt=>{if(rt.exists()){const Qt=rt.data().managers||{},mn={};Object.keys(Qt).forEach(Yi=>{!Yi.includes("")&&!Yi.includes("")&&(mn[Yi]=Qt[Yi])}),ee(mn)}else z.id==="cyj"?ee(tpe):ee({})}),Ie=Gr(R("store_account_data"),rt=>{rt.exists()?Y(rt.data().accounts):Y([])}),Xe=Gr(R("manager_auth"),rt=>{rt.exists()?V(rt.data()):V({})}),mt=Gr(R("permissions"),rt=>{rt.exists()?W(rt.data()):W(zg)}),sr=Gr(j("therapists"),rt=>fe(rt.docs.map(Qt=>({id:Qt.id,...Qt.data()})))),rn=Gr(vh(j("therapist_daily_reports"),av("date","desc"),o5(1e3)),rt=>ne(rt.docs.map(Qt=>({id:Qt.id,...Qt.data()})))),jt=Gr(j("therapist_schedules"),rt=>{const Qt={};rt.docs.forEach(mn=>Qt[mn.id]=mn.data()),me(Qt)}),_i=Gr(j("therapist_targets"),rt=>{const Qt={};rt.docs.forEach(mn=>Qt[mn.id]=mn.data()),he(Qt)}),fo=Gr(R("trainer_auth"),rt=>{rt.exists()?oe(rt.data()):oe({password:"0000"})}),Rd=Gr(R("audit_exclusions"),rt=>{rt.exists()?Ce(rt.data().stores||[]):Ce([])});return()=>{Ee(),H(),Se(),Te(),Ie(),Xe(),mt(),sr(),rn(),jt(),_i(),fo(),Rd()}},[t,z,j,R]);const uo=(Ee,H=null)=>{let Se=H;if(Ee==="therapist"&&H?.name){const Ie=G.find(Xe=>Xe.name===H.name);Ie&&(Se={...H,...Ie,id:Ie.id||H.id})}r(Ee),Se&&s(Se);const Te=Se?.name||(Ee==="director"?"":Ee==="trainer"?"":"");ir(Ee,Te,"",""),h("dashboard")},ya=async(Ee,H)=>{try{const Se=se.map(Te=>Te.id===Ee?{...Te,password:H}:Te);return await zn(R("store_account_data"),{accounts:Se}),!0}catch{return!1}},ar=async(Ee,H)=>{try{return await zn(R("manager_auth"),{[Ee]:H},{merge:!0}),!0}catch{return!1}},cn=async(Ee,H)=>{try{return await ov(Nr(j("therapists"),Ee),{password:H}),!0}catch(Se){return console.error(Se),!1}},Yn=async Ee=>{try{return await zn(R("trainer_auth"),{password:Ee}),!0}catch(H){return console.error(H),!1}},Kt=async Ee=>{try{return await zn(R("audit_exclusions"),{stores:Ee}),!0}catch(H){return console.error(H),!1}},ba=x.useCallback(Ee=>{h("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:Ee}))},[]),wi=x.useMemo(()=>{if(n===fr.TRAINER.id)return[];if(n===fr.STORE.id&&i){const Ee=(i.stores||[i.storeName]).map(xt).filter(Boolean);return I.filter(H=>Ee.includes(xt(H.storeName)))}if(n===fr.MANAGER.id&&i){const Ee=(K[i.name]||[]).map(xt).filter(Boolean);return I.filter(H=>Ee.includes(xt(H.storeName)))}return I},[I,n,i,K,xt]),ss=x.useMemo(()=>{if(n===fr.DIRECTOR.id||n===fr.TRAINER.id||n===fr.THERAPIST.id)return Oe;if(n===fr.MANAGER.id&&i){const Ee=(K[i.name]||[]).map(xt).filter(Boolean);return Oe.filter(H=>Ee.includes(xt(H.storeName)))}if(n===fr.STORE.id&&i){const Ee=(i.stores||[i.storeName]).map(xt).filter(Boolean);return Oe.filter(H=>Ee.includes(xt(H.storeName)))}return[]},[Oe,n,i,K,xt]),Pr=x.useMemo(()=>{if(n===fr.DIRECTOR.id||n===fr.TRAINER.id)return G;if(n===fr.MANAGER.id&&i){const Ee=(K[i.name]||[]).map(xt).filter(Boolean);return G.filter(H=>Ee.includes(xt(H.store)))}if(n===fr.STORE.id&&i){const Ee=(i.stores||[i.storeName]).map(xt).filter(Boolean);return G.filter(H=>Ee.includes(xt(H.store)))}return n===fr.THERAPIST.id&&i?G.filter(Ee=>Ee.id===i.id):[]},[G,n,i,K,xt]),ri=x.useMemo(()=>{let Ee=K;if(n===fr.MANAGER.id&&i){const H=K[i.name]||[];Ee={[i.name]:H}}else if(n===fr.STORE.id&&i){const H=(i.stores||(i.storeName?[i.storeName]:[])).map(xt),Se={};Object.entries(K).forEach(([Te,Ie])=>{const Xe=Ie.filter(mt=>H.includes(xt(mt)));Xe.length>0&&(Se[Te]=Xe)}),Ee=Se}if(f!=="settings"){const H={};return Object.entries(Ee).forEach(([Se,Te])=>{!Se.includes("")&&!Se.includes("")&&(H[Se]=Te)}),H}return Ee},[K,n,i,f,xt]),nn=x.useMemo(()=>{const Ee={};return Object.entries(K).forEach(([H,Se])=>{!H.includes("")&&!H.includes("")&&(Ee[H]=Se)}),Ee},[K]),wr=Spe(wi,ri,L,Qe,xi),Vr=(Ee,H="info")=>_({message:Ee,type:H}),Ir=x.useCallback((Ee,H,Se)=>A({isOpen:!0,title:Ee,message:H,onConfirm:()=>{Se(),A(Te=>({...Te,isOpen:!1}))}}),[]),El=()=>A(Ee=>({...Ee,isOpen:!1})),os=x.useMemo(()=>{const Ee=$==="anniu"?"":$==="yibo"?"":"CYJ";return Object.values(K).flat().map(H=>`${Ee}${xt(H)}`)},[K,$,xt]),$r=Ee=>`$${(Ee||0).toLocaleString()}`,Ki=Ee=>(Ee||0).toLocaleString(),Al=x.useMemo(()=>({user:t,loading:l,analytics:wr,managers:ri,budgets:L,targets:ie,rawData:wi,allReports:I,showToast:Vr,openConfirm:Ir,fmtMoney:$r,fmtNum:Ki,inputDate:ni,setInputDate:as,storeList:wr?.storeList||[],setTargets:Q,selectedYear:Qe,selectedMonth:xi,permissions:X,storeAccounts:se,managerAuth:Z,currentUser:i,userRole:n,logActivity:ir,handleUpdateStorePassword:ya,handleUpdateManagerPassword:ar,handleUpdateTherapistPassword:cn,navigateToStore:ba,activeView:f,appId:Gf,therapists:Pr,therapistReports:ss,therapistSchedules:je,therapistTargets:ve,trainerAuth:ge,handleUpdateTrainerAuth:Yn,auditExclusions:Ne,handleUpdateAuditExclusions:Kt,currentBrand:z,setCurrentBrandId:D,getCollectionPath:j,getDocPath:R}),[t,l,wr,ri,L,ie,wi,I,ni,Qe,xi,X,se,Z,i,n,ir,ya,ar,cn,ba,f,Gf,Pr,ss,je,ve,ge,Yn,Ne,Kt,z,D,j,R]);return l?d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[d.jsx(Rs,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),d.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?d.jsx(nr.Provider,{value:Al,children:d.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[d.jsx(ape,{activeView:f,setActiveView:h,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>ga(),permissions:X,currentUser:i}),d.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[d.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:d.jsx(hme,{size:24})}),d.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[d.jsx("span",{className:"text-amber-600",children:""})," ",Nc.find(Ee=>Ee.id===f)?.label||(f==="targets"?"":"DRCYJ System")]}),d.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[d.jsx(D9,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),d.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[d.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[d.jsx(gT,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),d.jsx("input",{type:"text",placeholder:"...",value:E,onChange:Ee=>C(Ee.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),E&&d.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:os.filter(Ee=>Ee.includes(E)).length>0?os.filter(Ee=>Ee.includes(E)).map(Ee=>d.jsxs("button",{onClick:()=>{ba(Ee),C("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[d.jsx(vi,{size:16,className:"text-stone-400"})," ",Ee]},Ee)):d.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[d.jsx(V9,{size:16,className:"text-stone-400 hidden sm:block"}),d.jsx("select",{value:Qe,onChange:Ee=>bi(Ee.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(Ee=>d.jsx("option",{value:Ee,children:Ee},Ee))}),d.jsx("select",{value:xi,onChange:Ee=>Dn(Ee.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(Ee,H)=>H+1).map(Ee=>d.jsxs("option",{value:Ee,children:[Ee,""]},Ee))})]})]})]}),d.jsx(spe,{activeView:f,setActiveView:h,permissions:X,userRole:n,onLogout:()=>ga()}),d.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[f==="dashboard"&&d.jsx(cpe,{}),f==="regional"&&d.jsx(ppe,{}),f==="ranking"&&d.jsx(gpe,{}),f==="audit"&&d.jsx(_pe,{}),f==="history"&&d.jsx(mpe,{}),f==="input"&&d.jsx(hpe,{}),f==="logs"&&d.jsx(ype,{}),f==="settings"&&d.jsx(wpe,{}),f==="annual"&&d.jsx(Ape,{}),f==="store-analysis"&&d.jsx(vpe,{}),f==="targets"&&d.jsx(Tpe,{}),f==="t-targets"&&d.jsx(jpe,{}),f==="t-schedule"&&d.jsx(Npe,{})]})]}),b&&d.jsx(rpe,{message:b.message,type:b.type,onClose:()=>_(null)}),d.jsx(ipe,{isOpen:S.isOpen,title:S.title,message:S.message,onConfirm:S.onConfirm,onCancel:El}),ze&&d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:d.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[d.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[d.jsx(Dhe,{size:40,className:"animate-pulse"})," "]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),d.jsxs("p",{className:"text-stone-500 font-medium",children:["",d.jsx("br",{})," ",d.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:rr})," "]})]}),d.jsx("button",{onClick:va,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):d.jsx(lpe,{onLogin:uo,storeAccounts:se,managers:nn,managerAuth:Z,therapists:G,onUpdatePassword:ya,onUpdateManagerPassword:ar,onUpdateTherapistPassword:cn,trainerAuth:ge,handleUpdateTrainerAuth:Yn,currentBrandId:$,onSwitchBrand:N,hasSelectedBrand:U})}k8.createRoot(document.getElementById("root")).render(d.jsx(x.StrictMode,{children:d.jsx(Cpe,{})}));
