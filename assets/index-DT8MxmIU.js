function i9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Us(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gb={exports:{}},hf={};var XN;function a9(){if(XN)return hf;XN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return hf.Fragment=e,hf.jsx=n,hf.jsxs=n,hf}var QN;function s9(){return QN||(QN=1,Gb.exports=a9()),Gb.exports}var f=s9(),Yb={exports:{}},He={};var JN;function o9(){if(JN)return He;JN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function O(U,X,Y){this.props=U,this.context=X,this.refs=A,this.updater=Y||S}O.prototype.isReactComponent={},O.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},O.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function L(){}L.prototype=O.prototype;function V(U,X,Y){this.props=U,this.context=X,this.refs=A,this.updater=Y||S}var B=V.prototype=new L;B.constructor=V,E(B,O.prototype),B.isPureReactComponent=!0;var $=Array.isArray;function z(){}var j={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function M(U,X,Y){var W=Y.ref;return{$$typeof:t,type:U,key:X,ref:W!==void 0?W:null,props:Y}}function P(U,X){return M(U.type,X,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Y){return X[Y]})}var k=/\/+/g;function ne(U,X){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):X.toString(36)}function G(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(z,z):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,X,Y,W,ge){var ve=typeof U;(ve==="undefined"||ve==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(ve){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case t:case e:pe=!0;break;case p:return pe=U._init,K(pe(U._payload),X,Y,W,ge)}}if(pe)return ge=ge(U),pe=W===""?"."+ne(U,0):W,$(ge)?(Y="",pe!=null&&(Y=pe.replace(k,"$&/")+"/"),K(ge,X,Y,"",function(Ee){return Ee})):ge!=null&&(I(ge)&&(ge=P(ge,Y+(ge.key==null||U&&U.key===ge.key?"":(""+ge.key).replace(k,"$&/")+"/")+pe)),X.push(ge)),1;pe=0;var je=W===""?".":W+":";if($(U))for(var ae=0;ae<U.length;ae++)W=U[ae],ve=je+ne(W,ae),pe+=K(W,X,Y,ve,ge);else if(ae=_(U),typeof ae=="function")for(U=ae.call(U),ae=0;!(W=U.next()).done;)W=W.value,ve=je+ne(W,ae++),pe+=K(W,X,Y,ve,ge);else if(ve==="object"){if(typeof U.then=="function")return K(G(U),X,Y,W,ge);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Z(U,X,Y){if(U==null)return U;var W=[],ge=0;return K(U,W,"","",function(ve){return X.call(Y,ve,ge++)}),W}function ie(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(Y){(U._status===0||U._status===-1)&&(U._status=1,U._result=Y)},function(Y){(U._status===0||U._status===-1)&&(U._status=2,U._result=Y)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var te=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},se={map:Z,forEach:function(U,X,Y){Z(U,function(){X.apply(this,arguments)},Y)},count:function(U){var X=0;return Z(U,function(){X++}),X},toArray:function(U){return Z(U,function(X){return X})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return He.Activity=g,He.Children=se,He.Component=O,He.Fragment=n,He.Profiler=i,He.PureComponent=V,He.StrictMode=r,He.Suspense=d,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,He.__COMPILER_RUNTIME={__proto__:null,c:function(U){return j.H.useMemoCache(U)}},He.cache=function(U){return function(){return U.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(U,X,Y){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var W=E({},U.props),ge=U.key;if(X!=null)for(ve in X.key!==void 0&&(ge=""+X.key),X)!N.call(X,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&X.ref===void 0||(W[ve]=X[ve]);var ve=arguments.length-2;if(ve===1)W.children=Y;else if(1<ve){for(var pe=Array(ve),je=0;je<ve;je++)pe[je]=arguments[je+2];W.children=pe}return M(U.type,ge,W)},He.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},He.createElement=function(U,X,Y){var W,ge={},ve=null;if(X!=null)for(W in X.key!==void 0&&(ve=""+X.key),X)N.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ge[W]=X[W]);var pe=arguments.length-2;if(pe===1)ge.children=Y;else if(1<pe){for(var je=Array(pe),ae=0;ae<pe;ae++)je[ae]=arguments[ae+2];ge.children=je}if(U&&U.defaultProps)for(W in pe=U.defaultProps,pe)ge[W]===void 0&&(ge[W]=pe[W]);return M(U,ve,ge)},He.createRef=function(){return{current:null}},He.forwardRef=function(U){return{$$typeof:u,render:U}},He.isValidElement=I,He.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:ie}},He.memo=function(U,X){return{$$typeof:m,type:U,compare:X===void 0?null:X}},He.startTransition=function(U){var X=j.T,Y={};j.T=Y;try{var W=U(),ge=j.S;ge!==null&&ge(Y,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(z,te)}catch(ve){te(ve)}finally{X!==null&&Y.types!==null&&(X.types=Y.types),j.T=X}},He.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},He.use=function(U){return j.H.use(U)},He.useActionState=function(U,X,Y){return j.H.useActionState(U,X,Y)},He.useCallback=function(U,X){return j.H.useCallback(U,X)},He.useContext=function(U){return j.H.useContext(U)},He.useDebugValue=function(){},He.useDeferredValue=function(U,X){return j.H.useDeferredValue(U,X)},He.useEffect=function(U,X){return j.H.useEffect(U,X)},He.useEffectEvent=function(U){return j.H.useEffectEvent(U)},He.useId=function(){return j.H.useId()},He.useImperativeHandle=function(U,X,Y){return j.H.useImperativeHandle(U,X,Y)},He.useInsertionEffect=function(U,X){return j.H.useInsertionEffect(U,X)},He.useLayoutEffect=function(U,X){return j.H.useLayoutEffect(U,X)},He.useMemo=function(U,X){return j.H.useMemo(U,X)},He.useOptimistic=function(U,X){return j.H.useOptimistic(U,X)},He.useReducer=function(U,X,Y){return j.H.useReducer(U,X,Y)},He.useRef=function(U){return j.H.useRef(U)},He.useState=function(U){return j.H.useState(U)},He.useSyncExternalStore=function(U,X,Y){return j.H.useSyncExternalStore(U,X,Y)},He.useTransition=function(){return j.H.useTransition()},He.version="19.2.3",He}var ZN;function Gu(){return ZN||(ZN=1,Yb.exports=o9()),Yb.exports}var w=Gu();const Rk=Us(w),l9=i9({__proto__:null,default:Rk},[w]);var Wb={exports:{}},mf={},Xb={exports:{}},Qb={};var ej;function c9(){return ej||(ej=1,(function(t){function e(K,Z){var ie=K.length;K.push(Z);e:for(;0<ie;){var te=ie-1>>>1,se=K[te];if(0<i(se,Z))K[te]=Z,K[ie]=se,ie=te;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],ie=K.pop();if(ie!==Z){K[0]=ie;e:for(var te=0,se=K.length,U=se>>>1;te<U;){var X=2*(te+1)-1,Y=K[X],W=X+1,ge=K[W];if(0>i(Y,ie))W<se&&0>i(ge,Y)?(K[te]=ge,K[W]=ie,te=W):(K[te]=Y,K[X]=ie,te=X);else if(W<se&&0>i(ge,ie))K[te]=ge,K[W]=ie,te=W;else break e}}return Z}function i(K,Z){var ie=K.sortIndex-Z.sortIndex;return ie!==0?ie:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],p=1,g=null,b=3,_=!1,S=!1,E=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var Z=n(m);Z!==null;){if(Z.callback===null)r(m);else if(Z.startTime<=K)r(m),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(m)}}function $(K){if(E=!1,B(K),!S)if(n(d)!==null)S=!0,z||(z=!0,D());else{var Z=n(m);Z!==null&&G($,Z.startTime-K)}}var z=!1,j=-1,N=5,M=-1;function P(){return A?!0:!(t.unstable_now()-M<N)}function I(){if(A=!1,z){var K=t.unstable_now();M=K;var Z=!0;try{e:{S=!1,E&&(E=!1,L(j),j=-1),_=!0;var ie=b;try{t:{for(B(K),g=n(d);g!==null&&!(g.expirationTime>K&&P());){var te=g.callback;if(typeof te=="function"){g.callback=null,b=g.priorityLevel;var se=te(g.expirationTime<=K);if(K=t.unstable_now(),typeof se=="function"){g.callback=se,B(K),Z=!0;break t}g===n(d)&&r(d),B(K)}else r(d);g=n(d)}if(g!==null)Z=!0;else{var U=n(m);U!==null&&G($,U.startTime-K),Z=!1}}break e}finally{g=null,b=ie,_=!1}Z=void 0}}finally{Z?D():z=!1}}}var D;if(typeof V=="function")D=function(){V(I)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ne=k.port2;k.port1.onmessage=I,D=function(){ne.postMessage(null)}}else D=function(){O(I,0)};function G(K,Z){j=O(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var ie=b;b=Z;try{return K()}finally{b=ie}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ie=b;b=K;try{return Z()}finally{b=ie}},t.unstable_scheduleCallback=function(K,Z,ie){var te=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?te+ie:te):ie=te,K){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ie+se,K={id:p++,callback:Z,priorityLevel:K,startTime:ie,expirationTime:se,sortIndex:-1},ie>te?(K.sortIndex=ie,e(m,K),n(d)===null&&K===n(m)&&(E?(L(j),j=-1):E=!0,G($,ie-te))):(K.sortIndex=se,e(d,K),S||_||(S=!0,z||(z=!0,D()))),K},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(K){var Z=b;return function(){var ie=b;b=Z;try{return K.apply(this,arguments)}finally{b=ie}}}})(Qb)),Qb}var tj;function u9(){return tj||(tj=1,Xb.exports=c9()),Xb.exports}var Jb={exports:{}},hr={};var nj;function d9(){if(nj)return hr;nj=1;var t=Gu();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hr.createPortal=function(d,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(d,m,null,p)},hr.flushSync=function(d){var m=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=m,r.p=p,r.d.f()}},hr.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},hr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},hr.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hr.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},hr.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hr.preloadModule=function(d,m){if(typeof d=="string")if(m){var p=u(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},hr.requestFormReset=function(d){r.d.r(d)},hr.unstable_batchedUpdates=function(d,m){return d(m)},hr.useFormState=function(d,m,p){return l.H.useFormState(d,m,p)},hr.useFormStatus=function(){return l.H.useHostTransitionStatus()},hr.version="19.2.3",hr}var rj;function kk(){if(rj)return Jb.exports;rj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jb.exports=d9(),Jb.exports}var ij;function f9(){if(ij)return mf;ij=1;var t=u9(),e=Gu(),n=kk();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function m(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,h=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return d(y),a;if(x===h)return d(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=x;else{for(var C=!1,q=y.child;q;){if(q===c){C=!0,c=y,h=x;break}if(q===h){C=!0,h=y,c=x;break}q=q.sibling}if(!C){for(q=x.child;q;){if(q===c){C=!0,c=x,h=y;break}if(q===h){C=!0,h=x,c=y;break}q=q.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var k=Symbol.for("react.client.reference");function ne(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===k?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case O:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case V:return a.displayName||"Context";case L:return(a._context.displayName||"Context")+".Consumer";case B:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return o=a.displayName||null,o!==null?o:ne(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return ne(a(o))}catch{}}return null}var G=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},te=[],se=-1;function U(a){return{current:a}}function X(a){0>se||(a.current=te[se],te[se]=null,se--)}function Y(a,o){se++,te[se]=a.current,a.current=o}var W=U(null),ge=U(null),ve=U(null),pe=U(null);function je(a,o){switch(Y(ve,o),Y(ge,a),Y(W,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?bN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=bN(o),a=xN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(W),Y(W,a)}function ae(){X(W),X(ge),X(ve)}function Ee(a){a.memoizedState!==null&&Y(pe,a);var o=W.current,c=xN(o,a.type);o!==c&&(Y(ge,a),Y(W,c))}function Ce(a){ge.current===a&&(X(W),X(ge)),pe.current===a&&(X(pe),cf._currentValue=ie)}var J,ze;function Ie(a){if(J===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);J=o&&o[1]||"",ze=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+a+ze}var Je=!1;function pt(a,o){if(!a||Je)return"";Je=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(me){var de=me}Reflect.construct(a,[],we)}else{try{we.call()}catch(me){de=me}a.call(we.prototype)}}else{try{throw Error()}catch(me){de=me}(we=a())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),C=x[0],q=x[1];if(C&&q){var Q=C.split(`
`),ue=q.split(`
`);for(y=h=0;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ue.length&&!ue[y].includes("DetermineComponentFrameRoot");)y++;if(h===Q.length||y===ue.length)for(h=Q.length-1,y=ue.length-1;1<=h&&0<=y&&Q[h]!==ue[y];)y--;for(;1<=h&&0<=y;h--,y--)if(Q[h]!==ue[y]){if(h!==1||y!==1)do if(h--,y--,0>y||Q[h]!==ue[y]){var ye=`
`+Q[h].replace(" at new "," at ");return a.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",a.displayName)),ye}while(1<=h&&0<=y);break}}}finally{Je=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ie(c):""}function dn(a,o){switch(a.tag){case 26:case 27:case 5:return Ie(a.type);case 16:return Ie("Lazy");case 13:return a.child!==o&&o!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return pt(a.type,!1);case 11:return pt(a.type.render,!1);case 1:return pt(a.type,!0);case 31:return Ie("Activity");default:return""}}function Ye(a){try{var o="",c=null;do o+=dn(a,c),c=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var wt=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,pi=t.unstable_cancelCallback,Qs=t.unstable_shouldYield,Js=t.unstable_requestPaint,Rt=t.unstable_now,_r=t.unstable_getCurrentPriorityLevel,gi=t.unstable_ImmediatePriority,qi=t.unstable_UserBlockingPriority,vi=t.unstable_NormalPriority,Ya=t.unstable_LowPriority,ca=t.unstable_IdlePriority,ua=t.log,da=t.unstable_setDisableYieldValue,dr=null,Zt=null;function Un(a){if(typeof ua=="function"&&da(a),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(dr,a)}catch{}}var Vt=Math.clz32?Math.clz32:Zs,Wa=Math.log,yi=Math.LN2;function Zs(a){return a>>>=0,a===0?32:31-(Wa(a)/yi|0)|0}var fr=256,Fi=262144,Gt=4194304;function Dr(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Lr(a,o,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,x=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var q=h&134217727;return q!==0?(h=q&~x,h!==0?y=Dr(h):(C&=q,C!==0?y=Dr(C):c||(c=q&~a,c!==0&&(y=Dr(c))))):(q=h&~x,q!==0?y=Dr(q):C!==0?y=Dr(C):c||(c=h&~a,c!==0&&(y=Dr(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function Sr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function eo(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var a=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),a}function F(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function he(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Se(a,o,c,h,y,x){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var q=a.entanglements,Q=a.expirationTimes,ue=a.hiddenUpdates;for(c=C&~c;0<c;){var ye=31-Vt(c),we=1<<ye;q[ye]=0,Q[ye]=-1;var de=ue[ye];if(de!==null)for(ue[ye]=null,ye=0;ye<de.length;ye++){var me=de[ye];me!==null&&(me.lane&=-536870913)}c&=~we}h!==0&&Te(a,h,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(C&~o))}function Te(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Vt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function ut(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-Vt(c),y=1<<h;y&o|a[h]&o&&(a[h]|=o),c&=~y}}function ot(a,o){var c=o&-o;return c=(c&42)!==0?1:Er(c),(c&(a.suspendedLanes|o))!==0?0:c}function Er(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Qr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ar(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:qN(a.type))}function Jr(a,o){var c=Z.p;try{return Z.p=a,o()}finally{Z.p=c}}var Zr=Math.random().toString(36).slice(2),rn="__reactFiber$"+Zr,yn="__reactProps$"+Zr,Ge="__reactContainer$"+Zr,kt="__reactEvents$"+Zr,Tr="__reactListeners$"+Zr,Xa="__reactHandles$"+Zr,im="__reactResources$"+Zr,fa="__reactMarker$"+Zr;function _c(a){delete a[rn],delete a[yn],delete a[kt],delete a[Tr],delete a[Xa]}function ha(a){var o=a[rn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Ge]||c[rn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=NN(a);a!==null;){if(c=a[rn])return c;a=NN(a)}return o}a=c,c=a.parentNode}return null}function bi(a){if(a=a[rn]||a[Ge]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ei(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ma(a){var o=a[im];return o||(o=a[im]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bn(a){a[fa]=!0}var pd=new Set,gd={};function pa(a,o){ga(a,o),ga(a+"Capture",o)}function ga(a,o){for(gd[a]=o,a=0;a<o.length;a++)pd.add(o[a])}var vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yd={},bd={};function am(a){return wt.call(bd,a)?!0:wt.call(yd,a)?!1:vd.test(a)?bd[a]=!0:(yd[a]=!0,!1)}function Sc(a,o,c){if(am(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function ti(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function xn(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}function $n(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function no(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xd(a,o,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,x=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,x.call(this,C)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function _t(a){if(!a._valueTracker){var o=no(a)?"checked":"value";a._valueTracker=xd(a,o,""+a[o])}}function ml(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=no(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function va(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var pl=/[\n"\\]/g;function zr(a){return a.replace(pl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ec(a,o,c,h,y,x,C,q){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),o!=null?C==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+$n(o)):a.value!==""+$n(o)&&(a.value=""+$n(o)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),o!=null?wd(a,C,$n(o)):c!=null?wd(a,C,$n(c)):h!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+$n(q):a.removeAttribute("name")}function sm(a,o,c,h,y,x,C,q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){_t(a);return}c=c!=null?""+$n(c):"",o=o!=null?""+$n(o):c,q||o===a.value||(a.value=o),a.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=q?a.checked:!!h,a.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),_t(a)}function wd(a,o,c){o==="number"&&va(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ro(a,o,c,h){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+$n(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function om(a,o,c){if(o!=null&&(o=""+$n(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+$n(c):""}function io(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(G(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=$n(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),_t(a)}function Vr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var lm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _d(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||lm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Sd(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&c[y]!==h&&_d(a,y,h)}else for(var x in o)o.hasOwnProperty(x)&&_d(a,x,o[x])}function Ac(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ao=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tc(a){return ao.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Hi(){}var Ed=null;function xi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var so=null,ya=null;function gl(a){var o=bi(a);if(o&&(a=o.stateNode)){var c=a[yn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Ec(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+zr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var y=h[yn]||null;if(!y)throw Error(r(90));Ec(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&ml(h)}break e;case"textarea":om(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ro(a,!!c.multiple,o,!1)}}}var Nc=!1;function oo(a,o,c){if(Nc)return a(o,c);Nc=!0;try{var h=a(o);return h}finally{if(Nc=!1,(so!==null||ya!==null)&&(np(),so&&(o=so,a=ya,ya=so=null,gl(o),a)))for(o=0;o<a.length;o++)gl(a[o])}}function Ki(a,o){var c=a.stateNode;if(c===null)return null;var h=c[yn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=!1;if(wi)try{var Tt={};Object.defineProperty(Tt,"passive",{get:function(){vl=!0}}),window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{vl=!1}var ba=null,Ad=null,yl=null;function Td(){if(yl)return yl;var a,o=Ad,c=o.length,h,y="value"in ba?ba.value:ba.textContent,x=y.length;for(a=0;a<c&&o[a]===y[a];a++);var C=c-a;for(h=1;h<=C&&o[c-h]===y[x-h];h++);return yl=y.slice(a,1<h?1-h:void 0)}function bl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Qa(){return!0}function Gi(){return!1}function Xn(a){function o(c,h,y,x,C){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(c=a[q],this[q]=c?c(x):x[q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Qa:Gi,this.isPropagationStopped=Gi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),o}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Xn(Ja),lo=g({},Ja,{view:0,detail:0}),Nd=Xn(lo),co,jc,wa,Cc=g({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==wa&&(wa&&a.type==="mousemove"?(co=a.screenX-wa.screenX,jc=a.screenY-wa.screenY):jc=co=0,wa=a),co)},movementY:function(a){return"movementY"in a?a.movementY:jc}}),jd=Xn(Cc),xl=g({},Cc,{dataTransfer:0}),um=Xn(xl),dm=g({},lo,{relatedTarget:0}),wl=Xn(dm),Cd=g({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=Xn(Cd),Oc=g({},Ja,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),hm=Xn(Oc),mm=g({},Ja,{data:0}),_a=Xn(mm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ym(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=vm[a])?!!o[a]:!1}function uo(){return ym}var Nr=g({},lo,{key:function(a){if(a.key){var o=pm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=bl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?gm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(a){return a.type==="keypress"?bl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),bm=Xn(Nr),xm=g({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=Xn(xm),v=g({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),T=Xn(v),R=g({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=Xn(R),oe=g({},Cc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=Xn(oe),Ae=g({},Ja,{newState:0,oldState:0}),We=Xn(Ae),fn=[9,13,27,32],gt=wi&&"CompositionEvent"in window,Yt=null;wi&&"documentMode"in document&&(Yt=document.documentMode);var _i=wi&&"TextEvent"in window&&!Yt,Sa=wi&&(!gt||Yt&&8<Yt&&11>=Yt),Yi=" ",Wi=!1;function _l(a,o){switch(a){case"keyup":return fn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ic(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Pc=!1;function jz(a,o){switch(a){case"compositionend":return Ic(o);case"keypress":return o.which!==32?null:(Wi=!0,Yi);case"textInput":return a=o.data,a===Yi&&Wi?null:a;default:return null}}function Cz(a,o){if(Pc)return a==="compositionend"||!gt&&_l(a,o)?(a=Td(),yl=Ad=ba=null,Pc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Sa&&o.locale!=="ko"?null:o.data;default:return null}}var Oz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Oz[a.type]:o==="textarea"}function IA(a,o,c,h){so?ya?ya.push(h):ya=[h]:so=h,o=cp(o,"onChange"),0<o.length&&(c=new xa("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var Od=null,Id=null;function Iz(a){hN(a,0)}function wm(a){var o=ei(a);if(ml(o))return a}function PA(a,o){if(a==="change")return o}var RA=!1;if(wi){var ey;if(wi){var ty="oninput"in document;if(!ty){var kA=document.createElement("div");kA.setAttribute("oninput","return;"),ty=typeof kA.oninput=="function"}ey=ty}else ey=!1;RA=ey&&(!document.documentMode||9<document.documentMode)}function MA(){Od&&(Od.detachEvent("onpropertychange",DA),Id=Od=null)}function DA(a){if(a.propertyName==="value"&&wm(Id)){var o=[];IA(o,Id,a,xi(a)),oo(Iz,o)}}function Pz(a,o,c){a==="focusin"?(MA(),Od=o,Id=c,Od.attachEvent("onpropertychange",DA)):a==="focusout"&&MA()}function Rz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return wm(Id)}function kz(a,o){if(a==="click")return wm(o)}function Mz(a,o){if(a==="input"||a==="change")return wm(o)}function Dz(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ni=typeof Object.is=="function"?Object.is:Dz;function Pd(a,o){if(ni(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!wt.call(o,y)||!ni(a[y],o[y]))return!1}return!0}function LA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function zA(a,o){var c=LA(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=LA(c)}}function VA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?VA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function UA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=va(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=va(a.document)}return o}function ny(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Lz=wi&&"documentMode"in document&&11>=document.documentMode,Rc=null,ry=null,Rd=null,iy=!1;function $A(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;iy||Rc==null||Rc!==va(h)||(h=Rc,"selectionStart"in h&&ny(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Rd&&Pd(Rd,h)||(Rd=h,h=cp(ry,"onSelect"),0<h.length&&(o=new xa("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=Rc)))}function Sl(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var kc={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},ay={},BA={};wi&&(BA=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function El(a){if(ay[a])return ay[a];if(!kc[a])return a;var o=kc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in BA)return ay[a]=o[c];return a}var qA=El("animationend"),FA=El("animationiteration"),HA=El("animationstart"),zz=El("transitionrun"),Vz=El("transitionstart"),Uz=El("transitioncancel"),KA=El("transitionend"),GA=new Map,sy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sy.push("scrollEnd");function Xi(a,o){GA.set(a,o),pa(o,[a])}var _m=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Si=[],Mc=0,oy=0;function Sm(){for(var a=Mc,o=oy=Mc=0;o<a;){var c=Si[o];Si[o++]=null;var h=Si[o];Si[o++]=null;var y=Si[o];Si[o++]=null;var x=Si[o];if(Si[o++]=null,h!==null&&y!==null){var C=h.pending;C===null?y.next=y:(y.next=C.next,C.next=y),h.pending=y}x!==0&&YA(c,y,x)}}function Em(a,o,c,h){Si[Mc++]=a,Si[Mc++]=o,Si[Mc++]=c,Si[Mc++]=h,oy|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function ly(a,o,c,h){return Em(a,o,c,h),Am(a)}function Al(a,o){return Em(a,null,null,o),Am(a)}function YA(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&o!==null&&(y=31-Vt(c),a=x.hiddenUpdates,h=a[y],h===null?a[y]=[o]:h.push(o),o.lane=c|536870912),x):null}function Am(a){if(50<tf)throw tf=0,vb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Dc={};function $z(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(a,o,c,h){return new $z(a,o,c,h)}function cy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function es(a,o){var c=a.alternate;return c===null?(c=ri(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function WA(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Tm(a,o,c,h,y,x){var C=0;if(h=a,typeof a=="function")cy(a)&&(C=1);else if(typeof a=="string")C=KV(a,c,W.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=ri(31,c,o,y),a.elementType=M,a.lanes=x,a;case E:return Tl(c.children,y,x,o);case A:C=8,y|=24;break;case O:return a=ri(12,c,o,y|2),a.elementType=O,a.lanes=x,a;case $:return a=ri(13,c,o,y),a.elementType=$,a.lanes=x,a;case z:return a=ri(19,c,o,y),a.elementType=z,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:C=10;break e;case L:C=9;break e;case B:C=11;break e;case j:C=14;break e;case N:C=16,h=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=ri(C,c,o,y),o.elementType=a,o.type=h,o.lanes=x,o}function Tl(a,o,c,h){return a=ri(7,a,h,o),a.lanes=c,a}function uy(a,o,c){return a=ri(6,a,null,o),a.lanes=c,a}function XA(a){var o=ri(18,null,null,0);return o.stateNode=a,o}function dy(a,o,c){return o=ri(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var QA=new WeakMap;function Ei(a,o){if(typeof a=="object"&&a!==null){var c=QA.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Ye(o)},QA.set(a,o),o)}return{value:a,source:o,stack:Ye(o)}}var Lc=[],zc=0,Nm=null,kd=0,Ai=[],Ti=0,fo=null,Ea=1,Aa="";function ts(a,o){Lc[zc++]=kd,Lc[zc++]=Nm,Nm=a,kd=o}function JA(a,o,c){Ai[Ti++]=Ea,Ai[Ti++]=Aa,Ai[Ti++]=fo,fo=a;var h=Ea;a=Aa;var y=32-Vt(h)-1;h&=~(1<<y),c+=1;var x=32-Vt(o)+y;if(30<x){var C=y-y%5;x=(h&(1<<C)-1).toString(32),h>>=C,y-=C,Ea=1<<32-Vt(o)+y|c<<y|h,Aa=x+a}else Ea=1<<x|c<<y|h,Aa=a}function fy(a){a.return!==null&&(ts(a,1),JA(a,1,0))}function hy(a){for(;a===Nm;)Nm=Lc[--zc],Lc[zc]=null,kd=Lc[--zc],Lc[zc]=null;for(;a===fo;)fo=Ai[--Ti],Ai[Ti]=null,Aa=Ai[--Ti],Ai[Ti]=null,Ea=Ai[--Ti],Ai[Ti]=null}function ZA(a,o){Ai[Ti++]=Ea,Ai[Ti++]=Aa,Ai[Ti++]=fo,Ea=o.id,Aa=o.overflow,fo=a}var Qn=null,qt=null,lt=!1,ho=null,Ni=!1,my=Error(r(519));function mo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Md(Ei(o,a)),my}function eT(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[rn]=a,o[yn]=h,c){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(c=0;c<rf.length;c++)et(rf[c],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),sm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),io(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||vN(o.textContent,c)?(h.popover!=null&&(et("beforetoggle",o),et("toggle",o)),h.onScroll!=null&&et("scroll",o),h.onScrollEnd!=null&&et("scrollend",o),h.onClick!=null&&(o.onclick=Hi),o=!0):o=!1,o||mo(a,!0)}function tT(a){for(Qn=a.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Qn=Qn.return}}function Vc(a){if(a!==Qn)return!1;if(!lt)return tT(a),lt=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Pb(a.type,a.memoizedProps)),c=!c),c&&qt&&mo(a),tT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));qt=TN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));qt=TN(a)}else o===27?(o=qt,jo(a.type)?(a=Lb,Lb=null,qt=a):qt=o):qt=Qn?Ci(a.stateNode.nextSibling):null;return!0}function Nl(){qt=Qn=null,lt=!1}function py(){var a=ho;return a!==null&&(qr===null?qr=a:qr.push.apply(qr,a),ho=null),a}function Md(a){ho===null?ho=[a]:ho.push(a)}var gy=U(null),jl=null,ns=null;function po(a,o,c){Y(gy,o._currentValue),o._currentValue=c}function rs(a){a._currentValue=gy.current,X(gy)}function vy(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function yy(a,o,c,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var C=y.child;x=x.firstContext;e:for(;x!==null;){var q=x;x=y;for(var Q=0;Q<o.length;Q++)if(q.context===o[Q]){x.lanes|=c,q=x.alternate,q!==null&&(q.lanes|=c),vy(x.return,c,a),h||(C=null);break e}x=q.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,x=C.alternate,x!==null&&(x.lanes|=c),vy(C,c,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Uc(a,o,c,h){a=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var q=y.type;ni(y.pendingProps.value,C.value)||(a!==null?a.push(q):a=[q])}}else if(y===pe.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(cf):a=[cf])}y=y.return}a!==null&&yy(o,a,c,h),o.flags|=262144}function jm(a){for(a=a.firstContext;a!==null;){if(!ni(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Cl(a){jl=a,ns=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Jn(a){return nT(jl,a)}function Cm(a,o){return jl===null&&Cl(a),nT(a,o)}function nT(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ns===null){if(a===null)throw Error(r(308));ns=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ns=ns.next=o;return c}var Bz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},qz=t.unstable_scheduleCallback,Fz=t.unstable_NormalPriority,wn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function by(){return{controller:new Bz,data:new Map,refCount:0}}function Dd(a){a.refCount--,a.refCount===0&&qz(Fz,function(){a.controller.abort()})}var Ld=null,xy=0,$c=0,Bc=null;function Hz(a,o){if(Ld===null){var c=Ld=[];xy=0,$c=Sb(),Bc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return xy++,o.then(rT,rT),o}function rT(){if(--xy===0&&Ld!==null){Bc!==null&&(Bc.status="fulfilled");var a=Ld;Ld=null,$c=0,Bc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Kz(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var iT=K.S;K.S=function(a,o){$2=Rt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Hz(a,o),iT!==null&&iT(a,o)};var Ol=U(null);function wy(){var a=Ol.current;return a!==null?a:Mt.pooledCache}function Om(a,o){o===null?Y(Ol,Ol.current):Y(Ol,o.pool)}function aT(){var a=wy();return a===null?null:{parent:wn._currentValue,pool:a}}var qc=Error(r(460)),_y=Error(r(474)),Im=Error(r(542)),Pm={then:function(){}};function sT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function oT(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Hi,Hi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,cT(a),a;default:if(typeof o.status=="string")o.then(Hi,Hi);else{if(a=Mt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,cT(a),a}throw Pl=o,qc}}function Il(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Pl=c,qc):c}}var Pl=null;function lT(){if(Pl===null)throw Error(r(459));var a=Pl;return Pl=null,a}function cT(a){if(a===qc||a===Im)throw Error(r(483))}var Fc=null,zd=0;function Rm(a){var o=zd;return zd+=1,Fc===null&&(Fc=[]),oT(Fc,a,o)}function Vd(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function km(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function uT(a){function o(re,ee){if(a){var ce=re.deletions;ce===null?(re.deletions=[ee],re.flags|=16):ce.push(ee)}}function c(re,ee){if(!a)return null;for(;ee!==null;)o(re,ee),ee=ee.sibling;return null}function h(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function y(re,ee){return re=es(re,ee),re.index=0,re.sibling=null,re}function x(re,ee,ce){return re.index=ce,a?(ce=re.alternate,ce!==null?(ce=ce.index,ce<ee?(re.flags|=67108866,ee):ce):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function C(re){return a&&re.alternate===null&&(re.flags|=67108866),re}function q(re,ee,ce,xe){return ee===null||ee.tag!==6?(ee=uy(ce,re.mode,xe),ee.return=re,ee):(ee=y(ee,ce),ee.return=re,ee)}function Q(re,ee,ce,xe){var Ve=ce.type;return Ve===E?ye(re,ee,ce.props.children,xe,ce.key):ee!==null&&(ee.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===N&&Il(Ve)===ee.type)?(ee=y(ee,ce.props),Vd(ee,ce),ee.return=re,ee):(ee=Tm(ce.type,ce.key,ce.props,null,re.mode,xe),Vd(ee,ce),ee.return=re,ee)}function ue(re,ee,ce,xe){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ce.containerInfo||ee.stateNode.implementation!==ce.implementation?(ee=dy(ce,re.mode,xe),ee.return=re,ee):(ee=y(ee,ce.children||[]),ee.return=re,ee)}function ye(re,ee,ce,xe,Ve){return ee===null||ee.tag!==7?(ee=Tl(ce,re.mode,xe,Ve),ee.return=re,ee):(ee=y(ee,ce),ee.return=re,ee)}function we(re,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=uy(""+ee,re.mode,ce),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return ce=Tm(ee.type,ee.key,ee.props,null,re.mode,ce),Vd(ce,ee),ce.return=re,ce;case S:return ee=dy(ee,re.mode,ce),ee.return=re,ee;case N:return ee=Il(ee),we(re,ee,ce)}if(G(ee)||D(ee))return ee=Tl(ee,re.mode,ce,null),ee.return=re,ee;if(typeof ee.then=="function")return we(re,Rm(ee),ce);if(ee.$$typeof===V)return we(re,Cm(re,ee),ce);km(re,ee)}return null}function de(re,ee,ce,xe){var Ve=ee!==null?ee.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ve!==null?null:q(re,ee,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return ce.key===Ve?Q(re,ee,ce,xe):null;case S:return ce.key===Ve?ue(re,ee,ce,xe):null;case N:return ce=Il(ce),de(re,ee,ce,xe)}if(G(ce)||D(ce))return Ve!==null?null:ye(re,ee,ce,xe,null);if(typeof ce.then=="function")return de(re,ee,Rm(ce),xe);if(ce.$$typeof===V)return de(re,ee,Cm(re,ce),xe);km(re,ce)}return null}function me(re,ee,ce,xe,Ve){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return re=re.get(ce)||null,q(ee,re,""+xe,Ve);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case _:return re=re.get(xe.key===null?ce:xe.key)||null,Q(ee,re,xe,Ve);case S:return re=re.get(xe.key===null?ce:xe.key)||null,ue(ee,re,xe,Ve);case N:return xe=Il(xe),me(re,ee,ce,xe,Ve)}if(G(xe)||D(xe))return re=re.get(ce)||null,ye(ee,re,xe,Ve,null);if(typeof xe.then=="function")return me(re,ee,ce,Rm(xe),Ve);if(xe.$$typeof===V)return me(re,ee,ce,Cm(ee,xe),Ve);km(ee,xe)}return null}function Me(re,ee,ce,xe){for(var Ve=null,ft=null,Le=ee,Qe=ee=0,rt=null;Le!==null&&Qe<ce.length;Qe++){Le.index>Qe?(rt=Le,Le=null):rt=Le.sibling;var ht=de(re,Le,ce[Qe],xe);if(ht===null){Le===null&&(Le=rt);break}a&&Le&&ht.alternate===null&&o(re,Le),ee=x(ht,ee,Qe),ft===null?Ve=ht:ft.sibling=ht,ft=ht,Le=rt}if(Qe===ce.length)return c(re,Le),lt&&ts(re,Qe),Ve;if(Le===null){for(;Qe<ce.length;Qe++)Le=we(re,ce[Qe],xe),Le!==null&&(ee=x(Le,ee,Qe),ft===null?Ve=Le:ft.sibling=Le,ft=Le);return lt&&ts(re,Qe),Ve}for(Le=h(Le);Qe<ce.length;Qe++)rt=me(Le,re,Qe,ce[Qe],xe),rt!==null&&(a&&rt.alternate!==null&&Le.delete(rt.key===null?Qe:rt.key),ee=x(rt,ee,Qe),ft===null?Ve=rt:ft.sibling=rt,ft=rt);return a&&Le.forEach(function(Ro){return o(re,Ro)}),lt&&ts(re,Qe),Ve}function $e(re,ee,ce,xe){if(ce==null)throw Error(r(151));for(var Ve=null,ft=null,Le=ee,Qe=ee=0,rt=null,ht=ce.next();Le!==null&&!ht.done;Qe++,ht=ce.next()){Le.index>Qe?(rt=Le,Le=null):rt=Le.sibling;var Ro=de(re,Le,ht.value,xe);if(Ro===null){Le===null&&(Le=rt);break}a&&Le&&Ro.alternate===null&&o(re,Le),ee=x(Ro,ee,Qe),ft===null?Ve=Ro:ft.sibling=Ro,ft=Ro,Le=rt}if(ht.done)return c(re,Le),lt&&ts(re,Qe),Ve;if(Le===null){for(;!ht.done;Qe++,ht=ce.next())ht=we(re,ht.value,xe),ht!==null&&(ee=x(ht,ee,Qe),ft===null?Ve=ht:ft.sibling=ht,ft=ht);return lt&&ts(re,Qe),Ve}for(Le=h(Le);!ht.done;Qe++,ht=ce.next())ht=me(Le,re,Qe,ht.value,xe),ht!==null&&(a&&ht.alternate!==null&&Le.delete(ht.key===null?Qe:ht.key),ee=x(ht,ee,Qe),ft===null?Ve=ht:ft.sibling=ht,ft=ht);return a&&Le.forEach(function(r9){return o(re,r9)}),lt&&ts(re,Qe),Ve}function Ct(re,ee,ce,xe){if(typeof ce=="object"&&ce!==null&&ce.type===E&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:e:{for(var Ve=ce.key;ee!==null;){if(ee.key===Ve){if(Ve=ce.type,Ve===E){if(ee.tag===7){c(re,ee.sibling),xe=y(ee,ce.props.children),xe.return=re,re=xe;break e}}else if(ee.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===N&&Il(Ve)===ee.type){c(re,ee.sibling),xe=y(ee,ce.props),Vd(xe,ce),xe.return=re,re=xe;break e}c(re,ee);break}else o(re,ee);ee=ee.sibling}ce.type===E?(xe=Tl(ce.props.children,re.mode,xe,ce.key),xe.return=re,re=xe):(xe=Tm(ce.type,ce.key,ce.props,null,re.mode,xe),Vd(xe,ce),xe.return=re,re=xe)}return C(re);case S:e:{for(Ve=ce.key;ee!==null;){if(ee.key===Ve)if(ee.tag===4&&ee.stateNode.containerInfo===ce.containerInfo&&ee.stateNode.implementation===ce.implementation){c(re,ee.sibling),xe=y(ee,ce.children||[]),xe.return=re,re=xe;break e}else{c(re,ee);break}else o(re,ee);ee=ee.sibling}xe=dy(ce,re.mode,xe),xe.return=re,re=xe}return C(re);case N:return ce=Il(ce),Ct(re,ee,ce,xe)}if(G(ce))return Me(re,ee,ce,xe);if(D(ce)){if(Ve=D(ce),typeof Ve!="function")throw Error(r(150));return ce=Ve.call(ce),$e(re,ee,ce,xe)}if(typeof ce.then=="function")return Ct(re,ee,Rm(ce),xe);if(ce.$$typeof===V)return Ct(re,ee,Cm(re,ce),xe);km(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ee!==null&&ee.tag===6?(c(re,ee.sibling),xe=y(ee,ce),xe.return=re,re=xe):(c(re,ee),xe=uy(ce,re.mode,xe),xe.return=re,re=xe),C(re)):c(re,ee)}return function(re,ee,ce,xe){try{zd=0;var Ve=Ct(re,ee,ce,xe);return Fc=null,Ve}catch(Le){if(Le===qc||Le===Im)throw Le;var ft=ri(29,Le,null,re.mode);return ft.lanes=xe,ft.return=re,ft}}}var Rl=uT(!0),dT=uT(!1),go=!1;function Sy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ey(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function vo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function yo(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Am(a),YA(a,null,c),o}return Em(a,h,o,c),Am(a)}function Ud(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,ut(a,c)}}function Ay(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Ty=!1;function $d(){if(Ty){var a=Bc;if(a!==null)throw a}}function Bd(a,o,c,h){Ty=!1;var y=a.updateQueue;go=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var Q=q,ue=Q.next;Q.next=null,C===null?x=ue:C.next=ue,C=Q;var ye=a.alternate;ye!==null&&(ye=ye.updateQueue,q=ye.lastBaseUpdate,q!==C&&(q===null?ye.firstBaseUpdate=ue:q.next=ue,ye.lastBaseUpdate=Q))}if(x!==null){var we=y.baseState;C=0,ye=ue=Q=null,q=x;do{var de=q.lane&-536870913,me=de!==q.lane;if(me?(nt&de)===de:(h&de)===de){de!==0&&de===$c&&(Ty=!0),ye!==null&&(ye=ye.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Me=a,$e=q;de=o;var Ct=c;switch($e.tag){case 1:if(Me=$e.payload,typeof Me=="function"){we=Me.call(Ct,we,de);break e}we=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=$e.payload,de=typeof Me=="function"?Me.call(Ct,we,de):Me,de==null)break e;we=g({},we,de);break e;case 2:go=!0}}de=q.callback,de!==null&&(a.flags|=64,me&&(a.flags|=8192),me=y.callbacks,me===null?y.callbacks=[de]:me.push(de))}else me={lane:de,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ye===null?(ue=ye=me,Q=we):ye=ye.next=me,C|=de;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;me=q,q=me.next,me.next=null,y.lastBaseUpdate=me,y.shared.pending=null}}while(!0);ye===null&&(Q=we),y.baseState=Q,y.firstBaseUpdate=ue,y.lastBaseUpdate=ye,x===null&&(y.shared.lanes=0),So|=C,a.lanes=C,a.memoizedState=we}}function fT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function hT(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)fT(c[a],o)}var Hc=U(null),Mm=U(0);function mT(a,o){a=fs,Y(Mm,a),Y(Hc,o),fs=a|o.baseLanes}function Ny(){Y(Mm,fs),Y(Hc,Hc.current)}function jy(){fs=Mm.current,X(Hc),X(Mm)}var ii=U(null),ji=null;function bo(a){var o=a.alternate;Y(hn,hn.current&1),Y(ii,a),ji===null&&(o===null||Hc.current!==null||o.memoizedState!==null)&&(ji=a)}function Cy(a){Y(hn,hn.current),Y(ii,a),ji===null&&(ji=a)}function pT(a){a.tag===22?(Y(hn,hn.current),Y(ii,a),ji===null&&(ji=a)):xo()}function xo(){Y(hn,hn.current),Y(ii,ii.current)}function ai(a){X(ii),ji===a&&(ji=null),X(hn)}var hn=U(0);function Dm(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Mb(c)||Db(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var is=0,Xe=null,Nt=null,_n=null,Lm=!1,Kc=!1,kl=!1,zm=0,qd=0,Gc=null,Gz=0;function an(){throw Error(r(321))}function Oy(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!ni(a[c],o[c]))return!1;return!0}function Iy(a,o,c,h,y,x){return is=x,Xe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=a===null||a.memoizedState===null?JT:Ky,kl=!1,x=c(h,y),kl=!1,Kc&&(x=vT(o,c,h,y)),gT(a),x}function gT(a){K.H=Kd;var o=Nt!==null&&Nt.next!==null;if(is=0,_n=Nt=Xe=null,Lm=!1,qd=0,Gc=null,o)throw Error(r(300));a===null||Sn||(a=a.dependencies,a!==null&&jm(a)&&(Sn=!0))}function vT(a,o,c,h){Xe=a;var y=0;do{if(Kc&&(Gc=null),qd=0,Kc=!1,25<=y)throw Error(r(301));if(y+=1,_n=Nt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=ZT,x=o(c,h)}while(Kc);return x}function Yz(){var a=K.H,o=a.useState()[0];return o=typeof o.then=="function"?Fd(o):o,a=a.useState()[0],(Nt!==null?Nt.memoizedState:null)!==a&&(Xe.flags|=1024),o}function Py(){var a=zm!==0;return zm=0,a}function Ry(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function ky(a){if(Lm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Lm=!1}is=0,_n=Nt=Xe=null,Kc=!1,qd=zm=0,Gc=null}function jr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Xe.memoizedState=_n=a:_n=_n.next=a,_n}function mn(){if(Nt===null){var a=Xe.alternate;a=a!==null?a.memoizedState:null}else a=Nt.next;var o=_n===null?Xe.memoizedState:_n.next;if(o!==null)_n=o,Nt=a;else{if(a===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Nt=a,a={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},_n===null?Xe.memoizedState=_n=a:_n=_n.next=a}return _n}function Vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fd(a){var o=qd;return qd+=1,Gc===null&&(Gc=[]),a=oT(Gc,a,o),o=Xe,(_n===null?o.memoizedState:_n.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?JT:Ky),a}function Um(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Fd(a);if(a.$$typeof===V)return Jn(a)}throw Error(r(438,String(a)))}function My(a){var o=null,c=Xe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Xe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Vm(),Xe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=P;return o.index++,c}function as(a,o){return typeof o=="function"?o(a):o}function $m(a){var o=mn();return Dy(o,Nt,a)}function Dy(a,o,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=a.baseQueue,x=h.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}o.baseQueue=y=x,h.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{o=y.next;var q=C=null,Q=null,ue=o,ye=!1;do{var we=ue.lane&-536870913;if(we!==ue.lane?(nt&we)===we:(is&we)===we){var de=ue.revertLane;if(de===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),we===$c&&(ye=!0);else if((is&de)===de){ue=ue.next,de===$c&&(ye=!0);continue}else we={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(q=Q=we,C=x):Q=Q.next=we,Xe.lanes|=de,So|=de;we=ue.action,kl&&c(x,we),x=ue.hasEagerState?ue.eagerState:c(x,we)}else de={lane:we,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(q=Q=de,C=x):Q=Q.next=de,Xe.lanes|=we,So|=we;ue=ue.next}while(ue!==null&&ue!==o);if(Q===null?C=x:Q.next=q,!ni(x,a.memoizedState)&&(Sn=!0,ye&&(c=Bc,c!==null)))throw c;a.memoizedState=x,a.baseState=C,a.baseQueue=Q,h.lastRenderedState=x}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Ly(a){var o=mn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do x=a(x,C.action),C=C.next;while(C!==y);ni(x,o.memoizedState)||(Sn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,h]}function yT(a,o,c){var h=Xe,y=mn(),x=lt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!ni((Nt||y).memoizedState,c);if(C&&(y.memoizedState=c,Sn=!0),y=y.queue,Uy(wT.bind(null,h,y,a),[a]),y.getSnapshot!==o||C||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,Yc(9,{destroy:void 0},xT.bind(null,h,y,c,o),null),Mt===null)throw Error(r(349));x||(is&127)!==0||bT(h,o,c)}return c}function bT(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Xe.updateQueue,o===null?(o=Vm(),Xe.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function xT(a,o,c,h){o.value=c,o.getSnapshot=h,_T(o)&&ST(a)}function wT(a,o,c){return c(function(){_T(o)&&ST(a)})}function _T(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!ni(a,c)}catch{return!0}}function ST(a){var o=Al(a,2);o!==null&&Fr(o,a,2)}function zy(a){var o=jr();if(typeof a=="function"){var c=a;if(a=c(),kl){Un(!0);try{c()}finally{Un(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:a},o}function ET(a,o,c,h){return a.baseState=c,Dy(a,Nt,typeof h=="function"?h:as)}function Wz(a,o,c,h,y){if(Fm(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};K.T!==null?c(!0):x.isTransition=!1,h(x),c=o.pending,c===null?(x.next=o.pending=x,AT(o,x)):(x.next=c.next,o.pending=c.next=x)}}function AT(a,o){var c=o.action,h=o.payload,y=a.state;if(o.isTransition){var x=K.T,C={};K.T=C;try{var q=c(y,h),Q=K.S;Q!==null&&Q(C,q),TT(a,o,q)}catch(ue){Vy(a,o,ue)}finally{x!==null&&C.types!==null&&(x.types=C.types),K.T=x}}else try{x=c(y,h),TT(a,o,x)}catch(ue){Vy(a,o,ue)}}function TT(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){NT(a,o,h)},function(h){return Vy(a,o,h)}):NT(a,o,c)}function NT(a,o,c){o.status="fulfilled",o.value=c,jT(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,AT(a,c)))}function Vy(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,jT(o),o=o.next;while(o!==h)}a.action=null}function jT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function CT(a,o){return o}function OT(a,o){if(lt){var c=Mt.formState;if(c!==null){e:{var h=Xe;if(lt){if(qt){t:{for(var y=qt,x=Ni;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ci(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){qt=Ci(y.nextSibling),h=y.data==="F!";break e}}mo(h)}h=!1}h&&(o=c[0])}}return c=jr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CT,lastRenderedState:o},c.queue=h,c=WT.bind(null,Xe,h),h.dispatch=c,h=zy(!1),x=Hy.bind(null,Xe,!1,h.queue),h=jr(),y={state:o,dispatch:null,action:a,pending:null},h.queue=y,c=Wz.bind(null,Xe,y,x,c),y.dispatch=c,h.memoizedState=a,[o,c,!1]}function IT(a){var o=mn();return PT(o,Nt,a)}function PT(a,o,c){if(o=Dy(a,o,CT)[0],a=$m(as)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Fd(o)}catch(C){throw C===qc?Im:C}else h=o;o=mn();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(Xe.flags|=2048,Yc(9,{destroy:void 0},Xz.bind(null,y,c),null)),[h,x,a]}function Xz(a,o){a.action=o}function RT(a){var o=mn(),c=Nt;if(c!==null)return PT(o,c,a);mn(),o=o.memoizedState,c=mn();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function Yc(a,o,c,h){return a={tag:a,create:c,deps:h,inst:o,next:null},o=Xe.updateQueue,o===null&&(o=Vm(),Xe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function kT(){return mn().memoizedState}function Bm(a,o,c,h){var y=jr();Xe.flags|=a,y.memoizedState=Yc(1|o,{destroy:void 0},c,h===void 0?null:h)}function qm(a,o,c,h){var y=mn();h=h===void 0?null:h;var x=y.memoizedState.inst;Nt!==null&&h!==null&&Oy(h,Nt.memoizedState.deps)?y.memoizedState=Yc(o,x,c,h):(Xe.flags|=a,y.memoizedState=Yc(1|o,x,c,h))}function MT(a,o){Bm(8390656,8,a,o)}function Uy(a,o){qm(2048,8,a,o)}function Qz(a){Xe.flags|=4;var o=Xe.updateQueue;if(o===null)o=Vm(),Xe.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function DT(a){var o=mn().memoizedState;return Qz({ref:o,nextImpl:a}),function(){if((vt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function LT(a,o){return qm(4,2,a,o)}function zT(a,o){return qm(4,4,a,o)}function VT(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function UT(a,o,c){c=c!=null?c.concat([a]):null,qm(4,4,VT.bind(null,o,a),c)}function $y(){}function $T(a,o){var c=mn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Oy(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function BT(a,o){var c=mn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Oy(o,h[1]))return h[0];if(h=a(),kl){Un(!0);try{a()}finally{Un(!1)}}return c.memoizedState=[h,o],h}function By(a,o,c){return c===void 0||(is&1073741824)!==0&&(nt&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=q2(),Xe.lanes|=a,So|=a,c)}function qT(a,o,c,h){return ni(c,o)?c:Hc.current!==null?(a=By(a,c,h),ni(a,o)||(Sn=!0),a):(is&42)===0||(is&1073741824)!==0&&(nt&261930)===0?(Sn=!0,a.memoizedState=c):(a=q2(),Xe.lanes|=a,So|=a,o)}function FT(a,o,c,h,y){var x=Z.p;Z.p=x!==0&&8>x?x:8;var C=K.T,q={};K.T=q,Hy(a,!1,o,c);try{var Q=y(),ue=K.S;if(ue!==null&&ue(q,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ye=Kz(Q,h);Hd(a,o,ye,li(a))}else Hd(a,o,h,li(a))}catch(we){Hd(a,o,{then:function(){},status:"rejected",reason:we},li())}finally{Z.p=x,C!==null&&q.types!==null&&(C.types=q.types),K.T=C}}function Jz(){}function qy(a,o,c,h){if(a.tag!==5)throw Error(r(476));var y=HT(a).queue;FT(a,y,o,ie,c===null?Jz:function(){return KT(a),c(h)})}function HT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ie},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function KT(a){var o=HT(a);o.next===null&&(o=a.alternate.memoizedState),Hd(a,o.next.queue,{},li())}function Fy(){return Jn(cf)}function GT(){return mn().memoizedState}function YT(){return mn().memoizedState}function Zz(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=li();a=vo(c);var h=yo(o,a,c);h!==null&&(Fr(h,o,c),Ud(h,o,c)),o={cache:by()},a.payload=o;return}o=o.return}}function eV(a,o,c){var h=li();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fm(a)?XT(o,c):(c=ly(a,o,c,h),c!==null&&(Fr(c,a,h),QT(c,o,h)))}function WT(a,o,c){var h=li();Hd(a,o,c,h)}function Hd(a,o,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Fm(a))XT(o,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var C=o.lastRenderedState,q=x(C,c);if(y.hasEagerState=!0,y.eagerState=q,ni(q,C))return Em(a,o,y,0),Mt===null&&Sm(),!1}catch{}if(c=ly(a,o,y,h),c!==null)return Fr(c,a,h),QT(c,o,h),!0}return!1}function Hy(a,o,c,h){if(h={lane:2,revertLane:Sb(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Fm(a)){if(o)throw Error(r(479))}else o=ly(a,c,h,2),o!==null&&Fr(o,a,2)}function Fm(a){var o=a.alternate;return a===Xe||o!==null&&o===Xe}function XT(a,o){Kc=Lm=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function QT(a,o,c){if((c&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,ut(a,c)}}var Kd={readContext:Jn,use:Um,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Kd.useEffectEvent=an;var JT={readContext:Jn,use:Um,useCallback:function(a,o){return jr().memoizedState=[a,o===void 0?null:o],a},useContext:Jn,useEffect:MT,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Bm(4194308,4,VT.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Bm(4194308,4,a,o)},useInsertionEffect:function(a,o){Bm(4,2,a,o)},useMemo:function(a,o){var c=jr();o=o===void 0?null:o;var h=a();if(kl){Un(!0);try{a()}finally{Un(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=jr();if(c!==void 0){var y=c(o);if(kl){Un(!0);try{c(o)}finally{Un(!1)}}}else y=o;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=eV.bind(null,Xe,a),[h.memoizedState,a]},useRef:function(a){var o=jr();return a={current:a},o.memoizedState=a},useState:function(a){a=zy(a);var o=a.queue,c=WT.bind(null,Xe,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:$y,useDeferredValue:function(a,o){var c=jr();return By(c,a,o)},useTransition:function(){var a=zy(!1);return a=FT.bind(null,Xe,a.queue,!0,!1),jr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=Xe,y=jr();if(lt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Mt===null)throw Error(r(349));(nt&127)!==0||bT(h,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,MT(wT.bind(null,h,x,a),[a]),h.flags|=2048,Yc(9,{destroy:void 0},xT.bind(null,h,x,c,o),null),c},useId:function(){var a=jr(),o=Mt.identifierPrefix;if(lt){var c=Aa,h=Ea;c=(h&~(1<<32-Vt(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=zm++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=Gz++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Fy,useFormState:OT,useActionState:OT,useOptimistic:function(a){var o=jr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Hy.bind(null,Xe,!0,c),c.dispatch=o,[a,o]},useMemoCache:My,useCacheRefresh:function(){return jr().memoizedState=Zz.bind(null,Xe)},useEffectEvent:function(a){var o=jr(),c={impl:a};return o.memoizedState=c,function(){if((vt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Ky={readContext:Jn,use:Um,useCallback:$T,useContext:Jn,useEffect:Uy,useImperativeHandle:UT,useInsertionEffect:LT,useLayoutEffect:zT,useMemo:BT,useReducer:$m,useRef:kT,useState:function(){return $m(as)},useDebugValue:$y,useDeferredValue:function(a,o){var c=mn();return qT(c,Nt.memoizedState,a,o)},useTransition:function(){var a=$m(as)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Fd(a),o]},useSyncExternalStore:yT,useId:GT,useHostTransitionStatus:Fy,useFormState:IT,useActionState:IT,useOptimistic:function(a,o){var c=mn();return ET(c,Nt,a,o)},useMemoCache:My,useCacheRefresh:YT};Ky.useEffectEvent=DT;var ZT={readContext:Jn,use:Um,useCallback:$T,useContext:Jn,useEffect:Uy,useImperativeHandle:UT,useInsertionEffect:LT,useLayoutEffect:zT,useMemo:BT,useReducer:Ly,useRef:kT,useState:function(){return Ly(as)},useDebugValue:$y,useDeferredValue:function(a,o){var c=mn();return Nt===null?By(c,a,o):qT(c,Nt.memoizedState,a,o)},useTransition:function(){var a=Ly(as)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Fd(a),o]},useSyncExternalStore:yT,useId:GT,useHostTransitionStatus:Fy,useFormState:RT,useActionState:RT,useOptimistic:function(a,o){var c=mn();return Nt!==null?ET(c,Nt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:My,useCacheRefresh:YT};ZT.useEffectEvent=DT;function Gy(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Yy={enqueueSetState:function(a,o,c){a=a._reactInternals;var h=li(),y=vo(h);y.payload=o,c!=null&&(y.callback=c),o=yo(a,y,h),o!==null&&(Fr(o,a,h),Ud(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=li(),y=vo(h);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=yo(a,y,h),o!==null&&(Fr(o,a,h),Ud(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=li(),h=vo(c);h.tag=2,o!=null&&(h.callback=o),o=yo(a,h,c),o!==null&&(Fr(o,a,c),Ud(o,a,c))}};function e2(a,o,c,h,y,x,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,C):o.prototype&&o.prototype.isPureReactComponent?!Pd(c,h)||!Pd(y,x):!0}function t2(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&Yy.enqueueReplaceState(o,o.state,null)}function Ml(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function n2(a){_m(a)}function r2(a){console.error(a)}function i2(a){_m(a)}function Hm(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function a2(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Wy(a,o,c){return c=vo(c),c.tag=3,c.payload={element:null},c.callback=function(){Hm(a,o)},c}function s2(a){return a=vo(a),a.tag=3,a}function o2(a,o,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;a.payload=function(){return y(x)},a.callback=function(){a2(o,c,h)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){a2(o,c,h),typeof y!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var q=h.stack;this.componentDidCatch(h.value,{componentStack:q!==null?q:""})})}function tV(a,o,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Uc(o,c,y,!0),c=ii.current,c!==null){switch(c.tag){case 31:case 13:return ji===null?rp():c.alternate===null&&sn===0&&(sn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===Pm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),xb(a,h,y)),!1;case 22:return c.flags|=65536,h===Pm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),xb(a,h,y)),!1}throw Error(r(435,c.tag))}return xb(a,h,y),rp(),!1}if(lt)return o=ii.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==my&&(a=Error(r(422),{cause:h}),Md(Ei(a,c)))):(h!==my&&(o=Error(r(423),{cause:h}),Md(Ei(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=Ei(h,c),y=Wy(a.stateNode,h,y),Ay(a,y),sn!==4&&(sn=2)),!1;var x=Error(r(520),{cause:h});if(x=Ei(x,c),ef===null?ef=[x]:ef.push(x),sn!==4&&(sn=2),o===null)return!0;h=Ei(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Wy(c.stateNode,h,a),Ay(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Eo===null||!Eo.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=s2(y),o2(y,a,c,h),Ay(c,y),!1}c=c.return}while(c!==null);return!1}var Xy=Error(r(461)),Sn=!1;function Zn(a,o,c,h){o.child=a===null?dT(o,null,c,h):Rl(o,a.child,c,h)}function l2(a,o,c,h,y){c=c.render;var x=o.ref;if("ref"in h){var C={};for(var q in h)q!=="ref"&&(C[q]=h[q])}else C=h;return Cl(o),h=Iy(a,o,c,C,x,y),q=Py(),a!==null&&!Sn?(Ry(a,o,y),ss(a,o,y)):(lt&&q&&fy(o),o.flags|=1,Zn(a,o,h,y),o.child)}function c2(a,o,c,h,y){if(a===null){var x=c.type;return typeof x=="function"&&!cy(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,u2(a,o,x,h,y)):(a=Tm(c.type,null,h,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!ib(a,y)){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:Pd,c(C,h)&&a.ref===o.ref)return ss(a,o,y)}return o.flags|=1,a=es(x,h),a.ref=o.ref,a.return=o,o.child=a}function u2(a,o,c,h,y){if(a!==null){var x=a.memoizedProps;if(Pd(x,h)&&a.ref===o.ref)if(Sn=!1,o.pendingProps=h=x,ib(a,y))(a.flags&131072)!==0&&(Sn=!0);else return o.lanes=a.lanes,ss(a,o,y)}return Qy(a,o,c,h,y)}function d2(a,o,c,h){var y=h.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(h=o.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~x}else h=0,o.child=null;return f2(a,o,x,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Om(o,x!==null?x.cachePool:null),x!==null?mT(o,x):Ny(),pT(o);else return h=o.lanes=536870912,f2(a,o,x!==null?x.baseLanes|c:c,c,h)}else x!==null?(Om(o,x.cachePool),mT(o,x),xo(),o.memoizedState=null):(a!==null&&Om(o,null),Ny(),xo());return Zn(a,o,y,c),o.child}function Gd(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function f2(a,o,c,h,y){var x=wy();return x=x===null?null:{parent:wn._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Om(o,null),Ny(),pT(o),a!==null&&Uc(a,o,h,!0),o.childLanes=y,null}function Km(a,o){return o=Ym({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function h2(a,o,c){return Rl(o,a.child,null,c),a=Km(o,o.pendingProps),a.flags|=2,ai(o),o.memoizedState=null,a}function nV(a,o,c){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(lt){if(h.mode==="hidden")return a=Km(o,h),o.lanes=536870912,Gd(null,a);if(Cy(o),(a=qt)?(a=AN(a,Ni),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:fo!==null?{id:Ea,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},c=XA(a),c.return=o,o.child=c,Qn=o,qt=null)):a=null,a===null)throw mo(o);return o.lanes=536870912,null}return Km(o,h)}var x=a.memoizedState;if(x!==null){var C=x.dehydrated;if(Cy(o),y)if(o.flags&256)o.flags&=-257,o=h2(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Sn||Uc(a,o,c,!1),y=(c&a.childLanes)!==0,Sn||y){if(h=Mt,h!==null&&(C=ot(h,c),C!==0&&C!==x.retryLane))throw x.retryLane=C,Al(a,C),Fr(h,a,C),Xy;rp(),o=h2(a,o,c)}else a=x.treeContext,qt=Ci(C.nextSibling),Qn=o,lt=!0,ho=null,Ni=!1,a!==null&&ZA(o,a),o=Km(o,h),o.flags|=4096;return o}return a=es(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Gm(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Qy(a,o,c,h,y){return Cl(o),c=Iy(a,o,c,h,void 0,y),h=Py(),a!==null&&!Sn?(Ry(a,o,y),ss(a,o,y)):(lt&&h&&fy(o),o.flags|=1,Zn(a,o,c,y),o.child)}function m2(a,o,c,h,y,x){return Cl(o),o.updateQueue=null,c=vT(o,h,c,y),gT(a),h=Py(),a!==null&&!Sn?(Ry(a,o,x),ss(a,o,x)):(lt&&h&&fy(o),o.flags|=1,Zn(a,o,c,x),o.child)}function p2(a,o,c,h,y){if(Cl(o),o.stateNode===null){var x=Dc,C=c.contextType;typeof C=="object"&&C!==null&&(x=Jn(C)),x=new c(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Yy,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},Sy(o),C=c.contextType,x.context=typeof C=="object"&&C!==null?Jn(C):Dc,x.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Gy(o,c,C,h),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&Yy.enqueueReplaceState(x,x.state,null),Bd(o,h,x,y),$d(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){x=o.stateNode;var q=o.memoizedProps,Q=Ml(c,q);x.props=Q;var ue=x.context,ye=c.contextType;C=Dc,typeof ye=="object"&&ye!==null&&(C=Jn(ye));var we=c.getDerivedStateFromProps;ye=typeof we=="function"||typeof x.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,ye||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(q||ue!==C)&&t2(o,x,h,C),go=!1;var de=o.memoizedState;x.state=de,Bd(o,h,x,y),$d(),ue=o.memoizedState,q||de!==ue||go?(typeof we=="function"&&(Gy(o,c,we,h),ue=o.memoizedState),(Q=go||e2(o,c,Q,h,de,ue,C))?(ye||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ue),x.props=h,x.state=ue,x.context=C,h=Q):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Ey(a,o),C=o.memoizedProps,ye=Ml(c,C),x.props=ye,we=o.pendingProps,de=x.context,ue=c.contextType,Q=Dc,typeof ue=="object"&&ue!==null&&(Q=Jn(ue)),q=c.getDerivedStateFromProps,(ue=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==we||de!==Q)&&t2(o,x,h,Q),go=!1,de=o.memoizedState,x.state=de,Bd(o,h,x,y),$d();var me=o.memoizedState;C!==we||de!==me||go||a!==null&&a.dependencies!==null&&jm(a.dependencies)?(typeof q=="function"&&(Gy(o,c,q,h),me=o.memoizedState),(ye=go||e2(o,c,ye,h,de,me,Q)||a!==null&&a.dependencies!==null&&jm(a.dependencies))?(ue||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,me,Q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,me,Q)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),x.props=h,x.state=me,x.context=Q,h=ye):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),h=!1)}return x=h,Gm(a,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&h?(o.child=Rl(o,a.child,null,y),o.child=Rl(o,null,c,y)):Zn(a,o,c,y),o.memoizedState=x.state,a=o.child):a=ss(a,o,y),a}function g2(a,o,c,h){return Nl(),o.flags|=256,Zn(a,o,c,h),o.child}var Jy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zy(a){return{baseLanes:a,cachePool:aT()}}function eb(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=oi),a}function v2(a,o,c){var h=o.pendingProps,y=!1,x=(o.flags&128)!==0,C;if((C=x)||(C=a!==null&&a.memoizedState===null?!1:(hn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,a===null){if(lt){if(y?bo(o):xo(),(a=qt)?(a=AN(a,Ni),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:fo!==null?{id:Ea,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},c=XA(a),c.return=o,o.child=c,Qn=o,qt=null)):a=null,a===null)throw mo(o);return Db(a)?o.lanes=32:o.lanes=536870912,null}var q=h.children;return h=h.fallback,y?(xo(),y=o.mode,q=Ym({mode:"hidden",children:q},y),h=Tl(h,y,c,null),q.return=o,h.return=o,q.sibling=h,o.child=q,h=o.child,h.memoizedState=Zy(c),h.childLanes=eb(a,C,c),o.memoizedState=Jy,Gd(null,h)):(bo(o),tb(o,q))}var Q=a.memoizedState;if(Q!==null&&(q=Q.dehydrated,q!==null)){if(x)o.flags&256?(bo(o),o.flags&=-257,o=nb(a,o,c)):o.memoizedState!==null?(xo(),o.child=a.child,o.flags|=128,o=null):(xo(),q=h.fallback,y=o.mode,h=Ym({mode:"visible",children:h.children},y),q=Tl(q,y,c,null),q.flags|=2,h.return=o,q.return=o,h.sibling=q,o.child=h,Rl(o,a.child,null,c),h=o.child,h.memoizedState=Zy(c),h.childLanes=eb(a,C,c),o.memoizedState=Jy,o=Gd(null,h));else if(bo(o),Db(q)){if(C=q.nextSibling&&q.nextSibling.dataset,C)var ue=C.dgst;C=ue,h=Error(r(419)),h.stack="",h.digest=C,Md({value:h,source:null,stack:null}),o=nb(a,o,c)}else if(Sn||Uc(a,o,c,!1),C=(c&a.childLanes)!==0,Sn||C){if(C=Mt,C!==null&&(h=ot(C,c),h!==0&&h!==Q.retryLane))throw Q.retryLane=h,Al(a,h),Fr(C,a,h),Xy;Mb(q)||rp(),o=nb(a,o,c)}else Mb(q)?(o.flags|=192,o.child=a.child,o=null):(a=Q.treeContext,qt=Ci(q.nextSibling),Qn=o,lt=!0,ho=null,Ni=!1,a!==null&&ZA(o,a),o=tb(o,h.children),o.flags|=4096);return o}return y?(xo(),q=h.fallback,y=o.mode,Q=a.child,ue=Q.sibling,h=es(Q,{mode:"hidden",children:h.children}),h.subtreeFlags=Q.subtreeFlags&65011712,ue!==null?q=es(ue,q):(q=Tl(q,y,c,null),q.flags|=2),q.return=o,h.return=o,h.sibling=q,o.child=h,Gd(null,h),h=o.child,q=a.child.memoizedState,q===null?q=Zy(c):(y=q.cachePool,y!==null?(Q=wn._currentValue,y=y.parent!==Q?{parent:Q,pool:Q}:y):y=aT(),q={baseLanes:q.baseLanes|c,cachePool:y}),h.memoizedState=q,h.childLanes=eb(a,C,c),o.memoizedState=Jy,Gd(a.child,h)):(bo(o),c=a.child,a=c.sibling,c=es(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(C=o.deletions,C===null?(o.deletions=[a],o.flags|=16):C.push(a)),o.child=c,o.memoizedState=null,c)}function tb(a,o){return o=Ym({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Ym(a,o){return a=ri(22,a,null,o),a.lanes=0,a}function nb(a,o,c){return Rl(o,a.child,null,c),a=tb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function y2(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),vy(a.return,o,c)}function rb(a,o,c,h,y,x){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:x}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=c,C.tailMode=y,C.treeForkCount=x)}function b2(a,o,c){var h=o.pendingProps,y=h.revealOrder,x=h.tail;h=h.children;var C=hn.current,q=(C&2)!==0;if(q?(C=C&1|2,o.flags|=128):C&=1,Y(hn,C),Zn(a,o,h,c),h=lt?kd:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&y2(a,c,o);else if(a.tag===19)y2(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&Dm(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),rb(o,!1,y,c,x,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Dm(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}rb(o,!0,c,null,x,h);break;case"together":rb(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ss(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),So|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Uc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=es(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=es(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function ib(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&jm(a)))}function rV(a,o,c){switch(o.tag){case 3:je(o,o.stateNode.containerInfo),po(o,wn,a.memoizedState.cache),Nl();break;case 27:case 5:Ee(o);break;case 4:je(o,o.stateNode.containerInfo);break;case 10:po(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Cy(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(bo(o),o.flags|=128,null):(c&o.child.childLanes)!==0?v2(a,o,c):(bo(o),a=ss(a,o,c),a!==null?a.sibling:null);bo(o);break;case 19:var y=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Uc(a,o,c,!1),h=(c&o.childLanes)!==0),y){if(h)return b2(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Y(hn,hn.current),h)break;return null;case 22:return o.lanes=0,d2(a,o,c,o.pendingProps);case 24:po(o,wn,a.memoizedState.cache)}return ss(a,o,c)}function x2(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Sn=!0;else{if(!ib(a,c)&&(o.flags&128)===0)return Sn=!1,rV(a,o,c);Sn=(a.flags&131072)!==0}else Sn=!1,lt&&(o.flags&1048576)!==0&&JA(o,kd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Il(o.elementType),o.type=a,typeof a=="function")cy(a)?(h=Ml(a,h),o.tag=1,o=p2(null,o,a,h,c)):(o.tag=0,o=Qy(null,o,a,h,c));else{if(a!=null){var y=a.$$typeof;if(y===B){o.tag=11,o=l2(null,o,a,h,c);break e}else if(y===j){o.tag=14,o=c2(null,o,a,h,c);break e}}throw o=ne(a)||a,Error(r(306,o,""))}}return o;case 0:return Qy(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,y=Ml(h,o.pendingProps),p2(a,o,h,y,c);case 3:e:{if(je(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var x=o.memoizedState;y=x.element,Ey(a,o),Bd(o,h,null,c);var C=o.memoizedState;if(h=C.cache,po(o,wn,h),h!==x.cache&&yy(o,[wn],c,!0),$d(),h=C.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=g2(a,o,h,c);break e}else if(h!==y){y=Ei(Error(r(424)),o),Md(y),o=g2(a,o,h,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,qt=Ci(a.firstChild),Qn=o,lt=!0,ho=null,Ni=!0,c=dT(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Nl(),h===y){o=ss(a,o,c);break e}Zn(a,o,h,c)}o=o.child}return o;case 26:return Gm(a,o),a===null?(c=IN(o.type,null,o.pendingProps,null))?o.memoizedState=c:lt||(c=o.type,a=o.pendingProps,h=up(ve.current).createElement(c),h[rn]=o,h[yn]=a,er(h,c,a),bn(h),o.stateNode=h):o.memoizedState=IN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ee(o),a===null&&lt&&(h=o.stateNode=jN(o.type,o.pendingProps,ve.current),Qn=o,Ni=!0,y=qt,jo(o.type)?(Lb=y,qt=Ci(h.firstChild)):qt=y),Zn(a,o,o.pendingProps.children,c),Gm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&lt&&((y=h=qt)&&(h=RV(h,o.type,o.pendingProps,Ni),h!==null?(o.stateNode=h,Qn=o,qt=Ci(h.firstChild),Ni=!1,y=!0):y=!1),y||mo(o)),Ee(o),y=o.type,x=o.pendingProps,C=a!==null?a.memoizedProps:null,h=x.children,Pb(y,x)?h=null:C!==null&&Pb(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=Iy(a,o,Yz,null,null,c),cf._currentValue=y),Gm(a,o),Zn(a,o,h,c),o.child;case 6:return a===null&&lt&&((a=c=qt)&&(c=kV(c,o.pendingProps,Ni),c!==null?(o.stateNode=c,Qn=o,qt=null,a=!0):a=!1),a||mo(o)),null;case 13:return v2(a,o,c);case 4:return je(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Rl(o,null,h,c):Zn(a,o,h,c),o.child;case 11:return l2(a,o,o.type,o.pendingProps,c);case 7:return Zn(a,o,o.pendingProps,c),o.child;case 8:return Zn(a,o,o.pendingProps.children,c),o.child;case 12:return Zn(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,po(o,o.type,h.value),Zn(a,o,h.children,c),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Cl(o),y=Jn(y),h=h(y),o.flags|=1,Zn(a,o,h,c),o.child;case 14:return c2(a,o,o.type,o.pendingProps,c);case 15:return u2(a,o,o.type,o.pendingProps,c);case 19:return b2(a,o,c);case 31:return nV(a,o,c);case 22:return d2(a,o,c,o.pendingProps);case 24:return Cl(o),h=Jn(wn),a===null?(y=wy(),y===null&&(y=Mt,x=by(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:h,cache:y},Sy(o),po(o,wn,y)):((a.lanes&c)!==0&&(Ey(a,o),Bd(o,null,null,c),$d()),y=a.memoizedState,x=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),po(o,wn,h)):(h=x.cache,po(o,wn,h),h!==y.cache&&yy(o,[wn],c,!0))),Zn(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function os(a){a.flags|=4}function ab(a,o,c,h,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(G2())a.flags|=8192;else throw Pl=Pm,_y}else a.flags&=-16777217}function w2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DN(o))if(G2())a.flags|=8192;else throw Pl=Pm,_y}function Wm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?to():536870912,a.lanes|=o,Jc|=o)}function Yd(a,o){if(!lt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ft(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function iV(a,o,c){var h=o.pendingProps;switch(hy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Ft(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),rs(wn),ae(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Vc(o)?os(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,py())),Ft(o),null;case 26:var y=o.type,x=o.memoizedState;return a===null?(os(o),x!==null?(Ft(o),w2(o,x)):(Ft(o),ab(o,y,null,h,c))):x?x!==a.memoizedState?(os(o),Ft(o),w2(o,x)):(Ft(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&os(o),Ft(o),ab(o,y,a,h,c)),null;case 27:if(Ce(o),c=ve.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&os(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ft(o),null}a=W.current,Vc(o)?eT(o):(a=jN(y,h,c),o.stateNode=a,os(o))}return Ft(o),null;case 5:if(Ce(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&os(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ft(o),null}if(x=W.current,Vc(o))eT(o);else{var C=up(ve.current);switch(x){case 1:x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=C.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?C.createElement(y,{is:h.is}):C.createElement(y)}}x[rn]=o,x[yn]=h;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)x.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=x;e:switch(er(x,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&os(o)}}return Ft(o),ab(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&os(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=ve.current,Vc(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,y=Qn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[rn]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||vN(a.nodeValue,c)),a||mo(o,!0)}else a=up(a).createTextNode(h),a[rn]=o,o.stateNode=a}return Ft(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(h=Vc(o),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[rn]=o}else Nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),a=!1}else c=py(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ai(o),o):(ai(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ft(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Vc(o),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[rn]=o}else Nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),y=!1}else y=py(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ai(o),o):(ai(o),null)}return ai(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Wm(o,o.updateQueue),Ft(o),null);case 4:return ae(),a===null&&Nb(o.stateNode.containerInfo),Ft(o),null;case 10:return rs(o.type),Ft(o),null;case 19:if(X(hn),h=o.memoizedState,h===null)return Ft(o),null;if(y=(o.flags&128)!==0,x=h.rendering,x===null)if(y)Yd(h,!1);else{if(sn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Dm(a),x!==null){for(o.flags|=128,Yd(h,!1),a=x.updateQueue,o.updateQueue=a,Wm(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)WA(c,a),c=c.sibling;return Y(hn,hn.current&1|2),lt&&ts(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&Rt()>ep&&(o.flags|=128,y=!0,Yd(h,!1),o.lanes=4194304)}else{if(!y)if(a=Dm(x),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Wm(o,a),Yd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!lt)return Ft(o),null}else 2*Rt()-h.renderingStartTime>ep&&c!==536870912&&(o.flags|=128,y=!0,Yd(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(a=h.last,a!==null?a.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Rt(),a.sibling=null,c=hn.current,Y(hn,y?c&1|2:c&1),lt&&ts(o,h.treeForkCount),a):(Ft(o),null);case 22:case 23:return ai(o),jy(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),c=o.updateQueue,c!==null&&Wm(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&X(Ol),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),rs(wn),Ft(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function aV(a,o){switch(hy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return rs(wn),ae(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ce(o),null;case 31:if(o.memoizedState!==null){if(ai(o),o.alternate===null)throw Error(r(340));Nl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ai(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Nl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return X(hn),null;case 4:return ae(),null;case 10:return rs(o.type),null;case 22:case 23:return ai(o),jy(),a!==null&&X(Ol),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return rs(wn),null;case 25:return null;default:return null}}function _2(a,o){switch(hy(o),o.tag){case 3:rs(wn),ae();break;case 26:case 27:case 5:Ce(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&ai(o);break;case 13:ai(o);break;case 19:X(hn);break;case 10:rs(o.type);break;case 22:case 23:ai(o),jy(),a!==null&&X(Ol);break;case 24:rs(wn)}}function Wd(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&a)===a){h=void 0;var x=c.create,C=c.inst;h=x(),C.destroy=h}c=c.next}while(c!==y)}}catch(q){Et(o,o.return,q)}}function wo(a,o,c){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&a)===a){var C=h.inst,q=C.destroy;if(q!==void 0){C.destroy=void 0,y=o;var Q=c,ue=q;try{ue()}catch(ye){Et(y,Q,ye)}}}h=h.next}while(h!==x)}}catch(ye){Et(o,o.return,ye)}}function S2(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{hT(o,c)}catch(h){Et(a,a.return,h)}}}function E2(a,o,c){c.props=Ml(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){Et(a,o,h)}}function Xd(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(y){Et(a,o,y)}}function Ta(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){Et(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Et(a,o,y)}else c.current=null}function A2(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){Et(a,a.return,y)}}function sb(a,o,c){try{var h=a.stateNode;NV(h,a.type,c,o),h[yn]=o}catch(y){Et(a,a.return,y)}}function T2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&jo(a.type)||a.tag===4}function ob(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||T2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&jo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function lb(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Hi));else if(h!==4&&(h===27&&jo(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(lb(a,o,c),a=a.sibling;a!==null;)lb(a,o,c),a=a.sibling}function Xm(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&(h===27&&jo(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Xm(a,o,c),a=a.sibling;a!==null;)Xm(a,o,c),a=a.sibling}function N2(a){var o=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);er(o,h,c),o[rn]=a,o[yn]=c}catch(x){Et(a,a.return,x)}}var ls=!1,En=!1,cb=!1,j2=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function sV(a,o){if(a=a.containerInfo,Ob=vp,a=UA(a),ny(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,q=-1,Q=-1,ue=0,ye=0,we=a,de=null;t:for(;;){for(var me;we!==c||y!==0&&we.nodeType!==3||(q=C+y),we!==x||h!==0&&we.nodeType!==3||(Q=C+h),we.nodeType===3&&(C+=we.nodeValue.length),(me=we.firstChild)!==null;)de=we,we=me;for(;;){if(we===a)break t;if(de===c&&++ue===y&&(q=C),de===x&&++ye===h&&(Q=C),(me=we.nextSibling)!==null)break;we=de,de=we.parentNode}we=me}c=q===-1||Q===-1?null:{start:q,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ib={focusedElem:a,selectionRange:c},vp=!1,Bn=o;Bn!==null;)if(o=Bn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Bn=a;else for(;Bn!==null;){switch(o=Bn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var Me=Ml(c.type,y);a=h.getSnapshotBeforeUpdate(Me,x),h.__reactInternalSnapshotBeforeUpdate=a}catch($e){Et(c,c.return,$e)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)kb(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":kb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Bn=a;break}Bn=o.return}}function C2(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:us(a,c),h&4&&Wd(5,c);break;case 1:if(us(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(C){Et(c,c.return,C)}else{var y=Ml(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Et(c,c.return,C)}}h&64&&S2(c),h&512&&Xd(c,c.return);break;case 3:if(us(a,c),h&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{hT(a,o)}catch(C){Et(c,c.return,C)}}break;case 27:o===null&&h&4&&N2(c);case 26:case 5:us(a,c),o===null&&h&4&&A2(c),h&512&&Xd(c,c.return);break;case 12:us(a,c);break;case 31:us(a,c),h&4&&P2(a,c);break;case 13:us(a,c),h&4&&R2(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=pV.bind(null,c),MV(a,c))));break;case 22:if(h=c.memoizedState!==null||ls,!h){o=o!==null&&o.memoizedState!==null||En,y=ls;var x=En;ls=h,(En=o)&&!x?ds(a,c,(c.subtreeFlags&8772)!==0):us(a,c),ls=y,En=x}break;case 30:break;default:us(a,c)}}function O2(a){var o=a.alternate;o!==null&&(a.alternate=null,O2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&_c(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Wt=null,Ur=!1;function cs(a,o,c){for(c=c.child;c!==null;)I2(a,o,c),c=c.sibling}function I2(a,o,c){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(dr,c)}catch{}switch(c.tag){case 26:En||Ta(c,o),cs(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:En||Ta(c,o);var h=Wt,y=Ur;jo(c.type)&&(Wt=c.stateNode,Ur=!1),cs(a,o,c),sf(c.stateNode),Wt=h,Ur=y;break;case 5:En||Ta(c,o);case 6:if(h=Wt,y=Ur,Wt=null,cs(a,o,c),Wt=h,Ur=y,Wt!==null)if(Ur)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(c.stateNode)}catch(x){Et(c,o,x)}else try{Wt.removeChild(c.stateNode)}catch(x){Et(c,o,x)}break;case 18:Wt!==null&&(Ur?(a=Wt,SN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),su(a)):SN(Wt,c.stateNode));break;case 4:h=Wt,y=Ur,Wt=c.stateNode.containerInfo,Ur=!0,cs(a,o,c),Wt=h,Ur=y;break;case 0:case 11:case 14:case 15:wo(2,c,o),En||wo(4,c,o),cs(a,o,c);break;case 1:En||(Ta(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&E2(c,o,h)),cs(a,o,c);break;case 21:cs(a,o,c);break;case 22:En=(h=En)||c.memoizedState!==null,cs(a,o,c),En=h;break;default:cs(a,o,c)}}function P2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{su(a)}catch(c){Et(o,o.return,c)}}}function R2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{su(a)}catch(c){Et(o,o.return,c)}}function oV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new j2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new j2),o;default:throw Error(r(435,a.tag))}}function Qm(a,o){var c=oV(a);o.forEach(function(h){if(!c.has(h)){c.add(h);var y=gV.bind(null,a,h);h.then(y,y)}})}function $r(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],x=a,C=o,q=C;e:for(;q!==null;){switch(q.tag){case 27:if(jo(q.type)){Wt=q.stateNode,Ur=!1;break e}break;case 5:Wt=q.stateNode,Ur=!1;break e;case 3:case 4:Wt=q.stateNode.containerInfo,Ur=!0;break e}q=q.return}if(Wt===null)throw Error(r(160));I2(x,C,y),Wt=null,Ur=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)k2(o,a),o=o.sibling}var Qi=null;function k2(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$r(o,a),Br(a),h&4&&(wo(3,a,a.return),Wd(3,a),wo(5,a,a.return));break;case 1:$r(o,a),Br(a),h&512&&(En||c===null||Ta(c,c.return)),h&64&&ls&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Qi;if($r(o,a),Br(a),h&512&&(En||c===null||Ta(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[fa]||x[rn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),er(x,h,c),x[rn]=a,bn(x),h=x;break e;case"link":var C=kN("link","href",y).get(h+(c.href||""));if(C){for(var q=0;q<C.length;q++)if(x=C[q],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(q,1);break t}}x=y.createElement(h),er(x,h,c),y.head.appendChild(x);break;case"meta":if(C=kN("meta","content",y).get(h+(c.content||""))){for(q=0;q<C.length;q++)if(x=C[q],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(q,1);break t}}x=y.createElement(h),er(x,h,c),y.head.appendChild(x);break;default:throw Error(r(468,h))}x[rn]=a,bn(x),h=x}a.stateNode=h}else MN(y,a.type,a.stateNode);else a.stateNode=RN(y,h,a.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?MN(y,a.type,a.stateNode):RN(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&sb(a,a.memoizedProps,c.memoizedProps)}break;case 27:$r(o,a),Br(a),h&512&&(En||c===null||Ta(c,c.return)),c!==null&&h&4&&sb(a,a.memoizedProps,c.memoizedProps);break;case 5:if($r(o,a),Br(a),h&512&&(En||c===null||Ta(c,c.return)),a.flags&32){y=a.stateNode;try{Vr(y,"")}catch(Me){Et(a,a.return,Me)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,sb(a,y,c!==null?c.memoizedProps:y)),h&1024&&(cb=!0);break;case 6:if($r(o,a),Br(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(Me){Et(a,a.return,Me)}}break;case 3:if(hp=null,y=Qi,Qi=dp(o.containerInfo),$r(o,a),Qi=y,Br(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{su(o.containerInfo)}catch(Me){Et(a,a.return,Me)}cb&&(cb=!1,M2(a));break;case 4:h=Qi,Qi=dp(a.stateNode.containerInfo),$r(o,a),Br(a),Qi=h;break;case 12:$r(o,a),Br(a);break;case 31:$r(o,a),Br(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Qm(a,h)));break;case 13:$r(o,a),Br(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Zm=Rt()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Qm(a,h)));break;case 22:y=a.memoizedState!==null;var Q=c!==null&&c.memoizedState!==null,ue=ls,ye=En;if(ls=ue||y,En=ye||Q,$r(o,a),En=ye,ls=ue,Br(a),h&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||Q||ls||En||Dl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){Q=c=o;try{if(x=Q.stateNode,y)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{q=Q.stateNode;var we=Q.memoizedProps.style,de=we!=null&&we.hasOwnProperty("display")?we.display:null;q.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Me){Et(Q,Q.return,Me)}}}else if(o.tag===6){if(c===null){Q=o;try{Q.stateNode.nodeValue=y?"":Q.memoizedProps}catch(Me){Et(Q,Q.return,Me)}}}else if(o.tag===18){if(c===null){Q=o;try{var me=Q.stateNode;y?EN(me,!0):EN(Q.stateNode,!1)}catch(Me){Et(Q,Q.return,Me)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Qm(a,c))));break;case 19:$r(o,a),Br(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Qm(a,h)));break;case 30:break;case 21:break;default:$r(o,a),Br(a)}}function Br(a){var o=a.flags;if(o&2){try{for(var c,h=a.return;h!==null;){if(T2(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=ob(a);Xm(a,x,y);break;case 5:var C=c.stateNode;c.flags&32&&(Vr(C,""),c.flags&=-33);var q=ob(a);Xm(a,q,C);break;case 3:case 4:var Q=c.stateNode.containerInfo,ue=ob(a);lb(a,ue,Q);break;default:throw Error(r(161))}}catch(ye){Et(a,a.return,ye)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function M2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;M2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function us(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)C2(a,o.alternate,o),o=o.sibling}function Dl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:wo(4,o,o.return),Dl(o);break;case 1:Ta(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&E2(o,o.return,c),Dl(o);break;case 27:sf(o.stateNode);case 26:case 5:Ta(o,o.return),Dl(o);break;case 22:o.memoizedState===null&&Dl(o);break;case 30:Dl(o);break;default:Dl(o)}a=a.sibling}}function ds(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=a,x=o,C=x.flags;switch(x.tag){case 0:case 11:case 15:ds(y,x,c),Wd(4,x);break;case 1:if(ds(y,x,c),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ue){Et(h,h.return,ue)}if(h=x,y=h.updateQueue,y!==null){var q=h.stateNode;try{var Q=y.shared.hiddenCallbacks;if(Q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Q.length;y++)fT(Q[y],q)}catch(ue){Et(h,h.return,ue)}}c&&C&64&&S2(x),Xd(x,x.return);break;case 27:N2(x);case 26:case 5:ds(y,x,c),c&&h===null&&C&4&&A2(x),Xd(x,x.return);break;case 12:ds(y,x,c);break;case 31:ds(y,x,c),c&&C&4&&P2(y,x);break;case 13:ds(y,x,c),c&&C&4&&R2(y,x);break;case 22:x.memoizedState===null&&ds(y,x,c),Xd(x,x.return);break;case 30:break;default:ds(y,x,c)}o=o.sibling}}function ub(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Dd(c))}function db(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Dd(a))}function Ji(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)D2(a,o,c,h),o=o.sibling}function D2(a,o,c,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ji(a,o,c,h),y&2048&&Wd(9,o);break;case 1:Ji(a,o,c,h);break;case 3:Ji(a,o,c,h),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Dd(a)));break;case 12:if(y&2048){Ji(a,o,c,h),a=o.stateNode;try{var x=o.memoizedProps,C=x.id,q=x.onPostCommit;typeof q=="function"&&q(C,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Q){Et(o,o.return,Q)}}else Ji(a,o,c,h);break;case 31:Ji(a,o,c,h);break;case 13:Ji(a,o,c,h);break;case 23:break;case 22:x=o.stateNode,C=o.alternate,o.memoizedState!==null?x._visibility&2?Ji(a,o,c,h):Qd(a,o):x._visibility&2?Ji(a,o,c,h):(x._visibility|=2,Wc(a,o,c,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&ub(C,o);break;case 24:Ji(a,o,c,h),y&2048&&db(o.alternate,o);break;default:Ji(a,o,c,h)}}function Wc(a,o,c,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,C=o,q=c,Q=h,ue=C.flags;switch(C.tag){case 0:case 11:case 15:Wc(x,C,q,Q,y),Wd(8,C);break;case 23:break;case 22:var ye=C.stateNode;C.memoizedState!==null?ye._visibility&2?Wc(x,C,q,Q,y):Qd(x,C):(ye._visibility|=2,Wc(x,C,q,Q,y)),y&&ue&2048&&ub(C.alternate,C);break;case 24:Wc(x,C,q,Q,y),y&&ue&2048&&db(C.alternate,C);break;default:Wc(x,C,q,Q,y)}o=o.sibling}}function Qd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,y=h.flags;switch(h.tag){case 22:Qd(c,h),y&2048&&ub(h.alternate,h);break;case 24:Qd(c,h),y&2048&&db(h.alternate,h);break;default:Qd(c,h)}o=o.sibling}}var Jd=8192;function Xc(a,o,c){if(a.subtreeFlags&Jd)for(a=a.child;a!==null;)L2(a,o,c),a=a.sibling}function L2(a,o,c){switch(a.tag){case 26:Xc(a,o,c),a.flags&Jd&&a.memoizedState!==null&&GV(c,Qi,a.memoizedState,a.memoizedProps);break;case 5:Xc(a,o,c);break;case 3:case 4:var h=Qi;Qi=dp(a.stateNode.containerInfo),Xc(a,o,c),Qi=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Jd,Jd=16777216,Xc(a,o,c),Jd=h):Xc(a,o,c));break;default:Xc(a,o,c)}}function z2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Zd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Bn=h,U2(h,a)}z2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)V2(a),a=a.sibling}function V2(a){switch(a.tag){case 0:case 11:case 15:Zd(a),a.flags&2048&&wo(9,a,a.return);break;case 3:Zd(a);break;case 12:Zd(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Jm(a)):Zd(a);break;default:Zd(a)}}function Jm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Bn=h,U2(h,a)}z2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:wo(8,o,o.return),Jm(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Jm(o));break;default:Jm(o)}a=a.sibling}}function U2(a,o){for(;Bn!==null;){var c=Bn;switch(c.tag){case 0:case 11:case 15:wo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Dd(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Bn=h;else e:for(c=a;Bn!==null;){h=Bn;var y=h.sibling,x=h.return;if(O2(h),h===c){Bn=null;break e}if(y!==null){y.return=x,Bn=y;break e}Bn=x}}}var lV={getCacheForType:function(a){var o=Jn(wn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return Jn(wn).controller.signal}},cV=typeof WeakMap=="function"?WeakMap:Map,vt=0,Mt=null,Ze=null,nt=0,St=0,si=null,_o=!1,Qc=!1,fb=!1,fs=0,sn=0,So=0,Ll=0,hb=0,oi=0,Jc=0,ef=null,qr=null,mb=!1,Zm=0,$2=0,ep=1/0,tp=null,Eo=null,In=0,Ao=null,Zc=null,hs=0,pb=0,gb=null,B2=null,tf=0,vb=null;function li(){return(vt&2)!==0&&nt!==0?nt&-nt:K.T!==null?Sb():Ar()}function q2(){if(oi===0)if((nt&536870912)===0||lt){var a=Fi;Fi<<=1,(Fi&3932160)===0&&(Fi=262144),oi=a}else oi=536870912;return a=ii.current,a!==null&&(a.flags|=32),oi}function Fr(a,o,c){(a===Mt&&(St===2||St===9)||a.cancelPendingCommit!==null)&&(eu(a,0),To(a,nt,oi,!1)),he(a,c),((vt&2)===0||a!==Mt)&&(a===Mt&&((vt&2)===0&&(Ll|=c),sn===4&&To(a,nt,oi,!1)),Na(a))}function F2(a,o,c){if((vt&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Sr(a,o),y=h?fV(a,o):bb(a,o,!0),x=h;do{if(y===0){Qc&&!h&&To(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!uV(c)){y=bb(a,o,!1),x=!1;continue}if(y===2){if(x=o,a.errorRecoveryDisabledLanes&x)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var q=a;y=ef;var Q=q.current.memoizedState.isDehydrated;if(Q&&(eu(q,C).flags|=256),C=bb(q,C,!1),C!==2){if(fb&&!Q){q.errorRecoveryDisabledLanes|=x,Ll|=x,y=4;break e}x=qr,qr=y,x!==null&&(qr===null?qr=x:qr.push.apply(qr,x))}y=C}if(x=!1,y!==2)continue}}if(y===1){eu(a,0),To(a,o,0,!0);break}e:{switch(h=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:To(h,o,oi,!_o);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Zm+300-Rt(),10<y)){if(To(h,o,oi,!_o),Lr(h,0,!0)!==0)break e;hs=o,h.timeoutHandle=wN(H2.bind(null,h,c,qr,tp,mb,o,oi,Ll,Jc,_o,x,"Throttled",-0,0),y);break e}H2(h,c,qr,tp,mb,o,oi,Ll,Jc,_o,x,null,-0,0)}}break}while(!0);Na(a)}function H2(a,o,c,h,y,x,C,q,Q,ue,ye,we,de,me){if(a.timeoutHandle=-1,we=o.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},L2(o,x,we);var Me=(x&62914560)===x?Zm-Rt():(x&4194048)===x?$2-Rt():0;if(Me=YV(we,Me),Me!==null){hs=x,a.cancelPendingCommit=Me(Z2.bind(null,a,o,x,c,h,y,C,q,Q,ye,we,null,de,me)),To(a,x,C,!ue);return}}Z2(a,o,x,c,h,y,C,q,Q)}function uV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],x=y.getSnapshot;y=y.value;try{if(!ni(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function To(a,o,c,h){o&=~hb,o&=~Ll,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var y=o;0<y;){var x=31-Vt(y),C=1<<x;h[x]=-1,y&=~C}c!==0&&Te(a,c,o)}function np(){return(vt&6)===0?(nf(0),!1):!0}function yb(){if(Ze!==null){if(St===0)var a=Ze.return;else a=Ze,ns=jl=null,ky(a),Fc=null,zd=0,a=Ze;for(;a!==null;)_2(a.alternate,a),a=a.return;Ze=null}}function eu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,OV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),hs=0,yb(),Mt=a,Ze=c=es(a.current,null),nt=o,St=0,si=null,_o=!1,Qc=Sr(a,o),fb=!1,Jc=oi=hb=Ll=So=sn=0,qr=ef=null,mb=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var y=31-Vt(h),x=1<<y;o|=a[y],h&=~x}return fs=o,Sm(),c}function K2(a,o){Xe=null,K.H=Kd,o===qc||o===Im?(o=lT(),St=3):o===_y?(o=lT(),St=4):St=o===Xy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,si=o,Ze===null&&(sn=1,Hm(a,Ei(o,a.current)))}function G2(){var a=ii.current;return a===null?!0:(nt&4194048)===nt?ji===null:(nt&62914560)===nt||(nt&536870912)!==0?a===ji:!1}function Y2(){var a=K.H;return K.H=Kd,a===null?Kd:a}function W2(){var a=K.A;return K.A=lV,a}function rp(){sn=4,_o||(nt&4194048)!==nt&&ii.current!==null||(Qc=!0),(So&134217727)===0&&(Ll&134217727)===0||Mt===null||To(Mt,nt,oi,!1)}function bb(a,o,c){var h=vt;vt|=2;var y=Y2(),x=W2();(Mt!==a||nt!==o)&&(tp=null,eu(a,o)),o=!1;var C=sn;e:do try{if(St!==0&&Ze!==null){var q=Ze,Q=si;switch(St){case 8:yb(),C=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(o=!0);var ue=St;if(St=0,si=null,tu(a,q,Q,ue),c&&Qc){C=0;break e}break;default:ue=St,St=0,si=null,tu(a,q,Q,ue)}}dV(),C=sn;break}catch(ye){K2(a,ye)}while(!0);return o&&a.shellSuspendCounter++,ns=jl=null,vt=h,K.H=y,K.A=x,Ze===null&&(Mt=null,nt=0,Sm()),C}function dV(){for(;Ze!==null;)X2(Ze)}function fV(a,o){var c=vt;vt|=2;var h=Y2(),y=W2();Mt!==a||nt!==o?(tp=null,ep=Rt()+500,eu(a,o)):Qc=Sr(a,o);e:do try{if(St!==0&&Ze!==null){o=Ze;var x=si;t:switch(St){case 1:St=0,si=null,tu(a,o,x,1);break;case 2:case 9:if(sT(x)){St=0,si=null,Q2(o);break}o=function(){St!==2&&St!==9||Mt!==a||(St=7),Na(a)},x.then(o,o);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:sT(x)?(St=0,si=null,Q2(o)):(St=0,si=null,tu(a,o,x,7));break;case 5:var C=null;switch(Ze.tag){case 26:C=Ze.memoizedState;case 5:case 27:var q=Ze;if(C?DN(C):q.stateNode.complete){St=0,si=null;var Q=q.sibling;if(Q!==null)Ze=Q;else{var ue=q.return;ue!==null?(Ze=ue,ip(ue)):Ze=null}break t}}St=0,si=null,tu(a,o,x,5);break;case 6:St=0,si=null,tu(a,o,x,6);break;case 8:yb(),sn=6;break e;default:throw Error(r(462))}}hV();break}catch(ye){K2(a,ye)}while(!0);return ns=jl=null,K.H=h,K.A=y,vt=c,Ze!==null?0:(Mt=null,nt=0,Sm(),sn)}function hV(){for(;Ze!==null&&!Qs();)X2(Ze)}function X2(a){var o=x2(a.alternate,a,fs);a.memoizedProps=a.pendingProps,o===null?ip(a):Ze=o}function Q2(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=m2(c,o,o.pendingProps,o.type,void 0,nt);break;case 11:o=m2(c,o,o.pendingProps,o.type.render,o.ref,nt);break;case 5:ky(o);default:_2(c,o),o=Ze=WA(o,fs),o=x2(c,o,fs)}a.memoizedProps=a.pendingProps,o===null?ip(a):Ze=o}function tu(a,o,c,h){ns=jl=null,ky(o),Fc=null,zd=0;var y=o.return;try{if(tV(a,y,o,c,nt)){sn=1,Hm(a,Ei(c,a.current)),Ze=null;return}}catch(x){if(y!==null)throw Ze=y,x;sn=1,Hm(a,Ei(c,a.current)),Ze=null;return}o.flags&32768?(lt||h===1?a=!0:Qc||(nt&536870912)!==0?a=!1:(_o=a=!0,(h===2||h===9||h===3||h===6)&&(h=ii.current,h!==null&&h.tag===13&&(h.flags|=16384))),J2(o,a)):ip(o)}function ip(a){var o=a;do{if((o.flags&32768)!==0){J2(o,_o);return}a=o.return;var c=iV(o.alternate,o,fs);if(c!==null){Ze=c;return}if(o=o.sibling,o!==null){Ze=o;return}Ze=o=a}while(o!==null);sn===0&&(sn=5)}function J2(a,o){do{var c=aV(a.alternate,a);if(c!==null){c.flags&=32767,Ze=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Ze=a;return}Ze=a=c}while(a!==null);sn=6,Ze=null}function Z2(a,o,c,h,y,x,C,q,Q){a.cancelPendingCommit=null;do ap();while(In!==0);if((vt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=oy,Se(a,c,x,C,q,Q),a===Mt&&(Ze=Mt=null,nt=0),Zc=o,Ao=a,hs=c,pb=x,gb=y,B2=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,vV(vi,function(){return iN(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=K.T,K.T=null,y=Z.p,Z.p=2,C=vt,vt|=4;try{sV(a,o,c)}finally{vt=C,Z.p=y,K.T=h}}In=1,eN(),tN(),nN()}}function eN(){if(In===1){In=0;var a=Ao,o=Zc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var h=Z.p;Z.p=2;var y=vt;vt|=4;try{k2(o,a);var x=Ib,C=UA(a.containerInfo),q=x.focusedElem,Q=x.selectionRange;if(C!==q&&q&&q.ownerDocument&&VA(q.ownerDocument.documentElement,q)){if(Q!==null&&ny(q)){var ue=Q.start,ye=Q.end;if(ye===void 0&&(ye=ue),"selectionStart"in q)q.selectionStart=ue,q.selectionEnd=Math.min(ye,q.value.length);else{var we=q.ownerDocument||document,de=we&&we.defaultView||window;if(de.getSelection){var me=de.getSelection(),Me=q.textContent.length,$e=Math.min(Q.start,Me),Ct=Q.end===void 0?$e:Math.min(Q.end,Me);!me.extend&&$e>Ct&&(C=Ct,Ct=$e,$e=C);var re=zA(q,$e),ee=zA(q,Ct);if(re&&ee&&(me.rangeCount!==1||me.anchorNode!==re.node||me.anchorOffset!==re.offset||me.focusNode!==ee.node||me.focusOffset!==ee.offset)){var ce=we.createRange();ce.setStart(re.node,re.offset),me.removeAllRanges(),$e>Ct?(me.addRange(ce),me.extend(ee.node,ee.offset)):(ce.setEnd(ee.node,ee.offset),me.addRange(ce))}}}}for(we=[],me=q;me=me.parentNode;)me.nodeType===1&&we.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<we.length;q++){var xe=we[q];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}vp=!!Ob,Ib=Ob=null}finally{vt=y,Z.p=h,K.T=c}}a.current=o,In=2}}function tN(){if(In===2){In=0;var a=Ao,o=Zc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var h=Z.p;Z.p=2;var y=vt;vt|=4;try{C2(a,o.alternate,o)}finally{vt=y,Z.p=h,K.T=c}}In=3}}function nN(){if(In===4||In===3){In=0,Js();var a=Ao,o=Zc,c=hs,h=B2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?In=5:(In=0,Zc=Ao=null,rN(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Eo=null),Qr(c),o=o.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(dr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=K.T,y=Z.p,Z.p=2,K.T=null;try{for(var x=a.onRecoverableError,C=0;C<h.length;C++){var q=h[C];x(q.value,{componentStack:q.stack})}}finally{K.T=o,Z.p=y}}(hs&3)!==0&&ap(),Na(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===vb?tf++:(tf=0,vb=a):tf=0,nf(0)}}function rN(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Dd(o)))}function ap(){return eN(),tN(),nN(),iN()}function iN(){if(In!==5)return!1;var a=Ao,o=pb;pb=0;var c=Qr(hs),h=K.T,y=Z.p;try{Z.p=32>c?32:c,K.T=null,c=gb,gb=null;var x=Ao,C=hs;if(In=0,Zc=Ao=null,hs=0,(vt&6)!==0)throw Error(r(331));var q=vt;if(vt|=4,V2(x.current),D2(x,x.current,C,c),vt=q,nf(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(dr,x)}catch{}return!0}finally{Z.p=y,K.T=h,rN(a,o)}}function aN(a,o,c){o=Ei(c,o),o=Wy(a.stateNode,o,2),a=yo(a,o,2),a!==null&&(he(a,2),Na(a))}function Et(a,o,c){if(a.tag===3)aN(a,a,c);else for(;o!==null;){if(o.tag===3){aN(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Eo===null||!Eo.has(h))){a=Ei(c,a),c=s2(2),h=yo(o,c,2),h!==null&&(o2(c,h,o,a),he(h,2),Na(h));break}}o=o.return}}function xb(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new cV;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(c)||(fb=!0,y.add(c),a=mV.bind(null,a,o,c),o.then(a,a))}function mV(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Mt===a&&(nt&c)===c&&(sn===4||sn===3&&(nt&62914560)===nt&&300>Rt()-Zm?(vt&2)===0&&eu(a,0):hb|=c,Jc===nt&&(Jc=0)),Na(a)}function sN(a,o){o===0&&(o=to()),a=Al(a,o),a!==null&&(he(a,o),Na(a))}function pV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),sN(a,c)}function gV(a,o){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),sN(a,c)}function vV(a,o){return Pt(a,o)}var sp=null,nu=null,wb=!1,op=!1,_b=!1,No=0;function Na(a){a!==nu&&a.next===null&&(nu===null?sp=nu=a:nu=nu.next=a),op=!0,wb||(wb=!0,bV())}function nf(a,o){if(!_b&&op){_b=!0;do for(var c=!1,h=sp;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var C=h.suspendedLanes,q=h.pingedLanes;x=(1<<31-Vt(42|a)+1)-1,x&=y&~(C&~q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,uN(h,x))}else x=nt,x=Lr(h,h===Mt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Sr(h,x)||(c=!0,uN(h,x));h=h.next}while(c);_b=!1}}function yV(){oN()}function oN(){op=wb=!1;var a=0;No!==0&&CV()&&(a=No);for(var o=Rt(),c=null,h=sp;h!==null;){var y=h.next,x=lN(h,o);x===0?(h.next=null,c===null?sp=y:c.next=y,y===null&&(nu=c)):(c=h,(a!==0||(x&3)!==0)&&(op=!0)),h=y}In!==0&&In!==5||nf(a),No!==0&&(No=0)}function lN(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var C=31-Vt(x),q=1<<C,Q=y[C];Q===-1?((q&c)===0||(q&h)!==0)&&(y[C]=eo(q,o)):Q<=o&&(a.expiredLanes|=q),x&=~q}if(o=Mt,c=nt,c=Lr(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===o&&(St===2||St===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&pi(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Sr(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&pi(h),Qr(c)){case 2:case 8:c=qi;break;case 32:c=vi;break;case 268435456:c=ca;break;default:c=vi}return h=cN.bind(null,a),c=Pt(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&pi(h),a.callbackPriority=2,a.callbackNode=null,2}function cN(a,o){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(ap()&&a.callbackNode!==c)return null;var h=nt;return h=Lr(a,a===Mt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(F2(a,h,o),lN(a,Rt()),a.callbackNode!=null&&a.callbackNode===c?cN.bind(null,a):null)}function uN(a,o){if(ap())return null;F2(a,o,!0)}function bV(){IV(function(){(vt&6)!==0?Pt(gi,yV):oN()})}function Sb(){if(No===0){var a=$c;a===0&&(a=fr,fr<<=1,(fr&261888)===0&&(fr=256)),No=a}return No}function dN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Tc(""+a)}function fN(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function xV(a,o,c,h,y){if(o==="submit"&&c&&c.stateNode===y){var x=dN((y[yn]||null).action),C=h.submitter;C&&(o=(o=C[yn]||null)?dN(o.formAction):C.getAttribute("formAction"),o!==null&&(x=o,C=null));var q=new xa("action","action",null,h,y);a.push({event:q,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(No!==0){var Q=C?fN(y,C):new FormData(y);qy(c,{pending:!0,data:Q,method:y.method,action:x},null,Q)}}else typeof x=="function"&&(q.preventDefault(),Q=C?fN(y,C):new FormData(y),qy(c,{pending:!0,data:Q,method:y.method,action:x},x,Q))},currentTarget:y}]})}}for(var Eb=0;Eb<sy.length;Eb++){var Ab=sy[Eb],wV=Ab.toLowerCase(),_V=Ab[0].toUpperCase()+Ab.slice(1);Xi(wV,"on"+_V)}Xi(qA,"onAnimationEnd"),Xi(FA,"onAnimationIteration"),Xi(HA,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(zz,"onTransitionRun"),Xi(Vz,"onTransitionStart"),Xi(Uz,"onTransitionCancel"),Xi(KA,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rf));function hN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var C=h.length-1;0<=C;C--){var q=h[C],Q=q.instance,ue=q.currentTarget;if(q=q.listener,Q!==x&&y.isPropagationStopped())break e;x=q,y.currentTarget=ue;try{x(y)}catch(ye){_m(ye)}y.currentTarget=null,x=Q}else for(C=0;C<h.length;C++){if(q=h[C],Q=q.instance,ue=q.currentTarget,q=q.listener,Q!==x&&y.isPropagationStopped())break e;x=q,y.currentTarget=ue;try{x(y)}catch(ye){_m(ye)}y.currentTarget=null,x=Q}}}}function et(a,o){var c=o[kt];c===void 0&&(c=o[kt]=new Set);var h=a+"__bubble";c.has(h)||(mN(o,a,2,!1),c.add(h))}function Tb(a,o,c){var h=0;o&&(h|=4),mN(c,a,h,o)}var lp="_reactListening"+Math.random().toString(36).slice(2);function Nb(a){if(!a[lp]){a[lp]=!0,pd.forEach(function(c){c!=="selectionchange"&&(SV.has(c)||Tb(c,!1,a),Tb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[lp]||(o[lp]=!0,Tb("selectionchange",!1,o))}}function mN(a,o,c,h){switch(qN(o)){case 2:var y=QV;break;case 8:y=JV;break;default:y=Bb}c=y.bind(null,o,c,a),y=void 0,!vl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function jb(a,o,c,h,y){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var q=h.stateNode.containerInfo;if(q===y)break;if(C===4)for(C=h.return;C!==null;){var Q=C.tag;if((Q===3||Q===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;q!==null;){if(C=ha(q),C===null)return;if(Q=C.tag,Q===5||Q===6||Q===26||Q===27){h=x=C;continue e}q=q.parentNode}}h=h.return}oo(function(){var ue=x,ye=xi(c),we=[];e:{var de=GA.get(a);if(de!==void 0){var me=xa,Me=a;switch(a){case"keypress":if(bl(c)===0)break e;case"keydown":case"keyup":me=bm;break;case"focusin":Me="focus",me=wl;break;case"focusout":Me="blur",me=wl;break;case"beforeblur":case"afterblur":me=wl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=T;break;case qA:case FA:case HA:me=fm;break;case KA:me=H;break;case"scroll":case"scrollend":me=Nd;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Za;break;case"toggle":case"beforetoggle":me=We}var $e=(o&4)!==0,Ct=!$e&&(a==="scroll"||a==="scrollend"),re=$e?de!==null?de+"Capture":null:de;$e=[];for(var ee=ue,ce;ee!==null;){var xe=ee;if(ce=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ce===null||re===null||(xe=Ki(ee,re),xe!=null&&$e.push(af(ee,xe,ce))),Ct)break;ee=ee.return}0<$e.length&&(de=new me(de,Me,null,c,ye),we.push({event:de,listeners:$e}))}}if((o&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",de&&c!==Ed&&(Me=c.relatedTarget||c.fromElement)&&(ha(Me)||Me[Ge]))break e;if((me||de)&&(de=ye.window===ye?ye:(de=ye.ownerDocument)?de.defaultView||de.parentWindow:window,me?(Me=c.relatedTarget||c.toElement,me=ue,Me=Me?ha(Me):null,Me!==null&&(Ct=s(Me),$e=Me.tag,Me!==Ct||$e!==5&&$e!==27&&$e!==6)&&(Me=null)):(me=null,Me=ue),me!==Me)){if($e=jd,xe="onMouseLeave",re="onMouseEnter",ee="mouse",(a==="pointerout"||a==="pointerover")&&($e=Za,xe="onPointerLeave",re="onPointerEnter",ee="pointer"),Ct=me==null?de:ei(me),ce=Me==null?de:ei(Me),de=new $e(xe,ee+"leave",me,c,ye),de.target=Ct,de.relatedTarget=ce,xe=null,ha(ye)===ue&&($e=new $e(re,ee+"enter",Me,c,ye),$e.target=ce,$e.relatedTarget=Ct,xe=$e),Ct=xe,me&&Me)t:{for($e=EV,re=me,ee=Me,ce=0,xe=re;xe;xe=$e(xe))ce++;xe=0;for(var Ve=ee;Ve;Ve=$e(Ve))xe++;for(;0<ce-xe;)re=$e(re),ce--;for(;0<xe-ce;)ee=$e(ee),xe--;for(;ce--;){if(re===ee||ee!==null&&re===ee.alternate){$e=re;break t}re=$e(re),ee=$e(ee)}$e=null}else $e=null;me!==null&&pN(we,de,me,$e,!1),Me!==null&&Ct!==null&&pN(we,Ct,Me,$e,!0)}}e:{if(de=ue?ei(ue):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var ft=PA;else if(OA(de))if(RA)ft=Mz;else{ft=Rz;var Le=Pz}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&Ac(ue.elementType)&&(ft=PA):ft=kz;if(ft&&(ft=ft(a,ue))){IA(we,ft,c,ye);break e}Le&&Le(a,de,ue),a==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&wd(de,"number",de.value)}switch(Le=ue?ei(ue):window,a){case"focusin":(OA(Le)||Le.contentEditable==="true")&&(Rc=Le,ry=ue,Rd=null);break;case"focusout":Rd=ry=Rc=null;break;case"mousedown":iy=!0;break;case"contextmenu":case"mouseup":case"dragend":iy=!1,$A(we,c,ye);break;case"selectionchange":if(Lz)break;case"keydown":case"keyup":$A(we,c,ye)}var Qe;if(gt)e:{switch(a){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Pc?_l(a,c)&&(rt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(rt="onCompositionStart");rt&&(Sa&&c.locale!=="ko"&&(Pc||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Pc&&(Qe=Td()):(ba=ye,Ad="value"in ba?ba.value:ba.textContent,Pc=!0)),Le=cp(ue,rt),0<Le.length&&(rt=new _a(rt,a,null,c,ye),we.push({event:rt,listeners:Le}),Qe?rt.data=Qe:(Qe=Ic(c),Qe!==null&&(rt.data=Qe)))),(Qe=_i?jz(a,c):Cz(a,c))&&(rt=cp(ue,"onBeforeInput"),0<rt.length&&(Le=new _a("onBeforeInput","beforeinput",null,c,ye),we.push({event:Le,listeners:rt}),Le.data=Qe)),xV(we,a,ue,c,ye)}hN(we,o)})}function af(a,o,c){return{instance:a,listener:o,currentTarget:c}}function cp(a,o){for(var c=o+"Capture",h=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Ki(a,c),y!=null&&h.unshift(af(a,y,x)),y=Ki(a,o),y!=null&&h.push(af(a,y,x))),a.tag===3)return h;a=a.return}return[]}function EV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function pN(a,o,c,h,y){for(var x=o._reactName,C=[];c!==null&&c!==h;){var q=c,Q=q.alternate,ue=q.stateNode;if(q=q.tag,Q!==null&&Q===h)break;q!==5&&q!==26&&q!==27||ue===null||(Q=ue,y?(ue=Ki(c,x),ue!=null&&C.unshift(af(c,ue,Q))):y||(ue=Ki(c,x),ue!=null&&C.push(af(c,ue,Q)))),c=c.return}C.length!==0&&a.push({event:o,listeners:C})}var AV=/\r\n?/g,TV=/\u0000|\uFFFD/g;function gN(a){return(typeof a=="string"?a:""+a).replace(AV,`
`).replace(TV,"")}function vN(a,o){return o=gN(o),gN(a)===o}function jt(a,o,c,h,y,x){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Vr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Vr(a,""+h);break;case"className":ti(a,"class",h);break;case"tabIndex":ti(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(a,c,h);break;case"style":Sd(a,h,x);break;case"data":if(o!=="object"){ti(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Tc(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&jt(a,o,"name",y.name,y,null),jt(a,o,"formEncType",y.formEncType,y,null),jt(a,o,"formMethod",y.formMethod,y,null),jt(a,o,"formTarget",y.formTarget,y,null)):(jt(a,o,"encType",y.encType,y,null),jt(a,o,"method",y.method,y,null),jt(a,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Tc(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=Hi);break;case"onScroll":h!=null&&et("scroll",a);break;case"onScrollEnd":h!=null&&et("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Tc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":et("beforetoggle",a),et("toggle",a),Sc(a,"popover",h);break;case"xlinkActuate":xn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":xn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":xn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":xn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":xn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":xn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":xn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":xn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":xn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Sc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=cm.get(c)||c,Sc(a,c,h))}}function Cb(a,o,c,h,y,x){switch(c){case"style":Sd(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?Vr(a,h):(typeof h=="number"||typeof h=="bigint")&&Vr(a,""+h);break;case"onScroll":h!=null&&et("scroll",a);break;case"onScrollEnd":h!=null&&et("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=a[yn]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,y);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Sc(a,c,h)}}}function er(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",a),et("load",a);var h=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var C=c[x];if(C!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,x,C,c,null)}}y&&jt(a,o,"srcSet",c.srcSet,c,null),h&&jt(a,o,"src",c.src,c,null);return;case"input":et("invalid",a);var q=x=C=y=null,Q=null,ue=null;for(h in c)if(c.hasOwnProperty(h)){var ye=c[h];if(ye!=null)switch(h){case"name":y=ye;break;case"type":C=ye;break;case"checked":Q=ye;break;case"defaultChecked":ue=ye;break;case"value":x=ye;break;case"defaultValue":q=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:jt(a,o,h,ye,c,null)}}sm(a,x,q,Q,ue,C,y,!1);return;case"select":et("invalid",a),h=C=x=null;for(y in c)if(c.hasOwnProperty(y)&&(q=c[y],q!=null))switch(y){case"value":x=q;break;case"defaultValue":C=q;break;case"multiple":h=q;default:jt(a,o,y,q,c,null)}o=x,c=C,a.multiple=!!h,o!=null?ro(a,!!h,o,!1):c!=null&&ro(a,!!h,c,!0);return;case"textarea":et("invalid",a),x=y=h=null;for(C in c)if(c.hasOwnProperty(C)&&(q=c[C],q!=null))switch(C){case"value":h=q;break;case"defaultValue":y=q;break;case"children":x=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:jt(a,o,C,q,c,null)}io(a,h,y,x);return;case"option":for(Q in c)c.hasOwnProperty(Q)&&(h=c[Q],h!=null)&&(Q==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":jt(a,o,Q,h,c,null));return;case"dialog":et("beforetoggle",a),et("toggle",a),et("cancel",a),et("close",a);break;case"iframe":case"object":et("load",a);break;case"video":case"audio":for(h=0;h<rf.length;h++)et(rf[h],a);break;case"image":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"embed":case"source":case"link":et("error",a),et("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(h=c[ue],h!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,ue,h,c,null)}return;default:if(Ac(o)){for(ye in c)c.hasOwnProperty(ye)&&(h=c[ye],h!==void 0&&Cb(a,o,ye,h,c,void 0));return}}for(q in c)c.hasOwnProperty(q)&&(h=c[q],h!=null&&jt(a,o,q,h,c,null))}function NV(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,C=null,q=null,Q=null,ue=null,ye=null;for(me in c){var we=c[me];if(c.hasOwnProperty(me)&&we!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Q=we;default:h.hasOwnProperty(me)||jt(a,o,me,null,h,we)}}for(var de in h){var me=h[de];if(we=c[de],h.hasOwnProperty(de)&&(me!=null||we!=null))switch(de){case"type":x=me;break;case"name":y=me;break;case"checked":ue=me;break;case"defaultChecked":ye=me;break;case"value":C=me;break;case"defaultValue":q=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==we&&jt(a,o,de,me,h,we)}}Ec(a,C,q,Q,ue,ye,x,y);return;case"select":me=C=q=de=null;for(x in c)if(Q=c[x],c.hasOwnProperty(x)&&Q!=null)switch(x){case"value":break;case"multiple":me=Q;default:h.hasOwnProperty(x)||jt(a,o,x,null,h,Q)}for(y in h)if(x=h[y],Q=c[y],h.hasOwnProperty(y)&&(x!=null||Q!=null))switch(y){case"value":de=x;break;case"defaultValue":q=x;break;case"multiple":C=x;default:x!==Q&&jt(a,o,y,x,h,Q)}o=q,c=C,h=me,de!=null?ro(a,!!c,de,!1):!!h!=!!c&&(o!=null?ro(a,!!c,o,!0):ro(a,!!c,c?[]:"",!1));return;case"textarea":me=de=null;for(q in c)if(y=c[q],c.hasOwnProperty(q)&&y!=null&&!h.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:jt(a,o,q,null,h,y)}for(C in h)if(y=h[C],x=c[C],h.hasOwnProperty(C)&&(y!=null||x!=null))switch(C){case"value":de=y;break;case"defaultValue":me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&jt(a,o,C,y,h,x)}om(a,de,me);return;case"option":for(var Me in c)de=c[Me],c.hasOwnProperty(Me)&&de!=null&&!h.hasOwnProperty(Me)&&(Me==="selected"?a.selected=!1:jt(a,o,Me,null,h,de));for(Q in h)de=h[Q],me=c[Q],h.hasOwnProperty(Q)&&de!==me&&(de!=null||me!=null)&&(Q==="selected"?a.selected=de&&typeof de!="function"&&typeof de!="symbol":jt(a,o,Q,de,h,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in c)de=c[$e],c.hasOwnProperty($e)&&de!=null&&!h.hasOwnProperty($e)&&jt(a,o,$e,null,h,de);for(ue in h)if(de=h[ue],me=c[ue],h.hasOwnProperty(ue)&&de!==me&&(de!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:jt(a,o,ue,de,h,me)}return;default:if(Ac(o)){for(var Ct in c)de=c[Ct],c.hasOwnProperty(Ct)&&de!==void 0&&!h.hasOwnProperty(Ct)&&Cb(a,o,Ct,void 0,h,de);for(ye in h)de=h[ye],me=c[ye],!h.hasOwnProperty(ye)||de===me||de===void 0&&me===void 0||Cb(a,o,ye,de,h,me);return}}for(var re in c)de=c[re],c.hasOwnProperty(re)&&de!=null&&!h.hasOwnProperty(re)&&jt(a,o,re,null,h,de);for(we in h)de=h[we],me=c[we],!h.hasOwnProperty(we)||de===me||de==null&&me==null||jt(a,o,we,de,h,me)}function yN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],x=y.transferSize,C=y.initiatorType,q=y.duration;if(x&&q&&yN(C)){for(C=0,q=y.responseEnd,h+=1;h<c.length;h++){var Q=c[h],ue=Q.startTime;if(ue>q)break;var ye=Q.transferSize,we=Q.initiatorType;ye&&yN(we)&&(Q=Q.responseEnd,C+=ye*(Q<q?1:(q-ue)/(Q-ue)))}if(--h,o+=8*(x+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ob=null,Ib=null;function up(a){return a.nodeType===9?a:a.ownerDocument}function bN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Pb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Rb=null;function CV(){var a=window.event;return a&&a.type==="popstate"?a===Rb?!1:(Rb=a,!0):(Rb=null,!1)}var wN=typeof setTimeout=="function"?setTimeout:void 0,OV=typeof clearTimeout=="function"?clearTimeout:void 0,_N=typeof Promise=="function"?Promise:void 0,IV=typeof queueMicrotask=="function"?queueMicrotask:typeof _N<"u"?function(a){return _N.resolve(null).then(a).catch(PV)}:wN;function PV(a){setTimeout(function(){throw a})}function jo(a){return a==="head"}function SN(a,o){var c=o,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(y),su(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")sf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,sf(c);for(var x=c.firstChild;x;){var C=x.nextSibling,q=x.nodeName;x[fa]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=C}}else c==="body"&&sf(a.ownerDocument.body);c=y}while(c);su(o)}function EN(a,o){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function kb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":kb(c),_c(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function RV(a,o,c,h){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[fa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ci(a.nextSibling),a===null)break}return null}function kV(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ci(a.nextSibling),a===null))return null;return a}function AN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ci(a.nextSibling),a===null))return null;return a}function Mb(a){return a.data==="$?"||a.data==="$~"}function Db(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function MV(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ci(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Lb=null;function TN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Ci(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function NN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function jN(a,o,c){switch(o=up(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function sf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);_c(a)}var Oi=new Map,CN=new Set;function dp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ms=Z.d;Z.d={f:DV,r:LV,D:zV,C:VV,L:UV,m:$V,X:qV,S:BV,M:FV};function DV(){var a=ms.f(),o=np();return a||o}function LV(a){var o=bi(a);o!==null&&o.tag===5&&o.type==="form"?KT(o):ms.r(a)}var ru=typeof document>"u"?null:document;function ON(a,o,c){var h=ru;if(h&&typeof o=="string"&&o){var y=zr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),CN.has(y)||(CN.add(y),a={rel:a,crossOrigin:c,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),er(o,"link",a),bn(o),h.head.appendChild(o)))}}function zV(a){ms.D(a),ON("dns-prefetch",a,null)}function VV(a,o){ms.C(a,o),ON("preconnect",a,o)}function UV(a,o,c){ms.L(a,o,c);var h=ru;if(h&&a&&o){var y='link[rel="preload"][as="'+zr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+zr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+zr(c.imageSizes)+'"]')):y+='[href="'+zr(a)+'"]';var x=y;switch(o){case"style":x=iu(a);break;case"script":x=au(a)}Oi.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Oi.set(x,a),h.querySelector(y)!==null||o==="style"&&h.querySelector(of(x))||o==="script"&&h.querySelector(lf(x))||(o=h.createElement("link"),er(o,"link",a),bn(o),h.head.appendChild(o)))}}function $V(a,o){ms.m(a,o);var c=ru;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+zr(h)+'"][href="'+zr(a)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=au(a)}if(!Oi.has(x)&&(a=g({rel:"modulepreload",href:a},o),Oi.set(x,a),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(lf(x)))return}h=c.createElement("link"),er(h,"link",a),bn(h),c.head.appendChild(h)}}}function BV(a,o,c){ms.S(a,o,c);var h=ru;if(h&&a){var y=ma(h).hoistableStyles,x=iu(a);o=o||"default";var C=y.get(x);if(!C){var q={loading:0,preload:null};if(C=h.querySelector(of(x)))q.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Oi.get(x))&&zb(a,c);var Q=C=h.createElement("link");bn(Q),er(Q,"link",a),Q._p=new Promise(function(ue,ye){Q.onload=ue,Q.onerror=ye}),Q.addEventListener("load",function(){q.loading|=1}),Q.addEventListener("error",function(){q.loading|=2}),q.loading|=4,fp(C,o,h)}C={type:"stylesheet",instance:C,count:1,state:q},y.set(x,C)}}}function qV(a,o){ms.X(a,o);var c=ru;if(c&&a){var h=ma(c).hoistableScripts,y=au(a),x=h.get(y);x||(x=c.querySelector(lf(y)),x||(a=g({src:a,async:!0},o),(o=Oi.get(y))&&Vb(a,o),x=c.createElement("script"),bn(x),er(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function FV(a,o){ms.M(a,o);var c=ru;if(c&&a){var h=ma(c).hoistableScripts,y=au(a),x=h.get(y);x||(x=c.querySelector(lf(y)),x||(a=g({src:a,async:!0,type:"module"},o),(o=Oi.get(y))&&Vb(a,o),x=c.createElement("script"),bn(x),er(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function IN(a,o,c,h){var y=(y=ve.current)?dp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=iu(c.href),c=ma(y).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=iu(c.href);var x=ma(y).hoistableStyles,C=x.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,C),(x=y.querySelector(of(a)))&&!x._p&&(C.instance=x,C.state.loading=5),Oi.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Oi.set(a,c),x||HV(y,a,c,C.state))),o&&h===null)throw Error(r(528,""));return C}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=au(c),c=ma(y).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function iu(a){return'href="'+zr(a)+'"'}function of(a){return'link[rel="stylesheet"]['+a+"]"}function PN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function HV(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),er(o,"link",c),bn(o),a.head.appendChild(o))}function au(a){return'[src="'+zr(a)+'"]'}function lf(a){return"script[async]"+a}function RN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+zr(c.href)+'"]');if(h)return o.instance=h,bn(h),h;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),bn(h),er(h,"style",y),fp(h,c.precedence,a),o.instance=h;case"stylesheet":y=iu(c.href);var x=a.querySelector(of(y));if(x)return o.state.loading|=4,o.instance=x,bn(x),x;h=PN(c),(y=Oi.get(y))&&zb(h,y),x=(a.ownerDocument||a).createElement("link"),bn(x);var C=x;return C._p=new Promise(function(q,Q){C.onload=q,C.onerror=Q}),er(x,"link",h),o.state.loading|=4,fp(x,c.precedence,a),o.instance=x;case"script":return x=au(c.src),(y=a.querySelector(lf(x)))?(o.instance=y,bn(y),y):(h=c,(y=Oi.get(x))&&(h=g({},c),Vb(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),bn(y),er(y,"link",h),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,fp(h,c.precedence,a));return o.instance}function fp(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,C=0;C<h.length;C++){var q=h[C];if(q.dataset.precedence===o)x=q;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function zb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Vb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var hp=null;function kN(a,o,c){if(hp===null){var h=new Map,y=hp=new Map;y.set(c,h)}else y=hp,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[fa]||x[rn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(o)||"";C=a+C;var q=h.get(C);q?q.push(x):h.set(C,[x])}}return h}function MN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function KV(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function DN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function GV(a,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=iu(h.href),x=o.querySelector(of(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=mp.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,bn(x);return}x=o.ownerDocument||o,h=PN(h),(y=Oi.get(y))&&zb(h,y),x=x.createElement("link"),bn(x);var C=x;C._p=new Promise(function(q,Q){C.onload=q,C.onerror=Q}),er(x,"link",h),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=mp.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var Ub=0;function YV(a,o){return a.stylesheets&&a.count===0&&gp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&gp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Ub===0&&(Ub=62500*jV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&gp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Ub?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function mp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var pp=null;function gp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,pp=new Map,o.forEach(WV,a),pp=null,mp.call(a))}function WV(a,o){if(!(o.state.loading&4)){var c=pp.get(a);if(c)var h=c.get(null);else{c=new Map,pp.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var C=y[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),h=C)}h&&c.set(null,h)}y=o.instance,C=y.getAttribute("data-precedence"),x=c.get(C)||h,x===h&&c.set(null,y),c.set(C,y),this.count++,h=mp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var cf={$$typeof:V,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function XV(a,o,c,h,y,x,C,q,Q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=F(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F(0),this.hiddenUpdates=F(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function LN(a,o,c,h,y,x,C,q,Q,ue,ye,we){return a=new XV(a,o,c,C,Q,ue,ye,we,q),o=1,x===!0&&(o|=24),x=ri(3,null,null,o),a.current=x,x.stateNode=a,o=by(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:o},Sy(x),a}function zN(a){return a?(a=Dc,a):Dc}function VN(a,o,c,h,y,x){y=zN(y),h.context===null?h.context=y:h.pendingContext=y,h=vo(o),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=yo(a,h,o),c!==null&&(Fr(c,a,o),Ud(c,a,o))}function UN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function $b(a,o){UN(a,o),(a=a.alternate)&&UN(a,o)}function $N(a){if(a.tag===13||a.tag===31){var o=Al(a,67108864);o!==null&&Fr(o,a,67108864),$b(a,67108864)}}function BN(a){if(a.tag===13||a.tag===31){var o=li();o=Er(o);var c=Al(a,o);c!==null&&Fr(c,a,o),$b(a,o)}}var vp=!0;function QV(a,o,c,h){var y=K.T;K.T=null;var x=Z.p;try{Z.p=2,Bb(a,o,c,h)}finally{Z.p=x,K.T=y}}function JV(a,o,c,h){var y=K.T;K.T=null;var x=Z.p;try{Z.p=8,Bb(a,o,c,h)}finally{Z.p=x,K.T=y}}function Bb(a,o,c,h){if(vp){var y=qb(h);if(y===null)jb(a,o,h,yp,c),FN(a,h);else if(e9(y,a,o,c,h))h.stopPropagation();else if(FN(a,h),o&4&&-1<ZV.indexOf(a)){for(;y!==null;){var x=bi(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=Dr(x.pendingLanes);if(C!==0){var q=x;for(q.pendingLanes|=2,q.entangledLanes|=2;C;){var Q=1<<31-Vt(C);q.entanglements[1]|=Q,C&=~Q}Na(x),(vt&6)===0&&(ep=Rt()+500,nf(0))}}break;case 31:case 13:q=Al(x,2),q!==null&&Fr(q,x,2),np(),$b(x,2)}if(x=qb(h),x===null&&jb(a,o,h,yp,c),x===y)break;y=x}y!==null&&h.stopPropagation()}else jb(a,o,h,null,c)}}function qb(a){return a=xi(a),Fb(a)}var yp=null;function Fb(a){if(yp=null,a=ha(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return yp=a,null}function qN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case gi:return 2;case qi:return 8;case vi:case Ya:return 32;case ca:return 268435456;default:return 32}default:return 32}}var Hb=!1,Co=null,Oo=null,Io=null,uf=new Map,df=new Map,Po=[],ZV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FN(a,o){switch(a){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":uf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(o.pointerId)}}function ff(a,o,c,h,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},o!==null&&(o=bi(o),o!==null&&$N(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function e9(a,o,c,h,y){switch(o){case"focusin":return Co=ff(Co,a,o,c,h,y),!0;case"dragenter":return Oo=ff(Oo,a,o,c,h,y),!0;case"mouseover":return Io=ff(Io,a,o,c,h,y),!0;case"pointerover":var x=y.pointerId;return uf.set(x,ff(uf.get(x)||null,a,o,c,h,y)),!0;case"gotpointercapture":return x=y.pointerId,df.set(x,ff(df.get(x)||null,a,o,c,h,y)),!0}return!1}function HN(a){var o=ha(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,Jr(a.priority,function(){BN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,Jr(a.priority,function(){BN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function bp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=qb(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Ed=h,c.target.dispatchEvent(h),Ed=null}else return o=bi(c),o!==null&&$N(o),a.blockedOn=c,!1;o.shift()}return!0}function KN(a,o,c){bp(a)&&c.delete(o)}function t9(){Hb=!1,Co!==null&&bp(Co)&&(Co=null),Oo!==null&&bp(Oo)&&(Oo=null),Io!==null&&bp(Io)&&(Io=null),uf.forEach(KN),df.forEach(KN)}function xp(a,o){a.blockedOn===o&&(a.blockedOn=null,Hb||(Hb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,t9)))}var wp=null;function GN(a){wp!==a&&(wp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wp===a&&(wp=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],y=a[o+2];if(typeof h!="function"){if(Fb(h||c)===null)continue;break}var x=bi(c);x!==null&&(a.splice(o,3),o-=3,qy(x,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function su(a){function o(Q){return xp(Q,a)}Co!==null&&xp(Co,a),Oo!==null&&xp(Oo,a),Io!==null&&xp(Io,a),uf.forEach(o),df.forEach(o);for(var c=0;c<Po.length;c++){var h=Po[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Po.length&&(c=Po[0],c.blockedOn===null);)HN(c),c.blockedOn===null&&Po.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],x=c[h+1],C=y[yn]||null;if(typeof x=="function")C||GN(c);else if(C){var q=null;if(x&&x.hasAttribute("formAction")){if(y=x,C=x[yn]||null)q=C.formAction;else if(Fb(y)!==null)continue}else q=C.action;typeof q=="function"?c[h+1]=q:(c.splice(h,3),h-=3),GN(c)}}}function YN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Kb(a){this._internalRoot=a}_p.prototype.render=Kb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=li();VN(c,h,a,o,null,null)},_p.prototype.unmount=Kb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;VN(a.current,2,null,a,null,null),np(),o[Ge]=null}};function _p(a){this._internalRoot=a}_p.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ar();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Po.length&&o!==0&&o<Po[c].priority;c++);Po.splice(c,0,a),c===0&&HN(a)}};var WN=e.version;if(WN!=="19.2.3")throw Error(r(527,WN,"19.2.3"));Z.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=m(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var n9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sp.isDisabled&&Sp.supportsFiber)try{dr=Sp.inject(n9),Zt=Sp}catch{}}return mf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,h="",y=n2,x=r2,C=i2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=LN(a,1,!1,null,null,c,h,null,y,x,C,YN),a[Ge]=o.current,Nb(a),new Kb(o)},mf.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var h=!1,y="",x=n2,C=r2,q=i2,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(q=c.onRecoverableError),c.formState!==void 0&&(Q=c.formState)),o=LN(a,1,!0,o,c??null,h,y,Q,x,C,q,YN),o.context=zN(null),c=o.current,h=li(),h=Er(h),y=vo(h),y.callback=null,yo(c,y,h),c=h,o.current.lanes=c,he(o,c),Na(o),a[Ge]=o.current,Nb(a),new _p(o)},mf.version="19.2.3",mf}var aj;function h9(){if(aj)return Wb.exports;aj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wb.exports=f9(),Wb.exports}var m9=h9();const p9=()=>{};var sj={};const Mk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},g9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Dk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,m=d?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|m>>6,_=m&63;d||(_=64,l||(b=64)),r.push(n[p],n[g],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||m==null||g==null)throw new v9;const b=s<<2|u>>4;if(r.push(b),m!==64){const _=u<<4&240|m>>2;if(r.push(_),g!==64){const S=m<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y9=function(t){const e=Mk(t);return Dk.encodeByteArray(e,!0)},dg=function(t){return y9(t).replace(/\./g,"")},Lk=function(t){try{return Dk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function b9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const x9=()=>b9().__FIREBASE_DEFAULTS__,w9=()=>{if(typeof process>"u"||typeof sj>"u")return;const t=sj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lk(t[1]);return e&&JSON.parse(e)},Ov=()=>{try{return p9()||x9()||w9()||_9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zk=t=>Ov()?.emulatorHosts?.[t],S9=t=>{const e=zk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vk=()=>Ov()?.config,Uk=t=>Ov()?.[`_${t}`];class E9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Yu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $k(t){return(await fetch(t,{credentials:"include"})).ok}function A9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dg(JSON.stringify(n)),dg(JSON.stringify(l)),""].join(".")}const If={};function T9(){const t={prod:[],emulator:[]};for(const e of Object.keys(If))If[e]?t.emulator.push(e):t.prod.push(e);return t}function N9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oj=!1;function Bk(t,e){if(typeof window>"u"||typeof document>"u"||!Yu(window.location.host)||If[t]===e||If[t]||oj)return;If[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=T9().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{oj=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=N9(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),O=n("preprendIcon"),L=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const V=b.element;u(V),p(A,E);const B=m();d(L,O),V.append(L,S,A,B),document.body.appendChild(V)}s?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function C9(){const t=Ov()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R9(){const t=xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k9(){return!C9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M9(){try{return typeof indexedDB=="object"}catch{return!1}}function D9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const L9="FirebaseError";class $s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L9,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ph.prototype.create)}}class ph{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?z9(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new $s(i,u,r)}}function z9(t,e){return t.replace(V9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const V9=/\{\$([^}]+)}/g;function U9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(lj(s)&&lj(l)){if(!tc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lj(t){return t!==null&&typeof t=="object"}function gh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $9(t,e){const n=new B9(t,e);return n.subscribe.bind(n)}class B9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zb),i.error===void 0&&(i.error=Zb),i.complete===void 0&&(i.complete=Zb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zb(){}function Mn(t){return t&&t._delegate?t._delegate:t}class nc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zl="[DEFAULT]";let F9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K9(e))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zl){return this.instances.has(e)}getOptions(e=zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zl){return this.component?this.component.multipleInstances?e:zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function H9(t){return t===zl?void 0:t}function K9(t){return t.instantiationMode==="EAGER"}class G9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const Y9={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},W9=it.INFO,X9={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},Q9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=X9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=W9,this._logHandler=Q9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const J9=(t,e)=>e.some(n=>t instanceof n);let cj,uj;function Z9(){return cj||(cj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e8(){return uj||(uj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qk=new WeakMap,Y1=new WeakMap,Fk=new WeakMap,ex=new WeakMap,E_=new WeakMap;function t8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Ho(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&qk.set(n,t)}).catch(()=>{}),E_.set(e,t),e}function n8(t){if(Y1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Y1.set(t,e)}let W1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Y1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r8(t){W1=t(W1)}function i8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tx(this),e,...n);return Fk.set(r,e.sort?e.sort():[e]),Ho(r)}:e8().includes(t)?function(...e){return t.apply(tx(this),e),Ho(qk.get(this))}:function(...e){return Ho(t.apply(tx(this),e))}}function a8(t){return typeof t=="function"?i8(t):(t instanceof IDBTransaction&&n8(t),J9(t,Z9())?new Proxy(t,W1):t)}function Ho(t){if(t instanceof IDBRequest)return t8(t);if(ex.has(t))return ex.get(t);const e=a8(t);return e!==t&&(ex.set(t,e),E_.set(e,t)),e}const tx=t=>E_.get(t);function s8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Ho(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ho(l.result),d.oldVersion,d.newVersion,Ho(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const o8=["get","getKey","getAll","getAllKeys","count"],l8=["put","add","delete","clear"],nx=new Map;function dj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nx.get(e))return nx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=l8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||o8.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&d.done]))[0]};return nx.set(e,s),s}r8(t=>({...t,get:(e,n,r)=>dj(e,n)||t.get(e,n,r),has:(e,n)=>!!dj(e,n)||t.has(e,n)}));class c8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u8(t){return t.getComponent()?.type==="VERSION"}const X1="@firebase/app",fj="0.14.6";const Ts=new S_("@firebase/app"),d8="@firebase/app-compat",f8="@firebase/analytics-compat",h8="@firebase/analytics",m8="@firebase/app-check-compat",p8="@firebase/app-check",g8="@firebase/auth",v8="@firebase/auth-compat",y8="@firebase/database",b8="@firebase/data-connect",x8="@firebase/database-compat",w8="@firebase/functions",_8="@firebase/functions-compat",S8="@firebase/installations",E8="@firebase/installations-compat",A8="@firebase/messaging",T8="@firebase/messaging-compat",N8="@firebase/performance",j8="@firebase/performance-compat",C8="@firebase/remote-config",O8="@firebase/remote-config-compat",I8="@firebase/storage",P8="@firebase/storage-compat",R8="@firebase/firestore",k8="@firebase/ai",M8="@firebase/firestore-compat",D8="firebase",L8="12.6.0";const Q1="[DEFAULT]",z8={[X1]:"fire-core",[d8]:"fire-core-compat",[h8]:"fire-analytics",[f8]:"fire-analytics-compat",[p8]:"fire-app-check",[m8]:"fire-app-check-compat",[g8]:"fire-auth",[v8]:"fire-auth-compat",[y8]:"fire-rtdb",[b8]:"fire-data-connect",[x8]:"fire-rtdb-compat",[w8]:"fire-fn",[_8]:"fire-fn-compat",[S8]:"fire-iid",[E8]:"fire-iid-compat",[A8]:"fire-fcm",[T8]:"fire-fcm-compat",[N8]:"fire-perf",[j8]:"fire-perf-compat",[C8]:"fire-rc",[O8]:"fire-rc-compat",[I8]:"fire-gcs",[P8]:"fire-gcs-compat",[R8]:"fire-fst",[M8]:"fire-fst-compat",[k8]:"fire-vertex","fire-js":"fire-js",[D8]:"fire-js-all"};const fg=new Map,V8=new Map,J1=new Map;function hj(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ou(t){const e=t.name;if(J1.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;J1.set(e,t);for(const n of fg.values())hj(n,t);for(const n of V8.values())hj(n,t);return!0}function A_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mi(t){return t==null?!1:t.settings!==void 0}const U8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ko=new ph("app","Firebase",U8);class $8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}const Wu=L8;function Hk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Q1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(n||(n=Vk()),!n)throw Ko.create("no-options");const s=fg.get(i);if(s){if(tc(n,s.options)&&tc(r,s.config))return s;throw Ko.create("duplicate-app",{appName:i})}const l=new G9(i);for(const d of J1.values())l.addComponent(d);const u=new $8(n,r,l);return fg.set(i,u),u}function Kk(t=Q1){const e=fg.get(t);if(!e&&t===Q1&&Vk())return Hk();if(!e)throw Ko.create("no-app",{appName:t});return e}function Go(t,e,n){let r=z8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(l.join(" "));return}Ou(new nc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const B8="firebase-heartbeat-database",q8=1,Uf="firebase-heartbeat-store";let rx=null;function Gk(){return rx||(rx=s8(B8,q8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ko.create("idb-open",{originalErrorMessage:t.message})})),rx}async function F8(t){try{const n=(await Gk()).transaction(Uf),r=await n.objectStore(Uf).get(Yk(t));return await n.done,r}catch(e){if(e instanceof $s)Ts.warn(e.message);else{const n=Ko.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(n.message)}}}async function mj(t,e){try{const r=(await Gk()).transaction(Uf,"readwrite");await r.objectStore(Uf).put(e,Yk(t)),await r.done}catch(n){if(n instanceof $s)Ts.warn(n.message);else{const r=Ko.create("idb-set",{originalErrorMessage:n?.message});Ts.warn(r.message)}}}function Yk(t){return`${t.name}!${t.options.appId}`}const H8=1024,K8=30;class G8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>K8){const i=X8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pj(),{heartbeatsToSend:n,unsentEntries:r}=Y8(this._heartbeatsCache.heartbeats),i=dg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ts.warn(e),""}}}function pj(){return new Date().toISOString().substring(0,10)}function Y8(t,e=H8){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),gj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M9()?D9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gj(t){return dg(JSON.stringify({version:2,heartbeats:t})).length}function X8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Q8(t){Ou(new nc("platform-logger",e=>new c8(e),"PRIVATE")),Ou(new nc("heartbeat",e=>new G8(e),"PRIVATE")),Go(X1,fj,t),Go(X1,fj,"esm2020"),Go("fire-js","")}Q8("");var J8="firebase",Z8="12.7.0";Go(J8,Z8,"app");function Wk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eU=Wk,Xk=new ph("auth","Firebase",Wk());const hg=new S_("@firebase/auth");function tU(t,...e){hg.logLevel<=it.WARN&&hg.warn(`Auth (${Wu}): ${t}`,...e)}function Yp(t,...e){hg.logLevel<=it.ERROR&&hg.error(`Auth (${Wu}): ${t}`,...e)}function Ns(t,...e){throw T_(t,...e)}function Pa(t,...e){return T_(t,...e)}function Qk(t,e,n){const r={...eU(),[e]:n};return new ph("auth","Firebase",r).create(e,{appName:t.name})}function _s(t){return Qk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Xk.create(t,...e)}function qe(t,e,...n){if(!t)throw T_(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yp(e),new Error(e)}function js(t,e){t||ys(e)}function Z1(){return typeof self<"u"&&self.location?.href||""}function nU(){return vj()==="http:"||vj()==="https:"}function vj(){return typeof self<"u"&&self.location?.protocol||null}function rU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nU()||I9()||"connection"in navigator)?navigator.onLine:!0}function iU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=j9()||P9()}get(){return rU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function N_(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Jk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oU=new vh(3e4,6e4);function yh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xu(t,e,n,r,i={}){return Zk(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=gh({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...s};return O9()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Yu(t.emulatorConfig.host)&&(m.credentials="include"),Jk.fetch()(await eM(t,t.config.apiHost,n,u),m)})}async function Zk(t,e,n){t._canInitEmulator=!1;const r={...aU,...e};try{const i=new lU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Ep(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,m]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ep(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ep(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ep(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Qk(t,p,m);Ns(t,p)}}catch(i){if(i instanceof $s)throw i;Ns(t,"network-request-failed",{message:String(i)})}}async function j_(t,e,n,r,i={}){const s=await Xu(t,e,n,r,i);return"mfaPendingCredential"in s&&Ns(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function eM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?N_(t.config,i):`${t.config.apiScheme}://${i}`;return sU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class lU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pa(this.auth,"network-request-failed")),oU.get())})}}function Ep(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pa(t,e,r);return i.customData._tokenResponse=n,i}async function cU(t,e){return Xu(t,"POST","/v1/accounts:delete",e)}async function mg(t,e){return Xu(t,"POST","/v1/accounts:lookup",e)}function Pf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uU(t,e=!1){const n=Mn(t),r=await n.getIdToken(e),i=C_(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Pf(ix(i.auth_time)),issuedAtTime:Pf(ix(i.iat)),expirationTime:Pf(ix(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function ix(t){return Number(t)*1e3}function C_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lk(n);return i?JSON.parse(i):(Yp("Failed to decode base64 JWT payload"),null)}catch(i){return Yp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yj(t){const e=C_(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $f(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $s&&dU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class fU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ew{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pg(t){const e=t.auth,n=await t.getIdToken(),r=await $f(t,mg(e,{idToken:n}));qe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?tM(i.providerUserInfo):[],l=mU(t.providerData,s),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,m=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new ew(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function hU(t){const e=Mn(t);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function pU(t,e){const n=await Zk(t,{},async()=>{const r=gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await eM(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Yu(t.emulatorConfig.host)&&(d.credentials="include"),Jk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gU(t,e){return Xu(t,"POST","/v2/accounts:revokeToken",yh(t,e))}class wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=yj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await pU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new wu;return r&&(qe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(qe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wu,this.toJSON())}_performRefresh(){return ys("not implemented")}}function ko(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ra{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new fU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ew(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $f(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uU(this,e)}reload(){return hU(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ra({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await $f(this,cU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:_,providerData:S,stsTokenManager:E}=n;qe(g&&E,e,"internal-error");const A=wu.fromJSON(this.name,E);qe(typeof g=="string",e,"internal-error"),ko(r,e.name),ko(i,e.name),qe(typeof b=="boolean",e,"internal-error"),qe(typeof _=="boolean",e,"internal-error"),ko(s,e.name),ko(l,e.name),ko(u,e.name),ko(d,e.name),ko(m,e.name),ko(p,e.name);const O=new ra({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:A,createdAt:m,lastLoginAt:p});return S&&Array.isArray(S)&&(O.providerData=S.map(L=>({...L}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new wu;i.updateFromServerResponse(n);const s=new ra({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new wu;u.updateFromIdToken(r);const d=new ra({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ew(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,m),d}}const bj=new Map;function bs(t){js(t instanceof Function,"Expected a class definition");let e=bj.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bj.set(t,e),e)}class nM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nM.type="NONE";const xj=nM;function Wp(t,e,n){return`firebase:${t}:${e}:${n}`}class _u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mg(this.auth,{idToken:e}).catch(()=>{});return n?ra._fromGetAccountInfoResponse(this.auth,n,e):null}return ra._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _u(bs(xj),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let s=i[0]||bs(xj);const l=Wp(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const p=await m._get(l);if(p){let g;if(typeof p=="string"){const b=await mg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await ra._fromGetAccountInfoResponse(e,b,p)}else g=ra._fromJSON(e,p);m!==s&&(u=g),s=m;break}}catch{}const d=i.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new _u(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==s)try{await m._remove(l)}catch{}})),new _u(s,e,r))}}function wj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lM(e))return"Blackberry";if(cM(e))return"Webos";if(iM(e))return"Safari";if((e.includes("chrome/")||aM(e))&&!e.includes("edge/"))return"Chrome";if(oM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function rM(t=xr()){return/firefox\//i.test(t)}function iM(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aM(t=xr()){return/crios\//i.test(t)}function sM(t=xr()){return/iemobile/i.test(t)}function oM(t=xr()){return/android/i.test(t)}function lM(t=xr()){return/blackberry/i.test(t)}function cM(t=xr()){return/webos/i.test(t)}function O_(t=xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vU(t=xr()){return O_(t)&&!!window.navigator?.standalone}function yU(){return R9()&&document.documentMode===10}function uM(t=xr()){return O_(t)||oM(t)||cM(t)||lM(t)||/windows phone/i.test(t)||sM(t)}function dM(t,e=[]){let n;switch(t){case"Browser":n=wj(xr());break;case"Worker":n=`${wj(xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wu}/${r}`}class bU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function xU(t,e={}){return Xu(t,"GET","/v2/passwordPolicy",yh(t,e))}const wU=6;class _U{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class SU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _j(this),this.idTokenSubscription=new _j(this),this.beforeStateQueue=new bU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _u.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mg(this,{idToken:e}),r=await ra._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(_s(this));const n=e?Mn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xU(this),n=new _U(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ph("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bs(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await _u.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bh(t){return Mn(t)}class _j{constructor(e){this.auth=e,this.observer=null,this.addObserver=$9(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let I_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EU(t){I_=t}function AU(t){return I_.loadJS(t)}function TU(){return I_.gapiScript}function NU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function jU(t,e){const n=A_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(tc(s,e??{}))return i;Ns(i,"already-initialized")}return n.initialize({options:e})}function CU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function OU(t,e,n){const r=bh(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=fM(e),{host:l,port:u}=IU(e),d=u===null?"":`:${u}`,m={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(tc(m,r.config.emulator)&&tc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Yu(l)?($k(`${s}//${l}${d}`),Bk("Auth",!0)):PU()}function fM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IU(t){const e=fM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sj(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:Sj(l)}}}function Sj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class hM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function Su(t,e){return j_(t,"POST","/v1/accounts:signInWithIdp",yh(t,e))}const RU="http://localhost";class rc extends hM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new rc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Su(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Su(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Su(e,n)}buildRequest(){const e={requestUri:RU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gh(n)}return e}}class mM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xh extends mM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lo extends xh{constructor(){super("facebook.com")}static credential(e){return rc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";class zo extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rc._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";class Vo extends xh{constructor(){super("github.com")}static credential(e){return rc._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.GITHUB_SIGN_IN_METHOD="github.com";Vo.PROVIDER_ID="github.com";class Uo extends xh{constructor(){super("twitter.com")}static credential(e,n){return rc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";async function kU(t,e){return j_(t,"POST","/v1/accounts:signUp",yh(t,e))}class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ra._fromIdTokenResponse(e,r,i),l=Ej(r);return new Cs({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ej(r);return new Cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ej(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function MU(t){if(Mi(t.app))return Promise.reject(_s(t));const e=bh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Cs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await kU(e,{returnSecureToken:!0}),r=await Cs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class gg extends $s{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gg(e,n,r,i)}}function pM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(t,s,e,r):s})}async function DU(t,e,n=!1){const r=await $f(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cs._forOperation(t,"link",r)}async function LU(t,e,n=!1){const{auth:r}=t;if(Mi(r.app))return Promise.reject(_s(r));const i="reauthenticate";try{const s=await $f(t,pM(r,i,e,t),n);qe(s.idToken,r,"internal-error");const l=C_(s.idToken);qe(l,r,"internal-error");const{sub:u}=l;return qe(t.uid===u,r,"user-mismatch"),Cs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ns(r,"user-mismatch"),s}}async function zU(t,e,n=!1){if(Mi(t.app))return Promise.reject(_s(t));const r="signIn",i=await pM(t,r,e),s=await Cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function VU(t,e){return j_(t,"POST","/v1/accounts:signInWithCustomToken",yh(t,e))}async function UU(t,e){if(Mi(t.app))return Promise.reject(_s(t));const n=bh(t),r=await VU(n,{token:e,returnSecureToken:!0}),i=await Cs._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function $U(t,e,n,r){return Mn(t).onIdTokenChanged(e,n,r)}function BU(t,e,n){return Mn(t).beforeAuthStateChanged(e,n)}function qU(t,e,n,r){return Mn(t).onAuthStateChanged(e,n,r)}const vg="__sak";class gM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const FU=1e3,HU=10;class vM extends gM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);yU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vM.type="LOCAL";const KU=vM;class yM extends gM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yM.type="SESSION";const bM=yM;function GU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Iv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Iv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(n.origin,s)),d=await GU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iv.receivers=[];function P_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class YU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const m=P_("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ra(){return window}function WU(t){Ra().location.href=t}function xM(){return typeof Ra().WorkerGlobalScope<"u"&&typeof Ra().importScripts=="function"}async function XU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QU(){return navigator?.serviceWorker?.controller||null}function JU(){return xM()?self:null}const wM="firebaseLocalStorageDb",ZU=1,yg="firebaseLocalStorage",_M="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pv(t,e){return t.transaction([yg],e?"readwrite":"readonly").objectStore(yg)}function e$(){const t=indexedDB.deleteDatabase(wM);return new wh(t).toPromise()}function tw(){const t=indexedDB.open(wM,ZU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yg,{keyPath:_M})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yg)?e(r):(r.close(),await e$(),e(await tw()))})})}async function Aj(t,e,n){const r=Pv(t,!0).put({[_M]:e,value:n});return new wh(r).toPromise()}async function t$(t,e){const n=Pv(t,!1).get(e),r=await new wh(n).toPromise();return r===void 0?null:r.value}function Tj(t,e){const n=Pv(t,!0).delete(e);return new wh(n).toPromise()}const n$=800,r$=3;class SM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iv._getInstance(JU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XU(),!this.activeServiceWorker)return;this.sender=new YU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tw();return await Aj(e,vg,"1"),await Tj(e,vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Aj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Pv(i,!1).getAll();return new wh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SM.type="LOCAL";const i$=SM;new vh(3e4,6e4);function a$(t,e){return e?bs(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class R_ extends hM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Su(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Su(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Su(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s$(t){return zU(t.auth,new R_(t),t.bypassAuthState)}function o$(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),LU(n,new R_(t),t.bypassAuthState)}async function l$(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),DU(n,new R_(t),t.bypassAuthState)}class EM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s$;case"linkViaPopup":case"linkViaRedirect":return l$;case"reauthViaPopup":case"reauthViaRedirect":return o$;default:Ns(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const c$=new vh(2e3,1e4);class pu extends EM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,pu.currentPopupAction&&pu.currentPopupAction.cancel(),pu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=P_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c$.get())};e()}}pu.currentPopupAction=null;const u$="pendingRedirect",Xp=new Map;class d$ extends EM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xp.get(this.auth._key());if(!e){try{const r=await f$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xp.set(this.auth._key(),e)}return this.bypassAuthState||Xp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f$(t,e){const n=p$(e),r=m$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function h$(t,e){Xp.set(t._key(),e)}function m$(t){return bs(t._redirectPersistence)}function p$(t){return Wp(u$,t.config.apiKey,t.name)}async function g$(t,e,n=!1){if(Mi(t.app))return Promise.reject(_s(t));const r=bh(t),i=a$(r,e),l=await new d$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const v$=600*1e3;class y${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v$&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nj(e))}saveEventToCache(e){this.cachedEventUids.add(Nj(e)),this.lastProcessedEventTime=Date.now()}}function Nj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function b$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AM(t);default:return!1}}async function x$(t,e={}){return Xu(t,"GET","/v1/projects",e)}const w$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_$=/^https?/;async function S$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x$(t);for(const n of e)try{if(E$(n))return}catch{}Ns(t,"unauthorized-domain")}function E$(t){const e=Z1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!_$.test(n))return!1;if(w$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const A$=new vh(3e4,6e4);function jj(){const t=Ra().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function T$(t){return new Promise((e,n)=>{function r(){jj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jj(),n(Pa(t,"network-request-failed"))},timeout:A$.get()})}if(Ra().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ra().gapi?.load)r();else{const i=NU("iframefcb");return Ra()[i]=()=>{gapi.load?r():n(Pa(t,"network-request-failed"))},AU(`${TU()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Qp=null,e})}let Qp=null;function N$(t){return Qp=Qp||T$(t),Qp}const j$=new vh(5e3,15e3),C$="__/auth/iframe",O$="emulator/auth/iframe",I$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R$(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?N_(e,O$):`https://${t.config.authDomain}/${C$}`,r={apiKey:e.apiKey,appName:t.name,v:Wu},i=P$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gh(r).slice(1)}`}async function k$(t){const e=await N$(t),n=Ra().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:R$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Pa(t,"network-request-failed"),u=Ra().setTimeout(()=>{s(l)},j$.get());function d(){Ra().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const M$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D$=500,L$=600,z$="_blank",V$="http://localhost";class Cj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U$(t,e,n,r=D$,i=L$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...M$,width:r.toString(),height:i.toString(),top:s,left:l},m=xr().toLowerCase();n&&(u=aM(m)?z$:n),rM(m)&&(e=e||V$,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[_,S])=>`${b}${_}=${S},`,"");if(vU(m)&&u!=="_self")return $$(e||"",u),new Cj(null);const g=window.open(e||"",u,p);qe(g,t,"popup-blocked");try{g.focus()}catch{}return new Cj(g)}function $$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const B$="__/auth/handler",q$="emulator/auth/handler",F$=encodeURIComponent("fac");async function Oj(t,e,n,r,i,s){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wu,eventId:i};if(e instanceof mM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",U9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof xh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),m=d?`#${F$}=${encodeURIComponent(d)}`:"";return`${H$(t)}?${gh(u).slice(1)}${m}`}function H$({config:t}){return t.emulator?N_(t,q$):`https://${t.authDomain}/${B$}`}const ax="webStorageSupport";class K${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bM,this._completeRedirectFn=g$,this._overrideRedirectResult=h$}async _openPopup(e,n,r,i){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Oj(e,n,r,Z1(),i);return U$(e,s,P_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Oj(e,n,r,Z1(),i);return WU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(js(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await k$(e),r=new y$(e);return n.register("authEvent",i=>(qe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ax,{type:ax},i=>{const s=i?.[0]?.[ax];s!==void 0&&n(!!s),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uM()||iM()||O_()}}const G$=K$;var Ij="@firebase/auth",Pj="1.12.0";class Y${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function W$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X$(t){Ou(new nc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;qe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dM(t)},m=new SU(r,i,s,d);return CU(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ou(new nc("auth-internal",e=>{const n=bh(e.getProvider("auth").getImmediate());return(r=>new Y$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Go(Ij,Pj,W$(t)),Go(Ij,Pj,"esm2020")}const Q$=300,J$=Uk("authIdTokenMaxAge")||Q$;let Rj=null;const Z$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J$)return;const i=n?.token;Rj!==i&&(Rj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eB(t=Kk()){const e=A_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jU(t,{popupRedirectResolver:G$,persistence:[i$,KU,bM]}),r=Uk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=Z$(s.toString());BU(n,l,()=>l(n.currentUser)),$U(n,u=>l(u))}}const i=zk("auth");return i&&OU(n,`http://${i}`),n}function tB(){return document.getElementsByTagName("head")?.[0]??document}EU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X$("Browser");var kj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yo,TM;(function(){var t;function e(j,N){function M(){}M.prototype=N.prototype,j.F=N.prototype,j.prototype=new M,j.prototype.constructor=j,j.D=function(P,I,D){for(var k=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)k[ne-2]=arguments[ne];return N.prototype[I].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,N,M){M||(M=0);const P=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)P[I]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(I=0;I<16;++I)P[I]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=j.g[0],M=j.g[1],I=j.g[2];let D=j.g[3],k;k=N+(D^M&(I^D))+P[0]+3614090360&4294967295,N=M+(k<<7&4294967295|k>>>25),k=D+(I^N&(M^I))+P[1]+3905402710&4294967295,D=N+(k<<12&4294967295|k>>>20),k=I+(M^D&(N^M))+P[2]+606105819&4294967295,I=D+(k<<17&4294967295|k>>>15),k=M+(N^I&(D^N))+P[3]+3250441966&4294967295,M=I+(k<<22&4294967295|k>>>10),k=N+(D^M&(I^D))+P[4]+4118548399&4294967295,N=M+(k<<7&4294967295|k>>>25),k=D+(I^N&(M^I))+P[5]+1200080426&4294967295,D=N+(k<<12&4294967295|k>>>20),k=I+(M^D&(N^M))+P[6]+2821735955&4294967295,I=D+(k<<17&4294967295|k>>>15),k=M+(N^I&(D^N))+P[7]+4249261313&4294967295,M=I+(k<<22&4294967295|k>>>10),k=N+(D^M&(I^D))+P[8]+1770035416&4294967295,N=M+(k<<7&4294967295|k>>>25),k=D+(I^N&(M^I))+P[9]+2336552879&4294967295,D=N+(k<<12&4294967295|k>>>20),k=I+(M^D&(N^M))+P[10]+4294925233&4294967295,I=D+(k<<17&4294967295|k>>>15),k=M+(N^I&(D^N))+P[11]+2304563134&4294967295,M=I+(k<<22&4294967295|k>>>10),k=N+(D^M&(I^D))+P[12]+1804603682&4294967295,N=M+(k<<7&4294967295|k>>>25),k=D+(I^N&(M^I))+P[13]+4254626195&4294967295,D=N+(k<<12&4294967295|k>>>20),k=I+(M^D&(N^M))+P[14]+2792965006&4294967295,I=D+(k<<17&4294967295|k>>>15),k=M+(N^I&(D^N))+P[15]+1236535329&4294967295,M=I+(k<<22&4294967295|k>>>10),k=N+(I^D&(M^I))+P[1]+4129170786&4294967295,N=M+(k<<5&4294967295|k>>>27),k=D+(M^I&(N^M))+P[6]+3225465664&4294967295,D=N+(k<<9&4294967295|k>>>23),k=I+(N^M&(D^N))+P[11]+643717713&4294967295,I=D+(k<<14&4294967295|k>>>18),k=M+(D^N&(I^D))+P[0]+3921069994&4294967295,M=I+(k<<20&4294967295|k>>>12),k=N+(I^D&(M^I))+P[5]+3593408605&4294967295,N=M+(k<<5&4294967295|k>>>27),k=D+(M^I&(N^M))+P[10]+38016083&4294967295,D=N+(k<<9&4294967295|k>>>23),k=I+(N^M&(D^N))+P[15]+3634488961&4294967295,I=D+(k<<14&4294967295|k>>>18),k=M+(D^N&(I^D))+P[4]+3889429448&4294967295,M=I+(k<<20&4294967295|k>>>12),k=N+(I^D&(M^I))+P[9]+568446438&4294967295,N=M+(k<<5&4294967295|k>>>27),k=D+(M^I&(N^M))+P[14]+3275163606&4294967295,D=N+(k<<9&4294967295|k>>>23),k=I+(N^M&(D^N))+P[3]+4107603335&4294967295,I=D+(k<<14&4294967295|k>>>18),k=M+(D^N&(I^D))+P[8]+1163531501&4294967295,M=I+(k<<20&4294967295|k>>>12),k=N+(I^D&(M^I))+P[13]+2850285829&4294967295,N=M+(k<<5&4294967295|k>>>27),k=D+(M^I&(N^M))+P[2]+4243563512&4294967295,D=N+(k<<9&4294967295|k>>>23),k=I+(N^M&(D^N))+P[7]+1735328473&4294967295,I=D+(k<<14&4294967295|k>>>18),k=M+(D^N&(I^D))+P[12]+2368359562&4294967295,M=I+(k<<20&4294967295|k>>>12),k=N+(M^I^D)+P[5]+4294588738&4294967295,N=M+(k<<4&4294967295|k>>>28),k=D+(N^M^I)+P[8]+2272392833&4294967295,D=N+(k<<11&4294967295|k>>>21),k=I+(D^N^M)+P[11]+1839030562&4294967295,I=D+(k<<16&4294967295|k>>>16),k=M+(I^D^N)+P[14]+4259657740&4294967295,M=I+(k<<23&4294967295|k>>>9),k=N+(M^I^D)+P[1]+2763975236&4294967295,N=M+(k<<4&4294967295|k>>>28),k=D+(N^M^I)+P[4]+1272893353&4294967295,D=N+(k<<11&4294967295|k>>>21),k=I+(D^N^M)+P[7]+4139469664&4294967295,I=D+(k<<16&4294967295|k>>>16),k=M+(I^D^N)+P[10]+3200236656&4294967295,M=I+(k<<23&4294967295|k>>>9),k=N+(M^I^D)+P[13]+681279174&4294967295,N=M+(k<<4&4294967295|k>>>28),k=D+(N^M^I)+P[0]+3936430074&4294967295,D=N+(k<<11&4294967295|k>>>21),k=I+(D^N^M)+P[3]+3572445317&4294967295,I=D+(k<<16&4294967295|k>>>16),k=M+(I^D^N)+P[6]+76029189&4294967295,M=I+(k<<23&4294967295|k>>>9),k=N+(M^I^D)+P[9]+3654602809&4294967295,N=M+(k<<4&4294967295|k>>>28),k=D+(N^M^I)+P[12]+3873151461&4294967295,D=N+(k<<11&4294967295|k>>>21),k=I+(D^N^M)+P[15]+530742520&4294967295,I=D+(k<<16&4294967295|k>>>16),k=M+(I^D^N)+P[2]+3299628645&4294967295,M=I+(k<<23&4294967295|k>>>9),k=N+(I^(M|~D))+P[0]+4096336452&4294967295,N=M+(k<<6&4294967295|k>>>26),k=D+(M^(N|~I))+P[7]+1126891415&4294967295,D=N+(k<<10&4294967295|k>>>22),k=I+(N^(D|~M))+P[14]+2878612391&4294967295,I=D+(k<<15&4294967295|k>>>17),k=M+(D^(I|~N))+P[5]+4237533241&4294967295,M=I+(k<<21&4294967295|k>>>11),k=N+(I^(M|~D))+P[12]+1700485571&4294967295,N=M+(k<<6&4294967295|k>>>26),k=D+(M^(N|~I))+P[3]+2399980690&4294967295,D=N+(k<<10&4294967295|k>>>22),k=I+(N^(D|~M))+P[10]+4293915773&4294967295,I=D+(k<<15&4294967295|k>>>17),k=M+(D^(I|~N))+P[1]+2240044497&4294967295,M=I+(k<<21&4294967295|k>>>11),k=N+(I^(M|~D))+P[8]+1873313359&4294967295,N=M+(k<<6&4294967295|k>>>26),k=D+(M^(N|~I))+P[15]+4264355552&4294967295,D=N+(k<<10&4294967295|k>>>22),k=I+(N^(D|~M))+P[6]+2734768916&4294967295,I=D+(k<<15&4294967295|k>>>17),k=M+(D^(I|~N))+P[13]+1309151649&4294967295,M=I+(k<<21&4294967295|k>>>11),k=N+(I^(M|~D))+P[4]+4149444226&4294967295,N=M+(k<<6&4294967295|k>>>26),k=D+(M^(N|~I))+P[11]+3174756917&4294967295,D=N+(k<<10&4294967295|k>>>22),k=I+(N^(D|~M))+P[2]+718787259&4294967295,I=D+(k<<15&4294967295|k>>>17),k=M+(D^(I|~N))+P[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(I+(k<<21&4294967295|k>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+D&4294967295}r.prototype.v=function(j,N){N===void 0&&(N=j.length);const M=N-this.blockSize,P=this.C;let I=this.h,D=0;for(;D<N;){if(I==0)for(;D<=M;)i(this,j,D),D+=this.blockSize;if(typeof j=="string"){for(;D<N;)if(P[I++]=j.charCodeAt(D++),I==this.blockSize){i(this,P),I=0;break}}else for(;D<N;)if(P[I++]=j[D++],I==this.blockSize){i(this,P),I=0;break}}this.h=I,this.o+=N},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;N=this.o*8;for(var M=j.length-8;M<j.length;++M)j[M]=N&255,N/=256;for(this.v(j),j=Array(16),N=0,M=0;M<4;++M)for(let P=0;P<32;P+=8)j[N++]=this.g[M]>>>P&255;return j};function s(j,N){var M=u;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=N(j)}function l(j,N){this.h=N;const M=[];let P=!0;for(let I=j.length-1;I>=0;I--){const D=j[I]|0;P&&D==N||(M[I]=D,P=!1)}this.g=M}var u={};function d(j){return-128<=j&&j<128?s(j,function(N){return new l([N|0],N<0?-1:0)}):new l([j|0],j<0?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return g;if(j<0)return A(m(-j));const N=[];let M=1;for(let P=0;j>=M;P++)N[P]=j/M|0,M*=4294967296;return new l(N,0)}function p(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return A(p(j.substring(1),N));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=m(Math.pow(N,8));let P=g;for(let D=0;D<j.length;D+=8){var I=Math.min(8,j.length-D);const k=parseInt(j.substring(D,D+I),N);I<8?(I=m(Math.pow(N,I)),P=P.j(I).add(m(k))):(P=P.j(M),P=P.add(m(k)))}return P}var g=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-A(this).m();let j=0,N=1;for(let M=0;M<this.g.length;M++){const P=this.i(M);j+=(P>=0?P:4294967296+P)*N,N*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(S(this))return"0";if(E(this))return"-"+A(this).toString(j);const N=m(Math.pow(j,6));var M=this;let P="";for(;;){const I=B(M,N).g;M=O(M,I.j(N));let D=((M.g.length>0?M.g[0]:M.h)>>>0).toString(j);if(M=I,S(M))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function S(j){if(j.h!=0)return!1;for(let N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function E(j){return j.h==-1}t.l=function(j){return j=O(this,j),E(j)?-1:S(j)?0:1};function A(j){const N=j.g.length,M=[];for(let P=0;P<N;P++)M[P]=~j.g[P];return new l(M,~j.h).add(b)}t.abs=function(){return E(this)?A(this):this},t.add=function(j){const N=Math.max(this.g.length,j.g.length),M=[];let P=0;for(let I=0;I<=N;I++){let D=P+(this.i(I)&65535)+(j.i(I)&65535),k=(D>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);P=k>>>16,D&=65535,k&=65535,M[I]=k<<16|D}return new l(M,M[M.length-1]&-2147483648?-1:0)};function O(j,N){return j.add(A(N))}t.j=function(j){if(S(this)||S(j))return g;if(E(this))return E(j)?A(this).j(A(j)):A(A(this).j(j));if(E(j))return A(this.j(A(j)));if(this.l(_)<0&&j.l(_)<0)return m(this.m()*j.m());const N=this.g.length+j.g.length,M=[];for(var P=0;P<2*N;P++)M[P]=0;for(P=0;P<this.g.length;P++)for(let I=0;I<j.g.length;I++){const D=this.i(P)>>>16,k=this.i(P)&65535,ne=j.i(I)>>>16,G=j.i(I)&65535;M[2*P+2*I]+=k*G,L(M,2*P+2*I),M[2*P+2*I+1]+=D*G,L(M,2*P+2*I+1),M[2*P+2*I+1]+=k*ne,L(M,2*P+2*I+1),M[2*P+2*I+2]+=D*ne,L(M,2*P+2*I+2)}for(j=0;j<N;j++)M[j]=M[2*j+1]<<16|M[2*j];for(j=N;j<2*N;j++)M[j]=0;return new l(M,0)};function L(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function V(j,N){this.g=j,this.h=N}function B(j,N){if(S(N))throw Error("division by zero");if(S(j))return new V(g,g);if(E(j))return N=B(A(j),N),new V(A(N.g),A(N.h));if(E(N))return N=B(j,A(N)),new V(A(N.g),N.h);if(j.g.length>30){if(E(j)||E(N))throw Error("slowDivide_ only works with positive integers.");for(var M=b,P=N;P.l(j)<=0;)M=$(M),P=$(P);var I=z(M,1),D=z(P,1);for(P=z(P,2),M=z(M,2);!S(P);){var k=D.add(P);k.l(j)<=0&&(I=I.add(M),D=k),P=z(P,1),M=z(M,1)}return N=O(j,I.j(N)),new V(I,N)}for(I=g;j.l(N)>=0;){for(M=Math.max(1,Math.floor(j.m()/N.m())),P=Math.ceil(Math.log(M)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=m(M),k=D.j(N);E(k)||k.l(j)>0;)M-=P,D=m(M),k=D.j(N);S(D)&&(D=b),I=I.add(D),j=O(j,k)}return new V(I,j)}t.B=function(j){return B(this,j).h},t.and=function(j){const N=Math.max(this.g.length,j.g.length),M=[];for(let P=0;P<N;P++)M[P]=this.i(P)&j.i(P);return new l(M,this.h&j.h)},t.or=function(j){const N=Math.max(this.g.length,j.g.length),M=[];for(let P=0;P<N;P++)M[P]=this.i(P)|j.i(P);return new l(M,this.h|j.h)},t.xor=function(j){const N=Math.max(this.g.length,j.g.length),M=[];for(let P=0;P<N;P++)M[P]=this.i(P)^j.i(P);return new l(M,this.h^j.h)};function $(j){const N=j.g.length+1,M=[];for(let P=0;P<N;P++)M[P]=j.i(P)<<1|j.i(P-1)>>>31;return new l(M,j.h)}function z(j,N){const M=N>>5;N%=32;const P=j.g.length-M,I=[];for(let D=0;D<P;D++)I[D]=N>0?j.i(D+M)>>>N|j.i(D+M+1)<<32-N:j.i(D+M);return new l(I,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,TM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,Yo=l}).apply(typeof kj<"u"?kj:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var NM,Ef,jM,Jp,nw,CM,OM,IM;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var T=0;T<v.length;++T){var R=v[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var R=r;v=v.split(".");for(var H=0;H<v.length-1;H++){var oe=v[H];if(!(oe in R))break e;R=R[oe]}v=v[v.length-1],H=R[v],T=T(H),T!=H&&T!=null&&e(R,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var R=[],H;for(H in T)Object.prototype.hasOwnProperty.call(T,H)&&R.push([H,T[H]]);return R}});var s=s||{},l=this||self;function u(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function d(v,T,R){return v.call.apply(v.bind,arguments)}function m(v,T,R){return m=d,m.apply(null,arguments)}function p(v,T){var R=Array.prototype.slice.call(arguments,1);return function(){var H=R.slice();return H.push.apply(H,arguments),v.apply(this,H)}}function g(v,T){function R(){}R.prototype=T.prototype,v.Z=T.prototype,v.prototype=new R,v.prototype.constructor=v,v.Ob=function(H,oe,fe){for(var Ae=Array(arguments.length-2),We=2;We<arguments.length;We++)Ae[We-2]=arguments[We];return T.prototype[oe].apply(H,Ae)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function _(v){const T=v.length;if(T>0){const R=Array(T);for(let H=0;H<T;H++)R[H]=v[H];return R}return[]}function S(v,T){for(let H=1;H<arguments.length;H++){const oe=arguments[H];var R=typeof oe;if(R=R!="object"?R:oe?Array.isArray(oe)?"array":R:"null",R=="array"||R=="object"&&typeof oe.length=="number"){R=v.length||0;const fe=oe.length||0;v.length=R+fe;for(let Ae=0;Ae<fe;Ae++)v[R+Ae]=oe[Ae]}else v.push(oe)}}class E{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(v){l.setTimeout(()=>{throw v},0)}function O(){var v=j;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class L{constructor(){this.h=this.g=null}add(T,R){const H=V.get();H.set(T,R),this.h?this.h.next=H:this.g=H,this.h=H}}var V=new E(()=>new B,v=>v.reset());class B{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let $,z=!1,j=new L,N=()=>{const v=Promise.resolve(void 0);$=()=>{v.then(M)}};function M(){for(var v;v=O();){try{v.h.call(v.g)}catch(R){A(R)}var T=V;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}z=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const R=()=>{};l.addEventListener("test",R,T),l.removeEventListener("test",R,T)}catch{}return v})();function k(v){return/^[\s\xa0]*$/.test(v)}function ne(v,T){I.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(ne,I),ne.prototype.init=function(v,T){const R=this.type=v.type,H=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(R=="mouseover"?T=v.fromElement:R=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),K=0;function Z(v,T,R,H,oe){this.listener=v,this.proxy=null,this.src=T,this.type=R,this.capture=!!H,this.ha=oe,this.key=++K,this.da=this.fa=!1}function ie(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function te(v,T,R){for(const H in v)T.call(R,v[H],H,v)}function se(v,T){for(const R in v)T.call(void 0,v[R],R,v)}function U(v){const T={};for(const R in v)T[R]=v[R];return T}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(v,T){let R,H;for(let oe=1;oe<arguments.length;oe++){H=arguments[oe];for(R in H)v[R]=H[R];for(let fe=0;fe<X.length;fe++)R=X[fe],Object.prototype.hasOwnProperty.call(H,R)&&(v[R]=H[R])}}function W(v){this.src=v,this.g={},this.h=0}W.prototype.add=function(v,T,R,H,oe){const fe=v.toString();v=this.g[fe],v||(v=this.g[fe]=[],this.h++);const Ae=ve(v,T,H,oe);return Ae>-1?(T=v[Ae],R||(T.fa=!1)):(T=new Z(T,this.src,fe,!!H,oe),T.fa=R,v.push(T)),T};function ge(v,T){const R=T.type;if(R in v.g){var H=v.g[R],oe=Array.prototype.indexOf.call(H,T,void 0),fe;(fe=oe>=0)&&Array.prototype.splice.call(H,oe,1),fe&&(ie(T),v.g[R].length==0&&(delete v.g[R],v.h--))}}function ve(v,T,R,H){for(let oe=0;oe<v.length;++oe){const fe=v[oe];if(!fe.da&&fe.listener==T&&fe.capture==!!R&&fe.ha==H)return oe}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),je={};function ae(v,T,R,H,oe){if(Array.isArray(T)){for(let fe=0;fe<T.length;fe++)ae(v,T[fe],R,H,oe);return null}return R=Ye(R),v&&v[G]?v.J(T,R,u(H)?!!H.capture:!1,oe):Ee(v,T,R,!1,H,oe)}function Ee(v,T,R,H,oe,fe){if(!T)throw Error("Invalid event type");const Ae=u(oe)?!!oe.capture:!!oe;let We=pt(v);if(We||(v[pe]=We=new W(v)),R=We.add(T,R,H,Ae,fe),R.proxy)return R;if(H=Ce(),R.proxy=H,H.src=v,H.listener=R,v.addEventListener)D||(oe=Ae),oe===void 0&&(oe=!1),v.addEventListener(T.toString(),H,oe);else if(v.attachEvent)v.attachEvent(Ie(T.toString()),H);else if(v.addListener&&v.removeListener)v.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ce(){function v(R){return T.call(v.src,v.listener,R)}const T=Je;return v}function J(v,T,R,H,oe){if(Array.isArray(T))for(var fe=0;fe<T.length;fe++)J(v,T[fe],R,H,oe);else H=u(H)?!!H.capture:!!H,R=Ye(R),v&&v[G]?(v=v.i,fe=String(T).toString(),fe in v.g&&(T=v.g[fe],R=ve(T,R,H,oe),R>-1&&(ie(T[R]),Array.prototype.splice.call(T,R,1),T.length==0&&(delete v.g[fe],v.h--)))):v&&(v=pt(v))&&(T=v.g[T.toString()],v=-1,T&&(v=ve(T,R,H,oe)),(R=v>-1?T[v]:null)&&ze(R))}function ze(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[G])ge(T.i,v);else{var R=v.type,H=v.proxy;T.removeEventListener?T.removeEventListener(R,H,v.capture):T.detachEvent?T.detachEvent(Ie(R),H):T.addListener&&T.removeListener&&T.removeListener(H),(R=pt(T))?(ge(R,v),R.h==0&&(R.src=null,T[pe]=null)):ie(v)}}}function Ie(v){return v in je?je[v]:je[v]="on"+v}function Je(v,T){if(v.da)v=!0;else{T=new ne(T,this);const R=v.listener,H=v.ha||v.src;v.fa&&ze(v),v=R.call(H,T)}return v}function pt(v){return v=v[pe],v instanceof W?v:null}var dn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ye(v){return typeof v=="function"?v:(v[dn]||(v[dn]=function(T){return v.handleEvent(T)}),v[dn])}function wt(){P.call(this),this.i=new W(this),this.M=this,this.G=null}g(wt,P),wt.prototype[G]=!0,wt.prototype.removeEventListener=function(v,T,R,H){J(this,v,T,R,H)};function Pt(v,T){var R,H=v.G;if(H)for(R=[];H;H=H.G)R.push(H);if(v=v.M,H=T.type||T,typeof T=="string")T=new I(T,v);else if(T instanceof I)T.target=T.target||v;else{var oe=T;T=new I(H,v),Y(T,oe)}oe=!0;let fe,Ae;if(R)for(Ae=R.length-1;Ae>=0;Ae--)fe=T.g=R[Ae],oe=pi(fe,H,!0,T)&&oe;if(fe=T.g=v,oe=pi(fe,H,!0,T)&&oe,oe=pi(fe,H,!1,T)&&oe,R)for(Ae=0;Ae<R.length;Ae++)fe=T.g=R[Ae],oe=pi(fe,H,!1,T)&&oe}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const R=v.g[T];for(let H=0;H<R.length;H++)ie(R[H]);delete v.g[T],v.h--}}this.G=null},wt.prototype.J=function(v,T,R,H){return this.i.add(String(v),T,!1,R,H)},wt.prototype.K=function(v,T,R,H){return this.i.add(String(v),T,!0,R,H)};function pi(v,T,R,H){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let oe=!0;for(let fe=0;fe<T.length;++fe){const Ae=T[fe];if(Ae&&!Ae.da&&Ae.capture==R){const We=Ae.listener,fn=Ae.ha||Ae.src;Ae.fa&&ge(v.i,Ae),oe=We.call(fn,H)!==!1&&oe}}return oe&&!H.defaultPrevented}function Qs(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function Js(v){v.g=Qs(()=>{v.g=null,v.i&&(v.i=!1,Js(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class Rt extends P{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Js(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(v){P.call(this),this.h=v,this.g={}}g(_r,P);var gi=[];function qi(v){te(v.g,function(T,R){this.g.hasOwnProperty(R)&&ze(T)},v),v.g={}}_r.prototype.N=function(){_r.Z.N.call(this),qi(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=l.JSON.stringify,Ya=l.JSON.parse,ca=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function ua(){}function da(){}var dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){I.call(this,"d")}g(Zt,I);function Un(){I.call(this,"c")}g(Un,I);var Vt={},Wa=null;function yi(){return Wa=Wa||new wt}Vt.Ia="serverreachability";function Zs(v){I.call(this,Vt.Ia,v)}g(Zs,I);function fr(v){const T=yi();Pt(T,new Zs(T))}Vt.STAT_EVENT="statevent";function Fi(v,T){I.call(this,Vt.STAT_EVENT,v),this.stat=T}g(Fi,I);function Gt(v){const T=yi();Pt(T,new Fi(T,v))}Vt.Ja="timingevent";function Dr(v,T){I.call(this,Vt.Ja,v),this.size=T}g(Dr,I);function Lr(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Sr(){this.g=!0}Sr.prototype.ua=function(){this.g=!1};function eo(v,T,R,H,oe,fe){v.info(function(){if(v.g)if(fe){var Ae="",We=fe.split("&");for(let gt=0;gt<We.length;gt++){var fn=We[gt].split("=");if(fn.length>1){const Yt=fn[0];fn=fn[1];const _i=Yt.split("_");Ae=_i.length>=2&&_i[1]=="type"?Ae+(Yt+"="+fn+"&"):Ae+(Yt+"=redacted&")}}}else Ae=null;else Ae=fe;return"XMLHTTP REQ ("+H+") [attempt "+oe+"]: "+T+`
`+R+`
`+Ae})}function to(v,T,R,H,oe,fe,Ae){v.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+oe+"]: "+T+`
`+R+`
`+fe+" "+Ae})}function F(v,T,R,H){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+Se(v,R)+(H?" "+H:"")})}function he(v,T){v.info(function(){return"TIMEOUT: "+T})}Sr.prototype.info=function(){};function Se(v,T){if(!v.g)return T;if(!T)return null;try{const fe=JSON.parse(T);if(fe){for(v=0;v<fe.length;v++)if(Array.isArray(fe[v])){var R=fe[v];if(!(R.length<2)){var H=R[1];if(Array.isArray(H)&&!(H.length<1)){var oe=H[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let Ae=1;Ae<H.length;Ae++)H[Ae]=""}}}}return vi(fe)}catch{return T}}var Te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ot;function Er(){}g(Er,ua),Er.prototype.g=function(){return new XMLHttpRequest},ot=new Er;function Qr(v){return encodeURIComponent(String(v))}function Ar(v){var T=1;v=v.split(":");const R=[];for(;T>0&&v.length;)R.push(v.shift()),T--;return v.length&&R.push(v.join(":")),R}function Jr(v,T,R,H){this.j=v,this.i=T,this.l=R,this.S=H||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zr}function Zr(){this.i=null,this.g="",this.h=!1}var rn={},yn={};function Ge(v,T,R){v.M=1,v.A=ml(xn(T)),v.u=R,v.R=!0,kt(v,null)}function kt(v,T){v.F=Date.now(),fa(v),v.B=xn(v.A);var R=v.B,H=v.S;Array.isArray(H)||(H=[String(H)]),Ac(R.i,"t",H),v.C=0,R=v.j.L,v.h=new Zr,v.g=vm(v.j,R?T:null,!v.u),v.P>0&&(v.O=new Rt(m(v.Y,v,v.g),v.P)),T=v.V,R=v.g,H=v.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(gi[0]=oe.toString()),oe=gi);for(let fe=0;fe<oe.length;fe++){const Ae=ae(R,oe[fe],H||T.handleEvent,!1,T.h||T);if(!Ae)break;T.g[Ae.key]=Ae}T=v.J?U(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),fr(),eo(v.i,v.v,v.B,v.l,v.S,v.u)}Jr.prototype.ba=function(v){v=v.target;const T=this.O;T&&Gi(v)==3?T.j():this.Y(v)},Jr.prototype.Y=function(v){try{if(v==this.g)e:{const We=Gi(this.g),fn=this.g.ya(),gt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||Xn(this.g)))){this.K||We!=4||fn==7||(fn==8||gt<=0?fr(3):fr(2)),ha(this);var T=this.g.ca();this.X=T;var R=Tr(this);if(this.o=T==200,to(this.i,this.v,this.B,this.l,this.S,We,T),this.o){if(this.U&&!this.L){t:{if(this.g){var H,oe=this.g;if((H=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(H)){var fe=H;break t}}fe=null}if(v=fe)F(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ma(this,v);else{this.o=!1,this.m=3,Gt(12),ei(this),bi(this);break e}}if(this.R){v=!0;let Yt;for(;!this.K&&this.C<R.length;)if(Yt=im(this,R),Yt==yn){We==4&&(this.m=4,Gt(14),v=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==rn){this.m=4,Gt(15),F(this.i,this.l,R,"[Invalid Chunk]"),v=!1;break}else F(this.i,this.l,Yt,null),ma(this,Yt);if(Xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||R.length!=0||this.h.h||(this.m=1,Gt(16),v=!1),this.o=this.o&&v,!v)F(this.i,this.l,R,"[Invalid Chunked Response]"),ei(this),bi(this);else if(R.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Cd(Ae),Ae.P=!0,Gt(11))}}else F(this.i,this.l,R,null),ma(this,R);We==4&&ei(this),this.o&&!this.K&&(We==4?hm(this.j,this):(this.o=!1,fa(this)))}else Ja(this.g),T==400&&R.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),ei(this),bi(this)}}}catch{}};function Tr(v){if(!Xa(v))return v.g.la();const T=Xn(v.g);if(T==="")return"";let R="";const H=T.length,oe=Gi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ei(v),bi(v),"";v.h.i=new l.TextDecoder}for(let fe=0;fe<H;fe++)v.h.h=!0,R+=v.h.i.decode(T[fe],{stream:!(oe&&fe==H-1)});return T.length=0,v.h.g+=R,v.C=0,v.h.g}function Xa(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function im(v,T){var R=v.C,H=T.indexOf(`
`,R);return H==-1?yn:(R=Number(T.substring(R,H)),isNaN(R)?rn:(H+=1,H+R>T.length?yn:(T=T.slice(H,H+R),v.C=H+R,T)))}Jr.prototype.cancel=function(){this.K=!0,ei(this)};function fa(v){v.T=Date.now()+v.H,_c(v,v.H)}function _c(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Lr(m(v.aa,v),T)}function ha(v){v.D&&(l.clearTimeout(v.D),v.D=null)}Jr.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(he(this.i,this.B),this.M!=2&&(fr(),Gt(17)),ei(this),this.m=2,bi(this)):_c(this,this.T-v)};function bi(v){v.j.I==0||v.K||hm(v.j,v)}function ei(v){ha(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,qi(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function ma(v,T){try{var R=v.j;if(R.I!=0&&(R.g==v||ga(R.h,v))){if(!v.L&&ga(R.h,v)&&R.I==3){try{var H=R.Ba.g.parse(T)}catch{H=null}if(Array.isArray(H)&&H.length==3){var oe=H;if(oe[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<v.F)Oc(R),co(R);else break e;wl(R),Gt(18)}}else R.xa=oe[1],0<R.xa-R.K&&oe[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Lr(m(R.Va,R),6e3));pa(R.h)<=1&&R.ta&&(R.ta=void 0)}else _a(R,11)}else if((v.L||R.g==v)&&Oc(R),!k(T))for(oe=R.Ba.g.parse(T),T=0;T<oe.length;T++){let gt=oe[T];const Yt=gt[0];if(!(Yt<=R.K))if(R.K=Yt,gt=gt[1],R.I==2)if(gt[0]=="c"){R.M=gt[1],R.ba=gt[2];const _i=gt[3];_i!=null&&(R.ka=_i,R.j.info("VER="+R.ka));const Sa=gt[4];Sa!=null&&(R.za=Sa,R.j.info("SVER="+R.za));const Yi=gt[5];Yi!=null&&typeof Yi=="number"&&Yi>0&&(H=1.5*Yi,R.O=H,R.j.info("backChannelRequestTimeoutMs_="+H)),H=R;const Wi=v.g;if(Wi){const _l=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_l){var fe=H.h;fe.g||_l.indexOf("spdy")==-1&&_l.indexOf("quic")==-1&&_l.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(vd(fe,fe.h),fe.h=null))}if(H.G){const Ic=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(H.wa=Ic,_t(H.J,H.G,Ic))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-v.F,R.j.info("Handshake RTT: "+R.T+"ms")),H=R;var Ae=v;if(H.na=gm(H,H.L?H.ba:null,H.W),Ae.L){yd(H.h,Ae);var We=Ae,fn=H.O;fn&&(We.H=fn),We.D&&(ha(We),fa(We)),H.g=Ae}else dm(H);R.i.length>0&&wa(R)}else gt[0]!="stop"&&gt[0]!="close"||_a(R,7);else R.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?_a(R,7):Nd(R):gt[0]!="noop"&&R.l&&R.l.qa(gt),R.A=0)}}fr(4)}catch{}}var bn=class{constructor(v,T){this.g=v,this.map=T}};function pd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function pa(v){return v.h?1:v.g?v.g.size:0}function ga(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function vd(v,T){v.g?v.g.add(T):v.h=T}function yd(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}pd.prototype.cancel=function(){if(this.i=bd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function bd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const R of v.g.values())T=T.concat(R.G);return T}return _(v.i)}var am=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(v,T){if(v){v=v.split("&");for(let R=0;R<v.length;R++){const H=v[R].indexOf("=");let oe,fe=null;H>=0?(oe=v[R].substring(0,H),fe=v[R].substring(H+1)):oe=v[R],T(oe,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function ti(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof ti?(this.l=v.l,$n(this,v.j),this.o=v.o,this.g=v.g,no(this,v.u),this.h=v.h,xd(this,cm(v.i)),this.m=v.m):v&&(T=String(v).match(am))?(this.l=!1,$n(this,T[1]||"",!0),this.o=va(T[2]||""),this.g=va(T[3]||"",!0),no(this,T[4]),this.h=va(T[5]||"",!0),xd(this,T[6]||"",!0),this.m=va(T[7]||"")):(this.l=!1,this.i=new io(null,this.l))}ti.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(pl(T,Ec,!0),":");var R=this.g;return(R||T=="file")&&(v.push("//"),(T=this.o)&&v.push(pl(T,Ec,!0),"@"),v.push(Qr(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&v.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&v.push("/"),v.push(pl(R,R.charAt(0)=="/"?wd:sm,!0))),(R=this.i.toString())&&v.push("?",R),(R=this.m)&&v.push("#",pl(R,om)),v.join("")},ti.prototype.resolve=function(v){const T=xn(this);let R=!!v.j;R?$n(T,v.j):R=!!v.o,R?T.o=v.o:R=!!v.g,R?T.g=v.g:R=v.u!=null;var H=v.h;if(R)no(T,v.u);else if(R=!!v.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var oe=T.h.lastIndexOf("/");oe!=-1&&(H=T.h.slice(0,oe+1)+H)}if(oe=H,oe==".."||oe==".")H="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){H=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const fe=[];for(let Ae=0;Ae<oe.length;){const We=oe[Ae++];We=="."?H&&Ae==oe.length&&fe.push(""):We==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),H&&Ae==oe.length&&fe.push("")):(fe.push(We),H=!0)}H=fe.join("/")}else H=oe}return R?T.h=H:R=v.i.toString()!=="",R?xd(T,cm(v.i)):R=!!v.m,R&&(T.m=v.m),T};function xn(v){return new ti(v)}function $n(v,T,R){v.j=R?va(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function no(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function xd(v,T,R){T instanceof io?(v.i=T,Tc(v.i,v.l)):(R||(T=pl(T,ro)),v.i=new io(T,v.l))}function _t(v,T,R){v.i.set(T,R)}function ml(v){return _t(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function va(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function pl(v,T,R){return typeof v=="string"?(v=encodeURI(v).replace(T,zr),R&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function zr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ec=/[#\/\?@]/g,sm=/[#\?:]/g,wd=/[#\?]/g,ro=/[#\?@]/g,om=/#/g;function io(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Vr(v){v.g||(v.g=new Map,v.h=0,v.i&&Sc(v.i,function(T,R){v.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=io.prototype,t.add=function(v,T){Vr(this),this.i=null,v=ao(this,v);let R=this.g.get(v);return R||this.g.set(v,R=[]),R.push(T),this.h+=1,this};function lm(v,T){Vr(v),T=ao(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function _d(v,T){return Vr(v),T=ao(v,T),v.g.has(T)}t.forEach=function(v,T){Vr(this),this.g.forEach(function(R,H){R.forEach(function(oe){v.call(T,oe,H,this)},this)},this)};function Sd(v,T){Vr(v);let R=[];if(typeof T=="string")_d(v,T)&&(R=R.concat(v.g.get(ao(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)R=R.concat(v[T]);return R}t.set=function(v,T){return Vr(this),this.i=null,v=ao(this,v),_d(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=Sd(this,v),v.length>0?String(v[0]):T):T};function Ac(v,T,R){lm(v,T),R.length>0&&(v.i=null,v.g.set(ao(v,T),_(R)),v.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let H=0;H<T.length;H++){var R=T[H];const oe=Qr(R);R=Sd(this,R);for(let fe=0;fe<R.length;fe++){let Ae=oe;R[fe]!==""&&(Ae+="="+Qr(R[fe])),v.push(Ae)}}return this.i=v.join("&")};function cm(v){const T=new io;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function ao(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Tc(v,T){T&&!v.j&&(Vr(v),v.i=null,v.g.forEach(function(R,H){const oe=H.toLowerCase();H!=oe&&(lm(this,H),Ac(this,oe,R))},v)),v.j=T}function Hi(v,T){const R=new Sr;if(l.Image){const H=new Image;H.onload=p(xi,R,"TestLoadImage: loaded",!0,T,H),H.onerror=p(xi,R,"TestLoadImage: error",!1,T,H),H.onabort=p(xi,R,"TestLoadImage: abort",!1,T,H),H.ontimeout=p(xi,R,"TestLoadImage: timeout",!1,T,H),l.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=v}else T(!1)}function Ed(v,T){const R=new Sr,H=new AbortController,oe=setTimeout(()=>{H.abort(),xi(R,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:H.signal}).then(fe=>{clearTimeout(oe),fe.ok?xi(R,"TestPingServer: ok",!0,T):xi(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(oe),xi(R,"TestPingServer: error",!1,T)})}function xi(v,T,R,H,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),H(R)}catch{}}function so(){this.g=new ca}function ya(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ya,ua),ya.prototype.g=function(){return new gl(this.i,this.h)};function gl(v,T){wt.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(gl,wt),t=gl.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,Ki(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nc(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nc(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?oo(this):Ki(this),this.readyState==3&&Nc(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,oo(this))},t.Na=function(v){this.g&&(this.response=v,oo(this))},t.ga=function(){this.g&&oo(this)};function oo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Ki(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,v.push(R[0]+": "+R[1]),R=T.next();return v.join(`\r
`)};function Ki(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function wi(v){let T="";return te(v,function(R,H){T+=H,T+=":",T+=R,T+=`\r
`}),T}function vl(v,T,R){e:{for(H in R){var H=!1;break e}H=!0}H||(R=wi(R),typeof v=="string"?R!=null&&Qr(R):_t(v,T,R))}function Tt(v){wt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Tt,wt);var ba=/^https?$/i,Ad=["POST","PUT"];t=Tt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,R,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ot.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(fe){yl(this,fe);return}if(v=R||"",R=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var oe in H)R.set(oe,H[oe]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const fe of H.keys())R.set(fe,H.get(fe));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(R.keys()).find(fe=>fe.toLowerCase()=="content-type"),oe=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Ad,T,void 0)>=0)||H||oe||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ae]of R)this.g.setRequestHeader(fe,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(fe){yl(this,fe)}};function yl(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,Td(v),Qa(v)}function Td(v){v.A||(v.A=!0,Pt(v,"complete"),Pt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Pt(this,"complete"),Pt(this,"abort"),Qa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qa(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?bl(this):this.Xa())},t.Xa=function(){bl(this)};function bl(v){if(v.h&&typeof s<"u"){if(v.v&&Gi(v)==4)setTimeout(v.Ca.bind(v),0);else if(Pt(v,"readystatechange"),Gi(v)==4){v.h=!1;try{const fe=v.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var H;if(H=fe===0){let Ae=String(v.D).match(am)[1]||null;!Ae&&l.self&&l.self.location&&(Ae=l.self.location.protocol.slice(0,-1)),H=!ba.test(Ae?Ae.toLowerCase():"")}R=H}if(R)Pt(v,"complete"),Pt(v,"success");else{v.o=6;try{var oe=Gi(v)>2?v.g.statusText:""}catch{oe=""}v.l=oe+" ["+v.ca()+"]",Td(v)}}finally{Qa(v)}}}}function Qa(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const R=v.g;v.g=null,T||Pt(v,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),Ya(T)}};function Xn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Ja(v){const T={};v=(v.g&&Gi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<v.length;H++){if(k(v[H]))continue;var R=Ar(v[H]);const oe=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const fe=T[oe]||[];T[oe]=fe,fe.push(R)}se(T,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(v,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[v]||T}function lo(v){this.za=0,this.i=[],this.j=new Sr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xa("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xa("baseRetryDelayMs",5e3,v),this.Za=xa("retryDelaySeedMs",1e4,v),this.Ta=xa("forwardChannelMaxRetries",2,v),this.va=xa("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new pd(v&&v.concurrentRequestLimit),this.Ba=new so,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lo.prototype,t.ka=8,t.I=1,t.connect=function(v,T,R,H){Gt(0),this.W=v,this.H=T||{},R&&H!==void 0&&(this.H.OSID=R,this.H.OAID=H),this.F=this.X,this.J=gm(this,null,this.W),wa(this)};function Nd(v){if(jc(v),v.I==3){var T=v.V++,R=xn(v.J);if(_t(R,"SID",v.M),_t(R,"RID",T),_t(R,"TYPE","terminate"),xl(v,R),T=new Jr(v,v.j,T),T.M=2,T.A=ml(xn(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!R&&l.Image&&(new Image().src=T.A,R=!0),R||(T.g=vm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),fa(T)}pm(v)}function co(v){v.g&&(Cd(v),v.g.cancel(),v.g=null)}function jc(v){co(v),v.v&&(l.clearTimeout(v.v),v.v=null),Oc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function wa(v){if(!gd(v.h)&&!v.m){v.m=!0;var T=v.Ea;$||N(),z||($(),z=!0),j.add(T,v),v.D=0}}function Cc(v,T){return pa(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Lr(m(v.Ea,v,T),mm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const oe=new Jr(this,this.j,v);let fe=this.o;if(this.U&&(fe?(fe=U(fe),Y(fe,this.U)):fe=this.U),this.u!==null||this.R||(oe.J=fe,fe=null),this.S)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var H=this.i[R];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(T+=H,T>4096){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=um(this,oe,T),R=xn(this.J),_t(R,"RID",v),_t(R,"CVER",22),this.G&&_t(R,"X-HTTP-Session-Id",this.G),xl(this,R),fe&&(this.R?T="headers="+Qr(wi(fe))+"&"+T:this.u&&vl(R,this.u,fe)),vd(this.h,oe),this.Ra&&_t(R,"TYPE","init"),this.S?(_t(R,"$req",T),_t(R,"SID","null"),oe.U=!0,Ge(oe,R,null)):Ge(oe,R,T),this.I=2}}else this.I==3&&(v?jd(this,v):this.i.length==0||gd(this.h)||jd(this))};function jd(v,T){var R;T?R=T.l:R=v.V++;const H=xn(v.J);_t(H,"SID",v.M),_t(H,"RID",R),_t(H,"AID",v.K),xl(v,H),v.u&&v.o&&vl(H,v.u,v.o),R=new Jr(v,v.j,R,v.D+1),v.u===null&&(R.J=v.o),T&&(v.i=T.G.concat(v.i)),T=um(v,R,1e3),R.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),vd(v.h,R),Ge(R,H,T)}function xl(v,T){v.H&&te(v.H,function(R,H){_t(T,H,R)}),v.l&&te({},function(R,H){_t(T,H,R)})}function um(v,T,R){R=Math.min(v.i.length,R);const H=v.l?m(v.l.Ka,v.l,v):null;e:{var oe=v.i;let We=-1;for(;;){const fn=["count="+R];We==-1?R>0?(We=oe[0].g,fn.push("ofs="+We)):We=0:fn.push("ofs="+We);let gt=!0;for(let Yt=0;Yt<R;Yt++){var fe=oe[Yt].g;const _i=oe[Yt].map;if(fe-=We,fe<0)We=Math.max(0,oe[Yt].g-100),gt=!1;else try{fe="req"+fe+"_"||"";try{var Ae=_i instanceof Map?_i:Object.entries(_i);for(const[Sa,Yi]of Ae){let Wi=Yi;u(Yi)&&(Wi=vi(Yi)),fn.push(fe+Sa+"="+encodeURIComponent(Wi))}}catch(Sa){throw fn.push(fe+"type="+encodeURIComponent("_badmap")),Sa}}catch{H&&H(_i)}}if(gt){Ae=fn.join("&");break e}}Ae=void 0}return v=v.i.splice(0,R),T.G=v,Ae}function dm(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;$||N(),z||($(),z=!0),j.add(T,v),v.A=0}}function wl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Lr(m(v.Da,v),mm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Lr(m(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),co(this),fm(this))};function Cd(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function fm(v){v.g=new Jr(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=xn(v.na);_t(T,"RID","rpc"),_t(T,"SID",v.M),_t(T,"AID",v.K),_t(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&_t(T,"TO",v.ia),_t(T,"TYPE","xmlhttp"),xl(v,T),v.u&&v.o&&vl(T,v.u,v.o),v.O&&(v.g.H=v.O);var R=v.g;v=v.ba,R.M=1,R.A=ml(xn(T)),R.u=null,R.R=!0,kt(R,v)}t.Va=function(){this.C!=null&&(this.C=null,co(this),wl(this),Gt(19))};function Oc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function hm(v,T){var R=null;if(v.g==T){Oc(v),Cd(v),v.g=null;var H=2}else if(ga(v.h,T))R=T.G,yd(v.h,T),H=1;else return;if(v.I!=0){if(T.o)if(H==1){R=T.u?T.u.length:0,T=Date.now()-T.F;var oe=v.D;H=yi(),Pt(H,new Dr(H,R)),wa(v)}else dm(v);else if(oe=T.m,oe==3||oe==0&&T.X>0||!(H==1&&Cc(v,T)||H==2&&wl(v)))switch(R&&R.length>0&&(T=v.h,T.i=T.i.concat(R)),oe){case 1:_a(v,5);break;case 4:_a(v,10);break;case 3:_a(v,6);break;default:_a(v,2)}}}function mm(v,T){let R=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(R*=2),R*T}function _a(v,T){if(v.j.info("Error code "+T),T==2){var R=m(v.bb,v),H=v.Ua;const oe=!H;H=new ti(H||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$n(H,"https"),ml(H),oe?Hi(H.toString(),R):Ed(H.toString(),R)}else Gt(2);v.I=0,v.l&&v.l.pa(T),pm(v),jc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function pm(v){if(v.I=0,v.ja=[],v.l){const T=bd(v.h);(T.length!=0||v.i.length!=0)&&(S(v.ja,T),S(v.ja,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.oa()}}function gm(v,T,R){var H=R instanceof ti?xn(R):new ti(R);if(H.g!="")T&&(H.g=T+"."+H.g),no(H,H.u);else{var oe=l.location;H=oe.protocol,T=T?T+"."+oe.hostname:oe.hostname,oe=+oe.port;const fe=new ti(null);H&&$n(fe,H),T&&(fe.g=T),oe&&no(fe,oe),R&&(fe.h=R),H=fe}return R=v.G,T=v.wa,R&&T&&_t(H,R,T),_t(H,"VER",v.ka),xl(v,H),H}function vm(v,T,R){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new Tt(new ya({ab:R})):new Tt(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ym(){}t=ym.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function uo(){}uo.prototype.g=function(v,T){return new Nr(v,T)};function Nr(v,T){wt.call(this),this.g=new lo(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!k(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!k(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new Za(this)}g(Nr,wt),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Nd(this.g)},Nr.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var R={};R.__data__=v,v=R}else this.v&&(R={},R.__data__=vi(v),v=R);T.i.push(new bn(T.Ya++,v)),T.I==3&&wa(T)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Nd(this.g),delete this.g,Nr.Z.N.call(this)};function bm(v){Zt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const R in T){v=R;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(bm,Zt);function xm(){Un.call(this),this.status=1}g(xm,Un);function Za(v){this.g=v}g(Za,ym),Za.prototype.ra=function(){Pt(this.g,"a")},Za.prototype.qa=function(v){Pt(this.g,new bm(v))},Za.prototype.pa=function(v){Pt(this.g,new xm)},Za.prototype.oa=function(){Pt(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,IM=function(){return new uo},OM=function(){return yi()},CM=Vt,nw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Jp=Te,ut.COMPLETE="complete",jM=ut,da.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ef=da,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,NM=Tt}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const Mj="@firebase/firestore",Dj="4.9.3";let gr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");let Qu="12.7.0";const ic=new S_("@firebase/firestore");function uu(){return ic.logLevel}function Re(t,...e){if(ic.logLevel<=it.DEBUG){const n=e.map(k_);ic.debug(`Firestore (${Qu}): ${t}`,...n)}}function Os(t,...e){if(ic.logLevel<=it.ERROR){const n=e.map(k_);ic.error(`Firestore (${Qu}): ${t}`,...n)}}function Iu(t,...e){if(ic.logLevel<=it.WARN){const n=e.map(k_);ic.warn(`Firestore (${Qu}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PM(t,r,n)}function PM(t,e,n){let r=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Os(r),new Error(r)}function xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||PM(e,i,r)}function Ke(t,e){return t}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ss{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class RM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gr.UNAUTHENTICATED)))}shutdown(){}}class rB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iB{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ss,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ss)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new RM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new gr(e)}}class aB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=s=>{s.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Re("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class M_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function rw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return sx(i)===sx(s)?at(i,s):sx(i)?1:-1}return at(t.length,e.length)}const cB=55296,uB=57343;function sx(t){const e=t.charCodeAt(0);return e>=cB&&e<=uB}function Pu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const zj="__name__";class Ca{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ca.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ca?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ca.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return at(e.length,n.length)}static compareSegments(e,n){const r=Ca.isNumericId(e),i=Ca.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ca.extractNumericId(e).compare(Ca.extractNumericId(n)):rw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yo.fromString(e.substring(4,e.length-2))}}class $t extends Ca{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const dB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends Ca{construct(e,n,r){return new or(e,n,r)}static isValidIdentifier(e){return dB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zj}static keyField(){return new or([zj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ne(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ne(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ne(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Ne(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(n)}static emptyPath(){return new or([])}}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue($t.fromString(e))}static fromName(e){return new Ue($t.fromString(e).popFirst(5))}static empty(){return new Ue($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new $t(e.slice()))}}function kM(t,e,n){if(!n)throw new Ne(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fB(t,e,n,r){if(e===!0&&r===!0)throw new Ne(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vj(t){if(!Ue.isDocumentKey(t))throw new Ne(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uj(t){if(Ue.isDocumentKey(t))throw new Ne(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Rv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rv(t);throw new Ne(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hB(t,e){if(e<=0)throw new Ne(be.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function _h(t,e){if(!MM(t))throw new Ne(be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ne(be.INVALID_ARGUMENT,n);return!0}const $j=-62135596800,Bj=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Bj);return new Dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$j)throw new Ne(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bj}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_h(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$j;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:jn("string",Dt._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Dt(0,0))}static max(){return new Fe(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bf=-1;function mB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Qo(i,Ue.empty(),e)}function pB(t){return new Qo(t.readTime,t.key,Bf)}class Qo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qo(Fe.min(),Ue.empty(),Bf)}static max(){return new Qo(Fe.max(),Ue.empty(),Bf)}}function gB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}const vB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ju(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==vB)throw t;Re("LocalStore","Unexpectedly lost primary lease")}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const m=d;n(e[m]).next((p=>{l[m]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new _e(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function bB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zu(t){return t.name==="IndexedDbTransactionError"}class kv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kv.ce=-1;const D_=-1;function Mv(t){return t==null}function bg(t){return t===0&&1/t==-1/0}function xB(t){return typeof t=="number"&&Number.isInteger(t)&&!bg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const DM="";function wB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qj(e)),e=_B(t.get(n),e);return qj(e)}function _B(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case DM:n+="";break;default:n+=s}}return n}function qj(t){return t+DM+""}function Fj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tp(this.root,e,this.comparator,!0)}}class Tp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=s??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ar(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hj(this.data.getIterator())}getIteratorFrom(e){return new Hj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class Hj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new di([])}unionWith(e){let n=new kn(or.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class zM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new zM("Invalid base64 string: "+s):s}})(e);return new cr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const SB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=SB.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?cr.fromBase64String(t):cr.fromUint8Array(t)}const VM="server_timestamp",UM="__type__",$M="__previous_value__",BM="__local_write_time__";function L_(t){return(t?.mapValue?.fields||{})[UM]?.stringValue===VM}function Dv(t){const e=t.mapValue.fields[$M];return L_(e)?Dv(e):e}function qf(t){const e=Jo(t.mapValue.fields[BM].timestampValue);return new Dt(e.seconds,e.nanos)}class EB{constructor(e,n,r,i,s,l,u,d,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=p}}const xg="(default)";class Ff{constructor(e,n){this.projectId=e,this.database=n||xg}static empty(){return new Ff("","")}get isDefaultDatabase(){return this.database===xg}isEqual(e){return e instanceof Ff&&e.projectId===this.projectId&&e.database===this.database}}const qM="__type__",AB="__max__",Np={mapValue:{}},FM="__vector__",wg="value";function el(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L_(t)?4:NB(t)?9007199254740991:TB(t)?10:11:Be(28295,{value:t})}function Va(t,e){if(t===e)return!0;const n=el(t);if(n!==el(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qf(t).isEqual(qf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Jo(i.timestampValue),u=Jo(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Zo(i.bytesValue).isEqual(Zo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return gn(i.geoPointValue.latitude)===gn(s.geoPointValue.latitude)&&gn(i.geoPointValue.longitude)===gn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return gn(i.integerValue)===gn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=gn(i.doubleValue),u=gn(s.doubleValue);return l===u?bg(l)===bg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Pu(t.arrayValue.values||[],e.arrayValue.values||[],Va);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Fj(l)!==Fj(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Va(l[d],u[d])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function Hf(t,e){return(t.values||[]).find((n=>Va(n,e)))!==void 0}function Ru(t,e){if(t===e)return 0;const n=el(t),r=el(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=gn(s.integerValue||s.doubleValue),d=gn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return Kj(t.timestampValue,e.timestampValue);case 4:return Kj(qf(t),qf(e));case 5:return rw(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=Zo(s),d=Zo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let m=0;m<u.length&&m<d.length;m++){const p=at(u[m],d[m]);if(p!==0)return p}return at(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=at(gn(s.latitude),gn(l.latitude));return u!==0?u:at(gn(s.longitude),gn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Gj(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},m=u[wg]?.arrayValue,p=d[wg]?.arrayValue,g=at(m?.values?.length||0,p?.values?.length||0);return g!==0?g:Gj(m,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Np.mapValue&&l===Np.mapValue)return 0;if(s===Np.mapValue)return 1;if(l===Np.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),m=l.fields||{},p=Object.keys(m);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=rw(d[g],p[g]);if(b!==0)return b;const _=Ru(u[d[g]],m[p[g]]);if(_!==0)return _}return at(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function Kj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Jo(t),r=Jo(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function Gj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ru(n[i],r[i]);if(s)return s}return at(n.length,r.length)}function ku(t){return iw(t)}function iw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Jo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ue.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=iw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${iw(n.fields[l])}`;return i+"}"})(t.mapValue):Be(61005,{value:t})}function Zp(t){switch(el(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dv(t);return e?16+Zp(e):16;case 5:return 2*t.stringValue.length;case 6:return Zo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Zp(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ll(r.fields,((s,l)=>{i+=s.length+Zp(l)})),i})(t.mapValue);default:throw Be(13486,{value:t})}}function Yj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aw(t){return!!t&&"integerValue"in t}function z_(t){return!!t&&"arrayValue"in t}function Wj(t){return!!t&&"nullValue"in t}function Xj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eg(t){return!!t&&"mapValue"in t}function TB(t){return(t?.mapValue?.fields||{})[qM]?.stringValue===FM}function Rf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ll(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Rf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rf(t.arrayValue.values[n]);return e}return{...t}}function NB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AB}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rf(n)}setAll(e){let n=or.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Rf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());eg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ll(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Gr(Rf(this.value))}}function HM(t){const e=[];return ll(t.fields,((n,r)=>{const i=new or([n]);if(eg(r)){const s=HM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new di(e)}class vr{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new vr(e,0,Fe.min(),Fe.min(),Fe.min(),Gr.empty(),0)}static newFoundDocument(e,n,r,i){return new vr(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new vr(e,2,n,Fe.min(),Fe.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,Fe.min(),Fe.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _g{constructor(e,n){this.position=e,this.inclusive=n}}function Qj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ue.comparator(Ue.fromName(l.referenceValue),n.key):r=Ru(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Va(t.position[n],e.position[n]))return!1;return!0}class Kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function jB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class KM{}class Nn extends KM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OB(e,n,r):n==="array-contains"?new RB(e,r):n==="in"?new kB(e,r):n==="not-in"?new MB(e,r):n==="array-contains-any"?new DB(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IB(e,r):new PB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ru(n,this.value)):n!==null&&el(this.value)===el(n)&&this.matchesComparison(Ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class aa extends KM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new aa(e,n)}matches(e){return GM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GM(t){return t.op==="and"}function YM(t){return CB(t)&&GM(t)}function CB(t){for(const e of t.filters)if(e instanceof aa)return!1;return!0}function sw(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+ku(t.value);if(YM(t))return t.filters.map((e=>sw(e))).join(",");{const e=t.filters.map((n=>sw(n))).join(",");return`${t.op}(${e})`}}function WM(t,e){return t instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.field.isEqual(i.field)&&Va(r.value,i.value)})(t,e):t instanceof aa?(function(r,i){return i instanceof aa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&WM(l,i.filters[u])),!0):!1})(t,e):void Be(19439)}function XM(t){return t instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ku(n.value)}`})(t):t instanceof aa?(function(n){return n.op.toString()+" {"+n.getFilters().map(XM).join(" ,")+"}"})(t):"Filter"}class OB extends Nn{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class IB extends Nn{constructor(e,n){super(e,"in",n),this.keys=QM("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class PB extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=QM("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function QM(t,e){return(e.arrayValue?.values||[]).map((n=>Ue.fromName(n.referenceValue)))}class RB extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z_(n)&&Hf(n.arrayValue,this.value)}}class kB extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hf(this.value.arrayValue,n)}}class MB extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hf(this.value.arrayValue,n)}}class DB extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Hf(this.value.arrayValue,r)))}}class LB{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function Zj(t,e=null,n=[],r=[],i=null,s=null,l=null){return new LB(t,e,n,r,i,s,l)}function V_(t){const e=Ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>sw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Mv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ku(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ku(r))).join(",")),e.Te=n}return e.Te}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jj(t.startAt,e.startAt)&&Jj(t.endAt,e.endAt)}function ow(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ed{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zB(t,e,n,r,i,s,l,u){return new ed(t,e,n,r,i,s,l,u)}function Lv(t){return new ed(t)}function eC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JM(t){return t.collectionGroup!==null}function kf(t){const e=Ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new kn(or.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Kf(s,r))})),n.has(or.keyField().canonicalString())||e.Ie.push(new Kf(or.keyField(),r))}return e.Ie}function ka(t){const e=Ke(t);return e.Ee||(e.Ee=VB(e,kf(t))),e.Ee}function VB(t,e){if(t.limitType==="F")return Zj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Kf(i.field,s)}));const n=t.endAt?new _g(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _g(t.startAt.position,t.startAt.inclusive):null;return Zj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lw(t,e){const n=t.filters.concat([e]);return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sg(t,e,n){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zv(t,e){return U_(ka(t),ka(e))&&t.limitType===e.limitType}function ZM(t){return`${V_(ka(t))}|lt:${t.limitType}`}function du(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>XM(i))).join(", ")}]`),Mv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ku(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ku(i))).join(",")),`Target(${r})`})(ka(t))}; limitType=${t.limitType})`}function Vv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of kf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const m=Qj(l,u,d);return l.inclusive?m<=0:m<0})(r.startAt,kf(r),i)||r.endAt&&!(function(l,u,d){const m=Qj(l,u,d);return l.inclusive?m>=0:m>0})(r.endAt,kf(r),i))})(t,e)}function UB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eD(t){return(e,n)=>{let r=!1;for(const i of kf(t)){const s=$B(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $B(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):(function(s,l,u){const d=l.data.field(s),m=u.data.field(s);return d!==null&&m!==null?Ru(d,m):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}class gc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return LM(this.inner)}size(){return this.innerSize}}const BB=new tn(Ue.comparator);function Is(){return BB}const tD=new tn(Ue.comparator);function Af(...t){let e=tD;for(const n of t)e=e.insert(n.key,n);return e}function nD(t){let e=tD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Bl(){return Mf()}function rD(){return Mf()}function Mf(){return new gc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qB=new tn(Ue.comparator),FB=new kn(Ue.comparator);function st(...t){let e=FB;for(const n of t)e=e.add(n);return e}const HB=new kn(at);function KB(){return HB}function $_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bg(e)?"-0":e}}function iD(t){return{integerValue:""+t}}function GB(t,e){return xB(e)?iD(e):$_(t,e)}class Uv{constructor(){this._=void 0}}function YB(t,e,n){return t instanceof Gf?(function(i,s){const l={fields:{[UM]:{stringValue:VM},[BM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&L_(s)&&(s=Dv(s)),s&&(l.fields[$M]=s),{mapValue:l}})(n,e):t instanceof Yf?sD(t,e):t instanceof Wf?oD(t,e):(function(i,s){const l=aD(i,s),u=tC(l)+tC(i.Ae);return aw(l)&&aw(i.Ae)?iD(u):$_(i.serializer,u)})(t,e)}function WB(t,e,n){return t instanceof Yf?sD(t,e):t instanceof Wf?oD(t,e):n}function aD(t,e){return t instanceof Eg?(function(r){return aw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Gf extends Uv{}class Yf extends Uv{constructor(e){super(),this.elements=e}}function sD(t,e){const n=lD(e);for(const r of t.elements)n.some((i=>Va(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Wf extends Uv{constructor(e){super(),this.elements=e}}function oD(t,e){let n=lD(e);for(const r of t.elements)n=n.filter((i=>!Va(i,r)));return{arrayValue:{values:n}}}class Eg extends Uv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tC(t){return gn(t.integerValue||t.doubleValue)}function lD(t){return z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class XB{constructor(e,n){this.field=e,this.transform=n}}function QB(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Yf&&i instanceof Yf||r instanceof Wf&&i instanceof Wf?Pu(r.elements,i.elements,Va):r instanceof Eg&&i instanceof Eg?Va(r.Ae,i.Ae):r instanceof Gf&&i instanceof Gf})(t.transform,e.transform)}class JB{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $v{}function cD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bv(t.key,Ir.none()):new Sh(t.key,t.data,Ir.none());{const n=t.data,r=Gr.empty();let i=new kn(or.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new cl(t.key,r,new di(i.toArray()),Ir.none())}}function ZB(t,e,n){t instanceof Sh?(function(i,s,l){const u=i.value.clone(),d=rC(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof cl?(function(i,s,l){if(!tg(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=rC(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(uD(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Df(t,e,n,r){return t instanceof Sh?(function(s,l,u,d){if(!tg(s.precondition,l))return u;const m=s.value.clone(),p=iC(s.fieldTransforms,d,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof cl?(function(s,l,u,d){if(!tg(s.precondition,l))return u;const m=iC(s.fieldTransforms,d,l),p=l.data;return p.setAll(uD(s)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return tg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function e7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aD(r.transform,i||null);s!=null&&(n===null&&(n=Gr.empty()),n.set(r.field,s))}return n||null}function nC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pu(r,i,((s,l)=>QB(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sh extends $v{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cl extends $v{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rC(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,WB(l,u,n[i]))}return r}function iC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,YB(s,l,e))}return r}class Bv extends $v{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t7 extends $v{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Df(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Df(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rD();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const d=cD(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),st())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,((n,r)=>nC(n,r)))&&Pu(this.baseMutations,e.baseMutations,((n,r)=>nC(n,r)))}}class B_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return qB})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new B_(e,n,r,i)}}class r7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class i7{constructor(e,n){this.count=e,this.unchangedNames=n}}var An,ct;function a7(t){switch(t){case be.OK:return Be(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function dD(t){if(t===void 0)return Os("GRPC error has no .code"),be.UNKNOWN;switch(t){case An.OK:return be.OK;case An.CANCELLED:return be.CANCELLED;case An.UNKNOWN:return be.UNKNOWN;case An.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case An.INTERNAL:return be.INTERNAL;case An.UNAVAILABLE:return be.UNAVAILABLE;case An.UNAUTHENTICATED:return be.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case An.NOT_FOUND:return be.NOT_FOUND;case An.ALREADY_EXISTS:return be.ALREADY_EXISTS;case An.PERMISSION_DENIED:return be.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case An.ABORTED:return be.ABORTED;case An.OUT_OF_RANGE:return be.OUT_OF_RANGE;case An.UNIMPLEMENTED:return be.UNIMPLEMENTED;case An.DATA_LOSS:return be.DATA_LOSS;default:return Be(39323,{code:t})}}(ct=An||(An={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function s7(){return new TextEncoder}const o7=new Yo([4294967295,4294967295],0);function aC(t){const e=s7().encode(t),n=new TM;return n.update(e),new Uint8Array(n.digest())}function sC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,s],0)]}class q_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tf(`Invalid padding: ${n}`);if(r<0)throw new Tf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Yo.fromNumber(r)));return i.compare(o7)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aC(e),[r,i]=sC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new q_(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=aC(e),[r,i]=sC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qv(Fe.min(),i,new tn(at),Is(),st())}}class Eh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eh(r,n,st(),st(),st())}}class ng{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class fD{constructor(e,n){this.targetId=e,this.Ce=n}}class hD{constructor(e,n,r=cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oC{constructor(){this.ve=0,this.Fe=lC(),this.Me=cr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),n=st(),r=st();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:s})}})),new Eh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class l7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=jp(),this.He=jp(),this.Ye=new tn(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ow(s))if(r===0){const l=new Ue(s.path);this.et(n,l,vr.newNoDocument(l,Fe.min()))}else xt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=Zo(r).toUint8Array()}catch(d){if(d instanceof zM)return Iu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new q_(l,i,s)}catch(d){return Iu(d instanceof Tf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&ow(u.target)){const d=new Ue(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,vr.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=st();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new qv(e,n,this.Ye,this.je,r);return this.je=Is(),this.Je=jp(),this.He=jp(),this.Ye=new tn(at),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kn(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kn(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jp(){return new tn(Ue.comparator)}function lC(){return new tn(Ue.comparator)}const c7={asc:"ASCENDING",desc:"DESCENDING"},u7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d7={and:"AND",or:"OR"};class f7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cw(t,e){return t.useProto3Json||Mv(e)?e:{value:e}}function Ag(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h7(t,e){return Ag(t,e.toTimestamp())}function Ma(t){return xt(!!t,49232),Fe.fromTimestamp((function(n){const r=Jo(n);return new Dt(r.seconds,r.nanos)})(t))}function F_(t,e){return uw(t,e).canonicalString()}function uw(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function pD(t){const e=$t.fromString(t);return xt(xD(e),10190,{key:e.toString()}),e}function dw(t,e){return F_(t.databaseId,e.path)}function ox(t,e){const n=pD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(vD(n))}function gD(t,e){return F_(t.databaseId,e)}function m7(t){const e=pD(t);return e.length===4?$t.emptyPath():vD(e)}function fw(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vD(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cC(t,e,n){return{name:dw(t,e),fields:n.value.mapValue.fields}}function p7(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Be(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(m,p){return m.useProto3Json?(xt(p===void 0||typeof p=="string",58123),cr.fromBase64String(p||"")):(xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),cr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const p=m.code===void 0?be.UNKNOWN:dD(m.code);return new Ne(p,m.message||"")})(l);n=new hD(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ox(t,r.document.name),s=Ma(r.document.updateTime),l=r.document.createTime?Ma(r.document.createTime):Fe.min(),u=new Gr({mapValue:{fields:r.document.fields}}),d=vr.newFoundDocument(i,s,l,u),m=r.targetIds||[],p=r.removedTargetIds||[];n=new ng(m,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ox(t,r.document),s=r.readTime?Ma(r.readTime):Fe.min(),l=vr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new ng([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ox(t,r.document),s=r.removedTargetIds||[];n=new ng([],s,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new i7(i,s),u=r.targetId;n=new fD(u,l)}}return n}function g7(t,e){let n;if(e instanceof Sh)n={update:cC(t,e.key,e.value)};else if(e instanceof Bv)n={delete:dw(t,e.key)};else if(e instanceof cl)n={update:cC(t,e.key,e.data),updateMask:A7(e.fieldMask)};else{if(!(e instanceof t7))return Be(16599,{Vt:e.type});n={verify:dw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Gf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Yf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Eg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Be(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:h7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Be(27497)})(t,e.precondition)),n}function v7(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ma(i.updateTime):Ma(s);return l.isEqual(Fe.min())&&(l=Ma(s)),new JB(l,i.transformResults||[])})(n,e)))):[]}function y7(t,e){return{documents:[gD(t,e.path)]}}function b7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gD(t,i);const s=(function(m){if(m.length!==0)return bD(aa.create(m,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(m){if(m.length!==0)return m.map((p=>(function(b){return{field:fu(b.field),direction:_7(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=cw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function x7(t){let e=m7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=yD(g);return b instanceof aa&&YM(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(S){return new Kf(hu(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,Mv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,_=g.values||[];return new _g(_,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(g){const b=!g.before,_=g.values||[];return new _g(_,b)})(n.endAt)),zB(e,i,l,s,u,"F",d,m)}function w7(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hu(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=hu(n.unaryFilter.field);return Nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hu(n.unaryFilter.field);return Nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hu(n.unaryFilter.field);return Nn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Nn.create(hu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return aa.create(n.compositeFilter.filters.map((r=>yD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function _7(t){return c7[t]}function S7(t){return u7[t]}function E7(t){return d7[t]}function fu(t){return{fieldPath:t.canonicalString()}}function hu(t){return or.fromServerFormat(t.fieldPath)}function bD(t){return t instanceof Nn?(function(n){if(n.op==="=="){if(Xj(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if(Wj(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xj(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if(Wj(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:S7(n.op),value:n.value}}})(t):t instanceof aa?(function(n){const r=n.getFilters().map((i=>bD(i)));return r.length===1?r[0]:{compositeFilter:{op:E7(n.op),filters:r}}})(t):Be(54877,{filter:t})}function A7(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Bo{constructor(e,n,r,i,s=Fe.min(),l=Fe.min(),u=cr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class T7{constructor(e){this.yt=e}}function N7(t){const e=x7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sg(e,e.limit,"L"):e}class j7{constructor(){this.Cn=new C7}addToCollectionParentIndex(e,n){return this.Cn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(Qo.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(Qo.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class C7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kn($t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn($t.comparator)).toArray()}}const uC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wD=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(wD,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);class Mu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mu(0)}static cr(){return new Mu(-1)}}const dC="LruGarbageCollector",O7=1048576;function fC([t,e],[n,r]){const i=at(t,n);return i===0?at(e,r):i}class I7{constructor(e){this.Ir=e,this.buffer=new kn(fC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(dC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zu(n)?Re(dC,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Vr(3e5)}))}}class R7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(kv.ce);const r=new I7(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(uC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,d,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(m=Date.now(),uu()<=it.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(m-d)+`ms
Total Duration: ${m-p}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function k7(t,e){return new R7(t,e)}class M7{constructor(){this.changes=new gc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class L7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Df(r.mutation,i,di.empty(),Dt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,st()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=st()){const i=Bl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Af();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Bl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,st())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=Is();const l=Mf(),u=(function(){return Mf()})();return n.forEach(((d,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof cl)?s=s.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),Df(p.mutation,m,p.mutation.getFieldMask(),Dt.now())):l.set(m.key,di.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((m,p)=>l.set(m,p))),n.forEach(((m,p)=>u.set(m,new D7(p,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Mf();let i=new tn(((l,u)=>l-u)),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let p=r.get(d)||di.empty();p=u.applyToLocalView(m,p),r.set(d,p);const g=(i.get(u.batchId)||st()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),m=d.key,p=d.value,g=rD();p.forEach((b=>{if(!s.has(b)){const _=cD(n.get(b),r.get(b));_!==null&&g.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,g))}return _e.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ue.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_e.resolve(Bl());let u=Bf,d=s;return l.next((m=>_e.forEach(m,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?_e.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,m,s))).next((()=>this.computeViews(e,d,m,st()))).next((p=>({batchId:u,changes:nD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((r=>{let i=Af();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Af();return this.indexManager.getCollectionParents(e,s).next((u=>_e.forEach(u,(d=>{const m=(function(g,b){return new ed(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,vr.newInvalidDocument(p)))}));let u=Af();return l.forEach(((d,m)=>{const p=s.get(d);p!==void 0&&Df(p.mutation,m,di.empty(),Dt.now()),Vv(n,m)&&(u=u.insert(d,m))})),u}))}}class z7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return _e.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ma(i.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:N7(i.bundledQuery),readTime:Ma(i.readTime)}})(n)),_e.resolve()}}class V7{constructor(){this.overlays=new tn(Ue.comparator),this.qr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bl();return _e.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=Bl(),s=n.length+1,l=new Ue(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tn(((m,p)=>m-p));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=s.get(m.largestBatchId);p===null&&(p=Bl(),s=s.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const u=Bl(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,p)=>u.set(m,p))),!(u.size()>=i)););return _e.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new r7(n,r));let s=this.qr.get(n);s===void 0&&(s=st(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class U7{constructor(){this.sessionToken=cr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}class H_{constructor(){this.Qr=new kn(Hn.$r),this.Ur=new kn(Hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ue(new $t([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ue(new $t([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=st();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ue.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||Ue.comparator(e.key,n.key)}}class $7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kn(Hn.$r)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new n7(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Hn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return _e.resolve(l)}lookupMutationBatch(e,n){return _e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?D_:this.tr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(at);return n.forEach((i=>{const s=new Hn(i,0),l=new Hn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),_e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ue.isDocumentKey(s)||(s=s.child(""));const l=new Hn(new Ue(s),0);let u=new kn(at);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(d.Yr)),!0)}),l),_e.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return _e.forEach(n.mutations,(i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Hn(n,0),i=this.Zr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class B7{constructor(e){this.ri=e,this.docs=(function(){return new tn(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let r=Is();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vr.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Is();const l=n.path,u=new Ue(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:p}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||gB(pB(p),r)<=0||(i.has(p.key)||Vv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Be(9500)}ii(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new q7(this)}getSize(e){return _e.resolve(this.size)}}class q7 extends M7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class F7{constructor(e){this.persistence=e,this.si=new gc((n=>V_(n)),U_),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new H_,this.targetCount=0,this.ai=Mu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),_e.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.Pr(n),_e.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),_e.waitFor(s).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),_e.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this._i.containsKey(n))}}class _D{constructor(e,n){this.ui={},this.overlays={},this.ci=new kv(0),this.li=!1,this.li=!0,this.hi=new U7,this.referenceDelegate=e(this),this.Pi=new F7(this),this.indexManager=new j7,this.remoteDocumentCache=(function(i){return new B7(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new T7(n),this.Ii=new z7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const i=new H7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return _e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class H7 extends yB{constructor(e){super(),this.currentSequenceNumber=e}}class K_{constructor(e){this.persistence=e,this.Ri=new H_,this.Vi=null}static mi(e){return new K_(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,(r=>{const i=Ue.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Tg{constructor(e,n){this.persistence=e,this.pi=new gc((r=>wB(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=k7(this,n)}static mi(e,n){return new Tg(e,n)}Ei(){}di(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return _e.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?_e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Fe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zp(e.data.value)),n}br(e,n,r){return _e.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class G_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=st(),i=st();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new G_(e,n.fromCache,r,i)}}class K7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class G7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return k9()?8:bB(xr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new K7;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(uu()<=it.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",du(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(uu()<=it.DEBUG&&Re("QueryEngine","Query:",du(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(uu()<=it.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",du(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(n))):_e.resolve())}ys(e,n){if(eC(n))return _e.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Sg(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=st(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.Ds(n,u);return this.Cs(n,m,l,d.readTime)?this.ys(e,Sg(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,r,i){return eC(n)||i.isEqual(Fe.min())?_e.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?_e.resolve(null):(uu()<=it.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),du(n)),this.vs(e,l,n,mB(i,Bf)).next((u=>u)))}))}Ds(e,n){let r=new kn(eD(e));return n.forEach(((i,s)=>{Vv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return uu()<=it.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",du(n)),this.ps.getDocumentsMatchingQuery(e,n,Qo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const Y_="LocalStore",Y7=3e8;class W7{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new tn(at),this.xs=new gc((s=>V_(s)),U_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function X7(t,e,n,r){return new W7(t,e,n,r)}async function SD(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=st();for(const m of i){l.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}for(const m of s){u.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function Q7(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,m,p){const g=m.batch,b=g.keys();let _=_e.resolve();return b.forEach((S=>{_=_.next((()=>p.getEntry(d,S))).next((E=>{const A=m.docVersions.get(S);xt(A!==null,48541),E.version.compareTo(A)<0&&(g.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),p.addEntry(E)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=st();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(d=d.add(u.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function ED(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function J7(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(cr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(E,A,O){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Y7?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(s,_))}));let d=Is(),m=st();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(Z7(s,l,e.documentUpdates).next((p=>{d=p.ks,m=p.qs}))),!r.isEqual(Fe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return _e.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,m))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function Z7(t,e,n){let r=st(),i=st();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Is();return n.forEach(((u,d)=>{const m=s.get(u);d.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Re(Y_,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function eq(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=D_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tq(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,_e.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Bo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function hw(t,e,n){const r=Ke(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Zu(l))throw l;Re(Y_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function hC(t,e,n){const r=Ke(t);let i=Fe.min(),s=st();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,m,p){const g=Ke(d),b=g.xs.get(p);return b!==void 0?_e.resolve(g.Ms.get(b)):g.Pi.getTargetData(m,p)})(r,l,ka(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Fe.min(),n?s:st()))).next((u=>(nq(r,UB(e),u),{documents:u,Qs:s})))))}function nq(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class mC{constructor(){this.activeTargetIds=KB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rq{constructor(){this.Mo=new mC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iq{Oo(e){}shutdown(){}}const pC="ConnectivityMonitor";class gC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(pC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(pC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cp=null;function mw(){return Cp===null?Cp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cp++,"0x"+Cp.toString(16)}const lx="RestConnection",aq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===xg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=mw(),u=this.zo(e,n.toUriEncodedString());Re(lx,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:m}=new URL(u),p=Yu(m);return this.Jo(e,u,d,r,p).then((g=>(Re(lx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Iu(lx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=aq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class oq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mr="WebChannelConnection";class lq extends sq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=mw();return new Promise(((u,d)=>{const m=new NM;m.setWithCredentials(!0),m.listenOnce(jM.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Jp.NO_ERROR:const g=m.getResponseJson();Re(mr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Jp.TIMEOUT:Re(mr,`RPC '${e}' ${l} timed out`),d(new Ne(be.DEADLINE_EXCEEDED,"Request time out"));break;case Jp.HTTP_ERROR:const b=m.getStatus();if(Re(mr,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const E=(function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(L)>=0?L:be.UNKNOWN})(S.status);d(new Ne(E,S.message))}else d(new Ne(be.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ne(be.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Re(mr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Re(mr,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=mw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=IM(),u=OM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");Re(mr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,_=!1;const S=new oq({Yo:A=>{_?Re(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(b||(Re(mr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Re(mr,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),E=(A,O,L)=>{A.listen(O,(V=>{try{L(V)}catch(B){setTimeout((()=>{throw B}),0)}}))};return E(g,Ef.EventType.OPEN,(()=>{_||(Re(mr,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),E(g,Ef.EventType.CLOSE,(()=>{_||(_=!0,Re(mr,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(g))})),E(g,Ef.EventType.ERROR,(A=>{_||(_=!0,Iu(mr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Ne(be.UNAVAILABLE,"The operation could not be completed")))})),E(g,Ef.EventType.MESSAGE,(A=>{if(!_){const O=A.data[0];xt(!!O,16349);const L=O,V=L?.error||L[0]?.error;if(V){Re(mr,`RPC '${e}' stream ${i} received error:`,V);const B=V.status;let $=(function(N){const M=An[N];if(M!==void 0)return dD(M)})(B),z=V.message;$===void 0&&($=be.INTERNAL,z="Unknown error status: "+B+" with message "+V.message),_=!0,S.a_(new Ne($,z)),g.close()}else Re(mr,`RPC '${e}' stream ${i} received:`,O),S.u_(O)}})),E(u,CM.STAT_EVENT,(A=>{A.stat===nw.PROXY?Re(mr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===nw.NOPROXY&&Re(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cx(){return typeof document<"u"?document:null}function Fv(t){return new f7(t,!0)}class AD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vC="PersistentStream";class TD{constructor(e,n,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(Os(n.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ne(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(vC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Re(vC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cq extends TD{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=p7(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Fe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?Ma(l.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=fw(this.serializer),n.addTarget=(function(s,l){let u;const d=l.target;if(u=ow(d)?{documents:y7(s,d)}:{query:b7(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=mD(s,l.resumeToken);const m=cw(s,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=Ag(s,l.snapshotVersion.toTimestamp());const m=cw(s,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=w7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=fw(this.serializer),n.removeTarget=e,this.q_(n)}}class uq extends TD{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=v7(e.writeResults,e.commitTime),r=Ma(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>g7(this.serializer,r)))};this.q_(n)}}class dq{}class fq extends dq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,uw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(be.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,uw(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(be.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ac="RemoteStore";class mq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{vc(this)&&(Re(ac,"Restarting streams for network reachability change."),await(async function(d){const m=Ke(d);m.Ea.add(4),await Ah(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Hv(m)})(this))}))})),this.Ra=new hq(r,i)}}async function Hv(t){if(vc(t))for(const e of t.da)await e(!0)}async function Ah(t){for(const e of t.da)await e(!1)}function ND(t,e){const n=Ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),J_(n)?Q_(n):td(n).O_()&&X_(n,e))}function W_(t,e){const n=Ke(t),r=td(n);n.Ia.delete(e),r.O_()&&jD(n,e),n.Ia.size===0&&(r.O_()?r.L_():vc(n)&&n.Ra.set("Unknown"))}function X_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}td(t).Y_(e)}function jD(t,e){t.Va.Ue(e),td(t).Z_(e)}function Q_(t){t.Va=new l7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),td(t).start(),t.Ra.ua()}function J_(t){return vc(t)&&!td(t).x_()&&t.Ia.size>0}function vc(t){return Ke(t).Ea.size===0}function CD(t){t.Va=void 0}async function pq(t){t.Ra.set("Online")}async function gq(t){t.Ia.forEach(((e,n)=>{X_(t,e)}))}async function vq(t,e){CD(t),J_(t)?(t.Ra.ha(e),Q_(t)):t.Ra.set("Unknown")}async function yq(t,e,n){if(t.Ra.set("Online"),e instanceof hD&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Re(ac,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ng(t,r)}else if(e instanceof ng?t.Va.Ze(e):e instanceof fD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await ED(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(m);p&&s.Ia.set(m,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,m)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(cr.EMPTY_BYTE_STRING,p.snapshotVersion)),jD(s,d);const g=new Bo(p.target,d,m,p.sequenceNumber);X_(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Re(ac,"Failed to raise snapshot:",r),await Ng(t,r)}}async function Ng(t,e,n){if(!Zu(e))throw e;t.Ea.add(1),await Ah(t),t.Ra.set("Offline"),n||(n=()=>ED(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(ac,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hv(t)}))}function OD(t,e){return e().catch((n=>Ng(t,n,e)))}async function Kv(t){const e=Ke(t),n=tl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:D_;for(;bq(e);)try{const i=await eq(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,xq(e,i)}catch(i){await Ng(e,i)}ID(e)&&PD(e)}function bq(t){return vc(t)&&t.Ta.length<10}function xq(t,e){t.Ta.push(e);const n=tl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ID(t){return vc(t)&&!tl(t).x_()&&t.Ta.length>0}function PD(t){tl(t).start()}async function wq(t){tl(t).ra()}async function _q(t){const e=tl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Sq(t,e,n){const r=t.Ta.shift(),i=B_.from(r,e,n);await OD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Kv(t)}async function Eq(t,e){e&&tl(t).X_&&await(async function(r,i){if((function(l){return a7(l)&&l!==be.ABORTED})(i.code)){const s=r.Ta.shift();tl(r).B_(),await OD(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Kv(r)}})(t,e),ID(t)&&PD(t)}async function yC(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),Re(ac,"RemoteStore received new credentials");const r=vc(n);n.Ea.add(3),await Ah(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hv(n)}async function Aq(t,e){const n=Ke(t);e?(n.Ea.delete(2),await Hv(n)):e||(n.Ea.add(2),await Ah(n),n.Ra.set("Unknown"))}function td(t){return t.ma||(t.ma=(function(n,r,i){const s=Ke(n);return s.sa(),new cq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:pq.bind(null,t),t_:gq.bind(null,t),r_:vq.bind(null,t),H_:yq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),J_(t)?Q_(t):t.Ra.set("Unknown")):(await t.ma.stop(),CD(t))}))),t.ma}function tl(t){return t.fa||(t.fa=(function(n,r,i){const s=Ke(n);return s.sa(),new uq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wq.bind(null,t),r_:Eq.bind(null,t),ta:_q.bind(null,t),na:Sq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Kv(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(ac,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Z_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new Z_(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eS(t,e){if(Os("AsyncQueue",`${e}: ${t}`),Zu(t))return new Ne(be.UNAVAILABLE,`${e}: ${t}`);throw t}class Eu{static emptySet(e){return new Eu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Af(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class bC{constructor(){this.ga=new tn(Ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Du{constructor(e,n,r,i,s,l,u,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Du(e,n,Eu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Tq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Nq{constructor(){this.queries=xC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ke(n),s=i.queries;i.queries=xC(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Ne(be.ABORTED,"Firestore shutting down"))}}function xC(){return new gc((t=>ZM(t)),zv)}async function tS(t,e){const n=Ke(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Tq,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=eS(l,`Initialization of query '${du(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&rS(n)}async function nS(t,e){const n=Ke(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jq(t,e){const n=Ke(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&rS(n)}function Cq(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function rS(t){t.Ca.forEach((e=>{e.next()}))}var pw,wC;(wC=pw||(pw={})).Ma="default",wC.Cache="cache";class iS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pw.Cache}}class RD{constructor(e){this.key=e}}class kD{constructor(e){this.key=e}}class Oq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=eD(e),this.tu=new Eu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new bC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),_=Vv(this.query,g)?g:null,S=!!b&&this.mutatedKeys.has(b.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;b&&_?b.data.isEqual(_.data)?S!==E&&(r.track({type:3,doc:_}),A=!0):this.su(b,_)||(r.track({type:2,doc:_}),A=!0,(d&&this.eu(_,d)>0||m&&this.eu(_,m)<0)&&(u=!0)):!b&&_?(r.track({type:0,doc:_}),A=!0):b&&!_&&(r.track({type:1,doc:b}),A=!0,(d||m)&&(u=!0)),A&&(_?(l=l.add(_),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:A})}};return E(_)-E(S)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,m=d!==this.Za;return this.Za=d,l.length!==0||m?{snapshot:new Du(this.query,e.tu,s,l,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new kD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new RD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=st();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const aS="SyncEngine";class Iq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pq{constructor(e){this.key=e,this.hu=!1}}class Rq{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new gc((u=>ZM(u)),zv),this.Iu=new Map,this.Eu=new Set,this.du=new tn(Ue.comparator),this.Au=new Map,this.Ru=new H_,this.Vu={},this.mu=new Map,this.fu=Mu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kq(t,e,n=!0){const r=UD(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await MD(r,e,n,!0),i}async function Mq(t,e){const n=UD(t);await MD(n,e,!0,!1)}async function MD(t,e,n,r){const i=await tq(t.localStore,ka(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await Dq(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&ND(t.remoteStore,i),u}async function Dq(t,e,n,r,i){t.pu=(g,b,_)=>(async function(E,A,O,L){let V=A.view.ru(O);V.Cs&&(V=await hC(E.localStore,A.query,!1).then((({documents:j})=>A.view.ru(j,V))));const B=L&&L.targetChanges.get(A.targetId),$=L&&L.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(V,E.isPrimaryClient,B,$);return SC(E,A.targetId,z.au),z.snapshot})(t,g,b,_);const s=await hC(t.localStore,e,!0),l=new Oq(e,s.Qs),u=l.ru(s.documents),d=Eh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(u,t.isPrimaryClient,d);SC(t,n,m.au);const p=new Iq(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function Lq(t,e,n){const r=Ke(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!zv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W_(r.remoteStore,i.targetId),gw(r,i.targetId)})).catch(Ju)):(gw(r,i.targetId),await hw(r.localStore,i.targetId,!0))}async function zq(t,e){const n=Ke(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W_(n.remoteStore,r.targetId))}async function Vq(t,e,n){const r=Kq(t);try{const i=await(function(l,u){const d=Ke(l),m=Dt.now(),p=u.reduce(((_,S)=>_.add(S.key)),st());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=Is(),E=st();return d.Ns.getEntries(_,p).next((A=>{S=A,S.forEach(((O,L)=>{L.isValidDocument()||(E=E.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,S))).next((A=>{g=A;const O=[];for(const L of u){const V=e7(L,g.get(L.key).overlayedDocument);V!=null&&O.push(new cl(L.key,V,HM(V.value.mapValue),Ir.exists(!0)))}return d.mutationQueue.addMutationBatch(_,m,O,u)})).next((A=>{b=A;const O=A.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(_,A.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:nD(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let m=l.Vu[l.currentUser.toKey()];m||(m=new tn(at)),m=m.insert(u,d),l.Vu[l.currentUser.toKey()]=m})(r,i.batchId,n),await Th(r,i.changes),await Kv(r.remoteStore)}catch(i){const s=eS(i,"Failed to persist write");n.reject(s)}}async function DD(t,e){const n=Ke(t);try{const r=await J7(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?xt(l.hu,14607):i.removedDocuments.size>0&&(xt(l.hu,42227),l.hu=!1))})),await Th(n,r,e)}catch(r){await Ju(r)}}function _C(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Ke(l);d.onlineState=u;let m=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(m=!0)})),m&&rS(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Uq(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new tn(Ue.comparator);l=l.insert(s,vr.newNoDocument(s,Fe.min()));const u=st().add(s),d=new qv(Fe.min(),new Map,new tn(at),l,u);await DD(r,d),r.du=r.du.remove(s),r.Au.delete(e),sS(r)}else await hw(r.localStore,e,!1).then((()=>gw(r,e,n))).catch(Ju)}async function $q(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=await Q7(n.localStore,e);zD(n,r,null),LD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Th(n,i)}catch(i){await Ju(i)}}async function Bq(t,e,n){const r=Ke(t);try{const i=await(function(l,u){const d=Ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return d.mutationQueue.lookupMutationBatch(m,u).next((g=>(xt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(m,g)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>d.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);zD(r,e,n),LD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Th(r,i)}catch(i){await Ju(i)}}function LD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function zD(t,e,n){const r=Ke(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||VD(t,r)}))}function VD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(W_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),sS(t))}function SC(t,e,n){for(const r of n)r instanceof RD?(t.Ru.addReference(r.key,e),qq(t,r)):r instanceof kD?(Re(aS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||VD(t,r.key)):Be(19791,{wu:r})}function qq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(aS,"New document in limbo: "+n),t.Eu.add(r),sS(t))}function sS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ue($t.fromString(e)),r=t.fu.next();t.Au.set(r,new Pq(n)),t.du=t.du.insert(n,r),ND(t.remoteStore,new Bo(ka(Lv(n.path)),r,"TargetPurposeLimboResolution",kv.ce))}}async function Th(t,e,n){const r=Ke(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const p=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(m){i.push(m);const p=G_.As(d.targetId,m);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,m){const p=Ke(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>_e.forEach(m,(b=>_e.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(g,b.targetId,_))).next((()=>_e.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(g,b.targetId,_)))))))))}catch(g){if(!Zu(g))throw g;Re(Y_,"Failed to update sequence numbers: "+g)}for(const g of m){const b=g.targetId;if(!g.fromCache){const _=p.Ms.get(b),S=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(b,E)}}})(r.localStore,s))}async function Fq(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){Re(aS,"User change. New user:",e.toKey());const r=await SD(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new Ne(be.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Th(n,r.Ls)}}function Hq(t,e){const n=Ke(t),r=n.Au.get(e);if(r&&r.hu)return st().add(r.key);{let i=st();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function UD(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uq.bind(null,e),e.Pu.H_=jq.bind(null,e.eventManager),e.Pu.yu=Cq.bind(null,e.eventManager),e}function Kq(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$q.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bq.bind(null,e),e}class jg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return X7(this.persistence,new G7,e.initialUser,this.serializer)}Cu(e){return new _D(K_.mi,this.serializer)}Du(e){return new rq}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jg.provider={build:()=>new jg};class Gq extends jg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof Tg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new P7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new _D((r=>Tg.mi(r,n)),this.serializer)}}class vw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_C(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fq.bind(null,this.syncEngine),await Aq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Nq})()}createDatastore(e){const n=Fv(e.databaseInfo.databaseId),r=(function(s){return new lq(s)})(e.databaseInfo);return(function(s,l,u,d){return new fq(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new mq(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>_C(this.syncEngine,n,0)),(function(){return gC.v()?new gC:new iq})())}createSyncEngine(e,n){return(function(i,s,l,u,d,m,p){const g=new Rq(i,s,l,u,d,m);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ke(n);Re(ac,"RemoteStore shutting down."),r.Ea.add(5),await Ah(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vw.provider={build:()=>new vw};class oS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const nl="FirestoreClient";class Yq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=M_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Re(nl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Re(nl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ux(t,e){t.asyncQueue.verifyOperationInProgress(),Re(nl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await SD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function EC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wq(t);Re(nl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>yC(e.remoteStore,i))),t._onlineComponents=e}async function Wq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(nl,"Using user provided OfflineComponentProvider");try{await ux(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Iu("Error using user provided cache. Falling back to memory cache: "+n),await ux(t,new jg)}}else Re(nl,"Using default OfflineComponentProvider"),await ux(t,new Gq(void 0));return t._offlineComponents}async function $D(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(nl,"Using user provided OnlineComponentProvider"),await EC(t,t._uninitializedComponentsProvider._online)):(Re(nl,"Using default OnlineComponentProvider"),await EC(t,new vw))),t._onlineComponents}function Xq(t){return $D(t).then((e=>e.syncEngine))}async function Cg(t){const e=await $D(t),n=e.eventManager;return n.onListen=kq.bind(null,e.syncEngine),n.onUnlisten=Lq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Mq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zq.bind(null,e.syncEngine),n}function BD(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,m){const p=new oS({next:b=>{p.Nu(),l.enqueueAndForget((()=>nS(s,g)));const _=b.docs.has(u);!_&&b.fromCache?m.reject(new Ne(be.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&d&&d.source==="server"?m.reject(new Ne(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),g=new iS(Lv(u.path),p,{includeMetadataChanges:!0,qa:!0});return tS(s,g)})(await Cg(t),t.asyncQueue,e,n,r))),r.promise}function Qq(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,m){const p=new oS({next:b=>{p.Nu(),l.enqueueAndForget((()=>nS(s,g))),b.fromCache&&d.source==="server"?m.reject(new Ne(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),g=new iS(u,p,{includeMetadataChanges:!0,qa:!0});return tS(s,g)})(await Cg(t),t.asyncQueue,e,n,r))),r.promise}function qD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const AC=new Map;const FD="firestore.googleapis.com",TC=!0;class NC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FD,this.ssl=TC}else this.host=e.host,this.ssl=e.ssl??TC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O7)throw new Ne(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nB;switch(r.type){case"firstParty":return new sB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=AC.get(n);r&&(Re("ComponentProvider","Removing Datastore"),AC.delete(n),r.terminate())})(this),Promise.resolve()}}function Jq(t,e,n,r={}){t=lr(t,Gv);const i=Yu(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&($k(`https://${u}`),Bk("Firestore",!0)),s.host!==FD&&s.host!==u&&Iu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!tc(d,l)&&(t._setSettings(d),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=gr.MOCK_USER;else{m=A9(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ne(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new gr(g)}t._authCredentials=new rB(new RM(m,p))}}class Bs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_h(n,en._jsonSchema))return new en(e,r||null,new Ue($t.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:jn("string",en._jsonSchemaVersion),referencePath:jn("string")};class Wo extends Bs{constructor(e,n,r){super(e,n,Lv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Ue(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function yw(t,e,...n){if(t=Mn(t),kM("collection","path",e),t instanceof Gv){const r=$t.fromString(e,...n);return Uj(r),new Wo(t,null,r)}{if(!(t instanceof en||t instanceof Wo))throw new Ne(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return Uj(r),new Wo(t.firestore,null,r)}}function Pr(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=M_.newId()),kM("doc","path",e),t instanceof Gv){const r=$t.fromString(e,...n);return Vj(r),new en(t,null,new Ue(r))}{if(!(t instanceof en||t instanceof Wo))throw new Ne(be.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return Vj(r),new en(t.firestore,t instanceof Wo?t.converter:null,new Ue(r))}}const jC="AsyncQueue";class CC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AD(this,"async_queue_retry"),this._c=()=>{const r=cx();r&&Re(jC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zu(e))throw e;Re(jC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",OC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Z_.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:OC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function IC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class sa extends Gv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CC(e),this._firestoreClient=void 0,await e}}}function Zq(t,e){const n=typeof t=="object"?t:Kk(),r=typeof t=="string"?t:xg,i=A_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=S9("firestore");s&&Jq(i,...s)}return i}function nd(t){if(t._terminated)throw new Ne(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eF(t),t._firestoreClient}function eF(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new EB(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,qD(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Yq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Di(cr.fromBase64String(e))}catch(n){throw new Ne(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Di(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_h(e,Di._jsonSchema))return Di.fromBase64String(e.bytes)}}Di._jsonSchemaVersion="firestore/bytes/1.0",Di._jsonSchema={type:jn("string",Di._jsonSchemaVersion),bytes:jn("string")};class Nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yv{constructor(e){this._methodName=e}}class Da{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Da._jsonSchemaVersion}}static fromJSON(e){if(_h(e,Da._jsonSchema))return new Da(e.latitude,e.longitude)}}Da._jsonSchemaVersion="firestore/geoPoint/1.0",Da._jsonSchema={type:jn("string",Da._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};class La{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:La._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_h(e,La._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new La(e.vectorValues);throw new Ne(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}La._jsonSchemaVersion="firestore/vectorValue/1.0",La._jsonSchema={type:jn("string",La._jsonSchemaVersion),vectorValues:jn("object")};const tF=/^__.*__$/;class nF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sh(e,this.data,n,this.fieldTransforms)}}class HD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class lS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Og(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KD(this.Ac)&&tF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fv(e)}Cc(e,n,r,i=!1){return new lS({Ac:e,methodName:n,Dc:r,path:or.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jh(t){const e=t._freezeSettings(),n=Fv(t._databaseId);return new rF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);dS("Data must be an object, but it was:",l,r);const u=WD(r,l);let d,m;if(s.merge)d=new di(l.fieldMask),m=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=bw(e,g,n);if(!l.contains(b))throw new Ne(be.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);QD(p,b)||p.push(b)}d=new di(p),m=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,m=l.fieldTransforms;return new nF(new Gr(u),d,m)}class Wv extends Yv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wv}}class uS extends Yv{_toFieldTransform(e){return new XB(e.path,new Gf)}isEqual(e){return e instanceof uS}}function GD(t,e,n,r){const i=t.Cc(1,e,n);dS("Data must be an object, but it was:",i,r);const s=[],l=Gr.empty();ll(r,((d,m)=>{const p=fS(e,d,n);m=Mn(m);const g=i.yc(p);if(m instanceof Wv)s.push(p);else{const b=Ch(m,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new di(s);return new HD(l,u,i.fieldTransforms)}function YD(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[bw(e,r,n)],d=[i];if(s.length%2!=0)throw new Ne(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(bw(e,s[b])),d.push(s[b+1]);const m=[],p=Gr.empty();for(let b=u.length-1;b>=0;--b)if(!QD(m,u[b])){const _=u[b];let S=d[b];S=Mn(S);const E=l.yc(_);if(S instanceof Wv)m.push(_);else{const A=Ch(S,E);A!=null&&(m.push(_),p.set(_,A))}}const g=new di(m);return new HD(p,g,l.fieldTransforms)}function iF(t,e,n,r=!1){return Ch(n,t.Cc(r?4:3,e))}function Ch(t,e){if(XD(t=Mn(t)))return dS("Unsupported field value:",e,t),WD(t,e);if(t instanceof Yv)return(function(r,i){if(!KD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=Ch(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Dt.fromDate(r);return{timestampValue:Ag(i.serializer,s)}}if(r instanceof Dt){const s=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ag(i.serializer,s)}}if(r instanceof Da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Di)return{bytesValue:mD(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:F_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof La)return(function(l,u){return{mapValue:{fields:{[qM]:{stringValue:FM},[wg]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return $_(u.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Rv(r)}`)})(t,e)}function WD(t,e){const n={};return LM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(t,((r,i)=>{const s=Ch(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function XD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Da||t instanceof Di||t instanceof en||t instanceof Yv||t instanceof La)}function dS(t,e,n){if(!XD(n)||!MM(n)){const r=Rv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function bw(t,e,n){if((e=Mn(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return fS(t,e);throw Og("Field path arguments must be of type string or ",t,!1,void 0,n)}const aF=new RegExp("[~\\*/\\[\\]]");function fS(t,e,n){if(e.search(aF)>=0)throw Og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nh(...e.split("."))._internalPath}catch{throw Og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Og(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ne(be.INVALID_ARGUMENT,u+t+d)}function QD(t,e){return t.some((n=>n.isEqual(e)))}class JD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sF extends JD{data(){return super.data()}}function Xv(t,e){return typeof e=="string"?fS(t,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}function ZD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hS{}class mS extends hS{}function Xf(t,e,...n){let r=[];e instanceof hS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof pS)).length,u=s.filter((d=>d instanceof Qv)).length;if(l>1||l>0&&u>0)throw new Ne(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Qv extends mS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qv(e,n,r)}_apply(e){const n=this._parse(e);return t4(e._query,n),new Bs(e.firestore,e.converter,lw(e._query,n))}_parse(e){const n=jh(e.firestore);return(function(s,l,u,d,m,p,g){let b;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ne(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){RC(g,p);const S=[];for(const E of g)S.push(PC(d,s,E));b={arrayValue:{values:S}}}else b=PC(d,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||RC(g,p),b=iF(u,l,g,p==="in"||p==="not-in");return Nn.create(m,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gu(t,e,n){const r=e,i=Xv("where",t);return Qv._create(i,r,n)}class pS extends hS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:aa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)t4(l,d),l=lw(l,d)})(e._query,n),new Bs(e.firestore,e.converter,lw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gS extends mS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ne(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kf(s,l)})(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new ed(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Ig(t,e="asc"){const n=e,r=Xv("orderBy",t);return gS._create(r,n)}class vS extends mS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new vS(e,n,r)}_apply(e){return new Bs(e.firestore,e.converter,Sg(e._query,this._limit,this._limitType))}}function e4(t){return hB("limit",t),vS._create("limit",t,"F")}function PC(t,e,n){if(typeof(n=Mn(n))=="string"){if(n==="")throw new Ne(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JM(e)&&n.indexOf("/")!==-1)throw new Ne(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Ue.isDocumentKey(r))throw new Ne(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yj(t,new Ue(r))}if(n instanceof en)return Yj(t,n._key);throw new Ne(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rv(n)}.`)}function RC(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t4(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ne(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oF{convertValue(e,n="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ll(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[wg].arrayValue?.values?.map((r=>gn(r.doubleValue)));return new La(n)}convertGeoPoint(e){return new Da(gn(e.latitude),gn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){const n=Jo(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);xt(xD(r),9688,{name:e});const i=new Ff(r.get(1),r.get(3)),s=new Ue(r.popFirst(5));return i.isEqual(n)||Os(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function yS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Nf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gl extends JD{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gl._jsonSchema={type:jn("string",Gl._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class rg extends Gl{data(e={}){return super.data(e)}}class Yl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rg(this._firestore,this._userDataWriter,r.key,r,new Nf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new rg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Nf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new rg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Nf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:lF(u.type),doc:d,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=M_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}function pf(t){t=lr(t,en);const e=lr(t.firestore,sa);return BD(nd(e),t._key).then((n=>wS(e,t,n)))}Yl._jsonSchemaVersion="firestore/querySnapshot/1.0",Yl._jsonSchema={type:jn("string",Yl._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class bS extends oF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function kC(t){t=lr(t,en);const e=lr(t.firestore,sa);return BD(nd(e),t._key,{source:"server"}).then((n=>wS(e,t,n)))}function MC(t){t=lr(t,Bs);const e=lr(t.firestore,sa),n=nd(e),r=new bS(e);return ZD(t._query),Qq(n,t._query).then((i=>new Yl(e,r,t,i)))}function Pn(t,e,n){t=lr(t,en);const r=lr(t.firestore,sa),i=yS(t.converter,e,n);return Oh(r,[cS(jh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function Pg(t,e,n,...r){t=lr(t,en);const i=lr(t.firestore,sa),s=jh(i);let l;return l=typeof(e=Mn(e))=="string"||e instanceof Nh?YD(s,"updateDoc",t._key,e,n,r):GD(s,"updateDoc",t._key,e),Oh(i,[l.toMutation(t._key,Ir.exists(!0))])}function n4(t){return Oh(lr(t.firestore,sa),[new Bv(t._key,Ir.none())])}function xS(t,e){const n=lr(t.firestore,sa),r=Pr(t),i=yS(t.converter,e);return Oh(n,[cS(jh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function Hr(t,...e){t=Mn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,u;if(t instanceof en)l=lr(t.firestore,sa),u=Lv(t._key.path),s={next:d=>{e[r]&&e[r](wS(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=lr(t,Bs);l=lr(d.firestore,sa),u=d._query;const m=new bS(l);s={next:p=>{e[r]&&e[r](new Yl(l,m,d,p))},error:e[r+1],complete:e[r+2]},ZD(t._query)}return(function(m,p,g,b){const _=new oS(b),S=new iS(p,_,g);return m.asyncQueue.enqueueAndForget((async()=>tS(await Cg(m),S))),()=>{_.Nu(),m.asyncQueue.enqueueAndForget((async()=>nS(await Cg(m),S)))}})(nd(l),u,i,s)}function Oh(t,e){return(function(r,i){const s=new Ss;return r.asyncQueue.enqueueAndForget((async()=>Vq(await Xq(r),i,s))),s.promise})(nd(t),e)}function wS(t,e,n){const r=n.docs.get(e._key),i=new bS(t);return new Gl(t,i,e._key,r,new Nf(n.hasPendingWrites,n.fromCache),e.converter)}class cF{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jh(e)}set(e,n,r){this._verifyNotCommitted();const i=dx(e,this._firestore),s=yS(i.converter,n,r),l=cS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ir.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=dx(e,this._firestore);let l;return l=typeof(n=Mn(n))=="string"||n instanceof Nh?YD(this._dataReader,"WriteBatch.update",s._key,n,r,i):GD(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=dx(e,this._firestore);return this._mutations=this._mutations.concat(new Bv(n._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dx(t,e){if((t=Mn(t)).firestore!==e)throw new Ne(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function rd(){return new uS("serverTimestamp")}function uF(t){return nd(t=lr(t,sa)),new cF(t,(e=>Oh(t,e)))}(function(e,n=!0){(function(i){Qu=i})(Wu),Ou(new nc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new sa(new iB(r.getProvider("auth-internal")),new oB(l,r.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ff(m.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Go(Mj,Dj,e),Go(Mj,Dj,"esm2020")})();const dF={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},fF=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):dF,r4=Hk(fF),fx=eB(r4),vu=Zq(r4),hF=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",jf=hF.replace(/\//g,"_");function i4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=i4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=i4(t))&&(r&&(r+=" "),r+=e);return r}var mF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _S(t){if(typeof t!="string")return!1;var e=mF;return e.includes(t)}var pF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gF=new Set(pF);function a4(t){return typeof t!="string"?!1:gF.has(t)}function s4(t){return typeof t=="string"&&t.startsWith("data-")}function Rr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a4(n)||s4(n))&&(e[n]=t[n]);return e}function sc(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Rr(e)}return typeof t=="object"&&!Array.isArray(t)?Rr(t):null}function wr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a4(n)||s4(n)||_S(n))&&(e[n]=t[n]);return e}function vF(t){return t==null?null:w.isValidElement(t)?wr(t.props):typeof t=="object"&&!Array.isArray(t)?wr(t):null}var yF=["children","width","height","viewBox","className","style","title","desc"];function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(null,arguments)}function bF(t,e){if(t==null)return{};var n,r,i=xF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SS=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:m}=t,p=bF(t,yF),g=s||{width:r,height:i,x:0,y:0},b=dt("recharts-surface",l);return w.createElement("svg",xw({},wr(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,m),n)}),wF=["children","className"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(null,arguments)}function _F(t,e){if(t==null)return{};var n,r,i=SF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cn=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=_F(t,wF),s=dt("recharts-layer",r);return w.createElement("g",ww({className:s},wr(i),{ref:e}),n)}),ES=kk(),o4=w.createContext(null),EF=()=>w.useContext(o4);function Ut(t){return function(){return t}}const l4=Math.cos,Rg=Math.sin,la=Math.sqrt,kg=Math.PI,Jv=2*kg,_w=Math.PI,Sw=2*_w,Vl=1e-6,AF=Sw-Vl;function c4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function TF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return c4;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class NF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c4:TF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-e,m=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Vl)if(!(Math.abs(g*d-m*p)>Vl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,S=i-u,E=d*d+m*m,A=_*_+S*S,O=Math.sqrt(E),L=Math.sqrt(b),V=s*Math.tan((_w-Math.acos((E+b-A)/(2*O*L)))/2),B=V/L,$=V/O;Math.abs(B-1)>Vl&&this._append`L${e+B*p},${n+B*g}`,this._append`A${s},${s},0,0,${+(g*_>p*S)},${this._x1=e+$*d},${this._y1=n+$*m}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),m=e+u,p=n+d,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Vl||Math.abs(this._y1-p)>Vl)&&this._append`L${m},${p}`,r&&(b<0&&(b=b%Sw+Sw),b>AF?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=m},${this._y1=p}`:b>Vl&&this._append`A${r},${r},0,${+(b>=_w)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function AS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new NF(e)}function TS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function u4(t){this._context=t}u4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zv(t){return new u4(t)}function d4(t){return t[0]}function f4(t){return t[1]}function h4(t,e){var n=Ut(!0),r=null,i=Zv,s=null,l=AS(u);t=typeof t=="function"?t:t===void 0?d4:Ut(t),e=typeof e=="function"?e:e===void 0?f4:Ut(e);function u(d){var m,p=(d=TS(d)).length,g,b=!1,_;for(r==null&&(s=i(_=l())),m=0;m<=p;++m)!(m<p&&n(g=d[m],m,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,m,d),+e(g,m,d));if(_)return s=null,_+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ut(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ut(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Ut(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Op(t,e,n){var r=null,i=Ut(!0),s=null,l=Zv,u=null,d=AS(m);t=typeof t=="function"?t:t===void 0?d4:Ut(+t),e=typeof e=="function"?e:Ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?f4:Ut(+n);function m(g){var b,_,S,E=(g=TS(g)).length,A,O=!1,L,V=new Array(E),B=new Array(E);for(s==null&&(u=l(L=d())),b=0;b<=E;++b){if(!(b<E&&i(A=g[b],b,g))===O)if(O=!O)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=b-1;S>=_;--S)u.point(V[S],B[S]);u.lineEnd(),u.areaEnd()}O&&(V[b]=+t(A,b,g),B[b]=+e(A,b,g),u.point(r?+r(A,b,g):V[b],n?+n(A,b,g):B[b]))}if(L)return u=null,L+""||null}function p(){return h4().defined(i).curve(l).context(s)}return m.x=function(g){return arguments.length?(t=typeof g=="function"?g:Ut(+g),r=null,m):t},m.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Ut(+g),m):t},m.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ut(+g),m):r},m.y=function(g){return arguments.length?(e=typeof g=="function"?g:Ut(+g),n=null,m):e},m.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Ut(+g),m):e},m.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ut(+g),m):n},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(n)},m.lineX1=function(){return p().x(r).y(e)},m.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Ut(!!g),m):i},m.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),m):l},m.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),m):s},m}class m4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function jF(t){return new m4(t,!0)}function CF(t){return new m4(t,!1)}const NS={draw(t,e){const n=la(e/kg);t.moveTo(n,0),t.arc(0,0,n,0,Jv)}},OF={draw(t,e){const n=la(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},p4=la(1/3),IF=p4*2,PF={draw(t,e){const n=la(e/IF),r=n*p4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},RF={draw(t,e){const n=la(e),r=-n/2;t.rect(r,r,n,n)}},kF=.8908130915292852,g4=Rg(kg/10)/Rg(7*kg/10),MF=Rg(Jv/10)*g4,DF=-l4(Jv/10)*g4,LF={draw(t,e){const n=la(e*kF),r=MF*n,i=DF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Jv*s/5,u=l4(l),d=Rg(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},hx=la(3),zF={draw(t,e){const n=-la(e/(hx*3));t.moveTo(0,n*2),t.lineTo(-hx*n,-n),t.lineTo(hx*n,-n),t.closePath()}},Ii=-.5,Pi=la(3)/2,Ew=1/la(12),VF=(Ew/2+1)*3,UF={draw(t,e){const n=la(e/VF),r=n/2,i=n*Ew,s=r,l=n*Ew+n,u=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(Ii*r-Pi*i,Pi*r+Ii*i),t.lineTo(Ii*s-Pi*l,Pi*s+Ii*l),t.lineTo(Ii*u-Pi*d,Pi*u+Ii*d),t.lineTo(Ii*r+Pi*i,Ii*i-Pi*r),t.lineTo(Ii*s+Pi*l,Ii*l-Pi*s),t.lineTo(Ii*u+Pi*d,Ii*d-Pi*u),t.closePath()}};function $F(t,e){let n=null,r=AS(i);t=typeof t=="function"?t:Ut(t||NS),e=typeof e=="function"?e:Ut(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ut(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Mg(){}function Dg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function v4(t){this._context=t}v4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BF(t){return new v4(t)}function y4(t){this._context=t}y4.prototype={areaStart:Mg,areaEnd:Mg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qF(t){return new y4(t)}function b4(t){this._context=t}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FF(t){return new b4(t)}function x4(t){this._context=t}x4.prototype={areaStart:Mg,areaEnd:Mg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HF(t){return new x4(t)}function DC(t){return t<0?-1:1}function LC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(DC(s)+DC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function zC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mx(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function Lg(t){this._context=t}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mx(this,this._t0,zC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mx(this,zC(this,n=LC(this,t,e)),n);break;default:mx(this,this._t0,n=LC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function w4(t){this._context=new _4(t)}(w4.prototype=Object.create(Lg.prototype)).point=function(t,e){Lg.prototype.point.call(this,e,t)};function _4(t){this._context=t}_4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function KF(t){return new Lg(t)}function GF(t){return new w4(t)}function S4(t){this._context=t}S4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=VC(t),i=VC(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VC(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function YF(t){return new S4(t)}function e0(t,e){this._context=t,this._t=e}e0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function WF(t){return new e0(t,.5)}function XF(t){return new e0(t,0)}function QF(t){return new e0(t,1)}function oc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Aw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function JF(t,e){return t[e]}function ZF(t){const e=[];return e.key=t,e}function eH(){var t=Ut([]),e=Aw,n=oc,r=JF;function i(s){var l=Array.from(t.apply(this,arguments),ZF),u,d=l.length,m=-1,p;for(const g of s)for(u=0,++m;u<d;++u)(l[u][m]=[0,+r(g,l[u].key,m,s)]).data=g;for(u=0,p=TS(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ut(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Aw:typeof s=="function"?s:Ut(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??oc,i):n},i}function tH(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}oc(t,e)}}function nH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}oc(t,e)}}function rH(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,m=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,_=(g-b)/2,S=0;S<u;++S){var E=t[e[S]],A=E[r][1]||0,O=E[r-1][1]||0;_+=A-O}d+=g,m+=_*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=m/d)}i[r-1][1]+=i[r-1][0]=n,oc(t,e)}}var px={},gx={},UC;function iH(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(gx)),gx}var vx={},$C;function E4(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(vx)),vx}var yx={},BC;function jS(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(yx)),yx}var bx={},xx={},qC;function aH(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(xx)),xx}var FC;function CS(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aH(),n=jS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",m="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];m?g==="\\"&&u+1<l?(u++,d+=i[u]):g===m?m="":d+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}t.toPath=r})(bx)),bx}var HC;function OS(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iH(),n=E4(),r=jS(),i=CS();function s(u,d,m){if(u==null)return m;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return m;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),m):m:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?m:p}default:{if(Array.isArray(d))return l(u,d,m);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return m;const p=u[d];return p===void 0?m:p}}}function l(u,d,m){if(d.length===0)return m;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return m;p=p[d[g]]}return p===void 0?m:p}t.get=s})(px)),px}var wx,KC;function sH(){return KC||(KC=1,wx=OS().get),wx}var oH=sH();const lc=Us(oH);var lH=4;function qo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lH,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function on(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+qo(u)+s:i+s},"")}var Gn=t=>t===0?0:t>0?1:-1,Vi=t=>typeof t=="number"&&t!=+t,Ps=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!Vi(t),Ua=t=>Oe(t)||typeof t=="string",cH=0,Qf=t=>{var e=++cH;return"".concat(t||"").concat(e)},br=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var s;if(Ps(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Vi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},A4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function yt(t,e,n){return Oe(t)&&Oe(e)?qo(t+n*(e-t)):e}function T4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):lc(r,e))===n)}var Kt=t=>t===null||typeof t>"u",Ih=t=>Kt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function uH(t){return t!=null}function Ph(){}var dH=["type","size","sizeType"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(null,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){fH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fH(t,e,n){return(e=hH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hH(t){var e=mH(t,"string");return typeof e=="symbol"?e:e+""}function mH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pH(t,e){if(t==null)return{};var n,r,i=gH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N4={symbolCircle:NS,symbolCross:OF,symbolDiamond:PF,symbolSquare:RF,symbolStar:LF,symbolTriangle:zF,symbolWye:UF},vH=Math.PI/180,yH=t=>{var e="symbol".concat(Ih(t));return N4[e]||NS},bH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*vH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},xH=(t,e)=>{N4["symbol".concat(Ih(t))]=e},IS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=pH(t,dH),s=YC(YC({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=yH(l),_=$F().type(b).size(bH(n,r,l)),S=_();if(S!==null)return S},{className:d,cx:m,cy:p}=s,g=wr(s);return Oe(m)&&Oe(p)&&Oe(n)?w.createElement("path",Tw({},g,{className:dt("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(p,")"),d:u()})):null};IS.registerSymbol=xH;var j4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,PS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_S(i)&&(r[i]=(s=>n[i](n,s)))}),r},wH=(t,e,n)=>r=>(t(e,n,r),null),Rh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];_S(i)&&typeof s=="function"&&(r||(r={}),r[i]=wH(s,e,n))}),r};function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){SH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SH(t,e,n){return(e=EH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EH(t){var e=AH(t,"string");return typeof e=="symbol"?e:e+""}function AH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function un(t,e){var n=_H({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(null,arguments)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){NH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NH(t,e,n){return(e=jH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jH(t){var e=CH(t,"string");return typeof e=="symbol"?e:e+""}function CH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ki=32,OH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function IH(t){var{data:e,iconType:n,inactiveColor:r}=t,i=ki/2,s=ki/6,l=ki/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var m;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(m=e.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:ki,y2:i,className:"recharts-legend-icon"})}if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ki,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ki/8,"h").concat(ki,"v").concat(ki*3/4,"h").concat(-ki,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var p=TH({},e);return delete p.legendIcon,w.cloneElement(e.legendIcon,p)}return w.createElement(IS,{fill:u,cx:i,cy:i,size:ki,sizeType:"diameter",type:d})}function PH(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:ki,height:ki},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,_=dt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?s:p.color,E=b?b(p.value,p,g):p.value;return w.createElement("li",zg({className:_,style:d,key:"legend-item-".concat(g)},Rh(t,p,g)),w.createElement(SS,{width:n,height:n,viewBox:u,style:m,"aria-label":"".concat(E," legend icon")},w.createElement(IH,{data:p,iconType:l,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}var RH=t=>{var e=un(t,OH),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(PH,zg({},e,{payload:n})))},_x={},Sx={},QC;function kH(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Sx)),Sx}var Ex={},JC;function C4(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Ex)),Ex}var Ax={},Tx={},Nx={},ZC;function MH(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Nx)),Nx}var eO;function RS(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Tx)),Tx}var jx={},tO;function DH(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(jx)),jx}var nO;function LH(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RS(),n=DH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Ax)),Ax}var Cx={},Ox={},rO;function zH(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Ox)),Ox}var Ix={},Px={},Rx={},kx={},iO;function O4(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(kx)),kx}var Mx={},aO;function I4(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Mx)),Mx}var Dx={},sO;function P4(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Dx)),Dx}var oO;function VH(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O4(),n=I4(),r=P4();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function _(S,E,A,O,L,V){const B=b(S,E,A,O,L,V);return B!==void 0?!!B:s(S,E,_,V)},new Map)}function s(p,g,b,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,_);case"function":return Object.keys(g).length>0?s(p,{...g},b,_):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,_){if(g==null)return!0;if(Array.isArray(g))return d(p,g,b,_);if(g instanceof Map)return u(p,g,b,_);if(g instanceof Set)return m(p,g,b,_);const S=Object.keys(g);if(p==null||n.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let E=0;E<S.length;E++){const A=S[E];if(!n.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!b(p[A],g[A],A,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,b,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of g.entries()){const A=p.get(S);if(b(A,E,S,p,g,_)===!1)return!1}return!0}function d(p,g,b,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<g.length;E++){const A=g[E];let O=!1;for(let L=0;L<p.length;L++){if(S.has(L))continue;const V=p[L];let B=!1;if(b(V,A,E,p,g,_)&&(B=!0),B){S.add(L),O=!0;break}}if(!O)return!1}return!0}function m(p,g,b,_){return g.size===0?!0:p instanceof Set?d([...p],[...g],b,_):!1}t.isMatchWith=i,t.isSetMatch=m})(Rx)),Rx}var lO;function R4(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Px)),Px}var Lx={},zx={},Vx={},cO;function UH(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Vx)),Vx}var Ux={},uO;function k4(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Ux)),Ux}var $x={},dO;function M4(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",A="[object Uint8Array]",O="[object Uint8ClampedArray]",L="[object Uint16Array]",V="[object Uint32Array]",B="[object BigUint64Array]",$="[object Int8Array]",z="[object Int16Array]",j="[object Int32Array]",N="[object BigInt64Array]",M="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=M,t.float64ArrayTag=P,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=j,t.int8ArrayTag=$,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=m,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=L,t.uint32ArrayTag=V,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=O})($x)),$x}var Bx={},fO;function $H(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Bx)),Bx}var hO;function D4(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UH(),n=k4(),r=M4(),i=I4(),s=$H();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,_=new Map,S=void 0){const E=S?.(p,g,b,_);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const A=new Array(p.length);_.set(p,A);for(let O=0;O<p.length;O++)A[O]=u(p[O],O,b,_,S);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;_.set(p,A);for(const[O,L]of p)A.set(O,u(L,O,b,_,S));return A}if(p instanceof Set){const A=new Set;_.set(p,A);for(const O of p)A.add(u(O,void 0,b,_,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,A);for(let O=0;O<p.length;O++)A[O]=u(p[O],O,b,_,S);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,A),d(A,p,b,_,S),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return _.set(p,A),d(A,p,b,_,S),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof Error){const A=new p.constructor;return _.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,d(A,p,b,_,S),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof Number){const A=new Number(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof String){const A=new String(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(typeof p=="object"&&m(p)){const A=Object.create(Object.getPrototypeOf(p));return _.set(p,A),d(A,p,b,_,S),A}return p}function d(p,g,b=p,_,S){const E=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<E.length;A++){const O=E[A],L=Object.getOwnPropertyDescriptor(p,O);(L==null||L.writable)&&(p[O]=u(g[O],O,b,_,S))}}function m(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(zx)),zx}var mO;function BH(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Lx)),Lx}var pO;function qH(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R4(),n=BH();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Ix)),Ix}var qx={},Fx={},Hx={},gO;function FH(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4(),n=M4();function r(i,s){return e.cloneDeepWith(i,(l,u,d,m)=>{const p=s?.(l,u,d,m);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Hx)),Hx}var vO;function HH(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Fx)),Fx}var Kx={},Gx={},yO;function L4(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Gx)),Gx}var Yx={},bO;function KH(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Yx)),Yx}var xO;function GH(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E4(),n=L4(),r=KH(),i=CS();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let m=l;for(let p=0;p<d.length;p++){const g=d[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}t.has=s})(Kx)),Kx}var wO;function YH(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R4(),n=jS(),r=HH(),i=OS(),s=GH();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(m){const p=i.get(m,u);return p===void 0?s.has(m,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(qx)),qx}var _O;function WH(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4(),n=zH(),r=qH(),i=YH();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Cx)),Cx}var SO;function XH(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kH(),n=C4(),r=LH(),i=WH();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(_x)),_x}var Wx,EO;function QH(){return EO||(EO=1,Wx=XH().uniqBy),Wx}var JH=QH();const AO=Us(JH);function z4(t,e,n){return e===!0?AO(t,n):typeof e=="function"?AO(t,e):t}var Xx={exports:{}},Qx={},Jx={exports:{}},Zx={};var TO;function ZH(){if(TO)return Zx;TO=1;var t=Gu();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),E=S[0].inst,A=S[1];return s(function(){E.value=_,E.getSnapshot=b,d(E)&&A({inst:E})},[g,_,b]),i(function(){return d(E)&&A({inst:E}),g(function(){d(E)&&A({inst:E})})},[g]),l(_),_}function d(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function m(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Zx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Zx}var NO;function eK(){return NO||(NO=1,Jx.exports=ZH()),Jx.exports}var jO;function tK(){if(jO)return Qx;jO=1;var t=Gu(),e=eK();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Qx.useSyncExternalStoreWithSelector=function(m,p,g,b,_){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function O(z){if(!L){if(L=!0,V=z,z=b(z),_!==void 0&&E.hasValue){var j=E.value;if(_(j,z))return B=j}return B=z}if(j=B,r(V,z))return j;var N=b(z);return _!==void 0&&_(j,N)?(V=z,j):(V=z,B=N)}var L=!1,V,B,$=g===void 0?null:g;return[function(){return O(p())},$===null?void 0:function(){return O($())}]},[p,g,b,_]);var A=i(m,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},Qx}var CO;function nK(){return CO||(CO=1,Xx.exports=tK()),Xx.exports}var rK=nK(),kS=w.createContext(null),iK=t=>t,Bt=()=>{var t=w.useContext(kS);return t?t.store.dispatch:iK},ig=()=>{},aK=()=>ig,sK=(t,e)=>t===e;function De(t){var e=w.useContext(kS);return rK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:aK,e?e.store.getState:ig,e?e.store.getState:ig,e?t:ig,sK)}function oK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function lK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function cK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var OO=t=>Array.isArray(t)?t:[t];function uK(t){const e=Array.isArray(t[0])?t[0]:t;return cK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function dK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var fK=class{constructor(t){this.value=t}deref(){return this.value}},hK=typeof WeakRef<"u"?WeakRef:fK,mK=0,IO=1;function Ip(){return{s:mK,v:void 0,o:null,p:null}}function V4(t,e={}){let n=Ip();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const E=S.get(_);E===void 0?(u=Ip(),S.set(_,u)):u=E}else{let S=u.p;S===null&&(u.p=S=new Map);const E=S.get(_);E===void 0?(u=Ip(),S.set(_,u)):u=E}}const m=u;let p;if(u.s===IO)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new hK(p):p}return m.s=IO,m.v=p,p}return l.clearCache=()=>{n=Ip(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function pK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,d={},m=i.pop();typeof m=="object"&&(d=m,m=i.pop()),oK(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:_=V4,argsMemoizeOptions:S=[]}=p,E=OO(b),A=OO(S),O=uK(i),L=g(function(){return s++,m.apply(null,arguments)},...E),V=_(function(){l++;const $=dK(O,arguments);return u=L.apply(null,$),u},...A);return Object.assign(V,{resultFunc:m,memoizedResultFunc:L,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var le=pK(V4),gK=Object.assign((t,e=le)=>{lK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>gK}),e1={},t1={},n1={},PO;function vK(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(n1)),n1}var r1={},i1={},RO;function U4(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(i1)),i1}var kO;function yK(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(r1)),r1}var MO;function bK(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vK(),n=yK(),r=CS();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const m=(_,S)=>{let E=_;for(let A=0;A<S.length&&E!=null;++A)E=E[S[A]];return E},p=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:m(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?m(S,_):typeof S=="object"?S[_]:S,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(S=>p(S,_))})).slice().sort((_,S)=>{for(let E=0;E<g.length;E++){const A=e.compareValues(_.criteria[E],S.criteria[E],u[E]);if(A!==0)return A}return 0}).map(_=>_.original)}t.orderBy=i})(t1)),t1}var a1={},DO;function xK(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let m=0;m<u.length;m++){const p=u[m];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(a1)),a1}var s1={},LO;function $4(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L4(),n=RS(),r=O4(),i=P4();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=s})(s1)),s1}var zO;function wK(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bK(),n=xK(),r=$4();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(e1)),e1}var o1,VO;function _K(){return VO||(VO=1,o1=wK().sortBy),o1}var SK=_K();const t0=Us(SK);var B4=t=>t.legend.settings,EK=t=>t.legend.size,AK=t=>t.legend.payload,TK=le([AK,B4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?t0(r,n):r});function NK(){return De(TK)}var Pp=1;function q4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Pp||Math.abs(l.left-e.left)>Pp||Math.abs(l.top-e.top)>Pp||Math.abs(l.width-e.width)>Pp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function nr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jK=typeof Symbol=="function"&&Symbol.observable||"@@observable",UO=jK,l1=()=>Math.random().toString(36).substring(7).split("").join("."),CK={INIT:`@@redux/INIT${l1()}`,REPLACE:`@@redux/REPLACE${l1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${l1()}`},Vg=CK;function MS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function F4(t,e,n){if(typeof t!="function")throw new Error(nr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nr(1));return n(F4)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,d=!1;function m(){l===s&&(l=new Map,s.forEach((A,O)=>{l.set(O,A)}))}function p(){if(d)throw new Error(nr(3));return i}function g(A){if(typeof A!="function")throw new Error(nr(4));if(d)throw new Error(nr(5));let O=!0;m();const L=u++;return l.set(L,A),function(){if(O){if(d)throw new Error(nr(6));O=!1,m(),l.delete(L),s=null}}}function b(A){if(!MS(A))throw new Error(nr(7));if(typeof A.type>"u")throw new Error(nr(8));if(typeof A.type!="string")throw new Error(nr(17));if(d)throw new Error(nr(9));try{d=!0,i=r(i,A)}finally{d=!1}return(s=l).forEach(L=>{L()}),A}function _(A){if(typeof A!="function")throw new Error(nr(10));r=A,b({type:Vg.REPLACE})}function S(){const A=g;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(nr(11));function L(){const B=O;B.next&&B.next(p())}return L(),{unsubscribe:A(L)}},[UO](){return this}}}return b({type:Vg.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:_,[UO]:S}}function OK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Vg.INIT})>"u")throw new Error(nr(12));if(typeof n(void 0,{type:Vg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function H4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{OK(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const m={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],_=l[g],S=b(_,u);if(typeof S>"u")throw u&&u.type,new Error(nr(14));m[g]=S,d=d||S!==_}return d=d||r.length!==Object.keys(l).length,d?m:l}}function Ug(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function IK(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(nr(15))};const l={getState:i.getState,dispatch:(d,...m)=>s(d,...m)},u=t.map(d=>d(l));return s=Ug(...u)(i.dispatch),{...i,dispatch:s}}}function K4(t){return MS(t)&&"type"in t&&typeof t.type=="string"}var G4=Symbol.for("immer-nothing"),$O=Symbol.for("immer-draftable"),kr=Symbol.for("immer-state");function Zi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fi=Object,Lu=fi.getPrototypeOf,$g="constructor",n0="prototype",Nw="configurable",Bg="enumerable",ag="writable",Jf="value",Rs=t=>!!t&&!!t[kr];function oa(t){return t?Y4(t)||i0(t)||!!t[$O]||!!t[$g]?.[$O]||a0(t)||s0(t):!1}var PK=fi[n0][$g].toString(),BO=new WeakMap;function Y4(t){if(!t||!DS(t))return!1;const e=Lu(t);if(e===null||e===fi[n0])return!0;const n=fi.hasOwnProperty.call(e,$g)&&e[$g];if(n===Object)return!0;if(!mu(n))return!1;let r=BO.get(n);return r===void 0&&(r=Function.toString.call(n),BO.set(n,r)),r===PK}function r0(t,e,n=!0){kh(t)===0?(n?Reflect.ownKeys(t):fi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function kh(t){const e=t[kr];return e?e.type_:i0(t)?1:a0(t)?2:s0(t)?3:0}var qO=(t,e,n=kh(t))=>n===2?t.has(e):fi[n0].hasOwnProperty.call(t,e),jw=(t,e,n=kh(t))=>n===2?t.get(e):t[e],qg=(t,e,n,r=kh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function RK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var i0=Array.isArray,a0=t=>t instanceof Map,s0=t=>t instanceof Set,DS=t=>typeof t=="object",mu=t=>typeof t=="function",c1=t=>typeof t=="boolean";function kK(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ps=t=>t.copy_||t.base_,LS=t=>t.modified_?t.copy_:t.base_;function Cw(t,e){if(a0(t))return new Map(t);if(s0(t))return new Set(t);if(i0(t))return Array[n0].slice.call(t);const n=Y4(t);if(e===!0||e==="class_only"&&!n){const r=fi.getOwnPropertyDescriptors(t);delete r[kr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[ag]===!1&&(u[ag]=!0,u[Nw]=!0),(u.get||u.set)&&(r[l]={[Nw]:!0,[ag]:!0,[Bg]:u[Bg],[Jf]:t[l]})}return fi.create(Lu(t),r)}else{const r=Lu(t);if(r!==null&&n)return{...t};const i=fi.create(r);return fi.assign(i,t)}}function zS(t,e=!1){return o0(t)||Rs(t)||!oa(t)||(kh(t)>1&&fi.defineProperties(t,{set:Rp,add:Rp,clear:Rp,delete:Rp}),fi.freeze(t),e&&r0(t,(n,r)=>{zS(r,!0)},!1)),t}function MK(){Zi(2)}var Rp={[Jf]:MK};function o0(t){return t===null||!DS(t)?!0:fi.isFrozen(t)}var Fg="MapSet",Ow="Patches",FO="ArrayMethods",W4={};function cc(t){const e=W4[t];return e||Zi(0,t),e}var HO=t=>!!W4[t],Zf,X4=()=>Zf,DK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:HO(Fg)?cc(Fg):void 0,arrayMethodsPlugin_:HO(FO)?cc(FO):void 0});function KO(t,e){e&&(t.patchPlugin_=cc(Ow),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Iw(t){Pw(t),t.drafts_.forEach(LK),t.drafts_=null}function Pw(t){t===Zf&&(Zf=t.parent_)}var GO=t=>Zf=DK(Zf,t);function LK(t){const e=t[kr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function YO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[kr].modified_&&(Iw(e),Zi(4)),oa(t)&&(t=WO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[kr].base_,t,e)}else t=WO(e,n);return zK(e,t,!0),Iw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==G4?t:void 0}function WO(t,e){if(o0(e))return e;const n=e[kr];if(!n)return Hg(e,t.handledSet_,t);if(!l0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Z4(n,t)}return n.copy_}function zK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zS(e,n)}function Q4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var l0=(t,e)=>t.scope_===e,VK=[];function J4(t,e,n,r){const i=ps(t),s=t.type_;if(r!==void 0&&jw(i,r,s)===e){qg(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;r0(i,(d,m)=>{if(Rs(m)){const p=u.get(m)||[];p.push(d),u.set(m,p)}})}const l=t.draftLocations_.get(e)??VK;for(const u of l)qg(i,u,n,s)}function UK(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!l0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=LS(s);J4(t,s.draft_??s,l,n),Z4(s,i)})}function Z4(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}Q4(t)}}function $K(t,e,n){const{scope_:r}=t;if(Rs(n)){const i=n[kr];l0(i,r)&&i.callbacks_.push(function(){sg(t);const l=LS(i);J4(t,n,l,e)})}else oa(n)&&t.callbacks_.push(function(){const s=ps(t);t.type_===3?s.has(n)&&Hg(n,r.handledSet_,r):jw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Hg(jw(t.copy_,e,t.type_),r.handledSet_,r)})}function Hg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Rs(t)||e.has(t)||!oa(t)||o0(t)||(e.add(t),r0(t,(r,i)=>{if(Rs(i)){const s=i[kr];if(l0(s,n)){const l=LS(s);qg(t,r,l,t.type_),Q4(s)}}else oa(i)&&Hg(i,e,n)})),t}function BK(t,e){const n=i0(t),r={type_:n?1:0,scope_:e?e.scope_:X4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Kg;n&&(i=[r],s=eh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var Kg={get(t,e){if(e===kr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ps(t);if(!qO(i,e,t.type_))return qK(t,i,e);const s=i[e];if(t.finalized_||!oa(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&kK(e))return s;if(s===u1(t.base_,e)){sg(t);const l=t.type_===1?+e:e,u=kw(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in ps(t)},ownKeys(t){return Reflect.ownKeys(ps(t))},set(t,e,n){const r=e5(ps(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=u1(ps(t),e),s=i?.[kr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(RK(n,i)&&(n!==void 0||qO(t.base_,e,t.type_)))return!0;sg(t),Rw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),$K(t,e,n)),!0},deleteProperty(t,e){return sg(t),u1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Rw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ps(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[ag]:!0,[Nw]:t.type_!==1||e!=="length",[Bg]:r[Bg],[Jf]:n[e]}},defineProperty(){Zi(11)},getPrototypeOf(t){return Lu(t.base_)},setPrototypeOf(){Zi(12)}},eh={};for(let t in Kg){let e=Kg[t];eh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}eh.deleteProperty=function(t,e){return eh.set.call(this,t,e,void 0)};eh.set=function(t,e,n){return Kg.set.call(this,t[0],e,n,t[0])};function u1(t,e){const n=t[kr];return(n?ps(n):t)[e]}function qK(t,e,n){const r=e5(e,n);return r?Jf in r?r[Jf]:r.get?.call(t.draft_):void 0}function e5(t,e){if(!(e in t))return;let n=Lu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lu(n)}}function Rw(t){t.modified_||(t.modified_=!0,t.parent_&&Rw(t.parent_))}function sg(t){t.copy_||(t.assigned_=new Map,t.copy_=Cw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var FK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(mu(n)&&!mu(r)){const l=r;r=n;const u=this;return function(m=l,...p){return u.produce(m,g=>r.call(this,g,...p))}}mu(r)||Zi(6),i!==void 0&&!mu(i)&&Zi(7);let s;if(oa(n)){const l=GO(this),u=kw(l,n,void 0);let d=!0;try{s=r(u),d=!1}finally{d?Iw(l):Pw(l)}return KO(l,i),YO(s,l)}else if(!n||!DS(n)){if(s=r(n),s===void 0&&(s=n),s===G4&&(s=void 0),this.autoFreeze_&&zS(s,!0),i){const l=[],u=[];cc(Ow).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else Zi(1,n)},this.produceWithPatches=(n,r)=>{if(mu(n))return(u,...d)=>this.produceWithPatches(u,m=>n(m,...d));let i,s;return[this.produce(n,r,(u,d)=>{i=u,s=d}),i,s]},c1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),c1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),c1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){oa(e)||Zi(8),Rs(e)&&(e=ia(e));const n=GO(this),r=kw(n,e,void 0);return r[kr].isManual_=!0,Pw(n),r}finishDraft(e,n){const r=e&&e[kr];(!r||!r.isManual_)&&Zi(9);const{scope_:i}=r;return KO(i,n),YO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=cc(Ow).applyPatches_;return Rs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function kw(t,e,n,r){const[i,s]=a0(e)?cc(Fg).proxyMap_(e,n):s0(e)?cc(Fg).proxySet_(e,n):BK(e,n);return(n?.scope_??X4()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?UK(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=d;s.modified_&&m&&m.generatePatches_(s,[],d)}),i}function ia(t){return Rs(t)||Zi(10,t),t5(t)}function t5(t){if(!oa(t)||o0(t))return t;const e=t[kr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Cw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Cw(t,!0);return r0(n,(i,s)=>{qg(n,i,t5(s))},r),e&&(e.finalized_=!1),n}var HK=new FK,n5=HK.produce;function r5(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var KK=r5(),GK=r5,YK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ug:Ug.apply(null,arguments)};function Ui(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(hi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>K4(r)&&r.type===t,n}var i5=class Cf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cf.prototype)}static get[Symbol.species](){return Cf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cf(...e[0].concat(this)):new Cf(...e.concat(this))}};function XO(t){return oa(t)?n5(t,()=>{}):t}function kp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function WK(t){return typeof t=="boolean"}var XK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new i5;return n&&(WK(n)?l.push(KK):l.push(GK(n.extraArgument))),l},a5="RTK_autoBatch",Xt=()=>t=>({payload:t,meta:{[a5]:!0}}),QO=t=>e=>{setTimeout(e,t)},s5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:QO(10):t.type==="callback"?t.queueNotification:QO(t.timeout),m=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[a5],s=!i,s&&(l||(l=!0,d(m))),r.dispatch(p)}finally{i=!0}}})},QK=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new i5(t);return r&&i.push(s5(typeof r=="object"?r:void 0)),i};function JK(t){const e=XK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(MS(n))u=H4(n);else throw new Error(hi(1));let d;typeof r=="function"?d=r(e):d=e();let m=Ug;i&&(m=YK({trace:!1,...typeof i=="object"&&i}));const p=IK(...d),g=QK(p);let b=typeof l=="function"?l(g):g();const _=m(...b);return F4(u,s,_)}function o5(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(hi(28));if(u in e)throw new Error(hi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function ZK(t){return typeof t=="function"}function eG(t,e){let[n,r,i]=o5(e),s;if(ZK(t))s=()=>XO(t());else{const u=XO(t);s=()=>u}function l(u=s(),d){let m=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[i]),m.reduce((p,g)=>{if(g)if(Rs(p)){const _=g(p,d);return _===void 0?p:_}else{if(oa(p))return n5(p,b=>g(b,d));{const b=g(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var tG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nG=(t=21)=>{let e="",n=t;for(;n--;)e+=tG[Math.random()*64|0];return e},rG=Symbol.for("rtk-slice-createasyncthunk");function iG(t,e){return`${t}/${e}`}function aG({creators:t}={}){const e=t?.asyncThunk?.[rG];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(hi(11));const l=(typeof r.reducers=="function"?r.reducers(oG()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(V,B){const $=typeof V=="string"?V:V.type;if(!$)throw new Error(hi(12));if($ in d.sliceCaseReducersByType)throw new Error(hi(13));return d.sliceCaseReducersByType[$]=B,m},addMatcher(V,B){return d.sliceMatchers.push({matcher:V,reducer:B}),m},exposeAction(V,B){return d.actionCreators[V]=B,m},exposeCaseReducer(V,B){return d.sliceCaseReducersByName[V]=B,m}};u.forEach(V=>{const B=l[V],$={reducerName:V,type:iG(i,V),createNotation:typeof r.reducers=="function"};cG(B)?dG($,B,m,e):lG($,B,m)});function p(){const[V={},B=[],$=void 0]=typeof r.extraReducers=="function"?o5(r.extraReducers):[r.extraReducers],z={...V,...d.sliceCaseReducersByType};return eG(r.initialState,j=>{for(let N in z)j.addCase(N,z[N]);for(let N of d.sliceMatchers)j.addMatcher(N.matcher,N.reducer);for(let N of B)j.addMatcher(N.matcher,N.reducer);$&&j.addDefaultCase($)})}const g=V=>V,b=new Map,_=new WeakMap;let S;function E(V,B){return S||(S=p()),S(V,B)}function A(){return S||(S=p()),S.getInitialState()}function O(V,B=!1){function $(j){let N=j[V];return typeof N>"u"&&B&&(N=kp(_,$,A)),N}function z(j=g){const N=kp(b,B,()=>new WeakMap);return kp(N,j,()=>{const M={};for(const[P,I]of Object.entries(r.selectors??{}))M[P]=sG(I,j,()=>kp(_,j,A),B);return M})}return{reducerPath:V,getSelectors:z,get selectors(){return z($)},selectSlice:$}}const L={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:A,...O(s),injectInto(V,{reducerPath:B,...$}={}){const z=B??s;return V.inject({reducerPath:z,reducer:E},$),{...L,...O(z,!0)}}};return L}}function sG(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var Xr=aG();function oG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!uG(r))throw new Error(hi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Ui(t,l):Ui(t))}function cG(t){return t._reducerDefinitionType==="asyncThunk"}function uG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function dG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(hi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:m,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),m&&r.addMatcher(g.settled,m),r.exposeCaseReducer(e,{fulfilled:l||Mp,pending:u||Mp,rejected:d||Mp,settled:m||Mp})}function Mp(){}var fG="task",l5="listener",c5="completed",VS="cancelled",hG=`task-${VS}`,mG=`task-${c5}`,Mw=`${l5}-${VS}`,pG=`${l5}-${c5}`,c0=class{constructor(t){this.code=t,this.message=`${fG} ${VS} (reason: ${t})`}name="TaskAbortError";message},US=(t,e)=>{if(typeof t!="function")throw new TypeError(hi(32))},Gg=()=>{},u5=(t,e=Gg)=>(t.catch(e),t),d5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Wl=t=>{if(t.aborted)throw new c0(t.reason)};function f5(t,e){let n=Gg;return new Promise((r,i)=>{const s=()=>i(new c0(t.reason));if(t.aborted){s();return}n=d5(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Gg})}var gG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof c0?"cancelled":"rejected",error:n}}finally{e?.()}},Yg=t=>e=>u5(f5(t,e).then(n=>(Wl(t),n))),h5=t=>{const e=Yg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Au}=Object,JO={},u0="listenerMiddleware",vG=(t,e)=>{const n=r=>d5(t,()=>r.abort(t.reason));return(r,i)=>{US(r);const s=new AbortController;n(s);const l=gG(async()=>{Wl(t),Wl(s.signal);const u=await r({pause:Yg(s.signal),delay:h5(s.signal),signal:s.signal});return Wl(s.signal),u},()=>s.abort(mG));return i?.autoJoin&&e.push(l.catch(Gg)),{result:Yg(t)(l),cancel(){s.abort(hG)}}}},yG=(t,e)=>{const n=async(r,i)=>{Wl(e);let s=()=>{};const u=[new Promise((d,m)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),m()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await f5(e,Promise.race(u));return Wl(e),d}finally{s()}};return(r,i)=>u5(n(r,i))},m5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ui(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(hi(21));return US(s),{predicate:i,type:e,effect:s}},p5=Au(t=>{const{type:e,predicate:n,effect:r}=m5(t);return{id:nG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(hi(22))}}},{withTypes:()=>p5}),ZO=(t,e)=>{const{type:n,effect:r,predicate:i}=m5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Dw=t=>{t.pending.forEach(e=>{e.abort(Mw)})},bG=(t,e)=>()=>{for(const n of e.keys())Dw(n);t.clear()},eI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},g5=Au(Ui(`${u0}/add`),{withTypes:()=>g5}),xG=Ui(`${u0}/removeAll`),v5=Au(Ui(`${u0}/remove`),{withTypes:()=>v5}),wG=(...t)=>{console.error(`${u0}/error`,...t)},Mh=(t={})=>{const e=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:s,onError:l=wG}=t;US(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),S=>{_.unsubscribe(),S?.cancelActive&&Dw(_)}),d=_=>{const S=ZO(e,_)??p5(_);return u(S)};Au(d,{withTypes:()=>d});const m=_=>{const S=ZO(e,_);return S&&(S.unsubscribe(),_.cancelActive&&Dw(S)),!!S};Au(m,{withTypes:()=>m});const p=async(_,S,E,A)=>{const O=new AbortController,L=yG(d,O.signal),V=[];try{_.pending.add(O),r(_),await Promise.resolve(_.effect(S,Au({},E,{getOriginalState:A,condition:(B,$)=>L(B,$).then(Boolean),take:L,delay:h5(O.signal),pause:Yg(O.signal),extra:s,signal:O.signal,fork:vG(O.signal,V),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((B,$,z)=>{B!==O&&(B.abort(Mw),z.delete(B))})},cancel:()=>{O.abort(Mw),_.pending.delete(O)},throwIfCancelled:()=>{Wl(O.signal)}})))}catch(B){B instanceof c0||eI(l,B,{raisedBy:"effect"})}finally{await Promise.all(V),O.abort(pG),i(_),_.pending.delete(O)}},g=bG(e,n);return{middleware:_=>S=>E=>{if(!K4(E))return S(E);if(g5.match(E))return d(E.payload);if(xG.match(E)){g();return}if(v5.match(E))return m(E.payload);let A=_.getState();const O=()=>{if(A===JO)throw new Error(hi(23));return A};let L;try{if(L=S(E),e.size>0){const V=_.getState(),B=Array.from(e.values());for(const $ of B){let z=!1;try{z=$.predicate(E,V,A)}catch(j){z=!1,eI(l,j,{raisedBy:"predicate"})}z&&p($,E,_,O)}}}finally{A=JO}return L},startListening:d,stopListening:m,clearListeners:g}};function hi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _G={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},y5=Xr({name:"chartLayout",initialState:_G,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:SG,setLayout:EG,setChartSize:AG,setScale:TG}=y5.actions,NG=y5.reducer;function b5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function zt(t){return Number.isFinite(t)}function $a(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){jG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jG(t,e,n){return(e=CG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CG(t){var e=OG(t,"string");return typeof e=="symbol"?e:e+""}function OG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bt(t,e,n){return Kt(t)||Kt(e)?n:Ua(e)?lc(t,e,n):typeof e=="function"?e(t):n}var IG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Oe(t[s]))return yu(yu({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Oe(t[l]))return yu(yu({},t),{},{[l]:t[l]+(i||0)})}return t},Ha=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",x5=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},w5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:b,axisType:_}=t;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=_==="angleAxis"&&s&&s.length>=2?Gn(s[0]-s[1])*2*E:E,g||b){var A=(g||b||[]).map((O,L)=>{var V=r?r.indexOf(O):O;return{coordinate:l(V)+E,value:O,offset:E,index:L}});return A.filter(O=>!Vi(O.coordinate))}return d&&m?m.map((O,L)=>({coordinate:l(O)+E,value:O,index:L,offset:E})):l.ticks&&p!=null?l.ticks(p).map((O,L)=>({coordinate:l(O)+E,value:O,offset:E,index:L})):l.domain().map((O,L)=>({coordinate:l(O)+E,value:r?r[O]:O,index:L,offset:E}))},nI=1e-4,PG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-nI,s=Math.max(r[0],r[1])+nI,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},RG=(t,e)=>{if(!e||e.length!==2||!Oe(e[0])||!Oe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(i[0]=n),(!Oe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},kG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var d=t[u],m=d?.[i];if(m!=null){var p=m[1],g=m[0],b=Vi(p)?g:p;b>=0?(m[0]=s,m[1]=s+b,s=p):(m[0]=l,m[1]=l+b,l=p)}}}},MG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],d=u?.[i];if(d!=null){var m=Vi(d[1])?d[0]:d[1];m>=0?(d[0]=s,d[1]=s+m,s=d[1]):(d[0]=0,d[1]=0)}}}},DG={sign:kG,expand:tH,none:oc,silhouette:nH,wiggle:rH,positive:MG},LG=(t,e,n)=>{var r,i=(r=DG[n])!==null&&r!==void 0?r:oc,s=eH().keys(e).value((u,d)=>Number(bt(u,d,0))).order(Aw).offset(i),l=s(t);return l.forEach((u,d)=>{u.forEach((m,p)=>{var g=bt(t[p],e[d],0);Array.isArray(g)&&g.length===2&&Oe(g[0])&&Oe(g[1])&&(m[0]=g[0],m[1]=g[1])})}),l};function _5(t){return t==null?void 0:String(t)}function Wg(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Kt(i[e.dataKey])){var u=T4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=bt(i,Kt(l)?e.dataKey:l);return Kt(d)?null:e.scale(d)}var rI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=bt(s,e.dataKey,e.scale.domain()[l]);return Kt(u)?null:e.scale(u)-i/2+r},zG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},VG=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},UG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],$G=(t,e,n)=>{if(t!=null)return UG(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((d,m)=>{var p=b5(m,e,n),g=VG(p);return!zt(g[0])||!zt(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},iI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=t0(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],m=i[l-1];s=Math.min((d?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function sI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return yu(yu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function ul(t,e){if(t)return String(t);if(typeof e=="string")return e}var BG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},qG=(t,e)=>e==="centric"?t.angle:t.radius,qs=t=>t.layout.width,Fs=t=>t.layout.height,FG=t=>t.layout.scale,S5=t=>t.layout.margin,d0=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),f0=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),E5="data-recharts-item-index",A5="data-recharts-item-id",Dh=60;function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){HG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HG(t,e,n){return(e=KG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KG(t){var e=GG(t,"string");return typeof e=="symbol"?e:e+""}function GG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YG=t=>t.brush.height;function WG(t){var e=f0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dh;return n+i}return n},0)}function XG(t){var e=f0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dh;return n+i}return n},0)}function QG(t){var e=d0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function JG(t){var e=d0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Dn=le([qs,Fs,S5,YG,WG,XG,QG,JG,B4,EK],(t,e,n,r,i,s,l,u,d,m)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Dp(Dp({},g),p),_=b.bottom;b.bottom+=r,b=IG(b,d,m);var S=t-b.left-b.right,E=e-b.top-b.bottom;return Dp(Dp({brushBottom:_},b),{},{width:Math.max(S,0),height:Math.max(E,0)})}),ZG=le(Dn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),$S=le(qs,Fs,(t,e)=>({x:0,y:0,width:t,height:e})),eY=w.createContext(null),Yn=()=>w.useContext(eY)!=null,h0=t=>t.brush,m0=le([h0,Dn,S5],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),d1={},f1={},h1={},lI;function tY(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{m&&p(),E()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{S(),l=void 0,u=null},A=()=>{p()},O=function(...L){if(i?.aborted)return;l=this,u=L;const V=b==null;_(),d&&V&&p()};return O.schedule=_,O.cancel=E,O.flush=A,i?.addEventListener("abort",E,{once:!0}),O}t.debounce=e})(h1)),h1}var cI;function nY(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tY();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let p,g=null;const b=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:m}),_=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},S=()=>(b.flush(),p);return _.cancel=b.cancel,_.flush=S,_}t.debounce=n})(f1)),f1}var uI;function rY(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nY();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(d1)),d1}var m1,dI;function iY(){return dI||(dI=1,m1=rY().throttle),m1}var aY=iY();const sY=Us(aY);var Xg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},T5=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Ps(r)?t:Number(r),d=Ps(i)?e:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},oY={width:0,height:0,overflow:"visible"},lY={width:0,overflowX:"visible"},cY={height:0,overflowY:"visible"},uY={},dY=t=>{var{width:e,height:n}=t,r=Ps(e),i=Ps(n);return r&&i?oY:r?lY:i?cY:uY};function fY(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(null,arguments)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){hY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hY(t,e,n){return(e=mY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t){var e=pY(t,"string");return typeof e=="symbol"?e:e+""}function pY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N5=w.createContext({width:-1,height:-1});function gY(t){return $a(t.width)&&$a(t.height)}function j5(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return gY(i)?w.createElement(N5.Provider,{value:i},e):null}var BS=()=>w.useContext(N5),vY=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:m,debounce:p=0,id:g,className:b,onResize:_,style:S={}}=t,E=w.useRef(null),A=w.useRef();A.current=_,w.useImperativeHandle(e,()=>E.current);var[O,L]=w.useState({containerWidth:r.width,containerHeight:r.height}),V=w.useCallback((N,M)=>{L(P=>{var I=Math.round(N),D=Math.round(M);return P.containerWidth===I&&P.containerHeight===D?P:{containerWidth:I,containerHeight:D}})},[]);w.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Ph;var N=D=>{var k,{width:ne,height:G}=D[0].contentRect;V(ne,G),(k=A.current)===null||k===void 0||k.call(A,ne,G)};p>0&&(N=sY(N,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(N),{width:P,height:I}=E.current.getBoundingClientRect();return V(P,I),M.observe(E.current),()=>{M.disconnect()}},[V,p]);var{containerWidth:B,containerHeight:$}=O;Xg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:j}=T5(B,$,{width:i,height:s,aspect:n,maxHeight:d});return Xg(z!=null&&z>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,j,i,s,l,u,n),w.createElement("div",{id:g?"".concat(g):void 0,className:dt("recharts-responsive-container",b),style:hI(hI({},S),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:E},w.createElement("div",{style:dY({width:i,height:s})},w.createElement(j5,{width:z,height:j},m)))}),p0=w.forwardRef((t,e)=>{var n=BS();if($a(n.width)&&$a(n.height))return t.children;var{width:r,height:i}=fY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=T5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Oe(s)&&Oe(l)?w.createElement(j5,{width:s,height:l},t.children):w.createElement(vY,Lw({},t,{width:r,height:i,ref:e}))});function C5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var g0=()=>{var t,e=Yn(),n=De(ZG),r=De(m0),i=(t=De(h0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},yY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},O5=()=>{var t;return(t=De(Dn))!==null&&t!==void 0?t:yY},qS=()=>De(qs),FS=()=>De(Fs),bY=()=>De(t=>t.layout.margin),tt=t=>t.layout.layoutType,dl=()=>De(tt),xY=()=>{var t=dl();if(t==="horizontal"||t==="vertical")return t},wY=()=>{var t=dl();return t!==void 0},v0=t=>{var e=Bt(),n=Yn(),{width:r,height:i}=t,s=BS(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),w.useEffect(()=>{!n&&$a(l)&&$a(u)&&e(AG({width:l,height:u}))},[e,n,l,u]),null},I5=Symbol.for("immer-nothing"),mI=Symbol.for("immer-draftable"),mi=Symbol.for("immer-state");function ea(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var th=Object.getPrototypeOf;function zu(t){return!!t&&!!t[mi]}function uc(t){return t?P5(t)||Array.isArray(t)||!!t[mI]||!!t.constructor?.[mI]||Lh(t)||b0(t):!1}var _Y=Object.prototype.constructor.toString(),pI=new WeakMap;function P5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=pI.get(n);return r===void 0&&(r=Function.toString.call(n),pI.set(n,r)),r===_Y}function Qg(t,e,n=!0){y0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function y0(t){const e=t[mi];return e?e.type_:Array.isArray(t)?1:Lh(t)?2:b0(t)?3:0}function zw(t,e){return y0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function R5(t,e,n){const r=y0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function SY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Lh(t){return t instanceof Map}function b0(t){return t instanceof Set}function Ul(t){return t.copy_||t.base_}function Vw(t,e){if(Lh(t))return new Map(t);if(b0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=P5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(th(t),r)}else{const r=th(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function HS(t,e=!1){return x0(t)||zu(t)||!uc(t)||(y0(t)>1&&Object.defineProperties(t,{set:Lp,add:Lp,clear:Lp,delete:Lp}),Object.freeze(t),e&&Object.values(t).forEach(n=>HS(n,!0))),t}function EY(){ea(2)}var Lp={value:EY};function x0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var AY={};function dc(t){const e=AY[t];return e||ea(0,t),e}var nh;function k5(){return nh}function TY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gI(t,e){e&&(dc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Uw(t){$w(t),t.drafts_.forEach(NY),t.drafts_=null}function $w(t){t===nh&&(nh=t.parent_)}function vI(t){return nh=TY(nh,t)}function NY(t){const e=t[mi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mi].modified_&&(Uw(e),ea(4)),uc(t)&&(t=Jg(e,t),e.parent_||Zg(e,t)),e.patches_&&dc("Patches").generateReplacementPatches_(n[mi].base_,t,e.patches_,e.inversePatches_)):t=Jg(e,n,[]),Uw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==I5?t:void 0}function Jg(t,e,n){if(x0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[mi];if(!i)return Qg(e,(s,l)=>bI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Zg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Qg(l,(d,m)=>bI(t,i,s,d,m,n,u),r),Zg(t,s,!1),n&&t.patches_&&dc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function bI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=x0(i);if(!(u&&!l)){if(zu(i)){const d=s&&e&&e.type_!==3&&!zw(e.assigned_,r)?s.concat(r):void 0,m=Jg(t,i,d);if(R5(n,r,m),zu(m))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(uc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Jg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Lh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zg(t,i)}}}function Zg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&HS(e,n)}function jY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:k5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=KS;n&&(i=[r],s=rh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var KS={get(t,e){if(e===mi)return t;const n=Ul(t);if(!zw(n,e))return CY(t,n,e);const r=n[e];return t.finalized_||!uc(r)?r:r===p1(t.base_,e)?(g1(t),t.copy_[e]=qw(r,t)):r},has(t,e){return e in Ul(t)},ownKeys(t){return Reflect.ownKeys(Ul(t))},set(t,e,n){const r=M5(Ul(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=p1(Ul(t),e),s=i?.[mi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(SY(n,i)&&(n!==void 0||zw(t.base_,e)))return!0;g1(t),Bw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return p1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,g1(t),Bw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ul(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ea(11)},getPrototypeOf(t){return th(t.base_)},setPrototypeOf(){ea(12)}},rh={};Qg(KS,(t,e)=>{rh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rh.deleteProperty=function(t,e){return rh.set.call(this,t,e,void 0)};rh.set=function(t,e,n){return KS.set.call(this,t[0],e,n,t[0])};function p1(t,e){const n=t[mi];return(n?Ul(n):t)[e]}function CY(t,e,n){const r=M5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function M5(t,e){if(!(e in t))return;let n=th(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=th(n)}}function Bw(t){t.modified_||(t.modified_=!0,t.parent_&&Bw(t.parent_))}function g1(t){t.copy_||(t.copy_=Vw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var OY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...m){return l.produce(d,p=>n.call(this,p,...m))}}typeof n!="function"&&ea(6),r!==void 0&&typeof r!="function"&&ea(7);let i;if(uc(e)){const s=vI(this),l=qw(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Uw(s):$w(s)}return gI(s,r),yI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===I5&&(i=void 0),this.autoFreeze_&&HS(i,!0),r){const s=[],l=[];dc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ea(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){uc(t)||ea(8),zu(t)&&(t=IY(t));const e=vI(this),n=qw(t,void 0);return n[mi].isManual_=!0,$w(e),n}finishDraft(t,e){const n=t&&t[mi];(!n||!n.isManual_)&&ea(9);const{scope_:r}=n;return gI(r,e),yI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=dc("Patches").applyPatches_;return zu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function qw(t,e){const n=Lh(t)?dc("MapSet").proxyMap_(t,e):b0(t)?dc("MapSet").proxySet_(t,e):jY(t,e);return(e?e.scope_:k5()).drafts_.push(n),n}function IY(t){return zu(t)||ea(10,t),D5(t)}function D5(t){if(!uc(t)||x0(t))return t;const e=t[mi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Vw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Vw(t,!0);return Qg(n,(i,s)=>{R5(n,i,D5(s))},r),e&&(e.finalized_=!1),n}var PY=new OY;PY.produce;var RY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},L5=Xr({name:"legend",initialState:RY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Xt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ia(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Xt()},removeLegendPayload:{reducer(t,e){var n=ia(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Xt()}}}),{setLegendSize:xI,setLegendSettings:kY,addLegendPayload:z5,replaceLegendPayload:V5,removeLegendPayload:U5}=L5.actions,MY=L5.reducer,DY=["contextPayload"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(null,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){LY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LY(t,e,n){return(e=zY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zY(t){var e=VY(t,"string");return typeof e=="symbol"?e:e+""}function VY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UY(t,e){if(t==null)return{};var n,r,i=$Y(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Y(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BY(t){return t.value}function qY(t){var{contextPayload:e}=t,n=UY(t,DY),r=z4(e,t.payloadUniqBy,BY),i=Vu(Vu({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(RH,i)}function FY(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:d}=e,m,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?m={left:((r||0)-s.width)/2}:m=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-s.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Vu(Vu({},m),p)}function HY(t){var e=Bt();return w.useEffect(()=>{e(kY(t))},[e,t]),null}function KY(t){var e=Bt();return w.useEffect(()=>(e(xI(t)),()=>{e(xI({width:0,height:0}))}),[e,t]),null}function GY(t,e,n,r){return t==="vertical"&&Oe(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var YY={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function w0(t){var e=un(t,YY),n=NK(),r=EF(),i=bY(),{width:s,height:l,wrapperStyle:u,portal:d}=e,[m,p]=q4([n]),g=qS(),b=FS();if(g==null||b==null)return null;var _=g-(i?.left||0)-(i?.right||0),S=GY(e.layout,l,s,_),E=d?u:Vu(Vu({position:"absolute",width:S?.width||s||"auto",height:S?.height||l||"auto"},FY(u,e,i,g,b,m)),u),A=d??r;if(A==null||n==null)return null;var O=w.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:p},w.createElement(HY,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&w.createElement(KY,{width:m.width,height:m.height}),w.createElement(qY,Fw({},e,S,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return ES.createPortal(O,A)}w0.displayName="Legend";function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){WY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WY(t,e,n){return(e=XY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=QY(t,"string");return typeof e=="symbol"?e:e+""}function QY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JY(t){return Array.isArray(t)&&Ua(t[0])&&Ua(t[1])?t.join(" ~ "):t}var ZY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var $={padding:0,margin:0},z=(u?t0(s,u):s).map((j,N)=>{if(j.type==="none")return null;var M=j.formatter||l||JY,{value:P,name:I}=j,D=P,k=I;if(M){var ne=M(P,I,j,N,s);if(Array.isArray(ne))[D,k]=ne;else if(ne!=null)D=ne;else return null}var G=v1({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:G},Ua(k)?w.createElement("span",{className:"recharts-tooltip-item-name"},k):null,Ua(k)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},D),w.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:$},z)}return null},S=v1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=v1({margin:0},i),A=!Kt(p),O=A?p:"",L=dt("recharts-default-tooltip",d),V=dt("recharts-tooltip-label",m);A&&g&&s!==void 0&&s!==null&&(O=g(p,s));var B=b?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Hw({className:L,style:S},B),w.createElement("p",{className:V,style:E},w.isValidElement(O)?O:"".concat(O)),_())},gf="recharts-tooltip-wrapper",eW={visibility:"hidden"};function tW(t){var{coordinate:e,translateX:n,translateY:r}=t;return dt(gf,{["".concat(gf,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(gf,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(gf,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(gf,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function SI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:m}=t;if(s&&Oe(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=d[r];if(b==null)return 0;if(l[r]){var _=p,S=b;return _<S?Math.max(g,b):Math.max(p,b)}if(m==null)return 0;var E=g+u,A=b+m;return E>A?Math.max(p,b):Math.max(g,b)}function nW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,m,p,g;return l.height>0&&l.width>0&&n?(p=SI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=SI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),m=nW({translateX:p,translateY:g,useTranslate3d:u})):m=eW,{cssProperties:m,cssClasses:tW({translateX:p,translateY:g,coordinate:n})}}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kw(t,e,n){return(e=iW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iW(t){var e=aW(t,"string");return typeof e=="symbol"?e:e+""}function aW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sW extends w.PureComponent{constructor(){super(...arguments),Kw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Kw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:m,position:p,reverseDirection:g,useTranslate3d:b,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:A,hasPortalFromProps:O}=this.props,{cssClasses:L,cssProperties:V}=rW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:_}),B=O?{}:zp(zp({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},V),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),$=zp(zp({},B),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:$,ref:A},s)}}var $5=()=>{var t;return(t=De(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=cW(t,"string");return typeof e=="symbol"?e:e+""}function cW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI={curveBasisClosed:qF,curveBasisOpen:FF,curveBasis:BF,curveBumpX:jF,curveBumpY:CF,curveLinearClosed:HF,curveLinear:Zv,curveMonotoneX:KF,curveMonotoneY:GF,curveNatural:YF,curveStep:WF,curveStepAfter:QF,curveStepBefore:XF},ev=t=>zt(t.x)&&zt(t.y),jI=t=>t.base!=null&&ev(t.base)&&ev(t),vf=t=>t.x,yf=t=>t.y,uW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Ih(t));return(n==="curveMonotone"||n==="curveBump")&&e?NI["".concat(n).concat(e==="vertical"?"Y":"X")]:NI[n]||Zv},dW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=uW(e,i),u=s?n.filter(ev):n,d;if(Array.isArray(r)){var m=n.map((_,S)=>TI(TI({},_),{},{base:r[S]}));i==="vertical"?d=Op().y(yf).x1(vf).x0(_=>_.base.x):d=Op().x(vf).y1(yf).y0(_=>_.base.y);var p=d.defined(jI).curve(l),g=s?m.filter(jI):m;return p(g)}i==="vertical"&&Oe(r)?d=Op().y(yf).x1(vf).x0(r):Oe(r)?d=Op().x(vf).y1(yf).y0(r):d=h4().x(vf).y(yf);var b=d.defined(ev).curve(l);return b(u)},Tu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=dl();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?dW(l):r;return w.createElement("path",Gw({},Rr(t),PS(t),{className:dt("recharts-curve",e),d:u===null?void 0:u,ref:i}))},fW=["x","y","top","left","width","height","className"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){mW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mW(t,e,n){return(e=pW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pW(t){var e=gW(t,"string");return typeof e=="symbol"?e:e+""}function gW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vW(t,e){if(t==null)return{};var n,r,i=yW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bW=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),xW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,d=vW(t,fW),m=hW({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Oe(e)||!Oe(n)||!Oe(s)||!Oe(l)||!Oe(r)||!Oe(i)?null:w.createElement("path",Yw({},wr(m),{className:dt("recharts-cross",u),d:bW(e,n,s,l,r,i)}))};function wW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){_W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _W(t,e,n){return(e=SW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SW(t){var e=EW(t,"string");return typeof e=="symbol"?e:e+""}function EW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),B5=(t,e,n)=>t.map(r=>"".concat(AW(r)," ").concat(e,"ms ").concat(n)).join(","),TW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),ih=(t,e)=>Object.keys(e).reduce((n,r)=>II(II({},n),{},{[r]:t(r,e[r])}),{});function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return(e=jW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jW(t){var e=CW(t,"string");return typeof e=="symbol"?e:e+""}function CW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tv=(t,e,n)=>t+(e-t)*n,Ww=t=>{var{from:e,to:n}=t;return e!==n},q5=(t,e,n)=>{var r=ih((i,s)=>{if(Ww(s)){var[l,u]=t(s.from,s.to,s.velocity);return Rn(Rn({},s),{},{from:l,velocity:u})}return s},e);return n<1?ih((i,s)=>Ww(s)&&r[i]!=null?Rn(Rn({},s),{},{velocity:tv(s.velocity,r[i].velocity,n),from:tv(s.from,r[i].from,n)}):s,e):q5(t,r,n-1)};function OW(t,e,n,r,i,s){var l,u=r.reduce((b,_)=>Rn(Rn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>ih((b,_)=>_.from,u),m=()=>!Object.values(u).filter(Ww).length,p=null,g=b=>{l||(l=b);var _=b-l,S=_/n.dt;u=q5(n,u,S),i(Rn(Rn(Rn({},t),e),d())),l=b,m()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function IW(t,e,n,r,i,s,l){var u=null,d=i.reduce((g,b)=>{var _=t[b],S=e[b];return _==null||S==null?g:Rn(Rn({},g),{},{[b]:[_,S]})},{}),m,p=g=>{m||(m=g);var b=(g-m)/r,_=ih((E,A)=>tv(...A,n(b)),d);if(s(Rn(Rn(Rn({},t),e),_)),b<1)u=l.setTimeout(p);else{var S=ih((E,A)=>tv(...A,n(1)),d);s(Rn(Rn(Rn({},t),e),S))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const PW=(t,e,n,r,i,s)=>{var l=TW(t,e);return n==null?()=>(i(Rn(Rn({},t),e)),()=>{}):n.isStepper===!0?OW(t,e,n,l,i,s):IW(t,e,n,r,l,i,s)};var nv=1e-4,F5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],H5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),RI=(t,e)=>n=>{var r=F5(t,e);return H5(r,n)},RW=(t,e)=>n=>{var r=F5(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return H5(i,n)},kW=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},MW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=kW(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},DW=(t,e,n,r)=>{var i=RI(t,n),s=RI(e,r),l=RW(t,n),u=m=>m>1?1:m<0?0:m,d=m=>{for(var p=m>1?1:m,g=p,b=0;b<8;++b){var _=i(g)-p,S=l(g);if(Math.abs(_-p)<nv||S<nv)return s(g);g=u(g-_/S)}return s(g)};return d.isStepper=!1,d},kI=function(){return DW(...MW(...arguments))},LW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,d)=>{var m=-(l-u)*n,p=d*r,g=d+(m-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<nv&&Math.abs(g)<nv?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},zW=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kI(t);case"spring":return LW();default:if(t.split("(")[0]==="cubic-bezier")return kI(t)}return typeof t=="function"?t:null};function VW(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...m]=u;if(typeof d=="number"){i=t.setTimeout(s.bind(null,m),d);return}s(d),i=t.setTimeout(s.bind(null,m));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class UW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function $W(){return VW(new UW)}var BW=w.createContext($W);function qW(t,e){var n=w.useContext(BW);return w.useMemo(()=>e??n(t),[t,e,n])}var FW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zh={isSsr:FW()},HW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MI={t:0},y1={t:1};function id(t){var e=un(t,HW),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:m}=e,p=n==="auto"?!zh.isSsr:n,g=qW(e.animationId,e.animationManager),[b,_]=w.useState(p?MI:y1),S=w.useRef(null);return w.useEffect(()=>{p||_(y1)},[p]),w.useEffect(()=>{if(!p||!r)return Ph;var E=PW(MI,y1,zW(s),i,_,g.getTimeoutController()),A=()=>{S.current=E()};return g.start([d,l,A,i,u]),()=>{g.stop(),S.current&&S.current(),u()}},[p,r,i,s,l,d,u,g]),m(b.t)}function ad(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Qf(e)),r=w.useRef(t);return r.current!==t&&(n.current=Qf(e),r.current=t),n.current}var KW=["radius"],GW=["radius"],DI,LI,zI,VI,UI,$I,BI,qI,FI,HI;function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){YW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YW(t,e,n){return(e=WW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WW(t){var e=XW(t,"string");return typeof e=="symbol"?e:e+""}function XW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(null,arguments)}function YI(t,e){if(t==null)return{};var n,r,i=QW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ja(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var WI=(t,e,n,r,i)=>{var s=qo(n),l=qo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,m=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],_=0,S=4;_<S;_++)b[_]=i[_]>u?u:i[_];g=on(DI||(DI=ja(["M",",",""])),t,e+d*b[0]),b[0]>0&&(g+=on(LI||(LI=ja(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+m*b[0],e)),g+=on(zI||(zI=ja(["L ",",",""])),t+n-m*b[1],e),b[1]>0&&(g+=on(VI||(VI=ja(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),g+=on(UI||(UI=ja(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(g+=on($I||($I=ja(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-m*b[2],e+r)),g+=on(BI||(BI=ja(["L ",",",""])),t+m*b[3],e+r),b[3]>0&&(g+=on(qI||(qI=ja(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);g=on(FI||(FI=ja(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,p,t+m*E,e,t+n-m*E,e,E,E,p,t+n,e+d*E,t+n,e+r-d*E,E,E,p,t+n-m*E,e+r,t+m*E,e+r,E,E,p,t,e+r-d*E)}else g=on(HI||(HI=ja(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},XI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K5=t=>{var e=un(t,XI),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:m,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=e,A=w.useRef(u),O=w.useRef(d),L=w.useRef(s),V=w.useRef(l),B=w.useMemo(()=>({x:s,y:l,width:u,height:d,radius:m}),[s,l,u,d,m]),$=ad(B,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var z=dt("recharts-rectangle",p);if(!E){var j=wr(e),{radius:N}=j,M=YI(j,KW);return w.createElement("path",rv({},M,{x:qo(s),y:qo(l),width:qo(u),height:qo(d),radius:typeof m=="number"?m:void 0,className:z,d:WI(s,l,u,d,m)}))}var P=A.current,I=O.current,D=L.current,k=V.current,ne="0px ".concat(r===-1?1:r,"px"),G="".concat(r,"px 0px"),K=B5(["strokeDasharray"],b,typeof g=="string"?g:XI.animationEasing);return w.createElement(id,{animationId:$,key:$,canBegin:r>0,duration:b,easing:g,isActive:E,begin:_},Z=>{var ie=yt(P,u,Z),te=yt(I,d,Z),se=yt(D,s,Z),U=yt(k,l,Z);n.current&&(A.current=ie,O.current=te,L.current=se,V.current=U);var X;S?Z>0?X={transition:K,strokeDasharray:G}:X={strokeDasharray:ne}:X={strokeDasharray:G};var Y=wr(e),{radius:W}=Y,ge=YI(Y,GW);return w.createElement("path",rv({},ge,{radius:typeof m=="number"?m:void 0,className:z,d:WI(se,U,ie,te,m),ref:n,style:GI(GI({},X),e.style)}))})};function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){JW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JW(t,e,n){return(e=ZW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iv=Math.PI/180,tX=t=>t*180/Math.PI,Cn=(t,e,n,r)=>({x:t+Math.cos(-iv*r)*n,y:e+Math.sin(-iv*r)*n}),G5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},nX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},rX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=nX({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:tX(d),angleInRadian:d}},iX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},aX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},sX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=rX({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:m}=iX(e),p=s,g;if(d<=m){for(;p>m;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=m}else{for(;p>d;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=d}return g?JI(JI({},e),{},{radius:i,angle:aX(p,e)}):null};function Y5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Cn(e,n,r,i),u=Cn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var ZI,eP,tP,nP,rP,iP,aP;function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(null,arguments)}function ql(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var oX=(t,e)=>{var n=Gn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Vp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,m=u*(l?1:-1)+r,p=Math.asin(u/m)/iv,g=d?i:i+s*p,b=Cn(e,n,m,g),_=Cn(e,n,r,g),S=d?i-s*p:i,E=Cn(e,n,m*Math.cos(p*iv),S);return{center:b,circleTangency:_,lineTangency:E,theta:p}},W5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=oX(s,l),d=s+u,m=Cn(e,n,i,s),p=Cn(e,n,i,d),g=on(ZI||(ZI=ql(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(u)>180),+(s>d),p.x,p.y);if(r>0){var b=Cn(e,n,r,s),_=Cn(e,n,r,d);g+=on(eP||(eP=ql(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=d),b.x,b.y)}else g+=on(tP||(tP=ql(["L ",","," Z"])),e,n);return g},lX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:m}=t,p=Gn(m-d),{circleTangency:g,lineTangency:b,theta:_}=Vp({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:A}=Vp({cx:e,cy:n,radius:i,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:u}),O=u?Math.abs(d-m):Math.abs(d-m)-_-A;if(O<0)return l?on(nP||(nP=ql(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):W5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:m});var L=on(rP||(rP=ql(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(O>180),+(p<0),S.x,S.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:V,lineTangency:B,theta:$}=Vp({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:z,lineTangency:j,theta:N}=Vp({cx:e,cy:n,radius:r,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),M=u?Math.abs(d-m):Math.abs(d-m)-$-N;if(M<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+=on(iP||(iP=ql(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,s,s,+(p<0),z.x,z.y,r,r,+(M>180),+(p>0),V.x,V.y,s,s,+(p<0),B.x,B.y)}else L+=on(aP||(aP=ql(["L",",","Z"])),e,n);return L},cX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X5=t=>{var e=un(t,cX),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:p,className:g}=e;if(s<i||m===p)return null;var b=dt("recharts-sector",g),_=s-i,S=br(l,_,0,!0),E;return S>0&&Math.abs(m-p)<360?E=lX({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:p}):E=W5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:m,endAngle:p}),w.createElement("path",Xw({},wr(e),{className:b,d:E}))};function uX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(j4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,d=Cn(r,i,s,u),m=Cn(r,i,l,u);return[{x:d.x,y:d.y},{x:m.x,y:m.y}]}return Y5(e)}}var b1={},x1={},w1={},sP;function dX(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(w1)),w1}var oP;function fX(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(x1)),x1}var lP;function hX(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$4(),n=fX();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let m=0;m<u;m++)d[m]=i,i+=l;return d}t.range=r})(b1)),b1}var _1,cP;function mX(){return cP||(cP=1,_1=hX().range),_1}var pX=mX();const Q5=Us(pX);function Xo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GS(t){let e,n,r;t.length!==2?(e=Xo,n=(u,d)=>Xo(t(u),d),r=(u,d)=>t(u)-d):(e=t===Xo||t===gX?t:vX,n=t,r=t);function i(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const g=m+p>>>1;n(u[g],d)<0?m=g+1:p=g}while(m<p)}return m}function s(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const g=m+p>>>1;n(u[g],d)<=0?m=g+1:p=g}while(m<p)}return m}function l(u,d,m=0,p=u.length){const g=i(u,d,m,p-1);return g>m&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function vX(){return 0}function J5(t){return t===null?NaN:+t}function*yX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const bX=GS(Xo),Vh=bX.right;GS(J5).center;class uP extends Map{constructor(e,n=_X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dP(this,e))}has(e){return super.has(dP(this,e))}set(e,n){return super.set(xX(this,e),n)}delete(e){return super.delete(wX(this,e))}}function dP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function wX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function _X(t){return t!==null&&typeof t=="object"?t.valueOf():t}function SX(t=Xo){if(t===Xo)return Z5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Z5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const EX=Math.sqrt(50),AX=Math.sqrt(10),TX=Math.sqrt(2);function av(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=EX?10:s>=AX?5:s>=TX?2:1;let u,d,m;return i<0?(m=Math.pow(10,-i)/l,u=Math.round(t*m),d=Math.round(e*m),u/m<t&&++u,d/m>e&&--d,m=-m):(m=Math.pow(10,i)*l,u=Math.round(t/m),d=Math.round(e/m),u*m<t&&++u,d*m>e&&--d),d<u&&.5<=n&&n<2?av(t,e,n*2):[u,d,m]}function Qw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?av(e,t,n):av(t,e,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let m=0;m<u;++m)d[m]=(s-m)/-l;else for(let m=0;m<u;++m)d[m]=(s-m)*l;else if(l<0)for(let m=0;m<u;++m)d[m]=(i+m)/-l;else for(let m=0;m<u;++m)d[m]=(i+m)*l;return d}function Jw(t,e,n){return e=+e,t=+t,n=+n,av(t,e,n)[2]}function Zw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Jw(e,t,n):Jw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function e3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Z5:SX(i);r>n;){if(r-n>600){const d=r-n+1,m=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(m-d/2<0?-1:1),_=Math.max(n,Math.floor(e-m*g/d+b)),S=Math.min(r,Math.floor(e+(d-m)*g/d+b));e3(t,e,_,S,i)}const s=t[e];let l=n,u=r;for(bf(t,n,e),i(t[r],s)>0&&bf(t,n,r);l<u;){for(bf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?bf(t,n,u):(++u,bf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function bf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function NX(t,e,n){if(t=Float64Array.from(yX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hP(t);if(e>=1)return fP(t);var r,i=(r-1)*e,s=Math.floor(i),l=fP(e3(t,s).subarray(0,s+1)),u=hP(t.subarray(s+1));return l+(u-l)*(i-s)}}function jX(t,e,n=J5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function CX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Bi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Hs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const e_=Symbol("implicit");function YS(){var t=new uP,e=[],n=[],r=e_;function i(s){let l=t.get(s);if(l===void 0){if(r!==e_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new uP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return YS(e,n).unknown(r)},Bi.apply(i,arguments),i}function WS(){var t=YS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,d=0,m=0,p=.5;delete t.unknown;function g(){var b=e().length,_=i<r,S=_?i:r,E=_?r:i;s=(E-S)/Math.max(1,b-d+m*2),u&&(s=Math.floor(s)),S+=(E-S-s*(b-d))*p,l=s*(1-d),u&&(S=Math.round(S),l=Math.round(l));var A=CX(b).map(function(O){return S+s*O});return n(_?A.reverse():A)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,m=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(m=+b,g()):m},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return WS(e(),[r,i]).round(u).paddingInner(d).paddingOuter(m).align(p)},Bi.apply(g(),arguments)}function t3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return t3(e())},t}function OX(){return t3(WS.apply(null,arguments).paddingInner(1))}function XS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Uh(){}var ah=.7,sv=1/ah,Nu="\\s*([+-]?\\d+)\\s*",sh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IX=/^#([0-9a-f]{3,8})$/,PX=new RegExp(`^rgb\\(${Nu},${Nu},${Nu}\\)$`),RX=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),kX=new RegExp(`^rgba\\(${Nu},${Nu},${Nu},${sh}\\)$`),MX=new RegExp(`^rgba\\(${za},${za},${za},${sh}\\)$`),DX=new RegExp(`^hsl\\(${sh},${za},${za}\\)$`),LX=new RegExp(`^hsla\\(${sh},${za},${za},${sh}\\)$`),mP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XS(Uh,oh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pP,formatHex:pP,formatHex8:zX,formatHsl:VX,formatRgb:gP,toString:gP});function pP(){return this.rgb().formatHex()}function zX(){return this.rgb().formatHex8()}function VX(){return r3(this).formatHsl()}function gP(){return this.rgb().formatRgb()}function oh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=IX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vP(e):n===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Up(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Up(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=PX.exec(t))?new Yr(e[1],e[2],e[3],1):(e=RX.exec(t))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kX.exec(t))?Up(e[1],e[2],e[3],e[4]):(e=MX.exec(t))?Up(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DX.exec(t))?xP(e[1],e[2]/100,e[3]/100,1):(e=LX.exec(t))?xP(e[1],e[2]/100,e[3]/100,e[4]):mP.hasOwnProperty(t)?vP(mP[t]):t==="transparent"?new Yr(NaN,NaN,NaN,0):null}function vP(t){return new Yr(t>>16&255,t>>8&255,t&255,1)}function Up(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yr(t,e,n,r)}function UX(t){return t instanceof Uh||(t=oh(t)),t?(t=t.rgb(),new Yr(t.r,t.g,t.b,t.opacity)):new Yr}function t_(t,e,n,r){return arguments.length===1?UX(t):new Yr(t,e,n,r??1)}function Yr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}XS(Yr,t_,n3(Uh,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ah:Math.pow(ah,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yr(Xl(this.r),Xl(this.g),Xl(this.b),ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yP,formatHex:yP,formatHex8:$X,formatRgb:bP,toString:bP}));function yP(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function $X(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function bP(){const t=ov(this.opacity);return`${t===1?"rgb(":"rgba("}${Xl(this.r)}, ${Xl(this.g)}, ${Xl(this.b)}${t===1?")":`, ${t})`}`}function ov(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fl(t){return t=Xl(t),(t<16?"0":"")+t.toString(16)}function xP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ta(t,e,n,r)}function r3(t){if(t instanceof ta)return new ta(t.h,t.s,t.l,t.opacity);if(t instanceof Uh||(t=oh(t)),!t)return new ta;if(t instanceof ta)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new ta(l,u,d,t.opacity)}function BX(t,e,n,r){return arguments.length===1?r3(t):new ta(t,e,n,r??1)}function ta(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}XS(ta,BX,n3(Uh,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new ta(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ah:Math.pow(ah,t),new ta(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yr(S1(t>=240?t-240:t+120,i,r),S1(t,i,r),S1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ta(wP(this.h),$p(this.s),$p(this.l),ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ov(this.opacity);return`${t===1?"hsl(":"hsla("}${wP(this.h)}, ${$p(this.s)*100}%, ${$p(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wP(t){return t=(t||0)%360,t<0?t+360:t}function $p(t){return Math.max(0,Math.min(1,t||0))}function S1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const QS=t=>()=>t;function qX(t,e){return function(n){return t+n*e}}function FX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function HX(t){return(t=+t)==1?i3:function(e,n){return n-e?FX(e,n,t):QS(isNaN(e)?n:e)}}function i3(t,e){var n=e-t;return n?qX(t,n):QS(isNaN(t)?e:t)}const _P=(function t(e){var n=HX(e);function r(i,s){var l=n((i=t_(i)).r,(s=t_(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),m=i3(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=m(p),i+""}}return r.gamma=t,r})(1);function KX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function GX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=sd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function WX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function XX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=sd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var n_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E1=new RegExp(n_.source,"g");function QX(t){return function(){return t}}function JX(t){return function(e){return t(e)+""}}function ZX(t,e){var n=n_.lastIndex=E1.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=n_.exec(t))&&(i=E1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:lv(r,i)})),n=E1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?JX(d[0].x):QX(e):(e=d.length,function(m){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(m);return u.join("")})}function sd(t,e){var n=typeof e,r;return e==null||n==="boolean"?QS(e):(n==="number"?lv:n==="string"?(r=oh(e))?(e=r,_P):ZX:e instanceof oh?_P:e instanceof Date?WX:GX(e)?KX:Array.isArray(e)?YX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?XX:lv)(t,e)}function JS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function eQ(t,e){e===void 0&&(e=t,t=sd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function tQ(t){return function(){return t}}function cv(t){return+t}var SP=[0,1];function Or(t){return t}function r_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tQ(isNaN(e)?NaN:.5)}function nQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rQ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=r_(i,r),s=n(l,s)):(r=r_(r,i),s=n(s,l)),function(u){return s(r(u))}}function iQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=r_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var d=Vh(t,u,1,r)-1;return s[d](i[d](u))}}function $h(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _0(){var t=SP,e=SP,n=sd,r,i,s,l=Or,u,d,m;function p(){var b=Math.min(t.length,e.length);return l!==Or&&(l=nQ(t[0],t[b-1])),u=b>2?iQ:rQ,d=m=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((m||(m=u(e,t.map(r),lv)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,cv),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=JS,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Or,p()):l!==Or},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,_){return r=b,i=_,p()}}function ZS(){return _0()(Or,Or)}function aQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uu(t){return t=uv(Math.abs(t)),t?t[1]:NaN}function sQ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function oQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lh(t){if(!(e=lQ.exec(t)))throw new Error("invalid format: "+t);var e;return new eE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lh.prototype=eE.prototype;function eE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}eE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var a3;function uQ(t,e){var n=uv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(a3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+uv(t,Math.max(0,e+s-1))[0]}function EP(t,e){var n=uv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const AP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EP(t*100,e),r:EP,s:uQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TP(t){return t}var NP=Array.prototype.map,jP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dQ(t){var e=t.grouping===void 0||t.thousands===void 0?TP:sQ(NP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?TP:oQ(NP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function m(g){g=lh(g);var b=g.fill,_=g.align,S=g.sign,E=g.symbol,A=g.zero,O=g.width,L=g.comma,V=g.precision,B=g.trim,$=g.type;$==="n"?(L=!0,$="g"):AP[$]||(V===void 0&&(V=12),B=!0,$="g"),(A||b==="0"&&_==="=")&&(A=!0,b="0",_="=");var z=E==="$"?n:E==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",j=E==="$"?r:/[%p]/.test($)?l:"",N=AP[$],M=/[defgprs%]/.test($);V=V===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function P(I){var D=z,k=j,ne,G,K;if($==="c")k=N(I)+k,I="";else{I=+I;var Z=I<0||1/I<0;if(I=isNaN(I)?d:N(Math.abs(I),V),B&&(I=cQ(I)),Z&&+I==0&&S!=="+"&&(Z=!1),D=(Z?S==="("?S:u:S==="-"||S==="("?"":S)+D,k=($==="s"?jP[8+a3/3]:"")+k+(Z&&S==="("?")":""),M){for(ne=-1,G=I.length;++ne<G;)if(K=I.charCodeAt(ne),48>K||K>57){k=(K===46?i+I.slice(ne+1):I.slice(ne))+k,I=I.slice(0,ne);break}}}L&&!A&&(I=e(I,1/0));var ie=D.length+I.length+k.length,te=ie<O?new Array(O-ie+1).join(b):"";switch(L&&A&&(I=e(te+I,te.length?O-k.length:1/0),te=""),_){case"<":I=D+I+k+te;break;case"=":I=D+te+I+k;break;case"^":I=te.slice(0,ie=te.length>>1)+D+I+k+te.slice(ie);break;default:I=te+D+I+k;break}return s(I)}return P.toString=function(){return g+""},P}function p(g,b){var _=m((g=lh(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(Uu(b)/3)))*3,E=Math.pow(10,-S),A=jP[8+S/3];return function(O){return _(E*O)+A}}return{format:m,formatPrefix:p}}var Bp,tE,s3;fQ({thousands:",",grouping:[3],currency:["$",""]});function fQ(t){return Bp=dQ(t),tE=Bp.format,s3=Bp.formatPrefix,Bp}function hQ(t){return Math.max(0,-Uu(Math.abs(t)))}function mQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uu(e)/3)))*3-Uu(Math.abs(t)))}function pQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uu(e)-Uu(t))+1}function o3(t,e,n,r){var i=Zw(t,e,n),s;switch(r=lh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=mQ(i,l))&&(r.precision=s),s3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=pQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=hQ(i))&&(r.precision=s-(r.type==="%")*2);break}}return tE(r)}function fl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Qw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return o3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],d,m,p=10;for(u<l&&(m=l,l=u,u=m,m=i,i=s,s=m);p-- >0;){if(m=Jw(l,u,n),m===d)return r[i]=l,r[s]=u,e(r);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;d=m}return t},t}function l3(){var t=ZS();return t.copy=function(){return $h(t,l3())},Bi.apply(t,arguments),fl(t)}function c3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,cv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return c3(t).unknown(e)},t=arguments.length?Array.from(t,cv):[0,1],fl(n)}function u3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function CP(t){return Math.log(t)}function OP(t){return Math.exp(t)}function gQ(t){return-Math.log(-t)}function vQ(t){return-Math.exp(-t)}function yQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bQ(t){return t===10?yQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IP(t){return(e,n)=>-t(-e,n)}function nE(t){const e=t(CP,OP),n=e.domain;let r=10,i,s;function l(){return i=xQ(r),s=bQ(r),n()[0]<0?(i=IP(i),s=IP(s),t(gQ,vQ)):t(CP,OP),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let m=d[0],p=d[d.length-1];const g=p<m;g&&([m,p]=[p,m]);let b=i(m),_=i(p),S,E;const A=u==null?10:+u;let O=[];if(!(r%1)&&_-b<A){if(b=Math.floor(b),_=Math.ceil(_),m>0){for(;b<=_;++b)for(S=1;S<r;++S)if(E=b<0?S/s(-b):S*s(b),!(E<m)){if(E>p)break;O.push(E)}}else for(;b<=_;++b)for(S=r-1;S>=1;--S)if(E=b>0?S/s(-b):S*s(b),!(E<m)){if(E>p)break;O.push(E)}O.length*2<A&&(O=Qw(m,p,A))}else O=Qw(b,_,Math.min(_-b,A)).map(s);return g?O.reverse():O},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=lh(d)).precision==null&&(d.trim=!0),d=tE(d)),u===1/0)return d;const m=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=m?d(p):""}},e.nice=()=>n(u3(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function d3(){const t=nE(_0()).domain([1,10]);return t.copy=()=>$h(t,d3()).base(t.base()),Bi.apply(t,arguments),t}function PP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function RP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rE(t){var e=1,n=t(PP(e),RP(e));return n.constant=function(r){return arguments.length?t(PP(e=+r),RP(e)):e},fl(n)}function f3(){var t=rE(_0());return t.copy=function(){return $h(t,f3()).constant(t.constant())},Bi.apply(t,arguments)}function kP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _Q(t){return t<0?-t*t:t*t}function iE(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(wQ,_Q):t(kP(n),kP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fl(e)}function aE(){var t=iE(_0());return t.copy=function(){return $h(t,aE()).exponent(t.exponent())},Bi.apply(t,arguments),t}function SQ(){return aE.apply(null,arguments).exponent(.5)}function MP(t){return Math.sign(t)*t*t}function EQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function h3(){var t=ZS(),e=[0,1],n=!1,r;function i(s){var l=EQ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(MP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,cv)).map(MP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return h3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Bi.apply(i,arguments),fl(i)}function m3(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=jX(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Vh(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Xo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return m3().domain(t).range(e).unknown(r)},Bi.apply(s,arguments)}function p3(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Vh(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var m=i.indexOf(d);return m<0?[NaN,NaN]:m<1?[t,r[0]]:m>=n?[r[n-1],e]:[r[m-1],r[m]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return p3().domain([t,e]).range(i).unknown(s)},Bi.apply(fl(l),arguments)}function g3(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Vh(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return g3().domain(t).range(e).unknown(n)},Bi.apply(i,arguments)}const A1=new Date,T1=new Date;function Ln(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let m;do d.push(m=new Date(+s)),e(s,u),t(s);while(m<s&&s<l);return d},i.filter=s=>Ln(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(A1.setTime(+s),T1.setTime(+l),t(A1),t(T1),Math.floor(n(A1,T1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const dv=Ln(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ln(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dv);dv.range;const xs=1e3,Li=xs*60,ws=Li*60,ks=ws*24,sE=ks*7,DP=ks*30,N1=ks*365,Hl=Ln(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCSeconds());Hl.range;const oE=Ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xs)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());oE.range;const lE=Ln(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());lE.range;const cE=Ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xs-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getHours());cE.range;const uE=Ln(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getUTCHours());uE.range;const Bh=Ln(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/ks,t=>t.getDate()-1);Bh.range;const S0=Ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ks,t=>t.getUTCDate()-1);S0.range;const v3=Ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ks,t=>Math.floor(t/ks));v3.range;function yc(t){return Ln(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Li)/sE)}const E0=yc(0),fv=yc(1),AQ=yc(2),TQ=yc(3),$u=yc(4),NQ=yc(5),jQ=yc(6);E0.range;fv.range;AQ.range;TQ.range;$u.range;NQ.range;jQ.range;function bc(t){return Ln(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/sE)}const A0=bc(0),hv=bc(1),CQ=bc(2),OQ=bc(3),Bu=bc(4),IQ=bc(5),PQ=bc(6);A0.range;hv.range;CQ.range;OQ.range;Bu.range;IQ.range;PQ.range;const dE=Ln(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dE.range;const fE=Ln(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fE.range;const Ms=Ln(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ln(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ms.range;const Ds=Ln(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ln(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ds.range;function y3(t,e,n,r,i,s){const l=[[Hl,1,xs],[Hl,5,5*xs],[Hl,15,15*xs],[Hl,30,30*xs],[s,1,Li],[s,5,5*Li],[s,15,15*Li],[s,30,30*Li],[i,1,ws],[i,3,3*ws],[i,6,6*ws],[i,12,12*ws],[r,1,ks],[r,2,2*ks],[n,1,sE],[e,1,DP],[e,3,3*DP],[t,1,N1]];function u(m,p,g){const b=p<m;b&&([m,p]=[p,m]);const _=g&&typeof g.range=="function"?g:d(m,p,g),S=_?_.range(m,+p+1):[];return b?S.reverse():S}function d(m,p,g){const b=Math.abs(p-m)/g,_=GS(([,,A])=>A).right(l,b);if(_===l.length)return t.every(Zw(m/N1,p/N1,g));if(_===0)return dv.every(Math.max(Zw(m,p,g),1));const[S,E]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return S.every(E)}return[u,d]}const[RQ,kQ]=y3(Ds,fE,A0,v3,uE,lE),[MQ,DQ]=y3(Ms,dE,E0,Bh,cE,oE);function j1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function C1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function LQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,m=wf(i),p=_f(i),g=wf(s),b=_f(s),_=wf(l),S=_f(l),E=wf(u),A=_f(u),O=wf(d),L=_f(d),V={a:Z,A:ie,b:te,B:se,c:null,d:BP,e:BP,f:sJ,g:gJ,G:yJ,H:rJ,I:iJ,j:aJ,L:b3,m:oJ,M:lJ,p:U,q:X,Q:HP,s:KP,S:cJ,u:uJ,U:dJ,V:fJ,w:hJ,W:mJ,x:null,X:null,y:pJ,Y:vJ,Z:bJ,"%":FP},B={a:Y,A:W,b:ge,B:ve,c:null,d:qP,e:qP,f:SJ,g:RJ,G:MJ,H:xJ,I:wJ,j:_J,L:w3,m:EJ,M:AJ,p:pe,q:je,Q:HP,s:KP,S:TJ,u:NJ,U:jJ,V:CJ,w:OJ,W:IJ,x:null,X:null,y:PJ,Y:kJ,Z:DJ,"%":FP},$={a:P,A:I,b:D,B:k,c:ne,d:UP,e:UP,f:ZQ,g:VP,G:zP,H:$P,I:$P,j:WQ,L:JQ,m:YQ,M:XQ,p:M,q:GQ,Q:tJ,s:nJ,S:QQ,u:BQ,U:qQ,V:FQ,w:$Q,W:HQ,x:G,X:K,y:VP,Y:zP,Z:KQ,"%":eJ};V.x=z(n,V),V.X=z(r,V),V.c=z(e,V),B.x=z(n,B),B.X=z(r,B),B.c=z(e,B);function z(ae,Ee){return function(Ce){var J=[],ze=-1,Ie=0,Je=ae.length,pt,dn,Ye;for(Ce instanceof Date||(Ce=new Date(+Ce));++ze<Je;)ae.charCodeAt(ze)===37&&(J.push(ae.slice(Ie,ze)),(dn=LP[pt=ae.charAt(++ze)])!=null?pt=ae.charAt(++ze):dn=pt==="e"?" ":"0",(Ye=Ee[pt])&&(pt=Ye(Ce,dn)),J.push(pt),Ie=ze+1);return J.push(ae.slice(Ie,ze)),J.join("")}}function j(ae,Ee){return function(Ce){var J=xf(1900,void 0,1),ze=N(J,ae,Ce+="",0),Ie,Je;if(ze!=Ce.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Ee&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Ie=C1(xf(J.y,0,1)),Je=Ie.getUTCDay(),Ie=Je>4||Je===0?hv.ceil(Ie):hv(Ie),Ie=S0.offset(Ie,(J.V-1)*7),J.y=Ie.getUTCFullYear(),J.m=Ie.getUTCMonth(),J.d=Ie.getUTCDate()+(J.w+6)%7):(Ie=j1(xf(J.y,0,1)),Je=Ie.getDay(),Ie=Je>4||Je===0?fv.ceil(Ie):fv(Ie),Ie=Bh.offset(Ie,(J.V-1)*7),J.y=Ie.getFullYear(),J.m=Ie.getMonth(),J.d=Ie.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Je="Z"in J?C1(xf(J.y,0,1)).getUTCDay():j1(xf(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Je+5)%7:J.w+J.U*7-(Je+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,C1(J)):j1(J)}}function N(ae,Ee,Ce,J){for(var ze=0,Ie=Ee.length,Je=Ce.length,pt,dn;ze<Ie;){if(J>=Je)return-1;if(pt=Ee.charCodeAt(ze++),pt===37){if(pt=Ee.charAt(ze++),dn=$[pt in LP?Ee.charAt(ze++):pt],!dn||(J=dn(ae,Ce,J))<0)return-1}else if(pt!=Ce.charCodeAt(J++))return-1}return J}function M(ae,Ee,Ce){var J=m.exec(Ee.slice(Ce));return J?(ae.p=p.get(J[0].toLowerCase()),Ce+J[0].length):-1}function P(ae,Ee,Ce){var J=_.exec(Ee.slice(Ce));return J?(ae.w=S.get(J[0].toLowerCase()),Ce+J[0].length):-1}function I(ae,Ee,Ce){var J=g.exec(Ee.slice(Ce));return J?(ae.w=b.get(J[0].toLowerCase()),Ce+J[0].length):-1}function D(ae,Ee,Ce){var J=O.exec(Ee.slice(Ce));return J?(ae.m=L.get(J[0].toLowerCase()),Ce+J[0].length):-1}function k(ae,Ee,Ce){var J=E.exec(Ee.slice(Ce));return J?(ae.m=A.get(J[0].toLowerCase()),Ce+J[0].length):-1}function ne(ae,Ee,Ce){return N(ae,e,Ee,Ce)}function G(ae,Ee,Ce){return N(ae,n,Ee,Ce)}function K(ae,Ee,Ce){return N(ae,r,Ee,Ce)}function Z(ae){return l[ae.getDay()]}function ie(ae){return s[ae.getDay()]}function te(ae){return d[ae.getMonth()]}function se(ae){return u[ae.getMonth()]}function U(ae){return i[+(ae.getHours()>=12)]}function X(ae){return 1+~~(ae.getMonth()/3)}function Y(ae){return l[ae.getUTCDay()]}function W(ae){return s[ae.getUTCDay()]}function ge(ae){return d[ae.getUTCMonth()]}function ve(ae){return u[ae.getUTCMonth()]}function pe(ae){return i[+(ae.getUTCHours()>=12)]}function je(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ee=z(ae+="",V);return Ee.toString=function(){return ae},Ee},parse:function(ae){var Ee=j(ae+="",!1);return Ee.toString=function(){return ae},Ee},utcFormat:function(ae){var Ee=z(ae+="",B);return Ee.toString=function(){return ae},Ee},utcParse:function(ae){var Ee=j(ae+="",!0);return Ee.toString=function(){return ae},Ee}}}var LP={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,zQ=/^%/,VQ=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function UQ(t){return t.replace(VQ,"\\$&")}function wf(t){return new RegExp("^(?:"+t.map(UQ).join("|")+")","i")}function _f(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $Q(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function BQ(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qQ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function FQ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zP(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function VP(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GQ(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function YQ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function UP(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function WQ(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $P(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function XQ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function QQ(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function JQ(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ZQ(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eJ(t,e,n){var r=zQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tJ(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nJ(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function BP(t,e){return mt(t.getDate(),e,2)}function rJ(t,e){return mt(t.getHours(),e,2)}function iJ(t,e){return mt(t.getHours()%12||12,e,2)}function aJ(t,e){return mt(1+Bh.count(Ms(t),t),e,3)}function b3(t,e){return mt(t.getMilliseconds(),e,3)}function sJ(t,e){return b3(t,e)+"000"}function oJ(t,e){return mt(t.getMonth()+1,e,2)}function lJ(t,e){return mt(t.getMinutes(),e,2)}function cJ(t,e){return mt(t.getSeconds(),e,2)}function uJ(t){var e=t.getDay();return e===0?7:e}function dJ(t,e){return mt(E0.count(Ms(t)-1,t),e,2)}function x3(t){var e=t.getDay();return e>=4||e===0?$u(t):$u.ceil(t)}function fJ(t,e){return t=x3(t),mt($u.count(Ms(t),t)+(Ms(t).getDay()===4),e,2)}function hJ(t){return t.getDay()}function mJ(t,e){return mt(fv.count(Ms(t)-1,t),e,2)}function pJ(t,e){return mt(t.getFullYear()%100,e,2)}function gJ(t,e){return t=x3(t),mt(t.getFullYear()%100,e,2)}function vJ(t,e){return mt(t.getFullYear()%1e4,e,4)}function yJ(t,e){var n=t.getDay();return t=n>=4||n===0?$u(t):$u.ceil(t),mt(t.getFullYear()%1e4,e,4)}function bJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function qP(t,e){return mt(t.getUTCDate(),e,2)}function xJ(t,e){return mt(t.getUTCHours(),e,2)}function wJ(t,e){return mt(t.getUTCHours()%12||12,e,2)}function _J(t,e){return mt(1+S0.count(Ds(t),t),e,3)}function w3(t,e){return mt(t.getUTCMilliseconds(),e,3)}function SJ(t,e){return w3(t,e)+"000"}function EJ(t,e){return mt(t.getUTCMonth()+1,e,2)}function AJ(t,e){return mt(t.getUTCMinutes(),e,2)}function TJ(t,e){return mt(t.getUTCSeconds(),e,2)}function NJ(t){var e=t.getUTCDay();return e===0?7:e}function jJ(t,e){return mt(A0.count(Ds(t)-1,t),e,2)}function _3(t){var e=t.getUTCDay();return e>=4||e===0?Bu(t):Bu.ceil(t)}function CJ(t,e){return t=_3(t),mt(Bu.count(Ds(t),t)+(Ds(t).getUTCDay()===4),e,2)}function OJ(t){return t.getUTCDay()}function IJ(t,e){return mt(hv.count(Ds(t)-1,t),e,2)}function PJ(t,e){return mt(t.getUTCFullYear()%100,e,2)}function RJ(t,e){return t=_3(t),mt(t.getUTCFullYear()%100,e,2)}function kJ(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function MJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bu(t):Bu.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function DJ(){return"+0000"}function FP(){return"%"}function HP(t){return+t}function KP(t){return Math.floor(+t/1e3)}var ou,S3,E3;LJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LJ(t){return ou=LQ(t),S3=ou.format,ou.parse,E3=ou.utcFormat,ou.utcParse,ou}function zJ(t){return new Date(t)}function VJ(t){return t instanceof Date?+t:+new Date(+t)}function hE(t,e,n,r,i,s,l,u,d,m){var p=ZS(),g=p.invert,b=p.domain,_=m(".%L"),S=m(":%S"),E=m("%I:%M"),A=m("%I %p"),O=m("%a %d"),L=m("%b %d"),V=m("%B"),B=m("%Y");function $(z){return(d(z)<z?_:u(z)<z?S:l(z)<z?E:s(z)<z?A:r(z)<z?i(z)<z?O:L:n(z)<z?V:B)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?b(Array.from(z,VJ)):b().map(zJ)},p.ticks=function(z){var j=b();return t(j[0],j[j.length-1],z??10)},p.tickFormat=function(z,j){return j==null?$:m(j)},p.nice=function(z){var j=b();return(!z||typeof z.range!="function")&&(z=e(j[0],j[j.length-1],z??10)),z?b(u3(j,z)):p},p.copy=function(){return $h(p,hE(t,e,n,r,i,s,l,u,d,m))},p}function UJ(){return Bi.apply(hE(MQ,DQ,Ms,dE,E0,Bh,cE,oE,Hl,S3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $J(){return Bi.apply(hE(RQ,kQ,Ds,fE,A0,S0,uE,lE,Hl,E3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function T0(){var t=0,e=1,n,r,i,s,l=Or,u=!1,d;function m(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),m):[t,e]},m.clamp=function(g){return arguments.length?(u=!!g,m):u},m.interpolator=function(g){return arguments.length?(l=g,m):l};function p(g){return function(b){var _,S;return arguments.length?([_,S]=b,l=g(_,S),m):[l(0),l(1)]}}return m.range=p(sd),m.rangeRound=p(JS),m.unknown=function(g){return arguments.length?(d=g,m):d},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),m}}function hl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function A3(){var t=fl(T0()(Or));return t.copy=function(){return hl(t,A3())},Hs.apply(t,arguments)}function T3(){var t=nE(T0()).domain([1,10]);return t.copy=function(){return hl(t,T3()).base(t.base())},Hs.apply(t,arguments)}function N3(){var t=rE(T0());return t.copy=function(){return hl(t,N3()).constant(t.constant())},Hs.apply(t,arguments)}function mE(){var t=iE(T0());return t.copy=function(){return hl(t,mE()).exponent(t.exponent())},Hs.apply(t,arguments)}function BJ(){return mE.apply(null,arguments).exponent(.5)}function j3(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((Vh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>NX(t,s/r))},n.copy=function(){return j3(e).domain(t)},Hs.apply(n,arguments)}function N0(){var t=0,e=.5,n=1,r=1,i,s,l,u,d,m=Or,p,g=!1,b;function _(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(r*E<r*s?u:d),m(g?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(g=!!E,_):g},_.interpolator=function(E){return arguments.length?(m=E,_):m};function S(E){return function(A){var O,L,V;return arguments.length?([O,L,V]=A,m=eQ(E,[O,L,V]),_):[m(0),m(.5),m(1)]}}return _.range=S(sd),_.rangeRound=S(JS),_.unknown=function(E){return arguments.length?(b=E,_):b},function(E){return p=E,i=E(t),s=E(e),l=E(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function C3(){var t=fl(N0()(Or));return t.copy=function(){return hl(t,C3())},Hs.apply(t,arguments)}function O3(){var t=nE(N0()).domain([.1,1,10]);return t.copy=function(){return hl(t,O3()).base(t.base())},Hs.apply(t,arguments)}function I3(){var t=rE(N0());return t.copy=function(){return hl(t,I3()).constant(t.constant())},Hs.apply(t,arguments)}function pE(){var t=iE(N0());return t.copy=function(){return hl(t,pE()).exponent(t.exponent())},Hs.apply(t,arguments)}function qJ(){return pE.apply(null,arguments).exponent(.5)}const Of=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:WS,scaleDiverging:C3,scaleDivergingLog:O3,scaleDivergingPow:pE,scaleDivergingSqrt:qJ,scaleDivergingSymlog:I3,scaleIdentity:c3,scaleImplicit:e_,scaleLinear:l3,scaleLog:d3,scaleOrdinal:YS,scalePoint:OX,scalePow:aE,scaleQuantile:m3,scaleQuantize:p3,scaleRadial:h3,scaleSequential:A3,scaleSequentialLog:T3,scaleSequentialPow:mE,scaleSequentialQuantile:j3,scaleSequentialSqrt:BJ,scaleSequentialSymlog:N3,scaleSqrt:SQ,scaleSymlog:f3,scaleThreshold:g3,scaleTime:UJ,scaleUtc:$J,tickFormat:o3},Symbol.toStringTag,{value:"Module"}));var Ks=t=>t.chartData,j0=le([Ks],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),gE=(t,e,n,r)=>r?j0(t):Ks(t),P3=(t,e,n)=>n?j0(t):Ks(t);function il(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(zt(e)&&zt(n))return!0}return!1}function GP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function R3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(zt(n))i=n;else if(typeof n=="function")return;if(zt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(il(l))return l}}function FJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(il(r))return GP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Oe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&iI.test(i)){var d=iI.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var m=+d[1];l=e[0]-m}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Oe(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&aI.test(s)){var p=aI.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(il(b))return e==null?b:GP(b,e,n)}}}var od=1e9,HJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yE,Qt=!0,$i="[DecimalError] ",Ql=$i+"Invalid argument: ",vE=$i+"Exponent out of range: ",ld=Math.floor,$l=Math.pow,KJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ui,Kn=1e7,Ht=7,k3=9007199254740991,mv=ld(k3/Ht),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(t){return Es(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,n=e.constructor;return Lt(Es(e,new n(t),0,1),n.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return On(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ui))throw Error($i+"NaN");if(n.s<1)throw Error($i+(n.s?"NaN":"-Infinity"));return n.eq(ui)?new r(0):(Qt=!1,e=Es(ch(n,s),ch(t,s),s),Qt=!0,Lt(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?L3(e,t):M3(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($i+"NaN");return n.s?(Qt=!1,e=Es(n,t,0,1).times(t),Qt=!0,n.minus(e)):Lt(new r(n),i)};ke.naturalExponential=ke.exp=function(){return D3(this)};ke.naturalLogarithm=ke.ln=function(){return ch(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?M3(e,t):L3(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ql+t);if(e=On(i)+1,r=i.d.length-1,n=r*Ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ke.squareRoot=ke.sqrt=function(){var t,e,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error($i+"NaN")}for(t=On(u),Qt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ia(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ld((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Es(u,s,l+2)).times(.5),Ia(s.d).slice(0,l)===(e=Ia(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Lt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return Qt=!0,Lt(r,n)};ke.times=ke.mul=function(t){var e,n,r,i,s,l,u,d,m,p=this,g=p.constructor,b=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,m=_.length,d<m&&(s=b,b=_,_=s,l=d,d=m,m=l),s=[],l=d+m,r=l;r--;)s.push(0);for(r=m;--r>=0;){for(e=0,i=d+r;i>r;)u=s[i]+_[r]*b[i-r-1]+e,s[i--]=u%Kn|0,e=u/Kn|0;s[i]=(s[i]+e)%Kn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Qt?Lt(t,g.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ba(t,0,od),e===void 0?e=r.rounding:Ba(e,0,8),Lt(n,t+On(n)+1,e))};ke.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=fc(r,!0):(Ba(t,0,od),e===void 0?e=i.rounding:Ba(e,0,8),r=Lt(new i(r),t+1,e),n=fc(r,!0,t+1)),n};ke.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?fc(i):(Ba(t,0,od),e===void 0?e=s.rounding:Ba(e,0,8),r=Lt(new s(i),t+On(i)+1,e),n=fc(r.abs(),!1,t+On(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Lt(new e(t),On(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,n,r,i,s,l,u=this,d=u.constructor,m=12,p=+(t=new d(t));if(!t.s)return new d(ui);if(u=new d(u),!u.s){if(t.s<1)throw Error($i+"Infinity");return u}if(u.eq(ui))return u;if(r=d.precision,t.eq(ui))return Lt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=k3){for(i=new d(ui),e=Math.ceil(r/Ht+4),Qt=!1;n%2&&(i=i.times(u),WP(i.d,e)),n=ld(n/2),n!==0;)u=u.times(u),WP(u.d,e);return Qt=!0,t.s<0?new d(ui).div(i):Lt(i,r)}}else if(s<0)throw Error($i+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Qt=!1,i=t.times(ch(u,r+m)),Qt=!0,i=D3(i),i.s=s,i};ke.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=On(i),r=fc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ba(t,1,od),e===void 0?e=s.rounding:Ba(e,0,8),i=Lt(new s(i),t,e),n=On(i),r=fc(i,t<=n||n<=s.toExpNeg,t)),r};ke.toSignificantDigits=ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ba(t,1,od),e===void 0?e=r.rounding:Ba(e,0,8)),Lt(new r(n),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=On(t),n=t.constructor;return fc(t,e<=n.toExpNeg||e>=n.toExpPos)};function M3(t,e){var n,r,i,s,l,u,d,m,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Qt?Lt(e,g):e;if(d=t.d,m=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=m.length):(r=m,i=l,u=d.length),l=Math.ceil(g/Ht),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=m.length,u-s<0&&(s=u,r=m,m=d,d=r),n=0;s;)n=(d[--s]=d[s]+m[s]+n)/Kn|0,d[s]%=Kn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Qt?Lt(e,g):e}function Ba(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ql+t)}function Ia(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Ht-r.length,n&&(s+=Mo(n)),s+=r;l=t[e],r=l+"",n=Ht-r.length,n&&(s+=Mo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Es=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Kn|0,l=s/Kn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Kn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,m,p,g,b,_,S,E,A,O,L,V,B,$,z,j,N,M=r.constructor,P=r.s==i.s?1:-1,I=r.d,D=i.d;if(!r.s)return new M(r);if(!i.s)throw Error($i+"Division by zero");for(d=r.e-i.e,j=D.length,$=I.length,_=new M(P),S=_.d=[],m=0;D[m]==(I[m]||0);)++m;if(D[m]>(I[m]||0)&&--d,s==null?L=s=M.precision:l?L=s+(On(r)-On(i))+1:L=s,L<0)return new M(0);if(L=L/Ht+2|0,m=0,j==1)for(p=0,D=D[0],L++;(m<$||p)&&L--;m++)V=p*Kn+(I[m]||0),S[m]=V/D|0,p=V%D|0;else{for(p=Kn/(D[0]+1)|0,p>1&&(D=t(D,p),I=t(I,p),j=D.length,$=I.length),B=j,E=I.slice(0,j),A=E.length;A<j;)E[A++]=0;N=D.slice(),N.unshift(0),z=D[0],D[1]>=Kn/2&&++z;do p=0,u=e(D,E,j,A),u<0?(O=E[0],j!=A&&(O=O*Kn+(E[1]||0)),p=O/z|0,p>1?(p>=Kn&&(p=Kn-1),g=t(D,p),b=g.length,A=E.length,u=e(g,E,b,A),u==1&&(p--,n(g,j<b?N:D,b))):(p==0&&(u=p=1),g=D.slice()),b=g.length,b<A&&g.unshift(0),n(E,g,A),u==-1&&(A=E.length,u=e(D,E,j,A),u<1&&(p++,n(E,j<A?N:D,A))),A=E.length):u===0&&(p++,E=[0]),S[m++]=p,u&&E[0]?E[A++]=I[B]||0:(E=[I[B]],A=1);while((B++<$||E[0]!==void 0)&&L--)}return S[0]||S.shift(),_.e=d,Lt(_,l?s+On(_)+1:s)}})();function D3(t,e){var n,r,i,s,l,u,d=0,m=0,p=t.constructor,g=p.precision;if(On(t)>16)throw Error(vE+On(t));if(!t.s)return new p(ui);for(Qt=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),m+=5;for(r=Math.log($l(2,m))/Math.LN10*2+5|0,u+=r,n=i=s=new p(ui),p.precision=u;;){if(i=Lt(i.times(t),u),n=n.times(++d),l=s.plus(Es(i,n,u)),Ia(l.d).slice(0,u)===Ia(s.d).slice(0,u)){for(;m--;)s=Lt(s.times(s),u);return p.precision=g,e==null?(Qt=!0,Lt(s,g)):s}s=l}}function On(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function O1(t,e,n){if(e>t.LN10.sd())throw Qt=!0,n&&(t.precision=n),Error($i+"LN10 precision limit exceeded");return Lt(new t(t.LN10),e)}function Mo(t){for(var e="";t--;)e+="0";return e}function ch(t,e){var n,r,i,s,l,u,d,m,p,g=1,b=10,_=t,S=_.d,E=_.constructor,A=E.precision;if(_.s<1)throw Error($i+(_.s?"NaN":"-Infinity"));if(_.eq(ui))return new E(0);if(e==null?(Qt=!1,m=A):m=e,_.eq(10))return e==null&&(Qt=!0),O1(E,m);if(m+=b,E.precision=m,n=Ia(S),r=n.charAt(0),s=On(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Ia(_.d),r=n.charAt(0),g++;s=On(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return d=O1(E,m+2,A).times(s+""),_=ch(new E(r+"."+n.slice(1)),m-b).plus(d),E.precision=A,e==null?(Qt=!0,Lt(_,A)):_;for(u=l=_=Es(_.minus(ui),_.plus(ui),m),p=Lt(_.times(_),m),i=3;;){if(l=Lt(l.times(p),m),d=u.plus(Es(l,new E(i),m)),Ia(d.d).slice(0,m)===Ia(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(O1(E,m+2,A).times(s+""))),u=Es(u,new E(g),m),E.precision=A,e==null?(Qt=!0,Lt(u,A)):u;u=d,i+=2}}function YP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ld(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ht;r<i;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qt&&(t.e>mv||t.e<-mv))throw Error(vE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Lt(t,e,n){var r,i,s,l,u,d,m,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ht,i=e,m=g[p=0];else{if(p=Math.ceil((r+1)/Ht),s=g.length,p>=s)return t;for(m=s=g[p],l=1;s>=10;s/=10)l++;r%=Ht,i=r-Ht+l}if(n!==void 0&&(s=$l(10,l-i-1),u=m/s%10|0,d=e<0||g[p+1]!==void 0||m%s,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?m/$l(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(s=On(t),g.length=1,e=e-s-1,g[0]=$l(10,(Ht-e%Ht)%Ht),t.e=ld(-e/Ht)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=$l(10,Ht-r),g[p]=i>0?(m/$l(10,l-i)%$l(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==Kn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Kn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Qt&&(t.e>mv||t.e<-mv))throw Error(vE+On(t));return t}function L3(t,e){var n,r,i,s,l,u,d,m,p,g,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Qt?Lt(e,_):e;if(d=t.d,g=e.d,r=e.e,m=t.e,d=d.slice(),l=m-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=m,u=d.length),i=Math.max(Math.ceil(_/Ht),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=Kn-1;--d[s],d[i]+=Kn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Qt?Lt(e,_):e):new b(0)}function fc(t,e,n){var r,i=On(t),s=Ia(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Mo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Mo(-i-1)+s,n&&(r=n-l)>0&&(s+=Mo(r))):i>=l?(s+=Mo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Mo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Mo(r))),t.s<0?"-"+s:s}function WP(t,e){if(t.length>e)return t.length=e,!0}function z3(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ql+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return YP(l,s.toString())}else if(typeof s!="string")throw Error(Ql+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,KJ.test(s))YP(l,s);else throw Error(Ql+s)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=z3,i.config=i.set=GJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function GJ(t){if(!t||typeof t!="object")throw Error($i+"Object expected");var e,n,r,i=["precision",1,od,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ld(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ql+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ql+n+": "+r);return this}var yE=z3(HJ);ui=new yE(1);const At=yE;var YJ=t=>t,V3={},U3=t=>t===V3,XP=t=>function e(){return arguments.length===0||arguments.length===1&&U3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},$3=(t,e)=>t===1?e:XP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==V3).length;return s>=t?e(...r):$3(t-s,XP(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var m=r.map(p=>U3(p)?u.shift():p);return e(...m,...u)}))}),WJ=t=>$3(t.length,t),i_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},XJ=WJ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),QJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return YJ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}};function B3(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function q3(t,e,n){for(var r=new At(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var F3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},H3=(t,e,n)=>{if(t.lte(0))return new At(0);var r=B3(t.toNumber()),i=new At(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new At(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new At(d.toNumber()):new At(Math.ceil(d.toNumber()))},JJ=(t,e,n)=>{var r=new At(1),i=new At(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new At(10).pow(B3(t)-1),i=new At(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new At(Math.floor(t)))}else t===0?i=new At(Math.floor((e-1)/2)):n||(i=new At(Math.floor(t)));var l=Math.floor((e-1)/2),u=QJ(XJ(d=>i.add(new At(d-l).mul(r)).toNumber()),i_);return u(0,e)},K3=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var l=H3(new At(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new At(0):(u=new At(e).add(n).div(2),u=u.sub(new At(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),m=Math.ceil(new At(n).sub(u).div(l).toNumber()),p=d+m+1;return p>r?K3(e,n,r,i,s+1):(p<r&&(m=n>0?m+(r-p):m,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new At(d).mul(l)),tickMax:u.add(new At(m).mul(l))})},ZJ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=F3([n,r]);if(u===-1/0||d===1/0){var m=d===1/0?[u,...i_(0,i-1).map(()=>1/0)]:[...i_(0,i-1).map(()=>-1/0),d];return n>r?m.reverse():m}if(u===d)return JJ(u,i,s);var{step:p,tickMin:g,tickMax:b}=K3(u,d,l,s,0),_=q3(g,b.add(new At(.1).mul(p)),p);return n>r?_.reverse():_},eZ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=F3([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),m=H3(new At(u).sub(l).div(d-1),s,0),p=[...q3(new At(l),new At(u),m),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},G3=t=>t.rootProps.maxBarSize,tZ=t=>t.rootProps.barGap,Y3=t=>t.rootProps.barCategoryGap,nZ=t=>t.rootProps.barSize,qh=t=>t.rootProps.stackOffset,W3=t=>t.rootProps.reverseStackOrder,bE=t=>t.options.chartName,xE=t=>t.rootProps.syncId,X3=t=>t.rootProps.syncMethod,wE=t=>t.options.eventEmitter,rZ=t=>t.rootProps.baseValue,vn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},gs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ci={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},C0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},iZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gs.angleAxisId,includeHidden:!1,name:void 0,reversed:gs.reversed,scale:gs.scale,tick:gs.tick,tickCount:void 0,ticks:void 0,type:gs.type,unit:void 0},aZ={allowDataOverflow:ci.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,ticks:void 0,type:ci.type,unit:void 0},sZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gs.scale,tick:gs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oZ={allowDataOverflow:ci.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,ticks:void 0,type:"category",unit:void 0},_E=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?sZ:iZ,SE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?oZ:aZ,O0=t=>t.polarOptions,EE=le([qs,Fs,Dn],G5),Q3=le([O0,EE],(t,e)=>{if(t!=null)return br(t.innerRadius,e,0)}),J3=le([O0,EE],(t,e)=>{if(t!=null)return br(t.outerRadius,e,e*.8)}),lZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Z3=le([O0],lZ);le([_E,Z3],C0);var e6=le([EE,Q3,J3],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([SE,e6],C0);var t6=le([tt,O0,Q3,J3,qs,Fs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:m}=e;return{cx:br(l,i,i/2),cy:br(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:m,clockWise:!1}}}),Jt=(t,e)=>e,Fh=(t,e,n)=>n;function I0(t){return t?.id}function n6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var d,m=(d=u.data)!==null&&d!==void 0?d:r;if(!(m==null||m.length===0)){var p=I0(u);m.forEach((g,b)=>{var _=s==null||i?b:String(bt(g,s,null)),S=bt(g,u.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[p]:S}),l.set(_,E)})}}),Array.from(l.values())}function P0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var R0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function k0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function cZ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var zn=t=>{var e=tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},cd=t=>t.tooltip.settings.axisId;function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){uZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uZ(t,e,n){return(e=dZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a_=[0,"auto"],qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},r6=(t,e)=>t.cartesianAxis.xAxis[e],Gs=(t,e)=>{var n=r6(t,e);return n??qn},Fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:a_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dh},i6=(t,e)=>t.cartesianAxis.yAxis[e],Ys=(t,e)=>{var n=i6(t,e);return n??Fn},hZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},AE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??hZ},nn=(t,e,n)=>{switch(e){case"xAxis":return Gs(t,n);case"yAxis":return Ys(t,n);case"zAxis":return AE(t,n);case"angleAxis":return _E(t,n);case"radiusAxis":return SE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},mZ=(t,e,n)=>{switch(e){case"xAxis":return Gs(t,n);case"yAxis":return Ys(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Hh=(t,e,n)=>{switch(e){case"xAxis":return Gs(t,n);case"yAxis":return Ys(t,n);case"angleAxis":return _E(t,n);case"radiusAxis":return SE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},a6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function TE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Kh=t=>t.graphicalItems.cartesianItems,pZ=le([Jt,Fh],TE),NE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Gh=le([Kh,nn,pZ],NE,{memoizeOptions:{resultEqualityCheck:k0}}),s6=le([Gh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(P0)),o6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),gZ=le([Gh],o6),jE=t=>t.map(e=>e.data).filter(Boolean).flat(1),vZ=le([Gh],jE,{memoizeOptions:{resultEqualityCheck:k0}}),CE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},OE=le([vZ,gE],CE),IE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:bt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:bt(i,r)}))):t.map(r=>({value:r})),M0=le([OE,nn,Gh],IE);function l6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function og(t){if(Ua(t)||t instanceof Date){var e=Number(t);if(zt(e))return e}}function JP(t){if(Array.isArray(t)){var e=[og(t[0]),og(t[1])];return il(e)?e:void 0}var n=og(t);if(n!=null)return[n,n]}function Ls(t){return t.map(og).filter(uH)}function yZ(t,e,n){return!n||typeof e!="number"||Vi(e)?[]:n.length?Ls(n.flatMap(r=>{var i=bt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!zt(s)||!zt(l)))return[e-s,e+l]})):[]}var Vn=t=>{var e=zn(t),n=cd(t);return Hh(t,e,n)},Yh=le([Vn],t=>t?.dataKey),bZ=le([s6,gE,Vn],n6),c6=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,m=r?[...d].reverse():d,p=m.map(I0);return[u,{stackedData:LG(t,p,n),graphicalItems:m}]}))},gv=le([bZ,s6,qh,W3],c6),u6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=$G(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},xZ=le([nn],t=>t.allowDataOverflow),PE=t=>{var e;if(t==null||!("domain"in t))return a_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ls(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:a_},RE=le([nn],PE),kE=le([RE,xZ],R3),wZ=le([gv,Ks,Jt,kE],u6,{memoizeOptions:{resultEqualityCheck:R0}}),D0=t=>t.errorBars,_Z=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>l6(n,r)),vv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},ME=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var m,p,g=(m=r[d.id])===null||m===void 0?void 0:m.filter(O=>l6(i,O)),b=bt(u,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),_=yZ(u,b,g);if(_.length>=2){var S=Math.min(..._),E=Math.max(..._);(s==null||S<s)&&(s=S),(l==null||E>l)&&(l=E)}var A=JP(b);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=JP(bt(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),zt(s)&&zt(l))return[s,l]},SZ=le([OE,nn,gZ,D0,Jt],ME,{memoizeOptions:{resultEqualityCheck:R0}});function EZ(t){var{value:e}=t;if(Ua(e)||e instanceof Date)return e}var AZ=(t,e,n)=>{var r=t.map(EZ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&A4(r))?Q5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},d6=t=>t.referenceElements.dots,ud=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),TZ=le([d6,Jt,Fh],ud),f6=t=>t.referenceElements.areas,NZ=le([f6,Jt,Fh],ud),h6=t=>t.referenceElements.lines,jZ=le([h6,Jt,Fh],ud),m6=(t,e)=>{if(t!=null){var n=Ls(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},CZ=le(TZ,Jt,m6),p6=(t,e)=>{if(t!=null){var n=Ls(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},OZ=le([NZ,Jt],p6);function IZ(t){var e;if(t.x!=null)return Ls([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ls(n)}function PZ(t){var e;if(t.y!=null)return Ls([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ls(n)}var g6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?IZ(r):PZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},RZ=le([jZ,Jt],g6),kZ=le(CZ,RZ,OZ,(t,e,n)=>vv(t,n,e)),DE=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",m=d?vv(r,s,i):vv(s,i);return FJ(e,m,t.allowDataOverflow)},MZ=le([nn,RE,kE,wZ,SZ,kZ,tt,Jt],DE,{memoizeOptions:{resultEqualityCheck:R0}}),DZ=[0,1],LE=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,m=Ha(e,s);if(m&&u==null){var p;return Q5(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?AZ(r,t,m):i==="expand"?DZ:l}},zE=le([nn,tt,OE,M0,qh,Jt,MZ],LE),v6=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Ih(s));return u in Of?u:"point"}}},dd=le([nn,tt,a6,bE,Jt],v6);function LZ(t){if(t!=null){if(t in Of)return Of[t]();var e="scale".concat(Ih(t));if(e in Of)return Of[e]()}}function VE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=LZ(e);if(i!=null){var s=i.domain(n).range(r);return PG(s),s}}}var UE=(t,e,n)=>{var r=PE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&il(t))return ZJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&il(t))return eZ(t,e.tickCount,e.allowDecimals)}},$E=le([zE,Hh,dd],UE),BE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&il(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},zZ=le([nn,zE,$E,Jt],BE),VZ=le(M0,nn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ls(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],m=r[u+1];if(!(d==null||m==null)){var p=m-d;n=Math.min(n,p)}}return n/l}}),y6=le(VZ,tt,Y3,Dn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!zt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=br(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),UZ=(t,e,n)=>{var r=Gs(t,e);return r==null||typeof r.padding!="string"?0:y6(t,"xAxis",e,n,r.padding)},$Z=(t,e,n)=>{var r=Ys(t,e);return r==null||typeof r.padding!="string"?0:y6(t,"yAxis",e,n,r.padding)},BZ=le(Gs,UZ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),qZ=le(Ys,$Z,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),FZ=le([Dn,BZ,m0,h0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),HZ=le([Dn,tt,qZ,m0,h0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Wh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return FZ(t,n,r);case"yAxis":return HZ(t,n,r);case"zAxis":return(i=AE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Z3(t);case"radiusAxis":return e6(t,n);default:return}},b6=le([nn,Wh],C0),L0=le([nn,dd,zZ,b6],VE);le([Gh,D0,Jt],_Z);function x6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var z0=(t,e)=>e,V0=(t,e,n)=>n,KZ=le(d0,z0,V0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(x6)),GZ=le(f0,z0,V0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(x6)),w6=(t,e)=>({width:t.width,height:e.height}),YZ=(t,e)=>{var n=typeof e.width=="number"?e.width:Dh;return{width:n,height:t.height}},_6=le(Dn,Gs,w6),WZ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},XZ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},QZ=le(Fs,Dn,KZ,z0,V0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=w6(e,u);l==null&&(l=WZ(e,r,t));var m=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(m)*d.height,l+=(m?-1:1)*d.height}),s}),JZ=le(qs,Dn,GZ,z0,V0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=YZ(e,u);l==null&&(l=XZ(e,r,t));var m=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(m)*d.width,l+=(m?-1:1)*d.width}),s}),ZZ=(t,e)=>{var n=Gs(t,e);if(n!=null)return QZ(t,n.orientation,n.mirror)},eee=le([Dn,Gs,ZZ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),tee=(t,e)=>{var n=Ys(t,e);if(n!=null)return JZ(t,n.orientation,n.mirror)},nee=le([Dn,Ys,tee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),S6=le(Dn,Ys,(t,e)=>{var n=typeof e.width=="number"?e.width:Dh;return{width:n,height:t.height}}),ZP=(t,e,n)=>{switch(e){case"xAxis":return _6(t,n).width;case"yAxis":return S6(t,n).height;default:return}},E6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=Ha(t,r),d=e.map(m=>m.value);if(l&&u&&s==="category"&&i&&A4(d))return d}},qE=le([tt,M0,nn,Jt],E6),A6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Ha(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},FE=le([tt,M0,Hh,Jt],A6),eR=le([tt,mZ,dd,L0,qE,FE,Wh,$E,Jt],(t,e,n,r,i,s,l,u,d)=>{if(e!=null){var m=Ha(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:u,range:l,realScaleType:n,scale:r}}}),ree=(t,e,n,r,i,s,l,u,d)=>{if(!(e==null||r==null)){var m=Ha(t,d),{type:p,ticks:g,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/_:0;S=d==="angleAxis"&&s!=null&&s.length>=2?Gn(s[0]-s[1])*2*S:S;var E=g||i;if(E){var A=E.map((O,L)=>{var V=l?l.indexOf(O):O;return{index:L,coordinate:r(V)+S,value:O,offset:S}});return A.filter(O=>zt(O.coordinate))}return m&&u?u.map((O,L)=>({coordinate:r(O)+S,value:O,index:L,offset:S})).filter(O=>zt(O.coordinate)):r.ticks?r.ticks(b).map(O=>({coordinate:r(O)+S,value:O,offset:S})):r.domain().map((O,L)=>({coordinate:r(O)+S,value:l?l[O]:O,index:L,offset:S}))}},T6=le([tt,Hh,dd,L0,$E,Wh,qE,FE,Jt],ree),iee=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ha(t,l),{tickCount:d}=e,m=0;return m=l==="angleAxis"&&r?.length>=2?Gn(r[0]-r[1])*2*m:m,u&&s?s.map((p,g)=>({coordinate:n(p)+m,value:p,index:g,offset:m})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+m,value:p,offset:m})):n.domain().map((p,g)=>({coordinate:n(p)+m,value:i?i[p]:p,index:g,offset:m}))}},qa=le([tt,Hh,L0,Wh,qE,FE,Jt],iee),Fa=le(nn,L0,(t,e)=>{if(!(t==null||e==null))return pv(pv({},t),{},{scale:e})}),aee=le([nn,dd,zE,b6],VE);le((t,e,n)=>AE(t,n),aee,(t,e)=>{if(!(t==null||e==null))return pv(pv({},t),{},{scale:e})});var see=le([tt,d0,f0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),N6=t=>t.options.defaultTooltipEventType,j6=t=>t.options.validateTooltipEventTypes;function C6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function HE(t,e){var n=N6(t),r=j6(t);return C6(e,n,r)}function oee(t){return De(e=>HE(e,t))}var O6=(t,e)=>{var n,r=Number(e);if(!(Vi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},lee=t=>t.tooltip.settings,$o={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cee={itemInteraction:{click:$o,hover:$o},axisInteraction:{click:$o,hover:$o},keyboardInteraction:$o,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},I6=Xr({name:"tooltip",initialState:cee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Xt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ia(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Xt()},removeTooltipEntrySettings:{reducer(t,e){var n=ia(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Xt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:uee,replaceTooltipEntrySettings:dee,removeTooltipEntrySettings:fee,setTooltipSettingsState:hee,setActiveMouseOverItemIndex:P6,mouseLeaveItem:mee,mouseLeaveChart:R6,setActiveClickItemIndex:pee,setMouseOverAxisIndex:k6,setMouseClickAxisIndex:gee,setSyncInteraction:s_,setKeyboardInteraction:o_}=I6.actions,vee=I6.reducer;function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){yee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yee(t,e,n){return(e=bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=xee(t,"string");return typeof e=="symbol"?e:e+""}function xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function _ee(t){return t.index!=null}var M6=(t,e,n,r)=>{if(e==null)return $o;var i=wee(t,e,n);if(i==null)return $o;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(_ee(i)){if(s)return qp(qp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return qp(qp({},$o),{},{coordinate:i.coordinate})};function See(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Eee(t,e){var n=See(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Aee(t,e,n){if(n==null||e==null)return!0;var r=bt(t,e);return r==null||!il(n)?!0:Eee(r,n)}var KE=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!zt(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),m=e[d];return m==null||Aee(m,n,r)?String(d):null},D6=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],m=d==null?void 0:u(d.positions,s);if(m!=null)return m;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},L6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Xh=t=>t.options.tooltipPayloadSearcher,fd=t=>t.tooltip;function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e,n){return(e=Nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=jee(t,"string");return typeof e=="symbol"?e:e+""}function jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cee(t,e){return t??e}var z6=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:m,dataEndIndex:p}=n,g=[];return t.reduce((b,_)=>{var S,{dataDefinedOnItem:E,settings:A}=_,O=Cee(E,u),L=Array.isArray(O)?b5(O,m,p):O,V=(S=A?.dataKey)!==null&&S!==void 0?S:r,B=A?.nameKey,$;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&l==="axis"?$=T4(L,r,i):$=s(L,e,d,B),Array.isArray($))$.forEach(j=>{var N=rR(rR({},A),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});b.push(sI({tooltipEntrySettings:N,dataKey:j.dataKey,payload:j.payload,value:bt(j.payload,j.dataKey),name:j.name}))});else{var z;b.push(sI({tooltipEntrySettings:A,dataKey:V,payload:$,value:bt($,V),name:(z=bt($,B))!==null&&z!==void 0?z:A?.name}))}return b},g)}},GE=le([Vn,tt,a6,bE,zn],v6),Oee=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Iee=le([zn,cd],TE),hd=le([Oee,Vn,Iee],NE,{memoizeOptions:{resultEqualityCheck:k0}}),Pee=le([hd],t=>t.filter(P0)),Ree=le([hd],jE,{memoizeOptions:{resultEqualityCheck:k0}}),md=le([Ree,Ks],CE),kee=le([Pee,Ks,Vn],n6),YE=le([md,Vn,hd],IE),V6=le([Vn],PE),Mee=le([Vn],t=>t.allowDataOverflow),U6=le([V6,Mee],R3),Dee=le([hd],t=>t.filter(P0)),Lee=le([kee,Dee,qh,W3],c6),zee=le([Lee,Ks,zn,U6],u6),Vee=le([hd],o6),Uee=le([md,Vn,Vee,D0,zn],ME,{memoizeOptions:{resultEqualityCheck:R0}}),$ee=le([d6,zn,cd],ud),Bee=le([$ee,zn],m6),qee=le([f6,zn,cd],ud),Fee=le([qee,zn],p6),Hee=le([h6,zn,cd],ud),Kee=le([Hee,zn],g6),Gee=le([Bee,Kee,Fee],vv),Yee=le([Vn,V6,U6,zee,Uee,Gee,tt,zn],DE),Qh=le([Vn,tt,md,YE,qh,zn,Yee],LE),Wee=le([Qh,Vn,GE],UE),Xee=le([Vn,Qh,Wee,zn],BE),$6=t=>{var e=zn(t),n=cd(t),r=!1;return Wh(t,e,n,r)},B6=le([Vn,$6],C0),q6=le([Vn,GE,Xee,B6],VE),Qee=le([tt,YE,Vn,zn],E6),Jee=le([tt,YE,Vn,zn],A6),Zee=(t,e,n,r,i,s,l,u)=>{if(e){var{type:d}=e,m=Ha(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Gn(i[0]-i[1])*2*g:g,m&&l?l.map((b,_)=>({coordinate:r(b)+g,value:b,index:_,offset:g})):r.domain().map((b,_)=>({coordinate:r(b)+g,value:s?s[b]:b,index:_,offset:g}))}}},Ws=le([tt,Vn,GE,q6,$6,Qee,Jee,zn],Zee),WE=le([N6,j6,lee],(t,e,n)=>C6(n.shared,t,e)),F6=t=>t.tooltip.settings.trigger,XE=t=>t.tooltip.settings.defaultIndex,Jh=le([fd,WE,F6,XE],M6),al=le([Jh,md,Yh,Qh],KE),H6=le([Ws,al],O6),QE=le([Jh],t=>{if(t)return t.dataKey}),ete=le([Jh],t=>{if(t)return t.graphicalItemId}),K6=le([fd,WE,F6,XE],L6),tte=le([qs,Fs,tt,Dn,Ws,XE,K6,Xh],D6),nte=le([Jh,tte],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),rte=le([Jh],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),ite=le([K6,al,Ks,Yh,H6,Xh,WE],z6),ate=le([ite],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cte=()=>De(Vn),ute=()=>{var t=cte(),e=De(Ws),n=De(q6);return rl(!t||!n?void 0:aR(aR({},t),{},{scale:n}),e)};function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return(e=fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=hte(t,"string");return typeof e=="symbol"?e:e+""}function hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mte=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},pte=(t,e,n,r)=>{var i=e.find(m=>m&&m.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return lu(lu(lu({},r),Cn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return lu(lu(lu({},r),Cn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var G6=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,m,p,g,b,_=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(m=n[l-1])===null||m===void 0?void 0:m.coordinate,S=(p=n[u])===null||p===void 0?void 0:p.coordinate,E=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,A=void 0;if(!(_==null||S==null||E==null))if(Gn(S-_)!==Gn(E-S)){var O=[];if(Gn(E-S)===Gn(i[1]-i[0])){A=E;var L=S+i[1]-i[0];O[0]=Math.min(L,(L+_)/2),O[1]=Math.max(L,(L+_)/2)}else{A=_;var V=E+i[1]-i[0];O[0]=Math.min(S,(V+S)/2),O[1]=Math.max(S,(V+S)/2)}var B=[Math.min(S,(A+S)/2),Math.max(S,(A+S)/2)];if(t>B[0]&&t<=B[1]||t>=O[0]&&t<=O[1]){var $;return($=n[u])===null||$===void 0?void 0:$.index}}else{var z=Math.min(_,E),j=Math.max(_,E);if(t>(z+S)/2&&t<=(j+S)/2){var N;return(N=n[u])===null||N===void 0?void 0:N.index}}}else if(e)for(var M=0;M<l;M++){var P=e[M];if(P!=null){var I=e[M+1],D=e[M-1];if(M===0&&I!=null&&t<=(P.coordinate+I.coordinate)/2||M===l-1&&D!=null&&t>(P.coordinate+D.coordinate)/2||M>0&&M<l-1&&D!=null&&I!=null&&t>(P.coordinate+D.coordinate)/2&&t<=(P.coordinate+I.coordinate)/2)return P.index}}return-1},Y6=()=>De(bE),JE=(t,e)=>e,W6=(t,e,n)=>n,ZE=(t,e,n,r)=>r,vte=le(Ws,t=>t0(t,e=>e.coordinate)),eA=le([fd,JE,W6,ZE],M6),tA=le([eA,md,Yh,Qh],KE),yte=(t,e,n)=>{if(e!=null){var r=fd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},X6=le([fd,JE,W6,ZE],L6),yv=le([qs,Fs,tt,Dn,Ws,ZE,X6,Xh],D6),bte=le([eA,yv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Q6=le([Ws,tA],O6),xte=le([X6,tA,Ks,Yh,Q6,Xh,JE],z6),wte=le([eA,tA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),_te=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&gte(t,l)){var u=BG(t,e),d=G6(u,s,i,n,r),m=mte(e,i,d,t);return{activeIndex:String(d),activeCoordinate:m}}},Ste=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=sX(t,n);if(u){var d=qG(u,e),m=G6(d,l,s,r,i),p=pte(e,s,m,u);return{activeIndex:String(m),activeCoordinate:p}}}},Ete=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?_te(t,e,r,i,s,l,u):Ste(t,e,n,r,i,s,l)},Ate=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Tte=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(vn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:cZ}});function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ote={},Ite={zIndexMap:Object.values(vn).reduce((t,e)=>lR(lR({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Ote)},Pte=new Set(Object.values(vn));function Rte(t){return Pte.has(t)}var J6=Xr({name:"zIndex",initialState:Ite,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Xt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Rte(n)&&delete t.zIndexMap[n])},prepare:Xt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Xt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Xt()}}}),{registerZIndexPortal:kte,unregisterZIndexPortal:Mte,registerZIndexPortalElement:Dte,unregisterZIndexPortalElement:Lte}=J6.actions,zte=J6.reducer;function Mr(t){var{zIndex:e,children:n}=t,r=wY(),i=r&&e!==void 0&&e!==0,s=Yn(),l=Bt();w.useLayoutEffect(()=>i?(l(kte({zIndex:e})),()=>{l(Mte({zIndex:e}))}):Ph,[l,e,i]);var u=De(d=>Ate(d,e,s));return i?u?ES.createPortal(n,u):null:n}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(null,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function qte(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:m,chartName:p}=t,g=n,b=r,_=i;if(!d||!g||p!=="ScatterChart"&&m!=="axis")return null;var S,E,A;if(p==="ScatterChart")S=g,E=xW,A=vn.cursorLine;else if(p==="BarChart")S=wW(u,g,s,l),E=K5,A=vn.cursorRectangle;else if(u==="radial"&&j4(g)){var{cx:O,cy:L,radius:V,startAngle:B,endAngle:$}=Y5(g);S={cx:O,cy:L,startAngle:B,endAngle:$,innerRadius:V,outerRadius:V},E=X5,A=vn.cursorLine}else S={points:uX(u,g,s)},E=Tu,A=vn.cursorLine;var z=typeof d=="object"&&"className"in d?d.className:void 0,j=Fp(Fp(Fp(Fp({stroke:"#ccc",pointerEvents:"none"},s),S),sc(d)),{},{payload:b,payloadIndex:_,className:dt("recharts-tooltip-cursor",z)});return w.createElement(Mr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},w.createElement(Bte,{cursor:d,cursorComp:E,cursorProps:j}))}function Fte(t){var e=ute(),n=O5(),r=dl(),i=Y6();return e==null||n==null||r==null||i==null?null:w.createElement(qte,l_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Z6=w.createContext(null),Hte=()=>w.useContext(Z6),I1={exports:{}},uR;function Kte(){return uR||(uR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,m,p){this.fn=d,this.context=m,this.once=p||!1}function s(d,m,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||d,b),S=n?n+m:m;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],_]:d._events[S].push(_):(d._events[S]=_,d._eventsCount++),d}function l(d,m){--d._eventsCount===0?d._events=new r:delete d._events[m]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)e.call(p,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=n?n+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,S=new Array(_);b<_;b++)S[b]=g[b].fn;return S},u.prototype.listenerCount=function(m){var p=n?n+m:m,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(m,p,g,b,_,S){var E=n?n+m:m;if(!this._events[E])return!1;var A=this._events[E],O=arguments.length,L,V;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),O){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,b),!0;case 5:return A.fn.call(A.context,p,g,b,_),!0;case 6:return A.fn.call(A.context,p,g,b,_,S),!0}for(V=1,L=new Array(O-1);V<O;V++)L[V-1]=arguments[V];A.fn.apply(A.context,L)}else{var B=A.length,$;for(V=0;V<B;V++)switch(A[V].once&&this.removeListener(m,A[V].fn,void 0,!0),O){case 1:A[V].fn.call(A[V].context);break;case 2:A[V].fn.call(A[V].context,p);break;case 3:A[V].fn.call(A[V].context,p,g);break;case 4:A[V].fn.call(A[V].context,p,g,b);break;default:if(!L)for($=1,L=new Array(O-1);$<O;$++)L[$-1]=arguments[$];A[V].fn.apply(A[V].context,L)}}return!0},u.prototype.on=function(m,p,g){return s(this,m,p,g,!1)},u.prototype.once=function(m,p,g){return s(this,m,p,g,!0)},u.prototype.removeListener=function(m,p,g,b){var _=n?n+m:m;if(!this._events[_])return this;if(!p)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===p&&(!b||S.once)&&(!g||S.context===g)&&l(this,_);else{for(var E=0,A=[],O=S.length;E<O;E++)(S[E].fn!==p||b&&!S[E].once||g&&S[E].context!==g)&&A.push(S[E]);A.length?this._events[_]=A.length===1?A[0]:A:l(this,_)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=n?n+m:m,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(I1)),I1.exports}var Gte=Kte();const Yte=Us(Gte);var uh=new Yte,c_="recharts.syncEvent.tooltip",dR="recharts.syncEvent.brush";function eL(t,e){if(e){var n=Number.parseInt(e,10);if(!Vi(n))return t?.[n]}}var Wte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},tL=Xr({name:"options",initialState:Wte,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Xte=tL.reducer,{createEventEmitter:Qte}=tL.actions;function Jte(t){return t.tooltip.syncInteraction}var Zte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nL=Xr({name:"chartData",initialState:Zte,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fR,setDataStartEndIndexes:ene,setComputedData:Efe}=nL.actions,tne=nL.reducer,nne=["x","y"];function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return(e=ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=ane(t,"string");return typeof e=="symbol"?e:e+""}function ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sne(t,e){if(t==null)return{};var n,r,i=one(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function one(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lne(){var t=De(xE),e=De(wE),n=Bt(),r=De(X3),i=De(Ws),s=dl(),l=g0(),u=De(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return Ph;var d=(m,p,g)=>{if(e!==g&&t===m){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:S,y:E}=_,A=sne(_,nne),{x:O,y:L,width:V,height:B}=p.payload.sourceViewBox,$=cu(cu({},A),{},{x:l.x+(V?(S-O)/V:0)*l.width,y:l.y+(B?(E-L)/B:0)*l.height});n(cu(cu({},p),{},{payload:cu(cu({},p.payload),{},{coordinate:$})}))}else n(p);return}if(i!=null){var z;if(typeof r=="function"){var j={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},N=r(i,j);z=i[N]}else r==="value"&&(z=i.find(K=>String(K.value)===p.payload.label));var{coordinate:M}=p.payload;if(z==null||p.payload.active===!1||M==null||l==null){n(s_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:I}=M,D=Math.min(P,l.x+l.width),k=Math.min(I,l.y+l.height),ne={x:s==="horizontal"?z.coordinate:D,y:s==="horizontal"?k:z.coordinate},G=s_({active:p.payload.active,coordinate:ne,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(G)}}};return uh.on(c_,d),()=>{uh.off(c_,d)}},[u,n,e,t,r,i,s,l])}function cne(){var t=De(xE),e=De(wE),n=Bt();w.useEffect(()=>{if(t==null)return Ph;var r=(i,s,l)=>{e!==l&&t===i&&n(ene(s))};return uh.on(dR,r),()=>{uh.off(dR,r)}},[n,e,t])}function une(){var t=Bt();w.useEffect(()=>{t(Qte())},[t]),lne(),cne()}function dne(t,e,n,r,i,s){var l=De(_=>yte(_,t,e)),u=De(wE),d=De(xE),m=De(X3),p=De(Jte),g=p?.active,b=g0();w.useEffect(()=>{if(!g&&d!=null&&u!=null){var _=s_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});uh.emit(c_,d,_,u)}},[g,n,l,i,r,u,d,m,s,b])}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return(e=hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t){return t.dataKey}function gne(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(ZY,e)}var gR=[],vne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function U0(t){var e,n,r=un(t,vne),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:b,position:_,reverseDirection:S,useTranslate3d:E,wrapperStyle:A,cursor:O,shared:L,trigger:V,defaultIndex:B,portal:$,axisId:z}=r,j=Bt(),N=typeof B=="number"?String(B):B;w.useEffect(()=>{j(hee({shared:L,trigger:V,axisId:z,active:i,defaultIndex:N}))},[j,L,V,z,i,N]);var M=g0(),P=$5(),I=oee(L),{activeIndex:D,isActive:k}=(e=De(pe=>wte(pe,I,V,N)))!==null&&e!==void 0?e:{},ne=De(pe=>xte(pe,I,V,N)),G=De(pe=>Q6(pe,I,V,N)),K=De(pe=>bte(pe,I,V,N)),Z=ne,ie=Hte(),te=(n=i??k)!==null&&n!==void 0?n:!1,[se,U]=q4([Z,te]),X=I==="axis"?G:void 0;dne(I,V,K,X,D,te);var Y=$??ie;if(Y==null||M==null||I==null)return null;var W=Z??gR;te||(W=gR),m&&W.length&&(W=z4(W.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),b,pne));var ge=W.length>0,ve=w.createElement(sW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:te,coordinate:K,hasPayload:ge,offset:g,position:_,reverseDirection:S,useTranslate3d:E,viewBox:M,wrapperStyle:A,lastBoundingBox:se,innerRef:U,hasPortalFromProps:!!$},gne(d,pR(pR({},r),{},{payload:W,label:X,active:te,activeIndex:D,coordinate:K,accessibilityLayer:P})));return w.createElement(w.Fragment,null,ES.createPortal(ve,Y),te&&w.createElement(Fte,{cursor:O,tooltipEventType:I,coordinate:K,payload:W,index:D}))}var Zh=t=>null;Zh.displayName="Cell";function yne(t,e,n){return(e=bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=xne(t,"string");return typeof e=="symbol"?e:e+""}function xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wne{constructor(e){yne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Ane(t,"string");return typeof e=="symbol"?e:e+""}function Ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tne={cacheSize:2e3,enableCache:!0},rL=_ne({},Tne),yR=new wne(rL.cacheSize),Nne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bR="recharts_measurement_span";function jne(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var xR=(t,e)=>{try{var n=document.getElementById(bR);n||(n=document.createElement("span"),n.setAttribute("id",bR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Nne,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zh.isSsr)return{width:0,height:0};if(!rL.enableCache)return xR(e,n);var r=jne(e,n),i=yR.get(r);if(i)return i;var s=xR(e,n);return yR.set(r,s),s},iL;function Cne(t,e,n){return(e=One(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=Ine(t,"string");return typeof e=="symbol"?e:e+""}function Ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_R=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mne=["cm","mm","pt","pc","in","Q","px"];function Dne(t){return Mne.includes(t)}var bu="NaN";function Lne(t,e){return t*kne[e]}class ir{static parse(e){var n,[,r,i]=(n=Rne.exec(e))!==null&&n!==void 0?n:[];return r==null?ir.NaN:new ir(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Vi(e)&&(this.unit=""),n!==""&&!Pne.test(n)&&(this.num=NaN,this.unit=""),Dne(n)&&(this.num=Lne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vi(this.num)}}iL=ir;Cne(ir,"NaN",new iL(NaN,""));function aL(t){if(t==null||t.includes(bu))return bu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=wR.exec(e))!==null&&n!==void 0?n:[],l=ir.parse(r??""),u=ir.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return bu;e=e.replace(wR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,[,p,g,b]=(m=_R.exec(e))!==null&&m!==void 0?m:[],_=ir.parse(p??""),S=ir.parse(b??""),E=g==="+"?_.add(S):_.subtract(S);if(E.isNaN())return bu;e=e.replace(_R,E.toString())}return e}var SR=/\(([^()]*)\)/;function zne(t){for(var e=t,n;(n=SR.exec(e))!=null;){var[,r]=n;e=e.replace(SR,aL(r))}return e}function Vne(t){var e=t.replace(/\s+/g,"");return e=zne(e),e=aL(e),e}function Une(t){try{return Vne(t)}catch{return bu}}function P1(t){var e=Une(t.slice(5,-1));return e===bu?"":e}var $ne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Bne=["dx","dy","angle","className","breakAll"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(null,arguments)}function ER(t,e){if(t==null)return{};var n,r,i=qne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sL=/[ \f\n\r\t\v\u2028\u2029]+/,oL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Kt(e)||(n?i=e.toString().split(""):i=e.toString().split(sL));var s=i.map(u=>({word:u,width:Lf(u,r).width})),l=n?0:Lf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Fne(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var lL=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var m={words:[l],width:u};i.push(m)}return i},[]),cL=t=>t.reduce((e,n)=>e.width>n.width?e:n),Hne="",AR=(t,e,n,r,i,s,l,u)=>{var d=t.slice(0,e),m=oL({breakAll:n,style:r,children:d+Hne});if(!m)return[!1,[]];var p=lL(m.wordsWithComputedWidth,s,l,u),g=p.length>i||cL(p).width>Number(s);return[g,p]},Kne=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,m=Oe(s),p=String(l),g=lL(e,r,n,i);if(!m||i)return g;var b=g.length>s||cL(g).width>Number(r);if(!b)return g;for(var _=0,S=p.length-1,E=0,A;_<=S&&E<=p.length-1;){var O=Math.floor((_+S)/2),L=O-1,[V,B]=AR(p,L,d,u,s,r,n,i),[$]=AR(p,O,d,u,s,r,n,i);if(!V&&!$&&(_=O+1),V&&$&&(S=O-1),!V&&$){A=B;break}E++}return A||g},TR=t=>{var e=Kt(t)?[]:t.toString().split(sL);return[{words:e,width:void 0}]},Gne=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!zh.isSsr){var u,d,m=oL({breakAll:s,children:r,style:i});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;u=p,d=g}else return TR(r);return Kne({breakAll:s,children:r,maxLines:l,style:i},u,d,e,!!n)}return TR(r)},uL="#808080",Yne={angle:0,breakAll:!1,capHeight:"0.71em",fill:uL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},$0=w.forwardRef((t,e)=>{var n=un(t,Yne),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:m,verticalAnchor:p}=n,g=ER(n,$ne),b=w.useMemo(()=>Gne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:_,dy:S,angle:E,className:A,breakAll:O}=g,L=ER(g,Bne);if(!Ua(r)||!Ua(i)||b.length===0)return null;var V=Number(r)+(Oe(_)?_:0),B=Number(i)+(Oe(S)?S:0);if(!zt(V)||!zt(B))return null;var $;switch(p){case"start":$=P1("calc(".concat(l,")"));break;case"middle":$=P1("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:$=P1("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var j=b[0].width,{width:N}=g;z.push("scale(".concat(Oe(N)&&Oe(j)?N/j:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(V,", ").concat(B,")")),z.length&&(L.transform=z.join(" ")),w.createElement("text",u_({},wr(L),{ref:e,x:V,y:B,className:dt("recharts-text",A),textAnchor:m,fill:u.includes("url")?uL:u}),b.map((M,P)=>{var I=M.words.join(O?"":" ");return w.createElement("tspan",{x:V,dy:P===0?$:s,key:"".concat(I,"-").concat(P)},I)}))});$0.displayName="Text";var Wne=["labelRef"],Xne=["content"];function NR(t,e){if(t==null)return{};var n,r,i=Qne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jne(t,e,n){return(e=Zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zne(t){var e=ere(t,"string");return typeof e=="symbol"?e:e+""}function ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(null,arguments)}var dL=w.createContext(null),tre=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,d=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return w.createElement(dL.Provider,{value:d},u)},fL=()=>{var t=w.useContext(dL),e=g0();return t||C5(e)},nre=w.createContext(null),rre=()=>{var t=w.useContext(nre),e=De(t6);return t||e},ire=t=>{var{value:e,formatter:n}=t,r=Kt(t.children)?e:t.children;return typeof n=="function"?n(r):r},nA=t=>t!=null&&typeof t=="function",are=(t,e)=>{var n=Gn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},sre=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:m,outerRadius:p,startAngle:g,endAngle:b,clockWise:_}=i,S=(m+p)/2,E=are(g,b),A=E>=0?1:-1,O,L;switch(e){case"insideStart":O=g+A*s,L=_;break;case"insideEnd":O=b-A*s,L=!_;break;case"end":O=b+A*s,L=_;break;default:throw new Error("Unsupported position ".concat(e))}L=E<=0?L:!L;var V=Cn(u,d,S,O),B=Cn(u,d,S,O+(L?1:-1)*359),$="M".concat(V.x,",").concat(V.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(L?0:1,`,
    `).concat(B.x,",").concat(B.y),z=Kt(t.id)?Qf("recharts-radial-line-"):t.id;return w.createElement("text",vs({},r,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:z,d:$})),w.createElement("textPath",{xlinkHref:"#".concat(z)},n))},ore=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,m=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Cn(r,i,l+e,m);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:S}=Cn(r,i,b,m);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},d_=t=>"cx"in t&&Oe(t.cx),lre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!d_(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:m,height:p}=e,g=l,b=l+(d-m)/2,_=(g+b)/2,S=(d+m)/2,E=g+d/2,A=p>=0?1:-1,O=A*r,L=A>0?"end":"start",V=A>0?"start":"end",B=d>=0?1:-1,$=B*r,z=B>0?"end":"start",j=B>0?"start":"end";if(i==="top"){var N={x:g+d/2,y:u-O,textAnchor:"middle",verticalAnchor:L};return pn(pn({},N),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var M={x:b+m/2,y:u+p+O,textAnchor:"middle",verticalAnchor:V};return pn(pn({},M),s?{height:Math.max(s.y+s.height-(u+p),0),width:m}:{})}if(i==="left"){var P={x:_-$,y:u+p/2,textAnchor:z,verticalAnchor:"middle"};return pn(pn({},P),s?{width:Math.max(P.x-s.x,0),height:p}:{})}if(i==="right"){var I={x:_+S+$,y:u+p/2,textAnchor:j,verticalAnchor:"middle"};return pn(pn({},I),s?{width:Math.max(s.x+s.width-I.x,0),height:p}:{})}var D=s?{width:S,height:p}:{};return i==="insideLeft"?pn({x:_+$,y:u+p/2,textAnchor:j,verticalAnchor:"middle"},D):i==="insideRight"?pn({x:_+S-$,y:u+p/2,textAnchor:z,verticalAnchor:"middle"},D):i==="insideTop"?pn({x:g+d/2,y:u+O,textAnchor:"middle",verticalAnchor:V},D):i==="insideBottom"?pn({x:b+m/2,y:u+p-O,textAnchor:"middle",verticalAnchor:L},D):i==="insideTopLeft"?pn({x:g+$,y:u+O,textAnchor:j,verticalAnchor:V},D):i==="insideTopRight"?pn({x:g+d-$,y:u+O,textAnchor:z,verticalAnchor:V},D):i==="insideBottomLeft"?pn({x:b+$,y:u+p-O,textAnchor:j,verticalAnchor:L},D):i==="insideBottomRight"?pn({x:b+m-$,y:u+p-O,textAnchor:z,verticalAnchor:L},D):i&&typeof i=="object"&&(Oe(i.x)||Ps(i.x))&&(Oe(i.y)||Ps(i.y))?pn({x:l+br(i.x,S),y:u+br(i.y,p),textAnchor:"end",verticalAnchor:"end"},D):pn({x:E,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},D)},cre={angle:0,offset:5,zIndex:vn.label,position:"middle",textBreakAll:!1};function Do(t){var e=un(t,cre),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:m}=e,p=rre(),g=fL(),b=r==="center"?g:p??g,_,S,E;if(n==null?_=b:d_(n)?_=n:_=C5(n),!_||Kt(i)&&Kt(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var A=pn(pn({},e),{},{viewBox:_});if(w.isValidElement(l)){var{labelRef:O}=A,L=NR(A,Wne);return w.cloneElement(l,L)}if(typeof l=="function"){var{content:V}=A,B=NR(A,Xne);if(S=w.createElement(l,B),w.isValidElement(S))return S}else S=ire(e);var $=wr(e);if(d_(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return sre(e,r,S,$,_);E=ore(_,e.offset,e.position)}else E=lre(e,_);return w.createElement(Mr,{zIndex:e.zIndex},w.createElement($0,vs({ref:m,className:dt("recharts-label",u)},$,E,{textAnchor:Fne($.textAnchor)?$.textAnchor:E.textAnchor,breakAll:d}),S))}Do.displayName="Label";var ure=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Do,vs({key:"label-implicit"},r)):Ua(t)?w.createElement(Do,vs({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Do?w.cloneElement(t,pn({key:"label-implicit"},r)):w.createElement(Do,vs({key:"label-implicit",content:t},r)):nA(t)?w.createElement(Do,vs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Do,vs({},t,{key:"label-implicit"},r)):null};function dre(t){var{label:e,labelRef:n}=t,r=fL();return ure(e,r,n)||null}var R1={},k1={},CR;function fre(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(k1)),k1}var M1={},OR;function hre(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(M1)),M1}var IR;function mre(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fre(),n=hre(),r=RS();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(R1)),R1}var D1,PR;function pre(){return PR||(PR=1,D1=mre().last),D1}var gre=pre();const vre=Us(gre);var yre=["valueAccessor"],bre=["dataKey","clockWise","id","textBreakAll","zIndex"];function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}function RR(t,e){if(t==null)return{};var n,r,i=xre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wre=t=>Array.isArray(t.value)?vre(t.value):t.value,hL=w.createContext(void 0),rA=hL.Provider,mL=w.createContext(void 0),_re=mL.Provider;function Sre(){return w.useContext(hL)}function Ere(){return w.useContext(mL)}function lg(t){var{valueAccessor:e=wre}=t,n=RR(t,yre),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=RR(n,bre),m=Sre(),p=Ere(),g=m||p;return!g||!g.length?null:w.createElement(Mr,{zIndex:u??vn.label},w.createElement(cn,{className:"recharts-label-list"},g.map((b,_)=>{var S,E=Kt(r)?e(b,_):bt(b&&b.payload,r),A=Kt(s)?{}:{id:"".concat(s,"-").concat(_)};return w.createElement(Do,bv({key:"label-".concat(_)},wr(b),d,A,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}lg.displayName="LabelList";function B0(t){var{label:e}=t;return e?e===!0?w.createElement(lg,{key:"labelList-implicit"}):w.isValidElement(e)||nA(e)?w.createElement(lg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(lg,bv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(null,arguments)}var pL=t=>{var{cx:e,cy:n,r,className:i}=t,s=dt("recharts-dot",i);return Oe(e)&&Oe(n)&&Oe(r)?w.createElement("circle",f_({},Rr(t),PS(t),{className:s,cx:e,cy:n,r})):null},gL=t=>t.graphicalItems.polarItems,Are=le([Jt,Fh],TE),q0=le([gL,nn,Are],NE),Tre=le([q0],jE),F0=le([Tre,j0],CE),Nre=le([F0,nn,q0],IE);le([F0,nn,q0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=bt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:bt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var kR=()=>{},jre=le([F0,nn,q0,D0,Jt],ME),Cre=le([nn,RE,kE,kR,jre,kR,tt,Jt],DE),vL=le([nn,tt,F0,Nre,qh,Jt,Cre],LE),Ore=le([vL,nn,dd],UE);le([nn,vL,Ore,Jt],BE);var Ire={radiusAxis:{},angleAxis:{}},yL=Xr({name:"polarAxis",initialState:Ire,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Afe,removeRadiusAxis:Tfe,addAngleAxis:Nfe,removeAngleAxis:jfe}=yL.actions,Pre=yL.reducer;function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rre(t,e,n){return(e=kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Mre(t,"string");return typeof e=="symbol"?e:e+""}function Mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dre=(t,e)=>e,iA=le([gL,Dre],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Lre=[],aA=(t,e,n)=>n?.length===0?Lre:n,bL=le([j0,iA,aA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>DR(DR({},e.presentationProps),s.props))),i!=null)return i}}),zre=le([bL,iA,aA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=bt(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:ul(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),Vre=le([bL,iA,aA,Dn],(t,e,n,r)=>{if(!(e==null||t==null))return $ie({offset:r,pieSettings:e,displayedData:t,cells:n})}),L1={exports:{}},Ot={};var LR;function Ure(){if(LR)return Ot;LR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case d:case m:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case p:return E;case s:return E;default:return A}}case e:return A}}}return Ot.ContextConsumer=s,Ot.ContextProvider=l,Ot.Element=t,Ot.ForwardRef=u,Ot.Fragment=n,Ot.Lazy=g,Ot.Memo=p,Ot.Portal=e,Ot.Profiler=i,Ot.StrictMode=r,Ot.Suspense=d,Ot.SuspenseList=m,Ot.isContextConsumer=function(E){return S(E)===s},Ot.isContextProvider=function(E){return S(E)===l},Ot.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Ot.isForwardRef=function(E){return S(E)===u},Ot.isFragment=function(E){return S(E)===n},Ot.isLazy=function(E){return S(E)===g},Ot.isMemo=function(E){return S(E)===p},Ot.isPortal=function(E){return S(E)===e},Ot.isProfiler=function(E){return S(E)===i},Ot.isStrictMode=function(E){return S(E)===r},Ot.isSuspense=function(E){return S(E)===d},Ot.isSuspenseList=function(E){return S(E)===m},Ot.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===m||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},Ot.typeOf=S,Ot}var zR;function $re(){return zR||(zR=1,L1.exports=Ure()),L1.exports}var Bre=$re(),VR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",UR=null,z1=null,xL=t=>{if(t===UR&&Array.isArray(z1))return z1;var e=[];return w.Children.forEach(t,n=>{Kt(n)||(Bre.isFragment(n)?e=e.concat(xL(n.props.children)):e.push(n))}),z1=e,UR=t,e};function sA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>VR(i)):r=[VR(e)],xL(t).forEach(i=>{var s=lc(i,"type.displayName")||lc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var oA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,V1={},$R;function qre(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(V1)),V1}var U1,BR;function Fre(){return BR||(BR=1,U1=qre().isPlainObject),U1}var Hre=Fre();const Kre=Us(Hre);var qR,FR,HR,KR,GR;function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(null,arguments)}function Sf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var XR=(t,e,n,r,i)=>{var s=n-r,l;return l=on(qR||(qR=Sf(["M ",",",""])),t,e),l+=on(FR||(FR=Sf(["L ",",",""])),t+n,e),l+=on(HR||(HR=Sf(["L ",",",""])),t+n-s/2,e+i),l+=on(KR||(KR=Sf(["L ",",",""])),t+n-s/2-r,e+i),l+=on(GR||(GR=Sf(["L ",","," Z"])),t,e),l},Xre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qre=t=>{var e=un(t,Xre),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=e,b=w.useRef(null),[_,S]=w.useState(-1),E=w.useRef(i),A=w.useRef(s),O=w.useRef(l),L=w.useRef(n),V=w.useRef(r),B=ad(t,"trapezoid-");if(w.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ne=b.current.getTotalLength();ne&&S(ne)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var $=dt("recharts-trapezoid",u);if(!g)return w.createElement("g",null,w.createElement("path",xv({},wr(e),{className:$,d:XR(n,r,i,s,l)})));var z=E.current,j=A.current,N=O.current,M=L.current,P=V.current,I="0px ".concat(_===-1?1:_,"px"),D="".concat(_,"px 0px"),k=B5(["strokeDasharray"],m,d);return w.createElement(id,{animationId:B,key:B,canBegin:_>0,duration:m,easing:d,isActive:g,begin:p},ne=>{var G=yt(z,i,ne),K=yt(j,s,ne),Z=yt(N,l,ne),ie=yt(M,n,ne),te=yt(P,r,ne);b.current&&(E.current=G,A.current=K,O.current=Z,L.current=ie,V.current=te);var se=ne>0?{transition:k,strokeDasharray:D}:{strokeDasharray:I};return w.createElement("path",xv({},wr(e),{className:$,d:XR(ie,te,G,K,Z),ref:b,style:WR(WR({},se),e.style)}))})},Jre=["option","shapeType","activeClassName"];function Zre(t,e){if(t==null)return{};var n,r,i=eie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e,n){return(e=nie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nie(t){var e=rie(t,"string");return typeof e=="symbol"?e:e+""}function rie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iie(t,e){return wv(wv({},e),t)}function aie(t,e){return t==="symbols"}function JR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(K5,n);case"trapezoid":return w.createElement(Qre,n);case"sector":return w.createElement(X5,n);case"symbols":if(aie(e))return w.createElement(IS,n);break;case"curve":return w.createElement(Tu,n);default:return null}}function sie(t){return w.isValidElement(t)?t.props:t}function lA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Zre(t,Jre),s;if(w.isValidElement(e))s=w.cloneElement(e,wv(wv({},i),sie(e)));else if(typeof e=="function")s=e(i,i.index);else if(Kre(e)&&typeof e!="boolean"){var l=iie(e,i);s=w.createElement(JR,{shapeType:n,elementProps:l})}else{var u=i;s=w.createElement(JR,{shapeType:n,elementProps:u})}return i.isActive?w.createElement(cn,{className:r},s):s}var cA=(t,e,n)=>{var r=Bt();return(i,s)=>l=>{t?.(i,s,l),r(P6({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},uA=t=>{var e=Bt();return(n,r)=>i=>{t?.(n,r,i),e(mee())}},dA=(t,e,n)=>{var r=Bt();return(i,s)=>l=>{t?.(i,s,l),r(pee({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function H0(t){var{tooltipEntrySettings:e}=t,n=Bt(),r=Yn(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(uee(e)):i.current!==e&&n(dee({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(fee(i.current)),i.current=null)},[n]),null}function fA(t){var{legendPayload:e}=t,n=Bt(),r=Yn(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(z5(e)):i.current!==e&&n(V5({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(U5(i.current)),i.current=null)},[n]),null}function oie(t){var{legendPayload:e}=t,n=Bt(),r=De(tt),i=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(z5(e)):i.current!==e&&n(V5({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(U5(i.current)),i.current=null)},[n]),null}var $1,lie=()=>{var[t]=w.useState(()=>Qf("uid-"));return t},cie=($1=l9.useId)!==null&&$1!==void 0?$1:lie;function uie(t,e){var n=cie();return e||(t?"".concat(t,"-").concat(n):n)}var die=w.createContext(void 0),K0=t=>{var{id:e,type:n,children:r}=t,i=uie("recharts-".concat(n),e);return w.createElement(die.Provider,{value:i},r(i))},fie={cartesianItems:[],polarItems:[]},wL=Xr({name:"graphicalItems",initialState:fie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Xt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ia(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Xt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ia(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Xt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Xt()},removePolarGraphicalItem:{reducer(t,e){var n=ia(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Xt()}}}),{addCartesianGraphicalItem:hie,replaceCartesianGraphicalItem:mie,removeCartesianGraphicalItem:pie,addPolarGraphicalItem:gie,removePolarGraphicalItem:vie}=wL.actions,yie=wL.reducer,bie=t=>{var e=Bt(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(hie(t)):n.current!==t&&e(mie({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(pie(n.current)),n.current=null)},[e]),null},hA=w.memo(bie);function xie(t){var e=Bt();return w.useLayoutEffect(()=>(e(gie(t)),()=>{e(vie(t))}),[e,t]),null}var wie=["key"],_ie=["onMouseEnter","onClick","onMouseLeave"],Sie=["id"],Eie=["id"];function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return(e=Tie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=Nie(t,"string");return typeof e=="symbol"?e:e+""}function Nie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(null,arguments)}function G0(t,e){if(t==null)return{};var n,r,i=jie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cie(t){var e=w.useMemo(()=>sA(t.children,Zh),[t.children]),n=De(r=>zre(r,t.id,e));return n==null?null:w.createElement(oie,{legendPayload:n})}var Oie=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:ul(u,e),hide:d,type:m,color:l,unit:"",graphicalItemId:p}};return w.createElement(H0,{tooltipEntrySettings:g})}),Iie=(t,e)=>t>e?"start":t<e?"end":"middle",Pie=(t,e,n)=>br(typeof e=="function"?e(t):e,n,n*.8),Rie=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=G5(s,l),d=i+br(t.cx,s,s/2),m=r+br(t.cy,l,l/2),p=br(t.innerRadius,u,0),g=Pie(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:m,innerRadius:p,outerRadius:g,maxRadius:b}},kie=(t,e)=>{var n=Gn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Mie(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Die=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=dt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=G0(e,wie);return w.createElement(Tu,sl({},i,{type:"linear",className:n}))},Lie=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var i=dt("recharts-pie-label-text",Mie(t));return w.createElement($0,sl({},e,{alignmentBaseline:"middle",className:i}),r)};function zie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=Rr(n),d=sc(i),m=sc(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,_)=>{var S=(b.startAngle+b.endAngle)/2,E=Cn(b.cx,b.cy,b.outerRadius+p,S),A=ln(ln(ln(ln({},u),b),{},{stroke:"none"},d),{},{index:_,textAnchor:Iie(E.x,b.cx)},E),O=ln(ln(ln(ln({},u),b),{},{fill:"none",stroke:b.fill},m),{},{index:_,points:[Cn(b.cx,b.cy,b.outerRadius,S),E],key:"line"});return w.createElement(Mr,{zIndex:vn.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},w.createElement(cn,null,s&&Die(s,O),Lie(i,A,bt(b,l))))});return w.createElement(cn,{className:"recharts-pie-labels"},g)}function Vie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(B0,{label:i}):w.createElement(zie,{sectors:e,props:n,showLabels:r})}function Uie(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=De(al),d=De(QE),m=De(ete),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,_=G0(i,_ie),S=cA(p,i.dataKey,l),E=uA(b),A=dA(g,i.dataKey,l);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((O,L)=>{if(O?.startAngle===0&&O?.endAngle===0&&e.length!==1)return null;var V=m==null||m===l,B=String(L)===u&&(d==null||i.dataKey===d)&&V,$=u?r:null,z=n&&B?n:$,j=ln(ln({},O),{},{stroke:O.stroke,tabIndex:-1,[E5]:L,[A5]:l});return w.createElement(cn,sl({key:"sector-".concat(O?.startAngle,"-").concat(O?.endAngle,"-").concat(O.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Rh(_,O,L),{onMouseEnter:S(O,L),onMouseLeave:E(O,L),onClick:A(O,L)}),w.createElement(lA,sl({option:s??z,index:L,shapeType:"sector",isActive:B},j)))}))}function $ie(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:m,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),_=kie(u,d),S=Math.abs(_),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(z=>bt(z,m,0)!==0).length,O=(S>=360?A:A-1)*E,L=S-A*b-O,V=r.reduce((z,j)=>{var N=bt(j,m,0);return z+(Oe(N)?N:0)},0),B;if(V>0){var $;B=r.map((z,j)=>{var N=bt(z,m,0),M=bt(z,p,j),P=Rie(n,s,z),I=(Oe(N)?N:0)/V,D,k=ln(ln({},z),i&&i[j]&&i[j].props);j?D=$.endAngle+Gn(_)*E*(N!==0?1:0):D=u;var ne=D+Gn(_)*((N!==0?b:0)+I*L),G=(D+ne)/2,K=(P.innerRadius+P.outerRadius)/2,Z=[{name:M,value:N,payload:k,dataKey:m,type:g,graphicalItemId:n.id}],ie=Cn(P.cx,P.cy,K,G);return $=ln(ln(ln(ln({},n.presentationProps),{},{percent:I,cornerRadius:typeof l=="string"?parseFloat(l):l,name:M,tooltipPayload:Z,midAngle:G,middleRadius:K,tooltipPosition:ie},k),P),{},{value:N,dataKey:m,startAngle:D,endAngle:ne,payload:k,paddingAngle:Gn(_)*E}),$})}return B}function Bie(t){var{showLabels:e,sectors:n,children:r}=t,i=w.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return w.createElement(_re,{value:e?i:void 0},r)}function qie(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:m,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,_=ad(e,"recharts-pie-"),S=n.current,[E,A]=w.useState(!1),O=w.useCallback(()=>{typeof b=="function"&&b(),A(!1)},[b]),L=w.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return w.createElement(Bie,{showLabels:!E,sectors:i},w.createElement(id,{animationId:_,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:L,onAnimationEnd:O,key:_},V=>{var B=[],$=i&&i[0],z=$?.startAngle;return i?.forEach((j,N)=>{var M=S&&S[N],P=N>0?lc(j,"paddingAngle",0):0;if(M){var I=yt(M.endAngle-M.startAngle,j.endAngle-j.startAngle,V),D=ln(ln({},j),{},{startAngle:z+P,endAngle:z+I+P});B.push(D),z=D.endAngle}else{var{endAngle:k,startAngle:ne}=j,G=yt(0,k-ne,V),K=ln(ln({},j),{},{startAngle:z+P,endAngle:z+G+P});B.push(K),z=K.endAngle}}),n.current=B,w.createElement(cn,null,w.createElement(Uie,{sectors:B,activeShape:m,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),w.createElement(Vie,{showLabels:!E,sectors:i,props:e}),e.children)}var Fie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:vn.area};function Hie(t){var{id:e}=t,n=G0(t,Sie),{hide:r,className:i,rootTabIndex:s}=t,l=w.useMemo(()=>sA(t.children,Zh),[t.children]),u=De(p=>Vre(p,e,l)),d=w.useRef(null),m=dt("recharts-pie",i);return r||u==null?(d.current=null,w.createElement(cn,{tabIndex:s,className:m})):w.createElement(Mr,{zIndex:t.zIndex},w.createElement(Oie,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),w.createElement(cn,{tabIndex:s,className:m},w.createElement(qie,{props:ln(ln({},n),{},{sectors:u}),previousSectorsRef:d,id:e})))}function _L(t){var e=un(t,Fie),{id:n}=e,r=G0(e,Eie),i=Rr(r);return w.createElement(K0,{id:n,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(xie,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),w.createElement(Cie,sl({},r,{id:s})),w.createElement(Hie,sl({},r,{id:s}))))}_L.displayName="Pie";var Kie=["points"];function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e,n){return(e=Yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Wie(t,"string");return typeof e=="symbol"?e:e+""}function Wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(null,arguments)}function Xie(t,e){if(t==null)return{};var n,r,i=Qie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jie(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=dt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=Xie(s,Kie);return w.createElement(pL,_v({},u,{className:i}))}function Zie(t,e){return t==null?!1:e?!0:t.length===1}function SL(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:m=vn.scatter}=t;if(!Zie(e,n))return null;var p=oA(n),g=vF(n),b=e.map((S,E)=>{var A,O,L=B1(B1(B1({r:3},l),g),{},{index:E,cx:(A=S.x)!==null&&A!==void 0?A:void 0,cy:(O=S.y)!==null&&O!==void 0?O:void 0,dataKey:s,value:S.value,payload:S.payload,points:e});return w.createElement(Jie,{key:"dot-".concat(E),option:n,dotProps:L,className:i})}),_={};return u&&d!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),w.createElement(Mr,{zIndex:m},w.createElement(cn,_v({className:r},_),b))}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eae(t,e,n){return(e=tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tae(t){var e=nae(t,"string");return typeof e=="symbol"?e:e+""}function nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EL=0,rae={xAxis:{},yAxis:{},zAxis:{}},AL=Xr({name:"cartesianAxis",initialState:rae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Xt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Xt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Xt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Xt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Xt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Xt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Xt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Xt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Xt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=nk(nk({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:iae,replaceXAxis:aae,removeXAxis:sae,addYAxis:oae,replaceYAxis:lae,removeYAxis:cae,addZAxis:Cfe,replaceZAxis:Ofe,removeZAxis:Ife,updateYAxisWidth:uae}=AL.actions,dae=AL.reducer,fae=le([Dn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),hae=le([fae,qs,Fs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Y0=()=>De(hae),mae=()=>De(ate);function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pae(t,e,n){return(e=gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gae(t){var e=vae(t,"string");return typeof e=="symbol"?e:e+""}function vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=q1(q1(q1({},u),sc(i)),PS(i)),m;return w.isValidElement(i)?m=w.cloneElement(i,d):typeof i=="function"?m=i(d):m=w.createElement(pL,d),w.createElement(cn,{className:"recharts-active-dot",clipPath:l},m)};function h_(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=vn.activeDot}=t,u=De(al),d=mae();if(e==null||d==null)return null;var m=e.find(p=>d.includes(p.payload));return Kt(m)?null:w.createElement(Mr,{zIndex:l},w.createElement(yae,{point:m,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var ik=(t,e,n)=>{var r=n??t;if(!Kt(r))return br(r,e,0)},bae=(t,e,n)=>{var r={},i=t.filter(P0),s=t.filter(m=>m.stackId==null),l=i.reduce((m,p)=>(m[p.stackId]||(m[p.stackId]=[]),m[p.stackId].push(p),m),r),u=Object.entries(l).map(m=>{var[p,g]=m,b=g.map(S=>S.dataKey),_=ik(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:_}}),d=s.map(m=>{var p=[m.dataKey].filter(b=>b!=null),g=ik(e,n,m.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]};function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xae(t,e,n){return(e=wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wae(t){var e=_ae(t,"string");return typeof e=="symbol"?e:e+""}function _ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sae(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=br(t,n,0,!0),u,d=[];if(zt(r[0].barSize)){var m=!1,p=n/s,g=r.reduce((O,L)=>O+(L.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(m=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,_={offset:b-l,size:0};u=r.reduce((O,L)=>{var V,B={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:_.offset+_.size+l,size:m?p:(V=L.barSize)!==null&&V!==void 0?V:0}},$=[...O,B];return _=$[$.length-1].position,$},d)}else{var S=br(e,n,0,!0);n-2*S-(s-1)*l<=0&&(l=0);var E=(n-2*S-(s-1)*l)/s;E>1&&(E>>=0);var A=zt(i)?Math.min(E,i):E;u=r.reduce((O,L,V)=>[...O,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:S+(E+l)*V+(E-A)/2,size:A}}],d)}return u}}var Eae=(t,e,n,r,i,s,l)=>{var u=Kt(l)?e:l,d=Sae(n,r,i!==s?i:s,t,u);return i!==s&&d!=null&&(d=d.map(m=>Hp(Hp({},m),{},{position:Hp(Hp({},m.position),{},{offset:m.position.offset-i/2})}))),d},Aae=(t,e)=>{var n=I0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function Tae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&zt(t.zIndex)?t.zIndex:e}var TL=t=>{var{chartData:e}=t,n=Bt(),r=Yn();return w.useEffect(()=>r?()=>{}:(n(fR(e)),()=>{n(fR(void 0))}),[e,n,r]),null},sk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},NL=Xr({name:"brush",initialState:sk,reducers:{setBrushSettings(t,e){return e.payload==null?sk:e.payload}}}),{setBrushSettings:Pfe}=NL.actions,Nae=NL.reducer;function jae(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=Oae(t,"string");return typeof e=="symbol"?e:e+""}function Oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mA{static create(e){return new mA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}jae(mA,"EPS",1e-4);function Iae(t){return(t%180+180)%180}var Pae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Iae(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Rae={dots:[],areas:[],lines:[]},jL=Xr({name:"referenceElements",initialState:Rae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ia(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ia(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ia(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Rfe,removeDot:kfe,addArea:Mfe,removeArea:Dfe,addLine:Lfe,removeLine:zfe}=jL.actions,kae=jL.reducer,Mae=w.createContext(void 0),Dae=t=>{var{children:e}=t,[n]=w.useState("".concat(Qf("recharts"),"-clip")),r=Y0();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return w.createElement(Mae.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function CL(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Lae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Pae(r,n)}function zae(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function dh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Vae(t,e){return CL(t,e+1)}function Uae(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,d=0,m=1,p=l,g=function(){var S=r?.[d];if(S===void 0)return{v:CL(r,m)};var E=d,A,O=()=>(A===void 0&&(A=n(S,E)),A),L=S.coordinate,V=d===0||dh(t,L,O,p,u);V||(d=0,p=l,m+=1),V&&(p=L+t*(O()/2+i),d+=m)},b;m<=s.length;)if(b=g(),b)return b.v;return[]}function $ae(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=e,m=1;m<=l;m++){for(var p=(l-1)%m,g=u,b=!0,_=function(){var L=r[S],V=S,B,$=()=>(B===void 0&&(B=n(L,V)),B),z=L.coordinate,j=S===p||dh(t,z,$,g,d);if(!j)return b=!1,1;j&&(g=z+t*($()/2+i))},S=p;S<l&&!_();S+=m);if(b){for(var E=[],A=p;A<l;A+=m)E.push(r[A]);return E}}return[]}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){Bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bae(t,e,n){return(e=qae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qae(t){var e=Fae(t,"string");return typeof e=="symbol"?e:e+""}function Fae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hae(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,m=function(b){var _=s[b],S,E=()=>(S===void 0&&(S=n(_,b)),S);if(b===l-1){var A=t*(_.coordinate+t*E()/2-d);s[b]=_=pr(pr({},_),{},{tickCoord:A>0?_.coordinate-A*t:_.coordinate})}else s[b]=_=pr(pr({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var O=dh(t,_.tickCoord,E,u,d);O&&(d=_.tickCoord-t*(E()/2+i),s[b]=pr(pr({},_),{},{isShow:!0}))}},p=l-1;p>=0;p--)m(p);return s}function Kae(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:m}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-m);if(l[u-1]=p=pr(pr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var _=dh(t,p.tickCoord,()=>g,d,m);_&&(m=p.tickCoord-t*(g/2+i),l[u-1]=pr(pr({},p),{},{isShow:!0}))}}for(var S=s?u-1:u,E=function(L){var V=l[L],B,$=()=>(B===void 0&&(B=n(V,L)),B);if(L===0){var z=t*(V.coordinate-t*$()/2-d);l[L]=V=pr(pr({},V),{},{tickCoord:z<0?V.coordinate-z*t:V.coordinate})}else l[L]=V=pr(pr({},V),{},{tickCoord:V.coordinate});if(V.tickCoord!=null){var j=dh(t,V.tickCoord,$,d,m);j&&(d=V.tickCoord+t*($()/2+i),l[L]=pr(pr({},V),{},{isShow:!0}))}},A=0;A<S;A++)E(A);return l}function pA(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:m,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Oe(d)||zh.isSsr){var b;return(b=Vae(i,Oe(d)?d:0))!==null&&b!==void 0?b:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",E=p&&S==="width"?Lf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(V,B)=>{var $=typeof m=="function"?m(V.value,B):V.value;return S==="width"?Lae(Lf($,{fontSize:e,letterSpacing:n}),E,g):Lf($,{fontSize:e,letterSpacing:n})[S]},O=i.length>=2?Gn(i[1].coordinate-i[0].coordinate):1,L=zae(s,O,S);return d==="equidistantPreserveStart"?Uae(O,L,A,i,l):d==="equidistantPreserveEnd"?$ae(O,L,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=Kae(O,L,A,i,l,d==="preserveStartEnd"):_=Hae(O,L,A,i,l),_.filter(V=>V.isShow))}var Gae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,m=l+d+u+(n?r:0);return Math.round(m)}return 0},Yae=["axisLine","width","height","className","hide","ticks","axisType"];function Wae(t,e){if(t==null)return{};var n,r,i=Xae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(null,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){Qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qae(t,e,n){return(e=Jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=Zae(t,"string");return typeof e=="symbol"?e:e+""}function Zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var As={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:vn.axis};function ese(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var m=Tn(Tn(Tn({},d),Rr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);m=Tn(Tn({},m),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);m=Tn(Tn({},m),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",hc({},m,{className:dt("recharts-cartesian-axis-line",lc(u,"className"))}))}function tse(t,e,n,r,i,s,l,u,d){var m,p,g,b,_,S,E=u?-1:1,A=t.tickSize||l,O=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":m=p=t.coordinate,b=n+ +!u*i,g=b-E*A,S=g-E*d,_=O;break;case"left":g=b=t.coordinate,p=e+ +!u*r,m=p-E*A,_=m-E*d,S=O;break;case"right":g=b=t.coordinate,p=e+ +u*r,m=p+E*A,_=m+E*d,S=O;break;default:m=p=t.coordinate,b=n+ +u*i,g=b+E*A,S=g+E*d,_=O;break}return{line:{x1:m,y1:g,x2:p,y2:b},tick:{x:_,y:S}}}function nse(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function rse(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ise(t){var{option:e,tickProps:n,value:r}=t,i,s=dt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,Tn(Tn({},n),{},{className:s}));else if(typeof e=="function")i=e(Tn(Tn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=dt(l,e?.className)),i=w.createElement($0,hc({},n,{className:l}),r)}return i}var ase=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:m,orientation:p,mirror:g,x:b,y:_,width:S,height:E,tickSize:A,tickMargin:O,fontSize:L,letterSpacing:V,getTicksConfig:B,events:$,axisType:z}=t,j=pA(Tn(Tn({},B),{},{ticks:n}),L,V),N=nse(p,g),M=rse(p,g),P=Rr(B),I=sc(r),D={};typeof i=="object"&&(D=i);var k=Tn(Tn({},P),{},{fill:"none"},D),ne=j.map(Z=>Tn({entry:Z},tse(Z,b,_,S,E,p,A,g,O))),G=ne.map(Z=>{var{entry:ie,line:te}=Z;return w.createElement(cn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&w.createElement("line",hc({},k,te,{className:dt("recharts-cartesian-axis-tick-line",lc(i,"className"))})))}),K=ne.map((Z,ie)=>{var{entry:te,tick:se}=Z,U=Tn(Tn(Tn(Tn({textAnchor:N,verticalAnchor:M},P),{},{stroke:"none",fill:s},I),se),{},{index:ie,payload:te,visibleTicksCount:j.length,tickFormatter:l,padding:d},m);return w.createElement(cn,hc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},Rh($,te,ie)),r&&w.createElement(ise,{option:r,tickProps:U,value:"".concat(typeof l=="function"?l(te.value,ie):te.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},K.length>0&&w.createElement(Mr,{zIndex:vn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},K)),G.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},G))}),sse=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=t,m=Wae(t,Yae),[p,g]=w.useState(""),[b,_]=w.useState(""),S=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Gae({ticks:S.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=w.useCallback(A=>{if(A){var O=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=O;var L=O[0];if(L){var V=window.getComputedStyle(L),B=V.fontSize,$=V.letterSpacing;(B!==p||$!==b)&&(g(B),_($))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Mr,{zIndex:t.zIndex},w.createElement(cn,{className:dt("recharts-cartesian-axis",s)},w.createElement(ese,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Rr(t)}),w.createElement(ase,{ref:E,axisType:d,events:m,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(tre,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(dre,{label:t.label,labelRef:t.labelRef}),t.children)))}),gA=w.forwardRef((t,e)=>{var n=un(t,As);return w.createElement(sse,hc({},n,{ref:e}))});gA.displayName="CartesianAxis";var ose=["x1","y1","x2","y2","key"],lse=["offset"],cse=["xAxisId","yAxisId"],use=["xAxisId","yAxisId"];function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dse(t,e,n){return(e=fse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=hse(t,"string");return typeof e=="symbol"?e:e+""}function hse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(null,arguments)}function Sv(t,e){if(t==null)return{};var n,r,i=mse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pse=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return w.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function OL(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:m}=n,p=Sv(n,ose),g=(i=Rr(p))!==null&&i!==void 0?i:{},{offset:b}=g,_=Sv(g,lse);r=w.createElement("line",Kl({},_,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:m}))}return r}function gse(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Sv(t,cse),d=i.map((m,p)=>{var g=yr(yr({},u),{},{x1:e,y1:m,x2:e+n,y2:m,key:"line-".concat(p),index:p});return w.createElement(OL,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function vse(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Sv(t,use),d=i.map((m,p)=>{var g=yr(yr({},u),{},{x1:m,y1:e,x2:m,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(OL,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function yse(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var m=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var _=!m[b+1],S=_?i+l-g:m[b+1]-g;if(S<=0)return null;var E=b%e.length;return w.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:S,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function bse(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var m=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var _=!m[b+1],S=_?i+l-g:m[b+1]-g;if(S<=0)return null;var E=b%n.length;return w.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var xse=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return x5(pA(yr(yr(yr({},As),n),{},{ticks:w5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},wse=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return x5(pA(yr(yr(yr({},As),n),{},{ticks:w5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},_se={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:vn.grid};function W0(t){var e=qS(),n=FS(),r=O5(),i=yr(yr({},un(t,_se)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:m,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:_}=i,S=Yn(),E=De(M=>eR(M,"xAxis",s,S)),A=De(M=>eR(M,"yAxis",l,S));if(!$a(m)||!$a(p)||!Oe(u)||!Oe(d))return null;var O=i.verticalCoordinatesGenerator||xse,L=i.horizontalCoordinatesGenerator||wse,{horizontalPoints:V,verticalPoints:B}=i;if((!V||!V.length)&&typeof L=="function"){var $=b&&b.length,z=L({yAxis:A?yr(yr({},A),{},{ticks:$?b:A.ticks}):void 0,width:e??m,height:n??p,offset:r},$?!0:g);Xg(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(V=z)}if((!B||!B.length)&&typeof O=="function"){var j=_&&_.length,N=O({xAxis:E?yr(yr({},E),{},{ticks:j?_:E.ticks}):void 0,width:e??m,height:n??p,offset:r},j?!0:g);Xg(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(B=N)}return w.createElement(Mr,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(pse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(yse,Kl({},i,{horizontalPoints:V})),w.createElement(bse,Kl({},i,{verticalPoints:B})),w.createElement(gse,Kl({},i,{offset:r,horizontalPoints:V,xAxis:E,yAxis:A})),w.createElement(vse,Kl({},i,{offset:r,verticalPoints:B,xAxis:E,yAxis:A}))))}W0.displayName="CartesianGrid";var Sse={},IL=Xr({name:"errorBars",initialState:Sse,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Vfe,replaceErrorBar:Ufe,removeErrorBar:$fe}=IL.actions,Ese=IL.reducer,Ase=["children"];function Tse(t,e){if(t==null)return{};var n,r,i=Nse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Cse=w.createContext(jse);function PL(t){var{children:e}=t,n=Tse(t,Ase);return w.createElement(Cse.Provider,{value:n},e)}function X0(t,e){var n,r,i=De(m=>Gs(m,t)),s=De(m=>Ys(m,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:qn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Fn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function vA(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Y0(),{needClipX:s,needClipY:l,needClip:u}=X0(e,n);if(!u||!i)return null;var{x:d,y:m,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?d:d-p/2,y:l?m:m-g/2,width:s?p:p*2,height:l?g:g*2}))}var RL=(t,e,n,r)=>Fa(t,"xAxis",e,r),kL=(t,e,n,r)=>qa(t,"xAxis",e,r),ML=(t,e,n,r)=>Fa(t,"yAxis",n,r),DL=(t,e,n,r)=>qa(t,"yAxis",n,r),Ose=le([tt,RL,ML,kL,DL],(t,e,n,r,i)=>Ha(t,"xAxis")?rl(e,r,!1):rl(n,i,!1)),Ise=(t,e,n,r,i)=>i;function Pse(t){return t.type==="line"}var Rse=le([Kh,Ise],(t,e)=>t.filter(Pse).find(n=>n.id===e)),kse=le([tt,RL,ML,kL,DL,Rse,Ose,gE],(t,e,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,_;if(b!=null&&b.length>0?_=b:_=d?.slice(m,p+1),_!=null)return xoe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}});function LL(t){var e=sc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var F1={exports:{}},H1={};var uk;function Mse(){if(uk)return H1;uk=1;var t=Gu();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return H1.useSyncExternalStoreWithSelector=function(d,m,p,g,b){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function A($){if(!O){if(O=!0,L=$,$=g($),b!==void 0&&S.hasValue){var z=S.value;if(b(z,$))return V=z}return V=$}if(z=V,n(L,$))return z;var j=g($);return b!==void 0&&b(z,j)?(L=$,z):(L=$,V=j)}var O=!1,L,V,B=p===void 0?null:p;return[function(){return A(m())},B===null?void 0:function(){return A(B())}]},[m,p,g,b]);var E=r(d,_[0],_[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},H1}var dk;function Dse(){return dk||(dk=1,F1.exports=Mse()),F1.exports}Dse();function Lse(t){t()}function zse(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Lse(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fk={notify(){},get:()=>[]};function Vse(t,e){let n,r=fk,i=0,s=!1;function l(E){p();const A=r.subscribe(E);let O=!1;return()=>{O||(O=!0,A(),g())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function m(){return s}function p(){i++,n||(n=t.subscribe(d),r=zse())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fk)}function b(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:m,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return S}var Use=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$se=Use(),Bse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qse=Bse(),Fse=()=>$se||qse?w.useLayoutEffect:w.useEffect,Hse=Fse();function hk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Kse(t,e){if(hk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!hk(t[n[i]],e[n[i]]))return!1;return!0}var Gse=Symbol.for("react-redux-context"),Yse=typeof globalThis<"u"?globalThis:{};function Wse(){if(!w.createContext)return{};const t=Yse[Gse]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Xse=Wse();function Qse(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const d=Vse(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);Hse(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||Xse;return w.createElement(u.Provider,{value:s},e)}var Jse=Qse,Zse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function eoe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function em(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Zse.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Kse(t[r],e[r]))return!1}else if(!eoe(t[r],e[r]))return!1;return!0}var toe=["id"],noe=["type","layout","connectNulls","needClip","shape"],roe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(null,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ioe(t,e,n){return(e=aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aoe(t){var e=soe(t,"string");return typeof e=="symbol"?e:e+""}function soe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yA(t,e){if(t==null)return{};var n,r,i=ooe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var loe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ul(n,e),payload:t}]},coe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ul(l,e),hide:u,type:m,color:r,unit:d,graphicalItemId:p}};return w.createElement(H0,{tooltipEntrySettings:g})}),zL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function uoe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var doe=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return zL(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],d=0,m=0;d<n.length;m+=n[d],++d)if(m+n[d]>s){u=[...n.slice(0,d),s-m];break}var p=u.length%2===0?[0,l]:[l];return[...uoe(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function foe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=yA(r,toe),m=Rr(d);return w.createElement(SL,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:m,needClip:l,clipPathId:e})}function hoe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Oa(Oa({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(rA,{value:e?i:void 0},n)}function pk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:d,needClip:m,shape:p}=s,g=yA(s,noe),b=Oa(Oa({},wr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(lA,fh({shapeType:"curve",option:p},b,{pathRef:n})),w.createElement(foe,{points:r,clipPathId:e,props:s}))}function moe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function poe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:m,animationDuration:p,animationEasing:g,animateNewValues:b,width:_,height:S,onAnimationEnd:E,onAnimationStart:A}=n,O=i.current,L=ad(l,"recharts-line-"),V=w.useRef(L),[B,$]=w.useState(!1),z=!B,j=w.useCallback(()=>{typeof E=="function"&&E(),$(!1)},[E]),N=w.useCallback(()=>{typeof A=="function"&&A(),$(!0)},[A]),M=moe(r.current),P=w.useRef(0);V.current!==L&&(P.current=s.current,V.current=L);var I=P.current;return w.createElement(hoe,{points:l,showLabels:z},n.children,w.createElement(id,{animationId:L,begin:m,duration:p,isActive:d,easing:g,onAnimationEnd:j,onAnimationStart:N,key:L},D=>{var k=yt(I,M+I,D),ne=Math.min(k,M),G;if(d)if(u){var K="".concat(u).split(/[,\s]+/gim).map(te=>parseFloat(te));G=doe(ne,M,K)}else G=zL(M,ne);else G=u==null?void 0:String(u);if(D>0&&M>0&&(i.current=l,s.current=Math.max(s.current,ne)),O){var Z=O.length/l.length,ie=D===1?l:l.map((te,se)=>{var U=Math.floor(se*Z);if(O[U]){var X=O[U];return Oa(Oa({},te),{},{x:yt(X.x,te.x,D),y:yt(X.y,te.y,D)})}return b?Oa(Oa({},te),{},{x:yt(_*2,te.x,D),y:yt(S/2,te.y,D)}):Oa(Oa({},te),{},{x:te.x,y:te.y})});return i.current=ie,w.createElement(pk,{props:n,points:ie,clipPathId:e,pathRef:r,strokeDasharray:G})}return w.createElement(pk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:G})}),w.createElement(B0,{label:n.label}))}function goe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(poe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var voe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:bt(t.payload,e)}};class yoe extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:m,height:p,id:g,needClip:b,zIndex:_}=this.props;if(e)return null;var S=dt("recharts-line",i),E=g,{r:A,strokeWidth:O}=LL(n),L=oA(n),V=A*2+O,B=b?"url(#clipPath-".concat(L?"":"dots-").concat(E,")"):void 0;return w.createElement(Mr,{zIndex:_},w.createElement(cn,{className:S},b&&w.createElement("defs",null,w.createElement(vA,{clipPathId:E,xAxisId:s,yAxisId:l}),!L&&w.createElement("clipPath",{id:"clipPath-dots-".concat(E)},w.createElement("rect",{x:d-V/2,y:u-V/2,width:m+V,height:p+V}))),w.createElement(PL,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:voe,errorBarOffset:0},w.createElement(goe,{props:this.props,clipPathId:E}))),w.createElement(h_,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:B}))}}var VL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:vn.line,type:"linear"};function boe(t){var e=un(t,VL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:m,isAnimationActive:p,label:g,legendType:b,xAxisId:_,yAxisId:S,id:E}=e,A=yA(e,roe),{needClip:O}=X0(_,S),L=Y0(),V=dl(),B=Yn(),$=De(P=>kse(P,_,S,B,E));if(V!=="horizontal"&&V!=="vertical"||$==null||L==null)return null;var{height:z,width:j,x:N,y:M}=L;return w.createElement(yoe,fh({},A,{id:E,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:m,label:g,legendType:b,xAxisId:_,yAxisId:S,points:$,layout:V,height:z,width:j,left:N,top:M,needClip:O}))}function xoe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((m,p)=>{var g=bt(m,l);if(e==="horizontal"){var b=Wg({axis:n,ticks:i,bandSize:u,entry:m,index:p}),_=Kt(g)?null:r.scale(g);return{x:b,y:_,value:g,payload:m}}var S=Kt(g)?null:n.scale(g),E=Wg({axis:r,ticks:s,bandSize:u,entry:m,index:p});return S==null||E==null?null:{x:S,y:E,value:g,payload:m}}).filter(Boolean)}function woe(t){var e=un(t,VL),n=Yn();return w.createElement(K0,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(fA,{legendPayload:loe(e)}),w.createElement(coe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(hA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(boe,fh({},e,{id:r}))))}var qu=w.memo(woe,em);qu.displayName="Line";function Ka(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:EL}function Ga(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:EL}var UL=(t,e,n)=>Fa(t,"xAxis",Ka(t,e),n),$L=(t,e,n)=>qa(t,"xAxis",Ka(t,e),n),BL=(t,e,n)=>Fa(t,"yAxis",Ga(t,e),n),qL=(t,e,n)=>qa(t,"yAxis",Ga(t,e),n),_oe=le([tt,UL,BL,$L,qL],(t,e,n,r,i)=>Ha(t,"xAxis")?rl(e,r,!1):rl(n,i,!1)),Soe=(t,e)=>e,FL=le([Kh,Soe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),HL=t=>{var e=tt(t),n=Ha(e,"xAxis");return n?"yAxis":"xAxis"},Eoe=(t,e)=>{var n=HL(t);return n==="yAxis"?Ga(t,e):Ka(t,e)},Aoe=(t,e,n)=>gv(t,HL(t),Eoe(t,e),n),Toe=le([FL,Aoe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=I0(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),Noe=le([tt,UL,BL,$L,qL,Toe,P3,_oe,FL,rZ],(t,e,n,r,i,s,l,u,d,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=d,S;if(_&&_.length>0?S=_:S=p?.slice(g,b+1),S!=null)return Koe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:S,chartBaseValue:m,bandSize:u})}}),joe=["id"],Coe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(null,arguments)}function KL(t,e){if(t==null)return{};var n,r,i=Ooe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ooe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ioe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Roe(t,"string");return typeof e=="symbol"?e:e+""}function Roe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ev(t,e){return t&&t!=="none"?t:e}var koe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:Ev(r,i),value:ul(n,e),payload:t}]},Moe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ul(l,e),hide:u,type:m,color:Ev(r,s),unit:d,graphicalItemId:p}};return w.createElement(H0,{tooltipEntrySettings:g})});function Doe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=Rr(r);return w.createElement(SL,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function Loe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xu(xu({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return w.createElement(rA,{value:e?i:void 0},n)}function vk(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:d,connectNulls:m,isRange:p}=s,{id:g}=s,b=KL(s,joe),_=Rr(b),S=wr(b);return w.createElement(w.Fragment,null,e?.length>1&&w.createElement(cn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Tu,Jl({},S,{id:g,points:e,connectNulls:m,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&w.createElement(Tu,Jl({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:m,fill:"none",points:e})),d!=="none"&&p&&w.createElement(Tu,Jl({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:m,fill:"none",points:n}))),w.createElement(Doe,{points:e,props:b,clipPathId:i}))}function zoe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,d=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!zt(u)||!zt(d))return null;var m=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.x||0));return Oe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Oe(p)?w.createElement("rect",{x:0,y:u<d?u:u-m,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}function Voe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,d=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!zt(u)||!zt(d))return null;var m=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.y||0));return Oe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Oe(p)?w.createElement("rect",{x:u<d?u:u-m,y:0,width:m,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function Uoe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?w.createElement(zoe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):w.createElement(Voe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function $oe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:m,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:_}=r,S=w.useMemo(()=>({points:l,baseLine:u}),[l,u]),E=ad(S,"recharts-area-"),A=xY(),[O,L]=w.useState(!1),V=!O,B=w.useCallback(()=>{typeof _=="function"&&_(),L(!1)},[_]),$=w.useCallback(()=>{typeof b=="function"&&b(),L(!0)},[b]);if(A==null)return null;var z=i.current,j=s.current;return w.createElement(Loe,{showLabels:V,points:l},r.children,w.createElement(id,{animationId:E,begin:m,duration:p,isActive:d,easing:g,onAnimationEnd:B,onAnimationStart:$,key:E},N=>{if(z){var M=z.length/l.length,P=N===1?l:l.map((D,k)=>{var ne=Math.floor(k*M);if(z[ne]){var G=z[ne];return xu(xu({},D),{},{x:yt(G.x,D.x,N),y:yt(G.y,D.y,N)})}return D}),I;return Oe(u)?I=yt(j,u,N):Kt(u)||Vi(u)?I=yt(j,0,N):I=u.map((D,k)=>{var ne=Math.floor(k*M);if(Array.isArray(j)&&j[ne]){var G=j[ne];return xu(xu({},D),{},{x:yt(G.x,D.x,N),y:yt(G.y,D.y,N)})}return D}),N>0&&(i.current=P,s.current=I),w.createElement(vk,{points:P,baseLine:I,needClip:e,clipPathId:n,props:r})}return N>0&&(i.current=l,s.current=u),w.createElement(cn,null,d&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(Uoe,{alpha:N,points:l,baseLine:u,layout:A,strokeWidth:r.strokeWidth}))),w.createElement(cn,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(vk,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),w.createElement(B0,{label:r.label}))}function Boe(t){var{needClip:e,clipPathId:n,props:r}=t,i=w.useRef(null),s=w.useRef();return w.createElement($oe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class qoe extends w.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:d,yAxisId:m,width:p,height:g,id:b,baseLine:_,zIndex:S}=this.props;if(e)return null;var E=dt("recharts-area",i),A=b,{r:O,strokeWidth:L}=LL(n),V=oA(n),B=O*2+L,$=u?"url(#clipPath-".concat(V?"":"dots-").concat(A,")"):void 0;return w.createElement(Mr,{zIndex:S},w.createElement(cn,{className:E},u&&w.createElement("defs",null,w.createElement(vA,{clipPathId:A,xAxisId:d,yAxisId:m}),!V&&w.createElement("clipPath",{id:"clipPath-dots-".concat(A)},w.createElement("rect",{x:l-B/2,y:s-B/2,width:p+B,height:g+B}))),w.createElement(Boe,{needClip:u,clipPathId:A,props:this.props})),w.createElement(h_,{points:r,mainColor:Ev(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}),this.props.isRange&&Array.isArray(_)&&w.createElement(h_,{points:_,mainColor:Ev(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}))}}var GL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:vn.area};function Foe(t){var e,n=un(t,GL),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:m,fillOpacity:p,hide:g,isAnimationActive:b,legendType:_,stroke:S,xAxisId:E,yAxisId:A}=n,O=KL(n,Coe),L=dl(),V=Y6(),{needClip:B}=X0(E,A),$=Yn(),{points:z,isRange:j,baseLine:N}=(e=De(ne=>Noe(ne,t.id,$)))!==null&&e!==void 0?e:{},M=Y0();if(L!=="horizontal"&&L!=="vertical"||M==null||V!=="AreaChart"&&V!=="ComposedChart")return null;var{height:P,width:I,x:D,y:k}=M;return!z||!z.length?null:w.createElement(qoe,Jl({},O,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:N,connectNulls:u,dot:d,fill:m,fillOpacity:p,height:P,hide:g,layout:L,isAnimationActive:b==="auto"?!zh.isSsr:b,isRange:j,legendType:_,needClip:B,points:z,stroke:S,width:I,left:D,top:k,xAxisId:E,yAxisId:A}))}var Hoe=(t,e,n,r,i)=>{var s=n??e;if(Oe(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return s==="dataMin"?m:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Koe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:m,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:_}=t,S=i&&i.length,E=Hoe(s,l,n,u,d),A=s==="horizontal",O=!1,L=m.map((B,$)=>{var z,j,N;if(S)N=i[p+$];else{var M=bt(B,r);Array.isArray(M)?(N=M,O=!0):N=[E,M]}var P=(z=(j=N)===null||j===void 0?void 0:j[1])!==null&&z!==void 0?z:null,I=P==null||S&&!e&&bt(B,r)==null;return A?{x:Wg({axis:u,ticks:g,bandSize:_,entry:B,index:$}),y:I?null:d.scale(P),value:N,payload:B}:{x:I?null:u.scale(P),y:Wg({axis:d,ticks:b,bandSize:_,entry:B,index:$}),value:N,payload:B}}),V;return S||O?V=L.map(B=>{var $=Array.isArray(B.value)?B.value[0]:null;return A?{x:B.x,y:$!=null&&B.y!=null?d.scale($):null,payload:B.payload}:{x:$!=null?u.scale($):null,y:B.y,payload:B.payload}}):V=A?d.scale(E):u.scale(E),{points:L,baseLine:V,isRange:O}}function Goe(t){var e=un(t,GL),n=Yn();return w.createElement(K0,{id:e.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(fA,{legendPayload:koe(e)}),w.createElement(Moe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(hA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:_5(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),w.createElement(Foe,Jl({},e,{id:r}))))}var bA=w.memo(Goe,em);bA.displayName="Area";var Yoe="Invariant failed";function Woe(t,e){throw new Error(Yoe)}function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(null,arguments)}function Av(t){return w.createElement(lA,m_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Xoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Oe(e))return e;var s=Oe(r)||Kt(r);return s?e(r,i):(s||Woe(),n)}},Qoe=(t,e,n)=>n,Joe=(t,e)=>e,tm=le([Kh,Joe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Zoe=le([tm],t=>t?.maxBarSize),ele=(t,e,n,r)=>r,tle=le([tt,Kh,Ka,Ga,Qoe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),nle=(t,e,n)=>{var r=tt(t),i=Ka(t,e),s=Ga(t,e);if(!(i==null||s==null))return r==="horizontal"?gv(t,"yAxis",s,n):gv(t,"xAxis",i,n)},rle=(t,e)=>{var n=tt(t),r=Ka(t,e),i=Ga(t,e);if(!(r==null||i==null))return n==="horizontal"?ZP(t,"xAxis",r):ZP(t,"yAxis",i)},ile=le([tle,nZ,rle],bae),ale=(t,e,n)=>{var r,i,s=tm(t,e);if(s!=null){var l=Ka(t,e),u=Ga(t,e);if(!(l==null||u==null)){var d=tt(t),m=G3(t),{maxBarSize:p}=s,g=Kt(p)?m:p,b,_;return d==="horizontal"?(b=Fa(t,"xAxis",l,n),_=qa(t,"xAxis",l,n)):(b=Fa(t,"yAxis",u,n),_=qa(t,"yAxis",u,n)),(r=(i=rl(b,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},YL=(t,e,n)=>{var r=tt(t),i=Ka(t,e),s=Ga(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=Fa(t,"xAxis",i,n),u=qa(t,"xAxis",i,n)):(l=Fa(t,"yAxis",s,n),u=qa(t,"yAxis",s,n)),rl(l,u)}},sle=le([ile,G3,tZ,Y3,ale,YL,Zoe],Eae),ole=(t,e,n)=>{var r=Ka(t,e);if(r!=null)return Fa(t,"xAxis",r,n)},lle=(t,e,n)=>{var r=Ga(t,e);if(r!=null)return Fa(t,"yAxis",r,n)},cle=(t,e,n)=>{var r=Ka(t,e);if(r!=null)return qa(t,"xAxis",r,n)},ule=(t,e,n)=>{var r=Ga(t,e);if(r!=null)return qa(t,"yAxis",r,n)},dle=le([sle,tm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),fle=le([nle,tm],Aae),hle=le([Dn,$S,ole,lle,cle,ule,dle,tt,P3,YL,fle,tm,ele],(t,e,n,r,i,s,l,u,d,m,p,g,b)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:E}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||m==null)){var{data:A}=g,O;if(A!=null&&A.length>0?O=A:O=_?.slice(S,E+1),O!=null)return Ble({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:O,offset:t,cells:b,dataStartIndex:S})}}),mle=["index"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(null,arguments)}function ple(t,e){if(t==null)return{};var n,r,i=gle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WL=w.createContext(void 0),vle=t=>{var e=w.useContext(WL);if(e!=null)return e.stackId;if(t!=null)return _5(t)},yle=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),ble=t=>{var e=w.useContext(WL);if(e!=null){var{stackId:n}=e;return"url(#".concat(yle(n,t),")")}},xle=t=>{var{index:e}=t,n=ple(t,mle),r=ble(e);return w.createElement(cn,p_({className:"recharts-bar-stack-layer",clipPath:r},n))},wle=["onMouseEnter","onMouseLeave","onClick"],_le=["value","background","tooltipPosition"],Sle=["id"],Ele=["onMouseEnter","onClick","onMouseLeave"];function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(null,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ale(t,e,n){return(e=Tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tle(t){var e=Nle(t,"string");return typeof e=="symbol"?e:e+""}function Nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tv(t,e){if(t==null)return{};var n,r,i=jle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cle=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ul(n,e),payload:t}]},Ole=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:d,id:m}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ul(s,e),hide:l,type:d,color:i,unit:u,graphicalItemId:m}};return w.createElement(H0,{tooltipEntrySettings:p})});function Ile(t){var e=De(al),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,m=Tv(s,wle),p=cA(l,r,s.id),g=uA(u),b=dA(d,r,s.id);if(!i||n==null)return null;var _=sc(i);return w.createElement(Mr,{zIndex:Tae(i,vn.barBackground)},n.map((S,E)=>{var{value:A,background:O,tooltipPosition:L}=S,V=Tv(S,_le);if(!O)return null;var B=p(S,E),$=g(S,E),z=b(S,E),j=Cr(Cr(Cr(Cr(Cr({option:i,isActive:String(E)===e},V),{},{fill:"#eee"},O),_),Rh(m,S,E)),{},{onMouseEnter:B,onMouseLeave:$,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return w.createElement(Av,zs({key:"background-bar-".concat(E)},j))}))}function Ple(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Cr(Cr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(rA,{value:e?i:void 0},n)}function Rle(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=De(al),d=De(QE),m=n&&String(s)===u&&(d==null||l===d),p=m?n:e;return m?w.createElement(Mr,{zIndex:vn.activeBar},w.createElement(Av,zs({},r,{name:String(r.name)},i,{isActive:m,option:p,index:s,dataKey:l}))):w.createElement(Av,zs({},r,{name:String(r.name)},i,{isActive:m,option:p,index:s,dataKey:l}))}function kle(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(Av,zs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Mle(t){var e,{data:n,props:r}=t,i=(e=Rr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Tv(i,Sle),{shape:u,dataKey:d,activeBar:m}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,_=Tv(r,Ele),S=cA(p,d,s),E=uA(b),A=dA(g,d,s);return n?w.createElement(w.Fragment,null,n.map((O,L)=>w.createElement(xle,zs({index:L,key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(L),className:"recharts-bar-rectangle"},Rh(_,O,L),{onMouseEnter:S(O,L),onMouseLeave:E(O,L),onClick:A(O,L)}),m?w.createElement(Rle,{shape:u,activeBar:m,baseProps:l,entry:O,index:L,dataKey:d}):w.createElement(kle,{shape:u,baseProps:l,entry:O,index:L,dataKey:d})))):null}function Dle(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:m,onAnimationStart:p}=e,g=n.current,b=ad(e,"recharts-bar-"),[_,S]=w.useState(!1),E=!_,A=w.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),O=w.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return w.createElement(Ple,{showLabels:E,rects:r},w.createElement(id,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:A,onAnimationStart:O,key:b},L=>{var V=L===1?r:r?.map((B,$)=>{var z=g&&g[$];if(z)return Cr(Cr({},B),{},{x:yt(z.x,B.x,L),y:yt(z.y,B.y,L),width:yt(z.width,B.width,L),height:yt(z.height,B.height,L)});if(i==="horizontal"){var j=yt(0,B.height,L),N=yt(B.stackedBarStart,B.y,L);return Cr(Cr({},B),{},{y:N,height:j})}var M=yt(0,B.width,L),P=yt(B.stackedBarStart,B.x,L);return Cr(Cr({},B),{},{width:M,x:P})});return L>0&&(n.current=V??null),V==null?null:w.createElement(cn,null,w.createElement(Mle,{props:e,data:V}))}),w.createElement(B0,{label:e.label}),e.children)}function Lle(t){var e=w.useRef(null);return w.createElement(Dle,{previousRectanglesRef:e,props:t})}var XL=0,zle=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:bt(t,e)}};class Vle extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:d,id:m}=this.props;if(e||n==null)return null;var p=dt("recharts-bar",i),g=m;return w.createElement(cn,{className:p,id:m},u&&w.createElement("defs",null,w.createElement(vA,{clipPathId:g,xAxisId:s,yAxisId:l})),w.createElement(cn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Ile,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement(Lle,this.props)))}}var Ule={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:XL,xAxisId:0,yAxisId:0,zIndex:vn.bar};function $le(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:p}=t,{needClip:g}=X0(e,n),b=dl(),_=Yn(),S=sA(t.children,Zh),E=De(L=>hle(L,t.id,_,S));if(b!=="vertical"&&b!=="horizontal")return null;var A,O=E?.[0];return O==null||O.height==null||O.width==null?A=0:A=b==="vertical"?O.height/2:O.width/2,w.createElement(PL,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:zle,errorBarOffset:A},w.createElement(Vle,zs({},t,{layout:b,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:p})))}function Ble(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:m,stackedData:p,displayedData:g,offset:b,cells:_,parentViewBox:S,dataStartIndex:E}=t,A=e==="horizontal"?u:l,O=p?A.scale.domain():null,L=zG({numericAxis:A}),V=A.scale(L);return g.map((B,$)=>{var z,j,N,M,P,I;if(p){var D=p[$+E];if(D==null)return null;z=RG(D,O)}else z=bt(B,n),Array.isArray(z)||(z=[L,z]);var k=Xoe(r,XL)(z[1],$);if(e==="horizontal"){var ne,[G,K]=[u.scale(z[0]),u.scale(z[1])];j=rI({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:B,index:$}),N=(ne=K??G)!==null&&ne!==void 0?ne:void 0,M=i.size;var Z=G-K;if(P=Vi(Z)?0:Z,I={x:j,y:b.top,width:M,height:b.height},Math.abs(k)>0&&Math.abs(P)<Math.abs(k)){var ie=Gn(P||k)*(Math.abs(k)-Math.abs(P));N-=ie,P+=ie}}else{var[te,se]=[l.scale(z[0]),l.scale(z[1])];if(j=te,N=rI({axis:u,ticks:m,bandSize:s,offset:i.offset,entry:B,index:$}),M=se-te,P=i.size,I={x:b.left,y:N,width:b.width,height:P},Math.abs(k)>0&&Math.abs(M)<Math.abs(k)){var U=Gn(M||k)*(Math.abs(k)-Math.abs(M));M+=U}}if(j==null||N==null||M==null||P==null)return null;var X=Cr(Cr({},B),{},{stackedBarStart:V,x:j,y:N,width:M,height:P,value:p?z:z[1],payload:B,background:I,tooltipPosition:{x:j+M/2,y:N+P/2},parentViewBox:S},_&&_[$]&&_[$].props);return X}).filter(Boolean)}function qle(t){var e=un(t,Ule),n=vle(e.stackId),r=Yn();return w.createElement(K0,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(fA,{legendPayload:Cle(e)}),w.createElement(Ole,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(hA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement(Mr,{zIndex:e.zIndex},w.createElement($le,zs({},e,{id:i})))))}var xA=w.memo(qle,em);xA.displayName="Bar";var Fle=["domain","range"],Hle=["domain","range"];function bk(t,e){if(t==null)return{};var n,r,i=Kle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xk(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function QL(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=bk(t,Fle),{domain:s,range:l}=e,u=bk(e,Hle);return!xk(n,s)||!xk(r,l)?!1:em(i,u)}var Gle=["dangerouslySetInnerHTML","ticks","scale"],Yle=["id","scale"];function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(null,arguments)}function wk(t,e){if(t==null)return{};var n,r,i=Wle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xle(t){var e=Bt(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(iae(t)):n.current!==t&&e(aae({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(sae(n.current)),n.current=null)},[e]),null}var Qle=t=>{var{xAxisId:e,className:n}=t,r=De($S),i=Yn(),s="xAxis",l=De(O=>T6(O,s,e,i)),u=De(O=>_6(O,e)),d=De(O=>eee(O,e)),m=De(O=>r6(O,e));if(u==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,_=wk(t,Gle),{id:S,scale:E}=m,A=wk(m,Yle);return w.createElement(gA,g_({},_,A,{x:d.x,y:d.y,width:u.width,height:u.height,className:dt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Jle={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,angle:qn.angle,axisLine:As.axisLine,height:qn.height,hide:!1,includeHidden:qn.includeHidden,interval:qn.interval,minTickGap:qn.minTickGap,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:qn.type,xAxisId:0},Zle=t=>{var e=un(t,Jle);return w.createElement(w.Fragment,null,w.createElement(Xle,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(Qle,e))},Q0=w.memo(Zle,QL);Q0.displayName="XAxis";var ece=["dangerouslySetInnerHTML","ticks","scale"],tce=["id","scale"];function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(null,arguments)}function _k(t,e){if(t==null)return{};var n,r,i=nce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rce(t){var e=Bt(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(oae(t)):n.current!==t&&e(lae({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(cae(n.current)),n.current=null)},[e]),null}var ice=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),l=w.useRef(null),u=De($S),d=Yn(),m=Bt(),p="yAxis",g=De(z=>S6(z,e)),b=De(z=>nee(z,e)),_=De(z=>T6(z,p,e,d)),S=De(z=>i6(z,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||nA(i)||w.isValidElement(i)||S==null)){var z=s.current;if(z){var j=z.getCalculatedWidth();Math.round(g.width)!==Math.round(j)&&m(uae({id:e,width:j}))}}},[_,g,m,i,e,r,S]),g==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:O}=t,L=_k(t,ece),{id:V,scale:B}=S,$=_k(S,tce);return w.createElement(gA,v_({},L,$,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:dt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},ace={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:Fn.allowDecimals,allowDuplicatedCategory:Fn.allowDuplicatedCategory,angle:Fn.angle,axisLine:As.axisLine,hide:!1,includeHidden:Fn.includeHidden,interval:Fn.interval,minTickGap:Fn.minTickGap,mirror:Fn.mirror,orientation:Fn.orientation,padding:Fn.padding,reversed:Fn.reversed,scale:Fn.scale,tick:Fn.tick,tickCount:Fn.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:Fn.type,width:Fn.width,yAxisId:0},sce=t=>{var e=un(t,ace);return w.createElement(w.Fragment,null,w.createElement(rce,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(ice,e))},Fu=w.memo(sce,QL);Fu.displayName="YAxis";var oce=(t,e)=>e,wA=le([oce,tt,t6,zn,B6,Ws,vte,Dn],Ete),_A=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},JL=Ui("mouseClick"),ZL=Mh();ZL.startListening({actionCreator:JL,effect:(t,e)=>{var n=t.payload,r=wA(e.getState(),_A(n));r?.activeIndex!=null&&e.dispatch(gee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var y_=Ui("mouseMove"),ez=Mh(),Kp=null;ez.startListening({actionCreator:y_,effect:(t,e)=>{var n=t.payload;Kp!==null&&cancelAnimationFrame(Kp);var r=_A(n);Kp=requestAnimationFrame(()=>{var i=e.getState(),s=HE(i,i.tooltip.settings.shared);if(s==="axis"){var l=wA(i,r);l?.activeIndex!=null?e.dispatch(k6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(R6())}Kp=null})}});function lce(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var Sk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},tz=Xr({name:"rootProps",initialState:Sk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Sk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),cce=tz.reducer,{updateOptions:uce}=tz.actions,nz=Xr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:dce}=nz.actions,fce=nz.reducer,rz=Ui("keyDown"),iz=Ui("focus"),SA=Mh();SA.startListening({actionCreator:rz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=KE(i,md(n),Yh(n),Qh(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Ws(n);if(s==="Enter"){var m=yv(n,"axis","hover",String(i.index));e.dispatch(o_({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var p=see(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=u+b*g;if(!(d==null||_>=d.length||_<0)){var S=yv(n,"axis","hover",String(_));e.dispatch(o_({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});SA.startListening({actionCreator:iz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=yv(n,"axis","hover",String(s));e.dispatch(o_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ri=Ui("externalEvent"),az=Mh(),K1=new Map;az.startListening({actionCreator:Ri,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=K1.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:nte(u),activeDataKey:QE(u),activeIndex:al(u),activeLabel:H6(u),activeTooltipIndex:al(u),isTooltipActive:rte(u)};n(d,r)}finally{K1.delete(i)}});K1.set(i,l)}}});var hce=le([fd],t=>t.tooltipItemPayloads),mce=le([hce,Xh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),sz=Ui("touchMove"),oz=Mh();oz.startListening({actionCreator:sz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=HE(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=wA(r,_A({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(k6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(E5),g=(u=m.getAttribute(A5))!==null&&u!==void 0?u:void 0,b=hd(r).find(E=>E.id===g);if(p==null||b==null||g==null)return;var{dataKey:_}=b,S=mce(r,p,g);e.dispatch(P6({activeDataKey:_,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var pce=H4({brush:Nae,cartesianAxis:dae,chartData:tne,errorBars:Ese,graphicalItems:yie,layout:NG,legend:MY,options:Xte,polarAxis:Pre,polarOptions:fce,referenceElements:kae,rootProps:cce,tooltip:vee,zIndex:zte}),gce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return JK({reducer:pce,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([ZL.middleware,ez.middleware,SA.middleware,az.middleware,oz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(s5({type:"raf"}))},devTools:{serialize:{replacer:lce},name:"recharts-".concat(n)}})};function lz(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Yn(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=gce(e,r));var l=kS;return w.createElement(Jse,{context:l,store:s.current},n)}function vce(t){var{layout:e,margin:n}=t,r=Bt(),i=Yn();return w.useEffect(()=>{i||(r(EG(e)),r(SG(n)))},[r,i,e,n]),null}var cz=w.memo(vce,em);function uz(t){var e=Bt();return w.useEffect(()=>{e(uce(t))},[e,t]),null}function Ek(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Bt();return w.useLayoutEffect(()=>(r.current&&i(Dte({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Lte({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function Ak(t){var{children:e,isPanorama:n}=t,r=De(Tte);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(Ek,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(Ek,{key:l,zIndex:l,isPanorama:n})))}var yce=["children"];function bce(t,e){if(t==null)return{};var n,r,i=xce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(null,arguments)}var wce={width:"100%",height:"100%",display:"block"},_ce=w.forwardRef((t,e)=>{var n=qS(),r=FS(),i=$5();if(!$a(n)||!$a(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,m,p;return l!=null&&(typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),w.createElement(SS,Nv({},l,{title:u,desc:d,role:p,tabIndex:m,width:n,height:r,style:wce,ref:e}),s)}),Sce=t=>{var{children:e}=t,n=De(m0);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(SS,{width:r,height:i,x:l,y:s},e)},Tk=w.forwardRef((t,e)=>{var{children:n}=t,r=bce(t,yce),i=Yn();return i?w.createElement(Sce,null,w.createElement(Ak,{isPanorama:!0},n)):w.createElement(_ce,Nv({ref:e},r),w.createElement(Ak,{isPanorama:!1},n))});function Ece(){var t=Bt(),[e,n]=w.useState(null),r=De(FG);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;zt(s)&&s!==r&&t(TG(s))}},[e,t,r]),n}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ace(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=Nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t){var e=jce(t,"string");return typeof e=="symbol"?e:e+""}function jce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(null,arguments)}var Cce=()=>(une(),null);function jv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Oce=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:jv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:jv((r=t.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((m,p)=>{l(g=>{var b=Math.round(m),_=Math.round(p);return g.containerWidth===b&&g.containerHeight===_?g:{containerWidth:b,containerHeight:_}})},[]),d=w.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();u(p,g);var b=S=>{var{width:E,height:A}=S[0].contentRect;u(E,A)},_=new ResizeObserver(b);_.observe(m),i.current=_}},[e,u]);return w.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(v0,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",mc({ref:d},t)))}),Ice=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:jv(n),containerHeight:jv(r)}),l=w.useCallback((d,m)=>{s(p=>{var g=Math.round(d),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:m,height:p}=d.getBoundingClientRect();l(m,p)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(v0,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",mc({ref:u},t)))}),Pce=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(v0,{width:n,height:r}),w.createElement("div",mc({ref:e},t)))}),Rce=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ps(n)||Ps(r)?w.createElement(Ice,mc({},t,{ref:e})):w.createElement(Pce,mc({},t,{ref:e}))});function kce(t){return t===!0?Oce:Rce}var Mce=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:A,width:O,responsive:L,dispatchTouchEvents:V=!0}=t,B=w.useRef(null),$=Bt(),[z,j]=w.useState(null),[N,M]=w.useState(null),P=Ece(),I=BS(),D=I?.width>0?I.width:O,k=I?.height>0?I.height:i,ne=w.useCallback(ae=>{P(ae),typeof e=="function"&&e(ae),j(ae),M(ae),ae!=null&&(B.current=ae)},[P,e,j,M]),G=w.useCallback(ae=>{$(JL(ae)),$(Ri({handler:s,reactEvent:ae}))},[$,s]),K=w.useCallback(ae=>{$(y_(ae)),$(Ri({handler:m,reactEvent:ae}))},[$,m]),Z=w.useCallback(ae=>{$(R6()),$(Ri({handler:p,reactEvent:ae}))},[$,p]),ie=w.useCallback(ae=>{$(y_(ae)),$(Ri({handler:g,reactEvent:ae}))},[$,g]),te=w.useCallback(()=>{$(iz())},[$]),se=w.useCallback(ae=>{$(rz(ae.key))},[$]),U=w.useCallback(ae=>{$(Ri({handler:l,reactEvent:ae}))},[$,l]),X=w.useCallback(ae=>{$(Ri({handler:u,reactEvent:ae}))},[$,u]),Y=w.useCallback(ae=>{$(Ri({handler:d,reactEvent:ae}))},[$,d]),W=w.useCallback(ae=>{$(Ri({handler:b,reactEvent:ae}))},[$,b]),ge=w.useCallback(ae=>{$(Ri({handler:E,reactEvent:ae}))},[$,E]),ve=w.useCallback(ae=>{V&&$(sz(ae)),$(Ri({handler:S,reactEvent:ae}))},[$,V,S]),pe=w.useCallback(ae=>{$(Ri({handler:_,reactEvent:ae}))},[$,_]),je=kce(L);return w.createElement(Z6.Provider,{value:z},w.createElement(o4.Provider,{value:N},w.createElement(je,{width:D??A?.width,height:k??A?.height,className:dt("recharts-wrapper",r),style:Ace({position:"relative",cursor:"default",width:D,height:k},A),onClick:G,onContextMenu:U,onDoubleClick:X,onFocus:te,onKeyDown:se,onMouseDown:Y,onMouseEnter:K,onMouseLeave:Z,onMouseMove:ie,onMouseUp:W,onTouchEnd:pe,onTouchMove:ve,onTouchStart:ge,ref:ne},w.createElement(Cce,null),n)))}),Dce=["width","height","responsive","children","className","style","compact","title","desc"];function Lce(t,e){if(t==null)return{};var n,r,i=zce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dz=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:m,desc:p}=t,g=Lce(t,Dce),b=Rr(g);return d?w.createElement(w.Fragment,null,w.createElement(v0,{width:n,height:r}),w.createElement(Tk,{otherAttributes:b,title:m,desc:p},s)):w.createElement(Mce,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(Tk,{otherAttributes:b,title:m,desc:p,ref:e},w.createElement(Dae,null,s)))});function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(null,arguments)}var Vce={top:5,right:5,bottom:5,left:5},Uce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Vce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},$ce=w.forwardRef(function(e,n){var r,i=un(e.categoricalChartProps,Uce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:m}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(lz,{preloadedState:{options:p},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:s},w.createElement(TL,{chartData:m.data}),w.createElement(cz,{layout:i.layout,margin:i.margin}),w.createElement(uz,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(dz,b_({},i,{ref:n})))});function Bce(t){var e=Bt();return w.useEffect(()=>{e(dce(t))},[e,t]),null}var qce=["layout"];function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(null,arguments)}function Fce(t,e){if(t==null)return{};var n,r,i=Hce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kce={top:5,right:5,bottom:5,left:5},fz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Kce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Gce=w.forwardRef(function(e,n){var r,i=un(e.categoricalChartProps,fz),{layout:s}=i,l=Fce(i,qce),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(lz,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},w.createElement(TL,{chartData:i.data}),w.createElement(cz,{layout:s,margin:i.margin}),w.createElement(uz,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(Bce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(dz,x_({},l,{ref:n})))});function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e,n){return(e=Wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qce=["item"],Jce=Ck(Ck({},fz),{},{layout:"centric",startAngle:0,endAngle:360}),Zce=w.forwardRef((t,e)=>{var n=un(t,Jce);return w.createElement(Gce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qce,tooltipPayloadSearcher:eL,categoricalChartProps:n,ref:e})}),eue=["axis"],EA=w.forwardRef((t,e)=>w.createElement($ce,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eue,tooltipPayloadSearcher:eL,categoricalChartProps:t,ref:e}));const tue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ok=t=>{const e=nue(t);return e.charAt(0).toUpperCase()+e.slice(1)},hz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),rue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var iue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aue=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>w.createElement("svg",{ref:d,...iue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hz("lucide",i),...!s&&!rue(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,p])=>w.createElement(m,p)),...Array.isArray(s)?s:[s]]));const Pe=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(aue,{ref:s,iconNode:e,className:hz(`lucide-${tue(Ok(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Ok(t),n};const sue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Zl=Pe("activity",sue);const oue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mz=Pe("arrow-left",oue);const lue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],J0=Pe("arrow-right",lue);const cue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],w_=Pe("award",cue);const uue=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AA=Pe("ban",uue);const due=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fue=Pe("bell",due);const hue=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],mue=Pe("briefcase",hue);const pue=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],gue=Pe("bug",pue);const vue=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],yue=Pe("calculator",vue);const bue=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xue=Pe("calendar-off",bue);const wue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xs=Pe("calendar",wue);const _ue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],G1=Pe("chevron-down",_ue);const Sue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],TA=Pe("chevron-left",Sue);const Eue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pz=Pe("chevron-right",Eue);const Aue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hu=Pe("circle-alert",Aue);const Tue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vs=Pe("circle-check-big",Tue);const Nue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jue=Pe("circle-question-mark",Nue);const Cue=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Oue=Pe("clipboard-check",Cue);const Iue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pue=Pe("clock",Iue);const Rue=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Cv=Pe("coffee",Rue);const kue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],__=Pe("credit-card",kue);const Mue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hh=Pe("crown",Mue);const Due=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ol=Pe("dollar-sign",Due);const Lue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gz=Pe("download",Lue);const zue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vue=Pe("file-exclamation-point",zue);const Uue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vz=Pe("file-text",Uue);const $ue=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Bue=Pe("flame",$ue);const que=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Fue=Pe("frown",que);const Hue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yz=Pe("funnel",Hue);const Kue=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Gue=Pe("key",Kue);const Yue=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Wue=Pe("layers",Yue);const Xue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Que=Pe("layout-dashboard",Xue);const Jue=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Zue=Pe("layout-grid",Jue);const ede=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fo=Pe("loader-circle",ede);const tde=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zf=Pe("lock",tde);const nde=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bz=Pe("log-out",nde);const rde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],NA=Pe("map-pin",rde);const ide=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],xz=Pe("map",ide);const ade=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],sde=Pe("medal",ade);const ode=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],lde=Pe("menu",ode);const cde=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ude=Pe("monitor",cde);const dde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wz=Pe("pen",dde);const fde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gp=Pe("plus",fde);const hde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mde=Pe("refresh-cw",hde);const pde=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_z=Pe("rotate-ccw",pde);const gde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xc=Pe("save",gde);const vde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jA=Pe("search",vde);const yde=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Z0=Pe("settings",yde);const bde=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],xde=Pe("shopping-bag",bde);const wde=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_de=Pe("smartphone",wde);const Sde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mh=Pe("sparkles",Sde);const Ede=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ade=Pe("square-check-big",Ede);const Tde=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Nde=Pe("square-pen",Tde);const jde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ik=Pe("star",jde);const Cde=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],zi=Pe("store",Cde);const Ode=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nm=Pe("target",Ode);const Ide=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cg=Pe("trash-2",Ide);const Pde=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Sz=Pe("trending-down",Pde);const Rde=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ku=Pe("trending-up",Rde);const kde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ju=Pe("triangle-alert",kde);const Mde=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Dde=Pe("trophy",Mde);const Lde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ez=Pe("upload",Lde);const zde=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CA=Pe("user-check",zde);const Vde=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ude=Pe("user-cog",Vde);const $de=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Az=Pe("user-x",$de);const Bde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wc=Pe("user",Bde);const qde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rm=Pe("users",qde);const Fde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],na=Pe("x",Fde);const Hde=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kde=Pe("zap",Hde),Vf=[{id:"cyj",label:"CYJ",pathType:"legacy"},{id:"anniu",label:"",pathType:"standard"},{id:"yibo",label:"",pathType:"standard"}],tr={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},pc=[{id:"dashboard",label:"",icon:Que},{id:"annual",label:"",icon:Xs},{id:"targets",label:"",icon:nm},{id:"regional",label:"",icon:xz},{id:"store-analysis",label:"",icon:zi},{id:"ranking",label:"",icon:Ku},{id:"audit",label:"",icon:Oue},{id:"history",label:"",icon:vz},{id:"input",label:"",icon:Ez},{id:"logs",label:"",icon:Zl},{id:"t-targets",label:"",icon:Ude},{id:"t-schedule",label:"",icon:xue},{id:"settings",label:"",icon:Z0}],Gde={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},ug={director:pc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},Yde=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},Tz=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},sr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},ec=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},rr=t=>t?Number(t.toString().replace(/,/g,"")):0,Wr=({children:t})=>f.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),It=({title:t,subtitle:e,children:n,className:r=""})=>f.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&f.jsxs("div",{className:"mb-6",children:[t&&f.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&f.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),Wde=({message:t,type:e,onClose:n})=>{w.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return f.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?f.jsx(Vs,{size:20}):e==="error"?f.jsx(Hu,{size:20}):f.jsx(fue,{size:20}),f.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},Xde=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?f.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[f.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),f.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),f.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,ur=Rk.createContext(null),Qde=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const{currentBrand:d}=w.useContext(ur),m=w.useMemo(()=>{let _="cyj",S="CYJ";d&&(_=typeof d=="string"?d:d.id||"cyj",_.includes("anniu")?(_="anniu",S=""):_.includes("yibo")?(_="yibo",S=""):(_="cyj",S="CYJ"));let E={gradient:"from-amber-400 to-orange-600",shadow:"shadow-orange-200",activeBg:"bg-amber-50",activeText:"text-amber-700",iconColor:"text-amber-600",indicator:"bg-amber-500",logoChar:"C",Icon:hh};return _==="anniu"?E={gradient:"from-rose-400 to-pink-600",shadow:"shadow-rose-200",activeBg:"bg-rose-50",activeText:"text-rose-700",iconColor:"text-rose-600",indicator:"bg-rose-500",logoChar:"A",Icon:Cv}:_==="yibo"&&(E={gradient:"from-yellow-400 to-yellow-600",shadow:"shadow-yellow-200",activeBg:"bg-yellow-50",activeText:"text-yellow-700",iconColor:"text-yellow-600",indicator:"bg-yellow-500",logoChar:"Y",Icon:mh}),{id:_,label:S,theme:E}},[d]),{theme:p,label:g}=m,b=w.useMemo(()=>{if(!i)return[];if(i==="director")return pc;const _=l[i]||[];return pc.filter(S=>_.includes(S.id))},[i,l]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),f.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[f.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[f.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${p.gradient} rounded-xl flex items-center justify-center shadow-lg ${p.shadow} mr-3 shrink-0 transition-all duration-500`,children:m.id==="cyj"?f.jsx("span",{className:"text-white font-bold text-lg",children:"C"}):f.jsx(p.Icon,{size:18,className:"text-white"})}),f.jsxs("span",{className:`font-extrabold text-lg text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:[g," "]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:b.map(_=>{const S=_.icon,E=t===_.id;return f.jsxs("button",{onClick:()=>{e(_.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${E?`${p.activeBg} ${p.activeText} shadow-sm`:"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":_.label,children:[f.jsx(S,{size:22,className:`shrink-0 transition-colors ${E?p.iconColor:"text-stone-400 group-hover:text-stone-600"}`}),f.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:_.label}),E&&f.jsx("div",{className:`absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 ${p.indicator} rounded-l-full`})]},_.id)})}),f.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[f.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:f.jsx(wc,{size:20,className:"text-stone-400"})}),n&&f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),f.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:tr[i?.toUpperCase()]?.label||i})]})]}),f.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[f.jsx(bz,{size:20}),n&&f.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},Jde=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const{currentBrand:s}=w.useContext(ur),l=w.useMemo(()=>{const d=s?.id||"cyj";return d.includes("anniu")?"bg-rose-600 text-white shadow-rose-200":d.includes("yibo")?"bg-yellow-500 text-white shadow-yellow-200":"bg-stone-800 text-white shadow-stone-200"},[s]),u=w.useMemo(()=>{if(!r)return[];if(r==="director")return pc;const d=n[r]||[];return pc.filter(m=>d.includes(m.id))},[r,n]);return f.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto no-scrollbar",children:f.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[u.map(d=>{const m=d.icon,p=t===d.id;return f.jsxs("button",{onClick:()=>e(d.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${p?`${l} shadow-md`:"bg-stone-100 text-stone-500"}`,children:[f.jsx(m,{size:14}),d.label]},d.id)}),f.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[f.jsx(bz,{size:14}),""]})]})})},Zde={cyj:"16500",anniu:"8888",yibo:"9999"},efe=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:d,currentBrandId:m,onSwitchBrand:p,therapists:g=[]})=>{const[b,_]=w.useState(!0),[S,E]=w.useState("director"),[A,O]=w.useState(""),[L,V]=w.useState(""),[B,$]=w.useState(""),[z,j]=w.useState(!1),[N,M]=w.useState(!1),[P,I]=w.useState(""),[D,k]=w.useState(""),[ne,G]=w.useState(""),[K,Z]=w.useState(""),[ie,te]=w.useState(""),[se,U]=w.useState(""),X=w.useMemo(()=>Vf.find(J=>J.id===m)||Vf[0],[m]),Y=w.useMemo(()=>{switch(m){case"anniu":return{text:"text-rose-900",accent:"bg-rose-600 hover:bg-rose-700",border:"focus:border-rose-400",ring:"focus:ring-rose-100"};case"yibo":return{text:"text-yellow-900",accent:"bg-yellow-500 hover:bg-yellow-600",border:"focus:border-yellow-400",ring:"focus:ring-yellow-100"};default:return{text:"text-stone-800",accent:"bg-stone-800 hover:bg-stone-900",border:"focus:border-stone-400",ring:"focus:ring-stone-100"}}},[m]),W=J=>{p&&p(J),setTimeout(()=>{_(!1)},150)};w.useEffect(()=>{G(""),Z(""),te("")},[S,m]);const ge=w.useMemo(()=>ne?n[ne]||[]:[],[ne,n]),ve=w.useMemo(()=>K?g.filter(J=>J.store===K):[],[K,g]),pe=async()=>{$(""),j(!0),await new Promise(J=>setTimeout(J,600));try{if(S==="director"){const J=Zde[m]||"0000";A===J?t("director",{name:`${X.label}`}):$("")}else if(S==="trainer"){const J=u?.password||"0000";A===J?t("trainer",{name:""}):$("")}else if(S==="manager"){if(!L){$(""),j(!1);return}const J=r[L]||"0000";A===J?t("manager",{name:L}):$("")}else if(S==="store"){if(!L){$(""),j(!1);return}const J=e.find(ze=>ze.id===L);J&&J.password===A?t("store",{name:J.name,storeName:J.stores?.[0]||J.storeName,stores:J.stores}):$("")}}catch{$("")}finally{j(!1)}},je=async()=>{$(""),j(!0),await new Promise(J=>setTimeout(J,600));try{if(!ie){$(""),j(!1);return}const J=g.find(ze=>ze.id===ie);J&&J.password===se?t("therapist",J):$(" ( 0000)")}catch{$("")}finally{j(!1)}},ae=async()=>{if($(""),!D||!P){$("");return}j(!0);let J=!1;if(S==="store"&&L){const Ie=e.find(Je=>Je.id===L);Ie&&Ie.password===P&&(J=!0)}else if(S==="manager"&&L)(r[L]||"0000")===P&&(J=!0);else if(S==="therapist"&&ie){const Ie=g.find(Je=>Je.id===ie);Ie&&Ie.password===P&&(J=!0)}else S==="trainer"&&(u?.password||"0000")===P&&(J=!0);if(!J){$(""),j(!1);return}let ze=!1;S==="store"&&L?ze=await i(L,D):S==="manager"&&L?ze=await s(L,D):S==="therapist"&&ie?ze=await l(ie,D):S==="trainer"&&(ze=await d(D)),ze?(alert(""),M(!1),k(""),I(""),O(""),U("")):$(""),j(!1)},Ee=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 transition-all focus:border-stone-400 focus:ring-2 ${Y.ring}`,Ce=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 appearance-none transition-all focus:border-stone-400 focus:ring-2 ${Y.ring} disabled:bg-stone-50 disabled:text-stone-400`;return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-stone-50 p-4 font-sans text-stone-800",children:[f.jsxs("div",{className:`w-full max-w-md bg-white p-8 rounded-2xl shadow-sm border border-stone-200 transition-all duration-500 transform 
          ${b?"opacity-0 scale-95 pointer-events-none absolute":"opacity-100 scale-100 relative"}
        `,children:[f.jsxs("button",{onClick:()=>_(!0),className:"absolute top-6 left-6 text-stone-400 hover:text-stone-600 transition-colors flex items-center gap-1 text-sm font-medium",children:[f.jsx(TA,{size:16})," "]}),f.jsxs("div",{className:"text-center mb-10 mt-2",children:[f.jsx("div",{className:"flex justify-center mb-4",children:m==="yibo"?f.jsx(mh,{size:40,className:Y.text,strokeWidth:1.5}):m==="anniu"?f.jsx(Cv,{size:40,className:Y.text,strokeWidth:1.5}):f.jsx(hh,{size:40,className:Y.text,strokeWidth:1.5})}),f.jsxs("h1",{className:`text-2xl font-bold tracking-tight ${Y.text}`,children:[X.label," "]}),f.jsx("p",{className:"text-stone-400 text-sm mt-1",children:""})]}),f.jsx("div",{className:"flex justify-center mb-8 border-b border-stone-100 pb-1",children:Object.entries(tr).map(([J,ze])=>f.jsxs("button",{onClick:()=>{E(ze.id),$(""),O(""),V(""),M(!1),G(""),Z(""),te(""),U("")},className:`px-4 py-2 text-sm font-medium transition-all relative ${S===ze.id?"text-stone-800":"text-stone-400 hover:text-stone-600"}`,children:[ze.label,S===ze.id&&f.jsx("span",{className:"absolute bottom-[-5px] left-0 w-full h-[2px] bg-stone-800 rounded-full"})]},J))}),f.jsx("div",{className:"space-y-4",children:S==="therapist"?f.jsxs(f.Fragment,{children:[N?f.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[f.jsx("input",{type:"password",value:P,onChange:J=>I(J.target.value),placeholder:"",className:Ee}),f.jsx("input",{type:"text",value:D,onChange:J=>k(J.target.value),placeholder:"",className:Ee})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(NA,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:ne,onChange:J=>{G(J.target.value),Z(""),te("")},className:`${Ce} pl-12`,children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(J=>f.jsxs("option",{value:J,children:[J,""]},J))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(zi,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:K,onChange:J=>{Z(J.target.value),te("")},disabled:!ne,className:`${Ce} pl-12`,children:[f.jsx("option",{value:"",children:""}),ge.map(J=>f.jsx("option",{value:J,children:J},J))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(CA,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:ie,onChange:J=>te(J.target.value),disabled:!K,className:`${Ce} pl-12`,children:[f.jsx("option",{value:"",children:""}),ve.map(J=>f.jsx("option",{value:J.id,children:J.name},J.id))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(zf,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsx("input",{type:"password",value:se,onChange:J=>U(J.target.value),placeholder:"",className:`${Ee} pl-12`,onKeyDown:J=>J.key==="Enter"&&je()})]})]}),B&&f.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[f.jsx(Hu,{size:14})," ",B]}),N?f.jsx("button",{onClick:ae,disabled:z,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:z?f.jsx(Fo,{className:"animate-spin mx-auto"}):""}):f.jsx("button",{onClick:je,disabled:z||!ie||!se,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${Y.accent}`,children:z?f.jsx(Fo,{className:"animate-spin mx-auto"}):""}),ie&&f.jsx("button",{onClick:()=>{M(!N),$("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:N?"":"?"})]}):f.jsxs(f.Fragment,{children:[S==="manager"&&f.jsx("div",{className:"relative",children:f.jsxs("select",{value:L,onChange:J=>V(J.target.value),className:Ce,children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(J=>f.jsx("option",{value:J,children:J},J))]})}),S==="store"&&f.jsx("div",{className:"relative",children:f.jsxs("select",{value:L,onChange:J=>V(J.target.value),className:Ce,children:[f.jsx("option",{value:"",children:""}),e.map(J=>f.jsx("option",{value:J.id,children:J.name},J.id))]})}),N?f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"password",value:P,onChange:J=>I(J.target.value),placeholder:"",className:Ee}),f.jsx("input",{type:"text",value:D,onChange:J=>k(J.target.value),placeholder:"",className:Ee})]}):f.jsx("input",{type:"password",value:A,onChange:J=>O(J.target.value),placeholder:"",className:Ee,onKeyDown:J=>J.key==="Enter"&&pe()}),B&&f.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[f.jsx(Hu,{size:14})," ",B]}),N?f.jsx("button",{onClick:ae,disabled:z,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:z?f.jsx(Fo,{className:"animate-spin mx-auto"}):""}):f.jsx("button",{onClick:pe,disabled:z,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${Y.accent}`,children:z?f.jsx(Fo,{className:"animate-spin mx-auto"}):""}),(S==="store"||S==="manager"||S==="trainer")&&f.jsx("button",{onClick:()=>{M(!N),$("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:N?"":"?"})]})})]}),b&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-sm animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-lg p-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2 tracking-tight",children:""}),f.jsx("p",{className:"text-stone-400",children:""})]}),f.jsx("div",{className:"space-y-4",children:Vf.map(J=>{let ze=hh,Ie="hover:border-stone-400 hover:bg-stone-50";J.id==="anniu"?(ze=Cv,Ie="hover:border-rose-200 hover:bg-rose-50 hover:text-rose-900"):J.id==="yibo"?(ze=mh,Ie="hover:border-yellow-200 hover:bg-yellow-50 hover:text-yellow-900"):Ie="hover:border-stone-400 hover:bg-stone-50 hover:text-stone-900";const Je=ze;return f.jsxs("button",{onClick:()=>W(J.id),className:`w-full flex items-center justify-between p-6 rounded-xl border border-stone-200 bg-white transition-all duration-200 group ${Ie}`,children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx(Je,{size:24,strokeWidth:1.5,className:"text-stone-400 group-hover:text-current transition-colors"}),f.jsx("div",{className:"text-left",children:f.jsx("h3",{className:"text-lg font-bold text-stone-700 group-hover:text-current transition-colors",children:J.label})})]}),f.jsx(J0,{size:20,className:"text-stone-300 group-hover:text-current transition-colors opacity-0 group-hover:opacity-100 transform group-hover:translate-x-1 duration-300"})]},J.id)})}),f.jsx("div",{className:"mt-12 text-center",children:f.jsx("p",{className:"text-[10px] text-stone-300 font-medium tracking-widest uppercase",children:"DRCYJ Cloud System"})})]})})]})},tfe=()=>{const{fmtMoney:t,fmtNum:e,targets:n,userRole:r,currentUser:i,allReports:s,budgets:l,managers:u,selectedYear:d,selectedMonth:m,therapistReports:p,currentBrand:g}=w.useContext(ur),[b,_]=w.useState(r==="therapist"||r==="trainer"?"therapist":"store"),{brandInfo:S,brandPrefix:E}=w.useMemo(()=>{let G="CYJ",K="CYJ";g&&(typeof g=="string"?G=g:typeof g=="object"&&(G=g.id||"CYJ",K=g.name||g.label||G));const Z=G.toLowerCase();return Z.includes("anniu")||Z.includes("anew")?K="":Z.includes("yibo")?K="":K="CYJ",{brandInfo:{id:G,name:K},brandPrefix:K}},[g]),A=w.useMemo(()=>G=>G?G.replace(new RegExp(`^(${E}|CYJ|Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",[E]),O=w.useMemo(()=>r==="director"?Object.values(u).flat():r==="manager"&&i?u[i.name]||[]:r==="store"&&i?(i.stores||[i.storeName]).map(K=>A(K)).filter(K=>K):[],[r,i,u,A]),L=w.useMemo(()=>{if(!s)return null;const G=parseInt(d),K=parseInt(m),Z=new Date(G,K,0).getDate(),ie=new Date;let te=Z;ie.getFullYear()===G&&ie.getMonth()+1===K?te=ie.getDate():ie<new Date(G,K-1,1)&&(te=0);const se={cash:0,accrual:0,skincareSales:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,operationalAccrual:0,budget:0,accrualBudget:0,dailyData:Array.from({length:Z},(ve,pe)=>({date:`${K}/${pe+1}`,day:pe+1,cash:0,traffic:0}))};s.forEach(ve=>{const pe=new Date(ve.date);if(pe.getFullYear()!==G||pe.getMonth()+1!==K)return;const je=A(ve.storeName);if(!O.includes(je))return;const ae=(Number(ve.cash)||0)-(Number(ve.refund)||0),Ee=Number(ve.accrual)||0,Ce=Number(ve.traffic)||0,J=Number(ve.skincareSales)||0,ze=Number(ve.operationalAccrual)||Ee-J;se.cash+=ae,se.accrual+=Ee,se.skincareSales+=J,se.traffic+=Ce,se.newCustomers+=Number(ve.newCustomers)||0,se.newCustomerClosings+=Number(ve.newCustomerClosings)||0,se.newCustomerSales+=Number(ve.newCustomerSales)||0,se.operationalAccrual+=ze;const Ie=pe.getDate()-1;se.dailyData[Ie]&&(se.dailyData[Ie].cash+=ae,se.dailyData[Ie].traffic+=Ce)}),O.forEach(ve=>{const je=`${`${E}${ve}`}_${G}_${K}`,ae=l[je];ae&&(se.budget+=Number(ae.cashTarget)||0,se.accrualBudget+=Number(ae.accrualTarget)||0)});const U=se.budget>0?se.cash/se.budget*100:0,X=se.traffic>0?Math.round(se.operationalAccrual/se.traffic):0,Y=se.newCustomers>0?Math.round(se.newCustomerSales/se.newCustomers):0,W=te>0?Math.round(se.cash/te*Z):0,ge=se.dailyData.slice(0,te===0?Z:te);return{grandTotal:{...se,projection:W},dailyTotals:ge,totalAchievement:U,avgTrafficASP:X,avgNewCustomerASP:Y,daysPassed:te,daysInMonth:Z}},[s,l,d,m,O,E,A]),V=w.useMemo(()=>{if(r!=="store"&&r!=="manager"||!s)return[];const G={},K=parseInt(d),Z=parseInt(m);s.forEach(se=>{const U=new Date(se.date);if(U.getFullYear()!==K||U.getMonth()+1!==Z)return;const X=se.storeName;G[X]||(G[X]=0),G[X]+=(Number(se.cash)||0)-(Number(se.refund)||0)});const ie=Object.keys(G).map(se=>{const U=`${se}_${K}_${Z}`,X=l[U],Y=X?Number(X.cashTarget||0):0,W=G[se],ge=Y>0?W/Y*100:0;return{storeName:se,actual:W,target:Y,rate:ge}});return ie.sort((se,U)=>U.rate-se.rate),ie.map((se,U)=>({...se,rank:U+1,totalStores:ie.length,isBottom5:U+1>ie.length-5})).filter(se=>{const U=A(se.storeName);return O.includes(U)})},[r,s,O,l,d,m,A]),B=w.useMemo(()=>{if(!p)return{rankings:[],myStats:null,grandTotal:{}};const G=p.filter(U=>{const X=U.date.replace(/-/g,"/"),Y=new Date(X);return Y.getFullYear()===parseInt(d)&&Y.getMonth()+1===parseInt(m)}),K={};G.forEach(U=>{const X=U.therapistId;K[X]||(K[X]={id:X,name:U.therapistName,store:U.storeName,totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,newCustomerCount:0,oldCustomerCount:0,newCustomerClosings:0,returnRevenue:0}),K[X].totalRevenue+=Number(U.totalRevenue)||0,K[X].serviceCount+=Number(U.serviceCount)||0,K[X].newCustomerRevenue+=Number(U.newCustomerRevenue)||0,K[X].oldCustomerRevenue+=Number(U.oldCustomerRevenue)||0,K[X].newCustomerCount+=Number(U.newCustomerCount)||0,K[X].oldCustomerCount+=Number(U.oldCustomerCount)||0,K[X].newCustomerClosings+=Number(U.newCustomerClosings)||0,K[X].returnRevenue+=Number(U.returnRevenue)||0});const Z=Object.values(K).map(U=>{const X=U.totalRevenue||1,Y=Math.round(U.newCustomerRevenue/X*100),W=Math.round(U.oldCustomerRevenue/X*100),ge=U.newCustomerCount||1,ve=U.newCustomerClosings/ge*100,pe=U.oldCustomerCount||1,je=U.newCustomerRevenue/ge,ae=U.oldCustomerRevenue/pe;return{...U,revenueMix:`${Y}% / ${W}%`,newClosingRate:ve,newAsp:je,oldAsp:ae}}).sort((U,X)=>X.totalRevenue-U.totalRevenue),ie=Z.length;Z.forEach((U,X)=>{U.rank=X+1,U.totalPeers=ie,U.rank<=3?U.status="TOP":U.rank>ie-10?U.status="DANGER":U.status="NORMAL",U.gapToNext=X>0?Z[X-1].totalRevenue-U.totalRevenue:0});let te=null;r==="therapist"&&i&&(te=Z.find(U=>U.id===i.id));const se=Z.reduce((U,X)=>({totalRevenue:U.totalRevenue+X.totalRevenue,serviceCount:U.serviceCount+X.serviceCount,newCustomerRevenue:U.newCustomerRevenue+X.newCustomerRevenue,oldCustomerRevenue:U.oldCustomerRevenue+X.oldCustomerRevenue,newCustomerCount:U.newCustomerCount+X.newCustomerCount,oldCustomerCount:U.oldCustomerCount+X.oldCustomerCount,returnRevenue:U.returnRevenue+X.returnRevenue,count:U.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,newCustomerCount:0,oldCustomerCount:0,returnRevenue:0,count:0});return{rankings:Z,myStats:te,grandTotal:se}},[p,d,m,r,i]),$=()=>{const G=B.rankings.filter(Y=>r!=="therapist"||Y.id===i?.id),K=[",,,,,,,,,"],Z=G.map(Y=>[Y.rank,Y.name,Y.store,Y.totalRevenue,Y.newCustomerRevenue,Y.oldCustomerRevenue,`"${Y.revenueMix}"`,`${Y.newClosingRate.toFixed(0)}%`,Math.round(Y.newAsp),Math.round(Y.oldAsp)].join(",")),ie="\uFEFF"+[K,...Z].join(`
`),te=new Blob([ie],{type:"text/csv;charset=utf-8;"}),se=document.createElement("a"),U=URL.createObjectURL(te),X=new Date().toISOString().split("T")[0];se.setAttribute("href",U),se.setAttribute("download",`${S.name}__${X}.csv`),se.style.visibility="hidden",document.body.appendChild(se),se.click(),document.body.removeChild(se)},z=G=>{if(!G)return{title:"...",sub:"Data Loading..."};const{rank:K,totalPeers:Z,status:ie,gapToNext:te}=G,se=Z-K;return ie==="TOP"?{title:K===1?"":"",sub:"",icon:hh}:ie==="DANGER"?{title:` ${se} `,sub:` ${t(te)}`,icon:ju}:{title:` ${se} `,sub:` ${t(te)} `,icon:Kde}};if(!L)return f.jsxs("div",{className:"flex h-96 items-center justify-center",children:[f.jsx(Fo,{className:"h-10 w-10 animate-spin text-stone-300"}),f.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});const{grandTotal:j,dailyTotals:N,totalAchievement:M,daysPassed:P,daysInMonth:I}=L,D=I>0?P/I*100:0,k=M-D,ne=({title:G,value:K,subText:Z,icon:ie,color:te})=>f.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden h-full",children:[f.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${te}`,children:f.jsx(ie,{size:64})}),f.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:G}),f.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:K})]}),Z&&f.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:Z})]})]});return f.jsx(Wr,{children:f.jsxs("div",{className:"space-y-8 pb-10 w-full min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2 animate-in fade-in slide-in-from-left-2 duration-500",children:[f.jsx("div",{className:`w-2 h-8 rounded-full ${S.id.toLowerCase().includes("anniu")?"bg-teal-500":S.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),f.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[S.name," "]})]}),r!=="therapist"&&r!=="trainer"&&f.jsx("div",{className:"flex justify-center mb-4",children:f.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[f.jsxs("button",{onClick:()=>_("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(zi,{size:16})," "]}),f.jsxs("button",{onClick:()=>_("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(wc,{size:16})," "]})]})}),b==="store"&&f.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r==="store"&&V.length>0&&f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:V.map(G=>f.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${G.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:G.isBottom5?f.jsx(ju,{size:120}):f.jsx(Dde,{size:120})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:G.isBottom5?f.jsx(Zl,{size:20,className:"text-white"}):f.jsx(sde,{size:20,className:"text-yellow-100"})}),f.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:G.storeName}),G.isBottom5&&f.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),f.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",G.rank]}),f.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",G.totalStores]})]})]}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),f.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[G.rate.toFixed(0),"%"]})]})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[f.jsxs("span",{children:[": ",t(G.actual)]}),f.jsxs("span",{children:[": ",t(G.target)]})]})]})]},G.storeName))}),r==="manager"&&V.length>0&&f.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[f.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:f.jsx(xz,{size:100})}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:f.jsx(hh,{size:24,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),f.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),f.jsxs("div",{className:"relative z-10 text-right",children:[f.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),f.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:V.length})]})]}),f.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[f.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),f.jsx("th",{className:"p-3 sm:p-4",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),f.jsx("tbody",{children:V.map((G,K)=>f.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${G.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[f.jsx("td",{className:"p-3 sm:p-4 text-center",children:f.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${K===0?"bg-amber-100 text-amber-700":K===1?"bg-stone-200 text-stone-600":K===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:G.rank})}),f.jsx("td",{className:"p-3 sm:p-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[f.jsx("span",{className:`font-bold text-sm sm:text-base ${G.isBottom5?"text-rose-700":"text-stone-700"}`,children:G.storeName}),G.isBottom5&&f.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[f.jsx(ju,{size:10})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),f.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:t(G.actual)}),f.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:t(G.target)}),f.jsx("td",{className:"p-3 sm:p-4 text-right",children:f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${G.isBottom5?"text-rose-600":G.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[G.rate.toFixed(0),"%"]}),f.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${G.isBottom5?"bg-rose-500":G.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(G.rate,100)}%`}})})]})})]},G.storeName))})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:f.jsx(Zl,{size:16,className:"text-indigo-500"})}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),f.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",P," ",f.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",I]})]})]}),f.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${k>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[f.jsx("span",{className:"text-sm font-bold",children:k>=0?"":""}),f.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs(k).toFixed(0),"%"]})]})]}),f.jsxs("div",{className:"space-y-6 relative z-10",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:M>=D?"text-emerald-500":"text-rose-500",children:[M.toFixed(0),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${M>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":M>=D?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(M,100)}%`}})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[f.jsx("span",{className:"text-stone-400",children:" ()"}),f.jsxs("span",{className:"text-stone-400",children:[D.toFixed(0),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(D,100)}%`}})})]})]})]}),f.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[f.jsx(nm,{size:14})," "]}),f.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:t(j.projection)}),f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:[j.budget>0?(j.projection/j.budget*100).toFixed(0):0,"%"]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:f.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"font-mono font-bold text-stone-500",children:t(j.budget)})]})})]})})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[f.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(ne,{title:"",value:t(j.cash),icon:ol,color:"text-amber-500",subText:f.jsxs("span",{className:`font-bold ${M>=100?"text-emerald-600":"text-amber-600"}`,children:[M.toFixed(0),"% "]})}),f.jsx(ne,{title:"",value:t(j.accrual),icon:__,color:"text-cyan-500",subText:""}),f.jsx(ne,{title:"",value:t(j.skincareSales),icon:xde,color:"text-rose-500",subText:f.jsxs(f.Fragment,{children:[" ",f.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[j.accrual>0?(j.skincareSales/j.accrual*100).toFixed(0):0,"%"]})]})})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[f.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[f.jsx(ne,{title:"",value:e(j.traffic),icon:rm,color:"text-blue-500",subText:""}),f.jsx(ne,{title:"",value:t(L.avgTrafficASP),icon:Ku,color:"text-indigo-500",subText:f.jsxs("span",{className:L.avgTrafficASP>=n.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[L.avgTrafficASP>=n.trafficASP?"":""," ( ",e(n.trafficASP),")"]})}),f.jsx(ne,{title:"",value:e(j.newCustomers),icon:mh,color:"text-purple-500",subText:""}),f.jsx(ne,{title:"",value:e(j.newCustomerClosings),icon:Ade,color:"text-teal-500",subText:f.jsxs("span",{children:[" ",f.jsxs("span",{className:"font-bold",children:[j.newCustomers>0?(j.newCustomerClosings/j.newCustomers*100).toFixed(0):0,"%"]})]})}),f.jsx(ne,{title:"",value:t(L.avgNewCustomerASP),icon:w_,color:"text-fuchsia-500",subText:f.jsxs("span",{className:L.avgNewCustomerASP>=n.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[L.avgNewCustomerASP>=n.newASP?"":""," ( ",e(n.newASP),")"]})})]})]}),f.jsx(It,{title:`${S.name} `,subtitle:" vs ",children:f.jsx("div",{className:"h-[300px] w-full",children:f.jsx(p0,{width:"100%",height:"100%",children:f.jsxs(EA,{data:N,margin:{top:10,right:10,left:0,bottom:0},children:[f.jsx(W0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),f.jsx(Q0,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),f.jsx(Fu,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:G=>G===0?"0":`$${(G/1e3).toFixed(0)}k`}),f.jsx(Fu,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:G=>e(G)}),f.jsx(U0,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(G,K)=>K===""?[t(G),K]:[e(G),K]}),f.jsx(bA,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),f.jsx(qu,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),b==="therapist"&&f.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 w-full min-w-0",children:[B.myStats&&(()=>{const G=z(B.myStats),K=B.myStats.status;let Z="bg-gradient-to-br from-indigo-600 to-purple-700",ie="shadow-indigo-200";return K==="TOP"?(Z="bg-gradient-to-br from-amber-400 to-orange-500",ie="shadow-amber-200"):K==="DANGER"&&(Z="bg-gradient-to-br from-rose-600 to-red-700",ie="shadow-rose-200"),f.jsxs("div",{className:`${Z} rounded-3xl p-6 text-white shadow-xl ${ie} relative overflow-hidden transition-all duration-500`,children:[" ",f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(G.icon,{size:140})})," ",f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[" ",f.jsxs("div",{children:[" ",f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-1",children:[K==="DANGER"&&f.jsx(Bue,{size:12,className:"animate-pulse"}),"No.",B.myStats.rank]}),f.jsxs("span",{className:"text-white/80 font-bold tracking-wider text-sm",children:[B.myStats.store,""]})]}),f.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:B.myStats.name}),f.jsxs("div",{className:"mt-2 p-3 bg-black/10 rounded-xl backdrop-blur-md border border-white/10 max-w-md",children:[f.jsxs("p",{className:"font-bold text-sm flex items-center gap-2",children:[K==="DANGER"&&f.jsx(Fue,{size:16}),G.title]}),f.jsx("p",{className:"text-xs text-white/70 mt-1",children:G.sub})]})," "]})," ",f.jsxs("div",{className:"flex gap-6 text-right",children:[" ",f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-bold",children:t(B.myStats.totalRevenue)})]})," ",f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),f.jsxs("p",{className:"text-3xl font-mono font-bold",children:[B.myStats.newClosingRate.toFixed(0),"%"]})]})," "]})," "]})," "]})})(),r!=="therapist"&&f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:[f.jsx(ne,{title:"",value:t(B.grandTotal.totalRevenue),icon:ol,color:"text-indigo-500",subText:`${B.grandTotal.count} `}),f.jsx(ne,{title:"",value:t(B.grandTotal.newCustomerRevenue),icon:mh,color:"text-amber-500"}),f.jsx(ne,{title:"",value:t(B.grandTotal.oldCustomerRevenue),icon:Ku,color:"text-cyan-500"}),f.jsx(ne,{title:"",value:`${Math.round(B.grandTotal.newCustomerRevenue/(B.grandTotal.totalRevenue||1)*100)}% / ${Math.round(B.grandTotal.oldCustomerRevenue/(B.grandTotal.totalRevenue||1)*100)}%`,icon:Zl,color:"text-fuchsia-500",subText:" / "}),f.jsx(ne,{title:"",value:t(B.grandTotal.returnRevenue),icon:Vue,color:"text-rose-500"}),f.jsx(ne,{title:"",value:t(B.grandTotal.newCustomerCount>0?Math.round(B.grandTotal.newCustomerRevenue/B.grandTotal.newCustomerCount):0),icon:w_,color:"text-emerald-500",subText:f.jsxs(f.Fragment,{children:[" ",f.jsx("span",{className:"font-bold",children:e(B.grandTotal.newCustomerCount)})]})}),f.jsx(ne,{title:"",value:t(B.grandTotal.oldCustomerCount>0?Math.round(B.grandTotal.oldCustomerRevenue/B.grandTotal.oldCustomerCount):0),icon:CA,color:"text-blue-500",subText:f.jsxs(f.Fragment,{children:[" ",f.jsx("span",{className:"font-bold",children:e(B.grandTotal.oldCustomerCount)})]})})]}),f.jsx(It,{title:"",subtitle:" ()",children:f.jsxs("div",{className:"grid grid-cols-1 w-full",children:[f.jsx("div",{className:"flex justify-end mb-4",children:f.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[f.jsx(gz,{size:16}),"  CSV"]})}),f.jsx("div",{className:"overflow-x-auto w-full pb-2",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px] whitespace-nowrap",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100 bg-stone-50/50",children:[f.jsx("th",{className:"p-3 md:p-4 w-16 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4",children:""}),f.jsx("th",{className:"p-3 md:p-4",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""})]})}),f.jsxs("tbody",{className:"text-sm",children:[B.rankings.filter(G=>r!=="therapist"||G.id===i?.id).map((G,K)=>f.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${i?.id===G.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[f.jsx("td",{className:"p-3 md:p-4 text-center",children:f.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${G.rank<=3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":G.status==="DANGER"?"bg-rose-100 text-rose-700 ring-4 ring-rose-50":"bg-stone-100 text-stone-500"}`,children:G.rank})}),f.jsxs("td",{className:"p-3 md:p-4 font-bold text-stone-700 flex items-center gap-2",children:[G.name,i?.id===G.id&&f.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"}),G.status==="DANGER"&&f.jsx("span",{className:"text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold",children:""})]}),f.jsxs("td",{className:"p-3 md:p-4 text-stone-500",children:[G.store,""]}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-indigo-600",children:t(G.totalRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(G.newCustomerRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(G.oldCustomerRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-center font-mono text-xs text-stone-400",children:G.revenueMix}),f.jsx("td",{className:"p-3 md:p-4 text-center font-mono font-bold text-fuchsia-600",children:t(Math.round(G.newAsp))}),f.jsx("td",{className:"p-3 md:p-4 text-center font-mono font-bold text-blue-600",children:t(Math.round(G.oldAsp))}),f.jsxs("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-stone-700",children:[G.newClosingRate.toFixed(0),"%"]})]},G.id))," ",B.rankings.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:10,className:"p-8 text-center text-stone-400",children:""})})]})]})}),f.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[f.jsx(mz,{size:12}),"  ",f.jsx(J0,{size:12})]})]})})]})]})})},Pk=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},nfe=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=w.useState(()=>Pk(t));w.useEffect(()=>{t&&l(Pk(t))},[t]);const u=s.getFullYear(),d=s.getMonth(),m=new Date(u,d+1,0).getDate(),p=new Date(u,d,1).getDay(),g=E=>{const A=new Date(u,d,E),O=new Date;if(O.setHours(0,0,0,0),A>O)return"none";const L=`${u}-${String(d+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`,V=r.filter($=>$.date?$.date.replace(/\//g,"-")===L:!1);return!n||Array.isArray(n)&&n.length===0?"none":n.every($=>{const z=Array.isArray($.stores)?$.stores.map(N=>typeof N=="string"?N:N.name):[];return z.length===0?!0:V.some(N=>z.includes(N.storeName))})?"complete":"incomplete"},b=()=>{l(new Date(u,d-1,1))},_=()=>{l(new Date(u,d+1,1))},S=E=>{const A=`${u}-${String(d+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`;e(A),i&&i()};return f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("button",{onClick:b,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:f.jsx(TA,{size:20})}),f.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",d+1,""]}),f.jsx("button",{onClick:_,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:f.jsx(pz,{size:20})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(E=>f.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:E},E))}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((E,A)=>f.jsx("div",{},`empty-${A}`)),Array.from({length:m}).map((E,A)=>{const O=A+1,V=`${u}-${String(d+1).padStart(2,"0")}-${String(O).padStart(2,"0")}`===t,B=g(O);return f.jsxs("button",{onClick:()=>S(O),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${V?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[O,!V&&B!=="none"&&f.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${B==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},O)})]}),i&&f.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},Nz=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=w.useState(!1),l=w.useRef(null);return w.useEffect(()=>{const u=d=>{window.innerWidth>=768&&l.current&&!l.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),f.jsxs("div",{className:"relative w-full",ref:l,children:[" ",f.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[f.jsx("span",{className:"text-lg",children:t}),f.jsx(Xs,{size:18,className:"text-stone-400 ml-auto"})]}),i&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),f.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:f.jsx(nfe,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},Cu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},rfe=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u,getCollectionPath:d,currentBrand:m}=w.useContext(ur),[p,g]=w.useState(""),[b,_]=w.useState(""),S={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[E,A]=w.useState(S),[O,L]=w.useState(!1),[V,B]=w.useState(!1),[$,z]=w.useState(!1),[j,N]=w.useState(null),M={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},P=Cu(),I=w.useMemo(()=>{if(!m)return"CYJ";const te=typeof m=="string"?m:m.id,se=typeof m=="string"?m:m.label||m.name;return te==="cyj"?"CYJ":se},[m]);w.useEffect(()=>{A(S),_(""),g("")},[m]),w.useEffect(()=>{const te=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const se=Cu(),U=Object.values(E).every(X=>X==="");r!==se&&U&&(console.log(`[] : ${r} -> ${se}`),i(se))}};return document.addEventListener("visibilitychange",te),window.addEventListener("focus",te),()=>{document.removeEventListener("visibilitychange",te),window.removeEventListener("focus",te)}},[r,E,i]),w.useEffect(()=>{const te=typeof m=="string"?m:m?.id||"unknown",se=localStorage.getItem(`input_draft_${te}`);if(se)try{const U=JSON.parse(se);U.formData&&A(U.formData),U.store&&_(U.store),U.manager&&g(U.manager);const X=U.date;X===Cu()&&i(X)}catch(U){console.error(U)}},[m]),w.useEffect(()=>{const te=typeof m=="string"?m:m?.id||"unknown",se={formData:E,store:b,manager:p,date:r,timestamp:Date.now()};localStorage.setItem(`input_draft_${te}`,JSON.stringify(se))},[E,b,p,r,m]),w.useEffect(()=>{const te=rr(E.operationalAccrual),se=rr(E.skincareSales);A(U=>{const X=te+se;return rr(U.accrual)!==X?{...U,accrual:ec(X)}:U})},[E.operationalAccrual,E.skincareSales]);const D=(te,se)=>{const U=se.replace(/,/g,"");/^\d*$/.test(U)&&A(X=>({...X,[te]:ec(U)}))},k=w.useMemo(()=>p?(n[p]||[]).map(te=>`${I}${te}`):e==="store"&&t?(t.stores||[t.storeName]).map(te=>te.startsWith(I)||I==="CYJ"&&te.startsWith("CYJ")?te:`${I}${te}`):[],[p,n,e,t,I]);w.useEffect(()=>{if(!b&&e==="store"&&t){const te=t.stores||[t.storeName];if(te.length>0){let se=te[0];se=se.replace(/$/,""),se.startsWith(I)?se=se.substring(I.length):se.startsWith("CYJ")&&(se=se.substring(3));const U=Object.keys(n).find(Y=>n[Y].includes(se));U&&g(U);const X=te[0].startsWith(I)?te[0]:`${I}${se}`;_(X)}}else!p&&e==="manager"&&t&&g(t.name)},[e,t,n,I]);const ne=()=>{if(confirm("")){A(S);const te=typeof m=="string"?m:m?.id||"unknown";localStorage.removeItem(`input_draft_${te}`),s("","info")}},G=te=>{if(te.preventDefault(),!b)return s("","error");if(r>P)return s("","error");const se=sr(r),U=u.find(X=>sr(X.date)===se&&X.storeName===b);N(U?U.id:null),r!==P?z(!0):B(!0)},K=()=>{z(!1),B(!0)},Z=async()=>{L(!0);try{const te=sr(r),se=typeof m=="string"?m:m?.id||"unknown",U={date:te,storeName:b,brandId:se,...Object.keys(E).reduce((X,Y)=>({...X,[Y]:rr(E[Y])}),{}),timestamp:rd(),submittedBy:t?.name||"unknown"};j?(await Pn(Pr(d("daily_reports"),j),U),l(e,t?.name,"()",`${b} ${te}`)):(await xS(d("daily_reports"),U),l(e,t?.name,"",`${b} ${te}`)),A(S),localStorage.removeItem(`input_draft_${se}`),B(!1),N(null),s("","success")}catch(te){console.error(te),s(": "+te.message,"error")}finally{L(!1)}},ie=te=>f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-bold mb-1.5 ${te.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:M[te]||te}),f.jsx("input",{type:"text",value:E[te],onChange:se=>D(te,se.target.value),readOnly:te==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${te==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},te);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[f.jsx(Vs,{size:14}),"  (",I,")"]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),f.jsx(Nz,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),f.jsx("div",{className:"relative",children:f.jsxs("select",{value:p,onChange:te=>{g(te.target.value),_("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(n).map(te=>f.jsxs("option",{value:te,children:[te,""]},te))]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),f.jsx("div",{className:"relative",children:f.jsxs("select",{value:b,onChange:te=>_(te.target.value),disabled:!p,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),k.map(te=>f.jsx("option",{value:te,children:te},te))]})})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[f.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[f.jsx(vz,{size:20,className:"text-amber-500"}),f.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[f.jsx(Wue,{size:14})," "]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ie("cash"),ie("accrual"),ie("operationalAccrual"),ie("skincareSales")]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[f.jsx(rm,{size:14})," "]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ie("newCustomerSales"),ie("traffic"),ie("newCustomers"),ie("newCustomerClosings")]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[f.jsx(Sz,{size:14}),"  ()"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ie("refund"),ie("skincareRefund")]})]}),f.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[f.jsx("button",{onClick:ne,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:f.jsx(_z,{size:20})}),f.jsx("button",{onClick:G,disabled:O,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70",children:O?f.jsx(Zl,{className:"animate-spin mx-auto"}):""})]})]}),$&&f.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[f.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:f.jsx(Xs,{size:32,className:"text-white"})}),f.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),f.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:f.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[f.jsx(ju,{size:18,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:[" ",f.jsx("u",{children:""})," (",P,")",j&&f.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",f.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),f.jsx("button",{onClick:K,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),V&&f.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[f.jsx(Hu,{})," "]}),f.jsx("button",{onClick:()=>B(!1),children:f.jsx(na,{className:"text-white"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:r})]}),f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:b})]}),f.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",E.cash]})]}),f.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",E.accrual]})]})]}),j&&f.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>B(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsx("button",{onClick:Z,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900",children:""})]})]})]})})]})},ife=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i,getCollectionPath:s,currentBrand:l}=w.useContext(ur),u={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[d,m]=w.useState(u),[p,g]=w.useState(!1),[b,_]=w.useState(!1),[S,E]=w.useState(!1),[A,O]=w.useState(!1),[L,V]=w.useState(null),B={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},$=Cu();w.useEffect(()=>{const P=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const I=Cu(),D=!d.newCustomerRevenue&&!d.oldCustomerRevenue;e!==I&&D&&(console.log(`[] : ${e} -> ${I}`),n(I))}};return document.addEventListener("visibilitychange",P),window.addEventListener("focus",P),()=>{document.removeEventListener("visibilitychange",P),window.removeEventListener("focus",P)}},[e,d,n]),w.useEffect(()=>{const P=typeof l=="string"?l:l?.id||"unknown",I=localStorage.getItem(`therapist_draft_${P}`);if(I)try{const D=JSON.parse(I);D.formData&&m(D.formData);const k=D.date;k===Cu()&&n(k)}catch(D){console.error(D)}},[l]),w.useEffect(()=>{const P=typeof l=="string"?l:l?.id||"unknown",I={formData:d,date:e,timestamp:Date.now()};localStorage.setItem(`therapist_draft_${P}`,JSON.stringify(I))},[d,e,l]),w.useEffect(()=>{const P=rr(d.newCustomerRevenue)||0,I=rr(d.oldCustomerRevenue)||0,D=rr(d.returnRevenue)||0,k=P+I-D;rr(d.totalRevenue)!==k&&m(ne=>({...ne,totalRevenue:ec(k)}))},[d.newCustomerRevenue,d.oldCustomerRevenue,d.returnRevenue]),w.useEffect(()=>{(async()=>{if(t?.id)try{const k=`${sr(e).replace(/\//g,"-")}_${t.id}`,ne=Pr(s("therapist_daily_reports"),k),G=await kC(ne);_(G.exists())}catch(I){console.error("",I)}})()},[e,t,s]);const z=(P,I)=>{const D=I.replace(/,/g,"");/^\d*$/.test(D)&&m(k=>({...k,[P]:ec(D)}))},j=()=>{if(!(d.newCustomerRevenue||d.oldCustomerRevenue||d.newCustomerCount||d.oldCustomerCount||d.returnRevenue))return r("","error");e!==$?O(!0):E(!0)},N=()=>{O(!1),E(!0)},M=async()=>{g(!0),V(null);try{if(!t||!t.id)throw new Error(" ID ");const P=sr(e),D=`${P.replace(/\//g,"-")}_${t.id}`,k=typeof l=="string"?l:l?.id||"unknown",ne={date:P,therapistId:t.id,therapistName:t.name,storeName:t.store||"",brandId:k,totalRevenue:rr(d.totalRevenue),newCustomerRevenue:rr(d.newCustomerRevenue),newCustomerCount:rr(d.newCustomerCount),newCustomerClosings:rr(d.newCustomerClosings),oldCustomerRevenue:rr(d.oldCustomerRevenue),oldCustomerCount:rr(d.oldCustomerCount),returnRevenue:rr(d.returnRevenue),updatedAt:rd()},G=Pr(s("therapist_daily_reports"),D);if(await Pn(G,ne),(await kC(G)).exists())i("therapist",t.name,"",`${P} `),r("","success"),_(!0),m(u),localStorage.removeItem(`therapist_draft_${k}`),E(!1);else throw new Error("")}catch(P){console.error(":",P),V({error:P.message,code:P.code||"unknown",path:"brands/.../therapist_daily_reports"}),r("","error")}finally{g(!1)}};return f.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[f.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[f.jsxs("div",{className:"relative z-10",children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[f.jsx(wc,{className:"text-indigo-200"})," ",t?.name," "]}),f.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),f.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:f.jsx(Ik,{size:120})})]}),f.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:P=>n(P.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),b&&f.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[f.jsx(Vs,{size:16}),"  (",e,") "]}),L&&f.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[f.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[f.jsx(gue,{})," "]}),f.jsx("p",{className:"text-rose-700 text-sm font-bold",children:L.error})]}),f.jsx(It,{title:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[f.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[f.jsx(yue,{size:12})," ",B.totalRevenue," ()"]}),f.jsxs("div",{className:"relative",children:[f.jsx(ol,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),f.jsx("input",{type:"text",value:d.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[f.jsx(Ik,{size:12})," "]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.newCustomerRevenue}),f.jsx("input",{type:"text",value:d.newCustomerRevenue,onChange:P=>z("newCustomerRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.newCustomerCount}),f.jsx("input",{type:"text",value:d.newCustomerCount,onChange:P=>z("newCustomerCount",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.newCustomerClosings}),f.jsx("input",{type:"text",value:d.newCustomerClosings,onChange:P=>z("newCustomerClosings",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[f.jsx(rm,{size:12})," "]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.oldCustomerRevenue}),f.jsx("input",{type:"text",value:d.oldCustomerRevenue,onChange:P=>z("oldCustomerRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:B.oldCustomerCount}),f.jsx("input",{type:"text",value:d.oldCustomerCount,onChange:P=>z("oldCustomerCount",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[f.jsx(Sz,{size:12})," ",B.returnRevenue]}),f.jsx("input",{type:"text",value:d.returnRevenue,onChange:P=>z("returnRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),f.jsxs("button",{onClick:j,disabled:p,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[p?f.jsx(Zl,{className:"animate-spin"}):f.jsx(Ez,{size:20}),""]})]})}),A&&f.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[f.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:f.jsx(Xs,{size:32,className:"text-white"})}),f.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),f.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:f.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[f.jsx(ju,{size:18,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:[" ",f.jsx("u",{children:""})," (",$,")",b&&f.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",f.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>O(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),f.jsx("button",{onClick:N,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),S&&f.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[f.jsx(Hu,{})," "]}),f.jsx("button",{onClick:()=>E(!1),children:f.jsx(na,{className:"text-white"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:e})]}),f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:t?.name})]}),f.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",d.totalRevenue||0]})]}),f.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:f.jsxs("span",{children:["( $",d.newCustomerRevenue||0," +  $",d.oldCustomerRevenue||0,")"]})}),f.jsxs("div",{className:"flex justify-between mt-2",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",d.returnRevenue||0]})]})]})]}),b&&f.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[f.jsx(ju,{size:12})," "]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsx("button",{onClick:M,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md",children:""})]})]})]})})]})},afe=()=>{const{userRole:t}=w.useContext(ur);return f.jsx(Wr,{children:t==="therapist"?f.jsx(ife,{}):f.jsx(rfe,{})})},sfe=()=>{const{showToast:t,managers:e,userRole:n,currentUser:r,getCollectionPath:i,getDocPath:s,currentBrand:l}=w.useContext(ur),[u,d]=w.useState(n==="trainer"||n==="therapist"?"therapist":"store"),[m,p]=w.useState([]),[g,b]=w.useState([]),[_,S]=w.useState(!1),E=()=>new Date().toISOString().split("T")[0],[A,O]=w.useState(E()),[L,V]=w.useState(E()),[B,$]=w.useState(""),[z,j]=w.useState(null),[N,M]=w.useState({}),P=W=>typeof W=="number"?W.toLocaleString():W,I=w.useMemo(()=>{let W="CYJ";if(l){const ve=(typeof l=="string"?l:l.id||"CYJ").toLowerCase();ve.includes("anniu")||ve.includes("anew")?W="":ve.includes("yibo")?W="":W="CYJ"}return W},[l]),D=w.useMemo(()=>n==="director"||n==="trainer"?null:n==="manager"&&r?(e[r.name]||[]).map(W=>W.trim()):n==="store"&&r?(r.stores||[r.storeName]).map(ge=>ge.replace(/CYJ|||Anew|Yibo|/gi,"").trim()):n==="therapist"&&r?[r.store]:[],[n,r,e]),k=w.useMemo(()=>{let W=[];return D!==null?W=D:W=Object.values(e).flat(),W.filter(ge=>ge).map(ge=>`${I}${ge}`).sort()},[e,D,I]);w.useEffect(()=>{k.length===1&&$(k[0])},[k]);const ne=W=>W?W.storeName||W.store||"":"",G=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],K=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];w.useEffect(()=>{if(!A||!L)return;(async()=>{S(!0);try{const ge=u==="store"?"daily_reports":"therapist_daily_reports",ve=new Map,pe=i(ge),je=Xf(pe,gu("date",">=",A),gu("date","<=",L),Ig("date","desc"));(await MC(je)).docs.forEach(Je=>ve.set(Je.id,{id:Je.id,...Je.data()}));const Ee=A.replace(/-/g,"/"),Ce=L.replace(/-/g,"/"),J=Xf(pe,gu("date",">=",Ee),gu("date","<=",Ce),Ig("date","desc"));(await MC(J)).docs.forEach(Je=>ve.set(Je.id,{id:Je.id,...Je.data()}));const Ie=Array.from(ve.values()).sort((Je,pt)=>pt.date.localeCompare(Je.date));u==="store"?p(Ie):b(Ie)}catch(ge){console.error(ge),t(": "+ge.message,"error")}finally{S(!1)}})()},[u,A,L,i,t,l]);const Z=u==="store"?m:g,ie=w.useMemo(()=>Z.filter(W=>{if(n==="therapist"){if(u!=="therapist"||W.therapistId!==r?.id)return!1}else if(D!==null){const ve=ae=>String(ae||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),pe=ve(ne(W));if(!D.some(ae=>pe===ve(ae)))return!1}let ge=!0;if(B){const ve=ae=>String(ae||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),pe=ve(B);ge=ve(ne(W))===pe}return ge}),[Z,B,D,n,r,u]),te=W=>{j(W.id),M({...W,date:sr(W.date)})},se=()=>{j(null),M({})},U=(W,ge)=>{M(ve=>{const pe={...ve,[W]:ge};if(u==="therapist"&&(W==="newCustomerRevenue"||W==="oldCustomerRevenue"||W==="returnRevenue")){const je=Number(pe.newCustomerRevenue||0),ae=Number(pe.oldCustomerRevenue||0),Ee=Number(pe.returnRevenue||0);pe.totalRevenue=je+ae-Ee}if(u==="store"&&(W==="operationalAccrual"||W==="skincareSales")){const je=Number(pe.operationalAccrual||0),ae=Number(pe.skincareSales||0);pe.accrual=je+ae}return pe})},X=async()=>{try{const ge=i(u==="store"?"daily_reports":"therapist_daily_reports"),ve=Pr(ge,z);let pe={};u==="store"?pe={...N,cash:Number(N.cash||0),accrual:Number(N.accrual||0),operationalAccrual:Number(N.operationalAccrual||0),skincareSales:Number(N.skincareSales||0),traffic:Number(N.traffic||0),newCustomers:Number(N.newCustomers||0),newCustomerClosings:Number(N.newCustomerClosings||0),newCustomerSales:Number(N.newCustomerSales||0),refund:Number(N.refund||0),skincareRefund:Number(N.skincareRefund||0)}:pe={...N,totalRevenue:Number(N.totalRevenue||0),newCustomerRevenue:Number(N.newCustomerRevenue||0),newCustomerCount:Number(N.newCustomerCount||0),newCustomerClosings:Number(N.newCustomerClosings||0),oldCustomerRevenue:Number(N.oldCustomerRevenue||0),oldCustomerCount:Number(N.oldCustomerCount||0),returnRevenue:Number(N.returnRevenue||0)},await Pg(ve,pe),t("","success"),(u==="store"?p:b)(ae=>ae.map(Ee=>Ee.id===z?{...Ee,...pe}:Ee)),j(null)}catch{t("","error")}},Y=async W=>{if(confirm("?"))try{const ve=i(u==="store"?"daily_reports":"therapist_daily_reports");await n4(Pr(ve,W)),t("","success"),(u==="store"?p:b)(je=>je.filter(ae=>ae.id!==W))}catch{t("","error")}};return f.jsx(Wr,{children:f.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),f.jsx("span",{className:"px-2 py-1 bg-stone-100 text-stone-500 rounded text-xs font-bold",children:I})]}),f.jsx("span",{className:"hidden sm:inline text-stone-400",children:"|"}),f.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl w-full sm:w-auto",children:[n!=="trainer"&&n!=="therapist"&&f.jsxs("button",{onClick:()=>{d("store"),$("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(zi,{size:16})," "]}),f.jsxs("button",{onClick:()=>{d("therapist"),$("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(wc,{size:16})," "]})]})]}),f.jsx(It,{children:f.jsxs("div",{className:"space-y-4 w-full",children:[f.jsxs("div",{className:"flex flex-wrap items-end gap-4 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[f.jsxs("div",{className:"w-full md:w-auto flex-grow",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(Xs,{size:12})," "]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full",children:[f.jsx("input",{type:"date",value:A,onChange:W=>O(W.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),f.jsx("span",{className:"text-stone-400 font-bold transform rotate-90 md:rotate-0",children:""}),f.jsx("input",{type:"date",value:L,onChange:W=>V(W.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[f.jsxs("div",{className:"flex-grow min-w-[150px]",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("select",{value:B,onChange:W=>$(W.target.value),disabled:k.length===1,className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400 h-[42px] disabled:bg-stone-100 disabled:text-stone-500",children:[k.length>1&&f.jsx("option",{value:"",children:""}),k.map(W=>f.jsx("option",{value:W,children:W},W))]})]}),f.jsx("div",{className:"flex items-end",children:f.jsxs("button",{onClick:()=>{O(E()),V(E()),k.length>1&&$("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm h-[42px] items-center justify-center whitespace-nowrap",children:[f.jsx(_z,{size:16})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),f.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[f.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),u==="store"?G.map(W=>f.jsx("th",{className:`p-4 text-right ${W.isNegative?"text-rose-500":""} ${W.width}`,children:W.label},W.key)):f.jsxs(f.Fragment,{children:[f.jsx("th",{className:"p-4 min-w-[100px]",children:""}),K.map(W=>f.jsx("th",{className:`p-4 text-right ${W.isNegative?"text-rose-500":W.isHighlight?"text-indigo-600":""} ${W.width}`,children:W.label},W.key))]}),f.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),f.jsxs("tbody",{className:"divide-y divide-stone-100",children:[_&&f.jsx("tr",{children:f.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[f.jsx(Fo,{className:"animate-spin inline mr-2"}),"..."]})}),!_&&(!A||!L)&&f.jsx("tr",{children:f.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(jA,{size:24,className:"opacity-50"}),f.jsx("p",{className:"font-bold",children:""})]})})}),!_&&ie.map(W=>{const ge=z===W.id,ve=ne(W).replace(/CYJ|||Anew|Yibo|/gi,"");return f.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:f.jsxs("div",{className:"flex flex-col",children:[ge?f.jsx("input",{type:"date",value:N.date,onChange:pe=>U("date",pe.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):f.jsx("span",{className:"font-mono font-bold text-stone-600",children:W.date}),f.jsxs("span",{className:"font-bold text-stone-800",children:[ve,""]})]})}),u==="store"?G.map(pe=>f.jsx("td",{className:"p-4 text-right",children:ge?f.jsx("input",{type:"number",value:N[pe.key],onChange:je=>U(pe.key,je.target.value),readOnly:pe.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${pe.isNegative?"text-rose-500":""} ${pe.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):f.jsx("span",{className:pe.isNegative?"text-rose-500 font-bold":"",children:P(W[pe.key])})},pe.key)):f.jsxs(f.Fragment,{children:[f.jsx("td",{className:"p-4 font-bold",children:W.therapistName}),K.map(pe=>f.jsx("td",{className:"p-4 text-right",children:ge?f.jsx("input",{type:"number",value:N[pe.key],onChange:je=>U(pe.key,je.target.value),readOnly:pe.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${pe.isNegative?"text-rose-500":pe.isHighlight?"font-bold text-indigo-600":""} ${pe.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):f.jsx("span",{className:pe.isNegative?"text-rose-500 font-bold":pe.isHighlight?"text-indigo-600 font-bold":"",children:P(W[pe.key])})},pe.key))]}),f.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:ge?f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{onClick:X,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:f.jsx(xc,{size:16})}),f.jsx("button",{onClick:se,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:f.jsx(na,{size:16})})]}):f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{onClick:()=>te(W),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:f.jsx(wz,{size:16})}),f.jsx("button",{onClick:()=>Y(W.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:f.jsx(cg,{size:16})})]})})]},W.id)}),!_&&ie.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:" ()"})})]})]})}),f.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[f.jsx(mz,{size:12}),"  ",f.jsx(J0,{size:12})]})]})]})})]})})},ofe=()=>{const{fmtMoney:t,fmtNum:e,userRole:n,currentBrand:r,allReports:i,managers:s,budgets:l,selectedYear:u,selectedMonth:d}=w.useContext(ur),{brandInfo:m,brandPrefix:p}=w.useMemo(()=>{let S="CYJ",E="CYJ";r&&(typeof r=="string"?S=r:typeof r=="object"&&(S=r.id||"CYJ",E=r.name||r.label||S));const A=S.toLowerCase();return A.includes("anniu")||A.includes("anew")?E="":A.includes("yibo")?E="":E="CYJ",{brandInfo:{id:S,name:E},brandPrefix:E}},[r]),g=w.useMemo(()=>{if(!i||!s)return null;const S=parseInt(u),E=parseInt(d),A=Object.keys(s).map(O=>({manager:O,stores:[],cashTotal:0,accrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0,budgetTotal:0,achievement:0}));return A.forEach(O=>{(s[O.manager]||[]).forEach(V=>{const B=`${p}${V}`,$={name:B,cleanName:V,cashTotal:0,accrualTotal:0,budget:0,achievement:0};i.forEach(N=>{const M=new Date(N.date);if(M.getFullYear()!==S||M.getMonth()+1!==E||N.storeName!==B)return;const P=(Number(N.cash)||0)-(Number(N.refund)||0),I=Number(N.accrual)||0;$.cashTotal+=P,$.accrualTotal+=I,O.cashTotal+=P,O.accrualTotal+=I,O.skincareSalesTotal+=Number(N.skincareSales)||0,O.trafficTotal+=Number(N.traffic)||0,O.newCustomersTotal+=Number(N.newCustomers)||0,O.newCustomerClosingsTotal+=Number(N.newCustomerClosings)||0});const z=`${B}_${S}_${E}`,j=l[z];j&&($.budget=Number(j.cashTarget)||0,O.budgetTotal+=$.budget),$.achievement=$.budget>0?$.cashTotal/$.budget*100:0,O.stores.push($)}),O.achievement=O.budgetTotal>0?O.cashTotal/O.budgetTotal*100:0}),A.sort((O,L)=>L.cashTotal-O.cashTotal)},[i,s,l,u,d,p]),b=w.useMemo(()=>g?g.map(S=>({name:S.manager,value:S.cashTotal})).filter(S=>S.value>0):[],[g]),_=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return g?f.jsx(Wr,{children:f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2",children:[f.jsx("div",{className:`w-2 h-8 rounded-full ${m.id.toLowerCase().includes("anniu")?"bg-teal-500":m.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),f.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[m.name," "]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(S=>f.jsxs(It,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg",children:S.manager.charAt(0)}),f.jsx("div",{children:f.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[S.manager," "]})})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${S.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[S.achievement.toFixed(0),"%"]})})]}),f.jsxs("div",{className:"space-y-3 mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-lg font-bold text-stone-700",children:t(S.cashTotal)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-base font-bold text-stone-600",children:t(S.accrualTotal)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-base font-bold text-rose-500",children:t(S.skincareSalesTotal)})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.trafficTotal)})]}),f.jsxs("div",{className:"text-center border-l border-stone-200",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.newCustomersTotal)})]}),f.jsxs("div",{className:"text-center border-l border-stone-200",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.newCustomerClosingsTotal)})]})]})]},S.manager))}),n==="director"?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:f.jsx(It,{title:` (${p})`,subtitle:"",children:f.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:f.jsx(p0,{width:"100%",height:"100%",children:f.jsxs(Zce,{children:[f.jsx(_L,{data:b,cx:"50%",cy:"50%",labelLine:!0,label:({name:S,percent:E})=>`${S} ${(E*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:b.map((S,E)=>f.jsx(Zh,{fill:_[E%_.length]},`cell-${E}`))}),f.jsx(U0,{formatter:S=>t(S)}),f.jsx(w0,{verticalAlign:"bottom",height:36})]})})})})}):f.jsx("div",{className:"space-y-6",children:g.map(S=>n==="manager"&&currentUser&&currentUser.name!==S.manager?null:f.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[f.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:f.jsxs("h3",{className:"font-bold text-stone-700",children:[S.manager," "]})}),f.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:S.stores.map(E=>f.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h4",{className:"font-bold text-stone-700",children:E.cleanName}),f.jsxs("span",{className:`text-sm font-bold ${E.achievement>=100?"text-emerald-600":"text-amber-500"}`,children:[E.achievement.toFixed(0),"%"]})]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-400",children:""}),f.jsx("span",{className:"font-bold",children:t(E.cashTotal)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-400",children:""}),f.jsx("span",{className:"font-bold",children:t(E.accrualTotal)})]})]})]},E.name))})]},S.manager))})]})}):f.jsxs("div",{className:"flex h-96 items-center justify-center",children:[f.jsx(Fo,{className:"h-10 w-10 animate-spin text-stone-300"}),f.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]})},lfe=()=>{const{allReports:t,fmtMoney:e,fmtNum:n,budgets:r,selectedYear:i,selectedMonth:s,managers:l,auditExclusions:u,handleUpdateAuditExclusions:d,showToast:m,currentBrand:p}=w.useContext(ur),[g,b]=w.useState({key:"achievement",direction:"desc"}),[_,S]=w.useState(!1),[E,A]=w.useState([]),O=w.useMemo(()=>{let I="CYJ";if(p){const k=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();k.includes("anniu")||k.includes("anew")?I="":k.includes("yibo")?I="":I="CYJ"}return I},[p]),L=I=>I?I.replace(new RegExp(`^(${O}|CYJ|||Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",V=()=>{A(u||[]),S(!0)},B=async()=>{await d(E),S(!1),m("","success")},$=I=>{A(D=>D.includes(I)?D.filter(k=>k!==I):[...D,I])},z=w.useMemo(()=>{if(!t)return[];const I=parseInt(i),D=parseInt(s),k={};t.forEach(G=>{const K=new Date(G.date);if(K.getFullYear()!==I||K.getMonth()+1!==D)return;const Z=G.storeName;if(!Z)return;k[Z]||(k[Z]={name:Z,displayName:L(Z),manager:"",cashTotal:0,refundTotal:0,accrualTotal:0,operationalAccrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0});const ie=k[Z];ie.cashTotal+=Number(G.cash)||0,ie.refundTotal+=Number(G.refund)||0,ie.accrualTotal+=Number(G.accrual)||0,ie.operationalAccrualTotal+=Number(G.operationalAccrual)||0,ie.skincareSalesTotal+=Number(G.skincareSales)||0,ie.trafficTotal+=Number(G.traffic)||0,ie.newCustomersTotal+=Number(G.newCustomers)||0,ie.newCustomerClosingsTotal+=Number(G.newCustomerClosings)||0});let ne=Object.values(k).map(G=>{const K=G.displayName,Z=Object.keys(l).find(Y=>l[Y].includes(K));G.manager=Z||"";const ie=G.cashTotal-G.refundTotal;G.cashTotal=ie;const te=`${G.name}_${I}_${D}`,se=r[te],U=se?Number(se.cashTarget||0):0,X=se?Number(se.accrualTarget||0):0;return{...G,cashTarget:U,achievement:U>0?ie/U*100:0,accrualTarget:X,accrualAchievement:X>0?G.accrualTotal/X*100:0,trafficASP:G.trafficTotal>0?Math.round(G.operationalAccrualTotal/G.trafficTotal):0}});return ne=ne.filter(G=>!(u||[]).includes(G.displayName)),ne},[t,r,i,s,u,l,O]),j=w.useMemo(()=>{let I=[...z];return g.key&&I.sort((D,k)=>{const ne=D[g.key]||0,G=k[g.key]||0;return ne<G?g.direction==="ascending"?-1:1:ne>G?g.direction==="ascending"?1:-1:0}),I},[z,g]),N=I=>b({key:I,direction:g.key===I&&g.direction==="desc"?"ascending":"desc"}),M=()=>{const I=[",,,,,,,,,,,,"],D=j.map((Z,ie)=>[ie+1,Z.displayName,Z.manager,Z.cashTotal||0,(Z.achievement||0).toFixed(2)+"%",Z.accrualTotal||0,Z.accrualTarget||0,(Z.accrualAchievement||0).toFixed(2)+"%",Z.skincareSalesTotal||0,Z.trafficTotal||0,Z.trafficASP||0,Z.newCustomersTotal||0,Z.newCustomerClosingsTotal||0].join(",")),k="\uFEFF"+[I,...D].join(`
`),ne=new Blob([k],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(ne),K=document.createElement("a");K.href=G,K.download=`${O}__${new Date().toISOString().split("T")[0]}.csv`,K.click()},P=({store:I,index:D})=>f.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm mb-3",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-stone-50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D<3?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-500"}`,children:D+1}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-stone-700 text-lg",children:I.displayName}),f.jsxs("p",{className:"text-xs text-stone-400",children:[I.manager,""]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-xs text-stone-400 font-bold uppercase",children:""}),f.jsxs("div",{className:`text-xl font-mono font-bold ${I.achievement>=100?"text-emerald-500":"text-stone-700"}`,children:[I.achievement.toFixed(1),"%"]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(ol,{size:10})," "]}),f.jsx("p",{className:"font-mono font-bold text-stone-700",children:e(I.cashTotal)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(mue,{size:10})," "]}),f.jsxs("p",{className:`font-mono font-bold ${I.accrualAchievement>=100?"text-emerald-600":"text-blue-600"}`,children:[I.accrualAchievement.toFixed(1),"%"]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(Ku,{size:10})," "]}),f.jsx("p",{className:"font-mono font-bold text-stone-600",children:e(I.accrualTotal)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(rm,{size:10})," /"]}),f.jsxs("p",{className:"font-mono text-stone-600 text-sm",children:[n(I.trafficTotal)," / ",f.jsx("span",{className:"text-stone-800 font-bold",children:n(I.newCustomersTotal)})]})]})]})]});return f.jsxs(Wr,{children:[f.jsxs(It,{title:`${O} `,subtitle:"",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mb-4 gap-2",children:[f.jsxs("button",{onClick:V,className:"flex items-center justify-center gap-2 px-4 py-2 bg-stone-100 text-stone-600 rounded-xl text-sm font-bold hover:bg-stone-200 transition-colors",children:[f.jsx(Z0,{size:16})," "]}),f.jsxs("button",{onClick:M,className:"flex items-center justify-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[f.jsx(gz,{size:16}),"  CSV"]})]}),f.jsx("div",{className:"block md:hidden",children:j.map((I,D)=>f.jsx(P,{store:I,index:D},I.name))}),f.jsx("div",{className:"hidden md:block w-full overflow-hidden rounded-2xl border border-stone-100",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[f.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase sticky top-0 z-10",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-16 text-center",children:""}),f.jsx("th",{className:"p-4 cursor-pointer hover:text-stone-700",onClick:()=>N("displayName"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("cashTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("achievement"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>N("accrualTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>N("accrualAchievement"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("trafficTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("newCustomersTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("newCustomerClosingsTotal"),children:""})]})}),f.jsxs("tbody",{className:"text-sm divide-y divide-stone-50",children:[j.map((I,D)=>f.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:D+1}),f.jsx("td",{className:"p-4 font-bold text-stone-700",children:I.displayName}),f.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(I.cashTotal)}),f.jsxs("td",{className:`p-4 text-right font-mono font-bold ${I.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[I.achievement.toFixed(1),"%"]}),f.jsx("td",{className:"p-4 text-right font-mono font-bold text-blue-600",children:e(I.accrualTotal)}),f.jsxs("td",{className:`p-4 text-right font-mono font-bold ${I.accrualAchievement>=100?"text-emerald-500":"text-blue-400"}`,children:[I.accrualAchievement.toFixed(1),"%"]}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.trafficTotal)}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.newCustomersTotal)}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.newCustomerClosingsTotal)})]},I.name)),j.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:13,className:"p-8 text-center text-stone-400",children:""})})]})]})})})]}),_&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(AA,{size:20,className:"text-rose-400"}),"  (",O,")"]}),f.jsx("button",{onClick:()=>S(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(na,{size:20})})]}),f.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(l).map(([I,D])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[I," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:D.map(k=>{const ne=E.includes(k);return f.jsxs("button",{onClick:()=>$(k),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${ne?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[ne&&f.jsx(Vs,{size:14}),k]},k)})})]},I))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>S(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:B,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(xc,{size:18})," "]})]})]})})]})},cfe=()=>{const{rawData:t,budgets:e,managers:n,selectedYear:r,selectedMonth:i,fmtMoney:s,fmtNum:l,currentUser:u,userRole:d,activeView:m,currentBrand:p}=w.useContext(ur),[g,b]=w.useState(""),[_,S]=w.useState(""),E=w.useMemo(()=>{let L="CYJ";if(p){const B=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();B.includes("anniu")||B.includes("anew")?L="":B.includes("yibo")?L="":L="CYJ"}return L},[p]);w.useEffect(()=>{m==="store-analysis"&&u&&n[u.name]&&b(u.name)},[m,u,n]),w.useEffect(()=>{const L=V=>S(V.detail);return window.addEventListener("navigate-to-store",L),()=>window.removeEventListener("navigate-to-store",L)},[]);const A=w.useMemo(()=>{const L=V=>{const B=V.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${E}${B}`};return d==="director"||d==="trainer"?g?(n[g]||[]).map(L):[]:d==="manager"?Object.values(n).flat().map(L):d==="store"&&u?(u.stores||[u.storeName]).map(V=>L(V)):[]},[g,n,u,d,E]);w.useEffect(()=>{u&&A.length>0&&(!_||!A.includes(_))&&S(A[0])},[u,A,_]);const O=w.useMemo(()=>{if(!_)return null;const L=parseInt(r),V=parseInt(i),B=L-1911,$=t.filter(G=>{if(G.storeName!==_||!G.date)return!1;const K=G.date.replace(/-/g,"/").split("/"),Z=parseInt(K[0]),ie=parseInt(K[1]);return(Z===L||Z===B)&&ie===V}).sort((G,K)=>{const Z=sr(G.date),ie=sr(K.date);return Z.localeCompare(ie)}),z=$.reduce((G,K)=>G+(K.cash||0),0),j=$.reduce((G,K)=>G+(K.refund||0),0),N=z-j,M=$.reduce((G,K)=>G+(K.traffic||0),0),P=$.reduce((G,K)=>G+(K.operationalAccrual||0),0),I=$.reduce((G,K)=>G+(K.newCustomers||0),0),D=$.reduce((G,K)=>G+(K.newCustomerSales||0),0),k=$.reduce((G,K)=>G+(K.newCustomerClosings||0),0),ne=e[`${_}_${L}_${V}`]?.cashTarget||0;return{totalCash:N,achievement:ne>0?N/ne*100:0,trafficASP:M>0?Math.round(P/M):0,newCustomerASP:I>0?Math.round(D/I):0,totalNewCustomerClosings:k,totalRefund:j,dailyData:$.map(G=>({date:sr(G.date).split("/")[2],cash:(G.cash||0)-(G.refund||0),accrual:G.accrual||0,traffic:G.traffic})),budget:ne}},[_,r,i,t,e]);return f.jsx(Wr,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsx(It,{title:"",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsxs("select",{value:g,onChange:L=>b(L.target.value),disabled:d!=="director"&&d!=="trainer",className:"px-4 py-2 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white",children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(L=>f.jsxs("option",{value:L,children:[L,""]},L))]}),f.jsxs("select",{value:_,onChange:L=>S(L.target.value),className:"px-4 py-2 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white",children:[f.jsx("option",{value:"",children:""}),A.map(L=>f.jsx("option",{value:L,children:L},L))]})]})}),_&&O?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(O.totalCash)}),f.jsxs("p",{className:`text-sm font-bold ${O.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[O.achievement.toFixed(1),"% "]})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(O.trafficASP)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(O.budget)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(O.newCustomerASP)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(O.totalNewCustomerClosings)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:s(O.totalRefund)})]})]}),f.jsx(It,{title:`${_} `,subtitle:"()",children:f.jsx("div",{className:"h-[400px] w-full",children:f.jsx(p0,{width:"100%",height:"100%",children:f.jsxs(EA,{data:O.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[f.jsx(W0,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),f.jsx(Q0,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),f.jsx(Fu,{yAxisId:"left",width:80,tickFormatter:L=>L===0?"0":`$${(L/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),f.jsx(Fu,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),f.jsx(U0,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(L,V)=>V===""?[l(L),V]:[s(L),V],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),f.jsx(w0,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),f.jsx(xA,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),f.jsx(qu,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),f.jsx(qu,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]}):f.jsxs("div",{className:"p-10 text-center text-stone-400 bg-stone-50 rounded-xl border border-stone-100",children:[f.jsx("p",{className:"font-bold",children:""}),f.jsx("p",{className:"text-xs mt-1",children:""})]})]})})},ufe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState(1),l=20,u=new Date().toISOString().split("T")[0],[d,m]=w.useState({start:u,end:u}),p=()=>{r(!0),e([]);const A=new Date(d.start);A.setHours(0,0,0,0);const O=new Date(d.end);O.setHours(23,59,59,999);const L=Xf(yw(vu,"artifacts",jf,"public","data","system_logs"),gu("timestamp",">=",Dt.fromDate(A)),gu("timestamp","<=",Dt.fromDate(O)),e4(500));return Hr(L,B=>{let $=B.docs.map(z=>({id:z.id,...z.data()}));$.sort((z,j)=>{const N=z.timestamp?.toMillis?z.timestamp.toMillis():0;return(j.timestamp?.toMillis?j.timestamp.toMillis():0)-N}),e($),r(!1)})};w.useEffect(()=>{const A=p();return()=>A()},[d]);const g=Math.ceil(t.length/l),b=t.slice((i-1)*l,i*l),_=A=>{if(!A)return"-";const O=A.toDate?A.toDate():new Date(A);return`${O.getMonth()+1}/${O.getDate()} ${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`},S=A=>{switch(A){case"director":return f.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return f.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return f.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return f.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return f.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},E=A=>A==="iOS"||A==="Android"||A==="Mobile"?f.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[f.jsx(_de,{size:12})," ",A]}):f.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[f.jsx(ude,{size:12})," PC"]});return f.jsx(Wr,{children:f.jsx("div",{className:"space-y-6 pb-20",children:f.jsxs(It,{children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),f.jsx("p",{className:"text-xs text-stone-400",children:""})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[f.jsxs("div",{className:"flex items-center gap-2 px-2",children:[f.jsx(Xs,{size:14,className:"text-stone-400"}),f.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[f.jsx("input",{type:"date",value:d.start,onChange:A=>m(O=>({...O,start:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),f.jsx("span",{className:"text-stone-300",children:"~"}),f.jsx("input",{type:"date",value:d.end,onChange:A=>m(O=>({...O,end:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?f.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[f.jsx(mde,{className:"animate-spin mx-auto mb-2"}),f.jsx("p",{children:"..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[f.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4 w-24",children:""}),f.jsx("th",{className:"p-4 w-24",children:""}),f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:b.length>0?b.map(A=>f.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:_(A.timestamp)}),f.jsx("td",{className:"p-4",children:E(A.device)}),f.jsx("td",{className:"p-4",children:S(A.role)}),f.jsx("td",{className:"p-4 font-bold text-stone-700",children:A.user}),f.jsx("td",{className:"p-4 font-medium text-stone-600",children:A.action}),f.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof A.details=="string"?A.details:JSON.stringify(A.details),children:typeof A.details=="string"?A.details:JSON.stringify(A.details)})]},A.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&f.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[f.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>s(A=>Math.max(1,A-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:f.jsx(TA,{size:18})}),f.jsx("button",{onClick:()=>s(A=>Math.min(g,A+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:f.jsx(pz,{size:18})})]})]})]})]})})})},dfe=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:d,therapists:m,therapistTargets:p,therapistSchedules:g,trainerAuth:b,handleUpdateTrainerAuth:_,getDocPath:S,getCollectionPath:E}=w.useContext(ur),[A,O]=w.useState(""),[L,V]=w.useState(t),[B,$]=w.useState(u||ug),[z,j]=w.useState(r||{});w.useEffect(()=>{r&&j(r)},[r]);const[N,M]=w.useState({name:"",password:"",stores:""}),[P,I]=w.useState(null),[D,k]=w.useState({name:"",password:"",stores:[]}),[ne,G]=w.useState({name:"",password:""}),[K,Z]=w.useState(null),[ie,te]=w.useState([]),[se,U]=w.useState({name:"",manager:""}),[X,Y]=w.useState(!1),[W,ge]=w.useState(null),[ve,pe]=w.useState(""),[je,ae]=w.useState(""),[Ee,Ce]=w.useState(""),[J,ze]=w.useState(""),[Ie,Je]=w.useState("0000"),[pt,dn]=w.useState(""),Ye="",wt=w.useMemo(()=>{const F=[],he=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0},{id:"permissions",label:"",isAdminOnly:!0},{id:"trainer-account",label:"",isAdminOnly:!0,icon:rm},{id:"shops",label:"",isAdminOnly:!0},{id:"stores",label:"",isAdminOnly:!0},{id:"managers",label:"",isAdminOnly:!0},{id:"therapists",label:"",isAdminOnly:!0}].forEach(Te=>{(l==="director"||!Te.isAdminOnly&&Te.permissionId&&he.includes(Te.permissionId))&&F.push(Te)}),F},[l,u]);w.useEffect(()=>{if(wt.length>0){const F=wt.some(he=>he.id===A);(!A||!F)&&O(wt[0].id)}},[wt,A]);const Pt=w.useMemo(()=>{const he=Object.entries(z||{});return he.some(([Te])=>Te===Ye)||he.push([Ye,[]]),he.sort((Te,ut)=>Te[0]===Ye?1:ut[0]===Ye?-1:Te[0].localeCompare(ut[0]))},[z]);w.useMemo(()=>{let F=m.filter(he=>he.status==="active");if(l==="director"||l==="trainer")return F.sort((he,Se)=>he.store.localeCompare(Se.store));if(l==="manager"){const he=z[d?.name]||[];return F.filter(Se=>he.includes(Se.store)).sort((Se,Te)=>Se.store.localeCompare(Te.store))}if(l==="store"){const Se=(d?.stores||[d?.storeName]).map(Te=>Te.replace("CYJ","").replace("",""));return F.filter(Te=>Se.includes(Te.store))}return l==="therapist"?F.filter(he=>he.id===d?.id):[]},[m,l,d,z]);const pi=async()=>{if(!pt)return n("","error");await _(pt)?(n("","success"),dn("")):n("","error")};w.useEffect(()=>{u&&$(u)},[u]),w.useEffect(()=>{t&&V(t)},[t]);const Qs=async()=>{try{await Pn(S("kpi_targets"),L),e(L),n("KPI ","success")}catch{n("","error")}},Js=async()=>{try{await Pn(S("permissions"),B),n("","success")}catch{n("","error")}},Rt=(F,he)=>{const Se=B[F]||[],Te=Se.includes(he)?Se.filter(ut=>ut!==he):[...Se,he];$({...B,[F]:Te})},_r=async()=>{if(!se.name||!se.manager)return n("","error");try{const F=se.manager,he=S("org_structure"),Se=await pf(he);let Te=Se.exists()?{...Se.data().managers}:{};Te[F]||(Te[F]=[]),Te[F].includes(se.name)||Te[F].push(se.name),await Pn(he,{managers:Te}),j(Te),U({name:"",manager:""}),n("","success")}catch(F){n(": "+F.message,"error")}},gi=async(F,he)=>{const Se=he===Ye;if(confirm(Se?"":""))try{const Te=S("org_structure"),ut=await pf(Te);if(!ut.exists())throw new Error("");let ot=JSON.parse(JSON.stringify(ut.data().managers||{}));Array.isArray(ot[he])&&(ot[he]=ot[he].filter(Er=>Er!==F)),Se||(Array.isArray(ot[Ye])||(ot[Ye]=[]),ot[Ye].includes(F)||ot[Ye].push(F)),await Pn(Te,{managers:ot}),j(ot),n(Se?"":"","success")}catch(Te){console.error(Te),n(": "+Te.message,"error")}},qi=async F=>{try{const he=S("org_structure"),Se=await pf(he);let Te=Se.exists()?JSON.parse(JSON.stringify(Se.data().managers)):{};const ut=ie,ot=Te[F]||[],Er=ot.filter(Ar=>!ut.includes(Ar)),Qr=ut.filter(Ar=>!ot.includes(Ar));Te[F]=ut,Array.isArray(Te[Ye])||(Te[Ye]=[]),Er.forEach(Ar=>{Te[Ye].includes(Ar)||Te[Ye].push(Ar)}),Te[Ye]=Te[Ye].filter(Ar=>!Qr.includes(Ar)),await Pn(he,{managers:Te}),j(Te),Z(null),n("","success")}catch{n("","error")}},vi=w.useMemo(()=>{const F=Object.values(z||{}).flat(),he=i.flatMap(Se=>Se.stores||[]);return F.filter(Se=>!he.includes(Se)).sort()},[z,i]),Ya=w.useMemo(()=>z&&z[Ye]?z[Ye].sort():[],[z]),ca=w.useMemo(()=>{const F=Object.values(z||{}).flat(),he=i.filter(Se=>Se.id!==P?.id).flatMap(Se=>Se.stores||[]);return F.filter(Se=>!he.includes(Se)&&!D.stores.includes(Se)).sort()},[z,i,P,D]),ua=async()=>{if(!N.name||!N.password)return n("","error");const F={id:Yde(),...N,stores:N.stores?[N.stores]:[]};try{await Pn(S("store_account_data"),{accounts:[...i,F]}),M({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},da=F=>{I(F),k({name:F.name,password:F.password,stores:F.stores||[]})},dr=F=>{F&&!D.stores.includes(F)&&k({...D,stores:[...D.stores,F]})},Zt=F=>{k({...D,stores:D.stores.filter(he=>he!==F)})},Un=async()=>{if(!D.name)return;const F=i.map(he=>he.id===P.id?{...he,...D}:he);await Pn(S("store_account_data"),{accounts:F}),I(null),n("","success")},Vt=async F=>{if(!confirm("?"))return;const he=i.filter(Se=>Se.id!==F);await Pn(S("store_account_data"),{accounts:he}),n("","success")},Wa=async()=>{if(ne.name)try{const F=S("org_structure"),he=await pf(F);let Se=he.exists()?he.data().managers:{};Se[ne.name]=[],await Pn(F,{managers:Se}),j(Se),await Pn(S("manager_auth"),{[ne.name]:ne.password},{merge:!0}),G({name:"",password:""}),n("","success")}catch{n("","error")}},yi=F=>{F&&(ie.includes(F)||te([...ie,F]))},Zs=F=>{te(ie.filter(he=>he!==F))},fr=async F=>{if(confirm("?"))try{const he=S("org_structure"),Se=await pf(he);let Te=Se.exists()?Se.data().managers:{};delete Te[F],await Pn(he,{managers:Te}),j(Te),n("","success")}catch{n("","error")}},Fi=async()=>{if(!J)return n("","error");try{await xS(E("therapists"),{name:J,store:Ee,manager:je,password:Ie,status:"active",createdAt:rd()}),Y(!1),ze(""),n("","success")}catch{n("","error")}},Gt=async()=>{if(!W)return;const F=Pr(E("therapists"),W.id);await Pg(F,{name:J,store:Ee,manager:je,password:Ie}),ge(null),n("","success")},Dr=async F=>{const he=Pr(E("therapists"),F.id);await Pg(he,{status:F.status==="active"?"resigned":"active"}),n("","success")},Lr=async F=>{confirm("?")&&(await n4(Pr(E("therapists"),F)),n("","success"))},Sr=F=>{ge(F),ae(F.manager||""),Ce(F.store),ze(F.name),Je(F.password)},eo=w.useMemo(()=>je?z&&z[je]?z[je]:[]:[],[je,z]),to=w.useMemo(()=>m.filter(F=>(F.name||"").includes(ve)||(F.store||"").includes(ve)||F.status==="resigned"&&ve===""),[m,ve]);return wt.length===0?f.jsx(Wr,{children:f.jsx(It,{title:"",children:f.jsxs("div",{className:"text-center py-10 text-stone-400",children:[f.jsx(zf,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:""})]})})}):f.jsx(Wr,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800 shrink-0",children:""}),f.jsx("div",{className:"w-full xl:w-auto min-w-0 bg-white p-1 rounded-xl shadow-sm border border-stone-100 flex overflow-x-auto no-scrollbar",children:wt.map(F=>f.jsxs("button",{onClick:()=>O(F.id),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-1 ${A===F.id?"bg-stone-800 text-white shadow":"text-stone-500 hover:bg-stone-50"}`,children:[F.icon&&f.jsx(F.icon,{size:14}),F.label]},F.id))})]}),A==="kpi"&&f.jsx(It,{title:"KPI ",children:f.jsxs("div",{className:"max-w-md space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"number",value:L.newASP,onChange:F=>V({...L,newASP:Number(F.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"number",value:L.trafficASP,onChange:F=>V({...L,trafficASP:Number(F.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),f.jsx("button",{onClick:Qs,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold",children:" KPI "})]})}),A==="trainer-account"&&f.jsx(It,{title:"",children:f.jsxs("div",{className:"max-w-md space-y-6",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),f.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:b?.password||"0000"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"text",value:pt,onChange:F=>dn(F.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsx("button",{onClick:pi,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),A==="permissions"&&f.jsxs(It,{title:"",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-stone-200",children:[f.jsx("th",{className:"p-4 font-bold text-stone-500",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:pc.map(F=>f.jsxs("tr",{className:"hover:bg-stone-50",children:[f.jsxs("td",{className:"p-4 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500",children:f.jsx(F.icon,{size:18})}),f.jsx("span",{className:"font-bold text-stone-700",children:F.label})]}),f.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:f.jsx("input",{type:"checkbox",checked:B.trainer?.includes(F.id),onChange:()=>Rt("trainer",F.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:f.jsx("input",{type:"checkbox",checked:B.manager?.includes(F.id),onChange:()=>Rt("manager",F.id),className:"w-5 h-5 rounded cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:f.jsx("input",{type:"checkbox",checked:B.store?.includes(F.id),onChange:()=>Rt("store",F.id),className:"w-5 h-5 rounded cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:f.jsx("input",{type:"checkbox",checked:B.therapist?.includes(F.id),onChange:()=>Rt("therapist",F.id),className:"w-5 h-5 rounded cursor-pointer"})})]},F.id))})]})}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:Js,className:"bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),A==="shops"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(It,{title:"",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:se.name,onChange:F=>U({...se,name:F.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{value:se.manager,onChange:F=>U({...se,manager:F.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(z).map(F=>f.jsxs("option",{value:F,children:[F," "]},F))]}),f.jsx(G1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),f.jsxs("button",{onClick:_r,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[f.jsx(Gp,{size:18})," "]})]})}),f.jsx(It,{title:"",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Pt.map(([F,he])=>f.jsxs("div",{className:`bg-stone-50 rounded-2xl p-4 border ${F===Ye?"border-stone-300 shadow-inner":"border-stone-100"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[f.jsxs("span",{className:`font-bold ${F===Ye?"text-stone-500":"text-stone-700"}`,children:[F," ",F!==Ye&&""]}),f.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[he.length," "]})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:he.map(Se=>f.jsxs("div",{className:"group relative flex items-center",children:[f.jsx("span",{className:`px-3 py-1.5 border rounded-lg text-xs font-bold shadow-sm pr-7 ${F===Ye?"bg-white text-stone-500 border-stone-200":"bg-white text-stone-600 border-stone-200"}`,children:Se}),f.jsx("button",{onClick:()=>gi(Se,F),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:f.jsx(na,{size:12})})]},Se))})]},F))})})]}),A==="stores"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(It,{title:"",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),f.jsx("input",{type:"text",value:N.name,onChange:F=>M({...N,name:F.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:N.password,onChange:F=>M({...N,password:F.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative w-full",children:[f.jsx(zi,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),f.jsxs("select",{value:N.stores,onChange:F=>M({...N,stores:F.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),vi.map(F=>f.jsx("option",{value:F,children:F},F))]}),f.jsx(G1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),f.jsx("button",{onClick:ua,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:f.jsx(Gp,{size:20})})]})]})]})}),f.jsx(It,{title:"",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),f.jsx("th",{className:"p-4",children:""}),f.jsx("th",{className:"p-4",children:""}),f.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(F=>f.jsxs("tr",{className:"hover:bg-stone-50",children:[f.jsx("td",{className:"p-4 font-bold text-stone-700",children:F.name}),f.jsx("td",{className:"p-4 font-mono text-stone-500",children:F.password}),f.jsx("td",{className:"p-4",children:f.jsx("div",{className:"flex flex-wrap gap-1",children:F.stores&&F.stores.map(he=>f.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:he},he))})}),f.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[f.jsx("button",{onClick:()=>da(F),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:f.jsx(wz,{size:18})}),f.jsx("button",{onClick:()=>Vt(F.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:f.jsx(cg,{size:18})})]})]},F.id))})]})})}),P&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[f.jsx("span",{children:""}),f.jsx("button",{onClick:()=>I(null),children:f.jsx(na,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),f.jsx("input",{type:"text",value:D.name,onChange:F=>k({...D,name:F.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsx("input",{type:"text",value:D.password,onChange:F=>k({...D,password:F.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:D.stores.map(F=>f.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[F," ",f.jsx("button",{onClick:()=>Zt(F),className:"text-stone-300 hover:text-rose-500",children:f.jsx(na,{size:12})})]},F))}),f.jsx("div",{className:"relative",children:f.jsxs("select",{onChange:F=>{dr(F.target.value),F.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[f.jsx("option",{value:"",children:"+ "}),ca.map(F=>f.jsx("option",{value:F,children:F},F))]})})]}),f.jsxs("div",{className:"pt-4 flex gap-3",children:[f.jsx("button",{onClick:()=>I(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),f.jsx("button",{onClick:Un,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),A==="managers"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(It,{title:"",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:ne.name,onChange:F=>G({...ne,name:F.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:ne.password,onChange:F=>G({...ne,password:F.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("button",{onClick:Wa,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[f.jsx(Gp,{size:18})," "]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Pt.map(([F,he])=>f.jsxs(It,{className:`border ${F===Ye?"border-stone-300 bg-stone-50":"border-stone-200"}`,children:[f.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${F===Ye?"text-stone-500":"text-stone-700"}`,children:[F===Ye?f.jsx(Zue,{size:20}):f.jsx(wc,{size:20,className:"text-amber-500"}),F," ",F!==Ye&&""]}),F!==Ye&&f.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[F]||""]})]}),F!==Ye&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{Z(F),te(he)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold whitespace-nowrap",children:""}),f.jsx("button",{onClick:()=>fr(F),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:f.jsx(cg,{size:16})})]})]}),K===F?f.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ie.map(Se=>f.jsxs("div",{className:"group relative flex items-center",children:[f.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Se}),f.jsx("button",{onClick:()=>Zs(Se),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:f.jsx(na,{size:12})})]},Se))}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{onChange:Se=>{yi(Se.target.value),Se.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white appearance-none text-stone-700",children:[f.jsx("option",{value:"",children:"+ "}),Ya.filter(Se=>!ie.includes(Se)).map(Se=>f.jsx("option",{value:Se,children:Se},Se))]}),f.jsx(G1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>Z(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400 hover:text-stone-600",children:""}),f.jsx("button",{onClick:()=>qi(F),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg hover:bg-stone-700 shadow-sm",children:""})]})]}):f.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:he.map(Se=>f.jsx("span",{className:`px-2.5 py-1 border rounded-lg text-xs font-bold ${F===Ye?"bg-white border-stone-200 text-stone-400":"bg-stone-50 border-stone-100 text-stone-600"}`,children:Se},Se))})]},F))})]}),A==="therapists"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(It,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[f.jsxs("div",{className:"relative w-full md:w-64",children:[f.jsx(jA,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),f.jsx("input",{type:"text",placeholder:"...",value:ve,onChange:F=>pe(F.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),f.jsxs("button",{onClick:()=>Y(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[f.jsx(Gp,{size:18})," "]})]})}),(X||W)&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[f.jsx("span",{children:W?"":""}),f.jsx("button",{onClick:()=>{Y(!1),ge(null)},children:f.jsx(na,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsxs("select",{value:je,onChange:F=>{ae(F.target.value),Ce("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[f.jsx("option",{value:"",children:""}),Object.keys(z).map(F=>f.jsxs("option",{value:F,children:[F,""]},F))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsxs("select",{value:Ee,onChange:F=>Ce(F.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!je,children:[f.jsx("option",{value:"",children:""}),eo.map(F=>f.jsx("option",{value:F,children:F},F))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsx("input",{type:"text",value:J,onChange:F=>ze(F.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),f.jsx("input",{type:"text",value:Ie,onChange:F=>Je(F.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),f.jsxs("div",{className:"pt-4 flex gap-3",children:[f.jsx("button",{onClick:()=>{Y(!1),ge(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),f.jsx("button",{onClick:W?Gt:Fi,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:W?"":""})]})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:to.map(F=>f.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${F.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[f.jsx(zi,{size:12})," ",F.store,""]}),f.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[F.name,F.status==="resigned"&&f.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>Sr(F),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:f.jsx(Nde,{size:16})}),f.jsx("button",{onClick:()=>Dr(F),className:`p-2 rounded-lg ${F.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:F.status==="active"?"":"",children:F.status==="active"?f.jsx(Az,{size:16}):f.jsx(CA,{size:16})})]})]}),f.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[f.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[f.jsx(Gue,{size:12})," : ",F.password]}),f.jsx("button",{onClick:()=>Lr(F.id),className:"text-stone-300 hover:text-rose-400",children:f.jsx(cg,{size:14})})]})]},F.id))})]})]})})},ffe=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:d,userRole:m,therapistTargets:p,auditExclusions:g=[],handleUpdateAuditExclusions:b,currentBrand:_}=w.useContext(ur),[S,E]=w.useState(Tz(new Date)),[A,O]=w.useState(m==="trainer"?"therapist-daily":"daily"),[L,V]=w.useState(!1),[B,$]=w.useState([]),z=w.useMemo(()=>{let Y="CYJ";if(_){const ge=(typeof _=="string"?_:_.id||"CYJ").toLowerCase();ge.includes("anniu")||ge.includes("anew")?Y="":ge.includes("yibo")?Y="":Y="CYJ"}return Y},[_]),j=()=>{$(g||[]),V(!0)},N=async()=>{await b(B),V(!1),e("","success")},M=Y=>{$(W=>W.includes(Y)?W.filter(ge=>ge!==Y):[...W,Y])},P=w.useMemo(()=>Object.values(t).flat().filter(W=>!g.includes(W)).map(W=>{const ge=[W,`${W}`,`${z}${W}`,`${z}${W}`,`CYJ${W}`];return{id:W,name:`${W}`,stores:ge}}),[t,g,z]),I=w.useMemo(()=>l.filter(Y=>Y.status==="active").map(Y=>({id:Y.id,name:Y.name,stores:[Y.id]})),[l]),D=w.useMemo(()=>s.map(Y=>{const W=Y.date?sr(Y.date):"";return{...Y,storeName:Y.storeName,date:W}}),[s]),k=w.useMemo(()=>{const Y=u.map(pe=>({...pe,storeName:pe.therapistId,date:pe.date?sr(pe.date):""}));if(A!=="therapist-daily")return Y;const W=[],ge=parseInt(r),ve=parseInt(i);return l.filter(pe=>pe.status==="active").forEach(pe=>{const je=`${pe.id}_${ge}_${ve}`;(d[je]?.daysOff||[]).forEach(Ce=>{const J=`${ge}-${ve.toString().padStart(2,"0")}-${Ce.toString().padStart(2,"0")}`;W.push({id:`ghost_${pe.id}_${J}`,storeName:pe.id,date:J,isGhost:!0,revenue:0})})}),[...Y,...W]},[u,A,r,i,l,d]),ne=A==="therapist-daily",G=ne?I:P,K=ne?k:D,Z=w.useMemo(()=>{if(!S)return{submitted:[],missing:[],missingByManager:{}};const Y=sr(S),W=s.filter(ve=>sr(ve.date)===Y).map(ve=>ve.storeName),ge={};return Object.entries(t).forEach(([ve,pe])=>{const je=[];pe.forEach(ae=>{if(g.includes(ae))return;W.some(Ce=>Ce&&Ce.includes(ae))||je.push(`${z}${ae}`)}),je.length&&(ge[ve]=je)}),{submitted:W,missing:Object.values(ge).flat(),missingByManager:ge}},[S,s,t,g,z]),ie=w.useMemo(()=>{const Y={},W=parseInt(r),ge=parseInt(i);return Object.entries(t).forEach(([ve,pe])=>{const je=[];pe.forEach(ae=>{if(g.includes(ae))return;const Ee=`${z}${ae}`,Ce=`${Ee}_${W}_${ge}`,J=n[Ce];(!J||!J.cashTarget&&!J.accrualTarget)&&je.push(Ee)}),je.length&&(Y[ve]=je)}),{missing:Object.values(Y).flat(),missingByManager:Y}},[n,t,r,i,g,z]),te=w.useMemo(()=>{if(!S)return{missing:[],missingByManager:{}};const Y=sr(S),W=new Date(Y),ge=W.getFullYear().toString(),ve=W.getMonth()+1,pe=W.getDate(),je=new Set((u||[]).filter(Ee=>sr(Ee.date)===Y).map(Ee=>Ee.therapistId)),ae={};return(l||[]).filter(Ee=>Ee.status==="active").forEach(Ee=>{const Ce=`${Ee.id}_${ge}_${ve}`;if(!d[Ce]?.daysOff?.includes(pe)&&!je.has(Ee.id)){const Ie=Ee.manager||"";ae[Ie]||(ae[Ie]=[]),ae[Ie].push(`${Ee.name} (${Ee.store})`)}}),{missing:Object.values(ae).flat(),missingByManager:ae}},[S,l,u,d]),se=w.useMemo(()=>{const Y={},W=r,ge=parseInt(i).toString();return(l||[]).filter(ve=>ve.status==="active").forEach(ve=>{const pe=`${ve.id}_${W}`,ae=p[pe]?.monthlyTargets?.[ge];if(!(ae&&parseInt(ae)>0)){const Ce=ve.manager||"";Y[Ce]||(Y[Ce]=[]),Y[Ce].push(`${ve.name} (${ve.store})`)}}),{missing:Object.values(Y).flat(),missingByManager:Y}},[l,p,r,i]),U=A==="daily"?Z:A==="target"?ie:A==="therapist-daily"?te:se,X=()=>{let Y="";A==="target"?Y=`(${r}/${i})
`:A==="therapist-target"?Y=`(${r}/${i})
`:A==="therapist-daily"?Y=`(${S})
`:Y=`(${S})
`,Object.entries(U.missingByManager).forEach(([W,ge])=>{const ve=ge.map(pe=>A.includes("therapist")?pe:pe.replace(/CYJ|||Anew|Yibo|/gi,"").trim());Y+=`${W}${ve.join("")}
`}),navigator.clipboard.writeText(Y),e("","success")};return f.jsxs(Wr,{children:[f.jsxs(It,{title:"",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[f.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[m!=="trainer"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>O("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),f.jsx("button",{onClick:()=>O("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),f.jsx("button",{onClick:()=>O("therapist-daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="therapist-daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),f.jsx("button",{onClick:()=>O("therapist-target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="therapist-target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),f.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[A==="daily"||A==="therapist-daily"?f.jsx("div",{className:"w-full sm:w-auto relative z-10",children:P.length===0?f.jsxs("div",{className:"px-4 py-3 bg-rose-50 text-rose-600 text-sm font-bold rounded-xl border border-rose-100 flex items-center gap-2 whitespace-nowrap animate-pulse",children:[f.jsx(jue,{size:18}),"  ()"]}):f.jsx(Nz,{selectedDate:S,onDateSelect:E,stores:G,salesData:K})}):f.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start flex-grow",children:[f.jsx(nm,{size:16})," ",r,"  ",i," "]}),(m==="director"||m==="manager")&&(A==="daily"||A==="target")&&f.jsx("button",{onClick:j,className:"p-2 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200",title:"",children:f.jsx(Z0,{size:20})})]})]}),(A==="daily"||A==="therapist-daily")&&f.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),f.jsx("span",{className:"whitespace-nowrap",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),f.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),f.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[f.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[f.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[f.jsx(Hu,{size:20}),A==="therapist-daily"?" ()":A==="therapist-target"?"":"",f.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:U.missing.length})]}),f.jsx("button",{onClick:X,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),f.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(U.missingByManager).map(([Y,W])=>f.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[f.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[Y," "]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:W.map((ge,ve)=>f.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[A.includes("therapist")&&f.jsx(Az,{size:10,className:"text-rose-400"}),A.includes("therapist")?ge:ge.replace(/CYJ|||Anew|Yibo|/gi,"").replace(z,"")]},ve))})]},Y)),U.missing.length===0&&f.jsx("div",{className:"col-span-3 text-center py-10",children:f.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:f.jsx(Vs,{size:24})}),"",A==="therapist-daily"&&f.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]}),L&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(AA,{size:20,className:"text-rose-400"})," "]}),f.jsx("button",{onClick:()=>V(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(na,{size:20})})]}),f.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(t).map(([Y,W])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[Y," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:W.map(ge=>{const ve=B.includes(ge);return f.jsxs("button",{onClick:()=>M(ge),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${ve?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[ve&&f.jsx(Vs,{size:14}),ge]},ge)})})]},Y))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>V(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:N,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(xc,{size:18})," "]})]})]})})]})},hfe=(t,e,n,r,i)=>w.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,d=t.filter(j=>{if(!j.date)return!1;const N=j.date.replace(/-/g,"/"),[M]=N.split("/").map(Number);return M===s||M===u}),m=d.reduce((j,N)=>({cash:j.cash+(N.cash||0)-(N.refund||0),accrual:j.accrual+(N.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(j=>`CYJ${j}`);for(let j=1;j<=12;j++)g.forEach(N=>{const M=`${N}_${s}_${j}`;n[M]&&(p.cash+=n[M].cashTarget||0,p.accrual+=n[M].accrualTarget||0)});const b={cashActual:m.cash,cashTarget:p.cash,cashAchievement:p.cash>0?m.cash/p.cash*100:0,accrualActual:m.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?m.accrual/p.accrual*100:0},_=d.filter(j=>{const N=j.date.replace(/-/g,"/"),[,M]=N.split("/").map(Number);return M===l}),S=[...new Set(_.map(j=>sr(j.date)))].sort(),E=S[S.length-1]||"",A=new Date(s,l,0).getDate();let O=1;E!==""&&(O=parseInt(E.split("/")[2]));const L=S.map(j=>{const N=_.filter(M=>sr(M.date)===j);return{date:j.split("/")[2],fullDate:j,cash:N.reduce((M,P)=>M+(P.cash||0)-(P.refund||0),0),traffic:N.reduce((M,P)=>M+(P.traffic||0),0)}}),B=Object.entries(e).flatMap(([j,N])=>N.map(M=>({name:`CYJ${M}`,manager:j}))).map(j=>{const N=_.filter(Y=>Y.storeName===j.name),M=N.reduce((Y,W)=>Y+(W.cash||0),0),P=N.reduce((Y,W)=>Y+(W.refund||0),0),I=M-P,D=N.reduce((Y,W)=>Y+(W.accrual||0),0),k=N.reduce((Y,W)=>Y+(W.operationalAccrual||0),0),ne=N.reduce((Y,W)=>Y+(W.traffic||0),0),G=N.reduce((Y,W)=>Y+(W.newCustomers||0),0),K=N.reduce((Y,W)=>Y+(W.newCustomerClosings||0),0),Z=N.reduce((Y,W)=>Y+(W.newCustomerSales||0),0),ie=N.reduce((Y,W)=>Y+(W.skincareSales||0),0),te=N.reduce((Y,W)=>Y+(W.skincareRefund||0),0),se=ie-te,U=`${j.name}_${s}_${l}`,X=n[U]||{cashTarget:0,accrualTarget:0};return{...j,cashTotal:I,accrualTotal:D,operationalAccrualTotal:k,trafficTotal:ne,newCustomersTotal:G,newCustomerClosingsTotal:K,newCustomerSalesTotal:Z,skincareSalesTotal:se,skincareRefundTotal:te,refundTotal:P,cashBudget:X.cashTarget,accrualBudget:X.accrualTarget,projection:O>0?Math.round(I/O*A):0,achievement:X.cashTarget>0?I/X.cashTarget*100:0,trafficASP:ne>0?Math.round(k/ne):0,newCustomerASP:G>0?Math.round(Z/G):0}}),$=B.reduce((j,N)=>({cash:j.cash+N.cashTotal,accrual:j.accrual+N.accrualTotal,operationalAccrual:j.operationalAccrual+N.operationalAccrualTotal,skincareSales:j.skincareSales+N.skincareSalesTotal,skincareRefund:j.skincareRefund+N.skincareRefundTotal,traffic:j.traffic+N.trafficTotal,newCustomers:j.newCustomers+N.newCustomersTotal,newCustomerClosings:j.newCustomerClosings+N.newCustomerClosingsTotal,newCustomerSales:j.newCustomerSales+N.newCustomerSalesTotal,refund:j.refund+N.refundTotal,budget:j.budget+N.cashBudget,accrualBudget:j.accrualBudget+N.accrualBudget,projection:j.projection+N.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),z=Object.entries(e).map(([j,N])=>{const M=B.filter(U=>U.manager===j),P=M.reduce((U,X)=>U+X.cashTotal,0),I=M.reduce((U,X)=>U+X.accrualTotal,0),D=M.reduce((U,X)=>U+X.operationalAccrualTotal,0),k=M.reduce((U,X)=>U+X.cashBudget,0),ne=M.reduce((U,X)=>U+X.skincareSalesTotal,0),G=M.reduce((U,X)=>U+X.skincareRefundTotal,0),K=M.reduce((U,X)=>U+X.trafficTotal,0),Z=M.reduce((U,X)=>U+X.newCustomersTotal,0),ie=M.reduce((U,X)=>U+X.newCustomerClosingsTotal,0),te=M.reduce((U,X)=>U+X.refundTotal,0),se=K>0?Math.round(D/K):0;return{manager:j,cashTotal:P,accrualTotal:I,operationalAccrualTotal:D,skincareSalesTotal:ne,skincareRefundTotal:G,trafficTotal:K,newCustomersTotal:Z,newCustomerClosingsTotal:ie,refundTotal:te,trafficASP:se,achievement:k>0?P/k*100:0}});return{latestDate:E,daysPassed:O,daysInMonth:A,remainingDays:A-O,dailyTotals:L,storeList:B,grandTotal:$,regionalStats:z,yearlyStats:b,totalAchievement:$.budget>0?$.cash/$.budget*100:0,avgTrafficASP:$.traffic>0?Math.round($.operationalAccrual/$.traffic):0,avgNewCustomerASP:$.newCustomers>0?Math.round($.newCustomerSales/$.newCustomers):0,allDates:S}},[t,e,n,r,i]),mfe=()=>f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"flex items-center justify-center w-6",children:f.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[f.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),f.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),pfe=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s,auditExclusions:l,handleUpdateAuditExclusions:u,userRole:d,showToast:m,currentBrand:p}=w.useContext(ur),[g,b]=w.useState(`${s}-01`),[_,S]=w.useState(`${s}-12`),[E,A]=w.useState(!1),[O,L]=w.useState([]),V=w.useMemo(()=>{let k="CYJ";if(p){const G=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();G.includes("anniu")||G.includes("anew")?k="":G.includes("yibo")?k="":k="CYJ"}return k},[p]),B=k=>k?k.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";w.useEffect(()=>{b(`${s}-01`),S(`${s}-12`)},[s]);const $=()=>{L(l||[]),A(!0)},z=async()=>{await u(O),A(!1),m("","success")},j=k=>{L(ne=>ne.includes(k)?ne.filter(G=>G!==k):[...ne,k])},N=k=>{let ne="01",G="03";switch(k){case 1:ne="01",G="03";break;case 2:ne="04",G="06";break;case 3:ne="07",G="09";break;case 4:ne="10",G="12";break;case"ALL":ne="01",G="12";break}b(`${s}-${ne}`),S(`${s}-${G}`)},M=w.useMemo(()=>g===`${s}-01`&&_===`${s}-03`?1:g===`${s}-04`&&_===`${s}-06`?2:g===`${s}-07`&&_===`${s}-09`?3:g===`${s}-10`&&_===`${s}-12`?4:g===`${s}-01`&&_===`${s}-12`?"ALL":null,[g,_,s]),P=w.useMemo(()=>{const k=Object.values(n).flat().filter(Y=>!l.includes(Y)).map(Y=>`${V}${Y}`),ne=[];let G=new Date(`${g}-01`);const K=new Date(`${_}-01`);for(G>K&&(G=new Date(`${g}-01`));G<=K;){const Y=G.getFullYear(),W=G.getMonth()+1;ne.push({label:`${Y}/${W}`,y:Y,m:W,dateKey:`${Y}/${W.toString().padStart(2,"0")}`}),G.setMonth(G.getMonth()+1)}const Z=ne.map(Y=>({...Y,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(Y=>{const W=B(Y.storeName);if(l.includes(W)||!Y.date)return;const ve=Y.date.replace(/-/g,"/").split("/"),pe=parseInt(ve[0]),je=parseInt(ve[1]),ae=pe<1911?pe+1911:pe,Ee=Z.find(Ce=>Ce.y===ae&&Ce.m===je);Ee&&(Ee.cash+=(Y.cash||0)-(Y.refund||0),Ee.accrual+=Y.accrual||0,Ee.traffic+=Y.traffic||0)});let ie=0,te=0,se=0,U=0,X=0;return Z.forEach(Y=>{k.forEach(W=>{const ge=`${W}_${Y.y}_${Y.m}`;e[ge]&&(Y.budget+=e[ge].cashTarget||0,Y.accrualBudget+=e[ge].accrualTarget||0)}),Y.achievement=Y.budget>0?Y.cash/Y.budget*100:0,Y.accrualAchievement=Y.accrualBudget>0?Y.accrual/Y.accrualBudget*100:0,ie+=Y.cash,te+=Y.budget,se+=Y.accrual,U+=Y.accrualBudget,X+=Y.traffic}),{monthlyStats:Z,totals:{cash:ie,budget:te,cashAch:te>0?ie/te*100:0,accrual:se,accrualBudget:U,accrualAch:U>0?se/U*100:0,traffic:X}}},[t,e,n,g,_,l,V]),{monthlyStats:I,totals:D}=P;return f.jsxs(Wr,{children:[f.jsxs("div",{className:"space-y-6 pb-12",children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:f.jsx(Xs,{size:24})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold text-stone-800",children:[" (",V,")"]}),f.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 self-start md:self-auto md:ml-auto",children:[f.jsxs("div",{className:"px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full",children:[":  (",Object.values(n).flat().filter(k=>!l.includes(k)).length," )"]}),(d==="director"||d==="manager")&&f.jsx("button",{onClick:$,className:"p-1.5 bg-stone-100 text-stone-500 rounded-full hover:bg-stone-200 transition-colors",title:" ()",children:f.jsx(Z0,{size:16})})]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[f.jsx(yz,{size:18,className:"text-amber-500"}),f.jsx("span",{children:""})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>N("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${M==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(k=>f.jsxs("button",{onClick:()=>N(k),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${M===k?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",k]},k))]}),f.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),f.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:f.jsx("span",{children:""})}),f.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[f.jsx("input",{type:"month",value:g,onChange:k=>b(k.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),f.jsx("span",{className:"text-stone-400",children:f.jsx(J0,{size:16})}),f.jsx("input",{type:"month",value:_,onChange:k=>S(k.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:f.jsx(ol,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[f.jsx(nm,{size:14})," "]}),f.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(D.cash)}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[f.jsxs("span",{children:[" ",r(D.budget)]}),f.jsxs("span",{children:[D.cashAch.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(D.cashAch,100)}%`}})})]})]})]}),f.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:f.jsx(Zl,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[f.jsx(w_,{size:14})," "]}),f.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(D.accrual)}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[f.jsxs("span",{children:[" ",r(D.accrualBudget)]}),f.jsxs("span",{className:D.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[D.accrualAch.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(D.accrualAch,100)}%`}})})]})]})]})]}),f.jsx(It,{title:"",subtitle:" vs  (/)",children:f.jsx("div",{className:"h-[350px] w-full",children:f.jsx(p0,{width:"100%",height:"100%",children:f.jsxs(EA,{data:I,margin:{top:20,right:0,left:0,bottom:0},children:[f.jsx(W0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),f.jsx(Q0,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),f.jsx(Fu,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:k=>`${(k/1e4).toFixed(0)}`}),f.jsx(U0,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:k=>r(k),itemSorter:k=>({:1,:2,:3,:4})[k.name]||99}),f.jsx(w0,{content:f.jsx(mfe,{}),verticalAlign:"top",height:36}),f.jsx(bA,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),f.jsx(qu,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),f.jsx(xA,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),f.jsx(qu,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),f.jsx(It,{title:"",children:f.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"pb-3 pl-2",children:""}),f.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),f.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),f.jsx("th",{className:"pb-3 text-right",children:""}),f.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),f.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),f.jsx("th",{className:"pb-3 text-right",children:""}),f.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-50",children:I.map((k,ne)=>f.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:k.label}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(k.budget)}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(k.cash)}),f.jsx("td",{className:"py-4 text-right font-bold",children:f.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${k.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[k.achievement.toFixed(1),"%"]})}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(k.accrualBudget)}),f.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(k.accrual)}),f.jsx("td",{className:"py-4 text-right font-bold",children:f.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${k.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[k.accrualAchievement.toFixed(1),"%"]})}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(k.traffic)})]},ne))}),f.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(D.budget)}),f.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(D.cash)}),f.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[D.cashAch.toFixed(1),"%"]}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(D.accrualBudget)}),f.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(D.accrual)}),f.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[D.accrualAch.toFixed(1),"%"]}),f.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(D.traffic)})]})})]})})})]}),E&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(AA,{size:20,className:"text-rose-400"}),"  (",V,")"]}),f.jsx("button",{onClick:()=>A(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(na,{size:20})})]}),f.jsxs("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:[f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]}),f.jsx("p",{className:"text-xs mt-1 text-stone-400",children:"()"})]}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(n).map(([k,ne])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[k," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ne.map(G=>{const K=O.includes(G);return f.jsxs("button",{onClick:()=>j(G),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${K?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[K&&f.jsx(Vs,{size:14}),G]},G)})})]},k))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>A(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:z,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(xc,{size:18})," "]})]})]})})]})},gfe=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s,getCollectionPath:l,currentBrand:u}=w.useContext(ur),d=new Date().getFullYear(),[m,p]=w.useState(d),[g,b]=w.useState(""),[_,S]=w.useState(""),[E,A]=w.useState(!1),[O,L]=w.useState(Array.from({length:12},(N,M)=>({month:M+1,cashTarget:"",accrualTarget:""}))),V=w.useMemo(()=>{let N="CYJ";if(u){const P=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();P.includes("anniu")||P.includes("anew")?N="":P.includes("yibo")?N="":N="CYJ"}return N},[u]),B=w.useMemo(()=>{const N=M=>{const P=M.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${V}${P}`};return t==="director"||t==="trainer"?g?(e[g]||[]).map(N):[]:t==="manager"?Object.values(e).flat().map(N):t==="store"&&n?(n.stores||[n.storeName]).map(N):[]},[g,e,n,t,V]);w.useEffect(()=>{if(_&&!B.includes(_)&&S(""),t==="store"&&n){const N=n.stores||[n.storeName];if(N.length>0){let M=N[0];M=M.replace(/CYJ|||Anew|Yibo|/gi,"").trim();const P=Object.keys(e).find(D=>e[D].includes(M));P&&b(P);const I=`${V}${M}`;S(I)}}else t==="manager"&&n&&b(n.name)},[t,n,e,V,B]),w.useEffect(()=>{if(!_){L(Array.from({length:12},(M,P)=>({month:P+1,cashTarget:"",accrualTarget:""})));return}const N=Array.from({length:12},(M,P)=>{const I=P+1,D=`${_}_${m}_${I}`,k=r[D];return{month:I,cashTarget:k?ec(k.cashTarget):"",accrualTarget:k?ec(k.accrualTarget):""}});L(N)},[_,m,r]);const $=N=>{if(t==="director"||t==="manager"||t==="trainer")return!1;const M=N+1,P=`${_}_${m}_${M}`,I=r[P];return!!(I&&(I.cashTarget>0||I.accrualTarget>0))},z=(N,M,P)=>{if($(N))return;const I=P.replace(/,/g,"");/^\d*$/.test(I)&&L(D=>{const k=[...D];return k[N]={...k[N],[M]:ec(I)},k})},j=async()=>{if(!_){i("","error");return}A(!0);try{const N=uF(vu);let M=!1;if(O.forEach((P,I)=>{if($(I))return;const D=rr(P.cashTarget),k=rr(P.accrualTarget);if(D>0||k>0){const ne=`${_}_${m}_${P.month}`,G=Pr(l("monthly_targets"),ne);N.set(G,{cashTarget:D,accrualTarget:k,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),M=!0}}),!M){i("","info"),A(!1);return}await N.commit(),i(`${m} `,"success"),s(t,n?.name,"",`${_} ${m}`)}catch(N){console.error("Save targets error:",N),i("","error")}finally{A(!1)}};return f.jsx(Wr,{children:f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[f.jsx(It,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:f.jsx(Ku,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[f.jsxs("p",{children:["Annual Budget Planning (",V,")"]}),t==="store"&&f.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[f.jsx(zf,{size:10})," "]})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[f.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[f.jsxs("select",{value:m,onChange:N=>p(Number(N.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[f.jsxs("option",{value:d-1,children:[d-1," "]}),f.jsxs("option",{value:d,children:[d," "]}),f.jsxs("option",{value:d+1,children:[d+1," "]})]}),f.jsx(Xs,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),f.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:f.jsxs("select",{value:g,onChange:N=>{b(N.target.value),S("")},disabled:t!=="director"&&t!=="trainer",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(e).map(N=>f.jsxs("option",{value:N,children:[N,""]},N))]})}),f.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[f.jsxs("select",{value:_,onChange:N=>S(N.target.value),disabled:!g,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),B.map(N=>f.jsx("option",{value:N,children:N},N))]}),f.jsx(zi,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),_?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block",children:f.jsx(It,{title:`${_} - ${m} `,children:f.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:f.jsxs("table",{className:"w-full text-sm text-left",children:[f.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 pl-4",children:""}),f.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),f.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),f.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:O.map((N,M)=>{const P=$(M);return f.jsxs("tr",{className:`transition-colors ${P?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[f.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[N.month," "]}),f.jsx("td",{className:"py-2 px-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(ol,{size:14,className:`absolute left-3 top-3 ${P?"text-stone-300":"text-stone-400"}`}),f.jsx("input",{type:"text",placeholder:P?"-":"0",value:N.cashTarget,onChange:I=>z(M,"cashTarget",I.target.value),disabled:P,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${P?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),f.jsx("td",{className:"py-2 px-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(__,{size:14,className:`absolute left-3 top-3 ${P?"text-stone-300":"text-stone-400"}`}),f.jsx("input",{type:"text",placeholder:P?"-":"0",value:N.accrualTarget,onChange:I=>z(M,"accrualTarget",I.target.value),disabled:P,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${P?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),f.jsx("td",{className:"py-2 px-2 text-center",children:P?f.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:f.jsx(zf,{size:16})}):N.cashTarget?f.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:f.jsx(Vs,{size:16,className:"opacity-0 group-hover:opacity-50"})}):f.jsx("div",{className:"flex items-center justify-center text-stone-200",children:f.jsx(Ku,{size:16})})})]},N.month)})})]})})})}),f.jsxs("div",{className:"md:hidden space-y-4",children:[f.jsx("div",{className:"flex items-center justify-between px-2",children:f.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[f.jsx(zi,{size:18,className:"text-amber-500"}),_,f.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:m})]})}),O.map((N,M)=>{const P=$(M);return f.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${P?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[f.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[f.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[N.month," "]}),N.cashTarget&&!P&&f.jsx(Vs,{size:16,className:"text-emerald-500"})]}),P&&f.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[f.jsx(zf,{size:12})," "]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[f.jsx(ol,{size:12}),"  (Cash)"]}),f.jsx("input",{type:"text",inputMode:"numeric",placeholder:P?"":"...",value:N.cashTarget,onChange:I=>z(M,"cashTarget",I.target.value),disabled:P,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${P?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[f.jsx(__,{size:12}),"  (Accrual)"]}),f.jsx("input",{type:"text",inputMode:"numeric",placeholder:P?"":"...",value:N.accrualTarget,onChange:I=>z(M,"accrualTarget",I.target.value),disabled:P,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${P?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},N.month)})]}),f.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:f.jsx("button",{onClick:j,disabled:E,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:E?"...":f.jsxs(f.Fragment,{children:[f.jsx(xc,{size:20})," "]})})}),f.jsx("div",{className:"h-24 md:hidden"})]}):f.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[f.jsx(zi,{size:48,className:"mx-auto mb-2 opacity-20"}),f.jsx("p",{children:""})]})]})})},vfe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=w.useContext(ur),[d,m]=w.useState(new Date().getFullYear().toString()),[p,g]=w.useState(""),[b,_]=w.useState(""),[S,E]=w.useState(""),[A,O]=w.useState({}),L=w.useMemo(()=>{let z="CYJ";if(u){const N=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();N.includes("anniu")||N.includes("anew")?z="":N.includes("yibo")?z="":z="CYJ"}return z},[u]);w.useEffect(()=>{g(""),_(""),E("");const z=j=>j?j.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const j=i.storeName||i.store||"",N=z(j),M=Object.keys(s).find(P=>s[P].includes(N));M&&g(M),_(N||i.store),E(i.id)}else if(r==="store"&&i){const j=i.stores||[i.storeName];if(j.length>0){const N=j[0],M=z(N),P=Object.keys(s).find(I=>s[I].includes(M));P&&g(P),j.length===1&&_(M)}}else r==="manager"&&i&&g(i.name)},[r,i,s,L,u]);const V=w.useMemo(()=>{if(!p)return[];const z=s[p]||[];if(r==="store"&&i){const N=(i.stores||[i.storeName]).map(M=>M.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return z.filter(M=>N.includes(M))}return z},[p,s,r,i]),B=w.useMemo(()=>b?e.filter(z=>z.status==="active"&&z.store===b).sort((z,j)=>z.name.localeCompare(j.name)):[],[b,e]);w.useEffect(()=>{if(S&&d){const z=`${S}_${d}`,j=n[z]||{};O(j.monthlyTargets||{})}else O({})},[S,d,n]);const $=async()=>{if(!S)return t("","error");try{const z=`${S}_${d}`;await Pn(Pr(l("therapist_targets"),z),{therapistId:S,year:d,monthlyTargets:A,updatedAt:rd()},{merge:!0}),t("","success")}catch(z){console.error(z),t("","error")}};return f.jsx(Wr,{children:f.jsx(It,{title:"",subtitle:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(NA,{size:12}),"  ()"]}),f.jsxs("select",{value:p,onChange:z=>{g(z.target.value),_(""),E("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(s).map(z=>f.jsxs("option",{value:z,children:[z,""]},z))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(zi,{size:12})," "]}),f.jsxs("select",{value:b,onChange:z=>{_(z.target.value),E("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),V.map(z=>f.jsxs("option",{value:z,children:[L,z,""]},z))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(wc,{size:12})," "]}),f.jsxs("select",{value:S,onChange:z=>E(z.target.value),disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),B.map(z=>f.jsx("option",{value:z.id,children:z.name},z.id))]})]}),f.jsxs("div",{className:"w-full md:w-32",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:d,onChange:z=>m(z.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(z=>f.jsxs("option",{value:z,children:[z,""]},z))})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:$,disabled:!S,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[f.jsx(xc,{size:18})," "]})}),S?f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(z,j)=>j+1).map(z=>f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[z," "]}),f.jsxs("div",{className:"relative",children:[f.jsx(ol,{size:14,className:"absolute left-3 top-3 text-stone-400"}),f.jsx("input",{type:"number",value:A[z]||"",onChange:j=>O({...A,[z]:j.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},z))}):f.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:f.jsx(nm,{size:32,className:"opacity-20"})}),f.jsx("p",{children:"  >  >  "})]})]})})})},yfe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=w.useContext(ur),[d,m]=w.useState(new Date().getFullYear().toString()),[p,g]=w.useState((new Date().getMonth()+1).toString()),[b,_]=w.useState(""),[S,E]=w.useState(""),[A,O]=w.useState(""),[L,V]=w.useState([]),B=w.useMemo(()=>{let P="CYJ";if(u){const D=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();D.includes("anniu")||D.includes("anew")?P="":D.includes("yibo")?P="":P="CYJ"}return P},[u]);w.useEffect(()=>{_(""),E(""),O("");const P=I=>I?I.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const I=i.storeName||i.store||"",D=P(I),k=Object.keys(s).find(ne=>s[ne].includes(D));k&&_(k),E(D||i.store),O(i.id)}else if(r==="store"&&i){const I=i.stores||[i.storeName];if(I.length>0){const D=I[0],k=P(D),ne=Object.keys(s).find(G=>s[G].includes(k));ne&&_(ne),I.length===1&&E(k)}}else r==="manager"&&i&&_(i.name)},[r,i,s,B,u]);const $=w.useMemo(()=>{if(!b)return[];const P=s[b]||[];if(r==="store"&&i){const D=(i.stores||[i.storeName]).map(k=>k.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return P.filter(k=>D.includes(k))}return P},[b,s,r,i]),z=w.useMemo(()=>S?e.filter(P=>P.status==="active"&&P.store===S).sort((P,I)=>P.name.localeCompare(I.name)):[],[S,e]);w.useEffect(()=>{if(A&&d&&p){const P=`${A}_${d}_${parseInt(p)}`,I=n[P]||{};V(I.daysOff||[])}else V([])},[A,d,p,n]);const j=P=>{V(I=>I.includes(P)?I.filter(D=>D!==P):[...I,P].sort((D,k)=>D-k))},N=async()=>{if(!A)return t("","error");try{const P=`${A}_${d}_${parseInt(p)}`;await Pn(Pr(l("therapist_schedules"),P),{therapistId:A,year:d,month:parseInt(p),daysOff:L,updatedAt:rd()},{merge:!0}),t("","success")}catch(P){console.error(P),t("","error")}},M=(P,I)=>new Date(P,I,0).getDate();return f.jsx(Wr,{children:f.jsx(It,{title:"",subtitle:" ()",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(NA,{size:12}),"  ()"]}),f.jsxs("select",{value:b,onChange:P=>{_(P.target.value),E(""),O("")},disabled:r==="manager"||r==="therapist"||r==="store"&&b!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(s).map(P=>f.jsxs("option",{value:P,children:[P,""]},P))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(zi,{size:12})," "]}),f.jsxs("select",{value:S,onChange:P=>{E(P.target.value),O("")},disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),$.map(P=>f.jsxs("option",{value:P,children:[B,P,""]},P))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(wc,{size:12})," "]}),f.jsxs("select",{value:A,onChange:P=>O(P.target.value),disabled:!S||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),z.map(P=>f.jsx("option",{value:P.id,children:P.name},P.id))]})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[f.jsxs("div",{className:"w-1/2 md:w-24",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:d,onChange:P=>m(P.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[2024,2025,2026].map(P=>f.jsx("option",{value:P,children:P},P))})]}),f.jsxs("div",{className:"w-1/2 md:w-24",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:p,onChange:P=>g(P.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(P,I)=>I+1).map(P=>f.jsxs("option",{value:P,children:[P,""]},P))})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:N,disabled:!A,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[f.jsx(xc,{size:18})," "]})}),A?f.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[f.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(P=>f.jsx("div",{className:"text-xs font-bold text-stone-400",children:P},P))}),f.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(d,p-1,1).getDay()}).map((P,I)=>f.jsx("div",{},`empty-${I}`)),Array.from({length:M(d,p)}).map((P,I)=>{const D=I+1,k=L.includes(D);return f.jsxs("button",{onClick:()=>j(D),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${k?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[D,k&&f.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},D)})]}),f.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):f.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:f.jsx(Xs,{size:32,className:"opacity-20"})}),f.jsx("p",{children:"  >  >  "})]})]})})})};function bfe(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[i,s]=w.useState(null),[l,u]=w.useState(!0),[d,m]=w.useState("dashboard"),[p,g]=w.useState(!0),[b,_]=w.useState(null),[S,E]=w.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[A,O]=w.useState(""),[L,V]=w.useState("cyj"),B=w.useMemo(()=>Vf.find(F=>F.id===L)||Vf[0],[L]),$=w.useCallback(F=>B.pathType==="legacy"?yw(vu,"artifacts",jf,"public","data",F):yw(vu,"brands",B.id,F),[B]),z=w.useCallback(F=>B.pathType==="legacy"?Pr(vu,"artifacts",jf,"public","data","global_settings",F):Pr(vu,"brands",B.id,"settings",F),[B]),[j,N]=w.useState([]),[M,P]=w.useState({}),[I,D]=w.useState({newASP:3500,trafficASP:1200}),[k,ne]=w.useState({}),[G,K]=w.useState([]),[Z,ie]=w.useState({}),[te,se]=w.useState(ug),[U,X]=w.useState([]),[Y,W]=w.useState({password:"0000"}),[ge,ve]=w.useState([]),[pe,je]=w.useState({}),[ae,Ee]=w.useState({}),[Ce,J]=w.useState([]),[ze,Ie]=w.useState(!1),[Je,pt]=w.useState(15),dn=w.useRef(Date.now()),[Ye,wt]=w.useState(new Date().getFullYear().toString()),[Pt,pi]=w.useState((new Date().getMonth()+1).toString()),[Qs,Js]=w.useState(()=>Tz(new Date)),Rt=F=>(F||"").replace(/CYJ|/g,"").trim(),_r=w.useCallback(async(F,he,Se,Te)=>{let ut="PC";if(typeof navigator<"u"){const ot=navigator.userAgent.toLowerCase();ot.includes("android")?ut="Android":ot.includes("iphone")||ot.includes("ipad")?ut="iOS":ot.includes("mobile")&&(ut="Mobile")}try{await xS($("system_logs"),{timestamp:rd(),role:F,user:he,action:Se,details:Te,device:ut})}catch(ot){console.error("Failed to log activity",ot)}},[$]),gi=w.useCallback(async(F="")=>{const he=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&_r(n,he,"",F),Ie(!1),pt(15),dn.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),m("dashboard")},[i,n,_r]),qi=w.useCallback(()=>{n&&(dn.current=Date.now(),ze&&(Ie(!1),pt(15)))},[n,ze]);w.useEffect(()=>{let F=null;return n&&(F=setInterval(()=>{const Se=Date.now()-dn.current,Te=165*1e3,ut=180*1e3;if(Se>ut)clearInterval(F),gi(" 3 ");else if(Se>Te){ze||Ie(!0);const ot=Math.ceil((ut-Se)/1e3);pt(ot>0?ot:0)}else ze&&Ie(!1)},1e3)),()=>{F&&clearInterval(F)}},[n,ze,gi]),w.useEffect(()=>{if(n){const F=["mousemove","mousedown","keypress","scroll","touchstart","click"];let he;const Se=()=>{he||(qi(),he=setTimeout(()=>{he=null},500))};return F.forEach(Te=>window.addEventListener(Te,Se)),dn.current=Date.now(),()=>{F.forEach(Te=>window.removeEventListener(Te,Se))}}},[n,qi]),w.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await UU(fx,__initial_auth_token):await MU(fx)}catch(he){console.warn("Auth Error:",he)}})(),qU(fx,he=>{e(he),u(!1)})),[]),w.useEffect(()=>{if(!t)return;N([]),P({}),ne({}),K([]),ie({}),X([]),ve([]),je({}),Ee({}),se(ug),D({newASP:3500,trafficASP:1200});const F=Hr(Xf($("daily_reports"),Ig("date","desc")),Ge=>N(Ge.docs.map(kt=>({id:kt.id,...kt.data()})))),he=Hr($("monthly_targets"),Ge=>{const kt={};Ge.docs.forEach(Tr=>kt[Tr.id]=Tr.data()),P(kt)}),Se=Hr(z("kpi_targets"),Ge=>{Ge.exists()?D(Ge.data()):D({newASP:3500,trafficASP:1200})}),Te=Hr(z("org_structure"),Ge=>{if(Ge.exists()){const kt=Ge.data().managers||{},Tr={};Object.keys(kt).forEach(Xa=>{!Xa.includes("")&&!Xa.includes("")&&(Tr[Xa]=kt[Xa])}),ne(Tr)}else B.id==="cyj"?ne(Gde):ne({})}),ut=Hr(z("store_account_data"),Ge=>{Ge.exists()?K(Ge.data().accounts):K([])}),ot=Hr(z("manager_auth"),Ge=>{Ge.exists()?ie(Ge.data()):ie({})}),Er=Hr(z("permissions"),Ge=>{Ge.exists()?se(Ge.data()):se(ug)}),Qr=Hr($("therapists"),Ge=>X(Ge.docs.map(kt=>({id:kt.id,...kt.data()})))),Ar=Hr(Xf($("therapist_daily_reports"),Ig("date","desc"),e4(1e3)),Ge=>ve(Ge.docs.map(kt=>({id:kt.id,...kt.data()})))),Jr=Hr($("therapist_schedules"),Ge=>{const kt={};Ge.docs.forEach(Tr=>kt[Tr.id]=Tr.data()),je(kt)}),Zr=Hr($("therapist_targets"),Ge=>{const kt={};Ge.docs.forEach(Tr=>kt[Tr.id]=Tr.data()),Ee(kt)}),rn=Hr(z("trainer_auth"),Ge=>{Ge.exists()?W(Ge.data()):W({password:"0000"})}),yn=Hr(z("audit_exclusions"),Ge=>{Ge.exists()?J(Ge.data().stores||[]):J([])});return()=>{F(),he(),Se(),Te(),ut(),ot(),Er(),Qr(),Ar(),Jr(),Zr(),rn(),yn()}},[t,B,$,z]);const vi=(F,he=null)=>{let Se=he;if(F==="therapist"&&he?.name){const ut=U.find(ot=>ot.name===he.name);ut&&(Se={...he,...ut,id:ut.id||he.id})}r(F),Se&&s(Se);const Te=Se?.name||(F==="director"?"":F==="trainer"?"":"");_r(F,Te,"",""),m("dashboard")},Ya=async(F,he)=>{try{const Se=G.map(Te=>Te.id===F?{...Te,password:he}:Te);return await Pn(z("store_account_data"),{accounts:Se}),!0}catch{return!1}},ca=async(F,he)=>{try{return await Pn(z("manager_auth"),{[F]:he},{merge:!0}),!0}catch{return!1}},ua=async(F,he)=>{try{return await Pg(Pr($("therapists"),F),{password:he}),!0}catch(Se){return console.error(Se),!1}},da=async F=>{try{return await Pn(z("trainer_auth"),{password:F}),!0}catch(he){return console.error(he),!1}},dr=async F=>{try{return await Pn(z("audit_exclusions"),{stores:F}),!0}catch(he){return console.error(he),!1}},Zt=w.useCallback(F=>{m("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:F}))},[]),Un=w.useMemo(()=>{if(n===tr.TRAINER.id)return[];if(n===tr.STORE.id&&i){const F=(i.stores||[i.storeName]).map(he=>he&&he.startsWith("CYJ")?he:`CYJ${he}`);return j.filter(he=>F.includes(he.storeName))}if(n===tr.MANAGER.id&&i){const F=(k[i.name]||[]).map(he=>`CYJ${he}`);return j.filter(he=>F.includes(he.storeName))}return j},[j,n,i,k]),Vt=w.useMemo(()=>{if(n===tr.DIRECTOR.id||n===tr.TRAINER.id||n===tr.THERAPIST.id)return ge;if(n===tr.MANAGER.id&&i){const F=k[i.name]||[];return ge.filter(he=>F.includes(Rt(he.storeName)))}if(n===tr.STORE.id&&i){const F=(i.stores||[i.storeName]).map(Rt);return ge.filter(he=>F.includes(Rt(he.storeName)))}return[]},[ge,n,i,k]),Wa=w.useMemo(()=>{if(n===tr.DIRECTOR.id||n===tr.TRAINER.id)return U;if(n===tr.MANAGER.id&&i){const F=k[i.name]||[];return U.filter(he=>F.includes(Rt(he.store)))}if(n===tr.STORE.id&&i){const F=(i.stores||[i.storeName]).map(Rt);return U.filter(he=>F.includes(Rt(he.store)))}return n===tr.THERAPIST.id&&i?U.filter(F=>F.id===i.id):[]},[U,n,i,k]),yi=w.useMemo(()=>{let F=k;if(n===tr.MANAGER.id&&i){const he=k[i.name]||[];F={[i.name]:he}}else if(n===tr.STORE.id&&i){const he=i.stores||(i.storeName?[i.storeName]:[]),Se={};Object.entries(k).forEach(([Te,ut])=>{const ot=ut.filter(Er=>he.includes(Er));ot.length>0&&(Se[Te]=ot)}),F=Se}if(d!=="settings"){const he={};return Object.entries(F).forEach(([Se,Te])=>{!Se.includes("")&&!Se.includes("")&&(he[Se]=Te)}),he}return F},[k,n,i,d]),Zs=w.useMemo(()=>{const F={};return Object.entries(k).forEach(([he,Se])=>{!he.includes("")&&!he.includes("")&&(F[he]=Se)}),F},[k]),fr=hfe(Un,yi,M,Ye,Pt),Fi=(F,he="info")=>_({message:F,type:he}),Gt=w.useCallback((F,he,Se)=>E({isOpen:!0,title:F,message:he,onConfirm:()=>{Se(),E(Te=>({...Te,isOpen:!1}))}}),[]),Dr=()=>E(F=>({...F,isOpen:!1})),Lr=F=>`$${(F||0).toLocaleString()}`,Sr=F=>(F||0).toLocaleString(),eo=w.useMemo(()=>Object.values(k).flat().map(F=>`CYJ${F}`),[k]),to=w.useMemo(()=>({user:t,loading:l,analytics:fr,managers:yi,budgets:M,targets:I,rawData:Un,allReports:j,showToast:Fi,openConfirm:Gt,fmtMoney:Lr,fmtNum:Sr,inputDate:Qs,setInputDate:Js,storeList:fr?.storeList||[],setTargets:D,selectedYear:Ye,selectedMonth:Pt,permissions:te,storeAccounts:G,managerAuth:Z,currentUser:i,userRole:n,logActivity:_r,handleUpdateStorePassword:Ya,handleUpdateManagerPassword:ca,handleUpdateTherapistPassword:ua,navigateToStore:Zt,activeView:d,appId:jf,therapists:Wa,therapistReports:Vt,therapistSchedules:pe,therapistTargets:ae,trainerAuth:Y,handleUpdateTrainerAuth:da,auditExclusions:Ce,handleUpdateAuditExclusions:dr,currentBrand:B,setCurrentBrandId:V,getCollectionPath:$,getDocPath:z}),[t,l,fr,yi,M,I,Un,j,Qs,Ye,Pt,te,G,Z,i,n,_r,Ya,ca,ua,Zt,d,jf,Wa,Vt,pe,ae,Y,da,Ce,dr,B,V,$,z]);return l?f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[f.jsx(Fo,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),f.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?f.jsx(ur.Provider,{value:to,children:f.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[f.jsx(Qde,{activeView:d,setActiveView:m,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>gi(),permissions:te,currentUser:i}),f.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[f.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:f.jsx(lde,{size:24})}),f.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[f.jsx("span",{className:"text-amber-600",children:""})," ",pc.find(F=>F.id===d)?.label||(d==="targets"?"":"DRCYJ System")]}),f.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[f.jsx(Cv,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),f.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[f.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[f.jsx(jA,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),f.jsx("input",{type:"text",placeholder:"...",value:A,onChange:F=>O(F.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),A&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:eo.filter(F=>F.includes(A)).length>0?eo.filter(F=>F.includes(A)).map(F=>f.jsxs("button",{onClick:()=>{Zt(F),O("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[f.jsx(zi,{size:16,className:"text-stone-400"})," ",F]},F)):f.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[f.jsx(yz,{size:16,className:"text-stone-400 hidden sm:block"}),f.jsx("select",{value:Ye,onChange:F=>wt(F.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(F=>f.jsx("option",{value:F,children:F},F))}),f.jsx("select",{value:Pt,onChange:F=>pi(F.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(F,he)=>he+1).map(F=>f.jsxs("option",{value:F,children:[F,""]},F))})]})]})]}),f.jsx(Jde,{activeView:d,setActiveView:m,permissions:te,userRole:n,onLogout:()=>gi()}),f.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[d==="dashboard"&&f.jsx(tfe,{}),d==="regional"&&f.jsx(ofe,{}),d==="ranking"&&f.jsx(lfe,{}),d==="audit"&&f.jsx(ffe,{}),d==="history"&&f.jsx(sfe,{}),d==="input"&&f.jsx(afe,{}),d==="logs"&&f.jsx(ufe,{}),d==="settings"&&f.jsx(dfe,{}),d==="annual"&&f.jsx(pfe,{}),d==="store-analysis"&&f.jsx(cfe,{}),d==="targets"&&f.jsx(gfe,{}),d==="t-targets"&&f.jsx(vfe,{}),d==="t-schedule"&&f.jsx(yfe,{})]})]}),b&&f.jsx(Wde,{message:b.message,type:b.type,onClose:()=>_(null)}),f.jsx(Xde,{isOpen:S.isOpen,title:S.title,message:S.message,onConfirm:S.onConfirm,onCancel:Dr}),ze&&f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[f.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[f.jsx(Pue,{size:40,className:"animate-pulse"})," "]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),f.jsxs("p",{className:"text-stone-500 font-medium",children:["",f.jsx("br",{})," ",f.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:Je})," "]})]}),f.jsx("button",{onClick:qi,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):f.jsx(efe,{onLogin:vi,storeAccounts:G,managers:Zs,managerAuth:Z,therapists:U,onUpdatePassword:Ya,onUpdateManagerPassword:ca,onUpdateTherapistPassword:ua,trainerAuth:Y,handleUpdateTrainerAuth:da,currentBrandId:L,onSwitchBrand:V})}m9.createRoot(document.getElementById("root")).render(f.jsx(w.StrictMode,{children:f.jsx(bfe,{})}));
