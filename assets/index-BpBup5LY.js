function c9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yb={exports:{}},mf={};var XN;function u9(){if(XN)return mf;XN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return mf.Fragment=e,mf.jsx=n,mf.jsxs=n,mf}var QN;function d9(){return QN||(QN=1,Yb.exports=u9()),Yb.exports}var f=d9(),Wb={exports:{}},We={};var JN;function f9(){if(JN)return We;JN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function j(V,K,G){this.props=V,this.context=K,this.refs=A,this.updater=G||S}j.prototype.isReactComponent={},j.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function L(){}L.prototype=j.prototype;function U(V,K,G){this.props=V,this.context=K,this.refs=A,this.updater=G||S}var q=U.prototype=new L;q.constructor=U,E(q,j.prototype),q.isPureReactComponent=!0;var $=Array.isArray;function z(){}var O={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function M(V,K,G){var Y=G.ref;return{$$typeof:t,type:V,key:K,ref:Y!==void 0?Y:null,props:G}}function P(V,K){return M(V.type,K,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function D(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(G){return K[G]})}var k=/\/+/g;function ie(V,K){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):K.toString(36)}function ee(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(z,z):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,K,G,Y,ce){var ye=typeof V;(ye==="undefined"||ye==="boolean")&&(V=null);var he=!1;if(V===null)he=!0;else switch(ye){case"bigint":case"string":case"number":he=!0;break;case"object":switch(V.$$typeof){case t:case e:he=!0;break;case p:return he=V._init,W(he(V._payload),K,G,Y,ce)}}if(he)return ce=ce(V),he=Y===""?"."+ie(V,0):Y,$(ce)?(G="",he!=null&&(G=he.replace(k,"$&/")+"/"),W(ce,K,G,"",function(Se){return Se})):ce!=null&&(I(ce)&&(ce=P(ce,G+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(k,"$&/")+"/")+he)),K.push(ce)),1;he=0;var Pe=Y===""?".":Y+":";if($(V))for(var re=0;re<V.length;re++)Y=V[re],ye=Pe+ie(Y,re),he+=W(Y,K,G,ye,ce);else if(re=_(V),typeof re=="function")for(V=re.call(V),re=0;!(Y=V.next()).done;)Y=Y.value,ye=Pe+ie(Y,re++),he+=W(Y,K,G,ye,ce);else if(ye==="object"){if(typeof V.then=="function")return W(ee(V),K,G,Y,ce);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return he}function H(V,K,G){if(V==null)return V;var Y=[],ce=0;return W(V,Y,"","",function(ye){return K.call(G,ye,ce++)}),Y}function te(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(G){(V._status===0||V._status===-1)&&(V._status=1,V._result=G)},function(G){(V._status===0||V._status===-1)&&(V._status=2,V._result=G)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var oe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},we={map:H,forEach:function(V,K,G){H(V,function(){K.apply(this,arguments)},G)},count:function(V){var K=0;return H(V,function(){K++}),K},toArray:function(V){return H(V,function(K){return K})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return We.Activity=g,We.Children=we,We.Component=j,We.Fragment=n,We.Profiler=i,We.PureComponent=U,We.StrictMode=r,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,We.__COMPILER_RUNTIME={__proto__:null,c:function(V){return O.H.useMemoCache(V)}},We.cache=function(V){return function(){return V.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(V,K,G){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Y=E({},V.props),ce=V.key;if(K!=null)for(ye in K.key!==void 0&&(ce=""+K.key),K)!N.call(K,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&K.ref===void 0||(Y[ye]=K[ye]);var ye=arguments.length-2;if(ye===1)Y.children=G;else if(1<ye){for(var he=Array(ye),Pe=0;Pe<ye;Pe++)he[Pe]=arguments[Pe+2];Y.children=he}return M(V.type,ce,Y)},We.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},We.createElement=function(V,K,G){var Y,ce={},ye=null;if(K!=null)for(Y in K.key!==void 0&&(ye=""+K.key),K)N.call(K,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ce[Y]=K[Y]);var he=arguments.length-2;if(he===1)ce.children=G;else if(1<he){for(var Pe=Array(he),re=0;re<he;re++)Pe[re]=arguments[re+2];ce.children=Pe}if(V&&V.defaultProps)for(Y in he=V.defaultProps,he)ce[Y]===void 0&&(ce[Y]=he[Y]);return M(V,ye,ce)},We.createRef=function(){return{current:null}},We.forwardRef=function(V){return{$$typeof:u,render:V}},We.isValidElement=I,We.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:te}},We.memo=function(V,K){return{$$typeof:m,type:V,compare:K===void 0?null:K}},We.startTransition=function(V){var K=O.T,G={};O.T=G;try{var Y=V(),ce=O.S;ce!==null&&ce(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(z,oe)}catch(ye){oe(ye)}finally{K!==null&&G.types!==null&&(K.types=G.types),O.T=K}},We.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},We.use=function(V){return O.H.use(V)},We.useActionState=function(V,K,G){return O.H.useActionState(V,K,G)},We.useCallback=function(V,K){return O.H.useCallback(V,K)},We.useContext=function(V){return O.H.useContext(V)},We.useDebugValue=function(){},We.useDeferredValue=function(V,K){return O.H.useDeferredValue(V,K)},We.useEffect=function(V,K){return O.H.useEffect(V,K)},We.useEffectEvent=function(V){return O.H.useEffectEvent(V)},We.useId=function(){return O.H.useId()},We.useImperativeHandle=function(V,K,G){return O.H.useImperativeHandle(V,K,G)},We.useInsertionEffect=function(V,K){return O.H.useInsertionEffect(V,K)},We.useLayoutEffect=function(V,K){return O.H.useLayoutEffect(V,K)},We.useMemo=function(V,K){return O.H.useMemo(V,K)},We.useOptimistic=function(V,K){return O.H.useOptimistic(V,K)},We.useReducer=function(V,K,G){return O.H.useReducer(V,K,G)},We.useRef=function(V){return O.H.useRef(V)},We.useState=function(V){return O.H.useState(V)},We.useSyncExternalStore=function(V,K,G){return O.H.useSyncExternalStore(V,K,G)},We.useTransition=function(){return O.H.useTransition()},We.version="19.2.3",We}var ZN;function Wu(){return ZN||(ZN=1,Wb.exports=f9()),Wb.exports}var w=Wu();const kk=Hs(w),h9=c9({__proto__:null,default:kk},[w]);var Xb={exports:{}},pf={},Qb={exports:{}},Jb={};var ej;function m9(){return ej||(ej=1,(function(t){function e(W,H){var te=W.length;W.push(H);e:for(;0<te;){var oe=te-1>>>1,we=W[oe];if(0<i(we,H))W[oe]=H,W[te]=we,te=oe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var H=W[0],te=W.pop();if(te!==H){W[0]=te;e:for(var oe=0,we=W.length,V=we>>>1;oe<V;){var K=2*(oe+1)-1,G=W[K],Y=K+1,ce=W[Y];if(0>i(G,te))Y<we&&0>i(ce,G)?(W[oe]=ce,W[Y]=te,oe=Y):(W[oe]=G,W[K]=te,oe=K);else if(Y<we&&0>i(ce,te))W[oe]=ce,W[Y]=te,oe=Y;else break e}}return H}function i(W,H){var te=W.sortIndex-H.sortIndex;return te!==0?te:W.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],p=1,g=null,b=3,_=!1,S=!1,E=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function q(W){for(var H=n(m);H!==null;){if(H.callback===null)r(m);else if(H.startTime<=W)r(m),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(m)}}function $(W){if(E=!1,q(W),!S)if(n(d)!==null)S=!0,z||(z=!0,D());else{var H=n(m);H!==null&&ee($,H.startTime-W)}}var z=!1,O=-1,N=5,M=-1;function P(){return A?!0:!(t.unstable_now()-M<N)}function I(){if(A=!1,z){var W=t.unstable_now();M=W;var H=!0;try{e:{S=!1,E&&(E=!1,L(O),O=-1),_=!0;var te=b;try{t:{for(q(W),g=n(d);g!==null&&!(g.expirationTime>W&&P());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,b=g.priorityLevel;var we=oe(g.expirationTime<=W);if(W=t.unstable_now(),typeof we=="function"){g.callback=we,q(W),H=!0;break t}g===n(d)&&r(d),q(W)}else r(d);g=n(d)}if(g!==null)H=!0;else{var V=n(m);V!==null&&ee($,V.startTime-W),H=!1}}break e}finally{g=null,b=te,_=!1}H=void 0}}finally{H?D():z=!1}}}var D;if(typeof U=="function")D=function(){U(I)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ie=k.port2;k.port1.onmessage=I,D=function(){ie.postMessage(null)}}else D=function(){j(I,0)};function ee(W,H){O=j(function(){W(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var te=b;b=H;try{return W()}finally{b=te}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(W,H){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=b;b=W;try{return H()}finally{b=te}},t.unstable_scheduleCallback=function(W,H,te){var oe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,W){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=te+we,W={id:p++,callback:H,priorityLevel:W,startTime:te,expirationTime:we,sortIndex:-1},te>oe?(W.sortIndex=te,e(m,W),n(d)===null&&W===n(m)&&(E?(L(O),O=-1):E=!0,ee($,te-oe))):(W.sortIndex=we,e(d,W),S||_||(S=!0,z||(z=!0,D()))),W},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(W){var H=b;return function(){var te=b;b=H;try{return W.apply(this,arguments)}finally{b=te}}}})(Jb)),Jb}var tj;function p9(){return tj||(tj=1,Qb.exports=m9()),Qb.exports}var Zb={exports:{}},wr={};var nj;function g9(){if(nj)return wr;nj=1;var t=Wu();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wr.createPortal=function(d,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(d,m,null,p)},wr.flushSync=function(d){var m=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=m,r.p=p,r.d.f()}},wr.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},wr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},wr.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},wr.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},wr.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},wr.preloadModule=function(d,m){if(typeof d=="string")if(m){var p=u(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},wr.requestFormReset=function(d){r.d.r(d)},wr.unstable_batchedUpdates=function(d,m){return d(m)},wr.useFormState=function(d,m,p){return l.H.useFormState(d,m,p)},wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},wr.version="19.2.3",wr}var rj;function Mk(){if(rj)return Zb.exports;rj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zb.exports=g9(),Zb.exports}var ij;function v9(){if(ij)return pf;ij=1;var t=p9(),e=Wu(),n=Mk();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function m(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,h=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return d(y),a;if(x===h)return d(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=x;else{for(var C=!1,B=y.child;B;){if(B===c){C=!0,c=y,h=x;break}if(B===h){C=!0,h=y,c=x;break}B=B.sibling}if(!C){for(B=x.child;B;){if(B===c){C=!0,c=x,h=y;break}if(B===h){C=!0,h=x,c=y;break}B=B.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var k=Symbol.for("react.client.reference");function ie(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===k?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case U:return a.displayName||"Context";case L:return(a._context.displayName||"Context")+".Consumer";case q:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:ie(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return ie(a(o))}catch{}}return null}var ee=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},oe=[],we=-1;function V(a){return{current:a}}function K(a){0>we||(a.current=oe[we],oe[we]=null,we--)}function G(a,o){we++,oe[we]=a.current,a.current=o}var Y=V(null),ce=V(null),ye=V(null),he=V(null);function Pe(a,o){switch(G(ye,o),G(ce,a),G(Y,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?bN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=bN(o),a=xN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(Y),G(Y,a)}function re(){K(Y),K(ce),K(ye)}function Se(a){a.memoizedState!==null&&G(he,a);var o=Y.current,c=xN(o,a.type);o!==c&&(G(ce,a),G(Y,c))}function Ae(a){ce.current===a&&(K(Y),K(ce)),he.current===a&&(K(he),uf._currentValue=te)}var J,Ve;function ze(a){if(J===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);J=o&&o[1]||"",Ve=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+a+Ve}var Ge=!1;function wt(a,o){if(!a||Ge)return"";Ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(me){var de=me}Reflect.construct(a,[],be)}else{try{be.call()}catch(me){de=me}a.call(be.prototype)}}else{try{throw Error()}catch(me){de=me}(be=a())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),C=x[0],B=x[1];if(C&&B){var X=C.split(`
`),ue=B.split(`
`);for(y=h=0;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ue.length&&!ue[y].includes("DetermineComponentFrameRoot");)y++;if(h===X.length||y===ue.length)for(h=X.length-1,y=ue.length-1;1<=h&&0<=y&&X[h]!==ue[y];)y--;for(;1<=h&&0<=y;h--,y--)if(X[h]!==ue[y]){if(h!==1||y!==1)do if(h--,y--,0>y||X[h]!==ue[y]){var pe=`
`+X[h].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=h&&0<=y);break}}}finally{Ge=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ze(c):""}function cn(a,o){switch(a.tag){case 26:case 27:case 5:return ze(a.type);case 16:return ze("Lazy");case 13:return a.child!==o&&o!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return wt(a.type,!1);case 11:return wt(a.type.render,!1);case 1:return wt(a.type,!0);case 31:return ze("Activity");default:return""}}function tr(a){try{var o="",c=null;do o+=cn(a,c),c=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Dt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,Ur=t.unstable_cancelCallback,Qa=t.unstable_shouldYield,fa=t.unstable_requestPaint,Ht=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,nr=t.unstable_ImmediatePriority,bi=t.unstable_UserBlockingPriority,xi=t.unstable_NormalPriority,Ja=t.unstable_LowPriority,ha=t.unstable_IdlePriority,ti=t.log,ma=t.unstable_setDisableYieldValue,br=null,rn=null;function qn(a){if(typeof ti=="function"&&ma(a),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(br,a)}catch{}}var $t=Math.clz32?Math.clz32:no,Za=Math.log,wi=Math.LN2;function no(a){return a>>>=0,a===0?32:31-(Za(a)/wi|0)|0}var xr=256,Ki=262144,Xt=4194304;function $r(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Br(a,o,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,x=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var B=h&134217727;return B!==0?(h=B&~x,h!==0?y=$r(h):(C&=B,C!==0?y=$r(C):c||(c=B&~a,c!==0&&(y=$r(c))))):(B=h&~x,B!==0?y=$r(B):C!==0?y=$r(C):c||(c=h&~a,c!==0&&(y=$r(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function Or(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ro(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var a=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),a}function xe(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function je(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function tt(a,o,c,h,y,x){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var B=a.entanglements,X=a.expirationTimes,ue=a.hiddenUpdates;for(c=C&~c;0<c;){var pe=31-$t(c),be=1<<pe;B[pe]=0,X[pe]=-1;var de=ue[pe];if(de!==null)for(ue[pe]=null,pe=0;pe<de.length;pe++){var me=de[pe];me!==null&&(me.lane&=-536870913)}c&=~be}h!==0&&vt(a,h,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(C&~o))}function vt(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-$t(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function an(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-$t(c),y=1<<h;y&o|a[h]&o&&(a[h]|=o),c&=~y}}function Qt(a,o){var c=o&-o;return c=(c&42)!==0?1:ni(c),(c&(a.suspendedLanes|o))!==0?0:c}function ni(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ri(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Q(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:qN(a.type))}function Te(a,o){var c=H.p;try{return H.p=a,o()}finally{H.p=c}}var Ne=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ne,ht="__reactProps$"+Ne,$e="__reactContainer$"+Ne,yt="__reactEvents$"+Ne,rr="__reactListeners$"+Ne,Fn="__reactHandles$"+Ne,om="__reactResources$"+Ne,pa="__reactMarker$"+Ne;function Tc(a){delete a[Re],delete a[ht],delete a[yt],delete a[rr],delete a[Fn]}function ga(a){var o=a[Re];if(o)return o;for(var c=a.parentNode;c;){if(o=c[$e]||c[Re]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=NN(a);a!==null;){if(c=a[Re])return c;a=NN(a)}return o}a=c,c=a.parentNode}return null}function _i(a){if(a=a[Re]||a[$e]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ii(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function va(a){var o=a[om];return o||(o=a[om]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Sn(a){a[pa]=!0}var gd=new Set,vd={};function ya(a,o){ba(a,o),ba(a+"Capture",o)}function ba(a,o){for(vd[a]=o,a=0;a<o.length;a++)gd.add(o[a])}var yd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bd={},xd={};function lm(a){return Dt.call(xd,a)?!0:Dt.call(bd,a)?!1:yd.test(a)?xd[a]=!0:(bd[a]=!0,!1)}function Nc(a,o,c){if(lm(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function ai(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function En(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}function Hn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ao(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function wd(a,o,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,x=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,x.call(this,C)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function At(a){if(!a._valueTracker){var o=ao(a)?"checked":"value";a._valueTracker=wd(a,o,""+a[o])}}function vl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=ao(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var yl=/[\n"\\]/g;function qr(a){return a.replace(yl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function jc(a,o,c,h,y,x,C,B){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),o!=null?C==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Hn(o)):a.value!==""+Hn(o)&&(a.value=""+Hn(o)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),o!=null?_d(a,C,Hn(o)):c!=null?_d(a,C,Hn(c)):h!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.name=""+Hn(B):a.removeAttribute("name")}function cm(a,o,c,h,y,x,C,B){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){At(a);return}c=c!=null?""+Hn(c):"",o=o!=null?""+Hn(o):c,B||o===a.value||(a.value=o),a.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=B?a.checked:!!h,a.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),At(a)}function _d(a,o,c){o==="number"&&xa(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function so(a,o,c,h){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+Hn(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function um(a,o,c){if(o!=null&&(o=""+Hn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Hn(c):""}function oo(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Hn(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),At(a)}function Fr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||dm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Ed(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&c[y]!==h&&Sd(a,y,h)}else for(var x in o)o.hasOwnProperty(x)&&Sd(a,x,o[x])}function Cc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(a){return lo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Gi(){}var Ad=null;function Si(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var co=null,wa=null;function bl(a){var o=_i(a);if(o&&(a=o.stateNode)){var c=a[ht]||null;e:switch(a=o.stateNode,o.type){case"input":if(jc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+qr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var y=h[ht]||null;if(!y)throw Error(r(90));jc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&vl(h)}break e;case"textarea":um(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&so(a,!!c.multiple,o,!1)}}}var Ic=!1;function uo(a,o,c){if(Ic)return a(o,c);Ic=!0;try{var h=a(o);return h}finally{if(Ic=!1,(co!==null||wa!==null)&&(ap(),co&&(o=co,a=wa,wa=co=null,bl(o),a)))for(o=0;o<a.length;o++)bl(a[o])}}function Yi(a,o){var c=a.stateNode;if(c===null)return null;var h=c[ht]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=!1;if(Ei)try{var It={};Object.defineProperty(It,"passive",{get:function(){xl=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{xl=!1}var _a=null,Td=null,wl=null;function Nd(){if(wl)return wl;var a,o=Td,c=o.length,h,y="value"in _a?_a.value:_a.textContent,x=y.length;for(a=0;a<c&&o[a]===y[a];a++);var C=c-a;for(h=1;h<=C&&o[c-h]===y[x-h];h++);return wl=y.slice(a,1<h?1-h:void 0)}function _l(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function es(){return!0}function Wi(){return!1}function ir(a){function o(c,h,y,x,C){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(c=a[B],this[B]=c?c(x):x[B]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?es:Wi,this.isPropagationStopped=Wi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),o}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=ir(ts),fo=g({},ts,{view:0,detail:0}),jd=ir(fo),ho,Pc,Ea,Rc=g({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ea&&(Ea&&a.type==="mousemove"?(ho=a.screenX-Ea.screenX,Pc=a.screenY-Ea.screenY):Pc=ho=0,Ea=a),ho)},movementY:function(a){return"movementY"in a?a.movementY:Pc}}),Cd=ir(Rc),Sl=g({},Rc,{dataTransfer:0}),hm=ir(Sl),mm=g({},fo,{relatedTarget:0}),El=ir(mm),Od=g({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),pm=ir(Od),kc=g({},ts,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),gm=ir(kc),vm=g({},ts,{data:0}),Aa=ir(vm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=xm[a])?!!o[a]:!1}function mo(){return wm}var Ir=g({},fo,{key:function(a){if(a.key){var o=ym[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=_l(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(a){return a.type==="keypress"?_l(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?_l(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_m=ir(Ir),Sm=g({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=ir(Sm),v=g({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),T=ir(v),R=g({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=ir(R),ae=g({},Rc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=ir(ae),Ee=g({},ts,{newState:0,oldState:0}),Je=ir(Ee),gn=[9,13,27,32],bt=Ei&&"CompositionEvent"in window,Jt=null;Ei&&"documentMode"in document&&(Jt=document.documentMode);var Ai=Ei&&"TextEvent"in window&&!Jt,Ta=Ei&&(!bt||Jt&&8<Jt&&11>=Jt),Xi=" ",Qi=!1;function Al(a,o){switch(a){case"keyup":return gn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Dc=!1;function Rz(a,o){switch(a){case"compositionend":return Mc(o);case"keypress":return o.which!==32?null:(Qi=!0,Xi);case"textInput":return a=o.data,a===Xi&&Qi?null:a;default:return null}}function kz(a,o){if(Dc)return a==="compositionend"||!bt&&Al(a,o)?(a=Nd(),wl=Td=_a=null,Dc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ta&&o.locale!=="ko"?null:o.data;default:return null}}var Mz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Mz[a.type]:o==="textarea"}function IA(a,o,c,h){co?wa?wa.push(h):wa=[h]:co=h,o=fp(o,"onChange"),0<o.length&&(c=new Sa("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var Id=null,Pd=null;function Dz(a){hN(a,0)}function Em(a){var o=ii(a);if(vl(o))return a}function PA(a,o){if(a==="change")return o}var RA=!1;if(Ei){var ty;if(Ei){var ny="oninput"in document;if(!ny){var kA=document.createElement("div");kA.setAttribute("oninput","return;"),ny=typeof kA.oninput=="function"}ty=ny}else ty=!1;RA=ty&&(!document.documentMode||9<document.documentMode)}function MA(){Id&&(Id.detachEvent("onpropertychange",DA),Pd=Id=null)}function DA(a){if(a.propertyName==="value"&&Em(Pd)){var o=[];IA(o,Pd,a,Si(a)),uo(Dz,o)}}function Lz(a,o,c){a==="focusin"?(MA(),Id=o,Pd=c,Id.attachEvent("onpropertychange",DA)):a==="focusout"&&MA()}function zz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Em(Pd)}function Vz(a,o){if(a==="click")return Em(o)}function Uz(a,o){if(a==="input"||a==="change")return Em(o)}function $z(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var si=typeof Object.is=="function"?Object.is:$z;function Rd(a,o){if(si(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!Dt.call(o,y)||!si(a[y],o[y]))return!1}return!0}function LA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function zA(a,o){var c=LA(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=LA(c)}}function VA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?VA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function UA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=xa(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=xa(a.document)}return o}function ry(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var Bz=Ei&&"documentMode"in document&&11>=document.documentMode,Lc=null,iy=null,kd=null,ay=!1;function $A(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ay||Lc==null||Lc!==xa(h)||(h=Lc,"selectionStart"in h&&ry(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),kd&&Rd(kd,h)||(kd=h,h=fp(iy,"onSelect"),0<h.length&&(o=new Sa("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=Lc)))}function Tl(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var zc={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},sy={},BA={};Ei&&(BA=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Nl(a){if(sy[a])return sy[a];if(!zc[a])return a;var o=zc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in BA)return sy[a]=o[c];return a}var qA=Nl("animationend"),FA=Nl("animationiteration"),HA=Nl("animationstart"),qz=Nl("transitionrun"),Fz=Nl("transitionstart"),Hz=Nl("transitioncancel"),KA=Nl("transitionend"),GA=new Map,oy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oy.push("scrollEnd");function Ji(a,o){GA.set(a,o),ya(o,[a])}var Am=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ti=[],Vc=0,ly=0;function Tm(){for(var a=Vc,o=ly=Vc=0;o<a;){var c=Ti[o];Ti[o++]=null;var h=Ti[o];Ti[o++]=null;var y=Ti[o];Ti[o++]=null;var x=Ti[o];if(Ti[o++]=null,h!==null&&y!==null){var C=h.pending;C===null?y.next=y:(y.next=C.next,C.next=y),h.pending=y}x!==0&&YA(c,y,x)}}function Nm(a,o,c,h){Ti[Vc++]=a,Ti[Vc++]=o,Ti[Vc++]=c,Ti[Vc++]=h,ly|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function cy(a,o,c,h){return Nm(a,o,c,h),jm(a)}function jl(a,o){return Nm(a,null,null,o),jm(a)}function YA(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&o!==null&&(y=31-$t(c),a=x.hiddenUpdates,h=a[y],h===null?a[y]=[o]:h.push(o),o.lane=c|536870912),x):null}function jm(a){if(50<nf)throw nf=0,yb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Uc={};function Kz(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(a,o,c,h){return new Kz(a,o,c,h)}function uy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function rs(a,o){var c=a.alternate;return c===null?(c=oi(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function WA(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Cm(a,o,c,h,y,x){var C=0;if(h=a,typeof a=="function")uy(a)&&(C=1);else if(typeof a=="string")C=QV(a,c,Y.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=oi(31,c,o,y),a.elementType=M,a.lanes=x,a;case E:return Cl(c.children,y,x,o);case A:C=8,y|=24;break;case j:return a=oi(12,c,o,y|2),a.elementType=j,a.lanes=x,a;case $:return a=oi(13,c,o,y),a.elementType=$,a.lanes=x,a;case z:return a=oi(19,c,o,y),a.elementType=z,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:C=10;break e;case L:C=9;break e;case q:C=11;break e;case O:C=14;break e;case N:C=16,h=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=oi(C,c,o,y),o.elementType=a,o.type=h,o.lanes=x,o}function Cl(a,o,c,h){return a=oi(7,a,h,o),a.lanes=c,a}function dy(a,o,c){return a=oi(6,a,null,o),a.lanes=c,a}function XA(a){var o=oi(18,null,null,0);return o.stateNode=a,o}function fy(a,o,c){return o=oi(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var QA=new WeakMap;function Ni(a,o){if(typeof a=="object"&&a!==null){var c=QA.get(a);return c!==void 0?c:(o={value:a,source:o,stack:tr(o)},QA.set(a,o),o)}return{value:a,source:o,stack:tr(o)}}var $c=[],Bc=0,Om=null,Md=0,ji=[],Ci=0,po=null,Na=1,ja="";function is(a,o){$c[Bc++]=Md,$c[Bc++]=Om,Om=a,Md=o}function JA(a,o,c){ji[Ci++]=Na,ji[Ci++]=ja,ji[Ci++]=po,po=a;var h=Na;a=ja;var y=32-$t(h)-1;h&=~(1<<y),c+=1;var x=32-$t(o)+y;if(30<x){var C=y-y%5;x=(h&(1<<C)-1).toString(32),h>>=C,y-=C,Na=1<<32-$t(o)+y|c<<y|h,ja=x+a}else Na=1<<x|c<<y|h,ja=a}function hy(a){a.return!==null&&(is(a,1),JA(a,1,0))}function my(a){for(;a===Om;)Om=$c[--Bc],$c[Bc]=null,Md=$c[--Bc],$c[Bc]=null;for(;a===po;)po=ji[--Ci],ji[Ci]=null,ja=ji[--Ci],ji[Ci]=null,Na=ji[--Ci],ji[Ci]=null}function ZA(a,o){ji[Ci++]=Na,ji[Ci++]=ja,ji[Ci++]=po,Na=o.id,ja=o.overflow,po=a}var ar=null,Kt=null,ut=!1,go=null,Oi=!1,py=Error(r(519));function vo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dd(Ni(o,a)),py}function eT(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[Re]=a,o[ht]=h,c){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(c=0;c<af.length;c++)rt(af[c],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),cm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),oo(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||vN(o.textContent,c)?(h.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),h.onScroll!=null&&rt("scroll",o),h.onScrollEnd!=null&&rt("scrollend",o),h.onClick!=null&&(o.onclick=Gi),o=!0):o=!1,o||vo(a,!0)}function tT(a){for(ar=a.return;ar;)switch(ar.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:ar=ar.return}}function qc(a){if(a!==ar)return!1;if(!ut)return tT(a),ut=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Rb(a.type,a.memoizedProps)),c=!c),c&&Kt&&vo(a),tT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=TN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=TN(a)}else o===27?(o=Kt,Io(a.type)?(a=zb,zb=null,Kt=a):Kt=o):Kt=ar?Pi(a.stateNode.nextSibling):null;return!0}function Ol(){Kt=ar=null,ut=!1}function gy(){var a=go;return a!==null&&(Yr===null?Yr=a:Yr.push.apply(Yr,a),go=null),a}function Dd(a){go===null?go=[a]:go.push(a)}var vy=V(null),Il=null,as=null;function yo(a,o,c){G(vy,o._currentValue),o._currentValue=c}function ss(a){a._currentValue=vy.current,K(vy)}function yy(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function by(a,o,c,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var C=y.child;x=x.firstContext;e:for(;x!==null;){var B=x;x=y;for(var X=0;X<o.length;X++)if(B.context===o[X]){x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),yy(x.return,c,a),h||(C=null);break e}x=B.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,x=C.alternate,x!==null&&(x.lanes|=c),yy(C,c,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Fc(a,o,c,h){a=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var B=y.type;si(y.pendingProps.value,C.value)||(a!==null?a.push(B):a=[B])}}else if(y===he.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(uf):a=[uf])}y=y.return}a!==null&&by(o,a,c,h),o.flags|=262144}function Im(a){for(a=a.firstContext;a!==null;){if(!si(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Pl(a){Il=a,as=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function sr(a){return nT(Il,a)}function Pm(a,o){return Il===null&&Pl(a),nT(a,o)}function nT(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},as===null){if(a===null)throw Error(r(308));as=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else as=as.next=o;return c}var Gz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},Yz=t.unstable_scheduleCallback,Wz=t.unstable_NormalPriority,An={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xy(){return{controller:new Gz,data:new Map,refCount:0}}function Ld(a){a.refCount--,a.refCount===0&&Yz(Wz,function(){a.controller.abort()})}var zd=null,wy=0,Hc=0,Kc=null;function Xz(a,o){if(zd===null){var c=zd=[];wy=0,Hc=Eb(),Kc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return wy++,o.then(rT,rT),o}function rT(){if(--wy===0&&zd!==null){Kc!==null&&(Kc.status="fulfilled");var a=zd;zd=null,Hc=0,Kc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Qz(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var iT=W.S;W.S=function(a,o){$2=Ht(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Xz(a,o),iT!==null&&iT(a,o)};var Rl=V(null);function _y(){var a=Rl.current;return a!==null?a:Lt.pooledCache}function Rm(a,o){o===null?G(Rl,Rl.current):G(Rl,o.pool)}function aT(){var a=_y();return a===null?null:{parent:An._currentValue,pool:a}}var Gc=Error(r(460)),Sy=Error(r(474)),km=Error(r(542)),Mm={then:function(){}};function sT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function oT(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Gi,Gi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,cT(a),a;default:if(typeof o.status=="string")o.then(Gi,Gi);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,cT(a),a}throw Ml=o,Gc}}function kl(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ml=c,Gc):c}}var Ml=null;function lT(){if(Ml===null)throw Error(r(459));var a=Ml;return Ml=null,a}function cT(a){if(a===Gc||a===km)throw Error(r(483))}var Yc=null,Vd=0;function Dm(a){var o=Vd;return Vd+=1,Yc===null&&(Yc=[]),oT(Yc,a,o)}function Ud(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Lm(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function uT(a){function o(ne,Z){if(a){var le=ne.deletions;le===null?(ne.deletions=[Z],ne.flags|=16):le.push(Z)}}function c(ne,Z){if(!a)return null;for(;Z!==null;)o(ne,Z),Z=Z.sibling;return null}function h(ne){for(var Z=new Map;ne!==null;)ne.key!==null?Z.set(ne.key,ne):Z.set(ne.index,ne),ne=ne.sibling;return Z}function y(ne,Z){return ne=rs(ne,Z),ne.index=0,ne.sibling=null,ne}function x(ne,Z,le){return ne.index=le,a?(le=ne.alternate,le!==null?(le=le.index,le<Z?(ne.flags|=67108866,Z):le):(ne.flags|=67108866,Z)):(ne.flags|=1048576,Z)}function C(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function B(ne,Z,le,ve){return Z===null||Z.tag!==6?(Z=dy(le,ne.mode,ve),Z.return=ne,Z):(Z=y(Z,le),Z.return=ne,Z)}function X(ne,Z,le,ve){var Be=le.type;return Be===E?pe(ne,Z,le.props.children,ve,le.key):Z!==null&&(Z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===N&&kl(Be)===Z.type)?(Z=y(Z,le.props),Ud(Z,le),Z.return=ne,Z):(Z=Cm(le.type,le.key,le.props,null,ne.mode,ve),Ud(Z,le),Z.return=ne,Z)}function ue(ne,Z,le,ve){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==le.containerInfo||Z.stateNode.implementation!==le.implementation?(Z=fy(le,ne.mode,ve),Z.return=ne,Z):(Z=y(Z,le.children||[]),Z.return=ne,Z)}function pe(ne,Z,le,ve,Be){return Z===null||Z.tag!==7?(Z=Cl(le,ne.mode,ve,Be),Z.return=ne,Z):(Z=y(Z,le),Z.return=ne,Z)}function be(ne,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=dy(""+Z,ne.mode,le),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return le=Cm(Z.type,Z.key,Z.props,null,ne.mode,le),Ud(le,Z),le.return=ne,le;case S:return Z=fy(Z,ne.mode,le),Z.return=ne,Z;case N:return Z=kl(Z),be(ne,Z,le)}if(ee(Z)||D(Z))return Z=Cl(Z,ne.mode,le,null),Z.return=ne,Z;if(typeof Z.then=="function")return be(ne,Dm(Z),le);if(Z.$$typeof===U)return be(ne,Pm(ne,Z),le);Lm(ne,Z)}return null}function de(ne,Z,le,ve){var Be=Z!==null?Z.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Be!==null?null:B(ne,Z,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return le.key===Be?X(ne,Z,le,ve):null;case S:return le.key===Be?ue(ne,Z,le,ve):null;case N:return le=kl(le),de(ne,Z,le,ve)}if(ee(le)||D(le))return Be!==null?null:pe(ne,Z,le,ve,null);if(typeof le.then=="function")return de(ne,Z,Dm(le),ve);if(le.$$typeof===U)return de(ne,Z,Pm(ne,le),ve);Lm(ne,le)}return null}function me(ne,Z,le,ve,Be){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ne=ne.get(le)||null,B(Z,ne,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ne=ne.get(ve.key===null?le:ve.key)||null,X(Z,ne,ve,Be);case S:return ne=ne.get(ve.key===null?le:ve.key)||null,ue(Z,ne,ve,Be);case N:return ve=kl(ve),me(ne,Z,le,ve,Be)}if(ee(ve)||D(ve))return ne=ne.get(le)||null,pe(Z,ne,ve,Be,null);if(typeof ve.then=="function")return me(ne,Z,le,Dm(ve),Be);if(ve.$$typeof===U)return me(ne,Z,le,Pm(Z,ve),Be);Lm(Z,ve)}return null}function De(ne,Z,le,ve){for(var Be=null,mt=null,Ue=Z,et=Z=0,st=null;Ue!==null&&et<le.length;et++){Ue.index>et?(st=Ue,Ue=null):st=Ue.sibling;var pt=de(ne,Ue,le[et],ve);if(pt===null){Ue===null&&(Ue=st);break}a&&Ue&&pt.alternate===null&&o(ne,Ue),Z=x(pt,Z,et),mt===null?Be=pt:mt.sibling=pt,mt=pt,Ue=st}if(et===le.length)return c(ne,Ue),ut&&is(ne,et),Be;if(Ue===null){for(;et<le.length;et++)Ue=be(ne,le[et],ve),Ue!==null&&(Z=x(Ue,Z,et),mt===null?Be=Ue:mt.sibling=Ue,mt=Ue);return ut&&is(ne,et),Be}for(Ue=h(Ue);et<le.length;et++)st=me(Ue,ne,et,le[et],ve),st!==null&&(a&&st.alternate!==null&&Ue.delete(st.key===null?et:st.key),Z=x(st,Z,et),mt===null?Be=st:mt.sibling=st,mt=st);return a&&Ue.forEach(function(Do){return o(ne,Do)}),ut&&is(ne,et),Be}function Fe(ne,Z,le,ve){if(le==null)throw Error(r(151));for(var Be=null,mt=null,Ue=Z,et=Z=0,st=null,pt=le.next();Ue!==null&&!pt.done;et++,pt=le.next()){Ue.index>et?(st=Ue,Ue=null):st=Ue.sibling;var Do=de(ne,Ue,pt.value,ve);if(Do===null){Ue===null&&(Ue=st);break}a&&Ue&&Do.alternate===null&&o(ne,Ue),Z=x(Do,Z,et),mt===null?Be=Do:mt.sibling=Do,mt=Do,Ue=st}if(pt.done)return c(ne,Ue),ut&&is(ne,et),Be;if(Ue===null){for(;!pt.done;et++,pt=le.next())pt=be(ne,pt.value,ve),pt!==null&&(Z=x(pt,Z,et),mt===null?Be=pt:mt.sibling=pt,mt=pt);return ut&&is(ne,et),Be}for(Ue=h(Ue);!pt.done;et++,pt=le.next())pt=me(Ue,ne,et,pt.value,ve),pt!==null&&(a&&pt.alternate!==null&&Ue.delete(pt.key===null?et:pt.key),Z=x(pt,Z,et),mt===null?Be=pt:mt.sibling=pt,mt=pt);return a&&Ue.forEach(function(l9){return o(ne,l9)}),ut&&is(ne,et),Be}function kt(ne,Z,le,ve){if(typeof le=="object"&&le!==null&&le.type===E&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case _:e:{for(var Be=le.key;Z!==null;){if(Z.key===Be){if(Be=le.type,Be===E){if(Z.tag===7){c(ne,Z.sibling),ve=y(Z,le.props.children),ve.return=ne,ne=ve;break e}}else if(Z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===N&&kl(Be)===Z.type){c(ne,Z.sibling),ve=y(Z,le.props),Ud(ve,le),ve.return=ne,ne=ve;break e}c(ne,Z);break}else o(ne,Z);Z=Z.sibling}le.type===E?(ve=Cl(le.props.children,ne.mode,ve,le.key),ve.return=ne,ne=ve):(ve=Cm(le.type,le.key,le.props,null,ne.mode,ve),Ud(ve,le),ve.return=ne,ne=ve)}return C(ne);case S:e:{for(Be=le.key;Z!==null;){if(Z.key===Be)if(Z.tag===4&&Z.stateNode.containerInfo===le.containerInfo&&Z.stateNode.implementation===le.implementation){c(ne,Z.sibling),ve=y(Z,le.children||[]),ve.return=ne,ne=ve;break e}else{c(ne,Z);break}else o(ne,Z);Z=Z.sibling}ve=fy(le,ne.mode,ve),ve.return=ne,ne=ve}return C(ne);case N:return le=kl(le),kt(ne,Z,le,ve)}if(ee(le))return De(ne,Z,le,ve);if(D(le)){if(Be=D(le),typeof Be!="function")throw Error(r(150));return le=Be.call(le),Fe(ne,Z,le,ve)}if(typeof le.then=="function")return kt(ne,Z,Dm(le),ve);if(le.$$typeof===U)return kt(ne,Z,Pm(ne,le),ve);Lm(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,Z!==null&&Z.tag===6?(c(ne,Z.sibling),ve=y(Z,le),ve.return=ne,ne=ve):(c(ne,Z),ve=dy(le,ne.mode,ve),ve.return=ne,ne=ve),C(ne)):c(ne,Z)}return function(ne,Z,le,ve){try{Vd=0;var Be=kt(ne,Z,le,ve);return Yc=null,Be}catch(Ue){if(Ue===Gc||Ue===km)throw Ue;var mt=oi(29,Ue,null,ne.mode);return mt.lanes=ve,mt.return=ne,mt}}}var Dl=uT(!0),dT=uT(!1),bo=!1;function Ey(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ay(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function wo(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(xt&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=jm(a),YA(a,null,c),o}return Nm(a,h,o,c),jm(a)}function $d(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,an(a,c)}}function Ty(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Ny=!1;function Bd(){if(Ny){var a=Kc;if(a!==null)throw a}}function qd(a,o,c,h){Ny=!1;var y=a.updateQueue;bo=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var X=B,ue=X.next;X.next=null,C===null?x=ue:C.next=ue,C=X;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,B=pe.lastBaseUpdate,B!==C&&(B===null?pe.firstBaseUpdate=ue:B.next=ue,pe.lastBaseUpdate=X))}if(x!==null){var be=y.baseState;C=0,pe=ue=X=null,B=x;do{var de=B.lane&-536870913,me=de!==B.lane;if(me?(at&de)===de:(h&de)===de){de!==0&&de===Hc&&(Ny=!0),pe!==null&&(pe=pe.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var De=a,Fe=B;de=o;var kt=c;switch(Fe.tag){case 1:if(De=Fe.payload,typeof De=="function"){be=De.call(kt,be,de);break e}be=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Fe.payload,de=typeof De=="function"?De.call(kt,be,de):De,de==null)break e;be=g({},be,de);break e;case 2:bo=!0}}de=B.callback,de!==null&&(a.flags|=64,me&&(a.flags|=8192),me=y.callbacks,me===null?y.callbacks=[de]:me.push(de))}else me={lane:de,tag:B.tag,payload:B.payload,callback:B.callback,next:null},pe===null?(ue=pe=me,X=be):pe=pe.next=me,C|=de;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;me=B,B=me.next,me.next=null,y.lastBaseUpdate=me,y.shared.pending=null}}while(!0);pe===null&&(X=be),y.baseState=X,y.firstBaseUpdate=ue,y.lastBaseUpdate=pe,x===null&&(y.shared.lanes=0),To|=C,a.lanes=C,a.memoizedState=be}}function fT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function hT(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)fT(c[a],o)}var Wc=V(null),zm=V(0);function mT(a,o){a=ps,G(zm,a),G(Wc,o),ps=a|o.baseLanes}function jy(){G(zm,ps),G(Wc,Wc.current)}function Cy(){ps=zm.current,K(Wc),K(zm)}var li=V(null),Ii=null;function _o(a){var o=a.alternate;G(vn,vn.current&1),G(li,a),Ii===null&&(o===null||Wc.current!==null||o.memoizedState!==null)&&(Ii=a)}function Oy(a){G(vn,vn.current),G(li,a),Ii===null&&(Ii=a)}function pT(a){a.tag===22?(G(vn,vn.current),G(li,a),Ii===null&&(Ii=a)):So()}function So(){G(vn,vn.current),G(li,li.current)}function ci(a){K(li),Ii===a&&(Ii=null),K(vn)}var vn=V(0);function Vm(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Db(c)||Lb(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var os=0,Ze=null,Pt=null,Tn=null,Um=!1,Xc=!1,Ll=!1,$m=0,Fd=0,Qc=null,Jz=0;function un(){throw Error(r(321))}function Iy(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!si(a[c],o[c]))return!1;return!0}function Py(a,o,c,h,y,x){return os=x,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=a===null||a.memoizedState===null?JT:Gy,Ll=!1,x=c(h,y),Ll=!1,Xc&&(x=vT(o,c,h,y)),gT(a),x}function gT(a){W.H=Gd;var o=Pt!==null&&Pt.next!==null;if(os=0,Tn=Pt=Ze=null,Um=!1,Fd=0,Qc=null,o)throw Error(r(300));a===null||Nn||(a=a.dependencies,a!==null&&Im(a)&&(Nn=!0))}function vT(a,o,c,h){Ze=a;var y=0;do{if(Xc&&(Qc=null),Fd=0,Xc=!1,25<=y)throw Error(r(301));if(y+=1,Tn=Pt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=ZT,x=o(c,h)}while(Xc);return x}function Zz(){var a=W.H,o=a.useState()[0];return o=typeof o.then=="function"?Hd(o):o,a=a.useState()[0],(Pt!==null?Pt.memoizedState:null)!==a&&(Ze.flags|=1024),o}function Ry(){var a=$m!==0;return $m=0,a}function ky(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function My(a){if(Um){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Um=!1}os=0,Tn=Pt=Ze=null,Xc=!1,Fd=$m=0,Qc=null}function Pr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Ze.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function yn(){if(Pt===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var o=Tn===null?Ze.memoizedState:Tn.next;if(o!==null)Tn=o,Pt=a;else{if(a===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Tn===null?Ze.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function Bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hd(a){var o=Fd;return Fd+=1,Qc===null&&(Qc=[]),a=oT(Qc,a,o),o=Ze,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?JT:Gy),a}function qm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Hd(a);if(a.$$typeof===U)return sr(a)}throw Error(r(438,String(a)))}function Dy(a){var o=null,c=Ze.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Ze.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Bm(),Ze.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=P;return o.index++,c}function ls(a,o){return typeof o=="function"?o(a):o}function Fm(a){var o=yn();return Ly(o,Pt,a)}function Ly(a,o,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=a.baseQueue,x=h.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}o.baseQueue=y=x,h.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{o=y.next;var B=C=null,X=null,ue=o,pe=!1;do{var be=ue.lane&-536870913;if(be!==ue.lane?(at&be)===be:(os&be)===be){var de=ue.revertLane;if(de===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),be===Hc&&(pe=!0);else if((os&de)===de){ue=ue.next,de===Hc&&(pe=!0);continue}else be={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},X===null?(B=X=be,C=x):X=X.next=be,Ze.lanes|=de,To|=de;be=ue.action,Ll&&c(x,be),x=ue.hasEagerState?ue.eagerState:c(x,be)}else de={lane:be,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},X===null?(B=X=de,C=x):X=X.next=de,Ze.lanes|=be,To|=be;ue=ue.next}while(ue!==null&&ue!==o);if(X===null?C=x:X.next=B,!si(x,a.memoizedState)&&(Nn=!0,pe&&(c=Kc,c!==null)))throw c;a.memoizedState=x,a.baseState=C,a.baseQueue=X,h.lastRenderedState=x}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function zy(a){var o=yn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do x=a(x,C.action),C=C.next;while(C!==y);si(x,o.memoizedState)||(Nn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,h]}function yT(a,o,c){var h=Ze,y=yn(),x=ut;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!si((Pt||y).memoizedState,c);if(C&&(y.memoizedState=c,Nn=!0),y=y.queue,$y(wT.bind(null,h,y,a),[a]),y.getSnapshot!==o||C||Tn!==null&&Tn.memoizedState.tag&1){if(h.flags|=2048,Jc(9,{destroy:void 0},xT.bind(null,h,y,c,o),null),Lt===null)throw Error(r(349));x||(os&127)!==0||bT(h,o,c)}return c}function bT(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ze.updateQueue,o===null?(o=Bm(),Ze.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function xT(a,o,c,h){o.value=c,o.getSnapshot=h,_T(o)&&ST(a)}function wT(a,o,c){return c(function(){_T(o)&&ST(a)})}function _T(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!si(a,c)}catch{return!0}}function ST(a){var o=jl(a,2);o!==null&&Wr(o,a,2)}function Vy(a){var o=Pr();if(typeof a=="function"){var c=a;if(a=c(),Ll){qn(!0);try{c()}finally{qn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:a},o}function ET(a,o,c,h){return a.baseState=c,Ly(a,Pt,typeof h=="function"?h:ls)}function eV(a,o,c,h,y){if(Gm(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};W.T!==null?c(!0):x.isTransition=!1,h(x),c=o.pending,c===null?(x.next=o.pending=x,AT(o,x)):(x.next=c.next,o.pending=c.next=x)}}function AT(a,o){var c=o.action,h=o.payload,y=a.state;if(o.isTransition){var x=W.T,C={};W.T=C;try{var B=c(y,h),X=W.S;X!==null&&X(C,B),TT(a,o,B)}catch(ue){Uy(a,o,ue)}finally{x!==null&&C.types!==null&&(x.types=C.types),W.T=x}}else try{x=c(y,h),TT(a,o,x)}catch(ue){Uy(a,o,ue)}}function TT(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){NT(a,o,h)},function(h){return Uy(a,o,h)}):NT(a,o,c)}function NT(a,o,c){o.status="fulfilled",o.value=c,jT(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,AT(a,c)))}function Uy(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,jT(o),o=o.next;while(o!==h)}a.action=null}function jT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function CT(a,o){return o}function OT(a,o){if(ut){var c=Lt.formState;if(c!==null){e:{var h=Ze;if(ut){if(Kt){t:{for(var y=Kt,x=Oi;y.nodeType!==8;){if(!x){y=null;break t}if(y=Pi(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Kt=Pi(y.nextSibling),h=y.data==="F!";break e}}vo(h)}h=!1}h&&(o=c[0])}}return c=Pr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CT,lastRenderedState:o},c.queue=h,c=WT.bind(null,Ze,h),h.dispatch=c,h=Vy(!1),x=Ky.bind(null,Ze,!1,h.queue),h=Pr(),y={state:o,dispatch:null,action:a,pending:null},h.queue=y,c=eV.bind(null,Ze,y,x,c),y.dispatch=c,h.memoizedState=a,[o,c,!1]}function IT(a){var o=yn();return PT(o,Pt,a)}function PT(a,o,c){if(o=Ly(a,o,CT)[0],a=Fm(ls)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Hd(o)}catch(C){throw C===Gc?km:C}else h=o;o=yn();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(Ze.flags|=2048,Jc(9,{destroy:void 0},tV.bind(null,y,c),null)),[h,x,a]}function tV(a,o){a.action=o}function RT(a){var o=yn(),c=Pt;if(c!==null)return PT(o,c,a);yn(),o=o.memoizedState,c=yn();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function Jc(a,o,c,h){return a={tag:a,create:c,deps:h,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=Bm(),Ze.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function kT(){return yn().memoizedState}function Hm(a,o,c,h){var y=Pr();Ze.flags|=a,y.memoizedState=Jc(1|o,{destroy:void 0},c,h===void 0?null:h)}function Km(a,o,c,h){var y=yn();h=h===void 0?null:h;var x=y.memoizedState.inst;Pt!==null&&h!==null&&Iy(h,Pt.memoizedState.deps)?y.memoizedState=Jc(o,x,c,h):(Ze.flags|=a,y.memoizedState=Jc(1|o,x,c,h))}function MT(a,o){Hm(8390656,8,a,o)}function $y(a,o){Km(2048,8,a,o)}function nV(a){Ze.flags|=4;var o=Ze.updateQueue;if(o===null)o=Bm(),Ze.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function DT(a){var o=yn().memoizedState;return nV({ref:o,nextImpl:a}),function(){if((xt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function LT(a,o){return Km(4,2,a,o)}function zT(a,o){return Km(4,4,a,o)}function VT(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function UT(a,o,c){c=c!=null?c.concat([a]):null,Km(4,4,VT.bind(null,o,a),c)}function By(){}function $T(a,o){var c=yn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Iy(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function BT(a,o){var c=yn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Iy(o,h[1]))return h[0];if(h=a(),Ll){qn(!0);try{a()}finally{qn(!1)}}return c.memoizedState=[h,o],h}function qy(a,o,c){return c===void 0||(os&1073741824)!==0&&(at&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=q2(),Ze.lanes|=a,To|=a,c)}function qT(a,o,c,h){return si(c,o)?c:Wc.current!==null?(a=qy(a,c,h),si(a,o)||(Nn=!0),a):(os&42)===0||(os&1073741824)!==0&&(at&261930)===0?(Nn=!0,a.memoizedState=c):(a=q2(),Ze.lanes|=a,To|=a,o)}function FT(a,o,c,h,y){var x=H.p;H.p=x!==0&&8>x?x:8;var C=W.T,B={};W.T=B,Ky(a,!1,o,c);try{var X=y(),ue=W.S;if(ue!==null&&ue(B,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var pe=Qz(X,h);Kd(a,o,pe,fi(a))}else Kd(a,o,h,fi(a))}catch(be){Kd(a,o,{then:function(){},status:"rejected",reason:be},fi())}finally{H.p=x,C!==null&&B.types!==null&&(C.types=B.types),W.T=C}}function rV(){}function Fy(a,o,c,h){if(a.tag!==5)throw Error(r(476));var y=HT(a).queue;FT(a,y,o,te,c===null?rV:function(){return KT(a),c(h)})}function HT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:te},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function KT(a){var o=HT(a);o.next===null&&(o=a.alternate.memoizedState),Kd(a,o.next.queue,{},fi())}function Hy(){return sr(uf)}function GT(){return yn().memoizedState}function YT(){return yn().memoizedState}function iV(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=fi();a=xo(c);var h=wo(o,a,c);h!==null&&(Wr(h,o,c),$d(h,o,c)),o={cache:xy()},a.payload=o;return}o=o.return}}function aV(a,o,c){var h=fi();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Gm(a)?XT(o,c):(c=cy(a,o,c,h),c!==null&&(Wr(c,a,h),QT(c,o,h)))}function WT(a,o,c){var h=fi();Kd(a,o,c,h)}function Kd(a,o,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Gm(a))XT(o,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var C=o.lastRenderedState,B=x(C,c);if(y.hasEagerState=!0,y.eagerState=B,si(B,C))return Nm(a,o,y,0),Lt===null&&Tm(),!1}catch{}if(c=cy(a,o,y,h),c!==null)return Wr(c,a,h),QT(c,o,h),!0}return!1}function Ky(a,o,c,h){if(h={lane:2,revertLane:Eb(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Gm(a)){if(o)throw Error(r(479))}else o=cy(a,c,h,2),o!==null&&Wr(o,a,2)}function Gm(a){var o=a.alternate;return a===Ze||o!==null&&o===Ze}function XT(a,o){Xc=Um=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function QT(a,o,c){if((c&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,an(a,c)}}var Gd={readContext:sr,use:qm,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};Gd.useEffectEvent=un;var JT={readContext:sr,use:qm,useCallback:function(a,o){return Pr().memoizedState=[a,o===void 0?null:o],a},useContext:sr,useEffect:MT,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Hm(4194308,4,VT.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Hm(4194308,4,a,o)},useInsertionEffect:function(a,o){Hm(4,2,a,o)},useMemo:function(a,o){var c=Pr();o=o===void 0?null:o;var h=a();if(Ll){qn(!0);try{a()}finally{qn(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=Pr();if(c!==void 0){var y=c(o);if(Ll){qn(!0);try{c(o)}finally{qn(!1)}}}else y=o;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=aV.bind(null,Ze,a),[h.memoizedState,a]},useRef:function(a){var o=Pr();return a={current:a},o.memoizedState=a},useState:function(a){a=Vy(a);var o=a.queue,c=WT.bind(null,Ze,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:By,useDeferredValue:function(a,o){var c=Pr();return qy(c,a,o)},useTransition:function(){var a=Vy(!1);return a=FT.bind(null,Ze,a.queue,!0,!1),Pr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=Ze,y=Pr();if(ut){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Lt===null)throw Error(r(349));(at&127)!==0||bT(h,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,MT(wT.bind(null,h,x,a),[a]),h.flags|=2048,Jc(9,{destroy:void 0},xT.bind(null,h,x,c,o),null),c},useId:function(){var a=Pr(),o=Lt.identifierPrefix;if(ut){var c=ja,h=Na;c=(h&~(1<<32-$t(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=$m++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=Jz++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Hy,useFormState:OT,useActionState:OT,useOptimistic:function(a){var o=Pr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Ky.bind(null,Ze,!0,c),c.dispatch=o,[a,o]},useMemoCache:Dy,useCacheRefresh:function(){return Pr().memoizedState=iV.bind(null,Ze)},useEffectEvent:function(a){var o=Pr(),c={impl:a};return o.memoizedState=c,function(){if((xt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Gy={readContext:sr,use:qm,useCallback:$T,useContext:sr,useEffect:$y,useImperativeHandle:UT,useInsertionEffect:LT,useLayoutEffect:zT,useMemo:BT,useReducer:Fm,useRef:kT,useState:function(){return Fm(ls)},useDebugValue:By,useDeferredValue:function(a,o){var c=yn();return qT(c,Pt.memoizedState,a,o)},useTransition:function(){var a=Fm(ls)[0],o=yn().memoizedState;return[typeof a=="boolean"?a:Hd(a),o]},useSyncExternalStore:yT,useId:GT,useHostTransitionStatus:Hy,useFormState:IT,useActionState:IT,useOptimistic:function(a,o){var c=yn();return ET(c,Pt,a,o)},useMemoCache:Dy,useCacheRefresh:YT};Gy.useEffectEvent=DT;var ZT={readContext:sr,use:qm,useCallback:$T,useContext:sr,useEffect:$y,useImperativeHandle:UT,useInsertionEffect:LT,useLayoutEffect:zT,useMemo:BT,useReducer:zy,useRef:kT,useState:function(){return zy(ls)},useDebugValue:By,useDeferredValue:function(a,o){var c=yn();return Pt===null?qy(c,a,o):qT(c,Pt.memoizedState,a,o)},useTransition:function(){var a=zy(ls)[0],o=yn().memoizedState;return[typeof a=="boolean"?a:Hd(a),o]},useSyncExternalStore:yT,useId:GT,useHostTransitionStatus:Hy,useFormState:RT,useActionState:RT,useOptimistic:function(a,o){var c=yn();return Pt!==null?ET(c,Pt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Dy,useCacheRefresh:YT};ZT.useEffectEvent=DT;function Yy(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Wy={enqueueSetState:function(a,o,c){a=a._reactInternals;var h=fi(),y=xo(h);y.payload=o,c!=null&&(y.callback=c),o=wo(a,y,h),o!==null&&(Wr(o,a,h),$d(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=fi(),y=xo(h);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=wo(a,y,h),o!==null&&(Wr(o,a,h),$d(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=fi(),h=xo(c);h.tag=2,o!=null&&(h.callback=o),o=wo(a,h,c),o!==null&&(Wr(o,a,c),$d(o,a,c))}};function e2(a,o,c,h,y,x,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,C):o.prototype&&o.prototype.isPureReactComponent?!Rd(c,h)||!Rd(y,x):!0}function t2(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&Wy.enqueueReplaceState(o,o.state,null)}function zl(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function n2(a){Am(a)}function r2(a){console.error(a)}function i2(a){Am(a)}function Ym(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function a2(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Xy(a,o,c){return c=xo(c),c.tag=3,c.payload={element:null},c.callback=function(){Ym(a,o)},c}function s2(a){return a=xo(a),a.tag=3,a}function o2(a,o,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;a.payload=function(){return y(x)},a.callback=function(){a2(o,c,h)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){a2(o,c,h),typeof y!="function"&&(No===null?No=new Set([this]):No.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})})}function sV(a,o,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Fc(o,c,y,!0),c=li.current,c!==null){switch(c.tag){case 31:case 13:return Ii===null?sp():c.alternate===null&&dn===0&&(dn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===Mm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),wb(a,h,y)),!1;case 22:return c.flags|=65536,h===Mm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),wb(a,h,y)),!1}throw Error(r(435,c.tag))}return wb(a,h,y),sp(),!1}if(ut)return o=li.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==py&&(a=Error(r(422),{cause:h}),Dd(Ni(a,c)))):(h!==py&&(o=Error(r(423),{cause:h}),Dd(Ni(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=Ni(h,c),y=Xy(a.stateNode,h,y),Ty(a,y),dn!==4&&(dn=2)),!1;var x=Error(r(520),{cause:h});if(x=Ni(x,c),tf===null?tf=[x]:tf.push(x),dn!==4&&(dn=2),o===null)return!0;h=Ni(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Xy(c.stateNode,h,a),Ty(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(No===null||!No.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=s2(y),o2(y,a,c,h),Ty(c,y),!1}c=c.return}while(c!==null);return!1}var Qy=Error(r(461)),Nn=!1;function or(a,o,c,h){o.child=a===null?dT(o,null,c,h):Dl(o,a.child,c,h)}function l2(a,o,c,h,y){c=c.render;var x=o.ref;if("ref"in h){var C={};for(var B in h)B!=="ref"&&(C[B]=h[B])}else C=h;return Pl(o),h=Py(a,o,c,C,x,y),B=Ry(),a!==null&&!Nn?(ky(a,o,y),cs(a,o,y)):(ut&&B&&hy(o),o.flags|=1,or(a,o,h,y),o.child)}function c2(a,o,c,h,y){if(a===null){var x=c.type;return typeof x=="function"&&!uy(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,u2(a,o,x,h,y)):(a=Cm(c.type,null,h,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!ab(a,y)){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:Rd,c(C,h)&&a.ref===o.ref)return cs(a,o,y)}return o.flags|=1,a=rs(x,h),a.ref=o.ref,a.return=o,o.child=a}function u2(a,o,c,h,y){if(a!==null){var x=a.memoizedProps;if(Rd(x,h)&&a.ref===o.ref)if(Nn=!1,o.pendingProps=h=x,ab(a,y))(a.flags&131072)!==0&&(Nn=!0);else return o.lanes=a.lanes,cs(a,o,y)}return Jy(a,o,c,h,y)}function d2(a,o,c,h){var y=h.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(h=o.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~x}else h=0,o.child=null;return f2(a,o,x,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Rm(o,x!==null?x.cachePool:null),x!==null?mT(o,x):jy(),pT(o);else return h=o.lanes=536870912,f2(a,o,x!==null?x.baseLanes|c:c,c,h)}else x!==null?(Rm(o,x.cachePool),mT(o,x),So(),o.memoizedState=null):(a!==null&&Rm(o,null),jy(),So());return or(a,o,y,c),o.child}function Yd(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function f2(a,o,c,h,y){var x=_y();return x=x===null?null:{parent:An._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Rm(o,null),jy(),pT(o),a!==null&&Fc(a,o,h,!0),o.childLanes=y,null}function Wm(a,o){return o=Qm({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function h2(a,o,c){return Dl(o,a.child,null,c),a=Wm(o,o.pendingProps),a.flags|=2,ci(o),o.memoizedState=null,a}function oV(a,o,c){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ut){if(h.mode==="hidden")return a=Wm(o,h),o.lanes=536870912,Yd(null,a);if(Oy(o),(a=Kt)?(a=AN(a,Oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:po!==null?{id:Na,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},c=XA(a),c.return=o,o.child=c,ar=o,Kt=null)):a=null,a===null)throw vo(o);return o.lanes=536870912,null}return Wm(o,h)}var x=a.memoizedState;if(x!==null){var C=x.dehydrated;if(Oy(o),y)if(o.flags&256)o.flags&=-257,o=h2(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Nn||Fc(a,o,c,!1),y=(c&a.childLanes)!==0,Nn||y){if(h=Lt,h!==null&&(C=Qt(h,c),C!==0&&C!==x.retryLane))throw x.retryLane=C,jl(a,C),Wr(h,a,C),Qy;sp(),o=h2(a,o,c)}else a=x.treeContext,Kt=Pi(C.nextSibling),ar=o,ut=!0,go=null,Oi=!1,a!==null&&ZA(o,a),o=Wm(o,h),o.flags|=4096;return o}return a=rs(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Xm(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Jy(a,o,c,h,y){return Pl(o),c=Py(a,o,c,h,void 0,y),h=Ry(),a!==null&&!Nn?(ky(a,o,y),cs(a,o,y)):(ut&&h&&hy(o),o.flags|=1,or(a,o,c,y),o.child)}function m2(a,o,c,h,y,x){return Pl(o),o.updateQueue=null,c=vT(o,h,c,y),gT(a),h=Ry(),a!==null&&!Nn?(ky(a,o,x),cs(a,o,x)):(ut&&h&&hy(o),o.flags|=1,or(a,o,c,x),o.child)}function p2(a,o,c,h,y){if(Pl(o),o.stateNode===null){var x=Uc,C=c.contextType;typeof C=="object"&&C!==null&&(x=sr(C)),x=new c(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Wy,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},Ey(o),C=c.contextType,x.context=typeof C=="object"&&C!==null?sr(C):Uc,x.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Yy(o,c,C,h),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&Wy.enqueueReplaceState(x,x.state,null),qd(o,h,x,y),Bd(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){x=o.stateNode;var B=o.memoizedProps,X=zl(c,B);x.props=X;var ue=x.context,pe=c.contextType;C=Uc,typeof pe=="object"&&pe!==null&&(C=sr(pe));var be=c.getDerivedStateFromProps;pe=typeof be=="function"||typeof x.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,pe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(B||ue!==C)&&t2(o,x,h,C),bo=!1;var de=o.memoizedState;x.state=de,qd(o,h,x,y),Bd(),ue=o.memoizedState,B||de!==ue||bo?(typeof be=="function"&&(Yy(o,c,be,h),ue=o.memoizedState),(X=bo||e2(o,c,X,h,de,ue,C))?(pe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ue),x.props=h,x.state=ue,x.context=C,h=X):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Ay(a,o),C=o.memoizedProps,pe=zl(c,C),x.props=pe,be=o.pendingProps,de=x.context,ue=c.contextType,X=Uc,typeof ue=="object"&&ue!==null&&(X=sr(ue)),B=c.getDerivedStateFromProps,(ue=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==be||de!==X)&&t2(o,x,h,X),bo=!1,de=o.memoizedState,x.state=de,qd(o,h,x,y),Bd();var me=o.memoizedState;C!==be||de!==me||bo||a!==null&&a.dependencies!==null&&Im(a.dependencies)?(typeof B=="function"&&(Yy(o,c,B,h),me=o.memoizedState),(pe=bo||e2(o,c,pe,h,de,me,X)||a!==null&&a.dependencies!==null&&Im(a.dependencies))?(ue||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,me,X),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,me,X)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),x.props=h,x.state=me,x.context=X,h=pe):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),h=!1)}return x=h,Xm(a,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&h?(o.child=Dl(o,a.child,null,y),o.child=Dl(o,null,c,y)):or(a,o,c,y),o.memoizedState=x.state,a=o.child):a=cs(a,o,y),a}function g2(a,o,c,h){return Ol(),o.flags|=256,or(a,o,c,h),o.child}var Zy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eb(a){return{baseLanes:a,cachePool:aT()}}function tb(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=di),a}function v2(a,o,c){var h=o.pendingProps,y=!1,x=(o.flags&128)!==0,C;if((C=x)||(C=a!==null&&a.memoizedState===null?!1:(vn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,a===null){if(ut){if(y?_o(o):So(),(a=Kt)?(a=AN(a,Oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:po!==null?{id:Na,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},c=XA(a),c.return=o,o.child=c,ar=o,Kt=null)):a=null,a===null)throw vo(o);return Lb(a)?o.lanes=32:o.lanes=536870912,null}var B=h.children;return h=h.fallback,y?(So(),y=o.mode,B=Qm({mode:"hidden",children:B},y),h=Cl(h,y,c,null),B.return=o,h.return=o,B.sibling=h,o.child=B,h=o.child,h.memoizedState=eb(c),h.childLanes=tb(a,C,c),o.memoizedState=Zy,Yd(null,h)):(_o(o),nb(o,B))}var X=a.memoizedState;if(X!==null&&(B=X.dehydrated,B!==null)){if(x)o.flags&256?(_o(o),o.flags&=-257,o=rb(a,o,c)):o.memoizedState!==null?(So(),o.child=a.child,o.flags|=128,o=null):(So(),B=h.fallback,y=o.mode,h=Qm({mode:"visible",children:h.children},y),B=Cl(B,y,c,null),B.flags|=2,h.return=o,B.return=o,h.sibling=B,o.child=h,Dl(o,a.child,null,c),h=o.child,h.memoizedState=eb(c),h.childLanes=tb(a,C,c),o.memoizedState=Zy,o=Yd(null,h));else if(_o(o),Lb(B)){if(C=B.nextSibling&&B.nextSibling.dataset,C)var ue=C.dgst;C=ue,h=Error(r(419)),h.stack="",h.digest=C,Dd({value:h,source:null,stack:null}),o=rb(a,o,c)}else if(Nn||Fc(a,o,c,!1),C=(c&a.childLanes)!==0,Nn||C){if(C=Lt,C!==null&&(h=Qt(C,c),h!==0&&h!==X.retryLane))throw X.retryLane=h,jl(a,h),Wr(C,a,h),Qy;Db(B)||sp(),o=rb(a,o,c)}else Db(B)?(o.flags|=192,o.child=a.child,o=null):(a=X.treeContext,Kt=Pi(B.nextSibling),ar=o,ut=!0,go=null,Oi=!1,a!==null&&ZA(o,a),o=nb(o,h.children),o.flags|=4096);return o}return y?(So(),B=h.fallback,y=o.mode,X=a.child,ue=X.sibling,h=rs(X,{mode:"hidden",children:h.children}),h.subtreeFlags=X.subtreeFlags&65011712,ue!==null?B=rs(ue,B):(B=Cl(B,y,c,null),B.flags|=2),B.return=o,h.return=o,h.sibling=B,o.child=h,Yd(null,h),h=o.child,B=a.child.memoizedState,B===null?B=eb(c):(y=B.cachePool,y!==null?(X=An._currentValue,y=y.parent!==X?{parent:X,pool:X}:y):y=aT(),B={baseLanes:B.baseLanes|c,cachePool:y}),h.memoizedState=B,h.childLanes=tb(a,C,c),o.memoizedState=Zy,Yd(a.child,h)):(_o(o),c=a.child,a=c.sibling,c=rs(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(C=o.deletions,C===null?(o.deletions=[a],o.flags|=16):C.push(a)),o.child=c,o.memoizedState=null,c)}function nb(a,o){return o=Qm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Qm(a,o){return a=oi(22,a,null,o),a.lanes=0,a}function rb(a,o,c){return Dl(o,a.child,null,c),a=nb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function y2(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),yy(a.return,o,c)}function ib(a,o,c,h,y,x){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:x}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=c,C.tailMode=y,C.treeForkCount=x)}function b2(a,o,c){var h=o.pendingProps,y=h.revealOrder,x=h.tail;h=h.children;var C=vn.current,B=(C&2)!==0;if(B?(C=C&1|2,o.flags|=128):C&=1,G(vn,C),or(a,o,h,c),h=ut?Md:0,!B&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&y2(a,c,o);else if(a.tag===19)y2(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&Vm(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),ib(o,!1,y,c,x,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Vm(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}ib(o,!0,c,null,x,h);break;case"together":ib(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function cs(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),To|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Fc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=rs(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=rs(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function ab(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Im(a)))}function lV(a,o,c){switch(o.tag){case 3:Pe(o,o.stateNode.containerInfo),yo(o,An,a.memoizedState.cache),Ol();break;case 27:case 5:Se(o);break;case 4:Pe(o,o.stateNode.containerInfo);break;case 10:yo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Oy(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(_o(o),o.flags|=128,null):(c&o.child.childLanes)!==0?v2(a,o,c):(_o(o),a=cs(a,o,c),a!==null?a.sibling:null);_o(o);break;case 19:var y=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Fc(a,o,c,!1),h=(c&o.childLanes)!==0),y){if(h)return b2(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),G(vn,vn.current),h)break;return null;case 22:return o.lanes=0,d2(a,o,c,o.pendingProps);case 24:yo(o,An,a.memoizedState.cache)}return cs(a,o,c)}function x2(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Nn=!0;else{if(!ab(a,c)&&(o.flags&128)===0)return Nn=!1,lV(a,o,c);Nn=(a.flags&131072)!==0}else Nn=!1,ut&&(o.flags&1048576)!==0&&JA(o,Md,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=kl(o.elementType),o.type=a,typeof a=="function")uy(a)?(h=zl(a,h),o.tag=1,o=p2(null,o,a,h,c)):(o.tag=0,o=Jy(null,o,a,h,c));else{if(a!=null){var y=a.$$typeof;if(y===q){o.tag=11,o=l2(null,o,a,h,c);break e}else if(y===O){o.tag=14,o=c2(null,o,a,h,c);break e}}throw o=ie(a)||a,Error(r(306,o,""))}}return o;case 0:return Jy(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,y=zl(h,o.pendingProps),p2(a,o,h,y,c);case 3:e:{if(Pe(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var x=o.memoizedState;y=x.element,Ay(a,o),qd(o,h,null,c);var C=o.memoizedState;if(h=C.cache,yo(o,An,h),h!==x.cache&&by(o,[An],c,!0),Bd(),h=C.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=g2(a,o,h,c);break e}else if(h!==y){y=Ni(Error(r(424)),o),Dd(y),o=g2(a,o,h,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Kt=Pi(a.firstChild),ar=o,ut=!0,go=null,Oi=!0,c=dT(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ol(),h===y){o=cs(a,o,c);break e}or(a,o,h,c)}o=o.child}return o;case 26:return Xm(a,o),a===null?(c=IN(o.type,null,o.pendingProps,null))?o.memoizedState=c:ut||(c=o.type,a=o.pendingProps,h=hp(ye.current).createElement(c),h[Re]=o,h[ht]=a,lr(h,c,a),Sn(h),o.stateNode=h):o.memoizedState=IN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Se(o),a===null&&ut&&(h=o.stateNode=jN(o.type,o.pendingProps,ye.current),ar=o,Oi=!0,y=Kt,Io(o.type)?(zb=y,Kt=Pi(h.firstChild)):Kt=y),or(a,o,o.pendingProps.children,c),Xm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ut&&((y=h=Kt)&&(h=zV(h,o.type,o.pendingProps,Oi),h!==null?(o.stateNode=h,ar=o,Kt=Pi(h.firstChild),Oi=!1,y=!0):y=!1),y||vo(o)),Se(o),y=o.type,x=o.pendingProps,C=a!==null?a.memoizedProps:null,h=x.children,Rb(y,x)?h=null:C!==null&&Rb(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=Py(a,o,Zz,null,null,c),uf._currentValue=y),Xm(a,o),or(a,o,h,c),o.child;case 6:return a===null&&ut&&((a=c=Kt)&&(c=VV(c,o.pendingProps,Oi),c!==null?(o.stateNode=c,ar=o,Kt=null,a=!0):a=!1),a||vo(o)),null;case 13:return v2(a,o,c);case 4:return Pe(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Dl(o,null,h,c):or(a,o,h,c),o.child;case 11:return l2(a,o,o.type,o.pendingProps,c);case 7:return or(a,o,o.pendingProps,c),o.child;case 8:return or(a,o,o.pendingProps.children,c),o.child;case 12:return or(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,yo(o,o.type,h.value),or(a,o,h.children,c),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Pl(o),y=sr(y),h=h(y),o.flags|=1,or(a,o,h,c),o.child;case 14:return c2(a,o,o.type,o.pendingProps,c);case 15:return u2(a,o,o.type,o.pendingProps,c);case 19:return b2(a,o,c);case 31:return oV(a,o,c);case 22:return d2(a,o,c,o.pendingProps);case 24:return Pl(o),h=sr(An),a===null?(y=_y(),y===null&&(y=Lt,x=xy(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:h,cache:y},Ey(o),yo(o,An,y)):((a.lanes&c)!==0&&(Ay(a,o),qd(o,null,null,c),Bd()),y=a.memoizedState,x=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),yo(o,An,h)):(h=x.cache,yo(o,An,h),h!==y.cache&&by(o,[An],c,!0))),or(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function us(a){a.flags|=4}function sb(a,o,c,h,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(G2())a.flags|=8192;else throw Ml=Mm,Sy}else a.flags&=-16777217}function w2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DN(o))if(G2())a.flags|=8192;else throw Ml=Mm,Sy}function Jm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?io():536870912,a.lanes|=o,nu|=o)}function Wd(a,o){if(!ut)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Gt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function cV(a,o,c){var h=o.pendingProps;switch(my(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ss(An),re(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(qc(o)?us(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gy())),Gt(o),null;case 26:var y=o.type,x=o.memoizedState;return a===null?(us(o),x!==null?(Gt(o),w2(o,x)):(Gt(o),sb(o,y,null,h,c))):x?x!==a.memoizedState?(us(o),Gt(o),w2(o,x)):(Gt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&us(o),Gt(o),sb(o,y,a,h,c)),null;case 27:if(Ae(o),c=ye.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&us(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}a=Y.current,qc(o)?eT(o):(a=jN(y,h,c),o.stateNode=a,us(o))}return Gt(o),null;case 5:if(Ae(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&us(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(x=Y.current,qc(o))eT(o);else{var C=hp(ye.current);switch(x){case 1:x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=C.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?C.createElement(y,{is:h.is}):C.createElement(y)}}x[Re]=o,x[ht]=h;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)x.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=x;e:switch(lr(x,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&us(o)}}return Gt(o),sb(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&us(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=ye.current,qc(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,y=ar,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[Re]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||vN(a.nodeValue,c)),a||vo(o,!0)}else a=hp(a).createTextNode(h),a[Re]=o,o.stateNode=a}return Gt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(h=qc(o),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Re]=o}else Ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),a=!1}else c=gy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ci(o),o):(ci(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Gt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=qc(o),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Re]=o}else Ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),y=!1}else y=gy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ci(o),o):(ci(o),null)}return ci(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Jm(o,o.updateQueue),Gt(o),null);case 4:return re(),a===null&&jb(o.stateNode.containerInfo),Gt(o),null;case 10:return ss(o.type),Gt(o),null;case 19:if(K(vn),h=o.memoizedState,h===null)return Gt(o),null;if(y=(o.flags&128)!==0,x=h.rendering,x===null)if(y)Wd(h,!1);else{if(dn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Vm(a),x!==null){for(o.flags|=128,Wd(h,!1),a=x.updateQueue,o.updateQueue=a,Jm(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)WA(c,a),c=c.sibling;return G(vn,vn.current&1|2),ut&&is(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&Ht()>rp&&(o.flags|=128,y=!0,Wd(h,!1),o.lanes=4194304)}else{if(!y)if(a=Vm(x),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Jm(o,a),Wd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!ut)return Gt(o),null}else 2*Ht()-h.renderingStartTime>rp&&c!==536870912&&(o.flags|=128,y=!0,Wd(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(a=h.last,a!==null?a.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Ht(),a.sibling=null,c=vn.current,G(vn,y?c&1|2:c&1),ut&&is(o,h.treeForkCount),a):(Gt(o),null);case 22:case 23:return ci(o),Cy(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),c=o.updateQueue,c!==null&&Jm(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&K(Rl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ss(An),Gt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function uV(a,o){switch(my(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ss(An),re(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ae(o),null;case 31:if(o.memoizedState!==null){if(ci(o),o.alternate===null)throw Error(r(340));Ol()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ci(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ol()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(vn),null;case 4:return re(),null;case 10:return ss(o.type),null;case 22:case 23:return ci(o),Cy(),a!==null&&K(Rl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ss(An),null;case 25:return null;default:return null}}function _2(a,o){switch(my(o),o.tag){case 3:ss(An),re();break;case 26:case 27:case 5:Ae(o);break;case 4:re();break;case 31:o.memoizedState!==null&&ci(o);break;case 13:ci(o);break;case 19:K(vn);break;case 10:ss(o.type);break;case 22:case 23:ci(o),Cy(),a!==null&&K(Rl);break;case 24:ss(An)}}function Xd(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&a)===a){h=void 0;var x=c.create,C=c.inst;h=x(),C.destroy=h}c=c.next}while(c!==y)}}catch(B){Nt(o,o.return,B)}}function Eo(a,o,c){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&a)===a){var C=h.inst,B=C.destroy;if(B!==void 0){C.destroy=void 0,y=o;var X=c,ue=B;try{ue()}catch(pe){Nt(y,X,pe)}}}h=h.next}while(h!==x)}}catch(pe){Nt(o,o.return,pe)}}function S2(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{hT(o,c)}catch(h){Nt(a,a.return,h)}}}function E2(a,o,c){c.props=zl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){Nt(a,o,h)}}function Qd(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(y){Nt(a,o,y)}}function Ca(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){Nt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Nt(a,o,y)}else c.current=null}function A2(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){Nt(a,a.return,y)}}function ob(a,o,c){try{var h=a.stateNode;PV(h,a.type,c,o),h[ht]=o}catch(y){Nt(a,a.return,y)}}function T2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Io(a.type)||a.tag===4}function lb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||T2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Io(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cb(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gi));else if(h!==4&&(h===27&&Io(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(cb(a,o,c),a=a.sibling;a!==null;)cb(a,o,c),a=a.sibling}function Zm(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&(h===27&&Io(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Zm(a,o,c),a=a.sibling;a!==null;)Zm(a,o,c),a=a.sibling}function N2(a){var o=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);lr(o,h,c),o[Re]=a,o[ht]=c}catch(x){Nt(a,a.return,x)}}var ds=!1,jn=!1,ub=!1,j2=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function dV(a,o){if(a=a.containerInfo,Ib=xp,a=UA(a),ry(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,B=-1,X=-1,ue=0,pe=0,be=a,de=null;t:for(;;){for(var me;be!==c||y!==0&&be.nodeType!==3||(B=C+y),be!==x||h!==0&&be.nodeType!==3||(X=C+h),be.nodeType===3&&(C+=be.nodeValue.length),(me=be.firstChild)!==null;)de=be,be=me;for(;;){if(be===a)break t;if(de===c&&++ue===y&&(B=C),de===x&&++pe===h&&(X=C),(me=be.nextSibling)!==null)break;be=de,de=be.parentNode}be=me}c=B===-1||X===-1?null:{start:B,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pb={focusedElem:a,selectionRange:c},xp=!1,Kn=o;Kn!==null;)if(o=Kn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Kn=a;else for(;Kn!==null;){switch(o=Kn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var De=zl(c.type,y);a=h.getSnapshotBeforeUpdate(De,x),h.__reactInternalSnapshotBeforeUpdate=a}catch(Fe){Nt(c,c.return,Fe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Mb(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Mb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Kn=a;break}Kn=o.return}}function C2(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:hs(a,c),h&4&&Xd(5,c);break;case 1:if(hs(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(C){Nt(c,c.return,C)}else{var y=zl(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Nt(c,c.return,C)}}h&64&&S2(c),h&512&&Qd(c,c.return);break;case 3:if(hs(a,c),h&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{hT(a,o)}catch(C){Nt(c,c.return,C)}}break;case 27:o===null&&h&4&&N2(c);case 26:case 5:hs(a,c),o===null&&h&4&&A2(c),h&512&&Qd(c,c.return);break;case 12:hs(a,c);break;case 31:hs(a,c),h&4&&P2(a,c);break;case 13:hs(a,c),h&4&&R2(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=xV.bind(null,c),UV(a,c))));break;case 22:if(h=c.memoizedState!==null||ds,!h){o=o!==null&&o.memoizedState!==null||jn,y=ds;var x=jn;ds=h,(jn=o)&&!x?ms(a,c,(c.subtreeFlags&8772)!==0):hs(a,c),ds=y,jn=x}break;case 30:break;default:hs(a,c)}}function O2(a){var o=a.alternate;o!==null&&(a.alternate=null,O2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Tc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Zt=null,Hr=!1;function fs(a,o,c){for(c=c.child;c!==null;)I2(a,o,c),c=c.sibling}function I2(a,o,c){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(br,c)}catch{}switch(c.tag){case 26:jn||Ca(c,o),fs(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:jn||Ca(c,o);var h=Zt,y=Hr;Io(c.type)&&(Zt=c.stateNode,Hr=!1),fs(a,o,c),of(c.stateNode),Zt=h,Hr=y;break;case 5:jn||Ca(c,o);case 6:if(h=Zt,y=Hr,Zt=null,fs(a,o,c),Zt=h,Hr=y,Zt!==null)if(Hr)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(c.stateNode)}catch(x){Nt(c,o,x)}else try{Zt.removeChild(c.stateNode)}catch(x){Nt(c,o,x)}break;case 18:Zt!==null&&(Hr?(a=Zt,SN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),uu(a)):SN(Zt,c.stateNode));break;case 4:h=Zt,y=Hr,Zt=c.stateNode.containerInfo,Hr=!0,fs(a,o,c),Zt=h,Hr=y;break;case 0:case 11:case 14:case 15:Eo(2,c,o),jn||Eo(4,c,o),fs(a,o,c);break;case 1:jn||(Ca(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&E2(c,o,h)),fs(a,o,c);break;case 21:fs(a,o,c);break;case 22:jn=(h=jn)||c.memoizedState!==null,fs(a,o,c),jn=h;break;default:fs(a,o,c)}}function P2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{uu(a)}catch(c){Nt(o,o.return,c)}}}function R2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{uu(a)}catch(c){Nt(o,o.return,c)}}function fV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new j2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new j2),o;default:throw Error(r(435,a.tag))}}function ep(a,o){var c=fV(a);o.forEach(function(h){if(!c.has(h)){c.add(h);var y=wV.bind(null,a,h);h.then(y,y)}})}function Kr(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],x=a,C=o,B=C;e:for(;B!==null;){switch(B.tag){case 27:if(Io(B.type)){Zt=B.stateNode,Hr=!1;break e}break;case 5:Zt=B.stateNode,Hr=!1;break e;case 3:case 4:Zt=B.stateNode.containerInfo,Hr=!0;break e}B=B.return}if(Zt===null)throw Error(r(160));I2(x,C,y),Zt=null,Hr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)k2(o,a),o=o.sibling}var Zi=null;function k2(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Kr(o,a),Gr(a),h&4&&(Eo(3,a,a.return),Xd(3,a),Eo(5,a,a.return));break;case 1:Kr(o,a),Gr(a),h&512&&(jn||c===null||Ca(c,c.return)),h&64&&ds&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Zi;if(Kr(o,a),Gr(a),h&512&&(jn||c===null||Ca(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[pa]||x[Re]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),lr(x,h,c),x[Re]=a,Sn(x),h=x;break e;case"link":var C=kN("link","href",y).get(h+(c.href||""));if(C){for(var B=0;B<C.length;B++)if(x=C[B],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(B,1);break t}}x=y.createElement(h),lr(x,h,c),y.head.appendChild(x);break;case"meta":if(C=kN("meta","content",y).get(h+(c.content||""))){for(B=0;B<C.length;B++)if(x=C[B],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(B,1);break t}}x=y.createElement(h),lr(x,h,c),y.head.appendChild(x);break;default:throw Error(r(468,h))}x[Re]=a,Sn(x),h=x}a.stateNode=h}else MN(y,a.type,a.stateNode);else a.stateNode=RN(y,h,a.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?MN(y,a.type,a.stateNode):RN(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&ob(a,a.memoizedProps,c.memoizedProps)}break;case 27:Kr(o,a),Gr(a),h&512&&(jn||c===null||Ca(c,c.return)),c!==null&&h&4&&ob(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Kr(o,a),Gr(a),h&512&&(jn||c===null||Ca(c,c.return)),a.flags&32){y=a.stateNode;try{Fr(y,"")}catch(De){Nt(a,a.return,De)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,ob(a,y,c!==null?c.memoizedProps:y)),h&1024&&(ub=!0);break;case 6:if(Kr(o,a),Gr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(De){Nt(a,a.return,De)}}break;case 3:if(gp=null,y=Zi,Zi=mp(o.containerInfo),Kr(o,a),Zi=y,Gr(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{uu(o.containerInfo)}catch(De){Nt(a,a.return,De)}ub&&(ub=!1,M2(a));break;case 4:h=Zi,Zi=mp(a.stateNode.containerInfo),Kr(o,a),Gr(a),Zi=h;break;case 12:Kr(o,a),Gr(a);break;case 31:Kr(o,a),Gr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ep(a,h)));break;case 13:Kr(o,a),Gr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(np=Ht()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ep(a,h)));break;case 22:y=a.memoizedState!==null;var X=c!==null&&c.memoizedState!==null,ue=ds,pe=jn;if(ds=ue||y,jn=pe||X,Kr(o,a),jn=pe,ds=ue,Gr(a),h&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||X||ds||jn||Vl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){X=c=o;try{if(x=X.stateNode,y)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{B=X.stateNode;var be=X.memoizedProps.style,de=be!=null&&be.hasOwnProperty("display")?be.display:null;B.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(De){Nt(X,X.return,De)}}}else if(o.tag===6){if(c===null){X=o;try{X.stateNode.nodeValue=y?"":X.memoizedProps}catch(De){Nt(X,X.return,De)}}}else if(o.tag===18){if(c===null){X=o;try{var me=X.stateNode;y?EN(me,!0):EN(X.stateNode,!1)}catch(De){Nt(X,X.return,De)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,ep(a,c))));break;case 19:Kr(o,a),Gr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ep(a,h)));break;case 30:break;case 21:break;default:Kr(o,a),Gr(a)}}function Gr(a){var o=a.flags;if(o&2){try{for(var c,h=a.return;h!==null;){if(T2(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=lb(a);Zm(a,x,y);break;case 5:var C=c.stateNode;c.flags&32&&(Fr(C,""),c.flags&=-33);var B=lb(a);Zm(a,B,C);break;case 3:case 4:var X=c.stateNode.containerInfo,ue=lb(a);cb(a,ue,X);break;default:throw Error(r(161))}}catch(pe){Nt(a,a.return,pe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function M2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;M2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function hs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)C2(a,o.alternate,o),o=o.sibling}function Vl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Eo(4,o,o.return),Vl(o);break;case 1:Ca(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&E2(o,o.return,c),Vl(o);break;case 27:of(o.stateNode);case 26:case 5:Ca(o,o.return),Vl(o);break;case 22:o.memoizedState===null&&Vl(o);break;case 30:Vl(o);break;default:Vl(o)}a=a.sibling}}function ms(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=a,x=o,C=x.flags;switch(x.tag){case 0:case 11:case 15:ms(y,x,c),Xd(4,x);break;case 1:if(ms(y,x,c),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ue){Nt(h,h.return,ue)}if(h=x,y=h.updateQueue,y!==null){var B=h.stateNode;try{var X=y.shared.hiddenCallbacks;if(X!==null)for(y.shared.hiddenCallbacks=null,y=0;y<X.length;y++)fT(X[y],B)}catch(ue){Nt(h,h.return,ue)}}c&&C&64&&S2(x),Qd(x,x.return);break;case 27:N2(x);case 26:case 5:ms(y,x,c),c&&h===null&&C&4&&A2(x),Qd(x,x.return);break;case 12:ms(y,x,c);break;case 31:ms(y,x,c),c&&C&4&&P2(y,x);break;case 13:ms(y,x,c),c&&C&4&&R2(y,x);break;case 22:x.memoizedState===null&&ms(y,x,c),Qd(x,x.return);break;case 30:break;default:ms(y,x,c)}o=o.sibling}}function db(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ld(c))}function fb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ld(a))}function ea(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)D2(a,o,c,h),o=o.sibling}function D2(a,o,c,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ea(a,o,c,h),y&2048&&Xd(9,o);break;case 1:ea(a,o,c,h);break;case 3:ea(a,o,c,h),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ld(a)));break;case 12:if(y&2048){ea(a,o,c,h),a=o.stateNode;try{var x=o.memoizedProps,C=x.id,B=x.onPostCommit;typeof B=="function"&&B(C,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(X){Nt(o,o.return,X)}}else ea(a,o,c,h);break;case 31:ea(a,o,c,h);break;case 13:ea(a,o,c,h);break;case 23:break;case 22:x=o.stateNode,C=o.alternate,o.memoizedState!==null?x._visibility&2?ea(a,o,c,h):Jd(a,o):x._visibility&2?ea(a,o,c,h):(x._visibility|=2,Zc(a,o,c,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&db(C,o);break;case 24:ea(a,o,c,h),y&2048&&fb(o.alternate,o);break;default:ea(a,o,c,h)}}function Zc(a,o,c,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,C=o,B=c,X=h,ue=C.flags;switch(C.tag){case 0:case 11:case 15:Zc(x,C,B,X,y),Xd(8,C);break;case 23:break;case 22:var pe=C.stateNode;C.memoizedState!==null?pe._visibility&2?Zc(x,C,B,X,y):Jd(x,C):(pe._visibility|=2,Zc(x,C,B,X,y)),y&&ue&2048&&db(C.alternate,C);break;case 24:Zc(x,C,B,X,y),y&&ue&2048&&fb(C.alternate,C);break;default:Zc(x,C,B,X,y)}o=o.sibling}}function Jd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,y=h.flags;switch(h.tag){case 22:Jd(c,h),y&2048&&db(h.alternate,h);break;case 24:Jd(c,h),y&2048&&fb(h.alternate,h);break;default:Jd(c,h)}o=o.sibling}}var Zd=8192;function eu(a,o,c){if(a.subtreeFlags&Zd)for(a=a.child;a!==null;)L2(a,o,c),a=a.sibling}function L2(a,o,c){switch(a.tag){case 26:eu(a,o,c),a.flags&Zd&&a.memoizedState!==null&&JV(c,Zi,a.memoizedState,a.memoizedProps);break;case 5:eu(a,o,c);break;case 3:case 4:var h=Zi;Zi=mp(a.stateNode.containerInfo),eu(a,o,c),Zi=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Zd,Zd=16777216,eu(a,o,c),Zd=h):eu(a,o,c));break;default:eu(a,o,c)}}function z2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function ef(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Kn=h,U2(h,a)}z2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)V2(a),a=a.sibling}function V2(a){switch(a.tag){case 0:case 11:case 15:ef(a),a.flags&2048&&Eo(9,a,a.return);break;case 3:ef(a);break;case 12:ef(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,tp(a)):ef(a);break;default:ef(a)}}function tp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Kn=h,U2(h,a)}z2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Eo(8,o,o.return),tp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,tp(o));break;default:tp(o)}a=a.sibling}}function U2(a,o){for(;Kn!==null;){var c=Kn;switch(c.tag){case 0:case 11:case 15:Eo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ld(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Kn=h;else e:for(c=a;Kn!==null;){h=Kn;var y=h.sibling,x=h.return;if(O2(h),h===c){Kn=null;break e}if(y!==null){y.return=x,Kn=y;break e}Kn=x}}}var hV={getCacheForType:function(a){var o=sr(An),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return sr(An).controller.signal}},mV=typeof WeakMap=="function"?WeakMap:Map,xt=0,Lt=null,nt=null,at=0,Tt=0,ui=null,Ao=!1,tu=!1,hb=!1,ps=0,dn=0,To=0,Ul=0,mb=0,di=0,nu=0,tf=null,Yr=null,pb=!1,np=0,$2=0,rp=1/0,ip=null,No=null,Mn=0,jo=null,ru=null,gs=0,gb=0,vb=null,B2=null,nf=0,yb=null;function fi(){return(xt&2)!==0&&at!==0?at&-at:W.T!==null?Eb():Q()}function q2(){if(di===0)if((at&536870912)===0||ut){var a=Ki;Ki<<=1,(Ki&3932160)===0&&(Ki=262144),di=a}else di=536870912;return a=li.current,a!==null&&(a.flags|=32),di}function Wr(a,o,c){(a===Lt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(iu(a,0),Co(a,at,di,!1)),je(a,c),((xt&2)===0||a!==Lt)&&(a===Lt&&((xt&2)===0&&(Ul|=c),dn===4&&Co(a,at,di,!1)),Oa(a))}function F2(a,o,c){if((xt&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Or(a,o),y=h?vV(a,o):xb(a,o,!0),x=h;do{if(y===0){tu&&!h&&Co(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!pV(c)){y=xb(a,o,!1),x=!1;continue}if(y===2){if(x=o,a.errorRecoveryDisabledLanes&x)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var B=a;y=tf;var X=B.current.memoizedState.isDehydrated;if(X&&(iu(B,C).flags|=256),C=xb(B,C,!1),C!==2){if(hb&&!X){B.errorRecoveryDisabledLanes|=x,Ul|=x,y=4;break e}x=Yr,Yr=y,x!==null&&(Yr===null?Yr=x:Yr.push.apply(Yr,x))}y=C}if(x=!1,y!==2)continue}}if(y===1){iu(a,0),Co(a,o,0,!0);break}e:{switch(h=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Co(h,o,di,!Ao);break e;case 2:Yr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=np+300-Ht(),10<y)){if(Co(h,o,di,!Ao),Br(h,0,!0)!==0)break e;gs=o,h.timeoutHandle=wN(H2.bind(null,h,c,Yr,ip,pb,o,di,Ul,nu,Ao,x,"Throttled",-0,0),y);break e}H2(h,c,Yr,ip,pb,o,di,Ul,nu,Ao,x,null,-0,0)}}break}while(!0);Oa(a)}function H2(a,o,c,h,y,x,C,B,X,ue,pe,be,de,me){if(a.timeoutHandle=-1,be=o.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gi},L2(o,x,be);var De=(x&62914560)===x?np-Ht():(x&4194048)===x?$2-Ht():0;if(De=ZV(be,De),De!==null){gs=x,a.cancelPendingCommit=De(Z2.bind(null,a,o,x,c,h,y,C,B,X,pe,be,null,de,me)),Co(a,x,C,!ue);return}}Z2(a,o,x,c,h,y,C,B,X)}function pV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],x=y.getSnapshot;y=y.value;try{if(!si(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Co(a,o,c,h){o&=~mb,o&=~Ul,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var y=o;0<y;){var x=31-$t(y),C=1<<x;h[x]=-1,y&=~C}c!==0&&vt(a,c,o)}function ap(){return(xt&6)===0?(rf(0),!1):!0}function bb(){if(nt!==null){if(Tt===0)var a=nt.return;else a=nt,as=Il=null,My(a),Yc=null,Vd=0,a=nt;for(;a!==null;)_2(a.alternate,a),a=a.return;nt=null}}function iu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,MV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),gs=0,bb(),Lt=a,nt=c=rs(a.current,null),at=o,Tt=0,ui=null,Ao=!1,tu=Or(a,o),hb=!1,nu=di=mb=Ul=To=dn=0,Yr=tf=null,pb=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var y=31-$t(h),x=1<<y;o|=a[y],h&=~x}return ps=o,Tm(),c}function K2(a,o){Ze=null,W.H=Gd,o===Gc||o===km?(o=lT(),Tt=3):o===Sy?(o=lT(),Tt=4):Tt=o===Qy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ui=o,nt===null&&(dn=1,Ym(a,Ni(o,a.current)))}function G2(){var a=li.current;return a===null?!0:(at&4194048)===at?Ii===null:(at&62914560)===at||(at&536870912)!==0?a===Ii:!1}function Y2(){var a=W.H;return W.H=Gd,a===null?Gd:a}function W2(){var a=W.A;return W.A=hV,a}function sp(){dn=4,Ao||(at&4194048)!==at&&li.current!==null||(tu=!0),(To&134217727)===0&&(Ul&134217727)===0||Lt===null||Co(Lt,at,di,!1)}function xb(a,o,c){var h=xt;xt|=2;var y=Y2(),x=W2();(Lt!==a||at!==o)&&(ip=null,iu(a,o)),o=!1;var C=dn;e:do try{if(Tt!==0&&nt!==null){var B=nt,X=ui;switch(Tt){case 8:bb(),C=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(o=!0);var ue=Tt;if(Tt=0,ui=null,au(a,B,X,ue),c&&tu){C=0;break e}break;default:ue=Tt,Tt=0,ui=null,au(a,B,X,ue)}}gV(),C=dn;break}catch(pe){K2(a,pe)}while(!0);return o&&a.shellSuspendCounter++,as=Il=null,xt=h,W.H=y,W.A=x,nt===null&&(Lt=null,at=0,Tm()),C}function gV(){for(;nt!==null;)X2(nt)}function vV(a,o){var c=xt;xt|=2;var h=Y2(),y=W2();Lt!==a||at!==o?(ip=null,rp=Ht()+500,iu(a,o)):tu=Or(a,o);e:do try{if(Tt!==0&&nt!==null){o=nt;var x=ui;t:switch(Tt){case 1:Tt=0,ui=null,au(a,o,x,1);break;case 2:case 9:if(sT(x)){Tt=0,ui=null,Q2(o);break}o=function(){Tt!==2&&Tt!==9||Lt!==a||(Tt=7),Oa(a)},x.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:sT(x)?(Tt=0,ui=null,Q2(o)):(Tt=0,ui=null,au(a,o,x,7));break;case 5:var C=null;switch(nt.tag){case 26:C=nt.memoizedState;case 5:case 27:var B=nt;if(C?DN(C):B.stateNode.complete){Tt=0,ui=null;var X=B.sibling;if(X!==null)nt=X;else{var ue=B.return;ue!==null?(nt=ue,op(ue)):nt=null}break t}}Tt=0,ui=null,au(a,o,x,5);break;case 6:Tt=0,ui=null,au(a,o,x,6);break;case 8:bb(),dn=6;break e;default:throw Error(r(462))}}yV();break}catch(pe){K2(a,pe)}while(!0);return as=Il=null,W.H=h,W.A=y,xt=c,nt!==null?0:(Lt=null,at=0,Tm(),dn)}function yV(){for(;nt!==null&&!Qa();)X2(nt)}function X2(a){var o=x2(a.alternate,a,ps);a.memoizedProps=a.pendingProps,o===null?op(a):nt=o}function Q2(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=m2(c,o,o.pendingProps,o.type,void 0,at);break;case 11:o=m2(c,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:My(o);default:_2(c,o),o=nt=WA(o,ps),o=x2(c,o,ps)}a.memoizedProps=a.pendingProps,o===null?op(a):nt=o}function au(a,o,c,h){as=Il=null,My(o),Yc=null,Vd=0;var y=o.return;try{if(sV(a,y,o,c,at)){dn=1,Ym(a,Ni(c,a.current)),nt=null;return}}catch(x){if(y!==null)throw nt=y,x;dn=1,Ym(a,Ni(c,a.current)),nt=null;return}o.flags&32768?(ut||h===1?a=!0:tu||(at&536870912)!==0?a=!1:(Ao=a=!0,(h===2||h===9||h===3||h===6)&&(h=li.current,h!==null&&h.tag===13&&(h.flags|=16384))),J2(o,a)):op(o)}function op(a){var o=a;do{if((o.flags&32768)!==0){J2(o,Ao);return}a=o.return;var c=cV(o.alternate,o,ps);if(c!==null){nt=c;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=a}while(o!==null);dn===0&&(dn=5)}function J2(a,o){do{var c=uV(a.alternate,a);if(c!==null){c.flags&=32767,nt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){nt=a;return}nt=a=c}while(a!==null);dn=6,nt=null}function Z2(a,o,c,h,y,x,C,B,X){a.cancelPendingCommit=null;do lp();while(Mn!==0);if((xt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=ly,tt(a,c,x,C,B,X),a===Lt&&(nt=Lt=null,at=0),ru=o,jo=a,gs=c,gb=x,vb=y,B2=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,_V(xi,function(){return iN(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,y=H.p,H.p=2,C=xt,xt|=4;try{dV(a,o,c)}finally{xt=C,H.p=y,W.T=h}}Mn=1,eN(),tN(),nN()}}function eN(){if(Mn===1){Mn=0;var a=jo,o=ru,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var h=H.p;H.p=2;var y=xt;xt|=4;try{k2(o,a);var x=Pb,C=UA(a.containerInfo),B=x.focusedElem,X=x.selectionRange;if(C!==B&&B&&B.ownerDocument&&VA(B.ownerDocument.documentElement,B)){if(X!==null&&ry(B)){var ue=X.start,pe=X.end;if(pe===void 0&&(pe=ue),"selectionStart"in B)B.selectionStart=ue,B.selectionEnd=Math.min(pe,B.value.length);else{var be=B.ownerDocument||document,de=be&&be.defaultView||window;if(de.getSelection){var me=de.getSelection(),De=B.textContent.length,Fe=Math.min(X.start,De),kt=X.end===void 0?Fe:Math.min(X.end,De);!me.extend&&Fe>kt&&(C=kt,kt=Fe,Fe=C);var ne=zA(B,Fe),Z=zA(B,kt);if(ne&&Z&&(me.rangeCount!==1||me.anchorNode!==ne.node||me.anchorOffset!==ne.offset||me.focusNode!==Z.node||me.focusOffset!==Z.offset)){var le=be.createRange();le.setStart(ne.node,ne.offset),me.removeAllRanges(),Fe>kt?(me.addRange(le),me.extend(Z.node,Z.offset)):(le.setEnd(Z.node,Z.offset),me.addRange(le))}}}}for(be=[],me=B;me=me.parentNode;)me.nodeType===1&&be.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<be.length;B++){var ve=be[B];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}xp=!!Ib,Pb=Ib=null}finally{xt=y,H.p=h,W.T=c}}a.current=o,Mn=2}}function tN(){if(Mn===2){Mn=0;var a=jo,o=ru,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var h=H.p;H.p=2;var y=xt;xt|=4;try{C2(a,o.alternate,o)}finally{xt=y,H.p=h,W.T=c}}Mn=3}}function nN(){if(Mn===4||Mn===3){Mn=0,fa();var a=jo,o=ru,c=gs,h=B2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Mn=5:(Mn=0,ru=jo=null,rN(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(No=null),ri(c),o=o.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(br,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,y=H.p,H.p=2,W.T=null;try{for(var x=a.onRecoverableError,C=0;C<h.length;C++){var B=h[C];x(B.value,{componentStack:B.stack})}}finally{W.T=o,H.p=y}}(gs&3)!==0&&lp(),Oa(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===yb?nf++:(nf=0,yb=a):nf=0,rf(0)}}function rN(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Ld(o)))}function lp(){return eN(),tN(),nN(),iN()}function iN(){if(Mn!==5)return!1;var a=jo,o=gb;gb=0;var c=ri(gs),h=W.T,y=H.p;try{H.p=32>c?32:c,W.T=null,c=vb,vb=null;var x=jo,C=gs;if(Mn=0,ru=jo=null,gs=0,(xt&6)!==0)throw Error(r(331));var B=xt;if(xt|=4,V2(x.current),D2(x,x.current,C,c),xt=B,rf(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(br,x)}catch{}return!0}finally{H.p=y,W.T=h,rN(a,o)}}function aN(a,o,c){o=Ni(c,o),o=Xy(a.stateNode,o,2),a=wo(a,o,2),a!==null&&(je(a,2),Oa(a))}function Nt(a,o,c){if(a.tag===3)aN(a,a,c);else for(;o!==null;){if(o.tag===3){aN(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(No===null||!No.has(h))){a=Ni(c,a),c=s2(2),h=wo(o,c,2),h!==null&&(o2(c,h,o,a),je(h,2),Oa(h));break}}o=o.return}}function wb(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new mV;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(c)||(hb=!0,y.add(c),a=bV.bind(null,a,o,c),o.then(a,a))}function bV(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Lt===a&&(at&c)===c&&(dn===4||dn===3&&(at&62914560)===at&&300>Ht()-np?(xt&2)===0&&iu(a,0):mb|=c,nu===at&&(nu=0)),Oa(a)}function sN(a,o){o===0&&(o=io()),a=jl(a,o),a!==null&&(je(a,o),Oa(a))}function xV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),sN(a,c)}function wV(a,o){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),sN(a,c)}function _V(a,o){return Ot(a,o)}var cp=null,su=null,_b=!1,up=!1,Sb=!1,Oo=0;function Oa(a){a!==su&&a.next===null&&(su===null?cp=su=a:su=su.next=a),up=!0,_b||(_b=!0,EV())}function rf(a,o){if(!Sb&&up){Sb=!0;do for(var c=!1,h=cp;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var C=h.suspendedLanes,B=h.pingedLanes;x=(1<<31-$t(42|a)+1)-1,x&=y&~(C&~B),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,uN(h,x))}else x=at,x=Br(h,h===Lt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Or(h,x)||(c=!0,uN(h,x));h=h.next}while(c);Sb=!1}}function SV(){oN()}function oN(){up=_b=!1;var a=0;Oo!==0&&kV()&&(a=Oo);for(var o=Ht(),c=null,h=cp;h!==null;){var y=h.next,x=lN(h,o);x===0?(h.next=null,c===null?cp=y:c.next=y,y===null&&(su=c)):(c=h,(a!==0||(x&3)!==0)&&(up=!0)),h=y}Mn!==0&&Mn!==5||rf(a),Oo!==0&&(Oo=0)}function lN(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var C=31-$t(x),B=1<<C,X=y[C];X===-1?((B&c)===0||(B&h)!==0)&&(y[C]=ro(B,o)):X<=o&&(a.expiredLanes|=B),x&=~B}if(o=Lt,c=at,c=Br(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===o&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Ur(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Or(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&Ur(h),ri(c)){case 2:case 8:c=bi;break;case 32:c=xi;break;case 268435456:c=ha;break;default:c=xi}return h=cN.bind(null,a),c=Ot(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&Ur(h),a.callbackPriority=2,a.callbackNode=null,2}function cN(a,o){if(Mn!==0&&Mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(lp()&&a.callbackNode!==c)return null;var h=at;return h=Br(a,a===Lt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(F2(a,h,o),lN(a,Ht()),a.callbackNode!=null&&a.callbackNode===c?cN.bind(null,a):null)}function uN(a,o){if(lp())return null;F2(a,o,!0)}function EV(){DV(function(){(xt&6)!==0?Ot(nr,SV):oN()})}function Eb(){if(Oo===0){var a=Hc;a===0&&(a=xr,xr<<=1,(xr&261888)===0&&(xr=256)),Oo=a}return Oo}function dN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Oc(""+a)}function fN(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function AV(a,o,c,h,y){if(o==="submit"&&c&&c.stateNode===y){var x=dN((y[ht]||null).action),C=h.submitter;C&&(o=(o=C[ht]||null)?dN(o.formAction):C.getAttribute("formAction"),o!==null&&(x=o,C=null));var B=new Sa("action","action",null,h,y);a.push({event:B,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Oo!==0){var X=C?fN(y,C):new FormData(y);Fy(c,{pending:!0,data:X,method:y.method,action:x},null,X)}}else typeof x=="function"&&(B.preventDefault(),X=C?fN(y,C):new FormData(y),Fy(c,{pending:!0,data:X,method:y.method,action:x},x,X))},currentTarget:y}]})}}for(var Ab=0;Ab<oy.length;Ab++){var Tb=oy[Ab],TV=Tb.toLowerCase(),NV=Tb[0].toUpperCase()+Tb.slice(1);Ji(TV,"on"+NV)}Ji(qA,"onAnimationEnd"),Ji(FA,"onAnimationIteration"),Ji(HA,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(qz,"onTransitionRun"),Ji(Fz,"onTransitionStart"),Ji(Hz,"onTransitionCancel"),Ji(KA,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(af));function hN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var C=h.length-1;0<=C;C--){var B=h[C],X=B.instance,ue=B.currentTarget;if(B=B.listener,X!==x&&y.isPropagationStopped())break e;x=B,y.currentTarget=ue;try{x(y)}catch(pe){Am(pe)}y.currentTarget=null,x=X}else for(C=0;C<h.length;C++){if(B=h[C],X=B.instance,ue=B.currentTarget,B=B.listener,X!==x&&y.isPropagationStopped())break e;x=B,y.currentTarget=ue;try{x(y)}catch(pe){Am(pe)}y.currentTarget=null,x=X}}}}function rt(a,o){var c=o[yt];c===void 0&&(c=o[yt]=new Set);var h=a+"__bubble";c.has(h)||(mN(o,a,2,!1),c.add(h))}function Nb(a,o,c){var h=0;o&&(h|=4),mN(c,a,h,o)}var dp="_reactListening"+Math.random().toString(36).slice(2);function jb(a){if(!a[dp]){a[dp]=!0,gd.forEach(function(c){c!=="selectionchange"&&(jV.has(c)||Nb(c,!1,a),Nb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[dp]||(o[dp]=!0,Nb("selectionchange",!1,o))}}function mN(a,o,c,h){switch(qN(o)){case 2:var y=n9;break;case 8:y=r9;break;default:y=qb}c=y.bind(null,o,c,a),y=void 0,!xl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function Cb(a,o,c,h,y){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var B=h.stateNode.containerInfo;if(B===y)break;if(C===4)for(C=h.return;C!==null;){var X=C.tag;if((X===3||X===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;B!==null;){if(C=ga(B),C===null)return;if(X=C.tag,X===5||X===6||X===26||X===27){h=x=C;continue e}B=B.parentNode}}h=h.return}uo(function(){var ue=x,pe=Si(c),be=[];e:{var de=GA.get(a);if(de!==void 0){var me=Sa,De=a;switch(a){case"keypress":if(_l(c)===0)break e;case"keydown":case"keyup":me=_m;break;case"focusin":De="focus",me=El;break;case"focusout":De="blur",me=El;break;case"beforeblur":case"afterblur":me=El;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=T;break;case qA:case FA:case HA:me=pm;break;case KA:me=F;break;case"scroll":case"scrollend":me=jd;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ns;break;case"toggle":case"beforetoggle":me=Je}var Fe=(o&4)!==0,kt=!Fe&&(a==="scroll"||a==="scrollend"),ne=Fe?de!==null?de+"Capture":null:de;Fe=[];for(var Z=ue,le;Z!==null;){var ve=Z;if(le=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||le===null||ne===null||(ve=Yi(Z,ne),ve!=null&&Fe.push(sf(Z,ve,le))),kt)break;Z=Z.return}0<Fe.length&&(de=new me(de,De,null,c,pe),be.push({event:de,listeners:Fe}))}}if((o&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",de&&c!==Ad&&(De=c.relatedTarget||c.fromElement)&&(ga(De)||De[$e]))break e;if((me||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,me?(De=c.relatedTarget||c.toElement,me=ue,De=De?ga(De):null,De!==null&&(kt=s(De),Fe=De.tag,De!==kt||Fe!==5&&Fe!==27&&Fe!==6)&&(De=null)):(me=null,De=ue),me!==De)){if(Fe=Cd,ve="onMouseLeave",ne="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(Fe=ns,ve="onPointerLeave",ne="onPointerEnter",Z="pointer"),kt=me==null?de:ii(me),le=De==null?de:ii(De),de=new Fe(ve,Z+"leave",me,c,pe),de.target=kt,de.relatedTarget=le,ve=null,ga(pe)===ue&&(Fe=new Fe(ne,Z+"enter",De,c,pe),Fe.target=le,Fe.relatedTarget=kt,ve=Fe),kt=ve,me&&De)t:{for(Fe=CV,ne=me,Z=De,le=0,ve=ne;ve;ve=Fe(ve))le++;ve=0;for(var Be=Z;Be;Be=Fe(Be))ve++;for(;0<le-ve;)ne=Fe(ne),le--;for(;0<ve-le;)Z=Fe(Z),ve--;for(;le--;){if(ne===Z||Z!==null&&ne===Z.alternate){Fe=ne;break t}ne=Fe(ne),Z=Fe(Z)}Fe=null}else Fe=null;me!==null&&pN(be,de,me,Fe,!1),De!==null&&kt!==null&&pN(be,kt,De,Fe,!0)}}e:{if(de=ue?ii(ue):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var mt=PA;else if(OA(de))if(RA)mt=Uz;else{mt=zz;var Ue=Lz}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&Cc(ue.elementType)&&(mt=PA):mt=Vz;if(mt&&(mt=mt(a,ue))){IA(be,mt,c,pe);break e}Ue&&Ue(a,de,ue),a==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&_d(de,"number",de.value)}switch(Ue=ue?ii(ue):window,a){case"focusin":(OA(Ue)||Ue.contentEditable==="true")&&(Lc=Ue,iy=ue,kd=null);break;case"focusout":kd=iy=Lc=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,$A(be,c,pe);break;case"selectionchange":if(Bz)break;case"keydown":case"keyup":$A(be,c,pe)}var et;if(bt)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Dc?Al(a,c)&&(st="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(st="onCompositionStart");st&&(Ta&&c.locale!=="ko"&&(Dc||st!=="onCompositionStart"?st==="onCompositionEnd"&&Dc&&(et=Nd()):(_a=pe,Td="value"in _a?_a.value:_a.textContent,Dc=!0)),Ue=fp(ue,st),0<Ue.length&&(st=new Aa(st,a,null,c,pe),be.push({event:st,listeners:Ue}),et?st.data=et:(et=Mc(c),et!==null&&(st.data=et)))),(et=Ai?Rz(a,c):kz(a,c))&&(st=fp(ue,"onBeforeInput"),0<st.length&&(Ue=new Aa("onBeforeInput","beforeinput",null,c,pe),be.push({event:Ue,listeners:st}),Ue.data=et)),AV(be,a,ue,c,pe)}hN(be,o)})}function sf(a,o,c){return{instance:a,listener:o,currentTarget:c}}function fp(a,o){for(var c=o+"Capture",h=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Yi(a,c),y!=null&&h.unshift(sf(a,y,x)),y=Yi(a,o),y!=null&&h.push(sf(a,y,x))),a.tag===3)return h;a=a.return}return[]}function CV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function pN(a,o,c,h,y){for(var x=o._reactName,C=[];c!==null&&c!==h;){var B=c,X=B.alternate,ue=B.stateNode;if(B=B.tag,X!==null&&X===h)break;B!==5&&B!==26&&B!==27||ue===null||(X=ue,y?(ue=Yi(c,x),ue!=null&&C.unshift(sf(c,ue,X))):y||(ue=Yi(c,x),ue!=null&&C.push(sf(c,ue,X)))),c=c.return}C.length!==0&&a.push({event:o,listeners:C})}var OV=/\r\n?/g,IV=/\u0000|\uFFFD/g;function gN(a){return(typeof a=="string"?a:""+a).replace(OV,`
`).replace(IV,"")}function vN(a,o){return o=gN(o),gN(a)===o}function Rt(a,o,c,h,y,x){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Fr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Fr(a,""+h);break;case"className":ai(a,"class",h);break;case"tabIndex":ai(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(a,c,h);break;case"style":Ed(a,h,x);break;case"data":if(o!=="object"){ai(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Oc(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&Rt(a,o,"name",y.name,y,null),Rt(a,o,"formEncType",y.formEncType,y,null),Rt(a,o,"formMethod",y.formMethod,y,null),Rt(a,o,"formTarget",y.formTarget,y,null)):(Rt(a,o,"encType",y.encType,y,null),Rt(a,o,"method",y.method,y,null),Rt(a,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Oc(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=Gi);break;case"onScroll":h!=null&&rt("scroll",a);break;case"onScrollEnd":h!=null&&rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Oc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":rt("beforetoggle",a),rt("toggle",a),Nc(a,"popover",h);break;case"xlinkActuate":En(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":En(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":En(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":En(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":En(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":En(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":En(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":En(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":En(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Nc(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=fm.get(c)||c,Nc(a,c,h))}}function Ob(a,o,c,h,y,x){switch(c){case"style":Ed(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?Fr(a,h):(typeof h=="number"||typeof h=="bigint")&&Fr(a,""+h);break;case"onScroll":h!=null&&rt("scroll",a);break;case"onScrollEnd":h!=null&&rt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=a[ht]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,y);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Nc(a,c,h)}}}function lr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",a),rt("load",a);var h=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var C=c[x];if(C!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,x,C,c,null)}}y&&Rt(a,o,"srcSet",c.srcSet,c,null),h&&Rt(a,o,"src",c.src,c,null);return;case"input":rt("invalid",a);var B=x=C=y=null,X=null,ue=null;for(h in c)if(c.hasOwnProperty(h)){var pe=c[h];if(pe!=null)switch(h){case"name":y=pe;break;case"type":C=pe;break;case"checked":X=pe;break;case"defaultChecked":ue=pe;break;case"value":x=pe;break;case"defaultValue":B=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,o));break;default:Rt(a,o,h,pe,c,null)}}cm(a,x,B,X,ue,C,y,!1);return;case"select":rt("invalid",a),h=C=x=null;for(y in c)if(c.hasOwnProperty(y)&&(B=c[y],B!=null))switch(y){case"value":x=B;break;case"defaultValue":C=B;break;case"multiple":h=B;default:Rt(a,o,y,B,c,null)}o=x,c=C,a.multiple=!!h,o!=null?so(a,!!h,o,!1):c!=null&&so(a,!!h,c,!0);return;case"textarea":rt("invalid",a),x=y=h=null;for(C in c)if(c.hasOwnProperty(C)&&(B=c[C],B!=null))switch(C){case"value":h=B;break;case"defaultValue":y=B;break;case"children":x=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Rt(a,o,C,B,c,null)}oo(a,h,y,x);return;case"option":for(X in c)c.hasOwnProperty(X)&&(h=c[X],h!=null)&&(X==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":Rt(a,o,X,h,c,null));return;case"dialog":rt("beforetoggle",a),rt("toggle",a),rt("cancel",a),rt("close",a);break;case"iframe":case"object":rt("load",a);break;case"video":case"audio":for(h=0;h<af.length;h++)rt(af[h],a);break;case"image":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"embed":case"source":case"link":rt("error",a),rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(h=c[ue],h!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,ue,h,c,null)}return;default:if(Cc(o)){for(pe in c)c.hasOwnProperty(pe)&&(h=c[pe],h!==void 0&&Ob(a,o,pe,h,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(h=c[B],h!=null&&Rt(a,o,B,h,c,null))}function PV(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,C=null,B=null,X=null,ue=null,pe=null;for(me in c){var be=c[me];if(c.hasOwnProperty(me)&&be!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":X=be;default:h.hasOwnProperty(me)||Rt(a,o,me,null,h,be)}}for(var de in h){var me=h[de];if(be=c[de],h.hasOwnProperty(de)&&(me!=null||be!=null))switch(de){case"type":x=me;break;case"name":y=me;break;case"checked":ue=me;break;case"defaultChecked":pe=me;break;case"value":C=me;break;case"defaultValue":B=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==be&&Rt(a,o,de,me,h,be)}}jc(a,C,B,X,ue,pe,x,y);return;case"select":me=C=B=de=null;for(x in c)if(X=c[x],c.hasOwnProperty(x)&&X!=null)switch(x){case"value":break;case"multiple":me=X;default:h.hasOwnProperty(x)||Rt(a,o,x,null,h,X)}for(y in h)if(x=h[y],X=c[y],h.hasOwnProperty(y)&&(x!=null||X!=null))switch(y){case"value":de=x;break;case"defaultValue":B=x;break;case"multiple":C=x;default:x!==X&&Rt(a,o,y,x,h,X)}o=B,c=C,h=me,de!=null?so(a,!!c,de,!1):!!h!=!!c&&(o!=null?so(a,!!c,o,!0):so(a,!!c,c?[]:"",!1));return;case"textarea":me=de=null;for(B in c)if(y=c[B],c.hasOwnProperty(B)&&y!=null&&!h.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Rt(a,o,B,null,h,y)}for(C in h)if(y=h[C],x=c[C],h.hasOwnProperty(C)&&(y!=null||x!=null))switch(C){case"value":de=y;break;case"defaultValue":me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&Rt(a,o,C,y,h,x)}um(a,de,me);return;case"option":for(var De in c)de=c[De],c.hasOwnProperty(De)&&de!=null&&!h.hasOwnProperty(De)&&(De==="selected"?a.selected=!1:Rt(a,o,De,null,h,de));for(X in h)de=h[X],me=c[X],h.hasOwnProperty(X)&&de!==me&&(de!=null||me!=null)&&(X==="selected"?a.selected=de&&typeof de!="function"&&typeof de!="symbol":Rt(a,o,X,de,h,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in c)de=c[Fe],c.hasOwnProperty(Fe)&&de!=null&&!h.hasOwnProperty(Fe)&&Rt(a,o,Fe,null,h,de);for(ue in h)if(de=h[ue],me=c[ue],h.hasOwnProperty(ue)&&de!==me&&(de!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Rt(a,o,ue,de,h,me)}return;default:if(Cc(o)){for(var kt in c)de=c[kt],c.hasOwnProperty(kt)&&de!==void 0&&!h.hasOwnProperty(kt)&&Ob(a,o,kt,void 0,h,de);for(pe in h)de=h[pe],me=c[pe],!h.hasOwnProperty(pe)||de===me||de===void 0&&me===void 0||Ob(a,o,pe,de,h,me);return}}for(var ne in c)de=c[ne],c.hasOwnProperty(ne)&&de!=null&&!h.hasOwnProperty(ne)&&Rt(a,o,ne,null,h,de);for(be in h)de=h[be],me=c[be],!h.hasOwnProperty(be)||de===me||de==null&&me==null||Rt(a,o,be,de,h,me)}function yN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],x=y.transferSize,C=y.initiatorType,B=y.duration;if(x&&B&&yN(C)){for(C=0,B=y.responseEnd,h+=1;h<c.length;h++){var X=c[h],ue=X.startTime;if(ue>B)break;var pe=X.transferSize,be=X.initiatorType;pe&&yN(be)&&(X=X.responseEnd,C+=pe*(X<B?1:(B-ue)/(X-ue)))}if(--h,o+=8*(x+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ib=null,Pb=null;function hp(a){return a.nodeType===9?a:a.ownerDocument}function bN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Rb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kb=null;function kV(){var a=window.event;return a&&a.type==="popstate"?a===kb?!1:(kb=a,!0):(kb=null,!1)}var wN=typeof setTimeout=="function"?setTimeout:void 0,MV=typeof clearTimeout=="function"?clearTimeout:void 0,_N=typeof Promise=="function"?Promise:void 0,DV=typeof queueMicrotask=="function"?queueMicrotask:typeof _N<"u"?function(a){return _N.resolve(null).then(a).catch(LV)}:wN;function LV(a){setTimeout(function(){throw a})}function Io(a){return a==="head"}function SN(a,o){var c=o,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(y),uu(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")of(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,of(c);for(var x=c.firstChild;x;){var C=x.nextSibling,B=x.nodeName;x[pa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=C}}else c==="body"&&of(a.ownerDocument.body);c=y}while(c);uu(o)}function EN(a,o){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function Mb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Mb(c),Tc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function zV(a,o,c,h){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[pa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Pi(a.nextSibling),a===null)break}return null}function VV(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Pi(a.nextSibling),a===null))return null;return a}function AN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Pi(a.nextSibling),a===null))return null;return a}function Db(a){return a.data==="$?"||a.data==="$~"}function Lb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function UV(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Pi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var zb=null;function TN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Pi(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function NN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function jN(a,o,c){switch(o=hp(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function of(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Tc(a)}var Ri=new Map,CN=new Set;function mp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var vs=H.d;H.d={f:$V,r:BV,D:qV,C:FV,L:HV,m:KV,X:YV,S:GV,M:WV};function $V(){var a=vs.f(),o=ap();return a||o}function BV(a){var o=_i(a);o!==null&&o.tag===5&&o.type==="form"?KT(o):vs.r(a)}var ou=typeof document>"u"?null:document;function ON(a,o,c){var h=ou;if(h&&typeof o=="string"&&o){var y=qr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),CN.has(y)||(CN.add(y),a={rel:a,crossOrigin:c,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),lr(o,"link",a),Sn(o),h.head.appendChild(o)))}}function qV(a){vs.D(a),ON("dns-prefetch",a,null)}function FV(a,o){vs.C(a,o),ON("preconnect",a,o)}function HV(a,o,c){vs.L(a,o,c);var h=ou;if(h&&a&&o){var y='link[rel="preload"][as="'+qr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+qr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+qr(c.imageSizes)+'"]')):y+='[href="'+qr(a)+'"]';var x=y;switch(o){case"style":x=lu(a);break;case"script":x=cu(a)}Ri.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Ri.set(x,a),h.querySelector(y)!==null||o==="style"&&h.querySelector(lf(x))||o==="script"&&h.querySelector(cf(x))||(o=h.createElement("link"),lr(o,"link",a),Sn(o),h.head.appendChild(o)))}}function KV(a,o){vs.m(a,o);var c=ou;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+qr(h)+'"][href="'+qr(a)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=cu(a)}if(!Ri.has(x)&&(a=g({rel:"modulepreload",href:a},o),Ri.set(x,a),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(cf(x)))return}h=c.createElement("link"),lr(h,"link",a),Sn(h),c.head.appendChild(h)}}}function GV(a,o,c){vs.S(a,o,c);var h=ou;if(h&&a){var y=va(h).hoistableStyles,x=lu(a);o=o||"default";var C=y.get(x);if(!C){var B={loading:0,preload:null};if(C=h.querySelector(lf(x)))B.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Ri.get(x))&&Vb(a,c);var X=C=h.createElement("link");Sn(X),lr(X,"link",a),X._p=new Promise(function(ue,pe){X.onload=ue,X.onerror=pe}),X.addEventListener("load",function(){B.loading|=1}),X.addEventListener("error",function(){B.loading|=2}),B.loading|=4,pp(C,o,h)}C={type:"stylesheet",instance:C,count:1,state:B},y.set(x,C)}}}function YV(a,o){vs.X(a,o);var c=ou;if(c&&a){var h=va(c).hoistableScripts,y=cu(a),x=h.get(y);x||(x=c.querySelector(cf(y)),x||(a=g({src:a,async:!0},o),(o=Ri.get(y))&&Ub(a,o),x=c.createElement("script"),Sn(x),lr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function WV(a,o){vs.M(a,o);var c=ou;if(c&&a){var h=va(c).hoistableScripts,y=cu(a),x=h.get(y);x||(x=c.querySelector(cf(y)),x||(a=g({src:a,async:!0,type:"module"},o),(o=Ri.get(y))&&Ub(a,o),x=c.createElement("script"),Sn(x),lr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function IN(a,o,c,h){var y=(y=ye.current)?mp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=lu(c.href),c=va(y).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=lu(c.href);var x=va(y).hoistableStyles,C=x.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,C),(x=y.querySelector(lf(a)))&&!x._p&&(C.instance=x,C.state.loading=5),Ri.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ri.set(a,c),x||XV(y,a,c,C.state))),o&&h===null)throw Error(r(528,""));return C}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cu(c),c=va(y).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function lu(a){return'href="'+qr(a)+'"'}function lf(a){return'link[rel="stylesheet"]['+a+"]"}function PN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function XV(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),lr(o,"link",c),Sn(o),a.head.appendChild(o))}function cu(a){return'[src="'+qr(a)+'"]'}function cf(a){return"script[async]"+a}function RN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+qr(c.href)+'"]');if(h)return o.instance=h,Sn(h),h;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Sn(h),lr(h,"style",y),pp(h,c.precedence,a),o.instance=h;case"stylesheet":y=lu(c.href);var x=a.querySelector(lf(y));if(x)return o.state.loading|=4,o.instance=x,Sn(x),x;h=PN(c),(y=Ri.get(y))&&Vb(h,y),x=(a.ownerDocument||a).createElement("link"),Sn(x);var C=x;return C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),lr(x,"link",h),o.state.loading|=4,pp(x,c.precedence,a),o.instance=x;case"script":return x=cu(c.src),(y=a.querySelector(cf(x)))?(o.instance=y,Sn(y),y):(h=c,(y=Ri.get(x))&&(h=g({},c),Ub(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),Sn(y),lr(y,"link",h),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,pp(h,c.precedence,a));return o.instance}function pp(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,C=0;C<h.length;C++){var B=h[C];if(B.dataset.precedence===o)x=B;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Vb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ub(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var gp=null;function kN(a,o,c){if(gp===null){var h=new Map,y=gp=new Map;y.set(c,h)}else y=gp,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[pa]||x[Re]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(o)||"";C=a+C;var B=h.get(C);B?B.push(x):h.set(C,[x])}}return h}function MN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function QV(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function DN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function JV(a,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=lu(h.href),x=o.querySelector(lf(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=vp.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,Sn(x);return}x=o.ownerDocument||o,h=PN(h),(y=Ri.get(y))&&Vb(h,y),x=x.createElement("link"),Sn(x);var C=x;C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),lr(x,"link",h),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=vp.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var $b=0;function ZV(a,o){return a.stylesheets&&a.count===0&&bp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&bp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&$b===0&&($b=62500*RV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&bp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>$b?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function vp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yp=null;function bp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yp=new Map,o.forEach(e9,a),yp=null,vp.call(a))}function e9(a,o){if(!(o.state.loading&4)){var c=yp.get(a);if(c)var h=c.get(null);else{c=new Map,yp.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var C=y[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),h=C)}h&&c.set(null,h)}y=o.instance,C=y.getAttribute("data-precedence"),x=c.get(C)||h,x===h&&c.set(null,y),c.set(C,y),this.count++,h=vp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var uf={$$typeof:U,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function t9(a,o,c,h,y,x,C,B,X){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function LN(a,o,c,h,y,x,C,B,X,ue,pe,be){return a=new t9(a,o,c,C,X,ue,pe,be,B),o=1,x===!0&&(o|=24),x=oi(3,null,null,o),a.current=x,x.stateNode=a,o=xy(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:o},Ey(x),a}function zN(a){return a?(a=Uc,a):Uc}function VN(a,o,c,h,y,x){y=zN(y),h.context===null?h.context=y:h.pendingContext=y,h=xo(o),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=wo(a,h,o),c!==null&&(Wr(c,a,o),$d(c,a,o))}function UN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function Bb(a,o){UN(a,o),(a=a.alternate)&&UN(a,o)}function $N(a){if(a.tag===13||a.tag===31){var o=jl(a,67108864);o!==null&&Wr(o,a,67108864),Bb(a,67108864)}}function BN(a){if(a.tag===13||a.tag===31){var o=fi();o=ni(o);var c=jl(a,o);c!==null&&Wr(c,a,o),Bb(a,o)}}var xp=!0;function n9(a,o,c,h){var y=W.T;W.T=null;var x=H.p;try{H.p=2,qb(a,o,c,h)}finally{H.p=x,W.T=y}}function r9(a,o,c,h){var y=W.T;W.T=null;var x=H.p;try{H.p=8,qb(a,o,c,h)}finally{H.p=x,W.T=y}}function qb(a,o,c,h){if(xp){var y=Fb(h);if(y===null)Cb(a,o,h,wp,c),FN(a,h);else if(a9(y,a,o,c,h))h.stopPropagation();else if(FN(a,h),o&4&&-1<i9.indexOf(a)){for(;y!==null;){var x=_i(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=$r(x.pendingLanes);if(C!==0){var B=x;for(B.pendingLanes|=2,B.entangledLanes|=2;C;){var X=1<<31-$t(C);B.entanglements[1]|=X,C&=~X}Oa(x),(xt&6)===0&&(rp=Ht()+500,rf(0))}}break;case 31:case 13:B=jl(x,2),B!==null&&Wr(B,x,2),ap(),Bb(x,2)}if(x=Fb(h),x===null&&Cb(a,o,h,wp,c),x===y)break;y=x}y!==null&&h.stopPropagation()}else Cb(a,o,h,null,c)}}function Fb(a){return a=Si(a),Hb(a)}var wp=null;function Hb(a){if(wp=null,a=ga(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return wp=a,null}function qN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case nr:return 2;case bi:return 8;case xi:case Ja:return 32;case ha:return 268435456;default:return 32}default:return 32}}var Kb=!1,Po=null,Ro=null,ko=null,df=new Map,ff=new Map,Mo=[],i9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FN(a,o){switch(a){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":df.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(o.pointerId)}}function hf(a,o,c,h,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},o!==null&&(o=_i(o),o!==null&&$N(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function a9(a,o,c,h,y){switch(o){case"focusin":return Po=hf(Po,a,o,c,h,y),!0;case"dragenter":return Ro=hf(Ro,a,o,c,h,y),!0;case"mouseover":return ko=hf(ko,a,o,c,h,y),!0;case"pointerover":var x=y.pointerId;return df.set(x,hf(df.get(x)||null,a,o,c,h,y)),!0;case"gotpointercapture":return x=y.pointerId,ff.set(x,hf(ff.get(x)||null,a,o,c,h,y)),!0}return!1}function HN(a){var o=ga(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,Te(a.priority,function(){BN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,Te(a.priority,function(){BN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _p(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Fb(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Ad=h,c.target.dispatchEvent(h),Ad=null}else return o=_i(c),o!==null&&$N(o),a.blockedOn=c,!1;o.shift()}return!0}function KN(a,o,c){_p(a)&&c.delete(o)}function s9(){Kb=!1,Po!==null&&_p(Po)&&(Po=null),Ro!==null&&_p(Ro)&&(Ro=null),ko!==null&&_p(ko)&&(ko=null),df.forEach(KN),ff.forEach(KN)}function Sp(a,o){a.blockedOn===o&&(a.blockedOn=null,Kb||(Kb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s9)))}var Ep=null;function GN(a){Ep!==a&&(Ep=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ep===a&&(Ep=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],y=a[o+2];if(typeof h!="function"){if(Hb(h||c)===null)continue;break}var x=_i(c);x!==null&&(a.splice(o,3),o-=3,Fy(x,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function uu(a){function o(X){return Sp(X,a)}Po!==null&&Sp(Po,a),Ro!==null&&Sp(Ro,a),ko!==null&&Sp(ko,a),df.forEach(o),ff.forEach(o);for(var c=0;c<Mo.length;c++){var h=Mo[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Mo.length&&(c=Mo[0],c.blockedOn===null);)HN(c),c.blockedOn===null&&Mo.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],x=c[h+1],C=y[ht]||null;if(typeof x=="function")C||GN(c);else if(C){var B=null;if(x&&x.hasAttribute("formAction")){if(y=x,C=x[ht]||null)B=C.formAction;else if(Hb(y)!==null)continue}else B=C.action;typeof B=="function"?c[h+1]=B:(c.splice(h,3),h-=3),GN(c)}}}function YN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Gb(a){this._internalRoot=a}Ap.prototype.render=Gb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=fi();VN(c,h,a,o,null,null)},Ap.prototype.unmount=Gb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;VN(a.current,2,null,a,null,null),ap(),o[$e]=null}};function Ap(a){this._internalRoot=a}Ap.prototype.unstable_scheduleHydration=function(a){if(a){var o=Q();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Mo.length&&o!==0&&o<Mo[c].priority;c++);Mo.splice(c,0,a),c===0&&HN(a)}};var WN=e.version;if(WN!=="19.2.3")throw Error(r(527,WN,"19.2.3"));H.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=m(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var o9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{br=Tp.inject(o9),rn=Tp}catch{}}return pf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,h="",y=n2,x=r2,C=i2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=LN(a,1,!1,null,null,c,h,null,y,x,C,YN),a[$e]=o.current,jb(a),new Gb(o)},pf.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var h=!1,y="",x=n2,C=r2,B=i2,X=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.formState!==void 0&&(X=c.formState)),o=LN(a,1,!0,o,c??null,h,y,X,x,C,B,YN),o.context=zN(null),c=o.current,h=fi(),h=ni(h),y=xo(h),y.callback=null,wo(c,y,h),c=h,o.current.lanes=c,je(o,c),Oa(o),a[$e]=o.current,jb(a),new Ap(o)},pf.version="19.2.3",pf}var aj;function y9(){if(aj)return Xb.exports;aj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xb.exports=v9(),Xb.exports}var b9=y9();const x9=()=>{};var sj={};const Dk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Lk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,m=d?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|m>>6,_=m&63;d||(_=64,l||(b=64)),r.push(n[p],n[g],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||m==null||g==null)throw new _9;const b=s<<2|u>>4;if(r.push(b),m!==64){const _=u<<4&240|m>>2;if(r.push(_),g!==64){const S=m<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S9=function(t){const e=Dk(t);return Lk.encodeByteArray(e,!0)},mg=function(t){return S9(t).replace(/\./g,"")},zk=function(t){try{return Lk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function E9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const A9=()=>E9().__FIREBASE_DEFAULTS__,T9=()=>{if(typeof process>"u"||typeof sj>"u")return;const t=sj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zk(t[1]);return e&&JSON.parse(e)},Pv=()=>{try{return x9()||A9()||T9()||N9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vk=t=>Pv()?.emulatorHosts?.[t],j9=t=>{const e=Vk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Uk=()=>Pv()?.config,$k=t=>Pv()?.[`_${t}`];class C9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Xu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bk(t){return(await fetch(t,{credentials:"include"})).ok}function O9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mg(JSON.stringify(n)),mg(JSON.stringify(l)),""].join(".")}const Pf={};function I9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pf))Pf[e]?t.emulator.push(e):t.prod.push(e);return t}function P9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oj=!1;function qk(t,e){if(typeof window>"u"||typeof document>"u"||!Xu(window.location.host)||Pf[t]===e||Pf[t]||oj)return;Pf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=I9().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{oj=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=P9(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),j=n("preprendIcon"),L=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const U=b.element;u(U),p(A,E);const q=m();d(L,j),U.append(L,S,A,q),document.body.appendChild(U)}s?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function k9(){const t=Pv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function L9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z9(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V9(){return!k9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U9(){try{return typeof indexedDB=="object"}catch{return!1}}function $9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const B9="FirebaseError";class Ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B9,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vh.prototype.create)}}class vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?q9(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ks(i,u,r)}}function q9(t,e){return t.replace(F9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const F9=/\{\$([^}]+)}/g;function H9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(lj(s)&&lj(l)){if(!ic(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lj(t){return t!==null&&typeof t=="object"}function yh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function K9(t,e){const n=new G9(t,e);return n.subscribe.bind(n)}class G9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ex),i.error===void 0&&(i.error=ex),i.complete===void 0&&(i.complete=ex);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ex(){}function zn(t){return t&&t._delegate?t._delegate:t}class ac{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $l="[DEFAULT]";let W9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new C9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q9(e))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$l){return this.instances.has(e)}getOptions(e=$l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$l){return this.component?this.component.multipleInstances?e:$l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X9(t){return t===$l?void 0:t}function Q9(t){return t.instantiationMode==="EAGER"}class J9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const Z9={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},e8=ot.INFO,t8={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},n8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=t8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=e8,this._logHandler=n8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const r8=(t,e)=>e.some(n=>t instanceof n);let cj,uj;function i8(){return cj||(cj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a8(){return uj||(uj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fk=new WeakMap,W1=new WeakMap,Hk=new WeakMap,tx=new WeakMap,E_=new WeakMap;function s8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Go(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Fk.set(n,t)}).catch(()=>{}),E_.set(e,t),e}function o8(t){if(W1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});W1.set(t,e)}let X1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return W1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l8(t){X1=t(X1)}function c8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nx(this),e,...n);return Hk.set(r,e.sort?e.sort():[e]),Go(r)}:a8().includes(t)?function(...e){return t.apply(nx(this),e),Go(Fk.get(this))}:function(...e){return Go(t.apply(nx(this),e))}}function u8(t){return typeof t=="function"?c8(t):(t instanceof IDBTransaction&&o8(t),r8(t,i8())?new Proxy(t,X1):t)}function Go(t){if(t instanceof IDBRequest)return s8(t);if(tx.has(t))return tx.get(t);const e=u8(t);return e!==t&&(tx.set(t,e),E_.set(e,t)),e}const nx=t=>E_.get(t);function d8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Go(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Go(l.result),d.oldVersion,d.newVersion,Go(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const f8=["get","getKey","getAll","getAllKeys","count"],h8=["put","add","delete","clear"],rx=new Map;function dj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rx.get(e))return rx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=h8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f8.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&d.done]))[0]};return rx.set(e,s),s}l8(t=>({...t,get:(e,n,r)=>dj(e,n)||t.get(e,n,r),has:(e,n)=>!!dj(e,n)||t.has(e,n)}));class m8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function p8(t){return t.getComponent()?.type==="VERSION"}const Q1="@firebase/app",fj="0.14.6";const Is=new S_("@firebase/app"),g8="@firebase/app-compat",v8="@firebase/analytics-compat",y8="@firebase/analytics",b8="@firebase/app-check-compat",x8="@firebase/app-check",w8="@firebase/auth",_8="@firebase/auth-compat",S8="@firebase/database",E8="@firebase/data-connect",A8="@firebase/database-compat",T8="@firebase/functions",N8="@firebase/functions-compat",j8="@firebase/installations",C8="@firebase/installations-compat",O8="@firebase/messaging",I8="@firebase/messaging-compat",P8="@firebase/performance",R8="@firebase/performance-compat",k8="@firebase/remote-config",M8="@firebase/remote-config-compat",D8="@firebase/storage",L8="@firebase/storage-compat",z8="@firebase/firestore",V8="@firebase/ai",U8="@firebase/firestore-compat",$8="firebase",B8="12.6.0";const J1="[DEFAULT]",q8={[Q1]:"fire-core",[g8]:"fire-core-compat",[y8]:"fire-analytics",[v8]:"fire-analytics-compat",[x8]:"fire-app-check",[b8]:"fire-app-check-compat",[w8]:"fire-auth",[_8]:"fire-auth-compat",[S8]:"fire-rtdb",[E8]:"fire-data-connect",[A8]:"fire-rtdb-compat",[T8]:"fire-fn",[N8]:"fire-fn-compat",[j8]:"fire-iid",[C8]:"fire-iid-compat",[O8]:"fire-fcm",[I8]:"fire-fcm-compat",[P8]:"fire-perf",[R8]:"fire-perf-compat",[k8]:"fire-rc",[M8]:"fire-rc-compat",[D8]:"fire-gcs",[L8]:"fire-gcs-compat",[z8]:"fire-fst",[U8]:"fire-fst-compat",[V8]:"fire-vertex","fire-js":"fire-js",[$8]:"fire-js-all"};const pg=new Map,F8=new Map,Z1=new Map;function hj(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ru(t){const e=t.name;if(Z1.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Z1.set(e,t);for(const n of pg.values())hj(n,t);for(const n of F8.values())hj(n,t);return!0}function A_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zi(t){return t==null?!1:t.settings!==void 0}const H8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new vh("app","Firebase",H8);class K8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}const Qu=B8;function Kk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:J1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Yo.create("bad-app-name",{appName:String(i)});if(n||(n=Uk()),!n)throw Yo.create("no-options");const s=pg.get(i);if(s){if(ic(n,s.options)&&ic(r,s.config))return s;throw Yo.create("duplicate-app",{appName:i})}const l=new J9(i);for(const d of Z1.values())l.addComponent(d);const u=new K8(n,r,l);return pg.set(i,u),u}function Gk(t=J1){const e=pg.get(t);if(!e&&t===J1&&Uk())return Kk();if(!e)throw Yo.create("no-app",{appName:t});return e}function Wo(t,e,n){let r=q8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(l.join(" "));return}Ru(new ac(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const G8="firebase-heartbeat-database",Y8=1,$f="firebase-heartbeat-store";let ix=null;function Yk(){return ix||(ix=d8(G8,Y8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($f)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),ix}async function W8(t){try{const n=(await Yk()).transaction($f),r=await n.objectStore($f).get(Wk(t));return await n.done,r}catch(e){if(e instanceof Ks)Is.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function mj(t,e){try{const r=(await Yk()).transaction($f,"readwrite");await r.objectStore($f).put(e,Wk(t)),await r.done}catch(n){if(n instanceof Ks)Is.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}}function Wk(t){return`${t.name}!${t.options.appId}`}const X8=1024,Q8=30;class J8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Q8){const i=tU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pj(),{heartbeatsToSend:n,unsentEntries:r}=Z8(this._heartbeatsCache.heartbeats),i=mg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Is.warn(e),""}}}function pj(){return new Date().toISOString().substring(0,10)}function Z8(t,e=X8){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),gj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U9()?$9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gj(t){return mg(JSON.stringify({version:2,heartbeats:t})).length}function tU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function nU(t){Ru(new ac("platform-logger",e=>new m8(e),"PRIVATE")),Ru(new ac("heartbeat",e=>new J8(e),"PRIVATE")),Wo(Q1,fj,t),Wo(Q1,fj,"esm2020"),Wo("fire-js","")}nU("");var rU="firebase",iU="12.7.0";Wo(rU,iU,"app");function Xk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aU=Xk,Qk=new vh("auth","Firebase",Xk());const gg=new S_("@firebase/auth");function sU(t,...e){gg.logLevel<=ot.WARN&&gg.warn(`Auth (${Qu}): ${t}`,...e)}function Qp(t,...e){gg.logLevel<=ot.ERROR&&gg.error(`Auth (${Qu}): ${t}`,...e)}function Ps(t,...e){throw T_(t,...e)}function Ma(t,...e){return T_(t,...e)}function Jk(t,e,n){const r={...aU(),[e]:n};return new vh("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return Jk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Qk.create(t,...e)}function Ke(t,e,...n){if(!t)throw T_(e,...n)}function ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qp(e),new Error(e)}function Rs(t,e){t||ws(e)}function ew(){return typeof self<"u"&&self.location?.href||""}function oU(){return vj()==="http:"||vj()==="https:"}function vj(){return typeof self<"u"&&self.location?.protocol||null}function lU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oU()||D9()||"connection"in navigator)?navigator.onLine:!0}function cU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=R9()||L9()}get(){return lU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function N_(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Zk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fU=new bh(3e4,6e4);function xh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ju(t,e,n,r,i={}){return eM(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=yh({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...s};return M9()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Xu(t.emulatorConfig.host)&&(m.credentials="include"),Zk.fetch()(await tM(t,t.config.apiHost,n,u),m)})}async function eM(t,e,n){t._canInitEmulator=!1;const r={...uU,...e};try{const i=new hU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Np(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,m]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Np(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Np(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Np(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Jk(t,p,m);Ps(t,p)}}catch(i){if(i instanceof Ks)throw i;Ps(t,"network-request-failed",{message:String(i)})}}async function j_(t,e,n,r,i={}){const s=await Ju(t,e,n,r,i);return"mfaPendingCredential"in s&&Ps(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function tM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?N_(t.config,i):`${t.config.apiScheme}://${i}`;return dU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class hU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ma(this.auth,"network-request-failed")),fU.get())})}}function Np(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ma(t,e,r);return i.customData._tokenResponse=n,i}async function mU(t,e){return Ju(t,"POST","/v1/accounts:delete",e)}async function vg(t,e){return Ju(t,"POST","/v1/accounts:lookup",e)}function Rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pU(t,e=!1){const n=zn(t),r=await n.getIdToken(e),i=C_(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Rf(ax(i.auth_time)),issuedAtTime:Rf(ax(i.iat)),expirationTime:Rf(ax(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function ax(t){return Number(t)*1e3}function C_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=zk(n);return i?JSON.parse(i):(Qp("Failed to decode base64 JWT payload"),null)}catch(i){return Qp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yj(t){const e=C_(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ks&&gU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class vU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yg(t){const e=t.auth,n=await t.getIdToken(),r=await Bf(t,vg(e,{idToken:n}));Ke(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?nM(i.providerUserInfo):[],l=bU(t.providerData,s),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,m=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new tw(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function yU(t){const e=zn(t);await yg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function xU(t,e){const n=await eM(t,{},async()=>{const r=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await tM(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Xu(t.emulatorConfig.host)&&(d.credentials="include"),Zk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wU(t,e){return Ju(t,"POST","/v2/accounts:revokeToken",xh(t,e))}class Eu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=yj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await xU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Eu;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ke(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eu,this.toJSON())}_performRefresh(){return ws("not implemented")}}function Lo(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new vU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bf(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pU(this,e)}reload(){return yU(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Bf(this,mU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:_,providerData:S,stsTokenManager:E}=n;Ke(g&&E,e,"internal-error");const A=Eu.fromJSON(this.name,E);Ke(typeof g=="string",e,"internal-error"),Lo(r,e.name),Lo(i,e.name),Ke(typeof b=="boolean",e,"internal-error"),Ke(typeof _=="boolean",e,"internal-error"),Lo(s,e.name),Lo(l,e.name),Lo(u,e.name),Lo(d,e.name),Lo(m,e.name),Lo(p,e.name);const j=new sa({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:A,createdAt:m,lastLoginAt:p});return S&&Array.isArray(S)&&(j.providerData=S.map(L=>({...L}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Eu;i.updateFromServerResponse(n);const s=new sa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new Eu;u.updateFromIdToken(r);const d=new sa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,m),d}}const bj=new Map;function _s(t){Rs(t instanceof Function,"Expected a class definition");let e=bj.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bj.set(t,e),e)}class rM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rM.type="NONE";const xj=rM;function Jp(t,e,n){return`firebase:${t}:${e}:${n}`}class Au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vg(this.auth,{idToken:e}).catch(()=>{});return n?sa._fromGetAccountInfoResponse(this.auth,n,e):null}return sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Au(_s(xj),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let s=i[0]||_s(xj);const l=Jp(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const p=await m._get(l);if(p){let g;if(typeof p=="string"){const b=await vg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await sa._fromGetAccountInfoResponse(e,b,p)}else g=sa._fromJSON(e,p);m!==s&&(u=g),s=m;break}}catch{}const d=i.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Au(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==s)try{await m._remove(l)}catch{}})),new Au(s,e,r))}}function wj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cM(e))return"Blackberry";if(uM(e))return"Webos";if(aM(e))return"Safari";if((e.includes("chrome/")||sM(e))&&!e.includes("edge/"))return"Chrome";if(lM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function iM(t=jr()){return/firefox\//i.test(t)}function aM(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sM(t=jr()){return/crios\//i.test(t)}function oM(t=jr()){return/iemobile/i.test(t)}function lM(t=jr()){return/android/i.test(t)}function cM(t=jr()){return/blackberry/i.test(t)}function uM(t=jr()){return/webos/i.test(t)}function O_(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _U(t=jr()){return O_(t)&&!!window.navigator?.standalone}function SU(){return z9()&&document.documentMode===10}function dM(t=jr()){return O_(t)||lM(t)||uM(t)||cM(t)||/windows phone/i.test(t)||oM(t)}function fM(t,e=[]){let n;switch(t){case"Browser":n=wj(jr());break;case"Worker":n=`${wj(jr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qu}/${r}`}class EU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function AU(t,e={}){return Ju(t,"GET","/v2/passwordPolicy",xh(t,e))}const TU=6;class NU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class jU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _j(this),this.idTokenSubscription=new _j(this),this.beforeStateQueue=new EU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Au.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vg(this,{idToken:e}),r=await sa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject(Ns(this));const n=e?zn(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AU(this),n=new NU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Au.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wh(t){return zn(t)}class _j{constructor(e){this.auth=e,this.observer=null,this.addObserver=K9(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let I_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CU(t){I_=t}function OU(t){return I_.loadJS(t)}function IU(){return I_.gapiScript}function PU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function RU(t,e){const n=A_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ic(s,e??{}))return i;Ps(i,"already-initialized")}return n.initialize({options:e})}function kU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_s);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function MU(t,e,n){const r=wh(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=hM(e),{host:l,port:u}=DU(e),d=u===null?"":`:${u}`,m={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(ic(m,r.config.emulator)&&ic(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Xu(l)?(Bk(`${s}//${l}${d}`),qk("Auth",!0)):LU()}function hM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DU(t){const e=hM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sj(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:Sj(l)}}}function Sj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class mM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,n){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function Tu(t,e){return j_(t,"POST","/v1/accounts:signInWithIdp",xh(t,e))}const zU="http://localhost";class sc extends mM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new sc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tu(e,n)}buildRequest(){const e={requestUri:zU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yh(n)}return e}}class pM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _h extends pM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Uo extends _h{constructor(){super("facebook.com")}static credential(e){return sc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uo.PROVIDER_ID="facebook.com";class $o extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sc._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";class Bo extends _h{constructor(){super("github.com")}static credential(e){return sc._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bo.credential(e.oauthAccessToken)}catch{return null}}}Bo.GITHUB_SIGN_IN_METHOD="github.com";Bo.PROVIDER_ID="github.com";class qo extends _h{constructor(){super("twitter.com")}static credential(e,n){return sc._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qo.credential(n,r)}catch{return null}}}qo.TWITTER_SIGN_IN_METHOD="twitter.com";qo.PROVIDER_ID="twitter.com";async function VU(t,e){return j_(t,"POST","/v1/accounts:signUp",xh(t,e))}class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await sa._fromIdTokenResponse(e,r,i),l=Ej(r);return new ks({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ej(r);return new ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ej(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function UU(t){if(zi(t.app))return Promise.reject(Ns(t));const e=wh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ks({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await VU(e,{returnSecureToken:!0}),r=await ks._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class bg extends Ks{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bg(e,n,r,i)}}function gM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bg._fromErrorAndOperation(t,s,e,r):s})}async function $U(t,e,n=!1){const r=await Bf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ks._forOperation(t,"link",r)}async function BU(t,e,n=!1){const{auth:r}=t;if(zi(r.app))return Promise.reject(Ns(r));const i="reauthenticate";try{const s=await Bf(t,gM(r,i,e,t),n);Ke(s.idToken,r,"internal-error");const l=C_(s.idToken);Ke(l,r,"internal-error");const{sub:u}=l;return Ke(t.uid===u,r,"user-mismatch"),ks._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ps(r,"user-mismatch"),s}}async function qU(t,e,n=!1){if(zi(t.app))return Promise.reject(Ns(t));const r="signIn",i=await gM(t,r,e),s=await ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function FU(t,e){return j_(t,"POST","/v1/accounts:signInWithCustomToken",xh(t,e))}async function HU(t,e){if(zi(t.app))return Promise.reject(Ns(t));const n=wh(t),r=await FU(n,{token:e,returnSecureToken:!0}),i=await ks._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function KU(t,e,n,r){return zn(t).onIdTokenChanged(e,n,r)}function GU(t,e,n){return zn(t).beforeAuthStateChanged(e,n)}function YU(t,e,n,r){return zn(t).onAuthStateChanged(e,n,r)}const xg="__sak";class vM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xg,"1"),this.storage.removeItem(xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WU=1e3,XU=10;class yM extends vM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);SU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yM.type="LOCAL";const QU=yM;class bM extends vM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bM.type="SESSION";const xM=bM;function JU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(n.origin,s)),d=await JU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rv.receivers=[];function P_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class ZU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const m=P_("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Da(){return window}function e$(t){Da().location.href=t}function wM(){return typeof Da().WorkerGlobalScope<"u"&&typeof Da().importScripts=="function"}async function t$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n$(){return navigator?.serviceWorker?.controller||null}function r$(){return wM()?self:null}const _M="firebaseLocalStorageDb",i$=1,wg="firebaseLocalStorage",SM="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kv(t,e){return t.transaction([wg],e?"readwrite":"readonly").objectStore(wg)}function a$(){const t=indexedDB.deleteDatabase(_M);return new Sh(t).toPromise()}function nw(){const t=indexedDB.open(_M,i$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wg,{keyPath:SM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wg)?e(r):(r.close(),await a$(),e(await nw()))})})}async function Aj(t,e,n){const r=kv(t,!0).put({[SM]:e,value:n});return new Sh(r).toPromise()}async function s$(t,e){const n=kv(t,!1).get(e),r=await new Sh(n).toPromise();return r===void 0?null:r.value}function Tj(t,e){const n=kv(t,!0).delete(e);return new Sh(n).toPromise()}const o$=800,l$=3;class EM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rv._getInstance(r$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await t$(),!this.activeServiceWorker)return;this.sender=new ZU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nw();return await Aj(e,xg,"1"),await Tj(e,xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Aj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kv(i,!1).getAll();return new Sh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EM.type="LOCAL";const c$=EM;new bh(3e4,6e4);function u$(t,e){return e?_s(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class R_ extends mM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d$(t){return qU(t.auth,new R_(t),t.bypassAuthState)}function f$(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),BU(n,new R_(t),t.bypassAuthState)}async function h$(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),$U(n,new R_(t),t.bypassAuthState)}class AM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d$;case"linkViaPopup":case"linkViaRedirect":return h$;case"reauthViaPopup":case"reauthViaRedirect":return f$;default:Ps(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const m$=new bh(2e3,1e4);class bu extends AM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bu.currentPopupAction&&bu.currentPopupAction.cancel(),bu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=P_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m$.get())};e()}}bu.currentPopupAction=null;const p$="pendingRedirect",Zp=new Map;class g$ extends AM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zp.get(this.auth._key());if(!e){try{const r=await v$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zp.set(this.auth._key(),e)}return this.bypassAuthState||Zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v$(t,e){const n=x$(e),r=b$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function y$(t,e){Zp.set(t._key(),e)}function b$(t){return _s(t._redirectPersistence)}function x$(t){return Jp(p$,t.config.apiKey,t.name)}async function w$(t,e,n=!1){if(zi(t.app))return Promise.reject(Ns(t));const r=wh(t),i=u$(r,e),l=await new g$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const _$=600*1e3;class S${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!TM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ma(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_$&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nj(e))}saveEventToCache(e){this.cachedEventUids.add(Nj(e)),this.lastProcessedEventTime=Date.now()}}function Nj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function E$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TM(t);default:return!1}}async function A$(t,e={}){return Ju(t,"GET","/v1/projects",e)}const T$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N$=/^https?/;async function j$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A$(t);for(const n of e)try{if(C$(n))return}catch{}Ps(t,"unauthorized-domain")}function C$(t){const e=ew(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!N$.test(n))return!1;if(T$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const O$=new bh(3e4,6e4);function jj(){const t=Da().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I$(t){return new Promise((e,n)=>{function r(){jj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jj(),n(Ma(t,"network-request-failed"))},timeout:O$.get()})}if(Da().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Da().gapi?.load)r();else{const i=PU("iframefcb");return Da()[i]=()=>{gapi.load?r():n(Ma(t,"network-request-failed"))},OU(`${IU()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw eg=null,e})}let eg=null;function P$(t){return eg=eg||I$(t),eg}const R$=new bh(5e3,15e3),k$="__/auth/iframe",M$="emulator/auth/iframe",D$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z$(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?N_(e,M$):`https://${t.config.authDomain}/${k$}`,r={apiKey:e.apiKey,appName:t.name,v:Qu},i=L$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yh(r).slice(1)}`}async function V$(t){const e=await P$(t),n=Da().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:z$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Ma(t,"network-request-failed"),u=Da().setTimeout(()=>{s(l)},R$.get());function d(){Da().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const U$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$$=500,B$=600,q$="_blank",F$="http://localhost";class Cj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H$(t,e,n,r=$$,i=B$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...U$,width:r.toString(),height:i.toString(),top:s,left:l},m=jr().toLowerCase();n&&(u=sM(m)?q$:n),iM(m)&&(e=e||F$,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[_,S])=>`${b}${_}=${S},`,"");if(_U(m)&&u!=="_self")return K$(e||"",u),new Cj(null);const g=window.open(e||"",u,p);Ke(g,t,"popup-blocked");try{g.focus()}catch{}return new Cj(g)}function K$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const G$="__/auth/handler",Y$="emulator/auth/handler",W$=encodeURIComponent("fac");async function Oj(t,e,n,r,i,s){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qu,eventId:i};if(e instanceof pM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",H9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof _h){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),m=d?`#${W$}=${encodeURIComponent(d)}`:"";return`${X$(t)}?${yh(u).slice(1)}${m}`}function X$({config:t}){return t.emulator?N_(t,Y$):`https://${t.authDomain}/${G$}`}const sx="webStorageSupport";class Q${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xM,this._completeRedirectFn=w$,this._overrideRedirectResult=y$}async _openPopup(e,n,r,i){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Oj(e,n,r,ew(),i);return H$(e,s,P_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Oj(e,n,r,ew(),i);return e$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V$(e),r=new S$(e);return n.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sx,{type:sx},i=>{const s=i?.[0]?.[sx];s!==void 0&&n(!!s),Ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dM()||aM()||O_()}}const J$=Q$;var Ij="@firebase/auth",Pj="1.12.0";class Z${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function e7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t7(t){Ru(new ac("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fM(t)},m=new jU(r,i,s,d);return kU(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ru(new ac("auth-internal",e=>{const n=wh(e.getProvider("auth").getImmediate());return(r=>new Z$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wo(Ij,Pj,e7(t)),Wo(Ij,Pj,"esm2020")}const n7=300,r7=$k("authIdTokenMaxAge")||n7;let Rj=null;const i7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r7)return;const i=n?.token;Rj!==i&&(Rj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function a7(t=Gk()){const e=A_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RU(t,{popupRedirectResolver:J$,persistence:[c$,QU,xM]}),r=$k("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=i7(s.toString());GU(n,l,()=>l(n.currentUser)),KU(n,u=>l(u))}}const i=Vk("auth");return i&&MU(n,`http://${i}`),n}function s7(){return document.getElementsByTagName("head")?.[0]??document}CU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ma("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",s7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t7("Browser");var kj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xo,NM;(function(){var t;function e(O,N){function M(){}M.prototype=N.prototype,O.F=N.prototype,O.prototype=new M,O.prototype.constructor=O,O.D=function(P,I,D){for(var k=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)k[ie-2]=arguments[ie];return N.prototype[I].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,N,M){M||(M=0);const P=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)P[I]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(I=0;I<16;++I)P[I]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=O.g[0],M=O.g[1],I=O.g[2];let D=O.g[3],k;k=N+(D^M&(I^D))+P[0]+3614090360&4294967295,N=M+(k<<7&4294967295|k>>>25),k=D+(I^N&(M^I))+P[1]+3905402710&4294967295,D=N+(k<<12&4294967295|k>>>20),k=I+(M^D&(N^M))+P[2]+606105819&4294967295,I=D+(k<<17&4294967295|k>>>15),k=M+(N^I&(D^N))+P[3]+3250441966&4294967295,M=I+(k<<22&4294967295|k>>>10),k=N+(D^M&(I^D))+P[4]+4118548399&4294967295,N=M+(k<<7&4294967295|k>>>25),k=D+(I^N&(M^I))+P[5]+1200080426&4294967295,D=N+(k<<12&4294967295|k>>>20),k=I+(M^D&(N^M))+P[6]+2821735955&4294967295,I=D+(k<<17&4294967295|k>>>15),k=M+(N^I&(D^N))+P[7]+4249261313&4294967295,M=I+(k<<22&4294967295|k>>>10),k=N+(D^M&(I^D))+P[8]+1770035416&4294967295,N=M+(k<<7&4294967295|k>>>25),k=D+(I^N&(M^I))+P[9]+2336552879&4294967295,D=N+(k<<12&4294967295|k>>>20),k=I+(M^D&(N^M))+P[10]+4294925233&4294967295,I=D+(k<<17&4294967295|k>>>15),k=M+(N^I&(D^N))+P[11]+2304563134&4294967295,M=I+(k<<22&4294967295|k>>>10),k=N+(D^M&(I^D))+P[12]+1804603682&4294967295,N=M+(k<<7&4294967295|k>>>25),k=D+(I^N&(M^I))+P[13]+4254626195&4294967295,D=N+(k<<12&4294967295|k>>>20),k=I+(M^D&(N^M))+P[14]+2792965006&4294967295,I=D+(k<<17&4294967295|k>>>15),k=M+(N^I&(D^N))+P[15]+1236535329&4294967295,M=I+(k<<22&4294967295|k>>>10),k=N+(I^D&(M^I))+P[1]+4129170786&4294967295,N=M+(k<<5&4294967295|k>>>27),k=D+(M^I&(N^M))+P[6]+3225465664&4294967295,D=N+(k<<9&4294967295|k>>>23),k=I+(N^M&(D^N))+P[11]+643717713&4294967295,I=D+(k<<14&4294967295|k>>>18),k=M+(D^N&(I^D))+P[0]+3921069994&4294967295,M=I+(k<<20&4294967295|k>>>12),k=N+(I^D&(M^I))+P[5]+3593408605&4294967295,N=M+(k<<5&4294967295|k>>>27),k=D+(M^I&(N^M))+P[10]+38016083&4294967295,D=N+(k<<9&4294967295|k>>>23),k=I+(N^M&(D^N))+P[15]+3634488961&4294967295,I=D+(k<<14&4294967295|k>>>18),k=M+(D^N&(I^D))+P[4]+3889429448&4294967295,M=I+(k<<20&4294967295|k>>>12),k=N+(I^D&(M^I))+P[9]+568446438&4294967295,N=M+(k<<5&4294967295|k>>>27),k=D+(M^I&(N^M))+P[14]+3275163606&4294967295,D=N+(k<<9&4294967295|k>>>23),k=I+(N^M&(D^N))+P[3]+4107603335&4294967295,I=D+(k<<14&4294967295|k>>>18),k=M+(D^N&(I^D))+P[8]+1163531501&4294967295,M=I+(k<<20&4294967295|k>>>12),k=N+(I^D&(M^I))+P[13]+2850285829&4294967295,N=M+(k<<5&4294967295|k>>>27),k=D+(M^I&(N^M))+P[2]+4243563512&4294967295,D=N+(k<<9&4294967295|k>>>23),k=I+(N^M&(D^N))+P[7]+1735328473&4294967295,I=D+(k<<14&4294967295|k>>>18),k=M+(D^N&(I^D))+P[12]+2368359562&4294967295,M=I+(k<<20&4294967295|k>>>12),k=N+(M^I^D)+P[5]+4294588738&4294967295,N=M+(k<<4&4294967295|k>>>28),k=D+(N^M^I)+P[8]+2272392833&4294967295,D=N+(k<<11&4294967295|k>>>21),k=I+(D^N^M)+P[11]+1839030562&4294967295,I=D+(k<<16&4294967295|k>>>16),k=M+(I^D^N)+P[14]+4259657740&4294967295,M=I+(k<<23&4294967295|k>>>9),k=N+(M^I^D)+P[1]+2763975236&4294967295,N=M+(k<<4&4294967295|k>>>28),k=D+(N^M^I)+P[4]+1272893353&4294967295,D=N+(k<<11&4294967295|k>>>21),k=I+(D^N^M)+P[7]+4139469664&4294967295,I=D+(k<<16&4294967295|k>>>16),k=M+(I^D^N)+P[10]+3200236656&4294967295,M=I+(k<<23&4294967295|k>>>9),k=N+(M^I^D)+P[13]+681279174&4294967295,N=M+(k<<4&4294967295|k>>>28),k=D+(N^M^I)+P[0]+3936430074&4294967295,D=N+(k<<11&4294967295|k>>>21),k=I+(D^N^M)+P[3]+3572445317&4294967295,I=D+(k<<16&4294967295|k>>>16),k=M+(I^D^N)+P[6]+76029189&4294967295,M=I+(k<<23&4294967295|k>>>9),k=N+(M^I^D)+P[9]+3654602809&4294967295,N=M+(k<<4&4294967295|k>>>28),k=D+(N^M^I)+P[12]+3873151461&4294967295,D=N+(k<<11&4294967295|k>>>21),k=I+(D^N^M)+P[15]+530742520&4294967295,I=D+(k<<16&4294967295|k>>>16),k=M+(I^D^N)+P[2]+3299628645&4294967295,M=I+(k<<23&4294967295|k>>>9),k=N+(I^(M|~D))+P[0]+4096336452&4294967295,N=M+(k<<6&4294967295|k>>>26),k=D+(M^(N|~I))+P[7]+1126891415&4294967295,D=N+(k<<10&4294967295|k>>>22),k=I+(N^(D|~M))+P[14]+2878612391&4294967295,I=D+(k<<15&4294967295|k>>>17),k=M+(D^(I|~N))+P[5]+4237533241&4294967295,M=I+(k<<21&4294967295|k>>>11),k=N+(I^(M|~D))+P[12]+1700485571&4294967295,N=M+(k<<6&4294967295|k>>>26),k=D+(M^(N|~I))+P[3]+2399980690&4294967295,D=N+(k<<10&4294967295|k>>>22),k=I+(N^(D|~M))+P[10]+4293915773&4294967295,I=D+(k<<15&4294967295|k>>>17),k=M+(D^(I|~N))+P[1]+2240044497&4294967295,M=I+(k<<21&4294967295|k>>>11),k=N+(I^(M|~D))+P[8]+1873313359&4294967295,N=M+(k<<6&4294967295|k>>>26),k=D+(M^(N|~I))+P[15]+4264355552&4294967295,D=N+(k<<10&4294967295|k>>>22),k=I+(N^(D|~M))+P[6]+2734768916&4294967295,I=D+(k<<15&4294967295|k>>>17),k=M+(D^(I|~N))+P[13]+1309151649&4294967295,M=I+(k<<21&4294967295|k>>>11),k=N+(I^(M|~D))+P[4]+4149444226&4294967295,N=M+(k<<6&4294967295|k>>>26),k=D+(M^(N|~I))+P[11]+3174756917&4294967295,D=N+(k<<10&4294967295|k>>>22),k=I+(N^(D|~M))+P[2]+718787259&4294967295,I=D+(k<<15&4294967295|k>>>17),k=M+(D^(I|~N))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+N&4294967295,O.g[1]=O.g[1]+(I+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+D&4294967295}r.prototype.v=function(O,N){N===void 0&&(N=O.length);const M=N-this.blockSize,P=this.C;let I=this.h,D=0;for(;D<N;){if(I==0)for(;D<=M;)i(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<N;)if(P[I++]=O.charCodeAt(D++),I==this.blockSize){i(this,P),I=0;break}}else for(;D<N;)if(P[I++]=O[D++],I==this.blockSize){i(this,P),I=0;break}}this.h=I,this.o+=N},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var N=1;N<O.length-8;++N)O[N]=0;N=this.o*8;for(var M=O.length-8;M<O.length;++M)O[M]=N&255,N/=256;for(this.v(O),O=Array(16),N=0,M=0;M<4;++M)for(let P=0;P<32;P+=8)O[N++]=this.g[M]>>>P&255;return O};function s(O,N){var M=u;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=N(O)}function l(O,N){this.h=N;const M=[];let P=!0;for(let I=O.length-1;I>=0;I--){const D=O[I]|0;P&&D==N||(M[I]=D,P=!1)}this.g=M}var u={};function d(O){return-128<=O&&O<128?s(O,function(N){return new l([N|0],N<0?-1:0)}):new l([O|0],O<0?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return g;if(O<0)return A(m(-O));const N=[];let M=1;for(let P=0;O>=M;P++)N[P]=O/M|0,M*=4294967296;return new l(N,0)}function p(O,N){if(O.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(O.charAt(0)=="-")return A(p(O.substring(1),N));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=m(Math.pow(N,8));let P=g;for(let D=0;D<O.length;D+=8){var I=Math.min(8,O.length-D);const k=parseInt(O.substring(D,D+I),N);I<8?(I=m(Math.pow(N,I)),P=P.j(I).add(m(k))):(P=P.j(M),P=P.add(m(k)))}return P}var g=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-A(this).m();let O=0,N=1;for(let M=0;M<this.g.length;M++){const P=this.i(M);O+=(P>=0?P:4294967296+P)*N,N*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(S(this))return"0";if(E(this))return"-"+A(this).toString(O);const N=m(Math.pow(O,6));var M=this;let P="";for(;;){const I=q(M,N).g;M=j(M,I.j(N));let D=((M.g.length>0?M.g[0]:M.h)>>>0).toString(O);if(M=I,S(M))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function S(O){if(O.h!=0)return!1;for(let N=0;N<O.g.length;N++)if(O.g[N]!=0)return!1;return!0}function E(O){return O.h==-1}t.l=function(O){return O=j(this,O),E(O)?-1:S(O)?0:1};function A(O){const N=O.g.length,M=[];for(let P=0;P<N;P++)M[P]=~O.g[P];return new l(M,~O.h).add(b)}t.abs=function(){return E(this)?A(this):this},t.add=function(O){const N=Math.max(this.g.length,O.g.length),M=[];let P=0;for(let I=0;I<=N;I++){let D=P+(this.i(I)&65535)+(O.i(I)&65535),k=(D>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);P=k>>>16,D&=65535,k&=65535,M[I]=k<<16|D}return new l(M,M[M.length-1]&-2147483648?-1:0)};function j(O,N){return O.add(A(N))}t.j=function(O){if(S(this)||S(O))return g;if(E(this))return E(O)?A(this).j(A(O)):A(A(this).j(O));if(E(O))return A(this.j(A(O)));if(this.l(_)<0&&O.l(_)<0)return m(this.m()*O.m());const N=this.g.length+O.g.length,M=[];for(var P=0;P<2*N;P++)M[P]=0;for(P=0;P<this.g.length;P++)for(let I=0;I<O.g.length;I++){const D=this.i(P)>>>16,k=this.i(P)&65535,ie=O.i(I)>>>16,ee=O.i(I)&65535;M[2*P+2*I]+=k*ee,L(M,2*P+2*I),M[2*P+2*I+1]+=D*ee,L(M,2*P+2*I+1),M[2*P+2*I+1]+=k*ie,L(M,2*P+2*I+1),M[2*P+2*I+2]+=D*ie,L(M,2*P+2*I+2)}for(O=0;O<N;O++)M[O]=M[2*O+1]<<16|M[2*O];for(O=N;O<2*N;O++)M[O]=0;return new l(M,0)};function L(O,N){for(;(O[N]&65535)!=O[N];)O[N+1]+=O[N]>>>16,O[N]&=65535,N++}function U(O,N){this.g=O,this.h=N}function q(O,N){if(S(N))throw Error("division by zero");if(S(O))return new U(g,g);if(E(O))return N=q(A(O),N),new U(A(N.g),A(N.h));if(E(N))return N=q(O,A(N)),new U(A(N.g),N.h);if(O.g.length>30){if(E(O)||E(N))throw Error("slowDivide_ only works with positive integers.");for(var M=b,P=N;P.l(O)<=0;)M=$(M),P=$(P);var I=z(M,1),D=z(P,1);for(P=z(P,2),M=z(M,2);!S(P);){var k=D.add(P);k.l(O)<=0&&(I=I.add(M),D=k),P=z(P,1),M=z(M,1)}return N=j(O,I.j(N)),new U(I,N)}for(I=g;O.l(N)>=0;){for(M=Math.max(1,Math.floor(O.m()/N.m())),P=Math.ceil(Math.log(M)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=m(M),k=D.j(N);E(k)||k.l(O)>0;)M-=P,D=m(M),k=D.j(N);S(D)&&(D=b),I=I.add(D),O=j(O,k)}return new U(I,O)}t.B=function(O){return q(this,O).h},t.and=function(O){const N=Math.max(this.g.length,O.g.length),M=[];for(let P=0;P<N;P++)M[P]=this.i(P)&O.i(P);return new l(M,this.h&O.h)},t.or=function(O){const N=Math.max(this.g.length,O.g.length),M=[];for(let P=0;P<N;P++)M[P]=this.i(P)|O.i(P);return new l(M,this.h|O.h)},t.xor=function(O){const N=Math.max(this.g.length,O.g.length),M=[];for(let P=0;P<N;P++)M[P]=this.i(P)^O.i(P);return new l(M,this.h^O.h)};function $(O){const N=O.g.length+1,M=[];for(let P=0;P<N;P++)M[P]=O.i(P)<<1|O.i(P-1)>>>31;return new l(M,O.h)}function z(O,N){const M=N>>5;N%=32;const P=O.g.length-M,I=[];for(let D=0;D<P;D++)I[D]=N>0?O.i(D+M)>>>N|O.i(D+M+1)<<32-N:O.i(D+M);return new l(I,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,Xo=l}).apply(typeof kj<"u"?kj:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jM,Af,CM,tg,rw,OM,IM,PM;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var T=0;T<v.length;++T){var R=v[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var R=r;v=v.split(".");for(var F=0;F<v.length-1;F++){var ae=v[F];if(!(ae in R))break e;R=R[ae]}v=v[v.length-1],F=R[v],T=T(F),T!=F&&T!=null&&e(R,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var R=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&R.push([F,T[F]]);return R}});var s=s||{},l=this||self;function u(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function d(v,T,R){return v.call.apply(v.bind,arguments)}function m(v,T,R){return m=d,m.apply(null,arguments)}function p(v,T){var R=Array.prototype.slice.call(arguments,1);return function(){var F=R.slice();return F.push.apply(F,arguments),v.apply(this,F)}}function g(v,T){function R(){}R.prototype=T.prototype,v.Z=T.prototype,v.prototype=new R,v.prototype.constructor=v,v.Ob=function(F,ae,fe){for(var Ee=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Ee[Je-2]=arguments[Je];return T.prototype[ae].apply(F,Ee)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function _(v){const T=v.length;if(T>0){const R=Array(T);for(let F=0;F<T;F++)R[F]=v[F];return R}return[]}function S(v,T){for(let F=1;F<arguments.length;F++){const ae=arguments[F];var R=typeof ae;if(R=R!="object"?R:ae?Array.isArray(ae)?"array":R:"null",R=="array"||R=="object"&&typeof ae.length=="number"){R=v.length||0;const fe=ae.length||0;v.length=R+fe;for(let Ee=0;Ee<fe;Ee++)v[R+Ee]=ae[Ee]}else v.push(ae)}}class E{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(v){l.setTimeout(()=>{throw v},0)}function j(){var v=O;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class L{constructor(){this.h=this.g=null}add(T,R){const F=U.get();F.set(T,R),this.h?this.h.next=F:this.g=F,this.h=F}}var U=new E(()=>new q,v=>v.reset());class q{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let $,z=!1,O=new L,N=()=>{const v=Promise.resolve(void 0);$=()=>{v.then(M)}};function M(){for(var v;v=j();){try{v.h.call(v.g)}catch(R){A(R)}var T=U;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}z=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const R=()=>{};l.addEventListener("test",R,T),l.removeEventListener("test",R,T)}catch{}return v})();function k(v){return/^[\s\xa0]*$/.test(v)}function ie(v,T){I.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(ie,I),ie.prototype.init=function(v,T){const R=this.type=v.type,F=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(R=="mouseover"?T=v.fromElement:R=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),W=0;function H(v,T,R,F,ae){this.listener=v,this.proxy=null,this.src=T,this.type=R,this.capture=!!F,this.ha=ae,this.key=++W,this.da=this.fa=!1}function te(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function oe(v,T,R){for(const F in v)T.call(R,v[F],F,v)}function we(v,T){for(const R in v)T.call(void 0,v[R],R,v)}function V(v){const T={};for(const R in v)T[R]=v[R];return T}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(v,T){let R,F;for(let ae=1;ae<arguments.length;ae++){F=arguments[ae];for(R in F)v[R]=F[R];for(let fe=0;fe<K.length;fe++)R=K[fe],Object.prototype.hasOwnProperty.call(F,R)&&(v[R]=F[R])}}function Y(v){this.src=v,this.g={},this.h=0}Y.prototype.add=function(v,T,R,F,ae){const fe=v.toString();v=this.g[fe],v||(v=this.g[fe]=[],this.h++);const Ee=ye(v,T,F,ae);return Ee>-1?(T=v[Ee],R||(T.fa=!1)):(T=new H(T,this.src,fe,!!F,ae),T.fa=R,v.push(T)),T};function ce(v,T){const R=T.type;if(R in v.g){var F=v.g[R],ae=Array.prototype.indexOf.call(F,T,void 0),fe;(fe=ae>=0)&&Array.prototype.splice.call(F,ae,1),fe&&(te(T),v.g[R].length==0&&(delete v.g[R],v.h--))}}function ye(v,T,R,F){for(let ae=0;ae<v.length;++ae){const fe=v[ae];if(!fe.da&&fe.listener==T&&fe.capture==!!R&&fe.ha==F)return ae}return-1}var he="closure_lm_"+(Math.random()*1e6|0),Pe={};function re(v,T,R,F,ae){if(Array.isArray(T)){for(let fe=0;fe<T.length;fe++)re(v,T[fe],R,F,ae);return null}return R=tr(R),v&&v[ee]?v.J(T,R,u(F)?!!F.capture:!1,ae):Se(v,T,R,!1,F,ae)}function Se(v,T,R,F,ae,fe){if(!T)throw Error("Invalid event type");const Ee=u(ae)?!!ae.capture:!!ae;let Je=wt(v);if(Je||(v[he]=Je=new Y(v)),R=Je.add(T,R,F,Ee,fe),R.proxy)return R;if(F=Ae(),R.proxy=F,F.src=v,F.listener=R,v.addEventListener)D||(ae=Ee),ae===void 0&&(ae=!1),v.addEventListener(T.toString(),F,ae);else if(v.attachEvent)v.attachEvent(ze(T.toString()),F);else if(v.addListener&&v.removeListener)v.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ae(){function v(R){return T.call(v.src,v.listener,R)}const T=Ge;return v}function J(v,T,R,F,ae){if(Array.isArray(T))for(var fe=0;fe<T.length;fe++)J(v,T[fe],R,F,ae);else F=u(F)?!!F.capture:!!F,R=tr(R),v&&v[ee]?(v=v.i,fe=String(T).toString(),fe in v.g&&(T=v.g[fe],R=ye(T,R,F,ae),R>-1&&(te(T[R]),Array.prototype.splice.call(T,R,1),T.length==0&&(delete v.g[fe],v.h--)))):v&&(v=wt(v))&&(T=v.g[T.toString()],v=-1,T&&(v=ye(T,R,F,ae)),(R=v>-1?T[v]:null)&&Ve(R))}function Ve(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[ee])ce(T.i,v);else{var R=v.type,F=v.proxy;T.removeEventListener?T.removeEventListener(R,F,v.capture):T.detachEvent?T.detachEvent(ze(R),F):T.addListener&&T.removeListener&&T.removeListener(F),(R=wt(T))?(ce(R,v),R.h==0&&(R.src=null,T[he]=null)):te(v)}}}function ze(v){return v in Pe?Pe[v]:Pe[v]="on"+v}function Ge(v,T){if(v.da)v=!0;else{T=new ie(T,this);const R=v.listener,F=v.ha||v.src;v.fa&&Ve(v),v=R.call(F,T)}return v}function wt(v){return v=v[he],v instanceof Y?v:null}var cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function tr(v){return typeof v=="function"?v:(v[cn]||(v[cn]=function(T){return v.handleEvent(T)}),v[cn])}function Dt(){P.call(this),this.i=new Y(this),this.M=this,this.G=null}g(Dt,P),Dt.prototype[ee]=!0,Dt.prototype.removeEventListener=function(v,T,R,F){J(this,v,T,R,F)};function Ot(v,T){var R,F=v.G;if(F)for(R=[];F;F=F.G)R.push(F);if(v=v.M,F=T.type||T,typeof T=="string")T=new I(T,v);else if(T instanceof I)T.target=T.target||v;else{var ae=T;T=new I(F,v),G(T,ae)}ae=!0;let fe,Ee;if(R)for(Ee=R.length-1;Ee>=0;Ee--)fe=T.g=R[Ee],ae=Ur(fe,F,!0,T)&&ae;if(fe=T.g=v,ae=Ur(fe,F,!0,T)&&ae,ae=Ur(fe,F,!1,T)&&ae,R)for(Ee=0;Ee<R.length;Ee++)fe=T.g=R[Ee],ae=Ur(fe,F,!1,T)&&ae}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const R=v.g[T];for(let F=0;F<R.length;F++)te(R[F]);delete v.g[T],v.h--}}this.G=null},Dt.prototype.J=function(v,T,R,F){return this.i.add(String(v),T,!1,R,F)},Dt.prototype.K=function(v,T,R,F){return this.i.add(String(v),T,!0,R,F)};function Ur(v,T,R,F){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let ae=!0;for(let fe=0;fe<T.length;++fe){const Ee=T[fe];if(Ee&&!Ee.da&&Ee.capture==R){const Je=Ee.listener,gn=Ee.ha||Ee.src;Ee.fa&&ce(v.i,Ee),ae=Je.call(gn,F)!==!1&&ae}}return ae&&!F.defaultPrevented}function Qa(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function fa(v){v.g=Qa(()=>{v.g=null,v.i&&(v.i=!1,fa(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class Ht extends P{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(v){P.call(this),this.h=v,this.g={}}g(Qe,P);var nr=[];function bi(v){oe(v.g,function(T,R){this.g.hasOwnProperty(R)&&Ve(T)},v),v.g={}}Qe.prototype.N=function(){Qe.Z.N.call(this),bi(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=l.JSON.stringify,Ja=l.JSON.parse,ha=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function ti(){}function ma(){}var br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){I.call(this,"d")}g(rn,I);function qn(){I.call(this,"c")}g(qn,I);var $t={},Za=null;function wi(){return Za=Za||new Dt}$t.Ia="serverreachability";function no(v){I.call(this,$t.Ia,v)}g(no,I);function xr(v){const T=wi();Ot(T,new no(T))}$t.STAT_EVENT="statevent";function Ki(v,T){I.call(this,$t.STAT_EVENT,v),this.stat=T}g(Ki,I);function Xt(v){const T=wi();Ot(T,new Ki(T,v))}$t.Ja="timingevent";function $r(v,T){I.call(this,$t.Ja,v),this.size=T}g($r,I);function Br(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Or(){this.g=!0}Or.prototype.ua=function(){this.g=!1};function ro(v,T,R,F,ae,fe){v.info(function(){if(v.g)if(fe){var Ee="",Je=fe.split("&");for(let bt=0;bt<Je.length;bt++){var gn=Je[bt].split("=");if(gn.length>1){const Jt=gn[0];gn=gn[1];const Ai=Jt.split("_");Ee=Ai.length>=2&&Ai[1]=="type"?Ee+(Jt+"="+gn+"&"):Ee+(Jt+"=redacted&")}}}else Ee=null;else Ee=fe;return"XMLHTTP REQ ("+F+") [attempt "+ae+"]: "+T+`
`+R+`
`+Ee})}function io(v,T,R,F,ae,fe,Ee){v.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ae+"]: "+T+`
`+R+`
`+fe+" "+Ee})}function xe(v,T,R,F){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+tt(v,R)+(F?" "+F:"")})}function je(v,T){v.info(function(){return"TIMEOUT: "+T})}Or.prototype.info=function(){};function tt(v,T){if(!v.g)return T;if(!T)return null;try{const fe=JSON.parse(T);if(fe){for(v=0;v<fe.length;v++)if(Array.isArray(fe[v])){var R=fe[v];if(!(R.length<2)){var F=R[1];if(Array.isArray(F)&&!(F.length<1)){var ae=F[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Ee=1;Ee<F.length;Ee++)F[Ee]=""}}}}return xi(fe)}catch{return T}}var vt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},an={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qt;function ni(){}g(ni,ti),ni.prototype.g=function(){return new XMLHttpRequest},Qt=new ni;function ri(v){return encodeURIComponent(String(v))}function Q(v){var T=1;v=v.split(":");const R=[];for(;T>0&&v.length;)R.push(v.shift()),T--;return v.length&&R.push(v.join(":")),R}function Te(v,T,R,F){this.j=v,this.i=T,this.l=R,this.S=F||1,this.V=new Qe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var Re={},ht={};function $e(v,T,R){v.M=1,v.A=vl(En(T)),v.u=R,v.R=!0,yt(v,null)}function yt(v,T){v.F=Date.now(),pa(v),v.B=En(v.A);var R=v.B,F=v.S;Array.isArray(F)||(F=[String(F)]),Cc(R.i,"t",F),v.C=0,R=v.j.L,v.h=new Ne,v.g=xm(v.j,R?T:null,!v.u),v.P>0&&(v.O=new Ht(m(v.Y,v,v.g),v.P)),T=v.V,R=v.g,F=v.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(nr[0]=ae.toString()),ae=nr);for(let fe=0;fe<ae.length;fe++){const Ee=re(R,ae[fe],F||T.handleEvent,!1,T.h||T);if(!Ee)break;T.g[Ee.key]=Ee}T=v.J?V(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),xr(),ro(v.i,v.v,v.B,v.l,v.S,v.u)}Te.prototype.ba=function(v){v=v.target;const T=this.O;T&&Wi(v)==3?T.j():this.Y(v)},Te.prototype.Y=function(v){try{if(v==this.g)e:{const Je=Wi(this.g),gn=this.g.ya(),bt=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||ir(this.g)))){this.K||Je!=4||gn==7||(gn==8||bt<=0?xr(3):xr(2)),ga(this);var T=this.g.ca();this.X=T;var R=rr(this);if(this.o=T==200,io(this.i,this.v,this.B,this.l,this.S,Je,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,ae=this.g;if((F=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(F)){var fe=F;break t}}fe=null}if(v=fe)xe(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,va(this,v);else{this.o=!1,this.m=3,Xt(12),ii(this),_i(this);break e}}if(this.R){v=!0;let Jt;for(;!this.K&&this.C<R.length;)if(Jt=om(this,R),Jt==ht){Je==4&&(this.m=4,Xt(14),v=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Re){this.m=4,Xt(15),xe(this.i,this.l,R,"[Invalid Chunk]"),v=!1;break}else xe(this.i,this.l,Jt,null),va(this,Jt);if(Fn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||R.length!=0||this.h.h||(this.m=1,Xt(16),v=!1),this.o=this.o&&v,!v)xe(this.i,this.l,R,"[Invalid Chunked Response]"),ii(this),_i(this);else if(R.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Od(Ee),Ee.P=!0,Xt(11))}}else xe(this.i,this.l,R,null),va(this,R);Je==4&&ii(this),this.o&&!this.K&&(Je==4?gm(this.j,this):(this.o=!1,pa(this)))}else ts(this.g),T==400&&R.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),ii(this),_i(this)}}}catch{}};function rr(v){if(!Fn(v))return v.g.la();const T=ir(v.g);if(T==="")return"";let R="";const F=T.length,ae=Wi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ii(v),_i(v),"";v.h.i=new l.TextDecoder}for(let fe=0;fe<F;fe++)v.h.h=!0,R+=v.h.i.decode(T[fe],{stream:!(ae&&fe==F-1)});return T.length=0,v.h.g+=R,v.C=0,v.h.g}function Fn(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function om(v,T){var R=v.C,F=T.indexOf(`
`,R);return F==-1?ht:(R=Number(T.substring(R,F)),isNaN(R)?Re:(F+=1,F+R>T.length?ht:(T=T.slice(F,F+R),v.C=F+R,T)))}Te.prototype.cancel=function(){this.K=!0,ii(this)};function pa(v){v.T=Date.now()+v.H,Tc(v,v.H)}function Tc(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Br(m(v.aa,v),T)}function ga(v){v.D&&(l.clearTimeout(v.D),v.D=null)}Te.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(je(this.i,this.B),this.M!=2&&(xr(),Xt(17)),ii(this),this.m=2,_i(this)):Tc(this,this.T-v)};function _i(v){v.j.I==0||v.K||gm(v.j,v)}function ii(v){ga(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,bi(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function va(v,T){try{var R=v.j;if(R.I!=0&&(R.g==v||ba(R.h,v))){if(!v.L&&ba(R.h,v)&&R.I==3){try{var F=R.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ae=F;if(ae[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<v.F)kc(R),ho(R);else break e;El(R),Xt(18)}}else R.xa=ae[1],0<R.xa-R.K&&ae[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Br(m(R.Va,R),6e3));ya(R.h)<=1&&R.ta&&(R.ta=void 0)}else Aa(R,11)}else if((v.L||R.g==v)&&kc(R),!k(T))for(ae=R.Ba.g.parse(T),T=0;T<ae.length;T++){let bt=ae[T];const Jt=bt[0];if(!(Jt<=R.K))if(R.K=Jt,bt=bt[1],R.I==2)if(bt[0]=="c"){R.M=bt[1],R.ba=bt[2];const Ai=bt[3];Ai!=null&&(R.ka=Ai,R.j.info("VER="+R.ka));const Ta=bt[4];Ta!=null&&(R.za=Ta,R.j.info("SVER="+R.za));const Xi=bt[5];Xi!=null&&typeof Xi=="number"&&Xi>0&&(F=1.5*Xi,R.O=F,R.j.info("backChannelRequestTimeoutMs_="+F)),F=R;const Qi=v.g;if(Qi){const Al=Qi.g?Qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Al){var fe=F.h;fe.g||Al.indexOf("spdy")==-1&&Al.indexOf("quic")==-1&&Al.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(yd(fe,fe.h),fe.h=null))}if(F.G){const Mc=Qi.g?Qi.g.getResponseHeader("X-HTTP-Session-Id"):null;Mc&&(F.wa=Mc,At(F.J,F.G,Mc))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-v.F,R.j.info("Handshake RTT: "+R.T+"ms")),F=R;var Ee=v;if(F.na=bm(F,F.L?F.ba:null,F.W),Ee.L){bd(F.h,Ee);var Je=Ee,gn=F.O;gn&&(Je.H=gn),Je.D&&(ga(Je),pa(Je)),F.g=Ee}else mm(F);R.i.length>0&&Ea(R)}else bt[0]!="stop"&&bt[0]!="close"||Aa(R,7);else R.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Aa(R,7):jd(R):bt[0]!="noop"&&R.l&&R.l.qa(bt),R.A=0)}}xr(4)}catch{}}var Sn=class{constructor(v,T){this.g=v,this.map=T}};function gd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ya(v){return v.h?1:v.g?v.g.size:0}function ba(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function yd(v,T){v.g?v.g.add(T):v.h=T}function bd(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}gd.prototype.cancel=function(){if(this.i=xd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function xd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const R of v.g.values())T=T.concat(R.G);return T}return _(v.i)}var lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(v,T){if(v){v=v.split("&");for(let R=0;R<v.length;R++){const F=v[R].indexOf("=");let ae,fe=null;F>=0?(ae=v[R].substring(0,F),fe=v[R].substring(F+1)):ae=v[R],T(ae,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function ai(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof ai?(this.l=v.l,Hn(this,v.j),this.o=v.o,this.g=v.g,ao(this,v.u),this.h=v.h,wd(this,fm(v.i)),this.m=v.m):v&&(T=String(v).match(lm))?(this.l=!1,Hn(this,T[1]||"",!0),this.o=xa(T[2]||""),this.g=xa(T[3]||"",!0),ao(this,T[4]),this.h=xa(T[5]||"",!0),wd(this,T[6]||"",!0),this.m=xa(T[7]||"")):(this.l=!1,this.i=new oo(null,this.l))}ai.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(yl(T,jc,!0),":");var R=this.g;return(R||T=="file")&&(v.push("//"),(T=this.o)&&v.push(yl(T,jc,!0),"@"),v.push(ri(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&v.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&v.push("/"),v.push(yl(R,R.charAt(0)=="/"?_d:cm,!0))),(R=this.i.toString())&&v.push("?",R),(R=this.m)&&v.push("#",yl(R,um)),v.join("")},ai.prototype.resolve=function(v){const T=En(this);let R=!!v.j;R?Hn(T,v.j):R=!!v.o,R?T.o=v.o:R=!!v.g,R?T.g=v.g:R=v.u!=null;var F=v.h;if(R)ao(T,v.u);else if(R=!!v.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var ae=T.h.lastIndexOf("/");ae!=-1&&(F=T.h.slice(0,ae+1)+F)}if(ae=F,ae==".."||ae==".")F="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){F=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const fe=[];for(let Ee=0;Ee<ae.length;){const Je=ae[Ee++];Je=="."?F&&Ee==ae.length&&fe.push(""):Je==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),F&&Ee==ae.length&&fe.push("")):(fe.push(Je),F=!0)}F=fe.join("/")}else F=ae}return R?T.h=F:R=v.i.toString()!=="",R?wd(T,fm(v.i)):R=!!v.m,R&&(T.m=v.m),T};function En(v){return new ai(v)}function Hn(v,T,R){v.j=R?xa(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function ao(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function wd(v,T,R){T instanceof oo?(v.i=T,Oc(v.i,v.l)):(R||(T=yl(T,so)),v.i=new oo(T,v.l))}function At(v,T,R){v.i.set(T,R)}function vl(v){return At(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function xa(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function yl(v,T,R){return typeof v=="string"?(v=encodeURI(v).replace(T,qr),R&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function qr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var jc=/[#\/\?@]/g,cm=/[#\?:]/g,_d=/[#\?]/g,so=/[#\?@]/g,um=/#/g;function oo(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Fr(v){v.g||(v.g=new Map,v.h=0,v.i&&Nc(v.i,function(T,R){v.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=oo.prototype,t.add=function(v,T){Fr(this),this.i=null,v=lo(this,v);let R=this.g.get(v);return R||this.g.set(v,R=[]),R.push(T),this.h+=1,this};function dm(v,T){Fr(v),T=lo(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function Sd(v,T){return Fr(v),T=lo(v,T),v.g.has(T)}t.forEach=function(v,T){Fr(this),this.g.forEach(function(R,F){R.forEach(function(ae){v.call(T,ae,F,this)},this)},this)};function Ed(v,T){Fr(v);let R=[];if(typeof T=="string")Sd(v,T)&&(R=R.concat(v.g.get(lo(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)R=R.concat(v[T]);return R}t.set=function(v,T){return Fr(this),this.i=null,v=lo(this,v),Sd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=Ed(this,v),v.length>0?String(v[0]):T):T};function Cc(v,T,R){dm(v,T),R.length>0&&(v.i=null,v.g.set(lo(v,T),_(R)),v.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var R=T[F];const ae=ri(R);R=Ed(this,R);for(let fe=0;fe<R.length;fe++){let Ee=ae;R[fe]!==""&&(Ee+="="+ri(R[fe])),v.push(Ee)}}return this.i=v.join("&")};function fm(v){const T=new oo;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function lo(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Oc(v,T){T&&!v.j&&(Fr(v),v.i=null,v.g.forEach(function(R,F){const ae=F.toLowerCase();F!=ae&&(dm(this,F),Cc(this,ae,R))},v)),v.j=T}function Gi(v,T){const R=new Or;if(l.Image){const F=new Image;F.onload=p(Si,R,"TestLoadImage: loaded",!0,T,F),F.onerror=p(Si,R,"TestLoadImage: error",!1,T,F),F.onabort=p(Si,R,"TestLoadImage: abort",!1,T,F),F.ontimeout=p(Si,R,"TestLoadImage: timeout",!1,T,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=v}else T(!1)}function Ad(v,T){const R=new Or,F=new AbortController,ae=setTimeout(()=>{F.abort(),Si(R,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:F.signal}).then(fe=>{clearTimeout(ae),fe.ok?Si(R,"TestPingServer: ok",!0,T):Si(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ae),Si(R,"TestPingServer: error",!1,T)})}function Si(v,T,R,F,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),F(R)}catch{}}function co(){this.g=new ha}function wa(v){this.i=v.Sb||null,this.h=v.ab||!1}g(wa,ti),wa.prototype.g=function(){return new bl(this.i,this.h)};function bl(v,T){Dt.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(bl,Dt),t=bl.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,Yi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ic(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ic(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?uo(this):Yi(this),this.readyState==3&&Ic(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,uo(this))},t.Na=function(v){this.g&&(this.response=v,uo(this))},t.ga=function(){this.g&&uo(this)};function uo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Yi(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,v.push(R[0]+": "+R[1]),R=T.next();return v.join(`\r
`)};function Yi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ei(v){let T="";return oe(v,function(R,F){T+=F,T+=":",T+=R,T+=`\r
`}),T}function xl(v,T,R){e:{for(F in R){var F=!1;break e}F=!0}F||(R=Ei(R),typeof v=="string"?R!=null&&ri(R):At(v,T,R))}function It(v){Dt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(It,Dt);var _a=/^https?$/i,Td=["POST","PUT"];t=It.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,R,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qt.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(fe){wl(this,fe);return}if(v=R||"",R=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ae in F)R.set(ae,F[ae]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const fe of F.keys())R.set(fe,F.get(fe));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(R.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Td,T,void 0)>=0)||F||ae||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ee]of R)this.g.setRequestHeader(fe,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(fe){wl(this,fe)}};function wl(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,Nd(v),es(v)}function Nd(v){v.A||(v.A=!0,Ot(v,"complete"),Ot(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Ot(this,"complete"),Ot(this,"abort"),es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},t.Xa=function(){_l(this)};function _l(v){if(v.h&&typeof s<"u"){if(v.v&&Wi(v)==4)setTimeout(v.Ca.bind(v),0);else if(Ot(v,"readystatechange"),Wi(v)==4){v.h=!1;try{const fe=v.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var F;if(F=fe===0){let Ee=String(v.D).match(lm)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),F=!_a.test(Ee?Ee.toLowerCase():"")}R=F}if(R)Ot(v,"complete"),Ot(v,"success");else{v.o=6;try{var ae=Wi(v)>2?v.g.statusText:""}catch{ae=""}v.l=ae+" ["+v.ca()+"]",Nd(v)}}finally{es(v)}}}}function es(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const R=v.g;v.g=null,T||Ot(v,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),Ja(T)}};function ir(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(v){const T={};v=(v.g&&Wi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<v.length;F++){if(k(v[F]))continue;var R=Q(v[F]);const ae=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const fe=T[ae]||[];T[ae]=fe,fe.push(R)}we(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(v,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[v]||T}function fo(v){this.za=0,this.i=[],this.j=new Or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,v),this.Za=Sa("retryDelaySeedMs",1e4,v),this.Ta=Sa("forwardChannelMaxRetries",2,v),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new gd(v&&v.concurrentRequestLimit),this.Ba=new co,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fo.prototype,t.ka=8,t.I=1,t.connect=function(v,T,R,F){Xt(0),this.W=v,this.H=T||{},R&&F!==void 0&&(this.H.OSID=R,this.H.OAID=F),this.F=this.X,this.J=bm(this,null,this.W),Ea(this)};function jd(v){if(Pc(v),v.I==3){var T=v.V++,R=En(v.J);if(At(R,"SID",v.M),At(R,"RID",T),At(R,"TYPE","terminate"),Sl(v,R),T=new Te(v,v.j,T),T.M=2,T.A=vl(En(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!R&&l.Image&&(new Image().src=T.A,R=!0),R||(T.g=xm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),pa(T)}ym(v)}function ho(v){v.g&&(Od(v),v.g.cancel(),v.g=null)}function Pc(v){ho(v),v.v&&(l.clearTimeout(v.v),v.v=null),kc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function Ea(v){if(!vd(v.h)&&!v.m){v.m=!0;var T=v.Ea;$||N(),z||($(),z=!0),O.add(T,v),v.D=0}}function Rc(v,T){return ya(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Br(m(v.Ea,v,T),vm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ae=new Te(this,this.j,v);let fe=this.o;if(this.U&&(fe?(fe=V(fe),G(fe,this.U)):fe=this.U),this.u!==null||this.R||(ae.J=fe,fe=null),this.S)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var F=this.i[R];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=hm(this,ae,T),R=En(this.J),At(R,"RID",v),At(R,"CVER",22),this.G&&At(R,"X-HTTP-Session-Id",this.G),Sl(this,R),fe&&(this.R?T="headers="+ri(Ei(fe))+"&"+T:this.u&&xl(R,this.u,fe)),yd(this.h,ae),this.Ra&&At(R,"TYPE","init"),this.S?(At(R,"$req",T),At(R,"SID","null"),ae.U=!0,$e(ae,R,null)):$e(ae,R,T),this.I=2}}else this.I==3&&(v?Cd(this,v):this.i.length==0||vd(this.h)||Cd(this))};function Cd(v,T){var R;T?R=T.l:R=v.V++;const F=En(v.J);At(F,"SID",v.M),At(F,"RID",R),At(F,"AID",v.K),Sl(v,F),v.u&&v.o&&xl(F,v.u,v.o),R=new Te(v,v.j,R,v.D+1),v.u===null&&(R.J=v.o),T&&(v.i=T.G.concat(v.i)),T=hm(v,R,1e3),R.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),yd(v.h,R),$e(R,F,T)}function Sl(v,T){v.H&&oe(v.H,function(R,F){At(T,F,R)}),v.l&&oe({},function(R,F){At(T,F,R)})}function hm(v,T,R){R=Math.min(v.i.length,R);const F=v.l?m(v.l.Ka,v.l,v):null;e:{var ae=v.i;let Je=-1;for(;;){const gn=["count="+R];Je==-1?R>0?(Je=ae[0].g,gn.push("ofs="+Je)):Je=0:gn.push("ofs="+Je);let bt=!0;for(let Jt=0;Jt<R;Jt++){var fe=ae[Jt].g;const Ai=ae[Jt].map;if(fe-=Je,fe<0)Je=Math.max(0,ae[Jt].g-100),bt=!1;else try{fe="req"+fe+"_"||"";try{var Ee=Ai instanceof Map?Ai:Object.entries(Ai);for(const[Ta,Xi]of Ee){let Qi=Xi;u(Xi)&&(Qi=xi(Xi)),gn.push(fe+Ta+"="+encodeURIComponent(Qi))}}catch(Ta){throw gn.push(fe+"type="+encodeURIComponent("_badmap")),Ta}}catch{F&&F(Ai)}}if(bt){Ee=gn.join("&");break e}}Ee=void 0}return v=v.i.splice(0,R),T.G=v,Ee}function mm(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;$||N(),z||($(),z=!0),O.add(T,v),v.A=0}}function El(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Br(m(v.Da,v),vm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,pm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Br(m(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),ho(this),pm(this))};function Od(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function pm(v){v.g=new Te(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=En(v.na);At(T,"RID","rpc"),At(T,"SID",v.M),At(T,"AID",v.K),At(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&At(T,"TO",v.ia),At(T,"TYPE","xmlhttp"),Sl(v,T),v.u&&v.o&&xl(T,v.u,v.o),v.O&&(v.g.H=v.O);var R=v.g;v=v.ba,R.M=1,R.A=vl(En(T)),R.u=null,R.R=!0,yt(R,v)}t.Va=function(){this.C!=null&&(this.C=null,ho(this),El(this),Xt(19))};function kc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function gm(v,T){var R=null;if(v.g==T){kc(v),Od(v),v.g=null;var F=2}else if(ba(v.h,T))R=T.G,bd(v.h,T),F=1;else return;if(v.I!=0){if(T.o)if(F==1){R=T.u?T.u.length:0,T=Date.now()-T.F;var ae=v.D;F=wi(),Ot(F,new $r(F,R)),Ea(v)}else mm(v);else if(ae=T.m,ae==3||ae==0&&T.X>0||!(F==1&&Rc(v,T)||F==2&&El(v)))switch(R&&R.length>0&&(T=v.h,T.i=T.i.concat(R)),ae){case 1:Aa(v,5);break;case 4:Aa(v,10);break;case 3:Aa(v,6);break;default:Aa(v,2)}}}function vm(v,T){let R=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(R*=2),R*T}function Aa(v,T){if(v.j.info("Error code "+T),T==2){var R=m(v.bb,v),F=v.Ua;const ae=!F;F=new ai(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Hn(F,"https"),vl(F),ae?Gi(F.toString(),R):Ad(F.toString(),R)}else Xt(2);v.I=0,v.l&&v.l.pa(T),ym(v),Pc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function ym(v){if(v.I=0,v.ja=[],v.l){const T=xd(v.h);(T.length!=0||v.i.length!=0)&&(S(v.ja,T),S(v.ja,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.oa()}}function bm(v,T,R){var F=R instanceof ai?En(R):new ai(R);if(F.g!="")T&&(F.g=T+"."+F.g),ao(F,F.u);else{var ae=l.location;F=ae.protocol,T=T?T+"."+ae.hostname:ae.hostname,ae=+ae.port;const fe=new ai(null);F&&Hn(fe,F),T&&(fe.g=T),ae&&ao(fe,ae),R&&(fe.h=R),F=fe}return R=v.G,T=v.wa,R&&T&&At(F,R,T),At(F,"VER",v.ka),Sl(v,F),F}function xm(v,T,R){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new It(new wa({ab:R})):new It(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wm(){}t=wm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mo(){}mo.prototype.g=function(v,T){return new Ir(v,T)};function Ir(v,T){Dt.call(this),this.g=new fo(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!k(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!k(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new ns(this)}g(Ir,Dt),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){jd(this.g)},Ir.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var R={};R.__data__=v,v=R}else this.v&&(R={},R.__data__=xi(v),v=R);T.i.push(new Sn(T.Ya++,v)),T.I==3&&Ea(T)},Ir.prototype.N=function(){this.g.l=null,delete this.j,jd(this.g),delete this.g,Ir.Z.N.call(this)};function _m(v){rn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const R in T){v=R;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(_m,rn);function Sm(){qn.call(this),this.status=1}g(Sm,qn);function ns(v){this.g=v}g(ns,wm),ns.prototype.ra=function(){Ot(this.g,"a")},ns.prototype.qa=function(v){Ot(this.g,new _m(v))},ns.prototype.pa=function(v){Ot(this.g,new Sm)},ns.prototype.oa=function(){Ot(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,PM=function(){return new mo},IM=function(){return wi()},OM=$t,rw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vt.NO_ERROR=0,vt.TIMEOUT=8,vt.HTTP_ERROR=6,tg=vt,an.COMPLETE="complete",CM=an,ma.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Af=ma,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,jM=It}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});const Mj="@firebase/firestore",Dj="4.9.3";let Er=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");let Zu="12.7.0";const oc=new S_("@firebase/firestore");function mu(){return oc.logLevel}function ke(t,...e){if(oc.logLevel<=ot.DEBUG){const n=e.map(k_);oc.debug(`Firestore (${Zu}): ${t}`,...n)}}function Ms(t,...e){if(oc.logLevel<=ot.ERROR){const n=e.map(k_);oc.error(`Firestore (${Zu}): ${t}`,...n)}}function ku(t,...e){if(oc.logLevel<=ot.WARN){const n=e.map(k_);oc.warn(`Firestore (${Zu}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RM(t,r,n)}function RM(t,e,n){let r=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ms(r),new Error(r)}function Et(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||RM(e,i,r)}function Xe(t,e){return t}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class kM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Er.UNAUTHENTICATED)))}shutdown(){}}class l7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class c7{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new js;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new js,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new js)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new kM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Er(e)}}class u7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new u7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function h7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class M_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=h7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function iw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return ox(i)===ox(s)?lt(i,s):ox(i)?1:-1}return lt(t.length,e.length)}const m7=55296,p7=57343;function ox(t){const e=t.charCodeAt(0);return e>=m7&&e<=p7}function Mu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const zj="__name__";class Pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Pa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return lt(e.length,n.length)}static compareSegments(e,n){const r=Pa.isNumericId(e),i=Pa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Pa.extractNumericId(e).compare(Pa.extractNumericId(n)):iw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xo.fromString(e.substring(4,e.length-2))}}class qt extends Pa{construct(e,n,r){return new qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new qt(n)}static emptyPath(){return new qt([])}}const g7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Pa{construct(e,n,r){return new pr(e,n,r)}static isValidIdentifier(e){return g7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zj}static keyField(){return new pr([zj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ce(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Ce(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(n)}static emptyPath(){return new pr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(qt.fromString(e))}static fromName(e){return new qe(qt.fromString(e).popFirst(5))}static empty(){return new qe(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new qt(e.slice()))}}function MM(t,e,n){if(!n)throw new Ce(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v7(t,e,n,r){if(e===!0&&r===!0)throw new Ce(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vj(t){if(!qe.isDocumentKey(t))throw new Ce(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uj(t){if(qe.isDocumentKey(t))throw new Ce(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mv(t);throw new Ce(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function y7(t,e){if(e<=0)throw new Ce(ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Eh(t,e){if(!DM(t))throw new Ce(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ce(ge.INVALID_ARGUMENT,n);return!0}const $j=-62135596800,Bj=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Bj);return new zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$j)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bj}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eh(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$j;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:Pn("string",zt._jsonSchemaVersion),seconds:Pn("number"),nanoseconds:Pn("number")};class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new zt(0,0))}static max(){return new Ye(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qf=-1;function b7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new Zo(i,qe.empty(),e)}function x7(t){return new Zo(t.readTime,t.key,qf)}class Zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zo(Ye.min(),qe.empty(),qf)}static max(){return new Zo(Ye.max(),qe.empty(),qf)}}function w7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}const _7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ed(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==_7)throw t;ke("LocalStore","Unexpectedly lost primary lease")}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const m=d;n(e[m]).next((p=>{l[m]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new _e(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function E7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function td(t){return t.name==="IndexedDbTransactionError"}class Dv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dv.ce=-1;const D_=-1;function Lv(t){return t==null}function _g(t){return t===0&&1/t==-1/0}function A7(t){return typeof t=="number"&&Number.isInteger(t)&&!_g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const LM="";function T7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qj(e)),e=N7(t.get(n),e);return qj(e)}function N7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case LM:n+="";break;default:n+=s}}return n}function qj(t){return t+LM+""}function Fj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ul(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class on{constructor(e,n){this.comparator=e,this.root=n||hr.EMPTY}insert(e,n){return new on(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??hr.RED,this.left=i??hr.EMPTY,this.right=s??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new hr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new hr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hj(this.data.getIterator())}getIteratorFrom(e){return new Hj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class Hj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pi{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new pi([])}unionWith(e){let n=new Ln(pr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class VM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VM("Invalid base64 string: "+s):s}})(e);return new vr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const j7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=j7.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tl(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}const UM="server_timestamp",$M="__type__",BM="__previous_value__",qM="__local_write_time__";function L_(t){return(t?.mapValue?.fields||{})[$M]?.stringValue===UM}function zv(t){const e=t.mapValue.fields[BM];return L_(e)?zv(e):e}function Ff(t){const e=el(t.mapValue.fields[qM].timestampValue);return new zt(e.seconds,e.nanos)}class C7{constructor(e,n,r,i,s,l,u,d,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=p}}const Sg="(default)";class Hf{constructor(e,n){this.projectId=e,this.database=n||Sg}static empty(){return new Hf("","")}get isDefaultDatabase(){return this.database===Sg}isEqual(e){return e instanceof Hf&&e.projectId===this.projectId&&e.database===this.database}}const FM="__type__",O7="__max__",Op={mapValue:{}},HM="__vector__",Eg="value";function nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L_(t)?4:P7(t)?9007199254740991:I7(t)?10:11:He(28295,{value:t})}function Ba(t,e){if(t===e)return!0;const n=nl(t);if(n!==nl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ff(t).isEqual(Ff(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=el(i.timestampValue),u=el(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return tl(i.bytesValue).isEqual(tl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return wn(i.geoPointValue.latitude)===wn(s.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return wn(i.integerValue)===wn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=wn(i.doubleValue),u=wn(s.doubleValue);return l===u?_g(l)===_g(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Mu(t.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Fj(l)!==Fj(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ba(l[d],u[d])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function Kf(t,e){return(t.values||[]).find((n=>Ba(n,e)))!==void 0}function Du(t,e){if(t===e)return 0;const n=nl(t),r=nl(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=wn(s.integerValue||s.doubleValue),d=wn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return Kj(t.timestampValue,e.timestampValue);case 4:return Kj(Ff(t),Ff(e));case 5:return iw(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=tl(s),d=tl(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let m=0;m<u.length&&m<d.length;m++){const p=lt(u[m],d[m]);if(p!==0)return p}return lt(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=lt(wn(s.latitude),wn(l.latitude));return u!==0?u:lt(wn(s.longitude),wn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Gj(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},m=u[Eg]?.arrayValue,p=d[Eg]?.arrayValue,g=lt(m?.values?.length||0,p?.values?.length||0);return g!==0?g:Gj(m,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Op.mapValue&&l===Op.mapValue)return 0;if(s===Op.mapValue)return 1;if(l===Op.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),m=l.fields||{},p=Object.keys(m);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=iw(d[g],p[g]);if(b!==0)return b;const _=Du(u[d[g]],m[p[g]]);if(_!==0)return _}return lt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function Kj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=el(t),r=el(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function Gj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Du(n[i],r[i]);if(s)return s}return lt(n.length,r.length)}function Lu(t){return aw(t)}function aw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=el(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return tl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=aw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${aw(n.fields[l])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function ng(t){switch(nl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zv(t);return e?16+ng(e):16;case 5:return 2*t.stringValue.length;case 6:return tl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+ng(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ul(r.fields,((s,l)=>{i+=s.length+ng(l)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function Yj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sw(t){return!!t&&"integerValue"in t}function z_(t){return!!t&&"arrayValue"in t}function Wj(t){return!!t&&"nullValue"in t}function Xj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}function I7(t){return(t?.mapValue?.fields||{})[FM]?.stringValue===HM}function kf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ul(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kf(t.arrayValue.values[n]);return e}return{...t}}function P7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O7}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kf(n)}setAll(e){let n=pr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=kf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ul(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Qr(kf(this.value))}}function KM(t){const e=[];return ul(t.fields,((n,r)=>{const i=new pr([n]);if(rg(r)){const s=KM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new pi(e)}class Ar{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ar(e,0,Ye.min(),Ye.min(),Ye.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,i){return new Ar(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new Ar(e,2,n,Ye.min(),Ye.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new Ar(e,3,n,Ye.min(),Ye.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ag{constructor(e,n){this.position=e,this.inclusive=n}}function Qj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=qe.comparator(qe.fromName(l.referenceValue),n.key):r=Du(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ba(t.position[n],e.position[n]))return!1;return!0}class Gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function R7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class GM{}class In extends GM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M7(e,n,r):n==="array-contains"?new z7(e,r):n==="in"?new V7(e,r):n==="not-in"?new U7(e,r):n==="array-contains-any"?new $7(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D7(e,r):new L7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Du(n,this.value)):n!==null&&nl(this.value)===nl(n)&&this.matchesComparison(Du(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class la extends GM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new la(e,n)}matches(e){return YM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YM(t){return t.op==="and"}function WM(t){return k7(t)&&YM(t)}function k7(t){for(const e of t.filters)if(e instanceof la)return!1;return!0}function ow(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Lu(t.value);if(WM(t))return t.filters.map((e=>ow(e))).join(",");{const e=t.filters.map((n=>ow(n))).join(",");return`${t.op}(${e})`}}function XM(t,e){return t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&Ba(r.value,i.value)})(t,e):t instanceof la?(function(r,i){return i instanceof la&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&XM(l,i.filters[u])),!0):!1})(t,e):void He(19439)}function QM(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lu(n.value)}`})(t):t instanceof la?(function(n){return n.op.toString()+" {"+n.getFilters().map(QM).join(" ,")+"}"})(t):"Filter"}class M7 extends In{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class D7 extends In{constructor(e,n){super(e,"in",n),this.keys=JM("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class L7 extends In{constructor(e,n){super(e,"not-in",n),this.keys=JM("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JM(t,e){return(e.arrayValue?.values||[]).map((n=>qe.fromName(n.referenceValue)))}class z7 extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z_(n)&&Kf(n.arrayValue,this.value)}}class V7 extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kf(this.value.arrayValue,n)}}class U7 extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kf(this.value.arrayValue,n)}}class $7 extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kf(this.value.arrayValue,r)))}}class B7{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function Zj(t,e=null,n=[],r=[],i=null,s=null,l=null){return new B7(t,e,n,r,i,s,l)}function V_(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ow(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Lv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Lu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Lu(r))).join(",")),e.Te=n}return e.Te}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jj(t.startAt,e.startAt)&&Jj(t.endAt,e.endAt)}function lw(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class nd{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function q7(t,e,n,r,i,s,l,u){return new nd(t,e,n,r,i,s,l,u)}function Vv(t){return new nd(t)}function eC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZM(t){return t.collectionGroup!==null}function Mf(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ln(pr.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Gf(s,r))})),n.has(pr.keyField().canonicalString())||e.Ie.push(new Gf(pr.keyField(),r))}return e.Ie}function La(t){const e=Xe(t);return e.Ee||(e.Ee=F7(e,Mf(t))),e.Ee}function F7(t,e){if(t.limitType==="F")return Zj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Gf(i.field,s)}));const n=t.endAt?new Ag(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ag(t.startAt.position,t.startAt.inclusive):null;return Zj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cw(t,e){const n=t.filters.concat([e]);return new nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uv(t,e){return U_(La(t),La(e))&&t.limitType===e.limitType}function eD(t){return`${V_(La(t))}|lt:${t.limitType}`}function pu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>QM(i))).join(", ")}]`),Lv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Lu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Lu(i))).join(",")),`Target(${r})`})(La(t))}; limitType=${t.limitType})`}function $v(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Mf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const m=Qj(l,u,d);return l.inclusive?m<=0:m<0})(r.startAt,Mf(r),i)||r.endAt&&!(function(l,u,d){const m=Qj(l,u,d);return l.inclusive?m>=0:m>0})(r.endAt,Mf(r),i))})(t,e)}function H7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tD(t){return(e,n)=>{let r=!1;for(const i of Mf(t)){const s=K7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function K7(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(s,l,u){const d=l.data.field(s),m=u.data.field(s);return d!==null&&m!==null?Du(d,m):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}class xc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ul(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return zM(this.inner)}size(){return this.innerSize}}const G7=new on(qe.comparator);function Ds(){return G7}const nD=new on(qe.comparator);function Tf(...t){let e=nD;for(const n of t)e=e.insert(n.key,n);return e}function rD(t){let e=nD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Hl(){return Df()}function iD(){return Df()}function Df(){return new xc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Y7=new on(qe.comparator),W7=new Ln(qe.comparator);function ct(...t){let e=W7;for(const n of t)e=e.add(n);return e}const X7=new Ln(lt);function Q7(){return X7}function $_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_g(e)?"-0":e}}function aD(t){return{integerValue:""+t}}function sD(t,e){return A7(e)?aD(e):$_(t,e)}class Bv{constructor(){this._=void 0}}function J7(t,e,n){return t instanceof Yf?(function(i,s){const l={fields:{[$M]:{stringValue:UM},[qM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&L_(s)&&(s=zv(s)),s&&(l.fields[BM]=s),{mapValue:l}})(n,e):t instanceof Wf?lD(t,e):t instanceof Xf?cD(t,e):(function(i,s){const l=oD(i,s),u=tC(l)+tC(i.Ae);return sw(l)&&sw(i.Ae)?aD(u):$_(i.serializer,u)})(t,e)}function Z7(t,e,n){return t instanceof Wf?lD(t,e):t instanceof Xf?cD(t,e):n}function oD(t,e){return t instanceof Qf?(function(r){return sw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Yf extends Bv{}class Wf extends Bv{constructor(e){super(),this.elements=e}}function lD(t,e){const n=uD(e);for(const r of t.elements)n.some((i=>Ba(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Xf extends Bv{constructor(e){super(),this.elements=e}}function cD(t,e){let n=uD(e);for(const r of t.elements)n=n.filter((i=>!Ba(i,r)));return{arrayValue:{values:n}}}class Qf extends Bv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tC(t){return wn(t.integerValue||t.doubleValue)}function uD(t){return z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class dD{constructor(e,n){this.field=e,this.transform=n}}function eB(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Wf&&i instanceof Wf||r instanceof Xf&&i instanceof Xf?Mu(r.elements,i.elements,Ba):r instanceof Qf&&i instanceof Qf?Ba(r.Ae,i.Ae):r instanceof Yf&&i instanceof Yf})(t.transform,e.transform)}class tB{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ig(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qv{}function fD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fv(t.key,Dr.none()):new Ah(t.key,t.data,Dr.none());{const n=t.data,r=Qr.empty();let i=new Ln(pr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new dl(t.key,r,new pi(i.toArray()),Dr.none())}}function nB(t,e,n){t instanceof Ah?(function(i,s,l){const u=i.value.clone(),d=rC(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof dl?(function(i,s,l){if(!ig(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=rC(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(hD(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Lf(t,e,n,r){return t instanceof Ah?(function(s,l,u,d){if(!ig(s.precondition,l))return u;const m=s.value.clone(),p=iC(s.fieldTransforms,d,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof dl?(function(s,l,u,d){if(!ig(s.precondition,l))return u;const m=iC(s.fieldTransforms,d,l),p=l.data;return p.setAll(hD(s)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return ig(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function rB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oD(r.transform,i||null);s!=null&&(n===null&&(n=Qr.empty()),n.set(r.field,s))}return n||null}function nC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mu(r,i,((s,l)=>eB(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ah extends qv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dl extends qv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rC(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,Z7(l,u,n[i]))}return r}function iC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,J7(s,l,e))}return r}class Fv extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iB extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iD();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const d=fD(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ct())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,((n,r)=>nC(n,r)))&&Mu(this.baseMutations,e.baseMutations,((n,r)=>nC(n,r)))}}class B_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Y7})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new B_(e,n,r,i)}}class sB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oB{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cn,dt;function lB(t){switch(t){case ge.OK:return He(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function mD(t){if(t===void 0)return Ms("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Cn.OK:return ge.OK;case Cn.CANCELLED:return ge.CANCELLED;case Cn.UNKNOWN:return ge.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ge.INTERNAL;case Cn.UNAVAILABLE:return ge.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ge.NOT_FOUND;case Cn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Cn.ABORTED:return ge.ABORTED;case Cn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Cn.DATA_LOSS:return ge.DATA_LOSS;default:return He(39323,{code:t})}}(dt=Cn||(Cn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";function cB(){return new TextEncoder}const uB=new Xo([4294967295,4294967295],0);function aC(t){const e=cB().encode(t),n=new NM;return n.update(e),new Uint8Array(n.digest())}function sC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,s],0)]}class q_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nf(`Invalid padding: ${n}`);if(r<0)throw new Nf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Xo.fromNumber(r)));return i.compare(uB)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aC(e),[r,i]=sC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new q_(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=aC(e),[r,i]=sC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hv(Ye.min(),i,new on(lt),Ds(),ct())}}class Th{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,ct(),ct(),ct())}}class ag{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class pD{constructor(e,n){this.targetId=e,this.Ce=n}}class gD{constructor(e,n,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oC{constructor(){this.ve=0,this.Fe=lC(),this.Me=vr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),r=ct();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:s})}})),new Th(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=Ip(),this.He=Ip(),this.Ye=new on(lt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(lw(s))if(r===0){const l=new qe(s.path);this.et(n,l,Ar.newNoDocument(l,Ye.min()))}else Et(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=tl(r).toUint8Array()}catch(d){if(d instanceof VM)return ku("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new q_(l,i,s)}catch(d){return ku(d instanceof Nf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&lw(u.target)){const d=new qe(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Ar.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ct();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Hv(e,n,this.Ye,this.je,r);return this.je=Ds(),this.Je=Ip(),this.He=Ip(),this.Ye=new on(lt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ln(lt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ln(lt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ip(){return new on(qe.comparator)}function lC(){return new on(qe.comparator)}const fB={asc:"ASCENDING",desc:"DESCENDING"},hB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mB={and:"AND",or:"OR"};class pB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uw(t,e){return t.useProto3Json||Lv(e)?e:{value:e}}function Ng(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gB(t,e){return Ng(t,e.toTimestamp())}function za(t){return Et(!!t,49232),Ye.fromTimestamp((function(n){const r=el(n);return new zt(r.seconds,r.nanos)})(t))}function F_(t,e){return dw(t,e).canonicalString()}function dw(t,e){const n=(function(i){return new qt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yD(t){const e=qt.fromString(t);return Et(SD(e),10190,{key:e.toString()}),e}function fw(t,e){return F_(t.databaseId,e.path)}function lx(t,e){const n=yD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(xD(n))}function bD(t,e){return F_(t.databaseId,e)}function vB(t){const e=yD(t);return e.length===4?qt.emptyPath():xD(e)}function hw(t){return new qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xD(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cC(t,e,n){return{name:fw(t,e),fields:n.value.mapValue.fields}}function yB(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:He(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(m,p){return m.useProto3Json?(Et(p===void 0||typeof p=="string",58123),vr.fromBase64String(p||"")):(Et(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),vr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const p=m.code===void 0?ge.UNKNOWN:mD(m.code);return new Ce(p,m.message||"")})(l);n=new gD(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lx(t,r.document.name),s=za(r.document.updateTime),l=r.document.createTime?za(r.document.createTime):Ye.min(),u=new Qr({mapValue:{fields:r.document.fields}}),d=Ar.newFoundDocument(i,s,l,u),m=r.targetIds||[],p=r.removedTargetIds||[];n=new ag(m,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lx(t,r.document),s=r.readTime?za(r.readTime):Ye.min(),l=Ar.newNoDocument(i,s),u=r.removedTargetIds||[];n=new ag([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lx(t,r.document),s=r.removedTargetIds||[];n=new ag([],s,i,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new oB(i,s),u=r.targetId;n=new pD(u,l)}}return n}function bB(t,e){let n;if(e instanceof Ah)n={update:cC(t,e.key,e.value)};else if(e instanceof Fv)n={delete:fw(t,e.key)};else if(e instanceof dl)n={update:cC(t,e.key,e.data),updateMask:jB(e.fieldMask)};else{if(!(e instanceof iB))return He(16599,{Vt:e.type});n={verify:fw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Yf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Wf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Xf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw He(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:gB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function xB(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?za(i.updateTime):za(s);return l.isEqual(Ye.min())&&(l=za(s)),new tB(l,i.transformResults||[])})(n,e)))):[]}function wB(t,e){return{documents:[bD(t,e.path)]}}function _B(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bD(t,i);const s=(function(m){if(m.length!==0)return _D(la.create(m,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(m){if(m.length!==0)return m.map((p=>(function(b){return{field:gu(b.field),direction:AB(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=uw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function SB(t){let e=vB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=wD(g);return b instanceof la&&WM(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(S){return new Gf(vu(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,Lv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,_=g.values||[];return new Ag(_,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(g){const b=!g.before,_=g.values||[];return new Ag(_,b)})(n.endAt)),q7(e,i,l,s,u,"F",d,m)}function EB(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vu(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vu(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vu(n.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=vu(n.unaryFilter.field);return In.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(vu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return la.create(n.compositeFilter.filters.map((r=>wD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function AB(t){return fB[t]}function TB(t){return hB[t]}function NB(t){return mB[t]}function gu(t){return{fieldPath:t.canonicalString()}}function vu(t){return pr.fromServerFormat(t.fieldPath)}function _D(t){return t instanceof In?(function(n){if(n.op==="=="){if(Xj(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NAN"}};if(Wj(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xj(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NAN"}};if(Wj(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(n.field),op:TB(n.op),value:n.value}}})(t):t instanceof la?(function(n){const r=n.getFilters().map((i=>_D(i)));return r.length===1?r[0]:{compositeFilter:{op:NB(n.op),filters:r}}})(t):He(54877,{filter:t})}function jB(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ho{constructor(e,n,r,i,s=Ye.min(),l=Ye.min(),u=vr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CB{constructor(e){this.yt=e}}function OB(t){const e=SB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}class IB{constructor(){this.Cn=new PB}addToCollectionParentIndex(e,n){return this.Cn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(Zo.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class PB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ln(qt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln(qt.comparator)).toArray()}}const uC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ED=41943040;class Xr{static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(ED,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class zu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zu(0)}static cr(){return new zu(-1)}}const dC="LruGarbageCollector",RB=1048576;function fC([t,e],[n,r]){const i=lt(t,n);return i===0?lt(e,r):i}class kB{constructor(e){this.Ir=e,this.buffer=new Ln(fC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(dC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){td(n)?ke(dC,"Ignoring IndexedDB error during garbage collection: ",n):await ed(n)}await this.Vr(3e5)}))}}class DB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(Dv.ce);const r=new kB(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(uC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,d,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(m=Date.now(),mu()<=ot.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(m-d)+`ms
Total Duration: ${m-p}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function LB(t,e){return new DB(t,e)}class zB{constructor(){this.changes=new xc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Lf(r.mutation,i,pi.empty(),zt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ct()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ct()){const i=Hl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Tf();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Hl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ct())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=Ds();const l=Df(),u=(function(){return Df()})();return n.forEach(((d,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof dl)?s=s.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),Lf(p.mutation,m,p.mutation.getFieldMask(),zt.now())):l.set(m.key,pi.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((m,p)=>l.set(m,p))),n.forEach(((m,p)=>u.set(m,new VB(p,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Df();let i=new on(((l,u)=>l-u)),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let p=r.get(d)||pi.empty();p=u.applyToLocalView(m,p),r.set(d,p);const g=(i.get(u.batchId)||ct()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),m=d.key,p=d.value,g=iD();p.forEach((b=>{if(!s.has(b)){const _=fD(n.get(b),r.get(b));_!==null&&g.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,g))}return _e.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_e.resolve(Hl());let u=qf,d=s;return l.next((m=>_e.forEach(m,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?_e.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,m,s))).next((()=>this.computeViews(e,d,m,ct()))).next((p=>({batchId:u,changes:rD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=Tf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Tf();return this.indexManager.getCollectionParents(e,s).next((u=>_e.forEach(u,(d=>{const m=(function(g,b){return new nd(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,Ar.newInvalidDocument(p)))}));let u=Tf();return l.forEach(((d,m)=>{const p=s.get(d);p!==void 0&&Lf(p.mutation,m,pi.empty(),zt.now()),$v(n,m)&&(u=u.insert(d,m))})),u}))}}class $B{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return _e.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:za(i.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:OB(i.bundledQuery),readTime:za(i.readTime)}})(n)),_e.resolve()}}class BB{constructor(){this.overlays=new on(qe.comparator),this.qr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hl();return _e.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=Hl(),s=n.length+1,l=new qe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new on(((m,p)=>m-p));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=s.get(m.largestBatchId);p===null&&(p=Hl(),s=s.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const u=Hl(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,p)=>u.set(m,p))),!(u.size()>=i)););return _e.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new sB(n,r));let s=this.qr.get(n);s===void 0&&(s=ct(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class qB{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}class H_{constructor(){this.Qr=new Ln(Wn.$r),this.Ur=new Ln(Wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Wn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new qe(new qt([])),r=new Wn(n,e),i=new Wn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new qe(new qt([])),r=new Wn(n,e),i=new Wn(n,e+1);let s=ct();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Wn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return qe.comparator(e.key,n.key)||lt(e.Yr,n.Yr)}static Kr(e,n){return lt(e.Yr,n.Yr)||qe.comparator(e.key,n.key)}}class FB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Wn.$r)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new aB(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Wn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return _e.resolve(l)}lookupMutationBatch(e,n){return _e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?D_:this.tr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ln(lt);return n.forEach((i=>{const s=new Wn(i,0),l=new Wn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),_e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const l=new Wn(new qe(s),0);let u=new Ln(lt);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(d.Yr)),!0)}),l),_e.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return _e.forEach(n.mutations,(i=>{const s=new Wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Zr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HB{constructor(e){this.ri=e,this.docs=(function(){return new on(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():Ar.newInvalidDocument(n))}getEntries(e,n){let r=Ds();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ar.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ds();const l=n.path,u=new qe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:p}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||w7(x7(p),r)<=0||(i.has(p.key)||$v(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ii(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new KB(this)}getSize(e){return _e.resolve(this.size)}}class KB extends zB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class GB{constructor(e){this.persistence=e,this.si=new xc((n=>V_(n)),U_),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new H_,this.targetCount=0,this.ai=zu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),_e.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.Pr(n),_e.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),_e.waitFor(s).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),_e.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this._i.containsKey(n))}}class AD{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dv(0),this.li=!1,this.li=!0,this.hi=new qB,this.referenceDelegate=e(this),this.Pi=new GB(this),this.indexManager=new IB,this.remoteDocumentCache=(function(i){return new HB(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new CB(n),this.Ii=new $B(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new FB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new YB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return _e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class YB extends S7{constructor(e){super(),this.currentSequenceNumber=e}}class K_{constructor(e){this.persistence=e,this.Ri=new H_,this.Vi=null}static mi(e){return new K_(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,(r=>{const i=qe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jg{constructor(e,n){this.persistence=e,this.pi=new xc((r=>T7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=LB(this,n)}static mi(e,n){return new jg(e,n)}Ei(){}di(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return _e.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?_e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Ye.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ng(e.data.value)),n}br(e,n,r){return _e.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class G_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ct(),i=ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new G_(e,n.fromCache,r,i)}}class WB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return V9()?8:E7(jr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new WB;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(mu()<=ot.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(mu()<=ot.DEBUG&&ke("QueryEngine","Query:",pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(mu()<=ot.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,La(n))):_e.resolve())}ys(e,n){if(eC(n))return _e.resolve(null);let r=La(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Tg(n,null,"F"),r=La(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ct(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.Ds(n,u);return this.Cs(n,m,l,d.readTime)?this.ys(e,Tg(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,r,i){return eC(n)||i.isEqual(Ye.min())?_e.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?_e.resolve(null):(mu()<=ot.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pu(n)),this.vs(e,l,n,b7(i,qf)).next((u=>u)))}))}Ds(e,n){let r=new Ln(tD(e));return n.forEach(((i,s)=>{$v(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return mu()<=ot.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",pu(n)),this.ps.getDocumentsMatchingQuery(e,n,Zo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const Y_="LocalStore",QB=3e8;class JB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new on(lt),this.xs=new xc((s=>V_(s)),U_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZB(t,e,n,r){return new JB(t,e,n,r)}async function TD(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=ct();for(const m of i){l.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}for(const m of s){u.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function eq(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,m,p){const g=m.batch,b=g.keys();let _=_e.resolve();return b.forEach((S=>{_=_.next((()=>p.getEntry(d,S))).next((E=>{const A=m.docVersions.get(S);Et(A!==null,48541),E.version.compareTo(A)<0&&(g.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),p.addEntry(E)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=ct();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(d=d.add(u.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function ND(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tq(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(vr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(E,A,j){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=QB?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(s,_))}));let d=Ds(),m=ct();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(nq(s,l,e.documentUpdates).next((p=>{d=p.ks,m=p.qs}))),!r.isEqual(Ye.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return _e.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,m))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function nq(t,e,n){let r=ct(),i=ct();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Ds();return n.forEach(((u,d)=>{const m=s.get(u);d.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ye.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ke(Y_,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function rq(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=D_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function iq(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,_e.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ho(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mw(t,e,n){const r=Xe(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!td(l))throw l;ke(Y_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function hC(t,e,n){const r=Xe(t);let i=Ye.min(),s=ct();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,m,p){const g=Xe(d),b=g.xs.get(p);return b!==void 0?_e.resolve(g.Ms.get(b)):g.Pi.getTargetData(m,p)})(r,l,La(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ye.min(),n?s:ct()))).next((u=>(aq(r,H7(e),u),{documents:u,Qs:s})))))}function aq(t,e,n){let r=t.Os.get(e)||Ye.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class mC{constructor(){this.activeTargetIds=Q7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sq{constructor(){this.Mo=new mC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oq{Oo(e){}shutdown(){}}const pC="ConnectivityMonitor";class gC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(pC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(pC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pp=null;function pw(){return Pp===null?Pp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pp++,"0x"+Pp.toString(16)}const cx="RestConnection",lq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=pw(),u=this.zo(e,n.toUriEncodedString());ke(cx,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:m}=new URL(u),p=Xu(m);return this.Jo(e,u,d,r,p).then((g=>(ke(cx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw ku(cx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=lq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class uq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _r="WebChannelConnection";class dq extends cq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=pw();return new Promise(((u,d)=>{const m=new jM;m.setWithCredentials(!0),m.listenOnce(CM.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case tg.NO_ERROR:const g=m.getResponseJson();ke(_r,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case tg.TIMEOUT:ke(_r,`RPC '${e}' ${l} timed out`),d(new Ce(ge.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const b=m.getStatus();if(ke(_r,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const E=(function(j){const L=j.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(L)>=0?L:ge.UNKNOWN})(S.status);d(new Ce(E,S.message))}else d(new Ce(ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ce(ge.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ke(_r,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);ke(_r,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=pw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=PM(),u=IM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");ke(_r,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,_=!1;const S=new uq({Yo:A=>{_?ke(_r,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(b||(ke(_r,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),ke(_r,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),E=(A,j,L)=>{A.listen(j,(U=>{try{L(U)}catch(q){setTimeout((()=>{throw q}),0)}}))};return E(g,Af.EventType.OPEN,(()=>{_||(ke(_r,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),E(g,Af.EventType.CLOSE,(()=>{_||(_=!0,ke(_r,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(g))})),E(g,Af.EventType.ERROR,(A=>{_||(_=!0,ku(_r,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Ce(ge.UNAVAILABLE,"The operation could not be completed")))})),E(g,Af.EventType.MESSAGE,(A=>{if(!_){const j=A.data[0];Et(!!j,16349);const L=j,U=L?.error||L[0]?.error;if(U){ke(_r,`RPC '${e}' stream ${i} received error:`,U);const q=U.status;let $=(function(N){const M=Cn[N];if(M!==void 0)return mD(M)})(q),z=U.message;$===void 0&&($=ge.INTERNAL,z="Unknown error status: "+q+" with message "+U.message),_=!0,S.a_(new Ce($,z)),g.close()}else ke(_r,`RPC '${e}' stream ${i} received:`,j),S.u_(j)}})),E(u,OM.STAT_EVENT,(A=>{A.stat===rw.PROXY?ke(_r,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===rw.NOPROXY&&ke(_r,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ux(){return typeof document<"u"?document:null}function Kv(t){return new pB(t,!0)}class jD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vC="PersistentStream";class CD{constructor(e,n,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ce(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(vC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ke(vC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fq extends CD{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yB(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ye.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ye.min():l.readTime?za(l.readTime):Ye.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hw(this.serializer),n.addTarget=(function(s,l){let u;const d=l.target;if(u=lw(d)?{documents:wB(s,d)}:{query:_B(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=vD(s,l.resumeToken);const m=uw(s,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ye.min())>0){u.readTime=Ng(s,l.snapshotVersion.toTimestamp());const m=uw(s,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=EB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hw(this.serializer),n.removeTarget=e,this.q_(n)}}class hq extends CD{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xB(e.writeResults,e.commitTime),r=za(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bB(this.serializer,r)))};this.q_(n)}}class mq{}class pq extends mq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ce(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,dw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(ge.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,dw(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(ge.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lc="RemoteStore";class vq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{wc(this)&&(ke(lc,"Restarting streams for network reachability change."),await(async function(d){const m=Xe(d);m.Ea.add(4),await Nh(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Gv(m)})(this))}))})),this.Ra=new gq(r,i)}}async function Gv(t){if(wc(t))for(const e of t.da)await e(!0)}async function Nh(t){for(const e of t.da)await e(!1)}function OD(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),J_(n)?Q_(n):rd(n).O_()&&X_(n,e))}function W_(t,e){const n=Xe(t),r=rd(n);n.Ia.delete(e),r.O_()&&ID(n,e),n.Ia.size===0&&(r.O_()?r.L_():wc(n)&&n.Ra.set("Unknown"))}function X_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rd(t).Y_(e)}function ID(t,e){t.Va.Ue(e),rd(t).Z_(e)}function Q_(t){t.Va=new dB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rd(t).start(),t.Ra.ua()}function J_(t){return wc(t)&&!rd(t).x_()&&t.Ia.size>0}function wc(t){return Xe(t).Ea.size===0}function PD(t){t.Va=void 0}async function yq(t){t.Ra.set("Online")}async function bq(t){t.Ia.forEach(((e,n)=>{X_(t,e)}))}async function xq(t,e){PD(t),J_(t)?(t.Ra.ha(e),Q_(t)):t.Ra.set("Unknown")}async function wq(t,e,n){if(t.Ra.set("Online"),e instanceof gD&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){ke(lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cg(t,r)}else if(e instanceof ag?t.Va.Ze(e):e instanceof pD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ye.min()))try{const r=await ND(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(m);p&&s.Ia.set(m,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,m)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(vr.EMPTY_BYTE_STRING,p.snapshotVersion)),ID(s,d);const g=new Ho(p.target,d,m,p.sequenceNumber);X_(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){ke(lc,"Failed to raise snapshot:",r),await Cg(t,r)}}async function Cg(t,e,n){if(!td(e))throw e;t.Ea.add(1),await Nh(t),t.Ra.set("Offline"),n||(n=()=>ND(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ke(lc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gv(t)}))}function RD(t,e){return e().catch((n=>Cg(t,n,e)))}async function Yv(t){const e=Xe(t),n=rl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:D_;for(;_q(e);)try{const i=await rq(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Sq(e,i)}catch(i){await Cg(e,i)}kD(e)&&MD(e)}function _q(t){return wc(t)&&t.Ta.length<10}function Sq(t,e){t.Ta.push(e);const n=rl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kD(t){return wc(t)&&!rl(t).x_()&&t.Ta.length>0}function MD(t){rl(t).start()}async function Eq(t){rl(t).ra()}async function Aq(t){const e=rl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Tq(t,e,n){const r=t.Ta.shift(),i=B_.from(r,e,n);await RD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Yv(t)}async function Nq(t,e){e&&rl(t).X_&&await(async function(r,i){if((function(l){return lB(l)&&l!==ge.ABORTED})(i.code)){const s=r.Ta.shift();rl(r).B_(),await RD(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Yv(r)}})(t,e),kD(t)&&MD(t)}async function yC(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),ke(lc,"RemoteStore received new credentials");const r=wc(n);n.Ea.add(3),await Nh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gv(n)}async function jq(t,e){const n=Xe(t);e?(n.Ea.delete(2),await Gv(n)):e||(n.Ea.add(2),await Nh(n),n.Ra.set("Unknown"))}function rd(t){return t.ma||(t.ma=(function(n,r,i){const s=Xe(n);return s.sa(),new fq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:yq.bind(null,t),t_:bq.bind(null,t),r_:xq.bind(null,t),H_:wq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),J_(t)?Q_(t):t.Ra.set("Unknown")):(await t.ma.stop(),PD(t))}))),t.ma}function rl(t){return t.fa||(t.fa=(function(n,r,i){const s=Xe(n);return s.sa(),new hq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Eq.bind(null,t),r_:Nq.bind(null,t),ta:Aq.bind(null,t),na:Tq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Yv(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(lc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Z_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new Z_(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eS(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),td(t))return new Ce(ge.UNAVAILABLE,`${e}: ${t}`);throw t}class Nu{static emptySet(e){return new Nu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Tf(),this.sortedSet=new on(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class bC{constructor(){this.ga=new on(qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Vu{constructor(e,n,r,i,s,l,u,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Vu(e,n,Nu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Cq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Oq{constructor(){this.queries=xC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xe(n),s=i.queries;i.queries=xC(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Ce(ge.ABORTED,"Firestore shutting down"))}}function xC(){return new xc((t=>eD(t)),Uv)}async function tS(t,e){const n=Xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Cq,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=eS(l,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&rS(n)}async function nS(t,e){const n=Xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Iq(t,e){const n=Xe(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&rS(n)}function Pq(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function rS(t){t.Ca.forEach((e=>{e.next()}))}var gw,wC;(wC=gw||(gw={})).Ma="default",wC.Cache="cache";class iS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gw.Cache}}class DD{constructor(e){this.key=e}}class LD{constructor(e){this.key=e}}class Rq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=tD(e),this.tu=new Nu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new bC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),_=$v(this.query,g)?g:null,S=!!b&&this.mutatedKeys.has(b.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;b&&_?b.data.isEqual(_.data)?S!==E&&(r.track({type:3,doc:_}),A=!0):this.su(b,_)||(r.track({type:2,doc:_}),A=!0,(d&&this.eu(_,d)>0||m&&this.eu(_,m)<0)&&(u=!0)):!b&&_?(r.track({type:0,doc:_}),A=!0):b&&!_&&(r.track({type:1,doc:b}),A=!0,(d||m)&&(u=!0)),A&&(_?(l=l.add(_),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:A})}};return E(_)-E(S)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,m=d!==this.Za;return this.Za=d,l.length!==0||m?{snapshot:new Vu(this.query,e.tu,s,l,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new LD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new DD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const aS="SyncEngine";class kq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mq{constructor(e){this.key=e,this.hu=!1}}class Dq{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new xc((u=>eD(u)),Uv),this.Iu=new Map,this.Eu=new Set,this.du=new on(qe.comparator),this.Au=new Map,this.Ru=new H_,this.Vu={},this.mu=new Map,this.fu=zu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Lq(t,e,n=!0){const r=qD(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await zD(r,e,n,!0),i}async function zq(t,e){const n=qD(t);await zD(n,e,!0,!1)}async function zD(t,e,n,r){const i=await iq(t.localStore,La(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await Vq(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&OD(t.remoteStore,i),u}async function Vq(t,e,n,r,i){t.pu=(g,b,_)=>(async function(E,A,j,L){let U=A.view.ru(j);U.Cs&&(U=await hC(E.localStore,A.query,!1).then((({documents:O})=>A.view.ru(O,U))));const q=L&&L.targetChanges.get(A.targetId),$=L&&L.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(U,E.isPrimaryClient,q,$);return SC(E,A.targetId,z.au),z.snapshot})(t,g,b,_);const s=await hC(t.localStore,e,!0),l=new Rq(e,s.Qs),u=l.ru(s.documents),d=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(u,t.isPrimaryClient,d);SC(t,n,m.au);const p=new kq(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function Uq(t,e,n){const r=Xe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Uv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W_(r.remoteStore,i.targetId),vw(r,i.targetId)})).catch(ed)):(vw(r,i.targetId),await mw(r.localStore,i.targetId,!0))}async function $q(t,e){const n=Xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W_(n.remoteStore,r.targetId))}async function Bq(t,e,n){const r=Wq(t);try{const i=await(function(l,u){const d=Xe(l),m=zt.now(),p=u.reduce(((_,S)=>_.add(S.key)),ct());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=Ds(),E=ct();return d.Ns.getEntries(_,p).next((A=>{S=A,S.forEach(((j,L)=>{L.isValidDocument()||(E=E.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,S))).next((A=>{g=A;const j=[];for(const L of u){const U=rB(L,g.get(L.key).overlayedDocument);U!=null&&j.push(new dl(L.key,U,KM(U.value.mapValue),Dr.exists(!0)))}return d.mutationQueue.addMutationBatch(_,m,j,u)})).next((A=>{b=A;const j=A.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(_,A.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:rD(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let m=l.Vu[l.currentUser.toKey()];m||(m=new on(lt)),m=m.insert(u,d),l.Vu[l.currentUser.toKey()]=m})(r,i.batchId,n),await jh(r,i.changes),await Yv(r.remoteStore)}catch(i){const s=eS(i,"Failed to persist write");n.reject(s)}}async function VD(t,e){const n=Xe(t);try{const r=await tq(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Et(l.hu,14607):i.removedDocuments.size>0&&(Et(l.hu,42227),l.hu=!1))})),await jh(n,r,e)}catch(r){await ed(r)}}function _C(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Xe(l);d.onlineState=u;let m=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(m=!0)})),m&&rS(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qq(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new on(qe.comparator);l=l.insert(s,Ar.newNoDocument(s,Ye.min()));const u=ct().add(s),d=new Hv(Ye.min(),new Map,new on(lt),l,u);await VD(r,d),r.du=r.du.remove(s),r.Au.delete(e),sS(r)}else await mw(r.localStore,e,!1).then((()=>vw(r,e,n))).catch(ed)}async function Fq(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await eq(n.localStore,e);$D(n,r,null),UD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jh(n,i)}catch(i){await ed(i)}}async function Hq(t,e,n){const r=Xe(t);try{const i=await(function(l,u){const d=Xe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return d.mutationQueue.lookupMutationBatch(m,u).next((g=>(Et(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(m,g)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>d.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);$D(r,e,n),UD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jh(r,i)}catch(i){await ed(i)}}function UD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $D(t,e,n){const r=Xe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function vw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||BD(t,r)}))}function BD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(W_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),sS(t))}function SC(t,e,n){for(const r of n)r instanceof DD?(t.Ru.addReference(r.key,e),Kq(t,r)):r instanceof LD?(ke(aS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||BD(t,r.key)):He(19791,{wu:r})}function Kq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ke(aS,"New document in limbo: "+n),t.Eu.add(r),sS(t))}function sS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(qt.fromString(e)),r=t.fu.next();t.Au.set(r,new Mq(n)),t.du=t.du.insert(n,r),OD(t.remoteStore,new Ho(La(Vv(n.path)),r,"TargetPurposeLimboResolution",Dv.ce))}}async function jh(t,e,n){const r=Xe(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const p=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(m){i.push(m);const p=G_.As(d.targetId,m);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,m){const p=Xe(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>_e.forEach(m,(b=>_e.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(g,b.targetId,_))).next((()=>_e.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(g,b.targetId,_)))))))))}catch(g){if(!td(g))throw g;ke(Y_,"Failed to update sequence numbers: "+g)}for(const g of m){const b=g.targetId;if(!g.fromCache){const _=p.Ms.get(b),S=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(b,E)}}})(r.localStore,s))}async function Gq(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){ke(aS,"User change. New user:",e.toKey());const r=await TD(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new Ce(ge.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jh(n,r.Ls)}}function Yq(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let i=ct();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function qD(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qq.bind(null,e),e.Pu.H_=Iq.bind(null,e.eventManager),e.Pu.yu=Pq.bind(null,e.eventManager),e}function Wq(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hq.bind(null,e),e}class Og{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZB(this.persistence,new XB,e.initialUser,this.serializer)}Cu(e){return new AD(K_.mi,this.serializer)}Du(e){return new sq}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Og.provider={build:()=>new Og};class Xq extends Og{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof jg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new AD((r=>jg.mi(r,n)),this.serializer)}}class yw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_C(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gq.bind(null,this.syncEngine),await jq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Oq})()}createDatastore(e){const n=Kv(e.databaseInfo.databaseId),r=(function(s){return new dq(s)})(e.databaseInfo);return(function(s,l,u,d){return new pq(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new vq(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>_C(this.syncEngine,n,0)),(function(){return gC.v()?new gC:new oq})())}createSyncEngine(e,n){return(function(i,s,l,u,d,m,p){const g=new Dq(i,s,l,u,d,m);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Xe(n);ke(lc,"RemoteStore shutting down."),r.Ea.add(5),await Nh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yw.provider={build:()=>new yw};class oS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const il="FirestoreClient";class Qq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Er.UNAUTHENTICATED,this.clientId=M_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{ke(il,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ke(il,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dx(t,e){t.asyncQueue.verifyOperationInProgress(),ke(il,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await TD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function EC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Jq(t);ke(il,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>yC(e.remoteStore,i))),t._onlineComponents=e}async function Jq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(il,"Using user provided OfflineComponentProvider");try{await dx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ku("Error using user provided cache. Falling back to memory cache: "+n),await dx(t,new Og)}}else ke(il,"Using default OfflineComponentProvider"),await dx(t,new Xq(void 0));return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(il,"Using user provided OnlineComponentProvider"),await EC(t,t._uninitializedComponentsProvider._online)):(ke(il,"Using default OnlineComponentProvider"),await EC(t,new yw))),t._onlineComponents}function Zq(t){return FD(t).then((e=>e.syncEngine))}async function Ig(t){const e=await FD(t),n=e.eventManager;return n.onListen=Lq.bind(null,e.syncEngine),n.onUnlisten=Uq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$q.bind(null,e.syncEngine),n}function HD(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,m){const p=new oS({next:b=>{p.Nu(),l.enqueueAndForget((()=>nS(s,g)));const _=b.docs.has(u);!_&&b.fromCache?m.reject(new Ce(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&d&&d.source==="server"?m.reject(new Ce(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),g=new iS(Vv(u.path),p,{includeMetadataChanges:!0,qa:!0});return tS(s,g)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}function eF(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,m){const p=new oS({next:b=>{p.Nu(),l.enqueueAndForget((()=>nS(s,g))),b.fromCache&&d.source==="server"?m.reject(new Ce(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),g=new iS(u,p,{includeMetadataChanges:!0,qa:!0});return tS(s,g)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}function KD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const AC=new Map;const GD="firestore.googleapis.com",TC=!0;class NC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GD,this.ssl=TC}else this.host=e.host,this.ssl=e.ssl??TC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ED;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RB)throw new Ce(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o7;switch(r.type){case"firstParty":return new d7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=AC.get(n);r&&(ke("ComponentProvider","Removing Datastore"),AC.delete(n),r.terminate())})(this),Promise.resolve()}}function tF(t,e,n,r={}){t=gr(t,Wv);const i=Xu(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Bk(`https://${u}`),qk("Firestore",!0)),s.host!==GD&&s.host!==u&&ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!ic(d,l)&&(t._setSettings(d),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=Er.MOCK_USER;else{m=O9(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ce(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Er(g)}t._authCredentials=new l7(new kM(m,p))}}class Gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Eh(n,sn._jsonSchema))return new sn(e,r||null,new qe(qt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:Pn("string",sn._jsonSchemaVersion),referencePath:Pn("string")};class Qo extends Gs{constructor(e,n,r){super(e,n,Vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new qe(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function bw(t,e,...n){if(t=zn(t),MM("collection","path",e),t instanceof Wv){const r=qt.fromString(e,...n);return Uj(r),new Qo(t,null,r)}{if(!(t instanceof sn||t instanceof Qo))throw new Ce(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return Uj(r),new Qo(t.firestore,null,r)}}function Jn(t,e,...n){if(t=zn(t),arguments.length===1&&(e=M_.newId()),MM("doc","path",e),t instanceof Wv){const r=qt.fromString(e,...n);return Vj(r),new sn(t,null,new qe(r))}{if(!(t instanceof sn||t instanceof Qo))throw new Ce(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return Vj(r),new sn(t.firestore,t instanceof Qo?t.converter:null,new qe(r))}}const jC="AsyncQueue";class CC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jD(this,"async_queue_retry"),this._c=()=>{const r=ux();r&&ke(jC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ux();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ux();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!td(e))throw e;ke(jC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",OC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Z_.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:OC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function IC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ca extends Wv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CC(e),this._firestoreClient=void 0,await e}}}function nF(t,e){const n=typeof t=="object"?t:Gk(),r=typeof t=="string"?t:Sg,i=A_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=j9("firestore");s&&tF(i,...s)}return i}function id(t){if(t._terminated)throw new Ce(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rF(t),t._firestoreClient}function rF(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new C7(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,KD(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Qq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vi(vr.fromBase64String(e))}catch(n){throw new Ce(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vi(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eh(e,Vi._jsonSchema))return Vi.fromBase64String(e.bytes)}}Vi._jsonSchemaVersion="firestore/bytes/1.0",Vi._jsonSchema={type:Pn("string",Vi._jsonSchemaVersion),bytes:Pn("string")};class Ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Va{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Va._jsonSchemaVersion}}static fromJSON(e){if(Eh(e,Va._jsonSchema))return new Va(e.latitude,e.longitude)}}Va._jsonSchemaVersion="firestore/geoPoint/1.0",Va._jsonSchema={type:Pn("string",Va._jsonSchemaVersion),latitude:Pn("number"),longitude:Pn("number")};class Ua{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eh(e,Ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ua(e.vectorValues);throw new Ce(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ua._jsonSchemaVersion="firestore/vectorValue/1.0",Ua._jsonSchema={type:Pn("string",Ua._jsonSchemaVersion),vectorValues:Pn("object")};const iF=/^__.*__$/;class aF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ah(e,this.data,n,this.fieldTransforms)}}class YD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new dl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:t})}}class lS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Pg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WD(this.Ac)&&iF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kv(e)}Cc(e,n,r,i=!1){return new lS({Ac:e,methodName:n,Dc:r,path:pr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(t){const e=t._freezeSettings(),n=Kv(t._databaseId);return new sF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);fS("Data must be an object, but it was:",l,r);const u=JD(r,l);let d,m;if(s.merge)d=new pi(l.fieldMask),m=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=xw(e,g,n);if(!l.contains(b))throw new Ce(ge.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);e4(p,b)||p.push(b)}d=new pi(p),m=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,m=l.fieldTransforms;return new aF(new Qr(u),d,m)}class Xv extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xv}}class uS extends Oh{_toFieldTransform(e){return new dD(e.path,new Yf)}isEqual(e){return e instanceof uS}}class dS extends Oh{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Qf(e.serializer,sD(e.serializer,this.Fc));return new dD(e.path,n)}isEqual(e){return e instanceof dS&&this.Fc===e.Fc}}function XD(t,e,n,r){const i=t.Cc(1,e,n);fS("Data must be an object, but it was:",i,r);const s=[],l=Qr.empty();ul(r,((d,m)=>{const p=hS(e,d,n);m=zn(m);const g=i.yc(p);if(m instanceof Xv)s.push(p);else{const b=Ph(m,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new pi(s);return new YD(l,u,i.fieldTransforms)}function QD(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[xw(e,r,n)],d=[i];if(s.length%2!=0)throw new Ce(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(xw(e,s[b])),d.push(s[b+1]);const m=[],p=Qr.empty();for(let b=u.length-1;b>=0;--b)if(!e4(m,u[b])){const _=u[b];let S=d[b];S=zn(S);const E=l.yc(_);if(S instanceof Xv)m.push(_);else{const A=Ph(S,E);A!=null&&(m.push(_),p.set(_,A))}}const g=new pi(m);return new YD(p,g,l.fieldTransforms)}function oF(t,e,n,r=!1){return Ph(n,t.Cc(r?4:3,e))}function Ph(t,e){if(ZD(t=zn(t)))return fS("Unsupported field value:",e,t),JD(t,e);if(t instanceof Oh)return(function(r,i){if(!WD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=Ph(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zt.fromDate(r);return{timestampValue:Ng(i.serializer,s)}}if(r instanceof zt){const s=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ng(i.serializer,s)}}if(r instanceof Va)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vi)return{bytesValue:vD(i.serializer,r._byteString)};if(r instanceof sn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:F_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ua)return(function(l,u){return{mapValue:{fields:{[FM]:{stringValue:HM},[Eg]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return $_(u.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Mv(r)}`)})(t,e)}function JD(t,e){const n={};return zM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ul(t,((r,i)=>{const s=Ph(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function ZD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Va||t instanceof Vi||t instanceof sn||t instanceof Oh||t instanceof Ua)}function fS(t,e,n){if(!ZD(n)||!DM(n)){const r=Mv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xw(t,e,n){if((e=zn(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return hS(t,e);throw Pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const lF=new RegExp("[~\\*/\\[\\]]");function hS(t,e,n){if(e.search(lF)>=0)throw Pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ch(...e.split("."))._internalPath}catch{throw Pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ce(ge.INVALID_ARGUMENT,u+t+d)}function e4(t,e){return t.some((n=>n.isEqual(e)))}class t4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cF extends t4{data(){return super.data()}}function Qv(t,e){return typeof e=="string"?hS(t,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}function n4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mS{}class pS extends mS{}function Jf(t,e,...n){let r=[];e instanceof mS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof gS)).length,u=s.filter((d=>d instanceof Jv)).length;if(l>1||l>0&&u>0)throw new Ce(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Jv extends pS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jv(e,n,r)}_apply(e){const n=this._parse(e);return i4(e._query,n),new Gs(e.firestore,e.converter,cw(e._query,n))}_parse(e){const n=Ih(e.firestore);return(function(s,l,u,d,m,p,g){let b;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ce(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){RC(g,p);const S=[];for(const E of g)S.push(PC(d,s,E));b={arrayValue:{values:S}}}else b=PC(d,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||RC(g,p),b=oF(u,l,g,p==="in"||p==="not-in");return In.create(m,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xu(t,e,n){const r=e,i=Qv("where",t);return Jv._create(i,r,n)}class gS extends mS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:la.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)i4(l,d),l=cw(l,d)})(e._query,n),new Gs(e.firestore,e.converter,cw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vS extends pS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gf(s,l)})(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new nd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Rg(t,e="asc"){const n=e,r=Qv("orderBy",t);return vS._create(r,n)}class yS extends pS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yS(e,n,r)}_apply(e){return new Gs(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}}function r4(t){return y7("limit",t),yS._create("limit",t,"F")}function PC(t,e,n){if(typeof(n=zn(n))=="string"){if(n==="")throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZM(e)&&n.indexOf("/")!==-1)throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qt.fromString(n));if(!qe.isDocumentKey(r))throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yj(t,new qe(r))}if(n instanceof sn)return Yj(t,n._key);throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mv(n)}.`)}function RC(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i4(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ce(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uF{convertValue(e,n="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ul(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Eg].arrayValue?.values?.map((r=>wn(r.doubleValue)));return new Ua(n)}convertGeoPoint(e){return new Va(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ff(e));default:return null}}convertTimestamp(e){const n=el(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qt.fromString(e);Et(SD(r),9688,{name:e});const i=new Hf(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(n)||Ms(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function bS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends t4{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xl._jsonSchema={type:Pn("string",Xl._jsonSchemaVersion),bundleSource:Pn("string","DocumentSnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class sg extends Xl{data(e={}){return super.data(e)}}class Ql{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sg(this._firestore,this._userDataWriter,r.key,r,new jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new sg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new sg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:dF(u.type),doc:d,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=M_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}function gf(t){t=gr(t,sn);const e=gr(t.firestore,ca);return HD(id(e),t._key).then((n=>_S(e,t,n)))}Ql._jsonSchemaVersion="firestore/querySnapshot/1.0",Ql._jsonSchema={type:Pn("string",Ql._jsonSchemaVersion),bundleSource:Pn("string","QuerySnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class xS extends uF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function kC(t){t=gr(t,sn);const e=gr(t.firestore,ca);return HD(id(e),t._key,{source:"server"}).then((n=>_S(e,t,n)))}function MC(t){t=gr(t,Gs);const e=gr(t.firestore,ca),n=id(e),r=new xS(e);return n4(t._query),eF(n,t._query).then((i=>new Ql(e,r,t,i)))}function xn(t,e,n){t=gr(t,sn);const r=gr(t.firestore,ca),i=bS(t.converter,e,n);return Rh(r,[cS(Ih(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function kg(t,e,n,...r){t=gr(t,sn);const i=gr(t.firestore,ca),s=Ih(i);let l;return l=typeof(e=zn(e))=="string"||e instanceof Ch?QD(s,"updateDoc",t._key,e,n,r):XD(s,"updateDoc",t._key,e),Rh(i,[l.toMutation(t._key,Dr.exists(!0))])}function a4(t){return Rh(gr(t.firestore,ca),[new Fv(t._key,Dr.none())])}function wS(t,e){const n=gr(t.firestore,ca),r=Jn(t),i=bS(t.converter,e);return Rh(n,[cS(Ih(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then((()=>r))}function Rr(t,...e){t=zn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,u;if(t instanceof sn)l=gr(t.firestore,ca),u=Vv(t._key.path),s={next:d=>{e[r]&&e[r](_S(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=gr(t,Gs);l=gr(d.firestore,ca),u=d._query;const m=new xS(l);s={next:p=>{e[r]&&e[r](new Ql(l,m,d,p))},error:e[r+1],complete:e[r+2]},n4(t._query)}return(function(m,p,g,b){const _=new oS(b),S=new iS(p,_,g);return m.asyncQueue.enqueueAndForget((async()=>tS(await Ig(m),S))),()=>{_.Nu(),m.asyncQueue.enqueueAndForget((async()=>nS(await Ig(m),S)))}})(id(l),u,i,s)}function Rh(t,e){return(function(r,i){const s=new js;return r.asyncQueue.enqueueAndForget((async()=>Bq(await Zq(r),i,s))),s.promise})(id(t),e)}function _S(t,e,n){const r=n.docs.get(e._key),i=new xS(t);return new Xl(t,i,e._key,r,new jf(n.hasPendingWrites,n.fromCache),e.converter)}class fF{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ih(e)}set(e,n,r){this._verifyNotCommitted();const i=fx(e,this._firestore),s=bS(i.converter,n,r),l=cS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Dr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=fx(e,this._firestore);let l;return l=typeof(n=zn(n))=="string"||n instanceof Ch?QD(this._dataReader,"WriteBatch.update",s._key,n,r,i):XD(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fx(e,this._firestore);return this._mutations=this._mutations.concat(new Fv(n._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fx(t,e){if((t=zn(t)).firestore!==e)throw new Ce(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function fl(){return new uS("serverTimestamp")}function ta(t){return new dS("increment",t)}function hF(t){return id(t=gr(t,ca)),new fF(t,(e=>Rh(t,e)))}(function(e,n=!0){(function(i){Zu=i})(Qu),Ru(new ac("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new ca(new c7(r.getProvider("auth-internal")),new f7(l,r.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hf(m.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Wo(Mj,Dj,e),Wo(Mj,Dj,"esm2020")})();const mF={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},pF=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):mF,s4=Kk(pF),hx=a7(s4),Ss=nF(s4),gF=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",Cf=gF.replace(/\//g,"_");function o4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=o4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=o4(t))&&(r&&(r+=" "),r+=e);return r}var vF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SS(t){if(typeof t!="string")return!1;var e=vF;return e.includes(t)}var yF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bF=new Set(yF);function l4(t){return typeof t!="string"?!1:bF.has(t)}function c4(t){return typeof t=="string"&&t.startsWith("data-")}function Lr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l4(n)||c4(n))&&(e[n]=t[n]);return e}function cc(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Lr(e)}return typeof t=="object"&&!Array.isArray(t)?Lr(t):null}function Cr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l4(n)||c4(n)||SS(n))&&(e[n]=t[n]);return e}function xF(t){return t==null?null:w.isValidElement(t)?Cr(t.props):typeof t=="object"&&!Array.isArray(t)?Cr(t):null}var wF=["children","width","height","viewBox","className","style","title","desc"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(null,arguments)}function _F(t,e){if(t==null)return{};var n,r,i=SF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ES=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:m}=t,p=_F(t,wF),g=s||{width:r,height:i,x:0,y:0},b=ft("recharts-surface",l);return w.createElement("svg",ww({},Cr(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,m),n)}),EF=["children","className"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(null,arguments)}function AF(t,e){if(t==null)return{};var n,r,i=TF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mn=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=AF(t,EF),s=ft("recharts-layer",r);return w.createElement("g",_w({className:s},Cr(i),{ref:e}),n)}),AS=Mk(),u4=w.createContext(null),NF=()=>w.useContext(u4);function Bt(t){return function(){return t}}const d4=Math.cos,Mg=Math.sin,da=Math.sqrt,Dg=Math.PI,Zv=2*Dg,Sw=Math.PI,Ew=2*Sw,Bl=1e-6,jF=Ew-Bl;function f4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function CF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return f4;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class OF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?f4:CF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-e,m=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Bl)if(!(Math.abs(g*d-m*p)>Bl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,S=i-u,E=d*d+m*m,A=_*_+S*S,j=Math.sqrt(E),L=Math.sqrt(b),U=s*Math.tan((Sw-Math.acos((E+b-A)/(2*j*L)))/2),q=U/L,$=U/j;Math.abs(q-1)>Bl&&this._append`L${e+q*p},${n+q*g}`,this._append`A${s},${s},0,0,${+(g*_>p*S)},${this._x1=e+$*d},${this._y1=n+$*m}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),m=e+u,p=n+d,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Bl||Math.abs(this._y1-p)>Bl)&&this._append`L${m},${p}`,r&&(b<0&&(b=b%Ew+Ew),b>jF?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=m},${this._y1=p}`:b>Bl&&this._append`A${r},${r},0,${+(b>=Sw)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function TS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new OF(e)}function NS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function h4(t){this._context=t}h4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function e0(t){return new h4(t)}function m4(t){return t[0]}function p4(t){return t[1]}function g4(t,e){var n=Bt(!0),r=null,i=e0,s=null,l=TS(u);t=typeof t=="function"?t:t===void 0?m4:Bt(t),e=typeof e=="function"?e:e===void 0?p4:Bt(e);function u(d){var m,p=(d=NS(d)).length,g,b=!1,_;for(r==null&&(s=i(_=l())),m=0;m<=p;++m)!(m<p&&n(g=d[m],m,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,m,d),+e(g,m,d));if(_)return s=null,_+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Bt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Rp(t,e,n){var r=null,i=Bt(!0),s=null,l=e0,u=null,d=TS(m);t=typeof t=="function"?t:t===void 0?m4:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?p4:Bt(+n);function m(g){var b,_,S,E=(g=NS(g)).length,A,j=!1,L,U=new Array(E),q=new Array(E);for(s==null&&(u=l(L=d())),b=0;b<=E;++b){if(!(b<E&&i(A=g[b],b,g))===j)if(j=!j)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=b-1;S>=_;--S)u.point(U[S],q[S]);u.lineEnd(),u.areaEnd()}j&&(U[b]=+t(A,b,g),q[b]=+e(A,b,g),u.point(r?+r(A,b,g):U[b],n?+n(A,b,g):q[b]))}if(L)return u=null,L+""||null}function p(){return g4().defined(i).curve(l).context(s)}return m.x=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),r=null,m):t},m.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),m):t},m.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Bt(+g),m):r},m.y=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),n=null,m):e},m.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),m):e},m.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Bt(+g),m):n},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(n)},m.lineX1=function(){return p().x(r).y(e)},m.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Bt(!!g),m):i},m.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),m):l},m.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),m):s},m}class v4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function IF(t){return new v4(t,!0)}function PF(t){return new v4(t,!1)}const jS={draw(t,e){const n=da(e/Dg);t.moveTo(n,0),t.arc(0,0,n,0,Zv)}},RF={draw(t,e){const n=da(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},y4=da(1/3),kF=y4*2,MF={draw(t,e){const n=da(e/kF),r=n*y4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},DF={draw(t,e){const n=da(e),r=-n/2;t.rect(r,r,n,n)}},LF=.8908130915292852,b4=Mg(Dg/10)/Mg(7*Dg/10),zF=Mg(Zv/10)*b4,VF=-d4(Zv/10)*b4,UF={draw(t,e){const n=da(e*LF),r=zF*n,i=VF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Zv*s/5,u=d4(l),d=Mg(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},mx=da(3),$F={draw(t,e){const n=-da(e/(mx*3));t.moveTo(0,n*2),t.lineTo(-mx*n,-n),t.lineTo(mx*n,-n),t.closePath()}},ki=-.5,Mi=da(3)/2,Aw=1/da(12),BF=(Aw/2+1)*3,qF={draw(t,e){const n=da(e/BF),r=n/2,i=n*Aw,s=r,l=n*Aw+n,u=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(ki*r-Mi*i,Mi*r+ki*i),t.lineTo(ki*s-Mi*l,Mi*s+ki*l),t.lineTo(ki*u-Mi*d,Mi*u+ki*d),t.lineTo(ki*r+Mi*i,ki*i-Mi*r),t.lineTo(ki*s+Mi*l,ki*l-Mi*s),t.lineTo(ki*u+Mi*d,ki*d-Mi*u),t.closePath()}};function FF(t,e){let n=null,r=TS(i);t=typeof t=="function"?t:Bt(t||jS),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Lg(){}function zg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HF(t){return new x4(t)}function w4(t){this._context=t}w4.prototype={areaStart:Lg,areaEnd:Lg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KF(t){return new w4(t)}function _4(t){this._context=t}_4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GF(t){return new _4(t)}function S4(t){this._context=t}S4.prototype={areaStart:Lg,areaEnd:Lg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function YF(t){return new S4(t)}function DC(t){return t<0?-1:1}function LC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(DC(s)+DC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function zC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function px(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function Vg(t){this._context=t}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:px(this,this._t0,zC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,px(this,zC(this,n=LC(this,t,e)),n);break;default:px(this,this._t0,n=LC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function E4(t){this._context=new A4(t)}(E4.prototype=Object.create(Vg.prototype)).point=function(t,e){Vg.prototype.point.call(this,e,t)};function A4(t){this._context=t}A4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function WF(t){return new Vg(t)}function XF(t){return new E4(t)}function T4(t){this._context=t}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=VC(t),i=VC(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VC(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function QF(t){return new T4(t)}function t0(t,e){this._context=t,this._t=e}t0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function JF(t){return new t0(t,.5)}function ZF(t){return new t0(t,0)}function eH(t){return new t0(t,1)}function uc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Tw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function tH(t,e){return t[e]}function nH(t){const e=[];return e.key=t,e}function rH(){var t=Bt([]),e=Tw,n=uc,r=tH;function i(s){var l=Array.from(t.apply(this,arguments),nH),u,d=l.length,m=-1,p;for(const g of s)for(u=0,++m;u<d;++u)(l[u][m]=[0,+r(g,l[u].key,m,s)]).data=g;for(u=0,p=NS(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Tw:typeof s=="function"?s:Bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??uc,i):n},i}function iH(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}uc(t,e)}}function aH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}uc(t,e)}}function sH(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,m=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,_=(g-b)/2,S=0;S<u;++S){var E=t[e[S]],A=E[r][1]||0,j=E[r-1][1]||0;_+=A-j}d+=g,m+=_*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=m/d)}i[r-1][1]+=i[r-1][0]=n,uc(t,e)}}var gx={},vx={},UC;function oH(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(vx)),vx}var yx={},$C;function N4(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(yx)),yx}var bx={},BC;function CS(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(bx)),bx}var xx={},wx={},qC;function lH(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(wx)),wx}var FC;function OS(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lH(),n=CS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",m="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];m?g==="\\"&&u+1<l?(u++,d+=i[u]):g===m?m="":d+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}t.toPath=r})(xx)),xx}var HC;function IS(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oH(),n=N4(),r=CS(),i=OS();function s(u,d,m){if(u==null)return m;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return m;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),m):m:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?m:p}default:{if(Array.isArray(d))return l(u,d,m);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return m;const p=u[d];return p===void 0?m:p}}}function l(u,d,m){if(d.length===0)return m;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return m;p=p[d[g]]}return p===void 0?m:p}t.get=s})(gx)),gx}var _x,KC;function cH(){return KC||(KC=1,_x=IS().get),_x}var uH=cH();const dc=Hs(uH);var dH=4;function Ko(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dH,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function fn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+Ko(u)+s:i+s},"")}var Qn=t=>t===0?0:t>0?1:-1,Bi=t=>typeof t=="number"&&t!=+t,Ls=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!Bi(t),qa=t=>Oe(t)||typeof t=="string",fH=0,Zf=t=>{var e=++fH;return"".concat(t||"").concat(e)},Nr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var s;if(Ls(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Bi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},j4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function _t(t,e,n){return Oe(t)&&Oe(e)?Ko(t+n*(e-t)):e}function C4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):dc(r,e))===n)}var Wt=t=>t===null||typeof t>"u",kh=t=>Wt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function hH(t){return t!=null}function Mh(){}var mH=["type","size","sizeType"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(null,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){pH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pH(t,e,n){return(e=gH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t){var e=vH(t,"string");return typeof e=="symbol"?e:e+""}function vH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yH(t,e){if(t==null)return{};var n,r,i=bH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O4={symbolCircle:jS,symbolCross:RF,symbolDiamond:MF,symbolSquare:DF,symbolStar:UF,symbolTriangle:$F,symbolWye:qF},xH=Math.PI/180,wH=t=>{var e="symbol".concat(kh(t));return O4[e]||jS},_H=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*xH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},SH=(t,e)=>{O4["symbol".concat(kh(t))]=e},PS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=yH(t,mH),s=YC(YC({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=wH(l),_=FF().type(b).size(_H(n,r,l)),S=_();if(S!==null)return S},{className:d,cx:m,cy:p}=s,g=Cr(s);return Oe(m)&&Oe(p)&&Oe(n)?w.createElement("path",Nw({},g,{className:ft("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(p,")"),d:u()})):null};PS.registerSymbol=SH;var I4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,RS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{SS(i)&&(r[i]=(s=>n[i](n,s)))}),r},EH=(t,e,n)=>r=>(t(e,n,r),null),Dh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];SS(i)&&typeof s=="function"&&(r||(r={}),r[i]=EH(s,e,n))}),r};function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){TH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TH(t,e,n){return(e=NH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NH(t){var e=jH(t,"string");return typeof e=="symbol"?e:e+""}function jH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e){var n=AH({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(null,arguments)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){OH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OH(t,e,n){return(e=IH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IH(t){var e=PH(t,"string");return typeof e=="symbol"?e:e+""}function PH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Li=32,RH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function kH(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Li/2,s=Li/6,l=Li/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var m;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(m=e.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:Li,y2:i,className:"recharts-legend-icon"})}if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Li,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Li/8,"h").concat(Li,"v").concat(Li*3/4,"h").concat(-Li,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var p=CH({},e);return delete p.legendIcon,w.cloneElement(e.legendIcon,p)}return w.createElement(PS,{fill:u,cx:i,cy:i,size:Li,sizeType:"diameter",type:d})}function MH(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:Li,height:Li},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,_=ft({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?s:p.color,E=b?b(p.value,p,g):p.value;return w.createElement("li",Ug({className:_,style:d,key:"legend-item-".concat(g)},Dh(t,p,g)),w.createElement(ES,{width:n,height:n,viewBox:u,style:m,"aria-label":"".concat(E," legend icon")},w.createElement(kH,{data:p,iconType:l,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}var DH=t=>{var e=pn(t,RH),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(MH,Ug({},e,{payload:n})))},Sx={},Ex={},QC;function LH(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Ex)),Ex}var Ax={},JC;function P4(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Ax)),Ax}var Tx={},Nx={},jx={},ZC;function zH(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(jx)),jx}var eO;function kS(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Nx)),Nx}var Cx={},tO;function VH(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Cx)),Cx}var nO;function UH(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kS(),n=VH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Tx)),Tx}var Ox={},Ix={},rO;function $H(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Ix)),Ix}var Px={},Rx={},kx={},Mx={},iO;function R4(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Mx)),Mx}var Dx={},aO;function k4(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Dx)),Dx}var Lx={},sO;function M4(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Lx)),Lx}var oO;function BH(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R4(),n=k4(),r=M4();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function _(S,E,A,j,L,U){const q=b(S,E,A,j,L,U);return q!==void 0?!!q:s(S,E,_,U)},new Map)}function s(p,g,b,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,_);case"function":return Object.keys(g).length>0?s(p,{...g},b,_):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,_){if(g==null)return!0;if(Array.isArray(g))return d(p,g,b,_);if(g instanceof Map)return u(p,g,b,_);if(g instanceof Set)return m(p,g,b,_);const S=Object.keys(g);if(p==null||n.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let E=0;E<S.length;E++){const A=S[E];if(!n.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!b(p[A],g[A],A,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,b,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of g.entries()){const A=p.get(S);if(b(A,E,S,p,g,_)===!1)return!1}return!0}function d(p,g,b,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<g.length;E++){const A=g[E];let j=!1;for(let L=0;L<p.length;L++){if(S.has(L))continue;const U=p[L];let q=!1;if(b(U,A,E,p,g,_)&&(q=!0),q){S.add(L),j=!0;break}}if(!j)return!1}return!0}function m(p,g,b,_){return g.size===0?!0:p instanceof Set?d([...p],[...g],b,_):!1}t.isMatchWith=i,t.isSetMatch=m})(kx)),kx}var lO;function D4(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Rx)),Rx}var zx={},Vx={},Ux={},cO;function qH(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Ux)),Ux}var $x={},uO;function L4(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})($x)),$x}var Bx={},dO;function z4(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",A="[object Uint8Array]",j="[object Uint8ClampedArray]",L="[object Uint16Array]",U="[object Uint32Array]",q="[object BigUint64Array]",$="[object Int8Array]",z="[object Int16Array]",O="[object Int32Array]",N="[object BigInt64Array]",M="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=q,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=M,t.float64ArrayTag=P,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=O,t.int8ArrayTag=$,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=m,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=L,t.uint32ArrayTag=U,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=j})(Bx)),Bx}var qx={},fO;function FH(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(qx)),qx}var hO;function V4(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qH(),n=L4(),r=z4(),i=k4(),s=FH();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,_=new Map,S=void 0){const E=S?.(p,g,b,_);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const A=new Array(p.length);_.set(p,A);for(let j=0;j<p.length;j++)A[j]=u(p[j],j,b,_,S);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;_.set(p,A);for(const[j,L]of p)A.set(j,u(L,j,b,_,S));return A}if(p instanceof Set){const A=new Set;_.set(p,A);for(const j of p)A.add(u(j,void 0,b,_,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,A);for(let j=0;j<p.length;j++)A[j]=u(p[j],j,b,_,S);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,A),d(A,p,b,_,S),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return _.set(p,A),d(A,p,b,_,S),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof Error){const A=new p.constructor;return _.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,d(A,p,b,_,S),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof Number){const A=new Number(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof String){const A=new String(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(typeof p=="object"&&m(p)){const A=Object.create(Object.getPrototypeOf(p));return _.set(p,A),d(A,p,b,_,S),A}return p}function d(p,g,b=p,_,S){const E=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<E.length;A++){const j=E[A],L=Object.getOwnPropertyDescriptor(p,j);(L==null||L.writable)&&(p[j]=u(g[j],j,b,_,S))}}function m(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(Vx)),Vx}var mO;function HH(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(zx)),zx}var pO;function KH(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4(),n=HH();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Px)),Px}var Fx={},Hx={},Kx={},gO;function GH(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4(),n=z4();function r(i,s){return e.cloneDeepWith(i,(l,u,d,m)=>{const p=s?.(l,u,d,m);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Kx)),Kx}var vO;function YH(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Hx)),Hx}var Gx={},Yx={},yO;function U4(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Yx)),Yx}var Wx={},bO;function WH(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Wx)),Wx}var xO;function XH(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N4(),n=U4(),r=WH(),i=OS();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let m=l;for(let p=0;p<d.length;p++){const g=d[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}t.has=s})(Gx)),Gx}var wO;function QH(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4(),n=CS(),r=YH(),i=IS(),s=XH();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(m){const p=i.get(m,u);return p===void 0?s.has(m,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(Fx)),Fx}var _O;function JH(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P4(),n=$H(),r=KH(),i=QH();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Ox)),Ox}var SO;function ZH(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LH(),n=P4(),r=UH(),i=JH();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(Sx)),Sx}var Xx,EO;function eK(){return EO||(EO=1,Xx=ZH().uniqBy),Xx}var tK=eK();const AO=Hs(tK);function $4(t,e,n){return e===!0?AO(t,n):typeof e=="function"?AO(t,e):t}var Qx={exports:{}},Jx={},Zx={exports:{}},e1={};var TO;function nK(){if(TO)return e1;TO=1;var t=Wu();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),E=S[0].inst,A=S[1];return s(function(){E.value=_,E.getSnapshot=b,d(E)&&A({inst:E})},[g,_,b]),i(function(){return d(E)&&A({inst:E}),g(function(){d(E)&&A({inst:E})})},[g]),l(_),_}function d(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function m(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return e1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,e1}var NO;function rK(){return NO||(NO=1,Zx.exports=nK()),Zx.exports}var jO;function iK(){if(jO)return Jx;jO=1;var t=Wu(),e=rK();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Jx.useSyncExternalStoreWithSelector=function(m,p,g,b,_){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function j(z){if(!L){if(L=!0,U=z,z=b(z),_!==void 0&&E.hasValue){var O=E.value;if(_(O,z))return q=O}return q=z}if(O=q,r(U,z))return O;var N=b(z);return _!==void 0&&_(O,N)?(U=z,O):(U=z,q=N)}var L=!1,U,q,$=g===void 0?null:g;return[function(){return j(p())},$===null?void 0:function(){return j($())}]},[p,g,b,_]);var A=i(m,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},Jx}var CO;function aK(){return CO||(CO=1,Qx.exports=iK()),Qx.exports}var sK=aK(),MS=w.createContext(null),oK=t=>t,Ft=()=>{var t=w.useContext(MS);return t?t.store.dispatch:oK},og=()=>{},lK=()=>og,cK=(t,e)=>t===e;function Le(t){var e=w.useContext(MS);return sK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:lK,e?e.store.getState:og,e?e.store.getState:og,e?t:og,cK)}function uK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function dK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function fK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var OO=t=>Array.isArray(t)?t:[t];function hK(t){const e=Array.isArray(t[0])?t[0]:t;return fK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function mK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var pK=class{constructor(t){this.value=t}deref(){return this.value}},gK=typeof WeakRef<"u"?WeakRef:pK,vK=0,IO=1;function kp(){return{s:vK,v:void 0,o:null,p:null}}function B4(t,e={}){let n=kp();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const E=S.get(_);E===void 0?(u=kp(),S.set(_,u)):u=E}else{let S=u.p;S===null&&(u.p=S=new Map);const E=S.get(_);E===void 0?(u=kp(),S.set(_,u)):u=E}}const m=u;let p;if(u.s===IO)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new gK(p):p}return m.s=IO,m.v=p,p}return l.clearCache=()=>{n=kp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function yK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,d={},m=i.pop();typeof m=="object"&&(d=m,m=i.pop()),uK(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:_=B4,argsMemoizeOptions:S=[]}=p,E=OO(b),A=OO(S),j=hK(i),L=g(function(){return s++,m.apply(null,arguments)},...E),U=_(function(){l++;const $=mK(j,arguments);return u=L.apply(null,$),u},...A);return Object.assign(U,{resultFunc:m,memoizedResultFunc:L,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var se=yK(B4),bK=Object.assign((t,e=se)=>{dK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>bK}),t1={},n1={},r1={},PO;function xK(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(r1)),r1}var i1={},a1={},RO;function q4(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(a1)),a1}var kO;function wK(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(i1)),i1}var MO;function _K(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xK(),n=wK(),r=OS();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const m=(_,S)=>{let E=_;for(let A=0;A<S.length&&E!=null;++A)E=E[S[A]];return E},p=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:m(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?m(S,_):typeof S=="object"?S[_]:S,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(S=>p(S,_))})).slice().sort((_,S)=>{for(let E=0;E<g.length;E++){const A=e.compareValues(_.criteria[E],S.criteria[E],u[E]);if(A!==0)return A}return 0}).map(_=>_.original)}t.orderBy=i})(n1)),n1}var s1={},DO;function SK(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let m=0;m<u.length;m++){const p=u[m];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(s1)),s1}var o1={},LO;function F4(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U4(),n=kS(),r=R4(),i=M4();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=s})(o1)),o1}var zO;function EK(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_K(),n=SK(),r=F4();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(t1)),t1}var l1,VO;function AK(){return VO||(VO=1,l1=EK().sortBy),l1}var TK=AK();const n0=Hs(TK);var H4=t=>t.legend.settings,NK=t=>t.legend.size,jK=t=>t.legend.payload,CK=se([jK,H4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?n0(r,n):r});function OK(){return Le(CK)}var Mp=1;function K4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Mp||Math.abs(l.left-e.left)>Mp||Math.abs(l.top-e.top)>Mp||Math.abs(l.width-e.width)>Mp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ur(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IK=typeof Symbol=="function"&&Symbol.observable||"@@observable",UO=IK,c1=()=>Math.random().toString(36).substring(7).split("").join("."),PK={INIT:`@@redux/INIT${c1()}`,REPLACE:`@@redux/REPLACE${c1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${c1()}`},$g=PK;function DS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function G4(t,e,n){if(typeof t!="function")throw new Error(ur(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ur(1));return n(G4)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,d=!1;function m(){l===s&&(l=new Map,s.forEach((A,j)=>{l.set(j,A)}))}function p(){if(d)throw new Error(ur(3));return i}function g(A){if(typeof A!="function")throw new Error(ur(4));if(d)throw new Error(ur(5));let j=!0;m();const L=u++;return l.set(L,A),function(){if(j){if(d)throw new Error(ur(6));j=!1,m(),l.delete(L),s=null}}}function b(A){if(!DS(A))throw new Error(ur(7));if(typeof A.type>"u")throw new Error(ur(8));if(typeof A.type!="string")throw new Error(ur(17));if(d)throw new Error(ur(9));try{d=!0,i=r(i,A)}finally{d=!1}return(s=l).forEach(L=>{L()}),A}function _(A){if(typeof A!="function")throw new Error(ur(10));r=A,b({type:$g.REPLACE})}function S(){const A=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(ur(11));function L(){const q=j;q.next&&q.next(p())}return L(),{unsubscribe:A(L)}},[UO](){return this}}}return b({type:$g.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:_,[UO]:S}}function RK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:$g.INIT})>"u")throw new Error(ur(12));if(typeof n(void 0,{type:$g.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function Y4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{RK(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const m={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],_=l[g],S=b(_,u);if(typeof S>"u")throw u&&u.type,new Error(ur(14));m[g]=S,d=d||S!==_}return d=d||r.length!==Object.keys(l).length,d?m:l}}function Bg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function kK(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ur(15))};const l={getState:i.getState,dispatch:(d,...m)=>s(d,...m)},u=t.map(d=>d(l));return s=Bg(...u)(i.dispatch),{...i,dispatch:s}}}function W4(t){return DS(t)&&"type"in t&&typeof t.type=="string"}var X4=Symbol.for("immer-nothing"),$O=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gi=Object,Uu=gi.getPrototypeOf,qg="constructor",r0="prototype",jw="configurable",Fg="enumerable",lg="writable",eh="value",zs=t=>!!t&&!!t[zr];function ua(t){return t?Q4(t)||a0(t)||!!t[$O]||!!t[qg]?.[$O]||s0(t)||o0(t):!1}var MK=gi[r0][qg].toString(),BO=new WeakMap;function Q4(t){if(!t||!LS(t))return!1;const e=Uu(t);if(e===null||e===gi[r0])return!0;const n=gi.hasOwnProperty.call(e,qg)&&e[qg];if(n===Object)return!0;if(!yu(n))return!1;let r=BO.get(n);return r===void 0&&(r=Function.toString.call(n),BO.set(n,r)),r===MK}function i0(t,e,n=!0){Lh(t)===0?(n?Reflect.ownKeys(t):gi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Lh(t){const e=t[zr];return e?e.type_:a0(t)?1:s0(t)?2:o0(t)?3:0}var qO=(t,e,n=Lh(t))=>n===2?t.has(e):gi[r0].hasOwnProperty.call(t,e),Cw=(t,e,n=Lh(t))=>n===2?t.get(e):t[e],Hg=(t,e,n,r=Lh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function DK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var a0=Array.isArray,s0=t=>t instanceof Map,o0=t=>t instanceof Set,LS=t=>typeof t=="object",yu=t=>typeof t=="function",u1=t=>typeof t=="boolean";function LK(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ys=t=>t.copy_||t.base_,zS=t=>t.modified_?t.copy_:t.base_;function Ow(t,e){if(s0(t))return new Map(t);if(o0(t))return new Set(t);if(a0(t))return Array[r0].slice.call(t);const n=Q4(t);if(e===!0||e==="class_only"&&!n){const r=gi.getOwnPropertyDescriptors(t);delete r[zr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[lg]===!1&&(u[lg]=!0,u[jw]=!0),(u.get||u.set)&&(r[l]={[jw]:!0,[lg]:!0,[Fg]:u[Fg],[eh]:t[l]})}return gi.create(Uu(t),r)}else{const r=Uu(t);if(r!==null&&n)return{...t};const i=gi.create(r);return gi.assign(i,t)}}function VS(t,e=!1){return l0(t)||zs(t)||!ua(t)||(Lh(t)>1&&gi.defineProperties(t,{set:Dp,add:Dp,clear:Dp,delete:Dp}),gi.freeze(t),e&&i0(t,(n,r)=>{VS(r,!0)},!1)),t}function zK(){na(2)}var Dp={[eh]:zK};function l0(t){return t===null||!LS(t)?!0:gi.isFrozen(t)}var Kg="MapSet",Iw="Patches",FO="ArrayMethods",J4={};function fc(t){const e=J4[t];return e||na(0,t),e}var HO=t=>!!J4[t],th,Z4=()=>th,VK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:HO(Kg)?fc(Kg):void 0,arrayMethodsPlugin_:HO(FO)?fc(FO):void 0});function KO(t,e){e&&(t.patchPlugin_=fc(Iw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Pw(t){Rw(t),t.drafts_.forEach(UK),t.drafts_=null}function Rw(t){t===th&&(th=t.parent_)}var GO=t=>th=VK(th,t);function UK(t){const e=t[zr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function YO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[zr].modified_&&(Pw(e),na(4)),ua(t)&&(t=WO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[zr].base_,t,e)}else t=WO(e,n);return $K(e,t,!0),Pw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X4?t:void 0}function WO(t,e){if(l0(e))return e;const n=e[zr];if(!n)return Gg(e,t.handledSet_,t);if(!c0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);n5(n,t)}return n.copy_}function $K(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&VS(e,n)}function e5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var c0=(t,e)=>t.scope_===e,BK=[];function t5(t,e,n,r){const i=ys(t),s=t.type_;if(r!==void 0&&Cw(i,r,s)===e){Hg(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;i0(i,(d,m)=>{if(zs(m)){const p=u.get(m)||[];p.push(d),u.set(m,p)}})}const l=t.draftLocations_.get(e)??BK;for(const u of l)Hg(i,u,n,s)}function qK(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!c0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=zS(s);t5(t,s.draft_??s,l,n),n5(s,i)})}function n5(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}e5(t)}}function FK(t,e,n){const{scope_:r}=t;if(zs(n)){const i=n[zr];c0(i,r)&&i.callbacks_.push(function(){cg(t);const l=zS(i);t5(t,n,l,e)})}else ua(n)&&t.callbacks_.push(function(){const s=ys(t);t.type_===3?s.has(n)&&Gg(n,r.handledSet_,r):Cw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Gg(Cw(t.copy_,e,t.type_),r.handledSet_,r)})}function Gg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||zs(t)||e.has(t)||!ua(t)||l0(t)||(e.add(t),i0(t,(r,i)=>{if(zs(i)){const s=i[zr];if(c0(s,n)){const l=zS(s);Hg(t,r,l,t.type_),e5(s)}}else ua(i)&&Gg(i,e,n)})),t}function HK(t,e){const n=a0(t),r={type_:n?1:0,scope_:e?e.scope_:Z4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Yg;n&&(i=[r],s=nh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var Yg={get(t,e){if(e===zr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ys(t);if(!qO(i,e,t.type_))return KK(t,i,e);const s=i[e];if(t.finalized_||!ua(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&LK(e))return s;if(s===d1(t.base_,e)){cg(t);const l=t.type_===1?+e:e,u=Mw(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in ys(t)},ownKeys(t){return Reflect.ownKeys(ys(t))},set(t,e,n){const r=r5(ys(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=d1(ys(t),e),s=i?.[zr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(DK(n,i)&&(n!==void 0||qO(t.base_,e,t.type_)))return!0;cg(t),kw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),FK(t,e,n)),!0},deleteProperty(t,e){return cg(t),d1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),kw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ys(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[lg]:!0,[jw]:t.type_!==1||e!=="length",[Fg]:r[Fg],[eh]:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return Uu(t.base_)},setPrototypeOf(){na(12)}},nh={};for(let t in Yg){let e=Yg[t];nh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}nh.deleteProperty=function(t,e){return nh.set.call(this,t,e,void 0)};nh.set=function(t,e,n){return Yg.set.call(this,t[0],e,n,t[0])};function d1(t,e){const n=t[zr];return(n?ys(n):t)[e]}function KK(t,e,n){const r=r5(e,n);return r?eh in r?r[eh]:r.get?.call(t.draft_):void 0}function r5(t,e){if(!(e in t))return;let n=Uu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Uu(n)}}function kw(t){t.modified_||(t.modified_=!0,t.parent_&&kw(t.parent_))}function cg(t){t.copy_||(t.assigned_=new Map,t.copy_=Ow(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(yu(n)&&!yu(r)){const l=r;r=n;const u=this;return function(m=l,...p){return u.produce(m,g=>r.call(this,g,...p))}}yu(r)||na(6),i!==void 0&&!yu(i)&&na(7);let s;if(ua(n)){const l=GO(this),u=Mw(l,n,void 0);let d=!0;try{s=r(u),d=!1}finally{d?Pw(l):Rw(l)}return KO(l,i),YO(s,l)}else if(!n||!LS(n)){if(s=r(n),s===void 0&&(s=n),s===X4&&(s=void 0),this.autoFreeze_&&VS(s,!0),i){const l=[],u=[];fc(Iw).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else na(1,n)},this.produceWithPatches=(n,r)=>{if(yu(n))return(u,...d)=>this.produceWithPatches(u,m=>n(m,...d));let i,s;return[this.produce(n,r,(u,d)=>{i=u,s=d}),i,s]},u1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),u1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),u1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ua(e)||na(8),zs(e)&&(e=oa(e));const n=GO(this),r=Mw(n,e,void 0);return r[zr].isManual_=!0,Rw(n),r}finishDraft(e,n){const r=e&&e[zr];(!r||!r.isManual_)&&na(9);const{scope_:i}=r;return KO(i,n),YO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=fc(Iw).applyPatches_;return zs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function Mw(t,e,n,r){const[i,s]=s0(e)?fc(Kg).proxyMap_(e,n):o0(e)?fc(Kg).proxySet_(e,n):HK(e,n);return(n?.scope_??Z4()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?qK(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=d;s.modified_&&m&&m.generatePatches_(s,[],d)}),i}function oa(t){return zs(t)||na(10,t),i5(t)}function i5(t){if(!ua(t)||l0(t))return t;const e=t[zr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ow(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Ow(t,!0);return i0(n,(i,s)=>{Hg(n,i,i5(s))},r),e&&(e.finalized_=!1),n}var YK=new GK,a5=YK.produce;function s5(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var WK=s5(),XK=s5,QK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bg:Bg.apply(null,arguments)};function qi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>W4(r)&&r.type===t,n}var o5=class Of extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Of.prototype)}static get[Symbol.species](){return Of}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Of(...e[0].concat(this)):new Of(...e.concat(this))}};function XO(t){return ua(t)?a5(t,()=>{}):t}function Lp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function JK(t){return typeof t=="boolean"}var ZK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new o5;return n&&(JK(n)?l.push(WK):l.push(XK(n.extraArgument))),l},l5="RTK_autoBatch",en=()=>t=>({payload:t,meta:{[l5]:!0}}),QO=t=>e=>{setTimeout(e,t)},c5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:QO(10):t.type==="callback"?t.queueNotification:QO(t.timeout),m=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[l5],s=!i,s&&(l||(l=!0,d(m))),r.dispatch(p)}finally{i=!0}}})},eG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new o5(t);return r&&i.push(c5(typeof r=="object"?r:void 0)),i};function tG(t){const e=ZK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(DS(n))u=Y4(n);else throw new Error(vi(1));let d;typeof r=="function"?d=r(e):d=e();let m=Bg;i&&(m=QK({trace:!1,...typeof i=="object"&&i}));const p=kK(...d),g=eG(p);let b=typeof l=="function"?l(g):g();const _=m(...b);return G4(u,s,_)}function u5(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(vi(28));if(u in e)throw new Error(vi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function nG(t){return typeof t=="function"}function rG(t,e){let[n,r,i]=u5(e),s;if(nG(t))s=()=>XO(t());else{const u=XO(t);s=()=>u}function l(u=s(),d){let m=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[i]),m.reduce((p,g)=>{if(g)if(zs(p)){const _=g(p,d);return _===void 0?p:_}else{if(ua(p))return a5(p,b=>g(b,d));{const b=g(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var iG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aG=(t=21)=>{let e="",n=t;for(;n--;)e+=iG[Math.random()*64|0];return e},sG=Symbol.for("rtk-slice-createasyncthunk");function oG(t,e){return`${t}/${e}`}function lG({creators:t}={}){const e=t?.asyncThunk?.[sG];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(vi(11));const l=(typeof r.reducers=="function"?r.reducers(uG()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(U,q){const $=typeof U=="string"?U:U.type;if(!$)throw new Error(vi(12));if($ in d.sliceCaseReducersByType)throw new Error(vi(13));return d.sliceCaseReducersByType[$]=q,m},addMatcher(U,q){return d.sliceMatchers.push({matcher:U,reducer:q}),m},exposeAction(U,q){return d.actionCreators[U]=q,m},exposeCaseReducer(U,q){return d.sliceCaseReducersByName[U]=q,m}};u.forEach(U=>{const q=l[U],$={reducerName:U,type:oG(i,U),createNotation:typeof r.reducers=="function"};fG(q)?mG($,q,m,e):dG($,q,m)});function p(){const[U={},q=[],$=void 0]=typeof r.extraReducers=="function"?u5(r.extraReducers):[r.extraReducers],z={...U,...d.sliceCaseReducersByType};return rG(r.initialState,O=>{for(let N in z)O.addCase(N,z[N]);for(let N of d.sliceMatchers)O.addMatcher(N.matcher,N.reducer);for(let N of q)O.addMatcher(N.matcher,N.reducer);$&&O.addDefaultCase($)})}const g=U=>U,b=new Map,_=new WeakMap;let S;function E(U,q){return S||(S=p()),S(U,q)}function A(){return S||(S=p()),S.getInitialState()}function j(U,q=!1){function $(O){let N=O[U];return typeof N>"u"&&q&&(N=Lp(_,$,A)),N}function z(O=g){const N=Lp(b,q,()=>new WeakMap);return Lp(N,O,()=>{const M={};for(const[P,I]of Object.entries(r.selectors??{}))M[P]=cG(I,O,()=>Lp(_,O,A),q);return M})}return{reducerPath:U,getSelectors:z,get selectors(){return z($)},selectSlice:$}}const L={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:A,...j(s),injectInto(U,{reducerPath:q,...$}={}){const z=q??s;return U.inject({reducerPath:z,reducer:E},$),{...L,...j(z,!0)}}};return L}}function cG(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var ei=lG();function uG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function dG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!hG(r))throw new Error(vi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?qi(t,l):qi(t))}function fG(t){return t._reducerDefinitionType==="asyncThunk"}function hG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:m,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),m&&r.addMatcher(g.settled,m),r.exposeCaseReducer(e,{fulfilled:l||zp,pending:u||zp,rejected:d||zp,settled:m||zp})}function zp(){}var pG="task",d5="listener",f5="completed",US="cancelled",gG=`task-${US}`,vG=`task-${f5}`,Dw=`${d5}-${US}`,yG=`${d5}-${f5}`,u0=class{constructor(t){this.code=t,this.message=`${pG} ${US} (reason: ${t})`}name="TaskAbortError";message},$S=(t,e)=>{if(typeof t!="function")throw new TypeError(vi(32))},Wg=()=>{},h5=(t,e=Wg)=>(t.catch(e),t),m5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Jl=t=>{if(t.aborted)throw new u0(t.reason)};function p5(t,e){let n=Wg;return new Promise((r,i)=>{const s=()=>i(new u0(t.reason));if(t.aborted){s();return}n=m5(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Wg})}var bG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof u0?"cancelled":"rejected",error:n}}finally{e?.()}},Xg=t=>e=>h5(p5(t,e).then(n=>(Jl(t),n))),g5=t=>{const e=Xg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ju}=Object,JO={},d0="listenerMiddleware",xG=(t,e)=>{const n=r=>m5(t,()=>r.abort(t.reason));return(r,i)=>{$S(r);const s=new AbortController;n(s);const l=bG(async()=>{Jl(t),Jl(s.signal);const u=await r({pause:Xg(s.signal),delay:g5(s.signal),signal:s.signal});return Jl(s.signal),u},()=>s.abort(vG));return i?.autoJoin&&e.push(l.catch(Wg)),{result:Xg(t)(l),cancel(){s.abort(gG)}}}},wG=(t,e)=>{const n=async(r,i)=>{Jl(e);let s=()=>{};const u=[new Promise((d,m)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),m()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await p5(e,Promise.race(u));return Jl(e),d}finally{s()}};return(r,i)=>h5(n(r,i))},v5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=qi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vi(21));return $S(s),{predicate:i,type:e,effect:s}},y5=ju(t=>{const{type:e,predicate:n,effect:r}=v5(t);return{id:aG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vi(22))}}},{withTypes:()=>y5}),ZO=(t,e)=>{const{type:n,effect:r,predicate:i}=v5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Lw=t=>{t.pending.forEach(e=>{e.abort(Dw)})},_G=(t,e)=>()=>{for(const n of e.keys())Lw(n);t.clear()},eI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},b5=ju(qi(`${d0}/add`),{withTypes:()=>b5}),SG=qi(`${d0}/removeAll`),x5=ju(qi(`${d0}/remove`),{withTypes:()=>x5}),EG=(...t)=>{console.error(`${d0}/error`,...t)},zh=(t={})=>{const e=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:s,onError:l=EG}=t;$S(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),S=>{_.unsubscribe(),S?.cancelActive&&Lw(_)}),d=_=>{const S=ZO(e,_)??y5(_);return u(S)};ju(d,{withTypes:()=>d});const m=_=>{const S=ZO(e,_);return S&&(S.unsubscribe(),_.cancelActive&&Lw(S)),!!S};ju(m,{withTypes:()=>m});const p=async(_,S,E,A)=>{const j=new AbortController,L=wG(d,j.signal),U=[];try{_.pending.add(j),r(_),await Promise.resolve(_.effect(S,ju({},E,{getOriginalState:A,condition:(q,$)=>L(q,$).then(Boolean),take:L,delay:g5(j.signal),pause:Xg(j.signal),extra:s,signal:j.signal,fork:xG(j.signal,U),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((q,$,z)=>{q!==j&&(q.abort(Dw),z.delete(q))})},cancel:()=>{j.abort(Dw),_.pending.delete(j)},throwIfCancelled:()=>{Jl(j.signal)}})))}catch(q){q instanceof u0||eI(l,q,{raisedBy:"effect"})}finally{await Promise.all(U),j.abort(yG),i(_),_.pending.delete(j)}},g=_G(e,n);return{middleware:_=>S=>E=>{if(!W4(E))return S(E);if(b5.match(E))return d(E.payload);if(SG.match(E)){g();return}if(x5.match(E))return m(E.payload);let A=_.getState();const j=()=>{if(A===JO)throw new Error(vi(23));return A};let L;try{if(L=S(E),e.size>0){const U=_.getState(),q=Array.from(e.values());for(const $ of q){let z=!1;try{z=$.predicate(E,U,A)}catch(O){z=!1,eI(l,O,{raisedBy:"predicate"})}z&&p($,E,_,j)}}}finally{A=JO}return L},startListening:d,stopListening:m,clearListeners:g}};function vi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var AG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},w5=ei({name:"chartLayout",initialState:AG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:TG,setLayout:NG,setChartSize:jG,setScale:CG}=w5.actions,OG=w5.reducer;function _5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ut(t){return Number.isFinite(t)}function Fa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){IG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IG(t,e,n){return(e=PG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){var e=RG(t,"string");return typeof e=="symbol"?e:e+""}function RG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function St(t,e,n){return Wt(t)||Wt(e)?n:qa(e)?dc(t,e,n):typeof e=="function"?e(t):n}var kG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Oe(t[s]))return wu(wu({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Oe(t[l]))return wu(wu({},t),{},{[l]:t[l]+(i||0)})}return t},Ya=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",S5=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},E5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:b,axisType:_}=t;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=_==="angleAxis"&&s&&s.length>=2?Qn(s[0]-s[1])*2*E:E,g||b){var A=(g||b||[]).map((j,L)=>{var U=r?r.indexOf(j):j;return{coordinate:l(U)+E,value:j,offset:E,index:L}});return A.filter(j=>!Bi(j.coordinate))}return d&&m?m.map((j,L)=>({coordinate:l(j)+E,value:j,index:L,offset:E})):l.ticks&&p!=null?l.ticks(p).map((j,L)=>({coordinate:l(j)+E,value:j,offset:E,index:L})):l.domain().map((j,L)=>({coordinate:l(j)+E,value:r?r[j]:j,index:L,offset:E}))},nI=1e-4,MG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-nI,s=Math.max(r[0],r[1])+nI,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},DG=(t,e)=>{if(!e||e.length!==2||!Oe(e[0])||!Oe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(i[0]=n),(!Oe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},LG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var d=t[u],m=d?.[i];if(m!=null){var p=m[1],g=m[0],b=Bi(p)?g:p;b>=0?(m[0]=s,m[1]=s+b,s=p):(m[0]=l,m[1]=l+b,l=p)}}}},zG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],d=u?.[i];if(d!=null){var m=Bi(d[1])?d[0]:d[1];m>=0?(d[0]=s,d[1]=s+m,s=d[1]):(d[0]=0,d[1]=0)}}}},VG={sign:LG,expand:iH,none:uc,silhouette:aH,wiggle:sH,positive:zG},UG=(t,e,n)=>{var r,i=(r=VG[n])!==null&&r!==void 0?r:uc,s=rH().keys(e).value((u,d)=>Number(St(u,d,0))).order(Tw).offset(i),l=s(t);return l.forEach((u,d)=>{u.forEach((m,p)=>{var g=St(t[p],e[d],0);Array.isArray(g)&&g.length===2&&Oe(g[0])&&Oe(g[1])&&(m[0]=g[0],m[1]=g[1])})}),l};function A5(t){return t==null?void 0:String(t)}function Qg(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Wt(i[e.dataKey])){var u=C4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=St(i,Wt(l)?e.dataKey:l);return Wt(d)?null:e.scale(d)}var rI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=St(s,e.dataKey,e.scale.domain()[l]);return Wt(u)?null:e.scale(u)-i/2+r},$G=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},BG=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},qG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],FG=(t,e,n)=>{if(t!=null)return qG(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((d,m)=>{var p=_5(m,e,n),g=BG(p);return!Ut(g[0])||!Ut(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},iI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,al=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=n0(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],m=i[l-1];s=Math.min((d?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function sI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return wu(wu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function hl(t,e){if(t)return String(t);if(typeof e=="string")return e}var HG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},KG=(t,e)=>e==="centric"?t.angle:t.radius,Ys=t=>t.layout.width,Ws=t=>t.layout.height,GG=t=>t.layout.scale,T5=t=>t.layout.margin,f0=se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),h0=se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),N5="data-recharts-item-index",j5="data-recharts-item-id",Vh=60;function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){YG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YG(t,e,n){return(e=WG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WG(t){var e=XG(t,"string");return typeof e=="symbol"?e:e+""}function XG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QG=t=>t.brush.height;function JG(t){var e=h0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vh;return n+i}return n},0)}function ZG(t){var e=h0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vh;return n+i}return n},0)}function eY(t){var e=f0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function tY(t){var e=f0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Vn=se([Ys,Ws,T5,QG,JG,ZG,eY,tY,H4,NK],(t,e,n,r,i,s,l,u,d,m)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Vp(Vp({},g),p),_=b.bottom;b.bottom+=r,b=kG(b,d,m);var S=t-b.left-b.right,E=e-b.top-b.bottom;return Vp(Vp({brushBottom:_},b),{},{width:Math.max(S,0),height:Math.max(E,0)})}),nY=se(Vn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),BS=se(Ys,Ws,(t,e)=>({x:0,y:0,width:t,height:e})),rY=w.createContext(null),Zn=()=>w.useContext(rY)!=null,m0=t=>t.brush,p0=se([m0,Vn,T5],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),f1={},h1={},m1={},lI;function iY(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{m&&p(),E()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{S(),l=void 0,u=null},A=()=>{p()},j=function(...L){if(i?.aborted)return;l=this,u=L;const U=b==null;_(),d&&U&&p()};return j.schedule=_,j.cancel=E,j.flush=A,i?.addEventListener("abort",E,{once:!0}),j}t.debounce=e})(m1)),m1}var cI;function aY(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iY();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let p,g=null;const b=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:m}),_=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},S=()=>(b.flush(),p);return _.cancel=b.cancel,_.flush=S,_}t.debounce=n})(h1)),h1}var uI;function sY(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aY();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(f1)),f1}var p1,dI;function oY(){return dI||(dI=1,p1=sY().throttle),p1}var lY=oY();const cY=Hs(lY);var Jg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},C5=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Ls(r)?t:Number(r),d=Ls(i)?e:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},uY={width:0,height:0,overflow:"visible"},dY={width:0,overflowX:"visible"},fY={height:0,overflowY:"visible"},hY={},mY=t=>{var{width:e,height:n}=t,r=Ls(e),i=Ls(n);return r&&i?uY:r?dY:i?fY:hY};function pY(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(null,arguments)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){gY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gY(t,e,n){return(e=vY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vY(t){var e=yY(t,"string");return typeof e=="symbol"?e:e+""}function yY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O5=w.createContext({width:-1,height:-1});function bY(t){return Fa(t.width)&&Fa(t.height)}function I5(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return bY(i)?w.createElement(O5.Provider,{value:i},e):null}var qS=()=>w.useContext(O5),xY=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:m,debounce:p=0,id:g,className:b,onResize:_,style:S={}}=t,E=w.useRef(null),A=w.useRef();A.current=_,w.useImperativeHandle(e,()=>E.current);var[j,L]=w.useState({containerWidth:r.width,containerHeight:r.height}),U=w.useCallback((N,M)=>{L(P=>{var I=Math.round(N),D=Math.round(M);return P.containerWidth===I&&P.containerHeight===D?P:{containerWidth:I,containerHeight:D}})},[]);w.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Mh;var N=D=>{var k,{width:ie,height:ee}=D[0].contentRect;U(ie,ee),(k=A.current)===null||k===void 0||k.call(A,ie,ee)};p>0&&(N=cY(N,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(N),{width:P,height:I}=E.current.getBoundingClientRect();return U(P,I),M.observe(E.current),()=>{M.disconnect()}},[U,p]);var{containerWidth:q,containerHeight:$}=j;Jg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:O}=C5(q,$,{width:i,height:s,aspect:n,maxHeight:d});return Jg(z!=null&&z>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,O,i,s,l,u,n),w.createElement("div",{id:g?"".concat(g):void 0,className:ft("recharts-responsive-container",b),style:hI(hI({},S),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:E},w.createElement("div",{style:mY({width:i,height:s})},w.createElement(I5,{width:z,height:O},m)))}),g0=w.forwardRef((t,e)=>{var n=qS();if(Fa(n.width)&&Fa(n.height))return t.children;var{width:r,height:i}=pY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=C5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Oe(s)&&Oe(l)?w.createElement(I5,{width:s,height:l},t.children):w.createElement(xY,zw({},t,{width:r,height:i,ref:e}))});function P5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var v0=()=>{var t,e=Zn(),n=Le(nY),r=Le(p0),i=(t=Le(m0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},wY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},R5=()=>{var t;return(t=Le(Vn))!==null&&t!==void 0?t:wY},FS=()=>Le(Ys),HS=()=>Le(Ws),_Y=()=>Le(t=>t.layout.margin),it=t=>t.layout.layoutType,ml=()=>Le(it),SY=()=>{var t=ml();if(t==="horizontal"||t==="vertical")return t},EY=()=>{var t=ml();return t!==void 0},y0=t=>{var e=Ft(),n=Zn(),{width:r,height:i}=t,s=qS(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),w.useEffect(()=>{!n&&Fa(l)&&Fa(u)&&e(jG({width:l,height:u}))},[e,n,l,u]),null},k5=Symbol.for("immer-nothing"),mI=Symbol.for("immer-draftable"),yi=Symbol.for("immer-state");function ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var rh=Object.getPrototypeOf;function $u(t){return!!t&&!!t[yi]}function hc(t){return t?M5(t)||Array.isArray(t)||!!t[mI]||!!t.constructor?.[mI]||Uh(t)||x0(t):!1}var AY=Object.prototype.constructor.toString(),pI=new WeakMap;function M5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=pI.get(n);return r===void 0&&(r=Function.toString.call(n),pI.set(n,r)),r===AY}function Zg(t,e,n=!0){b0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function b0(t){const e=t[yi];return e?e.type_:Array.isArray(t)?1:Uh(t)?2:x0(t)?3:0}function Vw(t,e){return b0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function D5(t,e,n){const r=b0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function TY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Uh(t){return t instanceof Map}function x0(t){return t instanceof Set}function ql(t){return t.copy_||t.base_}function Uw(t,e){if(Uh(t))return new Map(t);if(x0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=M5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[yi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(rh(t),r)}else{const r=rh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function KS(t,e=!1){return w0(t)||$u(t)||!hc(t)||(b0(t)>1&&Object.defineProperties(t,{set:Up,add:Up,clear:Up,delete:Up}),Object.freeze(t),e&&Object.values(t).forEach(n=>KS(n,!0))),t}function NY(){ra(2)}var Up={value:NY};function w0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var jY={};function mc(t){const e=jY[t];return e||ra(0,t),e}var ih;function L5(){return ih}function CY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gI(t,e){e&&(mc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $w(t){Bw(t),t.drafts_.forEach(OY),t.drafts_=null}function Bw(t){t===ih&&(ih=t.parent_)}function vI(t){return ih=CY(ih,t)}function OY(t){const e=t[yi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[yi].modified_&&($w(e),ra(4)),hc(t)&&(t=ev(e,t),e.parent_||tv(e,t)),e.patches_&&mc("Patches").generateReplacementPatches_(n[yi].base_,t,e.patches_,e.inversePatches_)):t=ev(e,n,[]),$w(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==k5?t:void 0}function ev(t,e,n){if(w0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[yi];if(!i)return Zg(e,(s,l)=>bI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return tv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Zg(l,(d,m)=>bI(t,i,s,d,m,n,u),r),tv(t,s,!1),n&&t.patches_&&mc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function bI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=w0(i);if(!(u&&!l)){if($u(i)){const d=s&&e&&e.type_!==3&&!Vw(e.assigned_,r)?s.concat(r):void 0,m=ev(t,i,d);if(D5(n,r,m),$u(m))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(hc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;ev(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Uh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&tv(t,i)}}}function tv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KS(e,n)}function IY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:L5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=GS;n&&(i=[r],s=ah);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var GS={get(t,e){if(e===yi)return t;const n=ql(t);if(!Vw(n,e))return PY(t,n,e);const r=n[e];return t.finalized_||!hc(r)?r:r===g1(t.base_,e)?(v1(t),t.copy_[e]=Fw(r,t)):r},has(t,e){return e in ql(t)},ownKeys(t){return Reflect.ownKeys(ql(t))},set(t,e,n){const r=z5(ql(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=g1(ql(t),e),s=i?.[yi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(TY(n,i)&&(n!==void 0||Vw(t.base_,e)))return!0;v1(t),qw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return g1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,v1(t),qw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ql(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ra(11)},getPrototypeOf(t){return rh(t.base_)},setPrototypeOf(){ra(12)}},ah={};Zg(GS,(t,e)=>{ah[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ah.deleteProperty=function(t,e){return ah.set.call(this,t,e,void 0)};ah.set=function(t,e,n){return GS.set.call(this,t[0],e,n,t[0])};function g1(t,e){const n=t[yi];return(n?ql(n):t)[e]}function PY(t,e,n){const r=z5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function z5(t,e){if(!(e in t))return;let n=rh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=rh(n)}}function qw(t){t.modified_||(t.modified_=!0,t.parent_&&qw(t.parent_))}function v1(t){t.copy_||(t.copy_=Uw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var RY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...m){return l.produce(d,p=>n.call(this,p,...m))}}typeof n!="function"&&ra(6),r!==void 0&&typeof r!="function"&&ra(7);let i;if(hc(e)){const s=vI(this),l=Fw(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?$w(s):Bw(s)}return gI(s,r),yI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===k5&&(i=void 0),this.autoFreeze_&&KS(i,!0),r){const s=[],l=[];mc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ra(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){hc(t)||ra(8),$u(t)&&(t=kY(t));const e=vI(this),n=Fw(t,void 0);return n[yi].isManual_=!0,Bw(e),n}finishDraft(t,e){const n=t&&t[yi];(!n||!n.isManual_)&&ra(9);const{scope_:r}=n;return gI(r,e),yI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=mc("Patches").applyPatches_;return $u(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Fw(t,e){const n=Uh(t)?mc("MapSet").proxyMap_(t,e):x0(t)?mc("MapSet").proxySet_(t,e):IY(t,e);return(e?e.scope_:L5()).drafts_.push(n),n}function kY(t){return $u(t)||ra(10,t),V5(t)}function V5(t){if(!hc(t)||w0(t))return t;const e=t[yi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Uw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Uw(t,!0);return Zg(n,(i,s)=>{D5(n,i,V5(s))},r),e&&(e.finalized_=!1),n}var MY=new RY;MY.produce;var DY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},U5=ei({name:"legend",initialState:DY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:en()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:en()},removeLegendPayload:{reducer(t,e){var n=oa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:en()}}}),{setLegendSize:xI,setLegendSettings:LY,addLegendPayload:$5,replaceLegendPayload:B5,removeLegendPayload:q5}=U5.actions,zY=U5.reducer,VY=["contextPayload"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(null,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){UY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UY(t,e,n){return(e=$Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Y(t){var e=BY(t,"string");return typeof e=="symbol"?e:e+""}function BY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qY(t,e){if(t==null)return{};var n,r,i=FY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HY(t){return t.value}function KY(t){var{contextPayload:e}=t,n=qY(t,VY),r=$4(e,t.payloadUniqBy,HY),i=Bu(Bu({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(DH,i)}function GY(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:d}=e,m,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?m={left:((r||0)-s.width)/2}:m=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-s.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bu(Bu({},m),p)}function YY(t){var e=Ft();return w.useEffect(()=>{e(LY(t))},[e,t]),null}function WY(t){var e=Ft();return w.useEffect(()=>(e(xI(t)),()=>{e(xI({width:0,height:0}))}),[e,t]),null}function XY(t,e,n,r){return t==="vertical"&&Oe(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var QY={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function _0(t){var e=pn(t,QY),n=OK(),r=NF(),i=_Y(),{width:s,height:l,wrapperStyle:u,portal:d}=e,[m,p]=K4([n]),g=FS(),b=HS();if(g==null||b==null)return null;var _=g-(i?.left||0)-(i?.right||0),S=XY(e.layout,l,s,_),E=d?u:Bu(Bu({position:"absolute",width:S?.width||s||"auto",height:S?.height||l||"auto"},GY(u,e,i,g,b,m)),u),A=d??r;if(A==null||n==null)return null;var j=w.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:p},w.createElement(YY,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&w.createElement(WY,{width:m.width,height:m.height}),w.createElement(KY,Hw({},e,S,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return AS.createPortal(j,A)}_0.displayName="Legend";function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){JY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JY(t,e,n){return(e=ZY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZY(t){var e=eW(t,"string");return typeof e=="symbol"?e:e+""}function eW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tW(t){return Array.isArray(t)&&qa(t[0])&&qa(t[1])?t.join(" ~ "):t}var nW=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var $={padding:0,margin:0},z=(u?n0(s,u):s).map((O,N)=>{if(O.type==="none")return null;var M=O.formatter||l||tW,{value:P,name:I}=O,D=P,k=I;if(M){var ie=M(P,I,O,N,s);if(Array.isArray(ie))[D,k]=ie;else if(ie!=null)D=ie;else return null}var ee=y1({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:ee},qa(k)?w.createElement("span",{className:"recharts-tooltip-item-name"},k):null,qa(k)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},D),w.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:$},z)}return null},S=y1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=y1({margin:0},i),A=!Wt(p),j=A?p:"",L=ft("recharts-default-tooltip",d),U=ft("recharts-tooltip-label",m);A&&g&&s!==void 0&&s!==null&&(j=g(p,s));var q=b?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Kw({className:L,style:S},q),w.createElement("p",{className:U,style:E},w.isValidElement(j)?j:"".concat(j)),_())},vf="recharts-tooltip-wrapper",rW={visibility:"hidden"};function iW(t){var{coordinate:e,translateX:n,translateY:r}=t;return ft(vf,{["".concat(vf,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(vf,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(vf,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(vf,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function SI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:m}=t;if(s&&Oe(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=d[r];if(b==null)return 0;if(l[r]){var _=p,S=b;return _<S?Math.max(g,b):Math.max(p,b)}if(m==null)return 0;var E=g+u,A=b+m;return E>A?Math.max(p,b):Math.max(g,b)}function aW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function sW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,m,p,g;return l.height>0&&l.width>0&&n?(p=SI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=SI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),m=aW({translateX:p,translateY:g,useTranslate3d:u})):m=rW,{cssProperties:m,cssClasses:iW({translateX:p,translateY:g,coordinate:n})}}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Gw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gw(t,e,n){return(e=oW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oW(t){var e=lW(t,"string");return typeof e=="symbol"?e:e+""}function lW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cW extends w.PureComponent{constructor(){super(...arguments),Gw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:m,position:p,reverseDirection:g,useTranslate3d:b,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:A,hasPortalFromProps:j}=this.props,{cssClasses:L,cssProperties:U}=sW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:_}),q=j?{}:$p($p({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},U),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),$=$p($p({},q),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:$,ref:A},s)}}var F5=()=>{var t;return(t=Le(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){uW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uW(t,e,n){return(e=dW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=fW(t,"string");return typeof e=="symbol"?e:e+""}function fW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI={curveBasisClosed:KF,curveBasisOpen:GF,curveBasis:HF,curveBumpX:IF,curveBumpY:PF,curveLinearClosed:YF,curveLinear:e0,curveMonotoneX:WF,curveMonotoneY:XF,curveNatural:QF,curveStep:JF,curveStepAfter:eH,curveStepBefore:ZF},nv=t=>Ut(t.x)&&Ut(t.y),jI=t=>t.base!=null&&nv(t.base)&&nv(t),yf=t=>t.x,bf=t=>t.y,hW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(kh(t));return(n==="curveMonotone"||n==="curveBump")&&e?NI["".concat(n).concat(e==="vertical"?"Y":"X")]:NI[n]||e0},mW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=hW(e,i),u=s?n.filter(nv):n,d;if(Array.isArray(r)){var m=n.map((_,S)=>TI(TI({},_),{},{base:r[S]}));i==="vertical"?d=Rp().y(bf).x1(yf).x0(_=>_.base.x):d=Rp().x(yf).y1(bf).y0(_=>_.base.y);var p=d.defined(jI).curve(l),g=s?m.filter(jI):m;return p(g)}i==="vertical"&&Oe(r)?d=Rp().y(bf).x1(yf).x0(r):Oe(r)?d=Rp().x(yf).y1(bf).y0(r):d=g4().x(yf).y(bf);var b=d.defined(nv).curve(l);return b(u)},Cu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=ml();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?mW(l):r;return w.createElement("path",Yw({},Lr(t),RS(t),{className:ft("recharts-curve",e),d:u===null?void 0:u,ref:i}))},pW=["x","y","top","left","width","height","className"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){vW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vW(t,e,n){return(e=yW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yW(t){var e=bW(t,"string");return typeof e=="symbol"?e:e+""}function bW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xW(t,e){if(t==null)return{};var n,r,i=wW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _W=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),SW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,d=xW(t,pW),m=gW({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Oe(e)||!Oe(n)||!Oe(s)||!Oe(l)||!Oe(r)||!Oe(i)?null:w.createElement("path",Ww({},Cr(m),{className:ft("recharts-cross",u),d:_W(e,n,s,l,r,i)}))};function EW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){AW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AW(t,e,n){return(e=TW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TW(t){var e=NW(t,"string");return typeof e=="symbol"?e:e+""}function NW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),H5=(t,e,n)=>t.map(r=>"".concat(jW(r)," ").concat(e,"ms ").concat(n)).join(","),CW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),sh=(t,e)=>Object.keys(e).reduce((n,r)=>II(II({},n),{},{[r]:t(r,e[r])}),{});function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){OW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e,n){return(e=IW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=PW(t,"string");return typeof e=="symbol"?e:e+""}function PW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=(t,e,n)=>t+(e-t)*n,Xw=t=>{var{from:e,to:n}=t;return e!==n},K5=(t,e,n)=>{var r=sh((i,s)=>{if(Xw(s)){var[l,u]=t(s.from,s.to,s.velocity);return Dn(Dn({},s),{},{from:l,velocity:u})}return s},e);return n<1?sh((i,s)=>Xw(s)&&r[i]!=null?Dn(Dn({},s),{},{velocity:rv(s.velocity,r[i].velocity,n),from:rv(s.from,r[i].from,n)}):s,e):K5(t,r,n-1)};function RW(t,e,n,r,i,s){var l,u=r.reduce((b,_)=>Dn(Dn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>sh((b,_)=>_.from,u),m=()=>!Object.values(u).filter(Xw).length,p=null,g=b=>{l||(l=b);var _=b-l,S=_/n.dt;u=K5(n,u,S),i(Dn(Dn(Dn({},t),e),d())),l=b,m()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function kW(t,e,n,r,i,s,l){var u=null,d=i.reduce((g,b)=>{var _=t[b],S=e[b];return _==null||S==null?g:Dn(Dn({},g),{},{[b]:[_,S]})},{}),m,p=g=>{m||(m=g);var b=(g-m)/r,_=sh((E,A)=>rv(...A,n(b)),d);if(s(Dn(Dn(Dn({},t),e),_)),b<1)u=l.setTimeout(p);else{var S=sh((E,A)=>rv(...A,n(1)),d);s(Dn(Dn(Dn({},t),e),S))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const MW=(t,e,n,r,i,s)=>{var l=CW(t,e);return n==null?()=>(i(Dn(Dn({},t),e)),()=>{}):n.isStepper===!0?RW(t,e,n,l,i,s):kW(t,e,n,r,l,i,s)};var iv=1e-4,G5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Y5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),RI=(t,e)=>n=>{var r=G5(t,e);return Y5(r,n)},DW=(t,e)=>n=>{var r=G5(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return Y5(i,n)},LW=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},zW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=LW(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},VW=(t,e,n,r)=>{var i=RI(t,n),s=RI(e,r),l=DW(t,n),u=m=>m>1?1:m<0?0:m,d=m=>{for(var p=m>1?1:m,g=p,b=0;b<8;++b){var _=i(g)-p,S=l(g);if(Math.abs(_-p)<iv||S<iv)return s(g);g=u(g-_/S)}return s(g)};return d.isStepper=!1,d},kI=function(){return VW(...zW(...arguments))},UW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,d)=>{var m=-(l-u)*n,p=d*r,g=d+(m-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<iv&&Math.abs(g)<iv?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},$W=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kI(t);case"spring":return UW();default:if(t.split("(")[0]==="cubic-bezier")return kI(t)}return typeof t=="function"?t:null};function BW(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...m]=u;if(typeof d=="number"){i=t.setTimeout(s.bind(null,m),d);return}s(d),i=t.setTimeout(s.bind(null,m));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class qW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function FW(){return BW(new qW)}var HW=w.createContext(FW);function KW(t,e){var n=w.useContext(HW);return w.useMemo(()=>e??n(t),[t,e,n])}var GW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$h={isSsr:GW()},YW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MI={t:0},b1={t:1};function ad(t){var e=pn(t,YW),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:m}=e,p=n==="auto"?!$h.isSsr:n,g=KW(e.animationId,e.animationManager),[b,_]=w.useState(p?MI:b1),S=w.useRef(null);return w.useEffect(()=>{p||_(b1)},[p]),w.useEffect(()=>{if(!p||!r)return Mh;var E=MW(MI,b1,$W(s),i,_,g.getTimeoutController()),A=()=>{S.current=E()};return g.start([d,l,A,i,u]),()=>{g.stop(),S.current&&S.current(),u()}},[p,r,i,s,l,d,u,g]),m(b.t)}function sd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Zf(e)),r=w.useRef(t);return r.current!==t&&(n.current=Zf(e),r.current=t),n.current}var WW=["radius"],XW=["radius"],DI,LI,zI,VI,UI,$I,BI,qI,FI,HI;function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){QW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QW(t,e,n){return(e=JW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=ZW(t,"string");return typeof e=="symbol"?e:e+""}function ZW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}function YI(t,e){if(t==null)return{};var n,r,i=eX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ia(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var WI=(t,e,n,r,i)=>{var s=Ko(n),l=Ko(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,m=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],_=0,S=4;_<S;_++)b[_]=i[_]>u?u:i[_];g=fn(DI||(DI=Ia(["M",",",""])),t,e+d*b[0]),b[0]>0&&(g+=fn(LI||(LI=Ia(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+m*b[0],e)),g+=fn(zI||(zI=Ia(["L ",",",""])),t+n-m*b[1],e),b[1]>0&&(g+=fn(VI||(VI=Ia(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),g+=fn(UI||(UI=Ia(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(g+=fn($I||($I=Ia(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-m*b[2],e+r)),g+=fn(BI||(BI=Ia(["L ",",",""])),t+m*b[3],e+r),b[3]>0&&(g+=fn(qI||(qI=Ia(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);g=fn(FI||(FI=Ia(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,p,t+m*E,e,t+n-m*E,e,E,E,p,t+n,e+d*E,t+n,e+r-d*E,E,E,p,t+n-m*E,e+r,t+m*E,e+r,E,E,p,t,e+r-d*E)}else g=fn(HI||(HI=Ia(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},XI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W5=t=>{var e=pn(t,XI),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:m,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=e,A=w.useRef(u),j=w.useRef(d),L=w.useRef(s),U=w.useRef(l),q=w.useMemo(()=>({x:s,y:l,width:u,height:d,radius:m}),[s,l,u,d,m]),$=sd(q,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var z=ft("recharts-rectangle",p);if(!E){var O=Cr(e),{radius:N}=O,M=YI(O,WW);return w.createElement("path",av({},M,{x:Ko(s),y:Ko(l),width:Ko(u),height:Ko(d),radius:typeof m=="number"?m:void 0,className:z,d:WI(s,l,u,d,m)}))}var P=A.current,I=j.current,D=L.current,k=U.current,ie="0px ".concat(r===-1?1:r,"px"),ee="".concat(r,"px 0px"),W=H5(["strokeDasharray"],b,typeof g=="string"?g:XI.animationEasing);return w.createElement(ad,{animationId:$,key:$,canBegin:r>0,duration:b,easing:g,isActive:E,begin:_},H=>{var te=_t(P,u,H),oe=_t(I,d,H),we=_t(D,s,H),V=_t(k,l,H);n.current&&(A.current=te,j.current=oe,L.current=we,U.current=V);var K;S?H>0?K={transition:W,strokeDasharray:ee}:K={strokeDasharray:ie}:K={strokeDasharray:ee};var G=Cr(e),{radius:Y}=G,ce=YI(G,XW);return w.createElement("path",av({},ce,{radius:typeof m=="number"?m:void 0,className:z,d:WI(we,V,te,oe,m),ref:n,style:GI(GI({},K),e.style)}))})};function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){tX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e,n){return(e=nX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=rX(t,"string");return typeof e=="symbol"?e:e+""}function rX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sv=Math.PI/180,iX=t=>t*180/Math.PI,Rn=(t,e,n,r)=>({x:t+Math.cos(-sv*r)*n,y:e+Math.sin(-sv*r)*n}),X5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},aX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},sX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=aX({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:iX(d),angleInRadian:d}},oX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},lX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},cX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=sX({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:m}=oX(e),p=s,g;if(d<=m){for(;p>m;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=m}else{for(;p>d;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=d}return g?JI(JI({},e),{},{radius:i,angle:lX(p,e)}):null};function Q5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Rn(e,n,r,i),u=Rn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var ZI,eP,tP,nP,rP,iP,aP;function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function Kl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var uX=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Bp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,m=u*(l?1:-1)+r,p=Math.asin(u/m)/sv,g=d?i:i+s*p,b=Rn(e,n,m,g),_=Rn(e,n,r,g),S=d?i-s*p:i,E=Rn(e,n,m*Math.cos(p*sv),S);return{center:b,circleTangency:_,lineTangency:E,theta:p}},J5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=uX(s,l),d=s+u,m=Rn(e,n,i,s),p=Rn(e,n,i,d),g=fn(ZI||(ZI=Kl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(u)>180),+(s>d),p.x,p.y);if(r>0){var b=Rn(e,n,r,s),_=Rn(e,n,r,d);g+=fn(eP||(eP=Kl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=d),b.x,b.y)}else g+=fn(tP||(tP=Kl(["L ",","," Z"])),e,n);return g},dX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:m}=t,p=Qn(m-d),{circleTangency:g,lineTangency:b,theta:_}=Bp({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:A}=Bp({cx:e,cy:n,radius:i,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-m):Math.abs(d-m)-_-A;if(j<0)return l?fn(nP||(nP=Kl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):J5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:m});var L=fn(rP||(rP=Kl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(j>180),+(p<0),S.x,S.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:U,lineTangency:q,theta:$}=Bp({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:z,lineTangency:O,theta:N}=Bp({cx:e,cy:n,radius:r,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),M=u?Math.abs(d-m):Math.abs(d-m)-$-N;if(M<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+=fn(iP||(iP=Kl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,s,s,+(p<0),z.x,z.y,r,r,+(M>180),+(p>0),U.x,U.y,s,s,+(p<0),q.x,q.y)}else L+=fn(aP||(aP=Kl(["L",",","Z"])),e,n);return L},fX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Z5=t=>{var e=pn(t,fX),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:p,className:g}=e;if(s<i||m===p)return null;var b=ft("recharts-sector",g),_=s-i,S=Nr(l,_,0,!0),E;return S>0&&Math.abs(m-p)<360?E=dX({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:p}):E=J5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:m,endAngle:p}),w.createElement("path",Qw({},Cr(e),{className:b,d:E}))};function hX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(I4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,d=Rn(r,i,s,u),m=Rn(r,i,l,u);return[{x:d.x,y:d.y},{x:m.x,y:m.y}]}return Q5(e)}}var x1={},w1={},_1={},sP;function mX(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(_1)),_1}var oP;function pX(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(w1)),w1}var lP;function gX(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=pX();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let m=0;m<u;m++)d[m]=i,i+=l;return d}t.range=r})(x1)),x1}var S1,cP;function vX(){return cP||(cP=1,S1=gX().range),S1}var yX=vX();const e3=Hs(yX);function Jo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YS(t){let e,n,r;t.length!==2?(e=Jo,n=(u,d)=>Jo(t(u),d),r=(u,d)=>t(u)-d):(e=t===Jo||t===bX?t:xX,n=t,r=t);function i(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const g=m+p>>>1;n(u[g],d)<0?m=g+1:p=g}while(m<p)}return m}function s(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const g=m+p>>>1;n(u[g],d)<=0?m=g+1:p=g}while(m<p)}return m}function l(u,d,m=0,p=u.length){const g=i(u,d,m,p-1);return g>m&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function xX(){return 0}function t3(t){return t===null?NaN:+t}function*wX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const _X=YS(Jo),Bh=_X.right;YS(t3).center;class uP extends Map{constructor(e,n=AX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dP(this,e))}has(e){return super.has(dP(this,e))}set(e,n){return super.set(SX(this,e),n)}delete(e){return super.delete(EX(this,e))}}function dP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function SX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function EX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function AX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function TX(t=Jo){if(t===Jo)return n3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function n3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const NX=Math.sqrt(50),jX=Math.sqrt(10),CX=Math.sqrt(2);function ov(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=NX?10:s>=jX?5:s>=CX?2:1;let u,d,m;return i<0?(m=Math.pow(10,-i)/l,u=Math.round(t*m),d=Math.round(e*m),u/m<t&&++u,d/m>e&&--d,m=-m):(m=Math.pow(10,i)*l,u=Math.round(t/m),d=Math.round(e/m),u*m<t&&++u,d*m>e&&--d),d<u&&.5<=n&&n<2?ov(t,e,n*2):[u,d,m]}function Jw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?ov(e,t,n):ov(t,e,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let m=0;m<u;++m)d[m]=(s-m)/-l;else for(let m=0;m<u;++m)d[m]=(s-m)*l;else if(l<0)for(let m=0;m<u;++m)d[m]=(i+m)/-l;else for(let m=0;m<u;++m)d[m]=(i+m)*l;return d}function Zw(t,e,n){return e=+e,t=+t,n=+n,ov(t,e,n)[2]}function e_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Zw(e,t,n):Zw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function r3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?n3:TX(i);r>n;){if(r-n>600){const d=r-n+1,m=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(m-d/2<0?-1:1),_=Math.max(n,Math.floor(e-m*g/d+b)),S=Math.min(r,Math.floor(e+(d-m)*g/d+b));r3(t,e,_,S,i)}const s=t[e];let l=n,u=r;for(xf(t,n,e),i(t[r],s)>0&&xf(t,n,r);l<u;){for(xf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?xf(t,n,u):(++u,xf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function xf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function OX(t,e,n){if(t=Float64Array.from(wX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hP(t);if(e>=1)return fP(t);var r,i=(r-1)*e,s=Math.floor(i),l=fP(r3(t,s).subarray(0,s+1)),u=hP(t.subarray(s+1));return l+(u-l)*(i-s)}}function IX(t,e,n=t3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function PX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const t_=Symbol("implicit");function WS(){var t=new uP,e=[],n=[],r=t_;function i(s){let l=t.get(s);if(l===void 0){if(r!==t_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new uP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WS(e,n).unknown(r)},Hi.apply(i,arguments),i}function XS(){var t=WS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,d=0,m=0,p=.5;delete t.unknown;function g(){var b=e().length,_=i<r,S=_?i:r,E=_?r:i;s=(E-S)/Math.max(1,b-d+m*2),u&&(s=Math.floor(s)),S+=(E-S-s*(b-d))*p,l=s*(1-d),u&&(S=Math.round(S),l=Math.round(l));var A=PX(b).map(function(j){return S+s*j});return n(_?A.reverse():A)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,m=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(m=+b,g()):m},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return XS(e(),[r,i]).round(u).paddingInner(d).paddingOuter(m).align(p)},Hi.apply(g(),arguments)}function i3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return i3(e())},t}function RX(){return i3(XS.apply(null,arguments).paddingInner(1))}function QS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function a3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qh(){}var oh=.7,lv=1/oh,Ou="\\s*([+-]?\\d+)\\s*",lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kX=/^#([0-9a-f]{3,8})$/,MX=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),DX=new RegExp(`^rgb\\(${$a},${$a},${$a}\\)$`),LX=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${lh}\\)$`),zX=new RegExp(`^rgba\\(${$a},${$a},${$a},${lh}\\)$`),VX=new RegExp(`^hsl\\(${lh},${$a},${$a}\\)$`),UX=new RegExp(`^hsla\\(${lh},${$a},${$a},${lh}\\)$`),mP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QS(qh,ch,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pP,formatHex:pP,formatHex8:$X,formatHsl:BX,formatRgb:gP,toString:gP});function pP(){return this.rgb().formatHex()}function $X(){return this.rgb().formatHex8()}function BX(){return s3(this).formatHsl()}function gP(){return this.rgb().formatRgb()}function ch(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vP(e):n===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MX.exec(t))?new Jr(e[1],e[2],e[3],1):(e=DX.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LX.exec(t))?qp(e[1],e[2],e[3],e[4]):(e=zX.exec(t))?qp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VX.exec(t))?xP(e[1],e[2]/100,e[3]/100,1):(e=UX.exec(t))?xP(e[1],e[2]/100,e[3]/100,e[4]):mP.hasOwnProperty(t)?vP(mP[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function vP(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function qp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jr(t,e,n,r)}function qX(t){return t instanceof qh||(t=ch(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function n_(t,e,n,r){return arguments.length===1?qX(t):new Jr(t,e,n,r??1)}function Jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}QS(Jr,n_,a3(qh,{brighter(t){return t=t==null?lv:Math.pow(lv,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oh:Math.pow(oh,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(Zl(this.r),Zl(this.g),Zl(this.b),cv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yP,formatHex:yP,formatHex8:FX,formatRgb:bP,toString:bP}));function yP(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function FX(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function bP(){const t=cv(this.opacity);return`${t===1?"rgb(":"rgba("}${Zl(this.r)}, ${Zl(this.g)}, ${Zl(this.b)}${t===1?")":`, ${t})`}`}function cv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=Zl(t),(t<16?"0":"")+t.toString(16)}function xP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,n,r)}function s3(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof qh||(t=ch(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new ia(l,u,d,t.opacity)}function HX(t,e,n,r){return arguments.length===1?s3(t):new ia(t,e,n,r??1)}function ia(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}QS(ia,HX,a3(qh,{brighter(t){return t=t==null?lv:Math.pow(lv,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oh:Math.pow(oh,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Jr(E1(t>=240?t-240:t+120,i,r),E1(t,i,r),E1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ia(wP(this.h),Fp(this.s),Fp(this.l),cv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cv(this.opacity);return`${t===1?"hsl(":"hsla("}${wP(this.h)}, ${Fp(this.s)*100}%, ${Fp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wP(t){return t=(t||0)%360,t<0?t+360:t}function Fp(t){return Math.max(0,Math.min(1,t||0))}function E1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const JS=t=>()=>t;function KX(t,e){return function(n){return t+n*e}}function GX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function YX(t){return(t=+t)==1?o3:function(e,n){return n-e?GX(e,n,t):JS(isNaN(e)?n:e)}}function o3(t,e){var n=e-t;return n?KX(t,n):JS(isNaN(t)?e:t)}const _P=(function t(e){var n=YX(e);function r(i,s){var l=n((i=n_(i)).r,(s=n_(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),m=o3(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=m(p),i+""}}return r.gamma=t,r})(1);function WX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function XX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=od(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function JX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function uv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ZX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=od(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var r_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A1=new RegExp(r_.source,"g");function eQ(t){return function(){return t}}function tQ(t){return function(e){return t(e)+""}}function nQ(t,e){var n=r_.lastIndex=A1.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=r_.exec(t))&&(i=A1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:uv(r,i)})),n=A1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?tQ(d[0].x):eQ(e):(e=d.length,function(m){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(m);return u.join("")})}function od(t,e){var n=typeof e,r;return e==null||n==="boolean"?JS(e):(n==="number"?uv:n==="string"?(r=ch(e))?(e=r,_P):nQ:e instanceof ch?_P:e instanceof Date?JX:XX(e)?WX:Array.isArray(e)?QX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ZX:uv)(t,e)}function ZS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function rQ(t,e){e===void 0&&(e=t,t=od);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function iQ(t){return function(){return t}}function dv(t){return+t}var SP=[0,1];function Mr(t){return t}function i_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:iQ(isNaN(e)?NaN:.5)}function aQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function sQ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=i_(i,r),s=n(l,s)):(r=i_(r,i),s=n(s,l)),function(u){return s(r(u))}}function oQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=i_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var d=Bh(t,u,1,r)-1;return s[d](i[d](u))}}function Fh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function S0(){var t=SP,e=SP,n=od,r,i,s,l=Mr,u,d,m;function p(){var b=Math.min(t.length,e.length);return l!==Mr&&(l=aQ(t[0],t[b-1])),u=b>2?oQ:sQ,d=m=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((m||(m=u(e,t.map(r),uv)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,dv),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=ZS,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Mr,p()):l!==Mr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,_){return r=b,i=_,p()}}function eE(){return S0()(Mr,Mr)}function lQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qu(t){return t=fv(Math.abs(t)),t?t[1]:NaN}function cQ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function uQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var dQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uh(t){if(!(e=dQ.exec(t)))throw new Error("invalid format: "+t);var e;return new tE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uh.prototype=tE.prototype;function tE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var l3;function hQ(t,e){var n=fv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(l3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+fv(t,Math.max(0,e+s-1))[0]}function EP(t,e){var n=fv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const AP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EP(t*100,e),r:EP,s:hQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TP(t){return t}var NP=Array.prototype.map,jP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mQ(t){var e=t.grouping===void 0||t.thousands===void 0?TP:cQ(NP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?TP:uQ(NP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function m(g){g=uh(g);var b=g.fill,_=g.align,S=g.sign,E=g.symbol,A=g.zero,j=g.width,L=g.comma,U=g.precision,q=g.trim,$=g.type;$==="n"?(L=!0,$="g"):AP[$]||(U===void 0&&(U=12),q=!0,$="g"),(A||b==="0"&&_==="=")&&(A=!0,b="0",_="=");var z=E==="$"?n:E==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",O=E==="$"?r:/[%p]/.test($)?l:"",N=AP[$],M=/[defgprs%]/.test($);U=U===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function P(I){var D=z,k=O,ie,ee,W;if($==="c")k=N(I)+k,I="";else{I=+I;var H=I<0||1/I<0;if(I=isNaN(I)?d:N(Math.abs(I),U),q&&(I=fQ(I)),H&&+I==0&&S!=="+"&&(H=!1),D=(H?S==="("?S:u:S==="-"||S==="("?"":S)+D,k=($==="s"?jP[8+l3/3]:"")+k+(H&&S==="("?")":""),M){for(ie=-1,ee=I.length;++ie<ee;)if(W=I.charCodeAt(ie),48>W||W>57){k=(W===46?i+I.slice(ie+1):I.slice(ie))+k,I=I.slice(0,ie);break}}}L&&!A&&(I=e(I,1/0));var te=D.length+I.length+k.length,oe=te<j?new Array(j-te+1).join(b):"";switch(L&&A&&(I=e(oe+I,oe.length?j-k.length:1/0),oe=""),_){case"<":I=D+I+k+oe;break;case"=":I=D+oe+I+k;break;case"^":I=oe.slice(0,te=oe.length>>1)+D+I+k+oe.slice(te);break;default:I=oe+D+I+k;break}return s(I)}return P.toString=function(){return g+""},P}function p(g,b){var _=m((g=uh(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(qu(b)/3)))*3,E=Math.pow(10,-S),A=jP[8+S/3];return function(j){return _(E*j)+A}}return{format:m,formatPrefix:p}}var Hp,nE,c3;pQ({thousands:",",grouping:[3],currency:["$",""]});function pQ(t){return Hp=mQ(t),nE=Hp.format,c3=Hp.formatPrefix,Hp}function gQ(t){return Math.max(0,-qu(Math.abs(t)))}function vQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qu(e)/3)))*3-qu(Math.abs(t)))}function yQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qu(e)-qu(t))+1}function u3(t,e,n,r){var i=e_(t,e,n),s;switch(r=uh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=vQ(i,l))&&(r.precision=s),c3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=yQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=gQ(i))&&(r.precision=s-(r.type==="%")*2);break}}return nE(r)}function pl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Jw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return u3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],d,m,p=10;for(u<l&&(m=l,l=u,u=m,m=i,i=s,s=m);p-- >0;){if(m=Zw(l,u,n),m===d)return r[i]=l,r[s]=u,e(r);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;d=m}return t},t}function d3(){var t=eE();return t.copy=function(){return Fh(t,d3())},Hi.apply(t,arguments),pl(t)}function f3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,dv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return f3(t).unknown(e)},t=arguments.length?Array.from(t,dv):[0,1],pl(n)}function h3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function CP(t){return Math.log(t)}function OP(t){return Math.exp(t)}function bQ(t){return-Math.log(-t)}function xQ(t){return-Math.exp(-t)}function wQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _Q(t){return t===10?wQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function SQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IP(t){return(e,n)=>-t(-e,n)}function rE(t){const e=t(CP,OP),n=e.domain;let r=10,i,s;function l(){return i=SQ(r),s=_Q(r),n()[0]<0?(i=IP(i),s=IP(s),t(bQ,xQ)):t(CP,OP),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let m=d[0],p=d[d.length-1];const g=p<m;g&&([m,p]=[p,m]);let b=i(m),_=i(p),S,E;const A=u==null?10:+u;let j=[];if(!(r%1)&&_-b<A){if(b=Math.floor(b),_=Math.ceil(_),m>0){for(;b<=_;++b)for(S=1;S<r;++S)if(E=b<0?S/s(-b):S*s(b),!(E<m)){if(E>p)break;j.push(E)}}else for(;b<=_;++b)for(S=r-1;S>=1;--S)if(E=b>0?S/s(-b):S*s(b),!(E<m)){if(E>p)break;j.push(E)}j.length*2<A&&(j=Jw(m,p,A))}else j=Jw(b,_,Math.min(_-b,A)).map(s);return g?j.reverse():j},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=uh(d)).precision==null&&(d.trim=!0),d=nE(d)),u===1/0)return d;const m=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=m?d(p):""}},e.nice=()=>n(h3(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function m3(){const t=rE(S0()).domain([1,10]);return t.copy=()=>Fh(t,m3()).base(t.base()),Hi.apply(t,arguments),t}function PP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function RP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iE(t){var e=1,n=t(PP(e),RP(e));return n.constant=function(r){return arguments.length?t(PP(e=+r),RP(e)):e},pl(n)}function p3(){var t=iE(S0());return t.copy=function(){return Fh(t,p3()).constant(t.constant())},Hi.apply(t,arguments)}function kP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function AQ(t){return t<0?-t*t:t*t}function aE(t){var e=t(Mr,Mr),n=1;function r(){return n===1?t(Mr,Mr):n===.5?t(EQ,AQ):t(kP(n),kP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pl(e)}function sE(){var t=aE(S0());return t.copy=function(){return Fh(t,sE()).exponent(t.exponent())},Hi.apply(t,arguments),t}function TQ(){return sE.apply(null,arguments).exponent(.5)}function MP(t){return Math.sign(t)*t*t}function NQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function g3(){var t=eE(),e=[0,1],n=!1,r;function i(s){var l=NQ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(MP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,dv)).map(MP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return g3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Hi.apply(i,arguments),pl(i)}function v3(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=IX(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Bh(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Jo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return v3().domain(t).range(e).unknown(r)},Hi.apply(s,arguments)}function y3(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Bh(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var m=i.indexOf(d);return m<0?[NaN,NaN]:m<1?[t,r[0]]:m>=n?[r[n-1],e]:[r[m-1],r[m]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return y3().domain([t,e]).range(i).unknown(s)},Hi.apply(pl(l),arguments)}function b3(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Bh(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return b3().domain(t).range(e).unknown(n)},Hi.apply(i,arguments)}const T1=new Date,N1=new Date;function Un(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let m;do d.push(m=new Date(+s)),e(s,u),t(s);while(m<s&&s<l);return d},i.filter=s=>Un(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(T1.setTime(+s),N1.setTime(+l),t(T1),t(N1),Math.floor(n(T1,N1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const hv=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hv);hv.range;const Es=1e3,Ui=Es*60,As=Ui*60,Vs=As*24,oE=Vs*7,DP=Vs*30,j1=Vs*365,Yl=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCSeconds());Yl.range;const lE=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getMinutes());lE.range;const cE=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getUTCMinutes());cE.range;const uE=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es-t.getMinutes()*Ui)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getHours());uE.range;const dE=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCHours());dE.range;const Hh=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ui)/Vs,t=>t.getDate()-1);Hh.range;const E0=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>t.getUTCDate()-1);E0.range;const x3=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>Math.floor(t/Vs));x3.range;function _c(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/oE)}const A0=_c(0),mv=_c(1),jQ=_c(2),CQ=_c(3),Fu=_c(4),OQ=_c(5),IQ=_c(6);A0.range;mv.range;jQ.range;CQ.range;Fu.range;OQ.range;IQ.range;function Sc(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/oE)}const T0=Sc(0),pv=Sc(1),PQ=Sc(2),RQ=Sc(3),Hu=Sc(4),kQ=Sc(5),MQ=Sc(6);T0.range;pv.range;PQ.range;RQ.range;Hu.range;kQ.range;MQ.range;const fE=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fE.range;const hE=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hE.range;const Us=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Us.range;const $s=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});$s.range;function w3(t,e,n,r,i,s){const l=[[Yl,1,Es],[Yl,5,5*Es],[Yl,15,15*Es],[Yl,30,30*Es],[s,1,Ui],[s,5,5*Ui],[s,15,15*Ui],[s,30,30*Ui],[i,1,As],[i,3,3*As],[i,6,6*As],[i,12,12*As],[r,1,Vs],[r,2,2*Vs],[n,1,oE],[e,1,DP],[e,3,3*DP],[t,1,j1]];function u(m,p,g){const b=p<m;b&&([m,p]=[p,m]);const _=g&&typeof g.range=="function"?g:d(m,p,g),S=_?_.range(m,+p+1):[];return b?S.reverse():S}function d(m,p,g){const b=Math.abs(p-m)/g,_=YS(([,,A])=>A).right(l,b);if(_===l.length)return t.every(e_(m/j1,p/j1,g));if(_===0)return hv.every(Math.max(e_(m,p,g),1));const[S,E]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return S.every(E)}return[u,d]}const[DQ,LQ]=w3($s,hE,T0,x3,dE,cE),[zQ,VQ]=w3(Us,fE,A0,Hh,uE,lE);function C1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function O1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function UQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,m=_f(i),p=Sf(i),g=_f(s),b=Sf(s),_=_f(l),S=Sf(l),E=_f(u),A=Sf(u),j=_f(d),L=Sf(d),U={a:H,A:te,b:oe,B:we,c:null,d:BP,e:BP,f:cJ,g:bJ,G:wJ,H:sJ,I:oJ,j:lJ,L:_3,m:uJ,M:dJ,p:V,q:K,Q:HP,s:KP,S:fJ,u:hJ,U:mJ,V:pJ,w:gJ,W:vJ,x:null,X:null,y:yJ,Y:xJ,Z:_J,"%":FP},q={a:G,A:Y,b:ce,B:ye,c:null,d:qP,e:qP,f:TJ,g:DJ,G:zJ,H:SJ,I:EJ,j:AJ,L:E3,m:NJ,M:jJ,p:he,q:Pe,Q:HP,s:KP,S:CJ,u:OJ,U:IJ,V:PJ,w:RJ,W:kJ,x:null,X:null,y:MJ,Y:LJ,Z:VJ,"%":FP},$={a:P,A:I,b:D,B:k,c:ie,d:UP,e:UP,f:nJ,g:VP,G:zP,H:$P,I:$P,j:JQ,L:tJ,m:QQ,M:ZQ,p:M,q:XQ,Q:iJ,s:aJ,S:eJ,u:HQ,U:KQ,V:GQ,w:FQ,W:YQ,x:ee,X:W,y:VP,Y:zP,Z:WQ,"%":rJ};U.x=z(n,U),U.X=z(r,U),U.c=z(e,U),q.x=z(n,q),q.X=z(r,q),q.c=z(e,q);function z(re,Se){return function(Ae){var J=[],Ve=-1,ze=0,Ge=re.length,wt,cn,tr;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ve<Ge;)re.charCodeAt(Ve)===37&&(J.push(re.slice(ze,Ve)),(cn=LP[wt=re.charAt(++Ve)])!=null?wt=re.charAt(++Ve):cn=wt==="e"?" ":"0",(tr=Se[wt])&&(wt=tr(Ae,cn)),J.push(wt),ze=Ve+1);return J.push(re.slice(ze,Ve)),J.join("")}}function O(re,Se){return function(Ae){var J=wf(1900,void 0,1),Ve=N(J,re,Ae+="",0),ze,Ge;if(Ve!=Ae.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Se&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(ze=O1(wf(J.y,0,1)),Ge=ze.getUTCDay(),ze=Ge>4||Ge===0?pv.ceil(ze):pv(ze),ze=E0.offset(ze,(J.V-1)*7),J.y=ze.getUTCFullYear(),J.m=ze.getUTCMonth(),J.d=ze.getUTCDate()+(J.w+6)%7):(ze=C1(wf(J.y,0,1)),Ge=ze.getDay(),ze=Ge>4||Ge===0?mv.ceil(ze):mv(ze),ze=Hh.offset(ze,(J.V-1)*7),J.y=ze.getFullYear(),J.m=ze.getMonth(),J.d=ze.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Ge="Z"in J?O1(wf(J.y,0,1)).getUTCDay():C1(wf(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Ge+5)%7:J.w+J.U*7-(Ge+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,O1(J)):C1(J)}}function N(re,Se,Ae,J){for(var Ve=0,ze=Se.length,Ge=Ae.length,wt,cn;Ve<ze;){if(J>=Ge)return-1;if(wt=Se.charCodeAt(Ve++),wt===37){if(wt=Se.charAt(Ve++),cn=$[wt in LP?Se.charAt(Ve++):wt],!cn||(J=cn(re,Ae,J))<0)return-1}else if(wt!=Ae.charCodeAt(J++))return-1}return J}function M(re,Se,Ae){var J=m.exec(Se.slice(Ae));return J?(re.p=p.get(J[0].toLowerCase()),Ae+J[0].length):-1}function P(re,Se,Ae){var J=_.exec(Se.slice(Ae));return J?(re.w=S.get(J[0].toLowerCase()),Ae+J[0].length):-1}function I(re,Se,Ae){var J=g.exec(Se.slice(Ae));return J?(re.w=b.get(J[0].toLowerCase()),Ae+J[0].length):-1}function D(re,Se,Ae){var J=j.exec(Se.slice(Ae));return J?(re.m=L.get(J[0].toLowerCase()),Ae+J[0].length):-1}function k(re,Se,Ae){var J=E.exec(Se.slice(Ae));return J?(re.m=A.get(J[0].toLowerCase()),Ae+J[0].length):-1}function ie(re,Se,Ae){return N(re,e,Se,Ae)}function ee(re,Se,Ae){return N(re,n,Se,Ae)}function W(re,Se,Ae){return N(re,r,Se,Ae)}function H(re){return l[re.getDay()]}function te(re){return s[re.getDay()]}function oe(re){return d[re.getMonth()]}function we(re){return u[re.getMonth()]}function V(re){return i[+(re.getHours()>=12)]}function K(re){return 1+~~(re.getMonth()/3)}function G(re){return l[re.getUTCDay()]}function Y(re){return s[re.getUTCDay()]}function ce(re){return d[re.getUTCMonth()]}function ye(re){return u[re.getUTCMonth()]}function he(re){return i[+(re.getUTCHours()>=12)]}function Pe(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Se=z(re+="",U);return Se.toString=function(){return re},Se},parse:function(re){var Se=O(re+="",!1);return Se.toString=function(){return re},Se},utcFormat:function(re){var Se=z(re+="",q);return Se.toString=function(){return re},Se},utcParse:function(re){var Se=O(re+="",!0);return Se.toString=function(){return re},Se}}}var LP={"-":"",_:" ",0:"0"},er=/^\s*\d+/,$Q=/^%/,BQ=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function qQ(t){return t.replace(BQ,"\\$&")}function _f(t){return new RegExp("^(?:"+t.map(qQ).join("|")+")","i")}function Sf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function FQ(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function KQ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function GQ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function YQ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zP(t,e,n){var r=er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function VP(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function WQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XQ(t,e,n){var r=er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function QQ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function UP(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function JQ(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $P(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ZQ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function eJ(t,e,n){var r=er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function tJ(t,e,n){var r=er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function nJ(t,e,n){var r=er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rJ(t,e,n){var r=$Q.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function iJ(t,e,n){var r=er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function aJ(t,e,n){var r=er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function BP(t,e){return gt(t.getDate(),e,2)}function sJ(t,e){return gt(t.getHours(),e,2)}function oJ(t,e){return gt(t.getHours()%12||12,e,2)}function lJ(t,e){return gt(1+Hh.count(Us(t),t),e,3)}function _3(t,e){return gt(t.getMilliseconds(),e,3)}function cJ(t,e){return _3(t,e)+"000"}function uJ(t,e){return gt(t.getMonth()+1,e,2)}function dJ(t,e){return gt(t.getMinutes(),e,2)}function fJ(t,e){return gt(t.getSeconds(),e,2)}function hJ(t){var e=t.getDay();return e===0?7:e}function mJ(t,e){return gt(A0.count(Us(t)-1,t),e,2)}function S3(t){var e=t.getDay();return e>=4||e===0?Fu(t):Fu.ceil(t)}function pJ(t,e){return t=S3(t),gt(Fu.count(Us(t),t)+(Us(t).getDay()===4),e,2)}function gJ(t){return t.getDay()}function vJ(t,e){return gt(mv.count(Us(t)-1,t),e,2)}function yJ(t,e){return gt(t.getFullYear()%100,e,2)}function bJ(t,e){return t=S3(t),gt(t.getFullYear()%100,e,2)}function xJ(t,e){return gt(t.getFullYear()%1e4,e,4)}function wJ(t,e){var n=t.getDay();return t=n>=4||n===0?Fu(t):Fu.ceil(t),gt(t.getFullYear()%1e4,e,4)}function _J(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function qP(t,e){return gt(t.getUTCDate(),e,2)}function SJ(t,e){return gt(t.getUTCHours(),e,2)}function EJ(t,e){return gt(t.getUTCHours()%12||12,e,2)}function AJ(t,e){return gt(1+E0.count($s(t),t),e,3)}function E3(t,e){return gt(t.getUTCMilliseconds(),e,3)}function TJ(t,e){return E3(t,e)+"000"}function NJ(t,e){return gt(t.getUTCMonth()+1,e,2)}function jJ(t,e){return gt(t.getUTCMinutes(),e,2)}function CJ(t,e){return gt(t.getUTCSeconds(),e,2)}function OJ(t){var e=t.getUTCDay();return e===0?7:e}function IJ(t,e){return gt(T0.count($s(t)-1,t),e,2)}function A3(t){var e=t.getUTCDay();return e>=4||e===0?Hu(t):Hu.ceil(t)}function PJ(t,e){return t=A3(t),gt(Hu.count($s(t),t)+($s(t).getUTCDay()===4),e,2)}function RJ(t){return t.getUTCDay()}function kJ(t,e){return gt(pv.count($s(t)-1,t),e,2)}function MJ(t,e){return gt(t.getUTCFullYear()%100,e,2)}function DJ(t,e){return t=A3(t),gt(t.getUTCFullYear()%100,e,2)}function LJ(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function zJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hu(t):Hu.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function VJ(){return"+0000"}function FP(){return"%"}function HP(t){return+t}function KP(t){return Math.floor(+t/1e3)}var du,T3,N3;UJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UJ(t){return du=UQ(t),T3=du.format,du.parse,N3=du.utcFormat,du.utcParse,du}function $J(t){return new Date(t)}function BJ(t){return t instanceof Date?+t:+new Date(+t)}function mE(t,e,n,r,i,s,l,u,d,m){var p=eE(),g=p.invert,b=p.domain,_=m(".%L"),S=m(":%S"),E=m("%I:%M"),A=m("%I %p"),j=m("%a %d"),L=m("%b %d"),U=m("%B"),q=m("%Y");function $(z){return(d(z)<z?_:u(z)<z?S:l(z)<z?E:s(z)<z?A:r(z)<z?i(z)<z?j:L:n(z)<z?U:q)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?b(Array.from(z,BJ)):b().map($J)},p.ticks=function(z){var O=b();return t(O[0],O[O.length-1],z??10)},p.tickFormat=function(z,O){return O==null?$:m(O)},p.nice=function(z){var O=b();return(!z||typeof z.range!="function")&&(z=e(O[0],O[O.length-1],z??10)),z?b(h3(O,z)):p},p.copy=function(){return Fh(p,mE(t,e,n,r,i,s,l,u,d,m))},p}function qJ(){return Hi.apply(mE(zQ,VQ,Us,fE,A0,Hh,uE,lE,Yl,T3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FJ(){return Hi.apply(mE(DQ,LQ,$s,hE,T0,E0,dE,cE,Yl,N3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N0(){var t=0,e=1,n,r,i,s,l=Mr,u=!1,d;function m(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),m):[t,e]},m.clamp=function(g){return arguments.length?(u=!!g,m):u},m.interpolator=function(g){return arguments.length?(l=g,m):l};function p(g){return function(b){var _,S;return arguments.length?([_,S]=b,l=g(_,S),m):[l(0),l(1)]}}return m.range=p(od),m.rangeRound=p(ZS),m.unknown=function(g){return arguments.length?(d=g,m):d},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),m}}function gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function j3(){var t=pl(N0()(Mr));return t.copy=function(){return gl(t,j3())},Xs.apply(t,arguments)}function C3(){var t=rE(N0()).domain([1,10]);return t.copy=function(){return gl(t,C3()).base(t.base())},Xs.apply(t,arguments)}function O3(){var t=iE(N0());return t.copy=function(){return gl(t,O3()).constant(t.constant())},Xs.apply(t,arguments)}function pE(){var t=aE(N0());return t.copy=function(){return gl(t,pE()).exponent(t.exponent())},Xs.apply(t,arguments)}function HJ(){return pE.apply(null,arguments).exponent(.5)}function I3(){var t=[],e=Mr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>OX(t,s/r))},n.copy=function(){return I3(e).domain(t)},Xs.apply(n,arguments)}function j0(){var t=0,e=.5,n=1,r=1,i,s,l,u,d,m=Mr,p,g=!1,b;function _(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(r*E<r*s?u:d),m(g?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(g=!!E,_):g},_.interpolator=function(E){return arguments.length?(m=E,_):m};function S(E){return function(A){var j,L,U;return arguments.length?([j,L,U]=A,m=rQ(E,[j,L,U]),_):[m(0),m(.5),m(1)]}}return _.range=S(od),_.rangeRound=S(ZS),_.unknown=function(E){return arguments.length?(b=E,_):b},function(E){return p=E,i=E(t),s=E(e),l=E(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function P3(){var t=pl(j0()(Mr));return t.copy=function(){return gl(t,P3())},Xs.apply(t,arguments)}function R3(){var t=rE(j0()).domain([.1,1,10]);return t.copy=function(){return gl(t,R3()).base(t.base())},Xs.apply(t,arguments)}function k3(){var t=iE(j0());return t.copy=function(){return gl(t,k3()).constant(t.constant())},Xs.apply(t,arguments)}function gE(){var t=aE(j0());return t.copy=function(){return gl(t,gE()).exponent(t.exponent())},Xs.apply(t,arguments)}function KJ(){return gE.apply(null,arguments).exponent(.5)}const If=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:XS,scaleDiverging:P3,scaleDivergingLog:R3,scaleDivergingPow:gE,scaleDivergingSqrt:KJ,scaleDivergingSymlog:k3,scaleIdentity:f3,scaleImplicit:t_,scaleLinear:d3,scaleLog:m3,scaleOrdinal:WS,scalePoint:RX,scalePow:sE,scaleQuantile:v3,scaleQuantize:y3,scaleRadial:g3,scaleSequential:j3,scaleSequentialLog:C3,scaleSequentialPow:pE,scaleSequentialQuantile:I3,scaleSequentialSqrt:HJ,scaleSequentialSymlog:O3,scaleSqrt:TQ,scaleSymlog:p3,scaleThreshold:b3,scaleTime:qJ,scaleUtc:FJ,tickFormat:u3},Symbol.toStringTag,{value:"Module"}));var Qs=t=>t.chartData,C0=se([Qs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),vE=(t,e,n,r)=>r?C0(t):Qs(t),M3=(t,e,n)=>n?C0(t):Qs(t);function sl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ut(e)&&Ut(n))return!0}return!1}function GP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function D3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Ut(n))i=n;else if(typeof n=="function")return;if(Ut(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(sl(l))return l}}function GJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(sl(r))return GP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Oe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&iI.test(i)){var d=iI.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var m=+d[1];l=e[0]-m}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Oe(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&aI.test(s)){var p=aI.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(sl(b))return e==null?b:GP(b,e,n)}}}var ld=1e9,YJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bE,tn=!0,Fi="[DecimalError] ",ec=Fi+"Invalid argument: ",yE=Fi+"Exponent out of range: ",cd=Math.floor,Fl=Math.pow,WJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,Xn=1e7,Yt=7,L3=9007199254740991,gv=cd(L3/Yt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Cs(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return Vt(Cs(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return kn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mi))throw Error(Fi+"NaN");if(n.s<1)throw Error(Fi+(n.s?"NaN":"-Infinity"));return n.eq(mi)?new r(0):(tn=!1,e=Cs(dh(n,s),dh(t,s),s),tn=!0,Vt(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?U3(e,t):z3(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fi+"NaN");return n.s?(tn=!1,e=Cs(n,t,0,1).times(t),tn=!0,n.minus(e)):Vt(new r(n),i)};Me.naturalExponential=Me.exp=function(){return V3(this)};Me.naturalLogarithm=Me.ln=function(){return dh(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z3(e,t):U3(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ec+t);if(e=kn(i)+1,r=i.d.length-1,n=r*Yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Fi+"NaN")}for(t=kn(u),tn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ka(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Cs(u,s,l+2)).times(.5),ka(s.d).slice(0,l)===(e=ka(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Vt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return tn=!0,Vt(r,n)};Me.times=Me.mul=function(t){var e,n,r,i,s,l,u,d,m,p=this,g=p.constructor,b=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,m=_.length,d<m&&(s=b,b=_,_=s,l=d,d=m,m=l),s=[],l=d+m,r=l;r--;)s.push(0);for(r=m;--r>=0;){for(e=0,i=d+r;i>r;)u=s[i]+_[r]*b[i-r-1]+e,s[i--]=u%Xn|0,e=u/Xn|0;s[i]=(s[i]+e)%Xn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,tn?Vt(t,g.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ha(t,0,ld),e===void 0?e=r.rounding:Ha(e,0,8),Vt(n,t+kn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=pc(r,!0):(Ha(t,0,ld),e===void 0?e=i.rounding:Ha(e,0,8),r=Vt(new i(r),t+1,e),n=pc(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?pc(i):(Ha(t,0,ld),e===void 0?e=s.rounding:Ha(e,0,8),r=Vt(new s(i),t+kn(i)+1,e),n=pc(r.abs(),!1,t+kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),kn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,i,s,l,u=this,d=u.constructor,m=12,p=+(t=new d(t));if(!t.s)return new d(mi);if(u=new d(u),!u.s){if(t.s<1)throw Error(Fi+"Infinity");return u}if(u.eq(mi))return u;if(r=d.precision,t.eq(mi))return Vt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=L3){for(i=new d(mi),e=Math.ceil(r/Yt+4),tn=!1;n%2&&(i=i.times(u),WP(i.d,e)),n=cd(n/2),n!==0;)u=u.times(u),WP(u.d,e);return tn=!0,t.s<0?new d(mi).div(i):Vt(i,r)}}else if(s<0)throw Error(Fi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,tn=!1,i=t.times(dh(u,r+m)),tn=!0,i=V3(i),i.s=s,i};Me.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=kn(i),r=pc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ha(t,1,ld),e===void 0?e=s.rounding:Ha(e,0,8),i=Vt(new s(i),t,e),n=kn(i),r=pc(i,t<=n||n<=s.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ha(t,1,ld),e===void 0?e=r.rounding:Ha(e,0,8)),Vt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kn(t),n=t.constructor;return pc(t,e<=n.toExpNeg||e>=n.toExpPos)};function z3(t,e){var n,r,i,s,l,u,d,m,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),tn?Vt(e,g):e;if(d=t.d,m=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=m.length):(r=m,i=l,u=d.length),l=Math.ceil(g/Yt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=m.length,u-s<0&&(s=u,r=m,m=d,d=r),n=0;s;)n=(d[--s]=d[s]+m[s]+n)/Xn|0,d[s]%=Xn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,tn?Vt(e,g):e}function Ha(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ec+t)}function ka(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Yt-r.length,n&&(s+=zo(n)),s+=r;l=t[e],r=l+"",n=Yt-r.length,n&&(s+=zo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Cs=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Xn|0,l=s/Xn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Xn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,m,p,g,b,_,S,E,A,j,L,U,q,$,z,O,N,M=r.constructor,P=r.s==i.s?1:-1,I=r.d,D=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Fi+"Division by zero");for(d=r.e-i.e,O=D.length,$=I.length,_=new M(P),S=_.d=[],m=0;D[m]==(I[m]||0);)++m;if(D[m]>(I[m]||0)&&--d,s==null?L=s=M.precision:l?L=s+(kn(r)-kn(i))+1:L=s,L<0)return new M(0);if(L=L/Yt+2|0,m=0,O==1)for(p=0,D=D[0],L++;(m<$||p)&&L--;m++)U=p*Xn+(I[m]||0),S[m]=U/D|0,p=U%D|0;else{for(p=Xn/(D[0]+1)|0,p>1&&(D=t(D,p),I=t(I,p),O=D.length,$=I.length),q=O,E=I.slice(0,O),A=E.length;A<O;)E[A++]=0;N=D.slice(),N.unshift(0),z=D[0],D[1]>=Xn/2&&++z;do p=0,u=e(D,E,O,A),u<0?(j=E[0],O!=A&&(j=j*Xn+(E[1]||0)),p=j/z|0,p>1?(p>=Xn&&(p=Xn-1),g=t(D,p),b=g.length,A=E.length,u=e(g,E,b,A),u==1&&(p--,n(g,O<b?N:D,b))):(p==0&&(u=p=1),g=D.slice()),b=g.length,b<A&&g.unshift(0),n(E,g,A),u==-1&&(A=E.length,u=e(D,E,O,A),u<1&&(p++,n(E,O<A?N:D,A))),A=E.length):u===0&&(p++,E=[0]),S[m++]=p,u&&E[0]?E[A++]=I[q]||0:(E=[I[q]],A=1);while((q++<$||E[0]!==void 0)&&L--)}return S[0]||S.shift(),_.e=d,Vt(_,l?s+kn(_)+1:s)}})();function V3(t,e){var n,r,i,s,l,u,d=0,m=0,p=t.constructor,g=p.precision;if(kn(t)>16)throw Error(yE+kn(t));if(!t.s)return new p(mi);for(tn=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),m+=5;for(r=Math.log(Fl(2,m))/Math.LN10*2+5|0,u+=r,n=i=s=new p(mi),p.precision=u;;){if(i=Vt(i.times(t),u),n=n.times(++d),l=s.plus(Cs(i,n,u)),ka(l.d).slice(0,u)===ka(s.d).slice(0,u)){for(;m--;)s=Vt(s.times(s),u);return p.precision=g,e==null?(tn=!0,Vt(s,g)):s}s=l}}function kn(t){for(var e=t.e*Yt,n=t.d[0];n>=10;n/=10)e++;return e}function I1(t,e,n){if(e>t.LN10.sd())throw tn=!0,n&&(t.precision=n),Error(Fi+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function zo(t){for(var e="";t--;)e+="0";return e}function dh(t,e){var n,r,i,s,l,u,d,m,p,g=1,b=10,_=t,S=_.d,E=_.constructor,A=E.precision;if(_.s<1)throw Error(Fi+(_.s?"NaN":"-Infinity"));if(_.eq(mi))return new E(0);if(e==null?(tn=!1,m=A):m=e,_.eq(10))return e==null&&(tn=!0),I1(E,m);if(m+=b,E.precision=m,n=ka(S),r=n.charAt(0),s=kn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=ka(_.d),r=n.charAt(0),g++;s=kn(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return d=I1(E,m+2,A).times(s+""),_=dh(new E(r+"."+n.slice(1)),m-b).plus(d),E.precision=A,e==null?(tn=!0,Vt(_,A)):_;for(u=l=_=Cs(_.minus(mi),_.plus(mi),m),p=Vt(_.times(_),m),i=3;;){if(l=Vt(l.times(p),m),d=u.plus(Cs(l,new E(i),m)),ka(d.d).slice(0,m)===ka(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(I1(E,m+2,A).times(s+""))),u=Cs(u,new E(g),m),E.precision=A,e==null?(tn=!0,Vt(u,A)):u;u=d,i+=2}}function YP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cd(n/Yt),t.d=[],r=(n+1)%Yt,n<0&&(r+=Yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yt;r<i;)t.d.push(+e.slice(r,r+=Yt));e=e.slice(r),r=Yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tn&&(t.e>gv||t.e<-gv))throw Error(yE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,s,l,u,d,m,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Yt,i=e,m=g[p=0];else{if(p=Math.ceil((r+1)/Yt),s=g.length,p>=s)return t;for(m=s=g[p],l=1;s>=10;s/=10)l++;r%=Yt,i=r-Yt+l}if(n!==void 0&&(s=Fl(10,l-i-1),u=m/s%10|0,d=e<0||g[p+1]!==void 0||m%s,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?m/Fl(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(s=kn(t),g.length=1,e=e-s-1,g[0]=Fl(10,(Yt-e%Yt)%Yt),t.e=cd(-e/Yt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Fl(10,Yt-r),g[p]=i>0?(m/Fl(10,l-i)%Fl(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==Xn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Xn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(tn&&(t.e>gv||t.e<-gv))throw Error(yE+kn(t));return t}function U3(t,e){var n,r,i,s,l,u,d,m,p,g,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),tn?Vt(e,_):e;if(d=t.d,g=e.d,r=e.e,m=t.e,d=d.slice(),l=m-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=m,u=d.length),i=Math.max(Math.ceil(_/Yt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=Xn-1;--d[s],d[i]+=Xn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,tn?Vt(e,_):e):new b(0)}function pc(t,e,n){var r,i=kn(t),s=ka(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+zo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+zo(-i-1)+s,n&&(r=n-l)>0&&(s+=zo(r))):i>=l?(s+=zo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+zo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=zo(r))),t.s<0?"-"+s:s}function WP(t,e){if(t.length>e)return t.length=e,!0}function $3(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ec+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return YP(l,s.toString())}else if(typeof s!="string")throw Error(ec+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,WJ.test(s))YP(l,s);else throw Error(ec+s)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$3,i.config=i.set=XJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function XJ(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,n,r,i=["precision",1,ld,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ec+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ec+n+": "+r);return this}var bE=$3(YJ);mi=new bE(1);const Ct=bE;var QJ=t=>t,B3={},q3=t=>t===B3,XP=t=>function e(){return arguments.length===0||arguments.length===1&&q3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},F3=(t,e)=>t===1?e:XP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==B3).length;return s>=t?e(...r):F3(t-s,XP(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var m=r.map(p=>q3(p)?u.shift():p);return e(...m,...u)}))}),JJ=t=>F3(t.length,t),a_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},ZJ=JJ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),eZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return QJ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}};function H3(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function K3(t,e,n){for(var r=new Ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var G3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Y3=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=H3(t.toNumber()),i=new Ct(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new Ct(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new Ct(d.toNumber()):new Ct(Math.ceil(d.toNumber()))},tZ=(t,e,n)=>{var r=new Ct(1),i=new Ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ct(10).pow(H3(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));var l=Math.floor((e-1)/2),u=eZ(ZJ(d=>i.add(new Ct(d-l).mul(r)).toNumber()),a_);return u(0,e)},W3=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var l=Y3(new Ct(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new Ct(0):(u=new Ct(e).add(n).div(2),u=u.sub(new Ct(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),m=Math.ceil(new Ct(n).sub(u).div(l).toNumber()),p=d+m+1;return p>r?W3(e,n,r,i,s+1):(p<r&&(m=n>0?m+(r-p):m,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new Ct(d).mul(l)),tickMax:u.add(new Ct(m).mul(l))})},nZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=G3([n,r]);if(u===-1/0||d===1/0){var m=d===1/0?[u,...a_(0,i-1).map(()=>1/0)]:[...a_(0,i-1).map(()=>-1/0),d];return n>r?m.reverse():m}if(u===d)return tZ(u,i,s);var{step:p,tickMin:g,tickMax:b}=W3(u,d,l,s,0),_=K3(g,b.add(new Ct(.1).mul(p)),p);return n>r?_.reverse():_},rZ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=G3([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),m=Y3(new Ct(u).sub(l).div(d-1),s,0),p=[...K3(new Ct(l),new Ct(u),m),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},X3=t=>t.rootProps.maxBarSize,iZ=t=>t.rootProps.barGap,Q3=t=>t.rootProps.barCategoryGap,aZ=t=>t.rootProps.barSize,Kh=t=>t.rootProps.stackOffset,J3=t=>t.rootProps.reverseStackOrder,xE=t=>t.options.chartName,wE=t=>t.rootProps.syncId,Z3=t=>t.rootProps.syncMethod,_E=t=>t.options.eventEmitter,sZ=t=>t.rootProps.baseValue,_n={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},bs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},O0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},oZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:bs.angleAxisId,includeHidden:!1,name:void 0,reversed:bs.reversed,scale:bs.scale,tick:bs.tick,tickCount:void 0,ticks:void 0,type:bs.type,unit:void 0},lZ={allowDataOverflow:hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:hi.type,unit:void 0},cZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:bs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bs.scale,tick:bs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uZ={allowDataOverflow:hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:"category",unit:void 0},SE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?cZ:oZ,EE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?uZ:lZ,I0=t=>t.polarOptions,AE=se([Ys,Ws,Vn],X5),e6=se([I0,AE],(t,e)=>{if(t!=null)return Nr(t.innerRadius,e,0)}),t6=se([I0,AE],(t,e)=>{if(t!=null)return Nr(t.outerRadius,e,e*.8)}),dZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},n6=se([I0],dZ);se([SE,n6],O0);var r6=se([AE,e6,t6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});se([EE,r6],O0);var i6=se([it,I0,e6,t6,Ys,Ws],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:m}=e;return{cx:Nr(l,i,i/2),cy:Nr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:m,clockWise:!1}}}),nn=(t,e)=>e,Gh=(t,e,n)=>n;function P0(t){return t?.id}function a6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var d,m=(d=u.data)!==null&&d!==void 0?d:r;if(!(m==null||m.length===0)){var p=P0(u);m.forEach((g,b)=>{var _=s==null||i?b:String(St(g,s,null)),S=St(g,u.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[p]:S}),l.set(_,E)})}}),Array.from(l.values())}function R0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var k0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function M0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function fZ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var $n=t=>{var e=it(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ud=t=>t.tooltip.settings.axisId;function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return(e=mZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mZ(t){var e=pZ(t,"string");return typeof e=="symbol"?e:e+""}function pZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s_=[0,"auto"],Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},s6=(t,e)=>t.cartesianAxis.xAxis[e],Js=(t,e)=>{var n=s6(t,e);return n??Gn},Yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:s_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vh},o6=(t,e)=>t.cartesianAxis.yAxis[e],Zs=(t,e)=>{var n=o6(t,e);return n??Yn},gZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},TE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??gZ},ln=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);case"zAxis":return TE(t,n);case"angleAxis":return SE(t,n);case"radiusAxis":return EE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},vZ=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Yh=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);case"angleAxis":return SE(t,n);case"radiusAxis":return EE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},l6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function NE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Wh=t=>t.graphicalItems.cartesianItems,yZ=se([nn,Gh],NE),jE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Xh=se([Wh,ln,yZ],jE,{memoizeOptions:{resultEqualityCheck:M0}}),c6=se([Xh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(R0)),u6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),bZ=se([Xh],u6),CE=t=>t.map(e=>e.data).filter(Boolean).flat(1),xZ=se([Xh],CE,{memoizeOptions:{resultEqualityCheck:M0}}),OE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},IE=se([xZ,vE],OE),PE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:St(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:St(i,r)}))):t.map(r=>({value:r})),D0=se([IE,ln,Xh],PE);function d6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ug(t){if(qa(t)||t instanceof Date){var e=Number(t);if(Ut(e))return e}}function JP(t){if(Array.isArray(t)){var e=[ug(t[0]),ug(t[1])];return sl(e)?e:void 0}var n=ug(t);if(n!=null)return[n,n]}function Bs(t){return t.map(ug).filter(hH)}function wZ(t,e,n){return!n||typeof e!="number"||Bi(e)?[]:n.length?Bs(n.flatMap(r=>{var i=St(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Ut(s)||!Ut(l)))return[e-s,e+l]})):[]}var Bn=t=>{var e=$n(t),n=ud(t);return Yh(t,e,n)},Qh=se([Bn],t=>t?.dataKey),_Z=se([c6,vE,Bn],a6),f6=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,m=r?[...d].reverse():d,p=m.map(P0);return[u,{stackedData:UG(t,p,n),graphicalItems:m}]}))},yv=se([_Z,c6,Kh,J3],f6),h6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=FG(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},SZ=se([ln],t=>t.allowDataOverflow),RE=t=>{var e;if(t==null||!("domain"in t))return s_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Bs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:s_},kE=se([ln],RE),ME=se([kE,SZ],D3),EZ=se([yv,Qs,nn,ME],h6,{memoizeOptions:{resultEqualityCheck:k0}}),L0=t=>t.errorBars,AZ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>d6(n,r)),bv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},DE=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var m,p,g=(m=r[d.id])===null||m===void 0?void 0:m.filter(j=>d6(i,j)),b=St(u,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),_=wZ(u,b,g);if(_.length>=2){var S=Math.min(..._),E=Math.max(..._);(s==null||S<s)&&(s=S),(l==null||E>l)&&(l=E)}var A=JP(b);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=JP(St(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Ut(s)&&Ut(l))return[s,l]},TZ=se([IE,ln,bZ,L0,nn],DE,{memoizeOptions:{resultEqualityCheck:k0}});function NZ(t){var{value:e}=t;if(qa(e)||e instanceof Date)return e}var jZ=(t,e,n)=>{var r=t.map(NZ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&j4(r))?e3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},m6=t=>t.referenceElements.dots,dd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),CZ=se([m6,nn,Gh],dd),p6=t=>t.referenceElements.areas,OZ=se([p6,nn,Gh],dd),g6=t=>t.referenceElements.lines,IZ=se([g6,nn,Gh],dd),v6=(t,e)=>{if(t!=null){var n=Bs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},PZ=se(CZ,nn,v6),y6=(t,e)=>{if(t!=null){var n=Bs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},RZ=se([OZ,nn],y6);function kZ(t){var e;if(t.x!=null)return Bs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Bs(n)}function MZ(t){var e;if(t.y!=null)return Bs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Bs(n)}var b6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?kZ(r):MZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},DZ=se([IZ,nn],b6),LZ=se(PZ,DZ,RZ,(t,e,n)=>bv(t,n,e)),LE=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",m=d?bv(r,s,i):bv(s,i);return GJ(e,m,t.allowDataOverflow)},zZ=se([ln,kE,ME,EZ,TZ,LZ,it,nn],LE,{memoizeOptions:{resultEqualityCheck:k0}}),VZ=[0,1],zE=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,m=Ya(e,s);if(m&&u==null){var p;return e3(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?jZ(r,t,m):i==="expand"?VZ:l}},VE=se([ln,it,IE,D0,Kh,nn,zZ],zE),x6=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(kh(s));return u in If?u:"point"}}},fd=se([ln,it,l6,xE,nn],x6);function UZ(t){if(t!=null){if(t in If)return If[t]();var e="scale".concat(kh(t));if(e in If)return If[e]()}}function UE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=UZ(e);if(i!=null){var s=i.domain(n).range(r);return MG(s),s}}}var $E=(t,e,n)=>{var r=RE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&sl(t))return nZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&sl(t))return rZ(t,e.tickCount,e.allowDecimals)}},BE=se([VE,Yh,fd],$E),qE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&sl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},$Z=se([ln,VE,BE,nn],qE),BZ=se(D0,ln,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Bs(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],m=r[u+1];if(!(d==null||m==null)){var p=m-d;n=Math.min(n,p)}}return n/l}}),w6=se(BZ,it,Q3,Vn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ut(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Nr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),qZ=(t,e,n)=>{var r=Js(t,e);return r==null||typeof r.padding!="string"?0:w6(t,"xAxis",e,n,r.padding)},FZ=(t,e,n)=>{var r=Zs(t,e);return r==null||typeof r.padding!="string"?0:w6(t,"yAxis",e,n,r.padding)},HZ=se(Js,qZ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),KZ=se(Zs,FZ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),GZ=se([Vn,HZ,p0,m0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),YZ=se([Vn,it,KZ,p0,m0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Jh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return GZ(t,n,r);case"yAxis":return YZ(t,n,r);case"zAxis":return(i=TE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return n6(t);case"radiusAxis":return r6(t,n);default:return}},_6=se([ln,Jh],O0),z0=se([ln,fd,$Z,_6],UE);se([Xh,L0,nn],AZ);function S6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var V0=(t,e)=>e,U0=(t,e,n)=>n,WZ=se(f0,V0,U0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(S6)),XZ=se(h0,V0,U0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(S6)),E6=(t,e)=>({width:t.width,height:e.height}),QZ=(t,e)=>{var n=typeof e.width=="number"?e.width:Vh;return{width:n,height:t.height}},A6=se(Vn,Js,E6),JZ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ZZ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},eee=se(Ws,Vn,WZ,V0,U0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=E6(e,u);l==null&&(l=JZ(e,r,t));var m=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(m)*d.height,l+=(m?-1:1)*d.height}),s}),tee=se(Ys,Vn,XZ,V0,U0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=QZ(e,u);l==null&&(l=ZZ(e,r,t));var m=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(m)*d.width,l+=(m?-1:1)*d.width}),s}),nee=(t,e)=>{var n=Js(t,e);if(n!=null)return eee(t,n.orientation,n.mirror)},ree=se([Vn,Js,nee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),iee=(t,e)=>{var n=Zs(t,e);if(n!=null)return tee(t,n.orientation,n.mirror)},aee=se([Vn,Zs,iee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),T6=se(Vn,Zs,(t,e)=>{var n=typeof e.width=="number"?e.width:Vh;return{width:n,height:t.height}}),ZP=(t,e,n)=>{switch(e){case"xAxis":return A6(t,n).width;case"yAxis":return T6(t,n).height;default:return}},N6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=Ya(t,r),d=e.map(m=>m.value);if(l&&u&&s==="category"&&i&&j4(d))return d}},FE=se([it,D0,ln,nn],N6),j6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Ya(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},HE=se([it,D0,Yh,nn],j6),eR=se([it,vZ,fd,z0,FE,HE,Jh,BE,nn],(t,e,n,r,i,s,l,u,d)=>{if(e!=null){var m=Ya(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:u,range:l,realScaleType:n,scale:r}}}),see=(t,e,n,r,i,s,l,u,d)=>{if(!(e==null||r==null)){var m=Ya(t,d),{type:p,ticks:g,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/_:0;S=d==="angleAxis"&&s!=null&&s.length>=2?Qn(s[0]-s[1])*2*S:S;var E=g||i;if(E){var A=E.map((j,L)=>{var U=l?l.indexOf(j):j;return{index:L,coordinate:r(U)+S,value:j,offset:S}});return A.filter(j=>Ut(j.coordinate))}return m&&u?u.map((j,L)=>({coordinate:r(j)+S,value:j,index:L,offset:S})).filter(j=>Ut(j.coordinate)):r.ticks?r.ticks(b).map(j=>({coordinate:r(j)+S,value:j,offset:S})):r.domain().map((j,L)=>({coordinate:r(j)+S,value:l?l[j]:j,index:L,offset:S}))}},C6=se([it,Yh,fd,z0,BE,Jh,FE,HE,nn],see),oee=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ya(t,l),{tickCount:d}=e,m=0;return m=l==="angleAxis"&&r?.length>=2?Qn(r[0]-r[1])*2*m:m,u&&s?s.map((p,g)=>({coordinate:n(p)+m,value:p,index:g,offset:m})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+m,value:p,offset:m})):n.domain().map((p,g)=>({coordinate:n(p)+m,value:i?i[p]:p,index:g,offset:m}))}},Ka=se([it,Yh,z0,Jh,FE,HE,nn],oee),Ga=se(ln,z0,(t,e)=>{if(!(t==null||e==null))return vv(vv({},t),{},{scale:e})}),lee=se([ln,fd,VE,_6],UE);se((t,e,n)=>TE(t,n),lee,(t,e)=>{if(!(t==null||e==null))return vv(vv({},t),{},{scale:e})});var cee=se([it,f0,h0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),O6=t=>t.options.defaultTooltipEventType,I6=t=>t.options.validateTooltipEventTypes;function P6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function KE(t,e){var n=O6(t),r=I6(t);return P6(e,n,r)}function uee(t){return Le(e=>KE(e,t))}var R6=(t,e)=>{var n,r=Number(e);if(!(Bi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},dee=t=>t.tooltip.settings,Fo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fee={itemInteraction:{click:Fo,hover:Fo},axisInteraction:{click:Fo,hover:Fo},keyboardInteraction:Fo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},k6=ei({name:"tooltip",initialState:fee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:en()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:en()},removeTooltipEntrySettings:{reducer(t,e){var n=oa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:en()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:hee,replaceTooltipEntrySettings:mee,removeTooltipEntrySettings:pee,setTooltipSettingsState:gee,setActiveMouseOverItemIndex:M6,mouseLeaveItem:vee,mouseLeaveChart:D6,setActiveClickItemIndex:yee,setMouseOverAxisIndex:L6,setMouseClickAxisIndex:bee,setSyncInteraction:o_,setKeyboardInteraction:l_}=k6.actions,xee=k6.reducer;function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return(e=_ee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ee(t){var e=See(t,"string");return typeof e=="symbol"?e:e+""}function See(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Aee(t){return t.index!=null}var z6=(t,e,n,r)=>{if(e==null)return Fo;var i=Eee(t,e,n);if(i==null)return Fo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Aee(i)){if(s)return Kp(Kp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Kp(Kp({},Fo),{},{coordinate:i.coordinate})};function Tee(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Nee(t,e){var n=Tee(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function jee(t,e,n){if(n==null||e==null)return!0;var r=St(t,e);return r==null||!sl(n)?!0:Nee(r,n)}var GE=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Ut(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),m=e[d];return m==null||jee(m,n,r)?String(d):null},V6=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],m=d==null?void 0:u(d.positions,s);if(m!=null)return m;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},U6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Zh=t=>t.options.tooltipPayloadSearcher,hd=t=>t.tooltip;function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t,e,n){return(e=Oee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pee(t,e){return t??e}var $6=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:m,dataEndIndex:p}=n,g=[];return t.reduce((b,_)=>{var S,{dataDefinedOnItem:E,settings:A}=_,j=Pee(E,u),L=Array.isArray(j)?_5(j,m,p):j,U=(S=A?.dataKey)!==null&&S!==void 0?S:r,q=A?.nameKey,$;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&l==="axis"?$=C4(L,r,i):$=s(L,e,d,q),Array.isArray($))$.forEach(O=>{var N=rR(rR({},A),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});b.push(sI({tooltipEntrySettings:N,dataKey:O.dataKey,payload:O.payload,value:St(O.payload,O.dataKey),name:O.name}))});else{var z;b.push(sI({tooltipEntrySettings:A,dataKey:U,payload:$,value:St($,U),name:(z=St($,q))!==null&&z!==void 0?z:A?.name}))}return b},g)}},YE=se([Bn,it,l6,xE,$n],x6),Ree=se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),kee=se([$n,ud],NE),md=se([Ree,Bn,kee],jE,{memoizeOptions:{resultEqualityCheck:M0}}),Mee=se([md],t=>t.filter(R0)),Dee=se([md],CE,{memoizeOptions:{resultEqualityCheck:M0}}),pd=se([Dee,Qs],OE),Lee=se([Mee,Qs,Bn],a6),WE=se([pd,Bn,md],PE),B6=se([Bn],RE),zee=se([Bn],t=>t.allowDataOverflow),q6=se([B6,zee],D3),Vee=se([md],t=>t.filter(R0)),Uee=se([Lee,Vee,Kh,J3],f6),$ee=se([Uee,Qs,$n,q6],h6),Bee=se([md],u6),qee=se([pd,Bn,Bee,L0,$n],DE,{memoizeOptions:{resultEqualityCheck:k0}}),Fee=se([m6,$n,ud],dd),Hee=se([Fee,$n],v6),Kee=se([p6,$n,ud],dd),Gee=se([Kee,$n],y6),Yee=se([g6,$n,ud],dd),Wee=se([Yee,$n],b6),Xee=se([Hee,Wee,Gee],bv),Qee=se([Bn,B6,q6,$ee,qee,Xee,it,$n],LE),em=se([Bn,it,pd,WE,Kh,$n,Qee],zE),Jee=se([em,Bn,YE],$E),Zee=se([Bn,em,Jee,$n],qE),F6=t=>{var e=$n(t),n=ud(t),r=!1;return Jh(t,e,n,r)},H6=se([Bn,F6],O0),K6=se([Bn,YE,Zee,H6],UE),ete=se([it,WE,Bn,$n],N6),tte=se([it,WE,Bn,$n],j6),nte=(t,e,n,r,i,s,l,u)=>{if(e){var{type:d}=e,m=Ya(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Qn(i[0]-i[1])*2*g:g,m&&l?l.map((b,_)=>({coordinate:r(b)+g,value:b,index:_,offset:g})):r.domain().map((b,_)=>({coordinate:r(b)+g,value:s?s[b]:b,index:_,offset:g}))}}},eo=se([it,Bn,YE,K6,F6,ete,tte,$n],nte),XE=se([O6,I6,dee],(t,e,n)=>P6(n.shared,t,e)),G6=t=>t.tooltip.settings.trigger,QE=t=>t.tooltip.settings.defaultIndex,tm=se([hd,XE,G6,QE],z6),ol=se([tm,pd,Qh,em],GE),Y6=se([eo,ol],R6),JE=se([tm],t=>{if(t)return t.dataKey}),rte=se([tm],t=>{if(t)return t.graphicalItemId}),W6=se([hd,XE,G6,QE],U6),ite=se([Ys,Ws,it,Vn,eo,QE,W6,Zh],V6),ate=se([tm,ite],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),ste=se([tm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),ote=se([W6,ol,Qs,Qh,Y6,Zh,XE],$6),lte=se([ote],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e,n){return(e=ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fte=()=>Le(Bn),hte=()=>{var t=fte(),e=Le(eo),n=Le(K6);return al(!t||!n?void 0:aR(aR({},t),{},{scale:n}),e)};function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vte=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},yte=(t,e,n,r)=>{var i=e.find(m=>m&&m.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return fu(fu(fu({},r),Rn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return fu(fu(fu({},r),Rn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function bte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var X6=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,m,p,g,b,_=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(m=n[l-1])===null||m===void 0?void 0:m.coordinate,S=(p=n[u])===null||p===void 0?void 0:p.coordinate,E=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,A=void 0;if(!(_==null||S==null||E==null))if(Qn(S-_)!==Qn(E-S)){var j=[];if(Qn(E-S)===Qn(i[1]-i[0])){A=E;var L=S+i[1]-i[0];j[0]=Math.min(L,(L+_)/2),j[1]=Math.max(L,(L+_)/2)}else{A=_;var U=E+i[1]-i[0];j[0]=Math.min(S,(U+S)/2),j[1]=Math.max(S,(U+S)/2)}var q=[Math.min(S,(A+S)/2),Math.max(S,(A+S)/2)];if(t>q[0]&&t<=q[1]||t>=j[0]&&t<=j[1]){var $;return($=n[u])===null||$===void 0?void 0:$.index}}else{var z=Math.min(_,E),O=Math.max(_,E);if(t>(z+S)/2&&t<=(O+S)/2){var N;return(N=n[u])===null||N===void 0?void 0:N.index}}}else if(e)for(var M=0;M<l;M++){var P=e[M];if(P!=null){var I=e[M+1],D=e[M-1];if(M===0&&I!=null&&t<=(P.coordinate+I.coordinate)/2||M===l-1&&D!=null&&t>(P.coordinate+D.coordinate)/2||M>0&&M<l-1&&D!=null&&I!=null&&t>(P.coordinate+D.coordinate)/2&&t<=(P.coordinate+I.coordinate)/2)return P.index}}return-1},Q6=()=>Le(xE),ZE=(t,e)=>e,J6=(t,e,n)=>n,eA=(t,e,n,r)=>r,xte=se(eo,t=>n0(t,e=>e.coordinate)),tA=se([hd,ZE,J6,eA],z6),nA=se([tA,pd,Qh,em],GE),wte=(t,e,n)=>{if(e!=null){var r=hd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Z6=se([hd,ZE,J6,eA],U6),xv=se([Ys,Ws,it,Vn,eo,eA,Z6,Zh],V6),_te=se([tA,xv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),eL=se([eo,nA],R6),Ste=se([Z6,nA,Qs,Qh,eL,Zh,ZE],$6),Ete=se([tA,nA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Ate=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&bte(t,l)){var u=HG(t,e),d=X6(u,s,i,n,r),m=vte(e,i,d,t);return{activeIndex:String(d),activeCoordinate:m}}},Tte=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=cX(t,n);if(u){var d=KG(u,e),m=X6(d,l,s,r,i),p=yte(e,s,m,u);return{activeIndex:String(m),activeCoordinate:p}}}},Nte=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Ate(t,e,r,i,s,l,u):Tte(t,e,n,r,i,s,l)},jte=se(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Cte=se(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(_n)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:fZ}});function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ote(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Pte(t,"string");return typeof e=="symbol"?e:e+""}function Pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rte={},kte={zIndexMap:Object.values(_n).reduce((t,e)=>lR(lR({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Rte)},Mte=new Set(Object.values(_n));function Dte(t){return Mte.has(t)}var tL=ei({name:"zIndex",initialState:kte,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:en()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Dte(n)&&delete t.zIndexMap[n])},prepare:en()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:en()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:en()}}}),{registerZIndexPortal:Lte,unregisterZIndexPortal:zte,registerZIndexPortalElement:Vte,unregisterZIndexPortalElement:Ute}=tL.actions,$te=tL.reducer;function Vr(t){var{zIndex:e,children:n}=t,r=EY(),i=r&&e!==void 0&&e!==0,s=Zn(),l=Ft();w.useLayoutEffect(()=>i?(l(Lte({zIndex:e})),()=>{l(zte({zIndex:e}))}):Mh,[l,e,i]);var u=Le(d=>jte(d,e,s));return i?u?AS.createPortal(n,u):null:n}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(null,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=qte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function Kte(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:m,chartName:p}=t,g=n,b=r,_=i;if(!d||!g||p!=="ScatterChart"&&m!=="axis")return null;var S,E,A;if(p==="ScatterChart")S=g,E=SW,A=_n.cursorLine;else if(p==="BarChart")S=EW(u,g,s,l),E=W5,A=_n.cursorRectangle;else if(u==="radial"&&I4(g)){var{cx:j,cy:L,radius:U,startAngle:q,endAngle:$}=Q5(g);S={cx:j,cy:L,startAngle:q,endAngle:$,innerRadius:U,outerRadius:U},E=Z5,A=_n.cursorLine}else S={points:hX(u,g,s)},E=Cu,A=_n.cursorLine;var z=typeof d=="object"&&"className"in d?d.className:void 0,O=Gp(Gp(Gp(Gp({stroke:"#ccc",pointerEvents:"none"},s),S),cc(d)),{},{payload:b,payloadIndex:_,className:ft("recharts-tooltip-cursor",z)});return w.createElement(Vr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},w.createElement(Hte,{cursor:d,cursorComp:E,cursorProps:O}))}function Gte(t){var e=hte(),n=R5(),r=ml(),i=Q6();return e==null||n==null||r==null||i==null?null:w.createElement(Kte,c_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var nL=w.createContext(null),Yte=()=>w.useContext(nL),P1={exports:{}},uR;function Wte(){return uR||(uR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,m,p){this.fn=d,this.context=m,this.once=p||!1}function s(d,m,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||d,b),S=n?n+m:m;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],_]:d._events[S].push(_):(d._events[S]=_,d._eventsCount++),d}function l(d,m){--d._eventsCount===0?d._events=new r:delete d._events[m]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)e.call(p,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=n?n+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,S=new Array(_);b<_;b++)S[b]=g[b].fn;return S},u.prototype.listenerCount=function(m){var p=n?n+m:m,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(m,p,g,b,_,S){var E=n?n+m:m;if(!this._events[E])return!1;var A=this._events[E],j=arguments.length,L,U;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),j){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,b),!0;case 5:return A.fn.call(A.context,p,g,b,_),!0;case 6:return A.fn.call(A.context,p,g,b,_,S),!0}for(U=1,L=new Array(j-1);U<j;U++)L[U-1]=arguments[U];A.fn.apply(A.context,L)}else{var q=A.length,$;for(U=0;U<q;U++)switch(A[U].once&&this.removeListener(m,A[U].fn,void 0,!0),j){case 1:A[U].fn.call(A[U].context);break;case 2:A[U].fn.call(A[U].context,p);break;case 3:A[U].fn.call(A[U].context,p,g);break;case 4:A[U].fn.call(A[U].context,p,g,b);break;default:if(!L)for($=1,L=new Array(j-1);$<j;$++)L[$-1]=arguments[$];A[U].fn.apply(A[U].context,L)}}return!0},u.prototype.on=function(m,p,g){return s(this,m,p,g,!1)},u.prototype.once=function(m,p,g){return s(this,m,p,g,!0)},u.prototype.removeListener=function(m,p,g,b){var _=n?n+m:m;if(!this._events[_])return this;if(!p)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===p&&(!b||S.once)&&(!g||S.context===g)&&l(this,_);else{for(var E=0,A=[],j=S.length;E<j;E++)(S[E].fn!==p||b&&!S[E].once||g&&S[E].context!==g)&&A.push(S[E]);A.length?this._events[_]=A.length===1?A[0]:A:l(this,_)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=n?n+m:m,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(P1)),P1.exports}var Xte=Wte();const Qte=Hs(Xte);var fh=new Qte,u_="recharts.syncEvent.tooltip",dR="recharts.syncEvent.brush";function rL(t,e){if(e){var n=Number.parseInt(e,10);if(!Bi(n))return t?.[n]}}var Jte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iL=ei({name:"options",initialState:Jte,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Zte=iL.reducer,{createEventEmitter:ene}=iL.actions;function tne(t){return t.tooltip.syncInteraction}var nne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aL=ei({name:"chartData",initialState:nne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fR,setDataStartEndIndexes:rne,setComputedData:Ife}=aL.actions,ine=aL.reducer,ane=["x","y"];function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e,n){return(e=one(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=lne(t,"string");return typeof e=="symbol"?e:e+""}function lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cne(t,e){if(t==null)return{};var n,r,i=une(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function une(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dne(){var t=Le(wE),e=Le(_E),n=Ft(),r=Le(Z3),i=Le(eo),s=ml(),l=v0(),u=Le(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return Mh;var d=(m,p,g)=>{if(e!==g&&t===m){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:S,y:E}=_,A=cne(_,ane),{x:j,y:L,width:U,height:q}=p.payload.sourceViewBox,$=hu(hu({},A),{},{x:l.x+(U?(S-j)/U:0)*l.width,y:l.y+(q?(E-L)/q:0)*l.height});n(hu(hu({},p),{},{payload:hu(hu({},p.payload),{},{coordinate:$})}))}else n(p);return}if(i!=null){var z;if(typeof r=="function"){var O={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},N=r(i,O);z=i[N]}else r==="value"&&(z=i.find(W=>String(W.value)===p.payload.label));var{coordinate:M}=p.payload;if(z==null||p.payload.active===!1||M==null||l==null){n(o_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:I}=M,D=Math.min(P,l.x+l.width),k=Math.min(I,l.y+l.height),ie={x:s==="horizontal"?z.coordinate:D,y:s==="horizontal"?k:z.coordinate},ee=o_({active:p.payload.active,coordinate:ie,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(ee)}}};return fh.on(u_,d),()=>{fh.off(u_,d)}},[u,n,e,t,r,i,s,l])}function fne(){var t=Le(wE),e=Le(_E),n=Ft();w.useEffect(()=>{if(t==null)return Mh;var r=(i,s,l)=>{e!==l&&t===i&&n(rne(s))};return fh.on(dR,r),()=>{fh.off(dR,r)}},[n,e,t])}function hne(){var t=Ft();w.useEffect(()=>{t(ene())},[t]),dne(),fne()}function mne(t,e,n,r,i,s){var l=Le(_=>wte(_,t,e)),u=Le(_E),d=Le(wE),m=Le(Z3),p=Le(tne),g=p?.active,b=v0();w.useEffect(()=>{if(!g&&d!=null&&u!=null){var _=o_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});fh.emit(u_,d,_,u)}},[g,n,l,i,r,u,d,m,s,b])}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pne(t,e,n){return(e=gne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gne(t){var e=vne(t,"string");return typeof e=="symbol"?e:e+""}function vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yne(t){return t.dataKey}function bne(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(nW,e)}var gR=[],xne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $0(t){var e,n,r=pn(t,xne),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:b,position:_,reverseDirection:S,useTranslate3d:E,wrapperStyle:A,cursor:j,shared:L,trigger:U,defaultIndex:q,portal:$,axisId:z}=r,O=Ft(),N=typeof q=="number"?String(q):q;w.useEffect(()=>{O(gee({shared:L,trigger:U,axisId:z,active:i,defaultIndex:N}))},[O,L,U,z,i,N]);var M=v0(),P=F5(),I=uee(L),{activeIndex:D,isActive:k}=(e=Le(he=>Ete(he,I,U,N)))!==null&&e!==void 0?e:{},ie=Le(he=>Ste(he,I,U,N)),ee=Le(he=>eL(he,I,U,N)),W=Le(he=>_te(he,I,U,N)),H=ie,te=Yte(),oe=(n=i??k)!==null&&n!==void 0?n:!1,[we,V]=K4([H,oe]),K=I==="axis"?ee:void 0;mne(I,U,W,K,D,oe);var G=$??te;if(G==null||M==null||I==null)return null;var Y=H??gR;oe||(Y=gR),m&&Y.length&&(Y=$4(Y.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),b,yne));var ce=Y.length>0,ye=w.createElement(cW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:oe,coordinate:W,hasPayload:ce,offset:g,position:_,reverseDirection:S,useTranslate3d:E,viewBox:M,wrapperStyle:A,lastBoundingBox:we,innerRef:V,hasPortalFromProps:!!$},bne(d,pR(pR({},r),{},{payload:Y,label:K,active:oe,activeIndex:D,coordinate:W,accessibilityLayer:P})));return w.createElement(w.Fragment,null,AS.createPortal(ye,G),oe&&w.createElement(Gte,{cursor:j,tooltipEventType:I,coordinate:W,payload:Y,index:D}))}var nm=t=>null;nm.displayName="Cell";function wne(t,e,n){return(e=_ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ne(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ene{constructor(e){wne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ane(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tne(t,e,n){return(e=Nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cne={cacheSize:2e3,enableCache:!0},sL=Ane({},Cne),yR=new Ene(sL.cacheSize),One={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bR="recharts_measurement_span";function Ine(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var xR=(t,e)=>{try{var n=document.getElementById(bR);n||(n=document.createElement("span"),n.setAttribute("id",bR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,One,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},zf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$h.isSsr)return{width:0,height:0};if(!sL.enableCache)return xR(e,n);var r=Ine(e,n),i=yR.get(r);if(i)return i;var s=xR(e,n);return yR.set(r,s),s},oL;function Pne(t,e,n){return(e=Rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=kne(t,"string");return typeof e=="symbol"?e:e+""}function kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_R=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Lne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zne=["cm","mm","pt","pc","in","Q","px"];function Vne(t){return zne.includes(t)}var _u="NaN";function Une(t,e){return t*Lne[e]}class fr{static parse(e){var n,[,r,i]=(n=Dne.exec(e))!==null&&n!==void 0?n:[];return r==null?fr.NaN:new fr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Bi(e)&&(this.unit=""),n!==""&&!Mne.test(n)&&(this.num=NaN,this.unit=""),Vne(n)&&(this.num=Une(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new fr(NaN,""):new fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fr(NaN,""):new fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fr(NaN,""):new fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fr(NaN,""):new fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Bi(this.num)}}oL=fr;Pne(fr,"NaN",new oL(NaN,""));function lL(t){if(t==null||t.includes(_u))return _u;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=wR.exec(e))!==null&&n!==void 0?n:[],l=fr.parse(r??""),u=fr.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return _u;e=e.replace(wR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,[,p,g,b]=(m=_R.exec(e))!==null&&m!==void 0?m:[],_=fr.parse(p??""),S=fr.parse(b??""),E=g==="+"?_.add(S):_.subtract(S);if(E.isNaN())return _u;e=e.replace(_R,E.toString())}return e}var SR=/\(([^()]*)\)/;function $ne(t){for(var e=t,n;(n=SR.exec(e))!=null;){var[,r]=n;e=e.replace(SR,lL(r))}return e}function Bne(t){var e=t.replace(/\s+/g,"");return e=$ne(e),e=lL(e),e}function qne(t){try{return Bne(t)}catch{return _u}}function R1(t){var e=qne(t.slice(5,-1));return e===_u?"":e}var Fne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Hne=["dx","dy","angle","className","breakAll"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(null,arguments)}function ER(t,e){if(t==null)return{};var n,r,i=Kne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cL=/[ \f\n\r\t\v\u2028\u2029]+/,uL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Wt(e)||(n?i=e.toString().split(""):i=e.toString().split(cL));var s=i.map(u=>({word:u,width:zf(u,r).width})),l=n?0:zf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Gne(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var dL=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var m={words:[l],width:u};i.push(m)}return i},[]),fL=t=>t.reduce((e,n)=>e.width>n.width?e:n),Yne="",AR=(t,e,n,r,i,s,l,u)=>{var d=t.slice(0,e),m=uL({breakAll:n,style:r,children:d+Yne});if(!m)return[!1,[]];var p=dL(m.wordsWithComputedWidth,s,l,u),g=p.length>i||fL(p).width>Number(s);return[g,p]},Wne=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,m=Oe(s),p=String(l),g=dL(e,r,n,i);if(!m||i)return g;var b=g.length>s||fL(g).width>Number(r);if(!b)return g;for(var _=0,S=p.length-1,E=0,A;_<=S&&E<=p.length-1;){var j=Math.floor((_+S)/2),L=j-1,[U,q]=AR(p,L,d,u,s,r,n,i),[$]=AR(p,j,d,u,s,r,n,i);if(!U&&!$&&(_=j+1),U&&$&&(S=j-1),!U&&$){A=q;break}E++}return A||g},TR=t=>{var e=Wt(t)?[]:t.toString().split(cL);return[{words:e,width:void 0}]},Xne=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!$h.isSsr){var u,d,m=uL({breakAll:s,children:r,style:i});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;u=p,d=g}else return TR(r);return Wne({breakAll:s,children:r,maxLines:l,style:i},u,d,e,!!n)}return TR(r)},hL="#808080",Qne={angle:0,breakAll:!1,capHeight:"0.71em",fill:hL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},B0=w.forwardRef((t,e)=>{var n=pn(t,Qne),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:m,verticalAnchor:p}=n,g=ER(n,Fne),b=w.useMemo(()=>Xne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:_,dy:S,angle:E,className:A,breakAll:j}=g,L=ER(g,Hne);if(!qa(r)||!qa(i)||b.length===0)return null;var U=Number(r)+(Oe(_)?_:0),q=Number(i)+(Oe(S)?S:0);if(!Ut(U)||!Ut(q))return null;var $;switch(p){case"start":$=R1("calc(".concat(l,")"));break;case"middle":$=R1("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:$=R1("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var O=b[0].width,{width:N}=g;z.push("scale(".concat(Oe(N)&&Oe(O)?N/O:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(U,", ").concat(q,")")),z.length&&(L.transform=z.join(" ")),w.createElement("text",d_({},Cr(L),{ref:e,x:U,y:q,className:ft("recharts-text",A),textAnchor:m,fill:u.includes("url")?hL:u}),b.map((M,P)=>{var I=M.words.join(j?"":" ");return w.createElement("tspan",{x:U,dy:P===0?$:s,key:"".concat(I,"-").concat(P)},I)}))});B0.displayName="Text";var Jne=["labelRef"],Zne=["content"];function NR(t,e){if(t==null)return{};var n,r,i=ere(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(null,arguments)}var mL=w.createContext(null),ire=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,d=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return w.createElement(mL.Provider,{value:d},u)},pL=()=>{var t=w.useContext(mL),e=v0();return t||P5(e)},are=w.createContext(null),sre=()=>{var t=w.useContext(are),e=Le(i6);return t||e},ore=t=>{var{value:e,formatter:n}=t,r=Wt(t.children)?e:t.children;return typeof n=="function"?n(r):r},rA=t=>t!=null&&typeof t=="function",lre=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},cre=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:m,outerRadius:p,startAngle:g,endAngle:b,clockWise:_}=i,S=(m+p)/2,E=lre(g,b),A=E>=0?1:-1,j,L;switch(e){case"insideStart":j=g+A*s,L=_;break;case"insideEnd":j=b-A*s,L=!_;break;case"end":j=b+A*s,L=_;break;default:throw new Error("Unsupported position ".concat(e))}L=E<=0?L:!L;var U=Rn(u,d,S,j),q=Rn(u,d,S,j+(L?1:-1)*359),$="M".concat(U.x,",").concat(U.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(L?0:1,`,
    `).concat(q.x,",").concat(q.y),z=Wt(t.id)?Zf("recharts-radial-line-"):t.id;return w.createElement("text",xs({},r,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:z,d:$})),w.createElement("textPath",{xlinkHref:"#".concat(z)},n))},ure=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,m=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Rn(r,i,l+e,m);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:S}=Rn(r,i,b,m);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},f_=t=>"cx"in t&&Oe(t.cx),dre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!f_(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:m,height:p}=e,g=l,b=l+(d-m)/2,_=(g+b)/2,S=(d+m)/2,E=g+d/2,A=p>=0?1:-1,j=A*r,L=A>0?"end":"start",U=A>0?"start":"end",q=d>=0?1:-1,$=q*r,z=q>0?"end":"start",O=q>0?"start":"end";if(i==="top"){var N={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:L};return bn(bn({},N),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var M={x:b+m/2,y:u+p+j,textAnchor:"middle",verticalAnchor:U};return bn(bn({},M),s?{height:Math.max(s.y+s.height-(u+p),0),width:m}:{})}if(i==="left"){var P={x:_-$,y:u+p/2,textAnchor:z,verticalAnchor:"middle"};return bn(bn({},P),s?{width:Math.max(P.x-s.x,0),height:p}:{})}if(i==="right"){var I={x:_+S+$,y:u+p/2,textAnchor:O,verticalAnchor:"middle"};return bn(bn({},I),s?{width:Math.max(s.x+s.width-I.x,0),height:p}:{})}var D=s?{width:S,height:p}:{};return i==="insideLeft"?bn({x:_+$,y:u+p/2,textAnchor:O,verticalAnchor:"middle"},D):i==="insideRight"?bn({x:_+S-$,y:u+p/2,textAnchor:z,verticalAnchor:"middle"},D):i==="insideTop"?bn({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:U},D):i==="insideBottom"?bn({x:b+m/2,y:u+p-j,textAnchor:"middle",verticalAnchor:L},D):i==="insideTopLeft"?bn({x:g+$,y:u+j,textAnchor:O,verticalAnchor:U},D):i==="insideTopRight"?bn({x:g+d-$,y:u+j,textAnchor:z,verticalAnchor:U},D):i==="insideBottomLeft"?bn({x:b+$,y:u+p-j,textAnchor:O,verticalAnchor:L},D):i==="insideBottomRight"?bn({x:b+m-$,y:u+p-j,textAnchor:z,verticalAnchor:L},D):i&&typeof i=="object"&&(Oe(i.x)||Ls(i.x))&&(Oe(i.y)||Ls(i.y))?bn({x:l+Nr(i.x,S),y:u+Nr(i.y,p),textAnchor:"end",verticalAnchor:"end"},D):bn({x:E,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},D)},fre={angle:0,offset:5,zIndex:_n.label,position:"middle",textBreakAll:!1};function Vo(t){var e=pn(t,fre),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:m}=e,p=sre(),g=pL(),b=r==="center"?g:p??g,_,S,E;if(n==null?_=b:f_(n)?_=n:_=P5(n),!_||Wt(i)&&Wt(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var A=bn(bn({},e),{},{viewBox:_});if(w.isValidElement(l)){var{labelRef:j}=A,L=NR(A,Jne);return w.cloneElement(l,L)}if(typeof l=="function"){var{content:U}=A,q=NR(A,Zne);if(S=w.createElement(l,q),w.isValidElement(S))return S}else S=ore(e);var $=Cr(e);if(f_(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return cre(e,r,S,$,_);E=ure(_,e.offset,e.position)}else E=dre(e,_);return w.createElement(Vr,{zIndex:e.zIndex},w.createElement(B0,xs({ref:m,className:ft("recharts-label",u)},$,E,{textAnchor:Gne($.textAnchor)?$.textAnchor:E.textAnchor,breakAll:d}),S))}Vo.displayName="Label";var hre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Vo,xs({key:"label-implicit"},r)):qa(t)?w.createElement(Vo,xs({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Vo?w.cloneElement(t,bn({key:"label-implicit"},r)):w.createElement(Vo,xs({key:"label-implicit",content:t},r)):rA(t)?w.createElement(Vo,xs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Vo,xs({},t,{key:"label-implicit"},r)):null};function mre(t){var{label:e,labelRef:n}=t,r=pL();return hre(e,r,n)||null}var k1={},M1={},CR;function pre(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(M1)),M1}var D1={},OR;function gre(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(D1)),D1}var IR;function vre(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pre(),n=gre(),r=kS();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(k1)),k1}var L1,PR;function yre(){return PR||(PR=1,L1=vre().last),L1}var bre=yre();const xre=Hs(bre);var wre=["valueAccessor"],_re=["dataKey","clockWise","id","textBreakAll","zIndex"];function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(null,arguments)}function RR(t,e){if(t==null)return{};var n,r,i=Sre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ere=t=>Array.isArray(t.value)?xre(t.value):t.value,gL=w.createContext(void 0),iA=gL.Provider,vL=w.createContext(void 0),Are=vL.Provider;function Tre(){return w.useContext(gL)}function Nre(){return w.useContext(vL)}function dg(t){var{valueAccessor:e=Ere}=t,n=RR(t,wre),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=RR(n,_re),m=Tre(),p=Nre(),g=m||p;return!g||!g.length?null:w.createElement(Vr,{zIndex:u??_n.label},w.createElement(mn,{className:"recharts-label-list"},g.map((b,_)=>{var S,E=Wt(r)?e(b,_):St(b&&b.payload,r),A=Wt(s)?{}:{id:"".concat(s,"-").concat(_)};return w.createElement(Vo,wv({key:"label-".concat(_)},Cr(b),d,A,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}dg.displayName="LabelList";function q0(t){var{label:e}=t;return e?e===!0?w.createElement(dg,{key:"labelList-implicit"}):w.isValidElement(e)||rA(e)?w.createElement(dg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(dg,wv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(null,arguments)}var yL=t=>{var{cx:e,cy:n,r,className:i}=t,s=ft("recharts-dot",i);return Oe(e)&&Oe(n)&&Oe(r)?w.createElement("circle",h_({},Lr(t),RS(t),{className:s,cx:e,cy:n,r})):null},bL=t=>t.graphicalItems.polarItems,jre=se([nn,Gh],NE),F0=se([bL,ln,jre],jE),Cre=se([F0],CE),H0=se([Cre,C0],OE),Ore=se([H0,ln,F0],PE);se([H0,ln,F0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=St(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:St(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var kR=()=>{},Ire=se([H0,ln,F0,L0,nn],DE),Pre=se([ln,kE,ME,kR,Ire,kR,it,nn],LE),xL=se([ln,it,H0,Ore,Kh,nn,Pre],zE),Rre=se([xL,ln,fd],$E);se([ln,xL,Rre,nn],qE);var kre={radiusAxis:{},angleAxis:{}},wL=ei({name:"polarAxis",initialState:kre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Pfe,removeRadiusAxis:Rfe,addAngleAxis:kfe,removeAngleAxis:Mfe}=wL.actions,Mre=wL.reducer;function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return(e=Lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vre=(t,e)=>e,aA=se([bL,Vre],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Ure=[],sA=(t,e,n)=>n?.length===0?Ure:n,_L=se([C0,aA,sA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>DR(DR({},e.presentationProps),s.props))),i!=null)return i}}),$re=se([_L,aA,sA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=St(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:hl(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),Bre=se([_L,aA,sA,Vn],(t,e,n,r)=>{if(!(e==null||t==null))return Fie({offset:r,pieSettings:e,displayedData:t,cells:n})}),z1={exports:{}},Mt={};var LR;function qre(){if(LR)return Mt;LR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case d:case m:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case p:return E;case s:return E;default:return A}}case e:return A}}}return Mt.ContextConsumer=s,Mt.ContextProvider=l,Mt.Element=t,Mt.ForwardRef=u,Mt.Fragment=n,Mt.Lazy=g,Mt.Memo=p,Mt.Portal=e,Mt.Profiler=i,Mt.StrictMode=r,Mt.Suspense=d,Mt.SuspenseList=m,Mt.isContextConsumer=function(E){return S(E)===s},Mt.isContextProvider=function(E){return S(E)===l},Mt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Mt.isForwardRef=function(E){return S(E)===u},Mt.isFragment=function(E){return S(E)===n},Mt.isLazy=function(E){return S(E)===g},Mt.isMemo=function(E){return S(E)===p},Mt.isPortal=function(E){return S(E)===e},Mt.isProfiler=function(E){return S(E)===i},Mt.isStrictMode=function(E){return S(E)===r},Mt.isSuspense=function(E){return S(E)===d},Mt.isSuspenseList=function(E){return S(E)===m},Mt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===m||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},Mt.typeOf=S,Mt}var zR;function Fre(){return zR||(zR=1,z1.exports=qre()),z1.exports}var Hre=Fre(),VR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",UR=null,V1=null,SL=t=>{if(t===UR&&Array.isArray(V1))return V1;var e=[];return w.Children.forEach(t,n=>{Wt(n)||(Hre.isFragment(n)?e=e.concat(SL(n.props.children)):e.push(n))}),V1=e,UR=t,e};function oA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>VR(i)):r=[VR(e)],SL(t).forEach(i=>{var s=dc(i,"type.displayName")||dc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var lA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,U1={},$R;function Kre(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(U1)),U1}var $1,BR;function Gre(){return BR||(BR=1,$1=Kre().isPlainObject),$1}var Yre=Gre();const Wre=Hs(Yre);var qR,FR,HR,KR,GR;function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Jre(t,"string");return typeof e=="symbol"?e:e+""}function Jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(null,arguments)}function Ef(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var XR=(t,e,n,r,i)=>{var s=n-r,l;return l=fn(qR||(qR=Ef(["M ",",",""])),t,e),l+=fn(FR||(FR=Ef(["L ",",",""])),t+n,e),l+=fn(HR||(HR=Ef(["L ",",",""])),t+n-s/2,e+i),l+=fn(KR||(KR=Ef(["L ",",",""])),t+n-s/2-r,e+i),l+=fn(GR||(GR=Ef(["L ",","," Z"])),t,e),l},Zre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eie=t=>{var e=pn(t,Zre),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=e,b=w.useRef(null),[_,S]=w.useState(-1),E=w.useRef(i),A=w.useRef(s),j=w.useRef(l),L=w.useRef(n),U=w.useRef(r),q=sd(t,"trapezoid-");if(w.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ie=b.current.getTotalLength();ie&&S(ie)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var $=ft("recharts-trapezoid",u);if(!g)return w.createElement("g",null,w.createElement("path",_v({},Cr(e),{className:$,d:XR(n,r,i,s,l)})));var z=E.current,O=A.current,N=j.current,M=L.current,P=U.current,I="0px ".concat(_===-1?1:_,"px"),D="".concat(_,"px 0px"),k=H5(["strokeDasharray"],m,d);return w.createElement(ad,{animationId:q,key:q,canBegin:_>0,duration:m,easing:d,isActive:g,begin:p},ie=>{var ee=_t(z,i,ie),W=_t(O,s,ie),H=_t(N,l,ie),te=_t(M,n,ie),oe=_t(P,r,ie);b.current&&(E.current=ee,A.current=W,j.current=H,L.current=te,U.current=oe);var we=ie>0?{transition:k,strokeDasharray:D}:{strokeDasharray:I};return w.createElement("path",_v({},Cr(e),{className:$,d:XR(te,oe,ee,W,H),ref:b,style:WR(WR({},we),e.style)}))})},tie=["option","shapeType","activeClassName"];function nie(t,e){if(t==null)return{};var n,r,i=rie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return(e=aie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return typeof e=="symbol"?e:e+""}function sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oie(t,e){return Sv(Sv({},e),t)}function lie(t,e){return t==="symbols"}function JR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(W5,n);case"trapezoid":return w.createElement(eie,n);case"sector":return w.createElement(Z5,n);case"symbols":if(lie(e))return w.createElement(PS,n);break;case"curve":return w.createElement(Cu,n);default:return null}}function cie(t){return w.isValidElement(t)?t.props:t}function cA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=nie(t,tie),s;if(w.isValidElement(e))s=w.cloneElement(e,Sv(Sv({},i),cie(e)));else if(typeof e=="function")s=e(i,i.index);else if(Wre(e)&&typeof e!="boolean"){var l=oie(e,i);s=w.createElement(JR,{shapeType:n,elementProps:l})}else{var u=i;s=w.createElement(JR,{shapeType:n,elementProps:u})}return i.isActive?w.createElement(mn,{className:r},s):s}var uA=(t,e,n)=>{var r=Ft();return(i,s)=>l=>{t?.(i,s,l),r(M6({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},dA=t=>{var e=Ft();return(n,r)=>i=>{t?.(n,r,i),e(vee())}},fA=(t,e,n)=>{var r=Ft();return(i,s)=>l=>{t?.(i,s,l),r(yee({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function K0(t){var{tooltipEntrySettings:e}=t,n=Ft(),r=Zn(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(hee(e)):i.current!==e&&n(mee({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(pee(i.current)),i.current=null)},[n]),null}function hA(t){var{legendPayload:e}=t,n=Ft(),r=Zn(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n($5(e)):i.current!==e&&n(B5({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(q5(i.current)),i.current=null)},[n]),null}function uie(t){var{legendPayload:e}=t,n=Ft(),r=Le(it),i=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n($5(e)):i.current!==e&&n(B5({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(q5(i.current)),i.current=null)},[n]),null}var B1,die=()=>{var[t]=w.useState(()=>Zf("uid-"));return t},fie=(B1=h9.useId)!==null&&B1!==void 0?B1:die;function hie(t,e){var n=fie();return e||(t?"".concat(t,"-").concat(n):n)}var mie=w.createContext(void 0),G0=t=>{var{id:e,type:n,children:r}=t,i=hie("recharts-".concat(n),e);return w.createElement(mie.Provider,{value:i},r(i))},pie={cartesianItems:[],polarItems:[]},EL=ei({name:"graphicalItems",initialState:pie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:en()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:en()},removeCartesianGraphicalItem:{reducer(t,e){var n=oa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:en()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:en()},removePolarGraphicalItem:{reducer(t,e){var n=oa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:en()}}}),{addCartesianGraphicalItem:gie,replaceCartesianGraphicalItem:vie,removeCartesianGraphicalItem:yie,addPolarGraphicalItem:bie,removePolarGraphicalItem:xie}=EL.actions,wie=EL.reducer,_ie=t=>{var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(gie(t)):n.current!==t&&e(vie({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(yie(n.current)),n.current=null)},[e]),null},mA=w.memo(_ie);function Sie(t){var e=Ft();return w.useLayoutEffect(()=>(e(bie(t)),()=>{e(xie(t))}),[e,t]),null}var Eie=["key"],Aie=["onMouseEnter","onClick","onMouseLeave"],Tie=["id"],Nie=["id"];function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jie(t,e,n){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=Oie(t,"string");return typeof e=="symbol"?e:e+""}function Oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(null,arguments)}function Y0(t,e){if(t==null)return{};var n,r,i=Iie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pie(t){var e=w.useMemo(()=>oA(t.children,nm),[t.children]),n=Le(r=>$re(r,t.id,e));return n==null?null:w.createElement(uie,{legendPayload:n})}var Rie=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:hl(u,e),hide:d,type:m,color:l,unit:"",graphicalItemId:p}};return w.createElement(K0,{tooltipEntrySettings:g})}),kie=(t,e)=>t>e?"start":t<e?"end":"middle",Mie=(t,e,n)=>Nr(typeof e=="function"?e(t):e,n,n*.8),Die=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=X5(s,l),d=i+Nr(t.cx,s,s/2),m=r+Nr(t.cy,l,l/2),p=Nr(t.innerRadius,u,0),g=Mie(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:m,innerRadius:p,outerRadius:g,maxRadius:b}},Lie=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function zie(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Vie=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ft("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=Y0(e,Eie);return w.createElement(Cu,ll({},i,{type:"linear",className:n}))},Uie=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var i=ft("recharts-pie-label-text",zie(t));return w.createElement(B0,ll({},e,{alignmentBaseline:"middle",className:i}),r)};function $ie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=Lr(n),d=cc(i),m=cc(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,_)=>{var S=(b.startAngle+b.endAngle)/2,E=Rn(b.cx,b.cy,b.outerRadius+p,S),A=hn(hn(hn(hn({},u),b),{},{stroke:"none"},d),{},{index:_,textAnchor:kie(E.x,b.cx)},E),j=hn(hn(hn(hn({},u),b),{},{fill:"none",stroke:b.fill},m),{},{index:_,points:[Rn(b.cx,b.cy,b.outerRadius,S),E],key:"line"});return w.createElement(Vr,{zIndex:_n.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},w.createElement(mn,null,s&&Vie(s,j),Uie(i,A,St(b,l))))});return w.createElement(mn,{className:"recharts-pie-labels"},g)}function Bie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(q0,{label:i}):w.createElement($ie,{sectors:e,props:n,showLabels:r})}function qie(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=Le(ol),d=Le(JE),m=Le(rte),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,_=Y0(i,Aie),S=uA(p,i.dataKey,l),E=dA(b),A=fA(g,i.dataKey,l);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((j,L)=>{if(j?.startAngle===0&&j?.endAngle===0&&e.length!==1)return null;var U=m==null||m===l,q=String(L)===u&&(d==null||i.dataKey===d)&&U,$=u?r:null,z=n&&q?n:$,O=hn(hn({},j),{},{stroke:j.stroke,tabIndex:-1,[N5]:L,[j5]:l});return w.createElement(mn,ll({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Dh(_,j,L),{onMouseEnter:S(j,L),onMouseLeave:E(j,L),onClick:A(j,L)}),w.createElement(cA,ll({option:s??z,index:L,shapeType:"sector",isActive:q},O)))}))}function Fie(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:m,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),_=Lie(u,d),S=Math.abs(_),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(z=>St(z,m,0)!==0).length,j=(S>=360?A:A-1)*E,L=S-A*b-j,U=r.reduce((z,O)=>{var N=St(O,m,0);return z+(Oe(N)?N:0)},0),q;if(U>0){var $;q=r.map((z,O)=>{var N=St(z,m,0),M=St(z,p,O),P=Die(n,s,z),I=(Oe(N)?N:0)/U,D,k=hn(hn({},z),i&&i[O]&&i[O].props);O?D=$.endAngle+Qn(_)*E*(N!==0?1:0):D=u;var ie=D+Qn(_)*((N!==0?b:0)+I*L),ee=(D+ie)/2,W=(P.innerRadius+P.outerRadius)/2,H=[{name:M,value:N,payload:k,dataKey:m,type:g,graphicalItemId:n.id}],te=Rn(P.cx,P.cy,W,ee);return $=hn(hn(hn(hn({},n.presentationProps),{},{percent:I,cornerRadius:typeof l=="string"?parseFloat(l):l,name:M,tooltipPayload:H,midAngle:ee,middleRadius:W,tooltipPosition:te},k),P),{},{value:N,dataKey:m,startAngle:D,endAngle:ie,payload:k,paddingAngle:Qn(_)*E}),$})}return q}function Hie(t){var{showLabels:e,sectors:n,children:r}=t,i=w.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return w.createElement(Are,{value:e?i:void 0},r)}function Kie(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:m,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,_=sd(e,"recharts-pie-"),S=n.current,[E,A]=w.useState(!1),j=w.useCallback(()=>{typeof b=="function"&&b(),A(!1)},[b]),L=w.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return w.createElement(Hie,{showLabels:!E,sectors:i},w.createElement(ad,{animationId:_,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:L,onAnimationEnd:j,key:_},U=>{var q=[],$=i&&i[0],z=$?.startAngle;return i?.forEach((O,N)=>{var M=S&&S[N],P=N>0?dc(O,"paddingAngle",0):0;if(M){var I=_t(M.endAngle-M.startAngle,O.endAngle-O.startAngle,U),D=hn(hn({},O),{},{startAngle:z+P,endAngle:z+I+P});q.push(D),z=D.endAngle}else{var{endAngle:k,startAngle:ie}=O,ee=_t(0,k-ie,U),W=hn(hn({},O),{},{startAngle:z+P,endAngle:z+ee+P});q.push(W),z=W.endAngle}}),n.current=q,w.createElement(mn,null,w.createElement(qie,{sectors:q,activeShape:m,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),w.createElement(Bie,{showLabels:!E,sectors:i,props:e}),e.children)}var Gie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:_n.area};function Yie(t){var{id:e}=t,n=Y0(t,Tie),{hide:r,className:i,rootTabIndex:s}=t,l=w.useMemo(()=>oA(t.children,nm),[t.children]),u=Le(p=>Bre(p,e,l)),d=w.useRef(null),m=ft("recharts-pie",i);return r||u==null?(d.current=null,w.createElement(mn,{tabIndex:s,className:m})):w.createElement(Vr,{zIndex:t.zIndex},w.createElement(Rie,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),w.createElement(mn,{tabIndex:s,className:m},w.createElement(Kie,{props:hn(hn({},n),{},{sectors:u}),previousSectorsRef:d,id:e})))}function AL(t){var e=pn(t,Gie),{id:n}=e,r=Y0(e,Nie),i=Lr(r);return w.createElement(G0,{id:n,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(Sie,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),w.createElement(Pie,ll({},r,{id:s})),w.createElement(Yie,ll({},r,{id:s}))))}AL.displayName="Pie";var Wie=["points"];function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xie(t,e,n){return(e=Qie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Jie(t,"string");return typeof e=="symbol"?e:e+""}function Jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(null,arguments)}function Zie(t,e){if(t==null)return{};var n,r,i=eae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tae(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=ft(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=Zie(s,Wie);return w.createElement(yL,Ev({},u,{className:i}))}function nae(t,e){return t==null?!1:e?!0:t.length===1}function TL(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:m=_n.scatter}=t;if(!nae(e,n))return null;var p=lA(n),g=xF(n),b=e.map((S,E)=>{var A,j,L=q1(q1(q1({r:3},l),g),{},{index:E,cx:(A=S.x)!==null&&A!==void 0?A:void 0,cy:(j=S.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:S.value,payload:S.payload,points:e});return w.createElement(tae,{key:"dot-".concat(E),option:n,dotProps:L,className:i})}),_={};return u&&d!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),w.createElement(Vr,{zIndex:m},w.createElement(mn,Ev({className:r},_),b))}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return(e=iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NL=0,sae={xAxis:{},yAxis:{},zAxis:{}},jL=ei({name:"cartesianAxis",initialState:sae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:en()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:en()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:en()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:en()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:en()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:en()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:en()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:en()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:en()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=nk(nk({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:oae,replaceXAxis:lae,removeXAxis:cae,addYAxis:uae,replaceYAxis:dae,removeYAxis:fae,addZAxis:Dfe,replaceZAxis:Lfe,removeZAxis:zfe,updateYAxisWidth:hae}=jL.actions,mae=jL.reducer,pae=se([Vn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),gae=se([pae,Ys,Ws],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),W0=()=>Le(gae),vae=()=>Le(lte);function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=F1(F1(F1({},u),cc(i)),RS(i)),m;return w.isValidElement(i)?m=w.cloneElement(i,d):typeof i=="function"?m=i(d):m=w.createElement(yL,d),w.createElement(mn,{className:"recharts-active-dot",clipPath:l},m)};function m_(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=_n.activeDot}=t,u=Le(ol),d=vae();if(e==null||d==null)return null;var m=e.find(p=>d.includes(p.payload));return Wt(m)?null:w.createElement(Vr,{zIndex:l},w.createElement(wae,{point:m,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var ik=(t,e,n)=>{var r=n??t;if(!Wt(r))return Nr(r,e,0)},_ae=(t,e,n)=>{var r={},i=t.filter(R0),s=t.filter(m=>m.stackId==null),l=i.reduce((m,p)=>(m[p.stackId]||(m[p.stackId]=[]),m[p.stackId].push(p),m),r),u=Object.entries(l).map(m=>{var[p,g]=m,b=g.map(S=>S.dataKey),_=ik(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:_}}),d=s.map(m=>{var p=[m.dataKey].filter(b=>b!=null),g=ik(e,n,m.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]};function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){Sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sae(t,e,n){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Aae(t,"string");return typeof e=="symbol"?e:e+""}function Aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tae(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Nr(t,n,0,!0),u,d=[];if(Ut(r[0].barSize)){var m=!1,p=n/s,g=r.reduce((j,L)=>j+(L.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(m=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,_={offset:b-l,size:0};u=r.reduce((j,L)=>{var U,q={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:_.offset+_.size+l,size:m?p:(U=L.barSize)!==null&&U!==void 0?U:0}},$=[...j,q];return _=$[$.length-1].position,$},d)}else{var S=Nr(e,n,0,!0);n-2*S-(s-1)*l<=0&&(l=0);var E=(n-2*S-(s-1)*l)/s;E>1&&(E>>=0);var A=Ut(i)?Math.min(E,i):E;u=r.reduce((j,L,U)=>[...j,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:S+(E+l)*U+(E-A)/2,size:A}}],d)}return u}}var Nae=(t,e,n,r,i,s,l)=>{var u=Wt(l)?e:l,d=Tae(n,r,i!==s?i:s,t,u);return i!==s&&d!=null&&(d=d.map(m=>Yp(Yp({},m),{},{position:Yp(Yp({},m.position),{},{offset:m.position.offset-i/2})}))),d},jae=(t,e)=>{var n=P0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function Cae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ut(t.zIndex)?t.zIndex:e}var CL=t=>{var{chartData:e}=t,n=Ft(),r=Zn();return w.useEffect(()=>r?()=>{}:(n(fR(e)),()=>{n(fR(void 0))}),[e,n,r]),null},sk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OL=ei({name:"brush",initialState:sk,reducers:{setBrushSettings(t,e){return e.payload==null?sk:e.payload}}}),{setBrushSettings:Vfe}=OL.actions,Oae=OL.reducer;function Iae(t,e,n){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pae(t){var e=Rae(t,"string");return typeof e=="symbol"?e:e+""}function Rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pA{static create(e){return new pA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Iae(pA,"EPS",1e-4);function kae(t){return(t%180+180)%180}var Mae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=kae(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Dae={dots:[],areas:[],lines:[]},IL=ei({name:"referenceElements",initialState:Dae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=oa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=oa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=oa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Ufe,removeDot:$fe,addArea:Bfe,removeArea:qfe,addLine:Ffe,removeLine:Hfe}=IL.actions,Lae=IL.reducer,zae=w.createContext(void 0),Vae=t=>{var{children:e}=t,[n]=w.useState("".concat(Zf("recharts"),"-clip")),r=W0();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return w.createElement(zae.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function PL(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Uae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Mae(r,n)}function $ae(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function hh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Bae(t,e){return PL(t,e+1)}function qae(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,d=0,m=1,p=l,g=function(){var S=r?.[d];if(S===void 0)return{v:PL(r,m)};var E=d,A,j=()=>(A===void 0&&(A=n(S,E)),A),L=S.coordinate,U=d===0||hh(t,L,j,p,u);U||(d=0,p=l,m+=1),U&&(p=L+t*(j()/2+i),d+=m)},b;m<=s.length;)if(b=g(),b)return b.v;return[]}function Fae(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=e,m=1;m<=l;m++){for(var p=(l-1)%m,g=u,b=!0,_=function(){var L=r[S],U=S,q,$=()=>(q===void 0&&(q=n(L,U)),q),z=L.coordinate,O=S===p||hh(t,z,$,g,d);if(!O)return b=!1,1;O&&(g=z+t*($()/2+i))},S=p;S<l&&!_();S+=m);if(b){for(var E=[],A=p;A<l;A+=m)E.push(r[A]);return E}}return[]}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){Hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hae(t,e,n){return(e=Kae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kae(t){var e=Gae(t,"string");return typeof e=="symbol"?e:e+""}function Gae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yae(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,m=function(b){var _=s[b],S,E=()=>(S===void 0&&(S=n(_,b)),S);if(b===l-1){var A=t*(_.coordinate+t*E()/2-d);s[b]=_=Sr(Sr({},_),{},{tickCoord:A>0?_.coordinate-A*t:_.coordinate})}else s[b]=_=Sr(Sr({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var j=hh(t,_.tickCoord,E,u,d);j&&(d=_.tickCoord-t*(E()/2+i),s[b]=Sr(Sr({},_),{},{isShow:!0}))}},p=l-1;p>=0;p--)m(p);return s}function Wae(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:m}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-m);if(l[u-1]=p=Sr(Sr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var _=hh(t,p.tickCoord,()=>g,d,m);_&&(m=p.tickCoord-t*(g/2+i),l[u-1]=Sr(Sr({},p),{},{isShow:!0}))}}for(var S=s?u-1:u,E=function(L){var U=l[L],q,$=()=>(q===void 0&&(q=n(U,L)),q);if(L===0){var z=t*(U.coordinate-t*$()/2-d);l[L]=U=Sr(Sr({},U),{},{tickCoord:z<0?U.coordinate-z*t:U.coordinate})}else l[L]=U=Sr(Sr({},U),{},{tickCoord:U.coordinate});if(U.tickCoord!=null){var O=hh(t,U.tickCoord,$,d,m);O&&(d=U.tickCoord+t*($()/2+i),l[L]=Sr(Sr({},U),{},{isShow:!0}))}},A=0;A<S;A++)E(A);return l}function gA(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:m,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Oe(d)||$h.isSsr){var b;return(b=Bae(i,Oe(d)?d:0))!==null&&b!==void 0?b:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",E=p&&S==="width"?zf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(U,q)=>{var $=typeof m=="function"?m(U.value,q):U.value;return S==="width"?Uae(zf($,{fontSize:e,letterSpacing:n}),E,g):zf($,{fontSize:e,letterSpacing:n})[S]},j=i.length>=2?Qn(i[1].coordinate-i[0].coordinate):1,L=$ae(s,j,S);return d==="equidistantPreserveStart"?qae(j,L,A,i,l):d==="equidistantPreserveEnd"?Fae(j,L,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=Wae(j,L,A,i,l,d==="preserveStartEnd"):_=Yae(j,L,A,i,l),_.filter(U=>U.isShow))}var Xae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,m=l+d+u+(n?r:0);return Math.round(m)}return 0},Qae=["axisLine","width","height","className","hide","ticks","axisType"];function Jae(t,e){if(t==null)return{};var n,r,i=Zae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(null,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ese(t,e,n){return(e=tse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tse(t){var e=nse(t,"string");return typeof e=="symbol"?e:e+""}function nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Os={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_n.axis};function rse(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var m=On(On(On({},d),Lr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);m=On(On({},m),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);m=On(On({},m),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",gc({},m,{className:ft("recharts-cartesian-axis-line",dc(u,"className"))}))}function ise(t,e,n,r,i,s,l,u,d){var m,p,g,b,_,S,E=u?-1:1,A=t.tickSize||l,j=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":m=p=t.coordinate,b=n+ +!u*i,g=b-E*A,S=g-E*d,_=j;break;case"left":g=b=t.coordinate,p=e+ +!u*r,m=p-E*A,_=m-E*d,S=j;break;case"right":g=b=t.coordinate,p=e+ +u*r,m=p+E*A,_=m+E*d,S=j;break;default:m=p=t.coordinate,b=n+ +u*i,g=b+E*A,S=g+E*d,_=j;break}return{line:{x1:m,y1:g,x2:p,y2:b},tick:{x:_,y:S}}}function ase(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function sse(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ose(t){var{option:e,tickProps:n,value:r}=t,i,s=ft(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,On(On({},n),{},{className:s}));else if(typeof e=="function")i=e(On(On({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ft(l,e?.className)),i=w.createElement(B0,gc({},n,{className:l}),r)}return i}var lse=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:m,orientation:p,mirror:g,x:b,y:_,width:S,height:E,tickSize:A,tickMargin:j,fontSize:L,letterSpacing:U,getTicksConfig:q,events:$,axisType:z}=t,O=gA(On(On({},q),{},{ticks:n}),L,U),N=ase(p,g),M=sse(p,g),P=Lr(q),I=cc(r),D={};typeof i=="object"&&(D=i);var k=On(On({},P),{},{fill:"none"},D),ie=O.map(H=>On({entry:H},ise(H,b,_,S,E,p,A,g,j))),ee=ie.map(H=>{var{entry:te,line:oe}=H;return w.createElement(mn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},i&&w.createElement("line",gc({},k,oe,{className:ft("recharts-cartesian-axis-tick-line",dc(i,"className"))})))}),W=ie.map((H,te)=>{var{entry:oe,tick:we}=H,V=On(On(On(On({textAnchor:N,verticalAnchor:M},P),{},{stroke:"none",fill:s},I),we),{},{index:te,payload:oe,visibleTicksCount:O.length,tickFormatter:l,padding:d},m);return w.createElement(mn,gc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},Dh($,oe,te)),r&&w.createElement(ose,{option:r,tickProps:V,value:"".concat(typeof l=="function"?l(oe.value,te):oe.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},W.length>0&&w.createElement(Vr,{zIndex:_n.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},W)),ee.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},ee))}),cse=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=t,m=Jae(t,Qae),[p,g]=w.useState(""),[b,_]=w.useState(""),S=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Xae({ticks:S.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=w.useCallback(A=>{if(A){var j=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=j;var L=j[0];if(L){var U=window.getComputedStyle(L),q=U.fontSize,$=U.letterSpacing;(q!==p||$!==b)&&(g(q),_($))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Vr,{zIndex:t.zIndex},w.createElement(mn,{className:ft("recharts-cartesian-axis",s)},w.createElement(rse,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Lr(t)}),w.createElement(lse,{ref:E,axisType:d,events:m,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(ire,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(mre,{label:t.label,labelRef:t.labelRef}),t.children)))}),vA=w.forwardRef((t,e)=>{var n=pn(t,Os);return w.createElement(cse,gc({},n,{ref:e}))});vA.displayName="CartesianAxis";var use=["x1","y1","x2","y2","key"],dse=["offset"],fse=["xAxisId","yAxisId"],hse=["xAxisId","yAxisId"];function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return(e=pse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pse(t){var e=gse(t,"string");return typeof e=="symbol"?e:e+""}function gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(null,arguments)}function Av(t,e){if(t==null)return{};var n,r,i=vse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yse=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return w.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RL(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:m}=n,p=Av(n,use),g=(i=Lr(p))!==null&&i!==void 0?i:{},{offset:b}=g,_=Av(g,dse);r=w.createElement("line",Wl({},_,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:m}))}return r}function bse(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Av(t,fse),d=i.map((m,p)=>{var g=Tr(Tr({},u),{},{x1:e,y1:m,x2:e+n,y2:m,key:"line-".concat(p),index:p});return w.createElement(RL,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function xse(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Av(t,hse),d=i.map((m,p)=>{var g=Tr(Tr({},u),{},{x1:m,y1:e,x2:m,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(RL,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function wse(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var m=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var _=!m[b+1],S=_?i+l-g:m[b+1]-g;if(S<=0)return null;var E=b%e.length;return w.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:S,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function _se(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var m=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var _=!m[b+1],S=_?i+l-g:m[b+1]-g;if(S<=0)return null;var E=b%n.length;return w.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Sse=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return S5(gA(Tr(Tr(Tr({},Os),n),{},{ticks:E5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Ese=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return S5(gA(Tr(Tr(Tr({},Os),n),{},{ticks:E5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Ase={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_n.grid};function X0(t){var e=FS(),n=HS(),r=R5(),i=Tr(Tr({},pn(t,Ase)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:m,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:_}=i,S=Zn(),E=Le(M=>eR(M,"xAxis",s,S)),A=Le(M=>eR(M,"yAxis",l,S));if(!Fa(m)||!Fa(p)||!Oe(u)||!Oe(d))return null;var j=i.verticalCoordinatesGenerator||Sse,L=i.horizontalCoordinatesGenerator||Ese,{horizontalPoints:U,verticalPoints:q}=i;if((!U||!U.length)&&typeof L=="function"){var $=b&&b.length,z=L({yAxis:A?Tr(Tr({},A),{},{ticks:$?b:A.ticks}):void 0,width:e??m,height:n??p,offset:r},$?!0:g);Jg(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(U=z)}if((!q||!q.length)&&typeof j=="function"){var O=_&&_.length,N=j({xAxis:E?Tr(Tr({},E),{},{ticks:O?_:E.ticks}):void 0,width:e??m,height:n??p,offset:r},O?!0:g);Jg(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(q=N)}return w.createElement(Vr,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(yse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(wse,Wl({},i,{horizontalPoints:U})),w.createElement(_se,Wl({},i,{verticalPoints:q})),w.createElement(bse,Wl({},i,{offset:r,horizontalPoints:U,xAxis:E,yAxis:A})),w.createElement(xse,Wl({},i,{offset:r,verticalPoints:q,xAxis:E,yAxis:A}))))}X0.displayName="CartesianGrid";var Tse={},kL=ei({name:"errorBars",initialState:Tse,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Kfe,replaceErrorBar:Gfe,removeErrorBar:Yfe}=kL.actions,Nse=kL.reducer,jse=["children"];function Cse(t,e){if(t==null)return{};var n,r,i=Ose(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ose(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ise={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pse=w.createContext(Ise);function ML(t){var{children:e}=t,n=Cse(t,jse);return w.createElement(Pse.Provider,{value:n},e)}function Q0(t,e){var n,r,i=Le(m=>Js(m,t)),s=Le(m=>Zs(m,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Gn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Yn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function yA(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=W0(),{needClipX:s,needClipY:l,needClip:u}=Q0(e,n);if(!u||!i)return null;var{x:d,y:m,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?d:d-p/2,y:l?m:m-g/2,width:s?p:p*2,height:l?g:g*2}))}var DL=(t,e,n,r)=>Ga(t,"xAxis",e,r),LL=(t,e,n,r)=>Ka(t,"xAxis",e,r),zL=(t,e,n,r)=>Ga(t,"yAxis",n,r),VL=(t,e,n,r)=>Ka(t,"yAxis",n,r),Rse=se([it,DL,zL,LL,VL],(t,e,n,r,i)=>Ya(t,"xAxis")?al(e,r,!1):al(n,i,!1)),kse=(t,e,n,r,i)=>i;function Mse(t){return t.type==="line"}var Dse=se([Wh,kse],(t,e)=>t.filter(Mse).find(n=>n.id===e)),Lse=se([it,DL,zL,LL,VL,Dse,Rse,vE],(t,e,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,_;if(b!=null&&b.length>0?_=b:_=d?.slice(m,p+1),_!=null)return Soe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}});function UL(t){var e=cc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var H1={exports:{}},K1={};var uk;function zse(){if(uk)return K1;uk=1;var t=Wu();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return K1.useSyncExternalStoreWithSelector=function(d,m,p,g,b){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function A($){if(!j){if(j=!0,L=$,$=g($),b!==void 0&&S.hasValue){var z=S.value;if(b(z,$))return U=z}return U=$}if(z=U,n(L,$))return z;var O=g($);return b!==void 0&&b(z,O)?(L=$,z):(L=$,U=O)}var j=!1,L,U,q=p===void 0?null:p;return[function(){return A(m())},q===null?void 0:function(){return A(q())}]},[m,p,g,b]);var E=r(d,_[0],_[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},K1}var dk;function Vse(){return dk||(dk=1,H1.exports=zse()),H1.exports}Vse();function Use(t){t()}function $se(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Use(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fk={notify(){},get:()=>[]};function Bse(t,e){let n,r=fk,i=0,s=!1;function l(E){p();const A=r.subscribe(E);let j=!1;return()=>{j||(j=!0,A(),g())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function m(){return s}function p(){i++,n||(n=t.subscribe(d),r=$se())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fk)}function b(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:m,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return S}var qse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fse=qse(),Hse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Kse=Hse(),Gse=()=>Fse||Kse?w.useLayoutEffect:w.useEffect,Yse=Gse();function hk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Wse(t,e){if(hk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!hk(t[n[i]],e[n[i]]))return!1;return!0}var Xse=Symbol.for("react-redux-context"),Qse=typeof globalThis<"u"?globalThis:{};function Jse(){if(!w.createContext)return{};const t=Qse[Xse]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Zse=Jse();function eoe(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const d=Bse(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);Yse(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||Zse;return w.createElement(u.Provider,{value:s},e)}var toe=eoe,noe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function roe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function rm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(noe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Wse(t[r],e[r]))return!1}else if(!roe(t[r],e[r]))return!1;return!0}var ioe=["id"],aoe=["type","layout","connectNulls","needClip","shape"],soe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(null,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ooe(t,e,n){return(e=loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=coe(t,"string");return typeof e=="symbol"?e:e+""}function coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bA(t,e){if(t==null)return{};var n,r,i=uoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var doe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:hl(n,e),payload:t}]},foe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:hl(l,e),hide:u,type:m,color:r,unit:d,graphicalItemId:p}};return w.createElement(K0,{tooltipEntrySettings:g})}),$L=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function hoe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var moe=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return $L(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],d=0,m=0;d<n.length;m+=n[d],++d)if(m+n[d]>s){u=[...n.slice(0,d),s-m];break}var p=u.length%2===0?[0,l]:[l];return[...hoe(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function poe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=bA(r,ioe),m=Lr(d);return w.createElement(TL,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:m,needClip:l,clipPathId:e})}function goe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ra(Ra({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(iA,{value:e?i:void 0},n)}function pk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:d,needClip:m,shape:p}=s,g=bA(s,aoe),b=Ra(Ra({},Cr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(cA,mh({shapeType:"curve",option:p},b,{pathRef:n})),w.createElement(poe,{points:r,clipPathId:e,props:s}))}function voe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function yoe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:m,animationDuration:p,animationEasing:g,animateNewValues:b,width:_,height:S,onAnimationEnd:E,onAnimationStart:A}=n,j=i.current,L=sd(l,"recharts-line-"),U=w.useRef(L),[q,$]=w.useState(!1),z=!q,O=w.useCallback(()=>{typeof E=="function"&&E(),$(!1)},[E]),N=w.useCallback(()=>{typeof A=="function"&&A(),$(!0)},[A]),M=voe(r.current),P=w.useRef(0);U.current!==L&&(P.current=s.current,U.current=L);var I=P.current;return w.createElement(goe,{points:l,showLabels:z},n.children,w.createElement(ad,{animationId:L,begin:m,duration:p,isActive:d,easing:g,onAnimationEnd:O,onAnimationStart:N,key:L},D=>{var k=_t(I,M+I,D),ie=Math.min(k,M),ee;if(d)if(u){var W="".concat(u).split(/[,\s]+/gim).map(oe=>parseFloat(oe));ee=moe(ie,M,W)}else ee=$L(M,ie);else ee=u==null?void 0:String(u);if(D>0&&M>0&&(i.current=l,s.current=Math.max(s.current,ie)),j){var H=j.length/l.length,te=D===1?l:l.map((oe,we)=>{var V=Math.floor(we*H);if(j[V]){var K=j[V];return Ra(Ra({},oe),{},{x:_t(K.x,oe.x,D),y:_t(K.y,oe.y,D)})}return b?Ra(Ra({},oe),{},{x:_t(_*2,oe.x,D),y:_t(S/2,oe.y,D)}):Ra(Ra({},oe),{},{x:oe.x,y:oe.y})});return i.current=te,w.createElement(pk,{props:n,points:te,clipPathId:e,pathRef:r,strokeDasharray:ee})}return w.createElement(pk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:ee})}),w.createElement(q0,{label:n.label}))}function boe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(yoe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var xoe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:St(t.payload,e)}};class woe extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:m,height:p,id:g,needClip:b,zIndex:_}=this.props;if(e)return null;var S=ft("recharts-line",i),E=g,{r:A,strokeWidth:j}=UL(n),L=lA(n),U=A*2+j,q=b?"url(#clipPath-".concat(L?"":"dots-").concat(E,")"):void 0;return w.createElement(Vr,{zIndex:_},w.createElement(mn,{className:S},b&&w.createElement("defs",null,w.createElement(yA,{clipPathId:E,xAxisId:s,yAxisId:l}),!L&&w.createElement("clipPath",{id:"clipPath-dots-".concat(E)},w.createElement("rect",{x:d-U/2,y:u-U/2,width:m+U,height:p+U}))),w.createElement(ML,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:xoe,errorBarOffset:0},w.createElement(boe,{props:this.props,clipPathId:E}))),w.createElement(m_,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:q}))}}var BL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:_n.line,type:"linear"};function _oe(t){var e=pn(t,BL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:m,isAnimationActive:p,label:g,legendType:b,xAxisId:_,yAxisId:S,id:E}=e,A=bA(e,soe),{needClip:j}=Q0(_,S),L=W0(),U=ml(),q=Zn(),$=Le(P=>Lse(P,_,S,q,E));if(U!=="horizontal"&&U!=="vertical"||$==null||L==null)return null;var{height:z,width:O,x:N,y:M}=L;return w.createElement(woe,mh({},A,{id:E,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:m,label:g,legendType:b,xAxisId:_,yAxisId:S,points:$,layout:U,height:z,width:O,left:N,top:M,needClip:j}))}function Soe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((m,p)=>{var g=St(m,l);if(e==="horizontal"){var b=Qg({axis:n,ticks:i,bandSize:u,entry:m,index:p}),_=Wt(g)?null:r.scale(g);return{x:b,y:_,value:g,payload:m}}var S=Wt(g)?null:n.scale(g),E=Qg({axis:r,ticks:s,bandSize:u,entry:m,index:p});return S==null||E==null?null:{x:S,y:E,value:g,payload:m}}).filter(Boolean)}function Eoe(t){var e=pn(t,BL),n=Zn();return w.createElement(G0,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(hA,{legendPayload:doe(e)}),w.createElement(foe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(mA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(_oe,mh({},e,{id:r}))))}var Ku=w.memo(Eoe,rm);Ku.displayName="Line";function Wa(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:NL}function Xa(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:NL}var qL=(t,e,n)=>Ga(t,"xAxis",Wa(t,e),n),FL=(t,e,n)=>Ka(t,"xAxis",Wa(t,e),n),HL=(t,e,n)=>Ga(t,"yAxis",Xa(t,e),n),KL=(t,e,n)=>Ka(t,"yAxis",Xa(t,e),n),Aoe=se([it,qL,HL,FL,KL],(t,e,n,r,i)=>Ya(t,"xAxis")?al(e,r,!1):al(n,i,!1)),Toe=(t,e)=>e,GL=se([Wh,Toe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),YL=t=>{var e=it(t),n=Ya(e,"xAxis");return n?"yAxis":"xAxis"},Noe=(t,e)=>{var n=YL(t);return n==="yAxis"?Xa(t,e):Wa(t,e)},joe=(t,e,n)=>yv(t,YL(t),Noe(t,e),n),Coe=se([GL,joe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=P0(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),Ooe=se([it,qL,HL,FL,KL,Coe,M3,Aoe,GL,sZ],(t,e,n,r,i,s,l,u,d,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=d,S;if(_&&_.length>0?S=_:S=p?.slice(g,b+1),S!=null)return Woe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:S,chartBaseValue:m,bandSize:u})}}),Ioe=["id"],Poe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(null,arguments)}function WL(t,e){if(t==null)return{};var n,r,i=Roe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Roe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tv(t,e){return t&&t!=="none"?t:e}var Loe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:Tv(r,i),value:hl(n,e),payload:t}]},zoe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:hl(l,e),hide:u,type:m,color:Tv(r,s),unit:d,graphicalItemId:p}};return w.createElement(K0,{tooltipEntrySettings:g})});function Voe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=Lr(r);return w.createElement(TL,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function Uoe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Su(Su({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return w.createElement(iA,{value:e?i:void 0},n)}function vk(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:d,connectNulls:m,isRange:p}=s,{id:g}=s,b=WL(s,Ioe),_=Lr(b),S=Cr(b);return w.createElement(w.Fragment,null,e?.length>1&&w.createElement(mn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Cu,tc({},S,{id:g,points:e,connectNulls:m,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&w.createElement(Cu,tc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:m,fill:"none",points:e})),d!=="none"&&p&&w.createElement(Cu,tc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:m,fill:"none",points:n}))),w.createElement(Voe,{points:e,props:b,clipPathId:i}))}function $oe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,d=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Ut(u)||!Ut(d))return null;var m=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.x||0));return Oe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Oe(p)?w.createElement("rect",{x:0,y:u<d?u:u-m,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}function Boe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,d=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Ut(u)||!Ut(d))return null;var m=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.y||0));return Oe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Oe(p)?w.createElement("rect",{x:u<d?u:u-m,y:0,width:m,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function qoe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?w.createElement($oe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):w.createElement(Boe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Foe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:m,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:_}=r,S=w.useMemo(()=>({points:l,baseLine:u}),[l,u]),E=sd(S,"recharts-area-"),A=SY(),[j,L]=w.useState(!1),U=!j,q=w.useCallback(()=>{typeof _=="function"&&_(),L(!1)},[_]),$=w.useCallback(()=>{typeof b=="function"&&b(),L(!0)},[b]);if(A==null)return null;var z=i.current,O=s.current;return w.createElement(Uoe,{showLabels:U,points:l},r.children,w.createElement(ad,{animationId:E,begin:m,duration:p,isActive:d,easing:g,onAnimationEnd:q,onAnimationStart:$,key:E},N=>{if(z){var M=z.length/l.length,P=N===1?l:l.map((D,k)=>{var ie=Math.floor(k*M);if(z[ie]){var ee=z[ie];return Su(Su({},D),{},{x:_t(ee.x,D.x,N),y:_t(ee.y,D.y,N)})}return D}),I;return Oe(u)?I=_t(O,u,N):Wt(u)||Bi(u)?I=_t(O,0,N):I=u.map((D,k)=>{var ie=Math.floor(k*M);if(Array.isArray(O)&&O[ie]){var ee=O[ie];return Su(Su({},D),{},{x:_t(ee.x,D.x,N),y:_t(ee.y,D.y,N)})}return D}),N>0&&(i.current=P,s.current=I),w.createElement(vk,{points:P,baseLine:I,needClip:e,clipPathId:n,props:r})}return N>0&&(i.current=l,s.current=u),w.createElement(mn,null,d&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(qoe,{alpha:N,points:l,baseLine:u,layout:A,strokeWidth:r.strokeWidth}))),w.createElement(mn,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(vk,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),w.createElement(q0,{label:r.label}))}function Hoe(t){var{needClip:e,clipPathId:n,props:r}=t,i=w.useRef(null),s=w.useRef();return w.createElement(Foe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Koe extends w.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:d,yAxisId:m,width:p,height:g,id:b,baseLine:_,zIndex:S}=this.props;if(e)return null;var E=ft("recharts-area",i),A=b,{r:j,strokeWidth:L}=UL(n),U=lA(n),q=j*2+L,$=u?"url(#clipPath-".concat(U?"":"dots-").concat(A,")"):void 0;return w.createElement(Vr,{zIndex:S},w.createElement(mn,{className:E},u&&w.createElement("defs",null,w.createElement(yA,{clipPathId:A,xAxisId:d,yAxisId:m}),!U&&w.createElement("clipPath",{id:"clipPath-dots-".concat(A)},w.createElement("rect",{x:l-q/2,y:s-q/2,width:p+q,height:g+q}))),w.createElement(Hoe,{needClip:u,clipPathId:A,props:this.props})),w.createElement(m_,{points:r,mainColor:Tv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}),this.props.isRange&&Array.isArray(_)&&w.createElement(m_,{points:_,mainColor:Tv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}))}}var XL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:_n.area};function Goe(t){var e,n=pn(t,XL),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:m,fillOpacity:p,hide:g,isAnimationActive:b,legendType:_,stroke:S,xAxisId:E,yAxisId:A}=n,j=WL(n,Poe),L=ml(),U=Q6(),{needClip:q}=Q0(E,A),$=Zn(),{points:z,isRange:O,baseLine:N}=(e=Le(ie=>Ooe(ie,t.id,$)))!==null&&e!==void 0?e:{},M=W0();if(L!=="horizontal"&&L!=="vertical"||M==null||U!=="AreaChart"&&U!=="ComposedChart")return null;var{height:P,width:I,x:D,y:k}=M;return!z||!z.length?null:w.createElement(Koe,tc({},j,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:N,connectNulls:u,dot:d,fill:m,fillOpacity:p,height:P,hide:g,layout:L,isAnimationActive:b==="auto"?!$h.isSsr:b,isRange:O,legendType:_,needClip:q,points:z,stroke:S,width:I,left:D,top:k,xAxisId:E,yAxisId:A}))}var Yoe=(t,e,n,r,i)=>{var s=n??e;if(Oe(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return s==="dataMin"?m:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Woe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:m,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:_}=t,S=i&&i.length,E=Yoe(s,l,n,u,d),A=s==="horizontal",j=!1,L=m.map((q,$)=>{var z,O,N;if(S)N=i[p+$];else{var M=St(q,r);Array.isArray(M)?(N=M,j=!0):N=[E,M]}var P=(z=(O=N)===null||O===void 0?void 0:O[1])!==null&&z!==void 0?z:null,I=P==null||S&&!e&&St(q,r)==null;return A?{x:Qg({axis:u,ticks:g,bandSize:_,entry:q,index:$}),y:I?null:d.scale(P),value:N,payload:q}:{x:I?null:u.scale(P),y:Qg({axis:d,ticks:b,bandSize:_,entry:q,index:$}),value:N,payload:q}}),U;return S||j?U=L.map(q=>{var $=Array.isArray(q.value)?q.value[0]:null;return A?{x:q.x,y:$!=null&&q.y!=null?d.scale($):null,payload:q.payload}:{x:$!=null?u.scale($):null,y:q.y,payload:q.payload}}):U=A?d.scale(E):u.scale(E),{points:L,baseLine:U,isRange:j}}function Xoe(t){var e=pn(t,XL),n=Zn();return w.createElement(G0,{id:e.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(hA,{legendPayload:Loe(e)}),w.createElement(zoe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(mA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:A5(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),w.createElement(Goe,tc({},e,{id:r}))))}var xA=w.memo(Xoe,rm);xA.displayName="Area";var Qoe="Invariant failed";function Joe(t,e){throw new Error(Qoe)}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(null,arguments)}function Nv(t){return w.createElement(cA,p_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Zoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Oe(e))return e;var s=Oe(r)||Wt(r);return s?e(r,i):(s||Joe(),n)}},ele=(t,e,n)=>n,tle=(t,e)=>e,im=se([Wh,tle],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),nle=se([im],t=>t?.maxBarSize),rle=(t,e,n,r)=>r,ile=se([it,Wh,Wa,Xa,ele],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),ale=(t,e,n)=>{var r=it(t),i=Wa(t,e),s=Xa(t,e);if(!(i==null||s==null))return r==="horizontal"?yv(t,"yAxis",s,n):yv(t,"xAxis",i,n)},sle=(t,e)=>{var n=it(t),r=Wa(t,e),i=Xa(t,e);if(!(r==null||i==null))return n==="horizontal"?ZP(t,"xAxis",r):ZP(t,"yAxis",i)},ole=se([ile,aZ,sle],_ae),lle=(t,e,n)=>{var r,i,s=im(t,e);if(s!=null){var l=Wa(t,e),u=Xa(t,e);if(!(l==null||u==null)){var d=it(t),m=X3(t),{maxBarSize:p}=s,g=Wt(p)?m:p,b,_;return d==="horizontal"?(b=Ga(t,"xAxis",l,n),_=Ka(t,"xAxis",l,n)):(b=Ga(t,"yAxis",u,n),_=Ka(t,"yAxis",u,n)),(r=(i=al(b,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},QL=(t,e,n)=>{var r=it(t),i=Wa(t,e),s=Xa(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=Ga(t,"xAxis",i,n),u=Ka(t,"xAxis",i,n)):(l=Ga(t,"yAxis",s,n),u=Ka(t,"yAxis",s,n)),al(l,u)}},cle=se([ole,X3,iZ,Q3,lle,QL,nle],Nae),ule=(t,e,n)=>{var r=Wa(t,e);if(r!=null)return Ga(t,"xAxis",r,n)},dle=(t,e,n)=>{var r=Xa(t,e);if(r!=null)return Ga(t,"yAxis",r,n)},fle=(t,e,n)=>{var r=Wa(t,e);if(r!=null)return Ka(t,"xAxis",r,n)},hle=(t,e,n)=>{var r=Xa(t,e);if(r!=null)return Ka(t,"yAxis",r,n)},mle=se([cle,im],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ple=se([ale,im],jae),gle=se([Vn,BS,ule,dle,fle,hle,mle,it,M3,QL,ple,im,rle],(t,e,n,r,i,s,l,u,d,m,p,g,b)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:E}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||m==null)){var{data:A}=g,j;if(A!=null&&A.length>0?j=A:j=_?.slice(S,E+1),j!=null)return Hle({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:j,offset:t,cells:b,dataStartIndex:S})}}),vle=["index"];function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(null,arguments)}function yle(t,e){if(t==null)return{};var n,r,i=ble(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ble(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JL=w.createContext(void 0),xle=t=>{var e=w.useContext(JL);if(e!=null)return e.stackId;if(t!=null)return A5(t)},wle=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),_le=t=>{var e=w.useContext(JL);if(e!=null){var{stackId:n}=e;return"url(#".concat(wle(n,t),")")}},Sle=t=>{var{index:e}=t,n=yle(t,vle),r=_le(e);return w.createElement(mn,g_({className:"recharts-bar-stack-layer",clipPath:r},n))},Ele=["onMouseEnter","onMouseLeave","onClick"],Ale=["value","background","tooltipPosition"],Tle=["id"],Nle=["onMouseEnter","onClick","onMouseLeave"];function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(null,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jle(t,e,n){return(e=Cle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jv(t,e){if(t==null)return{};var n,r,i=Ile(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ile(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ple=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:hl(n,e),payload:t}]},Rle=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:d,id:m}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:hl(s,e),hide:l,type:d,color:i,unit:u,graphicalItemId:m}};return w.createElement(K0,{tooltipEntrySettings:p})});function kle(t){var e=Le(ol),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,m=jv(s,Ele),p=uA(l,r,s.id),g=dA(u),b=fA(d,r,s.id);if(!i||n==null)return null;var _=cc(i);return w.createElement(Vr,{zIndex:Cae(i,_n.barBackground)},n.map((S,E)=>{var{value:A,background:j,tooltipPosition:L}=S,U=jv(S,Ale);if(!j)return null;var q=p(S,E),$=g(S,E),z=b(S,E),O=kr(kr(kr(kr(kr({option:i,isActive:String(E)===e},U),{},{fill:"#eee"},j),_),Dh(m,S,E)),{},{onMouseEnter:q,onMouseLeave:$,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return w.createElement(Nv,qs({key:"background-bar-".concat(E)},O))}))}function Mle(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return kr(kr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(iA,{value:e?i:void 0},n)}function Dle(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Le(ol),d=Le(JE),m=n&&String(s)===u&&(d==null||l===d),p=m?n:e;return m?w.createElement(Vr,{zIndex:_n.activeBar},w.createElement(Nv,qs({},r,{name:String(r.name)},i,{isActive:m,option:p,index:s,dataKey:l}))):w.createElement(Nv,qs({},r,{name:String(r.name)},i,{isActive:m,option:p,index:s,dataKey:l}))}function Lle(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(Nv,qs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function zle(t){var e,{data:n,props:r}=t,i=(e=Lr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=jv(i,Tle),{shape:u,dataKey:d,activeBar:m}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,_=jv(r,Nle),S=uA(p,d,s),E=dA(b),A=fA(g,d,s);return n?w.createElement(w.Fragment,null,n.map((j,L)=>w.createElement(Sle,qs({index:L,key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(L),className:"recharts-bar-rectangle"},Dh(_,j,L),{onMouseEnter:S(j,L),onMouseLeave:E(j,L),onClick:A(j,L)}),m?w.createElement(Dle,{shape:u,activeBar:m,baseProps:l,entry:j,index:L,dataKey:d}):w.createElement(Lle,{shape:u,baseProps:l,entry:j,index:L,dataKey:d})))):null}function Vle(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:m,onAnimationStart:p}=e,g=n.current,b=sd(e,"recharts-bar-"),[_,S]=w.useState(!1),E=!_,A=w.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),j=w.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return w.createElement(Mle,{showLabels:E,rects:r},w.createElement(ad,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:A,onAnimationStart:j,key:b},L=>{var U=L===1?r:r?.map((q,$)=>{var z=g&&g[$];if(z)return kr(kr({},q),{},{x:_t(z.x,q.x,L),y:_t(z.y,q.y,L),width:_t(z.width,q.width,L),height:_t(z.height,q.height,L)});if(i==="horizontal"){var O=_t(0,q.height,L),N=_t(q.stackedBarStart,q.y,L);return kr(kr({},q),{},{y:N,height:O})}var M=_t(0,q.width,L),P=_t(q.stackedBarStart,q.x,L);return kr(kr({},q),{},{width:M,x:P})});return L>0&&(n.current=U??null),U==null?null:w.createElement(mn,null,w.createElement(zle,{props:e,data:U}))}),w.createElement(q0,{label:e.label}),e.children)}function Ule(t){var e=w.useRef(null);return w.createElement(Vle,{previousRectanglesRef:e,props:t})}var ZL=0,$le=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:St(t,e)}};class Ble extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:d,id:m}=this.props;if(e||n==null)return null;var p=ft("recharts-bar",i),g=m;return w.createElement(mn,{className:p,id:m},u&&w.createElement("defs",null,w.createElement(yA,{clipPathId:g,xAxisId:s,yAxisId:l})),w.createElement(mn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},w.createElement(kle,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement(Ule,this.props)))}}var qle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ZL,xAxisId:0,yAxisId:0,zIndex:_n.bar};function Fle(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:p}=t,{needClip:g}=Q0(e,n),b=ml(),_=Zn(),S=oA(t.children,nm),E=Le(L=>gle(L,t.id,_,S));if(b!=="vertical"&&b!=="horizontal")return null;var A,j=E?.[0];return j==null||j.height==null||j.width==null?A=0:A=b==="vertical"?j.height/2:j.width/2,w.createElement(ML,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:$le,errorBarOffset:A},w.createElement(Ble,qs({},t,{layout:b,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:p})))}function Hle(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:m,stackedData:p,displayedData:g,offset:b,cells:_,parentViewBox:S,dataStartIndex:E}=t,A=e==="horizontal"?u:l,j=p?A.scale.domain():null,L=$G({numericAxis:A}),U=A.scale(L);return g.map((q,$)=>{var z,O,N,M,P,I;if(p){var D=p[$+E];if(D==null)return null;z=DG(D,j)}else z=St(q,n),Array.isArray(z)||(z=[L,z]);var k=Zoe(r,ZL)(z[1],$);if(e==="horizontal"){var ie,[ee,W]=[u.scale(z[0]),u.scale(z[1])];O=rI({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:q,index:$}),N=(ie=W??ee)!==null&&ie!==void 0?ie:void 0,M=i.size;var H=ee-W;if(P=Bi(H)?0:H,I={x:O,y:b.top,width:M,height:b.height},Math.abs(k)>0&&Math.abs(P)<Math.abs(k)){var te=Qn(P||k)*(Math.abs(k)-Math.abs(P));N-=te,P+=te}}else{var[oe,we]=[l.scale(z[0]),l.scale(z[1])];if(O=oe,N=rI({axis:u,ticks:m,bandSize:s,offset:i.offset,entry:q,index:$}),M=we-oe,P=i.size,I={x:b.left,y:N,width:b.width,height:P},Math.abs(k)>0&&Math.abs(M)<Math.abs(k)){var V=Qn(M||k)*(Math.abs(k)-Math.abs(M));M+=V}}if(O==null||N==null||M==null||P==null)return null;var K=kr(kr({},q),{},{stackedBarStart:U,x:O,y:N,width:M,height:P,value:p?z:z[1],payload:q,background:I,tooltipPosition:{x:O+M/2,y:N+P/2},parentViewBox:S},_&&_[$]&&_[$].props);return K}).filter(Boolean)}function Kle(t){var e=pn(t,qle),n=xle(e.stackId),r=Zn();return w.createElement(G0,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(hA,{legendPayload:Ple(e)}),w.createElement(Rle,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(mA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement(Vr,{zIndex:e.zIndex},w.createElement(Fle,qs({},e,{id:i})))))}var wA=w.memo(Kle,rm);wA.displayName="Bar";var Gle=["domain","range"],Yle=["domain","range"];function bk(t,e){if(t==null)return{};var n,r,i=Wle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xk(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function ez(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=bk(t,Gle),{domain:s,range:l}=e,u=bk(e,Yle);return!xk(n,s)||!xk(r,l)?!1:rm(i,u)}var Xle=["dangerouslySetInnerHTML","ticks","scale"],Qle=["id","scale"];function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(null,arguments)}function wk(t,e){if(t==null)return{};var n,r,i=Jle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zle(t){var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(oae(t)):n.current!==t&&e(lae({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(cae(n.current)),n.current=null)},[e]),null}var ece=t=>{var{xAxisId:e,className:n}=t,r=Le(BS),i=Zn(),s="xAxis",l=Le(j=>C6(j,s,e,i)),u=Le(j=>A6(j,e)),d=Le(j=>ree(j,e)),m=Le(j=>s6(j,e));if(u==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,_=wk(t,Xle),{id:S,scale:E}=m,A=wk(m,Qle);return w.createElement(vA,v_({},_,A,{x:d.x,y:d.y,width:u.width,height:u.height,className:ft("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},tce={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:Os.axisLine,height:Gn.height,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:Gn.type,xAxisId:0},nce=t=>{var e=pn(t,tce);return w.createElement(w.Fragment,null,w.createElement(Zle,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(ece,e))},J0=w.memo(nce,ez);J0.displayName="XAxis";var rce=["dangerouslySetInnerHTML","ticks","scale"],ice=["id","scale"];function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(null,arguments)}function _k(t,e){if(t==null)return{};var n,r,i=ace(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ace(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sce(t){var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(uae(t)):n.current!==t&&e(dae({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(fae(n.current)),n.current=null)},[e]),null}var oce=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),l=w.useRef(null),u=Le(BS),d=Zn(),m=Ft(),p="yAxis",g=Le(z=>T6(z,e)),b=Le(z=>aee(z,e)),_=Le(z=>C6(z,p,e,d)),S=Le(z=>o6(z,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||rA(i)||w.isValidElement(i)||S==null)){var z=s.current;if(z){var O=z.getCalculatedWidth();Math.round(g.width)!==Math.round(O)&&m(hae({id:e,width:O}))}}},[_,g,m,i,e,r,S]),g==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:j}=t,L=_k(t,rce),{id:U,scale:q}=S,$=_k(S,ice);return w.createElement(vA,y_({},L,$,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:ft("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},lce={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:Yn.allowDecimals,allowDuplicatedCategory:Yn.allowDuplicatedCategory,angle:Yn.angle,axisLine:Os.axisLine,hide:!1,includeHidden:Yn.includeHidden,interval:Yn.interval,minTickGap:Yn.minTickGap,mirror:Yn.mirror,orientation:Yn.orientation,padding:Yn.padding,reversed:Yn.reversed,scale:Yn.scale,tick:Yn.tick,tickCount:Yn.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:Yn.type,width:Yn.width,yAxisId:0},cce=t=>{var e=pn(t,lce);return w.createElement(w.Fragment,null,w.createElement(sce,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(oce,e))},Gu=w.memo(cce,ez);Gu.displayName="YAxis";var uce=(t,e)=>e,_A=se([uce,it,i6,$n,H6,eo,xte,Vn],Nte),SA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},tz=qi("mouseClick"),nz=zh();nz.startListening({actionCreator:tz,effect:(t,e)=>{var n=t.payload,r=_A(e.getState(),SA(n));r?.activeIndex!=null&&e.dispatch(bee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var b_=qi("mouseMove"),rz=zh(),Wp=null;rz.startListening({actionCreator:b_,effect:(t,e)=>{var n=t.payload;Wp!==null&&cancelAnimationFrame(Wp);var r=SA(n);Wp=requestAnimationFrame(()=>{var i=e.getState(),s=KE(i,i.tooltip.settings.shared);if(s==="axis"){var l=_A(i,r);l?.activeIndex!=null?e.dispatch(L6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(D6())}Wp=null})}});function dce(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var Sk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},iz=ei({name:"rootProps",initialState:Sk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Sk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),fce=iz.reducer,{updateOptions:hce}=iz.actions,az=ei({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:mce}=az.actions,pce=az.reducer,sz=qi("keyDown"),oz=qi("focus"),EA=zh();EA.startListening({actionCreator:sz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=GE(i,pd(n),Qh(n),em(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=eo(n);if(s==="Enter"){var m=xv(n,"axis","hover",String(i.index));e.dispatch(l_({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var p=cee(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=u+b*g;if(!(d==null||_>=d.length||_<0)){var S=xv(n,"axis","hover",String(_));e.dispatch(l_({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});EA.startListening({actionCreator:oz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=xv(n,"axis","hover",String(s));e.dispatch(l_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Di=qi("externalEvent"),lz=zh(),G1=new Map;lz.startListening({actionCreator:Di,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=G1.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:ate(u),activeDataKey:JE(u),activeIndex:ol(u),activeLabel:Y6(u),activeTooltipIndex:ol(u),isTooltipActive:ste(u)};n(d,r)}finally{G1.delete(i)}});G1.set(i,l)}}});var gce=se([hd],t=>t.tooltipItemPayloads),vce=se([gce,Zh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),cz=qi("touchMove"),uz=zh();uz.startListening({actionCreator:cz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=KE(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=_A(r,SA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(L6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(N5),g=(u=m.getAttribute(j5))!==null&&u!==void 0?u:void 0,b=md(r).find(E=>E.id===g);if(p==null||b==null||g==null)return;var{dataKey:_}=b,S=vce(r,p,g);e.dispatch(M6({activeDataKey:_,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var yce=Y4({brush:Oae,cartesianAxis:mae,chartData:ine,errorBars:Nse,graphicalItems:wie,layout:OG,legend:zY,options:Zte,polarAxis:Mre,polarOptions:pce,referenceElements:Lae,rootProps:fce,tooltip:xee,zIndex:$te}),bce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return tG({reducer:yce,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([nz.middleware,rz.middleware,EA.middleware,lz.middleware,uz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(c5({type:"raf"}))},devTools:{serialize:{replacer:dce},name:"recharts-".concat(n)}})};function dz(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Zn(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=bce(e,r));var l=MS;return w.createElement(toe,{context:l,store:s.current},n)}function xce(t){var{layout:e,margin:n}=t,r=Ft(),i=Zn();return w.useEffect(()=>{i||(r(NG(e)),r(TG(n)))},[r,i,e,n]),null}var fz=w.memo(xce,rm);function hz(t){var e=Ft();return w.useEffect(()=>{e(hce(t))},[e,t]),null}function Ek(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Ft();return w.useLayoutEffect(()=>(r.current&&i(Vte({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Ute({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function Ak(t){var{children:e,isPanorama:n}=t,r=Le(Cte);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(Ek,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(Ek,{key:l,zIndex:l,isPanorama:n})))}var wce=["children"];function _ce(t,e){if(t==null)return{};var n,r,i=Sce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}var Ece={width:"100%",height:"100%",display:"block"},Ace=w.forwardRef((t,e)=>{var n=FS(),r=HS(),i=F5();if(!Fa(n)||!Fa(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,m,p;return l!=null&&(typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),w.createElement(ES,Cv({},l,{title:u,desc:d,role:p,tabIndex:m,width:n,height:r,style:Ece,ref:e}),s)}),Tce=t=>{var{children:e}=t,n=Le(p0);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(ES,{width:r,height:i,x:l,y:s},e)},Tk=w.forwardRef((t,e)=>{var{children:n}=t,r=_ce(t,wce),i=Zn();return i?w.createElement(Tce,null,w.createElement(Ak,{isPanorama:!0},n)):w.createElement(Ace,Cv({ref:e},r),w.createElement(Ak,{isPanorama:!1},n))});function Nce(){var t=Ft(),[e,n]=w.useState(null),r=Le(GG);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ut(s)&&s!==r&&t(CG(s))}},[e,t,r]),n}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Ice(t,"string");return typeof e=="symbol"?e:e+""}function Ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(null,arguments)}var Pce=()=>(hne(),null);function Ov(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Rce=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:Ov((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Ov((r=t.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((m,p)=>{l(g=>{var b=Math.round(m),_=Math.round(p);return g.containerWidth===b&&g.containerHeight===_?g:{containerWidth:b,containerHeight:_}})},[]),d=w.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();u(p,g);var b=S=>{var{width:E,height:A}=S[0].contentRect;u(E,A)},_=new ResizeObserver(b);_.observe(m),i.current=_}},[e,u]);return w.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(y0,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",vc({ref:d},t)))}),kce=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:Ov(n),containerHeight:Ov(r)}),l=w.useCallback((d,m)=>{s(p=>{var g=Math.round(d),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:m,height:p}=d.getBoundingClientRect();l(m,p)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(y0,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",vc({ref:u},t)))}),Mce=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(y0,{width:n,height:r}),w.createElement("div",vc({ref:e},t)))}),Dce=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ls(n)||Ls(r)?w.createElement(kce,vc({},t,{ref:e})):w.createElement(Mce,vc({},t,{ref:e}))});function Lce(t){return t===!0?Rce:Dce}var zce=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:A,width:j,responsive:L,dispatchTouchEvents:U=!0}=t,q=w.useRef(null),$=Ft(),[z,O]=w.useState(null),[N,M]=w.useState(null),P=Nce(),I=qS(),D=I?.width>0?I.width:j,k=I?.height>0?I.height:i,ie=w.useCallback(re=>{P(re),typeof e=="function"&&e(re),O(re),M(re),re!=null&&(q.current=re)},[P,e,O,M]),ee=w.useCallback(re=>{$(tz(re)),$(Di({handler:s,reactEvent:re}))},[$,s]),W=w.useCallback(re=>{$(b_(re)),$(Di({handler:m,reactEvent:re}))},[$,m]),H=w.useCallback(re=>{$(D6()),$(Di({handler:p,reactEvent:re}))},[$,p]),te=w.useCallback(re=>{$(b_(re)),$(Di({handler:g,reactEvent:re}))},[$,g]),oe=w.useCallback(()=>{$(oz())},[$]),we=w.useCallback(re=>{$(sz(re.key))},[$]),V=w.useCallback(re=>{$(Di({handler:l,reactEvent:re}))},[$,l]),K=w.useCallback(re=>{$(Di({handler:u,reactEvent:re}))},[$,u]),G=w.useCallback(re=>{$(Di({handler:d,reactEvent:re}))},[$,d]),Y=w.useCallback(re=>{$(Di({handler:b,reactEvent:re}))},[$,b]),ce=w.useCallback(re=>{$(Di({handler:E,reactEvent:re}))},[$,E]),ye=w.useCallback(re=>{U&&$(cz(re)),$(Di({handler:S,reactEvent:re}))},[$,U,S]),he=w.useCallback(re=>{$(Di({handler:_,reactEvent:re}))},[$,_]),Pe=Lce(L);return w.createElement(nL.Provider,{value:z},w.createElement(u4.Provider,{value:N},w.createElement(Pe,{width:D??A?.width,height:k??A?.height,className:ft("recharts-wrapper",r),style:jce({position:"relative",cursor:"default",width:D,height:k},A),onClick:ee,onContextMenu:V,onDoubleClick:K,onFocus:oe,onKeyDown:we,onMouseDown:G,onMouseEnter:W,onMouseLeave:H,onMouseMove:te,onMouseUp:Y,onTouchEnd:he,onTouchMove:ye,onTouchStart:ce,ref:ie},w.createElement(Pce,null),n)))}),Vce=["width","height","responsive","children","className","style","compact","title","desc"];function Uce(t,e){if(t==null)return{};var n,r,i=$ce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mz=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:m,desc:p}=t,g=Uce(t,Vce),b=Lr(g);return d?w.createElement(w.Fragment,null,w.createElement(y0,{width:n,height:r}),w.createElement(Tk,{otherAttributes:b,title:m,desc:p},s)):w.createElement(zce,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(Tk,{otherAttributes:b,title:m,desc:p,ref:e},w.createElement(Vae,null,s)))});function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(null,arguments)}var Bce={top:5,right:5,bottom:5,left:5},qce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Bce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Fce=w.forwardRef(function(e,n){var r,i=pn(e.categoricalChartProps,qce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:m}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(dz,{preloadedState:{options:p},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:s},w.createElement(CL,{chartData:m.data}),w.createElement(fz,{layout:i.layout,margin:i.margin}),w.createElement(hz,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(mz,x_({},i,{ref:n})))});function Hce(t){var e=Ft();return w.useEffect(()=>{e(mce(t))},[e,t]),null}var Kce=["layout"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(null,arguments)}function Gce(t,e){if(t==null)return{};var n,r,i=Yce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wce={top:5,right:5,bottom:5,left:5},pz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Wce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Xce=w.forwardRef(function(e,n){var r,i=pn(e.categoricalChartProps,pz),{layout:s}=i,l=Gce(i,Kce),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(dz,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},w.createElement(CL,{chartData:i.data}),w.createElement(fz,{layout:s,margin:i.margin}),w.createElement(hz,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(Hce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(mz,w_({},l,{ref:n})))});function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qce(t,e,n){return(e=Jce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Zce(t,"string");return typeof e=="symbol"?e:e+""}function Zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eue=["item"],tue=Ck(Ck({},pz),{},{layout:"centric",startAngle:0,endAngle:360}),nue=w.forwardRef((t,e)=>{var n=pn(t,tue);return w.createElement(Xce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eue,tooltipPayloadSearcher:rL,categoricalChartProps:n,ref:e})}),rue=["axis"],AA=w.forwardRef((t,e)=>w.createElement(Fce,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rue,tooltipPayloadSearcher:rL,categoricalChartProps:t,ref:e}));const iue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ok=t=>{const e=aue(t);return e.charAt(0).toUpperCase()+e.slice(1)},gz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),sue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lue=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>w.createElement("svg",{ref:d,...oue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gz("lucide",i),...!s&&!sue(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,p])=>w.createElement(m,p)),...Array.isArray(s)?s:[s]]));const Ie=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(lue,{ref:s,iconNode:e,className:gz(`lucide-${iue(Ok(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Ok(t),n};const cue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nc=Ie("activity",cue);const uue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vz=Ie("arrow-left",uue);const due=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Z0=Ie("arrow-right",due);const fue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yz=Ie("award",fue);const hue=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TA=Ie("ban",hue);const mue=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pue=Ie("bell",mue);const gue=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vue=Ie("briefcase",gue);const yue=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],bue=Ie("bug",yue);const xue=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],wue=Ie("calculator",xue);const _ue=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Sue=Ie("calendar-off",_ue);const Eue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],to=Ie("calendar",Eue);const Aue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Y1=Ie("chevron-down",Aue);const Tue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],NA=Ie("chevron-left",Tue);const Nue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bz=Ie("chevron-right",Nue);const jue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yc=Ie("circle-alert",jue);const Cue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fs=Ie("circle-check-big",Cue);const Oue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Iue=Ie("circle-question-mark",Oue);const Pue=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Rue=Ie("clipboard-check",Pue);const kue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mue=Ie("clock",kue);const Due=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Iv=Ie("coffee",Due);const Lue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],__=Ie("credit-card",Lue);const zue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ph=Ie("crown",zue);const Vue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],cl=Ie("dollar-sign",Vue);const Uue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xz=Ie("download",Uue);const $ue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bue=Ie("file-exclamation-point",$ue);const que=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wz=Ie("file-text",que);const Fue=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Hue=Ie("flame",Fue);const Kue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Gue=Ie("frown",Kue);const Yue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_z=Ie("funnel",Yue);const Wue=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xue=Ie("key",Wue);const Que=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Jue=Ie("layers",Que);const Zue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ede=Ie("layout-dashboard",Zue);const tde=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],nde=Ie("layout-grid",tde);const rde=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ts=Ie("loader-circle",rde);const ide=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vf=Ie("lock",ide);const ade=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sz=Ie("log-out",ade);const sde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jA=Ie("map-pin",sde);const ode=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ez=Ie("map",ode);const lde=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],cde=Ie("medal",lde);const ude=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dde=Ie("menu",ude);const fde=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],hde=Ie("monitor",fde);const mde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Az=Ie("pen",mde);const pde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xp=Ie("plus",pde);const gde=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Ik=Ie("refresh-ccw",gde);const vde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yde=Ie("refresh-cw",vde);const bde=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tz=Ie("rotate-ccw",bde);const xde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ec=Ie("save",xde);const wde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CA=Ie("search",wde);const _de=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ey=Ie("settings",_de);const Sde=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ede=Ie("shopping-bag",Sde);const Ade=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Tde=Ie("smartphone",Ade);const Nde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gh=Ie("sparkles",Nde);const jde=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cde=Ie("square-check-big",jde);const Ode=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ide=Ie("square-pen",Ode);const Pde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pk=Ie("star",Pde);const Rde=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],$i=Ie("store",Rde);const kde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],am=Ie("target",kde);const Mde=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fg=Ie("trash-2",Mde);const Dde=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nz=Ie("trending-down",Dde);const Lde=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Yu=Ie("trending-up",Lde);const zde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Iu=Ie("triangle-alert",zde);const Vde=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ude=Ie("trophy",Vde);const $de=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jz=Ie("upload",$de);const Bde=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cz=Ie("user-check",Bde);const qde=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fde=Ie("user-cog",qde);const Hde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Oz=Ie("user-x",Hde);const Kde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ac=Ie("user",Kde);const Gde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sm=Ie("users",Gde);const Yde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aa=Ie("x",Yde);const Wde=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xde=Ie("zap",Wde),Uf=[{id:"cyj",label:"CYJ",pathType:"legacy"},{id:"anniu",label:"",pathType:"standard"},{id:"yibo",label:"",pathType:"standard"}],cr={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},bc=[{id:"dashboard",label:"",icon:ede},{id:"annual",label:"",icon:to},{id:"targets",label:"",icon:am},{id:"regional",label:"",icon:Ez},{id:"store-analysis",label:"",icon:$i},{id:"ranking",label:"",icon:Yu},{id:"audit",label:"",icon:Rue},{id:"history",label:"",icon:wz},{id:"input",label:"",icon:jz},{id:"logs",label:"",icon:nc},{id:"t-targets",label:"",icon:Fde},{id:"t-schedule",label:"",icon:Sue},{id:"settings",label:"",icon:ey}],Qde={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},hg={director:bc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},Jde=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},Iz=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},mr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},rc=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},dr=t=>t?Number(t.toString().replace(/,/g,"")):0,Zr=({children:t})=>f.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),jt=({title:t,subtitle:e,children:n,className:r=""})=>f.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&f.jsxs("div",{className:"mb-6",children:[t&&f.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&f.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),Zde=({message:t,type:e,onClose:n})=>{w.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return f.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?f.jsx(Fs,{size:20}):e==="error"?f.jsx(yc,{size:20}):f.jsx(pue,{size:20}),f.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},efe=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?f.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[f.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),f.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),f.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,yr=kk.createContext(null),tfe=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const{currentBrand:d}=w.useContext(yr),m=w.useMemo(()=>{let _="cyj",S="CYJ";d&&(_=typeof d=="string"?d:d.id||"cyj",_.includes("anniu")?(_="anniu",S=""):_.includes("yibo")?(_="yibo",S=""):(_="cyj",S="CYJ"));let E={gradient:"from-amber-400 to-orange-600",shadow:"shadow-orange-200",activeBg:"bg-amber-50",activeText:"text-amber-700",iconColor:"text-amber-600",indicator:"bg-amber-500",logoChar:"C",Icon:ph};return _==="anniu"?E={gradient:"from-rose-400 to-pink-600",shadow:"shadow-rose-200",activeBg:"bg-rose-50",activeText:"text-rose-700",iconColor:"text-rose-600",indicator:"bg-rose-500",logoChar:"A",Icon:Iv}:_==="yibo"&&(E={gradient:"from-yellow-400 to-yellow-600",shadow:"shadow-yellow-200",activeBg:"bg-yellow-50",activeText:"text-yellow-700",iconColor:"text-yellow-600",indicator:"bg-yellow-500",logoChar:"Y",Icon:gh}),{id:_,label:S,theme:E}},[d]),{theme:p,label:g}=m,b=w.useMemo(()=>{if(!i)return[];if(i==="director")return bc;const _=l[i]||[];return bc.filter(S=>_.includes(S.id))},[i,l]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),f.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[f.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[f.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${p.gradient} rounded-xl flex items-center justify-center shadow-lg ${p.shadow} mr-3 shrink-0 transition-all duration-500`,children:m.id==="cyj"?f.jsx("span",{className:"text-white font-bold text-lg",children:"C"}):f.jsx(p.Icon,{size:18,className:"text-white"})}),f.jsxs("span",{className:`font-extrabold text-lg text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:[g," "]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:b.map(_=>{const S=_.icon,E=t===_.id;return f.jsxs("button",{onClick:()=>{e(_.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${E?`${p.activeBg} ${p.activeText} shadow-sm`:"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":_.label,children:[f.jsx(S,{size:22,className:`shrink-0 transition-colors ${E?p.iconColor:"text-stone-400 group-hover:text-stone-600"}`}),f.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:_.label}),E&&f.jsx("div",{className:`absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 ${p.indicator} rounded-l-full`})]},_.id)})}),f.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[f.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:f.jsx(Ac,{size:20,className:"text-stone-400"})}),n&&f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),f.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:cr[i?.toUpperCase()]?.label||i})]})]}),f.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[f.jsx(Sz,{size:20}),n&&f.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},nfe=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const{currentBrand:s}=w.useContext(yr),l=w.useMemo(()=>{const d=s?.id||"cyj";return d.includes("anniu")?"bg-rose-600 text-white shadow-rose-200":d.includes("yibo")?"bg-yellow-500 text-white shadow-yellow-200":"bg-stone-800 text-white shadow-stone-200"},[s]),u=w.useMemo(()=>{if(!r)return[];if(r==="director")return bc;const d=n[r]||[];return bc.filter(m=>d.includes(m.id))},[r,n]);return f.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto no-scrollbar",children:f.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[u.map(d=>{const m=d.icon,p=t===d.id;return f.jsxs("button",{onClick:()=>e(d.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${p?`${l} shadow-md`:"bg-stone-100 text-stone-500"}`,children:[f.jsx(m,{size:14}),d.label]},d.id)}),f.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[f.jsx(Sz,{size:14}),""]})]})})},rfe={cyj:"16500",anniu:"8888",yibo:"9999"},ife=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:d,currentBrandId:m,onSwitchBrand:p,therapists:g=[]})=>{const[b,_]=w.useState(!0),[S,E]=w.useState("director"),[A,j]=w.useState(""),[L,U]=w.useState(""),[q,$]=w.useState(""),[z,O]=w.useState(!1),[N,M]=w.useState(!1),[P,I]=w.useState(""),[D,k]=w.useState(""),[ie,ee]=w.useState(""),[W,H]=w.useState(""),[te,oe]=w.useState(""),[we,V]=w.useState(""),K=w.useMemo(()=>Uf.find(J=>J.id===m)||Uf[0],[m]),G=w.useMemo(()=>{switch(m){case"anniu":return{text:"text-rose-900",accent:"bg-rose-600 hover:bg-rose-700",border:"focus:border-rose-400",ring:"focus:ring-rose-100"};case"yibo":return{text:"text-yellow-900",accent:"bg-yellow-500 hover:bg-yellow-600",border:"focus:border-yellow-400",ring:"focus:ring-yellow-100"};default:return{text:"text-stone-800",accent:"bg-stone-800 hover:bg-stone-900",border:"focus:border-stone-400",ring:"focus:ring-stone-100"}}},[m]),Y=J=>{p&&p(J),setTimeout(()=>{_(!1)},150)};w.useEffect(()=>{ee(""),H(""),oe("")},[S,m]);const ce=w.useMemo(()=>ie?n[ie]||[]:[],[ie,n]),ye=w.useMemo(()=>W?g.filter(J=>J.store===W):[],[W,g]),he=async()=>{$(""),O(!0),await new Promise(J=>setTimeout(J,600));try{if(S==="director"){const J=rfe[m]||"0000";A===J?t("director",{name:`${K.label}`}):$("")}else if(S==="trainer"){const J=u?.password||"0000";A===J?t("trainer",{name:""}):$("")}else if(S==="manager"){if(!L){$(""),O(!1);return}const J=r[L]||"0000";A===J?t("manager",{name:L}):$("")}else if(S==="store"){if(!L){$(""),O(!1);return}const J=e.find(Ve=>Ve.id===L);J&&J.password===A?t("store",{name:J.name,storeName:J.stores?.[0]||J.storeName,stores:J.stores}):$("")}}catch{$("")}finally{O(!1)}},Pe=async()=>{$(""),O(!0),await new Promise(J=>setTimeout(J,600));try{if(!te){$(""),O(!1);return}const J=g.find(Ve=>Ve.id===te);J&&J.password===we?t("therapist",J):$(" ( 0000)")}catch{$("")}finally{O(!1)}},re=async()=>{if($(""),!D||!P){$("");return}O(!0);let J=!1;if(S==="store"&&L){const ze=e.find(Ge=>Ge.id===L);ze&&ze.password===P&&(J=!0)}else if(S==="manager"&&L)(r[L]||"0000")===P&&(J=!0);else if(S==="therapist"&&te){const ze=g.find(Ge=>Ge.id===te);ze&&ze.password===P&&(J=!0)}else S==="trainer"&&(u?.password||"0000")===P&&(J=!0);if(!J){$(""),O(!1);return}let Ve=!1;S==="store"&&L?Ve=await i(L,D):S==="manager"&&L?Ve=await s(L,D):S==="therapist"&&te?Ve=await l(te,D):S==="trainer"&&(Ve=await d(D)),Ve?(alert(""),M(!1),k(""),I(""),j(""),V("")):$(""),O(!1)},Se=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 transition-all focus:border-stone-400 focus:ring-2 ${G.ring}`,Ae=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 appearance-none transition-all focus:border-stone-400 focus:ring-2 ${G.ring} disabled:bg-stone-50 disabled:text-stone-400`;return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-stone-50 p-4 font-sans text-stone-800",children:[f.jsxs("div",{className:`w-full max-w-md bg-white p-8 rounded-2xl shadow-sm border border-stone-200 transition-all duration-500 transform 
          ${b?"opacity-0 scale-95 pointer-events-none absolute":"opacity-100 scale-100 relative"}
        `,children:[f.jsxs("button",{onClick:()=>_(!0),className:"absolute top-6 left-6 text-stone-400 hover:text-stone-600 transition-colors flex items-center gap-1 text-sm font-medium",children:[f.jsx(NA,{size:16})," "]}),f.jsxs("div",{className:"text-center mb-10 mt-2",children:[f.jsx("div",{className:"flex justify-center mb-4",children:m==="yibo"?f.jsx(gh,{size:40,className:G.text,strokeWidth:1.5}):m==="anniu"?f.jsx(Iv,{size:40,className:G.text,strokeWidth:1.5}):f.jsx(ph,{size:40,className:G.text,strokeWidth:1.5})}),f.jsxs("h1",{className:`text-2xl font-bold tracking-tight ${G.text}`,children:[K.label," "]}),f.jsx("p",{className:"text-stone-400 text-sm mt-1",children:""})]}),f.jsx("div",{className:"flex justify-center mb-8 border-b border-stone-100 pb-1",children:Object.entries(cr).map(([J,Ve])=>f.jsxs("button",{onClick:()=>{E(Ve.id),$(""),j(""),U(""),M(!1),ee(""),H(""),oe(""),V("")},className:`px-4 py-2 text-sm font-medium transition-all relative ${S===Ve.id?"text-stone-800":"text-stone-400 hover:text-stone-600"}`,children:[Ve.label,S===Ve.id&&f.jsx("span",{className:"absolute bottom-[-5px] left-0 w-full h-[2px] bg-stone-800 rounded-full"})]},J))}),f.jsx("div",{className:"space-y-4",children:S==="therapist"?f.jsxs(f.Fragment,{children:[N?f.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[f.jsx("input",{type:"password",value:P,onChange:J=>I(J.target.value),placeholder:"",className:Se}),f.jsx("input",{type:"text",value:D,onChange:J=>k(J.target.value),placeholder:"",className:Se})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(jA,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:ie,onChange:J=>{ee(J.target.value),H(""),oe("")},className:`${Ae} pl-12`,children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(J=>f.jsxs("option",{value:J,children:[J,""]},J))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx($i,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:W,onChange:J=>{H(J.target.value),oe("")},disabled:!ie,className:`${Ae} pl-12`,children:[f.jsx("option",{value:"",children:""}),ce.map(J=>f.jsx("option",{value:J,children:J},J))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Cz,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:te,onChange:J=>oe(J.target.value),disabled:!W,className:`${Ae} pl-12`,children:[f.jsx("option",{value:"",children:""}),ye.map(J=>f.jsx("option",{value:J.id,children:J.name},J.id))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Vf,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsx("input",{type:"password",value:we,onChange:J=>V(J.target.value),placeholder:"",className:`${Se} pl-12`,onKeyDown:J=>J.key==="Enter"&&Pe()})]})]}),q&&f.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[f.jsx(yc,{size:14})," ",q]}),N?f.jsx("button",{onClick:re,disabled:z,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:z?f.jsx(Ts,{className:"animate-spin mx-auto"}):""}):f.jsx("button",{onClick:Pe,disabled:z||!te||!we,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${G.accent}`,children:z?f.jsx(Ts,{className:"animate-spin mx-auto"}):""}),te&&f.jsx("button",{onClick:()=>{M(!N),$("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:N?"":"?"})]}):f.jsxs(f.Fragment,{children:[S==="manager"&&f.jsx("div",{className:"relative",children:f.jsxs("select",{value:L,onChange:J=>U(J.target.value),className:Ae,children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(J=>f.jsx("option",{value:J,children:J},J))]})}),S==="store"&&f.jsx("div",{className:"relative",children:f.jsxs("select",{value:L,onChange:J=>U(J.target.value),className:Ae,children:[f.jsx("option",{value:"",children:""}),e.map(J=>f.jsx("option",{value:J.id,children:J.name},J.id))]})}),N?f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"password",value:P,onChange:J=>I(J.target.value),placeholder:"",className:Se}),f.jsx("input",{type:"text",value:D,onChange:J=>k(J.target.value),placeholder:"",className:Se})]}):f.jsx("input",{type:"password",value:A,onChange:J=>j(J.target.value),placeholder:"",className:Se,onKeyDown:J=>J.key==="Enter"&&he()}),q&&f.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[f.jsx(yc,{size:14})," ",q]}),N?f.jsx("button",{onClick:re,disabled:z,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:z?f.jsx(Ts,{className:"animate-spin mx-auto"}):""}):f.jsx("button",{onClick:he,disabled:z,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${G.accent}`,children:z?f.jsx(Ts,{className:"animate-spin mx-auto"}):""}),(S==="store"||S==="manager"||S==="trainer")&&f.jsx("button",{onClick:()=>{M(!N),$("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:N?"":"?"})]})})]}),b&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-sm animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-lg p-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2 tracking-tight",children:""}),f.jsx("p",{className:"text-stone-400",children:""})]}),f.jsx("div",{className:"space-y-4",children:Uf.map(J=>{let Ve=ph,ze="hover:border-stone-400 hover:bg-stone-50";J.id==="anniu"?(Ve=Iv,ze="hover:border-rose-200 hover:bg-rose-50 hover:text-rose-900"):J.id==="yibo"?(Ve=gh,ze="hover:border-yellow-200 hover:bg-yellow-50 hover:text-yellow-900"):ze="hover:border-stone-400 hover:bg-stone-50 hover:text-stone-900";const Ge=Ve;return f.jsxs("button",{onClick:()=>Y(J.id),className:`w-full flex items-center justify-between p-6 rounded-xl border border-stone-200 bg-white transition-all duration-200 group ${ze}`,children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx(Ge,{size:24,strokeWidth:1.5,className:"text-stone-400 group-hover:text-current transition-colors"}),f.jsx("div",{className:"text-left",children:f.jsx("h3",{className:"text-lg font-bold text-stone-700 group-hover:text-current transition-colors",children:J.label})})]}),f.jsx(Z0,{size:20,className:"text-stone-300 group-hover:text-current transition-colors opacity-0 group-hover:opacity-100 transform group-hover:translate-x-1 duration-300"})]},J.id)})}),f.jsx("div",{className:"mt-12 text-center",children:f.jsx("p",{className:"text-[10px] text-stone-300 font-medium tracking-widest uppercase",children:"DRCYJ Cloud System"})})]})})]})},afe=()=>{const{fmtMoney:t,fmtNum:e,targets:n,userRole:r,currentUser:i,budgets:s,managers:l,selectedYear:u,selectedMonth:d,currentBrand:m}=w.useContext(yr),[p,g]=w.useState(r==="therapist"||r==="trainer"?"therapist":"store"),[b,_]=w.useState(null),[S,E]=w.useState(!0),{brandInfo:A,brandPrefix:j}=w.useMemo(()=>{let H="CYJ",te="CYJ";m&&(typeof m=="string"?H=m:typeof m=="object"&&(H=m.id||"CYJ",te=m.name||m.label||H));const oe=H.toLowerCase();return oe.includes("anniu")||oe.includes("anew")?te="":oe.includes("yibo")?te="":te="CYJ",{brandInfo:{id:H,name:te},brandPrefix:te}},[m]),L=w.useMemo(()=>H=>H?H.replace(new RegExp(`^(${j}|CYJ|Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",[j]),U=w.useMemo(()=>r==="director"?Object.values(l).flat():r==="manager"&&i?l[i.name]||[]:r==="store"&&i?(i.stores||[i.storeName]).map(te=>L(te)).filter(te=>te):[],[r,i,l,L]);w.useEffect(()=>{if(!m||!u||!d)return;E(!0);const te=`${(typeof m=="string"?m:m.id).toLowerCase()}_${u}_${d}`,oe=Rr(Jn(Ss,"brand_monthly_stats",te),we=>{we.exists()?_(we.data()):_(null),E(!1)},we=>{console.error("Stats listen error:",we),E(!1)});return()=>oe()},[m,u,d]);const q=w.useMemo(()=>{if(S)return null;const H={cash:0,accrual:0,skincareSales:0,traffic:0,newCustomers:0,newCustomerClosings:0,budget:0,accrualBudget:0},te=parseInt(u),oe=parseInt(d),we=new Date(te,oe,0).getDate(),V=new Date;let K=we;V.getFullYear()===te&&V.getMonth()+1===oe?K=V.getDate():V<new Date(te,oe-1,1)&&(K=0),b&&b.stores&&(U.forEach(Se=>{const Ae=Object.keys(b.stores).find(J=>J.includes(Se));if(Ae&&b.stores[Ae]){const J=b.stores[Ae];H.cash+=J.cash||0,H.accrual+=J.accrual||0,H.traffic+=J.traffic||0}}),r==="director"&&(H.cash=b.totalCash||0,H.accrual=b.totalAccrual||0,H.traffic=b.totalTraffic||0,H.skincareSales=b.totalSkincare||0,H.newCustomers=b.totalNewCustomers||0,H.newCustomerClosings=b.totalNewCustomerClosings||0)),U.forEach(Se=>{const J=`${`${j}${Se}`}_${te}_${oe}`,Ve=s[J];Ve&&(H.budget+=Number(Ve.cashTarget)||0,H.accrualBudget+=Number(Ve.accrualTarget)||0)});const G=b?.daily||{},ce=Array.from({length:we},(Se,Ae)=>{const J=Ae+1,Ve=G[J]||{};return{date:`${d}/${J}`,cash:r==="director"&&Ve.cash||0,traffic:r==="director"&&Ve.traffic||0}}).slice(0,K===0?we:K),ye=H.budget>0?H.cash/H.budget*100:0,he=H.traffic>0?Math.round(H.accrual/H.traffic):0,Pe=H.newCustomers>0?Math.round(H.cash/H.newCustomers):0,re=K>0?Math.round(H.cash/K*we):0;return{grandTotal:{...H,projection:re},dailyTotals:ce,totalAchievement:ye,avgTrafficASP:he,avgNewCustomerASP:Pe,daysPassed:K,daysInMonth:we}},[b,S,s,u,d,U,j,r]),$=w.useMemo(()=>{if(r!=="store"&&r!=="manager"||!b?.stores)return[];const H=parseInt(u),te=parseInt(d),oe=Object.entries(b.stores).map(([V,K])=>{let G=V.replace(/_/g,".");const Y=`${G}_${H}_${te}`;let ce=s[Y];if(!ce){const re=L(G),Se=`${j}${re}_${H}_${te}`;ce=s[Se],ce&&(G=`${j}${re}`)}const ye=ce?Number(ce.cashTarget||0):0,he=K.cash||0,Pe=ye>0?he/ye*100:0;return{storeName:G,actual:he,target:ye,rate:Pe}});return oe.sort((V,K)=>K.rate-V.rate),oe.map((V,K)=>({...V,rank:K+1,totalStores:oe.length,isBottom5:K+1>oe.length-5})).filter(V=>{const K=L(V.storeName);return U.includes(K)})},[r,b,U,s,u,d,L,j]),z=w.useMemo(()=>{if(!b||!b.therapists)return{rankings:[],myStats:null,grandTotal:{}};const H=Object.entries(b.therapists).map(([V,K])=>{const G=K.totalRevenue||1,Y=Math.round(K.newCustomerRevenue/G*100),ce=Math.round(K.oldCustomerRevenue/G*100),ye=K.newCustomerCount||1,he=K.newCustomerClosings/ye*100,Pe=K.serviceCount-K.newCustomerCount||1,re=K.newCustomerRevenue/ye,Se=K.oldCustomerRevenue/Pe;return{id:V,name:K.name,store:K.store,...K,revenueMix:`${Y}% / ${ce}%`,newClosingRate:he,newAsp:re,oldAsp:Se}}).sort((V,K)=>K.totalRevenue-V.totalRevenue),te=H.length;H.forEach((V,K)=>{V.rank=K+1,V.totalPeers=te,V.rank<=3?V.status="TOP":V.rank>te-10?V.status="DANGER":V.status="NORMAL",V.gapToNext=K>0?H[K-1].totalRevenue-V.totalRevenue:0});let oe=null;r==="therapist"&&i&&(oe=H.find(V=>V.id===i.id));const we=H.reduce((V,K)=>({totalRevenue:V.totalRevenue+K.totalRevenue,serviceCount:V.serviceCount+K.serviceCount,newCustomerRevenue:V.newCustomerRevenue+K.newCustomerRevenue,oldCustomerRevenue:V.oldCustomerRevenue+K.oldCustomerRevenue,returnRevenue:V.returnRevenue+(K.returnRevenue||0),count:V.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,returnRevenue:0,count:0});return{rankings:H,myStats:oe,grandTotal:we}},[b,r,i]),O=()=>{const H=z.rankings.filter(ce=>r!=="therapist"||ce.id===i?.id),te=[",,,,,,,,,"],oe=H.map(ce=>[ce.rank,ce.name,ce.store,ce.totalRevenue,ce.newCustomerRevenue,ce.oldCustomerRevenue,`"${ce.revenueMix}"`,`${ce.newClosingRate.toFixed(0)}%`,Math.round(ce.newAsp),Math.round(ce.oldAsp)].join(",")),we="\uFEFF"+[te,...oe].join(`
`),V=new Blob([we],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),G=URL.createObjectURL(V),Y=new Date().toISOString().split("T")[0];K.setAttribute("href",G),K.setAttribute("download",`${A.name}__${Y}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)},N=H=>{if(!H)return{title:"...",sub:"Data Loading..."};const{rank:te,totalPeers:oe,status:we,gapToNext:V}=H,K=oe-te;return we==="TOP"?{title:te===1?"":"",sub:"",icon:ph}:we==="DANGER"?{title:` ${K} `,sub:` ${t(V)}`,icon:Iu}:{title:` ${K} `,sub:` ${t(V)} `,icon:Xde}};if(S)return f.jsxs("div",{className:"flex h-96 items-center justify-center",children:[f.jsx(Ts,{className:"h-10 w-10 animate-spin text-stone-300"}),f.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});if(!q)return f.jsx("div",{className:"flex h-96 items-center justify-center",children:f.jsx("span",{className:"text-stone-400 font-bold",children:""})});const{grandTotal:M,dailyTotals:P,totalAchievement:I,daysPassed:D,daysInMonth:k}=q,ie=k>0?D/k*100:0,ee=I-ie,W=({title:H,value:te,subText:oe,icon:we,color:V})=>f.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden h-full",children:[f.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${V}`,children:f.jsx(we,{size:64})}),f.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:H}),f.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:te})]}),oe&&f.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:oe})]})]});return f.jsx(Zr,{children:f.jsxs("div",{className:"space-y-8 pb-10 w-full min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2 animate-in fade-in slide-in-from-left-2 duration-500",children:[f.jsx("div",{className:`w-2 h-8 rounded-full ${A.id.toLowerCase().includes("anniu")?"bg-teal-500":A.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),f.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[A.name," "]})]}),r!=="therapist"&&r!=="trainer"&&f.jsx("div",{className:"flex justify-center mb-4",children:f.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[f.jsxs("button",{onClick:()=>g("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${p==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx($i,{size:16})," "]}),f.jsxs("button",{onClick:()=>g("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${p==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(Ac,{size:16})," "]})]})}),p==="store"&&f.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r==="store"&&$.length>0&&f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:$.map(H=>f.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${H.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:H.isBottom5?f.jsx(Iu,{size:120}):f.jsx(Ude,{size:120})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:H.isBottom5?f.jsx(nc,{size:20,className:"text-white"}):f.jsx(cde,{size:20,className:"text-yellow-100"})}),f.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:H.storeName}),H.isBottom5&&f.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),f.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",H.rank]}),f.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",H.totalStores]})]})]}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),f.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[H.rate.toFixed(0),"%"]})]})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[f.jsxs("span",{children:[": ",t(H.actual)]}),f.jsxs("span",{children:[": ",t(H.target)]})]})]})]},H.storeName))}),r==="manager"&&$.length>0&&f.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[f.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:f.jsx(Ez,{size:100})}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:f.jsx(ph,{size:24,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),f.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),f.jsxs("div",{className:"relative z-10 text-right",children:[f.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),f.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:$.length})]})]}),f.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[f.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),f.jsx("th",{className:"p-3 sm:p-4",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),f.jsx("tbody",{children:$.map((H,te)=>f.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${H.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[f.jsx("td",{className:"p-3 sm:p-4 text-center",children:f.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${te===0?"bg-amber-100 text-amber-700":te===1?"bg-stone-200 text-stone-600":te===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:H.rank})}),f.jsx("td",{className:"p-3 sm:p-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[f.jsx("span",{className:`font-bold text-sm sm:text-base ${H.isBottom5?"text-rose-700":"text-stone-700"}`,children:H.storeName}),H.isBottom5&&f.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[f.jsx(Iu,{size:10})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),f.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:t(H.actual)}),f.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:t(H.target)}),f.jsx("td",{className:"p-3 sm:p-4 text-right",children:f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${H.isBottom5?"text-rose-600":H.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[H.rate.toFixed(0),"%"]}),f.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${H.isBottom5?"bg-rose-500":H.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(H.rate,100)}%`}})})]})})]},H.storeName))})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:f.jsx(nc,{size:16,className:"text-indigo-500"})}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),f.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",D," ",f.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",k]})]})]}),f.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${ee>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[f.jsx("span",{className:"text-sm font-bold",children:ee>=0?"":""}),f.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs(ee).toFixed(0),"%"]})]})]}),f.jsxs("div",{className:"space-y-6 relative z-10",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:I>=ie?"text-emerald-500":"text-rose-500",children:[I.toFixed(0),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${I>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":I>=ie?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(I,100)}%`}})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[f.jsx("span",{className:"text-stone-400",children:" ()"}),f.jsxs("span",{className:"text-stone-400",children:[ie.toFixed(0),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(ie,100)}%`}})})]})]})]}),f.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[f.jsx(am,{size:14})," "]}),f.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:t(M.projection)}),f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:[M.budget>0?(M.projection/M.budget*100).toFixed(0):0,"%"]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:f.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"font-mono font-bold text-stone-500",children:t(M.budget)})]})})]})})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[f.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(W,{title:"",value:t(M.cash),icon:cl,color:"text-amber-500",subText:f.jsxs("span",{className:`font-bold ${I>=100?"text-emerald-600":"text-amber-600"}`,children:[I.toFixed(0),"% "]})}),f.jsx(W,{title:"",value:t(M.accrual),icon:__,color:"text-cyan-500",subText:""}),f.jsx(W,{title:"",value:t(M.skincareSales),icon:Ede,color:"text-rose-500",subText:f.jsxs(f.Fragment,{children:[" ",f.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[M.accrual>0?(M.skincareSales/M.accrual*100).toFixed(0):0,"%"]})]})})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[f.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[f.jsx(W,{title:"",value:e(M.traffic),icon:sm,color:"text-blue-500",subText:""}),f.jsx(W,{title:"",value:t(q.avgTrafficASP),icon:Yu,color:"text-indigo-500",subText:f.jsxs("span",{className:q.avgTrafficASP>=n.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[q.avgTrafficASP>=n.trafficASP?"":""," ( ",e(n.trafficASP),")"]})}),f.jsx(W,{title:"",value:e(M.newCustomers),icon:gh,color:"text-purple-500",subText:""}),f.jsx(W,{title:"",value:e(M.newCustomerClosings),icon:Cde,color:"text-teal-500",subText:f.jsxs("span",{children:[" ",f.jsxs("span",{className:"font-bold",children:[M.newCustomers>0?(M.newCustomerClosings/M.newCustomers*100).toFixed(0):0,"%"]})]})}),f.jsx(W,{title:"",value:t(q.avgNewCustomerASP),icon:yz,color:"text-fuchsia-500",subText:f.jsxs("span",{className:q.avgNewCustomerASP>=n.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[q.avgNewCustomerASP>=n.newASP?"":""," ( ",e(n.newASP),")"]})})]})]}),f.jsx(jt,{title:`${A.name} `,subtitle:" vs ",children:f.jsx("div",{className:"h-[300px] w-full",children:f.jsx(g0,{width:"100%",height:"100%",children:f.jsxs(AA,{data:P,margin:{top:10,right:10,left:0,bottom:0},children:[f.jsx(X0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),f.jsx(J0,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),f.jsx(Gu,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:H=>H===0?"0":`$${(H/1e3).toFixed(0)}k`}),f.jsx(Gu,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:H=>e(H)}),f.jsx($0,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(H,te)=>te===""?[t(H),te]:[e(H),te]}),f.jsx(xA,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),f.jsx(Ku,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),p==="therapist"&&f.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 w-full min-w-0",children:[z.myStats&&(()=>{const H=N(z.myStats),te=z.myStats.status;let oe="bg-gradient-to-br from-indigo-600 to-purple-700",we="shadow-indigo-200";return te==="TOP"?(oe="bg-gradient-to-br from-amber-400 to-orange-500",we="shadow-amber-200"):te==="DANGER"&&(oe="bg-gradient-to-br from-rose-600 to-red-700",we="shadow-rose-200"),f.jsxs("div",{className:`${oe} rounded-3xl p-6 text-white shadow-xl ${we} relative overflow-hidden transition-all duration-500`,children:[" ",f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(H.icon,{size:140})})," ",f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[" ",f.jsxs("div",{children:[" ",f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-1",children:[te==="DANGER"&&f.jsx(Hue,{size:12,className:"animate-pulse"}),"No.",z.myStats.rank]}),f.jsxs("span",{className:"text-white/80 font-bold tracking-wider text-sm",children:[z.myStats.store,""]})]}),f.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:z.myStats.name}),f.jsxs("div",{className:"mt-2 p-3 bg-black/10 rounded-xl backdrop-blur-md border border-white/10 max-w-md",children:[f.jsxs("p",{className:"font-bold text-sm flex items-center gap-2",children:[te==="DANGER"&&f.jsx(Gue,{size:16}),H.title]}),f.jsx("p",{className:"text-xs text-white/70 mt-1",children:H.sub})]})," "]})," ",f.jsxs("div",{className:"flex gap-6 text-right",children:[" ",f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-bold",children:t(z.myStats.totalRevenue)})]})," ",f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),f.jsxs("p",{className:"text-3xl font-mono font-bold",children:[z.myStats.newClosingRate.toFixed(0),"%"]})]})," "]})," "]})," "]})})(),r!=="therapist"&&f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:[" ",f.jsx(W,{title:"",value:t(z.grandTotal.totalRevenue),icon:cl,color:"text-indigo-500",subText:`${z.grandTotal.count} `})," ",f.jsx(W,{title:"",value:t(z.grandTotal.newCustomerRevenue),icon:gh,color:"text-amber-500"})," ",f.jsx(W,{title:"",value:t(z.grandTotal.oldCustomerRevenue),icon:Yu,color:"text-cyan-500"})," ",f.jsx(W,{title:"",value:`${Math.round(z.grandTotal.newCustomerRevenue/(z.grandTotal.totalRevenue||1)*100)}% / ${Math.round(z.grandTotal.oldCustomerRevenue/(z.grandTotal.totalRevenue||1)*100)}%`,icon:nc,color:"text-fuchsia-500",subText:" / "})," ",f.jsx(W,{title:"",value:t(z.grandTotal.returnRevenue),icon:Bue,color:"text-rose-500"})," "]}),f.jsx(jt,{title:"",subtitle:" ()",children:f.jsxs("div",{className:"grid grid-cols-1 w-full",children:[f.jsx("div",{className:"flex justify-end mb-4",children:f.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[f.jsx(xz,{size:16}),"  CSV"]})}),f.jsx("div",{className:"overflow-x-auto w-full pb-2",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px] whitespace-nowrap",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100 bg-stone-50/50",children:[f.jsx("th",{className:"p-3 md:p-4 w-16 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4",children:""}),f.jsx("th",{className:"p-3 md:p-4",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""})]})}),f.jsxs("tbody",{className:"text-sm",children:[z.rankings.filter(H=>r!=="therapist"||H.id===i?.id).map((H,te)=>f.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${i?.id===H.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[f.jsx("td",{className:"p-3 md:p-4 text-center",children:f.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${H.rank<=3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":H.status==="DANGER"?"bg-rose-100 text-rose-700 ring-4 ring-rose-50":"bg-stone-100 text-stone-500"}`,children:H.rank})}),f.jsxs("td",{className:"p-3 md:p-4 font-bold text-stone-700 flex items-center gap-2",children:[H.name,i?.id===H.id&&f.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"}),H.status==="DANGER"&&f.jsx("span",{className:"text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold",children:""})]}),f.jsxs("td",{className:"p-3 md:p-4 text-stone-500",children:[H.store,""]}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-indigo-600",children:t(H.totalRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(H.newCustomerRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(H.oldCustomerRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-center font-mono text-xs text-stone-400",children:H.revenueMix}),f.jsxs("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-stone-700",children:[H.newClosingRate.toFixed(0),"%"]}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(H.newAsp))}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(H.oldAsp))})]},H.id))," ",z.rankings.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:10,className:"p-8 text-center text-stone-400",children:""})})]})]})}),f.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[f.jsx(vz,{size:12}),"  ",f.jsx(Z0,{size:12})]})]})})]})]})})},Rk=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},sfe=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=w.useState(()=>Rk(t));w.useEffect(()=>{t&&l(Rk(t))},[t]);const u=s.getFullYear(),d=s.getMonth(),m=new Date(u,d+1,0).getDate(),p=new Date(u,d,1).getDay(),g=E=>{const A=new Date(u,d,E),j=new Date;if(j.setHours(0,0,0,0),A>j)return"none";const L=`${u}-${String(d+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`,U=r.filter($=>$.date?$.date.replace(/\//g,"-")===L:!1);return!n||Array.isArray(n)&&n.length===0?"none":n.every($=>{const z=Array.isArray($.stores)?$.stores.map(N=>typeof N=="string"?N:N.name):[];return z.length===0?!0:U.some(N=>z.includes(N.storeName))})?"complete":"incomplete"},b=()=>{l(new Date(u,d-1,1))},_=()=>{l(new Date(u,d+1,1))},S=E=>{const A=`${u}-${String(d+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`;e(A),i&&i()};return f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("button",{onClick:b,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:f.jsx(NA,{size:20})}),f.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",d+1,""]}),f.jsx("button",{onClick:_,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:f.jsx(bz,{size:20})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(E=>f.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:E},E))}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((E,A)=>f.jsx("div",{},`empty-${A}`)),Array.from({length:m}).map((E,A)=>{const j=A+1,U=`${u}-${String(d+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`===t,q=g(j);return f.jsxs("button",{onClick:()=>S(j),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${U?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[j,!U&&q!=="none"&&f.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${q==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},j)})]}),i&&f.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},Pz=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=w.useState(!1),l=w.useRef(null);return w.useEffect(()=>{const u=d=>{window.innerWidth>=768&&l.current&&!l.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),f.jsxs("div",{className:"relative w-full",ref:l,children:[" ",f.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[f.jsx("span",{className:"text-lg",children:t}),f.jsx(to,{size:18,className:"text-stone-400 ml-auto"})]}),i&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),f.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:f.jsx(sfe,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},ofe=(t,e)=>{const n=new Date(e),r=n.getFullYear(),i=n.getMonth()+1;return{docId:`${(typeof t=="string"?t:t?.id||"unknown").toLowerCase()}_${r}_${i}`,year:r,month:i,day:n.getDate()}},lfe=async(t,e,n=null)=>{if(!t||!e)return;const{docId:r,day:i}=ofe(t,e.date),s=Jn(Ss,"brand_monthly_stats",r),l=E=>{const A=Number(e[E])||0,j=n&&Number(n[E])||0;return A-j},u=l("cash")-l("refund"),d=l("accrual"),m=l("traffic"),p=l("newCustomers"),g=l("newCustomerClosings"),b=l("skincareSales");let _=(e.storeName||"unknown").replace(/\./g,"_");const S={year:new Date(e.date).getFullYear(),month:new Date(e.date).getMonth()+1,updatedAt:fl(),totalCash:ta(u),totalAccrual:ta(d),totalTraffic:ta(m),totalNewCustomers:ta(p),totalNewCustomerClosings:ta(g),totalSkincare:ta(b),[`stores.${_}.cash`]:ta(u),[`stores.${_}.accrual`]:ta(d),[`stores.${_}.traffic`]:ta(m),[`daily.${i}.cash`]:ta(u),[`daily.${i}.traffic`]:ta(m)};try{await xn(s,S,{merge:!0}),console.log(`[StatsHelper] Updated STORE stats for ${r}`)}catch(E){console.error("[StatsHelper] Failed to update stats:",E)}},cfe=async(t,e,n,r,i=[])=>{const l=`${(typeof t=="string"?t:t?.id||"unknown").toLowerCase()}_${e}_${n}`,u=Jn(Ss,"brand_monthly_stats",l),d={year:e,month:n,updatedAt:fl(),totalCash:0,totalAccrual:0,totalTraffic:0,totalNewCustomers:0,totalNewCustomerClosings:0,totalSkincare:0,stores:{},daily:{},therapists:{}};return console.log(`[StatsHelper] Recalculating for ${l}... Stores: ${r.length}, Therapists: ${i.length}`),r.forEach(m=>{const p=new Date(m.date);if(p.getFullYear()!==e||p.getMonth()+1!==n)return;const g=(Number(m.cash)||0)-(Number(m.refund)||0),b=Number(m.traffic)||0,_=p.getDate(),S=(m.storeName||"unknown").replace(/\./g,"_");d.totalCash+=g,d.totalAccrual+=Number(m.accrual)||0,d.totalTraffic+=b,d.totalNewCustomers+=Number(m.newCustomers)||0,d.totalNewCustomerClosings+=Number(m.newCustomerClosings)||0,d.totalSkincare+=Number(m.skincareSales)||0,d.stores[S]||(d.stores[S]={cash:0,accrual:0,traffic:0}),d.stores[S].cash+=g,d.stores[S].accrual+=Number(m.accrual)||0,d.stores[S].traffic+=b,d.daily[_]||(d.daily[_]={cash:0,traffic:0}),d.daily[_].cash+=g,d.daily[_].traffic+=b}),i&&Array.isArray(i)&&i.forEach(m=>{const p=new Date(m.date);if(p.getFullYear()!==e||p.getMonth()+1!==n)return;const g=m.therapistId;d.therapists[g]||(d.therapists[g]={name:m.therapistName,store:m.storeName,totalRevenue:0,newCustomerRevenue:0,oldCustomerRevenue:0,serviceCount:0,newCustomerCount:0,newCustomerClosings:0});const b=d.therapists[g];b.totalRevenue+=Number(m.totalRevenue)||0,b.newCustomerRevenue+=Number(m.newCustomerRevenue)||0,b.oldCustomerRevenue+=Number(m.oldCustomerRevenue)||0,b.serviceCount+=Number(m.serviceCount)||0,b.newCustomerCount+=Number(m.newCustomerCount)||0,b.newCustomerClosings+=Number(m.newCustomerClosings)||0}),await xn(u,d),console.log(`[StatsHelper] Recalculation complete for ${l}`),d},Pu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},ufe=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u,getCollectionPath:d,currentBrand:m}=w.useContext(yr),[p,g]=w.useState(""),[b,_]=w.useState(""),S={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[E,A]=w.useState(S),[j,L]=w.useState(!1),[U,q]=w.useState(!1),[$,z]=w.useState(!1),[O,N]=w.useState(null),[M,P]=w.useState(null),I={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},D=Pu(),k=w.useMemo(()=>{if(!m)return"CYJ";const V=typeof m=="string"?m:m.id,K=typeof m=="string"?m:m.label||m.name;return V==="cyj"?"CYJ":K},[m]);w.useEffect(()=>{A(S),_(""),g("")},[m]),w.useEffect(()=>{const V=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const K=Pu(),G=Object.values(E).every(Y=>Y==="");r!==K&&G&&(console.log(`[] : ${r} -> ${K}`),i(K))}};return document.addEventListener("visibilitychange",V),window.addEventListener("focus",V),()=>{document.removeEventListener("visibilitychange",V),window.removeEventListener("focus",V)}},[r,E,i]),w.useEffect(()=>{const V=typeof m=="string"?m:m?.id||"unknown",K=localStorage.getItem(`input_draft_${V}`);if(K)try{const G=JSON.parse(K);G.formData&&A(G.formData),G.store&&_(G.store),G.manager&&g(G.manager);const Y=G.date;Y===Pu()&&i(Y)}catch(G){console.error(G)}},[m]),w.useEffect(()=>{const V=typeof m=="string"?m:m?.id||"unknown",K={formData:E,store:b,manager:p,date:r,timestamp:Date.now()};localStorage.setItem(`input_draft_${V}`,JSON.stringify(K))},[E,b,p,r,m]),w.useEffect(()=>{const V=dr(E.operationalAccrual),K=dr(E.skincareSales);A(G=>{const Y=V+K;return dr(G.accrual)!==Y?{...G,accrual:rc(Y)}:G})},[E.operationalAccrual,E.skincareSales]);const ie=(V,K)=>{const G=K.replace(/,/g,"");/^\d*$/.test(G)&&A(Y=>({...Y,[V]:rc(G)}))},ee=w.useMemo(()=>p?(n[p]||[]).map(V=>`${k}${V}`):e==="store"&&t?(t.stores||[t.storeName]).map(V=>V.startsWith(k)||k==="CYJ"&&V.startsWith("CYJ")?V:`${k}${V}`):[],[p,n,e,t,k]);w.useEffect(()=>{if(!b&&e==="store"&&t){const V=t.stores||[t.storeName];if(V.length>0){let K=V[0];K=K.replace(/$/,""),K.startsWith(k)?K=K.substring(k.length):K.startsWith("CYJ")&&(K=K.substring(3));const G=Object.keys(n).find(ce=>n[ce].includes(K));G&&g(G);const Y=V[0].startsWith(k)?V[0]:`${k}${K}`;_(Y)}}else!p&&e==="manager"&&t&&g(t.name)},[e,t,n,k]);const W=()=>{if(confirm("")){A(S);const V=typeof m=="string"?m:m?.id||"unknown";localStorage.removeItem(`input_draft_${V}`),s("","info")}},H=V=>{if(V.preventDefault(),!b)return s("","error");if(r>D)return s("","error");const K=mr(r),G=u.find(Y=>mr(Y.date)===K&&Y.storeName===b);N(G?G.id:null),P(G||null),r!==D?z(!0):q(!0)},te=()=>{z(!1),q(!0)},oe=async()=>{L(!0);try{const V=mr(r),K=typeof m=="string"?m:m?.id||"unknown",G={date:V,storeName:b,brandId:K,...Object.keys(E).reduce((Y,ce)=>({...Y,[ce]:dr(E[ce])}),{}),timestamp:fl(),submittedBy:t?.name||"unknown"};O?(await xn(Jn(d("daily_reports"),O),G),l(e,t?.name,"()",`${b} ${V}`)):(await wS(d("daily_reports"),G),l(e,t?.name,"",`${b} ${V}`)),await lfe(K,G,O?M:null),A(S),localStorage.removeItem(`input_draft_${K}`),q(!1),N(null),P(null),s("","success")}catch(V){console.error(V),s(": "+V.message,"error")}finally{L(!1)}},we=V=>f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-bold mb-1.5 ${V.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:I[V]||V}),f.jsx("input",{type:"text",value:E[V],onChange:K=>ie(V,K.target.value),readOnly:V==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${V==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},V);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[f.jsx(Fs,{size:14}),"  (",k,")"]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),f.jsx(Pz,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),f.jsx("div",{className:"relative",children:f.jsxs("select",{value:p,onChange:V=>{g(V.target.value),_("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(n).map(V=>f.jsxs("option",{value:V,children:[V,""]},V))]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),f.jsx("div",{className:"relative",children:f.jsxs("select",{value:b,onChange:V=>_(V.target.value),disabled:!p,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),ee.map(V=>f.jsx("option",{value:V,children:V},V))]})})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[f.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[f.jsx(wz,{size:20,className:"text-amber-500"}),f.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[f.jsx(Jue,{size:14})," "]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[we("cash"),we("accrual"),we("operationalAccrual"),we("skincareSales")]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[f.jsx(sm,{size:14})," "]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[we("newCustomerSales"),we("traffic"),we("newCustomers"),we("newCustomerClosings")]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[f.jsx(Nz,{size:14}),"  ()"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[we("refund"),we("skincareRefund")]})]}),f.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[f.jsx("button",{onClick:W,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:f.jsx(Tz,{size:20})}),f.jsx("button",{onClick:H,disabled:j,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70",children:j?f.jsx(nc,{className:"animate-spin mx-auto"}):""})]})]}),$&&f.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[f.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:f.jsx(to,{size:32,className:"text-white"})}),f.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),f.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:f.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[f.jsx(Iu,{size:18,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:[" ",f.jsx("u",{children:""})," (",D,")",O&&f.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",f.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),f.jsx("button",{onClick:te,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),U&&f.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[f.jsx(yc,{})," "]}),f.jsx("button",{onClick:()=>q(!1),children:f.jsx(aa,{className:"text-white"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:r})]}),f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:b})]}),f.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",E.cash]})]}),f.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",E.accrual]})]})]}),O&&f.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsx("button",{onClick:oe,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900",children:""})]})]})]})})]})},dfe=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i,getCollectionPath:s,currentBrand:l}=w.useContext(yr),u={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[d,m]=w.useState(u),[p,g]=w.useState(!1),[b,_]=w.useState(!1),[S,E]=w.useState(!1),[A,j]=w.useState(!1),[L,U]=w.useState(null),q={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},$=Pu();w.useEffect(()=>{const P=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const I=Pu(),D=!d.newCustomerRevenue&&!d.oldCustomerRevenue;e!==I&&D&&(console.log(`[] : ${e} -> ${I}`),n(I))}};return document.addEventListener("visibilitychange",P),window.addEventListener("focus",P),()=>{document.removeEventListener("visibilitychange",P),window.removeEventListener("focus",P)}},[e,d,n]),w.useEffect(()=>{const P=typeof l=="string"?l:l?.id||"unknown",I=localStorage.getItem(`therapist_draft_${P}`);if(I)try{const D=JSON.parse(I);D.formData&&m(D.formData);const k=D.date;k===Pu()&&n(k)}catch(D){console.error(D)}},[l]),w.useEffect(()=>{const P=typeof l=="string"?l:l?.id||"unknown",I={formData:d,date:e,timestamp:Date.now()};localStorage.setItem(`therapist_draft_${P}`,JSON.stringify(I))},[d,e,l]),w.useEffect(()=>{const P=dr(d.newCustomerRevenue)||0,I=dr(d.oldCustomerRevenue)||0,D=dr(d.returnRevenue)||0,k=P+I-D;dr(d.totalRevenue)!==k&&m(ie=>({...ie,totalRevenue:rc(k)}))},[d.newCustomerRevenue,d.oldCustomerRevenue,d.returnRevenue]),w.useEffect(()=>{(async()=>{if(t?.id)try{const k=`${mr(e).replace(/\//g,"-")}_${t.id}`,ie=Jn(s("therapist_daily_reports"),k),ee=await kC(ie);_(ee.exists())}catch(I){console.error("",I)}})()},[e,t,s]);const z=(P,I)=>{const D=I.replace(/,/g,"");/^\d*$/.test(D)&&m(k=>({...k,[P]:rc(D)}))},O=()=>{if(!(d.newCustomerRevenue||d.oldCustomerRevenue||d.newCustomerCount||d.oldCustomerCount||d.returnRevenue))return r("","error");e!==$?j(!0):E(!0)},N=()=>{j(!1),E(!0)},M=async()=>{g(!0),U(null);try{if(!t||!t.id)throw new Error(" ID ");const P=mr(e),D=`${P.replace(/\//g,"-")}_${t.id}`,k=typeof l=="string"?l:l?.id||"unknown",ie={date:P,therapistId:t.id,therapistName:t.name,storeName:t.store||"",brandId:k,totalRevenue:dr(d.totalRevenue),newCustomerRevenue:dr(d.newCustomerRevenue),newCustomerCount:dr(d.newCustomerCount),newCustomerClosings:dr(d.newCustomerClosings),oldCustomerRevenue:dr(d.oldCustomerRevenue),oldCustomerCount:dr(d.oldCustomerCount),returnRevenue:dr(d.returnRevenue),updatedAt:fl()},ee=Jn(s("therapist_daily_reports"),D);if(await xn(ee,ie),(await kC(ee)).exists())i("therapist",t.name,"",`${P} `),r("","success"),_(!0),m(u),localStorage.removeItem(`therapist_draft_${k}`),E(!1);else throw new Error("")}catch(P){console.error(":",P),U({error:P.message,code:P.code||"unknown",path:"brands/.../therapist_daily_reports"}),r("","error")}finally{g(!1)}};return f.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[f.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[f.jsxs("div",{className:"relative z-10",children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[f.jsx(Ac,{className:"text-indigo-200"})," ",t?.name," "]}),f.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),f.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:f.jsx(Pk,{size:120})})]}),f.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:P=>n(P.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),b&&f.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[f.jsx(Fs,{size:16}),"  (",e,") "]}),L&&f.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[f.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[f.jsx(bue,{})," "]}),f.jsx("p",{className:"text-rose-700 text-sm font-bold",children:L.error})]}),f.jsx(jt,{title:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[f.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[f.jsx(wue,{size:12})," ",q.totalRevenue," ()"]}),f.jsxs("div",{className:"relative",children:[f.jsx(cl,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),f.jsx("input",{type:"text",value:d.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[f.jsx(Pk,{size:12})," "]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.newCustomerRevenue}),f.jsx("input",{type:"text",value:d.newCustomerRevenue,onChange:P=>z("newCustomerRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.newCustomerCount}),f.jsx("input",{type:"text",value:d.newCustomerCount,onChange:P=>z("newCustomerCount",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.newCustomerClosings}),f.jsx("input",{type:"text",value:d.newCustomerClosings,onChange:P=>z("newCustomerClosings",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[f.jsx(sm,{size:12})," "]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.oldCustomerRevenue}),f.jsx("input",{type:"text",value:d.oldCustomerRevenue,onChange:P=>z("oldCustomerRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:q.oldCustomerCount}),f.jsx("input",{type:"text",value:d.oldCustomerCount,onChange:P=>z("oldCustomerCount",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[f.jsx(Nz,{size:12})," ",q.returnRevenue]}),f.jsx("input",{type:"text",value:d.returnRevenue,onChange:P=>z("returnRevenue",P.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),f.jsxs("button",{onClick:O,disabled:p,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[p?f.jsx(nc,{className:"animate-spin"}):f.jsx(jz,{size:20}),""]})]})}),A&&f.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[f.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:f.jsx(to,{size:32,className:"text-white"})}),f.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),f.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:f.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[f.jsx(Iu,{size:18,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:[" ",f.jsx("u",{children:""})," (",$,")",b&&f.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",f.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),f.jsx("button",{onClick:N,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),S&&f.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[f.jsx(yc,{})," "]}),f.jsx("button",{onClick:()=>E(!1),children:f.jsx(aa,{className:"text-white"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:e})]}),f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:t?.name})]}),f.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",d.totalRevenue||0]})]}),f.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:f.jsxs("span",{children:["( $",d.newCustomerRevenue||0," +  $",d.oldCustomerRevenue||0,")"]})}),f.jsxs("div",{className:"flex justify-between mt-2",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",d.returnRevenue||0]})]})]})]}),b&&f.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[f.jsx(Iu,{size:12})," "]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsx("button",{onClick:M,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md",children:""})]})]})]})})]})},ffe=()=>{const{userRole:t}=w.useContext(yr);return f.jsx(Zr,{children:t==="therapist"?f.jsx(dfe,{}):f.jsx(ufe,{})})},hfe=()=>{const{showToast:t,managers:e,userRole:n,currentUser:r,getCollectionPath:i,getDocPath:s,currentBrand:l}=w.useContext(yr),[u,d]=w.useState(n==="trainer"||n==="therapist"?"therapist":"store"),[m,p]=w.useState([]),[g,b]=w.useState([]),[_,S]=w.useState(!1),E=()=>new Date().toISOString().split("T")[0],[A,j]=w.useState(E()),[L,U]=w.useState(E()),[q,$]=w.useState(""),[z,O]=w.useState(null),[N,M]=w.useState({}),P=Y=>typeof Y=="number"?Y.toLocaleString():Y,I=w.useMemo(()=>{let Y="CYJ";if(l){const ye=(typeof l=="string"?l:l.id||"CYJ").toLowerCase();ye.includes("anniu")||ye.includes("anew")?Y="":ye.includes("yibo")?Y="":Y="CYJ"}return Y},[l]),D=w.useMemo(()=>n==="director"||n==="trainer"?null:n==="manager"&&r?(e[r.name]||[]).map(Y=>Y.trim()):n==="store"&&r?(r.stores||[r.storeName]).map(ce=>ce.replace(/CYJ|||Anew|Yibo|/gi,"").trim()):n==="therapist"&&r?[r.store]:[],[n,r,e]),k=w.useMemo(()=>{let Y=[];return D!==null?Y=D:Y=Object.values(e).flat(),Y.filter(ce=>ce).map(ce=>`${I}${ce}`).sort()},[e,D,I]);w.useEffect(()=>{k.length===1&&$(k[0])},[k]);const ie=Y=>Y?Y.storeName||Y.store||"":"",ee=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],W=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];w.useEffect(()=>{if(!A||!L)return;(async()=>{S(!0);try{const ce=u==="store"?"daily_reports":"therapist_daily_reports",ye=new Map,he=i(ce),Pe=Jf(he,xu("date",">=",A),xu("date","<=",L),Rg("date","desc"));(await MC(Pe)).docs.forEach(Ge=>ye.set(Ge.id,{id:Ge.id,...Ge.data()}));const Se=A.replace(/-/g,"/"),Ae=L.replace(/-/g,"/"),J=Jf(he,xu("date",">=",Se),xu("date","<=",Ae),Rg("date","desc"));(await MC(J)).docs.forEach(Ge=>ye.set(Ge.id,{id:Ge.id,...Ge.data()}));const ze=Array.from(ye.values()).sort((Ge,wt)=>wt.date.localeCompare(Ge.date));u==="store"?p(ze):b(ze)}catch(ce){console.error(ce),t(": "+ce.message,"error")}finally{S(!1)}})()},[u,A,L,i,t,l]);const H=u==="store"?m:g,te=w.useMemo(()=>H.filter(Y=>{if(n==="therapist"){if(u!=="therapist"||Y.therapistId!==r?.id)return!1}else if(D!==null){const ye=re=>String(re||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),he=ye(ie(Y));if(!D.some(re=>he===ye(re)))return!1}let ce=!0;if(q){const ye=re=>String(re||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),he=ye(q);ce=ye(ie(Y))===he}return ce}),[H,q,D,n,r,u]),oe=Y=>{O(Y.id),M({...Y,date:mr(Y.date)})},we=()=>{O(null),M({})},V=(Y,ce)=>{M(ye=>{const he={...ye,[Y]:ce};if(u==="therapist"&&(Y==="newCustomerRevenue"||Y==="oldCustomerRevenue"||Y==="returnRevenue")){const Pe=Number(he.newCustomerRevenue||0),re=Number(he.oldCustomerRevenue||0),Se=Number(he.returnRevenue||0);he.totalRevenue=Pe+re-Se}if(u==="store"&&(Y==="operationalAccrual"||Y==="skincareSales")){const Pe=Number(he.operationalAccrual||0),re=Number(he.skincareSales||0);he.accrual=Pe+re}return he})},K=async()=>{try{const ce=i(u==="store"?"daily_reports":"therapist_daily_reports"),ye=Jn(ce,z);let he={};u==="store"?he={...N,cash:Number(N.cash||0),accrual:Number(N.accrual||0),operationalAccrual:Number(N.operationalAccrual||0),skincareSales:Number(N.skincareSales||0),traffic:Number(N.traffic||0),newCustomers:Number(N.newCustomers||0),newCustomerClosings:Number(N.newCustomerClosings||0),newCustomerSales:Number(N.newCustomerSales||0),refund:Number(N.refund||0),skincareRefund:Number(N.skincareRefund||0)}:he={...N,totalRevenue:Number(N.totalRevenue||0),newCustomerRevenue:Number(N.newCustomerRevenue||0),newCustomerCount:Number(N.newCustomerCount||0),newCustomerClosings:Number(N.newCustomerClosings||0),oldCustomerRevenue:Number(N.oldCustomerRevenue||0),oldCustomerCount:Number(N.oldCustomerCount||0),returnRevenue:Number(N.returnRevenue||0)},await kg(ye,he),t("","success"),(u==="store"?p:b)(re=>re.map(Se=>Se.id===z?{...Se,...he}:Se)),O(null)}catch{t("","error")}},G=async Y=>{if(confirm("?"))try{const ye=i(u==="store"?"daily_reports":"therapist_daily_reports");await a4(Jn(ye,Y)),t("","success"),(u==="store"?p:b)(Pe=>Pe.filter(re=>re.id!==Y))}catch{t("","error")}};return f.jsx(Zr,{children:f.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),f.jsx("span",{className:"px-2 py-1 bg-stone-100 text-stone-500 rounded text-xs font-bold",children:I})]}),f.jsx("span",{className:"hidden sm:inline text-stone-400",children:"|"}),f.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl w-full sm:w-auto",children:[n!=="trainer"&&n!=="therapist"&&f.jsxs("button",{onClick:()=>{d("store"),$("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx($i,{size:16})," "]}),f.jsxs("button",{onClick:()=>{d("therapist"),$("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(Ac,{size:16})," "]})]})]}),f.jsx(jt,{children:f.jsxs("div",{className:"space-y-4 w-full",children:[f.jsxs("div",{className:"flex flex-wrap items-end gap-4 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[f.jsxs("div",{className:"w-full md:w-auto flex-grow",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(to,{size:12})," "]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full",children:[f.jsx("input",{type:"date",value:A,onChange:Y=>j(Y.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),f.jsx("span",{className:"text-stone-400 font-bold transform rotate-90 md:rotate-0",children:""}),f.jsx("input",{type:"date",value:L,onChange:Y=>U(Y.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[f.jsxs("div",{className:"flex-grow min-w-[150px]",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("select",{value:q,onChange:Y=>$(Y.target.value),disabled:k.length===1,className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400 h-[42px] disabled:bg-stone-100 disabled:text-stone-500",children:[k.length>1&&f.jsx("option",{value:"",children:""}),k.map(Y=>f.jsx("option",{value:Y,children:Y},Y))]})]}),f.jsx("div",{className:"flex items-end",children:f.jsxs("button",{onClick:()=>{j(E()),U(E()),k.length>1&&$("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm h-[42px] items-center justify-center whitespace-nowrap",children:[f.jsx(Tz,{size:16})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),f.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[f.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),u==="store"?ee.map(Y=>f.jsx("th",{className:`p-4 text-right ${Y.isNegative?"text-rose-500":""} ${Y.width}`,children:Y.label},Y.key)):f.jsxs(f.Fragment,{children:[f.jsx("th",{className:"p-4 min-w-[100px]",children:""}),W.map(Y=>f.jsx("th",{className:`p-4 text-right ${Y.isNegative?"text-rose-500":Y.isHighlight?"text-indigo-600":""} ${Y.width}`,children:Y.label},Y.key))]}),f.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),f.jsxs("tbody",{className:"divide-y divide-stone-100",children:[_&&f.jsx("tr",{children:f.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[f.jsx(Ts,{className:"animate-spin inline mr-2"}),"..."]})}),!_&&(!A||!L)&&f.jsx("tr",{children:f.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(CA,{size:24,className:"opacity-50"}),f.jsx("p",{className:"font-bold",children:""})]})})}),!_&&te.map(Y=>{const ce=z===Y.id,ye=ie(Y).replace(/CYJ|||Anew|Yibo|/gi,"");return f.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:f.jsxs("div",{className:"flex flex-col",children:[ce?f.jsx("input",{type:"date",value:N.date,onChange:he=>V("date",he.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):f.jsx("span",{className:"font-mono font-bold text-stone-600",children:Y.date}),f.jsxs("span",{className:"font-bold text-stone-800",children:[ye,""]})]})}),u==="store"?ee.map(he=>f.jsx("td",{className:"p-4 text-right",children:ce?f.jsx("input",{type:"number",value:N[he.key],onChange:Pe=>V(he.key,Pe.target.value),readOnly:he.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${he.isNegative?"text-rose-500":""} ${he.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):f.jsx("span",{className:he.isNegative?"text-rose-500 font-bold":"",children:P(Y[he.key])})},he.key)):f.jsxs(f.Fragment,{children:[f.jsx("td",{className:"p-4 font-bold",children:Y.therapistName}),W.map(he=>f.jsx("td",{className:"p-4 text-right",children:ce?f.jsx("input",{type:"number",value:N[he.key],onChange:Pe=>V(he.key,Pe.target.value),readOnly:he.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${he.isNegative?"text-rose-500":he.isHighlight?"font-bold text-indigo-600":""} ${he.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):f.jsx("span",{className:he.isNegative?"text-rose-500 font-bold":he.isHighlight?"text-indigo-600 font-bold":"",children:P(Y[he.key])})},he.key))]}),f.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:ce?f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{onClick:K,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:f.jsx(Ec,{size:16})}),f.jsx("button",{onClick:we,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:f.jsx(aa,{size:16})})]}):f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{onClick:()=>oe(Y),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:f.jsx(Az,{size:16})}),f.jsx("button",{onClick:()=>G(Y.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:f.jsx(fg,{size:16})})]})})]},Y.id)}),!_&&te.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:" ()"})})]})]})}),f.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[f.jsx(vz,{size:12}),"  ",f.jsx(Z0,{size:12})]})]})]})})]})})},mfe=()=>{const{fmtMoney:t,fmtNum:e,userRole:n,currentBrand:r,allReports:i,managers:s,budgets:l,selectedYear:u,selectedMonth:d}=w.useContext(yr),{brandInfo:m,brandPrefix:p}=w.useMemo(()=>{let S="CYJ",E="CYJ";r&&(typeof r=="string"?S=r:typeof r=="object"&&(S=r.id||"CYJ",E=r.name||r.label||S));const A=S.toLowerCase();return A.includes("anniu")||A.includes("anew")?E="":A.includes("yibo")?E="":E="CYJ",{brandInfo:{id:S,name:E},brandPrefix:E}},[r]),g=w.useMemo(()=>{if(!i||!s)return null;const S=parseInt(u),E=parseInt(d),A=Object.keys(s).map(j=>({manager:j,stores:[],cashTotal:0,accrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0,budgetTotal:0,achievement:0}));return A.forEach(j=>{(s[j.manager]||[]).forEach(U=>{const q=`${p}${U}`,$={name:q,cleanName:U,cashTotal:0,accrualTotal:0,budget:0,achievement:0};i.forEach(N=>{const M=new Date(N.date);if(M.getFullYear()!==S||M.getMonth()+1!==E||N.storeName!==q)return;const P=(Number(N.cash)||0)-(Number(N.refund)||0),I=Number(N.accrual)||0;$.cashTotal+=P,$.accrualTotal+=I,j.cashTotal+=P,j.accrualTotal+=I,j.skincareSalesTotal+=Number(N.skincareSales)||0,j.trafficTotal+=Number(N.traffic)||0,j.newCustomersTotal+=Number(N.newCustomers)||0,j.newCustomerClosingsTotal+=Number(N.newCustomerClosings)||0});const z=`${q}_${S}_${E}`,O=l[z];O&&($.budget=Number(O.cashTarget)||0,j.budgetTotal+=$.budget),$.achievement=$.budget>0?$.cashTotal/$.budget*100:0,j.stores.push($)}),j.achievement=j.budgetTotal>0?j.cashTotal/j.budgetTotal*100:0}),A.sort((j,L)=>L.cashTotal-j.cashTotal)},[i,s,l,u,d,p]),b=w.useMemo(()=>g?g.map(S=>({name:S.manager,value:S.cashTotal})).filter(S=>S.value>0):[],[g]),_=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return g?f.jsx(Zr,{children:f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2",children:[f.jsx("div",{className:`w-2 h-8 rounded-full ${m.id.toLowerCase().includes("anniu")?"bg-teal-500":m.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),f.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[m.name," "]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(S=>f.jsxs(jt,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg",children:S.manager.charAt(0)}),f.jsx("div",{children:f.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[S.manager," "]})})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${S.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[S.achievement.toFixed(0),"%"]})})]}),f.jsxs("div",{className:"space-y-3 mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-lg font-bold text-stone-700",children:t(S.cashTotal)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-base font-bold text-stone-600",children:t(S.accrualTotal)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-base font-bold text-rose-500",children:t(S.skincareSalesTotal)})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.trafficTotal)})]}),f.jsxs("div",{className:"text-center border-l border-stone-200",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.newCustomersTotal)})]}),f.jsxs("div",{className:"text-center border-l border-stone-200",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.newCustomerClosingsTotal)})]})]})]},S.manager))}),n==="director"?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:f.jsx(jt,{title:` (${p})`,subtitle:"",children:f.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:f.jsx(g0,{width:"100%",height:"100%",children:f.jsxs(nue,{children:[f.jsx(AL,{data:b,cx:"50%",cy:"50%",labelLine:!0,label:({name:S,percent:E})=>`${S} ${(E*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:b.map((S,E)=>f.jsx(nm,{fill:_[E%_.length]},`cell-${E}`))}),f.jsx($0,{formatter:S=>t(S)}),f.jsx(_0,{verticalAlign:"bottom",height:36})]})})})})}):f.jsx("div",{className:"space-y-6",children:g.map(S=>n==="manager"&&currentUser&&currentUser.name!==S.manager?null:f.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[f.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:f.jsxs("h3",{className:"font-bold text-stone-700",children:[S.manager," "]})}),f.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:S.stores.map(E=>f.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h4",{className:"font-bold text-stone-700",children:E.cleanName}),f.jsxs("span",{className:`text-sm font-bold ${E.achievement>=100?"text-emerald-600":"text-amber-500"}`,children:[E.achievement.toFixed(0),"%"]})]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-400",children:""}),f.jsx("span",{className:"font-bold",children:t(E.cashTotal)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-400",children:""}),f.jsx("span",{className:"font-bold",children:t(E.accrualTotal)})]})]})]},E.name))})]},S.manager))})]})}):f.jsxs("div",{className:"flex h-96 items-center justify-center",children:[f.jsx(Ts,{className:"h-10 w-10 animate-spin text-stone-300"}),f.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]})},pfe=()=>{const{allReports:t,fmtMoney:e,fmtNum:n,budgets:r,selectedYear:i,selectedMonth:s,managers:l,auditExclusions:u,handleUpdateAuditExclusions:d,showToast:m,currentBrand:p}=w.useContext(yr),[g,b]=w.useState({key:"achievement",direction:"desc"}),[_,S]=w.useState(!1),[E,A]=w.useState([]),j=w.useMemo(()=>{let I="CYJ";if(p){const k=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();k.includes("anniu")||k.includes("anew")?I="":k.includes("yibo")?I="":I="CYJ"}return I},[p]),L=I=>I?I.replace(new RegExp(`^(${j}|CYJ|||Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",U=()=>{A(u||[]),S(!0)},q=async()=>{await d(E),S(!1),m("","success")},$=I=>{A(D=>D.includes(I)?D.filter(k=>k!==I):[...D,I])},z=w.useMemo(()=>{if(!t)return[];const I=parseInt(i),D=parseInt(s),k={};t.forEach(ee=>{const W=new Date(ee.date);if(W.getFullYear()!==I||W.getMonth()+1!==D)return;const H=ee.storeName;if(!H)return;k[H]||(k[H]={name:H,displayName:L(H),manager:"",cashTotal:0,refundTotal:0,accrualTotal:0,operationalAccrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0});const te=k[H];te.cashTotal+=Number(ee.cash)||0,te.refundTotal+=Number(ee.refund)||0,te.accrualTotal+=Number(ee.accrual)||0,te.operationalAccrualTotal+=Number(ee.operationalAccrual)||0,te.skincareSalesTotal+=Number(ee.skincareSales)||0,te.trafficTotal+=Number(ee.traffic)||0,te.newCustomersTotal+=Number(ee.newCustomers)||0,te.newCustomerClosingsTotal+=Number(ee.newCustomerClosings)||0});let ie=Object.values(k).map(ee=>{const W=ee.displayName,H=Object.keys(l).find(G=>l[G].includes(W));ee.manager=H||"";const te=ee.cashTotal-ee.refundTotal;ee.cashTotal=te;const oe=`${ee.name}_${I}_${D}`,we=r[oe],V=we?Number(we.cashTarget||0):0,K=we?Number(we.accrualTarget||0):0;return{...ee,cashTarget:V,achievement:V>0?te/V*100:0,accrualTarget:K,accrualAchievement:K>0?ee.accrualTotal/K*100:0,trafficASP:ee.trafficTotal>0?Math.round(ee.operationalAccrualTotal/ee.trafficTotal):0}});return ie=ie.filter(ee=>!(u||[]).includes(ee.displayName)),ie},[t,r,i,s,u,l,j]),O=w.useMemo(()=>{let I=[...z];return g.key&&I.sort((D,k)=>{const ie=D[g.key]||0,ee=k[g.key]||0;return ie<ee?g.direction==="ascending"?-1:1:ie>ee?g.direction==="ascending"?1:-1:0}),I},[z,g]),N=I=>b({key:I,direction:g.key===I&&g.direction==="desc"?"ascending":"desc"}),M=()=>{const I=[",,,,,,,,,,,,"],D=O.map((H,te)=>[te+1,H.displayName,H.manager,H.cashTotal||0,(H.achievement||0).toFixed(2)+"%",H.accrualTotal||0,H.accrualTarget||0,(H.accrualAchievement||0).toFixed(2)+"%",H.skincareSalesTotal||0,H.trafficTotal||0,H.trafficASP||0,H.newCustomersTotal||0,H.newCustomerClosingsTotal||0].join(",")),k="\uFEFF"+[I,...D].join(`
`),ie=new Blob([k],{type:"text/csv;charset=utf-8;"}),ee=URL.createObjectURL(ie),W=document.createElement("a");W.href=ee,W.download=`${j}__${new Date().toISOString().split("T")[0]}.csv`,W.click()},P=({store:I,index:D})=>f.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm mb-3",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-stone-50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D<3?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-500"}`,children:D+1}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-stone-700 text-lg",children:I.displayName}),f.jsxs("p",{className:"text-xs text-stone-400",children:[I.manager,""]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-xs text-stone-400 font-bold uppercase",children:""}),f.jsxs("div",{className:`text-xl font-mono font-bold ${I.achievement>=100?"text-emerald-500":"text-stone-700"}`,children:[I.achievement.toFixed(1),"%"]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(cl,{size:10})," "]}),f.jsx("p",{className:"font-mono font-bold text-stone-700",children:e(I.cashTotal)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(vue,{size:10})," "]}),f.jsxs("p",{className:`font-mono font-bold ${I.accrualAchievement>=100?"text-emerald-600":"text-blue-600"}`,children:[I.accrualAchievement.toFixed(1),"%"]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(Yu,{size:10})," "]}),f.jsx("p",{className:"font-mono font-bold text-stone-600",children:e(I.accrualTotal)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(sm,{size:10})," /"]}),f.jsxs("p",{className:"font-mono text-stone-600 text-sm",children:[n(I.trafficTotal)," / ",f.jsx("span",{className:"text-stone-800 font-bold",children:n(I.newCustomersTotal)})]})]})]})]});return f.jsxs(Zr,{children:[f.jsxs(jt,{title:`${j} `,subtitle:"",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mb-4 gap-2",children:[f.jsxs("button",{onClick:U,className:"flex items-center justify-center gap-2 px-4 py-2 bg-stone-100 text-stone-600 rounded-xl text-sm font-bold hover:bg-stone-200 transition-colors",children:[f.jsx(ey,{size:16})," "]}),f.jsxs("button",{onClick:M,className:"flex items-center justify-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[f.jsx(xz,{size:16}),"  CSV"]})]}),f.jsx("div",{className:"block md:hidden",children:O.map((I,D)=>f.jsx(P,{store:I,index:D},I.name))}),f.jsx("div",{className:"hidden md:block w-full overflow-hidden rounded-2xl border border-stone-100",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[f.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase sticky top-0 z-10",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-16 text-center",children:""}),f.jsx("th",{className:"p-4 cursor-pointer hover:text-stone-700",onClick:()=>N("displayName"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("cashTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("achievement"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>N("accrualTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>N("accrualAchievement"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("trafficTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("newCustomersTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("newCustomerClosingsTotal"),children:""})]})}),f.jsxs("tbody",{className:"text-sm divide-y divide-stone-50",children:[O.map((I,D)=>f.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:D+1}),f.jsx("td",{className:"p-4 font-bold text-stone-700",children:I.displayName}),f.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(I.cashTotal)}),f.jsxs("td",{className:`p-4 text-right font-mono font-bold ${I.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[I.achievement.toFixed(1),"%"]}),f.jsx("td",{className:"p-4 text-right font-mono font-bold text-blue-600",children:e(I.accrualTotal)}),f.jsxs("td",{className:`p-4 text-right font-mono font-bold ${I.accrualAchievement>=100?"text-emerald-500":"text-blue-400"}`,children:[I.accrualAchievement.toFixed(1),"%"]}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.trafficTotal)}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.newCustomersTotal)}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.newCustomerClosingsTotal)})]},I.name)),O.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:13,className:"p-8 text-center text-stone-400",children:""})})]})]})})})]}),_&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(TA,{size:20,className:"text-rose-400"}),"  (",j,")"]}),f.jsx("button",{onClick:()=>S(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(aa,{size:20})})]}),f.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(l).map(([I,D])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[I," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:D.map(k=>{const ie=E.includes(k);return f.jsxs("button",{onClick:()=>$(k),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${ie?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[ie&&f.jsx(Fs,{size:14}),k]},k)})})]},I))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>S(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:q,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(Ec,{size:18})," "]})]})]})})]})},gfe=()=>{const{rawData:t,budgets:e,managers:n,selectedYear:r,selectedMonth:i,fmtMoney:s,fmtNum:l,currentUser:u,userRole:d,activeView:m,currentBrand:p}=w.useContext(yr),[g,b]=w.useState(""),[_,S]=w.useState(""),E=w.useMemo(()=>{let L="CYJ";if(p){const q=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();q.includes("anniu")||q.includes("anew")?L="":q.includes("yibo")?L="":L="CYJ"}return L},[p]);w.useEffect(()=>{m==="store-analysis"&&u&&n[u.name]&&b(u.name)},[m,u,n]),w.useEffect(()=>{const L=U=>S(U.detail);return window.addEventListener("navigate-to-store",L),()=>window.removeEventListener("navigate-to-store",L)},[]);const A=w.useMemo(()=>{const L=U=>{const q=U.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${E}${q}`};return d==="director"||d==="trainer"?g?(n[g]||[]).map(L):[]:d==="manager"?Object.values(n).flat().map(L):d==="store"&&u?(u.stores||[u.storeName]).map(U=>L(U)):[]},[g,n,u,d,E]);w.useEffect(()=>{u&&A.length>0&&(!_||!A.includes(_))&&S(A[0])},[u,A,_]);const j=w.useMemo(()=>{if(!_)return null;const L=parseInt(r),U=parseInt(i),q=L-1911,$=t.filter(ee=>{if(ee.storeName!==_||!ee.date)return!1;const W=ee.date.replace(/-/g,"/").split("/"),H=parseInt(W[0]),te=parseInt(W[1]);return(H===L||H===q)&&te===U}).sort((ee,W)=>{const H=mr(ee.date),te=mr(W.date);return H.localeCompare(te)}),z=$.reduce((ee,W)=>ee+(W.cash||0),0),O=$.reduce((ee,W)=>ee+(W.refund||0),0),N=z-O,M=$.reduce((ee,W)=>ee+(W.traffic||0),0),P=$.reduce((ee,W)=>ee+(W.operationalAccrual||0),0),I=$.reduce((ee,W)=>ee+(W.newCustomers||0),0),D=$.reduce((ee,W)=>ee+(W.newCustomerSales||0),0),k=$.reduce((ee,W)=>ee+(W.newCustomerClosings||0),0),ie=e[`${_}_${L}_${U}`]?.cashTarget||0;return{totalCash:N,achievement:ie>0?N/ie*100:0,trafficASP:M>0?Math.round(P/M):0,newCustomerASP:I>0?Math.round(D/I):0,totalNewCustomerClosings:k,totalRefund:O,dailyData:$.map(ee=>({date:mr(ee.date).split("/")[2],cash:(ee.cash||0)-(ee.refund||0),accrual:ee.accrual||0,traffic:ee.traffic})),budget:ie}},[_,r,i,t,e]);return f.jsx(Zr,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{title:"",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsxs("select",{value:g,onChange:L=>b(L.target.value),disabled:d!=="director"&&d!=="trainer",className:"px-4 py-2 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white",children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(L=>f.jsxs("option",{value:L,children:[L,""]},L))]}),f.jsxs("select",{value:_,onChange:L=>S(L.target.value),className:"px-4 py-2 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white",children:[f.jsx("option",{value:"",children:""}),A.map(L=>f.jsx("option",{value:L,children:L},L))]})]})}),_&&j?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(j.totalCash)}),f.jsxs("p",{className:`text-sm font-bold ${j.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[j.achievement.toFixed(1),"% "]})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(j.trafficASP)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(j.budget)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(j.newCustomerASP)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(j.totalNewCustomerClosings)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:s(j.totalRefund)})]})]}),f.jsx(jt,{title:`${_} `,subtitle:"()",children:f.jsx("div",{className:"h-[400px] w-full",children:f.jsx(g0,{width:"100%",height:"100%",children:f.jsxs(AA,{data:j.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[f.jsx(X0,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),f.jsx(J0,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),f.jsx(Gu,{yAxisId:"left",width:80,tickFormatter:L=>L===0?"0":`$${(L/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),f.jsx(Gu,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),f.jsx($0,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(L,U)=>U===""?[l(L),U]:[s(L),U],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),f.jsx(_0,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),f.jsx(wA,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),f.jsx(Ku,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),f.jsx(Ku,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]}):f.jsxs("div",{className:"p-10 text-center text-stone-400 bg-stone-50 rounded-xl border border-stone-100",children:[f.jsx("p",{className:"font-bold",children:""}),f.jsx("p",{className:"text-xs mt-1",children:""})]})]})})},vfe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState(1),l=20,u=new Date().toISOString().split("T")[0],[d,m]=w.useState({start:u,end:u}),p=()=>{r(!0),e([]);const A=new Date(d.start);A.setHours(0,0,0,0);const j=new Date(d.end);j.setHours(23,59,59,999);const L=Jf(bw(Ss,"artifacts",Cf,"public","data","system_logs"),xu("timestamp",">=",zt.fromDate(A)),xu("timestamp","<=",zt.fromDate(j)),r4(500));return Rr(L,q=>{let $=q.docs.map(z=>({id:z.id,...z.data()}));$.sort((z,O)=>{const N=z.timestamp?.toMillis?z.timestamp.toMillis():0;return(O.timestamp?.toMillis?O.timestamp.toMillis():0)-N}),e($),r(!1)})};w.useEffect(()=>{const A=p();return()=>A()},[d]);const g=Math.ceil(t.length/l),b=t.slice((i-1)*l,i*l),_=A=>{if(!A)return"-";const j=A.toDate?A.toDate():new Date(A);return`${j.getMonth()+1}/${j.getDate()} ${j.getHours().toString().padStart(2,"0")}:${j.getMinutes().toString().padStart(2,"0")}`},S=A=>{switch(A){case"director":return f.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return f.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return f.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return f.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return f.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},E=A=>A==="iOS"||A==="Android"||A==="Mobile"?f.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[f.jsx(Tde,{size:12})," ",A]}):f.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[f.jsx(hde,{size:12})," PC"]});return f.jsx(Zr,{children:f.jsx("div",{className:"space-y-6 pb-20",children:f.jsxs(jt,{children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),f.jsx("p",{className:"text-xs text-stone-400",children:""})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[f.jsxs("div",{className:"flex items-center gap-2 px-2",children:[f.jsx(to,{size:14,className:"text-stone-400"}),f.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[f.jsx("input",{type:"date",value:d.start,onChange:A=>m(j=>({...j,start:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),f.jsx("span",{className:"text-stone-300",children:"~"}),f.jsx("input",{type:"date",value:d.end,onChange:A=>m(j=>({...j,end:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?f.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[f.jsx(yde,{className:"animate-spin mx-auto mb-2"}),f.jsx("p",{children:"..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[f.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4 w-24",children:""}),f.jsx("th",{className:"p-4 w-24",children:""}),f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:b.length>0?b.map(A=>f.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:_(A.timestamp)}),f.jsx("td",{className:"p-4",children:E(A.device)}),f.jsx("td",{className:"p-4",children:S(A.role)}),f.jsx("td",{className:"p-4 font-bold text-stone-700",children:A.user}),f.jsx("td",{className:"p-4 font-medium text-stone-600",children:A.action}),f.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof A.details=="string"?A.details:JSON.stringify(A.details),children:typeof A.details=="string"?A.details:JSON.stringify(A.details)})]},A.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&f.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[f.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>s(A=>Math.max(1,A-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:f.jsx(NA,{size:18})}),f.jsx("button",{onClick:()=>s(A=>Math.min(g,A+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:f.jsx(bz,{size:18})})]})]})]})]})})})},yfe=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:d,therapists:m,therapistTargets:p,therapistSchedules:g,trainerAuth:b,handleUpdateTrainerAuth:_,getDocPath:S,getCollectionPath:E,allReports:A,selectedYear:j,selectedMonth:L,currentBrand:U,therapistReports:q}=w.useContext(yr),[$,z]=w.useState(""),[O,N]=w.useState(t),[M,P]=w.useState(u||hg),[I,D]=w.useState(r||{}),[k,ie]=w.useState(!1);w.useEffect(()=>{r&&D(r)},[r]);const[ee,W]=w.useState({name:"",password:"",stores:""}),[H,te]=w.useState(null),[oe,we]=w.useState({name:"",password:"",stores:[]}),[V,K]=w.useState({name:"",password:""}),[G,Y]=w.useState(null),[ce,ye]=w.useState([]),[he,Pe]=w.useState({name:"",manager:""}),[re,Se]=w.useState(!1),[Ae,J]=w.useState(null),[Ve,ze]=w.useState(""),[Ge,wt]=w.useState(""),[cn,tr]=w.useState(""),[Dt,Ot]=w.useState(""),[Ur,Qa]=w.useState("0000"),[fa,Ht]=w.useState(""),Qe="",nr=w.useMemo(()=>{const Q=[],Te=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0},{id:"permissions",label:"",isAdminOnly:!0},{id:"trainer-account",label:"",isAdminOnly:!0,icon:sm},{id:"shops",label:"",isAdminOnly:!0},{id:"stores",label:"",isAdminOnly:!0},{id:"managers",label:"",isAdminOnly:!0},{id:"therapists",label:"",isAdminOnly:!0},{id:"system",label:"",isAdminOnly:!0,icon:Ik}].forEach(Re=>{(l==="director"||!Re.isAdminOnly&&Re.permissionId&&Te.includes(Re.permissionId))&&Q.push(Re)}),Q},[l,u]);w.useEffect(()=>{if(nr.length>0){const Q=nr.some(Te=>Te.id===$);(!$||!Q)&&z(nr[0].id)}},[nr,$]);const bi=w.useMemo(()=>{const Te=Object.entries(I||{});return Te.some(([Re])=>Re===Qe)||Te.push([Qe,[]]),Te.sort((Re,ht)=>Re[0]===Qe?1:ht[0]===Qe?-1:Re[0].localeCompare(ht[0]))},[I]);w.useMemo(()=>{let Q=m.filter(Te=>Te.status==="active");if(l==="director"||l==="trainer")return Q.sort((Te,Ne)=>Te.store.localeCompare(Ne.store));if(l==="manager"){const Te=I[d?.name]||[];return Q.filter(Ne=>Te.includes(Ne.store)).sort((Ne,Re)=>Ne.store.localeCompare(Re.store))}if(l==="store"){const Ne=(d?.stores||[d?.storeName]).map(Re=>Re.replace("CYJ","").replace("",""));return Q.filter(Re=>Ne.includes(Re.store))}return l==="therapist"?Q.filter(Te=>Te.id===d?.id):[]},[m,l,d,I]);const xi=async()=>{if(!fa)return n("","error");await _(fa)?(n("","success"),Ht("")):n("","error")};w.useEffect(()=>{u&&P(u)},[u]),w.useEffect(()=>{t&&N(t)},[t]);const Ja=async()=>{try{await xn(S("kpi_targets"),O),e(O),n("KPI ","success")}catch{n("","error")}},ha=async()=>{try{await xn(S("permissions"),M),n("","success")}catch{n("","error")}},ti=(Q,Te)=>{const Ne=M[Q]||[],Re=Ne.includes(Te)?Ne.filter(ht=>ht!==Te):[...Ne,Te];P({...M,[Q]:Re})},ma=async()=>{if(confirm(` ${j}${L} 
 (One-time cost)`)){ie(!0);try{const Q=(typeof U=="string"?U:U.id).toLowerCase();await cfe(Q,parseInt(j),parseInt(L),A,q),n("","success")}catch(Q){console.error(Q),n(": "+Q.message,"error")}finally{ie(!1)}}},br=async()=>{if(!he.name||!he.manager)return n("","error");try{const Q=he.manager,Te=S("org_structure"),Ne=await gf(Te);let Re=Ne.exists()?{...Ne.data().managers}:{};Re[Q]||(Re[Q]=[]),Re[Q].includes(he.name)||Re[Q].push(he.name),await xn(Te,{managers:Re}),D(Re),Pe({name:"",manager:""}),n("","success")}catch(Q){n(": "+Q.message,"error")}},rn=async(Q,Te)=>{const Ne=Te===Qe;if(confirm(Ne?"":""))try{const Re=S("org_structure"),ht=await gf(Re);if(!ht.exists())throw new Error("");let $e=JSON.parse(JSON.stringify(ht.data().managers||{}));Array.isArray($e[Te])&&($e[Te]=$e[Te].filter(yt=>yt!==Q)),Ne||(Array.isArray($e[Qe])||($e[Qe]=[]),$e[Qe].includes(Q)||$e[Qe].push(Q)),await xn(Re,{managers:$e}),D($e),n(Ne?"":"","success")}catch(Re){console.error(Re),n(": "+Re.message,"error")}},qn=async Q=>{try{const Te=S("org_structure"),Ne=await gf(Te);let Re=Ne.exists()?JSON.parse(JSON.stringify(Ne.data().managers)):{};const ht=ce,$e=Re[Q]||[],yt=$e.filter(Fn=>!ht.includes(Fn)),rr=ht.filter(Fn=>!$e.includes(Fn));Re[Q]=ht,Array.isArray(Re[Qe])||(Re[Qe]=[]),yt.forEach(Fn=>{Re[Qe].includes(Fn)||Re[Qe].push(Fn)}),Re[Qe]=Re[Qe].filter(Fn=>!rr.includes(Fn)),await xn(Te,{managers:Re}),D(Re),Y(null),n("","success")}catch{n("","error")}},$t=w.useMemo(()=>{const Q=Object.values(I||{}).flat(),Te=i.flatMap(Ne=>Ne.stores||[]);return Q.filter(Ne=>!Te.includes(Ne)).sort()},[I,i]),Za=w.useMemo(()=>I&&I[Qe]?I[Qe].sort():[],[I]),wi=w.useMemo(()=>{const Q=Object.values(I||{}).flat(),Te=i.filter(Ne=>Ne.id!==H?.id).flatMap(Ne=>Ne.stores||[]);return Q.filter(Ne=>!Te.includes(Ne)&&!oe.stores.includes(Ne)).sort()},[I,i,H,oe]),no=async()=>{if(!ee.name||!ee.password)return n("","error");const Q={id:Jde(),...ee,stores:ee.stores?[ee.stores]:[]};try{await xn(S("store_account_data"),{accounts:[...i,Q]}),W({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},xr=Q=>{te(Q),we({name:Q.name,password:Q.password,stores:Q.stores||[]})},Ki=Q=>{Q&&!oe.stores.includes(Q)&&we({...oe,stores:[...oe.stores,Q]})},Xt=Q=>{we({...oe,stores:oe.stores.filter(Te=>Te!==Q)})},$r=async()=>{if(!oe.name)return;const Q=i.map(Te=>Te.id===H.id?{...Te,...oe}:Te);await xn(S("store_account_data"),{accounts:Q}),te(null),n("","success")},Br=async Q=>{if(!confirm("?"))return;const Te=i.filter(Ne=>Ne.id!==Q);await xn(S("store_account_data"),{accounts:Te}),n("","success")},Or=async()=>{if(V.name)try{const Q=S("org_structure"),Te=await gf(Q);let Ne=Te.exists()?Te.data().managers:{};Ne[V.name]=[],await xn(Q,{managers:Ne}),D(Ne),await xn(S("manager_auth"),{[V.name]:V.password},{merge:!0}),K({name:"",password:""}),n("","success")}catch{n("","error")}},ro=Q=>{Q&&(ce.includes(Q)||ye([...ce,Q]))},io=Q=>{ye(ce.filter(Te=>Te!==Q))},xe=async Q=>{if(confirm("?"))try{const Te=S("org_structure"),Ne=await gf(Te);let Re=Ne.exists()?Ne.data().managers:{};delete Re[Q],await xn(Te,{managers:Re}),D(Re),n("","success")}catch{n("","error")}},je=async()=>{if(!Dt)return n("","error");try{await wS(E("therapists"),{name:Dt,store:cn,manager:Ge,password:Ur,status:"active",createdAt:fl()}),Se(!1),Ot(""),n("","success")}catch{n("","error")}},tt=async()=>{if(!Ae)return;const Q=Jn(E("therapists"),Ae.id);await kg(Q,{name:Dt,store:cn,manager:Ge,password:Ur}),J(null),n("","success")},vt=async Q=>{const Te=Jn(E("therapists"),Q.id);await kg(Te,{status:Q.status==="active"?"resigned":"active"}),n("","success")},an=async Q=>{confirm("?")&&(await a4(Jn(E("therapists"),Q)),n("","success"))},Qt=Q=>{J(Q),wt(Q.manager||""),tr(Q.store),Ot(Q.name),Qa(Q.password)},ni=w.useMemo(()=>Ge?I&&I[Ge]?I[Ge]:[]:[],[Ge,I]),ri=w.useMemo(()=>m.filter(Q=>(Q.name||"").includes(Ve)||(Q.store||"").includes(Ve)||Q.status==="resigned"&&Ve===""),[m,Ve]);return nr.length===0?f.jsx(Zr,{children:f.jsx(jt,{title:"",children:f.jsxs("div",{className:"text-center py-10 text-stone-400",children:[f.jsx(Vf,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:""})]})})}):f.jsx(Zr,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800 shrink-0",children:""}),f.jsx("div",{className:"w-full xl:w-auto min-w-0 bg-white p-1 rounded-xl shadow-sm border border-stone-100 flex overflow-x-auto no-scrollbar",children:nr.map(Q=>f.jsxs("button",{onClick:()=>z(Q.id),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-1 ${$===Q.id?"bg-stone-800 text-white shadow":"text-stone-500 hover:bg-stone-50"}`,children:[Q.icon&&f.jsx(Q.icon,{size:14}),Q.label]},Q.id))})]}),$==="kpi"&&f.jsx(jt,{title:"KPI ",children:f.jsxs("div",{className:"max-w-md space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"number",value:O.newASP,onChange:Q=>N({...O,newASP:Number(Q.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"number",value:O.trafficASP,onChange:Q=>N({...O,trafficASP:Number(Q.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),f.jsx("button",{onClick:Ja,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold",children:" KPI "})]})}),$==="system"&&f.jsx(jt,{title:"",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 text-amber-800 text-sm",children:[f.jsxs("p",{className:"font-bold flex items-center gap-2",children:[f.jsx(yc,{size:16})," "]}),f.jsx("p",{className:"mt-1",children:"(Aggregation Data)"}),f.jsx("p",{children:"Dashboard "})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-xl",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-stone-700",children:""}),f.jsxs("p",{className:"text-xs text-stone-400",children:[": ",j,"  ",L," "]})]}),f.jsxs("button",{onClick:ma,disabled:k,className:"px-4 py-2 bg-stone-800 text-white rounded-lg font-bold hover:bg-stone-700 disabled:opacity-50 flex items-center gap-2",children:[k?f.jsx(Ts,{className:"animate-spin",size:16}):f.jsx(Ik,{size:16}),k?"...":""]})]})]})}),$==="trainer-account"&&f.jsx(jt,{title:"",children:f.jsxs("div",{className:"max-w-md space-y-6",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),f.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:b?.password||"0000"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"text",value:fa,onChange:Q=>Ht(Q.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsx("button",{onClick:xi,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),$==="permissions"&&f.jsxs(jt,{title:"",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-stone-200",children:[f.jsx("th",{className:"p-4 font-bold text-stone-500",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:bc.map(Q=>f.jsxs("tr",{className:"hover:bg-stone-50",children:[f.jsxs("td",{className:"p-4 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500",children:f.jsx(Q.icon,{size:18})}),f.jsx("span",{className:"font-bold text-stone-700",children:Q.label})]}),f.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:f.jsx("input",{type:"checkbox",checked:M.trainer?.includes(Q.id),onChange:()=>ti("trainer",Q.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:f.jsx("input",{type:"checkbox",checked:M.manager?.includes(Q.id),onChange:()=>ti("manager",Q.id),className:"w-5 h-5 rounded cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:f.jsx("input",{type:"checkbox",checked:M.store?.includes(Q.id),onChange:()=>ti("store",Q.id),className:"w-5 h-5 rounded cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:f.jsx("input",{type:"checkbox",checked:M.therapist?.includes(Q.id),onChange:()=>ti("therapist",Q.id),className:"w-5 h-5 rounded cursor-pointer"})})]},Q.id))})]})}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:ha,className:"bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),$==="shops"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{title:"",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:he.name,onChange:Q=>Pe({...he,name:Q.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{value:he.manager,onChange:Q=>Pe({...he,manager:Q.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(I).map(Q=>f.jsxs("option",{value:Q,children:[Q," "]},Q))]}),f.jsx(Y1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),f.jsxs("button",{onClick:br,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[f.jsx(Xp,{size:18})," "]})]})}),f.jsx(jt,{title:"",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:bi.map(([Q,Te])=>f.jsxs("div",{className:`bg-stone-50 rounded-2xl p-4 border ${Q===Qe?"border-stone-300 shadow-inner":"border-stone-100"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[f.jsxs("span",{className:`font-bold ${Q===Qe?"text-stone-500":"text-stone-700"}`,children:[Q," ",Q!==Qe&&""]}),f.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[Te.length," "]})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Te.map(Ne=>f.jsxs("div",{className:"group relative flex items-center",children:[f.jsx("span",{className:`px-3 py-1.5 border rounded-lg text-xs font-bold shadow-sm pr-7 ${Q===Qe?"bg-white text-stone-500 border-stone-200":"bg-white text-stone-600 border-stone-200"}`,children:Ne}),f.jsx("button",{onClick:()=>rn(Ne,Q),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:f.jsx(aa,{size:12})})]},Ne))})]},Q))})})]}),$==="stores"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{title:"",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),f.jsx("input",{type:"text",value:ee.name,onChange:Q=>W({...ee,name:Q.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:ee.password,onChange:Q=>W({...ee,password:Q.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative w-full",children:[f.jsx($i,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),f.jsxs("select",{value:ee.stores,onChange:Q=>W({...ee,stores:Q.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),$t.map(Q=>f.jsx("option",{value:Q,children:Q},Q))]}),f.jsx(Y1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),f.jsx("button",{onClick:no,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:f.jsx(Xp,{size:20})})]})]})]})}),f.jsx(jt,{title:"",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),f.jsx("th",{className:"p-4",children:""}),f.jsx("th",{className:"p-4",children:""}),f.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(Q=>f.jsxs("tr",{className:"hover:bg-stone-50",children:[f.jsx("td",{className:"p-4 font-bold text-stone-700",children:Q.name}),f.jsx("td",{className:"p-4 font-mono text-stone-500",children:Q.password}),f.jsx("td",{className:"p-4",children:f.jsx("div",{className:"flex flex-wrap gap-1",children:Q.stores&&Q.stores.map(Te=>f.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:Te},Te))})}),f.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[f.jsx("button",{onClick:()=>xr(Q),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:f.jsx(Az,{size:18})}),f.jsx("button",{onClick:()=>Br(Q.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:f.jsx(fg,{size:18})})]})]},Q.id))})]})})}),H&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[f.jsx("span",{children:""}),f.jsx("button",{onClick:()=>te(null),children:f.jsx(aa,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),f.jsx("input",{type:"text",value:oe.name,onChange:Q=>we({...oe,name:Q.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsx("input",{type:"text",value:oe.password,onChange:Q=>we({...oe,password:Q.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:oe.stores.map(Q=>f.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[Q," ",f.jsx("button",{onClick:()=>Xt(Q),className:"text-stone-300 hover:text-rose-500",children:f.jsx(aa,{size:12})})]},Q))}),f.jsx("div",{className:"relative",children:f.jsxs("select",{onChange:Q=>{Ki(Q.target.value),Q.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[f.jsx("option",{value:"",children:"+ "}),wi.map(Q=>f.jsx("option",{value:Q,children:Q},Q))]})})]}),f.jsxs("div",{className:"pt-4 flex gap-3",children:[f.jsx("button",{onClick:()=>te(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),f.jsx("button",{onClick:$r,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),$==="managers"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{title:"",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:V.name,onChange:Q=>K({...V,name:Q.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:V.password,onChange:Q=>K({...V,password:Q.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("button",{onClick:Or,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[f.jsx(Xp,{size:18})," "]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:bi.map(([Q,Te])=>f.jsxs(jt,{className:`border ${Q===Qe?"border-stone-300 bg-stone-50":"border-stone-200"}`,children:[f.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${Q===Qe?"text-stone-500":"text-stone-700"}`,children:[Q===Qe?f.jsx(nde,{size:20}):f.jsx(Ac,{size:20,className:"text-amber-500"}),Q," ",Q!==Qe&&""]}),Q!==Qe&&f.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[Q]||""]})]}),Q!==Qe&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{Y(Q),ye(Te)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold whitespace-nowrap",children:""}),f.jsx("button",{onClick:()=>xe(Q),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:f.jsx(fg,{size:16})})]})]}),G===Q?f.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ce.map(Ne=>f.jsxs("div",{className:"group relative flex items-center",children:[f.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Ne}),f.jsx("button",{onClick:()=>io(Ne),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:f.jsx(aa,{size:12})})]},Ne))}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{onChange:Ne=>{ro(Ne.target.value),Ne.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white appearance-none text-stone-700",children:[f.jsx("option",{value:"",children:"+ "}),Za.filter(Ne=>!ce.includes(Ne)).map(Ne=>f.jsx("option",{value:Ne,children:Ne},Ne))]}),f.jsx(Y1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>Y(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400 hover:text-stone-600",children:""}),f.jsx("button",{onClick:()=>qn(Q),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg hover:bg-stone-700 shadow-sm",children:""})]})]}):f.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Te.map(Ne=>f.jsx("span",{className:`px-2.5 py-1 border rounded-lg text-xs font-bold ${Q===Qe?"bg-white border-stone-200 text-stone-400":"bg-stone-50 border-stone-100 text-stone-600"}`,children:Ne},Ne))})]},Q))})]}),$==="therapists"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[f.jsxs("div",{className:"relative w-full md:w-64",children:[f.jsx(CA,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),f.jsx("input",{type:"text",placeholder:"...",value:Ve,onChange:Q=>ze(Q.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),f.jsxs("button",{onClick:()=>Se(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[f.jsx(Xp,{size:18})," "]})]})}),(re||Ae)&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[f.jsx("span",{children:Ae?"":""}),f.jsx("button",{onClick:()=>{Se(!1),J(null)},children:f.jsx(aa,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsxs("select",{value:Ge,onChange:Q=>{wt(Q.target.value),tr("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[f.jsx("option",{value:"",children:""}),Object.keys(I).map(Q=>f.jsxs("option",{value:Q,children:[Q,""]},Q))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsxs("select",{value:cn,onChange:Q=>tr(Q.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!Ge,children:[f.jsx("option",{value:"",children:""}),ni.map(Q=>f.jsx("option",{value:Q,children:Q},Q))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsx("input",{type:"text",value:Dt,onChange:Q=>Ot(Q.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),f.jsx("input",{type:"text",value:Ur,onChange:Q=>Qa(Q.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),f.jsxs("div",{className:"pt-4 flex gap-3",children:[f.jsx("button",{onClick:()=>{Se(!1),J(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),f.jsx("button",{onClick:Ae?tt:je,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:Ae?"":""})]})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ri.map(Q=>f.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${Q.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[f.jsx($i,{size:12})," ",Q.store,""]}),f.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[Q.name,Q.status==="resigned"&&f.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>Qt(Q),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:f.jsx(Ide,{size:16})}),f.jsx("button",{onClick:()=>vt(Q),className:`p-2 rounded-lg ${Q.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:Q.status==="active"?"":"",children:Q.status==="active"?f.jsx(Oz,{size:16}):f.jsx(Cz,{size:16})})]})]}),f.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[f.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[f.jsx(Xue,{size:12})," : ",Q.password]}),f.jsx("button",{onClick:()=>an(Q.id),className:"text-stone-300 hover:text-rose-400",children:f.jsx(fg,{size:14})})]})]},Q.id))})]})]})})},bfe=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:d,userRole:m,therapistTargets:p,auditExclusions:g=[],handleUpdateAuditExclusions:b,currentBrand:_}=w.useContext(yr),[S,E]=w.useState(Iz(new Date)),[A,j]=w.useState(m==="trainer"?"therapist-daily":"daily"),[L,U]=w.useState(!1),[q,$]=w.useState([]),z=w.useMemo(()=>{let G="CYJ";if(_){const ce=(typeof _=="string"?_:_.id||"CYJ").toLowerCase();ce.includes("anniu")||ce.includes("anew")?G="":ce.includes("yibo")?G="":G="CYJ"}return G},[_]),O=()=>{$(g||[]),U(!0)},N=async()=>{await b(q),U(!1),e("","success")},M=G=>{$(Y=>Y.includes(G)?Y.filter(ce=>ce!==G):[...Y,G])},P=w.useMemo(()=>Object.values(t).flat().filter(Y=>!g.includes(Y)).map(Y=>{const ce=[Y,`${Y}`,`${z}${Y}`,`${z}${Y}`,`CYJ${Y}`];return{id:Y,name:`${Y}`,stores:ce}}),[t,g,z]),I=w.useMemo(()=>l.filter(G=>G.status==="active").map(G=>({id:G.id,name:G.name,stores:[G.id]})),[l]),D=w.useMemo(()=>s.map(G=>{const Y=G.date?mr(G.date):"";return{...G,storeName:G.storeName,date:Y}}),[s]),k=w.useMemo(()=>{const G=u.map(he=>({...he,storeName:he.therapistId,date:he.date?mr(he.date):""}));if(A!=="therapist-daily")return G;const Y=[],ce=parseInt(r),ye=parseInt(i);return l.filter(he=>he.status==="active").forEach(he=>{const Pe=`${he.id}_${ce}_${ye}`;(d[Pe]?.daysOff||[]).forEach(Ae=>{const J=`${ce}-${ye.toString().padStart(2,"0")}-${Ae.toString().padStart(2,"0")}`;Y.push({id:`ghost_${he.id}_${J}`,storeName:he.id,date:J,isGhost:!0,revenue:0})})}),[...G,...Y]},[u,A,r,i,l,d]),ie=A==="therapist-daily",ee=ie?I:P,W=ie?k:D,H=w.useMemo(()=>{if(!S)return{submitted:[],missing:[],missingByManager:{}};const G=mr(S),Y=s.filter(ye=>mr(ye.date)===G).map(ye=>ye.storeName),ce={};return Object.entries(t).forEach(([ye,he])=>{const Pe=[];he.forEach(re=>{if(g.includes(re))return;Y.some(Ae=>Ae&&Ae.includes(re))||Pe.push(`${z}${re}`)}),Pe.length&&(ce[ye]=Pe)}),{submitted:Y,missing:Object.values(ce).flat(),missingByManager:ce}},[S,s,t,g,z]),te=w.useMemo(()=>{const G={},Y=parseInt(r),ce=parseInt(i);return Object.entries(t).forEach(([ye,he])=>{const Pe=[];he.forEach(re=>{if(g.includes(re))return;const Se=`${z}${re}`,Ae=`${Se}_${Y}_${ce}`,J=n[Ae];(!J||!J.cashTarget&&!J.accrualTarget)&&Pe.push(Se)}),Pe.length&&(G[ye]=Pe)}),{missing:Object.values(G).flat(),missingByManager:G}},[n,t,r,i,g,z]),oe=w.useMemo(()=>{if(!S)return{missing:[],missingByManager:{}};const G=mr(S),Y=new Date(G),ce=Y.getFullYear().toString(),ye=Y.getMonth()+1,he=Y.getDate(),Pe=new Set((u||[]).filter(Se=>mr(Se.date)===G).map(Se=>Se.therapistId)),re={};return(l||[]).filter(Se=>Se.status==="active").forEach(Se=>{const Ae=`${Se.id}_${ce}_${ye}`;if(!d[Ae]?.daysOff?.includes(he)&&!Pe.has(Se.id)){const ze=Se.manager||"";re[ze]||(re[ze]=[]),re[ze].push(`${Se.name} (${Se.store})`)}}),{missing:Object.values(re).flat(),missingByManager:re}},[S,l,u,d]),we=w.useMemo(()=>{const G={},Y=r,ce=parseInt(i).toString();return(l||[]).filter(ye=>ye.status==="active").forEach(ye=>{const he=`${ye.id}_${Y}`,re=p[he]?.monthlyTargets?.[ce];if(!(re&&parseInt(re)>0)){const Ae=ye.manager||"";G[Ae]||(G[Ae]=[]),G[Ae].push(`${ye.name} (${ye.store})`)}}),{missing:Object.values(G).flat(),missingByManager:G}},[l,p,r,i]),V=A==="daily"?H:A==="target"?te:A==="therapist-daily"?oe:we,K=()=>{let G="";A==="target"?G=`(${r}/${i})
`:A==="therapist-target"?G=`(${r}/${i})
`:A==="therapist-daily"?G=`(${S})
`:G=`(${S})
`,Object.entries(V.missingByManager).forEach(([Y,ce])=>{const ye=ce.map(he=>A.includes("therapist")?he:he.replace(/CYJ|||Anew|Yibo|/gi,"").trim());G+=`${Y}${ye.join("")}
`}),navigator.clipboard.writeText(G),e("","success")};return f.jsxs(Zr,{children:[f.jsxs(jt,{title:"",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[f.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[m!=="trainer"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>j("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),f.jsx("button",{onClick:()=>j("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),f.jsx("button",{onClick:()=>j("therapist-daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="therapist-daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),f.jsx("button",{onClick:()=>j("therapist-target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="therapist-target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),f.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[A==="daily"||A==="therapist-daily"?f.jsx("div",{className:"w-full sm:w-auto relative z-10",children:P.length===0?f.jsxs("div",{className:"px-4 py-3 bg-rose-50 text-rose-600 text-sm font-bold rounded-xl border border-rose-100 flex items-center gap-2 whitespace-nowrap animate-pulse",children:[f.jsx(Iue,{size:18}),"  ()"]}):f.jsx(Pz,{selectedDate:S,onDateSelect:E,stores:ee,salesData:W})}):f.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start flex-grow",children:[f.jsx(am,{size:16})," ",r,"  ",i," "]}),(m==="director"||m==="manager")&&(A==="daily"||A==="target")&&f.jsx("button",{onClick:O,className:"p-2 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200",title:"",children:f.jsx(ey,{size:20})})]})]}),(A==="daily"||A==="therapist-daily")&&f.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),f.jsx("span",{className:"whitespace-nowrap",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),f.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),f.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[f.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[f.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[f.jsx(yc,{size:20}),A==="therapist-daily"?" ()":A==="therapist-target"?"":"",f.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:V.missing.length})]}),f.jsx("button",{onClick:K,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),f.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(V.missingByManager).map(([G,Y])=>f.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[f.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[G," "]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map((ce,ye)=>f.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[A.includes("therapist")&&f.jsx(Oz,{size:10,className:"text-rose-400"}),A.includes("therapist")?ce:ce.replace(/CYJ|||Anew|Yibo|/gi,"").replace(z,"")]},ye))})]},G)),V.missing.length===0&&f.jsx("div",{className:"col-span-3 text-center py-10",children:f.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:f.jsx(Fs,{size:24})}),"",A==="therapist-daily"&&f.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]}),L&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(TA,{size:20,className:"text-rose-400"})," "]}),f.jsx("button",{onClick:()=>U(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(aa,{size:20})})]}),f.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(t).map(([G,Y])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[G," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Y.map(ce=>{const ye=q.includes(ce);return f.jsxs("button",{onClick:()=>M(ce),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${ye?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[ye&&f.jsx(Fs,{size:14}),ce]},ce)})})]},G))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>U(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:N,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(Ec,{size:18})," "]})]})]})})]})},xfe=(t,e,n,r,i)=>w.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,d=t.filter(O=>{if(!O.date)return!1;const N=O.date.replace(/-/g,"/"),[M]=N.split("/").map(Number);return M===s||M===u}),m=d.reduce((O,N)=>({cash:O.cash+(N.cash||0)-(N.refund||0),accrual:O.accrual+(N.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(O=>`CYJ${O}`);for(let O=1;O<=12;O++)g.forEach(N=>{const M=`${N}_${s}_${O}`;n[M]&&(p.cash+=n[M].cashTarget||0,p.accrual+=n[M].accrualTarget||0)});const b={cashActual:m.cash,cashTarget:p.cash,cashAchievement:p.cash>0?m.cash/p.cash*100:0,accrualActual:m.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?m.accrual/p.accrual*100:0},_=d.filter(O=>{const N=O.date.replace(/-/g,"/"),[,M]=N.split("/").map(Number);return M===l}),S=[...new Set(_.map(O=>mr(O.date)))].sort(),E=S[S.length-1]||"",A=new Date(s,l,0).getDate();let j=1;E!==""&&(j=parseInt(E.split("/")[2]));const L=S.map(O=>{const N=_.filter(M=>mr(M.date)===O);return{date:O.split("/")[2],fullDate:O,cash:N.reduce((M,P)=>M+(P.cash||0)-(P.refund||0),0),traffic:N.reduce((M,P)=>M+(P.traffic||0),0)}}),q=Object.entries(e).flatMap(([O,N])=>N.map(M=>({name:`CYJ${M}`,manager:O}))).map(O=>{const N=_.filter(G=>G.storeName===O.name),M=N.reduce((G,Y)=>G+(Y.cash||0),0),P=N.reduce((G,Y)=>G+(Y.refund||0),0),I=M-P,D=N.reduce((G,Y)=>G+(Y.accrual||0),0),k=N.reduce((G,Y)=>G+(Y.operationalAccrual||0),0),ie=N.reduce((G,Y)=>G+(Y.traffic||0),0),ee=N.reduce((G,Y)=>G+(Y.newCustomers||0),0),W=N.reduce((G,Y)=>G+(Y.newCustomerClosings||0),0),H=N.reduce((G,Y)=>G+(Y.newCustomerSales||0),0),te=N.reduce((G,Y)=>G+(Y.skincareSales||0),0),oe=N.reduce((G,Y)=>G+(Y.skincareRefund||0),0),we=te-oe,V=`${O.name}_${s}_${l}`,K=n[V]||{cashTarget:0,accrualTarget:0};return{...O,cashTotal:I,accrualTotal:D,operationalAccrualTotal:k,trafficTotal:ie,newCustomersTotal:ee,newCustomerClosingsTotal:W,newCustomerSalesTotal:H,skincareSalesTotal:we,skincareRefundTotal:oe,refundTotal:P,cashBudget:K.cashTarget,accrualBudget:K.accrualTarget,projection:j>0?Math.round(I/j*A):0,achievement:K.cashTarget>0?I/K.cashTarget*100:0,trafficASP:ie>0?Math.round(k/ie):0,newCustomerASP:ee>0?Math.round(H/ee):0}}),$=q.reduce((O,N)=>({cash:O.cash+N.cashTotal,accrual:O.accrual+N.accrualTotal,operationalAccrual:O.operationalAccrual+N.operationalAccrualTotal,skincareSales:O.skincareSales+N.skincareSalesTotal,skincareRefund:O.skincareRefund+N.skincareRefundTotal,traffic:O.traffic+N.trafficTotal,newCustomers:O.newCustomers+N.newCustomersTotal,newCustomerClosings:O.newCustomerClosings+N.newCustomerClosingsTotal,newCustomerSales:O.newCustomerSales+N.newCustomerSalesTotal,refund:O.refund+N.refundTotal,budget:O.budget+N.cashBudget,accrualBudget:O.accrualBudget+N.accrualBudget,projection:O.projection+N.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),z=Object.entries(e).map(([O,N])=>{const M=q.filter(V=>V.manager===O),P=M.reduce((V,K)=>V+K.cashTotal,0),I=M.reduce((V,K)=>V+K.accrualTotal,0),D=M.reduce((V,K)=>V+K.operationalAccrualTotal,0),k=M.reduce((V,K)=>V+K.cashBudget,0),ie=M.reduce((V,K)=>V+K.skincareSalesTotal,0),ee=M.reduce((V,K)=>V+K.skincareRefundTotal,0),W=M.reduce((V,K)=>V+K.trafficTotal,0),H=M.reduce((V,K)=>V+K.newCustomersTotal,0),te=M.reduce((V,K)=>V+K.newCustomerClosingsTotal,0),oe=M.reduce((V,K)=>V+K.refundTotal,0),we=W>0?Math.round(D/W):0;return{manager:O,cashTotal:P,accrualTotal:I,operationalAccrualTotal:D,skincareSalesTotal:ie,skincareRefundTotal:ee,trafficTotal:W,newCustomersTotal:H,newCustomerClosingsTotal:te,refundTotal:oe,trafficASP:we,achievement:k>0?P/k*100:0}});return{latestDate:E,daysPassed:j,daysInMonth:A,remainingDays:A-j,dailyTotals:L,storeList:q,grandTotal:$,regionalStats:z,yearlyStats:b,totalAchievement:$.budget>0?$.cash/$.budget*100:0,avgTrafficASP:$.traffic>0?Math.round($.operationalAccrual/$.traffic):0,avgNewCustomerASP:$.newCustomers>0?Math.round($.newCustomerSales/$.newCustomers):0,allDates:S}},[t,e,n,r,i]),wfe=()=>f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"flex items-center justify-center w-6",children:f.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[f.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),f.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),_fe=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s,auditExclusions:l,handleUpdateAuditExclusions:u,userRole:d,showToast:m,currentBrand:p}=w.useContext(yr),[g,b]=w.useState(`${s}-01`),[_,S]=w.useState(`${s}-12`),[E,A]=w.useState(!1),[j,L]=w.useState([]),U=w.useMemo(()=>{let k="CYJ";if(p){const ee=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();ee.includes("anniu")||ee.includes("anew")?k="":ee.includes("yibo")?k="":k="CYJ"}return k},[p]),q=k=>k?k.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";w.useEffect(()=>{b(`${s}-01`),S(`${s}-12`)},[s]);const $=()=>{L(l||[]),A(!0)},z=async()=>{await u(j),A(!1),m("","success")},O=k=>{L(ie=>ie.includes(k)?ie.filter(ee=>ee!==k):[...ie,k])},N=k=>{let ie="01",ee="03";switch(k){case 1:ie="01",ee="03";break;case 2:ie="04",ee="06";break;case 3:ie="07",ee="09";break;case 4:ie="10",ee="12";break;case"ALL":ie="01",ee="12";break}b(`${s}-${ie}`),S(`${s}-${ee}`)},M=w.useMemo(()=>g===`${s}-01`&&_===`${s}-03`?1:g===`${s}-04`&&_===`${s}-06`?2:g===`${s}-07`&&_===`${s}-09`?3:g===`${s}-10`&&_===`${s}-12`?4:g===`${s}-01`&&_===`${s}-12`?"ALL":null,[g,_,s]),P=w.useMemo(()=>{const k=Object.values(n).flat().filter(G=>!l.includes(G)).map(G=>`${U}${G}`),ie=[];let ee=new Date(`${g}-01`);const W=new Date(`${_}-01`);for(ee>W&&(ee=new Date(`${g}-01`));ee<=W;){const G=ee.getFullYear(),Y=ee.getMonth()+1;ie.push({label:`${G}/${Y}`,y:G,m:Y,dateKey:`${G}/${Y.toString().padStart(2,"0")}`}),ee.setMonth(ee.getMonth()+1)}const H=ie.map(G=>({...G,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(G=>{const Y=q(G.storeName);if(l.includes(Y)||!G.date)return;const ye=G.date.replace(/-/g,"/").split("/"),he=parseInt(ye[0]),Pe=parseInt(ye[1]),re=he<1911?he+1911:he,Se=H.find(Ae=>Ae.y===re&&Ae.m===Pe);Se&&(Se.cash+=(G.cash||0)-(G.refund||0),Se.accrual+=G.accrual||0,Se.traffic+=G.traffic||0)});let te=0,oe=0,we=0,V=0,K=0;return H.forEach(G=>{k.forEach(Y=>{const ce=`${Y}_${G.y}_${G.m}`;e[ce]&&(G.budget+=e[ce].cashTarget||0,G.accrualBudget+=e[ce].accrualTarget||0)}),G.achievement=G.budget>0?G.cash/G.budget*100:0,G.accrualAchievement=G.accrualBudget>0?G.accrual/G.accrualBudget*100:0,te+=G.cash,oe+=G.budget,we+=G.accrual,V+=G.accrualBudget,K+=G.traffic}),{monthlyStats:H,totals:{cash:te,budget:oe,cashAch:oe>0?te/oe*100:0,accrual:we,accrualBudget:V,accrualAch:V>0?we/V*100:0,traffic:K}}},[t,e,n,g,_,l,U]),{monthlyStats:I,totals:D}=P;return f.jsxs(Zr,{children:[f.jsxs("div",{className:"space-y-6 pb-12",children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:f.jsx(to,{size:24})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold text-stone-800",children:[" (",U,")"]}),f.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 self-start md:self-auto md:ml-auto",children:[f.jsxs("div",{className:"px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full",children:[":  (",Object.values(n).flat().filter(k=>!l.includes(k)).length," )"]}),(d==="director"||d==="manager")&&f.jsx("button",{onClick:$,className:"p-1.5 bg-stone-100 text-stone-500 rounded-full hover:bg-stone-200 transition-colors",title:" ()",children:f.jsx(ey,{size:16})})]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[f.jsx(_z,{size:18,className:"text-amber-500"}),f.jsx("span",{children:""})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>N("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${M==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(k=>f.jsxs("button",{onClick:()=>N(k),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${M===k?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",k]},k))]}),f.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),f.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:f.jsx("span",{children:""})}),f.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[f.jsx("input",{type:"month",value:g,onChange:k=>b(k.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),f.jsx("span",{className:"text-stone-400",children:f.jsx(Z0,{size:16})}),f.jsx("input",{type:"month",value:_,onChange:k=>S(k.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:f.jsx(cl,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[f.jsx(am,{size:14})," "]}),f.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(D.cash)}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[f.jsxs("span",{children:[" ",r(D.budget)]}),f.jsxs("span",{children:[D.cashAch.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(D.cashAch,100)}%`}})})]})]})]}),f.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:f.jsx(nc,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[f.jsx(yz,{size:14})," "]}),f.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(D.accrual)}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[f.jsxs("span",{children:[" ",r(D.accrualBudget)]}),f.jsxs("span",{className:D.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[D.accrualAch.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(D.accrualAch,100)}%`}})})]})]})]})]}),f.jsx(jt,{title:"",subtitle:" vs  (/)",children:f.jsx("div",{className:"h-[350px] w-full",children:f.jsx(g0,{width:"100%",height:"100%",children:f.jsxs(AA,{data:I,margin:{top:20,right:0,left:0,bottom:0},children:[f.jsx(X0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),f.jsx(J0,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),f.jsx(Gu,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:k=>`${(k/1e4).toFixed(0)}`}),f.jsx($0,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:k=>r(k),itemSorter:k=>({:1,:2,:3,:4})[k.name]||99}),f.jsx(_0,{content:f.jsx(wfe,{}),verticalAlign:"top",height:36}),f.jsx(xA,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),f.jsx(Ku,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),f.jsx(wA,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),f.jsx(Ku,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),f.jsx(jt,{title:"",children:f.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"pb-3 pl-2",children:""}),f.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),f.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),f.jsx("th",{className:"pb-3 text-right",children:""}),f.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),f.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),f.jsx("th",{className:"pb-3 text-right",children:""}),f.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-50",children:I.map((k,ie)=>f.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:k.label}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(k.budget)}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(k.cash)}),f.jsx("td",{className:"py-4 text-right font-bold",children:f.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${k.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[k.achievement.toFixed(1),"%"]})}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(k.accrualBudget)}),f.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(k.accrual)}),f.jsx("td",{className:"py-4 text-right font-bold",children:f.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${k.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[k.accrualAchievement.toFixed(1),"%"]})}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(k.traffic)})]},ie))}),f.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(D.budget)}),f.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(D.cash)}),f.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[D.cashAch.toFixed(1),"%"]}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(D.accrualBudget)}),f.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(D.accrual)}),f.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[D.accrualAch.toFixed(1),"%"]}),f.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(D.traffic)})]})})]})})})]}),E&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(TA,{size:20,className:"text-rose-400"}),"  (",U,")"]}),f.jsx("button",{onClick:()=>A(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(aa,{size:20})})]}),f.jsxs("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:[f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]}),f.jsx("p",{className:"text-xs mt-1 text-stone-400",children:"()"})]}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(n).map(([k,ie])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[k," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ie.map(ee=>{const W=j.includes(ee);return f.jsxs("button",{onClick:()=>O(ee),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${W?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[W&&f.jsx(Fs,{size:14}),ee]},ee)})})]},k))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>A(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:z,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(Ec,{size:18})," "]})]})]})})]})},Sfe=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s,getCollectionPath:l,currentBrand:u}=w.useContext(yr),d=new Date().getFullYear(),[m,p]=w.useState(d),[g,b]=w.useState(""),[_,S]=w.useState(""),[E,A]=w.useState(!1),[j,L]=w.useState(Array.from({length:12},(N,M)=>({month:M+1,cashTarget:"",accrualTarget:""}))),U=w.useMemo(()=>{let N="CYJ";if(u){const P=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();P.includes("anniu")||P.includes("anew")?N="":P.includes("yibo")?N="":N="CYJ"}return N},[u]),q=w.useMemo(()=>{const N=M=>{const P=M.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${U}${P}`};return t==="director"||t==="trainer"?g?(e[g]||[]).map(N):[]:t==="manager"?Object.values(e).flat().map(N):t==="store"&&n?(n.stores||[n.storeName]).map(N):[]},[g,e,n,t,U]);w.useEffect(()=>{if(_&&!q.includes(_)&&S(""),t==="store"&&n){const N=n.stores||[n.storeName];if(N.length>0){let M=N[0];M=M.replace(/CYJ|||Anew|Yibo|/gi,"").trim();const P=Object.keys(e).find(D=>e[D].includes(M));P&&b(P);const I=`${U}${M}`;S(I)}}else t==="manager"&&n&&b(n.name)},[t,n,e,U,q]),w.useEffect(()=>{if(!_){L(Array.from({length:12},(M,P)=>({month:P+1,cashTarget:"",accrualTarget:""})));return}const N=Array.from({length:12},(M,P)=>{const I=P+1,D=`${_}_${m}_${I}`,k=r[D];return{month:I,cashTarget:k?rc(k.cashTarget):"",accrualTarget:k?rc(k.accrualTarget):""}});L(N)},[_,m,r]);const $=N=>{if(t==="director"||t==="manager"||t==="trainer")return!1;const M=N+1,P=`${_}_${m}_${M}`,I=r[P];return!!(I&&(I.cashTarget>0||I.accrualTarget>0))},z=(N,M,P)=>{if($(N))return;const I=P.replace(/,/g,"");/^\d*$/.test(I)&&L(D=>{const k=[...D];return k[N]={...k[N],[M]:rc(I)},k})},O=async()=>{if(!_){i("","error");return}A(!0);try{const N=hF(Ss);let M=!1;if(j.forEach((P,I)=>{if($(I))return;const D=dr(P.cashTarget),k=dr(P.accrualTarget);if(D>0||k>0){const ie=`${_}_${m}_${P.month}`,ee=Jn(l("monthly_targets"),ie);N.set(ee,{cashTarget:D,accrualTarget:k,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),M=!0}}),!M){i("","info"),A(!1);return}await N.commit(),i(`${m} `,"success"),s(t,n?.name,"",`${_} ${m}`)}catch(N){console.error("Save targets error:",N),i("","error")}finally{A(!1)}};return f.jsx(Zr,{children:f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[f.jsx(jt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:f.jsx(Yu,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[f.jsxs("p",{children:["Annual Budget Planning (",U,")"]}),t==="store"&&f.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[f.jsx(Vf,{size:10})," "]})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[f.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[f.jsxs("select",{value:m,onChange:N=>p(Number(N.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[f.jsxs("option",{value:d-1,children:[d-1," "]}),f.jsxs("option",{value:d,children:[d," "]}),f.jsxs("option",{value:d+1,children:[d+1," "]})]}),f.jsx(to,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),f.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:f.jsxs("select",{value:g,onChange:N=>{b(N.target.value),S("")},disabled:t!=="director"&&t!=="trainer",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(e).map(N=>f.jsxs("option",{value:N,children:[N,""]},N))]})}),f.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[f.jsxs("select",{value:_,onChange:N=>S(N.target.value),disabled:!g,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),q.map(N=>f.jsx("option",{value:N,children:N},N))]}),f.jsx($i,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),_?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block",children:f.jsx(jt,{title:`${_} - ${m} `,children:f.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:f.jsxs("table",{className:"w-full text-sm text-left",children:[f.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 pl-4",children:""}),f.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),f.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),f.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:j.map((N,M)=>{const P=$(M);return f.jsxs("tr",{className:`transition-colors ${P?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[f.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[N.month," "]}),f.jsx("td",{className:"py-2 px-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(cl,{size:14,className:`absolute left-3 top-3 ${P?"text-stone-300":"text-stone-400"}`}),f.jsx("input",{type:"text",placeholder:P?"-":"0",value:N.cashTarget,onChange:I=>z(M,"cashTarget",I.target.value),disabled:P,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${P?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),f.jsx("td",{className:"py-2 px-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(__,{size:14,className:`absolute left-3 top-3 ${P?"text-stone-300":"text-stone-400"}`}),f.jsx("input",{type:"text",placeholder:P?"-":"0",value:N.accrualTarget,onChange:I=>z(M,"accrualTarget",I.target.value),disabled:P,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${P?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),f.jsx("td",{className:"py-2 px-2 text-center",children:P?f.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:f.jsx(Vf,{size:16})}):N.cashTarget?f.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:f.jsx(Fs,{size:16,className:"opacity-0 group-hover:opacity-50"})}):f.jsx("div",{className:"flex items-center justify-center text-stone-200",children:f.jsx(Yu,{size:16})})})]},N.month)})})]})})})}),f.jsxs("div",{className:"md:hidden space-y-4",children:[f.jsx("div",{className:"flex items-center justify-between px-2",children:f.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[f.jsx($i,{size:18,className:"text-amber-500"}),_,f.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:m})]})}),j.map((N,M)=>{const P=$(M);return f.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${P?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[f.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[f.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[N.month," "]}),N.cashTarget&&!P&&f.jsx(Fs,{size:16,className:"text-emerald-500"})]}),P&&f.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[f.jsx(Vf,{size:12})," "]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[f.jsx(cl,{size:12}),"  (Cash)"]}),f.jsx("input",{type:"text",inputMode:"numeric",placeholder:P?"":"...",value:N.cashTarget,onChange:I=>z(M,"cashTarget",I.target.value),disabled:P,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${P?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[f.jsx(__,{size:12}),"  (Accrual)"]}),f.jsx("input",{type:"text",inputMode:"numeric",placeholder:P?"":"...",value:N.accrualTarget,onChange:I=>z(M,"accrualTarget",I.target.value),disabled:P,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${P?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},N.month)})]}),f.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:f.jsx("button",{onClick:O,disabled:E,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:E?"...":f.jsxs(f.Fragment,{children:[f.jsx(Ec,{size:20})," "]})})}),f.jsx("div",{className:"h-24 md:hidden"})]}):f.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[f.jsx($i,{size:48,className:"mx-auto mb-2 opacity-20"}),f.jsx("p",{children:""})]})]})})},Efe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=w.useContext(yr),[d,m]=w.useState(new Date().getFullYear().toString()),[p,g]=w.useState(""),[b,_]=w.useState(""),[S,E]=w.useState(""),[A,j]=w.useState({}),L=w.useMemo(()=>{let z="CYJ";if(u){const N=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();N.includes("anniu")||N.includes("anew")?z="":N.includes("yibo")?z="":z="CYJ"}return z},[u]);w.useEffect(()=>{g(""),_(""),E("");const z=O=>O?O.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const O=i.storeName||i.store||"",N=z(O),M=Object.keys(s).find(P=>s[P].includes(N));M&&g(M),_(N||i.store),E(i.id)}else if(r==="store"&&i){const O=i.stores||[i.storeName];if(O.length>0){const N=O[0],M=z(N),P=Object.keys(s).find(I=>s[I].includes(M));P&&g(P),O.length===1&&_(M)}}else r==="manager"&&i&&g(i.name)},[r,i,s,L,u]);const U=w.useMemo(()=>{if(!p)return[];const z=s[p]||[];if(r==="store"&&i){const N=(i.stores||[i.storeName]).map(M=>M.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return z.filter(M=>N.includes(M))}return z},[p,s,r,i]),q=w.useMemo(()=>b?e.filter(z=>z.status==="active"&&z.store===b).sort((z,O)=>z.name.localeCompare(O.name)):[],[b,e]);w.useEffect(()=>{if(S&&d){const z=`${S}_${d}`,O=n[z]||{};j(O.monthlyTargets||{})}else j({})},[S,d,n]);const $=async()=>{if(!S)return t("","error");try{const z=`${S}_${d}`;await xn(Jn(l("therapist_targets"),z),{therapistId:S,year:d,monthlyTargets:A,updatedAt:fl()},{merge:!0}),t("","success")}catch(z){console.error(z),t("","error")}};return f.jsx(Zr,{children:f.jsx(jt,{title:"",subtitle:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(jA,{size:12}),"  ()"]}),f.jsxs("select",{value:p,onChange:z=>{g(z.target.value),_(""),E("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(s).map(z=>f.jsxs("option",{value:z,children:[z,""]},z))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx($i,{size:12})," "]}),f.jsxs("select",{value:b,onChange:z=>{_(z.target.value),E("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),U.map(z=>f.jsxs("option",{value:z,children:[L,z,""]},z))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(Ac,{size:12})," "]}),f.jsxs("select",{value:S,onChange:z=>E(z.target.value),disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),q.map(z=>f.jsx("option",{value:z.id,children:z.name},z.id))]})]}),f.jsxs("div",{className:"w-full md:w-32",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:d,onChange:z=>m(z.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(z=>f.jsxs("option",{value:z,children:[z,""]},z))})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:$,disabled:!S,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[f.jsx(Ec,{size:18})," "]})}),S?f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(z,O)=>O+1).map(z=>f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[z," "]}),f.jsxs("div",{className:"relative",children:[f.jsx(cl,{size:14,className:"absolute left-3 top-3 text-stone-400"}),f.jsx("input",{type:"number",value:A[z]||"",onChange:O=>j({...A,[z]:O.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},z))}):f.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:f.jsx(am,{size:32,className:"opacity-20"})}),f.jsx("p",{children:"  >  >  "})]})]})})})},Afe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=w.useContext(yr),[d,m]=w.useState(new Date().getFullYear().toString()),[p,g]=w.useState((new Date().getMonth()+1).toString()),[b,_]=w.useState(""),[S,E]=w.useState(""),[A,j]=w.useState(""),[L,U]=w.useState([]),q=w.useMemo(()=>{let P="CYJ";if(u){const D=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();D.includes("anniu")||D.includes("anew")?P="":D.includes("yibo")?P="":P="CYJ"}return P},[u]);w.useEffect(()=>{_(""),E(""),j("");const P=I=>I?I.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const I=i.storeName||i.store||"",D=P(I),k=Object.keys(s).find(ie=>s[ie].includes(D));k&&_(k),E(D||i.store),j(i.id)}else if(r==="store"&&i){const I=i.stores||[i.storeName];if(I.length>0){const D=I[0],k=P(D),ie=Object.keys(s).find(ee=>s[ee].includes(k));ie&&_(ie),I.length===1&&E(k)}}else r==="manager"&&i&&_(i.name)},[r,i,s,q,u]);const $=w.useMemo(()=>{if(!b)return[];const P=s[b]||[];if(r==="store"&&i){const D=(i.stores||[i.storeName]).map(k=>k.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return P.filter(k=>D.includes(k))}return P},[b,s,r,i]),z=w.useMemo(()=>S?e.filter(P=>P.status==="active"&&P.store===S).sort((P,I)=>P.name.localeCompare(I.name)):[],[S,e]);w.useEffect(()=>{if(A&&d&&p){const P=`${A}_${d}_${parseInt(p)}`,I=n[P]||{};U(I.daysOff||[])}else U([])},[A,d,p,n]);const O=P=>{U(I=>I.includes(P)?I.filter(D=>D!==P):[...I,P].sort((D,k)=>D-k))},N=async()=>{if(!A)return t("","error");try{const P=`${A}_${d}_${parseInt(p)}`;await xn(Jn(l("therapist_schedules"),P),{therapistId:A,year:d,month:parseInt(p),daysOff:L,updatedAt:fl()},{merge:!0}),t("","success")}catch(P){console.error(P),t("","error")}},M=(P,I)=>new Date(P,I,0).getDate();return f.jsx(Zr,{children:f.jsx(jt,{title:"",subtitle:" ()",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(jA,{size:12}),"  ()"]}),f.jsxs("select",{value:b,onChange:P=>{_(P.target.value),E(""),j("")},disabled:r==="manager"||r==="therapist"||r==="store"&&b!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(s).map(P=>f.jsxs("option",{value:P,children:[P,""]},P))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx($i,{size:12})," "]}),f.jsxs("select",{value:S,onChange:P=>{E(P.target.value),j("")},disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),$.map(P=>f.jsxs("option",{value:P,children:[q,P,""]},P))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(Ac,{size:12})," "]}),f.jsxs("select",{value:A,onChange:P=>j(P.target.value),disabled:!S||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),z.map(P=>f.jsx("option",{value:P.id,children:P.name},P.id))]})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[f.jsxs("div",{className:"w-1/2 md:w-24",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:d,onChange:P=>m(P.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[2024,2025,2026].map(P=>f.jsx("option",{value:P,children:P},P))})]}),f.jsxs("div",{className:"w-1/2 md:w-24",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:p,onChange:P=>g(P.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(P,I)=>I+1).map(P=>f.jsxs("option",{value:P,children:[P,""]},P))})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:N,disabled:!A,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[f.jsx(Ec,{size:18})," "]})}),A?f.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[f.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(P=>f.jsx("div",{className:"text-xs font-bold text-stone-400",children:P},P))}),f.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(d,p-1,1).getDay()}).map((P,I)=>f.jsx("div",{},`empty-${I}`)),Array.from({length:M(d,p)}).map((P,I)=>{const D=I+1,k=L.includes(D);return f.jsxs("button",{onClick:()=>O(D),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${k?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[D,k&&f.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},D)})]}),f.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):f.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:f.jsx(to,{size:32,className:"opacity-20"})}),f.jsx("p",{children:"  >  >  "})]})]})})})};function Tfe(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[i,s]=w.useState(null),[l,u]=w.useState(!0),[d,m]=w.useState("dashboard"),[p,g]=w.useState(!0),[b,_]=w.useState(null),[S,E]=w.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[A,j]=w.useState(""),[L,U]=w.useState("cyj"),q=w.useMemo(()=>Uf.find(xe=>xe.id===L)||Uf[0],[L]),$=w.useCallback(xe=>q.pathType==="legacy"?bw(Ss,"artifacts",Cf,"public","data",xe):bw(Ss,"brands",q.id,xe),[q]),z=w.useCallback(xe=>q.pathType==="legacy"?Jn(Ss,"artifacts",Cf,"public","data","global_settings",xe):Jn(Ss,"brands",q.id,"settings",xe),[q]),[O,N]=w.useState([]),[M,P]=w.useState({}),[I,D]=w.useState({newASP:3500,trafficASP:1200}),[k,ie]=w.useState({}),[ee,W]=w.useState([]),[H,te]=w.useState({}),[oe,we]=w.useState(hg),[V,K]=w.useState([]),[G,Y]=w.useState({password:"0000"}),[ce,ye]=w.useState([]),[he,Pe]=w.useState({}),[re,Se]=w.useState({}),[Ae,J]=w.useState([]),[Ve,ze]=w.useState(!1),[Ge,wt]=w.useState(15),cn=w.useRef(Date.now()),[tr,Dt]=w.useState(new Date().getFullYear().toString()),[Ot,Ur]=w.useState((new Date().getMonth()+1).toString()),[Qa,fa]=w.useState(()=>Iz(new Date)),Ht=xe=>(xe||"").replace(/CYJ|/g,"").trim(),Qe=w.useCallback(async(xe,je,tt,vt)=>{let an="PC";if(typeof navigator<"u"){const Qt=navigator.userAgent.toLowerCase();Qt.includes("android")?an="Android":Qt.includes("iphone")||Qt.includes("ipad")?an="iOS":Qt.includes("mobile")&&(an="Mobile")}try{await wS($("system_logs"),{timestamp:fl(),role:xe,user:je,action:tt,details:vt,device:an})}catch(Qt){console.error("Failed to log activity",Qt)}},[$]),nr=w.useCallback(async(xe="")=>{const je=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&Qe(n,je,"",xe),ze(!1),wt(15),cn.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),m("dashboard")},[i,n,Qe]),bi=w.useCallback(()=>{n&&(cn.current=Date.now(),Ve&&(ze(!1),wt(15)))},[n,Ve]);w.useEffect(()=>{let xe=null;return n&&(xe=setInterval(()=>{const tt=Date.now()-cn.current,vt=165*1e3,an=180*1e3;if(tt>an)clearInterval(xe),nr(" 3 ");else if(tt>vt){Ve||ze(!0);const Qt=Math.ceil((an-tt)/1e3);wt(Qt>0?Qt:0)}else Ve&&ze(!1)},1e3)),()=>{xe&&clearInterval(xe)}},[n,Ve,nr]),w.useEffect(()=>{if(n){const xe=["mousemove","mousedown","keypress","scroll","touchstart","click"];let je;const tt=()=>{je||(bi(),je=setTimeout(()=>{je=null},500))};return xe.forEach(vt=>window.addEventListener(vt,tt)),cn.current=Date.now(),()=>{xe.forEach(vt=>window.removeEventListener(vt,tt))}}},[n,bi]),w.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await HU(hx,__initial_auth_token):await UU(hx)}catch(je){console.warn("Auth Error:",je)}})(),YU(hx,je=>{e(je),u(!1)})),[]),w.useEffect(()=>{if(!t)return;N([]),P({}),ie({}),W([]),te({}),K([]),ye([]),Pe({}),Se({}),we(hg),D({newASP:3500,trafficASP:1200});const xe=Rr(Jf($("daily_reports"),Rg("date","desc")),$e=>N($e.docs.map(yt=>({id:yt.id,...yt.data()})))),je=Rr($("monthly_targets"),$e=>{const yt={};$e.docs.forEach(rr=>yt[rr.id]=rr.data()),P(yt)}),tt=Rr(z("kpi_targets"),$e=>{$e.exists()?D($e.data()):D({newASP:3500,trafficASP:1200})}),vt=Rr(z("org_structure"),$e=>{if($e.exists()){const yt=$e.data().managers||{},rr={};Object.keys(yt).forEach(Fn=>{!Fn.includes("")&&!Fn.includes("")&&(rr[Fn]=yt[Fn])}),ie(rr)}else q.id==="cyj"?ie(Qde):ie({})}),an=Rr(z("store_account_data"),$e=>{$e.exists()?W($e.data().accounts):W([])}),Qt=Rr(z("manager_auth"),$e=>{$e.exists()?te($e.data()):te({})}),ni=Rr(z("permissions"),$e=>{$e.exists()?we($e.data()):we(hg)}),ri=Rr($("therapists"),$e=>K($e.docs.map(yt=>({id:yt.id,...yt.data()})))),Q=Rr(Jf($("therapist_daily_reports"),Rg("date","desc"),r4(1e3)),$e=>ye($e.docs.map(yt=>({id:yt.id,...yt.data()})))),Te=Rr($("therapist_schedules"),$e=>{const yt={};$e.docs.forEach(rr=>yt[rr.id]=rr.data()),Pe(yt)}),Ne=Rr($("therapist_targets"),$e=>{const yt={};$e.docs.forEach(rr=>yt[rr.id]=rr.data()),Se(yt)}),Re=Rr(z("trainer_auth"),$e=>{$e.exists()?Y($e.data()):Y({password:"0000"})}),ht=Rr(z("audit_exclusions"),$e=>{$e.exists()?J($e.data().stores||[]):J([])});return()=>{xe(),je(),tt(),vt(),an(),Qt(),ni(),ri(),Q(),Te(),Ne(),Re(),ht()}},[t,q,$,z]);const xi=(xe,je=null)=>{let tt=je;if(xe==="therapist"&&je?.name){const an=V.find(Qt=>Qt.name===je.name);an&&(tt={...je,...an,id:an.id||je.id})}r(xe),tt&&s(tt);const vt=tt?.name||(xe==="director"?"":xe==="trainer"?"":"");Qe(xe,vt,"",""),m("dashboard")},Ja=async(xe,je)=>{try{const tt=ee.map(vt=>vt.id===xe?{...vt,password:je}:vt);return await xn(z("store_account_data"),{accounts:tt}),!0}catch{return!1}},ha=async(xe,je)=>{try{return await xn(z("manager_auth"),{[xe]:je},{merge:!0}),!0}catch{return!1}},ti=async(xe,je)=>{try{return await kg(Jn($("therapists"),xe),{password:je}),!0}catch(tt){return console.error(tt),!1}},ma=async xe=>{try{return await xn(z("trainer_auth"),{password:xe}),!0}catch(je){return console.error(je),!1}},br=async xe=>{try{return await xn(z("audit_exclusions"),{stores:xe}),!0}catch(je){return console.error(je),!1}},rn=w.useCallback(xe=>{m("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:xe}))},[]),qn=w.useMemo(()=>{if(n===cr.TRAINER.id)return[];if(n===cr.STORE.id&&i){const xe=(i.stores||[i.storeName]).map(je=>je&&je.startsWith("CYJ")?je:`CYJ${je}`);return O.filter(je=>xe.includes(je.storeName))}if(n===cr.MANAGER.id&&i){const xe=(k[i.name]||[]).map(je=>`CYJ${je}`);return O.filter(je=>xe.includes(je.storeName))}return O},[O,n,i,k]),$t=w.useMemo(()=>{if(n===cr.DIRECTOR.id||n===cr.TRAINER.id||n===cr.THERAPIST.id)return ce;if(n===cr.MANAGER.id&&i){const xe=k[i.name]||[];return ce.filter(je=>xe.includes(Ht(je.storeName)))}if(n===cr.STORE.id&&i){const xe=(i.stores||[i.storeName]).map(Ht);return ce.filter(je=>xe.includes(Ht(je.storeName)))}return[]},[ce,n,i,k]),Za=w.useMemo(()=>{if(n===cr.DIRECTOR.id||n===cr.TRAINER.id)return V;if(n===cr.MANAGER.id&&i){const xe=k[i.name]||[];return V.filter(je=>xe.includes(Ht(je.store)))}if(n===cr.STORE.id&&i){const xe=(i.stores||[i.storeName]).map(Ht);return V.filter(je=>xe.includes(Ht(je.store)))}return n===cr.THERAPIST.id&&i?V.filter(xe=>xe.id===i.id):[]},[V,n,i,k]),wi=w.useMemo(()=>{let xe=k;if(n===cr.MANAGER.id&&i){const je=k[i.name]||[];xe={[i.name]:je}}else if(n===cr.STORE.id&&i){const je=i.stores||(i.storeName?[i.storeName]:[]),tt={};Object.entries(k).forEach(([vt,an])=>{const Qt=an.filter(ni=>je.includes(ni));Qt.length>0&&(tt[vt]=Qt)}),xe=tt}if(d!=="settings"){const je={};return Object.entries(xe).forEach(([tt,vt])=>{!tt.includes("")&&!tt.includes("")&&(je[tt]=vt)}),je}return xe},[k,n,i,d]),no=w.useMemo(()=>{const xe={};return Object.entries(k).forEach(([je,tt])=>{!je.includes("")&&!je.includes("")&&(xe[je]=tt)}),xe},[k]),xr=xfe(qn,wi,M,tr,Ot),Ki=(xe,je="info")=>_({message:xe,type:je}),Xt=w.useCallback((xe,je,tt)=>E({isOpen:!0,title:xe,message:je,onConfirm:()=>{tt(),E(vt=>({...vt,isOpen:!1}))}}),[]),$r=()=>E(xe=>({...xe,isOpen:!1})),Br=xe=>`$${(xe||0).toLocaleString()}`,Or=xe=>(xe||0).toLocaleString(),ro=w.useMemo(()=>Object.values(k).flat().map(xe=>`CYJ${xe}`),[k]),io=w.useMemo(()=>({user:t,loading:l,analytics:xr,managers:wi,budgets:M,targets:I,rawData:qn,allReports:O,showToast:Ki,openConfirm:Xt,fmtMoney:Br,fmtNum:Or,inputDate:Qa,setInputDate:fa,storeList:xr?.storeList||[],setTargets:D,selectedYear:tr,selectedMonth:Ot,permissions:oe,storeAccounts:ee,managerAuth:H,currentUser:i,userRole:n,logActivity:Qe,handleUpdateStorePassword:Ja,handleUpdateManagerPassword:ha,handleUpdateTherapistPassword:ti,navigateToStore:rn,activeView:d,appId:Cf,therapists:Za,therapistReports:$t,therapistSchedules:he,therapistTargets:re,trainerAuth:G,handleUpdateTrainerAuth:ma,auditExclusions:Ae,handleUpdateAuditExclusions:br,currentBrand:q,setCurrentBrandId:U,getCollectionPath:$,getDocPath:z}),[t,l,xr,wi,M,I,qn,O,Qa,tr,Ot,oe,ee,H,i,n,Qe,Ja,ha,ti,rn,d,Cf,Za,$t,he,re,G,ma,Ae,br,q,U,$,z]);return l?f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[f.jsx(Ts,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),f.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?f.jsx(yr.Provider,{value:io,children:f.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[f.jsx(tfe,{activeView:d,setActiveView:m,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>nr(),permissions:oe,currentUser:i}),f.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[f.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:f.jsx(dde,{size:24})}),f.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[f.jsx("span",{className:"text-amber-600",children:""})," ",bc.find(xe=>xe.id===d)?.label||(d==="targets"?"":"DRCYJ System")]}),f.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[f.jsx(Iv,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),f.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[f.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[f.jsx(CA,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),f.jsx("input",{type:"text",placeholder:"...",value:A,onChange:xe=>j(xe.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),A&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:ro.filter(xe=>xe.includes(A)).length>0?ro.filter(xe=>xe.includes(A)).map(xe=>f.jsxs("button",{onClick:()=>{rn(xe),j("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[f.jsx($i,{size:16,className:"text-stone-400"})," ",xe]},xe)):f.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[f.jsx(_z,{size:16,className:"text-stone-400 hidden sm:block"}),f.jsx("select",{value:tr,onChange:xe=>Dt(xe.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(xe=>f.jsx("option",{value:xe,children:xe},xe))}),f.jsx("select",{value:Ot,onChange:xe=>Ur(xe.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(xe,je)=>je+1).map(xe=>f.jsxs("option",{value:xe,children:[xe,""]},xe))})]})]})]}),f.jsx(nfe,{activeView:d,setActiveView:m,permissions:oe,userRole:n,onLogout:()=>nr()}),f.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[d==="dashboard"&&f.jsx(afe,{}),d==="regional"&&f.jsx(mfe,{}),d==="ranking"&&f.jsx(pfe,{}),d==="audit"&&f.jsx(bfe,{}),d==="history"&&f.jsx(hfe,{}),d==="input"&&f.jsx(ffe,{}),d==="logs"&&f.jsx(vfe,{}),d==="settings"&&f.jsx(yfe,{}),d==="annual"&&f.jsx(_fe,{}),d==="store-analysis"&&f.jsx(gfe,{}),d==="targets"&&f.jsx(Sfe,{}),d==="t-targets"&&f.jsx(Efe,{}),d==="t-schedule"&&f.jsx(Afe,{})]})]}),b&&f.jsx(Zde,{message:b.message,type:b.type,onClose:()=>_(null)}),f.jsx(efe,{isOpen:S.isOpen,title:S.title,message:S.message,onConfirm:S.onConfirm,onCancel:$r}),Ve&&f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[f.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[f.jsx(Mue,{size:40,className:"animate-pulse"})," "]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),f.jsxs("p",{className:"text-stone-500 font-medium",children:["",f.jsx("br",{})," ",f.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:Ge})," "]})]}),f.jsx("button",{onClick:bi,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):f.jsx(ife,{onLogin:xi,storeAccounts:ee,managers:no,managerAuth:H,therapists:V,onUpdatePassword:Ja,onUpdateManagerPassword:ha,onUpdateTherapistPassword:ti,trainerAuth:G,handleUpdateTrainerAuth:ma,currentBrandId:L,onSwitchBrand:U})}b9.createRoot(document.getElementById("root")).render(f.jsx(w.StrictMode,{children:f.jsx(Tfe,{})}));
