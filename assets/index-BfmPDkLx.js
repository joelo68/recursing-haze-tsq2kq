function u9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yb={exports:{}},mf={};var XN;function d9(){if(XN)return mf;XN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return mf.Fragment=e,mf.jsx=n,mf.jsxs=n,mf}var QN;function f9(){return QN||(QN=1,Yb.exports=d9()),Yb.exports}var f=f9(),Wb={exports:{}},We={};var JN;function h9(){if(JN)return We;JN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function j(V,K,G){this.props=V,this.context=K,this.refs=A,this.updater=G||S}j.prototype.isReactComponent={},j.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function L(){}L.prototype=j.prototype;function U(V,K,G){this.props=V,this.context=K,this.refs=A,this.updater=G||S}var q=U.prototype=new L;q.constructor=U,E(q,j.prototype),q.isPureReactComponent=!0;var $=Array.isArray;function z(){}var O={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function k(V,K,G){var Y=G.ref;return{$$typeof:t,type:V,key:K,ref:Y!==void 0?Y:null,props:G}}function M(V,K){return k(V.type,K,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function D(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(G){return K[G]})}var R=/\/+/g;function re(V,K){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):K.toString(36)}function Z(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(z,z):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function W(V,K,G,Y,ce){var ye=typeof V;(ye==="undefined"||ye==="boolean")&&(V=null);var he=!1;if(V===null)he=!0;else switch(ye){case"bigint":case"string":case"number":he=!0;break;case"object":switch(V.$$typeof){case t:case e:he=!0;break;case p:return he=V._init,W(he(V._payload),K,G,Y,ce)}}if(he)return ce=ce(V),he=Y===""?"."+re(V,0):Y,$(ce)?(G="",he!=null&&(G=he.replace(R,"$&/")+"/"),W(ce,K,G,"",function(Se){return Se})):ce!=null&&(I(ce)&&(ce=M(ce,G+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(R,"$&/")+"/")+he)),K.push(ce)),1;he=0;var Pe=Y===""?".":Y+":";if($(V))for(var ie=0;ie<V.length;ie++)Y=V[ie],ye=Pe+re(Y,ie),he+=W(Y,K,G,ye,ce);else if(ie=_(V),typeof ie=="function")for(V=ie.call(V),ie=0;!(Y=V.next()).done;)Y=Y.value,ye=Pe+re(Y,ie++),he+=W(Y,K,G,ye,ce);else if(ye==="object"){if(typeof V.then=="function")return W(Z(V),K,G,Y,ce);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return he}function H(V,K,G){if(V==null)return V;var Y=[],ce=0;return W(V,Y,"","",function(ye){return K.call(G,ye,ce++)}),Y}function te(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(G){(V._status===0||V._status===-1)&&(V._status=1,V._result=G)},function(G){(V._status===0||V._status===-1)&&(V._status=2,V._result=G)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var oe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},we={map:H,forEach:function(V,K,G){H(V,function(){K.apply(this,arguments)},G)},count:function(V){var K=0;return H(V,function(){K++}),K},toArray:function(V){return H(V,function(K){return K})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return We.Activity=g,We.Children=we,We.Component=j,We.Fragment=n,We.Profiler=i,We.PureComponent=U,We.StrictMode=r,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,We.__COMPILER_RUNTIME={__proto__:null,c:function(V){return O.H.useMemoCache(V)}},We.cache=function(V){return function(){return V.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(V,K,G){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Y=E({},V.props),ce=V.key;if(K!=null)for(ye in K.key!==void 0&&(ce=""+K.key),K)!N.call(K,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&K.ref===void 0||(Y[ye]=K[ye]);var ye=arguments.length-2;if(ye===1)Y.children=G;else if(1<ye){for(var he=Array(ye),Pe=0;Pe<ye;Pe++)he[Pe]=arguments[Pe+2];Y.children=he}return k(V.type,ce,Y)},We.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},We.createElement=function(V,K,G){var Y,ce={},ye=null;if(K!=null)for(Y in K.key!==void 0&&(ye=""+K.key),K)N.call(K,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ce[Y]=K[Y]);var he=arguments.length-2;if(he===1)ce.children=G;else if(1<he){for(var Pe=Array(he),ie=0;ie<he;ie++)Pe[ie]=arguments[ie+2];ce.children=Pe}if(V&&V.defaultProps)for(Y in he=V.defaultProps,he)ce[Y]===void 0&&(ce[Y]=he[Y]);return k(V,ye,ce)},We.createRef=function(){return{current:null}},We.forwardRef=function(V){return{$$typeof:u,render:V}},We.isValidElement=I,We.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:te}},We.memo=function(V,K){return{$$typeof:h,type:V,compare:K===void 0?null:K}},We.startTransition=function(V){var K=O.T,G={};O.T=G;try{var Y=V(),ce=O.S;ce!==null&&ce(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(z,oe)}catch(ye){oe(ye)}finally{K!==null&&G.types!==null&&(K.types=G.types),O.T=K}},We.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},We.use=function(V){return O.H.use(V)},We.useActionState=function(V,K,G){return O.H.useActionState(V,K,G)},We.useCallback=function(V,K){return O.H.useCallback(V,K)},We.useContext=function(V){return O.H.useContext(V)},We.useDebugValue=function(){},We.useDeferredValue=function(V,K){return O.H.useDeferredValue(V,K)},We.useEffect=function(V,K){return O.H.useEffect(V,K)},We.useEffectEvent=function(V){return O.H.useEffectEvent(V)},We.useId=function(){return O.H.useId()},We.useImperativeHandle=function(V,K,G){return O.H.useImperativeHandle(V,K,G)},We.useInsertionEffect=function(V,K){return O.H.useInsertionEffect(V,K)},We.useLayoutEffect=function(V,K){return O.H.useLayoutEffect(V,K)},We.useMemo=function(V,K){return O.H.useMemo(V,K)},We.useOptimistic=function(V,K){return O.H.useOptimistic(V,K)},We.useReducer=function(V,K,G){return O.H.useReducer(V,K,G)},We.useRef=function(V){return O.H.useRef(V)},We.useState=function(V){return O.H.useState(V)},We.useSyncExternalStore=function(V,K,G){return O.H.useSyncExternalStore(V,K,G)},We.useTransition=function(){return O.H.useTransition()},We.version="19.2.3",We}var ZN;function Wu(){return ZN||(ZN=1,Wb.exports=h9()),Wb.exports}var w=Wu();const kk=Hs(w),m9=u9({__proto__:null,default:kk},[w]);var Xb={exports:{}},pf={},Qb={exports:{}},Jb={};var ej;function p9(){return ej||(ej=1,(function(t){function e(W,H){var te=W.length;W.push(H);e:for(;0<te;){var oe=te-1>>>1,we=W[oe];if(0<i(we,H))W[oe]=H,W[te]=we,te=oe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var H=W[0],te=W.pop();if(te!==H){W[0]=te;e:for(var oe=0,we=W.length,V=we>>>1;oe<V;){var K=2*(oe+1)-1,G=W[K],Y=K+1,ce=W[Y];if(0>i(G,te))Y<we&&0>i(ce,G)?(W[oe]=ce,W[Y]=te,oe=Y):(W[oe]=G,W[K]=te,oe=K);else if(Y<we&&0>i(ce,te))W[oe]=ce,W[Y]=te,oe=Y;else break e}}return H}function i(W,H){var te=W.sortIndex-H.sortIndex;return te!==0?te:W.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,b=3,_=!1,S=!1,E=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function q(W){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=W)r(h),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(h)}}function $(W){if(E=!1,q(W),!S)if(n(d)!==null)S=!0,z||(z=!0,D());else{var H=n(h);H!==null&&Z($,H.startTime-W)}}var z=!1,O=-1,N=5,k=-1;function M(){return A?!0:!(t.unstable_now()-k<N)}function I(){if(A=!1,z){var W=t.unstable_now();k=W;var H=!0;try{e:{S=!1,E&&(E=!1,L(O),O=-1),_=!0;var te=b;try{t:{for(q(W),g=n(d);g!==null&&!(g.expirationTime>W&&M());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,b=g.priorityLevel;var we=oe(g.expirationTime<=W);if(W=t.unstable_now(),typeof we=="function"){g.callback=we,q(W),H=!0;break t}g===n(d)&&r(d),q(W)}else r(d);g=n(d)}if(g!==null)H=!0;else{var V=n(h);V!==null&&Z($,V.startTime-W),H=!1}}break e}finally{g=null,b=te,_=!1}H=void 0}}finally{H?D():z=!1}}}var D;if(typeof U=="function")D=function(){U(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=I,D=function(){re.postMessage(null)}}else D=function(){j(I,0)};function Z(W,H){O=j(function(){W(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var te=b;b=H;try{return W()}finally{b=te}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(W,H){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=b;b=W;try{return H()}finally{b=te}},t.unstable_scheduleCallback=function(W,H,te){var oe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,W){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=te+we,W={id:p++,callback:H,priorityLevel:W,startTime:te,expirationTime:we,sortIndex:-1},te>oe?(W.sortIndex=te,e(h,W),n(d)===null&&W===n(h)&&(E?(L(O),O=-1):E=!0,Z($,te-oe))):(W.sortIndex=we,e(d,W),S||_||(S=!0,z||(z=!0,D()))),W},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(W){var H=b;return function(){var te=b;b=H;try{return W.apply(this,arguments)}finally{b=te}}}})(Jb)),Jb}var tj;function g9(){return tj||(tj=1,Qb.exports=p9()),Qb.exports}var Zb={exports:{}},_r={};var nj;function v9(){if(nj)return _r;nj=1;var t=Wu();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_r.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,p)},_r.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},_r.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},_r.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},_r.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_r.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},_r.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_r.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},_r.requestFormReset=function(d){r.d.r(d)},_r.unstable_batchedUpdates=function(d,h){return d(h)},_r.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},_r.useFormStatus=function(){return l.H.useHostTransitionStatus()},_r.version="19.2.3",_r}var rj;function Mk(){if(rj)return Zb.exports;rj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zb.exports=v9(),Zb.exports}var ij;function y9(){if(ij)return pf;ij=1;var t=g9(),e=Wu(),n=Mk();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return d(y),a;if(x===m)return d(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=x;else{for(var C=!1,B=y.child;B;){if(B===c){C=!0,c=y,m=x;break}if(B===m){C=!0,m=y,c=x;break}B=B.sibling}if(!C){for(B=x.child;B;){if(B===c){C=!0,c=x,m=y;break}if(B===m){C=!0,m=x,c=y;break}B=B.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var R=Symbol.for("react.client.reference");function re(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===R?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case U:return a.displayName||"Context";case L:return(a._context.displayName||"Context")+".Consumer";case q:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:re(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return re(a(o))}catch{}}return null}var Z=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},oe=[],we=-1;function V(a){return{current:a}}function K(a){0>we||(a.current=oe[we],oe[we]=null,we--)}function G(a,o){we++,oe[we]=a.current,a.current=o}var Y=V(null),ce=V(null),ye=V(null),he=V(null);function Pe(a,o){switch(G(ye,o),G(ce,a),G(Y,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?bN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=bN(o),a=xN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(Y),G(Y,a)}function ie(){K(Y),K(ce),K(ye)}function Se(a){a.memoizedState!==null&&G(he,a);var o=Y.current,c=xN(o,a.type);o!==c&&(G(ce,a),G(Y,c))}function Ae(a){ce.current===a&&(K(Y),K(ce)),he.current===a&&(K(he),uf._currentValue=te)}var J,Ve;function ze(a){if(J===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);J=o&&o[1]||"",Ve=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+a+Ve}var Ge=!1;function wt(a,o){if(!a||Ge)return"";Ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(me){var de=me}Reflect.construct(a,[],be)}else{try{be.call()}catch(me){de=me}a.call(be.prototype)}}else{try{throw Error()}catch(me){de=me}(be=a())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),C=x[0],B=x[1];if(C&&B){var X=C.split(`
`),ue=B.split(`
`);for(y=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ue.length&&!ue[y].includes("DetermineComponentFrameRoot");)y++;if(m===X.length||y===ue.length)for(m=X.length-1,y=ue.length-1;1<=m&&0<=y&&X[m]!==ue[y];)y--;for(;1<=m&&0<=y;m--,y--)if(X[m]!==ue[y]){if(m!==1||y!==1)do if(m--,y--,0>y||X[m]!==ue[y]){var pe=`
`+X[m].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=m&&0<=y);break}}}finally{Ge=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ze(c):""}function cn(a,o){switch(a.tag){case 26:case 27:case 5:return ze(a.type);case 16:return ze("Lazy");case 13:return a.child!==o&&o!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return wt(a.type,!1);case 11:return wt(a.type.render,!1);case 1:return wt(a.type,!0);case 31:return ze("Activity");default:return""}}function nr(a){try{var o="",c=null;do o+=cn(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Dt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,$r=t.unstable_cancelCallback,Ja=t.unstable_shouldYield,fa=t.unstable_requestPaint,Ht=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,rr=t.unstable_ImmediatePriority,xi=t.unstable_UserBlockingPriority,wi=t.unstable_NormalPriority,Za=t.unstable_LowPriority,ha=t.unstable_IdlePriority,ni=t.log,ma=t.unstable_setDisableYieldValue,xr=null,rn=null;function Hn(a){if(typeof ni=="function"&&ma(a),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(xr,a)}catch{}}var $t=Math.clz32?Math.clz32:ro,es=Math.log,_i=Math.LN2;function ro(a){return a>>>=0,a===0?32:31-(es(a)/_i|0)|0}var wr=256,Gi=262144,Xt=4194304;function Br(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function qr(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,x=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var B=m&134217727;return B!==0?(m=B&~x,m!==0?y=Br(m):(C&=B,C!==0?y=Br(C):c||(c=B&~a,c!==0&&(y=Br(c))))):(B=m&~x,B!==0?y=Br(B):C!==0?y=Br(C):c||(c=m&~a,c!==0&&(y=Br(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function Ir(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function io(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var a=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),a}function xe(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function je(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function tt(a,o,c,m,y,x){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var B=a.entanglements,X=a.expirationTimes,ue=a.hiddenUpdates;for(c=C&~c;0<c;){var pe=31-$t(c),be=1<<pe;B[pe]=0,X[pe]=-1;var de=ue[pe];if(de!==null)for(ue[pe]=null,pe=0;pe<de.length;pe++){var me=de[pe];me!==null&&(me.lane&=-536870913)}c&=~be}m!==0&&vt(a,m,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(C&~o))}function vt(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-$t(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function an(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-$t(c),y=1<<m;y&o|a[m]&o&&(a[m]|=o),c&=~y}}function Qt(a,o){var c=o&-o;return c=(c&42)!==0?1:ri(c),(c&(a.suspendedLanes|o))!==0?0:c}function ri(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ii(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Q(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:qN(a.type))}function Te(a,o){var c=H.p;try{return H.p=a,o()}finally{H.p=c}}var Ne=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ne,ht="__reactProps$"+Ne,$e="__reactContainer$"+Ne,yt="__reactEvents$"+Ne,ir="__reactListeners$"+Ne,Kn="__reactHandles$"+Ne,om="__reactResources$"+Ne,pa="__reactMarker$"+Ne;function Tc(a){delete a[Re],delete a[ht],delete a[yt],delete a[ir],delete a[Kn]}function ga(a){var o=a[Re];if(o)return o;for(var c=a.parentNode;c;){if(o=c[$e]||c[Re]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=NN(a);a!==null;){if(c=a[Re])return c;a=NN(a)}return o}a=c,c=a.parentNode}return null}function Si(a){if(a=a[Re]||a[$e]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ai(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function va(a){var o=a[om];return o||(o=a[om]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Sn(a){a[pa]=!0}var gd=new Set,vd={};function ya(a,o){ba(a,o),ba(a+"Capture",o)}function ba(a,o){for(vd[a]=o,a=0;a<o.length;a++)gd.add(o[a])}var yd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bd={},xd={};function lm(a){return Dt.call(xd,a)?!0:Dt.call(bd,a)?!1:yd.test(a)?xd[a]=!0:(bd[a]=!0,!1)}function Nc(a,o,c){if(lm(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function si(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function En(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function Gn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function so(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function wd(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,x=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,x.call(this,C)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function At(a){if(!a._valueTracker){var o=so(a)?"checked":"value";a._valueTracker=wd(a,o,""+a[o])}}function vl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=so(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var yl=/[\n"\\]/g;function Fr(a){return a.replace(yl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function jc(a,o,c,m,y,x,C,B){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),o!=null?C==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Gn(o)):a.value!==""+Gn(o)&&(a.value=""+Gn(o)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),o!=null?_d(a,C,Gn(o)):c!=null?_d(a,C,Gn(c)):m!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.name=""+Gn(B):a.removeAttribute("name")}function cm(a,o,c,m,y,x,C,B){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){At(a);return}c=c!=null?""+Gn(c):"",o=o!=null?""+Gn(o):c,B||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=B?a.checked:!!m,a.defaultChecked=!!m,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),At(a)}function _d(a,o,c){o==="number"&&xa(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function oo(a,o,c,m){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+Gn(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function um(a,o,c){if(o!=null&&(o=""+Gn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Gn(c):""}function lo(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(Z(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=Gn(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),At(a)}function Hr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||dm.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Ed(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&Sd(a,y,m)}else for(var x in o)o.hasOwnProperty(x)&&Sd(a,x,o[x])}function Cc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),co=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(a){return co.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Yi(){}var Ad=null;function Ei(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var uo=null,wa=null;function bl(a){var o=Si(a);if(o&&(a=o.stateNode)){var c=a[ht]||null;e:switch(a=o.stateNode,o.type){case"input":if(jc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Fr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var y=m[ht]||null;if(!y)throw Error(r(90));jc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&vl(m)}break e;case"textarea":um(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&oo(a,!!c.multiple,o,!1)}}}var Ic=!1;function fo(a,o,c){if(Ic)return a(o,c);Ic=!0;try{var m=a(o);return m}finally{if(Ic=!1,(uo!==null||wa!==null)&&(ap(),uo&&(o=uo,a=wa,wa=uo=null,bl(o),a)))for(o=0;o<a.length;o++)bl(a[o])}}function Wi(a,o){var c=a.stateNode;if(c===null)return null;var m=c[ht]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=!1;if(Ai)try{var It={};Object.defineProperty(It,"passive",{get:function(){xl=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{xl=!1}var _a=null,Td=null,wl=null;function Nd(){if(wl)return wl;var a,o=Td,c=o.length,m,y="value"in _a?_a.value:_a.textContent,x=y.length;for(a=0;a<c&&o[a]===y[a];a++);var C=c-a;for(m=1;m<=C&&o[c-m]===y[x-m];m++);return wl=y.slice(a,1<m?1-m:void 0)}function _l(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ts(){return!0}function Xi(){return!1}function ar(a){function o(c,m,y,x,C){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(c=a[B],this[B]=c?c(x):x[B]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ts:Xi,this.isPropagationStopped=Xi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),o}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=ar(ns),ho=g({},ns,{view:0,detail:0}),jd=ar(ho),mo,Pc,Ea,Rc=g({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ea&&(Ea&&a.type==="mousemove"?(mo=a.screenX-Ea.screenX,Pc=a.screenY-Ea.screenY):Pc=mo=0,Ea=a),mo)},movementY:function(a){return"movementY"in a?a.movementY:Pc}}),Cd=ar(Rc),Sl=g({},Rc,{dataTransfer:0}),hm=ar(Sl),mm=g({},ho,{relatedTarget:0}),El=ar(mm),Od=g({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),pm=ar(Od),kc=g({},ns,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),gm=ar(kc),vm=g({},ns,{data:0}),Aa=ar(vm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=xm[a])?!!o[a]:!1}function po(){return wm}var Pr=g({},ho,{key:function(a){if(a.key){var o=ym[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=_l(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(a){return a.type==="keypress"?_l(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?_l(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_m=ar(Pr),Sm=g({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=ar(Sm),v=g({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),T=ar(v),P=g({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=ar(P),ae=g({},Rc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=ar(ae),Ee=g({},ns,{newState:0,oldState:0}),Je=ar(Ee),vn=[9,13,27,32],bt=Ai&&"CompositionEvent"in window,Jt=null;Ai&&"documentMode"in document&&(Jt=document.documentMode);var Ti=Ai&&"TextEvent"in window&&!Jt,Ta=Ai&&(!bt||Jt&&8<Jt&&11>=Jt),Qi=" ",Ji=!1;function Al(a,o){switch(a){case"keyup":return vn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Dc=!1;function kz(a,o){switch(a){case"compositionend":return Mc(o);case"keypress":return o.which!==32?null:(Ji=!0,Qi);case"textInput":return a=o.data,a===Qi&&Ji?null:a;default:return null}}function Mz(a,o){if(Dc)return a==="compositionend"||!bt&&Al(a,o)?(a=Nd(),wl=Td=_a=null,Dc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ta&&o.locale!=="ko"?null:o.data;default:return null}}var Dz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Dz[a.type]:o==="textarea"}function IA(a,o,c,m){uo?wa?wa.push(m):wa=[m]:uo=m,o=fp(o,"onChange"),0<o.length&&(c=new Sa("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var Id=null,Pd=null;function Lz(a){hN(a,0)}function Em(a){var o=ai(a);if(vl(o))return a}function PA(a,o){if(a==="change")return o}var RA=!1;if(Ai){var ty;if(Ai){var ny="oninput"in document;if(!ny){var kA=document.createElement("div");kA.setAttribute("oninput","return;"),ny=typeof kA.oninput=="function"}ty=ny}else ty=!1;RA=ty&&(!document.documentMode||9<document.documentMode)}function MA(){Id&&(Id.detachEvent("onpropertychange",DA),Pd=Id=null)}function DA(a){if(a.propertyName==="value"&&Em(Pd)){var o=[];IA(o,Pd,a,Ei(a)),fo(Lz,o)}}function zz(a,o,c){a==="focusin"?(MA(),Id=o,Pd=c,Id.attachEvent("onpropertychange",DA)):a==="focusout"&&MA()}function Vz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Em(Pd)}function Uz(a,o){if(a==="click")return Em(o)}function $z(a,o){if(a==="input"||a==="change")return Em(o)}function Bz(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var oi=typeof Object.is=="function"?Object.is:Bz;function Rd(a,o){if(oi(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!Dt.call(o,y)||!oi(a[y],o[y]))return!1}return!0}function LA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function zA(a,o){var c=LA(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=LA(c)}}function VA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?VA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function UA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=xa(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=xa(a.document)}return o}function ry(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var qz=Ai&&"documentMode"in document&&11>=document.documentMode,Lc=null,iy=null,kd=null,ay=!1;function $A(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ay||Lc==null||Lc!==xa(m)||(m=Lc,"selectionStart"in m&&ry(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),kd&&Rd(kd,m)||(kd=m,m=fp(iy,"onSelect"),0<m.length&&(o=new Sa("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=Lc)))}function Tl(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var zc={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},sy={},BA={};Ai&&(BA=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Nl(a){if(sy[a])return sy[a];if(!zc[a])return a;var o=zc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in BA)return sy[a]=o[c];return a}var qA=Nl("animationend"),FA=Nl("animationiteration"),HA=Nl("animationstart"),Fz=Nl("transitionrun"),Hz=Nl("transitionstart"),Kz=Nl("transitioncancel"),KA=Nl("transitionend"),GA=new Map,oy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oy.push("scrollEnd");function Zi(a,o){GA.set(a,o),ya(o,[a])}var Am=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ni=[],Vc=0,ly=0;function Tm(){for(var a=Vc,o=ly=Vc=0;o<a;){var c=Ni[o];Ni[o++]=null;var m=Ni[o];Ni[o++]=null;var y=Ni[o];Ni[o++]=null;var x=Ni[o];if(Ni[o++]=null,m!==null&&y!==null){var C=m.pending;C===null?y.next=y:(y.next=C.next,C.next=y),m.pending=y}x!==0&&YA(c,y,x)}}function Nm(a,o,c,m){Ni[Vc++]=a,Ni[Vc++]=o,Ni[Vc++]=c,Ni[Vc++]=m,ly|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function cy(a,o,c,m){return Nm(a,o,c,m),jm(a)}function jl(a,o){return Nm(a,null,null,o),jm(a)}function YA(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,m=x.alternate,m!==null&&(m.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&o!==null&&(y=31-$t(c),a=x.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=c|536870912),x):null}function jm(a){if(50<nf)throw nf=0,yb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Uc={};function Gz(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(a,o,c,m){return new Gz(a,o,c,m)}function uy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function is(a,o){var c=a.alternate;return c===null?(c=li(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function WA(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Cm(a,o,c,m,y,x){var C=0;if(m=a,typeof a=="function")uy(a)&&(C=1);else if(typeof a=="string")C=JV(a,c,Y.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=li(31,c,o,y),a.elementType=k,a.lanes=x,a;case E:return Cl(c.children,y,x,o);case A:C=8,y|=24;break;case j:return a=li(12,c,o,y|2),a.elementType=j,a.lanes=x,a;case $:return a=li(13,c,o,y),a.elementType=$,a.lanes=x,a;case z:return a=li(19,c,o,y),a.elementType=z,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:C=10;break e;case L:C=9;break e;case q:C=11;break e;case O:C=14;break e;case N:C=16,m=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=li(C,c,o,y),o.elementType=a,o.type=m,o.lanes=x,o}function Cl(a,o,c,m){return a=li(7,a,m,o),a.lanes=c,a}function dy(a,o,c){return a=li(6,a,null,o),a.lanes=c,a}function XA(a){var o=li(18,null,null,0);return o.stateNode=a,o}function fy(a,o,c){return o=li(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var QA=new WeakMap;function ji(a,o){if(typeof a=="object"&&a!==null){var c=QA.get(a);return c!==void 0?c:(o={value:a,source:o,stack:nr(o)},QA.set(a,o),o)}return{value:a,source:o,stack:nr(o)}}var $c=[],Bc=0,Om=null,Md=0,Ci=[],Oi=0,go=null,Na=1,ja="";function as(a,o){$c[Bc++]=Md,$c[Bc++]=Om,Om=a,Md=o}function JA(a,o,c){Ci[Oi++]=Na,Ci[Oi++]=ja,Ci[Oi++]=go,go=a;var m=Na;a=ja;var y=32-$t(m)-1;m&=~(1<<y),c+=1;var x=32-$t(o)+y;if(30<x){var C=y-y%5;x=(m&(1<<C)-1).toString(32),m>>=C,y-=C,Na=1<<32-$t(o)+y|c<<y|m,ja=x+a}else Na=1<<x|c<<y|m,ja=a}function hy(a){a.return!==null&&(as(a,1),JA(a,1,0))}function my(a){for(;a===Om;)Om=$c[--Bc],$c[Bc]=null,Md=$c[--Bc],$c[Bc]=null;for(;a===go;)go=Ci[--Oi],Ci[Oi]=null,ja=Ci[--Oi],Ci[Oi]=null,Na=Ci[--Oi],Ci[Oi]=null}function ZA(a,o){Ci[Oi++]=Na,Ci[Oi++]=ja,Ci[Oi++]=go,Na=o.id,ja=o.overflow,go=a}var sr=null,Kt=null,ut=!1,vo=null,Ii=!1,py=Error(r(519));function yo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dd(ji(o,a)),py}function eT(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[Re]=a,o[ht]=m,c){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(c=0;c<af.length;c++)rt(af[c],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),cm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),lo(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||vN(o.textContent,c)?(m.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),m.onScroll!=null&&rt("scroll",o),m.onScrollEnd!=null&&rt("scrollend",o),m.onClick!=null&&(o.onclick=Yi),o=!0):o=!1,o||yo(a,!0)}function tT(a){for(sr=a.return;sr;)switch(sr.tag){case 5:case 31:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:sr=sr.return}}function qc(a){if(a!==sr)return!1;if(!ut)return tT(a),ut=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Rb(a.type,a.memoizedProps)),c=!c),c&&Kt&&yo(a),tT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=TN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Kt=TN(a)}else o===27?(o=Kt,Po(a.type)?(a=zb,zb=null,Kt=a):Kt=o):Kt=sr?Ri(a.stateNode.nextSibling):null;return!0}function Ol(){Kt=sr=null,ut=!1}function gy(){var a=vo;return a!==null&&(Wr===null?Wr=a:Wr.push.apply(Wr,a),vo=null),a}function Dd(a){vo===null?vo=[a]:vo.push(a)}var vy=V(null),Il=null,ss=null;function bo(a,o,c){G(vy,o._currentValue),o._currentValue=c}function os(a){a._currentValue=vy.current,K(vy)}function yy(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function by(a,o,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var C=y.child;x=x.firstContext;e:for(;x!==null;){var B=x;x=y;for(var X=0;X<o.length;X++)if(B.context===o[X]){x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),yy(x.return,c,a),m||(C=null);break e}x=B.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,x=C.alternate,x!==null&&(x.lanes|=c),yy(C,c,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Fc(a,o,c,m){a=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var B=y.type;oi(y.pendingProps.value,C.value)||(a!==null?a.push(B):a=[B])}}else if(y===he.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(uf):a=[uf])}y=y.return}a!==null&&by(o,a,c,m),o.flags|=262144}function Im(a){for(a=a.firstContext;a!==null;){if(!oi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Pl(a){Il=a,ss=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function or(a){return nT(Il,a)}function Pm(a,o){return Il===null&&Pl(a),nT(a,o)}function nT(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ss===null){if(a===null)throw Error(r(308));ss=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ss=ss.next=o;return c}var Yz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},Wz=t.unstable_scheduleCallback,Xz=t.unstable_NormalPriority,An={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xy(){return{controller:new Yz,data:new Map,refCount:0}}function Ld(a){a.refCount--,a.refCount===0&&Wz(Xz,function(){a.controller.abort()})}var zd=null,wy=0,Hc=0,Kc=null;function Qz(a,o){if(zd===null){var c=zd=[];wy=0,Hc=Eb(),Kc={status:"pending",value:void 0,then:function(m){c.push(m)}}}return wy++,o.then(rT,rT),o}function rT(){if(--wy===0&&zd!==null){Kc!==null&&(Kc.status="fulfilled");var a=zd;zd=null,Hc=0,Kc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Jz(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var iT=W.S;W.S=function(a,o){$2=Ht(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Qz(a,o),iT!==null&&iT(a,o)};var Rl=V(null);function _y(){var a=Rl.current;return a!==null?a:Lt.pooledCache}function Rm(a,o){o===null?G(Rl,Rl.current):G(Rl,o.pool)}function aT(){var a=_y();return a===null?null:{parent:An._currentValue,pool:a}}var Gc=Error(r(460)),Sy=Error(r(474)),km=Error(r(542)),Mm={then:function(){}};function sT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function oT(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Yi,Yi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,cT(a),a;default:if(typeof o.status=="string")o.then(Yi,Yi);else{if(a=Lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,cT(a),a}throw Ml=o,Gc}}function kl(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ml=c,Gc):c}}var Ml=null;function lT(){if(Ml===null)throw Error(r(459));var a=Ml;return Ml=null,a}function cT(a){if(a===Gc||a===km)throw Error(r(483))}var Yc=null,Vd=0;function Dm(a){var o=Vd;return Vd+=1,Yc===null&&(Yc=[]),oT(Yc,a,o)}function Ud(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Lm(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function uT(a){function o(ne,ee){if(a){var le=ne.deletions;le===null?(ne.deletions=[ee],ne.flags|=16):le.push(ee)}}function c(ne,ee){if(!a)return null;for(;ee!==null;)o(ne,ee),ee=ee.sibling;return null}function m(ne){for(var ee=new Map;ne!==null;)ne.key!==null?ee.set(ne.key,ne):ee.set(ne.index,ne),ne=ne.sibling;return ee}function y(ne,ee){return ne=is(ne,ee),ne.index=0,ne.sibling=null,ne}function x(ne,ee,le){return ne.index=le,a?(le=ne.alternate,le!==null?(le=le.index,le<ee?(ne.flags|=67108866,ee):le):(ne.flags|=67108866,ee)):(ne.flags|=1048576,ee)}function C(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function B(ne,ee,le,ve){return ee===null||ee.tag!==6?(ee=dy(le,ne.mode,ve),ee.return=ne,ee):(ee=y(ee,le),ee.return=ne,ee)}function X(ne,ee,le,ve){var Be=le.type;return Be===E?pe(ne,ee,le.props.children,ve,le.key):ee!==null&&(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===N&&kl(Be)===ee.type)?(ee=y(ee,le.props),Ud(ee,le),ee.return=ne,ee):(ee=Cm(le.type,le.key,le.props,null,ne.mode,ve),Ud(ee,le),ee.return=ne,ee)}function ue(ne,ee,le,ve){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=fy(le,ne.mode,ve),ee.return=ne,ee):(ee=y(ee,le.children||[]),ee.return=ne,ee)}function pe(ne,ee,le,ve,Be){return ee===null||ee.tag!==7?(ee=Cl(le,ne.mode,ve,Be),ee.return=ne,ee):(ee=y(ee,le),ee.return=ne,ee)}function be(ne,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=dy(""+ee,ne.mode,le),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return le=Cm(ee.type,ee.key,ee.props,null,ne.mode,le),Ud(le,ee),le.return=ne,le;case S:return ee=fy(ee,ne.mode,le),ee.return=ne,ee;case N:return ee=kl(ee),be(ne,ee,le)}if(Z(ee)||D(ee))return ee=Cl(ee,ne.mode,le,null),ee.return=ne,ee;if(typeof ee.then=="function")return be(ne,Dm(ee),le);if(ee.$$typeof===U)return be(ne,Pm(ne,ee),le);Lm(ne,ee)}return null}function de(ne,ee,le,ve){var Be=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Be!==null?null:B(ne,ee,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return le.key===Be?X(ne,ee,le,ve):null;case S:return le.key===Be?ue(ne,ee,le,ve):null;case N:return le=kl(le),de(ne,ee,le,ve)}if(Z(le)||D(le))return Be!==null?null:pe(ne,ee,le,ve,null);if(typeof le.then=="function")return de(ne,ee,Dm(le),ve);if(le.$$typeof===U)return de(ne,ee,Pm(ne,le),ve);Lm(ne,le)}return null}function me(ne,ee,le,ve,Be){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ne=ne.get(le)||null,B(ee,ne,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ne=ne.get(ve.key===null?le:ve.key)||null,X(ee,ne,ve,Be);case S:return ne=ne.get(ve.key===null?le:ve.key)||null,ue(ee,ne,ve,Be);case N:return ve=kl(ve),me(ne,ee,le,ve,Be)}if(Z(ve)||D(ve))return ne=ne.get(le)||null,pe(ee,ne,ve,Be,null);if(typeof ve.then=="function")return me(ne,ee,le,Dm(ve),Be);if(ve.$$typeof===U)return me(ne,ee,le,Pm(ee,ve),Be);Lm(ee,ve)}return null}function De(ne,ee,le,ve){for(var Be=null,mt=null,Ue=ee,et=ee=0,st=null;Ue!==null&&et<le.length;et++){Ue.index>et?(st=Ue,Ue=null):st=Ue.sibling;var pt=de(ne,Ue,le[et],ve);if(pt===null){Ue===null&&(Ue=st);break}a&&Ue&&pt.alternate===null&&o(ne,Ue),ee=x(pt,ee,et),mt===null?Be=pt:mt.sibling=pt,mt=pt,Ue=st}if(et===le.length)return c(ne,Ue),ut&&as(ne,et),Be;if(Ue===null){for(;et<le.length;et++)Ue=be(ne,le[et],ve),Ue!==null&&(ee=x(Ue,ee,et),mt===null?Be=Ue:mt.sibling=Ue,mt=Ue);return ut&&as(ne,et),Be}for(Ue=m(Ue);et<le.length;et++)st=me(Ue,ne,et,le[et],ve),st!==null&&(a&&st.alternate!==null&&Ue.delete(st.key===null?et:st.key),ee=x(st,ee,et),mt===null?Be=st:mt.sibling=st,mt=st);return a&&Ue.forEach(function(Lo){return o(ne,Lo)}),ut&&as(ne,et),Be}function Fe(ne,ee,le,ve){if(le==null)throw Error(r(151));for(var Be=null,mt=null,Ue=ee,et=ee=0,st=null,pt=le.next();Ue!==null&&!pt.done;et++,pt=le.next()){Ue.index>et?(st=Ue,Ue=null):st=Ue.sibling;var Lo=de(ne,Ue,pt.value,ve);if(Lo===null){Ue===null&&(Ue=st);break}a&&Ue&&Lo.alternate===null&&o(ne,Ue),ee=x(Lo,ee,et),mt===null?Be=Lo:mt.sibling=Lo,mt=Lo,Ue=st}if(pt.done)return c(ne,Ue),ut&&as(ne,et),Be;if(Ue===null){for(;!pt.done;et++,pt=le.next())pt=be(ne,pt.value,ve),pt!==null&&(ee=x(pt,ee,et),mt===null?Be=pt:mt.sibling=pt,mt=pt);return ut&&as(ne,et),Be}for(Ue=m(Ue);!pt.done;et++,pt=le.next())pt=me(Ue,ne,et,pt.value,ve),pt!==null&&(a&&pt.alternate!==null&&Ue.delete(pt.key===null?et:pt.key),ee=x(pt,ee,et),mt===null?Be=pt:mt.sibling=pt,mt=pt);return a&&Ue.forEach(function(c9){return o(ne,c9)}),ut&&as(ne,et),Be}function kt(ne,ee,le,ve){if(typeof le=="object"&&le!==null&&le.type===E&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case _:e:{for(var Be=le.key;ee!==null;){if(ee.key===Be){if(Be=le.type,Be===E){if(ee.tag===7){c(ne,ee.sibling),ve=y(ee,le.props.children),ve.return=ne,ne=ve;break e}}else if(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===N&&kl(Be)===ee.type){c(ne,ee.sibling),ve=y(ee,le.props),Ud(ve,le),ve.return=ne,ne=ve;break e}c(ne,ee);break}else o(ne,ee);ee=ee.sibling}le.type===E?(ve=Cl(le.props.children,ne.mode,ve,le.key),ve.return=ne,ne=ve):(ve=Cm(le.type,le.key,le.props,null,ne.mode,ve),Ud(ve,le),ve.return=ne,ne=ve)}return C(ne);case S:e:{for(Be=le.key;ee!==null;){if(ee.key===Be)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){c(ne,ee.sibling),ve=y(ee,le.children||[]),ve.return=ne,ne=ve;break e}else{c(ne,ee);break}else o(ne,ee);ee=ee.sibling}ve=fy(le,ne.mode,ve),ve.return=ne,ne=ve}return C(ne);case N:return le=kl(le),kt(ne,ee,le,ve)}if(Z(le))return De(ne,ee,le,ve);if(D(le)){if(Be=D(le),typeof Be!="function")throw Error(r(150));return le=Be.call(le),Fe(ne,ee,le,ve)}if(typeof le.then=="function")return kt(ne,ee,Dm(le),ve);if(le.$$typeof===U)return kt(ne,ee,Pm(ne,le),ve);Lm(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ee!==null&&ee.tag===6?(c(ne,ee.sibling),ve=y(ee,le),ve.return=ne,ne=ve):(c(ne,ee),ve=dy(le,ne.mode,ve),ve.return=ne,ne=ve),C(ne)):c(ne,ee)}return function(ne,ee,le,ve){try{Vd=0;var Be=kt(ne,ee,le,ve);return Yc=null,Be}catch(Ue){if(Ue===Gc||Ue===km)throw Ue;var mt=li(29,Ue,null,ne.mode);return mt.lanes=ve,mt.return=ne,mt}}}var Dl=uT(!0),dT=uT(!1),xo=!1;function Ey(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ay(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function wo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function _o(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(xt&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=jm(a),YA(a,null,c),o}return Nm(a,m,o,c),jm(a)}function $d(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,an(a,c)}}function Ty(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Ny=!1;function Bd(){if(Ny){var a=Kc;if(a!==null)throw a}}function qd(a,o,c,m){Ny=!1;var y=a.updateQueue;xo=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var X=B,ue=X.next;X.next=null,C===null?x=ue:C.next=ue,C=X;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,B=pe.lastBaseUpdate,B!==C&&(B===null?pe.firstBaseUpdate=ue:B.next=ue,pe.lastBaseUpdate=X))}if(x!==null){var be=y.baseState;C=0,pe=ue=X=null,B=x;do{var de=B.lane&-536870913,me=de!==B.lane;if(me?(at&de)===de:(m&de)===de){de!==0&&de===Hc&&(Ny=!0),pe!==null&&(pe=pe.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var De=a,Fe=B;de=o;var kt=c;switch(Fe.tag){case 1:if(De=Fe.payload,typeof De=="function"){be=De.call(kt,be,de);break e}be=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Fe.payload,de=typeof De=="function"?De.call(kt,be,de):De,de==null)break e;be=g({},be,de);break e;case 2:xo=!0}}de=B.callback,de!==null&&(a.flags|=64,me&&(a.flags|=8192),me=y.callbacks,me===null?y.callbacks=[de]:me.push(de))}else me={lane:de,tag:B.tag,payload:B.payload,callback:B.callback,next:null},pe===null?(ue=pe=me,X=be):pe=pe.next=me,C|=de;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;me=B,B=me.next,me.next=null,y.lastBaseUpdate=me,y.shared.pending=null}}while(!0);pe===null&&(X=be),y.baseState=X,y.firstBaseUpdate=ue,y.lastBaseUpdate=pe,x===null&&(y.shared.lanes=0),No|=C,a.lanes=C,a.memoizedState=be}}function fT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function hT(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)fT(c[a],o)}var Wc=V(null),zm=V(0);function mT(a,o){a=gs,G(zm,a),G(Wc,o),gs=a|o.baseLanes}function jy(){G(zm,gs),G(Wc,Wc.current)}function Cy(){gs=zm.current,K(Wc),K(zm)}var ci=V(null),Pi=null;function So(a){var o=a.alternate;G(yn,yn.current&1),G(ci,a),Pi===null&&(o===null||Wc.current!==null||o.memoizedState!==null)&&(Pi=a)}function Oy(a){G(yn,yn.current),G(ci,a),Pi===null&&(Pi=a)}function pT(a){a.tag===22?(G(yn,yn.current),G(ci,a),Pi===null&&(Pi=a)):Eo()}function Eo(){G(yn,yn.current),G(ci,ci.current)}function ui(a){K(ci),Pi===a&&(Pi=null),K(yn)}var yn=V(0);function Vm(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Db(c)||Lb(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ls=0,Ze=null,Pt=null,Tn=null,Um=!1,Xc=!1,Ll=!1,$m=0,Fd=0,Qc=null,Zz=0;function un(){throw Error(r(321))}function Iy(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!oi(a[c],o[c]))return!1;return!0}function Py(a,o,c,m,y,x){return ls=x,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=a===null||a.memoizedState===null?JT:Gy,Ll=!1,x=c(m,y),Ll=!1,Xc&&(x=vT(o,c,m,y)),gT(a),x}function gT(a){W.H=Gd;var o=Pt!==null&&Pt.next!==null;if(ls=0,Tn=Pt=Ze=null,Um=!1,Fd=0,Qc=null,o)throw Error(r(300));a===null||Nn||(a=a.dependencies,a!==null&&Im(a)&&(Nn=!0))}function vT(a,o,c,m){Ze=a;var y=0;do{if(Xc&&(Qc=null),Fd=0,Xc=!1,25<=y)throw Error(r(301));if(y+=1,Tn=Pt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=ZT,x=o(c,m)}while(Xc);return x}function eV(){var a=W.H,o=a.useState()[0];return o=typeof o.then=="function"?Hd(o):o,a=a.useState()[0],(Pt!==null?Pt.memoizedState:null)!==a&&(Ze.flags|=1024),o}function Ry(){var a=$m!==0;return $m=0,a}function ky(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function My(a){if(Um){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Um=!1}ls=0,Tn=Pt=Ze=null,Xc=!1,Fd=$m=0,Qc=null}function Rr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Ze.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function bn(){if(Pt===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var o=Tn===null?Ze.memoizedState:Tn.next;if(o!==null)Tn=o,Pt=a;else{if(a===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Tn===null?Ze.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function Bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hd(a){var o=Fd;return Fd+=1,Qc===null&&(Qc=[]),a=oT(Qc,a,o),o=Ze,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?JT:Gy),a}function qm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Hd(a);if(a.$$typeof===U)return or(a)}throw Error(r(438,String(a)))}function Dy(a){var o=null,c=Ze.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Ze.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Bm(),Ze.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=M;return o.index++,c}function cs(a,o){return typeof o=="function"?o(a):o}function Fm(a){var o=bn();return Ly(o,Pt,a)}function Ly(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,x=m.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}o.baseQueue=y=x,m.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{o=y.next;var B=C=null,X=null,ue=o,pe=!1;do{var be=ue.lane&-536870913;if(be!==ue.lane?(at&be)===be:(ls&be)===be){var de=ue.revertLane;if(de===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),be===Hc&&(pe=!0);else if((ls&de)===de){ue=ue.next,de===Hc&&(pe=!0);continue}else be={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},X===null?(B=X=be,C=x):X=X.next=be,Ze.lanes|=de,No|=de;be=ue.action,Ll&&c(x,be),x=ue.hasEagerState?ue.eagerState:c(x,be)}else de={lane:be,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},X===null?(B=X=de,C=x):X=X.next=de,Ze.lanes|=be,No|=be;ue=ue.next}while(ue!==null&&ue!==o);if(X===null?C=x:X.next=B,!oi(x,a.memoizedState)&&(Nn=!0,pe&&(c=Kc,c!==null)))throw c;a.memoizedState=x,a.baseState=C,a.baseQueue=X,m.lastRenderedState=x}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function zy(a){var o=bn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do x=a(x,C.action),C=C.next;while(C!==y);oi(x,o.memoizedState)||(Nn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,m]}function yT(a,o,c){var m=Ze,y=bn(),x=ut;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!oi((Pt||y).memoizedState,c);if(C&&(y.memoizedState=c,Nn=!0),y=y.queue,$y(wT.bind(null,m,y,a),[a]),y.getSnapshot!==o||C||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,Jc(9,{destroy:void 0},xT.bind(null,m,y,c,o),null),Lt===null)throw Error(r(349));x||(ls&127)!==0||bT(m,o,c)}return c}function bT(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ze.updateQueue,o===null?(o=Bm(),Ze.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function xT(a,o,c,m){o.value=c,o.getSnapshot=m,_T(o)&&ST(a)}function wT(a,o,c){return c(function(){_T(o)&&ST(a)})}function _T(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!oi(a,c)}catch{return!0}}function ST(a){var o=jl(a,2);o!==null&&Xr(o,a,2)}function Vy(a){var o=Rr();if(typeof a=="function"){var c=a;if(a=c(),Ll){Hn(!0);try{c()}finally{Hn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},o}function ET(a,o,c,m){return a.baseState=c,Ly(a,Pt,typeof m=="function"?m:cs)}function tV(a,o,c,m,y){if(Gm(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};W.T!==null?c(!0):x.isTransition=!1,m(x),c=o.pending,c===null?(x.next=o.pending=x,AT(o,x)):(x.next=c.next,o.pending=c.next=x)}}function AT(a,o){var c=o.action,m=o.payload,y=a.state;if(o.isTransition){var x=W.T,C={};W.T=C;try{var B=c(y,m),X=W.S;X!==null&&X(C,B),TT(a,o,B)}catch(ue){Uy(a,o,ue)}finally{x!==null&&C.types!==null&&(x.types=C.types),W.T=x}}else try{x=c(y,m),TT(a,o,x)}catch(ue){Uy(a,o,ue)}}function TT(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){NT(a,o,m)},function(m){return Uy(a,o,m)}):NT(a,o,c)}function NT(a,o,c){o.status="fulfilled",o.value=c,jT(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,AT(a,c)))}function Uy(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,jT(o),o=o.next;while(o!==m)}a.action=null}function jT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function CT(a,o){return o}function OT(a,o){if(ut){var c=Lt.formState;if(c!==null){e:{var m=Ze;if(ut){if(Kt){t:{for(var y=Kt,x=Ii;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ri(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Kt=Ri(y.nextSibling),m=y.data==="F!";break e}}yo(m)}m=!1}m&&(o=c[0])}}return c=Rr(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CT,lastRenderedState:o},c.queue=m,c=WT.bind(null,Ze,m),m.dispatch=c,m=Vy(!1),x=Ky.bind(null,Ze,!1,m.queue),m=Rr(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,c=tV.bind(null,Ze,y,x,c),y.dispatch=c,m.memoizedState=a,[o,c,!1]}function IT(a){var o=bn();return PT(o,Pt,a)}function PT(a,o,c){if(o=Ly(a,o,CT)[0],a=Fm(cs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Hd(o)}catch(C){throw C===Gc?km:C}else m=o;o=bn();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(Ze.flags|=2048,Jc(9,{destroy:void 0},nV.bind(null,y,c),null)),[m,x,a]}function nV(a,o){a.action=o}function RT(a){var o=bn(),c=Pt;if(c!==null)return PT(o,c,a);bn(),o=o.memoizedState,c=bn();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function Jc(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=Bm(),Ze.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function kT(){return bn().memoizedState}function Hm(a,o,c,m){var y=Rr();Ze.flags|=a,y.memoizedState=Jc(1|o,{destroy:void 0},c,m===void 0?null:m)}function Km(a,o,c,m){var y=bn();m=m===void 0?null:m;var x=y.memoizedState.inst;Pt!==null&&m!==null&&Iy(m,Pt.memoizedState.deps)?y.memoizedState=Jc(o,x,c,m):(Ze.flags|=a,y.memoizedState=Jc(1|o,x,c,m))}function MT(a,o){Hm(8390656,8,a,o)}function $y(a,o){Km(2048,8,a,o)}function rV(a){Ze.flags|=4;var o=Ze.updateQueue;if(o===null)o=Bm(),Ze.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function DT(a){var o=bn().memoizedState;return rV({ref:o,nextImpl:a}),function(){if((xt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function LT(a,o){return Km(4,2,a,o)}function zT(a,o){return Km(4,4,a,o)}function VT(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function UT(a,o,c){c=c!=null?c.concat([a]):null,Km(4,4,VT.bind(null,o,a),c)}function By(){}function $T(a,o){var c=bn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&Iy(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function BT(a,o){var c=bn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&Iy(o,m[1]))return m[0];if(m=a(),Ll){Hn(!0);try{a()}finally{Hn(!1)}}return c.memoizedState=[m,o],m}function qy(a,o,c){return c===void 0||(ls&1073741824)!==0&&(at&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=q2(),Ze.lanes|=a,No|=a,c)}function qT(a,o,c,m){return oi(c,o)?c:Wc.current!==null?(a=qy(a,c,m),oi(a,o)||(Nn=!0),a):(ls&42)===0||(ls&1073741824)!==0&&(at&261930)===0?(Nn=!0,a.memoizedState=c):(a=q2(),Ze.lanes|=a,No|=a,o)}function FT(a,o,c,m,y){var x=H.p;H.p=x!==0&&8>x?x:8;var C=W.T,B={};W.T=B,Ky(a,!1,o,c);try{var X=y(),ue=W.S;if(ue!==null&&ue(B,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var pe=Jz(X,m);Kd(a,o,pe,hi(a))}else Kd(a,o,m,hi(a))}catch(be){Kd(a,o,{then:function(){},status:"rejected",reason:be},hi())}finally{H.p=x,C!==null&&B.types!==null&&(C.types=B.types),W.T=C}}function iV(){}function Fy(a,o,c,m){if(a.tag!==5)throw Error(r(476));var y=HT(a).queue;FT(a,y,o,te,c===null?iV:function(){return KT(a),c(m)})}function HT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:te},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function KT(a){var o=HT(a);o.next===null&&(o=a.alternate.memoizedState),Kd(a,o.next.queue,{},hi())}function Hy(){return or(uf)}function GT(){return bn().memoizedState}function YT(){return bn().memoizedState}function aV(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=hi();a=wo(c);var m=_o(o,a,c);m!==null&&(Xr(m,o,c),$d(m,o,c)),o={cache:xy()},a.payload=o;return}o=o.return}}function sV(a,o,c){var m=hi();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Gm(a)?XT(o,c):(c=cy(a,o,c,m),c!==null&&(Xr(c,a,m),QT(c,o,m)))}function WT(a,o,c){var m=hi();Kd(a,o,c,m)}function Kd(a,o,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Gm(a))XT(o,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var C=o.lastRenderedState,B=x(C,c);if(y.hasEagerState=!0,y.eagerState=B,oi(B,C))return Nm(a,o,y,0),Lt===null&&Tm(),!1}catch{}if(c=cy(a,o,y,m),c!==null)return Xr(c,a,m),QT(c,o,m),!0}return!1}function Ky(a,o,c,m){if(m={lane:2,revertLane:Eb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Gm(a)){if(o)throw Error(r(479))}else o=cy(a,c,m,2),o!==null&&Xr(o,a,2)}function Gm(a){var o=a.alternate;return a===Ze||o!==null&&o===Ze}function XT(a,o){Xc=Um=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function QT(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,an(a,c)}}var Gd={readContext:or,use:qm,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};Gd.useEffectEvent=un;var JT={readContext:or,use:qm,useCallback:function(a,o){return Rr().memoizedState=[a,o===void 0?null:o],a},useContext:or,useEffect:MT,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Hm(4194308,4,VT.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Hm(4194308,4,a,o)},useInsertionEffect:function(a,o){Hm(4,2,a,o)},useMemo:function(a,o){var c=Rr();o=o===void 0?null:o;var m=a();if(Ll){Hn(!0);try{a()}finally{Hn(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=Rr();if(c!==void 0){var y=c(o);if(Ll){Hn(!0);try{c(o)}finally{Hn(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=sV.bind(null,Ze,a),[m.memoizedState,a]},useRef:function(a){var o=Rr();return a={current:a},o.memoizedState=a},useState:function(a){a=Vy(a);var o=a.queue,c=WT.bind(null,Ze,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:By,useDeferredValue:function(a,o){var c=Rr();return qy(c,a,o)},useTransition:function(){var a=Vy(!1);return a=FT.bind(null,Ze,a.queue,!0,!1),Rr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=Ze,y=Rr();if(ut){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Lt===null)throw Error(r(349));(at&127)!==0||bT(m,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,MT(wT.bind(null,m,x,a),[a]),m.flags|=2048,Jc(9,{destroy:void 0},xT.bind(null,m,x,c,o),null),c},useId:function(){var a=Rr(),o=Lt.identifierPrefix;if(ut){var c=ja,m=Na;c=(m&~(1<<32-$t(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=$m++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=Zz++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Hy,useFormState:OT,useActionState:OT,useOptimistic:function(a){var o=Rr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Ky.bind(null,Ze,!0,c),c.dispatch=o,[a,o]},useMemoCache:Dy,useCacheRefresh:function(){return Rr().memoizedState=aV.bind(null,Ze)},useEffectEvent:function(a){var o=Rr(),c={impl:a};return o.memoizedState=c,function(){if((xt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Gy={readContext:or,use:qm,useCallback:$T,useContext:or,useEffect:$y,useImperativeHandle:UT,useInsertionEffect:LT,useLayoutEffect:zT,useMemo:BT,useReducer:Fm,useRef:kT,useState:function(){return Fm(cs)},useDebugValue:By,useDeferredValue:function(a,o){var c=bn();return qT(c,Pt.memoizedState,a,o)},useTransition:function(){var a=Fm(cs)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:Hd(a),o]},useSyncExternalStore:yT,useId:GT,useHostTransitionStatus:Hy,useFormState:IT,useActionState:IT,useOptimistic:function(a,o){var c=bn();return ET(c,Pt,a,o)},useMemoCache:Dy,useCacheRefresh:YT};Gy.useEffectEvent=DT;var ZT={readContext:or,use:qm,useCallback:$T,useContext:or,useEffect:$y,useImperativeHandle:UT,useInsertionEffect:LT,useLayoutEffect:zT,useMemo:BT,useReducer:zy,useRef:kT,useState:function(){return zy(cs)},useDebugValue:By,useDeferredValue:function(a,o){var c=bn();return Pt===null?qy(c,a,o):qT(c,Pt.memoizedState,a,o)},useTransition:function(){var a=zy(cs)[0],o=bn().memoizedState;return[typeof a=="boolean"?a:Hd(a),o]},useSyncExternalStore:yT,useId:GT,useHostTransitionStatus:Hy,useFormState:RT,useActionState:RT,useOptimistic:function(a,o){var c=bn();return Pt!==null?ET(c,Pt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Dy,useCacheRefresh:YT};ZT.useEffectEvent=DT;function Yy(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Wy={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=hi(),y=wo(m);y.payload=o,c!=null&&(y.callback=c),o=_o(a,y,m),o!==null&&(Xr(o,a,m),$d(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=hi(),y=wo(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=_o(a,y,m),o!==null&&(Xr(o,a,m),$d(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=hi(),m=wo(c);m.tag=2,o!=null&&(m.callback=o),o=_o(a,m,c),o!==null&&(Xr(o,a,c),$d(o,a,c))}};function e2(a,o,c,m,y,x,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,C):o.prototype&&o.prototype.isPureReactComponent?!Rd(c,m)||!Rd(y,x):!0}function t2(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&Wy.enqueueReplaceState(o,o.state,null)}function zl(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function n2(a){Am(a)}function r2(a){console.error(a)}function i2(a){Am(a)}function Ym(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function a2(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Xy(a,o,c){return c=wo(c),c.tag=3,c.payload={element:null},c.callback=function(){Ym(a,o)},c}function s2(a){return a=wo(a),a.tag=3,a}function o2(a,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=m.value;a.payload=function(){return y(x)},a.callback=function(){a2(o,c,m)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){a2(o,c,m),typeof y!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function oV(a,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&Fc(o,c,y,!0),c=ci.current,c!==null){switch(c.tag){case 31:case 13:return Pi===null?sp():c.alternate===null&&dn===0&&(dn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===Mm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),wb(a,m,y)),!1;case 22:return c.flags|=65536,m===Mm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),wb(a,m,y)),!1}throw Error(r(435,c.tag))}return wb(a,m,y),sp(),!1}if(ut)return o=ci.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==py&&(a=Error(r(422),{cause:m}),Dd(ji(a,c)))):(m!==py&&(o=Error(r(423),{cause:m}),Dd(ji(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=ji(m,c),y=Xy(a.stateNode,m,y),Ty(a,y),dn!==4&&(dn=2)),!1;var x=Error(r(520),{cause:m});if(x=ji(x,c),tf===null?tf=[x]:tf.push(x),dn!==4&&(dn=2),o===null)return!0;m=ji(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Xy(c.stateNode,m,a),Ty(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(jo===null||!jo.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=s2(y),o2(y,a,c,m),Ty(c,y),!1}c=c.return}while(c!==null);return!1}var Qy=Error(r(461)),Nn=!1;function lr(a,o,c,m){o.child=a===null?dT(o,null,c,m):Dl(o,a.child,c,m)}function l2(a,o,c,m,y){c=c.render;var x=o.ref;if("ref"in m){var C={};for(var B in m)B!=="ref"&&(C[B]=m[B])}else C=m;return Pl(o),m=Py(a,o,c,C,x,y),B=Ry(),a!==null&&!Nn?(ky(a,o,y),us(a,o,y)):(ut&&B&&hy(o),o.flags|=1,lr(a,o,m,y),o.child)}function c2(a,o,c,m,y){if(a===null){var x=c.type;return typeof x=="function"&&!uy(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,u2(a,o,x,m,y)):(a=Cm(c.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!ab(a,y)){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:Rd,c(C,m)&&a.ref===o.ref)return us(a,o,y)}return o.flags|=1,a=is(x,m),a.ref=o.ref,a.return=o,o.child=a}function u2(a,o,c,m,y){if(a!==null){var x=a.memoizedProps;if(Rd(x,m)&&a.ref===o.ref)if(Nn=!1,o.pendingProps=m=x,ab(a,y))(a.flags&131072)!==0&&(Nn=!0);else return o.lanes=a.lanes,us(a,o,y)}return Jy(a,o,c,m,y)}function d2(a,o,c,m){var y=m.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~x}else m=0,o.child=null;return f2(a,o,x,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Rm(o,x!==null?x.cachePool:null),x!==null?mT(o,x):jy(),pT(o);else return m=o.lanes=536870912,f2(a,o,x!==null?x.baseLanes|c:c,c,m)}else x!==null?(Rm(o,x.cachePool),mT(o,x),Eo(),o.memoizedState=null):(a!==null&&Rm(o,null),jy(),Eo());return lr(a,o,y,c),o.child}function Yd(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function f2(a,o,c,m,y){var x=_y();return x=x===null?null:{parent:An._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Rm(o,null),jy(),pT(o),a!==null&&Fc(a,o,m,!0),o.childLanes=y,null}function Wm(a,o){return o=Qm({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function h2(a,o,c){return Dl(o,a.child,null,c),a=Wm(o,o.pendingProps),a.flags|=2,ui(o),o.memoizedState=null,a}function lV(a,o,c){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ut){if(m.mode==="hidden")return a=Wm(o,m),o.lanes=536870912,Yd(null,a);if(Oy(o),(a=Kt)?(a=AN(a,Ii),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:go!==null?{id:Na,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},c=XA(a),c.return=o,o.child=c,sr=o,Kt=null)):a=null,a===null)throw yo(o);return o.lanes=536870912,null}return Wm(o,m)}var x=a.memoizedState;if(x!==null){var C=x.dehydrated;if(Oy(o),y)if(o.flags&256)o.flags&=-257,o=h2(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Nn||Fc(a,o,c,!1),y=(c&a.childLanes)!==0,Nn||y){if(m=Lt,m!==null&&(C=Qt(m,c),C!==0&&C!==x.retryLane))throw x.retryLane=C,jl(a,C),Xr(m,a,C),Qy;sp(),o=h2(a,o,c)}else a=x.treeContext,Kt=Ri(C.nextSibling),sr=o,ut=!0,vo=null,Ii=!1,a!==null&&ZA(o,a),o=Wm(o,m),o.flags|=4096;return o}return a=is(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Xm(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Jy(a,o,c,m,y){return Pl(o),c=Py(a,o,c,m,void 0,y),m=Ry(),a!==null&&!Nn?(ky(a,o,y),us(a,o,y)):(ut&&m&&hy(o),o.flags|=1,lr(a,o,c,y),o.child)}function m2(a,o,c,m,y,x){return Pl(o),o.updateQueue=null,c=vT(o,m,c,y),gT(a),m=Ry(),a!==null&&!Nn?(ky(a,o,x),us(a,o,x)):(ut&&m&&hy(o),o.flags|=1,lr(a,o,c,x),o.child)}function p2(a,o,c,m,y){if(Pl(o),o.stateNode===null){var x=Uc,C=c.contextType;typeof C=="object"&&C!==null&&(x=or(C)),x=new c(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Wy,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},Ey(o),C=c.contextType,x.context=typeof C=="object"&&C!==null?or(C):Uc,x.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Yy(o,c,C,m),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&Wy.enqueueReplaceState(x,x.state,null),qd(o,m,x,y),Bd(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){x=o.stateNode;var B=o.memoizedProps,X=zl(c,B);x.props=X;var ue=x.context,pe=c.contextType;C=Uc,typeof pe=="object"&&pe!==null&&(C=or(pe));var be=c.getDerivedStateFromProps;pe=typeof be=="function"||typeof x.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,pe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(B||ue!==C)&&t2(o,x,m,C),xo=!1;var de=o.memoizedState;x.state=de,qd(o,m,x,y),Bd(),ue=o.memoizedState,B||de!==ue||xo?(typeof be=="function"&&(Yy(o,c,be,m),ue=o.memoizedState),(X=xo||e2(o,c,X,m,de,ue,C))?(pe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ue),x.props=m,x.state=ue,x.context=C,m=X):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,Ay(a,o),C=o.memoizedProps,pe=zl(c,C),x.props=pe,be=o.pendingProps,de=x.context,ue=c.contextType,X=Uc,typeof ue=="object"&&ue!==null&&(X=or(ue)),B=c.getDerivedStateFromProps,(ue=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==be||de!==X)&&t2(o,x,m,X),xo=!1,de=o.memoizedState,x.state=de,qd(o,m,x,y),Bd();var me=o.memoizedState;C!==be||de!==me||xo||a!==null&&a.dependencies!==null&&Im(a.dependencies)?(typeof B=="function"&&(Yy(o,c,B,m),me=o.memoizedState),(pe=xo||e2(o,c,pe,m,de,me,X)||a!==null&&a.dependencies!==null&&Im(a.dependencies))?(ue||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,me,X),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,me,X)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=me),x.props=m,x.state=me,x.context=X,m=pe):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),m=!1)}return x=m,Xm(a,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&m?(o.child=Dl(o,a.child,null,y),o.child=Dl(o,null,c,y)):lr(a,o,c,y),o.memoizedState=x.state,a=o.child):a=us(a,o,y),a}function g2(a,o,c,m){return Ol(),o.flags|=256,lr(a,o,c,m),o.child}var Zy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eb(a){return{baseLanes:a,cachePool:aT()}}function tb(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=fi),a}function v2(a,o,c){var m=o.pendingProps,y=!1,x=(o.flags&128)!==0,C;if((C=x)||(C=a!==null&&a.memoizedState===null?!1:(yn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,a===null){if(ut){if(y?So(o):Eo(),(a=Kt)?(a=AN(a,Ii),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:go!==null?{id:Na,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},c=XA(a),c.return=o,o.child=c,sr=o,Kt=null)):a=null,a===null)throw yo(o);return Lb(a)?o.lanes=32:o.lanes=536870912,null}var B=m.children;return m=m.fallback,y?(Eo(),y=o.mode,B=Qm({mode:"hidden",children:B},y),m=Cl(m,y,c,null),B.return=o,m.return=o,B.sibling=m,o.child=B,m=o.child,m.memoizedState=eb(c),m.childLanes=tb(a,C,c),o.memoizedState=Zy,Yd(null,m)):(So(o),nb(o,B))}var X=a.memoizedState;if(X!==null&&(B=X.dehydrated,B!==null)){if(x)o.flags&256?(So(o),o.flags&=-257,o=rb(a,o,c)):o.memoizedState!==null?(Eo(),o.child=a.child,o.flags|=128,o=null):(Eo(),B=m.fallback,y=o.mode,m=Qm({mode:"visible",children:m.children},y),B=Cl(B,y,c,null),B.flags|=2,m.return=o,B.return=o,m.sibling=B,o.child=m,Dl(o,a.child,null,c),m=o.child,m.memoizedState=eb(c),m.childLanes=tb(a,C,c),o.memoizedState=Zy,o=Yd(null,m));else if(So(o),Lb(B)){if(C=B.nextSibling&&B.nextSibling.dataset,C)var ue=C.dgst;C=ue,m=Error(r(419)),m.stack="",m.digest=C,Dd({value:m,source:null,stack:null}),o=rb(a,o,c)}else if(Nn||Fc(a,o,c,!1),C=(c&a.childLanes)!==0,Nn||C){if(C=Lt,C!==null&&(m=Qt(C,c),m!==0&&m!==X.retryLane))throw X.retryLane=m,jl(a,m),Xr(C,a,m),Qy;Db(B)||sp(),o=rb(a,o,c)}else Db(B)?(o.flags|=192,o.child=a.child,o=null):(a=X.treeContext,Kt=Ri(B.nextSibling),sr=o,ut=!0,vo=null,Ii=!1,a!==null&&ZA(o,a),o=nb(o,m.children),o.flags|=4096);return o}return y?(Eo(),B=m.fallback,y=o.mode,X=a.child,ue=X.sibling,m=is(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&65011712,ue!==null?B=is(ue,B):(B=Cl(B,y,c,null),B.flags|=2),B.return=o,m.return=o,m.sibling=B,o.child=m,Yd(null,m),m=o.child,B=a.child.memoizedState,B===null?B=eb(c):(y=B.cachePool,y!==null?(X=An._currentValue,y=y.parent!==X?{parent:X,pool:X}:y):y=aT(),B={baseLanes:B.baseLanes|c,cachePool:y}),m.memoizedState=B,m.childLanes=tb(a,C,c),o.memoizedState=Zy,Yd(a.child,m)):(So(o),c=a.child,a=c.sibling,c=is(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(C=o.deletions,C===null?(o.deletions=[a],o.flags|=16):C.push(a)),o.child=c,o.memoizedState=null,c)}function nb(a,o){return o=Qm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Qm(a,o){return a=li(22,a,null,o),a.lanes=0,a}function rb(a,o,c){return Dl(o,a.child,null,c),a=nb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function y2(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),yy(a.return,o,c)}function ib(a,o,c,m,y,x){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:x}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=c,C.tailMode=y,C.treeForkCount=x)}function b2(a,o,c){var m=o.pendingProps,y=m.revealOrder,x=m.tail;m=m.children;var C=yn.current,B=(C&2)!==0;if(B?(C=C&1|2,o.flags|=128):C&=1,G(yn,C),lr(a,o,m,c),m=ut?Md:0,!B&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&y2(a,c,o);else if(a.tag===19)y2(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&Vm(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),ib(o,!1,y,c,x,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Vm(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}ib(o,!0,c,null,x,m);break;case"together":ib(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function us(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),No|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Fc(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=is(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=is(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function ab(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Im(a)))}function cV(a,o,c){switch(o.tag){case 3:Pe(o,o.stateNode.containerInfo),bo(o,An,a.memoizedState.cache),Ol();break;case 27:case 5:Se(o);break;case 4:Pe(o,o.stateNode.containerInfo);break;case 10:bo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Oy(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(So(o),o.flags|=128,null):(c&o.child.childLanes)!==0?v2(a,o,c):(So(o),a=us(a,o,c),a!==null?a.sibling:null);So(o);break;case 19:var y=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(Fc(a,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return b2(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),G(yn,yn.current),m)break;return null;case 22:return o.lanes=0,d2(a,o,c,o.pendingProps);case 24:bo(o,An,a.memoizedState.cache)}return us(a,o,c)}function x2(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Nn=!0;else{if(!ab(a,c)&&(o.flags&128)===0)return Nn=!1,cV(a,o,c);Nn=(a.flags&131072)!==0}else Nn=!1,ut&&(o.flags&1048576)!==0&&JA(o,Md,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=kl(o.elementType),o.type=a,typeof a=="function")uy(a)?(m=zl(a,m),o.tag=1,o=p2(null,o,a,m,c)):(o.tag=0,o=Jy(null,o,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===q){o.tag=11,o=l2(null,o,a,m,c);break e}else if(y===O){o.tag=14,o=c2(null,o,a,m,c);break e}}throw o=re(a)||a,Error(r(306,o,""))}}return o;case 0:return Jy(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=zl(m,o.pendingProps),p2(a,o,m,y,c);case 3:e:{if(Pe(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var x=o.memoizedState;y=x.element,Ay(a,o),qd(o,m,null,c);var C=o.memoizedState;if(m=C.cache,bo(o,An,m),m!==x.cache&&by(o,[An],c,!0),Bd(),m=C.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=g2(a,o,m,c);break e}else if(m!==y){y=ji(Error(r(424)),o),Dd(y),o=g2(a,o,m,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Kt=Ri(a.firstChild),sr=o,ut=!0,vo=null,Ii=!0,c=dT(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ol(),m===y){o=us(a,o,c);break e}lr(a,o,m,c)}o=o.child}return o;case 26:return Xm(a,o),a===null?(c=IN(o.type,null,o.pendingProps,null))?o.memoizedState=c:ut||(c=o.type,a=o.pendingProps,m=hp(ye.current).createElement(c),m[Re]=o,m[ht]=a,cr(m,c,a),Sn(m),o.stateNode=m):o.memoizedState=IN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Se(o),a===null&&ut&&(m=o.stateNode=jN(o.type,o.pendingProps,ye.current),sr=o,Ii=!0,y=Kt,Po(o.type)?(zb=y,Kt=Ri(m.firstChild)):Kt=y),lr(a,o,o.pendingProps.children,c),Xm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ut&&((y=m=Kt)&&(m=VV(m,o.type,o.pendingProps,Ii),m!==null?(o.stateNode=m,sr=o,Kt=Ri(m.firstChild),Ii=!1,y=!0):y=!1),y||yo(o)),Se(o),y=o.type,x=o.pendingProps,C=a!==null?a.memoizedProps:null,m=x.children,Rb(y,x)?m=null:C!==null&&Rb(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=Py(a,o,eV,null,null,c),uf._currentValue=y),Xm(a,o),lr(a,o,m,c),o.child;case 6:return a===null&&ut&&((a=c=Kt)&&(c=UV(c,o.pendingProps,Ii),c!==null?(o.stateNode=c,sr=o,Kt=null,a=!0):a=!1),a||yo(o)),null;case 13:return v2(a,o,c);case 4:return Pe(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Dl(o,null,m,c):lr(a,o,m,c),o.child;case 11:return l2(a,o,o.type,o.pendingProps,c);case 7:return lr(a,o,o.pendingProps,c),o.child;case 8:return lr(a,o,o.pendingProps.children,c),o.child;case 12:return lr(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,bo(o,o.type,m.value),lr(a,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,Pl(o),y=or(y),m=m(y),o.flags|=1,lr(a,o,m,c),o.child;case 14:return c2(a,o,o.type,o.pendingProps,c);case 15:return u2(a,o,o.type,o.pendingProps,c);case 19:return b2(a,o,c);case 31:return lV(a,o,c);case 22:return d2(a,o,c,o.pendingProps);case 24:return Pl(o),m=or(An),a===null?(y=_y(),y===null&&(y=Lt,x=xy(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:m,cache:y},Ey(o),bo(o,An,y)):((a.lanes&c)!==0&&(Ay(a,o),qd(o,null,null,c),Bd()),y=a.memoizedState,x=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),bo(o,An,m)):(m=x.cache,bo(o,An,m),m!==y.cache&&by(o,[An],c,!0))),lr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ds(a){a.flags|=4}function sb(a,o,c,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(G2())a.flags|=8192;else throw Ml=Mm,Sy}else a.flags&=-16777217}function w2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DN(o))if(G2())a.flags|=8192;else throw Ml=Mm,Sy}function Jm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?ao():536870912,a.lanes|=o,nu|=o)}function Wd(a,o){if(!ut)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Gt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function uV(a,o,c){var m=o.pendingProps;switch(my(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),os(An),ie(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(qc(o)?ds(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gy())),Gt(o),null;case 26:var y=o.type,x=o.memoizedState;return a===null?(ds(o),x!==null?(Gt(o),w2(o,x)):(Gt(o),sb(o,y,null,m,c))):x?x!==a.memoizedState?(ds(o),Gt(o),w2(o,x)):(Gt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&ds(o),Gt(o),sb(o,y,a,m,c)),null;case 27:if(Ae(o),c=ye.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ds(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}a=Y.current,qc(o)?eT(o):(a=jN(y,m,c),o.stateNode=a,ds(o))}return Gt(o),null;case 5:if(Ae(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&ds(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Gt(o),null}if(x=Y.current,qc(o))eT(o);else{var C=hp(ye.current);switch(x){case 1:x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=C.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?C.createElement("select",{is:m.is}):C.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?C.createElement(y,{is:m.is}):C.createElement(y)}}x[Re]=o,x[ht]=m;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)x.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=x;e:switch(cr(x,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ds(o)}}return Gt(o),sb(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&ds(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=ye.current,qc(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,y=sr,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[Re]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||vN(a.nodeValue,c)),a||yo(o,!0)}else a=hp(a).createTextNode(m),a[Re]=o,o.stateNode=a}return Gt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=qc(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Re]=o}else Ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),a=!1}else c=gy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ui(o),o):(ui(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Gt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=qc(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Re]=o}else Ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),y=!1}else y=gy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ui(o),o):(ui(o),null)}return ui(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==y&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Jm(o,o.updateQueue),Gt(o),null);case 4:return ie(),a===null&&jb(o.stateNode.containerInfo),Gt(o),null;case 10:return os(o.type),Gt(o),null;case 19:if(K(yn),m=o.memoizedState,m===null)return Gt(o),null;if(y=(o.flags&128)!==0,x=m.rendering,x===null)if(y)Wd(m,!1);else{if(dn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Vm(a),x!==null){for(o.flags|=128,Wd(m,!1),a=x.updateQueue,o.updateQueue=a,Jm(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)WA(c,a),c=c.sibling;return G(yn,yn.current&1|2),ut&&as(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Ht()>rp&&(o.flags|=128,y=!0,Wd(m,!1),o.lanes=4194304)}else{if(!y)if(a=Vm(x),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Jm(o,a),Wd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ut)return Gt(o),null}else 2*Ht()-m.renderingStartTime>rp&&c!==536870912&&(o.flags|=128,y=!0,Wd(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(a=m.last,a!==null?a.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ht(),a.sibling=null,c=yn.current,G(yn,y?c&1|2:c&1),ut&&as(o,m.treeForkCount),a):(Gt(o),null);case 22:case 23:return ui(o),Cy(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),c=o.updateQueue,c!==null&&Jm(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&K(Rl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),os(An),Gt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function dV(a,o){switch(my(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return os(An),ie(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ae(o),null;case 31:if(o.memoizedState!==null){if(ui(o),o.alternate===null)throw Error(r(340));Ol()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ui(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ol()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(yn),null;case 4:return ie(),null;case 10:return os(o.type),null;case 22:case 23:return ui(o),Cy(),a!==null&&K(Rl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return os(An),null;case 25:return null;default:return null}}function _2(a,o){switch(my(o),o.tag){case 3:os(An),ie();break;case 26:case 27:case 5:Ae(o);break;case 4:ie();break;case 31:o.memoizedState!==null&&ui(o);break;case 13:ui(o);break;case 19:K(yn);break;case 10:os(o.type);break;case 22:case 23:ui(o),Cy(),a!==null&&K(Rl);break;case 24:os(An)}}function Xd(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var x=c.create,C=c.inst;m=x(),C.destroy=m}c=c.next}while(c!==y)}}catch(B){Nt(o,o.return,B)}}function Ao(a,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var x=y.next;m=x;do{if((m.tag&a)===a){var C=m.inst,B=C.destroy;if(B!==void 0){C.destroy=void 0,y=o;var X=c,ue=B;try{ue()}catch(pe){Nt(y,X,pe)}}}m=m.next}while(m!==x)}}catch(pe){Nt(o,o.return,pe)}}function S2(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{hT(o,c)}catch(m){Nt(a,a.return,m)}}}function E2(a,o,c){c.props=zl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){Nt(a,o,m)}}function Qd(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){Nt(a,o,y)}}function Ca(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){Nt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Nt(a,o,y)}else c.current=null}function A2(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){Nt(a,a.return,y)}}function ob(a,o,c){try{var m=a.stateNode;RV(m,a.type,c,o),m[ht]=o}catch(y){Nt(a,a.return,y)}}function T2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Po(a.type)||a.tag===4}function lb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||T2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Po(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cb(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Yi));else if(m!==4&&(m===27&&Po(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(cb(a,o,c),a=a.sibling;a!==null;)cb(a,o,c),a=a.sibling}function Zm(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&Po(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Zm(a,o,c),a=a.sibling;a!==null;)Zm(a,o,c),a=a.sibling}function N2(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);cr(o,m,c),o[Re]=a,o[ht]=c}catch(x){Nt(a,a.return,x)}}var fs=!1,jn=!1,ub=!1,j2=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function fV(a,o){if(a=a.containerInfo,Ib=xp,a=UA(a),ry(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,B=-1,X=-1,ue=0,pe=0,be=a,de=null;t:for(;;){for(var me;be!==c||y!==0&&be.nodeType!==3||(B=C+y),be!==x||m!==0&&be.nodeType!==3||(X=C+m),be.nodeType===3&&(C+=be.nodeValue.length),(me=be.firstChild)!==null;)de=be,be=me;for(;;){if(be===a)break t;if(de===c&&++ue===y&&(B=C),de===x&&++pe===m&&(X=C),(me=be.nextSibling)!==null)break;be=de,de=be.parentNode}be=me}c=B===-1||X===-1?null:{start:B,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pb={focusedElem:a,selectionRange:c},xp=!1,Yn=o;Yn!==null;)if(o=Yn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Yn=a;else for(;Yn!==null;){switch(o=Yn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,m=c.stateNode;try{var De=zl(c.type,y);a=m.getSnapshotBeforeUpdate(De,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(Fe){Nt(c,c.return,Fe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Mb(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Mb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Yn=a;break}Yn=o.return}}function C2(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ms(a,c),m&4&&Xd(5,c);break;case 1:if(ms(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(C){Nt(c,c.return,C)}else{var y=zl(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Nt(c,c.return,C)}}m&64&&S2(c),m&512&&Qd(c,c.return);break;case 3:if(ms(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{hT(a,o)}catch(C){Nt(c,c.return,C)}}break;case 27:o===null&&m&4&&N2(c);case 26:case 5:ms(a,c),o===null&&m&4&&A2(c),m&512&&Qd(c,c.return);break;case 12:ms(a,c);break;case 31:ms(a,c),m&4&&P2(a,c);break;case 13:ms(a,c),m&4&&R2(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=wV.bind(null,c),$V(a,c))));break;case 22:if(m=c.memoizedState!==null||fs,!m){o=o!==null&&o.memoizedState!==null||jn,y=fs;var x=jn;fs=m,(jn=o)&&!x?ps(a,c,(c.subtreeFlags&8772)!==0):ms(a,c),fs=y,jn=x}break;case 30:break;default:ms(a,c)}}function O2(a){var o=a.alternate;o!==null&&(a.alternate=null,O2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Tc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Zt=null,Kr=!1;function hs(a,o,c){for(c=c.child;c!==null;)I2(a,o,c),c=c.sibling}function I2(a,o,c){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(xr,c)}catch{}switch(c.tag){case 26:jn||Ca(c,o),hs(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:jn||Ca(c,o);var m=Zt,y=Kr;Po(c.type)&&(Zt=c.stateNode,Kr=!1),hs(a,o,c),of(c.stateNode),Zt=m,Kr=y;break;case 5:jn||Ca(c,o);case 6:if(m=Zt,y=Kr,Zt=null,hs(a,o,c),Zt=m,Kr=y,Zt!==null)if(Kr)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(c.stateNode)}catch(x){Nt(c,o,x)}else try{Zt.removeChild(c.stateNode)}catch(x){Nt(c,o,x)}break;case 18:Zt!==null&&(Kr?(a=Zt,SN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),uu(a)):SN(Zt,c.stateNode));break;case 4:m=Zt,y=Kr,Zt=c.stateNode.containerInfo,Kr=!0,hs(a,o,c),Zt=m,Kr=y;break;case 0:case 11:case 14:case 15:Ao(2,c,o),jn||Ao(4,c,o),hs(a,o,c);break;case 1:jn||(Ca(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&E2(c,o,m)),hs(a,o,c);break;case 21:hs(a,o,c);break;case 22:jn=(m=jn)||c.memoizedState!==null,hs(a,o,c),jn=m;break;default:hs(a,o,c)}}function P2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{uu(a)}catch(c){Nt(o,o.return,c)}}}function R2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{uu(a)}catch(c){Nt(o,o.return,c)}}function hV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new j2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new j2),o;default:throw Error(r(435,a.tag))}}function ep(a,o){var c=hV(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var y=_V.bind(null,a,m);m.then(y,y)}})}function Gr(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],x=a,C=o,B=C;e:for(;B!==null;){switch(B.tag){case 27:if(Po(B.type)){Zt=B.stateNode,Kr=!1;break e}break;case 5:Zt=B.stateNode,Kr=!1;break e;case 3:case 4:Zt=B.stateNode.containerInfo,Kr=!0;break e}B=B.return}if(Zt===null)throw Error(r(160));I2(x,C,y),Zt=null,Kr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)k2(o,a),o=o.sibling}var ea=null;function k2(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Gr(o,a),Yr(a),m&4&&(Ao(3,a,a.return),Xd(3,a),Ao(5,a,a.return));break;case 1:Gr(o,a),Yr(a),m&512&&(jn||c===null||Ca(c,c.return)),m&64&&fs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=ea;if(Gr(o,a),Yr(a),m&512&&(jn||c===null||Ca(c,c.return)),m&4){var x=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":x=y.getElementsByTagName("title")[0],(!x||x[pa]||x[Re]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(m),y.head.insertBefore(x,y.querySelector("head > title"))),cr(x,m,c),x[Re]=a,Sn(x),m=x;break e;case"link":var C=kN("link","href",y).get(m+(c.href||""));if(C){for(var B=0;B<C.length;B++)if(x=C[B],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(B,1);break t}}x=y.createElement(m),cr(x,m,c),y.head.appendChild(x);break;case"meta":if(C=kN("meta","content",y).get(m+(c.content||""))){for(B=0;B<C.length;B++)if(x=C[B],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(B,1);break t}}x=y.createElement(m),cr(x,m,c),y.head.appendChild(x);break;default:throw Error(r(468,m))}x[Re]=a,Sn(x),m=x}a.stateNode=m}else MN(y,a.type,a.stateNode);else a.stateNode=RN(y,m,a.memoizedProps);else x!==m?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,m===null?MN(y,a.type,a.stateNode):RN(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&ob(a,a.memoizedProps,c.memoizedProps)}break;case 27:Gr(o,a),Yr(a),m&512&&(jn||c===null||Ca(c,c.return)),c!==null&&m&4&&ob(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Gr(o,a),Yr(a),m&512&&(jn||c===null||Ca(c,c.return)),a.flags&32){y=a.stateNode;try{Hr(y,"")}catch(De){Nt(a,a.return,De)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,ob(a,y,c!==null?c.memoizedProps:y)),m&1024&&(ub=!0);break;case 6:if(Gr(o,a),Yr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(De){Nt(a,a.return,De)}}break;case 3:if(gp=null,y=ea,ea=mp(o.containerInfo),Gr(o,a),ea=y,Yr(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{uu(o.containerInfo)}catch(De){Nt(a,a.return,De)}ub&&(ub=!1,M2(a));break;case 4:m=ea,ea=mp(a.stateNode.containerInfo),Gr(o,a),Yr(a),ea=m;break;case 12:Gr(o,a),Yr(a);break;case 31:Gr(o,a),Yr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ep(a,m)));break;case 13:Gr(o,a),Yr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(np=Ht()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ep(a,m)));break;case 22:y=a.memoizedState!==null;var X=c!==null&&c.memoizedState!==null,ue=fs,pe=jn;if(fs=ue||y,jn=pe||X,Gr(o,a),jn=pe,fs=ue,Yr(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||X||fs||jn||Vl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){X=c=o;try{if(x=X.stateNode,y)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{B=X.stateNode;var be=X.memoizedProps.style,de=be!=null&&be.hasOwnProperty("display")?be.display:null;B.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(De){Nt(X,X.return,De)}}}else if(o.tag===6){if(c===null){X=o;try{X.stateNode.nodeValue=y?"":X.memoizedProps}catch(De){Nt(X,X.return,De)}}}else if(o.tag===18){if(c===null){X=o;try{var me=X.stateNode;y?EN(me,!0):EN(X.stateNode,!1)}catch(De){Nt(X,X.return,De)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,ep(a,c))));break;case 19:Gr(o,a),Yr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ep(a,m)));break;case 30:break;case 21:break;default:Gr(o,a),Yr(a)}}function Yr(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(T2(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=lb(a);Zm(a,x,y);break;case 5:var C=c.stateNode;c.flags&32&&(Hr(C,""),c.flags&=-33);var B=lb(a);Zm(a,B,C);break;case 3:case 4:var X=c.stateNode.containerInfo,ue=lb(a);cb(a,ue,X);break;default:throw Error(r(161))}}catch(pe){Nt(a,a.return,pe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function M2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;M2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ms(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)C2(a,o.alternate,o),o=o.sibling}function Vl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ao(4,o,o.return),Vl(o);break;case 1:Ca(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&E2(o,o.return,c),Vl(o);break;case 27:of(o.stateNode);case 26:case 5:Ca(o,o.return),Vl(o);break;case 22:o.memoizedState===null&&Vl(o);break;case 30:Vl(o);break;default:Vl(o)}a=a.sibling}}function ps(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,x=o,C=x.flags;switch(x.tag){case 0:case 11:case 15:ps(y,x,c),Xd(4,x);break;case 1:if(ps(y,x,c),m=x,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ue){Nt(m,m.return,ue)}if(m=x,y=m.updateQueue,y!==null){var B=m.stateNode;try{var X=y.shared.hiddenCallbacks;if(X!==null)for(y.shared.hiddenCallbacks=null,y=0;y<X.length;y++)fT(X[y],B)}catch(ue){Nt(m,m.return,ue)}}c&&C&64&&S2(x),Qd(x,x.return);break;case 27:N2(x);case 26:case 5:ps(y,x,c),c&&m===null&&C&4&&A2(x),Qd(x,x.return);break;case 12:ps(y,x,c);break;case 31:ps(y,x,c),c&&C&4&&P2(y,x);break;case 13:ps(y,x,c),c&&C&4&&R2(y,x);break;case 22:x.memoizedState===null&&ps(y,x,c),Qd(x,x.return);break;case 30:break;default:ps(y,x,c)}o=o.sibling}}function db(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ld(c))}function fb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ld(a))}function ta(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)D2(a,o,c,m),o=o.sibling}function D2(a,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:ta(a,o,c,m),y&2048&&Xd(9,o);break;case 1:ta(a,o,c,m);break;case 3:ta(a,o,c,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ld(a)));break;case 12:if(y&2048){ta(a,o,c,m),a=o.stateNode;try{var x=o.memoizedProps,C=x.id,B=x.onPostCommit;typeof B=="function"&&B(C,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(X){Nt(o,o.return,X)}}else ta(a,o,c,m);break;case 31:ta(a,o,c,m);break;case 13:ta(a,o,c,m);break;case 23:break;case 22:x=o.stateNode,C=o.alternate,o.memoizedState!==null?x._visibility&2?ta(a,o,c,m):Jd(a,o):x._visibility&2?ta(a,o,c,m):(x._visibility|=2,Zc(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&db(C,o);break;case 24:ta(a,o,c,m),y&2048&&fb(o.alternate,o);break;default:ta(a,o,c,m)}}function Zc(a,o,c,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,C=o,B=c,X=m,ue=C.flags;switch(C.tag){case 0:case 11:case 15:Zc(x,C,B,X,y),Xd(8,C);break;case 23:break;case 22:var pe=C.stateNode;C.memoizedState!==null?pe._visibility&2?Zc(x,C,B,X,y):Jd(x,C):(pe._visibility|=2,Zc(x,C,B,X,y)),y&&ue&2048&&db(C.alternate,C);break;case 24:Zc(x,C,B,X,y),y&&ue&2048&&fb(C.alternate,C);break;default:Zc(x,C,B,X,y)}o=o.sibling}}function Jd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,y=m.flags;switch(m.tag){case 22:Jd(c,m),y&2048&&db(m.alternate,m);break;case 24:Jd(c,m),y&2048&&fb(m.alternate,m);break;default:Jd(c,m)}o=o.sibling}}var Zd=8192;function eu(a,o,c){if(a.subtreeFlags&Zd)for(a=a.child;a!==null;)L2(a,o,c),a=a.sibling}function L2(a,o,c){switch(a.tag){case 26:eu(a,o,c),a.flags&Zd&&a.memoizedState!==null&&ZV(c,ea,a.memoizedState,a.memoizedProps);break;case 5:eu(a,o,c);break;case 3:case 4:var m=ea;ea=mp(a.stateNode.containerInfo),eu(a,o,c),ea=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Zd,Zd=16777216,eu(a,o,c),Zd=m):eu(a,o,c));break;default:eu(a,o,c)}}function z2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function ef(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Yn=m,U2(m,a)}z2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)V2(a),a=a.sibling}function V2(a){switch(a.tag){case 0:case 11:case 15:ef(a),a.flags&2048&&Ao(9,a,a.return);break;case 3:ef(a);break;case 12:ef(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,tp(a)):ef(a);break;default:ef(a)}}function tp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Yn=m,U2(m,a)}z2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ao(8,o,o.return),tp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,tp(o));break;default:tp(o)}a=a.sibling}}function U2(a,o){for(;Yn!==null;){var c=Yn;switch(c.tag){case 0:case 11:case 15:Ao(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ld(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Yn=m;else e:for(c=a;Yn!==null;){m=Yn;var y=m.sibling,x=m.return;if(O2(m),m===c){Yn=null;break e}if(y!==null){y.return=x,Yn=y;break e}Yn=x}}}var mV={getCacheForType:function(a){var o=or(An),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return or(An).controller.signal}},pV=typeof WeakMap=="function"?WeakMap:Map,xt=0,Lt=null,nt=null,at=0,Tt=0,di=null,To=!1,tu=!1,hb=!1,gs=0,dn=0,No=0,Ul=0,mb=0,fi=0,nu=0,tf=null,Wr=null,pb=!1,np=0,$2=0,rp=1/0,ip=null,jo=null,Mn=0,Co=null,ru=null,vs=0,gb=0,vb=null,B2=null,nf=0,yb=null;function hi(){return(xt&2)!==0&&at!==0?at&-at:W.T!==null?Eb():Q()}function q2(){if(fi===0)if((at&536870912)===0||ut){var a=Gi;Gi<<=1,(Gi&3932160)===0&&(Gi=262144),fi=a}else fi=536870912;return a=ci.current,a!==null&&(a.flags|=32),fi}function Xr(a,o,c){(a===Lt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(iu(a,0),Oo(a,at,fi,!1)),je(a,c),((xt&2)===0||a!==Lt)&&(a===Lt&&((xt&2)===0&&(Ul|=c),dn===4&&Oo(a,at,fi,!1)),Oa(a))}function F2(a,o,c){if((xt&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Ir(a,o),y=m?yV(a,o):xb(a,o,!0),x=m;do{if(y===0){tu&&!m&&Oo(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!gV(c)){y=xb(a,o,!1),x=!1;continue}if(y===2){if(x=o,a.errorRecoveryDisabledLanes&x)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var B=a;y=tf;var X=B.current.memoizedState.isDehydrated;if(X&&(iu(B,C).flags|=256),C=xb(B,C,!1),C!==2){if(hb&&!X){B.errorRecoveryDisabledLanes|=x,Ul|=x,y=4;break e}x=Wr,Wr=y,x!==null&&(Wr===null?Wr=x:Wr.push.apply(Wr,x))}y=C}if(x=!1,y!==2)continue}}if(y===1){iu(a,0),Oo(a,o,0,!0);break}e:{switch(m=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Oo(m,o,fi,!To);break e;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=np+300-Ht(),10<y)){if(Oo(m,o,fi,!To),qr(m,0,!0)!==0)break e;vs=o,m.timeoutHandle=wN(H2.bind(null,m,c,Wr,ip,pb,o,fi,Ul,nu,To,x,"Throttled",-0,0),y);break e}H2(m,c,Wr,ip,pb,o,fi,Ul,nu,To,x,null,-0,0)}}break}while(!0);Oa(a)}function H2(a,o,c,m,y,x,C,B,X,ue,pe,be,de,me){if(a.timeoutHandle=-1,be=o.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yi},L2(o,x,be);var De=(x&62914560)===x?np-Ht():(x&4194048)===x?$2-Ht():0;if(De=e9(be,De),De!==null){vs=x,a.cancelPendingCommit=De(Z2.bind(null,a,o,x,c,m,y,C,B,X,pe,be,null,de,me)),Oo(a,x,C,!ue);return}}Z2(a,o,x,c,m,y,C,B,X)}function gV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],x=y.getSnapshot;y=y.value;try{if(!oi(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oo(a,o,c,m){o&=~mb,o&=~Ul,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var x=31-$t(y),C=1<<x;m[x]=-1,y&=~C}c!==0&&vt(a,c,o)}function ap(){return(xt&6)===0?(rf(0),!1):!0}function bb(){if(nt!==null){if(Tt===0)var a=nt.return;else a=nt,ss=Il=null,My(a),Yc=null,Vd=0,a=nt;for(;a!==null;)_2(a.alternate,a),a=a.return;nt=null}}function iu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,DV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),vs=0,bb(),Lt=a,nt=c=is(a.current,null),at=o,Tt=0,di=null,To=!1,tu=Ir(a,o),hb=!1,nu=fi=mb=Ul=No=dn=0,Wr=tf=null,pb=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-$t(m),x=1<<y;o|=a[y],m&=~x}return gs=o,Tm(),c}function K2(a,o){Ze=null,W.H=Gd,o===Gc||o===km?(o=lT(),Tt=3):o===Sy?(o=lT(),Tt=4):Tt=o===Qy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,di=o,nt===null&&(dn=1,Ym(a,ji(o,a.current)))}function G2(){var a=ci.current;return a===null?!0:(at&4194048)===at?Pi===null:(at&62914560)===at||(at&536870912)!==0?a===Pi:!1}function Y2(){var a=W.H;return W.H=Gd,a===null?Gd:a}function W2(){var a=W.A;return W.A=mV,a}function sp(){dn=4,To||(at&4194048)!==at&&ci.current!==null||(tu=!0),(No&134217727)===0&&(Ul&134217727)===0||Lt===null||Oo(Lt,at,fi,!1)}function xb(a,o,c){var m=xt;xt|=2;var y=Y2(),x=W2();(Lt!==a||at!==o)&&(ip=null,iu(a,o)),o=!1;var C=dn;e:do try{if(Tt!==0&&nt!==null){var B=nt,X=di;switch(Tt){case 8:bb(),C=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(o=!0);var ue=Tt;if(Tt=0,di=null,au(a,B,X,ue),c&&tu){C=0;break e}break;default:ue=Tt,Tt=0,di=null,au(a,B,X,ue)}}vV(),C=dn;break}catch(pe){K2(a,pe)}while(!0);return o&&a.shellSuspendCounter++,ss=Il=null,xt=m,W.H=y,W.A=x,nt===null&&(Lt=null,at=0,Tm()),C}function vV(){for(;nt!==null;)X2(nt)}function yV(a,o){var c=xt;xt|=2;var m=Y2(),y=W2();Lt!==a||at!==o?(ip=null,rp=Ht()+500,iu(a,o)):tu=Ir(a,o);e:do try{if(Tt!==0&&nt!==null){o=nt;var x=di;t:switch(Tt){case 1:Tt=0,di=null,au(a,o,x,1);break;case 2:case 9:if(sT(x)){Tt=0,di=null,Q2(o);break}o=function(){Tt!==2&&Tt!==9||Lt!==a||(Tt=7),Oa(a)},x.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:sT(x)?(Tt=0,di=null,Q2(o)):(Tt=0,di=null,au(a,o,x,7));break;case 5:var C=null;switch(nt.tag){case 26:C=nt.memoizedState;case 5:case 27:var B=nt;if(C?DN(C):B.stateNode.complete){Tt=0,di=null;var X=B.sibling;if(X!==null)nt=X;else{var ue=B.return;ue!==null?(nt=ue,op(ue)):nt=null}break t}}Tt=0,di=null,au(a,o,x,5);break;case 6:Tt=0,di=null,au(a,o,x,6);break;case 8:bb(),dn=6;break e;default:throw Error(r(462))}}bV();break}catch(pe){K2(a,pe)}while(!0);return ss=Il=null,W.H=m,W.A=y,xt=c,nt!==null?0:(Lt=null,at=0,Tm(),dn)}function bV(){for(;nt!==null&&!Ja();)X2(nt)}function X2(a){var o=x2(a.alternate,a,gs);a.memoizedProps=a.pendingProps,o===null?op(a):nt=o}function Q2(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=m2(c,o,o.pendingProps,o.type,void 0,at);break;case 11:o=m2(c,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:My(o);default:_2(c,o),o=nt=WA(o,gs),o=x2(c,o,gs)}a.memoizedProps=a.pendingProps,o===null?op(a):nt=o}function au(a,o,c,m){ss=Il=null,My(o),Yc=null,Vd=0;var y=o.return;try{if(oV(a,y,o,c,at)){dn=1,Ym(a,ji(c,a.current)),nt=null;return}}catch(x){if(y!==null)throw nt=y,x;dn=1,Ym(a,ji(c,a.current)),nt=null;return}o.flags&32768?(ut||m===1?a=!0:tu||(at&536870912)!==0?a=!1:(To=a=!0,(m===2||m===9||m===3||m===6)&&(m=ci.current,m!==null&&m.tag===13&&(m.flags|=16384))),J2(o,a)):op(o)}function op(a){var o=a;do{if((o.flags&32768)!==0){J2(o,To);return}a=o.return;var c=uV(o.alternate,o,gs);if(c!==null){nt=c;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=a}while(o!==null);dn===0&&(dn=5)}function J2(a,o){do{var c=dV(a.alternate,a);if(c!==null){c.flags&=32767,nt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){nt=a;return}nt=a=c}while(a!==null);dn=6,nt=null}function Z2(a,o,c,m,y,x,C,B,X){a.cancelPendingCommit=null;do lp();while(Mn!==0);if((xt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=ly,tt(a,c,x,C,B,X),a===Lt&&(nt=Lt=null,at=0),ru=o,Co=a,vs=c,gb=x,vb=y,B2=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,SV(wi,function(){return iN(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=W.T,W.T=null,y=H.p,H.p=2,C=xt,xt|=4;try{fV(a,o,c)}finally{xt=C,H.p=y,W.T=m}}Mn=1,eN(),tN(),nN()}}function eN(){if(Mn===1){Mn=0;var a=Co,o=ru,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var m=H.p;H.p=2;var y=xt;xt|=4;try{k2(o,a);var x=Pb,C=UA(a.containerInfo),B=x.focusedElem,X=x.selectionRange;if(C!==B&&B&&B.ownerDocument&&VA(B.ownerDocument.documentElement,B)){if(X!==null&&ry(B)){var ue=X.start,pe=X.end;if(pe===void 0&&(pe=ue),"selectionStart"in B)B.selectionStart=ue,B.selectionEnd=Math.min(pe,B.value.length);else{var be=B.ownerDocument||document,de=be&&be.defaultView||window;if(de.getSelection){var me=de.getSelection(),De=B.textContent.length,Fe=Math.min(X.start,De),kt=X.end===void 0?Fe:Math.min(X.end,De);!me.extend&&Fe>kt&&(C=kt,kt=Fe,Fe=C);var ne=zA(B,Fe),ee=zA(B,kt);if(ne&&ee&&(me.rangeCount!==1||me.anchorNode!==ne.node||me.anchorOffset!==ne.offset||me.focusNode!==ee.node||me.focusOffset!==ee.offset)){var le=be.createRange();le.setStart(ne.node,ne.offset),me.removeAllRanges(),Fe>kt?(me.addRange(le),me.extend(ee.node,ee.offset)):(le.setEnd(ee.node,ee.offset),me.addRange(le))}}}}for(be=[],me=B;me=me.parentNode;)me.nodeType===1&&be.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<be.length;B++){var ve=be[B];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}xp=!!Ib,Pb=Ib=null}finally{xt=y,H.p=m,W.T=c}}a.current=o,Mn=2}}function tN(){if(Mn===2){Mn=0;var a=Co,o=ru,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var m=H.p;H.p=2;var y=xt;xt|=4;try{C2(a,o.alternate,o)}finally{xt=y,H.p=m,W.T=c}}Mn=3}}function nN(){if(Mn===4||Mn===3){Mn=0,fa();var a=Co,o=ru,c=vs,m=B2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Mn=5:(Mn=0,ru=Co=null,rN(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(jo=null),ii(c),o=o.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(xr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=W.T,y=H.p,H.p=2,W.T=null;try{for(var x=a.onRecoverableError,C=0;C<m.length;C++){var B=m[C];x(B.value,{componentStack:B.stack})}}finally{W.T=o,H.p=y}}(vs&3)!==0&&lp(),Oa(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===yb?nf++:(nf=0,yb=a):nf=0,rf(0)}}function rN(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Ld(o)))}function lp(){return eN(),tN(),nN(),iN()}function iN(){if(Mn!==5)return!1;var a=Co,o=gb;gb=0;var c=ii(vs),m=W.T,y=H.p;try{H.p=32>c?32:c,W.T=null,c=vb,vb=null;var x=Co,C=vs;if(Mn=0,ru=Co=null,vs=0,(xt&6)!==0)throw Error(r(331));var B=xt;if(xt|=4,V2(x.current),D2(x,x.current,C,c),xt=B,rf(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(xr,x)}catch{}return!0}finally{H.p=y,W.T=m,rN(a,o)}}function aN(a,o,c){o=ji(c,o),o=Xy(a.stateNode,o,2),a=_o(a,o,2),a!==null&&(je(a,2),Oa(a))}function Nt(a,o,c){if(a.tag===3)aN(a,a,c);else for(;o!==null;){if(o.tag===3){aN(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(jo===null||!jo.has(m))){a=ji(c,a),c=s2(2),m=_o(o,c,2),m!==null&&(o2(c,m,o,a),je(m,2),Oa(m));break}}o=o.return}}function wb(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new pV;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(hb=!0,y.add(c),a=xV.bind(null,a,o,c),o.then(a,a))}function xV(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Lt===a&&(at&c)===c&&(dn===4||dn===3&&(at&62914560)===at&&300>Ht()-np?(xt&2)===0&&iu(a,0):mb|=c,nu===at&&(nu=0)),Oa(a)}function sN(a,o){o===0&&(o=ao()),a=jl(a,o),a!==null&&(je(a,o),Oa(a))}function wV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),sN(a,c)}function _V(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),sN(a,c)}function SV(a,o){return Ot(a,o)}var cp=null,su=null,_b=!1,up=!1,Sb=!1,Io=0;function Oa(a){a!==su&&a.next===null&&(su===null?cp=su=a:su=su.next=a),up=!0,_b||(_b=!0,AV())}function rf(a,o){if(!Sb&&up){Sb=!0;do for(var c=!1,m=cp;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var x=0;else{var C=m.suspendedLanes,B=m.pingedLanes;x=(1<<31-$t(42|a)+1)-1,x&=y&~(C&~B),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,uN(m,x))}else x=at,x=qr(m,m===Lt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Ir(m,x)||(c=!0,uN(m,x));m=m.next}while(c);Sb=!1}}function EV(){oN()}function oN(){up=_b=!1;var a=0;Io!==0&&MV()&&(a=Io);for(var o=Ht(),c=null,m=cp;m!==null;){var y=m.next,x=lN(m,o);x===0?(m.next=null,c===null?cp=y:c.next=y,y===null&&(su=c)):(c=m,(a!==0||(x&3)!==0)&&(up=!0)),m=y}Mn!==0&&Mn!==5||rf(a),Io!==0&&(Io=0)}function lN(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var C=31-$t(x),B=1<<C,X=y[C];X===-1?((B&c)===0||(B&m)!==0)&&(y[C]=io(B,o)):X<=o&&(a.expiredLanes|=B),x&=~B}if(o=Lt,c=at,c=qr(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&$r(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ir(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&$r(m),ii(c)){case 2:case 8:c=xi;break;case 32:c=wi;break;case 268435456:c=ha;break;default:c=wi}return m=cN.bind(null,a),c=Ot(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&$r(m),a.callbackPriority=2,a.callbackNode=null,2}function cN(a,o){if(Mn!==0&&Mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(lp()&&a.callbackNode!==c)return null;var m=at;return m=qr(a,a===Lt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(F2(a,m,o),lN(a,Ht()),a.callbackNode!=null&&a.callbackNode===c?cN.bind(null,a):null)}function uN(a,o){if(lp())return null;F2(a,o,!0)}function AV(){LV(function(){(xt&6)!==0?Ot(rr,EV):oN()})}function Eb(){if(Io===0){var a=Hc;a===0&&(a=wr,wr<<=1,(wr&261888)===0&&(wr=256)),Io=a}return Io}function dN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Oc(""+a)}function fN(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function TV(a,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var x=dN((y[ht]||null).action),C=m.submitter;C&&(o=(o=C[ht]||null)?dN(o.formAction):C.getAttribute("formAction"),o!==null&&(x=o,C=null));var B=new Sa("action","action",null,m,y);a.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Io!==0){var X=C?fN(y,C):new FormData(y);Fy(c,{pending:!0,data:X,method:y.method,action:x},null,X)}}else typeof x=="function"&&(B.preventDefault(),X=C?fN(y,C):new FormData(y),Fy(c,{pending:!0,data:X,method:y.method,action:x},x,X))},currentTarget:y}]})}}for(var Ab=0;Ab<oy.length;Ab++){var Tb=oy[Ab],NV=Tb.toLowerCase(),jV=Tb[0].toUpperCase()+Tb.slice(1);Zi(NV,"on"+jV)}Zi(qA,"onAnimationEnd"),Zi(FA,"onAnimationIteration"),Zi(HA,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(Fz,"onTransitionRun"),Zi(Hz,"onTransitionStart"),Zi(Kz,"onTransitionCancel"),Zi(KA,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(af));function hN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var C=m.length-1;0<=C;C--){var B=m[C],X=B.instance,ue=B.currentTarget;if(B=B.listener,X!==x&&y.isPropagationStopped())break e;x=B,y.currentTarget=ue;try{x(y)}catch(pe){Am(pe)}y.currentTarget=null,x=X}else for(C=0;C<m.length;C++){if(B=m[C],X=B.instance,ue=B.currentTarget,B=B.listener,X!==x&&y.isPropagationStopped())break e;x=B,y.currentTarget=ue;try{x(y)}catch(pe){Am(pe)}y.currentTarget=null,x=X}}}}function rt(a,o){var c=o[yt];c===void 0&&(c=o[yt]=new Set);var m=a+"__bubble";c.has(m)||(mN(o,a,2,!1),c.add(m))}function Nb(a,o,c){var m=0;o&&(m|=4),mN(c,a,m,o)}var dp="_reactListening"+Math.random().toString(36).slice(2);function jb(a){if(!a[dp]){a[dp]=!0,gd.forEach(function(c){c!=="selectionchange"&&(CV.has(c)||Nb(c,!1,a),Nb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[dp]||(o[dp]=!0,Nb("selectionchange",!1,o))}}function mN(a,o,c,m){switch(qN(o)){case 2:var y=r9;break;case 8:y=i9;break;default:y=qb}c=y.bind(null,o,c,a),y=void 0,!xl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function Cb(a,o,c,m,y){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var B=m.stateNode.containerInfo;if(B===y)break;if(C===4)for(C=m.return;C!==null;){var X=C.tag;if((X===3||X===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;B!==null;){if(C=ga(B),C===null)return;if(X=C.tag,X===5||X===6||X===26||X===27){m=x=C;continue e}B=B.parentNode}}m=m.return}fo(function(){var ue=x,pe=Ei(c),be=[];e:{var de=GA.get(a);if(de!==void 0){var me=Sa,De=a;switch(a){case"keypress":if(_l(c)===0)break e;case"keydown":case"keyup":me=_m;break;case"focusin":De="focus",me=El;break;case"focusout":De="blur",me=El;break;case"beforeblur":case"afterblur":me=El;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=T;break;case qA:case FA:case HA:me=pm;break;case KA:me=F;break;case"scroll":case"scrollend":me=jd;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=rs;break;case"toggle":case"beforetoggle":me=Je}var Fe=(o&4)!==0,kt=!Fe&&(a==="scroll"||a==="scrollend"),ne=Fe?de!==null?de+"Capture":null:de;Fe=[];for(var ee=ue,le;ee!==null;){var ve=ee;if(le=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||le===null||ne===null||(ve=Wi(ee,ne),ve!=null&&Fe.push(sf(ee,ve,le))),kt)break;ee=ee.return}0<Fe.length&&(de=new me(de,De,null,c,pe),be.push({event:de,listeners:Fe}))}}if((o&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",de&&c!==Ad&&(De=c.relatedTarget||c.fromElement)&&(ga(De)||De[$e]))break e;if((me||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,me?(De=c.relatedTarget||c.toElement,me=ue,De=De?ga(De):null,De!==null&&(kt=s(De),Fe=De.tag,De!==kt||Fe!==5&&Fe!==27&&Fe!==6)&&(De=null)):(me=null,De=ue),me!==De)){if(Fe=Cd,ve="onMouseLeave",ne="onMouseEnter",ee="mouse",(a==="pointerout"||a==="pointerover")&&(Fe=rs,ve="onPointerLeave",ne="onPointerEnter",ee="pointer"),kt=me==null?de:ai(me),le=De==null?de:ai(De),de=new Fe(ve,ee+"leave",me,c,pe),de.target=kt,de.relatedTarget=le,ve=null,ga(pe)===ue&&(Fe=new Fe(ne,ee+"enter",De,c,pe),Fe.target=le,Fe.relatedTarget=kt,ve=Fe),kt=ve,me&&De)t:{for(Fe=OV,ne=me,ee=De,le=0,ve=ne;ve;ve=Fe(ve))le++;ve=0;for(var Be=ee;Be;Be=Fe(Be))ve++;for(;0<le-ve;)ne=Fe(ne),le--;for(;0<ve-le;)ee=Fe(ee),ve--;for(;le--;){if(ne===ee||ee!==null&&ne===ee.alternate){Fe=ne;break t}ne=Fe(ne),ee=Fe(ee)}Fe=null}else Fe=null;me!==null&&pN(be,de,me,Fe,!1),De!==null&&kt!==null&&pN(be,kt,De,Fe,!0)}}e:{if(de=ue?ai(ue):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var mt=PA;else if(OA(de))if(RA)mt=$z;else{mt=Vz;var Ue=zz}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&Cc(ue.elementType)&&(mt=PA):mt=Uz;if(mt&&(mt=mt(a,ue))){IA(be,mt,c,pe);break e}Ue&&Ue(a,de,ue),a==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&_d(de,"number",de.value)}switch(Ue=ue?ai(ue):window,a){case"focusin":(OA(Ue)||Ue.contentEditable==="true")&&(Lc=Ue,iy=ue,kd=null);break;case"focusout":kd=iy=Lc=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,$A(be,c,pe);break;case"selectionchange":if(qz)break;case"keydown":case"keyup":$A(be,c,pe)}var et;if(bt)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Dc?Al(a,c)&&(st="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(st="onCompositionStart");st&&(Ta&&c.locale!=="ko"&&(Dc||st!=="onCompositionStart"?st==="onCompositionEnd"&&Dc&&(et=Nd()):(_a=pe,Td="value"in _a?_a.value:_a.textContent,Dc=!0)),Ue=fp(ue,st),0<Ue.length&&(st=new Aa(st,a,null,c,pe),be.push({event:st,listeners:Ue}),et?st.data=et:(et=Mc(c),et!==null&&(st.data=et)))),(et=Ti?kz(a,c):Mz(a,c))&&(st=fp(ue,"onBeforeInput"),0<st.length&&(Ue=new Aa("onBeforeInput","beforeinput",null,c,pe),be.push({event:Ue,listeners:st}),Ue.data=et)),TV(be,a,ue,c,pe)}hN(be,o)})}function sf(a,o,c){return{instance:a,listener:o,currentTarget:c}}function fp(a,o){for(var c=o+"Capture",m=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Wi(a,c),y!=null&&m.unshift(sf(a,y,x)),y=Wi(a,o),y!=null&&m.push(sf(a,y,x))),a.tag===3)return m;a=a.return}return[]}function OV(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function pN(a,o,c,m,y){for(var x=o._reactName,C=[];c!==null&&c!==m;){var B=c,X=B.alternate,ue=B.stateNode;if(B=B.tag,X!==null&&X===m)break;B!==5&&B!==26&&B!==27||ue===null||(X=ue,y?(ue=Wi(c,x),ue!=null&&C.unshift(sf(c,ue,X))):y||(ue=Wi(c,x),ue!=null&&C.push(sf(c,ue,X)))),c=c.return}C.length!==0&&a.push({event:o,listeners:C})}var IV=/\r\n?/g,PV=/\u0000|\uFFFD/g;function gN(a){return(typeof a=="string"?a:""+a).replace(IV,`
`).replace(PV,"")}function vN(a,o){return o=gN(o),gN(a)===o}function Rt(a,o,c,m,y,x){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Hr(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Hr(a,""+m);break;case"className":si(a,"class",m);break;case"tabIndex":si(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":si(a,c,m);break;case"style":Ed(a,m,x);break;case"data":if(o!=="object"){si(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Oc(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&Rt(a,o,"name",y.name,y,null),Rt(a,o,"formEncType",y.formEncType,y,null),Rt(a,o,"formMethod",y.formMethod,y,null),Rt(a,o,"formTarget",y.formTarget,y,null)):(Rt(a,o,"encType",y.encType,y,null),Rt(a,o,"method",y.method,y,null),Rt(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Oc(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Yi);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Oc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":rt("beforetoggle",a),rt("toggle",a),Nc(a,"popover",m);break;case"xlinkActuate":En(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":En(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":En(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":En(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":En(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":En(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":En(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":En(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":En(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Nc(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=fm.get(c)||c,Nc(a,c,m))}}function Ob(a,o,c,m,y,x){switch(c){case"style":Ed(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?Hr(a,m):(typeof m=="number"||typeof m=="bigint")&&Hr(a,""+m);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=a[ht]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,y),typeof m=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Nc(a,c,m)}}}function cr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",a),rt("load",a);var m=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var C=c[x];if(C!=null)switch(x){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,x,C,c,null)}}y&&Rt(a,o,"srcSet",c.srcSet,c,null),m&&Rt(a,o,"src",c.src,c,null);return;case"input":rt("invalid",a);var B=x=C=y=null,X=null,ue=null;for(m in c)if(c.hasOwnProperty(m)){var pe=c[m];if(pe!=null)switch(m){case"name":y=pe;break;case"type":C=pe;break;case"checked":X=pe;break;case"defaultChecked":ue=pe;break;case"value":x=pe;break;case"defaultValue":B=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,o));break;default:Rt(a,o,m,pe,c,null)}}cm(a,x,B,X,ue,C,y,!1);return;case"select":rt("invalid",a),m=C=x=null;for(y in c)if(c.hasOwnProperty(y)&&(B=c[y],B!=null))switch(y){case"value":x=B;break;case"defaultValue":C=B;break;case"multiple":m=B;default:Rt(a,o,y,B,c,null)}o=x,c=C,a.multiple=!!m,o!=null?oo(a,!!m,o,!1):c!=null&&oo(a,!!m,c,!0);return;case"textarea":rt("invalid",a),x=y=m=null;for(C in c)if(c.hasOwnProperty(C)&&(B=c[C],B!=null))switch(C){case"value":m=B;break;case"defaultValue":y=B;break;case"children":x=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Rt(a,o,C,B,c,null)}lo(a,m,y,x);return;case"option":for(X in c)c.hasOwnProperty(X)&&(m=c[X],m!=null)&&(X==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Rt(a,o,X,m,c,null));return;case"dialog":rt("beforetoggle",a),rt("toggle",a),rt("cancel",a),rt("close",a);break;case"iframe":case"object":rt("load",a);break;case"video":case"audio":for(m=0;m<af.length;m++)rt(af[m],a);break;case"image":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"embed":case"source":case"link":rt("error",a),rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in c)if(c.hasOwnProperty(ue)&&(m=c[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(a,o,ue,m,c,null)}return;default:if(Cc(o)){for(pe in c)c.hasOwnProperty(pe)&&(m=c[pe],m!==void 0&&Ob(a,o,pe,m,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(m=c[B],m!=null&&Rt(a,o,B,m,c,null))}function RV(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,C=null,B=null,X=null,ue=null,pe=null;for(me in c){var be=c[me];if(c.hasOwnProperty(me)&&be!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":X=be;default:m.hasOwnProperty(me)||Rt(a,o,me,null,m,be)}}for(var de in m){var me=m[de];if(be=c[de],m.hasOwnProperty(de)&&(me!=null||be!=null))switch(de){case"type":x=me;break;case"name":y=me;break;case"checked":ue=me;break;case"defaultChecked":pe=me;break;case"value":C=me;break;case"defaultValue":B=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==be&&Rt(a,o,de,me,m,be)}}jc(a,C,B,X,ue,pe,x,y);return;case"select":me=C=B=de=null;for(x in c)if(X=c[x],c.hasOwnProperty(x)&&X!=null)switch(x){case"value":break;case"multiple":me=X;default:m.hasOwnProperty(x)||Rt(a,o,x,null,m,X)}for(y in m)if(x=m[y],X=c[y],m.hasOwnProperty(y)&&(x!=null||X!=null))switch(y){case"value":de=x;break;case"defaultValue":B=x;break;case"multiple":C=x;default:x!==X&&Rt(a,o,y,x,m,X)}o=B,c=C,m=me,de!=null?oo(a,!!c,de,!1):!!m!=!!c&&(o!=null?oo(a,!!c,o,!0):oo(a,!!c,c?[]:"",!1));return;case"textarea":me=de=null;for(B in c)if(y=c[B],c.hasOwnProperty(B)&&y!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Rt(a,o,B,null,m,y)}for(C in m)if(y=m[C],x=c[C],m.hasOwnProperty(C)&&(y!=null||x!=null))switch(C){case"value":de=y;break;case"defaultValue":me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&Rt(a,o,C,y,m,x)}um(a,de,me);return;case"option":for(var De in c)de=c[De],c.hasOwnProperty(De)&&de!=null&&!m.hasOwnProperty(De)&&(De==="selected"?a.selected=!1:Rt(a,o,De,null,m,de));for(X in m)de=m[X],me=c[X],m.hasOwnProperty(X)&&de!==me&&(de!=null||me!=null)&&(X==="selected"?a.selected=de&&typeof de!="function"&&typeof de!="symbol":Rt(a,o,X,de,m,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in c)de=c[Fe],c.hasOwnProperty(Fe)&&de!=null&&!m.hasOwnProperty(Fe)&&Rt(a,o,Fe,null,m,de);for(ue in m)if(de=m[ue],me=c[ue],m.hasOwnProperty(ue)&&de!==me&&(de!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Rt(a,o,ue,de,m,me)}return;default:if(Cc(o)){for(var kt in c)de=c[kt],c.hasOwnProperty(kt)&&de!==void 0&&!m.hasOwnProperty(kt)&&Ob(a,o,kt,void 0,m,de);for(pe in m)de=m[pe],me=c[pe],!m.hasOwnProperty(pe)||de===me||de===void 0&&me===void 0||Ob(a,o,pe,de,m,me);return}}for(var ne in c)de=c[ne],c.hasOwnProperty(ne)&&de!=null&&!m.hasOwnProperty(ne)&&Rt(a,o,ne,null,m,de);for(be in m)de=m[be],me=c[be],!m.hasOwnProperty(be)||de===me||de==null&&me==null||Rt(a,o,be,de,m,me)}function yN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],x=y.transferSize,C=y.initiatorType,B=y.duration;if(x&&B&&yN(C)){for(C=0,B=y.responseEnd,m+=1;m<c.length;m++){var X=c[m],ue=X.startTime;if(ue>B)break;var pe=X.transferSize,be=X.initiatorType;pe&&yN(be)&&(X=X.responseEnd,C+=pe*(X<B?1:(B-ue)/(X-ue)))}if(--m,o+=8*(x+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ib=null,Pb=null;function hp(a){return a.nodeType===9?a:a.ownerDocument}function bN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Rb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kb=null;function MV(){var a=window.event;return a&&a.type==="popstate"?a===kb?!1:(kb=a,!0):(kb=null,!1)}var wN=typeof setTimeout=="function"?setTimeout:void 0,DV=typeof clearTimeout=="function"?clearTimeout:void 0,_N=typeof Promise=="function"?Promise:void 0,LV=typeof queueMicrotask=="function"?queueMicrotask:typeof _N<"u"?function(a){return _N.resolve(null).then(a).catch(zV)}:wN;function zV(a){setTimeout(function(){throw a})}function Po(a){return a==="head"}function SN(a,o){var c=o,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),uu(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")of(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,of(c);for(var x=c.firstChild;x;){var C=x.nextSibling,B=x.nodeName;x[pa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=C}}else c==="body"&&of(a.ownerDocument.body);c=y}while(c);uu(o)}function EN(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function Mb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Mb(c),Tc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function VV(a,o,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[pa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ri(a.nextSibling),a===null)break}return null}function UV(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ri(a.nextSibling),a===null))return null;return a}function AN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ri(a.nextSibling),a===null))return null;return a}function Db(a){return a.data==="$?"||a.data==="$~"}function Lb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function $V(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ri(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var zb=null;function TN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Ri(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function NN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function jN(a,o,c){switch(o=hp(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function of(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Tc(a)}var ki=new Map,CN=new Set;function mp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ys=H.d;H.d={f:BV,r:qV,D:FV,C:HV,L:KV,m:GV,X:WV,S:YV,M:XV};function BV(){var a=ys.f(),o=ap();return a||o}function qV(a){var o=Si(a);o!==null&&o.tag===5&&o.type==="form"?KT(o):ys.r(a)}var ou=typeof document>"u"?null:document;function ON(a,o,c){var m=ou;if(m&&typeof o=="string"&&o){var y=Fr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),CN.has(y)||(CN.add(y),a={rel:a,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),cr(o,"link",a),Sn(o),m.head.appendChild(o)))}}function FV(a){ys.D(a),ON("dns-prefetch",a,null)}function HV(a,o){ys.C(a,o),ON("preconnect",a,o)}function KV(a,o,c){ys.L(a,o,c);var m=ou;if(m&&a&&o){var y='link[rel="preload"][as="'+Fr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Fr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Fr(c.imageSizes)+'"]')):y+='[href="'+Fr(a)+'"]';var x=y;switch(o){case"style":x=lu(a);break;case"script":x=cu(a)}ki.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),ki.set(x,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(lf(x))||o==="script"&&m.querySelector(cf(x))||(o=m.createElement("link"),cr(o,"link",a),Sn(o),m.head.appendChild(o)))}}function GV(a,o){ys.m(a,o);var c=ou;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Fr(m)+'"][href="'+Fr(a)+'"]',x=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=cu(a)}if(!ki.has(x)&&(a=g({rel:"modulepreload",href:a},o),ki.set(x,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(cf(x)))return}m=c.createElement("link"),cr(m,"link",a),Sn(m),c.head.appendChild(m)}}}function YV(a,o,c){ys.S(a,o,c);var m=ou;if(m&&a){var y=va(m).hoistableStyles,x=lu(a);o=o||"default";var C=y.get(x);if(!C){var B={loading:0,preload:null};if(C=m.querySelector(lf(x)))B.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=ki.get(x))&&Vb(a,c);var X=C=m.createElement("link");Sn(X),cr(X,"link",a),X._p=new Promise(function(ue,pe){X.onload=ue,X.onerror=pe}),X.addEventListener("load",function(){B.loading|=1}),X.addEventListener("error",function(){B.loading|=2}),B.loading|=4,pp(C,o,m)}C={type:"stylesheet",instance:C,count:1,state:B},y.set(x,C)}}}function WV(a,o){ys.X(a,o);var c=ou;if(c&&a){var m=va(c).hoistableScripts,y=cu(a),x=m.get(y);x||(x=c.querySelector(cf(y)),x||(a=g({src:a,async:!0},o),(o=ki.get(y))&&Ub(a,o),x=c.createElement("script"),Sn(x),cr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function XV(a,o){ys.M(a,o);var c=ou;if(c&&a){var m=va(c).hoistableScripts,y=cu(a),x=m.get(y);x||(x=c.querySelector(cf(y)),x||(a=g({src:a,async:!0,type:"module"},o),(o=ki.get(y))&&Ub(a,o),x=c.createElement("script"),Sn(x),cr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function IN(a,o,c,m){var y=(y=ye.current)?mp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=lu(c.href),c=va(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=lu(c.href);var x=va(y).hoistableStyles,C=x.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,C),(x=y.querySelector(lf(a)))&&!x._p&&(C.instance=x,C.state.loading=5),ki.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ki.set(a,c),x||QV(y,a,c,C.state))),o&&m===null)throw Error(r(528,""));return C}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cu(c),c=va(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function lu(a){return'href="'+Fr(a)+'"'}function lf(a){return'link[rel="stylesheet"]['+a+"]"}function PN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function QV(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),cr(o,"link",c),Sn(o),a.head.appendChild(o))}function cu(a){return'[src="'+Fr(a)+'"]'}function cf(a){return"script[async]"+a}function RN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Fr(c.href)+'"]');if(m)return o.instance=m,Sn(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Sn(m),cr(m,"style",y),pp(m,c.precedence,a),o.instance=m;case"stylesheet":y=lu(c.href);var x=a.querySelector(lf(y));if(x)return o.state.loading|=4,o.instance=x,Sn(x),x;m=PN(c),(y=ki.get(y))&&Vb(m,y),x=(a.ownerDocument||a).createElement("link"),Sn(x);var C=x;return C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),cr(x,"link",m),o.state.loading|=4,pp(x,c.precedence,a),o.instance=x;case"script":return x=cu(c.src),(y=a.querySelector(cf(x)))?(o.instance=y,Sn(y),y):(m=c,(y=ki.get(x))&&(m=g({},c),Ub(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),Sn(y),cr(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,pp(m,c.precedence,a));return o.instance}function pp(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,x=y,C=0;C<m.length;C++){var B=m[C];if(B.dataset.precedence===o)x=B;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Vb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ub(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var gp=null;function kN(a,o,c){if(gp===null){var m=new Map,y=gp=new Map;y.set(c,m)}else y=gp,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[pa]||x[Re]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(o)||"";C=a+C;var B=m.get(C);B?B.push(x):m.set(C,[x])}}return m}function MN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function JV(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function DN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function ZV(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=lu(m.href),x=o.querySelector(lf(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=vp.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,Sn(x);return}x=o.ownerDocument||o,m=PN(m),(y=ki.get(y))&&Vb(m,y),x=x.createElement("link"),Sn(x);var C=x;C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),cr(x,"link",m),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=vp.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var $b=0;function e9(a,o){return a.stylesheets&&a.count===0&&bp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&bp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&$b===0&&($b=62500*kV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&bp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>$b?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function vp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yp=null;function bp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yp=new Map,o.forEach(t9,a),yp=null,vp.call(a))}function t9(a,o){if(!(o.state.loading&4)){var c=yp.get(a);if(c)var m=c.get(null);else{c=new Map,yp.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var C=y[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),m=C)}m&&c.set(null,m)}y=o.instance,C=y.getAttribute("data-precedence"),x=c.get(C)||m,x===m&&c.set(null,y),c.set(C,y),this.count++,m=vp.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var uf={$$typeof:U,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function n9(a,o,c,m,y,x,C,B,X){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function LN(a,o,c,m,y,x,C,B,X,ue,pe,be){return a=new n9(a,o,c,C,X,ue,pe,be,B),o=1,x===!0&&(o|=24),x=li(3,null,null,o),a.current=x,x.stateNode=a,o=xy(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:c,cache:o},Ey(x),a}function zN(a){return a?(a=Uc,a):Uc}function VN(a,o,c,m,y,x){y=zN(y),m.context===null?m.context=y:m.pendingContext=y,m=wo(o),m.payload={element:c},x=x===void 0?null:x,x!==null&&(m.callback=x),c=_o(a,m,o),c!==null&&(Xr(c,a,o),$d(c,a,o))}function UN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function Bb(a,o){UN(a,o),(a=a.alternate)&&UN(a,o)}function $N(a){if(a.tag===13||a.tag===31){var o=jl(a,67108864);o!==null&&Xr(o,a,67108864),Bb(a,67108864)}}function BN(a){if(a.tag===13||a.tag===31){var o=hi();o=ri(o);var c=jl(a,o);c!==null&&Xr(c,a,o),Bb(a,o)}}var xp=!0;function r9(a,o,c,m){var y=W.T;W.T=null;var x=H.p;try{H.p=2,qb(a,o,c,m)}finally{H.p=x,W.T=y}}function i9(a,o,c,m){var y=W.T;W.T=null;var x=H.p;try{H.p=8,qb(a,o,c,m)}finally{H.p=x,W.T=y}}function qb(a,o,c,m){if(xp){var y=Fb(m);if(y===null)Cb(a,o,m,wp,c),FN(a,m);else if(s9(y,a,o,c,m))m.stopPropagation();else if(FN(a,m),o&4&&-1<a9.indexOf(a)){for(;y!==null;){var x=Si(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=Br(x.pendingLanes);if(C!==0){var B=x;for(B.pendingLanes|=2,B.entangledLanes|=2;C;){var X=1<<31-$t(C);B.entanglements[1]|=X,C&=~X}Oa(x),(xt&6)===0&&(rp=Ht()+500,rf(0))}}break;case 31:case 13:B=jl(x,2),B!==null&&Xr(B,x,2),ap(),Bb(x,2)}if(x=Fb(m),x===null&&Cb(a,o,m,wp,c),x===y)break;y=x}y!==null&&m.stopPropagation()}else Cb(a,o,m,null,c)}}function Fb(a){return a=Ei(a),Hb(a)}var wp=null;function Hb(a){if(wp=null,a=ga(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return wp=a,null}function qN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case rr:return 2;case xi:return 8;case wi:case Za:return 32;case ha:return 268435456;default:return 32}default:return 32}}var Kb=!1,Ro=null,ko=null,Mo=null,df=new Map,ff=new Map,Do=[],a9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FN(a,o){switch(a){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":df.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(o.pointerId)}}function hf(a,o,c,m,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:x,targetContainers:[y]},o!==null&&(o=Si(o),o!==null&&$N(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function s9(a,o,c,m,y){switch(o){case"focusin":return Ro=hf(Ro,a,o,c,m,y),!0;case"dragenter":return ko=hf(ko,a,o,c,m,y),!0;case"mouseover":return Mo=hf(Mo,a,o,c,m,y),!0;case"pointerover":var x=y.pointerId;return df.set(x,hf(df.get(x)||null,a,o,c,m,y)),!0;case"gotpointercapture":return x=y.pointerId,ff.set(x,hf(ff.get(x)||null,a,o,c,m,y)),!0}return!1}function HN(a){var o=ga(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,Te(a.priority,function(){BN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,Te(a.priority,function(){BN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _p(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Fb(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);Ad=m,c.target.dispatchEvent(m),Ad=null}else return o=Si(c),o!==null&&$N(o),a.blockedOn=c,!1;o.shift()}return!0}function KN(a,o,c){_p(a)&&c.delete(o)}function o9(){Kb=!1,Ro!==null&&_p(Ro)&&(Ro=null),ko!==null&&_p(ko)&&(ko=null),Mo!==null&&_p(Mo)&&(Mo=null),df.forEach(KN),ff.forEach(KN)}function Sp(a,o){a.blockedOn===o&&(a.blockedOn=null,Kb||(Kb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,o9)))}var Ep=null;function GN(a){Ep!==a&&(Ep=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ep===a&&(Ep=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(Hb(m||c)===null)continue;break}var x=Si(c);x!==null&&(a.splice(o,3),o-=3,Fy(x,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function uu(a){function o(X){return Sp(X,a)}Ro!==null&&Sp(Ro,a),ko!==null&&Sp(ko,a),Mo!==null&&Sp(Mo,a),df.forEach(o),ff.forEach(o);for(var c=0;c<Do.length;c++){var m=Do[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Do.length&&(c=Do[0],c.blockedOn===null);)HN(c),c.blockedOn===null&&Do.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],x=c[m+1],C=y[ht]||null;if(typeof x=="function")C||GN(c);else if(C){var B=null;if(x&&x.hasAttribute("formAction")){if(y=x,C=x[ht]||null)B=C.formAction;else if(Hb(y)!==null)continue}else B=C.action;typeof B=="function"?c[m+1]=B:(c.splice(m,3),m-=3),GN(c)}}}function YN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Gb(a){this._internalRoot=a}Ap.prototype.render=Gb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=hi();VN(c,m,a,o,null,null)},Ap.prototype.unmount=Gb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;VN(a.current,2,null,a,null,null),ap(),o[$e]=null}};function Ap(a){this._internalRoot=a}Ap.prototype.unstable_scheduleHydration=function(a){if(a){var o=Q();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Do.length&&o!==0&&o<Do[c].priority;c++);Do.splice(c,0,a),c===0&&HN(a)}};var WN=e.version;if(WN!=="19.2.3")throw Error(r(527,WN,"19.2.3"));H.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var l9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{xr=Tp.inject(l9),rn=Tp}catch{}}return pf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",y=n2,x=r2,C=i2;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=LN(a,1,!1,null,null,c,m,null,y,x,C,YN),a[$e]=o.current,jb(a),new Gb(o)},pf.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,y="",x=n2,C=r2,B=i2,X=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.formState!==void 0&&(X=c.formState)),o=LN(a,1,!0,o,c??null,m,y,X,x,C,B,YN),o.context=zN(null),c=o.current,m=hi(),m=ri(m),y=wo(m),y.callback=null,_o(c,y,m),c=m,o.current.lanes=c,je(o,c),Oa(o),a[$e]=o.current,jb(a),new Ap(o)},pf.version="19.2.3",pf}var aj;function b9(){if(aj)return Xb.exports;aj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xb.exports=y9(),Xb.exports}var x9=b9();const w9=()=>{};var sj={};const Dk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Lk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|h>>6,_=h&63;d||(_=64,l||(b=64)),r.push(n[p],n[g],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new S9;const b=s<<2|u>>4;if(r.push(b),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E9=function(t){const e=Dk(t);return Lk.encodeByteArray(e,!0)},mg=function(t){return E9(t).replace(/\./g,"")},zk=function(t){try{return Lk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const T9=()=>A9().__FIREBASE_DEFAULTS__,N9=()=>{if(typeof process>"u"||typeof sj>"u")return;const t=sj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zk(t[1]);return e&&JSON.parse(e)},Pv=()=>{try{return w9()||T9()||N9()||j9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vk=t=>Pv()?.emulatorHosts?.[t],C9=t=>{const e=Vk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Uk=()=>Pv()?.config,$k=t=>Pv()?.[`_${t}`];class O9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Xu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bk(t){return(await fetch(t,{credentials:"include"})).ok}function I9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mg(JSON.stringify(n)),mg(JSON.stringify(l)),""].join(".")}const Pf={};function P9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pf))Pf[e]?t.emulator.push(e):t.prod.push(e);return t}function R9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oj=!1;function qk(t,e){if(typeof window>"u"||typeof document>"u"||!Xu(window.location.host)||Pf[t]===e||Pf[t]||oj)return;Pf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=P9().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{oj=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=R9(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),j=n("preprendIcon"),L=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const U=b.element;u(U),p(A,E);const q=h();d(L,j),U.append(L,S,A,q),document.body.appendChild(U)}s?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function M9(){const t=Pv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V9(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U9(){return!M9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $9(){try{return typeof indexedDB=="object"}catch{return!1}}function B9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const q9="FirebaseError";class Ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q9,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vh.prototype.create)}}class vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?F9(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ks(i,u,r)}}function F9(t,e){return t.replace(H9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H9=/\{\$([^}]+)}/g;function K9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(lj(s)&&lj(l)){if(!ic(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lj(t){return t!==null&&typeof t=="object"}function yh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function G9(t,e){const n=new Y9(t,e);return n.subscribe.bind(n)}class Y9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ex),i.error===void 0&&(i.error=ex),i.complete===void 0&&(i.complete=ex);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ex(){}function Un(t){return t&&t._delegate?t._delegate:t}class ac{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $l="[DEFAULT]";let X9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J9(e))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$l){return this.instances.has(e)}getOptions(e=$l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$l){return this.component?this.component.multipleInstances?e:$l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Q9(t){return t===$l?void 0:t}function J9(t){return t.instantiationMode==="EAGER"}class Z9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const e8={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},t8=ot.INFO,n8={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},r8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=n8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=t8,this._logHandler=r8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const i8=(t,e)=>e.some(n=>t instanceof n);let cj,uj;function a8(){return cj||(cj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s8(){return uj||(uj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fk=new WeakMap,W1=new WeakMap,Hk=new WeakMap,tx=new WeakMap,E_=new WeakMap;function o8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Yo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Fk.set(n,t)}).catch(()=>{}),E_.set(e,t),e}function l8(t){if(W1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});W1.set(t,e)}let X1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return W1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c8(t){X1=t(X1)}function u8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nx(this),e,...n);return Hk.set(r,e.sort?e.sort():[e]),Yo(r)}:s8().includes(t)?function(...e){return t.apply(nx(this),e),Yo(Fk.get(this))}:function(...e){return Yo(t.apply(nx(this),e))}}function d8(t){return typeof t=="function"?u8(t):(t instanceof IDBTransaction&&l8(t),i8(t,a8())?new Proxy(t,X1):t)}function Yo(t){if(t instanceof IDBRequest)return o8(t);if(tx.has(t))return tx.get(t);const e=d8(t);return e!==t&&(tx.set(t,e),E_.set(e,t)),e}const nx=t=>E_.get(t);function f8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Yo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Yo(l.result),d.oldVersion,d.newVersion,Yo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const h8=["get","getKey","getAll","getAllKeys","count"],m8=["put","add","delete","clear"],rx=new Map;function dj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rx.get(e))return rx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=m8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h8.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return rx.set(e,s),s}c8(t=>({...t,get:(e,n,r)=>dj(e,n)||t.get(e,n,r),has:(e,n)=>!!dj(e,n)||t.has(e,n)}));class p8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function g8(t){return t.getComponent()?.type==="VERSION"}const Q1="@firebase/app",fj="0.14.6";const Is=new S_("@firebase/app"),v8="@firebase/app-compat",y8="@firebase/analytics-compat",b8="@firebase/analytics",x8="@firebase/app-check-compat",w8="@firebase/app-check",_8="@firebase/auth",S8="@firebase/auth-compat",E8="@firebase/database",A8="@firebase/data-connect",T8="@firebase/database-compat",N8="@firebase/functions",j8="@firebase/functions-compat",C8="@firebase/installations",O8="@firebase/installations-compat",I8="@firebase/messaging",P8="@firebase/messaging-compat",R8="@firebase/performance",k8="@firebase/performance-compat",M8="@firebase/remote-config",D8="@firebase/remote-config-compat",L8="@firebase/storage",z8="@firebase/storage-compat",V8="@firebase/firestore",U8="@firebase/ai",$8="@firebase/firestore-compat",B8="firebase",q8="12.6.0";const J1="[DEFAULT]",F8={[Q1]:"fire-core",[v8]:"fire-core-compat",[b8]:"fire-analytics",[y8]:"fire-analytics-compat",[w8]:"fire-app-check",[x8]:"fire-app-check-compat",[_8]:"fire-auth",[S8]:"fire-auth-compat",[E8]:"fire-rtdb",[A8]:"fire-data-connect",[T8]:"fire-rtdb-compat",[N8]:"fire-fn",[j8]:"fire-fn-compat",[C8]:"fire-iid",[O8]:"fire-iid-compat",[I8]:"fire-fcm",[P8]:"fire-fcm-compat",[R8]:"fire-perf",[k8]:"fire-perf-compat",[M8]:"fire-rc",[D8]:"fire-rc-compat",[L8]:"fire-gcs",[z8]:"fire-gcs-compat",[V8]:"fire-fst",[$8]:"fire-fst-compat",[U8]:"fire-vertex","fire-js":"fire-js",[B8]:"fire-js-all"};const pg=new Map,H8=new Map,Z1=new Map;function hj(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ru(t){const e=t.name;if(Z1.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Z1.set(e,t);for(const n of pg.values())hj(n,t);for(const n of H8.values())hj(n,t);return!0}function A_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vi(t){return t==null?!1:t.settings!==void 0}const K8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new vh("app","Firebase",K8);class G8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}const Qu=q8;function Kk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:J1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(n||(n=Uk()),!n)throw Wo.create("no-options");const s=pg.get(i);if(s){if(ic(n,s.options)&&ic(r,s.config))return s;throw Wo.create("duplicate-app",{appName:i})}const l=new Z9(i);for(const d of Z1.values())l.addComponent(d);const u=new G8(n,r,l);return pg.set(i,u),u}function Gk(t=J1){const e=pg.get(t);if(!e&&t===J1&&Uk())return Kk();if(!e)throw Wo.create("no-app",{appName:t});return e}function Xo(t,e,n){let r=F8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(l.join(" "));return}Ru(new ac(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Y8="firebase-heartbeat-database",W8=1,$f="firebase-heartbeat-store";let ix=null;function Yk(){return ix||(ix=f8(Y8,W8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($f)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),ix}async function X8(t){try{const n=(await Yk()).transaction($f),r=await n.objectStore($f).get(Wk(t));return await n.done,r}catch(e){if(e instanceof Ks)Is.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function mj(t,e){try{const r=(await Yk()).transaction($f,"readwrite");await r.objectStore($f).put(e,Wk(t)),await r.done}catch(n){if(n instanceof Ks)Is.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}}function Wk(t){return`${t.name}!${t.options.appId}`}const Q8=1024,J8=30;class Z8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>J8){const i=nU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pj(),{heartbeatsToSend:n,unsentEntries:r}=eU(this._heartbeatsCache.heartbeats),i=mg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Is.warn(e),""}}}function pj(){return new Date().toISOString().substring(0,10)}function eU(t,e=Q8){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),gj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $9()?B9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gj(t){return mg(JSON.stringify({version:2,heartbeats:t})).length}function nU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function rU(t){Ru(new ac("platform-logger",e=>new p8(e),"PRIVATE")),Ru(new ac("heartbeat",e=>new Z8(e),"PRIVATE")),Xo(Q1,fj,t),Xo(Q1,fj,"esm2020"),Xo("fire-js","")}rU("");var iU="firebase",aU="12.7.0";Xo(iU,aU,"app");function Xk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sU=Xk,Qk=new vh("auth","Firebase",Xk());const gg=new S_("@firebase/auth");function oU(t,...e){gg.logLevel<=ot.WARN&&gg.warn(`Auth (${Qu}): ${t}`,...e)}function Qp(t,...e){gg.logLevel<=ot.ERROR&&gg.error(`Auth (${Qu}): ${t}`,...e)}function Ps(t,...e){throw T_(t,...e)}function Da(t,...e){return T_(t,...e)}function Jk(t,e,n){const r={...sU(),[e]:n};return new vh("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return Jk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Qk.create(t,...e)}function Ke(t,e,...n){if(!t)throw T_(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qp(e),new Error(e)}function Rs(t,e){t||_s(e)}function ew(){return typeof self<"u"&&self.location?.href||""}function lU(){return vj()==="http:"||vj()==="https:"}function vj(){return typeof self<"u"&&self.location?.protocol||null}function cU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lU()||L9()||"connection"in navigator)?navigator.onLine:!0}function uU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class bh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=k9()||z9()}get(){return cU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function N_(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Zk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hU=new bh(3e4,6e4);function xh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ju(t,e,n,r,i={}){return eM(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=yh({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...s};return D9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Xu(t.emulatorConfig.host)&&(h.credentials="include"),Zk.fetch()(await tM(t,t.config.apiHost,n,u),h)})}async function eM(t,e,n){t._canInitEmulator=!1;const r={...dU,...e};try{const i=new mU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Np(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Np(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Np(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Np(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Jk(t,p,h);Ps(t,p)}}catch(i){if(i instanceof Ks)throw i;Ps(t,"network-request-failed",{message:String(i)})}}async function j_(t,e,n,r,i={}){const s=await Ju(t,e,n,r,i);return"mfaPendingCredential"in s&&Ps(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function tM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?N_(t.config,i):`${t.config.apiScheme}://${i}`;return fU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class mU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Da(this.auth,"network-request-failed")),hU.get())})}}function Np(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Da(t,e,r);return i.customData._tokenResponse=n,i}async function pU(t,e){return Ju(t,"POST","/v1/accounts:delete",e)}async function vg(t,e){return Ju(t,"POST","/v1/accounts:lookup",e)}function Rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gU(t,e=!1){const n=Un(t),r=await n.getIdToken(e),i=C_(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Rf(ax(i.auth_time)),issuedAtTime:Rf(ax(i.iat)),expirationTime:Rf(ax(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function ax(t){return Number(t)*1e3}function C_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=zk(n);return i?JSON.parse(i):(Qp("Failed to decode base64 JWT payload"),null)}catch(i){return Qp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yj(t){const e=C_(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ks&&vU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class yU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yg(t){const e=t.auth,n=await t.getIdToken(),r=await Bf(t,vg(e,{idToken:n}));Ke(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?nM(i.providerUserInfo):[],l=xU(t.providerData,s),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,h=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new tw(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function bU(t){const e=Un(t);await yg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wU(t,e){const n=await eM(t,{},async()=>{const r=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await tM(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Xu(t.emulatorConfig.host)&&(d.credentials="include"),Zk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _U(t,e){return Ju(t,"POST","/v2/accounts:revokeToken",xh(t,e))}class Eu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=yj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Eu;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ke(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eu,this.toJSON())}_performRefresh(){return _s("not implemented")}}function zo(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new yU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bf(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gU(this,e)}reload(){return bU(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Bf(this,pU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:_,providerData:S,stsTokenManager:E}=n;Ke(g&&E,e,"internal-error");const A=Eu.fromJSON(this.name,E);Ke(typeof g=="string",e,"internal-error"),zo(r,e.name),zo(i,e.name),Ke(typeof b=="boolean",e,"internal-error"),Ke(typeof _=="boolean",e,"internal-error"),zo(s,e.name),zo(l,e.name),zo(u,e.name),zo(d,e.name),zo(h,e.name),zo(p,e.name);const j=new sa({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:A,createdAt:h,lastLoginAt:p});return S&&Array.isArray(S)&&(j.providerData=S.map(L=>({...L}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Eu;i.updateFromServerResponse(n);const s=new sa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new Eu;u.updateFromIdToken(r);const d=new sa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,h),d}}const bj=new Map;function Ss(t){Rs(t instanceof Function,"Expected a class definition");let e=bj.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bj.set(t,e),e)}class rM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rM.type="NONE";const xj=rM;function Jp(t,e,n){return`firebase:${t}:${e}:${n}`}class Au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vg(this.auth,{idToken:e}).catch(()=>{});return n?sa._fromGetAccountInfoResponse(this.auth,n,e):null}return sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Au(Ss(xj),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ss(xj);const l=Jp(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const b=await vg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await sa._fromGetAccountInfoResponse(e,b,p)}else g=sa._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Au(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Au(s,e,r))}}function wj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cM(e))return"Blackberry";if(uM(e))return"Webos";if(aM(e))return"Safari";if((e.includes("chrome/")||sM(e))&&!e.includes("edge/"))return"Chrome";if(lM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function iM(t=Cr()){return/firefox\//i.test(t)}function aM(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sM(t=Cr()){return/crios\//i.test(t)}function oM(t=Cr()){return/iemobile/i.test(t)}function lM(t=Cr()){return/android/i.test(t)}function cM(t=Cr()){return/blackberry/i.test(t)}function uM(t=Cr()){return/webos/i.test(t)}function O_(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SU(t=Cr()){return O_(t)&&!!window.navigator?.standalone}function EU(){return V9()&&document.documentMode===10}function dM(t=Cr()){return O_(t)||lM(t)||uM(t)||cM(t)||/windows phone/i.test(t)||oM(t)}function fM(t,e=[]){let n;switch(t){case"Browser":n=wj(Cr());break;case"Worker":n=`${wj(Cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qu}/${r}`}class AU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function TU(t,e={}){return Ju(t,"GET","/v2/passwordPolicy",xh(t,e))}const NU=6;class jU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??NU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class CU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _j(this),this.idTokenSubscription=new _j(this),this.beforeStateQueue=new AU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Au.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vg(this,{idToken:e}),r=await sa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vi(this.app))return Promise.reject(Ns(this));const n=e?Un(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vi(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TU(this),n=new jU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _U(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Au.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wh(t){return Un(t)}class _j{constructor(e){this.auth=e,this.observer=null,this.addObserver=G9(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let I_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OU(t){I_=t}function IU(t){return I_.loadJS(t)}function PU(){return I_.gapiScript}function RU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function kU(t,e){const n=A_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ic(s,e??{}))return i;Ps(i,"already-initialized")}return n.initialize({options:e})}function MU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function DU(t,e,n){const r=wh(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=hM(e),{host:l,port:u}=LU(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(ic(h,r.config.emulator)&&ic(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Xu(l)?(Bk(`${s}//${l}${d}`),qk("Auth",!0)):zU()}function hM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LU(t){const e=hM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sj(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:Sj(l)}}}function Sj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class mM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function Tu(t,e){return j_(t,"POST","/v1/accounts:signInWithIdp",xh(t,e))}const VU="http://localhost";class sc extends mM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new sc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tu(e,n)}buildRequest(){const e={requestUri:VU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yh(n)}return e}}class pM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _h extends pM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $o extends _h{constructor(){super("facebook.com")}static credential(e){return sc._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.FACEBOOK_SIGN_IN_METHOD="facebook.com";$o.PROVIDER_ID="facebook.com";class Bo extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sc._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.GOOGLE_SIGN_IN_METHOD="google.com";Bo.PROVIDER_ID="google.com";class qo extends _h{constructor(){super("github.com")}static credential(e){return sc._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.GITHUB_SIGN_IN_METHOD="github.com";qo.PROVIDER_ID="github.com";class Fo extends _h{constructor(){super("twitter.com")}static credential(e,n){return sc._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fo.credential(n,r)}catch{return null}}}Fo.TWITTER_SIGN_IN_METHOD="twitter.com";Fo.PROVIDER_ID="twitter.com";async function UU(t,e){return j_(t,"POST","/v1/accounts:signUp",xh(t,e))}class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await sa._fromIdTokenResponse(e,r,i),l=Ej(r);return new ks({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ej(r);return new ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ej(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function $U(t){if(Vi(t.app))return Promise.reject(Ns(t));const e=wh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ks({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await UU(e,{returnSecureToken:!0}),r=await ks._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class bg extends Ks{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bg(e,n,r,i)}}function gM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bg._fromErrorAndOperation(t,s,e,r):s})}async function BU(t,e,n=!1){const r=await Bf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ks._forOperation(t,"link",r)}async function qU(t,e,n=!1){const{auth:r}=t;if(Vi(r.app))return Promise.reject(Ns(r));const i="reauthenticate";try{const s=await Bf(t,gM(r,i,e,t),n);Ke(s.idToken,r,"internal-error");const l=C_(s.idToken);Ke(l,r,"internal-error");const{sub:u}=l;return Ke(t.uid===u,r,"user-mismatch"),ks._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ps(r,"user-mismatch"),s}}async function FU(t,e,n=!1){if(Vi(t.app))return Promise.reject(Ns(t));const r="signIn",i=await gM(t,r,e),s=await ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function HU(t,e){return j_(t,"POST","/v1/accounts:signInWithCustomToken",xh(t,e))}async function KU(t,e){if(Vi(t.app))return Promise.reject(Ns(t));const n=wh(t),r=await HU(n,{token:e,returnSecureToken:!0}),i=await ks._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function GU(t,e,n,r){return Un(t).onIdTokenChanged(e,n,r)}function YU(t,e,n){return Un(t).beforeAuthStateChanged(e,n)}function WU(t,e,n,r){return Un(t).onAuthStateChanged(e,n,r)}const xg="__sak";class vM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xg,"1"),this.storage.removeItem(xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const XU=1e3,QU=10;class yM extends vM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);EU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yM.type="LOCAL";const JU=yM;class bM extends vM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bM.type="SESSION";const xM=bM;function ZU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,s)),d=await ZU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rv.receivers=[];function P_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class e${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=P_("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function La(){return window}function t$(t){La().location.href=t}function wM(){return typeof La().WorkerGlobalScope<"u"&&typeof La().importScripts=="function"}async function n$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r$(){return navigator?.serviceWorker?.controller||null}function i$(){return wM()?self:null}const _M="firebaseLocalStorageDb",a$=1,wg="firebaseLocalStorage",SM="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kv(t,e){return t.transaction([wg],e?"readwrite":"readonly").objectStore(wg)}function s$(){const t=indexedDB.deleteDatabase(_M);return new Sh(t).toPromise()}function nw(){const t=indexedDB.open(_M,a$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wg,{keyPath:SM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wg)?e(r):(r.close(),await s$(),e(await nw()))})})}async function Aj(t,e,n){const r=kv(t,!0).put({[SM]:e,value:n});return new Sh(r).toPromise()}async function o$(t,e){const n=kv(t,!1).get(e),r=await new Sh(n).toPromise();return r===void 0?null:r.value}function Tj(t,e){const n=kv(t,!0).delete(e);return new Sh(n).toPromise()}const l$=800,c$=3;class EM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rv._getInstance(i$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await n$(),!this.activeServiceWorker)return;this.sender=new e$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nw();return await Aj(e,xg,"1"),await Tj(e,xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Aj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kv(i,!1).getAll();return new Sh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EM.type="LOCAL";const u$=EM;new bh(3e4,6e4);function d$(t,e){return e?Ss(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class R_ extends mM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f$(t){return FU(t.auth,new R_(t),t.bypassAuthState)}function h$(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),qU(n,new R_(t),t.bypassAuthState)}async function m$(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),BU(n,new R_(t),t.bypassAuthState)}class AM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f$;case"linkViaPopup":case"linkViaRedirect":return m$;case"reauthViaPopup":case"reauthViaRedirect":return h$;default:Ps(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const p$=new bh(2e3,1e4);class bu extends AM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bu.currentPopupAction&&bu.currentPopupAction.cancel(),bu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=P_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p$.get())};e()}}bu.currentPopupAction=null;const g$="pendingRedirect",Zp=new Map;class v$ extends AM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zp.get(this.auth._key());if(!e){try{const r=await y$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zp.set(this.auth._key(),e)}return this.bypassAuthState||Zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y$(t,e){const n=w$(e),r=x$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function b$(t,e){Zp.set(t._key(),e)}function x$(t){return Ss(t._redirectPersistence)}function w$(t){return Jp(g$,t.config.apiKey,t.name)}async function _$(t,e,n=!1){if(Vi(t.app))return Promise.reject(Ns(t));const r=wh(t),i=d$(r,e),l=await new v$(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const S$=600*1e3;class E${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!TM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Da(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S$&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nj(e))}saveEventToCache(e){this.cachedEventUids.add(Nj(e)),this.lastProcessedEventTime=Date.now()}}function Nj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function A$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TM(t);default:return!1}}async function T$(t,e={}){return Ju(t,"GET","/v1/projects",e)}const N$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j$=/^https?/;async function C$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T$(t);for(const n of e)try{if(O$(n))return}catch{}Ps(t,"unauthorized-domain")}function O$(t){const e=ew(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!j$.test(n))return!1;if(N$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const I$=new bh(3e4,6e4);function jj(){const t=La().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P$(t){return new Promise((e,n)=>{function r(){jj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jj(),n(Da(t,"network-request-failed"))},timeout:I$.get()})}if(La().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(La().gapi?.load)r();else{const i=RU("iframefcb");return La()[i]=()=>{gapi.load?r():n(Da(t,"network-request-failed"))},IU(`${PU()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw eg=null,e})}let eg=null;function R$(t){return eg=eg||P$(t),eg}const k$=new bh(5e3,15e3),M$="__/auth/iframe",D$="emulator/auth/iframe",L$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V$(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?N_(e,D$):`https://${t.config.authDomain}/${M$}`,r={apiKey:e.apiKey,appName:t.name,v:Qu},i=z$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yh(r).slice(1)}`}async function U$(t){const e=await R$(t),n=La().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:V$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Da(t,"network-request-failed"),u=La().setTimeout(()=>{s(l)},k$.get());function d(){La().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const $$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B$=500,q$=600,F$="_blank",H$="http://localhost";class Cj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K$(t,e,n,r=B$,i=q$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...$$,width:r.toString(),height:i.toString(),top:s,left:l},h=Cr().toLowerCase();n&&(u=sM(h)?F$:n),iM(h)&&(e=e||H$,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[_,S])=>`${b}${_}=${S},`,"");if(SU(h)&&u!=="_self")return G$(e||"",u),new Cj(null);const g=window.open(e||"",u,p);Ke(g,t,"popup-blocked");try{g.focus()}catch{}return new Cj(g)}function G$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Y$="__/auth/handler",W$="emulator/auth/handler",X$=encodeURIComponent("fac");async function Oj(t,e,n,r,i,s){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qu,eventId:i};if(e instanceof pM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",K9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof _h){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${X$}=${encodeURIComponent(d)}`:"";return`${Q$(t)}?${yh(u).slice(1)}${h}`}function Q$({config:t}){return t.emulator?N_(t,W$):`https://${t.authDomain}/${Y$}`}const sx="webStorageSupport";class J${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xM,this._completeRedirectFn=_$,this._overrideRedirectResult=b$}async _openPopup(e,n,r,i){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Oj(e,n,r,ew(),i);return K$(e,s,P_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Oj(e,n,r,ew(),i);return t$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U$(e),r=new E$(e);return n.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sx,{type:sx},i=>{const s=i?.[0]?.[sx];s!==void 0&&n(!!s),Ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dM()||aM()||O_()}}const Z$=J$;var Ij="@firebase/auth",Pj="1.12.0";class e7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function t7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n7(t){Ru(new ac("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fM(t)},h=new CU(r,i,s,d);return MU(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ru(new ac("auth-internal",e=>{const n=wh(e.getProvider("auth").getImmediate());return(r=>new e7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(Ij,Pj,t7(t)),Xo(Ij,Pj,"esm2020")}const r7=300,i7=$k("authIdTokenMaxAge")||r7;let Rj=null;const a7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i7)return;const i=n?.token;Rj!==i&&(Rj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s7(t=Gk()){const e=A_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kU(t,{popupRedirectResolver:Z$,persistence:[u$,JU,xM]}),r=$k("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=a7(s.toString());YU(n,l,()=>l(n.currentUser)),GU(n,u=>l(u))}}const i=Vk("auth");return i&&DU(n,`http://${i}`),n}function o7(){return document.getElementsByTagName("head")?.[0]??document}OU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Da("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",o7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n7("Browser");var kj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qo,NM;(function(){var t;function e(O,N){function k(){}k.prototype=N.prototype,O.F=N.prototype,O.prototype=new k,O.prototype.constructor=O,O.D=function(M,I,D){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return N.prototype[I].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,N,k){k||(k=0);const M=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)M[I]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(I=0;I<16;++I)M[I]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=O.g[0],k=O.g[1],I=O.g[2];let D=O.g[3],R;R=N+(D^k&(I^D))+M[0]+3614090360&4294967295,N=k+(R<<7&4294967295|R>>>25),R=D+(I^N&(k^I))+M[1]+3905402710&4294967295,D=N+(R<<12&4294967295|R>>>20),R=I+(k^D&(N^k))+M[2]+606105819&4294967295,I=D+(R<<17&4294967295|R>>>15),R=k+(N^I&(D^N))+M[3]+3250441966&4294967295,k=I+(R<<22&4294967295|R>>>10),R=N+(D^k&(I^D))+M[4]+4118548399&4294967295,N=k+(R<<7&4294967295|R>>>25),R=D+(I^N&(k^I))+M[5]+1200080426&4294967295,D=N+(R<<12&4294967295|R>>>20),R=I+(k^D&(N^k))+M[6]+2821735955&4294967295,I=D+(R<<17&4294967295|R>>>15),R=k+(N^I&(D^N))+M[7]+4249261313&4294967295,k=I+(R<<22&4294967295|R>>>10),R=N+(D^k&(I^D))+M[8]+1770035416&4294967295,N=k+(R<<7&4294967295|R>>>25),R=D+(I^N&(k^I))+M[9]+2336552879&4294967295,D=N+(R<<12&4294967295|R>>>20),R=I+(k^D&(N^k))+M[10]+4294925233&4294967295,I=D+(R<<17&4294967295|R>>>15),R=k+(N^I&(D^N))+M[11]+2304563134&4294967295,k=I+(R<<22&4294967295|R>>>10),R=N+(D^k&(I^D))+M[12]+1804603682&4294967295,N=k+(R<<7&4294967295|R>>>25),R=D+(I^N&(k^I))+M[13]+4254626195&4294967295,D=N+(R<<12&4294967295|R>>>20),R=I+(k^D&(N^k))+M[14]+2792965006&4294967295,I=D+(R<<17&4294967295|R>>>15),R=k+(N^I&(D^N))+M[15]+1236535329&4294967295,k=I+(R<<22&4294967295|R>>>10),R=N+(I^D&(k^I))+M[1]+4129170786&4294967295,N=k+(R<<5&4294967295|R>>>27),R=D+(k^I&(N^k))+M[6]+3225465664&4294967295,D=N+(R<<9&4294967295|R>>>23),R=I+(N^k&(D^N))+M[11]+643717713&4294967295,I=D+(R<<14&4294967295|R>>>18),R=k+(D^N&(I^D))+M[0]+3921069994&4294967295,k=I+(R<<20&4294967295|R>>>12),R=N+(I^D&(k^I))+M[5]+3593408605&4294967295,N=k+(R<<5&4294967295|R>>>27),R=D+(k^I&(N^k))+M[10]+38016083&4294967295,D=N+(R<<9&4294967295|R>>>23),R=I+(N^k&(D^N))+M[15]+3634488961&4294967295,I=D+(R<<14&4294967295|R>>>18),R=k+(D^N&(I^D))+M[4]+3889429448&4294967295,k=I+(R<<20&4294967295|R>>>12),R=N+(I^D&(k^I))+M[9]+568446438&4294967295,N=k+(R<<5&4294967295|R>>>27),R=D+(k^I&(N^k))+M[14]+3275163606&4294967295,D=N+(R<<9&4294967295|R>>>23),R=I+(N^k&(D^N))+M[3]+4107603335&4294967295,I=D+(R<<14&4294967295|R>>>18),R=k+(D^N&(I^D))+M[8]+1163531501&4294967295,k=I+(R<<20&4294967295|R>>>12),R=N+(I^D&(k^I))+M[13]+2850285829&4294967295,N=k+(R<<5&4294967295|R>>>27),R=D+(k^I&(N^k))+M[2]+4243563512&4294967295,D=N+(R<<9&4294967295|R>>>23),R=I+(N^k&(D^N))+M[7]+1735328473&4294967295,I=D+(R<<14&4294967295|R>>>18),R=k+(D^N&(I^D))+M[12]+2368359562&4294967295,k=I+(R<<20&4294967295|R>>>12),R=N+(k^I^D)+M[5]+4294588738&4294967295,N=k+(R<<4&4294967295|R>>>28),R=D+(N^k^I)+M[8]+2272392833&4294967295,D=N+(R<<11&4294967295|R>>>21),R=I+(D^N^k)+M[11]+1839030562&4294967295,I=D+(R<<16&4294967295|R>>>16),R=k+(I^D^N)+M[14]+4259657740&4294967295,k=I+(R<<23&4294967295|R>>>9),R=N+(k^I^D)+M[1]+2763975236&4294967295,N=k+(R<<4&4294967295|R>>>28),R=D+(N^k^I)+M[4]+1272893353&4294967295,D=N+(R<<11&4294967295|R>>>21),R=I+(D^N^k)+M[7]+4139469664&4294967295,I=D+(R<<16&4294967295|R>>>16),R=k+(I^D^N)+M[10]+3200236656&4294967295,k=I+(R<<23&4294967295|R>>>9),R=N+(k^I^D)+M[13]+681279174&4294967295,N=k+(R<<4&4294967295|R>>>28),R=D+(N^k^I)+M[0]+3936430074&4294967295,D=N+(R<<11&4294967295|R>>>21),R=I+(D^N^k)+M[3]+3572445317&4294967295,I=D+(R<<16&4294967295|R>>>16),R=k+(I^D^N)+M[6]+76029189&4294967295,k=I+(R<<23&4294967295|R>>>9),R=N+(k^I^D)+M[9]+3654602809&4294967295,N=k+(R<<4&4294967295|R>>>28),R=D+(N^k^I)+M[12]+3873151461&4294967295,D=N+(R<<11&4294967295|R>>>21),R=I+(D^N^k)+M[15]+530742520&4294967295,I=D+(R<<16&4294967295|R>>>16),R=k+(I^D^N)+M[2]+3299628645&4294967295,k=I+(R<<23&4294967295|R>>>9),R=N+(I^(k|~D))+M[0]+4096336452&4294967295,N=k+(R<<6&4294967295|R>>>26),R=D+(k^(N|~I))+M[7]+1126891415&4294967295,D=N+(R<<10&4294967295|R>>>22),R=I+(N^(D|~k))+M[14]+2878612391&4294967295,I=D+(R<<15&4294967295|R>>>17),R=k+(D^(I|~N))+M[5]+4237533241&4294967295,k=I+(R<<21&4294967295|R>>>11),R=N+(I^(k|~D))+M[12]+1700485571&4294967295,N=k+(R<<6&4294967295|R>>>26),R=D+(k^(N|~I))+M[3]+2399980690&4294967295,D=N+(R<<10&4294967295|R>>>22),R=I+(N^(D|~k))+M[10]+4293915773&4294967295,I=D+(R<<15&4294967295|R>>>17),R=k+(D^(I|~N))+M[1]+2240044497&4294967295,k=I+(R<<21&4294967295|R>>>11),R=N+(I^(k|~D))+M[8]+1873313359&4294967295,N=k+(R<<6&4294967295|R>>>26),R=D+(k^(N|~I))+M[15]+4264355552&4294967295,D=N+(R<<10&4294967295|R>>>22),R=I+(N^(D|~k))+M[6]+2734768916&4294967295,I=D+(R<<15&4294967295|R>>>17),R=k+(D^(I|~N))+M[13]+1309151649&4294967295,k=I+(R<<21&4294967295|R>>>11),R=N+(I^(k|~D))+M[4]+4149444226&4294967295,N=k+(R<<6&4294967295|R>>>26),R=D+(k^(N|~I))+M[11]+3174756917&4294967295,D=N+(R<<10&4294967295|R>>>22),R=I+(N^(D|~k))+M[2]+718787259&4294967295,I=D+(R<<15&4294967295|R>>>17),R=k+(D^(I|~N))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+N&4294967295,O.g[1]=O.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+D&4294967295}r.prototype.v=function(O,N){N===void 0&&(N=O.length);const k=N-this.blockSize,M=this.C;let I=this.h,D=0;for(;D<N;){if(I==0)for(;D<=k;)i(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<N;)if(M[I++]=O.charCodeAt(D++),I==this.blockSize){i(this,M),I=0;break}}else for(;D<N;)if(M[I++]=O[D++],I==this.blockSize){i(this,M),I=0;break}}this.h=I,this.o+=N},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var N=1;N<O.length-8;++N)O[N]=0;N=this.o*8;for(var k=O.length-8;k<O.length;++k)O[k]=N&255,N/=256;for(this.v(O),O=Array(16),N=0,k=0;k<4;++k)for(let M=0;M<32;M+=8)O[N++]=this.g[k]>>>M&255;return O};function s(O,N){var k=u;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=N(O)}function l(O,N){this.h=N;const k=[];let M=!0;for(let I=O.length-1;I>=0;I--){const D=O[I]|0;M&&D==N||(k[I]=D,M=!1)}this.g=k}var u={};function d(O){return-128<=O&&O<128?s(O,function(N){return new l([N|0],N<0?-1:0)}):new l([O|0],O<0?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(O<0)return A(h(-O));const N=[];let k=1;for(let M=0;O>=k;M++)N[M]=O/k|0,k*=4294967296;return new l(N,0)}function p(O,N){if(O.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(O.charAt(0)=="-")return A(p(O.substring(1),N));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(N,8));let M=g;for(let D=0;D<O.length;D+=8){var I=Math.min(8,O.length-D);const R=parseInt(O.substring(D,D+I),N);I<8?(I=h(Math.pow(N,I)),M=M.j(I).add(h(R))):(M=M.j(k),M=M.add(h(R)))}return M}var g=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-A(this).m();let O=0,N=1;for(let k=0;k<this.g.length;k++){const M=this.i(k);O+=(M>=0?M:4294967296+M)*N,N*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(S(this))return"0";if(E(this))return"-"+A(this).toString(O);const N=h(Math.pow(O,6));var k=this;let M="";for(;;){const I=q(k,N).g;k=j(k,I.j(N));let D=((k.g.length>0?k.g[0]:k.h)>>>0).toString(O);if(k=I,S(k))return D+M;for(;D.length<6;)D="0"+D;M=D+M}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function S(O){if(O.h!=0)return!1;for(let N=0;N<O.g.length;N++)if(O.g[N]!=0)return!1;return!0}function E(O){return O.h==-1}t.l=function(O){return O=j(this,O),E(O)?-1:S(O)?0:1};function A(O){const N=O.g.length,k=[];for(let M=0;M<N;M++)k[M]=~O.g[M];return new l(k,~O.h).add(b)}t.abs=function(){return E(this)?A(this):this},t.add=function(O){const N=Math.max(this.g.length,O.g.length),k=[];let M=0;for(let I=0;I<=N;I++){let D=M+(this.i(I)&65535)+(O.i(I)&65535),R=(D>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);M=R>>>16,D&=65535,R&=65535,k[I]=R<<16|D}return new l(k,k[k.length-1]&-2147483648?-1:0)};function j(O,N){return O.add(A(N))}t.j=function(O){if(S(this)||S(O))return g;if(E(this))return E(O)?A(this).j(A(O)):A(A(this).j(O));if(E(O))return A(this.j(A(O)));if(this.l(_)<0&&O.l(_)<0)return h(this.m()*O.m());const N=this.g.length+O.g.length,k=[];for(var M=0;M<2*N;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<O.g.length;I++){const D=this.i(M)>>>16,R=this.i(M)&65535,re=O.i(I)>>>16,Z=O.i(I)&65535;k[2*M+2*I]+=R*Z,L(k,2*M+2*I),k[2*M+2*I+1]+=D*Z,L(k,2*M+2*I+1),k[2*M+2*I+1]+=R*re,L(k,2*M+2*I+1),k[2*M+2*I+2]+=D*re,L(k,2*M+2*I+2)}for(O=0;O<N;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=N;O<2*N;O++)k[O]=0;return new l(k,0)};function L(O,N){for(;(O[N]&65535)!=O[N];)O[N+1]+=O[N]>>>16,O[N]&=65535,N++}function U(O,N){this.g=O,this.h=N}function q(O,N){if(S(N))throw Error("division by zero");if(S(O))return new U(g,g);if(E(O))return N=q(A(O),N),new U(A(N.g),A(N.h));if(E(N))return N=q(O,A(N)),new U(A(N.g),N.h);if(O.g.length>30){if(E(O)||E(N))throw Error("slowDivide_ only works with positive integers.");for(var k=b,M=N;M.l(O)<=0;)k=$(k),M=$(M);var I=z(k,1),D=z(M,1);for(M=z(M,2),k=z(k,2);!S(M);){var R=D.add(M);R.l(O)<=0&&(I=I.add(k),D=R),M=z(M,1),k=z(k,1)}return N=j(O,I.j(N)),new U(I,N)}for(I=g;O.l(N)>=0;){for(k=Math.max(1,Math.floor(O.m()/N.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),D=h(k),R=D.j(N);E(R)||R.l(O)>0;)k-=M,D=h(k),R=D.j(N);S(D)&&(D=b),I=I.add(D),O=j(O,R)}return new U(I,O)}t.B=function(O){return q(this,O).h},t.and=function(O){const N=Math.max(this.g.length,O.g.length),k=[];for(let M=0;M<N;M++)k[M]=this.i(M)&O.i(M);return new l(k,this.h&O.h)},t.or=function(O){const N=Math.max(this.g.length,O.g.length),k=[];for(let M=0;M<N;M++)k[M]=this.i(M)|O.i(M);return new l(k,this.h|O.h)},t.xor=function(O){const N=Math.max(this.g.length,O.g.length),k=[];for(let M=0;M<N;M++)k[M]=this.i(M)^O.i(M);return new l(k,this.h^O.h)};function $(O){const N=O.g.length+1,k=[];for(let M=0;M<N;M++)k[M]=O.i(M)<<1|O.i(M-1)>>>31;return new l(k,O.h)}function z(O,N){const k=N>>5;N%=32;const M=O.g.length-k,I=[];for(let D=0;D<M;D++)I[D]=N>0?O.i(D+k)>>>N|O.i(D+k+1)<<32-N:O.i(D+k);return new l(I,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Qo=l}).apply(typeof kj<"u"?kj:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jM,Af,CM,tg,rw,OM,IM,PM;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var T=0;T<v.length;++T){var P=v[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(v,T){if(T)e:{var P=r;v=v.split(".");for(var F=0;F<v.length-1;F++){var ae=v[F];if(!(ae in P))break e;P=P[ae]}v=v[v.length-1],F=P[v],T=T(F),T!=F&&T!=null&&e(P,v,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(T){var P=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&P.push([F,T[F]]);return P}});var s=s||{},l=this||self;function u(v){var T=typeof v;return T=="object"&&v!=null||T=="function"}function d(v,T,P){return v.call.apply(v.bind,arguments)}function h(v,T,P){return h=d,h.apply(null,arguments)}function p(v,T){var P=Array.prototype.slice.call(arguments,1);return function(){var F=P.slice();return F.push.apply(F,arguments),v.apply(this,F)}}function g(v,T){function P(){}P.prototype=T.prototype,v.Z=T.prototype,v.prototype=new P,v.prototype.constructor=v,v.Ob=function(F,ae,fe){for(var Ee=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Ee[Je-2]=arguments[Je];return T.prototype[ae].apply(F,Ee)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function _(v){const T=v.length;if(T>0){const P=Array(T);for(let F=0;F<T;F++)P[F]=v[F];return P}return[]}function S(v,T){for(let F=1;F<arguments.length;F++){const ae=arguments[F];var P=typeof ae;if(P=P!="object"?P:ae?Array.isArray(ae)?"array":P:"null",P=="array"||P=="object"&&typeof ae.length=="number"){P=v.length||0;const fe=ae.length||0;v.length=P+fe;for(let Ee=0;Ee<fe;Ee++)v[P+Ee]=ae[Ee]}else v.push(ae)}}class E{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function A(v){l.setTimeout(()=>{throw v},0)}function j(){var v=O;let T=null;return v.g&&(T=v.g,v.g=v.g.next,v.g||(v.h=null),T.next=null),T}class L{constructor(){this.h=this.g=null}add(T,P){const F=U.get();F.set(T,P),this.h?this.h.next=F:this.g=F,this.h=F}}var U=new E(()=>new q,v=>v.reset());class q{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let $,z=!1,O=new L,N=()=>{const v=Promise.resolve(void 0);$=()=>{v.then(k)}};function k(){for(var v;v=j();){try{v.h.call(v.g)}catch(P){A(P)}var T=U;T.j(v),T.h<100&&(T.h++,v.next=T.g,T.g=v)}z=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(v,T){this.type=v,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,T=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const P=()=>{};l.addEventListener("test",P,T),l.removeEventListener("test",P,T)}catch{}return v})();function R(v){return/^[\s\xa0]*$/.test(v)}function re(v,T){I.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,T)}g(re,I),re.prototype.init=function(v,T){const P=this.type=v.type,F=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=T,T=v.relatedTarget,T||(P=="mouseover"?T=v.fromElement:P=="mouseout"&&(T=v.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Z="closure_listenable_"+(Math.random()*1e6|0),W=0;function H(v,T,P,F,ae){this.listener=v,this.proxy=null,this.src=T,this.type=P,this.capture=!!F,this.ha=ae,this.key=++W,this.da=this.fa=!1}function te(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function oe(v,T,P){for(const F in v)T.call(P,v[F],F,v)}function we(v,T){for(const P in v)T.call(void 0,v[P],P,v)}function V(v){const T={};for(const P in v)T[P]=v[P];return T}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(v,T){let P,F;for(let ae=1;ae<arguments.length;ae++){F=arguments[ae];for(P in F)v[P]=F[P];for(let fe=0;fe<K.length;fe++)P=K[fe],Object.prototype.hasOwnProperty.call(F,P)&&(v[P]=F[P])}}function Y(v){this.src=v,this.g={},this.h=0}Y.prototype.add=function(v,T,P,F,ae){const fe=v.toString();v=this.g[fe],v||(v=this.g[fe]=[],this.h++);const Ee=ye(v,T,F,ae);return Ee>-1?(T=v[Ee],P||(T.fa=!1)):(T=new H(T,this.src,fe,!!F,ae),T.fa=P,v.push(T)),T};function ce(v,T){const P=T.type;if(P in v.g){var F=v.g[P],ae=Array.prototype.indexOf.call(F,T,void 0),fe;(fe=ae>=0)&&Array.prototype.splice.call(F,ae,1),fe&&(te(T),v.g[P].length==0&&(delete v.g[P],v.h--))}}function ye(v,T,P,F){for(let ae=0;ae<v.length;++ae){const fe=v[ae];if(!fe.da&&fe.listener==T&&fe.capture==!!P&&fe.ha==F)return ae}return-1}var he="closure_lm_"+(Math.random()*1e6|0),Pe={};function ie(v,T,P,F,ae){if(Array.isArray(T)){for(let fe=0;fe<T.length;fe++)ie(v,T[fe],P,F,ae);return null}return P=nr(P),v&&v[Z]?v.J(T,P,u(F)?!!F.capture:!1,ae):Se(v,T,P,!1,F,ae)}function Se(v,T,P,F,ae,fe){if(!T)throw Error("Invalid event type");const Ee=u(ae)?!!ae.capture:!!ae;let Je=wt(v);if(Je||(v[he]=Je=new Y(v)),P=Je.add(T,P,F,Ee,fe),P.proxy)return P;if(F=Ae(),P.proxy=F,F.src=v,F.listener=P,v.addEventListener)D||(ae=Ee),ae===void 0&&(ae=!1),v.addEventListener(T.toString(),F,ae);else if(v.attachEvent)v.attachEvent(ze(T.toString()),F);else if(v.addListener&&v.removeListener)v.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ae(){function v(P){return T.call(v.src,v.listener,P)}const T=Ge;return v}function J(v,T,P,F,ae){if(Array.isArray(T))for(var fe=0;fe<T.length;fe++)J(v,T[fe],P,F,ae);else F=u(F)?!!F.capture:!!F,P=nr(P),v&&v[Z]?(v=v.i,fe=String(T).toString(),fe in v.g&&(T=v.g[fe],P=ye(T,P,F,ae),P>-1&&(te(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete v.g[fe],v.h--)))):v&&(v=wt(v))&&(T=v.g[T.toString()],v=-1,T&&(v=ye(T,P,F,ae)),(P=v>-1?T[v]:null)&&Ve(P))}function Ve(v){if(typeof v!="number"&&v&&!v.da){var T=v.src;if(T&&T[Z])ce(T.i,v);else{var P=v.type,F=v.proxy;T.removeEventListener?T.removeEventListener(P,F,v.capture):T.detachEvent?T.detachEvent(ze(P),F):T.addListener&&T.removeListener&&T.removeListener(F),(P=wt(T))?(ce(P,v),P.h==0&&(P.src=null,T[he]=null)):te(v)}}}function ze(v){return v in Pe?Pe[v]:Pe[v]="on"+v}function Ge(v,T){if(v.da)v=!0;else{T=new re(T,this);const P=v.listener,F=v.ha||v.src;v.fa&&Ve(v),v=P.call(F,T)}return v}function wt(v){return v=v[he],v instanceof Y?v:null}var cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function nr(v){return typeof v=="function"?v:(v[cn]||(v[cn]=function(T){return v.handleEvent(T)}),v[cn])}function Dt(){M.call(this),this.i=new Y(this),this.M=this,this.G=null}g(Dt,M),Dt.prototype[Z]=!0,Dt.prototype.removeEventListener=function(v,T,P,F){J(this,v,T,P,F)};function Ot(v,T){var P,F=v.G;if(F)for(P=[];F;F=F.G)P.push(F);if(v=v.M,F=T.type||T,typeof T=="string")T=new I(T,v);else if(T instanceof I)T.target=T.target||v;else{var ae=T;T=new I(F,v),G(T,ae)}ae=!0;let fe,Ee;if(P)for(Ee=P.length-1;Ee>=0;Ee--)fe=T.g=P[Ee],ae=$r(fe,F,!0,T)&&ae;if(fe=T.g=v,ae=$r(fe,F,!0,T)&&ae,ae=$r(fe,F,!1,T)&&ae,P)for(Ee=0;Ee<P.length;Ee++)fe=T.g=P[Ee],ae=$r(fe,F,!1,T)&&ae}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var v=this.i;for(const T in v.g){const P=v.g[T];for(let F=0;F<P.length;F++)te(P[F]);delete v.g[T],v.h--}}this.G=null},Dt.prototype.J=function(v,T,P,F){return this.i.add(String(v),T,!1,P,F)},Dt.prototype.K=function(v,T,P,F){return this.i.add(String(v),T,!0,P,F)};function $r(v,T,P,F){if(T=v.i.g[String(T)],!T)return!0;T=T.concat();let ae=!0;for(let fe=0;fe<T.length;++fe){const Ee=T[fe];if(Ee&&!Ee.da&&Ee.capture==P){const Je=Ee.listener,vn=Ee.ha||Ee.src;Ee.fa&&ce(v.i,Ee),ae=Je.call(vn,F)!==!1&&ae}}return ae&&!F.defaultPrevented}function Ja(v,T){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(v,T||0)}function fa(v){v.g=Ja(()=>{v.g=null,v.i&&(v.i=!1,fa(v))},v.l);const T=v.h;v.h=null,v.m.apply(null,T)}class Ht extends M{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(v){M.call(this),this.h=v,this.g={}}g(Qe,M);var rr=[];function xi(v){oe(v.g,function(T,P){this.g.hasOwnProperty(P)&&Ve(T)},v),v.g={}}Qe.prototype.N=function(){Qe.Z.N.call(this),xi(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=l.JSON.stringify,Za=l.JSON.parse,ha=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function ni(){}function ma(){}var xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){I.call(this,"d")}g(rn,I);function Hn(){I.call(this,"c")}g(Hn,I);var $t={},es=null;function _i(){return es=es||new Dt}$t.Ia="serverreachability";function ro(v){I.call(this,$t.Ia,v)}g(ro,I);function wr(v){const T=_i();Ot(T,new ro(T))}$t.STAT_EVENT="statevent";function Gi(v,T){I.call(this,$t.STAT_EVENT,v),this.stat=T}g(Gi,I);function Xt(v){const T=_i();Ot(T,new Gi(T,v))}$t.Ja="timingevent";function Br(v,T){I.call(this,$t.Ja,v),this.size=T}g(Br,I);function qr(v,T){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},T)}function Ir(){this.g=!0}Ir.prototype.ua=function(){this.g=!1};function io(v,T,P,F,ae,fe){v.info(function(){if(v.g)if(fe){var Ee="",Je=fe.split("&");for(let bt=0;bt<Je.length;bt++){var vn=Je[bt].split("=");if(vn.length>1){const Jt=vn[0];vn=vn[1];const Ti=Jt.split("_");Ee=Ti.length>=2&&Ti[1]=="type"?Ee+(Jt+"="+vn+"&"):Ee+(Jt+"=redacted&")}}}else Ee=null;else Ee=fe;return"XMLHTTP REQ ("+F+") [attempt "+ae+"]: "+T+`
`+P+`
`+Ee})}function ao(v,T,P,F,ae,fe,Ee){v.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ae+"]: "+T+`
`+P+`
`+fe+" "+Ee})}function xe(v,T,P,F){v.info(function(){return"XMLHTTP TEXT ("+T+"): "+tt(v,P)+(F?" "+F:"")})}function je(v,T){v.info(function(){return"TIMEOUT: "+T})}Ir.prototype.info=function(){};function tt(v,T){if(!v.g)return T;if(!T)return null;try{const fe=JSON.parse(T);if(fe){for(v=0;v<fe.length;v++)if(Array.isArray(fe[v])){var P=fe[v];if(!(P.length<2)){var F=P[1];if(Array.isArray(F)&&!(F.length<1)){var ae=F[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Ee=1;Ee<F.length;Ee++)F[Ee]=""}}}}return wi(fe)}catch{return T}}var vt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},an={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qt;function ri(){}g(ri,ni),ri.prototype.g=function(){return new XMLHttpRequest},Qt=new ri;function ii(v){return encodeURIComponent(String(v))}function Q(v){var T=1;v=v.split(":");const P=[];for(;T>0&&v.length;)P.push(v.shift()),T--;return v.length&&P.push(v.join(":")),P}function Te(v,T,P,F){this.j=v,this.i=T,this.l=P,this.S=F||1,this.V=new Qe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var Re={},ht={};function $e(v,T,P){v.M=1,v.A=vl(En(T)),v.u=P,v.R=!0,yt(v,null)}function yt(v,T){v.F=Date.now(),pa(v),v.B=En(v.A);var P=v.B,F=v.S;Array.isArray(F)||(F=[String(F)]),Cc(P.i,"t",F),v.C=0,P=v.j.L,v.h=new Ne,v.g=xm(v.j,P?T:null,!v.u),v.P>0&&(v.O=new Ht(h(v.Y,v,v.g),v.P)),T=v.V,P=v.g,F=v.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(rr[0]=ae.toString()),ae=rr);for(let fe=0;fe<ae.length;fe++){const Ee=ie(P,ae[fe],F||T.handleEvent,!1,T.h||T);if(!Ee)break;T.g[Ee.key]=Ee}T=v.J?V(v.J):{},v.u?(v.v||(v.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,T)):(v.v="GET",v.g.ea(v.B,v.v,null,T)),wr(),io(v.i,v.v,v.B,v.l,v.S,v.u)}Te.prototype.ba=function(v){v=v.target;const T=this.O;T&&Xi(v)==3?T.j():this.Y(v)},Te.prototype.Y=function(v){try{if(v==this.g)e:{const Je=Xi(this.g),vn=this.g.ya(),bt=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||ar(this.g)))){this.K||Je!=4||vn==7||(vn==8||bt<=0?wr(3):wr(2)),ga(this);var T=this.g.ca();this.X=T;var P=ir(this);if(this.o=T==200,ao(this.i,this.v,this.B,this.l,this.S,Je,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,ae=this.g;if((F=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(F)){var fe=F;break t}}fe=null}if(v=fe)xe(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,va(this,v);else{this.o=!1,this.m=3,Xt(12),ai(this),Si(this);break e}}if(this.R){v=!0;let Jt;for(;!this.K&&this.C<P.length;)if(Jt=om(this,P),Jt==ht){Je==4&&(this.m=4,Xt(14),v=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Re){this.m=4,Xt(15),xe(this.i,this.l,P,"[Invalid Chunk]"),v=!1;break}else xe(this.i,this.l,Jt,null),va(this,Jt);if(Kn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||P.length!=0||this.h.h||(this.m=1,Xt(16),v=!1),this.o=this.o&&v,!v)xe(this.i,this.l,P,"[Invalid Chunked Response]"),ai(this),Si(this);else if(P.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Od(Ee),Ee.P=!0,Xt(11))}}else xe(this.i,this.l,P,null),va(this,P);Je==4&&ai(this),this.o&&!this.K&&(Je==4?gm(this.j,this):(this.o=!1,pa(this)))}else ns(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),ai(this),Si(this)}}}catch{}};function ir(v){if(!Kn(v))return v.g.la();const T=ar(v.g);if(T==="")return"";let P="";const F=T.length,ae=Xi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ai(v),Si(v),"";v.h.i=new l.TextDecoder}for(let fe=0;fe<F;fe++)v.h.h=!0,P+=v.h.i.decode(T[fe],{stream:!(ae&&fe==F-1)});return T.length=0,v.h.g+=P,v.C=0,v.h.g}function Kn(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function om(v,T){var P=v.C,F=T.indexOf(`
`,P);return F==-1?ht:(P=Number(T.substring(P,F)),isNaN(P)?Re:(F+=1,F+P>T.length?ht:(T=T.slice(F,F+P),v.C=F+P,T)))}Te.prototype.cancel=function(){this.K=!0,ai(this)};function pa(v){v.T=Date.now()+v.H,Tc(v,v.H)}function Tc(v,T){if(v.D!=null)throw Error("WatchDog timer not null");v.D=qr(h(v.aa,v),T)}function ga(v){v.D&&(l.clearTimeout(v.D),v.D=null)}Te.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(je(this.i,this.B),this.M!=2&&(wr(),Xt(17)),ai(this),this.m=2,Si(this)):Tc(this,this.T-v)};function Si(v){v.j.I==0||v.K||gm(v.j,v)}function ai(v){ga(v);var T=v.O;T&&typeof T.dispose=="function"&&T.dispose(),v.O=null,xi(v.V),v.g&&(T=v.g,v.g=null,T.abort(),T.dispose())}function va(v,T){try{var P=v.j;if(P.I!=0&&(P.g==v||ba(P.h,v))){if(!v.L&&ba(P.h,v)&&P.I==3){try{var F=P.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ae=F;if(ae[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<v.F)kc(P),mo(P);else break e;El(P),Xt(18)}}else P.xa=ae[1],0<P.xa-P.K&&ae[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=qr(h(P.Va,P),6e3));ya(P.h)<=1&&P.ta&&(P.ta=void 0)}else Aa(P,11)}else if((v.L||P.g==v)&&kc(P),!R(T))for(ae=P.Ba.g.parse(T),T=0;T<ae.length;T++){let bt=ae[T];const Jt=bt[0];if(!(Jt<=P.K))if(P.K=Jt,bt=bt[1],P.I==2)if(bt[0]=="c"){P.M=bt[1],P.ba=bt[2];const Ti=bt[3];Ti!=null&&(P.ka=Ti,P.j.info("VER="+P.ka));const Ta=bt[4];Ta!=null&&(P.za=Ta,P.j.info("SVER="+P.za));const Qi=bt[5];Qi!=null&&typeof Qi=="number"&&Qi>0&&(F=1.5*Qi,P.O=F,P.j.info("backChannelRequestTimeoutMs_="+F)),F=P;const Ji=v.g;if(Ji){const Al=Ji.g?Ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Al){var fe=F.h;fe.g||Al.indexOf("spdy")==-1&&Al.indexOf("quic")==-1&&Al.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(yd(fe,fe.h),fe.h=null))}if(F.G){const Mc=Ji.g?Ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Mc&&(F.wa=Mc,At(F.J,F.G,Mc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-v.F,P.j.info("Handshake RTT: "+P.T+"ms")),F=P;var Ee=v;if(F.na=bm(F,F.L?F.ba:null,F.W),Ee.L){bd(F.h,Ee);var Je=Ee,vn=F.O;vn&&(Je.H=vn),Je.D&&(ga(Je),pa(Je)),F.g=Ee}else mm(F);P.i.length>0&&Ea(P)}else bt[0]!="stop"&&bt[0]!="close"||Aa(P,7);else P.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Aa(P,7):jd(P):bt[0]!="noop"&&P.l&&P.l.qa(bt),P.A=0)}}wr(4)}catch{}}var Sn=class{constructor(v,T){this.g=v,this.map=T}};function gd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ya(v){return v.h?1:v.g?v.g.size:0}function ba(v,T){return v.h?v.h==T:v.g?v.g.has(T):!1}function yd(v,T){v.g?v.g.add(T):v.h=T}function bd(v,T){v.h&&v.h==T?v.h=null:v.g&&v.g.has(T)&&v.g.delete(T)}gd.prototype.cancel=function(){if(this.i=xd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function xd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let T=v.i;for(const P of v.g.values())T=T.concat(P.G);return T}return _(v.i)}var lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(v,T){if(v){v=v.split("&");for(let P=0;P<v.length;P++){const F=v[P].indexOf("=");let ae,fe=null;F>=0?(ae=v[P].substring(0,F),fe=v[P].substring(F+1)):ae=v[P],T(ae,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function si(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;v instanceof si?(this.l=v.l,Gn(this,v.j),this.o=v.o,this.g=v.g,so(this,v.u),this.h=v.h,wd(this,fm(v.i)),this.m=v.m):v&&(T=String(v).match(lm))?(this.l=!1,Gn(this,T[1]||"",!0),this.o=xa(T[2]||""),this.g=xa(T[3]||"",!0),so(this,T[4]),this.h=xa(T[5]||"",!0),wd(this,T[6]||"",!0),this.m=xa(T[7]||"")):(this.l=!1,this.i=new lo(null,this.l))}si.prototype.toString=function(){const v=[];var T=this.j;T&&v.push(yl(T,jc,!0),":");var P=this.g;return(P||T=="file")&&(v.push("//"),(T=this.o)&&v.push(yl(T,jc,!0),"@"),v.push(ii(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&v.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&v.push("/"),v.push(yl(P,P.charAt(0)=="/"?_d:cm,!0))),(P=this.i.toString())&&v.push("?",P),(P=this.m)&&v.push("#",yl(P,um)),v.join("")},si.prototype.resolve=function(v){const T=En(this);let P=!!v.j;P?Gn(T,v.j):P=!!v.o,P?T.o=v.o:P=!!v.g,P?T.g=v.g:P=v.u!=null;var F=v.h;if(P)so(T,v.u);else if(P=!!v.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var ae=T.h.lastIndexOf("/");ae!=-1&&(F=T.h.slice(0,ae+1)+F)}if(ae=F,ae==".."||ae==".")F="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){F=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const fe=[];for(let Ee=0;Ee<ae.length;){const Je=ae[Ee++];Je=="."?F&&Ee==ae.length&&fe.push(""):Je==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),F&&Ee==ae.length&&fe.push("")):(fe.push(Je),F=!0)}F=fe.join("/")}else F=ae}return P?T.h=F:P=v.i.toString()!=="",P?wd(T,fm(v.i)):P=!!v.m,P&&(T.m=v.m),T};function En(v){return new si(v)}function Gn(v,T,P){v.j=P?xa(T,!0):T,v.j&&(v.j=v.j.replace(/:$/,""))}function so(v,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);v.u=T}else v.u=null}function wd(v,T,P){T instanceof lo?(v.i=T,Oc(v.i,v.l)):(P||(T=yl(T,oo)),v.i=new lo(T,v.l))}function At(v,T,P){v.i.set(T,P)}function vl(v){return At(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function xa(v,T){return v?T?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function yl(v,T,P){return typeof v=="string"?(v=encodeURI(v).replace(T,Fr),P&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Fr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var jc=/[#\/\?@]/g,cm=/[#\?:]/g,_d=/[#\?]/g,oo=/[#\?@]/g,um=/#/g;function lo(v,T){this.h=this.g=null,this.i=v||null,this.j=!!T}function Hr(v){v.g||(v.g=new Map,v.h=0,v.i&&Nc(v.i,function(T,P){v.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=lo.prototype,t.add=function(v,T){Hr(this),this.i=null,v=co(this,v);let P=this.g.get(v);return P||this.g.set(v,P=[]),P.push(T),this.h+=1,this};function dm(v,T){Hr(v),T=co(v,T),v.g.has(T)&&(v.i=null,v.h-=v.g.get(T).length,v.g.delete(T))}function Sd(v,T){return Hr(v),T=co(v,T),v.g.has(T)}t.forEach=function(v,T){Hr(this),this.g.forEach(function(P,F){P.forEach(function(ae){v.call(T,ae,F,this)},this)},this)};function Ed(v,T){Hr(v);let P=[];if(typeof T=="string")Sd(v,T)&&(P=P.concat(v.g.get(co(v,T))));else for(v=Array.from(v.g.values()),T=0;T<v.length;T++)P=P.concat(v[T]);return P}t.set=function(v,T){return Hr(this),this.i=null,v=co(this,v),Sd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[T]),this.h+=1,this},t.get=function(v,T){return v?(v=Ed(this,v),v.length>0?String(v[0]):T):T};function Cc(v,T,P){dm(v,T),P.length>0&&(v.i=null,v.g.set(co(v,T),_(P)),v.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var P=T[F];const ae=ii(P);P=Ed(this,P);for(let fe=0;fe<P.length;fe++){let Ee=ae;P[fe]!==""&&(Ee+="="+ii(P[fe])),v.push(Ee)}}return this.i=v.join("&")};function fm(v){const T=new lo;return T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),T}function co(v,T){return T=String(T),v.j&&(T=T.toLowerCase()),T}function Oc(v,T){T&&!v.j&&(Hr(v),v.i=null,v.g.forEach(function(P,F){const ae=F.toLowerCase();F!=ae&&(dm(this,F),Cc(this,ae,P))},v)),v.j=T}function Yi(v,T){const P=new Ir;if(l.Image){const F=new Image;F.onload=p(Ei,P,"TestLoadImage: loaded",!0,T,F),F.onerror=p(Ei,P,"TestLoadImage: error",!1,T,F),F.onabort=p(Ei,P,"TestLoadImage: abort",!1,T,F),F.ontimeout=p(Ei,P,"TestLoadImage: timeout",!1,T,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=v}else T(!1)}function Ad(v,T){const P=new Ir,F=new AbortController,ae=setTimeout(()=>{F.abort(),Ei(P,"TestPingServer: timeout",!1,T)},1e4);fetch(v,{signal:F.signal}).then(fe=>{clearTimeout(ae),fe.ok?Ei(P,"TestPingServer: ok",!0,T):Ei(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ae),Ei(P,"TestPingServer: error",!1,T)})}function Ei(v,T,P,F,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),F(P)}catch{}}function uo(){this.g=new ha}function wa(v){this.i=v.Sb||null,this.h=v.ab||!1}g(wa,ni),wa.prototype.g=function(){return new bl(this.i,this.h)};function bl(v,T){Dt.call(this),this.H=v,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(bl,Dt),t=bl.prototype,t.open=function(v,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=T,this.readyState=1,Wi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(T.body=v),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ic(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ic(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var T=v.value?v.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!v.done}))&&(this.response=this.responseText+=T)}v.done?fo(this):Wi(this),this.readyState==3&&Ic(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,fo(this))},t.Na=function(v){this.g&&(this.response=v,fo(this))},t.ga=function(){this.g&&fo(this)};function fo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Wi(v)}t.setRequestHeader=function(v,T){this.A.append(v,T)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,v.push(P[0]+": "+P[1]),P=T.next();return v.join(`\r
`)};function Wi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ai(v){let T="";return oe(v,function(P,F){T+=F,T+=":",T+=P,T+=`\r
`}),T}function xl(v,T,P){e:{for(F in P){var F=!1;break e}F=!0}F||(P=Ai(P),typeof v=="string"?P!=null&&ii(P):At(v,T,P))}function It(v){Dt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(It,Dt);var _a=/^https?$/i,Td=["POST","PUT"];t=It.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,T,P,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);T=T?T.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qt.g(),this.g.onreadystatechange=b(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(v),!0),this.B=!1}catch(fe){wl(this,fe);return}if(v=P||"",P=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ae in F)P.set(ae,F[ae]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const fe of F.keys())P.set(fe,F.get(fe));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(P.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Td,T,void 0)>=0)||F||ae||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ee]of P)this.g.setRequestHeader(fe,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(fe){wl(this,fe)}};function wl(v,T){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=T,v.o=5,Nd(v),ts(v)}function Nd(v){v.A||(v.A=!0,Ot(v,"complete"),Ot(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Ot(this,"complete"),Ot(this,"abort"),ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},t.Xa=function(){_l(this)};function _l(v){if(v.h&&typeof s<"u"){if(v.v&&Xi(v)==4)setTimeout(v.Ca.bind(v),0);else if(Ot(v,"readystatechange"),Xi(v)==4){v.h=!1;try{const fe=v.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var F;if(F=fe===0){let Ee=String(v.D).match(lm)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),F=!_a.test(Ee?Ee.toLowerCase():"")}P=F}if(P)Ot(v,"complete"),Ot(v,"success");else{v.o=6;try{var ae=Xi(v)>2?v.g.statusText:""}catch{ae=""}v.l=ae+" ["+v.ca()+"]",Nd(v)}}finally{ts(v)}}}}function ts(v,T){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const P=v.g;v.g=null,T||Ot(v,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var T=this.g.responseText;return v&&T.indexOf(v)==0&&(T=T.substring(v.length)),Za(T)}};function ar(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(v){const T={};v=(v.g&&Xi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<v.length;F++){if(R(v[F]))continue;var P=Q(v[F]);const ae=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const fe=T[ae]||[];T[ae]=fe,fe.push(P)}we(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(v,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[v]||T}function ho(v){this.za=0,this.i=[],this.j=new Ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,v),this.Za=Sa("retryDelaySeedMs",1e4,v),this.Ta=Sa("forwardChannelMaxRetries",2,v),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new gd(v&&v.concurrentRequestLimit),this.Ba=new uo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ho.prototype,t.ka=8,t.I=1,t.connect=function(v,T,P,F){Xt(0),this.W=v,this.H=T||{},P&&F!==void 0&&(this.H.OSID=P,this.H.OAID=F),this.F=this.X,this.J=bm(this,null,this.W),Ea(this)};function jd(v){if(Pc(v),v.I==3){var T=v.V++,P=En(v.J);if(At(P,"SID",v.M),At(P,"RID",T),At(P,"TYPE","terminate"),Sl(v,P),T=new Te(v,v.j,T),T.M=2,T.A=vl(En(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&l.Image&&(new Image().src=T.A,P=!0),P||(T.g=xm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),pa(T)}ym(v)}function mo(v){v.g&&(Od(v),v.g.cancel(),v.g=null)}function Pc(v){mo(v),v.v&&(l.clearTimeout(v.v),v.v=null),kc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function Ea(v){if(!vd(v.h)&&!v.m){v.m=!0;var T=v.Ea;$||N(),z||($(),z=!0),O.add(T,v),v.D=0}}function Rc(v,T){return ya(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=T.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=qr(h(v.Ea,v,T),vm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ae=new Te(this,this.j,v);let fe=this.o;if(this.U&&(fe?(fe=V(fe),G(fe,this.U)):fe=this.U),this.u!==null||this.R||(ae.J=fe,fe=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var F=this.i[P];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=hm(this,ae,T),P=En(this.J),At(P,"RID",v),At(P,"CVER",22),this.G&&At(P,"X-HTTP-Session-Id",this.G),Sl(this,P),fe&&(this.R?T="headers="+ii(Ai(fe))+"&"+T:this.u&&xl(P,this.u,fe)),yd(this.h,ae),this.Ra&&At(P,"TYPE","init"),this.S?(At(P,"$req",T),At(P,"SID","null"),ae.U=!0,$e(ae,P,null)):$e(ae,P,T),this.I=2}}else this.I==3&&(v?Cd(this,v):this.i.length==0||vd(this.h)||Cd(this))};function Cd(v,T){var P;T?P=T.l:P=v.V++;const F=En(v.J);At(F,"SID",v.M),At(F,"RID",P),At(F,"AID",v.K),Sl(v,F),v.u&&v.o&&xl(F,v.u,v.o),P=new Te(v,v.j,P,v.D+1),v.u===null&&(P.J=v.o),T&&(v.i=T.G.concat(v.i)),T=hm(v,P,1e3),P.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),yd(v.h,P),$e(P,F,T)}function Sl(v,T){v.H&&oe(v.H,function(P,F){At(T,F,P)}),v.l&&oe({},function(P,F){At(T,F,P)})}function hm(v,T,P){P=Math.min(v.i.length,P);const F=v.l?h(v.l.Ka,v.l,v):null;e:{var ae=v.i;let Je=-1;for(;;){const vn=["count="+P];Je==-1?P>0?(Je=ae[0].g,vn.push("ofs="+Je)):Je=0:vn.push("ofs="+Je);let bt=!0;for(let Jt=0;Jt<P;Jt++){var fe=ae[Jt].g;const Ti=ae[Jt].map;if(fe-=Je,fe<0)Je=Math.max(0,ae[Jt].g-100),bt=!1;else try{fe="req"+fe+"_"||"";try{var Ee=Ti instanceof Map?Ti:Object.entries(Ti);for(const[Ta,Qi]of Ee){let Ji=Qi;u(Qi)&&(Ji=wi(Qi)),vn.push(fe+Ta+"="+encodeURIComponent(Ji))}}catch(Ta){throw vn.push(fe+"type="+encodeURIComponent("_badmap")),Ta}}catch{F&&F(Ti)}}if(bt){Ee=vn.join("&");break e}}Ee=void 0}return v=v.i.splice(0,P),T.G=v,Ee}function mm(v){if(!v.g&&!v.v){v.Y=1;var T=v.Da;$||N(),z||($(),z=!0),O.add(T,v),v.A=0}}function El(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=qr(h(v.Da,v),vm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,pm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=qr(h(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),mo(this),pm(this))};function Od(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function pm(v){v.g=new Te(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var T=En(v.na);At(T,"RID","rpc"),At(T,"SID",v.M),At(T,"AID",v.K),At(T,"CI",v.F?"0":"1"),!v.F&&v.ia&&At(T,"TO",v.ia),At(T,"TYPE","xmlhttp"),Sl(v,T),v.u&&v.o&&xl(T,v.u,v.o),v.O&&(v.g.H=v.O);var P=v.g;v=v.ba,P.M=1,P.A=vl(En(T)),P.u=null,P.R=!0,yt(P,v)}t.Va=function(){this.C!=null&&(this.C=null,mo(this),El(this),Xt(19))};function kc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function gm(v,T){var P=null;if(v.g==T){kc(v),Od(v),v.g=null;var F=2}else if(ba(v.h,T))P=T.G,bd(v.h,T),F=1;else return;if(v.I!=0){if(T.o)if(F==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var ae=v.D;F=_i(),Ot(F,new Br(F,P)),Ea(v)}else mm(v);else if(ae=T.m,ae==3||ae==0&&T.X>0||!(F==1&&Rc(v,T)||F==2&&El(v)))switch(P&&P.length>0&&(T=v.h,T.i=T.i.concat(P)),ae){case 1:Aa(v,5);break;case 4:Aa(v,10);break;case 3:Aa(v,6);break;default:Aa(v,2)}}}function vm(v,T){let P=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(P*=2),P*T}function Aa(v,T){if(v.j.info("Error code "+T),T==2){var P=h(v.bb,v),F=v.Ua;const ae=!F;F=new si(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gn(F,"https"),vl(F),ae?Yi(F.toString(),P):Ad(F.toString(),P)}else Xt(2);v.I=0,v.l&&v.l.pa(T),ym(v),Pc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function ym(v){if(v.I=0,v.ja=[],v.l){const T=xd(v.h);(T.length!=0||v.i.length!=0)&&(S(v.ja,T),S(v.ja,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.oa()}}function bm(v,T,P){var F=P instanceof si?En(P):new si(P);if(F.g!="")T&&(F.g=T+"."+F.g),so(F,F.u);else{var ae=l.location;F=ae.protocol,T=T?T+"."+ae.hostname:ae.hostname,ae=+ae.port;const fe=new si(null);F&&Gn(fe,F),T&&(fe.g=T),ae&&so(fe,ae),P&&(fe.h=P),F=fe}return P=v.G,T=v.wa,P&&T&&At(F,P,T),At(F,"VER",v.ka),Sl(v,F),F}function xm(v,T,P){if(T&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=v.Aa&&!v.ma?new It(new wa({ab:P})):new It(v.ma),T.Fa(v.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wm(){}t=wm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function po(){}po.prototype.g=function(v,T){return new Pr(v,T)};function Pr(v,T){Dt.call(this),this.g=new ho(T),this.l=v,this.h=T&&T.messageUrlParams||null,v=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(v?v["X-WebChannel-Content-Type"]=T.messageContentType:v={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(v?v["X-WebChannel-Client-Profile"]=T.sa:v={"X-WebChannel-Client-Profile":T.sa}),this.g.U=v,(v=T&&T.Qb)&&!R(v)&&(this.g.u=v),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!R(T)&&(this.g.G=T,v=this.h,v!==null&&T in v&&(v=this.h,T in v&&delete v[T])),this.j=new rs(this)}g(Pr,Dt),Pr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pr.prototype.close=function(){jd(this.g)},Pr.prototype.o=function(v){var T=this.g;if(typeof v=="string"){var P={};P.__data__=v,v=P}else this.v&&(P={},P.__data__=wi(v),v=P);T.i.push(new Sn(T.Ya++,v)),T.I==3&&Ea(T)},Pr.prototype.N=function(){this.g.l=null,delete this.j,jd(this.g),delete this.g,Pr.Z.N.call(this)};function _m(v){rn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var T=v.__sm__;if(T){e:{for(const P in T){v=P;break e}v=void 0}(this.i=v)&&(v=this.i,T=T!==null&&v in T?T[v]:void 0),this.data=T}else this.data=v}g(_m,rn);function Sm(){Hn.call(this),this.status=1}g(Sm,Hn);function rs(v){this.g=v}g(rs,wm),rs.prototype.ra=function(){Ot(this.g,"a")},rs.prototype.qa=function(v){Ot(this.g,new _m(v))},rs.prototype.pa=function(v){Ot(this.g,new Sm)},rs.prototype.oa=function(){Ot(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,Pr.prototype.send=Pr.prototype.o,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,PM=function(){return new po},IM=function(){return _i()},OM=$t,rw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vt.NO_ERROR=0,vt.TIMEOUT=8,vt.HTTP_ERROR=6,tg=vt,an.COMPLETE="complete",CM=an,ma.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Af=ma,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,jM=It}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});const Mj="@firebase/firestore",Dj="4.9.3";let Ar=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");let Zu="12.7.0";const oc=new S_("@firebase/firestore");function mu(){return oc.logLevel}function ke(t,...e){if(oc.logLevel<=ot.DEBUG){const n=e.map(k_);oc.debug(`Firestore (${Zu}): ${t}`,...n)}}function Ms(t,...e){if(oc.logLevel<=ot.ERROR){const n=e.map(k_);oc.error(`Firestore (${Zu}): ${t}`,...n)}}function ku(t,...e){if(oc.logLevel<=ot.WARN){const n=e.map(k_);oc.warn(`Firestore (${Zu}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RM(t,r,n)}function RM(t,e,n){let r=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ms(r),new Error(r)}function Et(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||RM(e,i,r)}function Xe(t,e){return t}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class kM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ar.UNAUTHENTICATED)))}shutdown(){}}class c7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class u7{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new js;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new js,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new js)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new kM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Ar(e)}}class d7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new d7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function m7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class M_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=m7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function iw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return ox(i)===ox(s)?lt(i,s):ox(i)?1:-1}return lt(t.length,e.length)}const p7=55296,g7=57343;function ox(t){const e=t.charCodeAt(0);return e>=p7&&e<=g7}function Mu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const zj="__name__";class Pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Pa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return lt(e.length,n.length)}static compareSegments(e,n){const r=Pa.isNumericId(e),i=Pa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Pa.extractNumericId(e).compare(Pa.extractNumericId(n)):iw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qo.fromString(e.substring(4,e.length-2))}}class qt extends Pa{construct(e,n,r){return new qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new qt(n)}static emptyPath(){return new qt([])}}const v7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Pa{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return v7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zj}static keyField(){return new gr([zj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ce(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Ce(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(qt.fromString(e))}static fromName(e){return new qe(qt.fromString(e).popFirst(5))}static empty(){return new qe(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new qt(e.slice()))}}function MM(t,e,n){if(!n)throw new Ce(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y7(t,e,n,r){if(e===!0&&r===!0)throw new Ce(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vj(t){if(!qe.isDocumentKey(t))throw new Ce(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uj(t){if(qe.isDocumentKey(t))throw new Ce(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mv(t);throw new Ce(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function b7(t,e){if(e<=0)throw new Ce(ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Eh(t,e){if(!DM(t))throw new Ce(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ce(ge.INVALID_ARGUMENT,n);return!0}const $j=-62135596800,Bj=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Bj);return new zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$j)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bj}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eh(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$j;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:Pn("string",zt._jsonSchemaVersion),seconds:Pn("number"),nanoseconds:Pn("number")};class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new zt(0,0))}static max(){return new Ye(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qf=-1;function x7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new el(i,qe.empty(),e)}function w7(t){return new el(t.readTime,t.key,qf)}class el{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new el(Ye.min(),qe.empty(),qf)}static max(){return new el(Ye.max(),qe.empty(),qf)}}function _7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}const S7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ed(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==S7)throw t;ke("LocalStore","Unexpectedly lost primary lease")}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;n(e[h]).next((p=>{l[h]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new _e(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function A7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function td(t){return t.name==="IndexedDbTransactionError"}class Dv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dv.ce=-1;const D_=-1;function Lv(t){return t==null}function _g(t){return t===0&&1/t==-1/0}function T7(t){return typeof t=="number"&&Number.isInteger(t)&&!_g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const LM="";function N7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qj(e)),e=j7(t.get(n),e);return qj(e)}function j7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case LM:n+="";break;default:n+=s}}return n}function qj(t){return t+LM+""}function Fj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class on{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new on(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=s??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hj(this.data.getIterator())}getIteratorFrom(e){return new Hj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class Hj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gi{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new gi([])}unionWith(e){let n=new zn(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class VM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VM("Invalid base64 string: "+s):s}})(e);return new yr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new yr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const C7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=C7.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nl(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}const UM="server_timestamp",$M="__type__",BM="__previous_value__",qM="__local_write_time__";function L_(t){return(t?.mapValue?.fields||{})[$M]?.stringValue===UM}function zv(t){const e=t.mapValue.fields[BM];return L_(e)?zv(e):e}function Ff(t){const e=tl(t.mapValue.fields[qM].timestampValue);return new zt(e.seconds,e.nanos)}class O7{constructor(e,n,r,i,s,l,u,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const Sg="(default)";class Hf{constructor(e,n){this.projectId=e,this.database=n||Sg}static empty(){return new Hf("","")}get isDefaultDatabase(){return this.database===Sg}isEqual(e){return e instanceof Hf&&e.projectId===this.projectId&&e.database===this.database}}const FM="__type__",I7="__max__",Op={mapValue:{}},HM="__vector__",Eg="value";function rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L_(t)?4:R7(t)?9007199254740991:P7(t)?10:11:He(28295,{value:t})}function qa(t,e){if(t===e)return!0;const n=rl(t);if(n!==rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ff(t).isEqual(Ff(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=tl(i.timestampValue),u=tl(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return nl(i.bytesValue).isEqual(nl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return wn(i.geoPointValue.latitude)===wn(s.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return wn(i.integerValue)===wn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=wn(i.doubleValue),u=wn(s.doubleValue);return l===u?_g(l)===_g(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Mu(t.arrayValue.values||[],e.arrayValue.values||[],qa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Fj(l)!==Fj(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!qa(l[d],u[d])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function Kf(t,e){return(t.values||[]).find((n=>qa(n,e)))!==void 0}function Du(t,e){if(t===e)return 0;const n=rl(t),r=rl(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=wn(s.integerValue||s.doubleValue),d=wn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return Kj(t.timestampValue,e.timestampValue);case 4:return Kj(Ff(t),Ff(e));case 5:return iw(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=nl(s),d=nl(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=lt(u[h],d[h]);if(p!==0)return p}return lt(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=lt(wn(s.latitude),wn(l.latitude));return u!==0?u:lt(wn(s.longitude),wn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Gj(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},h=u[Eg]?.arrayValue,p=d[Eg]?.arrayValue,g=lt(h?.values?.length||0,p?.values?.length||0);return g!==0?g:Gj(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Op.mapValue&&l===Op.mapValue)return 0;if(s===Op.mapValue)return 1;if(l===Op.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=iw(d[g],p[g]);if(b!==0)return b;const _=Du(u[d[g]],h[p[g]]);if(_!==0)return _}return lt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function Kj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=tl(t),r=tl(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function Gj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Du(n[i],r[i]);if(s)return s}return lt(n.length,r.length)}function Lu(t){return aw(t)}function aw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=tl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return nl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=aw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${aw(n.fields[l])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function ng(t){switch(rl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zv(t);return e?16+ng(e):16;case 5:return 2*t.stringValue.length;case 6:return nl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+ng(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return dl(r.fields,((s,l)=>{i+=s.length+ng(l)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function Yj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sw(t){return!!t&&"integerValue"in t}function z_(t){return!!t&&"arrayValue"in t}function Wj(t){return!!t&&"nullValue"in t}function Xj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}function P7(t){return(t?.mapValue?.fields||{})[FM]?.stringValue===HM}function kf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return dl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kf(t.arrayValue.values[n]);return e}return{...t}}function R7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I7}class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kf(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=kf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Jr(kf(this.value))}}function KM(t){const e=[];return dl(t.fields,((n,r)=>{const i=new gr([n]);if(rg(r)){const s=KM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new gi(e)}class Tr{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Tr(e,0,Ye.min(),Ye.min(),Ye.min(),Jr.empty(),0)}static newFoundDocument(e,n,r,i){return new Tr(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new Tr(e,2,n,Ye.min(),Ye.min(),Jr.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,Ye.min(),Ye.min(),Jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ag{constructor(e,n){this.position=e,this.inclusive=n}}function Qj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=qe.comparator(qe.fromName(l.referenceValue),n.key):r=Du(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qa(t.position[n],e.position[n]))return!1;return!0}class Gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function k7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class GM{}class In extends GM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new D7(e,n,r):n==="array-contains"?new V7(e,r):n==="in"?new U7(e,r):n==="not-in"?new $7(e,r):n==="array-contains-any"?new B7(e,r):new In(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L7(e,r):new z7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Du(n,this.value)):n!==null&&rl(this.value)===rl(n)&&this.matchesComparison(Du(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class la extends GM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new la(e,n)}matches(e){return YM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YM(t){return t.op==="and"}function WM(t){return M7(t)&&YM(t)}function M7(t){for(const e of t.filters)if(e instanceof la)return!1;return!0}function ow(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+Lu(t.value);if(WM(t))return t.filters.map((e=>ow(e))).join(",");{const e=t.filters.map((n=>ow(n))).join(",");return`${t.op}(${e})`}}function XM(t,e){return t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&qa(r.value,i.value)})(t,e):t instanceof la?(function(r,i){return i instanceof la&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&XM(l,i.filters[u])),!0):!1})(t,e):void He(19439)}function QM(t){return t instanceof In?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lu(n.value)}`})(t):t instanceof la?(function(n){return n.op.toString()+" {"+n.getFilters().map(QM).join(" ,")+"}"})(t):"Filter"}class D7 extends In{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class L7 extends In{constructor(e,n){super(e,"in",n),this.keys=JM("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class z7 extends In{constructor(e,n){super(e,"not-in",n),this.keys=JM("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JM(t,e){return(e.arrayValue?.values||[]).map((n=>qe.fromName(n.referenceValue)))}class V7 extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z_(n)&&Kf(n.arrayValue,this.value)}}class U7 extends In{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kf(this.value.arrayValue,n)}}class $7 extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kf(this.value.arrayValue,n)}}class B7 extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kf(this.value.arrayValue,r)))}}class q7{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function Zj(t,e=null,n=[],r=[],i=null,s=null,l=null){return new q7(t,e,n,r,i,s,l)}function V_(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ow(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Lv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Lu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Lu(r))).join(",")),e.Te=n}return e.Te}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jj(t.startAt,e.startAt)&&Jj(t.endAt,e.endAt)}function lw(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class nd{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F7(t,e,n,r,i,s,l,u){return new nd(t,e,n,r,i,s,l,u)}function Vv(t){return new nd(t)}function eC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZM(t){return t.collectionGroup!==null}function Mf(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new zn(gr.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Gf(s,r))})),n.has(gr.keyField().canonicalString())||e.Ie.push(new Gf(gr.keyField(),r))}return e.Ie}function za(t){const e=Xe(t);return e.Ee||(e.Ee=H7(e,Mf(t))),e.Ee}function H7(t,e){if(t.limitType==="F")return Zj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Gf(i.field,s)}));const n=t.endAt?new Ag(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ag(t.startAt.position,t.startAt.inclusive):null;return Zj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cw(t,e){const n=t.filters.concat([e]);return new nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uv(t,e){return U_(za(t),za(e))&&t.limitType===e.limitType}function eD(t){return`${V_(za(t))}|lt:${t.limitType}`}function pu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>QM(i))).join(", ")}]`),Lv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Lu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Lu(i))).join(",")),`Target(${r})`})(za(t))}; limitType=${t.limitType})`}function $v(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Mf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const h=Qj(l,u,d);return l.inclusive?h<=0:h<0})(r.startAt,Mf(r),i)||r.endAt&&!(function(l,u,d){const h=Qj(l,u,d);return l.inclusive?h>=0:h>0})(r.endAt,Mf(r),i))})(t,e)}function K7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tD(t){return(e,n)=>{let r=!1;for(const i of Mf(t)){const s=G7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function G7(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Du(d,h):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}class xc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return zM(this.inner)}size(){return this.innerSize}}const Y7=new on(qe.comparator);function Ds(){return Y7}const nD=new on(qe.comparator);function Tf(...t){let e=nD;for(const n of t)e=e.insert(n.key,n);return e}function rD(t){let e=nD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Hl(){return Df()}function iD(){return Df()}function Df(){return new xc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const W7=new on(qe.comparator),X7=new zn(qe.comparator);function ct(...t){let e=X7;for(const n of t)e=e.add(n);return e}const Q7=new zn(lt);function J7(){return Q7}function $_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_g(e)?"-0":e}}function aD(t){return{integerValue:""+t}}function sD(t,e){return T7(e)?aD(e):$_(t,e)}class Bv{constructor(){this._=void 0}}function Z7(t,e,n){return t instanceof Yf?(function(i,s){const l={fields:{[$M]:{stringValue:UM},[qM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&L_(s)&&(s=zv(s)),s&&(l.fields[BM]=s),{mapValue:l}})(n,e):t instanceof Wf?lD(t,e):t instanceof Xf?cD(t,e):(function(i,s){const l=oD(i,s),u=tC(l)+tC(i.Ae);return sw(l)&&sw(i.Ae)?aD(u):$_(i.serializer,u)})(t,e)}function eB(t,e,n){return t instanceof Wf?lD(t,e):t instanceof Xf?cD(t,e):n}function oD(t,e){return t instanceof Qf?(function(r){return sw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Yf extends Bv{}class Wf extends Bv{constructor(e){super(),this.elements=e}}function lD(t,e){const n=uD(e);for(const r of t.elements)n.some((i=>qa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Xf extends Bv{constructor(e){super(),this.elements=e}}function cD(t,e){let n=uD(e);for(const r of t.elements)n=n.filter((i=>!qa(i,r)));return{arrayValue:{values:n}}}class Qf extends Bv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tC(t){return wn(t.integerValue||t.doubleValue)}function uD(t){return z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class dD{constructor(e,n){this.field=e,this.transform=n}}function tB(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Wf&&i instanceof Wf||r instanceof Xf&&i instanceof Xf?Mu(r.elements,i.elements,qa):r instanceof Qf&&i instanceof Qf?qa(r.Ae,i.Ae):r instanceof Yf&&i instanceof Yf})(t.transform,e.transform)}class nB{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ig(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qv{}function fD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fv(t.key,Lr.none()):new Ah(t.key,t.data,Lr.none());{const n=t.data,r=Jr.empty();let i=new zn(gr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new fl(t.key,r,new gi(i.toArray()),Lr.none())}}function rB(t,e,n){t instanceof Ah?(function(i,s,l){const u=i.value.clone(),d=rC(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof fl?(function(i,s,l){if(!ig(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=rC(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(hD(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Lf(t,e,n,r){return t instanceof Ah?(function(s,l,u,d){if(!ig(s.precondition,l))return u;const h=s.value.clone(),p=iC(s.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof fl?(function(s,l,u,d){if(!ig(s.precondition,l))return u;const h=iC(s.fieldTransforms,d,l),p=l.data;return p.setAll(hD(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return ig(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function iB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oD(r.transform,i||null);s!=null&&(n===null&&(n=Jr.empty()),n.set(r.field,s))}return n||null}function nC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mu(r,i,((s,l)=>tB(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ah extends qv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fl extends qv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rC(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,eB(l,u,n[i]))}return r}function iC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,Z7(s,l,e))}return r}class Fv extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aB extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iD();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const d=fD(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ct())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,((n,r)=>nC(n,r)))&&Mu(this.baseMutations,e.baseMutations,((n,r)=>nC(n,r)))}}class B_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return W7})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new B_(e,n,r,i)}}class oB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lB{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cn,dt;function cB(t){switch(t){case ge.OK:return He(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function mD(t){if(t===void 0)return Ms("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Cn.OK:return ge.OK;case Cn.CANCELLED:return ge.CANCELLED;case Cn.UNKNOWN:return ge.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ge.INTERNAL;case Cn.UNAVAILABLE:return ge.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ge.NOT_FOUND;case Cn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Cn.ABORTED:return ge.ABORTED;case Cn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Cn.DATA_LOSS:return ge.DATA_LOSS;default:return He(39323,{code:t})}}(dt=Cn||(Cn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";function uB(){return new TextEncoder}const dB=new Qo([4294967295,4294967295],0);function aC(t){const e=uB().encode(t),n=new NM;return n.update(e),new Uint8Array(n.digest())}function sC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,s],0)]}class q_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nf(`Invalid padding: ${n}`);if(r<0)throw new Nf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(dB)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aC(e),[r,i]=sC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new q_(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=aC(e),[r,i]=sC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hv(Ye.min(),i,new on(lt),Ds(),ct())}}class Th{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,ct(),ct(),ct())}}class ag{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class pD{constructor(e,n){this.targetId=e,this.Ce=n}}class gD{constructor(e,n,r=yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oC{constructor(){this.ve=0,this.Fe=lC(),this.Me=yr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),r=ct();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:s})}})),new Th(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=Ip(),this.He=Ip(),this.Ye=new on(lt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(lw(s))if(r===0){const l=new qe(s.path);this.et(n,l,Tr.newNoDocument(l,Ye.min()))}else Et(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=nl(r).toUint8Array()}catch(d){if(d instanceof VM)return ku("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new q_(l,i,s)}catch(d){return ku(d instanceof Nf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&lw(u.target)){const d=new qe(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Tr.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ct();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Hv(e,n,this.Ye,this.je,r);return this.je=Ds(),this.Je=Ip(),this.He=Ip(),this.Ye=new on(lt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zn(lt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zn(lt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ip(){return new on(qe.comparator)}function lC(){return new on(qe.comparator)}const hB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pB={and:"AND",or:"OR"};class gB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uw(t,e){return t.useProto3Json||Lv(e)?e:{value:e}}function Ng(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vB(t,e){return Ng(t,e.toTimestamp())}function Va(t){return Et(!!t,49232),Ye.fromTimestamp((function(n){const r=tl(n);return new zt(r.seconds,r.nanos)})(t))}function F_(t,e){return dw(t,e).canonicalString()}function dw(t,e){const n=(function(i){return new qt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yD(t){const e=qt.fromString(t);return Et(SD(e),10190,{key:e.toString()}),e}function fw(t,e){return F_(t.databaseId,e.path)}function lx(t,e){const n=yD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(xD(n))}function bD(t,e){return F_(t.databaseId,e)}function yB(t){const e=yD(t);return e.length===4?qt.emptyPath():xD(e)}function hw(t){return new qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xD(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cC(t,e,n){return{name:fw(t,e),fields:n.value.mapValue.fields}}function bB(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:He(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Et(p===void 0||typeof p=="string",58123),yr.fromBase64String(p||"")):(Et(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?ge.UNKNOWN:mD(h.code);return new Ce(p,h.message||"")})(l);n=new gD(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lx(t,r.document.name),s=Va(r.document.updateTime),l=r.document.createTime?Va(r.document.createTime):Ye.min(),u=new Jr({mapValue:{fields:r.document.fields}}),d=Tr.newFoundDocument(i,s,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new ag(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lx(t,r.document),s=r.readTime?Va(r.readTime):Ye.min(),l=Tr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new ag([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lx(t,r.document),s=r.removedTargetIds||[];n=new ag([],s,i,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new lB(i,s),u=r.targetId;n=new pD(u,l)}}return n}function xB(t,e){let n;if(e instanceof Ah)n={update:cC(t,e.key,e.value)};else if(e instanceof Fv)n={delete:fw(t,e.key)};else if(e instanceof fl)n={update:cC(t,e.key,e.data),updateMask:CB(e.fieldMask)};else{if(!(e instanceof aB))return He(16599,{Vt:e.type});n={verify:fw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Yf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Wf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Xf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw He(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:vB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function wB(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Va(i.updateTime):Va(s);return l.isEqual(Ye.min())&&(l=Va(s)),new nB(l,i.transformResults||[])})(n,e)))):[]}function _B(t,e){return{documents:[bD(t,e.path)]}}function SB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bD(t,i);const s=(function(h){if(h.length!==0)return _D(la.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(b){return{field:gu(b.field),direction:TB(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=uw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function EB(t){let e=yB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=wD(g);return b instanceof la&&WM(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(S){return new Gf(vu(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,Lv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,_=g.values||[];return new Ag(_,b)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const b=!g.before,_=g.values||[];return new Ag(_,b)})(n.endAt)),F7(e,i,l,s,u,"F",d,h)}function AB(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vu(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vu(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vu(n.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=vu(n.unaryFilter.field);return In.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return In.create(vu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return la.create(n.compositeFilter.filters.map((r=>wD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function TB(t){return hB[t]}function NB(t){return mB[t]}function jB(t){return pB[t]}function gu(t){return{fieldPath:t.canonicalString()}}function vu(t){return gr.fromServerFormat(t.fieldPath)}function _D(t){return t instanceof In?(function(n){if(n.op==="=="){if(Xj(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NAN"}};if(Wj(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xj(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NAN"}};if(Wj(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(n.field),op:NB(n.op),value:n.value}}})(t):t instanceof la?(function(n){const r=n.getFilters().map((i=>_D(i)));return r.length===1?r[0]:{compositeFilter:{op:jB(n.op),filters:r}}})(t):He(54877,{filter:t})}function CB(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ko{constructor(e,n,r,i,s=Ye.min(),l=Ye.min(),u=yr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class OB{constructor(e){this.yt=e}}function IB(t){const e=EB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}class PB{constructor(){this.Cn=new RB}addToCollectionParentIndex(e,n){return this.Cn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(el.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(el.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class RB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zn(qt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(qt.comparator)).toArray()}}const uC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ED=41943040;class Qr{static withCacheSize(e){return new Qr(e,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(ED,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class zu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zu(0)}static cr(){return new zu(-1)}}const dC="LruGarbageCollector",kB=1048576;function fC([t,e],[n,r]){const i=lt(t,n);return i===0?lt(e,r):i}class MB{constructor(e){this.Ir=e,this.buffer=new zn(fC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(dC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){td(n)?ke(dC,"Ignoring IndexedDB error during garbage collection: ",n):await ed(n)}await this.Vr(3e5)}))}}class LB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(Dv.ce);const r=new MB(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(uC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),mu()<=ot.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function zB(t,e){return new LB(t,e)}class VB{constructor(){this.changes=new xc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $B{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Lf(r.mutation,i,gi.empty(),zt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ct()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ct()){const i=Hl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Tf();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Hl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ct())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=Ds();const l=Df(),u=(function(){return Df()})();return n.forEach(((d,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof fl)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Lf(p.mutation,h,p.mutation.getFieldMask(),zt.now())):l.set(h.key,gi.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new UB(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Df();let i=new on(((l,u)=>l-u)),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||gi.empty();p=u.applyToLocalView(h,p),r.set(d,p);const g=(i.get(u.batchId)||ct()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=iD();p.forEach((b=>{if(!s.has(b)){const _=fD(n.get(b),r.get(b));_!==null&&g.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return _e.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_e.resolve(Hl());let u=qf,d=s;return l.next((h=>_e.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?_e.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,ct()))).next((p=>({batchId:u,changes:rD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=Tf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Tf();return this.indexManager.getCollectionParents(e,s).next((u=>_e.forEach(u,(d=>{const h=(function(g,b){return new nd(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Tr.newInvalidDocument(p)))}));let u=Tf();return l.forEach(((d,h)=>{const p=s.get(d);p!==void 0&&Lf(p.mutation,h,gi.empty(),zt.now()),$v(n,h)&&(u=u.insert(d,h))})),u}))}}class BB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return _e.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Va(i.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:IB(i.bundledQuery),readTime:Va(i.readTime)}})(n)),_e.resolve()}}class qB{constructor(){this.overlays=new on(qe.comparator),this.qr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hl();return _e.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=Hl(),s=n.length+1,l=new qe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new on(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Hl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Hl(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return _e.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new oB(n,r));let s=this.qr.get(n);s===void 0&&(s=ct(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class FB{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}class H_{constructor(){this.Qr=new zn(Qn.$r),this.Ur=new zn(Qn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Qn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Qn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new qe(new qt([])),r=new Qn(n,e),i=new Qn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new qe(new qt([])),r=new Qn(n,e),i=new Qn(n,e+1);let s=ct();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Qn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return qe.comparator(e.key,n.key)||lt(e.Yr,n.Yr)}static Kr(e,n){return lt(e.Yr,n.Yr)||qe.comparator(e.key,n.key)}}class HB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zn(Qn.$r)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new sB(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Qn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return _e.resolve(l)}lookupMutationBatch(e,n){return _e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?D_:this.tr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qn(n,0),i=new Qn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(lt);return n.forEach((i=>{const s=new Qn(i,0),l=new Qn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),_e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const l=new Qn(new qe(s),0);let u=new zn(lt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Yr)),!0)}),l),_e.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return _e.forEach(n.mutations,(i=>{const s=new Qn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Qn(n,0),i=this.Zr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class KB{constructor(e){this.ri=e,this.docs=(function(){return new on(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=Ds();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tr.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ds();const l=n.path,u=new qe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||_7(w7(p),r)<=0||(i.has(p.key)||$v(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ii(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GB(this)}getSize(e){return _e.resolve(this.size)}}class GB extends VB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class YB{constructor(e){this.persistence=e,this.si=new xc((n=>V_(n)),U_),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new H_,this.targetCount=0,this.ai=zu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),_e.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.Pr(n),_e.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),_e.waitFor(s).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),_e.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this._i.containsKey(n))}}class AD{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dv(0),this.li=!1,this.li=!0,this.hi=new FB,this.referenceDelegate=e(this),this.Pi=new YB(this),this.indexManager=new PB,this.remoteDocumentCache=(function(i){return new KB(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new OB(n),this.Ii=new BB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new HB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new WB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return _e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class WB extends E7{constructor(e){super(),this.currentSequenceNumber=e}}class K_{constructor(e){this.persistence=e,this.Ri=new H_,this.Vi=null}static mi(e){return new K_(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,(r=>{const i=qe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jg{constructor(e,n){this.persistence=e,this.pi=new xc((r=>N7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=zB(this,n)}static mi(e,n){return new jg(e,n)}Ei(){}di(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return _e.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?_e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Ye.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ng(e.data.value)),n}br(e,n,r){return _e.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class G_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ct(),i=ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new G_(e,n.fromCache,r,i)}}class XB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return U9()?8:A7(Cr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new XB;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(mu()<=ot.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(mu()<=ot.DEBUG&&ke("QueryEngine","Query:",pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(mu()<=ot.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,za(n))):_e.resolve())}ys(e,n){if(eC(n))return _e.resolve(null);let r=za(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Tg(n,null,"F"),r=za(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ct(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,u);return this.Cs(n,h,l,d.readTime)?this.ys(e,Tg(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return eC(n)||i.isEqual(Ye.min())?_e.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?_e.resolve(null):(mu()<=ot.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pu(n)),this.vs(e,l,n,x7(i,qf)).next((u=>u)))}))}Ds(e,n){let r=new zn(tD(e));return n.forEach(((i,s)=>{$v(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return mu()<=ot.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",pu(n)),this.ps.getDocumentsMatchingQuery(e,n,el.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const Y_="LocalStore",JB=3e8;class ZB{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new on(lt),this.xs=new xc((s=>V_(s)),U_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $B(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function eq(t,e,n,r){return new ZB(t,e,n,r)}async function TD(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=ct();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function tq(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,b=g.keys();let _=_e.resolve();return b.forEach((S=>{_=_.next((()=>p.getEntry(d,S))).next((E=>{const A=h.docVersions.get(S);Et(A!==null,48541),E.version.compareTo(A)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=ct();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function ND(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function nq(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(yr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(E,A,j){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=JB?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(s,_))}));let d=Ds(),h=ct();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(rq(s,l,e.documentUpdates).next((p=>{d=p.ks,h=p.qs}))),!r.isEqual(Ye.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return _e.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function rq(t,e,n){let r=ct(),i=ct();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Ds();return n.forEach(((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ye.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ke(Y_,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function iq(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=D_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aq(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,_e.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ko(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function mw(t,e,n){const r=Xe(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!td(l))throw l;ke(Y_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function hC(t,e,n){const r=Xe(t);let i=Ye.min(),s=ct();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,p){const g=Xe(d),b=g.xs.get(p);return b!==void 0?_e.resolve(g.Ms.get(b)):g.Pi.getTargetData(h,p)})(r,l,za(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ye.min(),n?s:ct()))).next((u=>(sq(r,K7(e),u),{documents:u,Qs:s})))))}function sq(t,e,n){let r=t.Os.get(e)||Ye.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class mC{constructor(){this.activeTargetIds=J7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oq{constructor(){this.Mo=new mC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lq{Oo(e){}shutdown(){}}const pC="ConnectivityMonitor";class gC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(pC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(pC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pp=null;function pw(){return Pp===null?Pp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pp++,"0x"+Pp.toString(16)}const cx="RestConnection",cq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=pw(),u=this.zo(e,n.toUriEncodedString());ke(cx,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:h}=new URL(u),p=Xu(h);return this.Jo(e,u,d,r,p).then((g=>(ke(cx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw ku(cx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=cq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class dq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Sr="WebChannelConnection";class fq extends uq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=pw();return new Promise(((u,d)=>{const h=new jM;h.setWithCredentials(!0),h.listenOnce(CM.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case tg.NO_ERROR:const g=h.getResponseJson();ke(Sr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case tg.TIMEOUT:ke(Sr,`RPC '${e}' ${l} timed out`),d(new Ce(ge.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const b=h.getStatus();if(ke(Sr,`RPC '${e}' ${l} failed with status:`,b,"response text:",h.getResponseText()),b>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_?.error;if(S&&S.status&&S.message){const E=(function(j){const L=j.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(L)>=0?L:ge.UNKNOWN})(S.status);d(new Ce(E,S.message))}else d(new Ce(ge.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ce(ge.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ke(Sr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);ke(Sr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=pw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=PM(),u=IM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");ke(Sr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,_=!1;const S=new dq({Yo:A=>{_?ke(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(b||(ke(Sr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),ke(Sr,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),E=(A,j,L)=>{A.listen(j,(U=>{try{L(U)}catch(q){setTimeout((()=>{throw q}),0)}}))};return E(g,Af.EventType.OPEN,(()=>{_||(ke(Sr,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),E(g,Af.EventType.CLOSE,(()=>{_||(_=!0,ke(Sr,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(g))})),E(g,Af.EventType.ERROR,(A=>{_||(_=!0,ku(Sr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Ce(ge.UNAVAILABLE,"The operation could not be completed")))})),E(g,Af.EventType.MESSAGE,(A=>{if(!_){const j=A.data[0];Et(!!j,16349);const L=j,U=L?.error||L[0]?.error;if(U){ke(Sr,`RPC '${e}' stream ${i} received error:`,U);const q=U.status;let $=(function(N){const k=Cn[N];if(k!==void 0)return mD(k)})(q),z=U.message;$===void 0&&($=ge.INTERNAL,z="Unknown error status: "+q+" with message "+U.message),_=!0,S.a_(new Ce($,z)),g.close()}else ke(Sr,`RPC '${e}' stream ${i} received:`,j),S.u_(j)}})),E(u,OM.STAT_EVENT,(A=>{A.stat===rw.PROXY?ke(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===rw.NOPROXY&&ke(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ux(){return typeof document<"u"?document:null}function Kv(t){return new gB(t,!0)}class jD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const vC="PersistentStream";class CD{constructor(e,n,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ce(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(vC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ke(vC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hq extends CD{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bB(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ye.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ye.min():l.readTime?Va(l.readTime):Ye.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hw(this.serializer),n.addTarget=(function(s,l){let u;const d=l.target;if(u=lw(d)?{documents:_B(s,d)}:{query:SB(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=vD(s,l.resumeToken);const h=uw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ye.min())>0){u.readTime=Ng(s,l.snapshotVersion.toTimestamp());const h=uw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=AB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hw(this.serializer),n.removeTarget=e,this.q_(n)}}class mq extends CD{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wB(e.writeResults,e.commitTime),r=Va(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xB(this.serializer,r)))};this.q_(n)}}class pq{}class gq extends pq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ce(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,dw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(ge.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,dw(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(ge.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const lc="RemoteStore";class yq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{wc(this)&&(ke(lc,"Restarting streams for network reachability change."),await(async function(d){const h=Xe(d);h.Ea.add(4),await Nh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Gv(h)})(this))}))})),this.Ra=new vq(r,i)}}async function Gv(t){if(wc(t))for(const e of t.da)await e(!0)}async function Nh(t){for(const e of t.da)await e(!1)}function OD(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),J_(n)?Q_(n):rd(n).O_()&&X_(n,e))}function W_(t,e){const n=Xe(t),r=rd(n);n.Ia.delete(e),r.O_()&&ID(n,e),n.Ia.size===0&&(r.O_()?r.L_():wc(n)&&n.Ra.set("Unknown"))}function X_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rd(t).Y_(e)}function ID(t,e){t.Va.Ue(e),rd(t).Z_(e)}function Q_(t){t.Va=new fB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rd(t).start(),t.Ra.ua()}function J_(t){return wc(t)&&!rd(t).x_()&&t.Ia.size>0}function wc(t){return Xe(t).Ea.size===0}function PD(t){t.Va=void 0}async function bq(t){t.Ra.set("Online")}async function xq(t){t.Ia.forEach(((e,n)=>{X_(t,e)}))}async function wq(t,e){PD(t),J_(t)?(t.Ra.ha(e),Q_(t)):t.Ra.set("Unknown")}async function _q(t,e,n){if(t.Ra.set("Online"),e instanceof gD&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){ke(lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cg(t,r)}else if(e instanceof ag?t.Va.Ze(e):e instanceof pD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ye.min()))try{const r=await ND(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(yr.EMPTY_BYTE_STRING,p.snapshotVersion)),ID(s,d);const g=new Ko(p.target,d,h,p.sequenceNumber);X_(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){ke(lc,"Failed to raise snapshot:",r),await Cg(t,r)}}async function Cg(t,e,n){if(!td(e))throw e;t.Ea.add(1),await Nh(t),t.Ra.set("Offline"),n||(n=()=>ND(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ke(lc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gv(t)}))}function RD(t,e){return e().catch((n=>Cg(t,n,e)))}async function Yv(t){const e=Xe(t),n=il(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:D_;for(;Sq(e);)try{const i=await iq(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Eq(e,i)}catch(i){await Cg(e,i)}kD(e)&&MD(e)}function Sq(t){return wc(t)&&t.Ta.length<10}function Eq(t,e){t.Ta.push(e);const n=il(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kD(t){return wc(t)&&!il(t).x_()&&t.Ta.length>0}function MD(t){il(t).start()}async function Aq(t){il(t).ra()}async function Tq(t){const e=il(t);for(const n of t.Ta)e.ea(n.mutations)}async function Nq(t,e,n){const r=t.Ta.shift(),i=B_.from(r,e,n);await RD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Yv(t)}async function jq(t,e){e&&il(t).X_&&await(async function(r,i){if((function(l){return cB(l)&&l!==ge.ABORTED})(i.code)){const s=r.Ta.shift();il(r).B_(),await RD(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Yv(r)}})(t,e),kD(t)&&MD(t)}async function yC(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),ke(lc,"RemoteStore received new credentials");const r=wc(n);n.Ea.add(3),await Nh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gv(n)}async function Cq(t,e){const n=Xe(t);e?(n.Ea.delete(2),await Gv(n)):e||(n.Ea.add(2),await Nh(n),n.Ra.set("Unknown"))}function rd(t){return t.ma||(t.ma=(function(n,r,i){const s=Xe(n);return s.sa(),new hq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:bq.bind(null,t),t_:xq.bind(null,t),r_:wq.bind(null,t),H_:_q.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),J_(t)?Q_(t):t.Ra.set("Unknown")):(await t.ma.stop(),PD(t))}))),t.ma}function il(t){return t.fa||(t.fa=(function(n,r,i){const s=Xe(n);return s.sa(),new mq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Aq.bind(null,t),r_:jq.bind(null,t),ta:Tq.bind(null,t),na:Nq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Yv(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(lc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Z_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new Z_(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eS(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),td(t))return new Ce(ge.UNAVAILABLE,`${e}: ${t}`);throw t}class Nu{static emptySet(e){return new Nu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Tf(),this.sortedSet=new on(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class bC{constructor(){this.ga=new on(qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Vu{constructor(e,n,r,i,s,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Vu(e,n,Nu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Oq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Iq{constructor(){this.queries=xC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xe(n),s=i.queries;i.queries=xC(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Ce(ge.ABORTED,"Firestore shutting down"))}}function xC(){return new xc((t=>eD(t)),Uv)}async function tS(t,e){const n=Xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Oq,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=eS(l,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&rS(n)}async function nS(t,e){const n=Xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pq(t,e){const n=Xe(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&rS(n)}function Rq(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function rS(t){t.Ca.forEach((e=>{e.next()}))}var gw,wC;(wC=gw||(gw={})).Ma="default",wC.Cache="cache";class iS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gw.Cache}}class DD{constructor(e){this.key=e}}class LD{constructor(e){this.key=e}}class kq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=tD(e),this.tu=new Nu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new bC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),_=$v(this.query,g)?g:null,S=!!b&&this.mutatedKeys.has(b.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;b&&_?b.data.isEqual(_.data)?S!==E&&(r.track({type:3,doc:_}),A=!0):this.su(b,_)||(r.track({type:2,doc:_}),A=!0,(d&&this.eu(_,d)>0||h&&this.eu(_,h)<0)&&(u=!0)):!b&&_?(r.track({type:0,doc:_}),A=!0):b&&!_&&(r.track({type:1,doc:b}),A=!0,(d||h)&&(u=!0)),A&&(_?(l=l.add(_),s=E?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:A})}};return E(_)-E(S)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new Vu(this.query,e.tu,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new LD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new DD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const aS="SyncEngine";class Mq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dq{constructor(e){this.key=e,this.hu=!1}}class Lq{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new xc((u=>eD(u)),Uv),this.Iu=new Map,this.Eu=new Set,this.du=new on(qe.comparator),this.Au=new Map,this.Ru=new H_,this.Vu={},this.mu=new Map,this.fu=zu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zq(t,e,n=!0){const r=qD(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await zD(r,e,n,!0),i}async function Vq(t,e){const n=qD(t);await zD(n,e,!0,!1)}async function zD(t,e,n,r){const i=await aq(t.localStore,za(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await Uq(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&OD(t.remoteStore,i),u}async function Uq(t,e,n,r,i){t.pu=(g,b,_)=>(async function(E,A,j,L){let U=A.view.ru(j);U.Cs&&(U=await hC(E.localStore,A.query,!1).then((({documents:O})=>A.view.ru(O,U))));const q=L&&L.targetChanges.get(A.targetId),$=L&&L.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(U,E.isPrimaryClient,q,$);return SC(E,A.targetId,z.au),z.snapshot})(t,g,b,_);const s=await hC(t.localStore,e,!0),l=new kq(e,s.Qs),u=l.ru(s.documents),d=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);SC(t,n,h.au);const p=new Mq(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function $q(t,e,n){const r=Xe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Uv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W_(r.remoteStore,i.targetId),vw(r,i.targetId)})).catch(ed)):(vw(r,i.targetId),await mw(r.localStore,i.targetId,!0))}async function Bq(t,e){const n=Xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W_(n.remoteStore,r.targetId))}async function qq(t,e,n){const r=Xq(t);try{const i=await(function(l,u){const d=Xe(l),h=zt.now(),p=u.reduce(((_,S)=>_.add(S.key)),ct());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=Ds(),E=ct();return d.Ns.getEntries(_,p).next((A=>{S=A,S.forEach(((j,L)=>{L.isValidDocument()||(E=E.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,S))).next((A=>{g=A;const j=[];for(const L of u){const U=iB(L,g.get(L.key).overlayedDocument);U!=null&&j.push(new fl(L.key,U,KM(U.value.mapValue),Lr.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,j,u)})).next((A=>{b=A;const j=A.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(_,A.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:rD(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new on(lt)),h=h.insert(u,d),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await jh(r,i.changes),await Yv(r.remoteStore)}catch(i){const s=eS(i,"Failed to persist write");n.reject(s)}}async function VD(t,e){const n=Xe(t);try{const r=await nq(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Et(l.hu,14607):i.removedDocuments.size>0&&(Et(l.hu,42227),l.hu=!1))})),await jh(n,r,e)}catch(r){await ed(r)}}function _C(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Xe(l);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(h=!0)})),h&&rS(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fq(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new on(qe.comparator);l=l.insert(s,Tr.newNoDocument(s,Ye.min()));const u=ct().add(s),d=new Hv(Ye.min(),new Map,new on(lt),l,u);await VD(r,d),r.du=r.du.remove(s),r.Au.delete(e),sS(r)}else await mw(r.localStore,e,!1).then((()=>vw(r,e,n))).catch(ed)}async function Hq(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await tq(n.localStore,e);$D(n,r,null),UD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jh(n,i)}catch(i){await ed(i)}}async function Kq(t,e,n){const r=Xe(t);try{const i=await(function(l,u){const d=Xe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(Et(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);$D(r,e,n),UD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jh(r,i)}catch(i){await ed(i)}}function UD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function $D(t,e,n){const r=Xe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function vw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||BD(t,r)}))}function BD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(W_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),sS(t))}function SC(t,e,n){for(const r of n)r instanceof DD?(t.Ru.addReference(r.key,e),Gq(t,r)):r instanceof LD?(ke(aS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||BD(t,r.key)):He(19791,{wu:r})}function Gq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ke(aS,"New document in limbo: "+n),t.Eu.add(r),sS(t))}function sS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new qe(qt.fromString(e)),r=t.fu.next();t.Au.set(r,new Dq(n)),t.du=t.du.insert(n,r),OD(t.remoteStore,new Ko(za(Vv(n.path)),r,"TargetPurposeLimboResolution",Dv.ce))}}async function jh(t,e,n){const r=Xe(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(h){i.push(h);const p=G_.As(d.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,h){const p=Xe(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>_e.forEach(h,(b=>_e.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(g,b.targetId,_))).next((()=>_e.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(g,b.targetId,_)))))))))}catch(g){if(!td(g))throw g;ke(Y_,"Failed to update sequence numbers: "+g)}for(const g of h){const b=g.targetId;if(!g.fromCache){const _=p.Ms.get(b),S=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(b,E)}}})(r.localStore,s))}async function Yq(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){ke(aS,"User change. New user:",e.toKey());const r=await TD(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new Ce(ge.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jh(n,r.Ls)}}function Wq(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let i=ct();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function qD(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fq.bind(null,e),e.Pu.H_=Pq.bind(null,e.eventManager),e.Pu.yu=Rq.bind(null,e.eventManager),e}function Xq(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kq.bind(null,e),e}class Og{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eq(this.persistence,new QB,e.initialUser,this.serializer)}Cu(e){return new AD(K_.mi,this.serializer)}Du(e){return new oq}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Og.provider={build:()=>new Og};class Qq extends Og{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof jg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new AD((r=>jg.mi(r,n)),this.serializer)}}class yw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_C(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yq.bind(null,this.syncEngine),await Cq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Iq})()}createDatastore(e){const n=Kv(e.databaseInfo.databaseId),r=(function(s){return new fq(s)})(e.databaseInfo);return(function(s,l,u,d){return new gq(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new yq(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>_C(this.syncEngine,n,0)),(function(){return gC.v()?new gC:new lq})())}createSyncEngine(e,n){return(function(i,s,l,u,d,h,p){const g=new Lq(i,s,l,u,d,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Xe(n);ke(lc,"RemoteStore shutting down."),r.Ea.add(5),await Nh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yw.provider={build:()=>new yw};class oS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const al="FirestoreClient";class Jq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=M_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{ke(al,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ke(al,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dx(t,e){t.asyncQueue.verifyOperationInProgress(),ke(al,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await TD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function EC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zq(t);ke(al,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>yC(e.remoteStore,i))),t._onlineComponents=e}async function Zq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(al,"Using user provided OfflineComponentProvider");try{await dx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ku("Error using user provided cache. Falling back to memory cache: "+n),await dx(t,new Og)}}else ke(al,"Using default OfflineComponentProvider"),await dx(t,new Qq(void 0));return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(al,"Using user provided OnlineComponentProvider"),await EC(t,t._uninitializedComponentsProvider._online)):(ke(al,"Using default OnlineComponentProvider"),await EC(t,new yw))),t._onlineComponents}function eF(t){return FD(t).then((e=>e.syncEngine))}async function Ig(t){const e=await FD(t),n=e.eventManager;return n.onListen=zq.bind(null,e.syncEngine),n.onUnlisten=$q.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bq.bind(null,e.syncEngine),n}function HD(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new oS({next:b=>{p.Nu(),l.enqueueAndForget((()=>nS(s,g)));const _=b.docs.has(u);!_&&b.fromCache?h.reject(new Ce(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&d&&d.source==="server"?h.reject(new Ce(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new iS(Vv(u.path),p,{includeMetadataChanges:!0,qa:!0});return tS(s,g)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}function tF(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new oS({next:b=>{p.Nu(),l.enqueueAndForget((()=>nS(s,g))),b.fromCache&&d.source==="server"?h.reject(new Ce(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new iS(u,p,{includeMetadataChanges:!0,qa:!0});return tS(s,g)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}function KD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const AC=new Map;const GD="firestore.googleapis.com",TC=!0;class NC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GD,this.ssl=TC}else this.host=e.host,this.ssl=e.ssl??TC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ED;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kB)throw new Ce(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new l7;switch(r.type){case"firstParty":return new f7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=AC.get(n);r&&(ke("ComponentProvider","Removing Datastore"),AC.delete(n),r.terminate())})(this),Promise.resolve()}}function nF(t,e,n,r={}){t=vr(t,Wv);const i=Xu(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Bk(`https://${u}`),qk("Firestore",!0)),s.host!==GD&&s.host!==u&&ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!ic(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ar.MOCK_USER;else{h=I9(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ce(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ar(g)}t._authCredentials=new c7(new kM(h,p))}}class Gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Eh(n,sn._jsonSchema))return new sn(e,r||null,new qe(qt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:Pn("string",sn._jsonSchemaVersion),referencePath:Pn("string")};class Jo extends Gs{constructor(e,n,r){super(e,n,Vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new qe(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function bw(t,e,...n){if(t=Un(t),MM("collection","path",e),t instanceof Wv){const r=qt.fromString(e,...n);return Uj(r),new Jo(t,null,r)}{if(!(t instanceof sn||t instanceof Jo))throw new Ce(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return Uj(r),new Jo(t.firestore,null,r)}}function Vn(t,e,...n){if(t=Un(t),arguments.length===1&&(e=M_.newId()),MM("doc","path",e),t instanceof Wv){const r=qt.fromString(e,...n);return Vj(r),new sn(t,null,new qe(r))}{if(!(t instanceof sn||t instanceof Jo))throw new Ce(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return Vj(r),new sn(t.firestore,t instanceof Jo?t.converter:null,new qe(r))}}const jC="AsyncQueue";class CC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jD(this,"async_queue_retry"),this._c=()=>{const r=ux();r&&ke(jC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ux();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ux();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!td(e))throw e;ke(jC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",OC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Z_.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:OC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function IC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ca extends Wv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CC(e),this._firestoreClient=void 0,await e}}}function rF(t,e){const n=typeof t=="object"?t:Gk(),r=typeof t=="string"?t:Sg,i=A_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=C9("firestore");s&&nF(i,...s)}return i}function id(t){if(t._terminated)throw new Ce(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iF(t),t._firestoreClient}function iF(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new O7(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,KD(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Jq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(yr.fromBase64String(e))}catch(n){throw new Ce(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eh(e,Ui._jsonSchema))return Ui.fromBase64String(e.bytes)}}Ui._jsonSchemaVersion="firestore/bytes/1.0",Ui._jsonSchema={type:Pn("string",Ui._jsonSchemaVersion),bytes:Pn("string")};class Ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Ua{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ua._jsonSchemaVersion}}static fromJSON(e){if(Eh(e,Ua._jsonSchema))return new Ua(e.latitude,e.longitude)}}Ua._jsonSchemaVersion="firestore/geoPoint/1.0",Ua._jsonSchema={type:Pn("string",Ua._jsonSchemaVersion),latitude:Pn("number"),longitude:Pn("number")};class $a{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eh(e,$a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $a(e.vectorValues);throw new Ce(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$a._jsonSchemaVersion="firestore/vectorValue/1.0",$a._jsonSchema={type:Pn("string",$a._jsonSchemaVersion),vectorValues:Pn("object")};const aF=/^__.*__$/;class sF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ah(e,this.data,n,this.fieldTransforms)}}class YD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:t})}}class lS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Pg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WD(this.Ac)&&aF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kv(e)}Cc(e,n,r,i=!1){return new lS({Ac:e,methodName:n,Dc:r,path:gr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(t){const e=t._freezeSettings(),n=Kv(t._databaseId);return new oF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);fS("Data must be an object, but it was:",l,r);const u=JD(r,l);let d,h;if(s.merge)d=new gi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=xw(e,g,n);if(!l.contains(b))throw new Ce(ge.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);e4(p,b)||p.push(b)}d=new gi(p),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new sF(new Jr(u),d,h)}class Xv extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xv}}class uS extends Oh{_toFieldTransform(e){return new dD(e.path,new Yf)}isEqual(e){return e instanceof uS}}class dS extends Oh{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Qf(e.serializer,sD(e.serializer,this.Fc));return new dD(e.path,n)}isEqual(e){return e instanceof dS&&this.Fc===e.Fc}}function XD(t,e,n,r){const i=t.Cc(1,e,n);fS("Data must be an object, but it was:",i,r);const s=[],l=Jr.empty();dl(r,((d,h)=>{const p=hS(e,d,n);h=Un(h);const g=i.yc(p);if(h instanceof Xv)s.push(p);else{const b=Ph(h,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new gi(s);return new YD(l,u,i.fieldTransforms)}function QD(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[xw(e,r,n)],d=[i];if(s.length%2!=0)throw new Ce(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(xw(e,s[b])),d.push(s[b+1]);const h=[],p=Jr.empty();for(let b=u.length-1;b>=0;--b)if(!e4(h,u[b])){const _=u[b];let S=d[b];S=Un(S);const E=l.yc(_);if(S instanceof Xv)h.push(_);else{const A=Ph(S,E);A!=null&&(h.push(_),p.set(_,A))}}const g=new gi(h);return new YD(p,g,l.fieldTransforms)}function lF(t,e,n,r=!1){return Ph(n,t.Cc(r?4:3,e))}function Ph(t,e){if(ZD(t=Un(t)))return fS("Unsupported field value:",e,t),JD(t,e);if(t instanceof Oh)return(function(r,i){if(!WD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=Ph(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zt.fromDate(r);return{timestampValue:Ng(i.serializer,s)}}if(r instanceof zt){const s=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ng(i.serializer,s)}}if(r instanceof Ua)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ui)return{bytesValue:vD(i.serializer,r._byteString)};if(r instanceof sn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:F_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $a)return(function(l,u){return{mapValue:{fields:{[FM]:{stringValue:HM},[Eg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return $_(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Mv(r)}`)})(t,e)}function JD(t,e){const n={};return zM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(t,((r,i)=>{const s=Ph(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function ZD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Ua||t instanceof Ui||t instanceof sn||t instanceof Oh||t instanceof $a)}function fS(t,e,n){if(!ZD(n)||!DM(n)){const r=Mv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xw(t,e,n){if((e=Un(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return hS(t,e);throw Pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const cF=new RegExp("[~\\*/\\[\\]]");function hS(t,e,n){if(e.search(cF)>=0)throw Pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ch(...e.split("."))._internalPath}catch{throw Pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ce(ge.INVALID_ARGUMENT,u+t+d)}function e4(t,e){return t.some((n=>n.isEqual(e)))}class t4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uF extends t4{data(){return super.data()}}function Qv(t,e){return typeof e=="string"?hS(t,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}function n4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mS{}class pS extends mS{}function Jf(t,e,...n){let r=[];e instanceof mS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof gS)).length,u=s.filter((d=>d instanceof Jv)).length;if(l>1||l>0&&u>0)throw new Ce(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Jv extends pS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jv(e,n,r)}_apply(e){const n=this._parse(e);return i4(e._query,n),new Gs(e.firestore,e.converter,cw(e._query,n))}_parse(e){const n=Ih(e.firestore);return(function(s,l,u,d,h,p,g){let b;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ce(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){RC(g,p);const S=[];for(const E of g)S.push(PC(d,s,E));b={arrayValue:{values:S}}}else b=PC(d,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||RC(g,p),b=lF(u,l,g,p==="in"||p==="not-in");return In.create(h,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xu(t,e,n){const r=e,i=Qv("where",t);return Jv._create(i,r,n)}class gS extends mS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:la.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)i4(l,d),l=cw(l,d)})(e._query,n),new Gs(e.firestore,e.converter,cw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vS extends pS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gf(s,l)})(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new nd(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Rg(t,e="asc"){const n=e,r=Qv("orderBy",t);return vS._create(r,n)}class yS extends pS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yS(e,n,r)}_apply(e){return new Gs(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}}function r4(t){return b7("limit",t),yS._create("limit",t,"F")}function PC(t,e,n){if(typeof(n=Un(n))=="string"){if(n==="")throw new Ce(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZM(e)&&n.indexOf("/")!==-1)throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qt.fromString(n));if(!qe.isDocumentKey(r))throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yj(t,new qe(r))}if(n instanceof sn)return Yj(t,n._key);throw new Ce(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mv(n)}.`)}function RC(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i4(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ce(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dF{convertValue(e,n="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Eg].arrayValue?.values?.map((r=>wn(r.doubleValue)));return new $a(n)}convertGeoPoint(e){return new Ua(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ff(e));default:return null}}convertTimestamp(e){const n=tl(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qt.fromString(e);Et(SD(r),9688,{name:e});const i=new Hf(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(n)||Ms(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function bS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends t4{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xl._jsonSchema={type:Pn("string",Xl._jsonSchemaVersion),bundleSource:Pn("string","DocumentSnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class sg extends Xl{data(e={}){return super.data(e)}}class Ql{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sg(this._firestore,this._userDataWriter,r.key,r,new jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new sg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new sg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:fF(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=M_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}function gf(t){t=vr(t,sn);const e=vr(t.firestore,ca);return HD(id(e),t._key).then((n=>_S(e,t,n)))}Ql._jsonSchemaVersion="firestore/querySnapshot/1.0",Ql._jsonSchema={type:Pn("string",Ql._jsonSchemaVersion),bundleSource:Pn("string","QuerySnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class xS extends dF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function kC(t){t=vr(t,sn);const e=vr(t.firestore,ca);return HD(id(e),t._key,{source:"server"}).then((n=>_S(e,t,n)))}function MC(t){t=vr(t,Gs);const e=vr(t.firestore,ca),n=id(e),r=new xS(e);return n4(t._query),tF(n,t._query).then((i=>new Ql(e,r,t,i)))}function fn(t,e,n){t=vr(t,sn);const r=vr(t.firestore,ca),i=bS(t.converter,e,n);return Rh(r,[cS(Ih(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lr.none())])}function kg(t,e,n,...r){t=vr(t,sn);const i=vr(t.firestore,ca),s=Ih(i);let l;return l=typeof(e=Un(e))=="string"||e instanceof Ch?QD(s,"updateDoc",t._key,e,n,r):XD(s,"updateDoc",t._key,e),Rh(i,[l.toMutation(t._key,Lr.exists(!0))])}function a4(t){return Rh(vr(t.firestore,ca),[new Fv(t._key,Lr.none())])}function wS(t,e){const n=vr(t.firestore,ca),r=Vn(t),i=bS(t.converter,e);return Rh(n,[cS(Ih(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then((()=>r))}function kr(t,...e){t=Un(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,u;if(t instanceof sn)l=vr(t.firestore,ca),u=Vv(t._key.path),s={next:d=>{e[r]&&e[r](_S(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=vr(t,Gs);l=vr(d.firestore,ca),u=d._query;const h=new xS(l);s={next:p=>{e[r]&&e[r](new Ql(l,h,d,p))},error:e[r+1],complete:e[r+2]},n4(t._query)}return(function(h,p,g,b){const _=new oS(b),S=new iS(p,_,g);return h.asyncQueue.enqueueAndForget((async()=>tS(await Ig(h),S))),()=>{_.Nu(),h.asyncQueue.enqueueAndForget((async()=>nS(await Ig(h),S)))}})(id(l),u,i,s)}function Rh(t,e){return(function(r,i){const s=new js;return r.asyncQueue.enqueueAndForget((async()=>qq(await eF(r),i,s))),s.promise})(id(t),e)}function _S(t,e,n){const r=n.docs.get(e._key),i=new xS(t);return new Xl(t,i,e._key,r,new jf(n.hasPendingWrites,n.fromCache),e.converter)}class hF{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ih(e)}set(e,n,r){this._verifyNotCommitted();const i=fx(e,this._firestore),s=bS(i.converter,n,r),l=cS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Lr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=fx(e,this._firestore);let l;return l=typeof(n=Un(n))=="string"||n instanceof Ch?QD(this._dataReader,"WriteBatch.update",s._key,n,r,i):XD(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fx(e,this._firestore);return this._mutations=this._mutations.concat(new Fv(n._key,Lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fx(t,e){if((t=Un(t)).firestore!==e)throw new Ce(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ys(){return new uS("serverTimestamp")}function fr(t){return new dS("increment",t)}function mF(t){return id(t=vr(t,ca)),new hF(t,(e=>Rh(t,e)))}(function(e,n=!0){(function(i){Zu=i})(Qu),Ru(new ac("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new ca(new u7(r.getProvider("auth-internal")),new h7(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ce(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hf(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Xo(Mj,Dj,e),Xo(Mj,Dj,"esm2020")})();const pF={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},gF=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):pF,s4=Kk(gF),hx=s7(s4),ka=rF(s4),vF=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",Cf=vF.replace(/\//g,"_");function o4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=o4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=o4(t))&&(r&&(r+=" "),r+=e);return r}var yF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SS(t){if(typeof t!="string")return!1;var e=yF;return e.includes(t)}var bF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xF=new Set(bF);function l4(t){return typeof t!="string"?!1:xF.has(t)}function c4(t){return typeof t=="string"&&t.startsWith("data-")}function zr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l4(n)||c4(n))&&(e[n]=t[n]);return e}function cc(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return zr(e)}return typeof t=="object"&&!Array.isArray(t)?zr(t):null}function Or(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l4(n)||c4(n)||SS(n))&&(e[n]=t[n]);return e}function wF(t){return t==null?null:w.isValidElement(t)?Or(t.props):typeof t=="object"&&!Array.isArray(t)?Or(t):null}var _F=["children","width","height","viewBox","className","style","title","desc"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(null,arguments)}function SF(t,e){if(t==null)return{};var n,r,i=EF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ES=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:h}=t,p=SF(t,_F),g=s||{width:r,height:i,x:0,y:0},b=ft("recharts-surface",l);return w.createElement("svg",ww({},Or(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,h),n)}),AF=["children","className"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(null,arguments)}function TF(t,e){if(t==null)return{};var n,r,i=NF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function NF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pn=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=TF(t,AF),s=ft("recharts-layer",r);return w.createElement("g",_w({className:s},Or(i),{ref:e}),n)}),AS=Mk(),u4=w.createContext(null),jF=()=>w.useContext(u4);function Bt(t){return function(){return t}}const d4=Math.cos,Mg=Math.sin,da=Math.sqrt,Dg=Math.PI,Zv=2*Dg,Sw=Math.PI,Ew=2*Sw,Bl=1e-6,CF=Ew-Bl;function f4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function OF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return f4;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class IF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?f4:OF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-e,h=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Bl)if(!(Math.abs(g*d-h*p)>Bl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,S=i-u,E=d*d+h*h,A=_*_+S*S,j=Math.sqrt(E),L=Math.sqrt(b),U=s*Math.tan((Sw-Math.acos((E+b-A)/(2*j*L)))/2),q=U/L,$=U/j;Math.abs(q-1)>Bl&&this._append`L${e+q*p},${n+q*g}`,this._append`A${s},${s},0,0,${+(g*_>p*S)},${this._x1=e+$*d},${this._y1=n+$*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=e+u,p=n+d,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Bl||Math.abs(this._y1-p)>Bl)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%Ew+Ew),b>CF?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:b>Bl&&this._append`A${r},${r},0,${+(b>=Sw)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function TS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new IF(e)}function NS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function h4(t){this._context=t}h4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function e0(t){return new h4(t)}function m4(t){return t[0]}function p4(t){return t[1]}function g4(t,e){var n=Bt(!0),r=null,i=e0,s=null,l=TS(u);t=typeof t=="function"?t:t===void 0?m4:Bt(t),e=typeof e=="function"?e:e===void 0?p4:Bt(e);function u(d){var h,p=(d=NS(d)).length,g,b=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(g=d[h],h,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,h,d),+e(g,h,d));if(_)return s=null,_+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Bt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Rp(t,e,n){var r=null,i=Bt(!0),s=null,l=e0,u=null,d=TS(h);t=typeof t=="function"?t:t===void 0?m4:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?p4:Bt(+n);function h(g){var b,_,S,E=(g=NS(g)).length,A,j=!1,L,U=new Array(E),q=new Array(E);for(s==null&&(u=l(L=d())),b=0;b<=E;++b){if(!(b<E&&i(A=g[b],b,g))===j)if(j=!j)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=b-1;S>=_;--S)u.point(U[S],q[S]);u.lineEnd(),u.areaEnd()}j&&(U[b]=+t(A,b,g),q[b]=+e(A,b,g),u.point(r?+r(A,b,g):U[b],n?+n(A,b,g):q[b]))}if(L)return u=null,L+""||null}function p(){return g4().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Bt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Bt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Bt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class v4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function PF(t){return new v4(t,!0)}function RF(t){return new v4(t,!1)}const jS={draw(t,e){const n=da(e/Dg);t.moveTo(n,0),t.arc(0,0,n,0,Zv)}},kF={draw(t,e){const n=da(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},y4=da(1/3),MF=y4*2,DF={draw(t,e){const n=da(e/MF),r=n*y4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},LF={draw(t,e){const n=da(e),r=-n/2;t.rect(r,r,n,n)}},zF=.8908130915292852,b4=Mg(Dg/10)/Mg(7*Dg/10),VF=Mg(Zv/10)*b4,UF=-d4(Zv/10)*b4,$F={draw(t,e){const n=da(e*zF),r=VF*n,i=UF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Zv*s/5,u=d4(l),d=Mg(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},mx=da(3),BF={draw(t,e){const n=-da(e/(mx*3));t.moveTo(0,n*2),t.lineTo(-mx*n,-n),t.lineTo(mx*n,-n),t.closePath()}},Mi=-.5,Di=da(3)/2,Aw=1/da(12),qF=(Aw/2+1)*3,FF={draw(t,e){const n=da(e/qF),r=n/2,i=n*Aw,s=r,l=n*Aw+n,u=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(Mi*r-Di*i,Di*r+Mi*i),t.lineTo(Mi*s-Di*l,Di*s+Mi*l),t.lineTo(Mi*u-Di*d,Di*u+Mi*d),t.lineTo(Mi*r+Di*i,Mi*i-Di*r),t.lineTo(Mi*s+Di*l,Mi*l-Di*s),t.lineTo(Mi*u+Di*d,Mi*d-Di*u),t.closePath()}};function HF(t,e){let n=null,r=TS(i);t=typeof t=="function"?t:Bt(t||jS),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Lg(){}function zg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KF(t){return new x4(t)}function w4(t){this._context=t}w4.prototype={areaStart:Lg,areaEnd:Lg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GF(t){return new w4(t)}function _4(t){this._context=t}_4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YF(t){return new _4(t)}function S4(t){this._context=t}S4.prototype={areaStart:Lg,areaEnd:Lg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function WF(t){return new S4(t)}function DC(t){return t<0?-1:1}function LC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(DC(s)+DC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function zC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function px(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function Vg(t){this._context=t}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:px(this,this._t0,zC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,px(this,zC(this,n=LC(this,t,e)),n);break;default:px(this,this._t0,n=LC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function E4(t){this._context=new A4(t)}(E4.prototype=Object.create(Vg.prototype)).point=function(t,e){Vg.prototype.point.call(this,e,t)};function A4(t){this._context=t}A4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function XF(t){return new Vg(t)}function QF(t){return new E4(t)}function T4(t){this._context=t}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=VC(t),i=VC(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VC(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function JF(t){return new T4(t)}function t0(t,e){this._context=t,this._t=e}t0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ZF(t){return new t0(t,.5)}function eH(t){return new t0(t,0)}function tH(t){return new t0(t,1)}function uc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Tw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function nH(t,e){return t[e]}function rH(t){const e=[];return e.key=t,e}function iH(){var t=Bt([]),e=Tw,n=uc,r=nH;function i(s){var l=Array.from(t.apply(this,arguments),rH),u,d=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=NS(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Tw:typeof s=="function"?s:Bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??uc,i):n},i}function aH(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}uc(t,e)}}function sH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}uc(t,e)}}function oH(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,_=(g-b)/2,S=0;S<u;++S){var E=t[e[S]],A=E[r][1]||0,j=E[r-1][1]||0;_+=A-j}d+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,uc(t,e)}}var gx={},vx={},UC;function lH(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(vx)),vx}var yx={},$C;function N4(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(yx)),yx}var bx={},BC;function CS(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(bx)),bx}var xx={},wx={},qC;function cH(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(wx)),wx}var FC;function OS(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH(),n=CS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,d+=i[u]):g===h?h="":d+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}t.toPath=r})(xx)),xx}var HC;function IS(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lH(),n=N4(),r=CS(),i=OS();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function l(u,d,h){if(d.length===0)return h;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return h;p=p[d[g]]}return p===void 0?h:p}t.get=s})(gx)),gx}var _x,KC;function uH(){return KC||(KC=1,_x=IS().get),_x}var dH=uH();const dc=Hs(dH);var fH=4;function Go(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fH,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function hn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+Go(u)+s:i+s},"")}var Zn=t=>t===0?0:t>0?1:-1,qi=t=>typeof t=="number"&&t!=+t,Ls=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!qi(t),Fa=t=>Oe(t)||typeof t=="string",hH=0,Zf=t=>{var e=++hH;return"".concat(t||"").concat(e)},jr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var s;if(Ls(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return qi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},j4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function _t(t,e,n){return Oe(t)&&Oe(e)?Go(t+n*(e-t)):e}function C4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):dc(r,e))===n)}var Wt=t=>t===null||typeof t>"u",kh=t=>Wt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function mH(t){return t!=null}function Mh(){}var pH=["type","size","sizeType"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(null,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){gH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gH(t,e,n){return(e=vH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vH(t){var e=yH(t,"string");return typeof e=="symbol"?e:e+""}function yH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bH(t,e){if(t==null)return{};var n,r,i=xH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O4={symbolCircle:jS,symbolCross:kF,symbolDiamond:DF,symbolSquare:LF,symbolStar:$F,symbolTriangle:BF,symbolWye:FF},wH=Math.PI/180,_H=t=>{var e="symbol".concat(kh(t));return O4[e]||jS},SH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*wH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},EH=(t,e)=>{O4["symbol".concat(kh(t))]=e},PS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=bH(t,pH),s=YC(YC({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=_H(l),_=HF().type(b).size(SH(n,r,l)),S=_();if(S!==null)return S},{className:d,cx:h,cy:p}=s,g=Or(s);return Oe(h)&&Oe(p)&&Oe(n)?w.createElement("path",Nw({},g,{className:ft("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};PS.registerSymbol=EH;var I4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,RS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{SS(i)&&(r[i]=(s=>n[i](n,s)))}),r},AH=(t,e,n)=>r=>(t(e,n,r),null),Dh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];SS(i)&&typeof s=="function"&&(r||(r={}),r[i]=AH(s,e,n))}),r};function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){NH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NH(t,e,n){return(e=jH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jH(t){var e=CH(t,"string");return typeof e=="symbol"?e:e+""}function CH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gn(t,e){var n=TH({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(null,arguments)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){IH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IH(t,e,n){return(e=PH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PH(t){var e=RH(t,"string");return typeof e=="symbol"?e:e+""}function RH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zi=32,kH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function MH(t){var{data:e,iconType:n,inactiveColor:r}=t,i=zi/2,s=zi/6,l=zi/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var h;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:zi,y2:i,className:"recharts-legend-icon"})}if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(zi,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(zi/8,"h").concat(zi,"v").concat(zi*3/4,"h").concat(-zi,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var p=OH({},e);return delete p.legendIcon,w.cloneElement(e.legendIcon,p)}return w.createElement(PS,{fill:u,cx:i,cy:i,size:zi,sizeType:"diameter",type:d})}function DH(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:zi,height:zi},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,_=ft({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?s:p.color,E=b?b(p.value,p,g):p.value;return w.createElement("li",Ug({className:_,style:d,key:"legend-item-".concat(g)},Dh(t,p,g)),w.createElement(ES,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(E," legend icon")},w.createElement(MH,{data:p,iconType:l,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}var LH=t=>{var e=gn(t,kH),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(DH,Ug({},e,{payload:n})))},Sx={},Ex={},QC;function zH(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Ex)),Ex}var Ax={},JC;function P4(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Ax)),Ax}var Tx={},Nx={},jx={},ZC;function VH(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(jx)),jx}var eO;function kS(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Nx)),Nx}var Cx={},tO;function UH(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Cx)),Cx}var nO;function $H(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kS(),n=UH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Tx)),Tx}var Ox={},Ix={},rO;function BH(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Ix)),Ix}var Px={},Rx={},kx={},Mx={},iO;function R4(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Mx)),Mx}var Dx={},aO;function k4(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Dx)),Dx}var Lx={},sO;function M4(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Lx)),Lx}var oO;function qH(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R4(),n=k4(),r=M4();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function _(S,E,A,j,L,U){const q=b(S,E,A,j,L,U);return q!==void 0?!!q:s(S,E,_,U)},new Map)}function s(p,g,b,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,_);case"function":return Object.keys(g).length>0?s(p,{...g},b,_):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,_){if(g==null)return!0;if(Array.isArray(g))return d(p,g,b,_);if(g instanceof Map)return u(p,g,b,_);if(g instanceof Set)return h(p,g,b,_);const S=Object.keys(g);if(p==null||n.isPrimitive(p))return S.length===0;if(S.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let E=0;E<S.length;E++){const A=S[E];if(!n.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!b(p[A],g[A],A,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,b,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of g.entries()){const A=p.get(S);if(b(A,E,S,p,g,_)===!1)return!1}return!0}function d(p,g,b,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<g.length;E++){const A=g[E];let j=!1;for(let L=0;L<p.length;L++){if(S.has(L))continue;const U=p[L];let q=!1;if(b(U,A,E,p,g,_)&&(q=!0),q){S.add(L),j=!0;break}}if(!j)return!1}return!0}function h(p,g,b,_){return g.size===0?!0:p instanceof Set?d([...p],[...g],b,_):!1}t.isMatchWith=i,t.isSetMatch=h})(kx)),kx}var lO;function D4(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Rx)),Rx}var zx={},Vx={},Ux={},cO;function FH(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Ux)),Ux}var $x={},uO;function L4(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})($x)),$x}var Bx={},dO;function z4(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",A="[object Uint8Array]",j="[object Uint8ClampedArray]",L="[object Uint16Array]",U="[object Uint32Array]",q="[object BigUint64Array]",$="[object Int8Array]",z="[object Int16Array]",O="[object Int32Array]",N="[object BigInt64Array]",k="[object Float32Array]",M="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=q,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=k,t.float64ArrayTag=M,t.functionTag=g,t.int16ArrayTag=z,t.int32ArrayTag=O,t.int8ArrayTag=$,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=L,t.uint32ArrayTag=U,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=j})(Bx)),Bx}var qx={},fO;function HH(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(qx)),qx}var hO;function V4(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FH(),n=L4(),r=z4(),i=k4(),s=HH();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,_=new Map,S=void 0){const E=S?.(p,g,b,_);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const A=new Array(p.length);_.set(p,A);for(let j=0;j<p.length;j++)A[j]=u(p[j],j,b,_,S);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;_.set(p,A);for(const[j,L]of p)A.set(j,u(L,j,b,_,S));return A}if(p instanceof Set){const A=new Set;_.set(p,A);for(const j of p)A.add(u(j,void 0,b,_,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,A);for(let j=0;j<p.length;j++)A[j]=u(p[j],j,b,_,S);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,A),d(A,p,b,_,S),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return _.set(p,A),d(A,p,b,_,S),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof Error){const A=new p.constructor;return _.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,d(A,p,b,_,S),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof Number){const A=new Number(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(p instanceof String){const A=new String(p.valueOf());return _.set(p,A),d(A,p,b,_,S),A}if(typeof p=="object"&&h(p)){const A=Object.create(Object.getPrototypeOf(p));return _.set(p,A),d(A,p,b,_,S),A}return p}function d(p,g,b=p,_,S){const E=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<E.length;A++){const j=E[A],L=Object.getOwnPropertyDescriptor(p,j);(L==null||L.writable)&&(p[j]=u(g[j],j,b,_,S))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(Vx)),Vx}var mO;function KH(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(zx)),zx}var pO;function GH(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4(),n=KH();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Px)),Px}var Fx={},Hx={},Kx={},gO;function YH(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4(),n=z4();function r(i,s){return e.cloneDeepWith(i,(l,u,d,h)=>{const p=s?.(l,u,d,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Kx)),Kx}var vO;function WH(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Hx)),Hx}var Gx={},Yx={},yO;function U4(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Yx)),Yx}var Wx={},bO;function XH(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Wx)),Wx}var xO;function QH(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N4(),n=U4(),r=XH(),i=OS();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const g=d[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Gx)),Gx}var wO;function JH(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4(),n=CS(),r=WH(),i=IS(),s=QH();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(Fx)),Fx}var _O;function ZH(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P4(),n=BH(),r=GH(),i=JH();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Ox)),Ox}var SO;function eK(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zH(),n=P4(),r=$H(),i=ZH();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(Sx)),Sx}var Xx,EO;function tK(){return EO||(EO=1,Xx=eK().uniqBy),Xx}var nK=tK();const AO=Hs(nK);function $4(t,e,n){return e===!0?AO(t,n):typeof e=="function"?AO(t,e):t}var Qx={exports:{}},Jx={},Zx={exports:{}},e1={};var TO;function rK(){if(TO)return e1;TO=1;var t=Wu();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),E=S[0].inst,A=S[1];return s(function(){E.value=_,E.getSnapshot=b,d(E)&&A({inst:E})},[g,_,b]),i(function(){return d(E)&&A({inst:E}),g(function(){d(E)&&A({inst:E})})},[g]),l(_),_}function d(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return e1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,e1}var NO;function iK(){return NO||(NO=1,Zx.exports=rK()),Zx.exports}var jO;function aK(){if(jO)return Jx;jO=1;var t=Wu(),e=iK();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Jx.useSyncExternalStoreWithSelector=function(h,p,g,b,_){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function j(z){if(!L){if(L=!0,U=z,z=b(z),_!==void 0&&E.hasValue){var O=E.value;if(_(O,z))return q=O}return q=z}if(O=q,r(U,z))return O;var N=b(z);return _!==void 0&&_(O,N)?(U=z,O):(U=z,q=N)}var L=!1,U,q,$=g===void 0?null:g;return[function(){return j(p())},$===null?void 0:function(){return j($())}]},[p,g,b,_]);var A=i(h,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},Jx}var CO;function sK(){return CO||(CO=1,Qx.exports=aK()),Qx.exports}var oK=sK(),MS=w.createContext(null),lK=t=>t,Ft=()=>{var t=w.useContext(MS);return t?t.store.dispatch:lK},og=()=>{},cK=()=>og,uK=(t,e)=>t===e;function Le(t){var e=w.useContext(MS);return oK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:cK,e?e.store.getState:og,e?e.store.getState:og,e?t:og,uK)}function dK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function fK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function hK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var OO=t=>Array.isArray(t)?t:[t];function mK(t){const e=Array.isArray(t[0])?t[0]:t;return hK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function pK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var gK=class{constructor(t){this.value=t}deref(){return this.value}},vK=typeof WeakRef<"u"?WeakRef:gK,yK=0,IO=1;function kp(){return{s:yK,v:void 0,o:null,p:null}}function B4(t,e={}){let n=kp();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const E=S.get(_);E===void 0?(u=kp(),S.set(_,u)):u=E}else{let S=u.p;S===null&&(u.p=S=new Map);const E=S.get(_);E===void 0?(u=kp(),S.set(_,u)):u=E}}const h=u;let p;if(u.s===IO)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new vK(p):p}return h.s=IO,h.v=p,p}return l.clearCache=()=>{n=kp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function bK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),dK(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:_=B4,argsMemoizeOptions:S=[]}=p,E=OO(b),A=OO(S),j=mK(i),L=g(function(){return s++,h.apply(null,arguments)},...E),U=_(function(){l++;const $=pK(j,arguments);return u=L.apply(null,$),u},...A);return Object.assign(U,{resultFunc:h,memoizedResultFunc:L,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var se=bK(B4),xK=Object.assign((t,e=se)=>{fK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>xK}),t1={},n1={},r1={},PO;function wK(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(r1)),r1}var i1={},a1={},RO;function q4(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(a1)),a1}var kO;function _K(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(i1)),i1}var MO;function SK(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wK(),n=_K(),r=OS();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const h=(_,S)=>{let E=_;for(let A=0;A<S.length&&E!=null;++A)E=E[S[A]];return E},p=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:h(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?h(S,_):typeof S=="object"?S[_]:S,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(S=>p(S,_))})).slice().sort((_,S)=>{for(let E=0;E<g.length;E++){const A=e.compareValues(_.criteria[E],S.criteria[E],u[E]);if(A!==0)return A}return 0}).map(_=>_.original)}t.orderBy=i})(n1)),n1}var s1={},DO;function EK(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(s1)),s1}var o1={},LO;function F4(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U4(),n=kS(),r=R4(),i=M4();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=s})(o1)),o1}var zO;function AK(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SK(),n=EK(),r=F4();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(t1)),t1}var l1,VO;function TK(){return VO||(VO=1,l1=AK().sortBy),l1}var NK=TK();const n0=Hs(NK);var H4=t=>t.legend.settings,jK=t=>t.legend.size,CK=t=>t.legend.payload,OK=se([CK,H4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?n0(r,n):r});function IK(){return Le(OK)}var Mp=1;function K4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Mp||Math.abs(l.left-e.left)>Mp||Math.abs(l.top-e.top)>Mp||Math.abs(l.width-e.width)>Mp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function dr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PK=typeof Symbol=="function"&&Symbol.observable||"@@observable",UO=PK,c1=()=>Math.random().toString(36).substring(7).split("").join("."),RK={INIT:`@@redux/INIT${c1()}`,REPLACE:`@@redux/REPLACE${c1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${c1()}`},$g=RK;function DS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function G4(t,e,n){if(typeof t!="function")throw new Error(dr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(dr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(dr(1));return n(G4)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((A,j)=>{l.set(j,A)}))}function p(){if(d)throw new Error(dr(3));return i}function g(A){if(typeof A!="function")throw new Error(dr(4));if(d)throw new Error(dr(5));let j=!0;h();const L=u++;return l.set(L,A),function(){if(j){if(d)throw new Error(dr(6));j=!1,h(),l.delete(L),s=null}}}function b(A){if(!DS(A))throw new Error(dr(7));if(typeof A.type>"u")throw new Error(dr(8));if(typeof A.type!="string")throw new Error(dr(17));if(d)throw new Error(dr(9));try{d=!0,i=r(i,A)}finally{d=!1}return(s=l).forEach(L=>{L()}),A}function _(A){if(typeof A!="function")throw new Error(dr(10));r=A,b({type:$g.REPLACE})}function S(){const A=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(dr(11));function L(){const q=j;q.next&&q.next(p())}return L(),{unsubscribe:A(L)}},[UO](){return this}}}return b({type:$g.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:_,[UO]:S}}function kK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:$g.INIT})>"u")throw new Error(dr(12));if(typeof n(void 0,{type:$g.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dr(13))})}function Y4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{kK(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],_=l[g],S=b(_,u);if(typeof S>"u")throw u&&u.type,new Error(dr(14));h[g]=S,d=d||S!==_}return d=d||r.length!==Object.keys(l).length,d?h:l}}function Bg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MK(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(dr(15))};const l={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},u=t.map(d=>d(l));return s=Bg(...u)(i.dispatch),{...i,dispatch:s}}}function W4(t){return DS(t)&&"type"in t&&typeof t.type=="string"}var X4=Symbol.for("immer-nothing"),$O=Symbol.for("immer-draftable"),Vr=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var vi=Object,Uu=vi.getPrototypeOf,qg="constructor",r0="prototype",jw="configurable",Fg="enumerable",lg="writable",eh="value",zs=t=>!!t&&!!t[Vr];function ua(t){return t?Q4(t)||a0(t)||!!t[$O]||!!t[qg]?.[$O]||s0(t)||o0(t):!1}var DK=vi[r0][qg].toString(),BO=new WeakMap;function Q4(t){if(!t||!LS(t))return!1;const e=Uu(t);if(e===null||e===vi[r0])return!0;const n=vi.hasOwnProperty.call(e,qg)&&e[qg];if(n===Object)return!0;if(!yu(n))return!1;let r=BO.get(n);return r===void 0&&(r=Function.toString.call(n),BO.set(n,r)),r===DK}function i0(t,e,n=!0){Lh(t)===0?(n?Reflect.ownKeys(t):vi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Lh(t){const e=t[Vr];return e?e.type_:a0(t)?1:s0(t)?2:o0(t)?3:0}var qO=(t,e,n=Lh(t))=>n===2?t.has(e):vi[r0].hasOwnProperty.call(t,e),Cw=(t,e,n=Lh(t))=>n===2?t.get(e):t[e],Hg=(t,e,n,r=Lh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function LK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var a0=Array.isArray,s0=t=>t instanceof Map,o0=t=>t instanceof Set,LS=t=>typeof t=="object",yu=t=>typeof t=="function",u1=t=>typeof t=="boolean";function zK(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var bs=t=>t.copy_||t.base_,zS=t=>t.modified_?t.copy_:t.base_;function Ow(t,e){if(s0(t))return new Map(t);if(o0(t))return new Set(t);if(a0(t))return Array[r0].slice.call(t);const n=Q4(t);if(e===!0||e==="class_only"&&!n){const r=vi.getOwnPropertyDescriptors(t);delete r[Vr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[lg]===!1&&(u[lg]=!0,u[jw]=!0),(u.get||u.set)&&(r[l]={[jw]:!0,[lg]:!0,[Fg]:u[Fg],[eh]:t[l]})}return vi.create(Uu(t),r)}else{const r=Uu(t);if(r!==null&&n)return{...t};const i=vi.create(r);return vi.assign(i,t)}}function VS(t,e=!1){return l0(t)||zs(t)||!ua(t)||(Lh(t)>1&&vi.defineProperties(t,{set:Dp,add:Dp,clear:Dp,delete:Dp}),vi.freeze(t),e&&i0(t,(n,r)=>{VS(r,!0)},!1)),t}function VK(){na(2)}var Dp={[eh]:VK};function l0(t){return t===null||!LS(t)?!0:vi.isFrozen(t)}var Kg="MapSet",Iw="Patches",FO="ArrayMethods",J4={};function fc(t){const e=J4[t];return e||na(0,t),e}var HO=t=>!!J4[t],th,Z4=()=>th,UK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:HO(Kg)?fc(Kg):void 0,arrayMethodsPlugin_:HO(FO)?fc(FO):void 0});function KO(t,e){e&&(t.patchPlugin_=fc(Iw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Pw(t){Rw(t),t.drafts_.forEach($K),t.drafts_=null}function Rw(t){t===th&&(th=t.parent_)}var GO=t=>th=UK(th,t);function $K(t){const e=t[Vr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function YO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Vr].modified_&&(Pw(e),na(4)),ua(t)&&(t=WO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Vr].base_,t,e)}else t=WO(e,n);return BK(e,t,!0),Pw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X4?t:void 0}function WO(t,e){if(l0(e))return e;const n=e[Vr];if(!n)return Gg(e,t.handledSet_,t);if(!c0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);n5(n,t)}return n.copy_}function BK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&VS(e,n)}function e5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var c0=(t,e)=>t.scope_===e,qK=[];function t5(t,e,n,r){const i=bs(t),s=t.type_;if(r!==void 0&&Cw(i,r,s)===e){Hg(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;i0(i,(d,h)=>{if(zs(h)){const p=u.get(h)||[];p.push(d),u.set(h,p)}})}const l=t.draftLocations_.get(e)??qK;for(const u of l)Hg(i,u,n,s)}function FK(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!c0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=zS(s);t5(t,s.draft_??s,l,n),n5(s,i)})}function n5(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}e5(t)}}function HK(t,e,n){const{scope_:r}=t;if(zs(n)){const i=n[Vr];c0(i,r)&&i.callbacks_.push(function(){cg(t);const l=zS(i);t5(t,n,l,e)})}else ua(n)&&t.callbacks_.push(function(){const s=bs(t);t.type_===3?s.has(n)&&Gg(n,r.handledSet_,r):Cw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Gg(Cw(t.copy_,e,t.type_),r.handledSet_,r)})}function Gg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||zs(t)||e.has(t)||!ua(t)||l0(t)||(e.add(t),i0(t,(r,i)=>{if(zs(i)){const s=i[Vr];if(c0(s,n)){const l=zS(s);Hg(t,r,l,t.type_),e5(s)}}else ua(i)&&Gg(i,e,n)})),t}function KK(t,e){const n=a0(t),r={type_:n?1:0,scope_:e?e.scope_:Z4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Yg;n&&(i=[r],s=nh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var Yg={get(t,e){if(e===Vr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=bs(t);if(!qO(i,e,t.type_))return GK(t,i,e);const s=i[e];if(t.finalized_||!ua(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&zK(e))return s;if(s===d1(t.base_,e)){cg(t);const l=t.type_===1?+e:e,u=Mw(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in bs(t)},ownKeys(t){return Reflect.ownKeys(bs(t))},set(t,e,n){const r=r5(bs(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=d1(bs(t),e),s=i?.[Vr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(LK(n,i)&&(n!==void 0||qO(t.base_,e,t.type_)))return!0;cg(t),kw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),HK(t,e,n)),!0},deleteProperty(t,e){return cg(t),d1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),kw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[lg]:!0,[jw]:t.type_!==1||e!=="length",[Fg]:r[Fg],[eh]:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return Uu(t.base_)},setPrototypeOf(){na(12)}},nh={};for(let t in Yg){let e=Yg[t];nh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}nh.deleteProperty=function(t,e){return nh.set.call(this,t,e,void 0)};nh.set=function(t,e,n){return Yg.set.call(this,t[0],e,n,t[0])};function d1(t,e){const n=t[Vr];return(n?bs(n):t)[e]}function GK(t,e,n){const r=r5(e,n);return r?eh in r?r[eh]:r.get?.call(t.draft_):void 0}function r5(t,e){if(!(e in t))return;let n=Uu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Uu(n)}}function kw(t){t.modified_||(t.modified_=!0,t.parent_&&kw(t.parent_))}function cg(t){t.copy_||(t.assigned_=new Map,t.copy_=Ow(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var YK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(yu(n)&&!yu(r)){const l=r;r=n;const u=this;return function(h=l,...p){return u.produce(h,g=>r.call(this,g,...p))}}yu(r)||na(6),i!==void 0&&!yu(i)&&na(7);let s;if(ua(n)){const l=GO(this),u=Mw(l,n,void 0);let d=!0;try{s=r(u),d=!1}finally{d?Pw(l):Rw(l)}return KO(l,i),YO(s,l)}else if(!n||!LS(n)){if(s=r(n),s===void 0&&(s=n),s===X4&&(s=void 0),this.autoFreeze_&&VS(s,!0),i){const l=[],u=[];fc(Iw).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else na(1,n)},this.produceWithPatches=(n,r)=>{if(yu(n))return(u,...d)=>this.produceWithPatches(u,h=>n(h,...d));let i,s;return[this.produce(n,r,(u,d)=>{i=u,s=d}),i,s]},u1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),u1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),u1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ua(e)||na(8),zs(e)&&(e=oa(e));const n=GO(this),r=Mw(n,e,void 0);return r[Vr].isManual_=!0,Rw(n),r}finishDraft(e,n){const r=e&&e[Vr];(!r||!r.isManual_)&&na(9);const{scope_:i}=r;return KO(i,n),YO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=fc(Iw).applyPatches_;return zs(e)?i(e,n):this.produce(e,s=>i(s,n))}};function Mw(t,e,n,r){const[i,s]=s0(e)?fc(Kg).proxyMap_(e,n):o0(e)?fc(Kg).proxySet_(e,n):KK(e,n);return(n?.scope_??Z4()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?FK(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=d;s.modified_&&h&&h.generatePatches_(s,[],d)}),i}function oa(t){return zs(t)||na(10,t),i5(t)}function i5(t){if(!ua(t)||l0(t))return t;const e=t[Vr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ow(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Ow(t,!0);return i0(n,(i,s)=>{Hg(n,i,i5(s))},r),e&&(e.finalized_=!1),n}var WK=new YK,a5=WK.produce;function s5(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var XK=s5(),QK=s5,JK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bg:Bg.apply(null,arguments)};function Fi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(yi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>W4(r)&&r.type===t,n}var o5=class Of extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Of.prototype)}static get[Symbol.species](){return Of}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Of(...e[0].concat(this)):new Of(...e.concat(this))}};function XO(t){return ua(t)?a5(t,()=>{}):t}function Lp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ZK(t){return typeof t=="boolean"}var eG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new o5;return n&&(ZK(n)?l.push(XK):l.push(QK(n.extraArgument))),l},l5="RTK_autoBatch",en=()=>t=>({payload:t,meta:{[l5]:!0}}),QO=t=>e=>{setTimeout(e,t)},c5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:QO(10):t.type==="callback"?t.queueNotification:QO(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[l5],s=!i,s&&(l||(l=!0,d(h))),r.dispatch(p)}finally{i=!0}}})},tG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new o5(t);return r&&i.push(c5(typeof r=="object"?r:void 0)),i};function nG(t){const e=eG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(DS(n))u=Y4(n);else throw new Error(yi(1));let d;typeof r=="function"?d=r(e):d=e();let h=Bg;i&&(h=JK({trace:!1,...typeof i=="object"&&i}));const p=MK(...d),g=tG(p);let b=typeof l=="function"?l(g):g();const _=h(...b);return G4(u,s,_)}function u5(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(yi(28));if(u in e)throw new Error(yi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function rG(t){return typeof t=="function"}function iG(t,e){let[n,r,i]=u5(e),s;if(rG(t))s=()=>XO(t());else{const u=XO(t);s=()=>u}function l(u=s(),d){let h=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(zs(p)){const _=g(p,d);return _===void 0?p:_}else{if(ua(p))return a5(p,b=>g(b,d));{const b=g(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var aG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sG=(t=21)=>{let e="",n=t;for(;n--;)e+=aG[Math.random()*64|0];return e},oG=Symbol.for("rtk-slice-createasyncthunk");function lG(t,e){return`${t}/${e}`}function cG({creators:t}={}){const e=t?.asyncThunk?.[oG];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(yi(11));const l=(typeof r.reducers=="function"?r.reducers(dG()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(U,q){const $=typeof U=="string"?U:U.type;if(!$)throw new Error(yi(12));if($ in d.sliceCaseReducersByType)throw new Error(yi(13));return d.sliceCaseReducersByType[$]=q,h},addMatcher(U,q){return d.sliceMatchers.push({matcher:U,reducer:q}),h},exposeAction(U,q){return d.actionCreators[U]=q,h},exposeCaseReducer(U,q){return d.sliceCaseReducersByName[U]=q,h}};u.forEach(U=>{const q=l[U],$={reducerName:U,type:lG(i,U),createNotation:typeof r.reducers=="function"};hG(q)?pG($,q,h,e):fG($,q,h)});function p(){const[U={},q=[],$=void 0]=typeof r.extraReducers=="function"?u5(r.extraReducers):[r.extraReducers],z={...U,...d.sliceCaseReducersByType};return iG(r.initialState,O=>{for(let N in z)O.addCase(N,z[N]);for(let N of d.sliceMatchers)O.addMatcher(N.matcher,N.reducer);for(let N of q)O.addMatcher(N.matcher,N.reducer);$&&O.addDefaultCase($)})}const g=U=>U,b=new Map,_=new WeakMap;let S;function E(U,q){return S||(S=p()),S(U,q)}function A(){return S||(S=p()),S.getInitialState()}function j(U,q=!1){function $(O){let N=O[U];return typeof N>"u"&&q&&(N=Lp(_,$,A)),N}function z(O=g){const N=Lp(b,q,()=>new WeakMap);return Lp(N,O,()=>{const k={};for(const[M,I]of Object.entries(r.selectors??{}))k[M]=uG(I,O,()=>Lp(_,O,A),q);return k})}return{reducerPath:U,getSelectors:z,get selectors(){return z($)},selectSlice:$}}const L={name:i,reducer:E,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:A,...j(s),injectInto(U,{reducerPath:q,...$}={}){const z=q??s;return U.inject({reducerPath:z,reducer:E},$),{...L,...j(z,!0)}}};return L}}function uG(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var ti=cG();function dG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function fG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!mG(r))throw new Error(yi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Fi(t,l):Fi(t))}function hG(t){return t._reducerDefinitionType==="asyncThunk"}function mG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(yi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||zp,pending:u||zp,rejected:d||zp,settled:h||zp})}function zp(){}var gG="task",d5="listener",f5="completed",US="cancelled",vG=`task-${US}`,yG=`task-${f5}`,Dw=`${d5}-${US}`,bG=`${d5}-${f5}`,u0=class{constructor(t){this.code=t,this.message=`${gG} ${US} (reason: ${t})`}name="TaskAbortError";message},$S=(t,e)=>{if(typeof t!="function")throw new TypeError(yi(32))},Wg=()=>{},h5=(t,e=Wg)=>(t.catch(e),t),m5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Jl=t=>{if(t.aborted)throw new u0(t.reason)};function p5(t,e){let n=Wg;return new Promise((r,i)=>{const s=()=>i(new u0(t.reason));if(t.aborted){s();return}n=m5(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Wg})}var xG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof u0?"cancelled":"rejected",error:n}}finally{e?.()}},Xg=t=>e=>h5(p5(t,e).then(n=>(Jl(t),n))),g5=t=>{const e=Xg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ju}=Object,JO={},d0="listenerMiddleware",wG=(t,e)=>{const n=r=>m5(t,()=>r.abort(t.reason));return(r,i)=>{$S(r);const s=new AbortController;n(s);const l=xG(async()=>{Jl(t),Jl(s.signal);const u=await r({pause:Xg(s.signal),delay:g5(s.signal),signal:s.signal});return Jl(s.signal),u},()=>s.abort(yG));return i?.autoJoin&&e.push(l.catch(Wg)),{result:Xg(t)(l),cancel(){s.abort(vG)}}}},_G=(t,e)=>{const n=async(r,i)=>{Jl(e);let s=()=>{};const u=[new Promise((d,h)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await p5(e,Promise.race(u));return Jl(e),d}finally{s()}};return(r,i)=>h5(n(r,i))},v5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Fi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(yi(21));return $S(s),{predicate:i,type:e,effect:s}},y5=ju(t=>{const{type:e,predicate:n,effect:r}=v5(t);return{id:sG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(yi(22))}}},{withTypes:()=>y5}),ZO=(t,e)=>{const{type:n,effect:r,predicate:i}=v5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Lw=t=>{t.pending.forEach(e=>{e.abort(Dw)})},SG=(t,e)=>()=>{for(const n of e.keys())Lw(n);t.clear()},eI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},b5=ju(Fi(`${d0}/add`),{withTypes:()=>b5}),EG=Fi(`${d0}/removeAll`),x5=ju(Fi(`${d0}/remove`),{withTypes:()=>x5}),AG=(...t)=>{console.error(`${d0}/error`,...t)},zh=(t={})=>{const e=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:s,onError:l=AG}=t;$S(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),S=>{_.unsubscribe(),S?.cancelActive&&Lw(_)}),d=_=>{const S=ZO(e,_)??y5(_);return u(S)};ju(d,{withTypes:()=>d});const h=_=>{const S=ZO(e,_);return S&&(S.unsubscribe(),_.cancelActive&&Lw(S)),!!S};ju(h,{withTypes:()=>h});const p=async(_,S,E,A)=>{const j=new AbortController,L=_G(d,j.signal),U=[];try{_.pending.add(j),r(_),await Promise.resolve(_.effect(S,ju({},E,{getOriginalState:A,condition:(q,$)=>L(q,$).then(Boolean),take:L,delay:g5(j.signal),pause:Xg(j.signal),extra:s,signal:j.signal,fork:wG(j.signal,U),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((q,$,z)=>{q!==j&&(q.abort(Dw),z.delete(q))})},cancel:()=>{j.abort(Dw),_.pending.delete(j)},throwIfCancelled:()=>{Jl(j.signal)}})))}catch(q){q instanceof u0||eI(l,q,{raisedBy:"effect"})}finally{await Promise.all(U),j.abort(bG),i(_),_.pending.delete(j)}},g=SG(e,n);return{middleware:_=>S=>E=>{if(!W4(E))return S(E);if(b5.match(E))return d(E.payload);if(EG.match(E)){g();return}if(x5.match(E))return h(E.payload);let A=_.getState();const j=()=>{if(A===JO)throw new Error(yi(23));return A};let L;try{if(L=S(E),e.size>0){const U=_.getState(),q=Array.from(e.values());for(const $ of q){let z=!1;try{z=$.predicate(E,U,A)}catch(O){z=!1,eI(l,O,{raisedBy:"predicate"})}z&&p($,E,_,j)}}}finally{A=JO}return L},startListening:d,stopListening:h,clearListeners:g}};function yi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},w5=ti({name:"chartLayout",initialState:TG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:NG,setLayout:jG,setChartSize:CG,setScale:OG}=w5.actions,IG=w5.reducer;function _5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ut(t){return Number.isFinite(t)}function Ha(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){PG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PG(t,e,n){return(e=RG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RG(t){var e=kG(t,"string");return typeof e=="symbol"?e:e+""}function kG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function St(t,e,n){return Wt(t)||Wt(e)?n:Fa(e)?dc(t,e,n):typeof e=="function"?e(t):n}var MG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Oe(t[s]))return wu(wu({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Oe(t[l]))return wu(wu({},t),{},{[l]:t[l]+(i||0)})}return t},Wa=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",S5=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},E5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:b,axisType:_}=t;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=_==="angleAxis"&&s&&s.length>=2?Zn(s[0]-s[1])*2*E:E,g||b){var A=(g||b||[]).map((j,L)=>{var U=r?r.indexOf(j):j;return{coordinate:l(U)+E,value:j,offset:E,index:L}});return A.filter(j=>!qi(j.coordinate))}return d&&h?h.map((j,L)=>({coordinate:l(j)+E,value:j,index:L,offset:E})):l.ticks&&p!=null?l.ticks(p).map((j,L)=>({coordinate:l(j)+E,value:j,offset:E,index:L})):l.domain().map((j,L)=>({coordinate:l(j)+E,value:r?r[j]:j,index:L,offset:E}))},nI=1e-4,DG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-nI,s=Math.max(r[0],r[1])+nI,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},LG=(t,e)=>{if(!e||e.length!==2||!Oe(e[0])||!Oe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(i[0]=n),(!Oe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},zG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var d=t[u],h=d?.[i];if(h!=null){var p=h[1],g=h[0],b=qi(p)?g:p;b>=0?(h[0]=s,h[1]=s+b,s=p):(h[0]=l,h[1]=l+b,l=p)}}}},VG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],d=u?.[i];if(d!=null){var h=qi(d[1])?d[0]:d[1];h>=0?(d[0]=s,d[1]=s+h,s=d[1]):(d[0]=0,d[1]=0)}}}},UG={sign:zG,expand:aH,none:uc,silhouette:sH,wiggle:oH,positive:VG},$G=(t,e,n)=>{var r,i=(r=UG[n])!==null&&r!==void 0?r:uc,s=iH().keys(e).value((u,d)=>Number(St(u,d,0))).order(Tw).offset(i),l=s(t);return l.forEach((u,d)=>{u.forEach((h,p)=>{var g=St(t[p],e[d],0);Array.isArray(g)&&g.length===2&&Oe(g[0])&&Oe(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function A5(t){return t==null?void 0:String(t)}function Qg(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Wt(i[e.dataKey])){var u=C4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=St(i,Wt(l)?e.dataKey:l);return Wt(d)?null:e.scale(d)}var rI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=St(s,e.dataKey,e.scale.domain()[l]);return Wt(u)?null:e.scale(u)-i/2+r},BG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},qG=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},FG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],HG=(t,e,n)=>{if(t!=null)return FG(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((d,h)=>{var p=_5(h,e,n),g=qG(p);return!Ut(g[0])||!Ut(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},iI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=n0(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];s=Math.min((d?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function sI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return wu(wu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function hl(t,e){if(t)return String(t);if(typeof e=="string")return e}var KG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},GG=(t,e)=>e==="centric"?t.angle:t.radius,Ws=t=>t.layout.width,Xs=t=>t.layout.height,YG=t=>t.layout.scale,T5=t=>t.layout.margin,f0=se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),h0=se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),N5="data-recharts-item-index",j5="data-recharts-item-id",Vh=60;function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){WG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WG(t,e,n){return(e=XG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XG(t){var e=QG(t,"string");return typeof e=="symbol"?e:e+""}function QG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JG=t=>t.brush.height;function ZG(t){var e=h0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vh;return n+i}return n},0)}function eY(t){var e=h0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vh;return n+i}return n},0)}function tY(t){var e=f0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function nY(t){var e=f0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var $n=se([Ws,Xs,T5,JG,ZG,eY,tY,nY,H4,jK],(t,e,n,r,i,s,l,u,d,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Vp(Vp({},g),p),_=b.bottom;b.bottom+=r,b=MG(b,d,h);var S=t-b.left-b.right,E=e-b.top-b.bottom;return Vp(Vp({brushBottom:_},b),{},{width:Math.max(S,0),height:Math.max(E,0)})}),rY=se($n,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),BS=se(Ws,Xs,(t,e)=>({x:0,y:0,width:t,height:e})),iY=w.createContext(null),er=()=>w.useContext(iY)!=null,m0=t=>t.brush,p0=se([m0,$n,T5],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),f1={},h1={},m1={},lI;function aY(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),E()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{S(),l=void 0,u=null},A=()=>{p()},j=function(...L){if(i?.aborted)return;l=this,u=L;const U=b==null;_(),d&&U&&p()};return j.schedule=_,j.cancel=E,j.flush=A,i?.addEventListener("abort",E,{once:!0}),j}t.debounce=e})(m1)),m1}var cI;function sY(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aY();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const b=e.debounce(function(...E){p=r.apply(this,E),g=null},i,{edges:h}),_=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},S=()=>(b.flush(),p);return _.cancel=b.cancel,_.flush=S,_}t.debounce=n})(h1)),h1}var uI;function oY(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sY();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(f1)),f1}var p1,dI;function lY(){return dI||(dI=1,p1=oY().throttle),p1}var cY=lY();const uY=Hs(cY);var Jg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},C5=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Ls(r)?t:Number(r),d=Ls(i)?e:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},dY={width:0,height:0,overflow:"visible"},fY={width:0,overflowX:"visible"},hY={height:0,overflowY:"visible"},mY={},pY=t=>{var{width:e,height:n}=t,r=Ls(e),i=Ls(n);return r&&i?dY:r?fY:i?hY:mY};function gY(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(null,arguments)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){vY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vY(t,e,n){return(e=yY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yY(t){var e=bY(t,"string");return typeof e=="symbol"?e:e+""}function bY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O5=w.createContext({width:-1,height:-1});function xY(t){return Ha(t.width)&&Ha(t.height)}function I5(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return xY(i)?w.createElement(O5.Provider,{value:i},e):null}var qS=()=>w.useContext(O5),wY=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:g,className:b,onResize:_,style:S={}}=t,E=w.useRef(null),A=w.useRef();A.current=_,w.useImperativeHandle(e,()=>E.current);var[j,L]=w.useState({containerWidth:r.width,containerHeight:r.height}),U=w.useCallback((N,k)=>{L(M=>{var I=Math.round(N),D=Math.round(k);return M.containerWidth===I&&M.containerHeight===D?M:{containerWidth:I,containerHeight:D}})},[]);w.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Mh;var N=D=>{var R,{width:re,height:Z}=D[0].contentRect;U(re,Z),(R=A.current)===null||R===void 0||R.call(A,re,Z)};p>0&&(N=uY(N,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(N),{width:M,height:I}=E.current.getBoundingClientRect();return U(M,I),k.observe(E.current),()=>{k.disconnect()}},[U,p]);var{containerWidth:q,containerHeight:$}=j;Jg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:O}=C5(q,$,{width:i,height:s,aspect:n,maxHeight:d});return Jg(z!=null&&z>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,O,i,s,l,u,n),w.createElement("div",{id:g?"".concat(g):void 0,className:ft("recharts-responsive-container",b),style:hI(hI({},S),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:E},w.createElement("div",{style:pY({width:i,height:s})},w.createElement(I5,{width:z,height:O},h)))}),g0=w.forwardRef((t,e)=>{var n=qS();if(Ha(n.width)&&Ha(n.height))return t.children;var{width:r,height:i}=gY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=C5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Oe(s)&&Oe(l)?w.createElement(I5,{width:s,height:l},t.children):w.createElement(wY,zw({},t,{width:r,height:i,ref:e}))});function P5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var v0=()=>{var t,e=er(),n=Le(rY),r=Le(p0),i=(t=Le(m0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_Y={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},R5=()=>{var t;return(t=Le($n))!==null&&t!==void 0?t:_Y},FS=()=>Le(Ws),HS=()=>Le(Xs),SY=()=>Le(t=>t.layout.margin),it=t=>t.layout.layoutType,ml=()=>Le(it),EY=()=>{var t=ml();if(t==="horizontal"||t==="vertical")return t},AY=()=>{var t=ml();return t!==void 0},y0=t=>{var e=Ft(),n=er(),{width:r,height:i}=t,s=qS(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),w.useEffect(()=>{!n&&Ha(l)&&Ha(u)&&e(CG({width:l,height:u}))},[e,n,l,u]),null},k5=Symbol.for("immer-nothing"),mI=Symbol.for("immer-draftable"),bi=Symbol.for("immer-state");function ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var rh=Object.getPrototypeOf;function $u(t){return!!t&&!!t[bi]}function hc(t){return t?M5(t)||Array.isArray(t)||!!t[mI]||!!t.constructor?.[mI]||Uh(t)||x0(t):!1}var TY=Object.prototype.constructor.toString(),pI=new WeakMap;function M5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=pI.get(n);return r===void 0&&(r=Function.toString.call(n),pI.set(n,r)),r===TY}function Zg(t,e,n=!0){b0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function b0(t){const e=t[bi];return e?e.type_:Array.isArray(t)?1:Uh(t)?2:x0(t)?3:0}function Vw(t,e){return b0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function D5(t,e,n){const r=b0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function NY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Uh(t){return t instanceof Map}function x0(t){return t instanceof Set}function ql(t){return t.copy_||t.base_}function Uw(t,e){if(Uh(t))return new Map(t);if(x0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=M5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[bi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(rh(t),r)}else{const r=rh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function KS(t,e=!1){return w0(t)||$u(t)||!hc(t)||(b0(t)>1&&Object.defineProperties(t,{set:Up,add:Up,clear:Up,delete:Up}),Object.freeze(t),e&&Object.values(t).forEach(n=>KS(n,!0))),t}function jY(){ra(2)}var Up={value:jY};function w0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var CY={};function mc(t){const e=CY[t];return e||ra(0,t),e}var ih;function L5(){return ih}function OY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gI(t,e){e&&(mc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $w(t){Bw(t),t.drafts_.forEach(IY),t.drafts_=null}function Bw(t){t===ih&&(ih=t.parent_)}function vI(t){return ih=OY(ih,t)}function IY(t){const e=t[bi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[bi].modified_&&($w(e),ra(4)),hc(t)&&(t=ev(e,t),e.parent_||tv(e,t)),e.patches_&&mc("Patches").generateReplacementPatches_(n[bi].base_,t,e.patches_,e.inversePatches_)):t=ev(e,n,[]),$w(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==k5?t:void 0}function ev(t,e,n){if(w0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[bi];if(!i)return Zg(e,(s,l)=>bI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return tv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Zg(l,(d,h)=>bI(t,i,s,d,h,n,u),r),tv(t,s,!1),n&&t.patches_&&mc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function bI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=w0(i);if(!(u&&!l)){if($u(i)){const d=s&&e&&e.type_!==3&&!Vw(e.assigned_,r)?s.concat(r):void 0,h=ev(t,i,d);if(D5(n,r,h),$u(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(hc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;ev(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Uh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&tv(t,i)}}}function tv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KS(e,n)}function PY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:L5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=GS;n&&(i=[r],s=ah);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var GS={get(t,e){if(e===bi)return t;const n=ql(t);if(!Vw(n,e))return RY(t,n,e);const r=n[e];return t.finalized_||!hc(r)?r:r===g1(t.base_,e)?(v1(t),t.copy_[e]=Fw(r,t)):r},has(t,e){return e in ql(t)},ownKeys(t){return Reflect.ownKeys(ql(t))},set(t,e,n){const r=z5(ql(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=g1(ql(t),e),s=i?.[bi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(NY(n,i)&&(n!==void 0||Vw(t.base_,e)))return!0;v1(t),qw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return g1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,v1(t),qw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ql(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ra(11)},getPrototypeOf(t){return rh(t.base_)},setPrototypeOf(){ra(12)}},ah={};Zg(GS,(t,e)=>{ah[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ah.deleteProperty=function(t,e){return ah.set.call(this,t,e,void 0)};ah.set=function(t,e,n){return GS.set.call(this,t[0],e,n,t[0])};function g1(t,e){const n=t[bi];return(n?ql(n):t)[e]}function RY(t,e,n){const r=z5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function z5(t,e){if(!(e in t))return;let n=rh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=rh(n)}}function qw(t){t.modified_||(t.modified_=!0,t.parent_&&qw(t.parent_))}function v1(t){t.copy_||(t.copy_=Uw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var kY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...h){return l.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&ra(6),r!==void 0&&typeof r!="function"&&ra(7);let i;if(hc(e)){const s=vI(this),l=Fw(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?$w(s):Bw(s)}return gI(s,r),yI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===k5&&(i=void 0),this.autoFreeze_&&KS(i,!0),r){const s=[],l=[];mc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ra(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){hc(t)||ra(8),$u(t)&&(t=MY(t));const e=vI(this),n=Fw(t,void 0);return n[bi].isManual_=!0,Bw(e),n}finishDraft(t,e){const n=t&&t[bi];(!n||!n.isManual_)&&ra(9);const{scope_:r}=n;return gI(r,e),yI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=mc("Patches").applyPatches_;return $u(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Fw(t,e){const n=Uh(t)?mc("MapSet").proxyMap_(t,e):x0(t)?mc("MapSet").proxySet_(t,e):PY(t,e);return(e?e.scope_:L5()).drafts_.push(n),n}function MY(t){return $u(t)||ra(10,t),V5(t)}function V5(t){if(!hc(t)||w0(t))return t;const e=t[bi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Uw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Uw(t,!0);return Zg(n,(i,s)=>{D5(n,i,V5(s))},r),e&&(e.finalized_=!1),n}var DY=new kY;DY.produce;var LY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},U5=ti({name:"legend",initialState:LY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:en()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:en()},removeLegendPayload:{reducer(t,e){var n=oa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:en()}}}),{setLegendSize:xI,setLegendSettings:zY,addLegendPayload:$5,replaceLegendPayload:B5,removeLegendPayload:q5}=U5.actions,VY=U5.reducer,UY=["contextPayload"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(null,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){$Y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Y(t,e,n){return(e=BY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BY(t){var e=qY(t,"string");return typeof e=="symbol"?e:e+""}function qY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FY(t,e){if(t==null)return{};var n,r,i=HY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function HY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KY(t){return t.value}function GY(t){var{contextPayload:e}=t,n=FY(t,UY),r=$4(e,t.payloadUniqBy,KY),i=Bu(Bu({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(LH,i)}function YY(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:d}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-s.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bu(Bu({},h),p)}function WY(t){var e=Ft();return w.useEffect(()=>{e(zY(t))},[e,t]),null}function XY(t){var e=Ft();return w.useEffect(()=>(e(xI(t)),()=>{e(xI({width:0,height:0}))}),[e,t]),null}function QY(t,e,n,r){return t==="vertical"&&Oe(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var JY={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function _0(t){var e=gn(t,JY),n=IK(),r=jF(),i=SY(),{width:s,height:l,wrapperStyle:u,portal:d}=e,[h,p]=K4([n]),g=FS(),b=HS();if(g==null||b==null)return null;var _=g-(i?.left||0)-(i?.right||0),S=QY(e.layout,l,s,_),E=d?u:Bu(Bu({position:"absolute",width:S?.width||s||"auto",height:S?.height||l||"auto"},YY(u,e,i,g,b,h)),u),A=d??r;if(A==null||n==null)return null;var j=w.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:p},w.createElement(WY,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&w.createElement(XY,{width:h.width,height:h.height}),w.createElement(GY,Hw({},e,S,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return AS.createPortal(j,A)}_0.displayName="Legend";function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){ZY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZY(t,e,n){return(e=eW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){var e=tW(t,"string");return typeof e=="symbol"?e:e+""}function tW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nW(t){return Array.isArray(t)&&Fa(t[0])&&Fa(t[1])?t.join(" ~ "):t}var rW=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var $={padding:0,margin:0},z=(u?n0(s,u):s).map((O,N)=>{if(O.type==="none")return null;var k=O.formatter||l||nW,{value:M,name:I}=O,D=M,R=I;if(k){var re=k(M,I,O,N,s);if(Array.isArray(re))[D,R]=re;else if(re!=null)D=re;else return null}var Z=y1({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:Z},Fa(R)?w.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Fa(R)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},D),w.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:$},z)}return null},S=y1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=y1({margin:0},i),A=!Wt(p),j=A?p:"",L=ft("recharts-default-tooltip",d),U=ft("recharts-tooltip-label",h);A&&g&&s!==void 0&&s!==null&&(j=g(p,s));var q=b?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Kw({className:L,style:S},q),w.createElement("p",{className:U,style:E},w.isValidElement(j)?j:"".concat(j)),_())},vf="recharts-tooltip-wrapper",iW={visibility:"hidden"};function aW(t){var{coordinate:e,translateX:n,translateY:r}=t;return ft(vf,{["".concat(vf,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(vf,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(vf,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(vf,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function SI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=t;if(s&&Oe(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=d[r];if(b==null)return 0;if(l[r]){var _=p,S=b;return _<S?Math.max(g,b):Math.max(p,b)}if(h==null)return 0;var E=g+u,A=b+h;return E>A?Math.max(p,b):Math.max(g,b)}function sW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=SI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=SI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=sW({translateX:p,translateY:g,useTranslate3d:u})):h=iW,{cssProperties:h,cssClasses:aW({translateX:p,translateY:g,coordinate:n})}}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Gw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gw(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=cW(t,"string");return typeof e=="symbol"?e:e+""}function cW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uW extends w.PureComponent{constructor(){super(...arguments),Gw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:g,useTranslate3d:b,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:A,hasPortalFromProps:j}=this.props,{cssClasses:L,cssProperties:U}=oW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:_}),q=j?{}:$p($p({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},U),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),$=$p($p({},q),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:$,ref:A},s)}}var F5=()=>{var t;return(t=Le(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){dW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dW(t,e,n){return(e=fW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fW(t){var e=hW(t,"string");return typeof e=="symbol"?e:e+""}function hW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI={curveBasisClosed:GF,curveBasisOpen:YF,curveBasis:KF,curveBumpX:PF,curveBumpY:RF,curveLinearClosed:WF,curveLinear:e0,curveMonotoneX:XF,curveMonotoneY:QF,curveNatural:JF,curveStep:ZF,curveStepAfter:tH,curveStepBefore:eH},nv=t=>Ut(t.x)&&Ut(t.y),jI=t=>t.base!=null&&nv(t.base)&&nv(t),yf=t=>t.x,bf=t=>t.y,mW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(kh(t));return(n==="curveMonotone"||n==="curveBump")&&e?NI["".concat(n).concat(e==="vertical"?"Y":"X")]:NI[n]||e0},pW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=mW(e,i),u=s?n.filter(nv):n,d;if(Array.isArray(r)){var h=n.map((_,S)=>TI(TI({},_),{},{base:r[S]}));i==="vertical"?d=Rp().y(bf).x1(yf).x0(_=>_.base.x):d=Rp().x(yf).y1(bf).y0(_=>_.base.y);var p=d.defined(jI).curve(l),g=s?h.filter(jI):h;return p(g)}i==="vertical"&&Oe(r)?d=Rp().y(bf).x1(yf).x0(r):Oe(r)?d=Rp().x(yf).y1(bf).y0(r):d=g4().x(yf).y(bf);var b=d.defined(nv).curve(l);return b(u)},Cu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=ml();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?pW(l):r;return w.createElement("path",Yw({},zr(t),RS(t),{className:ft("recharts-curve",e),d:u===null?void 0:u,ref:i}))},gW=["x","y","top","left","width","height","className"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){yW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yW(t,e,n){return(e=bW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bW(t){var e=xW(t,"string");return typeof e=="symbol"?e:e+""}function xW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wW(t,e){if(t==null)return{};var n,r,i=_W(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _W(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SW=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),EW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,d=wW(t,gW),h=vW({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Oe(e)||!Oe(n)||!Oe(s)||!Oe(l)||!Oe(r)||!Oe(i)?null:w.createElement("path",Ww({},Or(h),{className:ft("recharts-cross",u),d:SW(e,n,s,l,r,i)}))};function AW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){TW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TW(t,e,n){return(e=NW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NW(t){var e=jW(t,"string");return typeof e=="symbol"?e:e+""}function jW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),H5=(t,e,n)=>t.map(r=>"".concat(CW(r)," ").concat(e,"ms ").concat(n)).join(","),OW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),sh=(t,e)=>Object.keys(e).reduce((n,r)=>II(II({},n),{},{[r]:t(r,e[r])}),{});function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){IW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IW(t,e,n){return(e=PW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=RW(t,"string");return typeof e=="symbol"?e:e+""}function RW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=(t,e,n)=>t+(e-t)*n,Xw=t=>{var{from:e,to:n}=t;return e!==n},K5=(t,e,n)=>{var r=sh((i,s)=>{if(Xw(s)){var[l,u]=t(s.from,s.to,s.velocity);return Ln(Ln({},s),{},{from:l,velocity:u})}return s},e);return n<1?sh((i,s)=>Xw(s)&&r[i]!=null?Ln(Ln({},s),{},{velocity:rv(s.velocity,r[i].velocity,n),from:rv(s.from,r[i].from,n)}):s,e):K5(t,r,n-1)};function kW(t,e,n,r,i,s){var l,u=r.reduce((b,_)=>Ln(Ln({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>sh((b,_)=>_.from,u),h=()=>!Object.values(u).filter(Xw).length,p=null,g=b=>{l||(l=b);var _=b-l,S=_/n.dt;u=K5(n,u,S),i(Ln(Ln(Ln({},t),e),d())),l=b,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function MW(t,e,n,r,i,s,l){var u=null,d=i.reduce((g,b)=>{var _=t[b],S=e[b];return _==null||S==null?g:Ln(Ln({},g),{},{[b]:[_,S]})},{}),h,p=g=>{h||(h=g);var b=(g-h)/r,_=sh((E,A)=>rv(...A,n(b)),d);if(s(Ln(Ln(Ln({},t),e),_)),b<1)u=l.setTimeout(p);else{var S=sh((E,A)=>rv(...A,n(1)),d);s(Ln(Ln(Ln({},t),e),S))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const DW=(t,e,n,r,i,s)=>{var l=OW(t,e);return n==null?()=>(i(Ln(Ln({},t),e)),()=>{}):n.isStepper===!0?kW(t,e,n,l,i,s):MW(t,e,n,r,l,i,s)};var iv=1e-4,G5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Y5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),RI=(t,e)=>n=>{var r=G5(t,e);return Y5(r,n)},LW=(t,e)=>n=>{var r=G5(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return Y5(i,n)},zW=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},VW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=zW(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},UW=(t,e,n,r)=>{var i=RI(t,n),s=RI(e,r),l=LW(t,n),u=h=>h>1?1:h<0?0:h,d=h=>{for(var p=h>1?1:h,g=p,b=0;b<8;++b){var _=i(g)-p,S=l(g);if(Math.abs(_-p)<iv||S<iv)return s(g);g=u(g-_/S)}return s(g)};return d.isStepper=!1,d},kI=function(){return UW(...VW(...arguments))},$W=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,d)=>{var h=-(l-u)*n,p=d*r,g=d+(h-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<iv&&Math.abs(g)<iv?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},BW=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kI(t);case"spring":return $W();default:if(t.split("(")[0]==="cubic-bezier")return kI(t)}return typeof t=="function"?t:null};function qW(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){i=t.setTimeout(s.bind(null,h),d);return}s(d),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class FW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function HW(){return qW(new FW)}var KW=w.createContext(HW);function GW(t,e){var n=w.useContext(KW);return w.useMemo(()=>e??n(t),[t,e,n])}var YW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$h={isSsr:YW()},WW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MI={t:0},b1={t:1};function ad(t){var e=gn(t,WW),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=e,p=n==="auto"?!$h.isSsr:n,g=GW(e.animationId,e.animationManager),[b,_]=w.useState(p?MI:b1),S=w.useRef(null);return w.useEffect(()=>{p||_(b1)},[p]),w.useEffect(()=>{if(!p||!r)return Mh;var E=DW(MI,b1,BW(s),i,_,g.getTimeoutController()),A=()=>{S.current=E()};return g.start([d,l,A,i,u]),()=>{g.stop(),S.current&&S.current(),u()}},[p,r,i,s,l,d,u,g]),h(b.t)}function sd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Zf(e)),r=w.useRef(t);return r.current!==t&&(n.current=Zf(e),r.current=t),n.current}var XW=["radius"],QW=["radius"],DI,LI,zI,VI,UI,$I,BI,qI,FI,HI;function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){JW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JW(t,e,n){return(e=ZW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}function YI(t,e){if(t==null)return{};var n,r,i=tX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ia(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var WI=(t,e,n,r,i)=>{var s=Go(n),l=Go(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],_=0,S=4;_<S;_++)b[_]=i[_]>u?u:i[_];g=hn(DI||(DI=Ia(["M",",",""])),t,e+d*b[0]),b[0]>0&&(g+=hn(LI||(LI=Ia(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+h*b[0],e)),g+=hn(zI||(zI=Ia(["L ",",",""])),t+n-h*b[1],e),b[1]>0&&(g+=hn(VI||(VI=Ia(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),g+=hn(UI||(UI=Ia(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(g+=hn($I||($I=Ia(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-h*b[2],e+r)),g+=hn(BI||(BI=Ia(["L ",",",""])),t+h*b[3],e+r),b[3]>0&&(g+=hn(qI||(qI=Ia(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);g=hn(FI||(FI=Ia(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*E,E,E,p,t+h*E,e,t+n-h*E,e,E,E,p,t+n,e+d*E,t+n,e+r-d*E,E,E,p,t+n-h*E,e+r,t+h*E,e+r,E,E,p,t,e+r-d*E)}else g=hn(HI||(HI=Ia(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},XI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W5=t=>{var e=gn(t,XI),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:h,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=e,A=w.useRef(u),j=w.useRef(d),L=w.useRef(s),U=w.useRef(l),q=w.useMemo(()=>({x:s,y:l,width:u,height:d,radius:h}),[s,l,u,d,h]),$=sd(q,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var z=ft("recharts-rectangle",p);if(!E){var O=Or(e),{radius:N}=O,k=YI(O,XW);return w.createElement("path",av({},k,{x:Go(s),y:Go(l),width:Go(u),height:Go(d),radius:typeof h=="number"?h:void 0,className:z,d:WI(s,l,u,d,h)}))}var M=A.current,I=j.current,D=L.current,R=U.current,re="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),W=H5(["strokeDasharray"],b,typeof g=="string"?g:XI.animationEasing);return w.createElement(ad,{animationId:$,key:$,canBegin:r>0,duration:b,easing:g,isActive:E,begin:_},H=>{var te=_t(M,u,H),oe=_t(I,d,H),we=_t(D,s,H),V=_t(R,l,H);n.current&&(A.current=te,j.current=oe,L.current=we,U.current=V);var K;S?H>0?K={transition:W,strokeDasharray:Z}:K={strokeDasharray:re}:K={strokeDasharray:Z};var G=Or(e),{radius:Y}=G,ce=YI(G,QW);return w.createElement("path",av({},ce,{radius:typeof h=="number"?h:void 0,className:z,d:WI(we,V,te,oe,h),ref:n,style:GI(GI({},K),e.style)}))})};function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sv=Math.PI/180,aX=t=>t*180/Math.PI,Rn=(t,e,n,r)=>({x:t+Math.cos(-sv*r)*n,y:e+Math.sin(-sv*r)*n}),X5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},sX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},oX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=sX({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:aX(d),angleInRadian:d}},lX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},cX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},uX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=oX({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:h}=lX(e),p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?JI(JI({},e),{},{radius:i,angle:cX(p,e)}):null};function Q5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Rn(e,n,r,i),u=Rn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var ZI,eP,tP,nP,rP,iP,aP;function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function Kl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var dX=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Bp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/sv,g=d?i:i+s*p,b=Rn(e,n,h,g),_=Rn(e,n,r,g),S=d?i-s*p:i,E=Rn(e,n,h*Math.cos(p*sv),S);return{center:b,circleTangency:_,lineTangency:E,theta:p}},J5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=dX(s,l),d=s+u,h=Rn(e,n,i,s),p=Rn(e,n,i,d),g=hn(ZI||(ZI=Kl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>d),p.x,p.y);if(r>0){var b=Rn(e,n,r,s),_=Rn(e,n,r,d);g+=hn(eP||(eP=Kl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=d),b.x,b.y)}else g+=hn(tP||(tP=Kl(["L ",","," Z"])),e,n);return g},fX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=t,p=Zn(h-d),{circleTangency:g,lineTangency:b,theta:_}=Bp({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:A}=Bp({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-h):Math.abs(d-h)-_-A;if(j<0)return l?hn(nP||(nP=Kl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):J5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var L=hn(rP||(rP=Kl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(j>180),+(p<0),S.x,S.y,s,s,+(p<0),E.x,E.y);if(r>0){var{circleTangency:U,lineTangency:q,theta:$}=Bp({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:z,lineTangency:O,theta:N}=Bp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(d-h):Math.abs(d-h)-$-N;if(k<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+=hn(iP||(iP=Kl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,s,s,+(p<0),z.x,z.y,r,r,+(k>180),+(p>0),U.x,U.y,s,s,+(p<0),q.x,q.y)}else L+=hn(aP||(aP=Kl(["L",",","Z"])),e,n);return L},hX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Z5=t=>{var e=gn(t,hX),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var b=ft("recharts-sector",g),_=s-i,S=jr(l,_,0,!0),E;return S>0&&Math.abs(h-p)<360?E=fX({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):E=J5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",Qw({},Or(e),{className:b,d:E}))};function mX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(I4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,d=Rn(r,i,s,u),h=Rn(r,i,l,u);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return Q5(e)}}var x1={},w1={},_1={},sP;function pX(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(_1)),_1}var oP;function gX(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(w1)),w1}var lP;function vX(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=gX();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=l;return d}t.range=r})(x1)),x1}var S1,cP;function yX(){return cP||(cP=1,S1=vX().range),S1}var bX=yX();const e3=Hs(bX);function Zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YS(t){let e,n,r;t.length!==2?(e=Zo,n=(u,d)=>Zo(t(u),d),r=(u,d)=>t(u)-d):(e=t===Zo||t===xX?t:wX,n=t,r=t);function i(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<0?h=g+1:p=g}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,d,h=0,p=u.length){const g=i(u,d,h,p-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function wX(){return 0}function t3(t){return t===null?NaN:+t}function*_X(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const SX=YS(Zo),Bh=SX.right;YS(t3).center;class uP extends Map{constructor(e,n=TX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dP(this,e))}has(e){return super.has(dP(this,e))}set(e,n){return super.set(EX(this,e),n)}delete(e){return super.delete(AX(this,e))}}function dP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function EX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function AX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function TX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function NX(t=Zo){if(t===Zo)return n3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function n3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jX=Math.sqrt(50),CX=Math.sqrt(10),OX=Math.sqrt(2);function ov(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=jX?10:s>=CX?5:s>=OX?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=n&&n<2?ov(t,e,n*2):[u,d,h]}function Jw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?ov(e,t,n):ov(t,e,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function Zw(t,e,n){return e=+e,t=+t,n=+n,ov(t,e,n)[2]}function e_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Zw(e,t,n):Zw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function r3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?n3:NX(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(h-d/2<0?-1:1),_=Math.max(n,Math.floor(e-h*g/d+b)),S=Math.min(r,Math.floor(e+(d-h)*g/d+b));r3(t,e,_,S,i)}const s=t[e];let l=n,u=r;for(xf(t,n,e),i(t[r],s)>0&&xf(t,n,r);l<u;){for(xf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?xf(t,n,u):(++u,xf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function xf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function IX(t,e,n){if(t=Float64Array.from(_X(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hP(t);if(e>=1)return fP(t);var r,i=(r-1)*e,s=Math.floor(i),l=fP(r3(t,s).subarray(0,s+1)),u=hP(t.subarray(s+1));return l+(u-l)*(i-s)}}function PX(t,e,n=t3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function RX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const t_=Symbol("implicit");function WS(){var t=new uP,e=[],n=[],r=t_;function i(s){let l=t.get(s);if(l===void 0){if(r!==t_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new uP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WS(e,n).unknown(r)},Ki.apply(i,arguments),i}function XS(){var t=WS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,d=0,h=0,p=.5;delete t.unknown;function g(){var b=e().length,_=i<r,S=_?i:r,E=_?r:i;s=(E-S)/Math.max(1,b-d+h*2),u&&(s=Math.floor(s)),S+=(E-S-s*(b-d))*p,l=s*(1-d),u&&(S=Math.round(S),l=Math.round(l));var A=RX(b).map(function(j){return S+s*j});return n(_?A.reverse():A)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return XS(e(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},Ki.apply(g(),arguments)}function i3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return i3(e())},t}function kX(){return i3(XS.apply(null,arguments).paddingInner(1))}function QS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function a3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qh(){}var oh=.7,lv=1/oh,Ou="\\s*([+-]?\\d+)\\s*",lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MX=/^#([0-9a-f]{3,8})$/,DX=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),LX=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),zX=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${lh}\\)$`),VX=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${lh}\\)$`),UX=new RegExp(`^hsl\\(${lh},${Ba},${Ba}\\)$`),$X=new RegExp(`^hsla\\(${lh},${Ba},${Ba},${lh}\\)$`),mP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QS(qh,ch,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pP,formatHex:pP,formatHex8:BX,formatHsl:qX,formatRgb:gP,toString:gP});function pP(){return this.rgb().formatHex()}function BX(){return this.rgb().formatHex8()}function qX(){return s3(this).formatHsl()}function gP(){return this.rgb().formatRgb()}function ch(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=MX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vP(e):n===3?new Zr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DX.exec(t))?new Zr(e[1],e[2],e[3],1):(e=LX.exec(t))?new Zr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zX.exec(t))?qp(e[1],e[2],e[3],e[4]):(e=VX.exec(t))?qp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=UX.exec(t))?xP(e[1],e[2]/100,e[3]/100,1):(e=$X.exec(t))?xP(e[1],e[2]/100,e[3]/100,e[4]):mP.hasOwnProperty(t)?vP(mP[t]):t==="transparent"?new Zr(NaN,NaN,NaN,0):null}function vP(t){return new Zr(t>>16&255,t>>8&255,t&255,1)}function qp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zr(t,e,n,r)}function FX(t){return t instanceof qh||(t=ch(t)),t?(t=t.rgb(),new Zr(t.r,t.g,t.b,t.opacity)):new Zr}function n_(t,e,n,r){return arguments.length===1?FX(t):new Zr(t,e,n,r??1)}function Zr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}QS(Zr,n_,a3(qh,{brighter(t){return t=t==null?lv:Math.pow(lv,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oh:Math.pow(oh,t),new Zr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zr(Zl(this.r),Zl(this.g),Zl(this.b),cv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yP,formatHex:yP,formatHex8:HX,formatRgb:bP,toString:bP}));function yP(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function HX(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function bP(){const t=cv(this.opacity);return`${t===1?"rgb(":"rgba("}${Zl(this.r)}, ${Zl(this.g)}, ${Zl(this.b)}${t===1?")":`, ${t})`}`}function cv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=Zl(t),(t<16?"0":"")+t.toString(16)}function xP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,n,r)}function s3(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof qh||(t=ch(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new ia(l,u,d,t.opacity)}function KX(t,e,n,r){return arguments.length===1?s3(t):new ia(t,e,n,r??1)}function ia(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}QS(ia,KX,a3(qh,{brighter(t){return t=t==null?lv:Math.pow(lv,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oh:Math.pow(oh,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zr(E1(t>=240?t-240:t+120,i,r),E1(t,i,r),E1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ia(wP(this.h),Fp(this.s),Fp(this.l),cv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cv(this.opacity);return`${t===1?"hsl(":"hsla("}${wP(this.h)}, ${Fp(this.s)*100}%, ${Fp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wP(t){return t=(t||0)%360,t<0?t+360:t}function Fp(t){return Math.max(0,Math.min(1,t||0))}function E1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const JS=t=>()=>t;function GX(t,e){return function(n){return t+n*e}}function YX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function WX(t){return(t=+t)==1?o3:function(e,n){return n-e?YX(e,n,t):JS(isNaN(e)?n:e)}}function o3(t,e){var n=e-t;return n?GX(t,n):JS(isNaN(t)?e:t)}const _P=(function t(e){var n=WX(e);function r(i,s){var l=n((i=n_(i)).r,(s=n_(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),h=o3(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function XX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function QX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=od(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function ZX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function uv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function eQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=od(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var r_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A1=new RegExp(r_.source,"g");function tQ(t){return function(){return t}}function nQ(t){return function(e){return t(e)+""}}function rQ(t,e){var n=r_.lastIndex=A1.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=r_.exec(t))&&(i=A1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:uv(r,i)})),n=A1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?nQ(d[0].x):tQ(e):(e=d.length,function(h){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(h);return u.join("")})}function od(t,e){var n=typeof e,r;return e==null||n==="boolean"?JS(e):(n==="number"?uv:n==="string"?(r=ch(e))?(e=r,_P):rQ:e instanceof ch?_P:e instanceof Date?ZX:QX(e)?XX:Array.isArray(e)?JX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eQ:uv)(t,e)}function ZS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function iQ(t,e){e===void 0&&(e=t,t=od);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function aQ(t){return function(){return t}}function dv(t){return+t}var SP=[0,1];function Dr(t){return t}function i_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:aQ(isNaN(e)?NaN:.5)}function sQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function oQ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=i_(i,r),s=n(l,s)):(r=i_(r,i),s=n(s,l)),function(u){return s(r(u))}}function lQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=i_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var d=Bh(t,u,1,r)-1;return s[d](i[d](u))}}function Fh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function S0(){var t=SP,e=SP,n=od,r,i,s,l=Dr,u,d,h;function p(){var b=Math.min(t.length,e.length);return l!==Dr&&(l=sQ(t[0],t[b-1])),u=b>2?lQ:oQ,d=h=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((h||(h=u(e,t.map(r),uv)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,dv),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=ZS,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Dr,p()):l!==Dr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,_){return r=b,i=_,p()}}function eE(){return S0()(Dr,Dr)}function cQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qu(t){return t=fv(Math.abs(t)),t?t[1]:NaN}function uQ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function dQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uh(t){if(!(e=fQ.exec(t)))throw new Error("invalid format: "+t);var e;return new tE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uh.prototype=tE.prototype;function tE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var l3;function mQ(t,e){var n=fv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(l3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+fv(t,Math.max(0,e+s-1))[0]}function EP(t,e){var n=fv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const AP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EP(t*100,e),r:EP,s:mQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TP(t){return t}var NP=Array.prototype.map,jP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pQ(t){var e=t.grouping===void 0||t.thousands===void 0?TP:uQ(NP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?TP:dQ(NP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(g){g=uh(g);var b=g.fill,_=g.align,S=g.sign,E=g.symbol,A=g.zero,j=g.width,L=g.comma,U=g.precision,q=g.trim,$=g.type;$==="n"?(L=!0,$="g"):AP[$]||(U===void 0&&(U=12),q=!0,$="g"),(A||b==="0"&&_==="=")&&(A=!0,b="0",_="=");var z=E==="$"?n:E==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",O=E==="$"?r:/[%p]/.test($)?l:"",N=AP[$],k=/[defgprs%]/.test($);U=U===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function M(I){var D=z,R=O,re,Z,W;if($==="c")R=N(I)+R,I="";else{I=+I;var H=I<0||1/I<0;if(I=isNaN(I)?d:N(Math.abs(I),U),q&&(I=hQ(I)),H&&+I==0&&S!=="+"&&(H=!1),D=(H?S==="("?S:u:S==="-"||S==="("?"":S)+D,R=($==="s"?jP[8+l3/3]:"")+R+(H&&S==="("?")":""),k){for(re=-1,Z=I.length;++re<Z;)if(W=I.charCodeAt(re),48>W||W>57){R=(W===46?i+I.slice(re+1):I.slice(re))+R,I=I.slice(0,re);break}}}L&&!A&&(I=e(I,1/0));var te=D.length+I.length+R.length,oe=te<j?new Array(j-te+1).join(b):"";switch(L&&A&&(I=e(oe+I,oe.length?j-R.length:1/0),oe=""),_){case"<":I=D+I+R+oe;break;case"=":I=D+oe+I+R;break;case"^":I=oe.slice(0,te=oe.length>>1)+D+I+R+oe.slice(te);break;default:I=oe+D+I+R;break}return s(I)}return M.toString=function(){return g+""},M}function p(g,b){var _=h((g=uh(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(qu(b)/3)))*3,E=Math.pow(10,-S),A=jP[8+S/3];return function(j){return _(E*j)+A}}return{format:h,formatPrefix:p}}var Hp,nE,c3;gQ({thousands:",",grouping:[3],currency:["$",""]});function gQ(t){return Hp=pQ(t),nE=Hp.format,c3=Hp.formatPrefix,Hp}function vQ(t){return Math.max(0,-qu(Math.abs(t)))}function yQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qu(e)/3)))*3-qu(Math.abs(t)))}function bQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qu(e)-qu(t))+1}function u3(t,e,n,r){var i=e_(t,e,n),s;switch(r=uh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=yQ(i,l))&&(r.precision=s),c3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=bQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=vQ(i))&&(r.precision=s-(r.type==="%")*2);break}}return nE(r)}function pl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Jw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return u3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=Zw(l,u,n),h===d)return r[i]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function d3(){var t=eE();return t.copy=function(){return Fh(t,d3())},Ki.apply(t,arguments),pl(t)}function f3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,dv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return f3(t).unknown(e)},t=arguments.length?Array.from(t,dv):[0,1],pl(n)}function h3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function CP(t){return Math.log(t)}function OP(t){return Math.exp(t)}function xQ(t){return-Math.log(-t)}function wQ(t){return-Math.exp(-t)}function _Q(t){return isFinite(t)?+("1e"+t):t<0?0:t}function SQ(t){return t===10?_Q:t===Math.E?Math.exp:e=>Math.pow(t,e)}function EQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IP(t){return(e,n)=>-t(-e,n)}function rE(t){const e=t(CP,OP),n=e.domain;let r=10,i,s;function l(){return i=EQ(r),s=SQ(r),n()[0]<0?(i=IP(i),s=IP(s),t(xQ,wQ)):t(CP,OP),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const g=p<h;g&&([h,p]=[p,h]);let b=i(h),_=i(p),S,E;const A=u==null?10:+u;let j=[];if(!(r%1)&&_-b<A){if(b=Math.floor(b),_=Math.ceil(_),h>0){for(;b<=_;++b)for(S=1;S<r;++S)if(E=b<0?S/s(-b):S*s(b),!(E<h)){if(E>p)break;j.push(E)}}else for(;b<=_;++b)for(S=r-1;S>=1;--S)if(E=b>0?S/s(-b):S*s(b),!(E<h)){if(E>p)break;j.push(E)}j.length*2<A&&(j=Jw(h,p,A))}else j=Jw(b,_,Math.min(_-b,A)).map(s);return g?j.reverse():j},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=uh(d)).precision==null&&(d.trim=!0),d=nE(d)),u===1/0)return d;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?d(p):""}},e.nice=()=>n(h3(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function m3(){const t=rE(S0()).domain([1,10]);return t.copy=()=>Fh(t,m3()).base(t.base()),Ki.apply(t,arguments),t}function PP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function RP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iE(t){var e=1,n=t(PP(e),RP(e));return n.constant=function(r){return arguments.length?t(PP(e=+r),RP(e)):e},pl(n)}function p3(){var t=iE(S0());return t.copy=function(){return Fh(t,p3()).constant(t.constant())},Ki.apply(t,arguments)}function kP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function AQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TQ(t){return t<0?-t*t:t*t}function aE(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(AQ,TQ):t(kP(n),kP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pl(e)}function sE(){var t=aE(S0());return t.copy=function(){return Fh(t,sE()).exponent(t.exponent())},Ki.apply(t,arguments),t}function NQ(){return sE.apply(null,arguments).exponent(.5)}function MP(t){return Math.sign(t)*t*t}function jQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function g3(){var t=eE(),e=[0,1],n=!1,r;function i(s){var l=jQ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(MP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,dv)).map(MP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return g3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ki.apply(i,arguments),pl(i)}function v3(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=PX(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Bh(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Zo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return v3().domain(t).range(e).unknown(r)},Ki.apply(s,arguments)}function y3(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Bh(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return y3().domain([t,e]).range(i).unknown(s)},Ki.apply(pl(l),arguments)}function b3(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Bh(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return b3().domain(t).range(e).unknown(n)},Ki.apply(i,arguments)}const T1=new Date,N1=new Date;function Bn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return d},i.filter=s=>Bn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(T1.setTime(+s),N1.setTime(+l),t(T1),t(N1),Math.floor(n(T1,N1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const hv=Bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hv);hv.range;const Es=1e3,$i=Es*60,As=$i*60,Vs=As*24,oE=Vs*7,DP=Vs*30,j1=Vs*365,Yl=Bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCSeconds());Yl.range;const lE=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getMinutes());lE.range;const cE=Bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCMinutes());cE.range;const uE=Bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es-t.getMinutes()*$i)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getHours());uE.range;const dE=Bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCHours());dE.range;const Hh=Bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$i)/Vs,t=>t.getDate()-1);Hh.range;const E0=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>t.getUTCDate()-1);E0.range;const x3=Bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>Math.floor(t/Vs));x3.range;function _c(t){return Bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*$i)/oE)}const A0=_c(0),mv=_c(1),CQ=_c(2),OQ=_c(3),Fu=_c(4),IQ=_c(5),PQ=_c(6);A0.range;mv.range;CQ.range;OQ.range;Fu.range;IQ.range;PQ.range;function Sc(t){return Bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/oE)}const T0=Sc(0),pv=Sc(1),RQ=Sc(2),kQ=Sc(3),Hu=Sc(4),MQ=Sc(5),DQ=Sc(6);T0.range;pv.range;RQ.range;kQ.range;Hu.range;MQ.range;DQ.range;const fE=Bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fE.range;const hE=Bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hE.range;const Us=Bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Us.range;const $s=Bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});$s.range;function w3(t,e,n,r,i,s){const l=[[Yl,1,Es],[Yl,5,5*Es],[Yl,15,15*Es],[Yl,30,30*Es],[s,1,$i],[s,5,5*$i],[s,15,15*$i],[s,30,30*$i],[i,1,As],[i,3,3*As],[i,6,6*As],[i,12,12*As],[r,1,Vs],[r,2,2*Vs],[n,1,oE],[e,1,DP],[e,3,3*DP],[t,1,j1]];function u(h,p,g){const b=p<h;b&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:d(h,p,g),S=_?_.range(h,+p+1):[];return b?S.reverse():S}function d(h,p,g){const b=Math.abs(p-h)/g,_=YS(([,,A])=>A).right(l,b);if(_===l.length)return t.every(e_(h/j1,p/j1,g));if(_===0)return hv.every(Math.max(e_(h,p,g),1));const[S,E]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return S.every(E)}return[u,d]}const[LQ,zQ]=w3($s,hE,T0,x3,dE,cE),[VQ,UQ]=w3(Us,fE,A0,Hh,uE,lE);function C1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function O1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $Q(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=_f(i),p=Sf(i),g=_f(s),b=Sf(s),_=_f(l),S=Sf(l),E=_f(u),A=Sf(u),j=_f(d),L=Sf(d),U={a:H,A:te,b:oe,B:we,c:null,d:BP,e:BP,f:uJ,g:xJ,G:_J,H:oJ,I:lJ,j:cJ,L:_3,m:dJ,M:fJ,p:V,q:K,Q:HP,s:KP,S:hJ,u:mJ,U:pJ,V:gJ,w:vJ,W:yJ,x:null,X:null,y:bJ,Y:wJ,Z:SJ,"%":FP},q={a:G,A:Y,b:ce,B:ye,c:null,d:qP,e:qP,f:NJ,g:LJ,G:VJ,H:EJ,I:AJ,j:TJ,L:E3,m:jJ,M:CJ,p:he,q:Pe,Q:HP,s:KP,S:OJ,u:IJ,U:PJ,V:RJ,w:kJ,W:MJ,x:null,X:null,y:DJ,Y:zJ,Z:UJ,"%":FP},$={a:M,A:I,b:D,B:R,c:re,d:UP,e:UP,f:rJ,g:VP,G:zP,H:$P,I:$P,j:ZQ,L:nJ,m:JQ,M:eJ,p:k,q:QQ,Q:aJ,s:sJ,S:tJ,u:KQ,U:GQ,V:YQ,w:HQ,W:WQ,x:Z,X:W,y:VP,Y:zP,Z:XQ,"%":iJ};U.x=z(n,U),U.X=z(r,U),U.c=z(e,U),q.x=z(n,q),q.X=z(r,q),q.c=z(e,q);function z(ie,Se){return function(Ae){var J=[],Ve=-1,ze=0,Ge=ie.length,wt,cn,nr;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ve<Ge;)ie.charCodeAt(Ve)===37&&(J.push(ie.slice(ze,Ve)),(cn=LP[wt=ie.charAt(++Ve)])!=null?wt=ie.charAt(++Ve):cn=wt==="e"?" ":"0",(nr=Se[wt])&&(wt=nr(Ae,cn)),J.push(wt),ze=Ve+1);return J.push(ie.slice(ze,Ve)),J.join("")}}function O(ie,Se){return function(Ae){var J=wf(1900,void 0,1),Ve=N(J,ie,Ae+="",0),ze,Ge;if(Ve!=Ae.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Se&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(ze=O1(wf(J.y,0,1)),Ge=ze.getUTCDay(),ze=Ge>4||Ge===0?pv.ceil(ze):pv(ze),ze=E0.offset(ze,(J.V-1)*7),J.y=ze.getUTCFullYear(),J.m=ze.getUTCMonth(),J.d=ze.getUTCDate()+(J.w+6)%7):(ze=C1(wf(J.y,0,1)),Ge=ze.getDay(),ze=Ge>4||Ge===0?mv.ceil(ze):mv(ze),ze=Hh.offset(ze,(J.V-1)*7),J.y=ze.getFullYear(),J.m=ze.getMonth(),J.d=ze.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Ge="Z"in J?O1(wf(J.y,0,1)).getUTCDay():C1(wf(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Ge+5)%7:J.w+J.U*7-(Ge+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,O1(J)):C1(J)}}function N(ie,Se,Ae,J){for(var Ve=0,ze=Se.length,Ge=Ae.length,wt,cn;Ve<ze;){if(J>=Ge)return-1;if(wt=Se.charCodeAt(Ve++),wt===37){if(wt=Se.charAt(Ve++),cn=$[wt in LP?Se.charAt(Ve++):wt],!cn||(J=cn(ie,Ae,J))<0)return-1}else if(wt!=Ae.charCodeAt(J++))return-1}return J}function k(ie,Se,Ae){var J=h.exec(Se.slice(Ae));return J?(ie.p=p.get(J[0].toLowerCase()),Ae+J[0].length):-1}function M(ie,Se,Ae){var J=_.exec(Se.slice(Ae));return J?(ie.w=S.get(J[0].toLowerCase()),Ae+J[0].length):-1}function I(ie,Se,Ae){var J=g.exec(Se.slice(Ae));return J?(ie.w=b.get(J[0].toLowerCase()),Ae+J[0].length):-1}function D(ie,Se,Ae){var J=j.exec(Se.slice(Ae));return J?(ie.m=L.get(J[0].toLowerCase()),Ae+J[0].length):-1}function R(ie,Se,Ae){var J=E.exec(Se.slice(Ae));return J?(ie.m=A.get(J[0].toLowerCase()),Ae+J[0].length):-1}function re(ie,Se,Ae){return N(ie,e,Se,Ae)}function Z(ie,Se,Ae){return N(ie,n,Se,Ae)}function W(ie,Se,Ae){return N(ie,r,Se,Ae)}function H(ie){return l[ie.getDay()]}function te(ie){return s[ie.getDay()]}function oe(ie){return d[ie.getMonth()]}function we(ie){return u[ie.getMonth()]}function V(ie){return i[+(ie.getHours()>=12)]}function K(ie){return 1+~~(ie.getMonth()/3)}function G(ie){return l[ie.getUTCDay()]}function Y(ie){return s[ie.getUTCDay()]}function ce(ie){return d[ie.getUTCMonth()]}function ye(ie){return u[ie.getUTCMonth()]}function he(ie){return i[+(ie.getUTCHours()>=12)]}function Pe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Se=z(ie+="",U);return Se.toString=function(){return ie},Se},parse:function(ie){var Se=O(ie+="",!1);return Se.toString=function(){return ie},Se},utcFormat:function(ie){var Se=z(ie+="",q);return Se.toString=function(){return ie},Se},utcParse:function(ie){var Se=O(ie+="",!0);return Se.toString=function(){return ie},Se}}}var LP={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,BQ=/^%/,qQ=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function FQ(t){return t.replace(qQ,"\\$&")}function _f(t){return new RegExp("^(?:"+t.map(FQ).join("|")+")","i")}function Sf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function HQ(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function KQ(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function GQ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function YQ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function WQ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zP(t,e,n){var r=tr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function VP(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function XQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function QQ(t,e,n){var r=tr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function JQ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function UP(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ZQ(t,e,n){var r=tr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $P(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eJ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tJ(t,e,n){var r=tr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nJ(t,e,n){var r=tr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rJ(t,e,n){var r=tr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iJ(t,e,n){var r=BQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function aJ(t,e,n){var r=tr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function sJ(t,e,n){var r=tr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function BP(t,e){return gt(t.getDate(),e,2)}function oJ(t,e){return gt(t.getHours(),e,2)}function lJ(t,e){return gt(t.getHours()%12||12,e,2)}function cJ(t,e){return gt(1+Hh.count(Us(t),t),e,3)}function _3(t,e){return gt(t.getMilliseconds(),e,3)}function uJ(t,e){return _3(t,e)+"000"}function dJ(t,e){return gt(t.getMonth()+1,e,2)}function fJ(t,e){return gt(t.getMinutes(),e,2)}function hJ(t,e){return gt(t.getSeconds(),e,2)}function mJ(t){var e=t.getDay();return e===0?7:e}function pJ(t,e){return gt(A0.count(Us(t)-1,t),e,2)}function S3(t){var e=t.getDay();return e>=4||e===0?Fu(t):Fu.ceil(t)}function gJ(t,e){return t=S3(t),gt(Fu.count(Us(t),t)+(Us(t).getDay()===4),e,2)}function vJ(t){return t.getDay()}function yJ(t,e){return gt(mv.count(Us(t)-1,t),e,2)}function bJ(t,e){return gt(t.getFullYear()%100,e,2)}function xJ(t,e){return t=S3(t),gt(t.getFullYear()%100,e,2)}function wJ(t,e){return gt(t.getFullYear()%1e4,e,4)}function _J(t,e){var n=t.getDay();return t=n>=4||n===0?Fu(t):Fu.ceil(t),gt(t.getFullYear()%1e4,e,4)}function SJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function qP(t,e){return gt(t.getUTCDate(),e,2)}function EJ(t,e){return gt(t.getUTCHours(),e,2)}function AJ(t,e){return gt(t.getUTCHours()%12||12,e,2)}function TJ(t,e){return gt(1+E0.count($s(t),t),e,3)}function E3(t,e){return gt(t.getUTCMilliseconds(),e,3)}function NJ(t,e){return E3(t,e)+"000"}function jJ(t,e){return gt(t.getUTCMonth()+1,e,2)}function CJ(t,e){return gt(t.getUTCMinutes(),e,2)}function OJ(t,e){return gt(t.getUTCSeconds(),e,2)}function IJ(t){var e=t.getUTCDay();return e===0?7:e}function PJ(t,e){return gt(T0.count($s(t)-1,t),e,2)}function A3(t){var e=t.getUTCDay();return e>=4||e===0?Hu(t):Hu.ceil(t)}function RJ(t,e){return t=A3(t),gt(Hu.count($s(t),t)+($s(t).getUTCDay()===4),e,2)}function kJ(t){return t.getUTCDay()}function MJ(t,e){return gt(pv.count($s(t)-1,t),e,2)}function DJ(t,e){return gt(t.getUTCFullYear()%100,e,2)}function LJ(t,e){return t=A3(t),gt(t.getUTCFullYear()%100,e,2)}function zJ(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function VJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hu(t):Hu.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function UJ(){return"+0000"}function FP(){return"%"}function HP(t){return+t}function KP(t){return Math.floor(+t/1e3)}var du,T3,N3;$J({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $J(t){return du=$Q(t),T3=du.format,du.parse,N3=du.utcFormat,du.utcParse,du}function BJ(t){return new Date(t)}function qJ(t){return t instanceof Date?+t:+new Date(+t)}function mE(t,e,n,r,i,s,l,u,d,h){var p=eE(),g=p.invert,b=p.domain,_=h(".%L"),S=h(":%S"),E=h("%I:%M"),A=h("%I %p"),j=h("%a %d"),L=h("%b %d"),U=h("%B"),q=h("%Y");function $(z){return(d(z)<z?_:u(z)<z?S:l(z)<z?E:s(z)<z?A:r(z)<z?i(z)<z?j:L:n(z)<z?U:q)(z)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?b(Array.from(z,qJ)):b().map(BJ)},p.ticks=function(z){var O=b();return t(O[0],O[O.length-1],z??10)},p.tickFormat=function(z,O){return O==null?$:h(O)},p.nice=function(z){var O=b();return(!z||typeof z.range!="function")&&(z=e(O[0],O[O.length-1],z??10)),z?b(h3(O,z)):p},p.copy=function(){return Fh(p,mE(t,e,n,r,i,s,l,u,d,h))},p}function FJ(){return Ki.apply(mE(VQ,UQ,Us,fE,A0,Hh,uE,lE,Yl,T3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HJ(){return Ki.apply(mE(LQ,zQ,$s,hE,T0,E0,dE,cE,Yl,N3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N0(){var t=0,e=1,n,r,i,s,l=Dr,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(b){var _,S;return arguments.length?([_,S]=b,l=g(_,S),h):[l(0),l(1)]}}return h.range=p(od),h.rangeRound=p(ZS),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function gl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function j3(){var t=pl(N0()(Dr));return t.copy=function(){return gl(t,j3())},Qs.apply(t,arguments)}function C3(){var t=rE(N0()).domain([1,10]);return t.copy=function(){return gl(t,C3()).base(t.base())},Qs.apply(t,arguments)}function O3(){var t=iE(N0());return t.copy=function(){return gl(t,O3()).constant(t.constant())},Qs.apply(t,arguments)}function pE(){var t=aE(N0());return t.copy=function(){return gl(t,pE()).exponent(t.exponent())},Qs.apply(t,arguments)}function KJ(){return pE.apply(null,arguments).exponent(.5)}function I3(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>IX(t,s/r))},n.copy=function(){return I3(e).domain(t)},Qs.apply(n,arguments)}function j0(){var t=0,e=.5,n=1,r=1,i,s,l,u,d,h=Dr,p,g=!1,b;function _(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-s)*(r*E<r*s?u:d),h(g?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(g=!!E,_):g},_.interpolator=function(E){return arguments.length?(h=E,_):h};function S(E){return function(A){var j,L,U;return arguments.length?([j,L,U]=A,h=iQ(E,[j,L,U]),_):[h(0),h(.5),h(1)]}}return _.range=S(od),_.rangeRound=S(ZS),_.unknown=function(E){return arguments.length?(b=E,_):b},function(E){return p=E,i=E(t),s=E(e),l=E(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function P3(){var t=pl(j0()(Dr));return t.copy=function(){return gl(t,P3())},Qs.apply(t,arguments)}function R3(){var t=rE(j0()).domain([.1,1,10]);return t.copy=function(){return gl(t,R3()).base(t.base())},Qs.apply(t,arguments)}function k3(){var t=iE(j0());return t.copy=function(){return gl(t,k3()).constant(t.constant())},Qs.apply(t,arguments)}function gE(){var t=aE(j0());return t.copy=function(){return gl(t,gE()).exponent(t.exponent())},Qs.apply(t,arguments)}function GJ(){return gE.apply(null,arguments).exponent(.5)}const If=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:XS,scaleDiverging:P3,scaleDivergingLog:R3,scaleDivergingPow:gE,scaleDivergingSqrt:GJ,scaleDivergingSymlog:k3,scaleIdentity:f3,scaleImplicit:t_,scaleLinear:d3,scaleLog:m3,scaleOrdinal:WS,scalePoint:kX,scalePow:sE,scaleQuantile:v3,scaleQuantize:y3,scaleRadial:g3,scaleSequential:j3,scaleSequentialLog:C3,scaleSequentialPow:pE,scaleSequentialQuantile:I3,scaleSequentialSqrt:KJ,scaleSequentialSymlog:O3,scaleSqrt:NQ,scaleSymlog:p3,scaleThreshold:b3,scaleTime:FJ,scaleUtc:HJ,tickFormat:u3},Symbol.toStringTag,{value:"Module"}));var Js=t=>t.chartData,C0=se([Js],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),vE=(t,e,n,r)=>r?C0(t):Js(t),M3=(t,e,n)=>n?C0(t):Js(t);function ol(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ut(e)&&Ut(n))return!0}return!1}function GP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function D3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Ut(n))i=n;else if(typeof n=="function")return;if(Ut(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(ol(l))return l}}function YJ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ol(r))return GP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Oe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&iI.test(i)){var d=iI.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Oe(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&aI.test(s)){var p=aI.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(ol(b))return e==null?b:GP(b,e,n)}}}var ld=1e9,WJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bE,tn=!0,Hi="[DecimalError] ",ec=Hi+"Invalid argument: ",yE=Hi+"Exponent out of range: ",cd=Math.floor,Fl=Math.pow,XJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pi,Jn=1e7,Yt=7,L3=9007199254740991,gv=cd(L3/Yt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Cs(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return Vt(Cs(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return kn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pi))throw Error(Hi+"NaN");if(n.s<1)throw Error(Hi+(n.s?"NaN":"-Infinity"));return n.eq(pi)?new r(0):(tn=!1,e=Cs(dh(n,s),dh(t,s),s),tn=!0,Vt(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?U3(e,t):z3(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Hi+"NaN");return n.s?(tn=!1,e=Cs(n,t,0,1).times(t),tn=!0,n.minus(e)):Vt(new r(n),i)};Me.naturalExponential=Me.exp=function(){return V3(this)};Me.naturalLogarithm=Me.ln=function(){return dh(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z3(e,t):U3(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ec+t);if(e=kn(i)+1,r=i.d.length-1,n=r*Yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Hi+"NaN")}for(t=kn(u),tn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ma(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Cs(u,s,l+2)).times(.5),Ma(s.d).slice(0,l)===(e=Ma(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Vt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return tn=!0,Vt(r,n)};Me.times=Me.mul=function(t){var e,n,r,i,s,l,u,d,h,p=this,g=p.constructor,b=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,h=_.length,d<h&&(s=b,b=_,_=s,l=d,d=h,h=l),s=[],l=d+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)u=s[i]+_[r]*b[i-r-1]+e,s[i--]=u%Jn|0,e=u/Jn|0;s[i]=(s[i]+e)%Jn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,tn?Vt(t,g.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ka(t,0,ld),e===void 0?e=r.rounding:Ka(e,0,8),Vt(n,t+kn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=pc(r,!0):(Ka(t,0,ld),e===void 0?e=i.rounding:Ka(e,0,8),r=Vt(new i(r),t+1,e),n=pc(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?pc(i):(Ka(t,0,ld),e===void 0?e=s.rounding:Ka(e,0,8),r=Vt(new s(i),t+kn(i)+1,e),n=pc(r.abs(),!1,t+kn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),kn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,i,s,l,u=this,d=u.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(pi);if(u=new d(u),!u.s){if(t.s<1)throw Error(Hi+"Infinity");return u}if(u.eq(pi))return u;if(r=d.precision,t.eq(pi))return Vt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=L3){for(i=new d(pi),e=Math.ceil(r/Yt+4),tn=!1;n%2&&(i=i.times(u),WP(i.d,e)),n=cd(n/2),n!==0;)u=u.times(u),WP(u.d,e);return tn=!0,t.s<0?new d(pi).div(i):Vt(i,r)}}else if(s<0)throw Error(Hi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,tn=!1,i=t.times(dh(u,r+h)),tn=!0,i=V3(i),i.s=s,i};Me.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=kn(i),r=pc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ka(t,1,ld),e===void 0?e=s.rounding:Ka(e,0,8),i=Vt(new s(i),t,e),n=kn(i),r=pc(i,t<=n||n<=s.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ka(t,1,ld),e===void 0?e=r.rounding:Ka(e,0,8)),Vt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kn(t),n=t.constructor;return pc(t,e<=n.toExpNeg||e>=n.toExpPos)};function z3(t,e){var n,r,i,s,l,u,d,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),tn?Vt(e,g):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=h.length):(r=h,i=l,u=d.length),l=Math.ceil(g/Yt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/Jn|0,d[s]%=Jn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,tn?Vt(e,g):e}function Ka(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ec+t)}function Ma(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Yt-r.length,n&&(s+=Vo(n)),s+=r;l=t[e],r=l+"",n=Yt-r.length,n&&(s+=Vo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Cs=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Jn|0,l=s/Jn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Jn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,h,p,g,b,_,S,E,A,j,L,U,q,$,z,O,N,k=r.constructor,M=r.s==i.s?1:-1,I=r.d,D=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Hi+"Division by zero");for(d=r.e-i.e,O=D.length,$=I.length,_=new k(M),S=_.d=[],h=0;D[h]==(I[h]||0);)++h;if(D[h]>(I[h]||0)&&--d,s==null?L=s=k.precision:l?L=s+(kn(r)-kn(i))+1:L=s,L<0)return new k(0);if(L=L/Yt+2|0,h=0,O==1)for(p=0,D=D[0],L++;(h<$||p)&&L--;h++)U=p*Jn+(I[h]||0),S[h]=U/D|0,p=U%D|0;else{for(p=Jn/(D[0]+1)|0,p>1&&(D=t(D,p),I=t(I,p),O=D.length,$=I.length),q=O,E=I.slice(0,O),A=E.length;A<O;)E[A++]=0;N=D.slice(),N.unshift(0),z=D[0],D[1]>=Jn/2&&++z;do p=0,u=e(D,E,O,A),u<0?(j=E[0],O!=A&&(j=j*Jn+(E[1]||0)),p=j/z|0,p>1?(p>=Jn&&(p=Jn-1),g=t(D,p),b=g.length,A=E.length,u=e(g,E,b,A),u==1&&(p--,n(g,O<b?N:D,b))):(p==0&&(u=p=1),g=D.slice()),b=g.length,b<A&&g.unshift(0),n(E,g,A),u==-1&&(A=E.length,u=e(D,E,O,A),u<1&&(p++,n(E,O<A?N:D,A))),A=E.length):u===0&&(p++,E=[0]),S[h++]=p,u&&E[0]?E[A++]=I[q]||0:(E=[I[q]],A=1);while((q++<$||E[0]!==void 0)&&L--)}return S[0]||S.shift(),_.e=d,Vt(_,l?s+kn(_)+1:s)}})();function V3(t,e){var n,r,i,s,l,u,d=0,h=0,p=t.constructor,g=p.precision;if(kn(t)>16)throw Error(yE+kn(t));if(!t.s)return new p(pi);for(tn=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Fl(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(pi),p.precision=u;;){if(i=Vt(i.times(t),u),n=n.times(++d),l=s.plus(Cs(i,n,u)),Ma(l.d).slice(0,u)===Ma(s.d).slice(0,u)){for(;h--;)s=Vt(s.times(s),u);return p.precision=g,e==null?(tn=!0,Vt(s,g)):s}s=l}}function kn(t){for(var e=t.e*Yt,n=t.d[0];n>=10;n/=10)e++;return e}function I1(t,e,n){if(e>t.LN10.sd())throw tn=!0,n&&(t.precision=n),Error(Hi+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function Vo(t){for(var e="";t--;)e+="0";return e}function dh(t,e){var n,r,i,s,l,u,d,h,p,g=1,b=10,_=t,S=_.d,E=_.constructor,A=E.precision;if(_.s<1)throw Error(Hi+(_.s?"NaN":"-Infinity"));if(_.eq(pi))return new E(0);if(e==null?(tn=!1,h=A):h=e,_.eq(10))return e==null&&(tn=!0),I1(E,h);if(h+=b,E.precision=h,n=Ma(S),r=n.charAt(0),s=kn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Ma(_.d),r=n.charAt(0),g++;s=kn(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return d=I1(E,h+2,A).times(s+""),_=dh(new E(r+"."+n.slice(1)),h-b).plus(d),E.precision=A,e==null?(tn=!0,Vt(_,A)):_;for(u=l=_=Cs(_.minus(pi),_.plus(pi),h),p=Vt(_.times(_),h),i=3;;){if(l=Vt(l.times(p),h),d=u.plus(Cs(l,new E(i),h)),Ma(d.d).slice(0,h)===Ma(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(I1(E,h+2,A).times(s+""))),u=Cs(u,new E(g),h),E.precision=A,e==null?(tn=!0,Vt(u,A)):u;u=d,i+=2}}function YP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cd(n/Yt),t.d=[],r=(n+1)%Yt,n<0&&(r+=Yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yt;r<i;)t.d.push(+e.slice(r,r+=Yt));e=e.slice(r),r=Yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tn&&(t.e>gv||t.e<-gv))throw Error(yE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,s,l,u,d,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Yt,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Yt),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=Yt,i=r-Yt+l}if(n!==void 0&&(s=Fl(10,l-i-1),u=h/s%10|0,d=e<0||g[p+1]!==void 0||h%s,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/Fl(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(s=kn(t),g.length=1,e=e-s-1,g[0]=Fl(10,(Yt-e%Yt)%Yt),t.e=cd(-e/Yt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Fl(10,Yt-r),g[p]=i>0?(h/Fl(10,l-i)%Fl(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==Jn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Jn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(tn&&(t.e>gv||t.e<-gv))throw Error(yE+kn(t));return t}function U3(t,e){var n,r,i,s,l,u,d,h,p,g,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),tn?Vt(e,_):e;if(d=t.d,g=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(_/Yt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=Jn-1;--d[s],d[i]+=Jn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,tn?Vt(e,_):e):new b(0)}function pc(t,e,n){var r,i=kn(t),s=Ma(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Vo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Vo(-i-1)+s,n&&(r=n-l)>0&&(s+=Vo(r))):i>=l?(s+=Vo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Vo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Vo(r))),t.s<0?"-"+s:s}function WP(t,e){if(t.length>e)return t.length=e,!0}function $3(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ec+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return YP(l,s.toString())}else if(typeof s!="string")throw Error(ec+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,XJ.test(s))YP(l,s);else throw Error(ec+s)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$3,i.config=i.set=QJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function QJ(t){if(!t||typeof t!="object")throw Error(Hi+"Object expected");var e,n,r,i=["precision",1,ld,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ec+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ec+n+": "+r);return this}var bE=$3(WJ);pi=new bE(1);const Ct=bE;var JJ=t=>t,B3={},q3=t=>t===B3,XP=t=>function e(){return arguments.length===0||arguments.length===1&&q3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},F3=(t,e)=>t===1?e:XP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==B3).length;return s>=t?e(...r):F3(t-s,XP(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=r.map(p=>q3(p)?u.shift():p);return e(...h,...u)}))}),ZJ=t=>F3(t.length,t),a_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},eZ=ZJ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),tZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return JJ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}};function H3(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function K3(t,e,n){for(var r=new Ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var G3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Y3=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=H3(t.toNumber()),i=new Ct(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new Ct(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new Ct(d.toNumber()):new Ct(Math.ceil(d.toNumber()))},nZ=(t,e,n)=>{var r=new Ct(1),i=new Ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ct(10).pow(H3(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));var l=Math.floor((e-1)/2),u=tZ(eZ(d=>i.add(new Ct(d-l).mul(r)).toNumber()),a_);return u(0,e)},W3=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var l=Y3(new Ct(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new Ct(0):(u=new Ct(e).add(n).div(2),u=u.sub(new Ct(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new Ct(n).sub(u).div(l).toNumber()),p=d+h+1;return p>r?W3(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new Ct(d).mul(l)),tickMax:u.add(new Ct(h).mul(l))})},rZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=G3([n,r]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...a_(0,i-1).map(()=>1/0)]:[...a_(0,i-1).map(()=>-1/0),d];return n>r?h.reverse():h}if(u===d)return nZ(u,i,s);var{step:p,tickMin:g,tickMax:b}=W3(u,d,l,s,0),_=K3(g,b.add(new Ct(.1).mul(p)),p);return n>r?_.reverse():_},iZ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=G3([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),h=Y3(new Ct(u).sub(l).div(d-1),s,0),p=[...K3(new Ct(l),new Ct(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},X3=t=>t.rootProps.maxBarSize,aZ=t=>t.rootProps.barGap,Q3=t=>t.rootProps.barCategoryGap,sZ=t=>t.rootProps.barSize,Kh=t=>t.rootProps.stackOffset,J3=t=>t.rootProps.reverseStackOrder,xE=t=>t.options.chartName,wE=t=>t.rootProps.syncId,Z3=t=>t.rootProps.syncMethod,_E=t=>t.options.eventEmitter,oZ=t=>t.rootProps.baseValue,_n={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},O0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},lZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:xs.reversed,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:xs.type,unit:void 0},cZ={allowDataOverflow:mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mi.scale,tick:mi.tick,tickCount:mi.tickCount,ticks:void 0,type:mi.type,unit:void 0},uZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dZ={allowDataOverflow:mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mi.scale,tick:mi.tick,tickCount:mi.tickCount,ticks:void 0,type:"category",unit:void 0},SE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?uZ:lZ,EE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?dZ:cZ,I0=t=>t.polarOptions,AE=se([Ws,Xs,$n],X5),e6=se([I0,AE],(t,e)=>{if(t!=null)return jr(t.innerRadius,e,0)}),t6=se([I0,AE],(t,e)=>{if(t!=null)return jr(t.outerRadius,e,e*.8)}),fZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},n6=se([I0],fZ);se([SE,n6],O0);var r6=se([AE,e6,t6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});se([EE,r6],O0);var i6=se([it,I0,e6,t6,Ws,Xs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=e;return{cx:jr(l,i,i/2),cy:jr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),nn=(t,e)=>e,Gh=(t,e,n)=>n;function P0(t){return t?.id}function a6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var p=P0(u);h.forEach((g,b)=>{var _=s==null||i?b:String(St(g,s,null)),S=St(g,u.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[p]:S}),l.set(_,E)})}}),Array.from(l.values())}function R0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var k0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function M0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function hZ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var qn=t=>{var e=it(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ud=t=>t.tooltip.settings.axisId;function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return(e=pZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=gZ(t,"string");return typeof e=="symbol"?e:e+""}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s_=[0,"auto"],Wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},s6=(t,e)=>t.cartesianAxis.xAxis[e],Zs=(t,e)=>{var n=s6(t,e);return n??Wn},Xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:s_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vh},o6=(t,e)=>t.cartesianAxis.yAxis[e],eo=(t,e)=>{var n=o6(t,e);return n??Xn},vZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},TE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??vZ},ln=(t,e,n)=>{switch(e){case"xAxis":return Zs(t,n);case"yAxis":return eo(t,n);case"zAxis":return TE(t,n);case"angleAxis":return SE(t,n);case"radiusAxis":return EE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yZ=(t,e,n)=>{switch(e){case"xAxis":return Zs(t,n);case"yAxis":return eo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Yh=(t,e,n)=>{switch(e){case"xAxis":return Zs(t,n);case"yAxis":return eo(t,n);case"angleAxis":return SE(t,n);case"radiusAxis":return EE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},l6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function NE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Wh=t=>t.graphicalItems.cartesianItems,bZ=se([nn,Gh],NE),jE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Xh=se([Wh,ln,bZ],jE,{memoizeOptions:{resultEqualityCheck:M0}}),c6=se([Xh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(R0)),u6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),xZ=se([Xh],u6),CE=t=>t.map(e=>e.data).filter(Boolean).flat(1),wZ=se([Xh],CE,{memoizeOptions:{resultEqualityCheck:M0}}),OE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},IE=se([wZ,vE],OE),PE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:St(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:St(i,r)}))):t.map(r=>({value:r})),D0=se([IE,ln,Xh],PE);function d6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ug(t){if(Fa(t)||t instanceof Date){var e=Number(t);if(Ut(e))return e}}function JP(t){if(Array.isArray(t)){var e=[ug(t[0]),ug(t[1])];return ol(e)?e:void 0}var n=ug(t);if(n!=null)return[n,n]}function Bs(t){return t.map(ug).filter(mH)}function _Z(t,e,n){return!n||typeof e!="number"||qi(e)?[]:n.length?Bs(n.flatMap(r=>{var i=St(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Ut(s)||!Ut(l)))return[e-s,e+l]})):[]}var Fn=t=>{var e=qn(t),n=ud(t);return Yh(t,e,n)},Qh=se([Fn],t=>t?.dataKey),SZ=se([c6,vE,Fn],a6),f6=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,h=r?[...d].reverse():d,p=h.map(P0);return[u,{stackedData:$G(t,p,n),graphicalItems:h}]}))},yv=se([SZ,c6,Kh,J3],f6),h6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=HG(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},EZ=se([ln],t=>t.allowDataOverflow),RE=t=>{var e;if(t==null||!("domain"in t))return s_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Bs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:s_},kE=se([ln],RE),ME=se([kE,EZ],D3),AZ=se([yv,Js,nn,ME],h6,{memoizeOptions:{resultEqualityCheck:k0}}),L0=t=>t.errorBars,TZ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>d6(n,r)),bv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},DE=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var h,p,g=(h=r[d.id])===null||h===void 0?void 0:h.filter(j=>d6(i,j)),b=St(u,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),_=_Z(u,b,g);if(_.length>=2){var S=Math.min(..._),E=Math.max(..._);(s==null||S<s)&&(s=S),(l==null||E>l)&&(l=E)}var A=JP(b);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=JP(St(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Ut(s)&&Ut(l))return[s,l]},NZ=se([IE,ln,xZ,L0,nn],DE,{memoizeOptions:{resultEqualityCheck:k0}});function jZ(t){var{value:e}=t;if(Fa(e)||e instanceof Date)return e}var CZ=(t,e,n)=>{var r=t.map(jZ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&j4(r))?e3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},m6=t=>t.referenceElements.dots,dd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),OZ=se([m6,nn,Gh],dd),p6=t=>t.referenceElements.areas,IZ=se([p6,nn,Gh],dd),g6=t=>t.referenceElements.lines,PZ=se([g6,nn,Gh],dd),v6=(t,e)=>{if(t!=null){var n=Bs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},RZ=se(OZ,nn,v6),y6=(t,e)=>{if(t!=null){var n=Bs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},kZ=se([IZ,nn],y6);function MZ(t){var e;if(t.x!=null)return Bs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Bs(n)}function DZ(t){var e;if(t.y!=null)return Bs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Bs(n)}var b6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?MZ(r):DZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},LZ=se([PZ,nn],b6),zZ=se(RZ,LZ,kZ,(t,e,n)=>bv(t,n,e)),LE=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?bv(r,s,i):bv(s,i);return YJ(e,h,t.allowDataOverflow)},VZ=se([ln,kE,ME,AZ,NZ,zZ,it,nn],LE,{memoizeOptions:{resultEqualityCheck:k0}}),UZ=[0,1],zE=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,h=Wa(e,s);if(h&&u==null){var p;return e3(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?CZ(r,t,h):i==="expand"?UZ:l}},VE=se([ln,it,IE,D0,Kh,nn,VZ],zE),x6=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(kh(s));return u in If?u:"point"}}},fd=se([ln,it,l6,xE,nn],x6);function $Z(t){if(t!=null){if(t in If)return If[t]();var e="scale".concat(kh(t));if(e in If)return If[e]()}}function UE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=$Z(e);if(i!=null){var s=i.domain(n).range(r);return DG(s),s}}}var $E=(t,e,n)=>{var r=RE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ol(t))return rZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ol(t))return iZ(t,e.tickCount,e.allowDecimals)}},BE=se([VE,Yh,fd],$E),qE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ol(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},BZ=se([ln,VE,BE,nn],qE),qZ=se(D0,ln,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Bs(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],h=r[u+1];if(!(d==null||h==null)){var p=h-d;n=Math.min(n,p)}}return n/l}}),w6=se(qZ,it,Q3,$n,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ut(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=jr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),FZ=(t,e,n)=>{var r=Zs(t,e);return r==null||typeof r.padding!="string"?0:w6(t,"xAxis",e,n,r.padding)},HZ=(t,e,n)=>{var r=eo(t,e);return r==null||typeof r.padding!="string"?0:w6(t,"yAxis",e,n,r.padding)},KZ=se(Zs,FZ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),GZ=se(eo,HZ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),YZ=se([$n,KZ,p0,m0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),WZ=se([$n,it,GZ,p0,m0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Jh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return YZ(t,n,r);case"yAxis":return WZ(t,n,r);case"zAxis":return(i=TE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return n6(t);case"radiusAxis":return r6(t,n);default:return}},_6=se([ln,Jh],O0),z0=se([ln,fd,BZ,_6],UE);se([Xh,L0,nn],TZ);function S6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var V0=(t,e)=>e,U0=(t,e,n)=>n,XZ=se(f0,V0,U0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(S6)),QZ=se(h0,V0,U0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(S6)),E6=(t,e)=>({width:t.width,height:e.height}),JZ=(t,e)=>{var n=typeof e.width=="number"?e.width:Vh;return{width:n,height:t.height}},A6=se($n,Zs,E6),ZZ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},eee=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},tee=se(Xs,$n,XZ,V0,U0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=E6(e,u);l==null&&(l=ZZ(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),nee=se(Ws,$n,QZ,V0,U0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=JZ(e,u);l==null&&(l=eee(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),ree=(t,e)=>{var n=Zs(t,e);if(n!=null)return tee(t,n.orientation,n.mirror)},iee=se([$n,Zs,ree,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),aee=(t,e)=>{var n=eo(t,e);if(n!=null)return nee(t,n.orientation,n.mirror)},see=se([$n,eo,aee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),T6=se($n,eo,(t,e)=>{var n=typeof e.width=="number"?e.width:Vh;return{width:n,height:t.height}}),ZP=(t,e,n)=>{switch(e){case"xAxis":return A6(t,n).width;case"yAxis":return T6(t,n).height;default:return}},N6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=Wa(t,r),d=e.map(h=>h.value);if(l&&u&&s==="category"&&i&&j4(d))return d}},FE=se([it,D0,ln,nn],N6),j6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Wa(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},HE=se([it,D0,Yh,nn],j6),eR=se([it,yZ,fd,z0,FE,HE,Jh,BE,nn],(t,e,n,r,i,s,l,u,d)=>{if(e!=null){var h=Wa(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),oee=(t,e,n,r,i,s,l,u,d)=>{if(!(e==null||r==null)){var h=Wa(t,d),{type:p,ticks:g,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/_:0;S=d==="angleAxis"&&s!=null&&s.length>=2?Zn(s[0]-s[1])*2*S:S;var E=g||i;if(E){var A=E.map((j,L)=>{var U=l?l.indexOf(j):j;return{index:L,coordinate:r(U)+S,value:j,offset:S}});return A.filter(j=>Ut(j.coordinate))}return h&&u?u.map((j,L)=>({coordinate:r(j)+S,value:j,index:L,offset:S})).filter(j=>Ut(j.coordinate)):r.ticks?r.ticks(b).map(j=>({coordinate:r(j)+S,value:j,offset:S})):r.domain().map((j,L)=>({coordinate:r(j)+S,value:l?l[j]:j,index:L,offset:S}))}},C6=se([it,Yh,fd,z0,BE,Jh,FE,HE,nn],oee),lee=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Wa(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?Zn(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},Ga=se([it,Yh,z0,Jh,FE,HE,nn],lee),Ya=se(ln,z0,(t,e)=>{if(!(t==null||e==null))return vv(vv({},t),{},{scale:e})}),cee=se([ln,fd,VE,_6],UE);se((t,e,n)=>TE(t,n),cee,(t,e)=>{if(!(t==null||e==null))return vv(vv({},t),{},{scale:e})});var uee=se([it,f0,h0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),O6=t=>t.options.defaultTooltipEventType,I6=t=>t.options.validateTooltipEventTypes;function P6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function KE(t,e){var n=O6(t),r=I6(t);return P6(e,n,r)}function dee(t){return Le(e=>KE(e,t))}var R6=(t,e)=>{var n,r=Number(e);if(!(qi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},fee=t=>t.tooltip.settings,Ho={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},hee={itemInteraction:{click:Ho,hover:Ho},axisInteraction:{click:Ho,hover:Ho},keyboardInteraction:Ho,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},k6=ti({name:"tooltip",initialState:hee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:en()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:en()},removeTooltipEntrySettings:{reducer(t,e){var n=oa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:en()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:mee,replaceTooltipEntrySettings:pee,removeTooltipEntrySettings:gee,setTooltipSettingsState:vee,setActiveMouseOverItemIndex:M6,mouseLeaveItem:yee,mouseLeaveChart:D6,setActiveClickItemIndex:bee,setMouseOverAxisIndex:L6,setMouseClickAxisIndex:xee,setSyncInteraction:o_,setKeyboardInteraction:l_}=k6.actions,wee=k6.reducer;function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){_ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ee(t,e,n){return(e=See(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function See(t){var e=Eee(t,"string");return typeof e=="symbol"?e:e+""}function Eee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Tee(t){return t.index!=null}var z6=(t,e,n,r)=>{if(e==null)return Ho;var i=Aee(t,e,n);if(i==null)return Ho;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Tee(i)){if(s)return Kp(Kp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Kp(Kp({},Ho),{},{coordinate:i.coordinate})};function Nee(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function jee(t,e){var n=Nee(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Cee(t,e,n){if(n==null||e==null)return!0;var r=St(t,e);return r==null||!ol(n)?!0:jee(r,n)}var GE=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Ut(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),h=e[d];return h==null||Cee(h,n,r)?String(d):null},V6=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},U6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Zh=t=>t.options.tooltipPayloadSearcher,hd=t=>t.tooltip;function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Pee(t,"string");return typeof e=="symbol"?e:e+""}function Pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ree(t,e){return t??e}var $6=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((b,_)=>{var S,{dataDefinedOnItem:E,settings:A}=_,j=Ree(E,u),L=Array.isArray(j)?_5(j,h,p):j,U=(S=A?.dataKey)!==null&&S!==void 0?S:r,q=A?.nameKey,$;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&l==="axis"?$=C4(L,r,i):$=s(L,e,d,q),Array.isArray($))$.forEach(O=>{var N=rR(rR({},A),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});b.push(sI({tooltipEntrySettings:N,dataKey:O.dataKey,payload:O.payload,value:St(O.payload,O.dataKey),name:O.name}))});else{var z;b.push(sI({tooltipEntrySettings:A,dataKey:U,payload:$,value:St($,U),name:(z=St($,q))!==null&&z!==void 0?z:A?.name}))}return b},g)}},YE=se([Fn,it,l6,xE,qn],x6),kee=se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Mee=se([qn,ud],NE),md=se([kee,Fn,Mee],jE,{memoizeOptions:{resultEqualityCheck:M0}}),Dee=se([md],t=>t.filter(R0)),Lee=se([md],CE,{memoizeOptions:{resultEqualityCheck:M0}}),pd=se([Lee,Js],OE),zee=se([Dee,Js,Fn],a6),WE=se([pd,Fn,md],PE),B6=se([Fn],RE),Vee=se([Fn],t=>t.allowDataOverflow),q6=se([B6,Vee],D3),Uee=se([md],t=>t.filter(R0)),$ee=se([zee,Uee,Kh,J3],f6),Bee=se([$ee,Js,qn,q6],h6),qee=se([md],u6),Fee=se([pd,Fn,qee,L0,qn],DE,{memoizeOptions:{resultEqualityCheck:k0}}),Hee=se([m6,qn,ud],dd),Kee=se([Hee,qn],v6),Gee=se([p6,qn,ud],dd),Yee=se([Gee,qn],y6),Wee=se([g6,qn,ud],dd),Xee=se([Wee,qn],b6),Qee=se([Kee,Xee,Yee],bv),Jee=se([Fn,B6,q6,Bee,Fee,Qee,it,qn],LE),em=se([Fn,it,pd,WE,Kh,qn,Jee],zE),Zee=se([em,Fn,YE],$E),ete=se([Fn,em,Zee,qn],qE),F6=t=>{var e=qn(t),n=ud(t),r=!1;return Jh(t,e,n,r)},H6=se([Fn,F6],O0),K6=se([Fn,YE,ete,H6],UE),tte=se([it,WE,Fn,qn],N6),nte=se([it,WE,Fn,qn],j6),rte=(t,e,n,r,i,s,l,u)=>{if(e){var{type:d}=e,h=Wa(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Zn(i[0]-i[1])*2*g:g,h&&l?l.map((b,_)=>({coordinate:r(b)+g,value:b,index:_,offset:g})):r.domain().map((b,_)=>({coordinate:r(b)+g,value:s?s[b]:b,index:_,offset:g}))}}},to=se([it,Fn,YE,K6,F6,tte,nte,qn],rte),XE=se([O6,I6,fee],(t,e,n)=>P6(n.shared,t,e)),G6=t=>t.tooltip.settings.trigger,QE=t=>t.tooltip.settings.defaultIndex,tm=se([hd,XE,G6,QE],z6),ll=se([tm,pd,Qh,em],GE),Y6=se([to,ll],R6),JE=se([tm],t=>{if(t)return t.dataKey}),ite=se([tm],t=>{if(t)return t.graphicalItemId}),W6=se([hd,XE,G6,QE],U6),ate=se([Ws,Xs,it,$n,to,QE,W6,Zh],V6),ste=se([tm,ate],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),ote=se([tm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),lte=se([W6,ll,Js,Qh,Y6,Zh,XE],$6),cte=se([lte],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ute(t,e,n){return(e=dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=fte(t,"string");return typeof e=="symbol"?e:e+""}function fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hte=()=>Le(Fn),mte=()=>{var t=hte(),e=Le(to),n=Le(K6);return sl(!t||!n?void 0:aR(aR({},t),{},{scale:n}),e)};function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e,n){return(e=gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=vte(t,"string");return typeof e=="symbol"?e:e+""}function vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yte=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},bte=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return fu(fu(fu({},r),Rn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return fu(fu(fu({},r),Rn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var X6=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,h,p,g,b,_=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,S=(p=n[u])===null||p===void 0?void 0:p.coordinate,E=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,A=void 0;if(!(_==null||S==null||E==null))if(Zn(S-_)!==Zn(E-S)){var j=[];if(Zn(E-S)===Zn(i[1]-i[0])){A=E;var L=S+i[1]-i[0];j[0]=Math.min(L,(L+_)/2),j[1]=Math.max(L,(L+_)/2)}else{A=_;var U=E+i[1]-i[0];j[0]=Math.min(S,(U+S)/2),j[1]=Math.max(S,(U+S)/2)}var q=[Math.min(S,(A+S)/2),Math.max(S,(A+S)/2)];if(t>q[0]&&t<=q[1]||t>=j[0]&&t<=j[1]){var $;return($=n[u])===null||$===void 0?void 0:$.index}}else{var z=Math.min(_,E),O=Math.max(_,E);if(t>(z+S)/2&&t<=(O+S)/2){var N;return(N=n[u])===null||N===void 0?void 0:N.index}}}else if(e)for(var k=0;k<l;k++){var M=e[k];if(M!=null){var I=e[k+1],D=e[k-1];if(k===0&&I!=null&&t<=(M.coordinate+I.coordinate)/2||k===l-1&&D!=null&&t>(M.coordinate+D.coordinate)/2||k>0&&k<l-1&&D!=null&&I!=null&&t>(M.coordinate+D.coordinate)/2&&t<=(M.coordinate+I.coordinate)/2)return M.index}}return-1},Q6=()=>Le(xE),ZE=(t,e)=>e,J6=(t,e,n)=>n,eA=(t,e,n,r)=>r,wte=se(to,t=>n0(t,e=>e.coordinate)),tA=se([hd,ZE,J6,eA],z6),nA=se([tA,pd,Qh,em],GE),_te=(t,e,n)=>{if(e!=null){var r=hd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Z6=se([hd,ZE,J6,eA],U6),xv=se([Ws,Xs,it,$n,to,eA,Z6,Zh],V6),Ste=se([tA,xv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),eL=se([to,nA],R6),Ete=se([Z6,nA,Js,Qh,eL,Zh,ZE],$6),Ate=se([tA,nA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Tte=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&xte(t,l)){var u=KG(t,e),d=X6(u,s,i,n,r),h=yte(e,i,d,t);return{activeIndex:String(d),activeCoordinate:h}}},Nte=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=uX(t,n);if(u){var d=GG(u,e),h=X6(d,l,s,r,i),p=bte(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},jte=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Tte(t,e,r,i,s,l,u):Nte(t,e,n,r,i,s,l)},Cte=se(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Ote=se(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(_n)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:hZ}});function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kte={},Mte={zIndexMap:Object.values(_n).reduce((t,e)=>lR(lR({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),kte)},Dte=new Set(Object.values(_n));function Lte(t){return Dte.has(t)}var tL=ti({name:"zIndex",initialState:Mte,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:en()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Lte(n)&&delete t.zIndexMap[n])},prepare:en()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:en()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:en()}}}),{registerZIndexPortal:zte,unregisterZIndexPortal:Vte,registerZIndexPortalElement:Ute,unregisterZIndexPortalElement:$te}=tL.actions,Bte=tL.reducer;function Ur(t){var{zIndex:e,children:n}=t,r=AY(),i=r&&e!==void 0&&e!==0,s=er(),l=Ft();w.useLayoutEffect(()=>i?(l(zte({zIndex:e})),()=>{l(Vte({zIndex:e}))}):Mh,[l,e,i]);var u=Le(d=>Cte(d,e,s));return i?u?AS.createPortal(n,u):null:n}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(null,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qte(t,e,n){return(e=Fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Hte(t,"string");return typeof e=="symbol"?e:e+""}function Hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function Gte(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:h,chartName:p}=t,g=n,b=r,_=i;if(!d||!g||p!=="ScatterChart"&&h!=="axis")return null;var S,E,A;if(p==="ScatterChart")S=g,E=EW,A=_n.cursorLine;else if(p==="BarChart")S=AW(u,g,s,l),E=W5,A=_n.cursorRectangle;else if(u==="radial"&&I4(g)){var{cx:j,cy:L,radius:U,startAngle:q,endAngle:$}=Q5(g);S={cx:j,cy:L,startAngle:q,endAngle:$,innerRadius:U,outerRadius:U},E=Z5,A=_n.cursorLine}else S={points:mX(u,g,s)},E=Cu,A=_n.cursorLine;var z=typeof d=="object"&&"className"in d?d.className:void 0,O=Gp(Gp(Gp(Gp({stroke:"#ccc",pointerEvents:"none"},s),S),cc(d)),{},{payload:b,payloadIndex:_,className:ft("recharts-tooltip-cursor",z)});return w.createElement(Ur,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},w.createElement(Kte,{cursor:d,cursorComp:E,cursorProps:O}))}function Yte(t){var e=mte(),n=R5(),r=ml(),i=Q6();return e==null||n==null||r==null||i==null?null:w.createElement(Gte,c_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var nL=w.createContext(null),Wte=()=>w.useContext(nL),P1={exports:{}},uR;function Xte(){return uR||(uR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||d,b),S=n?n+h:h;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],_]:d._events[S].push(_):(d._events[S]=_,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,S=new Array(_);b<_;b++)S[b]=g[b].fn;return S},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,b,_,S){var E=n?n+h:h;if(!this._events[E])return!1;var A=this._events[E],j=arguments.length,L,U;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),j){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,b),!0;case 5:return A.fn.call(A.context,p,g,b,_),!0;case 6:return A.fn.call(A.context,p,g,b,_,S),!0}for(U=1,L=new Array(j-1);U<j;U++)L[U-1]=arguments[U];A.fn.apply(A.context,L)}else{var q=A.length,$;for(U=0;U<q;U++)switch(A[U].once&&this.removeListener(h,A[U].fn,void 0,!0),j){case 1:A[U].fn.call(A[U].context);break;case 2:A[U].fn.call(A[U].context,p);break;case 3:A[U].fn.call(A[U].context,p,g);break;case 4:A[U].fn.call(A[U].context,p,g,b);break;default:if(!L)for($=1,L=new Array(j-1);$<j;$++)L[$-1]=arguments[$];A[U].fn.apply(A[U].context,L)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,b){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===p&&(!b||S.once)&&(!g||S.context===g)&&l(this,_);else{for(var E=0,A=[],j=S.length;E<j;E++)(S[E].fn!==p||b&&!S[E].once||g&&S[E].context!==g)&&A.push(S[E]);A.length?this._events[_]=A.length===1?A[0]:A:l(this,_)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(P1)),P1.exports}var Qte=Xte();const Jte=Hs(Qte);var fh=new Jte,u_="recharts.syncEvent.tooltip",dR="recharts.syncEvent.brush";function rL(t,e){if(e){var n=Number.parseInt(e,10);if(!qi(n))return t?.[n]}}var Zte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iL=ti({name:"options",initialState:Zte,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ene=iL.reducer,{createEventEmitter:tne}=iL.actions;function nne(t){return t.tooltip.syncInteraction}var rne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aL=ti({name:"chartData",initialState:rne,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fR,setDataStartEndIndexes:ine,setComputedData:Pfe}=aL.actions,ane=aL.reducer,sne=["x","y"];function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=cne(t,"string");return typeof e=="symbol"?e:e+""}function cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function une(t,e){if(t==null)return{};var n,r,i=dne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fne(){var t=Le(wE),e=Le(_E),n=Ft(),r=Le(Z3),i=Le(to),s=ml(),l=v0(),u=Le(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return Mh;var d=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:S,y:E}=_,A=une(_,sne),{x:j,y:L,width:U,height:q}=p.payload.sourceViewBox,$=hu(hu({},A),{},{x:l.x+(U?(S-j)/U:0)*l.width,y:l.y+(q?(E-L)/q:0)*l.height});n(hu(hu({},p),{},{payload:hu(hu({},p.payload),{},{coordinate:$})}))}else n(p);return}if(i!=null){var z;if(typeof r=="function"){var O={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},N=r(i,O);z=i[N]}else r==="value"&&(z=i.find(W=>String(W.value)===p.payload.label));var{coordinate:k}=p.payload;if(z==null||p.payload.active===!1||k==null||l==null){n(o_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:I}=k,D=Math.min(M,l.x+l.width),R=Math.min(I,l.y+l.height),re={x:s==="horizontal"?z.coordinate:D,y:s==="horizontal"?R:z.coordinate},Z=o_({active:p.payload.active,coordinate:re,dataKey:p.payload.dataKey,index:String(z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Z)}}};return fh.on(u_,d),()=>{fh.off(u_,d)}},[u,n,e,t,r,i,s,l])}function hne(){var t=Le(wE),e=Le(_E),n=Ft();w.useEffect(()=>{if(t==null)return Mh;var r=(i,s,l)=>{e!==l&&t===i&&n(ine(s))};return fh.on(dR,r),()=>{fh.off(dR,r)}},[n,e,t])}function mne(){var t=Ft();w.useEffect(()=>{t(tne())},[t]),fne(),hne()}function pne(t,e,n,r,i,s){var l=Le(_=>_te(_,t,e)),u=Le(_E),d=Le(wE),h=Le(Z3),p=Le(nne),g=p?.active,b=v0();w.useEffect(()=>{if(!g&&d!=null&&u!=null){var _=o_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});fh.emit(u_,d,_,u)}},[g,n,l,i,r,u,d,h,s,b])}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bne(t){return t.dataKey}function xne(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(rW,e)}var gR=[],wne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $0(t){var e,n,r=gn(t,wne),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:b,position:_,reverseDirection:S,useTranslate3d:E,wrapperStyle:A,cursor:j,shared:L,trigger:U,defaultIndex:q,portal:$,axisId:z}=r,O=Ft(),N=typeof q=="number"?String(q):q;w.useEffect(()=>{O(vee({shared:L,trigger:U,axisId:z,active:i,defaultIndex:N}))},[O,L,U,z,i,N]);var k=v0(),M=F5(),I=dee(L),{activeIndex:D,isActive:R}=(e=Le(he=>Ate(he,I,U,N)))!==null&&e!==void 0?e:{},re=Le(he=>Ete(he,I,U,N)),Z=Le(he=>eL(he,I,U,N)),W=Le(he=>Ste(he,I,U,N)),H=re,te=Wte(),oe=(n=i??R)!==null&&n!==void 0?n:!1,[we,V]=K4([H,oe]),K=I==="axis"?Z:void 0;pne(I,U,W,K,D,oe);var G=$??te;if(G==null||k==null||I==null)return null;var Y=H??gR;oe||(Y=gR),h&&Y.length&&(Y=$4(Y.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),b,bne));var ce=Y.length>0,ye=w.createElement(uW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:oe,coordinate:W,hasPayload:ce,offset:g,position:_,reverseDirection:S,useTranslate3d:E,viewBox:k,wrapperStyle:A,lastBoundingBox:we,innerRef:V,hasPortalFromProps:!!$},xne(d,pR(pR({},r),{},{payload:Y,label:K,active:oe,activeIndex:D,coordinate:W,accessibilityLayer:M})));return w.createElement(w.Fragment,null,AS.createPortal(ye,G),oe&&w.createElement(Yte,{cursor:j,tooltipEventType:I,coordinate:W,payload:Y,index:D}))}var nm=t=>null;nm.displayName="Cell";function _ne(t,e,n){return(e=Sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=Ene(t,"string");return typeof e=="symbol"?e:e+""}function Ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ane{constructor(e){_ne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e,n){return(e=jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jne(t){var e=Cne(t,"string");return typeof e=="symbol"?e:e+""}function Cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var One={cacheSize:2e3,enableCache:!0},sL=Tne({},One),yR=new Ane(sL.cacheSize),Ine={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bR="recharts_measurement_span";function Pne(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var xR=(t,e)=>{try{var n=document.getElementById(bR);n||(n=document.createElement("span"),n.setAttribute("id",bR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ine,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},zf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$h.isSsr)return{width:0,height:0};if(!sL.enableCache)return xR(e,n);var r=Pne(e,n),i=yR.get(r);if(i)return i;var s=xR(e,n);return yR.set(r,s),s},oL;function Rne(t,e,n){return(e=kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kne(t){var e=Mne(t,"string");return typeof e=="symbol"?e:e+""}function Mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_R=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vne=["cm","mm","pt","pc","in","Q","px"];function Une(t){return Vne.includes(t)}var _u="NaN";function $ne(t,e){return t*zne[e]}class hr{static parse(e){var n,[,r,i]=(n=Lne.exec(e))!==null&&n!==void 0?n:[];return r==null?hr.NaN:new hr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,qi(e)&&(this.unit=""),n!==""&&!Dne.test(n)&&(this.num=NaN,this.unit=""),Une(n)&&(this.num=$ne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new hr(NaN,""):new hr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new hr(NaN,""):new hr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new hr(NaN,""):new hr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new hr(NaN,""):new hr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qi(this.num)}}oL=hr;Rne(hr,"NaN",new oL(NaN,""));function lL(t){if(t==null||t.includes(_u))return _u;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=wR.exec(e))!==null&&n!==void 0?n:[],l=hr.parse(r??""),u=hr.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return _u;e=e.replace(wR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,b]=(h=_R.exec(e))!==null&&h!==void 0?h:[],_=hr.parse(p??""),S=hr.parse(b??""),E=g==="+"?_.add(S):_.subtract(S);if(E.isNaN())return _u;e=e.replace(_R,E.toString())}return e}var SR=/\(([^()]*)\)/;function Bne(t){for(var e=t,n;(n=SR.exec(e))!=null;){var[,r]=n;e=e.replace(SR,lL(r))}return e}function qne(t){var e=t.replace(/\s+/g,"");return e=Bne(e),e=lL(e),e}function Fne(t){try{return qne(t)}catch{return _u}}function R1(t){var e=Fne(t.slice(5,-1));return e===_u?"":e}var Hne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Kne=["dx","dy","angle","className","breakAll"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(null,arguments)}function ER(t,e){if(t==null)return{};var n,r,i=Gne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cL=/[ \f\n\r\t\v\u2028\u2029]+/,uL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Wt(e)||(n?i=e.toString().split(""):i=e.toString().split(cL));var s=i.map(u=>({word:u,width:zf(u,r).width})),l=n?0:zf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Yne(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var dL=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),fL=t=>t.reduce((e,n)=>e.width>n.width?e:n),Wne="",AR=(t,e,n,r,i,s,l,u)=>{var d=t.slice(0,e),h=uL({breakAll:n,style:r,children:d+Wne});if(!h)return[!1,[]];var p=dL(h.wordsWithComputedWidth,s,l,u),g=p.length>i||fL(p).width>Number(s);return[g,p]},Xne=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,h=Oe(s),p=String(l),g=dL(e,r,n,i);if(!h||i)return g;var b=g.length>s||fL(g).width>Number(r);if(!b)return g;for(var _=0,S=p.length-1,E=0,A;_<=S&&E<=p.length-1;){var j=Math.floor((_+S)/2),L=j-1,[U,q]=AR(p,L,d,u,s,r,n,i),[$]=AR(p,j,d,u,s,r,n,i);if(!U&&!$&&(_=j+1),U&&$&&(S=j-1),!U&&$){A=q;break}E++}return A||g},TR=t=>{var e=Wt(t)?[]:t.toString().split(cL);return[{words:e,width:void 0}]},Qne=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!$h.isSsr){var u,d,h=uL({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,d=g}else return TR(r);return Xne({breakAll:s,children:r,maxLines:l,style:i},u,d,e,!!n)}return TR(r)},hL="#808080",Jne={angle:0,breakAll:!1,capHeight:"0.71em",fill:hL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},B0=w.forwardRef((t,e)=>{var n=gn(t,Jne),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:h,verticalAnchor:p}=n,g=ER(n,Hne),b=w.useMemo(()=>Qne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:_,dy:S,angle:E,className:A,breakAll:j}=g,L=ER(g,Kne);if(!Fa(r)||!Fa(i)||b.length===0)return null;var U=Number(r)+(Oe(_)?_:0),q=Number(i)+(Oe(S)?S:0);if(!Ut(U)||!Ut(q))return null;var $;switch(p){case"start":$=R1("calc(".concat(l,")"));break;case"middle":$=R1("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:$=R1("calc(".concat(b.length-1," * -").concat(s,")"));break}var z=[];if(d){var O=b[0].width,{width:N}=g;z.push("scale(".concat(Oe(N)&&Oe(O)?N/O:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(U,", ").concat(q,")")),z.length&&(L.transform=z.join(" ")),w.createElement("text",d_({},Or(L),{ref:e,x:U,y:q,className:ft("recharts-text",A),textAnchor:h,fill:u.includes("url")?hL:u}),b.map((k,M)=>{var I=k.words.join(j?"":" ");return w.createElement("tspan",{x:U,dy:M===0?$:s,key:"".concat(I,"-").concat(M)},I)}))});B0.displayName="Text";var Zne=["labelRef"],ere=["content"];function NR(t,e){if(t==null)return{};var n,r,i=tre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nre(t,e,n){return(e=rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=ire(t,"string");return typeof e=="symbol"?e:e+""}function ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ws.apply(null,arguments)}var mL=w.createContext(null),are=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,d=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return w.createElement(mL.Provider,{value:d},u)},pL=()=>{var t=w.useContext(mL),e=v0();return t||P5(e)},sre=w.createContext(null),ore=()=>{var t=w.useContext(sre),e=Le(i6);return t||e},lre=t=>{var{value:e,formatter:n}=t,r=Wt(t.children)?e:t.children;return typeof n=="function"?n(r):r},rA=t=>t!=null&&typeof t=="function",cre=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ure=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:g,endAngle:b,clockWise:_}=i,S=(h+p)/2,E=cre(g,b),A=E>=0?1:-1,j,L;switch(e){case"insideStart":j=g+A*s,L=_;break;case"insideEnd":j=b-A*s,L=!_;break;case"end":j=b+A*s,L=_;break;default:throw new Error("Unsupported position ".concat(e))}L=E<=0?L:!L;var U=Rn(u,d,S,j),q=Rn(u,d,S,j+(L?1:-1)*359),$="M".concat(U.x,",").concat(U.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(L?0:1,`,
    `).concat(q.x,",").concat(q.y),z=Wt(t.id)?Zf("recharts-radial-line-"):t.id;return w.createElement("text",ws({},r,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:z,d:$})),w.createElement("textPath",{xlinkHref:"#".concat(z)},n))},dre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Rn(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:S}=Rn(r,i,b,h);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},f_=t=>"cx"in t&&Oe(t.cx),fre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!f_(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:h,height:p}=e,g=l,b=l+(d-h)/2,_=(g+b)/2,S=(d+h)/2,E=g+d/2,A=p>=0?1:-1,j=A*r,L=A>0?"end":"start",U=A>0?"start":"end",q=d>=0?1:-1,$=q*r,z=q>0?"end":"start",O=q>0?"start":"end";if(i==="top"){var N={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:L};return xn(xn({},N),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var k={x:b+h/2,y:u+p+j,textAnchor:"middle",verticalAnchor:U};return xn(xn({},k),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var M={x:_-$,y:u+p/2,textAnchor:z,verticalAnchor:"middle"};return xn(xn({},M),s?{width:Math.max(M.x-s.x,0),height:p}:{})}if(i==="right"){var I={x:_+S+$,y:u+p/2,textAnchor:O,verticalAnchor:"middle"};return xn(xn({},I),s?{width:Math.max(s.x+s.width-I.x,0),height:p}:{})}var D=s?{width:S,height:p}:{};return i==="insideLeft"?xn({x:_+$,y:u+p/2,textAnchor:O,verticalAnchor:"middle"},D):i==="insideRight"?xn({x:_+S-$,y:u+p/2,textAnchor:z,verticalAnchor:"middle"},D):i==="insideTop"?xn({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:U},D):i==="insideBottom"?xn({x:b+h/2,y:u+p-j,textAnchor:"middle",verticalAnchor:L},D):i==="insideTopLeft"?xn({x:g+$,y:u+j,textAnchor:O,verticalAnchor:U},D):i==="insideTopRight"?xn({x:g+d-$,y:u+j,textAnchor:z,verticalAnchor:U},D):i==="insideBottomLeft"?xn({x:b+$,y:u+p-j,textAnchor:O,verticalAnchor:L},D):i==="insideBottomRight"?xn({x:b+h-$,y:u+p-j,textAnchor:z,verticalAnchor:L},D):i&&typeof i=="object"&&(Oe(i.x)||Ls(i.x))&&(Oe(i.y)||Ls(i.y))?xn({x:l+jr(i.x,S),y:u+jr(i.y,p),textAnchor:"end",verticalAnchor:"end"},D):xn({x:E,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},D)},hre={angle:0,offset:5,zIndex:_n.label,position:"middle",textBreakAll:!1};function Uo(t){var e=gn(t,hre),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:h}=e,p=ore(),g=pL(),b=r==="center"?g:p??g,_,S,E;if(n==null?_=b:f_(n)?_=n:_=P5(n),!_||Wt(i)&&Wt(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var A=xn(xn({},e),{},{viewBox:_});if(w.isValidElement(l)){var{labelRef:j}=A,L=NR(A,Zne);return w.cloneElement(l,L)}if(typeof l=="function"){var{content:U}=A,q=NR(A,ere);if(S=w.createElement(l,q),w.isValidElement(S))return S}else S=lre(e);var $=Or(e);if(f_(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return ure(e,r,S,$,_);E=dre(_,e.offset,e.position)}else E=fre(e,_);return w.createElement(Ur,{zIndex:e.zIndex},w.createElement(B0,ws({ref:h,className:ft("recharts-label",u)},$,E,{textAnchor:Yne($.textAnchor)?$.textAnchor:E.textAnchor,breakAll:d}),S))}Uo.displayName="Label";var mre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Uo,ws({key:"label-implicit"},r)):Fa(t)?w.createElement(Uo,ws({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Uo?w.cloneElement(t,xn({key:"label-implicit"},r)):w.createElement(Uo,ws({key:"label-implicit",content:t},r)):rA(t)?w.createElement(Uo,ws({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Uo,ws({},t,{key:"label-implicit"},r)):null};function pre(t){var{label:e,labelRef:n}=t,r=pL();return mre(e,r,n)||null}var k1={},M1={},CR;function gre(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(M1)),M1}var D1={},OR;function vre(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(D1)),D1}var IR;function yre(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gre(),n=vre(),r=kS();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(k1)),k1}var L1,PR;function bre(){return PR||(PR=1,L1=yre().last),L1}var xre=bre();const wre=Hs(xre);var _re=["valueAccessor"],Sre=["dataKey","clockWise","id","textBreakAll","zIndex"];function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(null,arguments)}function RR(t,e){if(t==null)return{};var n,r,i=Ere(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Are=t=>Array.isArray(t.value)?wre(t.value):t.value,gL=w.createContext(void 0),iA=gL.Provider,vL=w.createContext(void 0),Tre=vL.Provider;function Nre(){return w.useContext(gL)}function jre(){return w.useContext(vL)}function dg(t){var{valueAccessor:e=Are}=t,n=RR(t,_re),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=RR(n,Sre),h=Nre(),p=jre(),g=h||p;return!g||!g.length?null:w.createElement(Ur,{zIndex:u??_n.label},w.createElement(pn,{className:"recharts-label-list"},g.map((b,_)=>{var S,E=Wt(r)?e(b,_):St(b&&b.payload,r),A=Wt(s)?{}:{id:"".concat(s,"-").concat(_)};return w.createElement(Uo,wv({key:"label-".concat(_)},Or(b),d,A,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}dg.displayName="LabelList";function q0(t){var{label:e}=t;return e?e===!0?w.createElement(dg,{key:"labelList-implicit"}):w.isValidElement(e)||rA(e)?w.createElement(dg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(dg,wv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(null,arguments)}var yL=t=>{var{cx:e,cy:n,r,className:i}=t,s=ft("recharts-dot",i);return Oe(e)&&Oe(n)&&Oe(r)?w.createElement("circle",h_({},zr(t),RS(t),{className:s,cx:e,cy:n,r})):null},bL=t=>t.graphicalItems.polarItems,Cre=se([nn,Gh],NE),F0=se([bL,ln,Cre],jE),Ore=se([F0],CE),H0=se([Ore,C0],OE),Ire=se([H0,ln,F0],PE);se([H0,ln,F0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=St(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:St(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var kR=()=>{},Pre=se([H0,ln,F0,L0,nn],DE),Rre=se([ln,kE,ME,kR,Pre,kR,it,nn],LE),xL=se([ln,it,H0,Ire,Kh,nn,Rre],zE),kre=se([xL,ln,fd],$E);se([ln,xL,kre,nn],qE);var Mre={radiusAxis:{},angleAxis:{}},wL=ti({name:"polarAxis",initialState:Mre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Rfe,removeRadiusAxis:kfe,addAngleAxis:Mfe,removeAngleAxis:Dfe}=wL.actions,Dre=wL.reducer;function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e,n){return(e=zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=Vre(t,"string");return typeof e=="symbol"?e:e+""}function Vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ure=(t,e)=>e,aA=se([bL,Ure],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),$re=[],sA=(t,e,n)=>n?.length===0?$re:n,_L=se([C0,aA,sA],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>DR(DR({},e.presentationProps),s.props))),i!=null)return i}}),Bre=se([_L,aA,sA],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=St(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:hl(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),qre=se([_L,aA,sA,$n],(t,e,n,r)=>{if(!(e==null||t==null))return Hie({offset:r,pieSettings:e,displayedData:t,cells:n})}),z1={exports:{}},Mt={};var LR;function Fre(){if(LR)return Mt;LR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case t:switch(E=E.type,E){case n:case i:case r:case d:case h:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case p:return E;case s:return E;default:return A}}case e:return A}}}return Mt.ContextConsumer=s,Mt.ContextProvider=l,Mt.Element=t,Mt.ForwardRef=u,Mt.Fragment=n,Mt.Lazy=g,Mt.Memo=p,Mt.Portal=e,Mt.Profiler=i,Mt.StrictMode=r,Mt.Suspense=d,Mt.SuspenseList=h,Mt.isContextConsumer=function(E){return S(E)===s},Mt.isContextProvider=function(E){return S(E)===l},Mt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Mt.isForwardRef=function(E){return S(E)===u},Mt.isFragment=function(E){return S(E)===n},Mt.isLazy=function(E){return S(E)===g},Mt.isMemo=function(E){return S(E)===p},Mt.isPortal=function(E){return S(E)===e},Mt.isProfiler=function(E){return S(E)===i},Mt.isStrictMode=function(E){return S(E)===r},Mt.isSuspense=function(E){return S(E)===d},Mt.isSuspenseList=function(E){return S(E)===h},Mt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===l||E.$$typeof===s||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},Mt.typeOf=S,Mt}var zR;function Hre(){return zR||(zR=1,z1.exports=Fre()),z1.exports}var Kre=Hre(),VR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",UR=null,V1=null,SL=t=>{if(t===UR&&Array.isArray(V1))return V1;var e=[];return w.Children.forEach(t,n=>{Wt(n)||(Kre.isFragment(n)?e=e.concat(SL(n.props.children)):e.push(n))}),V1=e,UR=t,e};function oA(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>VR(i)):r=[VR(e)],SL(t).forEach(i=>{var s=dc(i,"type.displayName")||dc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var lA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,U1={},$R;function Gre(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(U1)),U1}var $1,BR;function Yre(){return BR||(BR=1,$1=Gre().isPlainObject),$1}var Wre=Yre();const Xre=Hs(Wre);var qR,FR,HR,KR,GR;function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return(e=Jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(null,arguments)}function Ef(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var XR=(t,e,n,r,i)=>{var s=n-r,l;return l=hn(qR||(qR=Ef(["M ",",",""])),t,e),l+=hn(FR||(FR=Ef(["L ",",",""])),t+n,e),l+=hn(HR||(HR=Ef(["L ",",",""])),t+n-s/2,e+i),l+=hn(KR||(KR=Ef(["L ",",",""])),t+n-s/2-r,e+i),l+=hn(GR||(GR=Ef(["L ",","," Z"])),t,e),l},eie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tie=t=>{var e=gn(t,eie),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,b=w.useRef(null),[_,S]=w.useState(-1),E=w.useRef(i),A=w.useRef(s),j=w.useRef(l),L=w.useRef(n),U=w.useRef(r),q=sd(t,"trapezoid-");if(w.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var re=b.current.getTotalLength();re&&S(re)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var $=ft("recharts-trapezoid",u);if(!g)return w.createElement("g",null,w.createElement("path",_v({},Or(e),{className:$,d:XR(n,r,i,s,l)})));var z=E.current,O=A.current,N=j.current,k=L.current,M=U.current,I="0px ".concat(_===-1?1:_,"px"),D="".concat(_,"px 0px"),R=H5(["strokeDasharray"],h,d);return w.createElement(ad,{animationId:q,key:q,canBegin:_>0,duration:h,easing:d,isActive:g,begin:p},re=>{var Z=_t(z,i,re),W=_t(O,s,re),H=_t(N,l,re),te=_t(k,n,re),oe=_t(M,r,re);b.current&&(E.current=Z,A.current=W,j.current=H,L.current=te,U.current=oe);var we=re>0?{transition:R,strokeDasharray:D}:{strokeDasharray:I};return w.createElement("path",_v({},Or(e),{className:$,d:XR(te,oe,Z,W,H),ref:b,style:WR(WR({},we),e.style)}))})},nie=["option","shapeType","activeClassName"];function rie(t,e){if(t==null)return{};var n,r,i=iie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aie(t,e,n){return(e=sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sie(t){var e=oie(t,"string");return typeof e=="symbol"?e:e+""}function oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lie(t,e){return Sv(Sv({},e),t)}function cie(t,e){return t==="symbols"}function JR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(W5,n);case"trapezoid":return w.createElement(tie,n);case"sector":return w.createElement(Z5,n);case"symbols":if(cie(e))return w.createElement(PS,n);break;case"curve":return w.createElement(Cu,n);default:return null}}function uie(t){return w.isValidElement(t)?t.props:t}function cA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=rie(t,nie),s;if(w.isValidElement(e))s=w.cloneElement(e,Sv(Sv({},i),uie(e)));else if(typeof e=="function")s=e(i,i.index);else if(Xre(e)&&typeof e!="boolean"){var l=lie(e,i);s=w.createElement(JR,{shapeType:n,elementProps:l})}else{var u=i;s=w.createElement(JR,{shapeType:n,elementProps:u})}return i.isActive?w.createElement(pn,{className:r},s):s}var uA=(t,e,n)=>{var r=Ft();return(i,s)=>l=>{t?.(i,s,l),r(M6({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},dA=t=>{var e=Ft();return(n,r)=>i=>{t?.(n,r,i),e(yee())}},fA=(t,e,n)=>{var r=Ft();return(i,s)=>l=>{t?.(i,s,l),r(bee({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function K0(t){var{tooltipEntrySettings:e}=t,n=Ft(),r=er(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(mee(e)):i.current!==e&&n(pee({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(gee(i.current)),i.current=null)},[n]),null}function hA(t){var{legendPayload:e}=t,n=Ft(),r=er(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n($5(e)):i.current!==e&&n(B5({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(q5(i.current)),i.current=null)},[n]),null}function die(t){var{legendPayload:e}=t,n=Ft(),r=Le(it),i=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n($5(e)):i.current!==e&&n(B5({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(q5(i.current)),i.current=null)},[n]),null}var B1,fie=()=>{var[t]=w.useState(()=>Zf("uid-"));return t},hie=(B1=m9.useId)!==null&&B1!==void 0?B1:fie;function mie(t,e){var n=hie();return e||(t?"".concat(t,"-").concat(n):n)}var pie=w.createContext(void 0),G0=t=>{var{id:e,type:n,children:r}=t,i=mie("recharts-".concat(n),e);return w.createElement(pie.Provider,{value:i},r(i))},gie={cartesianItems:[],polarItems:[]},EL=ti({name:"graphicalItems",initialState:gie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:en()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=oa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:en()},removeCartesianGraphicalItem:{reducer(t,e){var n=oa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:en()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:en()},removePolarGraphicalItem:{reducer(t,e){var n=oa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:en()}}}),{addCartesianGraphicalItem:vie,replaceCartesianGraphicalItem:yie,removeCartesianGraphicalItem:bie,addPolarGraphicalItem:xie,removePolarGraphicalItem:wie}=EL.actions,_ie=EL.reducer,Sie=t=>{var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(vie(t)):n.current!==t&&e(yie({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(bie(n.current)),n.current=null)},[e]),null},mA=w.memo(Sie);function Eie(t){var e=Ft();return w.useLayoutEffect(()=>(e(xie(t)),()=>{e(wie(t))}),[e,t]),null}var Aie=["key"],Tie=["onMouseEnter","onClick","onMouseLeave"],Nie=["id"],jie=["id"];function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return(e=Oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oie(t){var e=Iie(t,"string");return typeof e=="symbol"?e:e+""}function Iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(null,arguments)}function Y0(t,e){if(t==null)return{};var n,r,i=Pie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rie(t){var e=w.useMemo(()=>oA(t.children,nm),[t.children]),n=Le(r=>Bre(r,t.id,e));return n==null?null:w.createElement(die,{legendPayload:n})}var kie=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:hl(u,e),hide:d,type:h,color:l,unit:"",graphicalItemId:p}};return w.createElement(K0,{tooltipEntrySettings:g})}),Mie=(t,e)=>t>e?"start":t<e?"end":"middle",Die=(t,e,n)=>jr(typeof e=="function"?e(t):e,n,n*.8),Lie=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=X5(s,l),d=i+jr(t.cx,s,s/2),h=r+jr(t.cy,l,l/2),p=jr(t.innerRadius,u,0),g=Die(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:g,maxRadius:b}},zie=(t,e)=>{var n=Zn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Vie(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Uie=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ft("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=Y0(e,Aie);return w.createElement(Cu,cl({},i,{type:"linear",className:n}))},$ie=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var i=ft("recharts-pie-label-text",Vie(t));return w.createElement(B0,cl({},e,{alignmentBaseline:"middle",className:i}),r)};function Bie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=zr(n),d=cc(i),h=cc(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,_)=>{var S=(b.startAngle+b.endAngle)/2,E=Rn(b.cx,b.cy,b.outerRadius+p,S),A=mn(mn(mn(mn({},u),b),{},{stroke:"none"},d),{},{index:_,textAnchor:Mie(E.x,b.cx)},E),j=mn(mn(mn(mn({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:_,points:[Rn(b.cx,b.cy,b.outerRadius,S),E],key:"line"});return w.createElement(Ur,{zIndex:_n.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},w.createElement(pn,null,s&&Uie(s,j),$ie(i,A,St(b,l))))});return w.createElement(pn,{className:"recharts-pie-labels"},g)}function qie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(q0,{label:i}):w.createElement(Bie,{sectors:e,props:n,showLabels:r})}function Fie(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=Le(ll),d=Le(JE),h=Le(ite),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,_=Y0(i,Tie),S=uA(p,i.dataKey,l),E=dA(b),A=fA(g,i.dataKey,l);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((j,L)=>{if(j?.startAngle===0&&j?.endAngle===0&&e.length!==1)return null;var U=h==null||h===l,q=String(L)===u&&(d==null||i.dataKey===d)&&U,$=u?r:null,z=n&&q?n:$,O=mn(mn({},j),{},{stroke:j.stroke,tabIndex:-1,[N5]:L,[j5]:l});return w.createElement(pn,cl({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Dh(_,j,L),{onMouseEnter:S(j,L),onMouseLeave:E(j,L),onClick:A(j,L)}),w.createElement(cA,cl({option:s??z,index:L,shapeType:"sector",isActive:q},O)))}))}function Hie(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),_=zie(u,d),S=Math.abs(_),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(z=>St(z,h,0)!==0).length,j=(S>=360?A:A-1)*E,L=S-A*b-j,U=r.reduce((z,O)=>{var N=St(O,h,0);return z+(Oe(N)?N:0)},0),q;if(U>0){var $;q=r.map((z,O)=>{var N=St(z,h,0),k=St(z,p,O),M=Lie(n,s,z),I=(Oe(N)?N:0)/U,D,R=mn(mn({},z),i&&i[O]&&i[O].props);O?D=$.endAngle+Zn(_)*E*(N!==0?1:0):D=u;var re=D+Zn(_)*((N!==0?b:0)+I*L),Z=(D+re)/2,W=(M.innerRadius+M.outerRadius)/2,H=[{name:k,value:N,payload:R,dataKey:h,type:g,graphicalItemId:n.id}],te=Rn(M.cx,M.cy,W,Z);return $=mn(mn(mn(mn({},n.presentationProps),{},{percent:I,cornerRadius:typeof l=="string"?parseFloat(l):l,name:k,tooltipPayload:H,midAngle:Z,middleRadius:W,tooltipPosition:te},R),M),{},{value:N,dataKey:h,startAngle:D,endAngle:re,payload:R,paddingAngle:Zn(_)*E}),$})}return q}function Kie(t){var{showLabels:e,sectors:n,children:r}=t,i=w.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return w.createElement(Tre,{value:e?i:void 0},r)}function Gie(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,_=sd(e,"recharts-pie-"),S=n.current,[E,A]=w.useState(!1),j=w.useCallback(()=>{typeof b=="function"&&b(),A(!1)},[b]),L=w.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return w.createElement(Kie,{showLabels:!E,sectors:i},w.createElement(ad,{animationId:_,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:L,onAnimationEnd:j,key:_},U=>{var q=[],$=i&&i[0],z=$?.startAngle;return i?.forEach((O,N)=>{var k=S&&S[N],M=N>0?dc(O,"paddingAngle",0):0;if(k){var I=_t(k.endAngle-k.startAngle,O.endAngle-O.startAngle,U),D=mn(mn({},O),{},{startAngle:z+M,endAngle:z+I+M});q.push(D),z=D.endAngle}else{var{endAngle:R,startAngle:re}=O,Z=_t(0,R-re,U),W=mn(mn({},O),{},{startAngle:z+M,endAngle:z+Z+M});q.push(W),z=W.endAngle}}),n.current=q,w.createElement(pn,null,w.createElement(Fie,{sectors:q,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),w.createElement(qie,{showLabels:!E,sectors:i,props:e}),e.children)}var Yie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:_n.area};function Wie(t){var{id:e}=t,n=Y0(t,Nie),{hide:r,className:i,rootTabIndex:s}=t,l=w.useMemo(()=>oA(t.children,nm),[t.children]),u=Le(p=>qre(p,e,l)),d=w.useRef(null),h=ft("recharts-pie",i);return r||u==null?(d.current=null,w.createElement(pn,{tabIndex:s,className:h})):w.createElement(Ur,{zIndex:t.zIndex},w.createElement(kie,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),w.createElement(pn,{tabIndex:s,className:h},w.createElement(Gie,{props:mn(mn({},n),{},{sectors:u}),previousSectorsRef:d,id:e})))}function AL(t){var e=gn(t,Yie),{id:n}=e,r=Y0(e,jie),i=zr(r);return w.createElement(G0,{id:n,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(Eie,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),w.createElement(Rie,cl({},r,{id:s})),w.createElement(Wie,cl({},r,{id:s}))))}AL.displayName="Pie";var Xie=["points"];function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qie(t,e,n){return(e=Jie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jie(t){var e=Zie(t,"string");return typeof e=="symbol"?e:e+""}function Zie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(null,arguments)}function eae(t,e){if(t==null)return{};var n,r,i=tae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nae(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=ft(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=eae(s,Xie);return w.createElement(yL,Ev({},u,{className:i}))}function rae(t,e){return t==null?!1:e?!0:t.length===1}function TL(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:h=_n.scatter}=t;if(!rae(e,n))return null;var p=lA(n),g=wF(n),b=e.map((S,E)=>{var A,j,L=q1(q1(q1({r:3},l),g),{},{index:E,cx:(A=S.x)!==null&&A!==void 0?A:void 0,cy:(j=S.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:S.value,payload:S.payload,points:e});return w.createElement(nae,{key:"dot-".concat(E),option:n,dotProps:L,className:i})}),_={};return u&&d!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),w.createElement(Ur,{zIndex:h},w.createElement(pn,Ev({className:r},_),b))}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return(e=aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aae(t){var e=sae(t,"string");return typeof e=="symbol"?e:e+""}function sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NL=0,oae={xAxis:{},yAxis:{},zAxis:{}},jL=ti({name:"cartesianAxis",initialState:oae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:en()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:en()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:en()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:en()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:en()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:en()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:en()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:en()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:en()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=nk(nk({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:lae,replaceXAxis:cae,removeXAxis:uae,addYAxis:dae,replaceYAxis:fae,removeYAxis:hae,addZAxis:Lfe,replaceZAxis:zfe,removeZAxis:Vfe,updateYAxisWidth:mae}=jL.actions,pae=jL.reducer,gae=se([$n],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),vae=se([gae,Ws,Xs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),W0=()=>Le(vae),yae=()=>Le(cte);function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bae(t,e,n){return(e=xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xae(t){var e=wae(t,"string");return typeof e=="symbol"?e:e+""}function wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=F1(F1(F1({},u),cc(i)),RS(i)),h;return w.isValidElement(i)?h=w.cloneElement(i,d):typeof i=="function"?h=i(d):h=w.createElement(yL,d),w.createElement(pn,{className:"recharts-active-dot",clipPath:l},h)};function m_(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=_n.activeDot}=t,u=Le(ll),d=yae();if(e==null||d==null)return null;var h=e.find(p=>d.includes(p.payload));return Wt(h)?null:w.createElement(Ur,{zIndex:l},w.createElement(_ae,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var ik=(t,e,n)=>{var r=n??t;if(!Wt(r))return jr(r,e,0)},Sae=(t,e,n)=>{var r={},i=t.filter(R0),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,b=g.map(S=>S.dataKey),_=ik(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:_}}),d=s.map(h=>{var p=[h.dataKey].filter(b=>b!=null),g=ik(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]};function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){Eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eae(t,e,n){return(e=Aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Tae(t,"string");return typeof e=="symbol"?e:e+""}function Tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nae(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=jr(t,n,0,!0),u,d=[];if(Ut(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((j,L)=>j+(L.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,_={offset:b-l,size:0};u=r.reduce((j,L)=>{var U,q={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:_.offset+_.size+l,size:h?p:(U=L.barSize)!==null&&U!==void 0?U:0}},$=[...j,q];return _=$[$.length-1].position,$},d)}else{var S=jr(e,n,0,!0);n-2*S-(s-1)*l<=0&&(l=0);var E=(n-2*S-(s-1)*l)/s;E>1&&(E>>=0);var A=Ut(i)?Math.min(E,i):E;u=r.reduce((j,L,U)=>[...j,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:S+(E+l)*U+(E-A)/2,size:A}}],d)}return u}}var jae=(t,e,n,r,i,s,l)=>{var u=Wt(l)?e:l,d=Nae(n,r,i!==s?i:s,t,u);return i!==s&&d!=null&&(d=d.map(h=>Yp(Yp({},h),{},{position:Yp(Yp({},h.position),{},{offset:h.position.offset-i/2})}))),d},Cae=(t,e)=>{var n=P0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function Oae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ut(t.zIndex)?t.zIndex:e}var CL=t=>{var{chartData:e}=t,n=Ft(),r=er();return w.useEffect(()=>r?()=>{}:(n(fR(e)),()=>{n(fR(void 0))}),[e,n,r]),null},sk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OL=ti({name:"brush",initialState:sk,reducers:{setBrushSettings(t,e){return e.payload==null?sk:e.payload}}}),{setBrushSettings:Ufe}=OL.actions,Iae=OL.reducer;function Pae(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=kae(t,"string");return typeof e=="symbol"?e:e+""}function kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pA{static create(e){return new pA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Pae(pA,"EPS",1e-4);function Mae(t){return(t%180+180)%180}var Dae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Mae(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Lae={dots:[],areas:[],lines:[]},IL=ti({name:"referenceElements",initialState:Lae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=oa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=oa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=oa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:$fe,removeDot:Bfe,addArea:qfe,removeArea:Ffe,addLine:Hfe,removeLine:Kfe}=IL.actions,zae=IL.reducer,Vae=w.createContext(void 0),Uae=t=>{var{children:e}=t,[n]=w.useState("".concat(Zf("recharts"),"-clip")),r=W0();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return w.createElement(Vae.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function PL(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function $ae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Dae(r,n)}function Bae(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function hh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function qae(t,e){return PL(t,e+1)}function Fae(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,d=0,h=1,p=l,g=function(){var S=r?.[d];if(S===void 0)return{v:PL(r,h)};var E=d,A,j=()=>(A===void 0&&(A=n(S,E)),A),L=S.coordinate,U=d===0||hh(t,L,j,p,u);U||(d=0,p=l,h+=1),U&&(p=L+t*(j()/2+i),d+=h)},b;h<=s.length;)if(b=g(),b)return b.v;return[]}function Hae(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=e,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,b=!0,_=function(){var L=r[S],U=S,q,$=()=>(q===void 0&&(q=n(L,U)),q),z=L.coordinate,O=S===p||hh(t,z,$,g,d);if(!O)return b=!1,1;O&&(g=z+t*($()/2+i))},S=p;S<l&&!_();S+=h);if(b){for(var E=[],A=p;A<l;A+=h)E.push(r[A]);return E}}return[]}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){Kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kae(t,e,n){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=Yae(t,"string");return typeof e=="symbol"?e:e+""}function Yae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wae(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,h=function(b){var _=s[b],S,E=()=>(S===void 0&&(S=n(_,b)),S);if(b===l-1){var A=t*(_.coordinate+t*E()/2-d);s[b]=_=Er(Er({},_),{},{tickCoord:A>0?_.coordinate-A*t:_.coordinate})}else s[b]=_=Er(Er({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var j=hh(t,_.tickCoord,E,u,d);j&&(d=_.tickCoord-t*(E()/2+i),s[b]=Er(Er({},_),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Xae(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:h}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-h);if(l[u-1]=p=Er(Er({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var _=hh(t,p.tickCoord,()=>g,d,h);_&&(h=p.tickCoord-t*(g/2+i),l[u-1]=Er(Er({},p),{},{isShow:!0}))}}for(var S=s?u-1:u,E=function(L){var U=l[L],q,$=()=>(q===void 0&&(q=n(U,L)),q);if(L===0){var z=t*(U.coordinate-t*$()/2-d);l[L]=U=Er(Er({},U),{},{tickCoord:z<0?U.coordinate-z*t:U.coordinate})}else l[L]=U=Er(Er({},U),{},{tickCoord:U.coordinate});if(U.tickCoord!=null){var O=hh(t,U.tickCoord,$,d,h);O&&(d=U.tickCoord+t*($()/2+i),l[L]=Er(Er({},U),{},{isShow:!0}))}},A=0;A<S;A++)E(A);return l}function gA(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Oe(d)||$h.isSsr){var b;return(b=qae(i,Oe(d)?d:0))!==null&&b!==void 0?b:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",E=p&&S==="width"?zf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(U,q)=>{var $=typeof h=="function"?h(U.value,q):U.value;return S==="width"?$ae(zf($,{fontSize:e,letterSpacing:n}),E,g):zf($,{fontSize:e,letterSpacing:n})[S]},j=i.length>=2?Zn(i[1].coordinate-i[0].coordinate):1,L=Bae(s,j,S);return d==="equidistantPreserveStart"?Fae(j,L,A,i,l):d==="equidistantPreserveEnd"?Hae(j,L,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=Xae(j,L,A,i,l,d==="preserveStartEnd"):_=Wae(j,L,A,i,l),_.filter(U=>U.isShow))}var Qae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,h=l+d+u+(n?r:0);return Math.round(h)}return 0},Jae=["axisLine","width","height","className","hide","ticks","axisType"];function Zae(t,e){if(t==null)return{};var n,r,i=ese(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ese(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(null,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tse(t,e,n){return(e=nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=rse(t,"string");return typeof e=="symbol"?e:e+""}function rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Os={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_n.axis};function ise(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var h=On(On(On({},d),zr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=On(On({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=On(On({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",gc({},h,{className:ft("recharts-cartesian-axis-line",dc(u,"className"))}))}function ase(t,e,n,r,i,s,l,u,d){var h,p,g,b,_,S,E=u?-1:1,A=t.tickSize||l,j=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,b=n+ +!u*i,g=b-E*A,S=g-E*d,_=j;break;case"left":g=b=t.coordinate,p=e+ +!u*r,h=p-E*A,_=h-E*d,S=j;break;case"right":g=b=t.coordinate,p=e+ +u*r,h=p+E*A,_=h+E*d,S=j;break;default:h=p=t.coordinate,b=n+ +u*i,g=b+E*A,S=g+E*d,_=j;break}return{line:{x1:h,y1:g,x2:p,y2:b},tick:{x:_,y:S}}}function sse(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function ose(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function lse(t){var{option:e,tickProps:n,value:r}=t,i,s=ft(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,On(On({},n),{},{className:s}));else if(typeof e=="function")i=e(On(On({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ft(l,e?.className)),i=w.createElement(B0,gc({},n,{className:l}),r)}return i}var cse=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:h,orientation:p,mirror:g,x:b,y:_,width:S,height:E,tickSize:A,tickMargin:j,fontSize:L,letterSpacing:U,getTicksConfig:q,events:$,axisType:z}=t,O=gA(On(On({},q),{},{ticks:n}),L,U),N=sse(p,g),k=ose(p,g),M=zr(q),I=cc(r),D={};typeof i=="object"&&(D=i);var R=On(On({},M),{},{fill:"none"},D),re=O.map(H=>On({entry:H},ase(H,b,_,S,E,p,A,g,j))),Z=re.map(H=>{var{entry:te,line:oe}=H;return w.createElement(pn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},i&&w.createElement("line",gc({},R,oe,{className:ft("recharts-cartesian-axis-tick-line",dc(i,"className"))})))}),W=re.map((H,te)=>{var{entry:oe,tick:we}=H,V=On(On(On(On({textAnchor:N,verticalAnchor:k},M),{},{stroke:"none",fill:s},I),we),{},{index:te,payload:oe,visibleTicksCount:O.length,tickFormatter:l,padding:d},h);return w.createElement(pn,gc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},Dh($,oe,te)),r&&w.createElement(lse,{option:r,tickProps:V,value:"".concat(typeof l=="function"?l(oe.value,te):oe.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},W.length>0&&w.createElement(Ur,{zIndex:_n.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:e},W)),Z.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},Z))}),use=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=t,h=Zae(t,Jae),[p,g]=w.useState(""),[b,_]=w.useState(""),S=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Qae({ticks:S.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=w.useCallback(A=>{if(A){var j=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=j;var L=j[0];if(L){var U=window.getComputedStyle(L),q=U.fontSize,$=U.letterSpacing;(q!==p||$!==b)&&(g(q),_($))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Ur,{zIndex:t.zIndex},w.createElement(pn,{className:ft("recharts-cartesian-axis",s)},w.createElement(ise,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:zr(t)}),w.createElement(cse,{ref:E,axisType:d,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(are,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(pre,{label:t.label,labelRef:t.labelRef}),t.children)))}),vA=w.forwardRef((t,e)=>{var n=gn(t,Os);return w.createElement(use,gc({},n,{ref:e}))});vA.displayName="CartesianAxis";var dse=["x1","y1","x2","y2","key"],fse=["offset"],hse=["xAxisId","yAxisId"],mse=["xAxisId","yAxisId"];function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pse(t,e,n){return(e=gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=vse(t,"string");return typeof e=="symbol"?e:e+""}function vse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(null,arguments)}function Av(t,e){if(t==null)return{};var n,r,i=yse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bse=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return w.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RL(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:h}=n,p=Av(n,dse),g=(i=zr(p))!==null&&i!==void 0?i:{},{offset:b}=g,_=Av(g,fse);r=w.createElement("line",Wl({},_,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:h}))}return r}function xse(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Av(t,hse),d=i.map((h,p)=>{var g=Nr(Nr({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(RL,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function wse(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Av(t,mse),d=i.map((h,p)=>{var g=Nr(Nr({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(RL,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function _se(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],S=_?i+l-g:h[b+1]-g;if(S<=0)return null;var E=b%e.length;return w.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:S,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Sse(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],S=_?i+l-g:h[b+1]-g;if(S<=0)return null;var E=b%n.length;return w.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Ese=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return S5(gA(Nr(Nr(Nr({},Os),n),{},{ticks:E5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Ase=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return S5(gA(Nr(Nr(Nr({},Os),n),{},{ticks:E5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Tse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_n.grid};function X0(t){var e=FS(),n=HS(),r=R5(),i=Nr(Nr({},gn(t,Tse)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:h,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:_}=i,S=er(),E=Le(k=>eR(k,"xAxis",s,S)),A=Le(k=>eR(k,"yAxis",l,S));if(!Ha(h)||!Ha(p)||!Oe(u)||!Oe(d))return null;var j=i.verticalCoordinatesGenerator||Ese,L=i.horizontalCoordinatesGenerator||Ase,{horizontalPoints:U,verticalPoints:q}=i;if((!U||!U.length)&&typeof L=="function"){var $=b&&b.length,z=L({yAxis:A?Nr(Nr({},A),{},{ticks:$?b:A.ticks}):void 0,width:e??h,height:n??p,offset:r},$?!0:g);Jg(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(U=z)}if((!q||!q.length)&&typeof j=="function"){var O=_&&_.length,N=j({xAxis:E?Nr(Nr({},E),{},{ticks:O?_:E.ticks}):void 0,width:e??h,height:n??p,offset:r},O?!0:g);Jg(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(q=N)}return w.createElement(Ur,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(bse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(_se,Wl({},i,{horizontalPoints:U})),w.createElement(Sse,Wl({},i,{verticalPoints:q})),w.createElement(xse,Wl({},i,{offset:r,horizontalPoints:U,xAxis:E,yAxis:A})),w.createElement(wse,Wl({},i,{offset:r,verticalPoints:q,xAxis:E,yAxis:A}))))}X0.displayName="CartesianGrid";var Nse={},kL=ti({name:"errorBars",initialState:Nse,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Gfe,replaceErrorBar:Yfe,removeErrorBar:Wfe}=kL.actions,jse=kL.reducer,Cse=["children"];function Ose(t,e){if(t==null)return{};var n,r,i=Ise(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rse=w.createContext(Pse);function ML(t){var{children:e}=t,n=Ose(t,Cse);return w.createElement(Rse.Provider,{value:n},e)}function Q0(t,e){var n,r,i=Le(h=>Zs(h,t)),s=Le(h=>eo(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Wn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Xn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function yA(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=W0(),{needClipX:s,needClipY:l,needClip:u}=Q0(e,n);if(!u||!i)return null;var{x:d,y:h,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?d:d-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var DL=(t,e,n,r)=>Ya(t,"xAxis",e,r),LL=(t,e,n,r)=>Ga(t,"xAxis",e,r),zL=(t,e,n,r)=>Ya(t,"yAxis",n,r),VL=(t,e,n,r)=>Ga(t,"yAxis",n,r),kse=se([it,DL,zL,LL,VL],(t,e,n,r,i)=>Wa(t,"xAxis")?sl(e,r,!1):sl(n,i,!1)),Mse=(t,e,n,r,i)=>i;function Dse(t){return t.type==="line"}var Lse=se([Wh,Mse],(t,e)=>t.filter(Dse).find(n=>n.id===e)),zse=se([it,DL,zL,LL,VL,Lse,kse,vE],(t,e,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,_;if(b!=null&&b.length>0?_=b:_=d?.slice(h,p+1),_!=null)return Eoe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}});function UL(t){var e=cc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var H1={exports:{}},K1={};var uk;function Vse(){if(uk)return K1;uk=1;var t=Wu();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return K1.useSyncExternalStoreWithSelector=function(d,h,p,g,b){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function A($){if(!j){if(j=!0,L=$,$=g($),b!==void 0&&S.hasValue){var z=S.value;if(b(z,$))return U=z}return U=$}if(z=U,n(L,$))return z;var O=g($);return b!==void 0&&b(z,O)?(L=$,z):(L=$,U=O)}var j=!1,L,U,q=p===void 0?null:p;return[function(){return A(h())},q===null?void 0:function(){return A(q())}]},[h,p,g,b]);var E=r(d,_[0],_[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},K1}var dk;function Use(){return dk||(dk=1,H1.exports=Vse()),H1.exports}Use();function $se(t){t()}function Bse(){let t=null,e=null;return{clear(){t=null,e=null},notify(){$se(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fk={notify(){},get:()=>[]};function qse(t,e){let n,r=fk,i=0,s=!1;function l(E){p();const A=r.subscribe(E);let j=!1;return()=>{j||(j=!0,A(),g())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(d),r=Bse())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fk)}function b(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return S}var Fse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hse=Fse(),Kse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gse=Kse(),Yse=()=>Hse||Gse?w.useLayoutEffect:w.useEffect,Wse=Yse();function hk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Xse(t,e){if(hk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!hk(t[n[i]],e[n[i]]))return!1;return!0}var Qse=Symbol.for("react-redux-context"),Jse=typeof globalThis<"u"?globalThis:{};function Zse(){if(!w.createContext)return{};const t=Jse[Qse]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var eoe=Zse();function toe(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const d=qse(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);Wse(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||eoe;return w.createElement(u.Provider,{value:s},e)}var noe=toe,roe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function ioe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function rm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(roe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Xse(t[r],e[r]))return!1}else if(!ioe(t[r],e[r]))return!1;return!0}var aoe=["id"],soe=["type","layout","connectNulls","needClip","shape"],ooe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(null,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function loe(t,e,n){return(e=coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t){var e=uoe(t,"string");return typeof e=="symbol"?e:e+""}function uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bA(t,e){if(t==null)return{};var n,r,i=doe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function doe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var foe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:hl(n,e),payload:t}]},hoe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:hl(l,e),hide:u,type:h,color:r,unit:d,graphicalItemId:p}};return w.createElement(K0,{tooltipEntrySettings:g})}),$L=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function moe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var poe=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return $L(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>s){u=[...n.slice(0,d),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...moe(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function goe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=bA(r,aoe),h=zr(d);return w.createElement(TL,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function voe(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ra(Ra({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(iA,{value:e?i:void 0},n)}function pk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:d,needClip:h,shape:p}=s,g=bA(s,soe),b=Ra(Ra({},Or(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(cA,mh({shapeType:"curve",option:p},b,{pathRef:n})),w.createElement(goe,{points:r,clipPathId:e,props:s}))}function yoe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function boe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:b,width:_,height:S,onAnimationEnd:E,onAnimationStart:A}=n,j=i.current,L=sd(l,"recharts-line-"),U=w.useRef(L),[q,$]=w.useState(!1),z=!q,O=w.useCallback(()=>{typeof E=="function"&&E(),$(!1)},[E]),N=w.useCallback(()=>{typeof A=="function"&&A(),$(!0)},[A]),k=yoe(r.current),M=w.useRef(0);U.current!==L&&(M.current=s.current,U.current=L);var I=M.current;return w.createElement(voe,{points:l,showLabels:z},n.children,w.createElement(ad,{animationId:L,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:O,onAnimationStart:N,key:L},D=>{var R=_t(I,k+I,D),re=Math.min(R,k),Z;if(d)if(u){var W="".concat(u).split(/[,\s]+/gim).map(oe=>parseFloat(oe));Z=poe(re,k,W)}else Z=$L(k,re);else Z=u==null?void 0:String(u);if(D>0&&k>0&&(i.current=l,s.current=Math.max(s.current,re)),j){var H=j.length/l.length,te=D===1?l:l.map((oe,we)=>{var V=Math.floor(we*H);if(j[V]){var K=j[V];return Ra(Ra({},oe),{},{x:_t(K.x,oe.x,D),y:_t(K.y,oe.y,D)})}return b?Ra(Ra({},oe),{},{x:_t(_*2,oe.x,D),y:_t(S/2,oe.y,D)}):Ra(Ra({},oe),{},{x:oe.x,y:oe.y})});return i.current=te,w.createElement(pk,{props:n,points:te,clipPathId:e,pathRef:r,strokeDasharray:Z})}return w.createElement(pk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Z})}),w.createElement(q0,{label:n.label}))}function xoe(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(boe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var woe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:St(t.payload,e)}};class _oe extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:h,height:p,id:g,needClip:b,zIndex:_}=this.props;if(e)return null;var S=ft("recharts-line",i),E=g,{r:A,strokeWidth:j}=UL(n),L=lA(n),U=A*2+j,q=b?"url(#clipPath-".concat(L?"":"dots-").concat(E,")"):void 0;return w.createElement(Ur,{zIndex:_},w.createElement(pn,{className:S},b&&w.createElement("defs",null,w.createElement(yA,{clipPathId:E,xAxisId:s,yAxisId:l}),!L&&w.createElement("clipPath",{id:"clipPath-dots-".concat(E)},w.createElement("rect",{x:d-U/2,y:u-U/2,width:h+U,height:p+U}))),w.createElement(ML,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:woe,errorBarOffset:0},w.createElement(xoe,{props:this.props,clipPathId:E}))),w.createElement(m_,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:q}))}}var BL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:_n.line,type:"linear"};function Soe(t){var e=gn(t,BL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:g,legendType:b,xAxisId:_,yAxisId:S,id:E}=e,A=bA(e,ooe),{needClip:j}=Q0(_,S),L=W0(),U=ml(),q=er(),$=Le(M=>zse(M,_,S,q,E));if(U!=="horizontal"&&U!=="vertical"||$==null||L==null)return null;var{height:z,width:O,x:N,y:k}=L;return w.createElement(_oe,mh({},A,{id:E,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:b,xAxisId:_,yAxisId:S,points:$,layout:U,height:z,width:O,left:N,top:k,needClip:j}))}function Eoe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((h,p)=>{var g=St(h,l);if(e==="horizontal"){var b=Qg({axis:n,ticks:i,bandSize:u,entry:h,index:p}),_=Wt(g)?null:r.scale(g);return{x:b,y:_,value:g,payload:h}}var S=Wt(g)?null:n.scale(g),E=Qg({axis:r,ticks:s,bandSize:u,entry:h,index:p});return S==null||E==null?null:{x:S,y:E,value:g,payload:h}}).filter(Boolean)}function Aoe(t){var e=gn(t,BL),n=er();return w.createElement(G0,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(hA,{legendPayload:foe(e)}),w.createElement(hoe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(mA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(Soe,mh({},e,{id:r}))))}var Ku=w.memo(Aoe,rm);Ku.displayName="Line";function Xa(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:NL}function Qa(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:NL}var qL=(t,e,n)=>Ya(t,"xAxis",Xa(t,e),n),FL=(t,e,n)=>Ga(t,"xAxis",Xa(t,e),n),HL=(t,e,n)=>Ya(t,"yAxis",Qa(t,e),n),KL=(t,e,n)=>Ga(t,"yAxis",Qa(t,e),n),Toe=se([it,qL,HL,FL,KL],(t,e,n,r,i)=>Wa(t,"xAxis")?sl(e,r,!1):sl(n,i,!1)),Noe=(t,e)=>e,GL=se([Wh,Noe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),YL=t=>{var e=it(t),n=Wa(e,"xAxis");return n?"yAxis":"xAxis"},joe=(t,e)=>{var n=YL(t);return n==="yAxis"?Qa(t,e):Xa(t,e)},Coe=(t,e,n)=>yv(t,YL(t),joe(t,e),n),Ooe=se([GL,Coe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=P0(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),Ioe=se([it,qL,HL,FL,KL,Ooe,M3,Toe,GL,oZ],(t,e,n,r,i,s,l,u,d,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=d,S;if(_&&_.length>0?S=_:S=p?.slice(g,b+1),S!=null)return Xoe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:S,chartBaseValue:h,bandSize:u})}}),Poe=["id"],Roe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(null,arguments)}function WL(t,e){if(t==null)return{};var n,r,i=koe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function koe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t,e,n){return(e=Doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Doe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tv(t,e){return t&&t!=="none"?t:e}var zoe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:Tv(r,i),value:hl(n,e),payload:t}]},Voe=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:hl(l,e),hide:u,type:h,color:Tv(r,s),unit:d,graphicalItemId:p}};return w.createElement(K0,{tooltipEntrySettings:g})});function Uoe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=zr(r);return w.createElement(TL,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function $oe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Su(Su({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return w.createElement(iA,{value:e?i:void 0},n)}function vk(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:d,connectNulls:h,isRange:p}=s,{id:g}=s,b=WL(s,Poe),_=zr(b),S=Or(b);return w.createElement(w.Fragment,null,e?.length>1&&w.createElement(pn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Cu,tc({},S,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&w.createElement(Cu,tc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),d!=="none"&&p&&w.createElement(Cu,tc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),w.createElement(Uoe,{points:e,props:b,clipPathId:i}))}function Boe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,d=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Ut(u)||!Ut(d))return null;var h=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.x||0));return Oe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Oe(p)?w.createElement("rect",{x:0,y:u<d?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}function qoe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,d=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Ut(u)||!Ut(d))return null;var h=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.y||0));return Oe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Oe(p)?w.createElement("rect",{x:u<d?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function Foe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?w.createElement(Boe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):w.createElement(qoe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Hoe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:_}=r,S=w.useMemo(()=>({points:l,baseLine:u}),[l,u]),E=sd(S,"recharts-area-"),A=EY(),[j,L]=w.useState(!1),U=!j,q=w.useCallback(()=>{typeof _=="function"&&_(),L(!1)},[_]),$=w.useCallback(()=>{typeof b=="function"&&b(),L(!0)},[b]);if(A==null)return null;var z=i.current,O=s.current;return w.createElement($oe,{showLabels:U,points:l},r.children,w.createElement(ad,{animationId:E,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:q,onAnimationStart:$,key:E},N=>{if(z){var k=z.length/l.length,M=N===1?l:l.map((D,R)=>{var re=Math.floor(R*k);if(z[re]){var Z=z[re];return Su(Su({},D),{},{x:_t(Z.x,D.x,N),y:_t(Z.y,D.y,N)})}return D}),I;return Oe(u)?I=_t(O,u,N):Wt(u)||qi(u)?I=_t(O,0,N):I=u.map((D,R)=>{var re=Math.floor(R*k);if(Array.isArray(O)&&O[re]){var Z=O[re];return Su(Su({},D),{},{x:_t(Z.x,D.x,N),y:_t(Z.y,D.y,N)})}return D}),N>0&&(i.current=M,s.current=I),w.createElement(vk,{points:M,baseLine:I,needClip:e,clipPathId:n,props:r})}return N>0&&(i.current=l,s.current=u),w.createElement(pn,null,d&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(Foe,{alpha:N,points:l,baseLine:u,layout:A,strokeWidth:r.strokeWidth}))),w.createElement(pn,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(vk,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),w.createElement(q0,{label:r.label}))}function Koe(t){var{needClip:e,clipPathId:n,props:r}=t,i=w.useRef(null),s=w.useRef();return w.createElement(Hoe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Goe extends w.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:d,yAxisId:h,width:p,height:g,id:b,baseLine:_,zIndex:S}=this.props;if(e)return null;var E=ft("recharts-area",i),A=b,{r:j,strokeWidth:L}=UL(n),U=lA(n),q=j*2+L,$=u?"url(#clipPath-".concat(U?"":"dots-").concat(A,")"):void 0;return w.createElement(Ur,{zIndex:S},w.createElement(pn,{className:E},u&&w.createElement("defs",null,w.createElement(yA,{clipPathId:A,xAxisId:d,yAxisId:h}),!U&&w.createElement("clipPath",{id:"clipPath-dots-".concat(A)},w.createElement("rect",{x:l-q/2,y:s-q/2,width:p+q,height:g+q}))),w.createElement(Koe,{needClip:u,clipPathId:A,props:this.props})),w.createElement(m_,{points:r,mainColor:Tv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}),this.props.isRange&&Array.isArray(_)&&w.createElement(m_,{points:_,mainColor:Tv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:$}))}}var XL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:_n.area};function Yoe(t){var e,n=gn(t,XL),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:h,fillOpacity:p,hide:g,isAnimationActive:b,legendType:_,stroke:S,xAxisId:E,yAxisId:A}=n,j=WL(n,Roe),L=ml(),U=Q6(),{needClip:q}=Q0(E,A),$=er(),{points:z,isRange:O,baseLine:N}=(e=Le(re=>Ioe(re,t.id,$)))!==null&&e!==void 0?e:{},k=W0();if(L!=="horizontal"&&L!=="vertical"||k==null||U!=="AreaChart"&&U!=="ComposedChart")return null;var{height:M,width:I,x:D,y:R}=k;return!z||!z.length?null:w.createElement(Goe,tc({},j,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:N,connectNulls:u,dot:d,fill:h,fillOpacity:p,height:M,hide:g,layout:L,isAnimationActive:b==="auto"?!$h.isSsr:b,isRange:O,legendType:_,needClip:q,points:z,stroke:S,width:I,left:D,top:R,xAxisId:E,yAxisId:A}))}var Woe=(t,e,n,r,i)=>{var s=n??e;if(Oe(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Xoe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:_}=t,S=i&&i.length,E=Woe(s,l,n,u,d),A=s==="horizontal",j=!1,L=h.map((q,$)=>{var z,O,N;if(S)N=i[p+$];else{var k=St(q,r);Array.isArray(k)?(N=k,j=!0):N=[E,k]}var M=(z=(O=N)===null||O===void 0?void 0:O[1])!==null&&z!==void 0?z:null,I=M==null||S&&!e&&St(q,r)==null;return A?{x:Qg({axis:u,ticks:g,bandSize:_,entry:q,index:$}),y:I?null:d.scale(M),value:N,payload:q}:{x:I?null:u.scale(M),y:Qg({axis:d,ticks:b,bandSize:_,entry:q,index:$}),value:N,payload:q}}),U;return S||j?U=L.map(q=>{var $=Array.isArray(q.value)?q.value[0]:null;return A?{x:q.x,y:$!=null&&q.y!=null?d.scale($):null,payload:q.payload}:{x:$!=null?u.scale($):null,y:q.y,payload:q.payload}}):U=A?d.scale(E):u.scale(E),{points:L,baseLine:U,isRange:j}}function Qoe(t){var e=gn(t,XL),n=er();return w.createElement(G0,{id:e.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(hA,{legendPayload:zoe(e)}),w.createElement(Voe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(mA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:A5(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),w.createElement(Yoe,tc({},e,{id:r}))))}var xA=w.memo(Qoe,rm);xA.displayName="Area";var Joe="Invariant failed";function Zoe(t,e){throw new Error(Joe)}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(null,arguments)}function Nv(t){return w.createElement(cA,p_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var ele=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Oe(e))return e;var s=Oe(r)||Wt(r);return s?e(r,i):(s||Zoe(),n)}},tle=(t,e,n)=>n,nle=(t,e)=>e,im=se([Wh,nle],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),rle=se([im],t=>t?.maxBarSize),ile=(t,e,n,r)=>r,ale=se([it,Wh,Xa,Qa,tle],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),sle=(t,e,n)=>{var r=it(t),i=Xa(t,e),s=Qa(t,e);if(!(i==null||s==null))return r==="horizontal"?yv(t,"yAxis",s,n):yv(t,"xAxis",i,n)},ole=(t,e)=>{var n=it(t),r=Xa(t,e),i=Qa(t,e);if(!(r==null||i==null))return n==="horizontal"?ZP(t,"xAxis",r):ZP(t,"yAxis",i)},lle=se([ale,sZ,ole],Sae),cle=(t,e,n)=>{var r,i,s=im(t,e);if(s!=null){var l=Xa(t,e),u=Qa(t,e);if(!(l==null||u==null)){var d=it(t),h=X3(t),{maxBarSize:p}=s,g=Wt(p)?h:p,b,_;return d==="horizontal"?(b=Ya(t,"xAxis",l,n),_=Ga(t,"xAxis",l,n)):(b=Ya(t,"yAxis",u,n),_=Ga(t,"yAxis",u,n)),(r=(i=sl(b,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},QL=(t,e,n)=>{var r=it(t),i=Xa(t,e),s=Qa(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=Ya(t,"xAxis",i,n),u=Ga(t,"xAxis",i,n)):(l=Ya(t,"yAxis",s,n),u=Ga(t,"yAxis",s,n)),sl(l,u)}},ule=se([lle,X3,aZ,Q3,cle,QL,rle],jae),dle=(t,e,n)=>{var r=Xa(t,e);if(r!=null)return Ya(t,"xAxis",r,n)},fle=(t,e,n)=>{var r=Qa(t,e);if(r!=null)return Ya(t,"yAxis",r,n)},hle=(t,e,n)=>{var r=Xa(t,e);if(r!=null)return Ga(t,"xAxis",r,n)},mle=(t,e,n)=>{var r=Qa(t,e);if(r!=null)return Ga(t,"yAxis",r,n)},ple=se([ule,im],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),gle=se([sle,im],Cae),vle=se([$n,BS,dle,fle,hle,mle,ple,it,M3,QL,gle,im,ile],(t,e,n,r,i,s,l,u,d,h,p,g,b)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:E}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:A}=g,j;if(A!=null&&A.length>0?j=A:j=_?.slice(S,E+1),j!=null)return Kle({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:j,offset:t,cells:b,dataStartIndex:S})}}),yle=["index"];function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(null,arguments)}function ble(t,e){if(t==null)return{};var n,r,i=xle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JL=w.createContext(void 0),wle=t=>{var e=w.useContext(JL);if(e!=null)return e.stackId;if(t!=null)return A5(t)},_le=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Sle=t=>{var e=w.useContext(JL);if(e!=null){var{stackId:n}=e;return"url(#".concat(_le(n,t),")")}},Ele=t=>{var{index:e}=t,n=ble(t,yle),r=Sle(e);return w.createElement(pn,g_({className:"recharts-bar-stack-layer",clipPath:r},n))},Ale=["onMouseEnter","onMouseLeave","onClick"],Tle=["value","background","tooltipPosition"],Nle=["id"],jle=["onMouseEnter","onClick","onMouseLeave"];function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(null,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cle(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Ile(t,"string");return typeof e=="symbol"?e:e+""}function Ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jv(t,e){if(t==null)return{};var n,r,i=Ple(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ple(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rle=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:hl(n,e),payload:t}]},kle=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:d,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:hl(s,e),hide:l,type:d,color:i,unit:u,graphicalItemId:h}};return w.createElement(K0,{tooltipEntrySettings:p})});function Mle(t){var e=Le(ll),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,h=jv(s,Ale),p=uA(l,r,s.id),g=dA(u),b=fA(d,r,s.id);if(!i||n==null)return null;var _=cc(i);return w.createElement(Ur,{zIndex:Oae(i,_n.barBackground)},n.map((S,E)=>{var{value:A,background:j,tooltipPosition:L}=S,U=jv(S,Tle);if(!j)return null;var q=p(S,E),$=g(S,E),z=b(S,E),O=Mr(Mr(Mr(Mr(Mr({option:i,isActive:String(E)===e},U),{},{fill:"#eee"},j),_),Dh(h,S,E)),{},{onMouseEnter:q,onMouseLeave:$,onClick:z,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return w.createElement(Nv,qs({key:"background-bar-".concat(E)},O))}))}function Dle(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Mr(Mr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(iA,{value:e?i:void 0},n)}function Lle(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Le(ll),d=Le(JE),h=n&&String(s)===u&&(d==null||l===d),p=h?n:e;return h?w.createElement(Ur,{zIndex:_n.activeBar},w.createElement(Nv,qs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))):w.createElement(Nv,qs({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function zle(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(Nv,qs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Vle(t){var e,{data:n,props:r}=t,i=(e=zr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=jv(i,Nle),{shape:u,dataKey:d,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,_=jv(r,jle),S=uA(p,d,s),E=dA(b),A=fA(g,d,s);return n?w.createElement(w.Fragment,null,n.map((j,L)=>w.createElement(Ele,qs({index:L,key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(L),className:"recharts-bar-rectangle"},Dh(_,j,L),{onMouseEnter:S(j,L),onMouseLeave:E(j,L),onClick:A(j,L)}),h?w.createElement(Lle,{shape:u,activeBar:h,baseProps:l,entry:j,index:L,dataKey:d}):w.createElement(zle,{shape:u,baseProps:l,entry:j,index:L,dataKey:d})))):null}function Ule(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,b=sd(e,"recharts-bar-"),[_,S]=w.useState(!1),E=!_,A=w.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),j=w.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return w.createElement(Dle,{showLabels:E,rects:r},w.createElement(ad,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:A,onAnimationStart:j,key:b},L=>{var U=L===1?r:r?.map((q,$)=>{var z=g&&g[$];if(z)return Mr(Mr({},q),{},{x:_t(z.x,q.x,L),y:_t(z.y,q.y,L),width:_t(z.width,q.width,L),height:_t(z.height,q.height,L)});if(i==="horizontal"){var O=_t(0,q.height,L),N=_t(q.stackedBarStart,q.y,L);return Mr(Mr({},q),{},{y:N,height:O})}var k=_t(0,q.width,L),M=_t(q.stackedBarStart,q.x,L);return Mr(Mr({},q),{},{width:k,x:M})});return L>0&&(n.current=U??null),U==null?null:w.createElement(pn,null,w.createElement(Vle,{props:e,data:U}))}),w.createElement(q0,{label:e.label}),e.children)}function $le(t){var e=w.useRef(null);return w.createElement(Ule,{previousRectanglesRef:e,props:t})}var ZL=0,Ble=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:St(t,e)}};class qle extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:d,id:h}=this.props;if(e||n==null)return null;var p=ft("recharts-bar",i),g=h;return w.createElement(pn,{className:p,id:h},u&&w.createElement("defs",null,w.createElement(yA,{clipPathId:g,xAxisId:s,yAxisId:l})),w.createElement(pn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Mle,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement($le,this.props)))}}var Fle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ZL,xAxisId:0,yAxisId:0,zIndex:_n.bar};function Hle(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=Q0(e,n),b=ml(),_=er(),S=oA(t.children,nm),E=Le(L=>vle(L,t.id,_,S));if(b!=="vertical"&&b!=="horizontal")return null;var A,j=E?.[0];return j==null||j.height==null||j.width==null?A=0:A=b==="vertical"?j.height/2:j.width/2,w.createElement(ML,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:Ble,errorBarOffset:A},w.createElement(qle,qs({},t,{layout:b,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function Kle(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:g,offset:b,cells:_,parentViewBox:S,dataStartIndex:E}=t,A=e==="horizontal"?u:l,j=p?A.scale.domain():null,L=BG({numericAxis:A}),U=A.scale(L);return g.map((q,$)=>{var z,O,N,k,M,I;if(p){var D=p[$+E];if(D==null)return null;z=LG(D,j)}else z=St(q,n),Array.isArray(z)||(z=[L,z]);var R=ele(r,ZL)(z[1],$);if(e==="horizontal"){var re,[Z,W]=[u.scale(z[0]),u.scale(z[1])];O=rI({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:q,index:$}),N=(re=W??Z)!==null&&re!==void 0?re:void 0,k=i.size;var H=Z-W;if(M=qi(H)?0:H,I={x:O,y:b.top,width:k,height:b.height},Math.abs(R)>0&&Math.abs(M)<Math.abs(R)){var te=Zn(M||R)*(Math.abs(R)-Math.abs(M));N-=te,M+=te}}else{var[oe,we]=[l.scale(z[0]),l.scale(z[1])];if(O=oe,N=rI({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:q,index:$}),k=we-oe,M=i.size,I={x:b.left,y:N,width:b.width,height:M},Math.abs(R)>0&&Math.abs(k)<Math.abs(R)){var V=Zn(k||R)*(Math.abs(R)-Math.abs(k));k+=V}}if(O==null||N==null||k==null||M==null)return null;var K=Mr(Mr({},q),{},{stackedBarStart:U,x:O,y:N,width:k,height:M,value:p?z:z[1],payload:q,background:I,tooltipPosition:{x:O+k/2,y:N+M/2},parentViewBox:S},_&&_[$]&&_[$].props);return K}).filter(Boolean)}function Gle(t){var e=gn(t,Fle),n=wle(e.stackId),r=er();return w.createElement(G0,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(hA,{legendPayload:Rle(e)}),w.createElement(kle,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(mA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement(Ur,{zIndex:e.zIndex},w.createElement(Hle,qs({},e,{id:i})))))}var wA=w.memo(Gle,rm);wA.displayName="Bar";var Yle=["domain","range"],Wle=["domain","range"];function bk(t,e){if(t==null)return{};var n,r,i=Xle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xk(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function ez(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=bk(t,Yle),{domain:s,range:l}=e,u=bk(e,Wle);return!xk(n,s)||!xk(r,l)?!1:rm(i,u)}var Qle=["dangerouslySetInnerHTML","ticks","scale"],Jle=["id","scale"];function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(null,arguments)}function wk(t,e){if(t==null)return{};var n,r,i=Zle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ece(t){var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(lae(t)):n.current!==t&&e(cae({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(uae(n.current)),n.current=null)},[e]),null}var tce=t=>{var{xAxisId:e,className:n}=t,r=Le(BS),i=er(),s="xAxis",l=Le(j=>C6(j,s,e,i)),u=Le(j=>A6(j,e)),d=Le(j=>iee(j,e)),h=Le(j=>s6(j,e));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,_=wk(t,Qle),{id:S,scale:E}=h,A=wk(h,Jle);return w.createElement(vA,v_({},_,A,{x:d.x,y:d.y,width:u.width,height:u.height,className:ft("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},nce={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:Wn.allowDecimals,allowDuplicatedCategory:Wn.allowDuplicatedCategory,angle:Wn.angle,axisLine:Os.axisLine,height:Wn.height,hide:!1,includeHidden:Wn.includeHidden,interval:Wn.interval,minTickGap:Wn.minTickGap,mirror:Wn.mirror,orientation:Wn.orientation,padding:Wn.padding,reversed:Wn.reversed,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:Wn.type,xAxisId:0},rce=t=>{var e=gn(t,nce);return w.createElement(w.Fragment,null,w.createElement(ece,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(tce,e))},J0=w.memo(rce,ez);J0.displayName="XAxis";var ice=["dangerouslySetInnerHTML","ticks","scale"],ace=["id","scale"];function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(null,arguments)}function _k(t,e){if(t==null)return{};var n,r,i=sce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oce(t){var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(dae(t)):n.current!==t&&e(fae({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(hae(n.current)),n.current=null)},[e]),null}var lce=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),l=w.useRef(null),u=Le(BS),d=er(),h=Ft(),p="yAxis",g=Le(z=>T6(z,e)),b=Le(z=>see(z,e)),_=Le(z=>C6(z,p,e,d)),S=Le(z=>o6(z,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||rA(i)||w.isValidElement(i)||S==null)){var z=s.current;if(z){var O=z.getCalculatedWidth();Math.round(g.width)!==Math.round(O)&&h(mae({id:e,width:O}))}}},[_,g,h,i,e,r,S]),g==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:j}=t,L=_k(t,ice),{id:U,scale:q}=S,$=_k(S,ace);return w.createElement(vA,y_({},L,$,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:ft("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},cce={allowDataOverflow:Xn.allowDataOverflow,allowDecimals:Xn.allowDecimals,allowDuplicatedCategory:Xn.allowDuplicatedCategory,angle:Xn.angle,axisLine:Os.axisLine,hide:!1,includeHidden:Xn.includeHidden,interval:Xn.interval,minTickGap:Xn.minTickGap,mirror:Xn.mirror,orientation:Xn.orientation,padding:Xn.padding,reversed:Xn.reversed,scale:Xn.scale,tick:Xn.tick,tickCount:Xn.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:Xn.type,width:Xn.width,yAxisId:0},uce=t=>{var e=gn(t,cce);return w.createElement(w.Fragment,null,w.createElement(oce,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(lce,e))},Gu=w.memo(uce,ez);Gu.displayName="YAxis";var dce=(t,e)=>e,_A=se([dce,it,i6,qn,H6,to,wte,$n],jte),SA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},tz=Fi("mouseClick"),nz=zh();nz.startListening({actionCreator:tz,effect:(t,e)=>{var n=t.payload,r=_A(e.getState(),SA(n));r?.activeIndex!=null&&e.dispatch(xee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var b_=Fi("mouseMove"),rz=zh(),Wp=null;rz.startListening({actionCreator:b_,effect:(t,e)=>{var n=t.payload;Wp!==null&&cancelAnimationFrame(Wp);var r=SA(n);Wp=requestAnimationFrame(()=>{var i=e.getState(),s=KE(i,i.tooltip.settings.shared);if(s==="axis"){var l=_A(i,r);l?.activeIndex!=null?e.dispatch(L6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(D6())}Wp=null})}});function fce(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var Sk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},iz=ti({name:"rootProps",initialState:Sk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Sk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),hce=iz.reducer,{updateOptions:mce}=iz.actions,az=ti({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:pce}=az.actions,gce=az.reducer,sz=Fi("keyDown"),oz=Fi("focus"),EA=zh();EA.startListening({actionCreator:sz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=GE(i,pd(n),Qh(n),em(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=to(n);if(s==="Enter"){var h=xv(n,"axis","hover",String(i.index));e.dispatch(l_({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=uee(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=u+b*g;if(!(d==null||_>=d.length||_<0)){var S=xv(n,"axis","hover",String(_));e.dispatch(l_({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});EA.startListening({actionCreator:oz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=xv(n,"axis","hover",String(s));e.dispatch(l_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Li=Fi("externalEvent"),lz=zh(),G1=new Map;lz.startListening({actionCreator:Li,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=G1.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:ste(u),activeDataKey:JE(u),activeIndex:ll(u),activeLabel:Y6(u),activeTooltipIndex:ll(u),isTooltipActive:ote(u)};n(d,r)}finally{G1.delete(i)}});G1.set(i,l)}}});var vce=se([hd],t=>t.tooltipItemPayloads),yce=se([vce,Zh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),cz=Fi("touchMove"),uz=zh();uz.startListening({actionCreator:cz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=KE(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=_A(r,SA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(L6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(N5),g=(u=h.getAttribute(j5))!==null&&u!==void 0?u:void 0,b=md(r).find(E=>E.id===g);if(p==null||b==null||g==null)return;var{dataKey:_}=b,S=yce(r,p,g);e.dispatch(M6({activeDataKey:_,activeIndex:p,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var bce=Y4({brush:Iae,cartesianAxis:pae,chartData:ane,errorBars:jse,graphicalItems:_ie,layout:IG,legend:VY,options:ene,polarAxis:Dre,polarOptions:gce,referenceElements:zae,rootProps:hce,tooltip:wee,zIndex:Bte}),xce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return nG({reducer:bce,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([nz.middleware,rz.middleware,EA.middleware,lz.middleware,uz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(c5({type:"raf"}))},devTools:{serialize:{replacer:fce},name:"recharts-".concat(n)}})};function dz(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=er(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=xce(e,r));var l=MS;return w.createElement(noe,{context:l,store:s.current},n)}function wce(t){var{layout:e,margin:n}=t,r=Ft(),i=er();return w.useEffect(()=>{i||(r(jG(e)),r(NG(n)))},[r,i,e,n]),null}var fz=w.memo(wce,rm);function hz(t){var e=Ft();return w.useEffect(()=>{e(mce(t))},[e,t]),null}function Ek(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Ft();return w.useLayoutEffect(()=>(r.current&&i(Ute({zIndex:e,element:r.current,isPanorama:n})),()=>{i($te({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function Ak(t){var{children:e,isPanorama:n}=t,r=Le(Ote);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(Ek,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(Ek,{key:l,zIndex:l,isPanorama:n})))}var _ce=["children"];function Sce(t,e){if(t==null)return{};var n,r,i=Ece(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ece(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(null,arguments)}var Ace={width:"100%",height:"100%",display:"block"},Tce=w.forwardRef((t,e)=>{var n=FS(),r=HS(),i=F5();if(!Ha(n)||!Ha(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),w.createElement(ES,Cv({},l,{title:u,desc:d,role:p,tabIndex:h,width:n,height:r,style:Ace,ref:e}),s)}),Nce=t=>{var{children:e}=t,n=Le(p0);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(ES,{width:r,height:i,x:l,y:s},e)},Tk=w.forwardRef((t,e)=>{var{children:n}=t,r=Sce(t,_ce),i=er();return i?w.createElement(Nce,null,w.createElement(Ak,{isPanorama:!0},n)):w.createElement(Tce,Cv({ref:e},r),w.createElement(Ak,{isPanorama:!1},n))});function jce(){var t=Ft(),[e,n]=w.useState(null),r=Le(YG);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ut(s)&&s!==r&&t(OG(s))}},[e,t,r]),n}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oce(t,e,n){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Pce(t,"string");return typeof e=="symbol"?e:e+""}function Pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(null,arguments)}var Rce=()=>(mne(),null);function Ov(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var kce=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:Ov((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Ov((r=t.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((h,p)=>{l(g=>{var b=Math.round(h),_=Math.round(p);return g.containerWidth===b&&g.containerHeight===_?g:{containerWidth:b,containerHeight:_}})},[]),d=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var b=S=>{var{width:E,height:A}=S[0].contentRect;u(E,A)},_=new ResizeObserver(b);_.observe(h),i.current=_}},[e,u]);return w.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(y0,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",vc({ref:d},t)))}),Mce=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:Ov(n),containerHeight:Ov(r)}),l=w.useCallback((d,h)=>{s(p=>{var g=Math.round(d),b=Math.round(h);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();l(h,p)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(y0,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",vc({ref:u},t)))}),Dce=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(y0,{width:n,height:r}),w.createElement("div",vc({ref:e},t)))}),Lce=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ls(n)||Ls(r)?w.createElement(Mce,vc({},t,{ref:e})):w.createElement(Dce,vc({},t,{ref:e}))});function zce(t){return t===!0?kce:Lce}var Vce=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:A,width:j,responsive:L,dispatchTouchEvents:U=!0}=t,q=w.useRef(null),$=Ft(),[z,O]=w.useState(null),[N,k]=w.useState(null),M=jce(),I=qS(),D=I?.width>0?I.width:j,R=I?.height>0?I.height:i,re=w.useCallback(ie=>{M(ie),typeof e=="function"&&e(ie),O(ie),k(ie),ie!=null&&(q.current=ie)},[M,e,O,k]),Z=w.useCallback(ie=>{$(tz(ie)),$(Li({handler:s,reactEvent:ie}))},[$,s]),W=w.useCallback(ie=>{$(b_(ie)),$(Li({handler:h,reactEvent:ie}))},[$,h]),H=w.useCallback(ie=>{$(D6()),$(Li({handler:p,reactEvent:ie}))},[$,p]),te=w.useCallback(ie=>{$(b_(ie)),$(Li({handler:g,reactEvent:ie}))},[$,g]),oe=w.useCallback(()=>{$(oz())},[$]),we=w.useCallback(ie=>{$(sz(ie.key))},[$]),V=w.useCallback(ie=>{$(Li({handler:l,reactEvent:ie}))},[$,l]),K=w.useCallback(ie=>{$(Li({handler:u,reactEvent:ie}))},[$,u]),G=w.useCallback(ie=>{$(Li({handler:d,reactEvent:ie}))},[$,d]),Y=w.useCallback(ie=>{$(Li({handler:b,reactEvent:ie}))},[$,b]),ce=w.useCallback(ie=>{$(Li({handler:E,reactEvent:ie}))},[$,E]),ye=w.useCallback(ie=>{U&&$(cz(ie)),$(Li({handler:S,reactEvent:ie}))},[$,U,S]),he=w.useCallback(ie=>{$(Li({handler:_,reactEvent:ie}))},[$,_]),Pe=zce(L);return w.createElement(nL.Provider,{value:z},w.createElement(u4.Provider,{value:N},w.createElement(Pe,{width:D??A?.width,height:R??A?.height,className:ft("recharts-wrapper",r),style:Cce({position:"relative",cursor:"default",width:D,height:R},A),onClick:Z,onContextMenu:V,onDoubleClick:K,onFocus:oe,onKeyDown:we,onMouseDown:G,onMouseEnter:W,onMouseLeave:H,onMouseMove:te,onMouseUp:Y,onTouchEnd:he,onTouchMove:ye,onTouchStart:ce,ref:re},w.createElement(Rce,null),n)))}),Uce=["width","height","responsive","children","className","style","compact","title","desc"];function $ce(t,e){if(t==null)return{};var n,r,i=Bce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mz=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:h,desc:p}=t,g=$ce(t,Uce),b=zr(g);return d?w.createElement(w.Fragment,null,w.createElement(y0,{width:n,height:r}),w.createElement(Tk,{otherAttributes:b,title:h,desc:p},s)):w.createElement(Vce,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(Tk,{otherAttributes:b,title:h,desc:p,ref:e},w.createElement(Uae,null,s)))});function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(null,arguments)}var qce={top:5,right:5,bottom:5,left:5},Fce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:qce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Hce=w.forwardRef(function(e,n){var r,i=gn(e.categoricalChartProps,Fce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(dz,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(CL,{chartData:h.data}),w.createElement(fz,{layout:i.layout,margin:i.margin}),w.createElement(hz,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(mz,x_({},i,{ref:n})))});function Kce(t){var e=Ft();return w.useEffect(()=>{e(pce(t))},[e,t]),null}var Gce=["layout"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(null,arguments)}function Yce(t,e){if(t==null)return{};var n,r,i=Wce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xce={top:5,right:5,bottom:5,left:5},pz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Qce=w.forwardRef(function(e,n){var r,i=gn(e.categoricalChartProps,pz),{layout:s}=i,l=Yce(i,Gce),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(dz,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},w.createElement(CL,{chartData:i.data}),w.createElement(fz,{layout:s,margin:i.margin}),w.createElement(hz,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(Kce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(mz,w_({},l,{ref:n})))});function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e,n){return(e=Zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=eue(t,"string");return typeof e=="symbol"?e:e+""}function eue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tue=["item"],nue=Ck(Ck({},pz),{},{layout:"centric",startAngle:0,endAngle:360}),rue=w.forwardRef((t,e)=>{var n=gn(t,nue);return w.createElement(Qce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:tue,tooltipPayloadSearcher:rL,categoricalChartProps:n,ref:e})}),iue=["axis"],AA=w.forwardRef((t,e)=>w.createElement(Hce,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iue,tooltipPayloadSearcher:rL,categoricalChartProps:t,ref:e}));const aue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ok=t=>{const e=sue(t);return e.charAt(0).toUpperCase()+e.slice(1)},gz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),oue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cue=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>w.createElement("svg",{ref:d,...lue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gz("lucide",i),...!s&&!oue(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>w.createElement(h,p)),...Array.isArray(s)?s:[s]]));const Ie=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(cue,{ref:s,iconNode:e,className:gz(`lucide-${aue(Ok(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Ok(t),n};const uue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nc=Ie("activity",uue);const due=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vz=Ie("arrow-left",due);const fue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Z0=Ie("arrow-right",fue);const hue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yz=Ie("award",hue);const mue=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TA=Ie("ban",mue);const pue=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gue=Ie("bell",pue);const vue=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],yue=Ie("briefcase",vue);const bue=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],xue=Ie("bug",bue);const wue=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],_ue=Ie("calculator",wue);const Sue=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Eue=Ie("calendar-off",Sue);const Aue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],no=Ie("calendar",Aue);const Tue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Y1=Ie("chevron-down",Tue);const Nue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],NA=Ie("chevron-left",Nue);const jue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bz=Ie("chevron-right",jue);const Cue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yc=Ie("circle-alert",Cue);const Oue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fs=Ie("circle-check-big",Oue);const Iue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pue=Ie("circle-question-mark",Iue);const Rue=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],kue=Ie("clipboard-check",Rue);const Mue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Due=Ie("clock",Mue);const Lue=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Iv=Ie("coffee",Lue);const zue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],__=Ie("credit-card",zue);const Vue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ph=Ie("crown",Vue);const Uue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ul=Ie("dollar-sign",Uue);const $ue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xz=Ie("download",$ue);const Bue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],que=Ie("file-exclamation-point",Bue);const Fue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wz=Ie("file-text",Fue);const Hue=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Kue=Ie("flame",Hue);const Gue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Yue=Ie("frown",Gue);const Wue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_z=Ie("funnel",Wue);const Xue=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Que=Ie("key",Xue);const Jue=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Zue=Ie("layers",Jue);const ede=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tde=Ie("layout-dashboard",ede);const nde=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],rde=Ie("layout-grid",nde);const ide=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ts=Ie("loader-circle",ide);const ade=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vf=Ie("lock",ade);const sde=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sz=Ie("log-out",sde);const ode=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jA=Ie("map-pin",ode);const lde=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ez=Ie("map",lde);const cde=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],ude=Ie("medal",cde);const dde=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fde=Ie("menu",dde);const hde=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],mde=Ie("monitor",hde);const pde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Az=Ie("pen",pde);const gde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xp=Ie("plus",gde);const vde=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Ik=Ie("refresh-ccw",vde);const yde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bde=Ie("refresh-cw",yde);const xde=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tz=Ie("rotate-ccw",xde);const wde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ec=Ie("save",wde);const _de=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CA=Ie("search",_de);const Sde=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ey=Ie("settings",Sde);const Ede=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ade=Ie("shopping-bag",Ede);const Tde=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Nde=Ie("smartphone",Tde);const jde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gh=Ie("sparkles",jde);const Cde=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ode=Ie("square-check-big",Cde);const Ide=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Pde=Ie("square-pen",Ide);const Rde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pk=Ie("star",Rde);const kde=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Bi=Ie("store",kde);const Mde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],am=Ie("target",Mde);const Dde=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fg=Ie("trash-2",Dde);const Lde=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nz=Ie("trending-down",Lde);const zde=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Yu=Ie("trending-up",zde);const Vde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Iu=Ie("triangle-alert",Vde);const Ude=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$de=Ie("trophy",Ude);const Bde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jz=Ie("upload",Bde);const qde=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cz=Ie("user-check",qde);const Fde=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hde=Ie("user-cog",Fde);const Kde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Oz=Ie("user-x",Kde);const Gde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ac=Ie("user",Gde);const Yde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sm=Ie("users",Yde);const Wde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aa=Ie("x",Wde);const Xde=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qde=Ie("zap",Xde),Uf=[{id:"cyj",label:"CYJ",pathType:"legacy"},{id:"anniu",label:"",pathType:"standard"},{id:"yibo",label:"",pathType:"standard"}],ur={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},bc=[{id:"dashboard",label:"",icon:tde},{id:"annual",label:"",icon:no},{id:"targets",label:"",icon:am},{id:"regional",label:"",icon:Ez},{id:"store-analysis",label:"",icon:Bi},{id:"ranking",label:"",icon:Yu},{id:"audit",label:"",icon:kue},{id:"history",label:"",icon:wz},{id:"input",label:"",icon:jz},{id:"logs",label:"",icon:nc},{id:"t-targets",label:"",icon:Hde},{id:"t-schedule",label:"",icon:Eue},{id:"settings",label:"",icon:ey}],Jde={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},hg={director:bc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},Zde=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},Iz=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},pr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},rc=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},Dn=t=>t?Number(t.toString().replace(/,/g,"")):0,ei=({children:t})=>f.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),jt=({title:t,subtitle:e,children:n,className:r=""})=>f.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&f.jsxs("div",{className:"mb-6",children:[t&&f.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&f.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),efe=({message:t,type:e,onClose:n})=>{w.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return f.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?f.jsx(Fs,{size:20}):e==="error"?f.jsx(yc,{size:20}):f.jsx(gue,{size:20}),f.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},tfe=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?f.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[f.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),f.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),f.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,br=kk.createContext(null),nfe=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const{currentBrand:d}=w.useContext(br),h=w.useMemo(()=>{let _="cyj",S="CYJ";d&&(_=typeof d=="string"?d:d.id||"cyj",_.includes("anniu")?(_="anniu",S=""):_.includes("yibo")?(_="yibo",S=""):(_="cyj",S="CYJ"));let E={gradient:"from-amber-400 to-orange-600",shadow:"shadow-orange-200",activeBg:"bg-amber-50",activeText:"text-amber-700",iconColor:"text-amber-600",indicator:"bg-amber-500",logoChar:"C",Icon:ph};return _==="anniu"?E={gradient:"from-rose-400 to-pink-600",shadow:"shadow-rose-200",activeBg:"bg-rose-50",activeText:"text-rose-700",iconColor:"text-rose-600",indicator:"bg-rose-500",logoChar:"A",Icon:Iv}:_==="yibo"&&(E={gradient:"from-yellow-400 to-yellow-600",shadow:"shadow-yellow-200",activeBg:"bg-yellow-50",activeText:"text-yellow-700",iconColor:"text-yellow-600",indicator:"bg-yellow-500",logoChar:"Y",Icon:gh}),{id:_,label:S,theme:E}},[d]),{theme:p,label:g}=h,b=w.useMemo(()=>{if(!i)return[];if(i==="director")return bc;const _=l[i]||[];return bc.filter(S=>_.includes(S.id))},[i,l]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),f.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[f.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[f.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${p.gradient} rounded-xl flex items-center justify-center shadow-lg ${p.shadow} mr-3 shrink-0 transition-all duration-500`,children:h.id==="cyj"?f.jsx("span",{className:"text-white font-bold text-lg",children:"C"}):f.jsx(p.Icon,{size:18,className:"text-white"})}),f.jsxs("span",{className:`font-extrabold text-lg text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:[g," "]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:b.map(_=>{const S=_.icon,E=t===_.id;return f.jsxs("button",{onClick:()=>{e(_.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${E?`${p.activeBg} ${p.activeText} shadow-sm`:"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":_.label,children:[f.jsx(S,{size:22,className:`shrink-0 transition-colors ${E?p.iconColor:"text-stone-400 group-hover:text-stone-600"}`}),f.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:_.label}),E&&f.jsx("div",{className:`absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 ${p.indicator} rounded-l-full`})]},_.id)})}),f.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[f.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:f.jsx(Ac,{size:20,className:"text-stone-400"})}),n&&f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),f.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:ur[i?.toUpperCase()]?.label||i})]})]}),f.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[f.jsx(Sz,{size:20}),n&&f.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},rfe=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const{currentBrand:s}=w.useContext(br),l=w.useMemo(()=>{const d=s?.id||"cyj";return d.includes("anniu")?"bg-rose-600 text-white shadow-rose-200":d.includes("yibo")?"bg-yellow-500 text-white shadow-yellow-200":"bg-stone-800 text-white shadow-stone-200"},[s]),u=w.useMemo(()=>{if(!r)return[];if(r==="director")return bc;const d=n[r]||[];return bc.filter(h=>d.includes(h.id))},[r,n]);return f.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto no-scrollbar",children:f.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[u.map(d=>{const h=d.icon,p=t===d.id;return f.jsxs("button",{onClick:()=>e(d.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${p?`${l} shadow-md`:"bg-stone-100 text-stone-500"}`,children:[f.jsx(h,{size:14}),d.label]},d.id)}),f.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[f.jsx(Sz,{size:14}),""]})]})})},ife={cyj:"16500",anniu:"8888",yibo:"9999"},afe=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:d,currentBrandId:h,onSwitchBrand:p,therapists:g=[]})=>{const[b,_]=w.useState(!0),[S,E]=w.useState("director"),[A,j]=w.useState(""),[L,U]=w.useState(""),[q,$]=w.useState(""),[z,O]=w.useState(!1),[N,k]=w.useState(!1),[M,I]=w.useState(""),[D,R]=w.useState(""),[re,Z]=w.useState(""),[W,H]=w.useState(""),[te,oe]=w.useState(""),[we,V]=w.useState(""),K=w.useMemo(()=>Uf.find(J=>J.id===h)||Uf[0],[h]),G=w.useMemo(()=>{switch(h){case"anniu":return{text:"text-rose-900",accent:"bg-rose-600 hover:bg-rose-700",border:"focus:border-rose-400",ring:"focus:ring-rose-100"};case"yibo":return{text:"text-yellow-900",accent:"bg-yellow-500 hover:bg-yellow-600",border:"focus:border-yellow-400",ring:"focus:ring-yellow-100"};default:return{text:"text-stone-800",accent:"bg-stone-800 hover:bg-stone-900",border:"focus:border-stone-400",ring:"focus:ring-stone-100"}}},[h]),Y=J=>{p&&p(J),setTimeout(()=>{_(!1)},150)};w.useEffect(()=>{Z(""),H(""),oe("")},[S,h]);const ce=w.useMemo(()=>re?n[re]||[]:[],[re,n]),ye=w.useMemo(()=>W?g.filter(J=>J.store===W):[],[W,g]),he=async()=>{$(""),O(!0),await new Promise(J=>setTimeout(J,600));try{if(S==="director"){const J=ife[h]||"0000";A===J?t("director",{name:`${K.label}`}):$("")}else if(S==="trainer"){const J=u?.password||"0000";A===J?t("trainer",{name:""}):$("")}else if(S==="manager"){if(!L){$(""),O(!1);return}const J=r[L]||"0000";A===J?t("manager",{name:L}):$("")}else if(S==="store"){if(!L){$(""),O(!1);return}const J=e.find(Ve=>Ve.id===L);J&&J.password===A?t("store",{name:J.name,storeName:J.stores?.[0]||J.storeName,stores:J.stores}):$("")}}catch{$("")}finally{O(!1)}},Pe=async()=>{$(""),O(!0),await new Promise(J=>setTimeout(J,600));try{if(!te){$(""),O(!1);return}const J=g.find(Ve=>Ve.id===te);J&&J.password===we?t("therapist",J):$(" ( 0000)")}catch{$("")}finally{O(!1)}},ie=async()=>{if($(""),!D||!M){$("");return}O(!0);let J=!1;if(S==="store"&&L){const ze=e.find(Ge=>Ge.id===L);ze&&ze.password===M&&(J=!0)}else if(S==="manager"&&L)(r[L]||"0000")===M&&(J=!0);else if(S==="therapist"&&te){const ze=g.find(Ge=>Ge.id===te);ze&&ze.password===M&&(J=!0)}else S==="trainer"&&(u?.password||"0000")===M&&(J=!0);if(!J){$(""),O(!1);return}let Ve=!1;S==="store"&&L?Ve=await i(L,D):S==="manager"&&L?Ve=await s(L,D):S==="therapist"&&te?Ve=await l(te,D):S==="trainer"&&(Ve=await d(D)),Ve?(alert(""),k(!1),R(""),I(""),j(""),V("")):$(""),O(!1)},Se=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 transition-all focus:border-stone-400 focus:ring-2 ${G.ring}`,Ae=`w-full px-4 py-3 bg-white border border-stone-200 rounded-lg outline-none text-stone-700 appearance-none transition-all focus:border-stone-400 focus:ring-2 ${G.ring} disabled:bg-stone-50 disabled:text-stone-400`;return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-stone-50 p-4 font-sans text-stone-800",children:[f.jsxs("div",{className:`w-full max-w-md bg-white p-8 rounded-2xl shadow-sm border border-stone-200 transition-all duration-500 transform 
          ${b?"opacity-0 scale-95 pointer-events-none absolute":"opacity-100 scale-100 relative"}
        `,children:[f.jsxs("button",{onClick:()=>_(!0),className:"absolute top-6 left-6 text-stone-400 hover:text-stone-600 transition-colors flex items-center gap-1 text-sm font-medium",children:[f.jsx(NA,{size:16})," "]}),f.jsxs("div",{className:"text-center mb-10 mt-2",children:[f.jsx("div",{className:"flex justify-center mb-4",children:h==="yibo"?f.jsx(gh,{size:40,className:G.text,strokeWidth:1.5}):h==="anniu"?f.jsx(Iv,{size:40,className:G.text,strokeWidth:1.5}):f.jsx(ph,{size:40,className:G.text,strokeWidth:1.5})}),f.jsxs("h1",{className:`text-2xl font-bold tracking-tight ${G.text}`,children:[K.label," "]}),f.jsx("p",{className:"text-stone-400 text-sm mt-1",children:""})]}),f.jsx("div",{className:"flex justify-center mb-8 border-b border-stone-100 pb-1",children:Object.entries(ur).map(([J,Ve])=>f.jsxs("button",{onClick:()=>{E(Ve.id),$(""),j(""),U(""),k(!1),Z(""),H(""),oe(""),V("")},className:`px-4 py-2 text-sm font-medium transition-all relative ${S===Ve.id?"text-stone-800":"text-stone-400 hover:text-stone-600"}`,children:[Ve.label,S===Ve.id&&f.jsx("span",{className:"absolute bottom-[-5px] left-0 w-full h-[2px] bg-stone-800 rounded-full"})]},J))}),f.jsx("div",{className:"space-y-4",children:S==="therapist"?f.jsxs(f.Fragment,{children:[N?f.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[f.jsx("input",{type:"password",value:M,onChange:J=>I(J.target.value),placeholder:"",className:Se}),f.jsx("input",{type:"text",value:D,onChange:J=>R(J.target.value),placeholder:"",className:Se})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(jA,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:re,onChange:J=>{Z(J.target.value),H(""),oe("")},className:`${Ae} pl-12`,children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(J=>f.jsxs("option",{value:J,children:[J,""]},J))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Bi,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:W,onChange:J=>{H(J.target.value),oe("")},disabled:!re,className:`${Ae} pl-12`,children:[f.jsx("option",{value:"",children:""}),ce.map(J=>f.jsx("option",{value:J,children:J},J))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Cz,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:te,onChange:J=>oe(J.target.value),disabled:!W,className:`${Ae} pl-12`,children:[f.jsx("option",{value:"",children:""}),ye.map(J=>f.jsx("option",{value:J.id,children:J.name},J.id))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Vf,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsx("input",{type:"password",value:we,onChange:J=>V(J.target.value),placeholder:"",className:`${Se} pl-12`,onKeyDown:J=>J.key==="Enter"&&Pe()})]})]}),q&&f.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[f.jsx(yc,{size:14})," ",q]}),N?f.jsx("button",{onClick:ie,disabled:z,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:z?f.jsx(Ts,{className:"animate-spin mx-auto"}):""}):f.jsx("button",{onClick:Pe,disabled:z||!te||!we,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${G.accent}`,children:z?f.jsx(Ts,{className:"animate-spin mx-auto"}):""}),te&&f.jsx("button",{onClick:()=>{k(!N),$("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:N?"":"?"})]}):f.jsxs(f.Fragment,{children:[S==="manager"&&f.jsx("div",{className:"relative",children:f.jsxs("select",{value:L,onChange:J=>U(J.target.value),className:Ae,children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(J=>f.jsx("option",{value:J,children:J},J))]})}),S==="store"&&f.jsx("div",{className:"relative",children:f.jsxs("select",{value:L,onChange:J=>U(J.target.value),className:Ae,children:[f.jsx("option",{value:"",children:""}),e.map(J=>f.jsx("option",{value:J.id,children:J.name},J.id))]})}),N?f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"password",value:M,onChange:J=>I(J.target.value),placeholder:"",className:Se}),f.jsx("input",{type:"text",value:D,onChange:J=>R(J.target.value),placeholder:"",className:Se})]}):f.jsx("input",{type:"password",value:A,onChange:J=>j(J.target.value),placeholder:"",className:Se,onKeyDown:J=>J.key==="Enter"&&he()}),q&&f.jsxs("div",{className:"text-rose-500 text-sm font-medium flex items-center justify-center gap-2 py-1",children:[f.jsx(yc,{size:14})," ",q]}),N?f.jsx("button",{onClick:ie,disabled:z,className:"w-full py-3.5 bg-stone-800 hover:bg-stone-900 text-white rounded-lg font-bold shadow-sm transition-all",children:z?f.jsx(Ts,{className:"animate-spin mx-auto"}):""}):f.jsx("button",{onClick:he,disabled:z,className:`w-full py-3.5 text-white rounded-lg font-bold shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed ${G.accent}`,children:z?f.jsx(Ts,{className:"animate-spin mx-auto"}):""}),(S==="store"||S==="manager"||S==="trainer")&&f.jsx("button",{onClick:()=>{k(!N),$("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 py-2 transition-colors",children:N?"":"?"})]})})]}),b&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-sm animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-lg p-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2 tracking-tight",children:""}),f.jsx("p",{className:"text-stone-400",children:""})]}),f.jsx("div",{className:"space-y-4",children:Uf.map(J=>{let Ve=ph,ze="hover:border-stone-400 hover:bg-stone-50";J.id==="anniu"?(Ve=Iv,ze="hover:border-rose-200 hover:bg-rose-50 hover:text-rose-900"):J.id==="yibo"?(Ve=gh,ze="hover:border-yellow-200 hover:bg-yellow-50 hover:text-yellow-900"):ze="hover:border-stone-400 hover:bg-stone-50 hover:text-stone-900";const Ge=Ve;return f.jsxs("button",{onClick:()=>Y(J.id),className:`w-full flex items-center justify-between p-6 rounded-xl border border-stone-200 bg-white transition-all duration-200 group ${ze}`,children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx(Ge,{size:24,strokeWidth:1.5,className:"text-stone-400 group-hover:text-current transition-colors"}),f.jsx("div",{className:"text-left",children:f.jsx("h3",{className:"text-lg font-bold text-stone-700 group-hover:text-current transition-colors",children:J.label})})]}),f.jsx(Z0,{size:20,className:"text-stone-300 group-hover:text-current transition-colors opacity-0 group-hover:opacity-100 transform group-hover:translate-x-1 duration-300"})]},J.id)})}),f.jsx("div",{className:"mt-12 text-center",children:f.jsx("p",{className:"text-[10px] text-stone-300 font-medium tracking-widest uppercase",children:"DRCYJ Cloud System"})})]})})]})},sfe=()=>{const{fmtMoney:t,fmtNum:e,targets:n,userRole:r,currentUser:i,budgets:s,managers:l,selectedYear:u,selectedMonth:d,currentBrand:h}=w.useContext(br),[p,g]=w.useState(r==="therapist"||r==="trainer"?"therapist":"store"),[b,_]=w.useState(null),[S,E]=w.useState(!0),{brandInfo:A,brandPrefix:j}=w.useMemo(()=>{let H="CYJ",te="CYJ";h&&(typeof h=="string"?H=h:typeof h=="object"&&(H=h.id||"CYJ",te=h.name||h.label||H));const oe=H.toLowerCase();return oe.includes("anniu")||oe.includes("anew")?te="":oe.includes("yibo")?te="":te="CYJ",{brandInfo:{id:H,name:te},brandPrefix:te}},[h]),L=w.useMemo(()=>H=>H?H.replace(new RegExp(`^(${j}|CYJ|Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",[j]),U=w.useMemo(()=>r==="director"?Object.values(l).flat():r==="manager"&&i?l[i.name]||[]:r==="store"&&i?(i.stores||[i.storeName]).map(te=>L(te)).filter(te=>te):[],[r,i,l,L]);w.useEffect(()=>{if(!h||!u||!d)return;E(!0);const te=`${(typeof h=="string"?h:h.id).toLowerCase()}_${u}_${d}`,oe=kr(Vn(ka,"brand_monthly_stats",te),we=>{we.exists()?_(we.data()):_(null),E(!1)},we=>{console.error("Stats listen error:",we),E(!1)});return()=>oe()},[h,u,d]);const q=w.useMemo(()=>{if(S)return null;const H={cash:0,accrual:0,skincareSales:0,traffic:0,newCustomers:0,newCustomerClosings:0,budget:0,accrualBudget:0},te=parseInt(u),oe=parseInt(d),we=new Date(te,oe,0).getDate(),V=new Date;let K=we;V.getFullYear()===te&&V.getMonth()+1===oe?K=V.getDate():V<new Date(te,oe-1,1)&&(K=0),b&&b.stores&&(U.forEach(Se=>{const Ae=Object.keys(b.stores).find(J=>J.includes(Se));if(Ae&&b.stores[Ae]){const J=b.stores[Ae];H.cash+=J.cash||0,H.accrual+=J.accrual||0,H.traffic+=J.traffic||0}}),r==="director"&&(H.cash=b.totalCash||0,H.accrual=b.totalAccrual||0,H.traffic=b.totalTraffic||0,H.skincareSales=b.totalSkincare||0,H.newCustomers=b.totalNewCustomers||0,H.newCustomerClosings=b.totalNewCustomerClosings||0)),U.forEach(Se=>{const J=`${`${j}${Se}`}_${te}_${oe}`,Ve=s[J];Ve&&(H.budget+=Number(Ve.cashTarget)||0,H.accrualBudget+=Number(Ve.accrualTarget)||0)});const G=b?.daily||{},ce=Array.from({length:we},(Se,Ae)=>{const J=Ae+1,Ve=G[J]||{};return{date:`${d}/${J}`,cash:r==="director"&&Ve.cash||0,traffic:r==="director"&&Ve.traffic||0}}).slice(0,K===0?we:K),ye=H.budget>0?H.cash/H.budget*100:0,he=H.traffic>0?Math.round(H.accrual/H.traffic):0,Pe=H.newCustomers>0?Math.round(H.cash/H.newCustomers):0,ie=K>0?Math.round(H.cash/K*we):0;return{grandTotal:{...H,projection:ie},dailyTotals:ce,totalAchievement:ye,avgTrafficASP:he,avgNewCustomerASP:Pe,daysPassed:K,daysInMonth:we}},[b,S,s,u,d,U,j,r]),$=w.useMemo(()=>{if(r!=="store"&&r!=="manager"||!b?.stores)return[];const H=parseInt(u),te=parseInt(d),oe=Object.entries(b.stores).map(([V,K])=>{let G=V.replace(/_/g,".");const Y=`${G}_${H}_${te}`;let ce=s[Y];if(!ce){const ie=L(G),Se=`${j}${ie}_${H}_${te}`;ce=s[Se],ce&&(G=`${j}${ie}`)}const ye=ce?Number(ce.cashTarget||0):0,he=K.cash||0,Pe=ye>0?he/ye*100:0;return{storeName:G,actual:he,target:ye,rate:Pe}});return oe.sort((V,K)=>K.rate-V.rate),oe.map((V,K)=>({...V,rank:K+1,totalStores:oe.length,isBottom5:K+1>oe.length-5})).filter(V=>{const K=L(V.storeName);return U.includes(K)})},[r,b,U,s,u,d,L,j]),z=w.useMemo(()=>{if(!b||!b.therapists)return{rankings:[],myStats:null,grandTotal:{}};const H=Object.entries(b.therapists).map(([V,K])=>{const G=K.totalRevenue||1,Y=Math.round(K.newCustomerRevenue/G*100),ce=Math.round(K.oldCustomerRevenue/G*100),ye=K.newCustomerCount||1,he=K.newCustomerClosings/ye*100,Pe=K.serviceCount-K.newCustomerCount||1,ie=K.newCustomerRevenue/ye,Se=K.oldCustomerRevenue/Pe;return{id:V,name:K.name,store:K.store,...K,revenueMix:`${Y}% / ${ce}%`,newClosingRate:he,newAsp:ie,oldAsp:Se}}).sort((V,K)=>K.totalRevenue-V.totalRevenue),te=H.length;H.forEach((V,K)=>{V.rank=K+1,V.totalPeers=te,V.rank<=3?V.status="TOP":V.rank>te-10?V.status="DANGER":V.status="NORMAL",V.gapToNext=K>0?H[K-1].totalRevenue-V.totalRevenue:0});let oe=null;r==="therapist"&&i&&(oe=H.find(V=>V.id===i.id));const we=H.reduce((V,K)=>({totalRevenue:V.totalRevenue+K.totalRevenue,serviceCount:V.serviceCount+K.serviceCount,newCustomerRevenue:V.newCustomerRevenue+K.newCustomerRevenue,oldCustomerRevenue:V.oldCustomerRevenue+K.oldCustomerRevenue,returnRevenue:V.returnRevenue+(K.returnRevenue||0),count:V.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,returnRevenue:0,count:0});return{rankings:H,myStats:oe,grandTotal:we}},[b,r,i]),O=()=>{const H=z.rankings.filter(ce=>r!=="therapist"||ce.id===i?.id),te=[",,,,,,,,,"],oe=H.map(ce=>[ce.rank,ce.name,ce.store,ce.totalRevenue,ce.newCustomerRevenue,ce.oldCustomerRevenue,`"${ce.revenueMix}"`,`${ce.newClosingRate.toFixed(0)}%`,Math.round(ce.newAsp),Math.round(ce.oldAsp)].join(",")),we="\uFEFF"+[te,...oe].join(`
`),V=new Blob([we],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),G=URL.createObjectURL(V),Y=new Date().toISOString().split("T")[0];K.setAttribute("href",G),K.setAttribute("download",`${A.name}__${Y}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)},N=H=>{if(!H)return{title:"...",sub:"Data Loading..."};const{rank:te,totalPeers:oe,status:we,gapToNext:V}=H,K=oe-te;return we==="TOP"?{title:te===1?"":"",sub:"",icon:ph}:we==="DANGER"?{title:` ${K} `,sub:` ${t(V)}`,icon:Iu}:{title:` ${K} `,sub:` ${t(V)} `,icon:Qde}};if(S)return f.jsxs("div",{className:"flex h-96 items-center justify-center",children:[f.jsx(Ts,{className:"h-10 w-10 animate-spin text-stone-300"}),f.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});if(!q)return f.jsx("div",{className:"flex h-96 items-center justify-center",children:f.jsx("span",{className:"text-stone-400 font-bold",children:""})});const{grandTotal:k,dailyTotals:M,totalAchievement:I,daysPassed:D,daysInMonth:R}=q,re=R>0?D/R*100:0,Z=I-re,W=({title:H,value:te,subText:oe,icon:we,color:V})=>f.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden h-full",children:[f.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${V}`,children:f.jsx(we,{size:64})}),f.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:H}),f.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:te})]}),oe&&f.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:oe})]})]});return f.jsx(ei,{children:f.jsxs("div",{className:"space-y-8 pb-10 w-full min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2 animate-in fade-in slide-in-from-left-2 duration-500",children:[f.jsx("div",{className:`w-2 h-8 rounded-full ${A.id.toLowerCase().includes("anniu")?"bg-teal-500":A.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),f.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[A.name," "]})]}),r!=="therapist"&&r!=="trainer"&&f.jsx("div",{className:"flex justify-center mb-4",children:f.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[f.jsxs("button",{onClick:()=>g("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${p==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(Bi,{size:16})," "]}),f.jsxs("button",{onClick:()=>g("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${p==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(Ac,{size:16})," "]})]})}),p==="store"&&f.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r==="store"&&$.length>0&&f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:$.map(H=>f.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${H.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:H.isBottom5?f.jsx(Iu,{size:120}):f.jsx($de,{size:120})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:H.isBottom5?f.jsx(nc,{size:20,className:"text-white"}):f.jsx(ude,{size:20,className:"text-yellow-100"})}),f.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:H.storeName}),H.isBottom5&&f.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),f.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",H.rank]}),f.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",H.totalStores]})]})]}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),f.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[H.rate.toFixed(0),"%"]})]})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[f.jsxs("span",{children:[": ",t(H.actual)]}),f.jsxs("span",{children:[": ",t(H.target)]})]})]})]},H.storeName))}),r==="manager"&&$.length>0&&f.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[f.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:f.jsx(Ez,{size:100})}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:f.jsx(ph,{size:24,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),f.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),f.jsxs("div",{className:"relative z-10 text-right",children:[f.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),f.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:$.length})]})]}),f.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[f.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),f.jsx("th",{className:"p-3 sm:p-4",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),f.jsx("tbody",{children:$.map((H,te)=>f.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${H.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[f.jsx("td",{className:"p-3 sm:p-4 text-center",children:f.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${te===0?"bg-amber-100 text-amber-700":te===1?"bg-stone-200 text-stone-600":te===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:H.rank})}),f.jsx("td",{className:"p-3 sm:p-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[f.jsx("span",{className:`font-bold text-sm sm:text-base ${H.isBottom5?"text-rose-700":"text-stone-700"}`,children:H.storeName}),H.isBottom5&&f.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[f.jsx(Iu,{size:10})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),f.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:t(H.actual)}),f.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:t(H.target)}),f.jsx("td",{className:"p-3 sm:p-4 text-right",children:f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${H.isBottom5?"text-rose-600":H.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[H.rate.toFixed(0),"%"]}),f.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${H.isBottom5?"bg-rose-500":H.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(H.rate,100)}%`}})})]})})]},H.storeName))})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:f.jsx(nc,{size:16,className:"text-indigo-500"})}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),f.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",D," ",f.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",R]})]})]}),f.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${Z>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[f.jsx("span",{className:"text-sm font-bold",children:Z>=0?"":""}),f.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs(Z).toFixed(0),"%"]})]})]}),f.jsxs("div",{className:"space-y-6 relative z-10",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:I>=re?"text-emerald-500":"text-rose-500",children:[I.toFixed(0),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${I>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":I>=re?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(I,100)}%`}})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[f.jsx("span",{className:"text-stone-400",children:" ()"}),f.jsxs("span",{className:"text-stone-400",children:[re.toFixed(0),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(re,100)}%`}})})]})]})]}),f.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[f.jsx(am,{size:14})," "]}),f.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:t(k.projection)}),f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:[k.budget>0?(k.projection/k.budget*100).toFixed(0):0,"%"]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:f.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"font-mono font-bold text-stone-500",children:t(k.budget)})]})})]})})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[f.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(W,{title:"",value:t(k.cash),icon:ul,color:"text-amber-500",subText:f.jsxs("span",{className:`font-bold ${I>=100?"text-emerald-600":"text-amber-600"}`,children:[I.toFixed(0),"% "]})}),f.jsx(W,{title:"",value:t(k.accrual),icon:__,color:"text-cyan-500",subText:""}),f.jsx(W,{title:"",value:t(k.skincareSales),icon:Ade,color:"text-rose-500",subText:f.jsxs(f.Fragment,{children:[" ",f.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[k.accrual>0?(k.skincareSales/k.accrual*100).toFixed(0):0,"%"]})]})})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[f.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[f.jsx(W,{title:"",value:e(k.traffic),icon:sm,color:"text-blue-500",subText:""}),f.jsx(W,{title:"",value:t(q.avgTrafficASP),icon:Yu,color:"text-indigo-500",subText:f.jsxs("span",{className:q.avgTrafficASP>=n.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[q.avgTrafficASP>=n.trafficASP?"":""," ( ",e(n.trafficASP),")"]})}),f.jsx(W,{title:"",value:e(k.newCustomers),icon:gh,color:"text-purple-500",subText:""}),f.jsx(W,{title:"",value:e(k.newCustomerClosings),icon:Ode,color:"text-teal-500",subText:f.jsxs("span",{children:[" ",f.jsxs("span",{className:"font-bold",children:[k.newCustomers>0?(k.newCustomerClosings/k.newCustomers*100).toFixed(0):0,"%"]})]})}),f.jsx(W,{title:"",value:t(q.avgNewCustomerASP),icon:yz,color:"text-fuchsia-500",subText:f.jsxs("span",{className:q.avgNewCustomerASP>=n.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[q.avgNewCustomerASP>=n.newASP?"":""," ( ",e(n.newASP),")"]})})]})]}),f.jsx(jt,{title:`${A.name} `,subtitle:" vs ",children:f.jsx("div",{className:"h-[300px] w-full",children:f.jsx(g0,{width:"100%",height:"100%",children:f.jsxs(AA,{data:M,margin:{top:10,right:10,left:0,bottom:0},children:[f.jsx(X0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),f.jsx(J0,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),f.jsx(Gu,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:H=>H===0?"0":`$${(H/1e3).toFixed(0)}k`}),f.jsx(Gu,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:H=>e(H)}),f.jsx($0,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(H,te)=>te===""?[t(H),te]:[e(H),te]}),f.jsx(xA,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),f.jsx(Ku,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),p==="therapist"&&f.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 w-full min-w-0",children:[z.myStats&&(()=>{const H=N(z.myStats),te=z.myStats.status;let oe="bg-gradient-to-br from-indigo-600 to-purple-700",we="shadow-indigo-200";return te==="TOP"?(oe="bg-gradient-to-br from-amber-400 to-orange-500",we="shadow-amber-200"):te==="DANGER"&&(oe="bg-gradient-to-br from-rose-600 to-red-700",we="shadow-rose-200"),f.jsxs("div",{className:`${oe} rounded-3xl p-6 text-white shadow-xl ${we} relative overflow-hidden transition-all duration-500`,children:[" ",f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(H.icon,{size:140})})," ",f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[" ",f.jsxs("div",{children:[" ",f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-1",children:[te==="DANGER"&&f.jsx(Kue,{size:12,className:"animate-pulse"}),"No.",z.myStats.rank]}),f.jsxs("span",{className:"text-white/80 font-bold tracking-wider text-sm",children:[z.myStats.store,""]})]}),f.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:z.myStats.name}),f.jsxs("div",{className:"mt-2 p-3 bg-black/10 rounded-xl backdrop-blur-md border border-white/10 max-w-md",children:[f.jsxs("p",{className:"font-bold text-sm flex items-center gap-2",children:[te==="DANGER"&&f.jsx(Yue,{size:16}),H.title]}),f.jsx("p",{className:"text-xs text-white/70 mt-1",children:H.sub})]})," "]})," ",f.jsxs("div",{className:"flex gap-6 text-right",children:[" ",f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-bold",children:t(z.myStats.totalRevenue)})]})," ",f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),f.jsxs("p",{className:"text-3xl font-mono font-bold",children:[z.myStats.newClosingRate.toFixed(0),"%"]})]})," "]})," "]})," "]})})(),r!=="therapist"&&f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:[" ",f.jsx(W,{title:"",value:t(z.grandTotal.totalRevenue),icon:ul,color:"text-indigo-500",subText:`${z.grandTotal.count} `})," ",f.jsx(W,{title:"",value:t(z.grandTotal.newCustomerRevenue),icon:gh,color:"text-amber-500"})," ",f.jsx(W,{title:"",value:t(z.grandTotal.oldCustomerRevenue),icon:Yu,color:"text-cyan-500"})," ",f.jsx(W,{title:"",value:`${Math.round(z.grandTotal.newCustomerRevenue/(z.grandTotal.totalRevenue||1)*100)}% / ${Math.round(z.grandTotal.oldCustomerRevenue/(z.grandTotal.totalRevenue||1)*100)}%`,icon:nc,color:"text-fuchsia-500",subText:" / "})," ",f.jsx(W,{title:"",value:t(z.grandTotal.returnRevenue),icon:que,color:"text-rose-500"})," "]}),f.jsx(jt,{title:"",subtitle:" ()",children:f.jsxs("div",{className:"grid grid-cols-1 w-full",children:[f.jsx("div",{className:"flex justify-end mb-4",children:f.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[f.jsx(xz,{size:16}),"  CSV"]})}),f.jsx("div",{className:"overflow-x-auto w-full pb-2",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px] whitespace-nowrap",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100 bg-stone-50/50",children:[f.jsx("th",{className:"p-3 md:p-4 w-16 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4",children:""}),f.jsx("th",{className:"p-3 md:p-4",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""})]})}),f.jsxs("tbody",{className:"text-sm",children:[z.rankings.filter(H=>r!=="therapist"||H.id===i?.id).map((H,te)=>f.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${i?.id===H.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[f.jsx("td",{className:"p-3 md:p-4 text-center",children:f.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${H.rank<=3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":H.status==="DANGER"?"bg-rose-100 text-rose-700 ring-4 ring-rose-50":"bg-stone-100 text-stone-500"}`,children:H.rank})}),f.jsxs("td",{className:"p-3 md:p-4 font-bold text-stone-700 flex items-center gap-2",children:[H.name,i?.id===H.id&&f.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"}),H.status==="DANGER"&&f.jsx("span",{className:"text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold",children:""})]}),f.jsxs("td",{className:"p-3 md:p-4 text-stone-500",children:[H.store,""]}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-indigo-600",children:t(H.totalRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(H.newCustomerRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:t(H.oldCustomerRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-center font-mono text-xs text-stone-400",children:H.revenueMix}),f.jsxs("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-stone-700",children:[H.newClosingRate.toFixed(0),"%"]}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(H.newAsp))}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(Math.round(H.oldAsp))})]},H.id))," ",z.rankings.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:10,className:"p-8 text-center text-stone-400",children:""})})]})]})}),f.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[f.jsx(vz,{size:12}),"  ",f.jsx(Z0,{size:12})]})]})})]})]})})},Rk=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},ofe=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=w.useState(()=>Rk(t));w.useEffect(()=>{t&&l(Rk(t))},[t]);const u=s.getFullYear(),d=s.getMonth(),h=new Date(u,d+1,0).getDate(),p=new Date(u,d,1).getDay(),g=E=>{const A=new Date(u,d,E),j=new Date;if(j.setHours(0,0,0,0),A>j)return"none";const L=`${u}-${String(d+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`,U=r.filter($=>$.date?$.date.replace(/\//g,"-")===L:!1);return!n||Array.isArray(n)&&n.length===0?"none":n.every($=>{const z=Array.isArray($.stores)?$.stores.map(N=>typeof N=="string"?N:N.name):[];return z.length===0?!0:U.some(N=>z.includes(N.storeName))})?"complete":"incomplete"},b=()=>{l(new Date(u,d-1,1))},_=()=>{l(new Date(u,d+1,1))},S=E=>{const A=`${u}-${String(d+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`;e(A),i&&i()};return f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("button",{onClick:b,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:f.jsx(NA,{size:20})}),f.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",d+1,""]}),f.jsx("button",{onClick:_,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:f.jsx(bz,{size:20})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(E=>f.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:E},E))}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((E,A)=>f.jsx("div",{},`empty-${A}`)),Array.from({length:h}).map((E,A)=>{const j=A+1,U=`${u}-${String(d+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`===t,q=g(j);return f.jsxs("button",{onClick:()=>S(j),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${U?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[j,!U&&q!=="none"&&f.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${q==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},j)})]}),i&&f.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},Pz=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=w.useState(!1),l=w.useRef(null);return w.useEffect(()=>{const u=d=>{window.innerWidth>=768&&l.current&&!l.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),f.jsxs("div",{className:"relative w-full",ref:l,children:[" ",f.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[f.jsx("span",{className:"text-lg",children:t}),f.jsx(no,{size:18,className:"text-stone-400 ml-auto"})]}),i&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),f.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:f.jsx(ofe,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},Rz=(t,e)=>{const n=new Date(e),r=n.getFullYear(),i=n.getMonth()+1;return{docId:`${(typeof t=="string"?t:t?.id||"unknown").toLowerCase()}_${r}_${i}`,year:r,month:i,day:n.getDate()}},lfe=async(t,e,n=null)=>{if(!t||!e)return;const{docId:r,day:i}=Rz(t,e.date),s=Vn(ka,"brand_monthly_stats",r),l=E=>{const A=Number(e[E])||0,j=n&&Number(n[E])||0;return A-j},u=l("cash")-l("refund"),d=l("accrual"),h=l("traffic"),p=l("newCustomers"),g=l("newCustomerClosings"),b=l("skincareSales");let _=(e.storeName||"unknown").replace(/\./g,"_");const S={year:new Date(e.date).getFullYear(),month:new Date(e.date).getMonth()+1,updatedAt:Ys(),totalCash:fr(u),totalAccrual:fr(d),totalTraffic:fr(h),totalNewCustomers:fr(p),totalNewCustomerClosings:fr(g),totalSkincare:fr(b),[`stores.${_}.cash`]:fr(u),[`stores.${_}.accrual`]:fr(d),[`stores.${_}.traffic`]:fr(h),[`daily.${i}.cash`]:fr(u),[`daily.${i}.traffic`]:fr(h)};try{await fn(s,S,{merge:!0}),console.log(`[StatsHelper] Updated STORE stats for ${r}`)}catch(E){console.error("[StatsHelper] Failed to update stats:",E)}},cfe=async(t,e,n=null)=>{if(!t||!e)return;const{docId:r}=Rz(t,e.date),i=Vn(ka,"brand_monthly_stats",r),s=A=>{const j=Number(e[A])||0,L=n&&Number(n[A])||0;return j-L},l=s("totalRevenue"),u=s("newCustomerRevenue"),d=s("oldCustomerRevenue"),h=s("serviceCount"),p=s("newCustomerCount"),g=s("newCustomerClosings"),b=e.therapistId,_=e.therapistName,S=e.storeName,E={updatedAt:Ys(),[`therapists.${b}.name`]:_,[`therapists.${b}.store`]:S,[`therapists.${b}.totalRevenue`]:fr(l),[`therapists.${b}.newCustomerRevenue`]:fr(u),[`therapists.${b}.oldCustomerRevenue`]:fr(d),[`therapists.${b}.serviceCount`]:fr(h),[`therapists.${b}.newCustomerCount`]:fr(p),[`therapists.${b}.newCustomerClosings`]:fr(g)};try{await fn(i,E,{merge:!0}),console.log(`[StatsHelper] Updated THERAPIST stats for ${r}`)}catch(A){console.error("[StatsHelper] Failed to update therapist stats:",A)}},ufe=async(t,e,n,r,i=[])=>{const l=`${(typeof t=="string"?t:t?.id||"unknown").toLowerCase()}_${e}_${n}`,u=Vn(ka,"brand_monthly_stats",l),d={year:e,month:n,updatedAt:Ys(),totalCash:0,totalAccrual:0,totalTraffic:0,totalNewCustomers:0,totalNewCustomerClosings:0,totalSkincare:0,stores:{},daily:{},therapists:{}};return console.log(`[StatsHelper] Recalculating for ${l}... Stores: ${r.length}, Therapists: ${i.length}`),r.forEach(h=>{const p=new Date(h.date);if(p.getFullYear()!==e||p.getMonth()+1!==n)return;const g=(Number(h.cash)||0)-(Number(h.refund)||0),b=Number(h.traffic)||0,_=p.getDate(),S=(h.storeName||"unknown").replace(/\./g,"_");d.totalCash+=g,d.totalAccrual+=Number(h.accrual)||0,d.totalTraffic+=b,d.totalNewCustomers+=Number(h.newCustomers)||0,d.totalNewCustomerClosings+=Number(h.newCustomerClosings)||0,d.totalSkincare+=Number(h.skincareSales)||0,d.stores[S]||(d.stores[S]={cash:0,accrual:0,traffic:0}),d.stores[S].cash+=g,d.stores[S].accrual+=Number(h.accrual)||0,d.stores[S].traffic+=b,d.daily[_]||(d.daily[_]={cash:0,traffic:0}),d.daily[_].cash+=g,d.daily[_].traffic+=b}),i&&Array.isArray(i)&&i.forEach(h=>{const p=new Date(h.date);if(p.getFullYear()!==e||p.getMonth()+1!==n)return;const g=h.therapistId;d.therapists[g]||(d.therapists[g]={name:h.therapistName,store:h.storeName,totalRevenue:0,newCustomerRevenue:0,oldCustomerRevenue:0,serviceCount:0,newCustomerCount:0,newCustomerClosings:0});const b=d.therapists[g];b.totalRevenue+=Number(h.totalRevenue)||0,b.newCustomerRevenue+=Number(h.newCustomerRevenue)||0,b.oldCustomerRevenue+=Number(h.oldCustomerRevenue)||0,b.serviceCount+=Number(h.serviceCount)||0,b.newCustomerCount+=Number(h.newCustomerCount)||0,b.newCustomerClosings+=Number(h.newCustomerClosings)||0}),await fn(u,d),console.log(`[StatsHelper] Recalculation complete for ${l}`),d},Pu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},dfe=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u,getCollectionPath:d,currentBrand:h}=w.useContext(br),[p,g]=w.useState(""),[b,_]=w.useState(""),S={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[E,A]=w.useState(S),[j,L]=w.useState(!1),[U,q]=w.useState(!1),[$,z]=w.useState(!1),[O,N]=w.useState(null),[k,M]=w.useState(null),I={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},D=Pu(),R=w.useMemo(()=>{if(!h)return"CYJ";const V=typeof h=="string"?h:h.id,K=typeof h=="string"?h:h.label||h.name;return V==="cyj"?"CYJ":K},[h]);w.useEffect(()=>{A(S),_(""),g("")},[h]),w.useEffect(()=>{const V=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const K=Pu(),G=Object.values(E).every(Y=>Y==="");r!==K&&G&&(console.log(`[] : ${r} -> ${K}`),i(K))}};return document.addEventListener("visibilitychange",V),window.addEventListener("focus",V),()=>{document.removeEventListener("visibilitychange",V),window.removeEventListener("focus",V)}},[r,E,i]),w.useEffect(()=>{const V=typeof h=="string"?h:h?.id||"unknown",K=localStorage.getItem(`input_draft_${V}`);if(K)try{const G=JSON.parse(K);G.formData&&A(G.formData),G.store&&_(G.store),G.manager&&g(G.manager);const Y=G.date;Y===Pu()&&i(Y)}catch(G){console.error(G)}},[h]),w.useEffect(()=>{const V=typeof h=="string"?h:h?.id||"unknown",K={formData:E,store:b,manager:p,date:r,timestamp:Date.now()};localStorage.setItem(`input_draft_${V}`,JSON.stringify(K))},[E,b,p,r,h]),w.useEffect(()=>{const V=Dn(E.operationalAccrual),K=Dn(E.skincareSales);A(G=>{const Y=V+K;return Dn(G.accrual)!==Y?{...G,accrual:rc(Y)}:G})},[E.operationalAccrual,E.skincareSales]);const re=(V,K)=>{const G=K.replace(/,/g,"");/^\d*$/.test(G)&&A(Y=>({...Y,[V]:rc(G)}))},Z=w.useMemo(()=>p?(n[p]||[]).map(V=>`${R}${V}`):e==="store"&&t?(t.stores||[t.storeName]).map(V=>V.startsWith(R)||R==="CYJ"&&V.startsWith("CYJ")?V:`${R}${V}`):[],[p,n,e,t,R]);w.useEffect(()=>{if(!b&&e==="store"&&t){const V=t.stores||[t.storeName];if(V.length>0){let K=V[0];K=K.replace(/$/,""),K.startsWith(R)?K=K.substring(R.length):K.startsWith("CYJ")&&(K=K.substring(3));const G=Object.keys(n).find(ce=>n[ce].includes(K));G&&g(G);const Y=V[0].startsWith(R)?V[0]:`${R}${K}`;_(Y)}}else!p&&e==="manager"&&t&&g(t.name)},[e,t,n,R]);const W=()=>{if(confirm("")){A(S);const V=typeof h=="string"?h:h?.id||"unknown";localStorage.removeItem(`input_draft_${V}`),s("","info")}},H=V=>{if(V.preventDefault(),!b)return s("","error");if(r>D)return s("","error");const K=pr(r),G=u.find(Y=>pr(Y.date)===K&&Y.storeName===b);N(G?G.id:null),M(G||null),r!==D?z(!0):q(!0)},te=()=>{z(!1),q(!0)},oe=async()=>{L(!0);try{const V=pr(r),K=typeof h=="string"?h:h?.id||"unknown",G={date:V,storeName:b,brandId:K,...Object.keys(E).reduce((Y,ce)=>({...Y,[ce]:Dn(E[ce])}),{}),timestamp:Ys(),submittedBy:t?.name||"unknown"};O?(await fn(Vn(d("daily_reports"),O),G),l(e,t?.name,"()",`${b} ${V}`)):(await wS(d("daily_reports"),G),l(e,t?.name,"",`${b} ${V}`)),await lfe(K,G,O?k:null),A(S),localStorage.removeItem(`input_draft_${K}`),q(!1),N(null),M(null),s("","success")}catch(V){console.error(V),s(": "+V.message,"error")}finally{L(!1)}},we=V=>f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-bold mb-1.5 ${V.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:I[V]||V}),f.jsx("input",{type:"text",value:E[V],onChange:K=>re(V,K.target.value),readOnly:V==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${V==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},V);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[f.jsx(Fs,{size:14}),"  (",R,")"]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),f.jsx(Pz,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),f.jsx("div",{className:"relative",children:f.jsxs("select",{value:p,onChange:V=>{g(V.target.value),_("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(n).map(V=>f.jsxs("option",{value:V,children:[V,""]},V))]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),f.jsx("div",{className:"relative",children:f.jsxs("select",{value:b,onChange:V=>_(V.target.value),disabled:!p,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),Z.map(V=>f.jsx("option",{value:V,children:V},V))]})})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[f.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[f.jsx(wz,{size:20,className:"text-amber-500"}),f.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[f.jsx(Zue,{size:14})," "]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[we("cash"),we("accrual"),we("operationalAccrual"),we("skincareSales")]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[f.jsx(sm,{size:14})," "]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[we("newCustomerSales"),we("traffic"),we("newCustomers"),we("newCustomerClosings")]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[f.jsx(Nz,{size:14}),"  ()"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[we("refund"),we("skincareRefund")]})]}),f.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[f.jsx("button",{onClick:W,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:f.jsx(Tz,{size:20})}),f.jsx("button",{onClick:H,disabled:j,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70",children:j?f.jsx(nc,{className:"animate-spin mx-auto"}):""})]})]}),$&&f.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[f.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:f.jsx(no,{size:32,className:"text-white"})}),f.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),f.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:f.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[f.jsx(Iu,{size:18,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:[" ",f.jsx("u",{children:""})," (",D,")",O&&f.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",f.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),f.jsx("button",{onClick:te,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),U&&f.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[f.jsx(yc,{})," "]}),f.jsx("button",{onClick:()=>q(!1),children:f.jsx(aa,{className:"text-white"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:r})]}),f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:b})]}),f.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",E.cash]})]}),f.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",E.accrual]})]})]}),O&&f.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsx("button",{onClick:oe,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900",children:""})]})]})]})})]})},ffe=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i,getCollectionPath:s,currentBrand:l}=w.useContext(br),u={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[d,h]=w.useState(u),[p,g]=w.useState(!1),[b,_]=w.useState(!1),[S,E]=w.useState(null),[A,j]=w.useState(!1),[L,U]=w.useState(!1),[q,$]=w.useState(null),z={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},O=Pu();w.useEffect(()=>{const D=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const R=Pu(),re=!d.newCustomerRevenue&&!d.oldCustomerRevenue;e!==R&&re&&(console.log(`[] : ${e} -> ${R}`),n(R))}};return document.addEventListener("visibilitychange",D),window.addEventListener("focus",D),()=>{document.removeEventListener("visibilitychange",D),window.removeEventListener("focus",D)}},[e,d,n]),w.useEffect(()=>{const D=typeof l=="string"?l:l?.id||"unknown",R=localStorage.getItem(`therapist_draft_${D}`);if(R)try{const re=JSON.parse(R);re.formData&&h(re.formData);const Z=re.date;Z===Pu()&&n(Z)}catch(re){console.error(re)}},[l]),w.useEffect(()=>{const D=typeof l=="string"?l:l?.id||"unknown",R={formData:d,date:e,timestamp:Date.now()};localStorage.setItem(`therapist_draft_${D}`,JSON.stringify(R))},[d,e,l]),w.useEffect(()=>{const D=Dn(d.newCustomerRevenue)||0,R=Dn(d.oldCustomerRevenue)||0,re=Dn(d.returnRevenue)||0,Z=D+R-re;Dn(d.totalRevenue)!==Z&&h(W=>({...W,totalRevenue:rc(Z)}))},[d.newCustomerRevenue,d.oldCustomerRevenue,d.returnRevenue]),w.useEffect(()=>{(async()=>{if(t?.id)try{const Z=`${pr(e).replace(/\//g,"-")}_${t.id}`,W=Vn(s("therapist_daily_reports"),Z),H=await kC(W);_(H.exists()),E(H.exists()?H.data():null)}catch(R){console.error("",R)}})()},[e,t,s]);const N=(D,R)=>{const re=R.replace(/,/g,"");/^\d*$/.test(re)&&h(Z=>({...Z,[D]:rc(re)}))},k=()=>{if(!(d.newCustomerRevenue||d.oldCustomerRevenue||d.newCustomerCount||d.oldCustomerCount||d.returnRevenue))return r("","error");e!==O?U(!0):j(!0)},M=()=>{U(!1),j(!0)},I=async()=>{g(!0),$(null);try{if(!t||!t.id)throw new Error(" ID ");const D=pr(e),re=`${D.replace(/\//g,"-")}_${t.id}`,Z=typeof l=="string"?l:l?.id||"unknown",W={date:D,therapistId:t.id,therapistName:t.name,storeName:t.store||"",brandId:Z,totalRevenue:Dn(d.totalRevenue),newCustomerRevenue:Dn(d.newCustomerRevenue),newCustomerCount:Dn(d.newCustomerCount),newCustomerClosings:Dn(d.newCustomerClosings),oldCustomerRevenue:Dn(d.oldCustomerRevenue),oldCustomerCount:Dn(d.oldCustomerCount),returnRevenue:Dn(d.returnRevenue),serviceCount:Dn(d.newCustomerCount)+Dn(d.oldCustomerCount)||0,updatedAt:Ys()},H=Vn(s("therapist_daily_reports"),re);if(await fn(H,W),(await kC(H)).exists())i("therapist",t.name,"",`${D} `),await cfe(Z,W,S),r("","success"),_(!0),E(W),h(u),localStorage.removeItem(`therapist_draft_${Z}`),j(!1);else throw new Error("")}catch(D){console.error(":",D),$({error:D.message,code:D.code||"unknown",path:"brands/.../therapist_daily_reports"}),r("","error")}finally{g(!1)}};return f.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[f.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[f.jsxs("div",{className:"relative z-10",children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[f.jsx(Ac,{className:"text-indigo-200"})," ",t?.name," "]}),f.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),f.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:f.jsx(Pk,{size:120})})]}),f.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:D=>n(D.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),b&&f.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[f.jsx(Fs,{size:16}),"  (",e,") "]}),q&&f.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[f.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[f.jsx(xue,{})," "]}),f.jsx("p",{className:"text-rose-700 text-sm font-bold",children:q.error})]}),f.jsx(jt,{title:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[f.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[f.jsx(_ue,{size:12})," ",z.totalRevenue," ()"]}),f.jsxs("div",{className:"relative",children:[f.jsx(ul,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),f.jsx("input",{type:"text",value:d.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[f.jsx(Pk,{size:12})," "]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:z.newCustomerRevenue}),f.jsx("input",{type:"text",value:d.newCustomerRevenue,onChange:D=>N("newCustomerRevenue",D.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:z.newCustomerCount}),f.jsx("input",{type:"text",value:d.newCustomerCount,onChange:D=>N("newCustomerCount",D.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:z.newCustomerClosings}),f.jsx("input",{type:"text",value:d.newCustomerClosings,onChange:D=>N("newCustomerClosings",D.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[f.jsx(sm,{size:12})," "]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:z.oldCustomerRevenue}),f.jsx("input",{type:"text",value:d.oldCustomerRevenue,onChange:D=>N("oldCustomerRevenue",D.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:z.oldCustomerCount}),f.jsx("input",{type:"text",value:d.oldCustomerCount,onChange:D=>N("oldCustomerCount",D.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[f.jsx(Nz,{size:12})," ",z.returnRevenue]}),f.jsx("input",{type:"text",value:d.returnRevenue,onChange:D=>N("returnRevenue",D.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),f.jsxs("button",{onClick:k,disabled:p,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[p?f.jsx(nc,{className:"animate-spin"}):f.jsx(jz,{size:20}),""]})]})}),L&&f.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[f.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:f.jsx(no,{size:32,className:"text-white"})}),f.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),f.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:f.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[f.jsx(Iu,{size:18,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:[" ",f.jsx("u",{children:""})," (",O,")",b&&f.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",f.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),f.jsx("button",{onClick:M,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),A&&f.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[f.jsx(yc,{})," "]}),f.jsx("button",{onClick:()=>j(!1),children:f.jsx(aa,{className:"text-white"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:e})]}),f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:t?.name})]}),f.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",d.totalRevenue||0]})]}),f.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:f.jsxs("span",{children:["( $",d.newCustomerRevenue||0," +  $",d.oldCustomerRevenue||0,")"]})}),f.jsxs("div",{className:"flex justify-between mt-2",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",d.returnRevenue||0]})]})]})]}),b&&f.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[f.jsx(Iu,{size:12})," "]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsx("button",{onClick:I,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md",children:""})]})]})]})})]})},hfe=()=>{const{userRole:t}=w.useContext(br);return f.jsx(ei,{children:t==="therapist"?f.jsx(ffe,{}):f.jsx(dfe,{})})},mfe=()=>{const{showToast:t,managers:e,userRole:n,currentUser:r,getCollectionPath:i,getDocPath:s,currentBrand:l}=w.useContext(br),[u,d]=w.useState(n==="trainer"||n==="therapist"?"therapist":"store"),[h,p]=w.useState([]),[g,b]=w.useState([]),[_,S]=w.useState(!1),E=()=>new Date().toISOString().split("T")[0],[A,j]=w.useState(E()),[L,U]=w.useState(E()),[q,$]=w.useState(""),[z,O]=w.useState(null),[N,k]=w.useState({}),M=Y=>typeof Y=="number"?Y.toLocaleString():Y,I=w.useMemo(()=>{let Y="CYJ";if(l){const ye=(typeof l=="string"?l:l.id||"CYJ").toLowerCase();ye.includes("anniu")||ye.includes("anew")?Y="":ye.includes("yibo")?Y="":Y="CYJ"}return Y},[l]),D=w.useMemo(()=>n==="director"||n==="trainer"?null:n==="manager"&&r?(e[r.name]||[]).map(Y=>Y.trim()):n==="store"&&r?(r.stores||[r.storeName]).map(ce=>ce.replace(/CYJ|||Anew|Yibo|/gi,"").trim()):n==="therapist"&&r?[r.store]:[],[n,r,e]),R=w.useMemo(()=>{let Y=[];return D!==null?Y=D:Y=Object.values(e).flat(),Y.filter(ce=>ce).map(ce=>`${I}${ce}`).sort()},[e,D,I]);w.useEffect(()=>{R.length===1&&$(R[0])},[R]);const re=Y=>Y?Y.storeName||Y.store||"":"",Z=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],W=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];w.useEffect(()=>{if(!A||!L)return;(async()=>{S(!0);try{const ce=u==="store"?"daily_reports":"therapist_daily_reports",ye=new Map,he=i(ce),Pe=Jf(he,xu("date",">=",A),xu("date","<=",L),Rg("date","desc"));(await MC(Pe)).docs.forEach(Ge=>ye.set(Ge.id,{id:Ge.id,...Ge.data()}));const Se=A.replace(/-/g,"/"),Ae=L.replace(/-/g,"/"),J=Jf(he,xu("date",">=",Se),xu("date","<=",Ae),Rg("date","desc"));(await MC(J)).docs.forEach(Ge=>ye.set(Ge.id,{id:Ge.id,...Ge.data()}));const ze=Array.from(ye.values()).sort((Ge,wt)=>wt.date.localeCompare(Ge.date));u==="store"?p(ze):b(ze)}catch(ce){console.error(ce),t(": "+ce.message,"error")}finally{S(!1)}})()},[u,A,L,i,t,l]);const H=u==="store"?h:g,te=w.useMemo(()=>H.filter(Y=>{if(n==="therapist"){if(u!=="therapist"||Y.therapistId!==r?.id)return!1}else if(D!==null){const ye=ie=>String(ie||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),he=ye(re(Y));if(!D.some(ie=>he===ye(ie)))return!1}let ce=!0;if(q){const ye=ie=>String(ie||"").replace(/CYJ|||Anew|Yibo|/gi,"").replace(/\s/g,"").toLowerCase().trim(),he=ye(q);ce=ye(re(Y))===he}return ce}),[H,q,D,n,r,u]),oe=Y=>{O(Y.id),k({...Y,date:pr(Y.date)})},we=()=>{O(null),k({})},V=(Y,ce)=>{k(ye=>{const he={...ye,[Y]:ce};if(u==="therapist"&&(Y==="newCustomerRevenue"||Y==="oldCustomerRevenue"||Y==="returnRevenue")){const Pe=Number(he.newCustomerRevenue||0),ie=Number(he.oldCustomerRevenue||0),Se=Number(he.returnRevenue||0);he.totalRevenue=Pe+ie-Se}if(u==="store"&&(Y==="operationalAccrual"||Y==="skincareSales")){const Pe=Number(he.operationalAccrual||0),ie=Number(he.skincareSales||0);he.accrual=Pe+ie}return he})},K=async()=>{try{const ce=i(u==="store"?"daily_reports":"therapist_daily_reports"),ye=Vn(ce,z);let he={};u==="store"?he={...N,cash:Number(N.cash||0),accrual:Number(N.accrual||0),operationalAccrual:Number(N.operationalAccrual||0),skincareSales:Number(N.skincareSales||0),traffic:Number(N.traffic||0),newCustomers:Number(N.newCustomers||0),newCustomerClosings:Number(N.newCustomerClosings||0),newCustomerSales:Number(N.newCustomerSales||0),refund:Number(N.refund||0),skincareRefund:Number(N.skincareRefund||0)}:he={...N,totalRevenue:Number(N.totalRevenue||0),newCustomerRevenue:Number(N.newCustomerRevenue||0),newCustomerCount:Number(N.newCustomerCount||0),newCustomerClosings:Number(N.newCustomerClosings||0),oldCustomerRevenue:Number(N.oldCustomerRevenue||0),oldCustomerCount:Number(N.oldCustomerCount||0),returnRevenue:Number(N.returnRevenue||0)},await kg(ye,he),t("","success"),(u==="store"?p:b)(ie=>ie.map(Se=>Se.id===z?{...Se,...he}:Se)),O(null)}catch{t("","error")}},G=async Y=>{if(confirm("?"))try{const ye=i(u==="store"?"daily_reports":"therapist_daily_reports");await a4(Vn(ye,Y)),t("","success"),(u==="store"?p:b)(Pe=>Pe.filter(ie=>ie.id!==Y))}catch{t("","error")}};return f.jsx(ei,{children:f.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),f.jsx("span",{className:"px-2 py-1 bg-stone-100 text-stone-500 rounded text-xs font-bold",children:I})]}),f.jsx("span",{className:"hidden sm:inline text-stone-400",children:"|"}),f.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl w-full sm:w-auto",children:[n!=="trainer"&&n!=="therapist"&&f.jsxs("button",{onClick:()=>{d("store"),$("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(Bi,{size:16})," "]}),f.jsxs("button",{onClick:()=>{d("therapist"),$("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${u==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(Ac,{size:16})," "]})]})]}),f.jsx(jt,{children:f.jsxs("div",{className:"space-y-4 w-full",children:[f.jsxs("div",{className:"flex flex-wrap items-end gap-4 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[f.jsxs("div",{className:"w-full md:w-auto flex-grow",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(no,{size:12})," "]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full",children:[f.jsx("input",{type:"date",value:A,onChange:Y=>j(Y.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),f.jsx("span",{className:"text-stone-400 font-bold transform rotate-90 md:rotate-0",children:""}),f.jsx("input",{type:"date",value:L,onChange:Y=>U(Y.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[f.jsxs("div",{className:"flex-grow min-w-[150px]",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("select",{value:q,onChange:Y=>$(Y.target.value),disabled:R.length===1,className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400 h-[42px] disabled:bg-stone-100 disabled:text-stone-500",children:[R.length>1&&f.jsx("option",{value:"",children:""}),R.map(Y=>f.jsx("option",{value:Y,children:Y},Y))]})]}),f.jsx("div",{className:"flex items-end",children:f.jsxs("button",{onClick:()=>{j(E()),U(E()),R.length>1&&$("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm h-[42px] items-center justify-center whitespace-nowrap",children:[f.jsx(Tz,{size:16})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),f.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[f.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),u==="store"?Z.map(Y=>f.jsx("th",{className:`p-4 text-right ${Y.isNegative?"text-rose-500":""} ${Y.width}`,children:Y.label},Y.key)):f.jsxs(f.Fragment,{children:[f.jsx("th",{className:"p-4 min-w-[100px]",children:""}),W.map(Y=>f.jsx("th",{className:`p-4 text-right ${Y.isNegative?"text-rose-500":Y.isHighlight?"text-indigo-600":""} ${Y.width}`,children:Y.label},Y.key))]}),f.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),f.jsxs("tbody",{className:"divide-y divide-stone-100",children:[_&&f.jsx("tr",{children:f.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[f.jsx(Ts,{className:"animate-spin inline mr-2"}),"..."]})}),!_&&(!A||!L)&&f.jsx("tr",{children:f.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(CA,{size:24,className:"opacity-50"}),f.jsx("p",{className:"font-bold",children:""})]})})}),!_&&te.map(Y=>{const ce=z===Y.id,ye=re(Y).replace(/CYJ|||Anew|Yibo|/gi,"");return f.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:f.jsxs("div",{className:"flex flex-col",children:[ce?f.jsx("input",{type:"date",value:N.date,onChange:he=>V("date",he.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):f.jsx("span",{className:"font-mono font-bold text-stone-600",children:Y.date}),f.jsxs("span",{className:"font-bold text-stone-800",children:[ye,""]})]})}),u==="store"?Z.map(he=>f.jsx("td",{className:"p-4 text-right",children:ce?f.jsx("input",{type:"number",value:N[he.key],onChange:Pe=>V(he.key,Pe.target.value),readOnly:he.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${he.isNegative?"text-rose-500":""} ${he.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):f.jsx("span",{className:he.isNegative?"text-rose-500 font-bold":"",children:M(Y[he.key])})},he.key)):f.jsxs(f.Fragment,{children:[f.jsx("td",{className:"p-4 font-bold",children:Y.therapistName}),W.map(he=>f.jsx("td",{className:"p-4 text-right",children:ce?f.jsx("input",{type:"number",value:N[he.key],onChange:Pe=>V(he.key,Pe.target.value),readOnly:he.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${he.isNegative?"text-rose-500":he.isHighlight?"font-bold text-indigo-600":""} ${he.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):f.jsx("span",{className:he.isNegative?"text-rose-500 font-bold":he.isHighlight?"text-indigo-600 font-bold":"",children:M(Y[he.key])})},he.key))]}),f.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:ce?f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{onClick:K,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:f.jsx(Ec,{size:16})}),f.jsx("button",{onClick:we,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:f.jsx(aa,{size:16})})]}):f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{onClick:()=>oe(Y),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:f.jsx(Az,{size:16})}),f.jsx("button",{onClick:()=>G(Y.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:f.jsx(fg,{size:16})})]})})]},Y.id)}),!_&&te.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:" ()"})})]})]})}),f.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[f.jsx(vz,{size:12}),"  ",f.jsx(Z0,{size:12})]})]})]})})]})})},pfe=()=>{const{fmtMoney:t,fmtNum:e,userRole:n,currentBrand:r,allReports:i,managers:s,budgets:l,selectedYear:u,selectedMonth:d}=w.useContext(br),{brandInfo:h,brandPrefix:p}=w.useMemo(()=>{let S="CYJ",E="CYJ";r&&(typeof r=="string"?S=r:typeof r=="object"&&(S=r.id||"CYJ",E=r.name||r.label||S));const A=S.toLowerCase();return A.includes("anniu")||A.includes("anew")?E="":A.includes("yibo")?E="":E="CYJ",{brandInfo:{id:S,name:E},brandPrefix:E}},[r]),g=w.useMemo(()=>{if(!i||!s)return null;const S=parseInt(u),E=parseInt(d),A=Object.keys(s).map(j=>({manager:j,stores:[],cashTotal:0,accrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0,budgetTotal:0,achievement:0}));return A.forEach(j=>{(s[j.manager]||[]).forEach(U=>{const q=`${p}${U}`,$={name:q,cleanName:U,cashTotal:0,accrualTotal:0,budget:0,achievement:0};i.forEach(N=>{const k=new Date(N.date);if(k.getFullYear()!==S||k.getMonth()+1!==E||N.storeName!==q)return;const M=(Number(N.cash)||0)-(Number(N.refund)||0),I=Number(N.accrual)||0;$.cashTotal+=M,$.accrualTotal+=I,j.cashTotal+=M,j.accrualTotal+=I,j.skincareSalesTotal+=Number(N.skincareSales)||0,j.trafficTotal+=Number(N.traffic)||0,j.newCustomersTotal+=Number(N.newCustomers)||0,j.newCustomerClosingsTotal+=Number(N.newCustomerClosings)||0});const z=`${q}_${S}_${E}`,O=l[z];O&&($.budget=Number(O.cashTarget)||0,j.budgetTotal+=$.budget),$.achievement=$.budget>0?$.cashTotal/$.budget*100:0,j.stores.push($)}),j.achievement=j.budgetTotal>0?j.cashTotal/j.budgetTotal*100:0}),A.sort((j,L)=>L.cashTotal-j.cashTotal)},[i,s,l,u,d,p]),b=w.useMemo(()=>g?g.map(S=>({name:S.manager,value:S.cashTotal})).filter(S=>S.value>0):[],[g]),_=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return g?f.jsx(ei,{children:f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2",children:[f.jsx("div",{className:`w-2 h-8 rounded-full ${h.id.toLowerCase().includes("anniu")?"bg-teal-500":h.id.toLowerCase().includes("yibo")?"bg-purple-500":"bg-amber-500"}`}),f.jsxs("h1",{className:"text-2xl font-bold text-stone-700",children:[h.name," "]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(S=>f.jsxs(jt,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg",children:S.manager.charAt(0)}),f.jsx("div",{children:f.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[S.manager," "]})})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${S.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[S.achievement.toFixed(0),"%"]})})]}),f.jsxs("div",{className:"space-y-3 mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-lg font-bold text-stone-700",children:t(S.cashTotal)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-base font-bold text-stone-600",children:t(S.accrualTotal)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-base font-bold text-rose-500",children:t(S.skincareSalesTotal)})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.trafficTotal)})]}),f.jsxs("div",{className:"text-center border-l border-stone-200",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.newCustomersTotal)})]}),f.jsxs("div",{className:"text-center border-l border-stone-200",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:e(S.newCustomerClosingsTotal)})]})]})]},S.manager))}),n==="director"?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:f.jsx(jt,{title:` (${p})`,subtitle:"",children:f.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:f.jsx(g0,{width:"100%",height:"100%",children:f.jsxs(rue,{children:[f.jsx(AL,{data:b,cx:"50%",cy:"50%",labelLine:!0,label:({name:S,percent:E})=>`${S} ${(E*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:b.map((S,E)=>f.jsx(nm,{fill:_[E%_.length]},`cell-${E}`))}),f.jsx($0,{formatter:S=>t(S)}),f.jsx(_0,{verticalAlign:"bottom",height:36})]})})})})}):f.jsx("div",{className:"space-y-6",children:g.map(S=>n==="manager"&&currentUser&&currentUser.name!==S.manager?null:f.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[f.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:f.jsxs("h3",{className:"font-bold text-stone-700",children:[S.manager," "]})}),f.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:S.stores.map(E=>f.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h4",{className:"font-bold text-stone-700",children:E.cleanName}),f.jsxs("span",{className:`text-sm font-bold ${E.achievement>=100?"text-emerald-600":"text-amber-500"}`,children:[E.achievement.toFixed(0),"%"]})]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-400",children:""}),f.jsx("span",{className:"font-bold",children:t(E.cashTotal)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-400",children:""}),f.jsx("span",{className:"font-bold",children:t(E.accrualTotal)})]})]})]},E.name))})]},S.manager))})]})}):f.jsxs("div",{className:"flex h-96 items-center justify-center",children:[f.jsx(Ts,{className:"h-10 w-10 animate-spin text-stone-300"}),f.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]})},gfe=()=>{const{allReports:t,fmtMoney:e,fmtNum:n,budgets:r,selectedYear:i,selectedMonth:s,managers:l,auditExclusions:u,handleUpdateAuditExclusions:d,showToast:h,currentBrand:p}=w.useContext(br),[g,b]=w.useState({key:"achievement",direction:"desc"}),[_,S]=w.useState(!1),[E,A]=w.useState([]),j=w.useMemo(()=>{let I="CYJ";if(p){const R=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();R.includes("anniu")||R.includes("anew")?I="":R.includes("yibo")?I="":I="CYJ"}return I},[p]),L=I=>I?I.replace(new RegExp(`^(${j}|CYJ|||Anew|Yibo)`,"i"),"").replace(/$/,"").trim():"",U=()=>{A(u||[]),S(!0)},q=async()=>{await d(E),S(!1),h("","success")},$=I=>{A(D=>D.includes(I)?D.filter(R=>R!==I):[...D,I])},z=w.useMemo(()=>{if(!t)return[];const I=parseInt(i),D=parseInt(s),R={};t.forEach(Z=>{const W=new Date(Z.date);if(W.getFullYear()!==I||W.getMonth()+1!==D)return;const H=Z.storeName;if(!H)return;R[H]||(R[H]={name:H,displayName:L(H),manager:"",cashTotal:0,refundTotal:0,accrualTotal:0,operationalAccrualTotal:0,skincareSalesTotal:0,trafficTotal:0,newCustomersTotal:0,newCustomerClosingsTotal:0});const te=R[H];te.cashTotal+=Number(Z.cash)||0,te.refundTotal+=Number(Z.refund)||0,te.accrualTotal+=Number(Z.accrual)||0,te.operationalAccrualTotal+=Number(Z.operationalAccrual)||0,te.skincareSalesTotal+=Number(Z.skincareSales)||0,te.trafficTotal+=Number(Z.traffic)||0,te.newCustomersTotal+=Number(Z.newCustomers)||0,te.newCustomerClosingsTotal+=Number(Z.newCustomerClosings)||0});let re=Object.values(R).map(Z=>{const W=Z.displayName,H=Object.keys(l).find(G=>l[G].includes(W));Z.manager=H||"";const te=Z.cashTotal-Z.refundTotal;Z.cashTotal=te;const oe=`${Z.name}_${I}_${D}`,we=r[oe],V=we?Number(we.cashTarget||0):0,K=we?Number(we.accrualTarget||0):0;return{...Z,cashTarget:V,achievement:V>0?te/V*100:0,accrualTarget:K,accrualAchievement:K>0?Z.accrualTotal/K*100:0,trafficASP:Z.trafficTotal>0?Math.round(Z.operationalAccrualTotal/Z.trafficTotal):0}});return re=re.filter(Z=>!(u||[]).includes(Z.displayName)),re},[t,r,i,s,u,l,j]),O=w.useMemo(()=>{let I=[...z];return g.key&&I.sort((D,R)=>{const re=D[g.key]||0,Z=R[g.key]||0;return re<Z?g.direction==="ascending"?-1:1:re>Z?g.direction==="ascending"?1:-1:0}),I},[z,g]),N=I=>b({key:I,direction:g.key===I&&g.direction==="desc"?"ascending":"desc"}),k=()=>{const I=[",,,,,,,,,,,,"],D=O.map((H,te)=>[te+1,H.displayName,H.manager,H.cashTotal||0,(H.achievement||0).toFixed(2)+"%",H.accrualTotal||0,H.accrualTarget||0,(H.accrualAchievement||0).toFixed(2)+"%",H.skincareSalesTotal||0,H.trafficTotal||0,H.trafficASP||0,H.newCustomersTotal||0,H.newCustomerClosingsTotal||0].join(",")),R="\uFEFF"+[I,...D].join(`
`),re=new Blob([R],{type:"text/csv;charset=utf-8;"}),Z=URL.createObjectURL(re),W=document.createElement("a");W.href=Z,W.download=`${j}__${new Date().toISOString().split("T")[0]}.csv`,W.click()},M=({store:I,index:D})=>f.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm mb-3",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-stone-50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${D<3?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-500"}`,children:D+1}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-stone-700 text-lg",children:I.displayName}),f.jsxs("p",{className:"text-xs text-stone-400",children:[I.manager,""]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-xs text-stone-400 font-bold uppercase",children:""}),f.jsxs("div",{className:`text-xl font-mono font-bold ${I.achievement>=100?"text-emerald-500":"text-stone-700"}`,children:[I.achievement.toFixed(1),"%"]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(ul,{size:10})," "]}),f.jsx("p",{className:"font-mono font-bold text-stone-700",children:e(I.cashTotal)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(yue,{size:10})," "]}),f.jsxs("p",{className:`font-mono font-bold ${I.accrualAchievement>=100?"text-emerald-600":"text-blue-600"}`,children:[I.accrualAchievement.toFixed(1),"%"]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(Yu,{size:10})," "]}),f.jsx("p",{className:"font-mono font-bold text-stone-600",children:e(I.accrualTotal)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(sm,{size:10})," /"]}),f.jsxs("p",{className:"font-mono text-stone-600 text-sm",children:[n(I.trafficTotal)," / ",f.jsx("span",{className:"text-stone-800 font-bold",children:n(I.newCustomersTotal)})]})]})]})]});return f.jsxs(ei,{children:[f.jsxs(jt,{title:`${j} `,subtitle:"",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mb-4 gap-2",children:[f.jsxs("button",{onClick:U,className:"flex items-center justify-center gap-2 px-4 py-2 bg-stone-100 text-stone-600 rounded-xl text-sm font-bold hover:bg-stone-200 transition-colors",children:[f.jsx(ey,{size:16})," "]}),f.jsxs("button",{onClick:k,className:"flex items-center justify-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[f.jsx(xz,{size:16}),"  CSV"]})]}),f.jsx("div",{className:"block md:hidden",children:O.map((I,D)=>f.jsx(M,{store:I,index:D},I.name))}),f.jsx("div",{className:"hidden md:block w-full overflow-hidden rounded-2xl border border-stone-100",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[f.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase sticky top-0 z-10",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-16 text-center",children:""}),f.jsx("th",{className:"p-4 cursor-pointer hover:text-stone-700",onClick:()=>N("displayName"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("cashTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("achievement"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>N("accrualTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>N("accrualAchievement"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("trafficTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("newCustomersTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>N("newCustomerClosingsTotal"),children:""})]})}),f.jsxs("tbody",{className:"text-sm divide-y divide-stone-50",children:[O.map((I,D)=>f.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:D+1}),f.jsx("td",{className:"p-4 font-bold text-stone-700",children:I.displayName}),f.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(I.cashTotal)}),f.jsxs("td",{className:`p-4 text-right font-mono font-bold ${I.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[I.achievement.toFixed(1),"%"]}),f.jsx("td",{className:"p-4 text-right font-mono font-bold text-blue-600",children:e(I.accrualTotal)}),f.jsxs("td",{className:`p-4 text-right font-mono font-bold ${I.accrualAchievement>=100?"text-emerald-500":"text-blue-400"}`,children:[I.accrualAchievement.toFixed(1),"%"]}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.trafficTotal)}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.newCustomersTotal)}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(I.newCustomerClosingsTotal)})]},I.name)),O.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:13,className:"p-8 text-center text-stone-400",children:""})})]})]})})})]}),_&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(TA,{size:20,className:"text-rose-400"}),"  (",j,")"]}),f.jsx("button",{onClick:()=>S(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(aa,{size:20})})]}),f.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(l).map(([I,D])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[I," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:D.map(R=>{const re=E.includes(R);return f.jsxs("button",{onClick:()=>$(R),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${re?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[re&&f.jsx(Fs,{size:14}),R]},R)})})]},I))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>S(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:q,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(Ec,{size:18})," "]})]})]})})]})},vfe=()=>{const{rawData:t,budgets:e,managers:n,selectedYear:r,selectedMonth:i,fmtMoney:s,fmtNum:l,currentUser:u,userRole:d,activeView:h,currentBrand:p}=w.useContext(br),[g,b]=w.useState(""),[_,S]=w.useState(""),E=w.useMemo(()=>{let L="CYJ";if(p){const q=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();q.includes("anniu")||q.includes("anew")?L="":q.includes("yibo")?L="":L="CYJ"}return L},[p]);w.useEffect(()=>{h==="store-analysis"&&u&&n[u.name]&&b(u.name)},[h,u,n]),w.useEffect(()=>{const L=U=>S(U.detail);return window.addEventListener("navigate-to-store",L),()=>window.removeEventListener("navigate-to-store",L)},[]);const A=w.useMemo(()=>{const L=U=>{const q=U.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${E}${q}`};return d==="director"||d==="trainer"?g?(n[g]||[]).map(L):[]:d==="manager"?Object.values(n).flat().map(L):d==="store"&&u?(u.stores||[u.storeName]).map(U=>L(U)):[]},[g,n,u,d,E]);w.useEffect(()=>{u&&A.length>0&&(!_||!A.includes(_))&&S(A[0])},[u,A,_]);const j=w.useMemo(()=>{if(!_)return null;const L=parseInt(r),U=parseInt(i),q=L-1911,$=t.filter(Z=>{if(Z.storeName!==_||!Z.date)return!1;const W=Z.date.replace(/-/g,"/").split("/"),H=parseInt(W[0]),te=parseInt(W[1]);return(H===L||H===q)&&te===U}).sort((Z,W)=>{const H=pr(Z.date),te=pr(W.date);return H.localeCompare(te)}),z=$.reduce((Z,W)=>Z+(W.cash||0),0),O=$.reduce((Z,W)=>Z+(W.refund||0),0),N=z-O,k=$.reduce((Z,W)=>Z+(W.traffic||0),0),M=$.reduce((Z,W)=>Z+(W.operationalAccrual||0),0),I=$.reduce((Z,W)=>Z+(W.newCustomers||0),0),D=$.reduce((Z,W)=>Z+(W.newCustomerSales||0),0),R=$.reduce((Z,W)=>Z+(W.newCustomerClosings||0),0),re=e[`${_}_${L}_${U}`]?.cashTarget||0;return{totalCash:N,achievement:re>0?N/re*100:0,trafficASP:k>0?Math.round(M/k):0,newCustomerASP:I>0?Math.round(D/I):0,totalNewCustomerClosings:R,totalRefund:O,dailyData:$.map(Z=>({date:pr(Z.date).split("/")[2],cash:(Z.cash||0)-(Z.refund||0),accrual:Z.accrual||0,traffic:Z.traffic})),budget:re}},[_,r,i,t,e]);return f.jsx(ei,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{title:"",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsxs("select",{value:g,onChange:L=>b(L.target.value),disabled:d!=="director"&&d!=="trainer",className:"px-4 py-2 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white",children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(L=>f.jsxs("option",{value:L,children:[L,""]},L))]}),f.jsxs("select",{value:_,onChange:L=>S(L.target.value),className:"px-4 py-2 border rounded-xl font-bold text-stone-700 outline-none focus:border-amber-400 bg-white",children:[f.jsx("option",{value:"",children:""}),A.map(L=>f.jsx("option",{value:L,children:L},L))]})]})}),_&&j?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(j.totalCash)}),f.jsxs("p",{className:`text-sm font-bold ${j.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[j.achievement.toFixed(1),"% "]})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(j.trafficASP)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(j.budget)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(j.newCustomerASP)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(j.totalNewCustomerClosings)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:s(j.totalRefund)})]})]}),f.jsx(jt,{title:`${_} `,subtitle:"()",children:f.jsx("div",{className:"h-[400px] w-full",children:f.jsx(g0,{width:"100%",height:"100%",children:f.jsxs(AA,{data:j.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[f.jsx(X0,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),f.jsx(J0,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),f.jsx(Gu,{yAxisId:"left",width:80,tickFormatter:L=>L===0?"0":`$${(L/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),f.jsx(Gu,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),f.jsx($0,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(L,U)=>U===""?[l(L),U]:[s(L),U],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),f.jsx(_0,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),f.jsx(wA,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),f.jsx(Ku,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),f.jsx(Ku,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]}):f.jsxs("div",{className:"p-10 text-center text-stone-400 bg-stone-50 rounded-xl border border-stone-100",children:[f.jsx("p",{className:"font-bold",children:""}),f.jsx("p",{className:"text-xs mt-1",children:""})]})]})})},yfe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState(1),l=20,u=new Date().toISOString().split("T")[0],[d,h]=w.useState({start:u,end:u}),p=()=>{r(!0),e([]);const A=new Date(d.start);A.setHours(0,0,0,0);const j=new Date(d.end);j.setHours(23,59,59,999);const L=Jf(bw(ka,"artifacts",Cf,"public","data","system_logs"),xu("timestamp",">=",zt.fromDate(A)),xu("timestamp","<=",zt.fromDate(j)),r4(500));return kr(L,q=>{let $=q.docs.map(z=>({id:z.id,...z.data()}));$.sort((z,O)=>{const N=z.timestamp?.toMillis?z.timestamp.toMillis():0;return(O.timestamp?.toMillis?O.timestamp.toMillis():0)-N}),e($),r(!1)})};w.useEffect(()=>{const A=p();return()=>A()},[d]);const g=Math.ceil(t.length/l),b=t.slice((i-1)*l,i*l),_=A=>{if(!A)return"-";const j=A.toDate?A.toDate():new Date(A);return`${j.getMonth()+1}/${j.getDate()} ${j.getHours().toString().padStart(2,"0")}:${j.getMinutes().toString().padStart(2,"0")}`},S=A=>{switch(A){case"director":return f.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return f.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return f.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return f.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return f.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},E=A=>A==="iOS"||A==="Android"||A==="Mobile"?f.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[f.jsx(Nde,{size:12})," ",A]}):f.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[f.jsx(mde,{size:12})," PC"]});return f.jsx(ei,{children:f.jsx("div",{className:"space-y-6 pb-20",children:f.jsxs(jt,{children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),f.jsx("p",{className:"text-xs text-stone-400",children:""})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[f.jsxs("div",{className:"flex items-center gap-2 px-2",children:[f.jsx(no,{size:14,className:"text-stone-400"}),f.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[f.jsx("input",{type:"date",value:d.start,onChange:A=>h(j=>({...j,start:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),f.jsx("span",{className:"text-stone-300",children:"~"}),f.jsx("input",{type:"date",value:d.end,onChange:A=>h(j=>({...j,end:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?f.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[f.jsx(bde,{className:"animate-spin mx-auto mb-2"}),f.jsx("p",{children:"..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[f.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4 w-24",children:""}),f.jsx("th",{className:"p-4 w-24",children:""}),f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:b.length>0?b.map(A=>f.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:_(A.timestamp)}),f.jsx("td",{className:"p-4",children:E(A.device)}),f.jsx("td",{className:"p-4",children:S(A.role)}),f.jsx("td",{className:"p-4 font-bold text-stone-700",children:A.user}),f.jsx("td",{className:"p-4 font-medium text-stone-600",children:A.action}),f.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof A.details=="string"?A.details:JSON.stringify(A.details),children:typeof A.details=="string"?A.details:JSON.stringify(A.details)})]},A.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&f.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[f.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>s(A=>Math.max(1,A-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:f.jsx(NA,{size:18})}),f.jsx("button",{onClick:()=>s(A=>Math.min(g,A+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:f.jsx(bz,{size:18})})]})]})]})]})})})},bfe=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:d,therapists:h,therapistTargets:p,therapistSchedules:g,trainerAuth:b,handleUpdateTrainerAuth:_,getDocPath:S,getCollectionPath:E,allReports:A,selectedYear:j,selectedMonth:L,currentBrand:U,therapistReports:q}=w.useContext(br),[$,z]=w.useState(""),[O,N]=w.useState(t),[k,M]=w.useState(u||hg),[I,D]=w.useState(r||{}),[R,re]=w.useState(!1);w.useEffect(()=>{r&&D(r)},[r]);const[Z,W]=w.useState({name:"",password:"",stores:""}),[H,te]=w.useState(null),[oe,we]=w.useState({name:"",password:"",stores:[]}),[V,K]=w.useState({name:"",password:""}),[G,Y]=w.useState(null),[ce,ye]=w.useState([]),[he,Pe]=w.useState({name:"",manager:""}),[ie,Se]=w.useState(!1),[Ae,J]=w.useState(null),[Ve,ze]=w.useState(""),[Ge,wt]=w.useState(""),[cn,nr]=w.useState(""),[Dt,Ot]=w.useState(""),[$r,Ja]=w.useState("0000"),[fa,Ht]=w.useState(""),Qe="",rr=w.useMemo(()=>{const Q=[],Te=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0},{id:"permissions",label:"",isAdminOnly:!0},{id:"trainer-account",label:"",isAdminOnly:!0,icon:sm},{id:"shops",label:"",isAdminOnly:!0},{id:"stores",label:"",isAdminOnly:!0},{id:"managers",label:"",isAdminOnly:!0},{id:"therapists",label:"",isAdminOnly:!0},{id:"system",label:"",isAdminOnly:!0,icon:Ik}].forEach(Re=>{(l==="director"||!Re.isAdminOnly&&Re.permissionId&&Te.includes(Re.permissionId))&&Q.push(Re)}),Q},[l,u]);w.useEffect(()=>{if(rr.length>0){const Q=rr.some(Te=>Te.id===$);(!$||!Q)&&z(rr[0].id)}},[rr,$]);const xi=w.useMemo(()=>{const Te=Object.entries(I||{});return Te.some(([Re])=>Re===Qe)||Te.push([Qe,[]]),Te.sort((Re,ht)=>Re[0]===Qe?1:ht[0]===Qe?-1:Re[0].localeCompare(ht[0]))},[I]);w.useMemo(()=>{let Q=h.filter(Te=>Te.status==="active");if(l==="director"||l==="trainer")return Q.sort((Te,Ne)=>Te.store.localeCompare(Ne.store));if(l==="manager"){const Te=I[d?.name]||[];return Q.filter(Ne=>Te.includes(Ne.store)).sort((Ne,Re)=>Ne.store.localeCompare(Re.store))}if(l==="store"){const Ne=(d?.stores||[d?.storeName]).map(Re=>Re.replace("CYJ","").replace("",""));return Q.filter(Re=>Ne.includes(Re.store))}return l==="therapist"?Q.filter(Te=>Te.id===d?.id):[]},[h,l,d,I]);const wi=async()=>{if(!fa)return n("","error");await _(fa)?(n("","success"),Ht("")):n("","error")};w.useEffect(()=>{u&&M(u)},[u]),w.useEffect(()=>{t&&N(t)},[t]);const Za=async()=>{try{await fn(S("kpi_targets"),O),e(O),n("KPI ","success")}catch{n("","error")}},ha=async()=>{try{await fn(S("permissions"),k),n("","success")}catch{n("","error")}},ni=(Q,Te)=>{const Ne=k[Q]||[],Re=Ne.includes(Te)?Ne.filter(ht=>ht!==Te):[...Ne,Te];M({...k,[Q]:Re})},ma=async()=>{if(confirm(` ${j}${L} 
 (One-time cost)`)){re(!0);try{const Q=(typeof U=="string"?U:U.id).toLowerCase();await ufe(Q,parseInt(j),parseInt(L),A,q),n("","success")}catch(Q){console.error(Q),n(": "+Q.message,"error")}finally{re(!1)}}},xr=async()=>{if(!he.name||!he.manager)return n("","error");try{const Q=he.manager,Te=S("org_structure"),Ne=await gf(Te);let Re=Ne.exists()?{...Ne.data().managers}:{};Re[Q]||(Re[Q]=[]),Re[Q].includes(he.name)||Re[Q].push(he.name),await fn(Te,{managers:Re}),D(Re),Pe({name:"",manager:""}),n("","success")}catch(Q){n(": "+Q.message,"error")}},rn=async(Q,Te)=>{const Ne=Te===Qe;if(confirm(Ne?"":""))try{const Re=S("org_structure"),ht=await gf(Re);if(!ht.exists())throw new Error("");let $e=JSON.parse(JSON.stringify(ht.data().managers||{}));Array.isArray($e[Te])&&($e[Te]=$e[Te].filter(yt=>yt!==Q)),Ne||(Array.isArray($e[Qe])||($e[Qe]=[]),$e[Qe].includes(Q)||$e[Qe].push(Q)),await fn(Re,{managers:$e}),D($e),n(Ne?"":"","success")}catch(Re){console.error(Re),n(": "+Re.message,"error")}},Hn=async Q=>{try{const Te=S("org_structure"),Ne=await gf(Te);let Re=Ne.exists()?JSON.parse(JSON.stringify(Ne.data().managers)):{};const ht=ce,$e=Re[Q]||[],yt=$e.filter(Kn=>!ht.includes(Kn)),ir=ht.filter(Kn=>!$e.includes(Kn));Re[Q]=ht,Array.isArray(Re[Qe])||(Re[Qe]=[]),yt.forEach(Kn=>{Re[Qe].includes(Kn)||Re[Qe].push(Kn)}),Re[Qe]=Re[Qe].filter(Kn=>!ir.includes(Kn)),await fn(Te,{managers:Re}),D(Re),Y(null),n("","success")}catch{n("","error")}},$t=w.useMemo(()=>{const Q=Object.values(I||{}).flat(),Te=i.flatMap(Ne=>Ne.stores||[]);return Q.filter(Ne=>!Te.includes(Ne)).sort()},[I,i]),es=w.useMemo(()=>I&&I[Qe]?I[Qe].sort():[],[I]),_i=w.useMemo(()=>{const Q=Object.values(I||{}).flat(),Te=i.filter(Ne=>Ne.id!==H?.id).flatMap(Ne=>Ne.stores||[]);return Q.filter(Ne=>!Te.includes(Ne)&&!oe.stores.includes(Ne)).sort()},[I,i,H,oe]),ro=async()=>{if(!Z.name||!Z.password)return n("","error");const Q={id:Zde(),...Z,stores:Z.stores?[Z.stores]:[]};try{await fn(S("store_account_data"),{accounts:[...i,Q]}),W({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},wr=Q=>{te(Q),we({name:Q.name,password:Q.password,stores:Q.stores||[]})},Gi=Q=>{Q&&!oe.stores.includes(Q)&&we({...oe,stores:[...oe.stores,Q]})},Xt=Q=>{we({...oe,stores:oe.stores.filter(Te=>Te!==Q)})},Br=async()=>{if(!oe.name)return;const Q=i.map(Te=>Te.id===H.id?{...Te,...oe}:Te);await fn(S("store_account_data"),{accounts:Q}),te(null),n("","success")},qr=async Q=>{if(!confirm("?"))return;const Te=i.filter(Ne=>Ne.id!==Q);await fn(S("store_account_data"),{accounts:Te}),n("","success")},Ir=async()=>{if(V.name)try{const Q=S("org_structure"),Te=await gf(Q);let Ne=Te.exists()?Te.data().managers:{};Ne[V.name]=[],await fn(Q,{managers:Ne}),D(Ne),await fn(S("manager_auth"),{[V.name]:V.password},{merge:!0}),K({name:"",password:""}),n("","success")}catch{n("","error")}},io=Q=>{Q&&(ce.includes(Q)||ye([...ce,Q]))},ao=Q=>{ye(ce.filter(Te=>Te!==Q))},xe=async Q=>{if(confirm("?"))try{const Te=S("org_structure"),Ne=await gf(Te);let Re=Ne.exists()?Ne.data().managers:{};delete Re[Q],await fn(Te,{managers:Re}),D(Re),n("","success")}catch{n("","error")}},je=async()=>{if(!Dt)return n("","error");try{await wS(E("therapists"),{name:Dt,store:cn,manager:Ge,password:$r,status:"active",createdAt:Ys()}),Se(!1),Ot(""),n("","success")}catch{n("","error")}},tt=async()=>{if(!Ae)return;const Q=Vn(E("therapists"),Ae.id);await kg(Q,{name:Dt,store:cn,manager:Ge,password:$r}),J(null),n("","success")},vt=async Q=>{const Te=Vn(E("therapists"),Q.id);await kg(Te,{status:Q.status==="active"?"resigned":"active"}),n("","success")},an=async Q=>{confirm("?")&&(await a4(Vn(E("therapists"),Q)),n("","success"))},Qt=Q=>{J(Q),wt(Q.manager||""),nr(Q.store),Ot(Q.name),Ja(Q.password)},ri=w.useMemo(()=>Ge?I&&I[Ge]?I[Ge]:[]:[],[Ge,I]),ii=w.useMemo(()=>h.filter(Q=>(Q.name||"").includes(Ve)||(Q.store||"").includes(Ve)||Q.status==="resigned"&&Ve===""),[h,Ve]);return rr.length===0?f.jsx(ei,{children:f.jsx(jt,{title:"",children:f.jsxs("div",{className:"text-center py-10 text-stone-400",children:[f.jsx(Vf,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:""})]})})}):f.jsx(ei,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800 shrink-0",children:""}),f.jsx("div",{className:"w-full xl:w-auto min-w-0 bg-white p-1 rounded-xl shadow-sm border border-stone-100 flex overflow-x-auto no-scrollbar",children:rr.map(Q=>f.jsxs("button",{onClick:()=>z(Q.id),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-1 ${$===Q.id?"bg-stone-800 text-white shadow":"text-stone-500 hover:bg-stone-50"}`,children:[Q.icon&&f.jsx(Q.icon,{size:14}),Q.label]},Q.id))})]}),$==="kpi"&&f.jsx(jt,{title:"KPI ",children:f.jsxs("div",{className:"max-w-md space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"number",value:O.newASP,onChange:Q=>N({...O,newASP:Number(Q.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"number",value:O.trafficASP,onChange:Q=>N({...O,trafficASP:Number(Q.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),f.jsx("button",{onClick:Za,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold",children:" KPI "})]})}),$==="system"&&f.jsx(jt,{title:"",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 text-amber-800 text-sm",children:[f.jsxs("p",{className:"font-bold flex items-center gap-2",children:[f.jsx(yc,{size:16})," "]}),f.jsx("p",{className:"mt-1",children:"(Aggregation Data)"}),f.jsx("p",{children:"Dashboard "})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-xl",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-stone-700",children:""}),f.jsxs("p",{className:"text-xs text-stone-400",children:[": ",j,"  ",L," "]})]}),f.jsxs("button",{onClick:ma,disabled:R,className:"px-4 py-2 bg-stone-800 text-white rounded-lg font-bold hover:bg-stone-700 disabled:opacity-50 flex items-center gap-2",children:[R?f.jsx(Ts,{className:"animate-spin",size:16}):f.jsx(Ik,{size:16}),R?"...":""]})]})]})}),$==="trainer-account"&&f.jsx(jt,{title:"",children:f.jsxs("div",{className:"max-w-md space-y-6",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),f.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:b?.password||"0000"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"text",value:fa,onChange:Q=>Ht(Q.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsx("button",{onClick:wi,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),$==="permissions"&&f.jsxs(jt,{title:"",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-stone-200",children:[f.jsx("th",{className:"p-4 font-bold text-stone-500",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:bc.map(Q=>f.jsxs("tr",{className:"hover:bg-stone-50",children:[f.jsxs("td",{className:"p-4 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500",children:f.jsx(Q.icon,{size:18})}),f.jsx("span",{className:"font-bold text-stone-700",children:Q.label})]}),f.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:f.jsx("input",{type:"checkbox",checked:k.trainer?.includes(Q.id),onChange:()=>ni("trainer",Q.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:f.jsx("input",{type:"checkbox",checked:k.manager?.includes(Q.id),onChange:()=>ni("manager",Q.id),className:"w-5 h-5 rounded cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:f.jsx("input",{type:"checkbox",checked:k.store?.includes(Q.id),onChange:()=>ni("store",Q.id),className:"w-5 h-5 rounded cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:f.jsx("input",{type:"checkbox",checked:k.therapist?.includes(Q.id),onChange:()=>ni("therapist",Q.id),className:"w-5 h-5 rounded cursor-pointer"})})]},Q.id))})]})}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:ha,className:"bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),$==="shops"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{title:"",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:he.name,onChange:Q=>Pe({...he,name:Q.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{value:he.manager,onChange:Q=>Pe({...he,manager:Q.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(I).map(Q=>f.jsxs("option",{value:Q,children:[Q," "]},Q))]}),f.jsx(Y1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),f.jsxs("button",{onClick:xr,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[f.jsx(Xp,{size:18})," "]})]})}),f.jsx(jt,{title:"",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xi.map(([Q,Te])=>f.jsxs("div",{className:`bg-stone-50 rounded-2xl p-4 border ${Q===Qe?"border-stone-300 shadow-inner":"border-stone-100"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[f.jsxs("span",{className:`font-bold ${Q===Qe?"text-stone-500":"text-stone-700"}`,children:[Q," ",Q!==Qe&&""]}),f.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[Te.length," "]})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Te.map(Ne=>f.jsxs("div",{className:"group relative flex items-center",children:[f.jsx("span",{className:`px-3 py-1.5 border rounded-lg text-xs font-bold shadow-sm pr-7 ${Q===Qe?"bg-white text-stone-500 border-stone-200":"bg-white text-stone-600 border-stone-200"}`,children:Ne}),f.jsx("button",{onClick:()=>rn(Ne,Q),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:f.jsx(aa,{size:12})})]},Ne))})]},Q))})})]}),$==="stores"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{title:"",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),f.jsx("input",{type:"text",value:Z.name,onChange:Q=>W({...Z,name:Q.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:Z.password,onChange:Q=>W({...Z,password:Q.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative w-full",children:[f.jsx(Bi,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),f.jsxs("select",{value:Z.stores,onChange:Q=>W({...Z,stores:Q.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),$t.map(Q=>f.jsx("option",{value:Q,children:Q},Q))]}),f.jsx(Y1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),f.jsx("button",{onClick:ro,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:f.jsx(Xp,{size:20})})]})]})]})}),f.jsx(jt,{title:"",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),f.jsx("th",{className:"p-4",children:""}),f.jsx("th",{className:"p-4",children:""}),f.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(Q=>f.jsxs("tr",{className:"hover:bg-stone-50",children:[f.jsx("td",{className:"p-4 font-bold text-stone-700",children:Q.name}),f.jsx("td",{className:"p-4 font-mono text-stone-500",children:Q.password}),f.jsx("td",{className:"p-4",children:f.jsx("div",{className:"flex flex-wrap gap-1",children:Q.stores&&Q.stores.map(Te=>f.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:Te},Te))})}),f.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[f.jsx("button",{onClick:()=>wr(Q),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:f.jsx(Az,{size:18})}),f.jsx("button",{onClick:()=>qr(Q.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:f.jsx(fg,{size:18})})]})]},Q.id))})]})})}),H&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[f.jsx("span",{children:""}),f.jsx("button",{onClick:()=>te(null),children:f.jsx(aa,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),f.jsx("input",{type:"text",value:oe.name,onChange:Q=>we({...oe,name:Q.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsx("input",{type:"text",value:oe.password,onChange:Q=>we({...oe,password:Q.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:oe.stores.map(Q=>f.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[Q," ",f.jsx("button",{onClick:()=>Xt(Q),className:"text-stone-300 hover:text-rose-500",children:f.jsx(aa,{size:12})})]},Q))}),f.jsx("div",{className:"relative",children:f.jsxs("select",{onChange:Q=>{Gi(Q.target.value),Q.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[f.jsx("option",{value:"",children:"+ "}),_i.map(Q=>f.jsx("option",{value:Q,children:Q},Q))]})})]}),f.jsxs("div",{className:"pt-4 flex gap-3",children:[f.jsx("button",{onClick:()=>te(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),f.jsx("button",{onClick:Br,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),$==="managers"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{title:"",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:V.name,onChange:Q=>K({...V,name:Q.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:V.password,onChange:Q=>K({...V,password:Q.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("button",{onClick:Ir,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[f.jsx(Xp,{size:18})," "]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:xi.map(([Q,Te])=>f.jsxs(jt,{className:`border ${Q===Qe?"border-stone-300 bg-stone-50":"border-stone-200"}`,children:[f.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${Q===Qe?"text-stone-500":"text-stone-700"}`,children:[Q===Qe?f.jsx(rde,{size:20}):f.jsx(Ac,{size:20,className:"text-amber-500"}),Q," ",Q!==Qe&&""]}),Q!==Qe&&f.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[Q]||""]})]}),Q!==Qe&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{Y(Q),ye(Te)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold whitespace-nowrap",children:""}),f.jsx("button",{onClick:()=>xe(Q),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:f.jsx(fg,{size:16})})]})]}),G===Q?f.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ce.map(Ne=>f.jsxs("div",{className:"group relative flex items-center",children:[f.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Ne}),f.jsx("button",{onClick:()=>ao(Ne),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:f.jsx(aa,{size:12})})]},Ne))}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{onChange:Ne=>{io(Ne.target.value),Ne.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white appearance-none text-stone-700",children:[f.jsx("option",{value:"",children:"+ "}),es.filter(Ne=>!ce.includes(Ne)).map(Ne=>f.jsx("option",{value:Ne,children:Ne},Ne))]}),f.jsx(Y1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>Y(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400 hover:text-stone-600",children:""}),f.jsx("button",{onClick:()=>Hn(Q),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg hover:bg-stone-700 shadow-sm",children:""})]})]}):f.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Te.map(Ne=>f.jsx("span",{className:`px-2.5 py-1 border rounded-lg text-xs font-bold ${Q===Qe?"bg-white border-stone-200 text-stone-400":"bg-stone-50 border-stone-100 text-stone-600"}`,children:Ne},Ne))})]},Q))})]}),$==="therapists"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(jt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[f.jsxs("div",{className:"relative w-full md:w-64",children:[f.jsx(CA,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),f.jsx("input",{type:"text",placeholder:"...",value:Ve,onChange:Q=>ze(Q.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),f.jsxs("button",{onClick:()=>Se(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[f.jsx(Xp,{size:18})," "]})]})}),(ie||Ae)&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[f.jsx("span",{children:Ae?"":""}),f.jsx("button",{onClick:()=>{Se(!1),J(null)},children:f.jsx(aa,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsxs("select",{value:Ge,onChange:Q=>{wt(Q.target.value),nr("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[f.jsx("option",{value:"",children:""}),Object.keys(I).map(Q=>f.jsxs("option",{value:Q,children:[Q,""]},Q))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsxs("select",{value:cn,onChange:Q=>nr(Q.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!Ge,children:[f.jsx("option",{value:"",children:""}),ri.map(Q=>f.jsx("option",{value:Q,children:Q},Q))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsx("input",{type:"text",value:Dt,onChange:Q=>Ot(Q.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),f.jsx("input",{type:"text",value:$r,onChange:Q=>Ja(Q.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),f.jsxs("div",{className:"pt-4 flex gap-3",children:[f.jsx("button",{onClick:()=>{Se(!1),J(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),f.jsx("button",{onClick:Ae?tt:je,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:Ae?"":""})]})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ii.map(Q=>f.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${Q.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[f.jsx(Bi,{size:12})," ",Q.store,""]}),f.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[Q.name,Q.status==="resigned"&&f.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>Qt(Q),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:f.jsx(Pde,{size:16})}),f.jsx("button",{onClick:()=>vt(Q),className:`p-2 rounded-lg ${Q.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:Q.status==="active"?"":"",children:Q.status==="active"?f.jsx(Oz,{size:16}):f.jsx(Cz,{size:16})})]})]}),f.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[f.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[f.jsx(Que,{size:12})," : ",Q.password]}),f.jsx("button",{onClick:()=>an(Q.id),className:"text-stone-300 hover:text-rose-400",children:f.jsx(fg,{size:14})})]})]},Q.id))})]})]})})},xfe=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:d,userRole:h,therapistTargets:p,auditExclusions:g=[],handleUpdateAuditExclusions:b,currentBrand:_}=w.useContext(br),[S,E]=w.useState(Iz(new Date)),[A,j]=w.useState(h==="trainer"?"therapist-daily":"daily"),[L,U]=w.useState(!1),[q,$]=w.useState([]),z=w.useMemo(()=>{let G="CYJ";if(_){const ce=(typeof _=="string"?_:_.id||"CYJ").toLowerCase();ce.includes("anniu")||ce.includes("anew")?G="":ce.includes("yibo")?G="":G="CYJ"}return G},[_]),O=()=>{$(g||[]),U(!0)},N=async()=>{await b(q),U(!1),e("","success")},k=G=>{$(Y=>Y.includes(G)?Y.filter(ce=>ce!==G):[...Y,G])},M=w.useMemo(()=>Object.values(t).flat().filter(Y=>!g.includes(Y)).map(Y=>{const ce=[Y,`${Y}`,`${z}${Y}`,`${z}${Y}`,`CYJ${Y}`];return{id:Y,name:`${Y}`,stores:ce}}),[t,g,z]),I=w.useMemo(()=>l.filter(G=>G.status==="active").map(G=>({id:G.id,name:G.name,stores:[G.id]})),[l]),D=w.useMemo(()=>s.map(G=>{const Y=G.date?pr(G.date):"";return{...G,storeName:G.storeName,date:Y}}),[s]),R=w.useMemo(()=>{const G=u.map(he=>({...he,storeName:he.therapistId,date:he.date?pr(he.date):""}));if(A!=="therapist-daily")return G;const Y=[],ce=parseInt(r),ye=parseInt(i);return l.filter(he=>he.status==="active").forEach(he=>{const Pe=`${he.id}_${ce}_${ye}`;(d[Pe]?.daysOff||[]).forEach(Ae=>{const J=`${ce}-${ye.toString().padStart(2,"0")}-${Ae.toString().padStart(2,"0")}`;Y.push({id:`ghost_${he.id}_${J}`,storeName:he.id,date:J,isGhost:!0,revenue:0})})}),[...G,...Y]},[u,A,r,i,l,d]),re=A==="therapist-daily",Z=re?I:M,W=re?R:D,H=w.useMemo(()=>{if(!S)return{submitted:[],missing:[],missingByManager:{}};const G=pr(S),Y=s.filter(ye=>pr(ye.date)===G).map(ye=>ye.storeName),ce={};return Object.entries(t).forEach(([ye,he])=>{const Pe=[];he.forEach(ie=>{if(g.includes(ie))return;Y.some(Ae=>Ae&&Ae.includes(ie))||Pe.push(`${z}${ie}`)}),Pe.length&&(ce[ye]=Pe)}),{submitted:Y,missing:Object.values(ce).flat(),missingByManager:ce}},[S,s,t,g,z]),te=w.useMemo(()=>{const G={},Y=parseInt(r),ce=parseInt(i);return Object.entries(t).forEach(([ye,he])=>{const Pe=[];he.forEach(ie=>{if(g.includes(ie))return;const Se=`${z}${ie}`,Ae=`${Se}_${Y}_${ce}`,J=n[Ae];(!J||!J.cashTarget&&!J.accrualTarget)&&Pe.push(Se)}),Pe.length&&(G[ye]=Pe)}),{missing:Object.values(G).flat(),missingByManager:G}},[n,t,r,i,g,z]),oe=w.useMemo(()=>{if(!S)return{missing:[],missingByManager:{}};const G=pr(S),Y=new Date(G),ce=Y.getFullYear().toString(),ye=Y.getMonth()+1,he=Y.getDate(),Pe=new Set((u||[]).filter(Se=>pr(Se.date)===G).map(Se=>Se.therapistId)),ie={};return(l||[]).filter(Se=>Se.status==="active").forEach(Se=>{const Ae=`${Se.id}_${ce}_${ye}`;if(!d[Ae]?.daysOff?.includes(he)&&!Pe.has(Se.id)){const ze=Se.manager||"";ie[ze]||(ie[ze]=[]),ie[ze].push(`${Se.name} (${Se.store})`)}}),{missing:Object.values(ie).flat(),missingByManager:ie}},[S,l,u,d]),we=w.useMemo(()=>{const G={},Y=r,ce=parseInt(i).toString();return(l||[]).filter(ye=>ye.status==="active").forEach(ye=>{const he=`${ye.id}_${Y}`,ie=p[he]?.monthlyTargets?.[ce];if(!(ie&&parseInt(ie)>0)){const Ae=ye.manager||"";G[Ae]||(G[Ae]=[]),G[Ae].push(`${ye.name} (${ye.store})`)}}),{missing:Object.values(G).flat(),missingByManager:G}},[l,p,r,i]),V=A==="daily"?H:A==="target"?te:A==="therapist-daily"?oe:we,K=()=>{let G="";A==="target"?G=`(${r}/${i})
`:A==="therapist-target"?G=`(${r}/${i})
`:A==="therapist-daily"?G=`(${S})
`:G=`(${S})
`,Object.entries(V.missingByManager).forEach(([Y,ce])=>{const ye=ce.map(he=>A.includes("therapist")?he:he.replace(/CYJ|||Anew|Yibo|/gi,"").trim());G+=`${Y}${ye.join("")}
`}),navigator.clipboard.writeText(G),e("","success")};return f.jsxs(ei,{children:[f.jsxs(jt,{title:"",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[f.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[h!=="trainer"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>j("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),f.jsx("button",{onClick:()=>j("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),f.jsx("button",{onClick:()=>j("therapist-daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="therapist-daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),f.jsx("button",{onClick:()=>j("therapist-target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${A==="therapist-target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),f.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[A==="daily"||A==="therapist-daily"?f.jsx("div",{className:"w-full sm:w-auto relative z-10",children:M.length===0?f.jsxs("div",{className:"px-4 py-3 bg-rose-50 text-rose-600 text-sm font-bold rounded-xl border border-rose-100 flex items-center gap-2 whitespace-nowrap animate-pulse",children:[f.jsx(Pue,{size:18}),"  ()"]}):f.jsx(Pz,{selectedDate:S,onDateSelect:E,stores:Z,salesData:W})}):f.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start flex-grow",children:[f.jsx(am,{size:16})," ",r,"  ",i," "]}),(h==="director"||h==="manager")&&(A==="daily"||A==="target")&&f.jsx("button",{onClick:O,className:"p-2 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200",title:"",children:f.jsx(ey,{size:20})})]})]}),(A==="daily"||A==="therapist-daily")&&f.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),f.jsx("span",{className:"whitespace-nowrap",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),f.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),f.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[f.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[f.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[f.jsx(yc,{size:20}),A==="therapist-daily"?" ()":A==="therapist-target"?"":"",f.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:V.missing.length})]}),f.jsx("button",{onClick:K,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),f.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(V.missingByManager).map(([G,Y])=>f.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[f.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[G," "]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map((ce,ye)=>f.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[A.includes("therapist")&&f.jsx(Oz,{size:10,className:"text-rose-400"}),A.includes("therapist")?ce:ce.replace(/CYJ|||Anew|Yibo|/gi,"").replace(z,"")]},ye))})]},G)),V.missing.length===0&&f.jsx("div",{className:"col-span-3 text-center py-10",children:f.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:f.jsx(Fs,{size:24})}),"",A==="therapist-daily"&&f.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]}),L&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(TA,{size:20,className:"text-rose-400"})," "]}),f.jsx("button",{onClick:()=>U(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(aa,{size:20})})]}),f.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(t).map(([G,Y])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[G," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Y.map(ce=>{const ye=q.includes(ce);return f.jsxs("button",{onClick:()=>k(ce),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${ye?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[ye&&f.jsx(Fs,{size:14}),ce]},ce)})})]},G))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>U(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:N,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(Ec,{size:18})," "]})]})]})})]})},wfe=(t,e,n,r,i)=>w.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,d=t.filter(O=>{if(!O.date)return!1;const N=O.date.replace(/-/g,"/"),[k]=N.split("/").map(Number);return k===s||k===u}),h=d.reduce((O,N)=>({cash:O.cash+(N.cash||0)-(N.refund||0),accrual:O.accrual+(N.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(O=>`CYJ${O}`);for(let O=1;O<=12;O++)g.forEach(N=>{const k=`${N}_${s}_${O}`;n[k]&&(p.cash+=n[k].cashTarget||0,p.accrual+=n[k].accrualTarget||0)});const b={cashActual:h.cash,cashTarget:p.cash,cashAchievement:p.cash>0?h.cash/p.cash*100:0,accrualActual:h.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?h.accrual/p.accrual*100:0},_=d.filter(O=>{const N=O.date.replace(/-/g,"/"),[,k]=N.split("/").map(Number);return k===l}),S=[...new Set(_.map(O=>pr(O.date)))].sort(),E=S[S.length-1]||"",A=new Date(s,l,0).getDate();let j=1;E!==""&&(j=parseInt(E.split("/")[2]));const L=S.map(O=>{const N=_.filter(k=>pr(k.date)===O);return{date:O.split("/")[2],fullDate:O,cash:N.reduce((k,M)=>k+(M.cash||0)-(M.refund||0),0),traffic:N.reduce((k,M)=>k+(M.traffic||0),0)}}),q=Object.entries(e).flatMap(([O,N])=>N.map(k=>({name:`CYJ${k}`,manager:O}))).map(O=>{const N=_.filter(G=>G.storeName===O.name),k=N.reduce((G,Y)=>G+(Y.cash||0),0),M=N.reduce((G,Y)=>G+(Y.refund||0),0),I=k-M,D=N.reduce((G,Y)=>G+(Y.accrual||0),0),R=N.reduce((G,Y)=>G+(Y.operationalAccrual||0),0),re=N.reduce((G,Y)=>G+(Y.traffic||0),0),Z=N.reduce((G,Y)=>G+(Y.newCustomers||0),0),W=N.reduce((G,Y)=>G+(Y.newCustomerClosings||0),0),H=N.reduce((G,Y)=>G+(Y.newCustomerSales||0),0),te=N.reduce((G,Y)=>G+(Y.skincareSales||0),0),oe=N.reduce((G,Y)=>G+(Y.skincareRefund||0),0),we=te-oe,V=`${O.name}_${s}_${l}`,K=n[V]||{cashTarget:0,accrualTarget:0};return{...O,cashTotal:I,accrualTotal:D,operationalAccrualTotal:R,trafficTotal:re,newCustomersTotal:Z,newCustomerClosingsTotal:W,newCustomerSalesTotal:H,skincareSalesTotal:we,skincareRefundTotal:oe,refundTotal:M,cashBudget:K.cashTarget,accrualBudget:K.accrualTarget,projection:j>0?Math.round(I/j*A):0,achievement:K.cashTarget>0?I/K.cashTarget*100:0,trafficASP:re>0?Math.round(R/re):0,newCustomerASP:Z>0?Math.round(H/Z):0}}),$=q.reduce((O,N)=>({cash:O.cash+N.cashTotal,accrual:O.accrual+N.accrualTotal,operationalAccrual:O.operationalAccrual+N.operationalAccrualTotal,skincareSales:O.skincareSales+N.skincareSalesTotal,skincareRefund:O.skincareRefund+N.skincareRefundTotal,traffic:O.traffic+N.trafficTotal,newCustomers:O.newCustomers+N.newCustomersTotal,newCustomerClosings:O.newCustomerClosings+N.newCustomerClosingsTotal,newCustomerSales:O.newCustomerSales+N.newCustomerSalesTotal,refund:O.refund+N.refundTotal,budget:O.budget+N.cashBudget,accrualBudget:O.accrualBudget+N.accrualBudget,projection:O.projection+N.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),z=Object.entries(e).map(([O,N])=>{const k=q.filter(V=>V.manager===O),M=k.reduce((V,K)=>V+K.cashTotal,0),I=k.reduce((V,K)=>V+K.accrualTotal,0),D=k.reduce((V,K)=>V+K.operationalAccrualTotal,0),R=k.reduce((V,K)=>V+K.cashBudget,0),re=k.reduce((V,K)=>V+K.skincareSalesTotal,0),Z=k.reduce((V,K)=>V+K.skincareRefundTotal,0),W=k.reduce((V,K)=>V+K.trafficTotal,0),H=k.reduce((V,K)=>V+K.newCustomersTotal,0),te=k.reduce((V,K)=>V+K.newCustomerClosingsTotal,0),oe=k.reduce((V,K)=>V+K.refundTotal,0),we=W>0?Math.round(D/W):0;return{manager:O,cashTotal:M,accrualTotal:I,operationalAccrualTotal:D,skincareSalesTotal:re,skincareRefundTotal:Z,trafficTotal:W,newCustomersTotal:H,newCustomerClosingsTotal:te,refundTotal:oe,trafficASP:we,achievement:R>0?M/R*100:0}});return{latestDate:E,daysPassed:j,daysInMonth:A,remainingDays:A-j,dailyTotals:L,storeList:q,grandTotal:$,regionalStats:z,yearlyStats:b,totalAchievement:$.budget>0?$.cash/$.budget*100:0,avgTrafficASP:$.traffic>0?Math.round($.operationalAccrual/$.traffic):0,avgNewCustomerASP:$.newCustomers>0?Math.round($.newCustomerSales/$.newCustomers):0,allDates:S}},[t,e,n,r,i]),_fe=()=>f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"flex items-center justify-center w-6",children:f.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[f.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),f.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),Sfe=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s,auditExclusions:l,handleUpdateAuditExclusions:u,userRole:d,showToast:h,currentBrand:p}=w.useContext(br),[g,b]=w.useState(`${s}-01`),[_,S]=w.useState(`${s}-12`),[E,A]=w.useState(!1),[j,L]=w.useState([]),U=w.useMemo(()=>{let R="CYJ";if(p){const Z=(typeof p=="string"?p:p.id||"CYJ").toLowerCase();Z.includes("anniu")||Z.includes("anew")?R="":Z.includes("yibo")?R="":R="CYJ"}return R},[p]),q=R=>R?R.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";w.useEffect(()=>{b(`${s}-01`),S(`${s}-12`)},[s]);const $=()=>{L(l||[]),A(!0)},z=async()=>{await u(j),A(!1),h("","success")},O=R=>{L(re=>re.includes(R)?re.filter(Z=>Z!==R):[...re,R])},N=R=>{let re="01",Z="03";switch(R){case 1:re="01",Z="03";break;case 2:re="04",Z="06";break;case 3:re="07",Z="09";break;case 4:re="10",Z="12";break;case"ALL":re="01",Z="12";break}b(`${s}-${re}`),S(`${s}-${Z}`)},k=w.useMemo(()=>g===`${s}-01`&&_===`${s}-03`?1:g===`${s}-04`&&_===`${s}-06`?2:g===`${s}-07`&&_===`${s}-09`?3:g===`${s}-10`&&_===`${s}-12`?4:g===`${s}-01`&&_===`${s}-12`?"ALL":null,[g,_,s]),M=w.useMemo(()=>{const R=Object.values(n).flat().filter(G=>!l.includes(G)).map(G=>`${U}${G}`),re=[];let Z=new Date(`${g}-01`);const W=new Date(`${_}-01`);for(Z>W&&(Z=new Date(`${g}-01`));Z<=W;){const G=Z.getFullYear(),Y=Z.getMonth()+1;re.push({label:`${G}/${Y}`,y:G,m:Y,dateKey:`${G}/${Y.toString().padStart(2,"0")}`}),Z.setMonth(Z.getMonth()+1)}const H=re.map(G=>({...G,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(G=>{const Y=q(G.storeName);if(l.includes(Y)||!G.date)return;const ye=G.date.replace(/-/g,"/").split("/"),he=parseInt(ye[0]),Pe=parseInt(ye[1]),ie=he<1911?he+1911:he,Se=H.find(Ae=>Ae.y===ie&&Ae.m===Pe);Se&&(Se.cash+=(G.cash||0)-(G.refund||0),Se.accrual+=G.accrual||0,Se.traffic+=G.traffic||0)});let te=0,oe=0,we=0,V=0,K=0;return H.forEach(G=>{R.forEach(Y=>{const ce=`${Y}_${G.y}_${G.m}`;e[ce]&&(G.budget+=e[ce].cashTarget||0,G.accrualBudget+=e[ce].accrualTarget||0)}),G.achievement=G.budget>0?G.cash/G.budget*100:0,G.accrualAchievement=G.accrualBudget>0?G.accrual/G.accrualBudget*100:0,te+=G.cash,oe+=G.budget,we+=G.accrual,V+=G.accrualBudget,K+=G.traffic}),{monthlyStats:H,totals:{cash:te,budget:oe,cashAch:oe>0?te/oe*100:0,accrual:we,accrualBudget:V,accrualAch:V>0?we/V*100:0,traffic:K}}},[t,e,n,g,_,l,U]),{monthlyStats:I,totals:D}=M;return f.jsxs(ei,{children:[f.jsxs("div",{className:"space-y-6 pb-12",children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:f.jsx(no,{size:24})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold text-stone-800",children:[" (",U,")"]}),f.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 self-start md:self-auto md:ml-auto",children:[f.jsxs("div",{className:"px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full",children:[":  (",Object.values(n).flat().filter(R=>!l.includes(R)).length," )"]}),(d==="director"||d==="manager")&&f.jsx("button",{onClick:$,className:"p-1.5 bg-stone-100 text-stone-500 rounded-full hover:bg-stone-200 transition-colors",title:" ()",children:f.jsx(ey,{size:16})})]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[f.jsx(_z,{size:18,className:"text-amber-500"}),f.jsx("span",{children:""})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>N("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${k==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(R=>f.jsxs("button",{onClick:()=>N(R),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${k===R?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",R]},R))]}),f.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),f.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:f.jsx("span",{children:""})}),f.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[f.jsx("input",{type:"month",value:g,onChange:R=>b(R.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),f.jsx("span",{className:"text-stone-400",children:f.jsx(Z0,{size:16})}),f.jsx("input",{type:"month",value:_,onChange:R=>S(R.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:f.jsx(ul,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[f.jsx(am,{size:14})," "]}),f.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(D.cash)}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[f.jsxs("span",{children:[" ",r(D.budget)]}),f.jsxs("span",{children:[D.cashAch.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(D.cashAch,100)}%`}})})]})]})]}),f.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:f.jsx(nc,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[f.jsx(yz,{size:14})," "]}),f.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(D.accrual)}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[f.jsxs("span",{children:[" ",r(D.accrualBudget)]}),f.jsxs("span",{className:D.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[D.accrualAch.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(D.accrualAch,100)}%`}})})]})]})]})]}),f.jsx(jt,{title:"",subtitle:" vs  (/)",children:f.jsx("div",{className:"h-[350px] w-full",children:f.jsx(g0,{width:"100%",height:"100%",children:f.jsxs(AA,{data:I,margin:{top:20,right:0,left:0,bottom:0},children:[f.jsx(X0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),f.jsx(J0,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),f.jsx(Gu,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:R=>`${(R/1e4).toFixed(0)}`}),f.jsx($0,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:R=>r(R),itemSorter:R=>({:1,:2,:3,:4})[R.name]||99}),f.jsx(_0,{content:f.jsx(_fe,{}),verticalAlign:"top",height:36}),f.jsx(xA,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),f.jsx(Ku,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),f.jsx(wA,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),f.jsx(Ku,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),f.jsx(jt,{title:"",children:f.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"pb-3 pl-2",children:""}),f.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),f.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),f.jsx("th",{className:"pb-3 text-right",children:""}),f.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),f.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),f.jsx("th",{className:"pb-3 text-right",children:""}),f.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-50",children:I.map((R,re)=>f.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:R.label}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(R.budget)}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(R.cash)}),f.jsx("td",{className:"py-4 text-right font-bold",children:f.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${R.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[R.achievement.toFixed(1),"%"]})}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(R.accrualBudget)}),f.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(R.accrual)}),f.jsx("td",{className:"py-4 text-right font-bold",children:f.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${R.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[R.accrualAchievement.toFixed(1),"%"]})}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(R.traffic)})]},re))}),f.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(D.budget)}),f.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(D.cash)}),f.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[D.cashAch.toFixed(1),"%"]}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(D.accrualBudget)}),f.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(D.accrual)}),f.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[D.accrualAch.toFixed(1),"%"]}),f.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(D.traffic)})]})})]})})})]}),E&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(TA,{size:20,className:"text-rose-400"}),"  (",U,")"]}),f.jsx("button",{onClick:()=>A(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(aa,{size:20})})]}),f.jsxs("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:[f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]}),f.jsx("p",{className:"text-xs mt-1 text-stone-400",children:"()"})]}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(n).map(([R,re])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[R," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:re.map(Z=>{const W=j.includes(Z);return f.jsxs("button",{onClick:()=>O(Z),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${W?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[W&&f.jsx(Fs,{size:14}),Z]},Z)})})]},R))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>A(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:z,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(Ec,{size:18})," "]})]})]})})]})},Efe=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s,getCollectionPath:l,currentBrand:u}=w.useContext(br),d=new Date().getFullYear(),[h,p]=w.useState(d),[g,b]=w.useState(""),[_,S]=w.useState(""),[E,A]=w.useState(!1),[j,L]=w.useState(Array.from({length:12},(N,k)=>({month:k+1,cashTarget:"",accrualTarget:""}))),U=w.useMemo(()=>{let N="CYJ";if(u){const M=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();M.includes("anniu")||M.includes("anew")?N="":M.includes("yibo")?N="":N="CYJ"}return N},[u]),q=w.useMemo(()=>{const N=k=>{const M=k.replace(/CYJ|||Anew|Yibo|/gi,"").trim();return`${U}${M}`};return t==="director"||t==="trainer"?g?(e[g]||[]).map(N):[]:t==="manager"?Object.values(e).flat().map(N):t==="store"&&n?(n.stores||[n.storeName]).map(N):[]},[g,e,n,t,U]);w.useEffect(()=>{if(_&&!q.includes(_)&&S(""),t==="store"&&n){const N=n.stores||[n.storeName];if(N.length>0){let k=N[0];k=k.replace(/CYJ|||Anew|Yibo|/gi,"").trim();const M=Object.keys(e).find(D=>e[D].includes(k));M&&b(M);const I=`${U}${k}`;S(I)}}else t==="manager"&&n&&b(n.name)},[t,n,e,U,q]),w.useEffect(()=>{if(!_){L(Array.from({length:12},(k,M)=>({month:M+1,cashTarget:"",accrualTarget:""})));return}const N=Array.from({length:12},(k,M)=>{const I=M+1,D=`${_}_${h}_${I}`,R=r[D];return{month:I,cashTarget:R?rc(R.cashTarget):"",accrualTarget:R?rc(R.accrualTarget):""}});L(N)},[_,h,r]);const $=N=>{if(t==="director"||t==="manager"||t==="trainer")return!1;const k=N+1,M=`${_}_${h}_${k}`,I=r[M];return!!(I&&(I.cashTarget>0||I.accrualTarget>0))},z=(N,k,M)=>{if($(N))return;const I=M.replace(/,/g,"");/^\d*$/.test(I)&&L(D=>{const R=[...D];return R[N]={...R[N],[k]:rc(I)},R})},O=async()=>{if(!_){i("","error");return}A(!0);try{const N=mF(ka);let k=!1;if(j.forEach((M,I)=>{if($(I))return;const D=Dn(M.cashTarget),R=Dn(M.accrualTarget);if(D>0||R>0){const re=`${_}_${h}_${M.month}`,Z=Vn(l("monthly_targets"),re);N.set(Z,{cashTarget:D,accrualTarget:R,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),k=!0}}),!k){i("","info"),A(!1);return}await N.commit(),i(`${h} `,"success"),s(t,n?.name,"",`${_} ${h}`)}catch(N){console.error("Save targets error:",N),i("","error")}finally{A(!1)}};return f.jsx(ei,{children:f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[f.jsx(jt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:f.jsx(Yu,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[f.jsxs("p",{children:["Annual Budget Planning (",U,")"]}),t==="store"&&f.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[f.jsx(Vf,{size:10})," "]})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[f.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[f.jsxs("select",{value:h,onChange:N=>p(Number(N.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[f.jsxs("option",{value:d-1,children:[d-1," "]}),f.jsxs("option",{value:d,children:[d," "]}),f.jsxs("option",{value:d+1,children:[d+1," "]})]}),f.jsx(no,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),f.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:f.jsxs("select",{value:g,onChange:N=>{b(N.target.value),S("")},disabled:t!=="director"&&t!=="trainer",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(e).map(N=>f.jsxs("option",{value:N,children:[N,""]},N))]})}),f.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[f.jsxs("select",{value:_,onChange:N=>S(N.target.value),disabled:!g,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),q.map(N=>f.jsx("option",{value:N,children:N},N))]}),f.jsx(Bi,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),_?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block",children:f.jsx(jt,{title:`${_} - ${h} `,children:f.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:f.jsxs("table",{className:"w-full text-sm text-left",children:[f.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 pl-4",children:""}),f.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),f.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),f.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:j.map((N,k)=>{const M=$(k);return f.jsxs("tr",{className:`transition-colors ${M?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[f.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[N.month," "]}),f.jsx("td",{className:"py-2 px-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(ul,{size:14,className:`absolute left-3 top-3 ${M?"text-stone-300":"text-stone-400"}`}),f.jsx("input",{type:"text",placeholder:M?"-":"0",value:N.cashTarget,onChange:I=>z(k,"cashTarget",I.target.value),disabled:M,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${M?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),f.jsx("td",{className:"py-2 px-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(__,{size:14,className:`absolute left-3 top-3 ${M?"text-stone-300":"text-stone-400"}`}),f.jsx("input",{type:"text",placeholder:M?"-":"0",value:N.accrualTarget,onChange:I=>z(k,"accrualTarget",I.target.value),disabled:M,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${M?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),f.jsx("td",{className:"py-2 px-2 text-center",children:M?f.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:f.jsx(Vf,{size:16})}):N.cashTarget?f.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:f.jsx(Fs,{size:16,className:"opacity-0 group-hover:opacity-50"})}):f.jsx("div",{className:"flex items-center justify-center text-stone-200",children:f.jsx(Yu,{size:16})})})]},N.month)})})]})})})}),f.jsxs("div",{className:"md:hidden space-y-4",children:[f.jsx("div",{className:"flex items-center justify-between px-2",children:f.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[f.jsx(Bi,{size:18,className:"text-amber-500"}),_,f.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:h})]})}),j.map((N,k)=>{const M=$(k);return f.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${M?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[f.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[f.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[N.month," "]}),N.cashTarget&&!M&&f.jsx(Fs,{size:16,className:"text-emerald-500"})]}),M&&f.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[f.jsx(Vf,{size:12})," "]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[f.jsx(ul,{size:12}),"  (Cash)"]}),f.jsx("input",{type:"text",inputMode:"numeric",placeholder:M?"":"...",value:N.cashTarget,onChange:I=>z(k,"cashTarget",I.target.value),disabled:M,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${M?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[f.jsx(__,{size:12}),"  (Accrual)"]}),f.jsx("input",{type:"text",inputMode:"numeric",placeholder:M?"":"...",value:N.accrualTarget,onChange:I=>z(k,"accrualTarget",I.target.value),disabled:M,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${M?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},N.month)})]}),f.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:f.jsx("button",{onClick:O,disabled:E,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:E?"...":f.jsxs(f.Fragment,{children:[f.jsx(Ec,{size:20})," "]})})}),f.jsx("div",{className:"h-24 md:hidden"})]}):f.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[f.jsx(Bi,{size:48,className:"mx-auto mb-2 opacity-20"}),f.jsx("p",{children:""})]})]})})},Afe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=w.useContext(br),[d,h]=w.useState(new Date().getFullYear().toString()),[p,g]=w.useState(""),[b,_]=w.useState(""),[S,E]=w.useState(""),[A,j]=w.useState({}),L=w.useMemo(()=>{let z="CYJ";if(u){const N=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();N.includes("anniu")||N.includes("anew")?z="":N.includes("yibo")?z="":z="CYJ"}return z},[u]);w.useEffect(()=>{g(""),_(""),E("");const z=O=>O?O.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const O=i.storeName||i.store||"",N=z(O),k=Object.keys(s).find(M=>s[M].includes(N));k&&g(k),_(N||i.store),E(i.id)}else if(r==="store"&&i){const O=i.stores||[i.storeName];if(O.length>0){const N=O[0],k=z(N),M=Object.keys(s).find(I=>s[I].includes(k));M&&g(M),O.length===1&&_(k)}}else r==="manager"&&i&&g(i.name)},[r,i,s,L,u]);const U=w.useMemo(()=>{if(!p)return[];const z=s[p]||[];if(r==="store"&&i){const N=(i.stores||[i.storeName]).map(k=>k.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return z.filter(k=>N.includes(k))}return z},[p,s,r,i]),q=w.useMemo(()=>b?e.filter(z=>z.status==="active"&&z.store===b).sort((z,O)=>z.name.localeCompare(O.name)):[],[b,e]);w.useEffect(()=>{if(S&&d){const z=`${S}_${d}`,O=n[z]||{};j(O.monthlyTargets||{})}else j({})},[S,d,n]);const $=async()=>{if(!S)return t("","error");try{const z=`${S}_${d}`;await fn(Vn(l("therapist_targets"),z),{therapistId:S,year:d,monthlyTargets:A,updatedAt:Ys()},{merge:!0}),t("","success")}catch(z){console.error(z),t("","error")}};return f.jsx(ei,{children:f.jsx(jt,{title:"",subtitle:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(jA,{size:12}),"  ()"]}),f.jsxs("select",{value:p,onChange:z=>{g(z.target.value),_(""),E("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(s).map(z=>f.jsxs("option",{value:z,children:[z,""]},z))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(Bi,{size:12})," "]}),f.jsxs("select",{value:b,onChange:z=>{_(z.target.value),E("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),U.map(z=>f.jsxs("option",{value:z,children:[L,z,""]},z))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(Ac,{size:12})," "]}),f.jsxs("select",{value:S,onChange:z=>E(z.target.value),disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),q.map(z=>f.jsx("option",{value:z.id,children:z.name},z.id))]})]}),f.jsxs("div",{className:"w-full md:w-32",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:d,onChange:z=>h(z.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(z=>f.jsxs("option",{value:z,children:[z,""]},z))})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:$,disabled:!S,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[f.jsx(Ec,{size:18})," "]})}),S?f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(z,O)=>O+1).map(z=>f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[z," "]}),f.jsxs("div",{className:"relative",children:[f.jsx(ul,{size:14,className:"absolute left-3 top-3 text-stone-400"}),f.jsx("input",{type:"number",value:A[z]||"",onChange:O=>j({...A,[z]:O.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},z))}):f.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:f.jsx(am,{size:32,className:"opacity-20"})}),f.jsx("p",{children:"  >  >  "})]})]})})})},Tfe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s,getCollectionPath:l,currentBrand:u}=w.useContext(br),[d,h]=w.useState(new Date().getFullYear().toString()),[p,g]=w.useState((new Date().getMonth()+1).toString()),[b,_]=w.useState(""),[S,E]=w.useState(""),[A,j]=w.useState(""),[L,U]=w.useState([]),q=w.useMemo(()=>{let M="CYJ";if(u){const D=(typeof u=="string"?u:u.id||"CYJ").toLowerCase();D.includes("anniu")||D.includes("anew")?M="":D.includes("yibo")?M="":M="CYJ"}return M},[u]);w.useEffect(()=>{_(""),E(""),j("");const M=I=>I?I.replace(/CYJ|||Anew|Yibo|/gi,"").trim():"";if(r==="therapist"&&i){const I=i.storeName||i.store||"",D=M(I),R=Object.keys(s).find(re=>s[re].includes(D));R&&_(R),E(D||i.store),j(i.id)}else if(r==="store"&&i){const I=i.stores||[i.storeName];if(I.length>0){const D=I[0],R=M(D),re=Object.keys(s).find(Z=>s[Z].includes(R));re&&_(re),I.length===1&&E(R)}}else r==="manager"&&i&&_(i.name)},[r,i,s,q,u]);const $=w.useMemo(()=>{if(!b)return[];const M=s[b]||[];if(r==="store"&&i){const D=(i.stores||[i.storeName]).map(R=>R.replace(/CYJ|||Anew|Yibo|/gi,"").trim());return M.filter(R=>D.includes(R))}return M},[b,s,r,i]),z=w.useMemo(()=>S?e.filter(M=>M.status==="active"&&M.store===S).sort((M,I)=>M.name.localeCompare(I.name)):[],[S,e]);w.useEffect(()=>{if(A&&d&&p){const M=`${A}_${d}_${parseInt(p)}`,I=n[M]||{};U(I.daysOff||[])}else U([])},[A,d,p,n]);const O=M=>{U(I=>I.includes(M)?I.filter(D=>D!==M):[...I,M].sort((D,R)=>D-R))},N=async()=>{if(!A)return t("","error");try{const M=`${A}_${d}_${parseInt(p)}`;await fn(Vn(l("therapist_schedules"),M),{therapistId:A,year:d,month:parseInt(p),daysOff:L,updatedAt:Ys()},{merge:!0}),t("","success")}catch(M){console.error(M),t("","error")}},k=(M,I)=>new Date(M,I,0).getDate();return f.jsx(ei,{children:f.jsx(jt,{title:"",subtitle:" ()",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(jA,{size:12}),"  ()"]}),f.jsxs("select",{value:b,onChange:M=>{_(M.target.value),E(""),j("")},disabled:r==="manager"||r==="therapist"||r==="store"&&b!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(s).map(M=>f.jsxs("option",{value:M,children:[M,""]},M))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(Bi,{size:12})," "]}),f.jsxs("select",{value:S,onChange:M=>{E(M.target.value),j("")},disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),$.map(M=>f.jsxs("option",{value:M,children:[q,M,""]},M))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(Ac,{size:12})," "]}),f.jsxs("select",{value:A,onChange:M=>j(M.target.value),disabled:!S||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),z.map(M=>f.jsx("option",{value:M.id,children:M.name},M.id))]})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[f.jsxs("div",{className:"w-1/2 md:w-24",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:d,onChange:M=>h(M.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[2024,2025,2026].map(M=>f.jsx("option",{value:M,children:M},M))})]}),f.jsxs("div",{className:"w-1/2 md:w-24",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:p,onChange:M=>g(M.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(M,I)=>I+1).map(M=>f.jsxs("option",{value:M,children:[M,""]},M))})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:N,disabled:!A,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[f.jsx(Ec,{size:18})," "]})}),A?f.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[f.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(M=>f.jsx("div",{className:"text-xs font-bold text-stone-400",children:M},M))}),f.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(d,p-1,1).getDay()}).map((M,I)=>f.jsx("div",{},`empty-${I}`)),Array.from({length:k(d,p)}).map((M,I)=>{const D=I+1,R=L.includes(D);return f.jsxs("button",{onClick:()=>O(D),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${R?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[D,R&&f.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},D)})]}),f.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):f.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:f.jsx(no,{size:32,className:"opacity-20"})}),f.jsx("p",{children:"  >  >  "})]})]})})})};function Nfe(){const[t,e]=w.useState(null),[n,r]=w.useState(null),[i,s]=w.useState(null),[l,u]=w.useState(!0),[d,h]=w.useState("dashboard"),[p,g]=w.useState(!0),[b,_]=w.useState(null),[S,E]=w.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[A,j]=w.useState(""),[L,U]=w.useState("cyj"),q=w.useMemo(()=>Uf.find(xe=>xe.id===L)||Uf[0],[L]),$=w.useCallback(xe=>q.pathType==="legacy"?bw(ka,"artifacts",Cf,"public","data",xe):bw(ka,"brands",q.id,xe),[q]),z=w.useCallback(xe=>q.pathType==="legacy"?Vn(ka,"artifacts",Cf,"public","data","global_settings",xe):Vn(ka,"brands",q.id,"settings",xe),[q]),[O,N]=w.useState([]),[k,M]=w.useState({}),[I,D]=w.useState({newASP:3500,trafficASP:1200}),[R,re]=w.useState({}),[Z,W]=w.useState([]),[H,te]=w.useState({}),[oe,we]=w.useState(hg),[V,K]=w.useState([]),[G,Y]=w.useState({password:"0000"}),[ce,ye]=w.useState([]),[he,Pe]=w.useState({}),[ie,Se]=w.useState({}),[Ae,J]=w.useState([]),[Ve,ze]=w.useState(!1),[Ge,wt]=w.useState(15),cn=w.useRef(Date.now()),[nr,Dt]=w.useState(new Date().getFullYear().toString()),[Ot,$r]=w.useState((new Date().getMonth()+1).toString()),[Ja,fa]=w.useState(()=>Iz(new Date)),Ht=xe=>(xe||"").replace(/CYJ|/g,"").trim(),Qe=w.useCallback(async(xe,je,tt,vt)=>{let an="PC";if(typeof navigator<"u"){const Qt=navigator.userAgent.toLowerCase();Qt.includes("android")?an="Android":Qt.includes("iphone")||Qt.includes("ipad")?an="iOS":Qt.includes("mobile")&&(an="Mobile")}try{await wS($("system_logs"),{timestamp:Ys(),role:xe,user:je,action:tt,details:vt,device:an})}catch(Qt){console.error("Failed to log activity",Qt)}},[$]),rr=w.useCallback(async(xe="")=>{const je=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&Qe(n,je,"",xe),ze(!1),wt(15),cn.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),h("dashboard")},[i,n,Qe]),xi=w.useCallback(()=>{n&&(cn.current=Date.now(),Ve&&(ze(!1),wt(15)))},[n,Ve]);w.useEffect(()=>{let xe=null;return n&&(xe=setInterval(()=>{const tt=Date.now()-cn.current,vt=165*1e3,an=180*1e3;if(tt>an)clearInterval(xe),rr(" 3 ");else if(tt>vt){Ve||ze(!0);const Qt=Math.ceil((an-tt)/1e3);wt(Qt>0?Qt:0)}else Ve&&ze(!1)},1e3)),()=>{xe&&clearInterval(xe)}},[n,Ve,rr]),w.useEffect(()=>{if(n){const xe=["mousemove","mousedown","keypress","scroll","touchstart","click"];let je;const tt=()=>{je||(xi(),je=setTimeout(()=>{je=null},500))};return xe.forEach(vt=>window.addEventListener(vt,tt)),cn.current=Date.now(),()=>{xe.forEach(vt=>window.removeEventListener(vt,tt))}}},[n,xi]),w.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await KU(hx,__initial_auth_token):await $U(hx)}catch(je){console.warn("Auth Error:",je)}})(),WU(hx,je=>{e(je),u(!1)})),[]),w.useEffect(()=>{if(!t)return;N([]),M({}),re({}),W([]),te({}),K([]),ye([]),Pe({}),Se({}),we(hg),D({newASP:3500,trafficASP:1200});const xe=kr(Jf($("daily_reports"),Rg("date","desc")),$e=>N($e.docs.map(yt=>({id:yt.id,...yt.data()})))),je=kr($("monthly_targets"),$e=>{const yt={};$e.docs.forEach(ir=>yt[ir.id]=ir.data()),M(yt)}),tt=kr(z("kpi_targets"),$e=>{$e.exists()?D($e.data()):D({newASP:3500,trafficASP:1200})}),vt=kr(z("org_structure"),$e=>{if($e.exists()){const yt=$e.data().managers||{},ir={};Object.keys(yt).forEach(Kn=>{!Kn.includes("")&&!Kn.includes("")&&(ir[Kn]=yt[Kn])}),re(ir)}else q.id==="cyj"?re(Jde):re({})}),an=kr(z("store_account_data"),$e=>{$e.exists()?W($e.data().accounts):W([])}),Qt=kr(z("manager_auth"),$e=>{$e.exists()?te($e.data()):te({})}),ri=kr(z("permissions"),$e=>{$e.exists()?we($e.data()):we(hg)}),ii=kr($("therapists"),$e=>K($e.docs.map(yt=>({id:yt.id,...yt.data()})))),Q=kr(Jf($("therapist_daily_reports"),Rg("date","desc"),r4(1e3)),$e=>ye($e.docs.map(yt=>({id:yt.id,...yt.data()})))),Te=kr($("therapist_schedules"),$e=>{const yt={};$e.docs.forEach(ir=>yt[ir.id]=ir.data()),Pe(yt)}),Ne=kr($("therapist_targets"),$e=>{const yt={};$e.docs.forEach(ir=>yt[ir.id]=ir.data()),Se(yt)}),Re=kr(z("trainer_auth"),$e=>{$e.exists()?Y($e.data()):Y({password:"0000"})}),ht=kr(z("audit_exclusions"),$e=>{$e.exists()?J($e.data().stores||[]):J([])});return()=>{xe(),je(),tt(),vt(),an(),Qt(),ri(),ii(),Q(),Te(),Ne(),Re(),ht()}},[t,q,$,z]);const wi=(xe,je=null)=>{let tt=je;if(xe==="therapist"&&je?.name){const an=V.find(Qt=>Qt.name===je.name);an&&(tt={...je,...an,id:an.id||je.id})}r(xe),tt&&s(tt);const vt=tt?.name||(xe==="director"?"":xe==="trainer"?"":"");Qe(xe,vt,"",""),h("dashboard")},Za=async(xe,je)=>{try{const tt=Z.map(vt=>vt.id===xe?{...vt,password:je}:vt);return await fn(z("store_account_data"),{accounts:tt}),!0}catch{return!1}},ha=async(xe,je)=>{try{return await fn(z("manager_auth"),{[xe]:je},{merge:!0}),!0}catch{return!1}},ni=async(xe,je)=>{try{return await kg(Vn($("therapists"),xe),{password:je}),!0}catch(tt){return console.error(tt),!1}},ma=async xe=>{try{return await fn(z("trainer_auth"),{password:xe}),!0}catch(je){return console.error(je),!1}},xr=async xe=>{try{return await fn(z("audit_exclusions"),{stores:xe}),!0}catch(je){return console.error(je),!1}},rn=w.useCallback(xe=>{h("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:xe}))},[]),Hn=w.useMemo(()=>{if(n===ur.TRAINER.id)return[];if(n===ur.STORE.id&&i){const xe=(i.stores||[i.storeName]).map(je=>je&&je.startsWith("CYJ")?je:`CYJ${je}`);return O.filter(je=>xe.includes(je.storeName))}if(n===ur.MANAGER.id&&i){const xe=(R[i.name]||[]).map(je=>`CYJ${je}`);return O.filter(je=>xe.includes(je.storeName))}return O},[O,n,i,R]),$t=w.useMemo(()=>{if(n===ur.DIRECTOR.id||n===ur.TRAINER.id||n===ur.THERAPIST.id)return ce;if(n===ur.MANAGER.id&&i){const xe=R[i.name]||[];return ce.filter(je=>xe.includes(Ht(je.storeName)))}if(n===ur.STORE.id&&i){const xe=(i.stores||[i.storeName]).map(Ht);return ce.filter(je=>xe.includes(Ht(je.storeName)))}return[]},[ce,n,i,R]),es=w.useMemo(()=>{if(n===ur.DIRECTOR.id||n===ur.TRAINER.id)return V;if(n===ur.MANAGER.id&&i){const xe=R[i.name]||[];return V.filter(je=>xe.includes(Ht(je.store)))}if(n===ur.STORE.id&&i){const xe=(i.stores||[i.storeName]).map(Ht);return V.filter(je=>xe.includes(Ht(je.store)))}return n===ur.THERAPIST.id&&i?V.filter(xe=>xe.id===i.id):[]},[V,n,i,R]),_i=w.useMemo(()=>{let xe=R;if(n===ur.MANAGER.id&&i){const je=R[i.name]||[];xe={[i.name]:je}}else if(n===ur.STORE.id&&i){const je=i.stores||(i.storeName?[i.storeName]:[]),tt={};Object.entries(R).forEach(([vt,an])=>{const Qt=an.filter(ri=>je.includes(ri));Qt.length>0&&(tt[vt]=Qt)}),xe=tt}if(d!=="settings"){const je={};return Object.entries(xe).forEach(([tt,vt])=>{!tt.includes("")&&!tt.includes("")&&(je[tt]=vt)}),je}return xe},[R,n,i,d]),ro=w.useMemo(()=>{const xe={};return Object.entries(R).forEach(([je,tt])=>{!je.includes("")&&!je.includes("")&&(xe[je]=tt)}),xe},[R]),wr=wfe(Hn,_i,k,nr,Ot),Gi=(xe,je="info")=>_({message:xe,type:je}),Xt=w.useCallback((xe,je,tt)=>E({isOpen:!0,title:xe,message:je,onConfirm:()=>{tt(),E(vt=>({...vt,isOpen:!1}))}}),[]),Br=()=>E(xe=>({...xe,isOpen:!1})),qr=xe=>`$${(xe||0).toLocaleString()}`,Ir=xe=>(xe||0).toLocaleString(),io=w.useMemo(()=>Object.values(R).flat().map(xe=>`CYJ${xe}`),[R]),ao=w.useMemo(()=>({user:t,loading:l,analytics:wr,managers:_i,budgets:k,targets:I,rawData:Hn,allReports:O,showToast:Gi,openConfirm:Xt,fmtMoney:qr,fmtNum:Ir,inputDate:Ja,setInputDate:fa,storeList:wr?.storeList||[],setTargets:D,selectedYear:nr,selectedMonth:Ot,permissions:oe,storeAccounts:Z,managerAuth:H,currentUser:i,userRole:n,logActivity:Qe,handleUpdateStorePassword:Za,handleUpdateManagerPassword:ha,handleUpdateTherapistPassword:ni,navigateToStore:rn,activeView:d,appId:Cf,therapists:es,therapistReports:$t,therapistSchedules:he,therapistTargets:ie,trainerAuth:G,handleUpdateTrainerAuth:ma,auditExclusions:Ae,handleUpdateAuditExclusions:xr,currentBrand:q,setCurrentBrandId:U,getCollectionPath:$,getDocPath:z}),[t,l,wr,_i,k,I,Hn,O,Ja,nr,Ot,oe,Z,H,i,n,Qe,Za,ha,ni,rn,d,Cf,es,$t,he,ie,G,ma,Ae,xr,q,U,$,z]);return l?f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[f.jsx(Ts,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),f.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?f.jsx(br.Provider,{value:ao,children:f.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[f.jsx(nfe,{activeView:d,setActiveView:h,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>rr(),permissions:oe,currentUser:i}),f.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[f.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:f.jsx(fde,{size:24})}),f.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[f.jsx("span",{className:"text-amber-600",children:""})," ",bc.find(xe=>xe.id===d)?.label||(d==="targets"?"":"DRCYJ System")]}),f.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[f.jsx(Iv,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),f.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[f.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[f.jsx(CA,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),f.jsx("input",{type:"text",placeholder:"...",value:A,onChange:xe=>j(xe.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),A&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:io.filter(xe=>xe.includes(A)).length>0?io.filter(xe=>xe.includes(A)).map(xe=>f.jsxs("button",{onClick:()=>{rn(xe),j("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[f.jsx(Bi,{size:16,className:"text-stone-400"})," ",xe]},xe)):f.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[f.jsx(_z,{size:16,className:"text-stone-400 hidden sm:block"}),f.jsx("select",{value:nr,onChange:xe=>Dt(xe.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(xe=>f.jsx("option",{value:xe,children:xe},xe))}),f.jsx("select",{value:Ot,onChange:xe=>$r(xe.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(xe,je)=>je+1).map(xe=>f.jsxs("option",{value:xe,children:[xe,""]},xe))})]})]})]}),f.jsx(rfe,{activeView:d,setActiveView:h,permissions:oe,userRole:n,onLogout:()=>rr()}),f.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[d==="dashboard"&&f.jsx(sfe,{}),d==="regional"&&f.jsx(pfe,{}),d==="ranking"&&f.jsx(gfe,{}),d==="audit"&&f.jsx(xfe,{}),d==="history"&&f.jsx(mfe,{}),d==="input"&&f.jsx(hfe,{}),d==="logs"&&f.jsx(yfe,{}),d==="settings"&&f.jsx(bfe,{}),d==="annual"&&f.jsx(Sfe,{}),d==="store-analysis"&&f.jsx(vfe,{}),d==="targets"&&f.jsx(Efe,{}),d==="t-targets"&&f.jsx(Afe,{}),d==="t-schedule"&&f.jsx(Tfe,{})]})]}),b&&f.jsx(efe,{message:b.message,type:b.type,onClose:()=>_(null)}),f.jsx(tfe,{isOpen:S.isOpen,title:S.title,message:S.message,onConfirm:S.onConfirm,onCancel:Br}),Ve&&f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[f.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[f.jsx(Due,{size:40,className:"animate-pulse"})," "]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),f.jsxs("p",{className:"text-stone-500 font-medium",children:["",f.jsx("br",{})," ",f.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:Ge})," "]})]}),f.jsx("button",{onClick:xi,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):f.jsx(afe,{onLogin:wi,storeAccounts:Z,managers:ro,managerAuth:H,therapists:V,onUpdatePassword:Za,onUpdateManagerPassword:ha,onUpdateTherapistPassword:ni,trainerAuth:G,handleUpdateTrainerAuth:ma,currentBrandId:L,onSwitchBrand:U})}x9.createRoot(document.getElementById("root")).render(f.jsx(w.StrictMode,{children:f.jsx(Nfe,{})}));
